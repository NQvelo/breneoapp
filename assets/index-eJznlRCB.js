var JP=e=>{throw TypeError(e)};var kw=(e,t,r)=>t.has(e)||JP("Cannot "+r);var ee=(e,t,r)=>(kw(e,t,"read from private field"),r?r.call(e):t.get(e)),gt=(e,t,r)=>t.has(e)?JP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),et=(e,t,r,n)=>(kw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Pt=(e,t,r)=>(kw(e,t,"access private method"),r);var Eg=(e,t,r,n)=>({set _(a){et(e,t,a,r)},get _(){return ee(e,t,n)}});function xK(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bK(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var p5={exports:{}},gx={},m5={exports:{}},It={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm=Symbol.for("react.element"),wK=Symbol.for("react.portal"),_K=Symbol.for("react.fragment"),SK=Symbol.for("react.strict_mode"),jK=Symbol.for("react.profiler"),kK=Symbol.for("react.provider"),EK=Symbol.for("react.context"),NK=Symbol.for("react.forward_ref"),CK=Symbol.for("react.suspense"),PK=Symbol.for("react.memo"),AK=Symbol.for("react.lazy"),YP=Symbol.iterator;function TK(e){return e===null||typeof e!="object"?null:(e=YP&&e[YP]||e["@@iterator"],typeof e=="function"?e:null)}var g5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v5=Object.assign,y5={};function pf(e,t,r){this.props=e,this.context=t,this.refs=y5,this.updater=r||g5}pf.prototype.isReactComponent={};pf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function x5(){}x5.prototype=pf.prototype;function XE(e,t,r){this.props=e,this.context=t,this.refs=y5,this.updater=r||g5}var QE=XE.prototype=new x5;QE.constructor=XE;v5(QE,pf.prototype);QE.isPureReactComponent=!0;var XP=Array.isArray,b5=Object.prototype.hasOwnProperty,ZE={current:null},w5={key:!0,ref:!0,__self:!0,__source:!0};function _5(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)b5.call(t,n)&&!w5.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Wm,type:e,key:s,ref:i,props:a,_owner:ZE.current}}function OK(e,t){return{$$typeof:Wm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function e2(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wm}function $K(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var QP=/\/+/g;function Ew(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$K(""+e.key):t.toString(36)}function Bv(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Wm:case wK:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Ew(i,0):n,XP(a)?(r="",e!=null&&(r=e.replace(QP,"$&/")+"/"),Bv(a,t,r,"",function(u){return u})):a!=null&&(e2(a)&&(a=OK(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(QP,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",XP(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Ew(s,l);i+=Bv(s,t,r,c,a)}else if(c=TK(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Ew(s,l++),i+=Bv(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ng(e,t,r){if(e==null)return e;var n=[],a=0;return Bv(e,n,"","",function(s){return t.call(r,s,a++)}),n}function RK(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sa={current:null},Uv={transition:null},IK={ReactCurrentDispatcher:sa,ReactCurrentBatchConfig:Uv,ReactCurrentOwner:ZE};function S5(){throw Error("act(...) is not supported in production builds of React.")}It.Children={map:Ng,forEach:function(e,t,r){Ng(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ng(e,function(){t++}),t},toArray:function(e){return Ng(e,function(t){return t})||[]},only:function(e){if(!e2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};It.Component=pf;It.Fragment=_K;It.Profiler=jK;It.PureComponent=XE;It.StrictMode=SK;It.Suspense=CK;It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IK;It.act=S5;It.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=v5({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=ZE.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)b5.call(t,c)&&!w5.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Wm,type:e.type,key:a,ref:s,props:n,_owner:i}};It.createContext=function(e){return e={$$typeof:EK,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kK,_context:e},e.Consumer=e};It.createElement=_5;It.createFactory=function(e){var t=_5.bind(null,e);return t.type=e,t};It.createRef=function(){return{current:null}};It.forwardRef=function(e){return{$$typeof:NK,render:e}};It.isValidElement=e2;It.lazy=function(e){return{$$typeof:AK,_payload:{_status:-1,_result:e},_init:RK}};It.memo=function(e,t){return{$$typeof:PK,type:e,compare:t===void 0?null:t}};It.startTransition=function(e){var t=Uv.transition;Uv.transition={};try{e()}finally{Uv.transition=t}};It.unstable_act=S5;It.useCallback=function(e,t){return sa.current.useCallback(e,t)};It.useContext=function(e){return sa.current.useContext(e)};It.useDebugValue=function(){};It.useDeferredValue=function(e){return sa.current.useDeferredValue(e)};It.useEffect=function(e,t){return sa.current.useEffect(e,t)};It.useId=function(){return sa.current.useId()};It.useImperativeHandle=function(e,t,r){return sa.current.useImperativeHandle(e,t,r)};It.useInsertionEffect=function(e,t){return sa.current.useInsertionEffect(e,t)};It.useLayoutEffect=function(e,t){return sa.current.useLayoutEffect(e,t)};It.useMemo=function(e,t){return sa.current.useMemo(e,t)};It.useReducer=function(e,t,r){return sa.current.useReducer(e,t,r)};It.useRef=function(e){return sa.current.useRef(e)};It.useState=function(e){return sa.current.useState(e)};It.useSyncExternalStore=function(e,t,r){return sa.current.useSyncExternalStore(e,t,r)};It.useTransition=function(){return sa.current.useTransition()};It.version="18.3.1";m5.exports=It;var p=m5.exports;const R=sr(p),mf=xK({__proto__:null,default:R},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MK=p,LK=Symbol.for("react.element"),DK=Symbol.for("react.fragment"),FK=Object.prototype.hasOwnProperty,BK=MK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UK={key:!0,ref:!0,__self:!0,__source:!0};function j5(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)FK.call(t,n)&&!UK.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:LK,type:e,key:s,ref:i,props:a,_owner:BK.current}}gx.Fragment=DK;gx.jsx=j5;gx.jsxs=j5;p5.exports=gx;var o=p5.exports,L_={},k5={exports:{}},qa={},E5={exports:{}},N5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,L){var Q=O.length;O.push(L);e:for(;0<Q;){var T=Q-1>>>1,D=O[T];if(0<a(D,L))O[T]=L,O[Q]=D,Q=T;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var L=O[0],Q=O.pop();if(Q!==L){O[0]=Q;e:for(var T=0,D=O.length,Y=D>>>1;T<Y;){var q=2*(T+1)-1,ie=O[q],le=q+1,K=O[le];if(0>a(ie,Q))le<D&&0>a(K,ie)?(O[T]=K,O[le]=Q,T=le):(O[T]=ie,O[q]=Q,T=q);else if(le<D&&0>a(K,Q))O[T]=K,O[le]=Q,T=le;else break e}}return L}function a(O,L){var Q=O.sortIndex-L.sortIndex;return Q!==0?Q:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,v=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=O)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function _(O){if(m=!1,b(O),!v)if(r(c)!==null)v=!0,$(S);else{var L=r(u);L!==null&&F(_,L.startTime-O)}}function S(O,L){v=!1,m&&(m=!1,x(k),k=-1),g=!0;var Q=h;try{for(b(L),f=r(c);f!==null&&(!(f.expirationTime>L)||O&&!A());){var T=f.callback;if(typeof T=="function"){f.callback=null,h=f.priorityLevel;var D=T(f.expirationTime<=L);L=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&n(c),b(L)}else n(c);f=r(c)}if(f!==null)var Y=!0;else{var q=r(u);q!==null&&F(_,q.startTime-L),Y=!1}return Y}finally{f=null,h=Q,g=!1}}var E=!1,j=null,k=-1,N=5,C=-1;function A(){return!(e.unstable_now()-C<N)}function I(){if(j!==null){var O=e.unstable_now();C=O;var L=!0;try{L=j(!0,O)}finally{L?B():(E=!1,j=null)}}else E=!1}var B;if(typeof w=="function")B=function(){w(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,M=z.port2;z.port1.onmessage=I,B=function(){M.postMessage(null)}}else B=function(){y(I,0)};function $(O){j=O,E||(E=!0,B())}function F(O,L){k=y(function(){O(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,$(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var Q=h;h=L;try{return O()}finally{h=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Q=h;h=O;try{return L()}finally{h=Q}},e.unstable_scheduleCallback=function(O,L,Q){var T=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?T+Q:T):Q=T,O){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Q+D,O={id:d++,callback:L,priorityLevel:O,startTime:Q,expirationTime:D,sortIndex:-1},Q>T?(O.sortIndex=Q,t(u,O),r(c)===null&&O===r(u)&&(m?(x(k),k=-1):m=!0,F(_,Q-T))):(O.sortIndex=D,t(c,O),v||g||(v=!0,$(S))),O},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(O){var L=h;return function(){var Q=h;h=L;try{return O.apply(this,arguments)}finally{h=Q}}}})(N5);E5.exports=N5;var zK=E5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qK=p,Ua=zK;function Oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C5=new Set,_p={};function Hc(e,t){kd(e,t),kd(e+"Capture",t)}function kd(e,t){for(_p[e]=t,e=0;e<t.length;e++)C5.add(t[e])}var to=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),D_=Object.prototype.hasOwnProperty,WK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZP={},eA={};function HK(e){return D_.call(eA,e)?!0:D_.call(ZP,e)?!1:WK.test(e)?eA[e]=!0:(ZP[e]=!0,!1)}function VK(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KK(e,t,r,n){if(t===null||typeof t>"u"||VK(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ia(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pn[e]=new ia(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pn[t]=new ia(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pn[e]=new ia(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pn[e]=new ia(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pn[e]=new ia(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pn[e]=new ia(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pn[e]=new ia(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pn[e]=new ia(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pn[e]=new ia(e,5,!1,e.toLowerCase(),null,!1,!1)});var t2=/[\-:]([a-z])/g;function r2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(t2,r2);Pn[t]=new ia(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(t2,r2);Pn[t]=new ia(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(t2,r2);Pn[t]=new ia(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pn[e]=new ia(e,1,!1,e.toLowerCase(),null,!1,!1)});Pn.xlinkHref=new ia("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pn[e]=new ia(e,1,!1,e.toLowerCase(),null,!0,!0)});function n2(e,t,r,n){var a=Pn.hasOwnProperty(t)?Pn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(KK(t,r,a,n)&&(r=null),n||a===null?HK(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var fo=qK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cg=Symbol.for("react.element"),Nu=Symbol.for("react.portal"),Cu=Symbol.for("react.fragment"),a2=Symbol.for("react.strict_mode"),F_=Symbol.for("react.profiler"),P5=Symbol.for("react.provider"),A5=Symbol.for("react.context"),s2=Symbol.for("react.forward_ref"),B_=Symbol.for("react.suspense"),U_=Symbol.for("react.suspense_list"),i2=Symbol.for("react.memo"),Io=Symbol.for("react.lazy"),T5=Symbol.for("react.offscreen"),tA=Symbol.iterator;function Yf(e){return e===null||typeof e!="object"?null:(e=tA&&e[tA]||e["@@iterator"],typeof e=="function"?e:null)}var Or=Object.assign,Nw;function Rh(e){if(Nw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Nw=t&&t[1]||""}return`
`+Nw+e}var Cw=!1;function Pw(e,t){if(!e||Cw)return"";Cw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Cw=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rh(e):""}function GK(e){switch(e.tag){case 5:return Rh(e.type);case 16:return Rh("Lazy");case 13:return Rh("Suspense");case 19:return Rh("SuspenseList");case 0:case 2:case 15:return e=Pw(e.type,!1),e;case 11:return e=Pw(e.type.render,!1),e;case 1:return e=Pw(e.type,!0),e;default:return""}}function z_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cu:return"Fragment";case Nu:return"Portal";case F_:return"Profiler";case a2:return"StrictMode";case B_:return"Suspense";case U_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case A5:return(e.displayName||"Context")+".Consumer";case P5:return(e._context.displayName||"Context")+".Provider";case s2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case i2:return t=e.displayName||null,t!==null?t:z_(e.type)||"Memo";case Io:t=e._payload,e=e._init;try{return z_(e(t))}catch{}}return null}function JK(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z_(t);case 8:return t===a2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function O5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YK(e){var t=O5(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pg(e){e._valueTracker||(e._valueTracker=YK(e))}function $5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=O5(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function oy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function q_(e,t){var r=t.checked;return Or({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=xl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function R5(e,t){t=t.checked,t!=null&&n2(e,"checked",t,!1)}function W_(e,t){R5(e,t);var r=xl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?H_(e,t.type,r):t.hasOwnProperty("defaultValue")&&H_(e,t.type,xl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function H_(e,t,r){(t!=="number"||oy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ih=Array.isArray;function Wu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+xl(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function V_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Or({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function aA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Oe(92));if(Ih(r)){if(1<r.length)throw Error(Oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:xl(r)}}function I5(e,t){var r=xl(t.value),n=xl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function sA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function M5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?M5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ag,L5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ag=Ag||document.createElement("div"),Ag.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ag.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XK=["Webkit","ms","Moz","O"];Object.keys(Xh).forEach(function(e){XK.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xh[t]=Xh[e]})});function D5(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xh.hasOwnProperty(e)&&Xh[e]?(""+t).trim():t+"px"}function F5(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=D5(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var QK=Or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function G_(e,t){if(t){if(QK[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Oe(62))}}function J_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y_=null;function o2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var X_=null,Hu=null,Vu=null;function iA(e){if(e=Km(e)){if(typeof X_!="function")throw Error(Oe(280));var t=e.stateNode;t&&(t=wx(t),X_(e.stateNode,e.type,t))}}function B5(e){Hu?Vu?Vu.push(e):Vu=[e]:Hu=e}function U5(){if(Hu){var e=Hu,t=Vu;if(Vu=Hu=null,iA(e),t)for(e=0;e<t.length;e++)iA(t[e])}}function z5(e,t){return e(t)}function q5(){}var Aw=!1;function W5(e,t,r){if(Aw)return e(t,r);Aw=!0;try{return z5(e,t,r)}finally{Aw=!1,(Hu!==null||Vu!==null)&&(q5(),U5())}}function jp(e,t){var r=e.stateNode;if(r===null)return null;var n=wx(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Oe(231,t,typeof r));return r}var Q_=!1;if(to)try{var Xf={};Object.defineProperty(Xf,"passive",{get:function(){Q_=!0}}),window.addEventListener("test",Xf,Xf),window.removeEventListener("test",Xf,Xf)}catch{Q_=!1}function ZK(e,t,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Qh=!1,ly=null,cy=!1,Z_=null,eG={onError:function(e){Qh=!0,ly=e}};function tG(e,t,r,n,a,s,i,l,c){Qh=!1,ly=null,ZK.apply(eG,arguments)}function rG(e,t,r,n,a,s,i,l,c){if(tG.apply(this,arguments),Qh){if(Qh){var u=ly;Qh=!1,ly=null}else throw Error(Oe(198));cy||(cy=!0,Z_=u)}}function Vc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function H5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oA(e){if(Vc(e)!==e)throw Error(Oe(188))}function nG(e){var t=e.alternate;if(!t){if(t=Vc(e),t===null)throw Error(Oe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return oA(a),e;if(s===n)return oA(a),t;s=s.sibling}throw Error(Oe(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(Oe(189))}}if(r.alternate!==n)throw Error(Oe(190))}if(r.tag!==3)throw Error(Oe(188));return r.stateNode.current===r?e:t}function V5(e){return e=nG(e),e!==null?K5(e):null}function K5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=K5(e);if(t!==null)return t;e=e.sibling}return null}var G5=Ua.unstable_scheduleCallback,lA=Ua.unstable_cancelCallback,aG=Ua.unstable_shouldYield,sG=Ua.unstable_requestPaint,Fr=Ua.unstable_now,iG=Ua.unstable_getCurrentPriorityLevel,l2=Ua.unstable_ImmediatePriority,J5=Ua.unstable_UserBlockingPriority,uy=Ua.unstable_NormalPriority,oG=Ua.unstable_LowPriority,Y5=Ua.unstable_IdlePriority,vx=null,mi=null;function lG(e){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(vx,e,void 0,(e.current.flags&128)===128)}catch{}}var Ms=Math.clz32?Math.clz32:dG,cG=Math.log,uG=Math.LN2;function dG(e){return e>>>=0,e===0?32:31-(cG(e)/uG|0)|0}var Tg=64,Og=4194304;function Mh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=Mh(l):(s&=i,s!==0&&(n=Mh(s)))}else i=r&~a,i!==0?n=Mh(i):s!==0&&(n=Mh(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ms(t),a=1<<r,n|=e[r],t&=~a;return n}function fG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hG(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Ms(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=fG(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function eS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function X5(){var e=Tg;return Tg<<=1,!(Tg&4194240)&&(Tg=64),e}function Tw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ms(t),e[t]=r}function pG(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ms(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function c2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ms(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var tr=0;function Q5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Z5,u2,eL,tL,rL,tS=!1,$g=[],nl=null,al=null,sl=null,kp=new Map,Ep=new Map,Fo=[],mG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cA(e,t){switch(e){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":al=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":kp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ep.delete(t.pointerId)}}function Qf(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Km(t),t!==null&&u2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function gG(e,t,r,n,a){switch(t){case"focusin":return nl=Qf(nl,e,t,r,n,a),!0;case"dragenter":return al=Qf(al,e,t,r,n,a),!0;case"mouseover":return sl=Qf(sl,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return kp.set(s,Qf(kp.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Ep.set(s,Qf(Ep.get(s)||null,e,t,r,n,a)),!0}return!1}function nL(e){var t=rc(e.target);if(t!==null){var r=Vc(t);if(r!==null){if(t=r.tag,t===13){if(t=H5(r),t!==null){e.blockedOn=t,rL(e.priority,function(){eL(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Y_=n,r.target.dispatchEvent(n),Y_=null}else return t=Km(r),t!==null&&u2(t),e.blockedOn=r,!1;t.shift()}return!0}function uA(e,t,r){zv(e)&&r.delete(t)}function vG(){tS=!1,nl!==null&&zv(nl)&&(nl=null),al!==null&&zv(al)&&(al=null),sl!==null&&zv(sl)&&(sl=null),kp.forEach(uA),Ep.forEach(uA)}function Zf(e,t){e.blockedOn===t&&(e.blockedOn=null,tS||(tS=!0,Ua.unstable_scheduleCallback(Ua.unstable_NormalPriority,vG)))}function Np(e){function t(a){return Zf(a,e)}if(0<$g.length){Zf($g[0],e);for(var r=1;r<$g.length;r++){var n=$g[r];n.blockedOn===e&&(n.blockedOn=null)}}for(nl!==null&&Zf(nl,e),al!==null&&Zf(al,e),sl!==null&&Zf(sl,e),kp.forEach(t),Ep.forEach(t),r=0;r<Fo.length;r++)n=Fo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Fo.length&&(r=Fo[0],r.blockedOn===null);)nL(r),r.blockedOn===null&&Fo.shift()}var Ku=fo.ReactCurrentBatchConfig,fy=!0;function yG(e,t,r,n){var a=tr,s=Ku.transition;Ku.transition=null;try{tr=1,d2(e,t,r,n)}finally{tr=a,Ku.transition=s}}function xG(e,t,r,n){var a=tr,s=Ku.transition;Ku.transition=null;try{tr=4,d2(e,t,r,n)}finally{tr=a,Ku.transition=s}}function d2(e,t,r,n){if(fy){var a=rS(e,t,r,n);if(a===null)Uw(e,t,n,hy,r),cA(e,n);else if(gG(a,e,t,r,n))n.stopPropagation();else if(cA(e,n),t&4&&-1<mG.indexOf(e)){for(;a!==null;){var s=Km(a);if(s!==null&&Z5(s),s=rS(e,t,r,n),s===null&&Uw(e,t,n,hy,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Uw(e,t,n,null,r)}}var hy=null;function rS(e,t,r,n){if(hy=null,e=o2(n),e=rc(e),e!==null)if(t=Vc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=H5(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hy=e,null}function aL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iG()){case l2:return 1;case J5:return 4;case uy:case oG:return 16;case Y5:return 536870912;default:return 16}default:return 16}}var Qo=null,f2=null,qv=null;function sL(){if(qv)return qv;var e,t=f2,r=t.length,n,a="value"in Qo?Qo.value:Qo.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return qv=a.slice(e,1<n?1-n:void 0)}function Wv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rg(){return!0}function dA(){return!1}function Wa(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rg:dA,this.isPropagationStopped=dA,this}return Or(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rg)},persist:function(){},isPersistent:Rg}),t}var gf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h2=Wa(gf),Vm=Or({},gf,{view:0,detail:0}),bG=Wa(Vm),Ow,$w,eh,yx=Or({},Vm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==eh&&(eh&&e.type==="mousemove"?(Ow=e.screenX-eh.screenX,$w=e.screenY-eh.screenY):$w=Ow=0,eh=e),Ow)},movementY:function(e){return"movementY"in e?e.movementY:$w}}),fA=Wa(yx),wG=Or({},yx,{dataTransfer:0}),_G=Wa(wG),SG=Or({},Vm,{relatedTarget:0}),Rw=Wa(SG),jG=Or({},gf,{animationName:0,elapsedTime:0,pseudoElement:0}),kG=Wa(jG),EG=Or({},gf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NG=Wa(EG),CG=Or({},gf,{data:0}),hA=Wa(CG),PG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OG(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TG[e])?!!t[e]:!1}function p2(){return OG}var $G=Or({},Vm,{key:function(e){if(e.key){var t=PG[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?AG[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p2,charCode:function(e){return e.type==="keypress"?Wv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RG=Wa($G),IG=Or({},yx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pA=Wa(IG),MG=Or({},Vm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p2}),LG=Wa(MG),DG=Or({},gf,{propertyName:0,elapsedTime:0,pseudoElement:0}),FG=Wa(DG),BG=Or({},yx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UG=Wa(BG),zG=[9,13,27,32],m2=to&&"CompositionEvent"in window,Zh=null;to&&"documentMode"in document&&(Zh=document.documentMode);var qG=to&&"TextEvent"in window&&!Zh,iL=to&&(!m2||Zh&&8<Zh&&11>=Zh),mA=" ",gA=!1;function oL(e,t){switch(e){case"keyup":return zG.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lL(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pu=!1;function WG(e,t){switch(e){case"compositionend":return lL(t);case"keypress":return t.which!==32?null:(gA=!0,mA);case"textInput":return e=t.data,e===mA&&gA?null:e;default:return null}}function HG(e,t){if(Pu)return e==="compositionend"||!m2&&oL(e,t)?(e=sL(),qv=f2=Qo=null,Pu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iL&&t.locale!=="ko"?null:t.data;default:return null}}var VG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VG[e.type]:t==="textarea"}function cL(e,t,r,n){B5(n),t=py(t,"onChange"),0<t.length&&(r=new h2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ep=null,Cp=null;function KG(e){bL(e,0)}function xx(e){var t=Ou(e);if($5(t))return e}function GG(e,t){if(e==="change")return t}var uL=!1;if(to){var Iw;if(to){var Mw="oninput"in document;if(!Mw){var yA=document.createElement("div");yA.setAttribute("oninput","return;"),Mw=typeof yA.oninput=="function"}Iw=Mw}else Iw=!1;uL=Iw&&(!document.documentMode||9<document.documentMode)}function xA(){ep&&(ep.detachEvent("onpropertychange",dL),Cp=ep=null)}function dL(e){if(e.propertyName==="value"&&xx(Cp)){var t=[];cL(t,Cp,e,o2(e)),W5(KG,t)}}function JG(e,t,r){e==="focusin"?(xA(),ep=t,Cp=r,ep.attachEvent("onpropertychange",dL)):e==="focusout"&&xA()}function YG(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xx(Cp)}function XG(e,t){if(e==="click")return xx(t)}function QG(e,t){if(e==="input"||e==="change")return xx(t)}function ZG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Us=typeof Object.is=="function"?Object.is:ZG;function Pp(e,t){if(Us(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!D_.call(t,a)||!Us(e[a],t[a]))return!1}return!0}function bA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wA(e,t){var r=bA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bA(r)}}function fL(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fL(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hL(){for(var e=window,t=oy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=oy(e.document)}return t}function g2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eJ(e){var t=hL(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fL(r.ownerDocument.documentElement,r)){if(n!==null&&g2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=wA(r,s);var i=wA(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tJ=to&&"documentMode"in document&&11>=document.documentMode,Au=null,nS=null,tp=null,aS=!1;function _A(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;aS||Au==null||Au!==oy(n)||(n=Au,"selectionStart"in n&&g2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),tp&&Pp(tp,n)||(tp=n,n=py(nS,"onSelect"),0<n.length&&(t=new h2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Au)))}function Ig(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Tu={animationend:Ig("Animation","AnimationEnd"),animationiteration:Ig("Animation","AnimationIteration"),animationstart:Ig("Animation","AnimationStart"),transitionend:Ig("Transition","TransitionEnd")},Lw={},pL={};to&&(pL=document.createElement("div").style,"AnimationEvent"in window||(delete Tu.animationend.animation,delete Tu.animationiteration.animation,delete Tu.animationstart.animation),"TransitionEvent"in window||delete Tu.transitionend.transition);function bx(e){if(Lw[e])return Lw[e];if(!Tu[e])return e;var t=Tu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pL)return Lw[e]=t[r];return e}var mL=bx("animationend"),gL=bx("animationiteration"),vL=bx("animationstart"),yL=bx("transitionend"),xL=new Map,SA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function El(e,t){xL.set(e,t),Hc(t,[e])}for(var Dw=0;Dw<SA.length;Dw++){var Fw=SA[Dw],rJ=Fw.toLowerCase(),nJ=Fw[0].toUpperCase()+Fw.slice(1);El(rJ,"on"+nJ)}El(mL,"onAnimationEnd");El(gL,"onAnimationIteration");El(vL,"onAnimationStart");El("dblclick","onDoubleClick");El("focusin","onFocus");El("focusout","onBlur");El(yL,"onTransitionEnd");kd("onMouseEnter",["mouseout","mouseover"]);kd("onMouseLeave",["mouseout","mouseover"]);kd("onPointerEnter",["pointerout","pointerover"]);kd("onPointerLeave",["pointerout","pointerover"]);Hc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lh));function jA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,rG(n,t,void 0,e),e.currentTarget=null}function bL(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;jA(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;jA(a,l,u),s=c}}}if(cy)throw e=Z_,cy=!1,Z_=null,e}function mr(e,t){var r=t[cS];r===void 0&&(r=t[cS]=new Set);var n=e+"__bubble";r.has(n)||(wL(t,e,2,!1),r.add(n))}function Bw(e,t,r){var n=0;t&&(n|=4),wL(r,e,n,t)}var Mg="_reactListening"+Math.random().toString(36).slice(2);function Ap(e){if(!e[Mg]){e[Mg]=!0,C5.forEach(function(r){r!=="selectionchange"&&(aJ.has(r)||Bw(r,!1,e),Bw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mg]||(t[Mg]=!0,Bw("selectionchange",!1,t))}}function wL(e,t,r,n){switch(aL(t)){case 1:var a=yG;break;case 4:a=xG;break;default:a=d2}r=a.bind(null,t,r,e),a=void 0,!Q_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Uw(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=rc(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}W5(function(){var u=s,d=o2(r),f=[];e:{var h=xL.get(e);if(h!==void 0){var g=h2,v=e;switch(e){case"keypress":if(Wv(r)===0)break e;case"keydown":case"keyup":g=RG;break;case"focusin":v="focus",g=Rw;break;case"focusout":v="blur",g=Rw;break;case"beforeblur":case"afterblur":g=Rw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_G;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=LG;break;case mL:case gL:case vL:g=kG;break;case yL:g=FG;break;case"scroll":g=bG;break;case"wheel":g=UG;break;case"copy":case"cut":case"paste":g=NG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=pA}var m=(t&4)!==0,y=!m&&e==="scroll",x=m?h!==null?h+"Capture":null:h;m=[];for(var w=u,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,x!==null&&(_=jp(w,x),_!=null&&m.push(Tp(w,_,b)))),y)break;w=w.return}0<m.length&&(h=new g(h,v,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==Y_&&(v=r.relatedTarget||r.fromElement)&&(rc(v)||v[ro]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=u,v=v?rc(v):null,v!==null&&(y=Vc(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(m=fA,_="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=pA,_="onPointerLeave",x="onPointerEnter",w="pointer"),y=g==null?h:Ou(g),b=v==null?h:Ou(v),h=new m(_,w+"leave",g,r,d),h.target=y,h.relatedTarget=b,_=null,rc(d)===u&&(m=new m(x,w+"enter",v,r,d),m.target=b,m.relatedTarget=y,_=m),y=_,g&&v)t:{for(m=g,x=v,w=0,b=m;b;b=nu(b))w++;for(b=0,_=x;_;_=nu(_))b++;for(;0<w-b;)m=nu(m),w--;for(;0<b-w;)x=nu(x),b--;for(;w--;){if(m===x||x!==null&&m===x.alternate)break t;m=nu(m),x=nu(x)}m=null}else m=null;g!==null&&kA(f,h,g,m,!1),v!==null&&y!==null&&kA(f,y,v,m,!0)}}e:{if(h=u?Ou(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=GG;else if(vA(h))if(uL)S=QG;else{S=YG;var E=JG}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=XG);if(S&&(S=S(e,u))){cL(f,S,r,d);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&H_(h,"number",h.value)}switch(E=u?Ou(u):window,e){case"focusin":(vA(E)||E.contentEditable==="true")&&(Au=E,nS=u,tp=null);break;case"focusout":tp=nS=Au=null;break;case"mousedown":aS=!0;break;case"contextmenu":case"mouseup":case"dragend":aS=!1,_A(f,r,d);break;case"selectionchange":if(tJ)break;case"keydown":case"keyup":_A(f,r,d)}var j;if(m2)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Pu?oL(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(iL&&r.locale!=="ko"&&(Pu||k!=="onCompositionStart"?k==="onCompositionEnd"&&Pu&&(j=sL()):(Qo=d,f2="value"in Qo?Qo.value:Qo.textContent,Pu=!0)),E=py(u,k),0<E.length&&(k=new hA(k,e,null,r,d),f.push({event:k,listeners:E}),j?k.data=j:(j=lL(r),j!==null&&(k.data=j)))),(j=qG?WG(e,r):HG(e,r))&&(u=py(u,"onBeforeInput"),0<u.length&&(d=new hA("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}bL(f,t)})}function Tp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function py(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=jp(e,r),s!=null&&n.unshift(Tp(e,s,a)),s=jp(e,t),s!=null&&n.push(Tp(e,s,a))),e=e.return}return n}function nu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kA(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=jp(r,s),c!=null&&i.unshift(Tp(r,c,l))):a||(c=jp(r,s),c!=null&&i.push(Tp(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var sJ=/\r\n?/g,iJ=/\u0000|\uFFFD/g;function EA(e){return(typeof e=="string"?e:""+e).replace(sJ,`
`).replace(iJ,"")}function Lg(e,t,r){if(t=EA(t),EA(e)!==t&&r)throw Error(Oe(425))}function my(){}var sS=null,iS=null;function oS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lS=typeof setTimeout=="function"?setTimeout:void 0,oJ=typeof clearTimeout=="function"?clearTimeout:void 0,NA=typeof Promise=="function"?Promise:void 0,lJ=typeof queueMicrotask=="function"?queueMicrotask:typeof NA<"u"?function(e){return NA.resolve(null).then(e).catch(cJ)}:lS;function cJ(e){setTimeout(function(){throw e})}function zw(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Np(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Np(t)}function il(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function CA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vf=Math.random().toString(36).slice(2),ci="__reactFiber$"+vf,Op="__reactProps$"+vf,ro="__reactContainer$"+vf,cS="__reactEvents$"+vf,uJ="__reactListeners$"+vf,dJ="__reactHandles$"+vf;function rc(e){var t=e[ci];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ro]||r[ci]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=CA(e);e!==null;){if(r=e[ci])return r;e=CA(e)}return t}e=r,r=e.parentNode}return null}function Km(e){return e=e[ci]||e[ro],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ou(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Oe(33))}function wx(e){return e[Op]||null}var uS=[],$u=-1;function Nl(e){return{current:e}}function xr(e){0>$u||(e.current=uS[$u],uS[$u]=null,$u--)}function fr(e,t){$u++,uS[$u]=e.current,e.current=t}var bl={},Vn=Nl(bl),wa=Nl(!1),Nc=bl;function Ed(e,t){var r=e.type.contextTypes;if(!r)return bl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function _a(e){return e=e.childContextTypes,e!=null}function gy(){xr(wa),xr(Vn)}function PA(e,t,r){if(Vn.current!==bl)throw Error(Oe(168));fr(Vn,t),fr(wa,r)}function _L(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Oe(108,JK(e)||"Unknown",a));return Or({},r,n)}function vy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bl,Nc=Vn.current,fr(Vn,e),fr(wa,wa.current),!0}function AA(e,t,r){var n=e.stateNode;if(!n)throw Error(Oe(169));r?(e=_L(e,t,Nc),n.__reactInternalMemoizedMergedChildContext=e,xr(wa),xr(Vn),fr(Vn,e)):xr(wa),fr(wa,r)}var Bi=null,_x=!1,qw=!1;function SL(e){Bi===null?Bi=[e]:Bi.push(e)}function fJ(e){_x=!0,SL(e)}function Cl(){if(!qw&&Bi!==null){qw=!0;var e=0,t=tr;try{var r=Bi;for(tr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Bi=null,_x=!1}catch(a){throw Bi!==null&&(Bi=Bi.slice(e+1)),G5(l2,Cl),a}finally{tr=t,qw=!1}}return null}var Ru=[],Iu=0,yy=null,xy=0,Za=[],es=0,Cc=null,Wi=1,Hi="";function Hl(e,t){Ru[Iu++]=xy,Ru[Iu++]=yy,yy=e,xy=t}function jL(e,t,r){Za[es++]=Wi,Za[es++]=Hi,Za[es++]=Cc,Cc=e;var n=Wi;e=Hi;var a=32-Ms(n)-1;n&=~(1<<a),r+=1;var s=32-Ms(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Wi=1<<32-Ms(t)+a|r<<a|n,Hi=s+e}else Wi=1<<s|r<<a|n,Hi=e}function v2(e){e.return!==null&&(Hl(e,1),jL(e,1,0))}function y2(e){for(;e===yy;)yy=Ru[--Iu],Ru[Iu]=null,xy=Ru[--Iu],Ru[Iu]=null;for(;e===Cc;)Cc=Za[--es],Za[es]=null,Hi=Za[--es],Za[es]=null,Wi=Za[--es],Za[es]=null}var Fa=null,La=null,Sr=!1,As=null;function kL(e,t){var r=ts(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function TA(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fa=e,La=il(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fa=e,La=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cc!==null?{id:Wi,overflow:Hi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ts(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fa=e,La=null,!0):!1;default:return!1}}function dS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fS(e){if(Sr){var t=La;if(t){var r=t;if(!TA(e,t)){if(dS(e))throw Error(Oe(418));t=il(r.nextSibling);var n=Fa;t&&TA(e,t)?kL(n,r):(e.flags=e.flags&-4097|2,Sr=!1,Fa=e)}}else{if(dS(e))throw Error(Oe(418));e.flags=e.flags&-4097|2,Sr=!1,Fa=e}}}function OA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fa=e}function Dg(e){if(e!==Fa)return!1;if(!Sr)return OA(e),Sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oS(e.type,e.memoizedProps)),t&&(t=La)){if(dS(e))throw EL(),Error(Oe(418));for(;t;)kL(e,t),t=il(t.nextSibling)}if(OA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){La=il(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}La=null}}else La=Fa?il(e.stateNode.nextSibling):null;return!0}function EL(){for(var e=La;e;)e=il(e.nextSibling)}function Nd(){La=Fa=null,Sr=!1}function x2(e){As===null?As=[e]:As.push(e)}var hJ=fo.ReactCurrentBatchConfig;function th(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Oe(309));var n=r.stateNode}if(!n)throw Error(Oe(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(Oe(284));if(!r._owner)throw Error(Oe(290,e))}return e}function Fg(e,t){throw e=Object.prototype.toString.call(t),Error(Oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $A(e){var t=e._init;return t(e._payload)}function NL(e){function t(x,w){if(e){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function r(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function a(x,w){return x=ul(x,w),x.index=0,x.sibling=null,x}function s(x,w,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,w,b,_){return w===null||w.tag!==6?(w=Yw(b,x.mode,_),w.return=x,w):(w=a(w,b),w.return=x,w)}function c(x,w,b,_){var S=b.type;return S===Cu?d(x,w,b.props.children,_,b.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Io&&$A(S)===w.type)?(_=a(w,b.props),_.ref=th(x,w,b),_.return=x,_):(_=Xv(b.type,b.key,b.props,null,x.mode,_),_.ref=th(x,w,b),_.return=x,_)}function u(x,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Xw(b,x.mode,_),w.return=x,w):(w=a(w,b.children||[]),w.return=x,w)}function d(x,w,b,_,S){return w===null||w.tag!==7?(w=yc(b,x.mode,_,S),w.return=x,w):(w=a(w,b),w.return=x,w)}function f(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Yw(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cg:return b=Xv(w.type,w.key,w.props,null,x.mode,b),b.ref=th(x,null,w),b.return=x,b;case Nu:return w=Xw(w,x.mode,b),w.return=x,w;case Io:var _=w._init;return f(x,_(w._payload),b)}if(Ih(w)||Yf(w))return w=yc(w,x.mode,b,null),w.return=x,w;Fg(x,w)}return null}function h(x,w,b,_){var S=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(x,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Cg:return b.key===S?c(x,w,b,_):null;case Nu:return b.key===S?u(x,w,b,_):null;case Io:return S=b._init,h(x,w,S(b._payload),_)}if(Ih(b)||Yf(b))return S!==null?null:d(x,w,b,_,null);Fg(x,b)}return null}function g(x,w,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(b)||null,l(w,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Cg:return x=x.get(_.key===null?b:_.key)||null,c(w,x,_,S);case Nu:return x=x.get(_.key===null?b:_.key)||null,u(w,x,_,S);case Io:var E=_._init;return g(x,w,b,E(_._payload),S)}if(Ih(_)||Yf(_))return x=x.get(b)||null,d(w,x,_,S,null);Fg(w,_)}return null}function v(x,w,b,_){for(var S=null,E=null,j=w,k=w=0,N=null;j!==null&&k<b.length;k++){j.index>k?(N=j,j=null):N=j.sibling;var C=h(x,j,b[k],_);if(C===null){j===null&&(j=N);break}e&&j&&C.alternate===null&&t(x,j),w=s(C,w,k),E===null?S=C:E.sibling=C,E=C,j=N}if(k===b.length)return r(x,j),Sr&&Hl(x,k),S;if(j===null){for(;k<b.length;k++)j=f(x,b[k],_),j!==null&&(w=s(j,w,k),E===null?S=j:E.sibling=j,E=j);return Sr&&Hl(x,k),S}for(j=n(x,j);k<b.length;k++)N=g(j,x,k,b[k],_),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?k:N.key),w=s(N,w,k),E===null?S=N:E.sibling=N,E=N);return e&&j.forEach(function(A){return t(x,A)}),Sr&&Hl(x,k),S}function m(x,w,b,_){var S=Yf(b);if(typeof S!="function")throw Error(Oe(150));if(b=S.call(b),b==null)throw Error(Oe(151));for(var E=S=null,j=w,k=w=0,N=null,C=b.next();j!==null&&!C.done;k++,C=b.next()){j.index>k?(N=j,j=null):N=j.sibling;var A=h(x,j,C.value,_);if(A===null){j===null&&(j=N);break}e&&j&&A.alternate===null&&t(x,j),w=s(A,w,k),E===null?S=A:E.sibling=A,E=A,j=N}if(C.done)return r(x,j),Sr&&Hl(x,k),S;if(j===null){for(;!C.done;k++,C=b.next())C=f(x,C.value,_),C!==null&&(w=s(C,w,k),E===null?S=C:E.sibling=C,E=C);return Sr&&Hl(x,k),S}for(j=n(x,j);!C.done;k++,C=b.next())C=g(j,x,k,C.value,_),C!==null&&(e&&C.alternate!==null&&j.delete(C.key===null?k:C.key),w=s(C,w,k),E===null?S=C:E.sibling=C,E=C);return e&&j.forEach(function(I){return t(x,I)}),Sr&&Hl(x,k),S}function y(x,w,b,_){if(typeof b=="object"&&b!==null&&b.type===Cu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Cg:e:{for(var S=b.key,E=w;E!==null;){if(E.key===S){if(S=b.type,S===Cu){if(E.tag===7){r(x,E.sibling),w=a(E,b.props.children),w.return=x,x=w;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Io&&$A(S)===E.type){r(x,E.sibling),w=a(E,b.props),w.ref=th(x,E,b),w.return=x,x=w;break e}r(x,E);break}else t(x,E);E=E.sibling}b.type===Cu?(w=yc(b.props.children,x.mode,_,b.key),w.return=x,x=w):(_=Xv(b.type,b.key,b.props,null,x.mode,_),_.ref=th(x,w,b),_.return=x,x=_)}return i(x);case Nu:e:{for(E=b.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(x,w.sibling),w=a(w,b.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else t(x,w);w=w.sibling}w=Xw(b,x.mode,_),w.return=x,x=w}return i(x);case Io:return E=b._init,y(x,w,E(b._payload),_)}if(Ih(b))return v(x,w,b,_);if(Yf(b))return m(x,w,b,_);Fg(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(x,w.sibling),w=a(w,b),w.return=x,x=w):(r(x,w),w=Yw(b,x.mode,_),w.return=x,x=w),i(x)):r(x,w)}return y}var Cd=NL(!0),CL=NL(!1),by=Nl(null),wy=null,Mu=null,b2=null;function w2(){b2=Mu=wy=null}function _2(e){var t=by.current;xr(by),e._currentValue=t}function hS(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Gu(e,t){wy=e,b2=Mu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(va=!0),e.firstContext=null)}function us(e){var t=e._currentValue;if(b2!==e)if(e={context:e,memoizedValue:t,next:null},Mu===null){if(wy===null)throw Error(Oe(308));Mu=e,wy.dependencies={lanes:0,firstContext:e}}else Mu=Mu.next=e;return t}var nc=null;function S2(e){nc===null?nc=[e]:nc.push(e)}function PL(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,S2(t)):(r.next=a.next,a.next=r),t.interleaved=r,no(e,n)}function no(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Mo=!1;function j2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AL(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ji(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ol(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Bt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,no(e,r)}return a=n.interleaved,a===null?(t.next=t,S2(n)):(t.next=a.next,a.next=t),n.interleaved=t,no(e,r)}function Hv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,c2(e,r)}}function RA(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _y(e,t,r,n){var a=e.updateQueue;Mo=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var h=l.lane,g=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,m=l;switch(h=t,g=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=Or({},f,h);break e;case 2:Mo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Ac|=i,e.lanes=i,e.memoizedState=f}}function IA(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Oe(191,a));a.call(n)}}}var Gm={},gi=Nl(Gm),$p=Nl(Gm),Rp=Nl(Gm);function ac(e){if(e===Gm)throw Error(Oe(174));return e}function k2(e,t){switch(fr(Rp,t),fr($p,e),fr(gi,Gm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:K_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=K_(t,e)}xr(gi),fr(gi,t)}function Pd(){xr(gi),xr($p),xr(Rp)}function TL(e){ac(Rp.current);var t=ac(gi.current),r=K_(t,e.type);t!==r&&(fr($p,e),fr(gi,r))}function E2(e){$p.current===e&&(xr(gi),xr($p))}var Cr=Nl(0);function Sy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ww=[];function N2(){for(var e=0;e<Ww.length;e++)Ww[e]._workInProgressVersionPrimary=null;Ww.length=0}var Vv=fo.ReactCurrentDispatcher,Hw=fo.ReactCurrentBatchConfig,Pc=0,Tr=null,tn=null,hn=null,jy=!1,rp=!1,Ip=0,pJ=0;function Tn(){throw Error(Oe(321))}function C2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Us(e[r],t[r]))return!1;return!0}function P2(e,t,r,n,a,s){if(Pc=s,Tr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vv.current=e===null||e.memoizedState===null?yJ:xJ,e=r(n,a),rp){s=0;do{if(rp=!1,Ip=0,25<=s)throw Error(Oe(301));s+=1,hn=tn=null,t.updateQueue=null,Vv.current=bJ,e=r(n,a)}while(rp)}if(Vv.current=ky,t=tn!==null&&tn.next!==null,Pc=0,hn=tn=Tr=null,jy=!1,t)throw Error(Oe(300));return e}function A2(){var e=Ip!==0;return Ip=0,e}function ri(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Tr.memoizedState=hn=e:hn=hn.next=e,hn}function ds(){if(tn===null){var e=Tr.alternate;e=e!==null?e.memoizedState:null}else e=tn.next;var t=hn===null?Tr.memoizedState:hn.next;if(t!==null)hn=t,tn=e;else{if(e===null)throw Error(Oe(310));tn=e,e={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},hn===null?Tr.memoizedState=hn=e:hn=hn.next=e}return hn}function Mp(e,t){return typeof t=="function"?t(e):t}function Vw(e){var t=ds(),r=t.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=e;var n=tn,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((Pc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Tr.lanes|=d,Ac|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,Us(n,t.memoizedState)||(va=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Tr.lanes|=s,Ac|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Kw(e){var t=ds(),r=t.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);Us(s,t.memoizedState)||(va=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function OL(){}function $L(e,t){var r=Tr,n=ds(),a=t(),s=!Us(n.memoizedState,a);if(s&&(n.memoizedState=a,va=!0),n=n.queue,T2(ML.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||hn!==null&&hn.memoizedState.tag&1){if(r.flags|=2048,Lp(9,IL.bind(null,r,n,a,t),void 0,null),xn===null)throw Error(Oe(349));Pc&30||RL(r,t,a)}return a}function RL(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Tr.updateQueue,t===null?(t={lastEffect:null,stores:null},Tr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function IL(e,t,r,n){t.value=r,t.getSnapshot=n,LL(t)&&DL(e)}function ML(e,t,r){return r(function(){LL(t)&&DL(e)})}function LL(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Us(e,r)}catch{return!0}}function DL(e){var t=no(e,1);t!==null&&Ls(t,e,1,-1)}function MA(e){var t=ri();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mp,lastRenderedState:e},t.queue=e,e=e.dispatch=vJ.bind(null,Tr,e),[t.memoizedState,e]}function Lp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Tr.updateQueue,t===null?(t={lastEffect:null,stores:null},Tr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function FL(){return ds().memoizedState}function Kv(e,t,r,n){var a=ri();Tr.flags|=e,a.memoizedState=Lp(1|t,r,void 0,n===void 0?null:n)}function Sx(e,t,r,n){var a=ds();n=n===void 0?null:n;var s=void 0;if(tn!==null){var i=tn.memoizedState;if(s=i.destroy,n!==null&&C2(n,i.deps)){a.memoizedState=Lp(t,r,s,n);return}}Tr.flags|=e,a.memoizedState=Lp(1|t,r,s,n)}function LA(e,t){return Kv(8390656,8,e,t)}function T2(e,t){return Sx(2048,8,e,t)}function BL(e,t){return Sx(4,2,e,t)}function UL(e,t){return Sx(4,4,e,t)}function zL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qL(e,t,r){return r=r!=null?r.concat([e]):null,Sx(4,4,zL.bind(null,t,e),r)}function O2(){}function WL(e,t){var r=ds();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&C2(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function HL(e,t){var r=ds();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&C2(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function VL(e,t,r){return Pc&21?(Us(r,t)||(r=X5(),Tr.lanes|=r,Ac|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,va=!0),e.memoizedState=r)}function mJ(e,t){var r=tr;tr=r!==0&&4>r?r:4,e(!0);var n=Hw.transition;Hw.transition={};try{e(!1),t()}finally{tr=r,Hw.transition=n}}function KL(){return ds().memoizedState}function gJ(e,t,r){var n=cl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},GL(e))JL(t,r);else if(r=PL(e,t,r,n),r!==null){var a=na();Ls(r,e,n,a),YL(r,t,n)}}function vJ(e,t,r){var n=cl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(GL(e))JL(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,Us(l,i)){var c=t.interleaved;c===null?(a.next=a,S2(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=PL(e,t,a,n),r!==null&&(a=na(),Ls(r,e,n,a),YL(r,t,n))}}function GL(e){var t=e.alternate;return e===Tr||t!==null&&t===Tr}function JL(e,t){rp=jy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function YL(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,c2(e,r)}}var ky={readContext:us,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},yJ={readContext:us,useCallback:function(e,t){return ri().memoizedState=[e,t===void 0?null:t],e},useContext:us,useEffect:LA,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Kv(4194308,4,zL.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Kv(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kv(4,2,e,t)},useMemo:function(e,t){var r=ri();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ri();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=gJ.bind(null,Tr,e),[n.memoizedState,e]},useRef:function(e){var t=ri();return e={current:e},t.memoizedState=e},useState:MA,useDebugValue:O2,useDeferredValue:function(e){return ri().memoizedState=e},useTransition:function(){var e=MA(!1),t=e[0];return e=mJ.bind(null,e[1]),ri().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Tr,a=ri();if(Sr){if(r===void 0)throw Error(Oe(407));r=r()}else{if(r=t(),xn===null)throw Error(Oe(349));Pc&30||RL(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,LA(ML.bind(null,n,s,e),[e]),n.flags|=2048,Lp(9,IL.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=ri(),t=xn.identifierPrefix;if(Sr){var r=Hi,n=Wi;r=(n&~(1<<32-Ms(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ip++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=pJ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xJ={readContext:us,useCallback:WL,useContext:us,useEffect:T2,useImperativeHandle:qL,useInsertionEffect:BL,useLayoutEffect:UL,useMemo:HL,useReducer:Vw,useRef:FL,useState:function(){return Vw(Mp)},useDebugValue:O2,useDeferredValue:function(e){var t=ds();return VL(t,tn.memoizedState,e)},useTransition:function(){var e=Vw(Mp)[0],t=ds().memoizedState;return[e,t]},useMutableSource:OL,useSyncExternalStore:$L,useId:KL,unstable_isNewReconciler:!1},bJ={readContext:us,useCallback:WL,useContext:us,useEffect:T2,useImperativeHandle:qL,useInsertionEffect:BL,useLayoutEffect:UL,useMemo:HL,useReducer:Kw,useRef:FL,useState:function(){return Kw(Mp)},useDebugValue:O2,useDeferredValue:function(e){var t=ds();return tn===null?t.memoizedState=e:VL(t,tn.memoizedState,e)},useTransition:function(){var e=Kw(Mp)[0],t=ds().memoizedState;return[e,t]},useMutableSource:OL,useSyncExternalStore:$L,useId:KL,unstable_isNewReconciler:!1};function ks(e,t){if(e&&e.defaultProps){t=Or({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function pS(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Or({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jx={isMounted:function(e){return(e=e._reactInternals)?Vc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=na(),a=cl(e),s=Ji(n,a);s.payload=t,r!=null&&(s.callback=r),t=ol(e,s,a),t!==null&&(Ls(t,e,a,n),Hv(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=na(),a=cl(e),s=Ji(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=ol(e,s,a),t!==null&&(Ls(t,e,a,n),Hv(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=na(),n=cl(e),a=Ji(r,n);a.tag=2,t!=null&&(a.callback=t),t=ol(e,a,n),t!==null&&(Ls(t,e,n,r),Hv(t,e,n))}};function DA(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!Pp(r,n)||!Pp(a,s):!0}function XL(e,t,r){var n=!1,a=bl,s=t.contextType;return typeof s=="object"&&s!==null?s=us(s):(a=_a(t)?Nc:Vn.current,n=t.contextTypes,s=(n=n!=null)?Ed(e,a):bl),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function FA(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&jx.enqueueReplaceState(t,t.state,null)}function mS(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},j2(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=us(s):(s=_a(t)?Nc:Vn.current,a.context=Ed(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(pS(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&jx.enqueueReplaceState(a,a.state,null),_y(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ad(e,t){try{var r="",n=t;do r+=GK(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Gw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function gS(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wJ=typeof WeakMap=="function"?WeakMap:Map;function QL(e,t,r){r=Ji(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ny||(Ny=!0,ES=n),gS(e,t)},r}function ZL(e,t,r){r=Ji(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){gS(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){gS(e,t),typeof n!="function"&&(ll===null?ll=new Set([this]):ll.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function BA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new wJ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=IJ.bind(null,e,t,r),t.then(e,e))}function UA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zA(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ji(-1,1),t.tag=2,ol(r,t,1))),r.lanes|=1),e)}var _J=fo.ReactCurrentOwner,va=!1;function ea(e,t,r,n){t.child=e===null?CL(t,null,r,n):Cd(t,e.child,r,n)}function qA(e,t,r,n,a){r=r.render;var s=t.ref;return Gu(t,a),n=P2(e,t,r,n,s,a),r=A2(),e!==null&&!va?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ao(e,t,a)):(Sr&&r&&v2(t),t.flags|=1,ea(e,t,n,a),t.child)}function WA(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!B2(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,eD(e,t,s,n,a)):(e=Xv(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Pp,r(i,n)&&e.ref===t.ref)return ao(e,t,a)}return t.flags|=1,e=ul(s,n),e.ref=t.ref,e.return=t,t.child=e}function eD(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Pp(s,n)&&e.ref===t.ref)if(va=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(va=!0);else return t.lanes=e.lanes,ao(e,t,a)}return vS(e,t,r,n,a)}function tD(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fr(Du,Oa),Oa|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fr(Du,Oa),Oa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,fr(Du,Oa),Oa|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,fr(Du,Oa),Oa|=n;return ea(e,t,a,r),t.child}function rD(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function vS(e,t,r,n,a){var s=_a(r)?Nc:Vn.current;return s=Ed(t,s),Gu(t,a),r=P2(e,t,r,n,s,a),n=A2(),e!==null&&!va?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ao(e,t,a)):(Sr&&n&&v2(t),t.flags|=1,ea(e,t,r,a),t.child)}function HA(e,t,r,n,a){if(_a(r)){var s=!0;vy(t)}else s=!1;if(Gu(t,a),t.stateNode===null)Gv(e,t),XL(t,r,n),mS(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=us(u):(u=_a(r)?Nc:Vn.current,u=Ed(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&FA(t,i,n,u),Mo=!1;var h=t.memoizedState;i.state=h,_y(t,n,i,a),c=t.memoizedState,l!==n||h!==c||wa.current||Mo?(typeof d=="function"&&(pS(t,r,d,n),c=t.memoizedState),(l=Mo||DA(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,AL(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ks(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=us(c):(c=_a(r)?Nc:Vn.current,c=Ed(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&FA(t,i,n,c),Mo=!1,h=t.memoizedState,i.state=h,_y(t,n,i,a);var v=t.memoizedState;l!==f||h!==v||wa.current||Mo?(typeof g=="function"&&(pS(t,r,g,n),v=t.memoizedState),(u=Mo||DA(t,r,u,n,h,v,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return yS(e,t,r,n,s,a)}function yS(e,t,r,n,a,s){rD(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&AA(t,r,!1),ao(e,t,s);n=t.stateNode,_J.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Cd(t,e.child,null,s),t.child=Cd(t,null,l,s)):ea(e,t,l,s),t.memoizedState=n.state,a&&AA(t,r,!0),t.child}function nD(e){var t=e.stateNode;t.pendingContext?PA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&PA(e,t.context,!1),k2(e,t.containerInfo)}function VA(e,t,r,n,a){return Nd(),x2(a),t.flags|=256,ea(e,t,r,n),t.child}var xS={dehydrated:null,treeContext:null,retryLane:0};function bS(e){return{baseLanes:e,cachePool:null,transitions:null}}function aD(e,t,r){var n=t.pendingProps,a=Cr.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),fr(Cr,a&1),e===null)return fS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Nx(i,n,0,null),e=yc(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=bS(r),t.memoizedState=xS,e):$2(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return SJ(e,t,i,n,l,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ul(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=ul(l,s):(s=yc(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?bS(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=xS,n}return s=e.child,e=s.sibling,n=ul(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $2(e,t){return t=Nx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bg(e,t,r,n){return n!==null&&x2(n),Cd(t,e.child,null,r),e=$2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function SJ(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=Gw(Error(Oe(422))),Bg(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Nx({mode:"visible",children:n.children},a,0,null),s=yc(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Cd(t,e.child,null,i),t.child.memoizedState=bS(i),t.memoizedState=xS,s);if(!(t.mode&1))return Bg(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Oe(419)),n=Gw(s,n,void 0),Bg(e,t,i,n)}if(l=(i&e.childLanes)!==0,va||l){if(n=xn,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,no(e,a),Ls(n,e,a,-1))}return F2(),n=Gw(Error(Oe(421))),Bg(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=MJ.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,La=il(a.nextSibling),Fa=t,Sr=!0,As=null,e!==null&&(Za[es++]=Wi,Za[es++]=Hi,Za[es++]=Cc,Wi=e.id,Hi=e.overflow,Cc=t),t=$2(t,n.children),t.flags|=4096,t)}function KA(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hS(e.return,t,r)}function Jw(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function sD(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(ea(e,t,n.children,r),n=Cr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&KA(e,r,t);else if(e.tag===19)KA(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fr(Cr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Sy(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Jw(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Sy(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Jw(t,!0,r,null,s);break;case"together":Jw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ao(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ac|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Oe(153));if(t.child!==null){for(e=t.child,r=ul(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ul(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function jJ(e,t,r){switch(t.tag){case 3:nD(t),Nd();break;case 5:TL(t);break;case 1:_a(t.type)&&vy(t);break;case 4:k2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;fr(by,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(fr(Cr,Cr.current&1),t.flags|=128,null):r&t.child.childLanes?aD(e,t,r):(fr(Cr,Cr.current&1),e=ao(e,t,r),e!==null?e.sibling:null);fr(Cr,Cr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return sD(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),fr(Cr,Cr.current),n)break;return null;case 22:case 23:return t.lanes=0,tD(e,t,r)}return ao(e,t,r)}var iD,wS,oD,lD;iD=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wS=function(){};oD=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ac(gi.current);var s=null;switch(r){case"input":a=q_(e,a),n=q_(e,n),s=[];break;case"select":a=Or({},a,{value:void 0}),n=Or({},n,{value:void 0}),s=[];break;case"textarea":a=V_(e,a),n=V_(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=my)}G_(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_p.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_p.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&mr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};lD=function(e,t,r,n){r!==n&&(t.flags|=4)};function rh(e,t){if(!Sr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function On(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function kJ(e,t,r){var n=t.pendingProps;switch(y2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(t),null;case 1:return _a(t.type)&&gy(),On(t),null;case 3:return n=t.stateNode,Pd(),xr(wa),xr(Vn),N2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Dg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,As!==null&&(PS(As),As=null))),wS(e,t),On(t),null;case 5:E2(t);var a=ac(Rp.current);if(r=t.type,e!==null&&t.stateNode!=null)oD(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Oe(166));return On(t),null}if(e=ac(gi.current),Dg(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[ci]=t,n[Op]=s,e=(t.mode&1)!==0,r){case"dialog":mr("cancel",n),mr("close",n);break;case"iframe":case"object":case"embed":mr("load",n);break;case"video":case"audio":for(a=0;a<Lh.length;a++)mr(Lh[a],n);break;case"source":mr("error",n);break;case"img":case"image":case"link":mr("error",n),mr("load",n);break;case"details":mr("toggle",n);break;case"input":rA(n,s),mr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},mr("invalid",n);break;case"textarea":aA(n,s),mr("invalid",n)}G_(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Lg(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Lg(n.textContent,l,e),a=["children",""+l]):_p.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&mr("scroll",n)}switch(r){case"input":Pg(n),nA(n,s,!0);break;case"textarea":Pg(n),sA(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=my)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=M5(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[ci]=t,e[Op]=n,iD(e,t,!1,!1),t.stateNode=e;e:{switch(i=J_(r,n),r){case"dialog":mr("cancel",e),mr("close",e),a=n;break;case"iframe":case"object":case"embed":mr("load",e),a=n;break;case"video":case"audio":for(a=0;a<Lh.length;a++)mr(Lh[a],e);a=n;break;case"source":mr("error",e),a=n;break;case"img":case"image":case"link":mr("error",e),mr("load",e),a=n;break;case"details":mr("toggle",e),a=n;break;case"input":rA(e,n),a=q_(e,n),mr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Or({},n,{value:void 0}),mr("invalid",e);break;case"textarea":aA(e,n),a=V_(e,n),mr("invalid",e);break;default:a=n}G_(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?F5(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&L5(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Sp(e,c):typeof c=="number"&&Sp(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_p.hasOwnProperty(s)?c!=null&&s==="onScroll"&&mr("scroll",e):c!=null&&n2(e,s,c,i))}switch(r){case"input":Pg(e),nA(e,n,!1);break;case"textarea":Pg(e),sA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+xl(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Wu(e,!!n.multiple,s,!1):n.defaultValue!=null&&Wu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=my)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return On(t),null;case 6:if(e&&t.stateNode!=null)lD(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Oe(166));if(r=ac(Rp.current),ac(gi.current),Dg(t)){if(n=t.stateNode,r=t.memoizedProps,n[ci]=t,(s=n.nodeValue!==r)&&(e=Fa,e!==null))switch(e.tag){case 3:Lg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lg(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ci]=t,t.stateNode=n}return On(t),null;case 13:if(xr(Cr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Sr&&La!==null&&t.mode&1&&!(t.flags&128))EL(),Nd(),t.flags|=98560,s=!1;else if(s=Dg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Oe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Oe(317));s[ci]=t}else Nd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;On(t),s=!1}else As!==null&&(PS(As),As=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Cr.current&1?on===0&&(on=3):F2())),t.updateQueue!==null&&(t.flags|=4),On(t),null);case 4:return Pd(),wS(e,t),e===null&&Ap(t.stateNode.containerInfo),On(t),null;case 10:return _2(t.type._context),On(t),null;case 17:return _a(t.type)&&gy(),On(t),null;case 19:if(xr(Cr),s=t.memoizedState,s===null)return On(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)rh(s,!1);else{if(on!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Sy(e),i!==null){for(t.flags|=128,rh(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fr(Cr,Cr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Fr()>Td&&(t.flags|=128,n=!0,rh(s,!1),t.lanes=4194304)}else{if(!n)if(e=Sy(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),rh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Sr)return On(t),null}else 2*Fr()-s.renderingStartTime>Td&&r!==1073741824&&(t.flags|=128,n=!0,rh(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Fr(),t.sibling=null,r=Cr.current,fr(Cr,n?r&1|2:r&1),t):(On(t),null);case 22:case 23:return D2(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Oa&1073741824&&(On(t),t.subtreeFlags&6&&(t.flags|=8192)):On(t),null;case 24:return null;case 25:return null}throw Error(Oe(156,t.tag))}function EJ(e,t){switch(y2(t),t.tag){case 1:return _a(t.type)&&gy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pd(),xr(wa),xr(Vn),N2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return E2(t),null;case 13:if(xr(Cr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Oe(340));Nd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xr(Cr),null;case 4:return Pd(),null;case 10:return _2(t.type._context),null;case 22:case 23:return D2(),null;case 24:return null;default:return null}}var Ug=!1,Mn=!1,NJ=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Lu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rr(e,t,n)}else r.current=null}function _S(e,t,r){try{r()}catch(n){Rr(e,t,n)}}var GA=!1;function CJ(e,t){if(sS=fy,e=hL(),g2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=i),h===s&&++d===n&&(c=i),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(iS={focusedElem:e,selectionRange:r},fy=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){t=nt;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,y=v.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:ks(t.type,m),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(_){Rr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}return v=GA,GA=!1,v}function np(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&_S(t,r,s)}a=a.next}while(a!==n)}}function kx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function SS(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function cD(e){var t=e.alternate;t!==null&&(e.alternate=null,cD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ci],delete t[Op],delete t[cS],delete t[uJ],delete t[dJ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uD(e){return e.tag===5||e.tag===3||e.tag===4}function JA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=my));else if(n!==4&&(e=e.child,e!==null))for(jS(e,t,r),e=e.sibling;e!==null;)jS(e,t,r),e=e.sibling}function kS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(kS(e,t,r),e=e.sibling;e!==null;)kS(e,t,r),e=e.sibling}var Sn=null,Ns=!1;function wo(e,t,r){for(r=r.child;r!==null;)dD(e,t,r),r=r.sibling}function dD(e,t,r){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(vx,r)}catch{}switch(r.tag){case 5:Mn||Lu(r,t);case 6:var n=Sn,a=Ns;Sn=null,wo(e,t,r),Sn=n,Ns=a,Sn!==null&&(Ns?(e=Sn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Sn.removeChild(r.stateNode));break;case 18:Sn!==null&&(Ns?(e=Sn,r=r.stateNode,e.nodeType===8?zw(e.parentNode,r):e.nodeType===1&&zw(e,r),Np(e)):zw(Sn,r.stateNode));break;case 4:n=Sn,a=Ns,Sn=r.stateNode.containerInfo,Ns=!0,wo(e,t,r),Sn=n,Ns=a;break;case 0:case 11:case 14:case 15:if(!Mn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&_S(r,t,i),a=a.next}while(a!==n)}wo(e,t,r);break;case 1:if(!Mn&&(Lu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Rr(r,t,l)}wo(e,t,r);break;case 21:wo(e,t,r);break;case 22:r.mode&1?(Mn=(n=Mn)||r.memoizedState!==null,wo(e,t,r),Mn=n):wo(e,t,r);break;default:wo(e,t,r)}}function YA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new NJ),t.forEach(function(n){var a=LJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function bs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Sn=l.stateNode,Ns=!1;break e;case 3:Sn=l.stateNode.containerInfo,Ns=!0;break e;case 4:Sn=l.stateNode.containerInfo,Ns=!0;break e}l=l.return}if(Sn===null)throw Error(Oe(160));dD(s,i,a),Sn=null,Ns=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Rr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fD(t,e),t=t.sibling}function fD(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bs(t,e),Zs(e),n&4){try{np(3,e,e.return),kx(3,e)}catch(m){Rr(e,e.return,m)}try{np(5,e,e.return)}catch(m){Rr(e,e.return,m)}}break;case 1:bs(t,e),Zs(e),n&512&&r!==null&&Lu(r,r.return);break;case 5:if(bs(t,e),Zs(e),n&512&&r!==null&&Lu(r,r.return),e.flags&32){var a=e.stateNode;try{Sp(a,"")}catch(m){Rr(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&R5(a,s),J_(l,i);var u=J_(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?F5(a,f):d==="dangerouslySetInnerHTML"?L5(a,f):d==="children"?Sp(a,f):n2(a,d,f,u)}switch(l){case"input":W_(a,s);break;case"textarea":I5(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Wu(a,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Wu(a,!!s.multiple,s.defaultValue,!0):Wu(a,!!s.multiple,s.multiple?[]:"",!1))}a[Op]=s}catch(m){Rr(e,e.return,m)}}break;case 6:if(bs(t,e),Zs(e),n&4){if(e.stateNode===null)throw Error(Oe(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(m){Rr(e,e.return,m)}}break;case 3:if(bs(t,e),Zs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Np(t.containerInfo)}catch(m){Rr(e,e.return,m)}break;case 4:bs(t,e),Zs(e);break;case 13:bs(t,e),Zs(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(M2=Fr())),n&4&&YA(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Mn=(u=Mn)||d,bs(t,e),Mn=u):bs(t,e),Zs(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(nt=e,d=e.child;d!==null;){for(f=nt=d;nt!==null;){switch(h=nt,g=h.child,h.tag){case 0:case 11:case 14:case 15:np(4,h,h.return);break;case 1:Lu(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Rr(n,r,m)}}break;case 5:Lu(h,h.return);break;case 22:if(h.memoizedState!==null){QA(f);continue}}g!==null?(g.return=h,nt=g):QA(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=D5("display",i))}catch(m){Rr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Rr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bs(t,e),Zs(e),n&4&&YA(e);break;case 21:break;default:bs(t,e),Zs(e)}}function Zs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(uD(r)){var n=r;break e}r=r.return}throw Error(Oe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Sp(a,""),n.flags&=-33);var s=JA(e);kS(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=JA(e);jS(e,l,i);break;default:throw Error(Oe(161))}}catch(c){Rr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function PJ(e,t,r){nt=e,hD(e)}function hD(e,t,r){for(var n=(e.mode&1)!==0;nt!==null;){var a=nt,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Ug;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Mn;l=Ug;var u=Mn;if(Ug=i,(Mn=c)&&!u)for(nt=a;nt!==null;)i=nt,c=i.child,i.tag===22&&i.memoizedState!==null?ZA(a):c!==null?(c.return=i,nt=c):ZA(a);for(;s!==null;)nt=s,hD(s),s=s.sibling;nt=a,Ug=l,Mn=u}XA(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,nt=s):XA(e)}}function XA(e){for(;nt!==null;){var t=nt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mn||kx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Mn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ks(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&IA(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}IA(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Np(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Mn||t.flags&512&&SS(t)}catch(h){Rr(t,t.return,h)}}if(t===e){nt=null;break}if(r=t.sibling,r!==null){r.return=t.return,nt=r;break}nt=t.return}}function QA(e){for(;nt!==null;){var t=nt;if(t===e){nt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,nt=r;break}nt=t.return}}function ZA(e){for(;nt!==null;){var t=nt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kx(4,t)}catch(c){Rr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Rr(t,a,c)}}var s=t.return;try{SS(t)}catch(c){Rr(t,s,c)}break;case 5:var i=t.return;try{SS(t)}catch(c){Rr(t,i,c)}}}catch(c){Rr(t,t.return,c)}if(t===e){nt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,nt=l;break}nt=t.return}}var AJ=Math.ceil,Ey=fo.ReactCurrentDispatcher,R2=fo.ReactCurrentOwner,ss=fo.ReactCurrentBatchConfig,Bt=0,xn=null,Hr=null,Cn=0,Oa=0,Du=Nl(0),on=0,Dp=null,Ac=0,Ex=0,I2=0,ap=null,pa=null,M2=0,Td=1/0,Ii=null,Ny=!1,ES=null,ll=null,zg=!1,Zo=null,Cy=0,sp=0,NS=null,Jv=-1,Yv=0;function na(){return Bt&6?Fr():Jv!==-1?Jv:Jv=Fr()}function cl(e){return e.mode&1?Bt&2&&Cn!==0?Cn&-Cn:hJ.transition!==null?(Yv===0&&(Yv=X5()),Yv):(e=tr,e!==0||(e=window.event,e=e===void 0?16:aL(e.type)),e):1}function Ls(e,t,r,n){if(50<sp)throw sp=0,NS=null,Error(Oe(185));Hm(e,r,n),(!(Bt&2)||e!==xn)&&(e===xn&&(!(Bt&2)&&(Ex|=r),on===4&&Bo(e,Cn)),Sa(e,n),r===1&&Bt===0&&!(t.mode&1)&&(Td=Fr()+500,_x&&Cl()))}function Sa(e,t){var r=e.callbackNode;hG(e,t);var n=dy(e,e===xn?Cn:0);if(n===0)r!==null&&lA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&lA(r),t===1)e.tag===0?fJ(eT.bind(null,e)):SL(eT.bind(null,e)),lJ(function(){!(Bt&6)&&Cl()}),r=null;else{switch(Q5(n)){case 1:r=l2;break;case 4:r=J5;break;case 16:r=uy;break;case 536870912:r=Y5;break;default:r=uy}r=wD(r,pD.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function pD(e,t){if(Jv=-1,Yv=0,Bt&6)throw Error(Oe(327));var r=e.callbackNode;if(Ju()&&e.callbackNode!==r)return null;var n=dy(e,e===xn?Cn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Py(e,n);else{t=n;var a=Bt;Bt|=2;var s=gD();(xn!==e||Cn!==t)&&(Ii=null,Td=Fr()+500,vc(e,t));do try{$J();break}catch(l){mD(e,l)}while(!0);w2(),Ey.current=s,Bt=a,Hr!==null?t=0:(xn=null,Cn=0,t=on)}if(t!==0){if(t===2&&(a=eS(e),a!==0&&(n=a,t=CS(e,a))),t===1)throw r=Dp,vc(e,0),Bo(e,n),Sa(e,Fr()),r;if(t===6)Bo(e,n);else{if(a=e.current.alternate,!(n&30)&&!TJ(a)&&(t=Py(e,n),t===2&&(s=eS(e),s!==0&&(n=s,t=CS(e,s))),t===1))throw r=Dp,vc(e,0),Bo(e,n),Sa(e,Fr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Oe(345));case 2:Vl(e,pa,Ii);break;case 3:if(Bo(e,n),(n&130023424)===n&&(t=M2+500-Fr(),10<t)){if(dy(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){na(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=lS(Vl.bind(null,e,pa,Ii),t);break}Vl(e,pa,Ii);break;case 4:if(Bo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Ms(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=Fr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*AJ(n/1960))-n,10<n){e.timeoutHandle=lS(Vl.bind(null,e,pa,Ii),n);break}Vl(e,pa,Ii);break;case 5:Vl(e,pa,Ii);break;default:throw Error(Oe(329))}}}return Sa(e,Fr()),e.callbackNode===r?pD.bind(null,e):null}function CS(e,t){var r=ap;return e.current.memoizedState.isDehydrated&&(vc(e,t).flags|=256),e=Py(e,t),e!==2&&(t=pa,pa=r,t!==null&&PS(t)),e}function PS(e){pa===null?pa=e:pa.push.apply(pa,e)}function TJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Us(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bo(e,t){for(t&=~I2,t&=~Ex,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ms(t),n=1<<r;e[r]=-1,t&=~n}}function eT(e){if(Bt&6)throw Error(Oe(327));Ju();var t=dy(e,0);if(!(t&1))return Sa(e,Fr()),null;var r=Py(e,t);if(e.tag!==0&&r===2){var n=eS(e);n!==0&&(t=n,r=CS(e,n))}if(r===1)throw r=Dp,vc(e,0),Bo(e,t),Sa(e,Fr()),r;if(r===6)throw Error(Oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vl(e,pa,Ii),Sa(e,Fr()),null}function L2(e,t){var r=Bt;Bt|=1;try{return e(t)}finally{Bt=r,Bt===0&&(Td=Fr()+500,_x&&Cl())}}function Tc(e){Zo!==null&&Zo.tag===0&&!(Bt&6)&&Ju();var t=Bt;Bt|=1;var r=ss.transition,n=tr;try{if(ss.transition=null,tr=1,e)return e()}finally{tr=n,ss.transition=r,Bt=t,!(Bt&6)&&Cl()}}function D2(){Oa=Du.current,xr(Du)}function vc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,oJ(r)),Hr!==null)for(r=Hr.return;r!==null;){var n=r;switch(y2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gy();break;case 3:Pd(),xr(wa),xr(Vn),N2();break;case 5:E2(n);break;case 4:Pd();break;case 13:xr(Cr);break;case 19:xr(Cr);break;case 10:_2(n.type._context);break;case 22:case 23:D2()}r=r.return}if(xn=e,Hr=e=ul(e.current,null),Cn=Oa=t,on=0,Dp=null,I2=Ex=Ac=0,pa=ap=null,nc!==null){for(t=0;t<nc.length;t++)if(r=nc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}nc=null}return e}function mD(e,t){do{var r=Hr;try{if(w2(),Vv.current=ky,jy){for(var n=Tr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}jy=!1}if(Pc=0,hn=tn=Tr=null,rp=!1,Ip=0,R2.current=null,r===null||r.return===null){on=1,Dp=t,Hr=null;break}e:{var s=e,i=r.return,l=r,c=t;if(t=Cn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=UA(i);if(g!==null){g.flags&=-257,zA(g,i,l,s,t),g.mode&1&&BA(s,u,t),t=g,c=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}else{if(!(t&1)){BA(s,u,t),F2();break e}c=Error(Oe(426))}}else if(Sr&&l.mode&1){var y=UA(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),zA(y,i,l,s,t),x2(Ad(c,l));break e}}s=c=Ad(c,l),on!==4&&(on=2),ap===null?ap=[s]:ap.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=QL(s,c,t);RA(s,x);break e;case 1:l=c;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ll===null||!ll.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=ZL(s,l,t);RA(s,_);break e}}s=s.return}while(s!==null)}yD(r)}catch(S){t=S,Hr===r&&r!==null&&(Hr=r=r.return);continue}break}while(!0)}function gD(){var e=Ey.current;return Ey.current=ky,e===null?ky:e}function F2(){(on===0||on===3||on===2)&&(on=4),xn===null||!(Ac&268435455)&&!(Ex&268435455)||Bo(xn,Cn)}function Py(e,t){var r=Bt;Bt|=2;var n=gD();(xn!==e||Cn!==t)&&(Ii=null,vc(e,t));do try{OJ();break}catch(a){mD(e,a)}while(!0);if(w2(),Bt=r,Ey.current=n,Hr!==null)throw Error(Oe(261));return xn=null,Cn=0,on}function OJ(){for(;Hr!==null;)vD(Hr)}function $J(){for(;Hr!==null&&!aG();)vD(Hr)}function vD(e){var t=bD(e.alternate,e,Oa);e.memoizedProps=e.pendingProps,t===null?yD(e):Hr=t,R2.current=null}function yD(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=EJ(r,t),r!==null){r.flags&=32767,Hr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{on=6,Hr=null;return}}else if(r=kJ(r,t,Oa),r!==null){Hr=r;return}if(t=t.sibling,t!==null){Hr=t;return}Hr=t=e}while(t!==null);on===0&&(on=5)}function Vl(e,t,r){var n=tr,a=ss.transition;try{ss.transition=null,tr=1,RJ(e,t,r,n)}finally{ss.transition=a,tr=n}return null}function RJ(e,t,r,n){do Ju();while(Zo!==null);if(Bt&6)throw Error(Oe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Oe(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(pG(e,s),e===xn&&(Hr=xn=null,Cn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zg||(zg=!0,wD(uy,function(){return Ju(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ss.transition,ss.transition=null;var i=tr;tr=1;var l=Bt;Bt|=4,R2.current=null,CJ(e,r),fD(r,e),eJ(iS),fy=!!sS,iS=sS=null,e.current=r,PJ(r),sG(),Bt=l,tr=i,ss.transition=s}else e.current=r;if(zg&&(zg=!1,Zo=e,Cy=a),s=e.pendingLanes,s===0&&(ll=null),lG(r.stateNode),Sa(e,Fr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ny)throw Ny=!1,e=ES,ES=null,e;return Cy&1&&e.tag!==0&&Ju(),s=e.pendingLanes,s&1?e===NS?sp++:(sp=0,NS=e):sp=0,Cl(),null}function Ju(){if(Zo!==null){var e=Q5(Cy),t=ss.transition,r=tr;try{if(ss.transition=null,tr=16>e?16:e,Zo===null)var n=!1;else{if(e=Zo,Zo=null,Cy=0,Bt&6)throw Error(Oe(331));var a=Bt;for(Bt|=4,nt=e.current;nt!==null;){var s=nt,i=s.child;if(nt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(nt=u;nt!==null;){var d=nt;switch(d.tag){case 0:case 11:case 15:np(8,d,s)}var f=d.child;if(f!==null)f.return=d,nt=f;else for(;nt!==null;){d=nt;var h=d.sibling,g=d.return;if(cD(d),d===u){nt=null;break}if(h!==null){h.return=g,nt=h;break}nt=g}}}var v=s.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}nt=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,nt=i;else e:for(;nt!==null;){if(s=nt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:np(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,nt=x;break e}nt=s.return}}var w=e.current;for(nt=w;nt!==null;){i=nt;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,nt=b;else e:for(i=w;nt!==null;){if(l=nt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kx(9,l)}}catch(S){Rr(l,l.return,S)}if(l===i){nt=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,nt=_;break e}nt=l.return}}if(Bt=a,Cl(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(vx,e)}catch{}n=!0}return n}finally{tr=r,ss.transition=t}}return!1}function tT(e,t,r){t=Ad(r,t),t=QL(e,t,1),e=ol(e,t,1),t=na(),e!==null&&(Hm(e,1,t),Sa(e,t))}function Rr(e,t,r){if(e.tag===3)tT(e,e,r);else for(;t!==null;){if(t.tag===3){tT(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ll===null||!ll.has(n))){e=Ad(r,e),e=ZL(t,e,1),t=ol(t,e,1),e=na(),t!==null&&(Hm(t,1,e),Sa(t,e));break}}t=t.return}}function IJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=na(),e.pingedLanes|=e.suspendedLanes&r,xn===e&&(Cn&r)===r&&(on===4||on===3&&(Cn&130023424)===Cn&&500>Fr()-M2?vc(e,0):I2|=r),Sa(e,t)}function xD(e,t){t===0&&(e.mode&1?(t=Og,Og<<=1,!(Og&130023424)&&(Og=4194304)):t=1);var r=na();e=no(e,t),e!==null&&(Hm(e,t,r),Sa(e,r))}function MJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),xD(e,r)}function LJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Oe(314))}n!==null&&n.delete(t),xD(e,r)}var bD;bD=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||wa.current)va=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return va=!1,jJ(e,t,r);va=!!(e.flags&131072)}else va=!1,Sr&&t.flags&1048576&&jL(t,xy,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gv(e,t),e=t.pendingProps;var a=Ed(t,Vn.current);Gu(t,r),a=P2(null,t,n,e,a,r);var s=A2();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_a(n)?(s=!0,vy(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,j2(t),a.updater=jx,t.stateNode=a,a._reactInternals=t,mS(t,n,e,r),t=yS(null,t,n,!0,s,r)):(t.tag=0,Sr&&s&&v2(t),ea(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Gv(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=FJ(n),e=ks(n,e),a){case 0:t=vS(null,t,n,e,r);break e;case 1:t=HA(null,t,n,e,r);break e;case 11:t=qA(null,t,n,e,r);break e;case 14:t=WA(null,t,n,ks(n.type,e),r);break e}throw Error(Oe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ks(n,a),vS(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ks(n,a),HA(e,t,n,a,r);case 3:e:{if(nD(t),e===null)throw Error(Oe(387));n=t.pendingProps,s=t.memoizedState,a=s.element,AL(e,t),_y(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Ad(Error(Oe(423)),t),t=VA(e,t,n,r,a);break e}else if(n!==a){a=Ad(Error(Oe(424)),t),t=VA(e,t,n,r,a);break e}else for(La=il(t.stateNode.containerInfo.firstChild),Fa=t,Sr=!0,As=null,r=CL(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nd(),n===a){t=ao(e,t,r);break e}ea(e,t,n,r)}t=t.child}return t;case 5:return TL(t),e===null&&fS(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,oS(n,a)?i=null:s!==null&&oS(n,s)&&(t.flags|=32),rD(e,t),ea(e,t,i,r),t.child;case 6:return e===null&&fS(t),null;case 13:return aD(e,t,r);case 4:return k2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Cd(t,null,n,r):ea(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ks(n,a),qA(e,t,n,a,r);case 7:return ea(e,t,t.pendingProps,r),t.child;case 8:return ea(e,t,t.pendingProps.children,r),t.child;case 12:return ea(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,fr(by,n._currentValue),n._currentValue=i,s!==null)if(Us(s.value,i)){if(s.children===a.children&&!wa.current){t=ao(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Ji(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),hS(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(Oe(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),hS(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}ea(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Gu(t,r),a=us(a),n=n(a),t.flags|=1,ea(e,t,n,r),t.child;case 14:return n=t.type,a=ks(n,t.pendingProps),a=ks(n.type,a),WA(e,t,n,a,r);case 15:return eD(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ks(n,a),Gv(e,t),t.tag=1,_a(n)?(e=!0,vy(t)):e=!1,Gu(t,r),XL(t,n,a),mS(t,n,a,r),yS(null,t,n,!0,e,r);case 19:return sD(e,t,r);case 22:return tD(e,t,r)}throw Error(Oe(156,t.tag))};function wD(e,t){return G5(e,t)}function DJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(e,t,r,n){return new DJ(e,t,r,n)}function B2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FJ(e){if(typeof e=="function")return B2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===s2)return 11;if(e===i2)return 14}return 2}function ul(e,t){var r=e.alternate;return r===null?(r=ts(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Xv(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")B2(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Cu:return yc(r.children,a,s,t);case a2:i=8,a|=8;break;case F_:return e=ts(12,r,t,a|2),e.elementType=F_,e.lanes=s,e;case B_:return e=ts(13,r,t,a),e.elementType=B_,e.lanes=s,e;case U_:return e=ts(19,r,t,a),e.elementType=U_,e.lanes=s,e;case T5:return Nx(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P5:i=10;break e;case A5:i=9;break e;case s2:i=11;break e;case i2:i=14;break e;case Io:i=16,n=null;break e}throw Error(Oe(130,e==null?e:typeof e,""))}return t=ts(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function yc(e,t,r,n){return e=ts(7,e,n,t),e.lanes=r,e}function Nx(e,t,r,n){return e=ts(22,e,n,t),e.elementType=T5,e.lanes=r,e.stateNode={isHidden:!1},e}function Yw(e,t,r){return e=ts(6,e,null,t),e.lanes=r,e}function Xw(e,t,r){return t=ts(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function BJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tw(0),this.expirationTimes=Tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function U2(e,t,r,n,a,s,i,l,c){return e=new BJ(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ts(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},j2(s),e}function UJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _D(e){if(!e)return bl;e=e._reactInternals;e:{if(Vc(e)!==e||e.tag!==1)throw Error(Oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_a(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Oe(171))}if(e.tag===1){var r=e.type;if(_a(r))return _L(e,r,t)}return t}function SD(e,t,r,n,a,s,i,l,c){return e=U2(r,n,!0,e,a,s,i,l,c),e.context=_D(null),r=e.current,n=na(),a=cl(r),s=Ji(n,a),s.callback=t??null,ol(r,s,a),e.current.lanes=a,Hm(e,a,n),Sa(e,n),e}function Cx(e,t,r,n){var a=t.current,s=na(),i=cl(a);return r=_D(r),t.context===null?t.context=r:t.pendingContext=r,t=Ji(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ol(a,t,i),e!==null&&(Ls(e,a,i,s),Hv(e,a,i)),i}function Ay(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function z2(e,t){rT(e,t),(e=e.alternate)&&rT(e,t)}function zJ(){return null}var jD=typeof reportError=="function"?reportError:function(e){console.error(e)};function q2(e){this._internalRoot=e}Px.prototype.render=q2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Oe(409));Cx(e,t,null,null)};Px.prototype.unmount=q2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tc(function(){Cx(null,e,null,null)}),t[ro]=null}};function Px(e){this._internalRoot=e}Px.prototype.unstable_scheduleHydration=function(e){if(e){var t=tL();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Fo.length&&t!==0&&t<Fo[r].priority;r++);Fo.splice(r,0,e),r===0&&nL(e)}};function W2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ax(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nT(){}function qJ(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Ay(i);s.call(u)}}var i=SD(t,n,e,0,null,!1,!1,"",nT);return e._reactRootContainer=i,e[ro]=i.current,Ap(e.nodeType===8?e.parentNode:e),Tc(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Ay(c);l.call(u)}}var c=U2(e,0,!1,null,null,!1,!1,"",nT);return e._reactRootContainer=c,e[ro]=c.current,Ap(e.nodeType===8?e.parentNode:e),Tc(function(){Cx(t,c,r,n)}),c}function Tx(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=Ay(i);l.call(c)}}Cx(t,i,e,a)}else i=qJ(r,t,e,a,n);return Ay(i)}Z5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Mh(t.pendingLanes);r!==0&&(c2(t,r|1),Sa(t,Fr()),!(Bt&6)&&(Td=Fr()+500,Cl()))}break;case 13:Tc(function(){var n=no(e,1);if(n!==null){var a=na();Ls(n,e,1,a)}}),z2(e,1)}};u2=function(e){if(e.tag===13){var t=no(e,134217728);if(t!==null){var r=na();Ls(t,e,134217728,r)}z2(e,134217728)}};eL=function(e){if(e.tag===13){var t=cl(e),r=no(e,t);if(r!==null){var n=na();Ls(r,e,t,n)}z2(e,t)}};tL=function(){return tr};rL=function(e,t){var r=tr;try{return tr=e,t()}finally{tr=r}};X_=function(e,t,r){switch(t){case"input":if(W_(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=wx(n);if(!a)throw Error(Oe(90));$5(n),W_(n,a)}}}break;case"textarea":I5(e,r);break;case"select":t=r.value,t!=null&&Wu(e,!!r.multiple,t,!1)}};z5=L2;q5=Tc;var WJ={usingClientEntryPoint:!1,Events:[Km,Ou,wx,B5,U5,L2]},nh={findFiberByHostInstance:rc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HJ={bundleType:nh.bundleType,version:nh.version,rendererPackageName:nh.rendererPackageName,rendererConfig:nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=V5(e),e===null?null:e.stateNode},findFiberByHostInstance:nh.findFiberByHostInstance||zJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qg.isDisabled&&qg.supportsFiber)try{vx=qg.inject(HJ),mi=qg}catch{}}qa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WJ;qa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!W2(t))throw Error(Oe(200));return UJ(e,t,null,r)};qa.createRoot=function(e,t){if(!W2(e))throw Error(Oe(299));var r=!1,n="",a=jD;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=U2(e,1,!1,null,null,r,!1,n,a),e[ro]=t.current,Ap(e.nodeType===8?e.parentNode:e),new q2(t)};qa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Oe(188)):(e=Object.keys(e).join(","),Error(Oe(268,e)));return e=V5(t),e=e===null?null:e.stateNode,e};qa.flushSync=function(e){return Tc(e)};qa.hydrate=function(e,t,r){if(!Ax(t))throw Error(Oe(200));return Tx(null,e,t,!0,r)};qa.hydrateRoot=function(e,t,r){if(!W2(e))throw Error(Oe(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=jD;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=SD(t,null,e,1,r??null,a,!1,s,i),e[ro]=t.current,Ap(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Px(t)};qa.render=function(e,t,r){if(!Ax(t))throw Error(Oe(200));return Tx(null,e,t,!1,r)};qa.unmountComponentAtNode=function(e){if(!Ax(e))throw Error(Oe(40));return e._reactRootContainer?(Tc(function(){Tx(null,null,e,!1,function(){e._reactRootContainer=null,e[ro]=null})}),!0):!1};qa.unstable_batchedUpdates=L2;qa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ax(r))throw Error(Oe(200));if(e==null||e._reactInternals===void 0)throw Error(Oe(38));return Tx(e,t,r,!1,n)};qa.version="18.3.1-next-f1338f8080-20240426";function kD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kD)}catch(e){console.error(e)}}kD(),k5.exports=qa;var Kc=k5.exports;const Jm=sr(Kc);var aT=Kc;L_.createRoot=aT.createRoot,L_.hydrateRoot=aT.hydrateRoot;var Ty=["light","dark"],H2="(prefers-color-scheme: dark)",VJ=typeof window>"u",V2=p.createContext(void 0),KJ={setTheme:e=>{},themes:[]},Pl=()=>{var e;return(e=p.useContext(V2))!=null?e:KJ},GJ=e=>p.useContext(V2)?e.children:p.createElement(YJ,{...e}),JJ=["light","dark"],YJ=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:s=JJ,defaultTheme:i=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=p.useState(()=>sT(a,i)),[g,v]=p.useState(()=>sT(a)),m=c?Object.values(c):s,y=p.useCallback(_=>{let S=_;if(!S)return;_==="system"&&r&&(S=iT());let E=c?c[S]:S,j=t?QJ():null,k=document.documentElement;if(l==="class"?(k.classList.remove(...m),E&&k.classList.add(E)):E?k.setAttribute(l,E):k.removeAttribute(l),n){let N=Ty.includes(i)?i:null,C=Ty.includes(S)?S:N;k.style.colorScheme=C}j==null||j()},[]),x=p.useCallback(_=>{let S=typeof _=="function"?_(_):_;h(S);try{localStorage.setItem(a,S)}catch{}},[e]),w=p.useCallback(_=>{let S=iT(_);v(S),f==="system"&&r&&!e&&y("system")},[f,e]);p.useEffect(()=>{let _=window.matchMedia(H2);return _.addListener(w),w(_),()=>_.removeListener(w)},[w]),p.useEffect(()=>{let _=S=>{if(S.key!==a)return;let E=S.newValue||i;x(E)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[x]),p.useEffect(()=>{y(e??f)},[e,f]);let b=p.useMemo(()=>({theme:f,setTheme:x,forcedTheme:e,resolvedTheme:f==="system"?g:f,themes:r?[...s,"system"]:s,systemTheme:r?g:void 0}),[f,x,e,g,r,s]);return p.createElement(V2.Provider,{value:b},p.createElement(XJ,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:s,defaultTheme:i,attribute:l,value:c,children:u,attrs:m,nonce:d}),u)},XJ=p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:i,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?Ty.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,m=!1,y=!0)=>{let x=i?i[v]:v,w=m?v+"|| ''":`'${x}'`,b="";return a&&y&&!m&&Ty.includes(v)&&(b+=`d.style.colorScheme = '${v}';`),r==="class"?m||x?b+=`c.add(${w})`:b+="null":x&&(b+=`d[s](n,${w})`),b},g=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${H2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})}),sT=(e,t)=>{if(VJ)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},QJ=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},iT=e=>(e||(e=window.matchMedia(H2)),e.matches?"dark":"light"),ye=typeof window<"u"?window:void 0,En=typeof globalThis<"u"?globalThis:ye;typeof self>"u"&&(En.self=En),typeof File>"u"&&(En.File=function(){});var ED=Array.prototype,oT=ED.forEach,lT=ED.indexOf,Da=En==null?void 0:En.navigator,Je=En==null?void 0:En.document,ma=En==null?void 0:En.location,AS=En==null?void 0:En.fetch,TS=En!=null&&En.XMLHttpRequest&&"withCredentials"in new En.XMLHttpRequest?En.XMLHttpRequest:void 0,cT=En==null?void 0:En.AbortController,fa=Da==null?void 0:Da.userAgent,vt=ye??{},Mi={DEBUG:!1,LIB_VERSION:"1.307.2"};function uT(e,t,r,n,a,s,i){try{var l=e[s](i),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,a)}function dT(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var s=e.apply(t,r);function i(c){uT(s,n,a,i,l,"next",c)}function l(c){uT(s,n,a,i,l,"throw",c)}i(void 0)})}}function at(){return at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},at.apply(null,arguments)}function ND(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZJ=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],fT=function(e,t){if(t===void 0&&(t=[]),!e)return!1;var r=e.toLowerCase();return ZJ.concat(t).some(n=>{var a=n.toLowerCase();return r.indexOf(a)!==-1})},eY=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function Rt(e,t){return e.indexOf(t)!==-1}var Ox=function(e){return e.trim()},OS=function(e){return e.replace(/^\$/,"")},tY=Array.isArray,CD=Object.prototype,PD=CD.hasOwnProperty,$x=CD.toString,Jt=tY||function(e){return $x.call(e)==="[object Array]"},dl=e=>typeof e=="function",pn=e=>e===Object(e)&&!Jt(e),Fu=e=>{if(pn(e)){for(var t in e)if(PD.call(e,t))return!1;return!0}return!1},We=e=>e===void 0,sn=e=>$x.call(e)=="[object String]",$S=e=>sn(e)&&e.trim().length===0,Vs=e=>e===null,Ht=e=>We(e)||Vs(e),_i=e=>$x.call(e)=="[object Number]",Yi=e=>$x.call(e)==="[object Boolean]",rY=e=>e instanceof FormData,nY=e=>Rt(eY,e);function RS(e){return e===null||typeof e!="object"}function Oy(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function AD(e){return!We(Event)&&function(t,r){try{return t instanceof r}catch{return!1}}(e,Event)}var aY=[!0,"true",1,"1","yes"],Qw=e=>Rt(aY,e),sY=[!1,"false",0,"0","no"];function ui(e,t,r,n,a){return t>r&&(n.warn("min cannot be greater than max."),t=r),_i(e)?e>r?(n.warn(" cannot be  greater than max: "+r+". Using max value instead."),r):e<t?(n.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(n.warn(" must be a number. using max or fallback. max: "+r+", fallback: "+a),ui(a||r,t,r,n))}class iY{constructor(t){this.t={},this.i=t.i,this.o=ui(t.bucketSize,0,100,t.h),this.m=ui(t.refillRate,0,this.o,t.h),this.S=ui(t.refillInterval,0,864e5,t.h)}$(t,r){var n=r-t.lastAccess,a=Math.floor(n/this.S);if(a>0){var s=a*this.m;t.tokens=Math.min(t.tokens+s,this.o),t.lastAccess=t.lastAccess+a*this.S}}consumeRateLimit(t){var r,n=Date.now(),a=String(t),s=this.t[a];return s?this.$(s,n):(s={tokens:this.o,lastAccess:n},this.t[a]=s),s.tokens===0||(s.tokens--,s.tokens===0&&((r=this.i)==null||r.call(this,t)),s.tokens===0)}stop(){this.t={}}}var Wg,hT,Zw,oY=e=>e instanceof Error;function lY(e){var t=globalThis._posthogChunkIds;if(t){var r=Object.keys(t);return Zw&&r.length===hT||(hT=r.length,Zw=r.reduce((n,a)=>{Wg||(Wg={});var s=Wg[a];if(s)n[s[0]]=s[1];else for(var i=e(a),l=i.length-1;l>=0;l--){var c=i[l],u=c==null?void 0:c.filename,d=t[a];if(u&&d){n[u]=d,Wg[a]=[u,d];break}}return n},{})),Zw}}class cY{constructor(t,r,n){n===void 0&&(n=[]),this.coercers=t,this.stackParser=r,this.modifiers=n}buildFromUnknown(t,r){r===void 0&&(r={});var n=r&&r.mechanism||{handled:!0,type:"generic"},a=this.buildCoercingContext(n,r,0).apply(t),s=this.buildParsingContext(),i=this.parseStacktrace(a,s);return{$exception_list:this.convertToExceptionList(i,n),$exception_level:"error"}}modifyFrames(t){var r=this;return dT(function*(){for(var n of t)n.stacktrace&&n.stacktrace.frames&&Jt(n.stacktrace.frames)&&(n.stacktrace.frames=yield r.applyModifiers(n.stacktrace.frames));return t})()}coerceFallback(t){var r;return{type:"Error",value:"Unknown error",stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}}parseStacktrace(t,r){var n,a;return t.cause!=null&&(n=this.parseStacktrace(t.cause,r)),t.stack!=""&&t.stack!=null&&(a=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),r.chunkIdMap)),at({},t,{cause:n,stack:a})}applyChunkIds(t,r){return t.map(n=>(n.filename&&r&&(n.chunk_id=r[n.filename]),n))}applyCoercers(t,r){for(var n of this.coercers)if(n.match(t))return n.coerce(t,r);return this.coerceFallback(r)}applyModifiers(t){var r=this;return dT(function*(){var n=t;for(var a of r.modifiers)n=yield a(n);return n})()}convertToExceptionList(t,r){var n,a,s,i={type:t.type,value:t.value,mechanism:{type:(n=r.type)!==null&&n!==void 0?n:"generic",handled:(a=r.handled)===null||a===void 0||a,synthetic:(s=t.synthetic)!==null&&s!==void 0&&s}};t.stack&&(i.stacktrace={type:"raw",frames:t.stack});var l=[i];return t.cause!=null&&l.push(...this.convertToExceptionList(t.cause,at({},r,{handled:!0}))),l}buildParsingContext(){return{chunkIdMap:lY(this.stackParser)}}buildCoercingContext(t,r,n){n===void 0&&(n=0);var a=(s,i)=>{if(i<=4){var l=this.buildCoercingContext(t,r,i);return this.applyCoercers(s,l)}};return at({},r,{syntheticException:n==0?r.syntheticException:void 0,mechanism:t,apply:s=>a(s,n),next:s=>a(s,n+1)})}}var Od="?";function IS(e,t,r,n,a){var s={platform:e,filename:t,function:r==="<anonymous>"?Od:r,in_app:!0};return We(n)||(s.lineno=n),We(a)||(s.colno=a),s}var TD=(e,t)=>{var r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:Od,r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},uY=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,dY=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,fY=/\((\S*)(?::(\d+))(?::(\d+))\)/,hY=(e,t)=>{var r=uY.exec(e);if(r){var[,n,a,s]=r;return IS(t,n,Od,+a,+s)}var i=dY.exec(e);if(i){if(i[2]&&i[2].indexOf("eval")===0){var l=fY.exec(i[2]);l&&(i[2]=l[1],i[3]=l[2],i[4]=l[3])}var[c,u]=TD(i[1]||Od,i[2]);return IS(t,u,c,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}},pY=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,mY=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,gY=(e,t)=>{var r=pY.exec(e);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){var n=mY.exec(r[3]);n&&(r[1]=r[1]||"eval",r[3]=n[1],r[4]=n[2],r[5]="")}var a=r[3],s=r[1]||Od;return[s,a]=TD(s,a),IS(t,a,s,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}},pT=/\(error: (.*)\)/,mT=50;function vY(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(a,s){s===void 0&&(s=0);for(var i=[],l=a.split(`
`),c=s;c<l.length;c++){var u=l[c];if(!(u.length>1024)){var d=pT.test(u)?u.replace(pT,"$1"):u;if(!d.match(/\S*Error: /)){for(var f of r){var h=f(d,e);if(h){i.push(h);break}}if(i.length>=mT)break}}}return function(g){if(!g.length)return[];var v=Array.from(g);return v.reverse(),v.slice(0,mT).map(m=>{return at({},m,{filename:m.filename||(y=v,y[y.length-1]||{}).filename,function:m.function||Od});var y})}(i)}}class yY{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,r){var n=sn(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:n?t.stack:void 0,cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?"DOMError":"DOMException"}getValue(t){var r=t.name||(this.isDOMError(t)?"DOMError":"DOMException");return t.message?r+": "+t.message:r}isDOMException(t){return Oy(t,"DOMException")}isDOMError(t){return Oy(t,"DOMError")}}class xY{match(t){return(r=>r instanceof Error)(t)}coerce(t,r){return{type:this.getType(t),value:this.getMessage(t,r),stack:this.getStack(t),cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,r){var n=t.message;return n.error&&typeof n.error.message=="string"?String(n.error.message):String(n)}getStack(t){return t.stacktrace||t.stack||void 0}}let bY=class{constructor(){}match(t){return Oy(t,"ErrorEvent")&&t.error!=null}coerce(t,r){var n,a=r.apply(t.error);return a||{type:"ErrorEvent",value:t.message,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}};var wY=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class _Y{match(t){return typeof t=="string"}coerce(t,r){var n,[a,s]=this.getInfos(t);return{type:a??"Error",value:s??t,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}getInfos(t){var r="Error",n=t,a=t.match(wY);return a&&(r=a[1],n=a[2]),[r,n]}}var SY=["fatal","error","warning","log","info","debug"];function OD(e,t){t===void 0&&(t=40);var r=Object.keys(e);if(r.sort(),!r.length)return"[object has no keys]";for(var n=r.length;n>0;n--){var a=r.slice(0,n).join(", ");if(!(a.length>t))return n===r.length||a.length<=t?a:a.slice(0,t)+"..."}return""}class jY{match(t){return typeof t=="object"&&t!==null}coerce(t,r){var n,a=this.getErrorPropertyFromObject(t);return a?r.apply(a):{type:this.getType(t),value:this.getValue(t),stack:(n=r.syntheticException)==null?void 0:n.stack,level:this.isSeverityLevel(t.level)?t.level:"error",synthetic:!0}}getType(t){return AD(t)?t.constructor.name:"Error"}getValue(t){if("name"in t&&typeof t.name=="string"){var r="'"+t.name+"' captured as exception";return"message"in t&&typeof t.message=="string"&&(r+=" with message: '"+t.message+"'"),r}if("message"in t&&typeof t.message=="string")return t.message;var n=this.getObjectClassName(t);return(n&&n!=="Object"?"'"+n+"'":"Object")+" captured as exception with keys: "+OD(t)}isSeverityLevel(t){return sn(t)&&!$S(t)&&SY.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];if(oY(n))return n}}getObjectClassName(t){try{var r=Object.getPrototypeOf(t);return r?r.constructor.name:void 0}catch{return}}}class kY{match(t){return AD(t)}coerce(t,r){var n,a=t.constructor.name;return{type:a,value:a+" captured as exception with keys: "+OD(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class EY{match(t){return RS(t)}coerce(t,r){var n;return{type:"Error",value:"Primitive value captured as exception: "+String(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}let NY=class{match(t){return Oy(t,"PromiseRejectionEvent")}coerce(t,r){var n,a=this.getUnhandledRejectionReason(t);return RS(a)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(a),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}:r.apply(a)}getUnhandledRejectionReason(t){if(RS(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}};var $D=function(e,t){var{debugEnabled:r}=t===void 0?{}:t,n={k:function(a){if(ye&&(Mi.DEBUG||vt.POSTHOG_DEBUG||r)&&!We(ye.console)&&ye.console){for(var s=("__rrweb_original__"in ye.console[a])?ye.console[a].__rrweb_original__:ye.console[a],i=arguments.length,l=new Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];s(e,...l)}},info:function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];n.k("log",...s)},warn:function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];n.k("warn",...s)},error:function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];n.k("error",...s)},critical:function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];console.error(e,...s)},uninitializedWarning:a=>{n.error("You must initialize PostHog before calling "+a)},createLogger:(a,s)=>$D(e+" "+a,s)};return n},Xe=$D("[PostHog.js]"),zr=Xe.createLogger,CY=zr("[ExternalScriptsLoader]"),gT=(e,t,r)=>{if(e.config.disable_external_dependency_loading)return CY.warn(t+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var n=Je==null?void 0:Je.querySelectorAll("script");if(n){for(var a,s=function(){if(n[i].src===t){var c=n[i];return c.__posthog_loading_callback_fired?{v:r()}:(c.addEventListener("load",u=>{c.__posthog_loading_callback_fired=!0,r(void 0,u)}),c.onerror=u=>r(u),{v:void 0})}},i=0;i<n.length;i++)if(a=s())return a.v}var l=()=>{if(!Je)return r("document not found");var c=Je.createElement("script");if(c.type="text/javascript",c.crossOrigin="anonymous",c.src=t,c.onload=f=>{c.__posthog_loading_callback_fired=!0,r(void 0,f)},c.onerror=f=>r(f),e.config.prepare_external_dependency_script&&(c=e.config.prepare_external_dependency_script(c)),!c)return r("prepare_external_dependency_script returned null");var u,d=Je.querySelectorAll("body > script");d.length>0?(u=d[0].parentNode)==null||u.insertBefore(c,d[0]):Je.body.appendChild(c)};Je!=null&&Je.body?l():Je==null||Je.addEventListener("DOMContentLoaded",l)};vt.__PosthogExtensions__=vt.__PosthogExtensions__||{},vt.__PosthogExtensions__.loadExternalDependency=(e,t,r)=>{var n="/static/"+t+".js?v="+e.version;if(t==="remote-config"&&(n="/array/"+e.config.token+"/config.js"),t==="toolbar"){var a=3e5;n=n+"&t="+Math.floor(Date.now()/a)*a}var s=e.requestRouter.endpointFor("assets",n);gT(e,s,r)},vt.__PosthogExtensions__.loadSiteApp=(e,t,r)=>{var n=e.requestRouter.endpointFor("api",t);gT(e,n,r)};var $y={};function fl(e,t,r){if(Jt(e)){if(oT&&e.forEach===oT)e.forEach(t,r);else if("length"in e&&e.length===+e.length){for(var n=0,a=e.length;n<a;n++)if(n in e&&t.call(r,e[n],n)===$y)return}}}function dr(e,t,r){if(!Ht(e)){if(Jt(e))return fl(e,t,r);if(rY(e)){for(var n of e.entries())if(t.call(r,n[1],n[0])===$y)return}else for(var a in e)if(PD.call(e,a)&&t.call(r,e[a],a)===$y)return}}var Dr=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return fl(r,function(a){for(var s in a)a[s]!==void 0&&(e[s]=a[s])}),e},yf=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return fl(r,function(a){fl(a,function(s){e.push(s)})}),e};function Qv(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n}var vT=function(e){try{return e()}catch{return}},PY=function(e){return function(){try{for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)}catch(a){Xe.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),Xe.critical(a)}}},K2=function(e){var t={};return dr(e,function(r,n){(sn(r)&&r.length>0||_i(r))&&(t[n]=r)}),t};function AY(e,t){return r=e,n=s=>sn(s)&&!Vs(t)?s.slice(0,t):s,a=new Set,function s(i,l){return i!==Object(i)?n?n(i,l):i:a.has(i)?void 0:(a.add(i),Jt(i)?(c=[],fl(i,u=>{c.push(s(u))})):(c={},dr(i,(u,d)=>{a.has(u)||(c[d]=s(u,d))})),c);var c}(r);var r,n,a}var TY=["herokuapp.com","vercel.app","netlify.app"];function OY(e){var t=e==null?void 0:e.hostname;if(!sn(t))return!1;var r=t.split(".").slice(-2).join(".");for(var n of TY)if(r===n)return!1;return!0}function RD(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function Vr(e,t,r,n){var{capture:a=!1,passive:s=!0}=n??{};e==null||e.addEventListener(t,r,{capture:a,passive:s})}var ID="$people_distinct_id",Dh="__alias",Fh="__timers",yT="$autocapture_disabled_server_side",MS="$heatmaps_enabled_server_side",xT="$exception_capture_enabled_server_side",LS="$error_tracking_suppression_rules",bT="$error_tracking_capture_extension_exceptions",wT="$web_vitals_enabled_server_side",MD="$dead_clicks_enabled_server_side",_T="$web_vitals_allowed_metrics",e1="$session_recording_remote_config",Ry="$sesid",LD="$session_is_sampled",Bu="$enabled_feature_flags",Bh="$early_access_features",DS="$feature_flag_details",Uh="$stored_person_properties",Kl="$stored_group_properties",FS="$surveys",Hg="$surveys_activated",Iy="$flag_call_reported",Li="$user_state",BS="$client_session_props",US="$capture_rate_limit",zS="$initial_campaign_params",qS="$initial_referrer_info",My="$initial_person_info",Ly="$epp",DD="__POSTHOG_TOOLBAR__",ah="$posthog_cookieless",$Y=[ID,Dh,"__cmpns",Fh,"$session_recording_enabled_server_side",MS,Ry,Bu,LS,Li,Bh,DS,Kl,Uh,FS,Iy,BS,US,zS,qS,Ly,My,"$conversations_widget_session_id","$conversations_ticket_id","$conversations_widget_state","$conversations_user_traits"];function ST(e){return e instanceof Element&&(e.id===DD||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function Rx(e){return!!e&&e.nodeType===1}function hl(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function FD(e){return!!e&&e.nodeType===3}function BD(e){return!!e&&e.nodeType===11}function G2(e){return e?Ox(e).split(/\s+/):[]}function jT(e){var t=ye==null?void 0:ye.location.href;return!!(t&&e&&e.some(r=>t.match(r)))}function Dy(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return G2(t)}function UD(e){return Ht(e)?null:Ox(e).split(/(\s+)/).filter(t=>Fp(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Ym(e){var t="";return WS(e)&&!VD(e)&&e.childNodes&&e.childNodes.length&&dr(e.childNodes,function(r){var n;FD(r)&&r.textContent&&(t+=(n=UD(r.textContent))!==null&&n!==void 0?n:"")}),Ox(t)}function zD(e){return We(e.target)?e.srcElement||null:(t=e.target)!=null&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var J2=["a","button","form","input","select","textarea","label"];function qD(e,t){if(We(t))return!0;var r,n=function(s){if(t.some(i=>s.matches(i)))return{v:!0}};for(var a of e)if(r=n(a))return r.v;return!1}function WD(e){var t=e.parentNode;return!(!t||!Rx(t))&&t}var RY=["next","previous","prev",">","<"],kT=10,ET=[".ph-no-rageclick",".ph-no-capture"];function IY(e,t){if(!ye||Y2(e))return!1;var r,n,a;if(Yi(t)?(r=!!t&&ET,n=void 0):(r=(a=t==null?void 0:t.css_selector_ignorelist)!==null&&a!==void 0?a:ET,n=t==null?void 0:t.content_ignorelist),r===!1)return!1;var{targetElementList:s}=HD(e,!1);return!function(i,l){if(i===!1||We(i))return!1;var c;if(i===!0)c=RY;else{if(!Jt(i))return!1;if(i.length>kT)return Xe.error("[PostHog] content_ignorelist array cannot exceed "+kT+" items. Use css_selector_ignorelist for more complex matching."),!1;c=i.map(u=>u.toLowerCase())}return l.some(u=>{var{safeText:d,ariaLabel:f}=u;return c.some(h=>d.includes(h)||f.includes(h))})}(n,s.map(i=>{var l;return{safeText:Ym(i).toLowerCase(),ariaLabel:((l=i.getAttribute("aria-label"))==null?void 0:l.toLowerCase().trim())||""}}))&&!qD(s,r)}var Y2=e=>!e||hl(e,"html")||!Rx(e),HD=(e,t)=>{if(!ye||Y2(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,n=[e],a=e;a.parentNode&&!hl(a,"body");)if(BD(a.parentNode))n.push(a.parentNode.host),a=a.parentNode.host;else{var s=WD(a);if(!s)break;if(t||J2.indexOf(s.tagName.toLowerCase())>-1)r=!0;else{var i=ye.getComputedStyle(s);i&&i.getPropertyValue("cursor")==="pointer"&&(r=!0)}n.push(s),a=s}return{parentIsUsefulElement:r,targetElementList:n}};function MY(e,t,r,n,a){var s,i,l,c;if(r===void 0&&(r=void 0),!ye||Y2(e)||(s=r)!=null&&s.url_allowlist&&!jT(r.url_allowlist)||(i=r)!=null&&i.url_ignorelist&&jT(r.url_ignorelist))return!1;if((l=r)!=null&&l.dom_event_allowlist){var u=r.dom_event_allowlist;if(u&&!u.some(v=>t.type===v))return!1}var{parentIsUsefulElement:d,targetElementList:f}=HD(e,n);if(!function(v,m){var y=m==null?void 0:m.element_allowlist;if(We(y))return!0;var x,w=function(_){if(y.some(S=>_.tagName.toLowerCase()===S))return{v:!0}};for(var b of v)if(x=w(b))return x.v;return!1}(f,r)||!qD(f,(c=r)==null?void 0:c.css_selector_allowlist))return!1;var h=ye.getComputedStyle(e);if(h&&h.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(a||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(a||["change","click"]).indexOf(t.type)>=0;default:return d?(a||["click"]).indexOf(t.type)>=0:(a||["click"]).indexOf(t.type)>=0&&(J2.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function WS(e){for(var t=e;t.parentNode&&!hl(t,"body");t=t.parentNode){var r=Dy(t);if(Rt(r,"ph-sensitive")||Rt(r,"ph-no-capture"))return!1}if(Rt(Dy(e),"ph-include"))return!0;var n=e.type||"";if(sn(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var a=e.name||e.id||"";return!(sn(a)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(a.replace(/[^a-zA-Z0-9]/g,"")))}function VD(e){return!!(hl(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||hl(e,"select")||hl(e,"textarea")||e.getAttribute("contenteditable")==="true")}var KD="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",LY=new RegExp("^(?:"+KD+")$"),DY=new RegExp(KD),GD="\\d{3}-?\\d{2}-?\\d{4}",FY=new RegExp("^("+GD+")$"),BY=new RegExp("("+GD+")");function Fp(e,t){return t===void 0&&(t=!0),!(Ht(e)||sn(e)&&(e=Ox(e),(t?LY:DY).test((e||"").replace(/[- ]/g,""))||(t?FY:BY).test(e)))}function JD(e){var t=Ym(e);return Fp(t=(t+" "+YD(e)).trim())?t:""}function YD(e){var t="";return e&&e.childNodes&&e.childNodes.length&&dr(e.childNodes,function(r){var n;if(r&&((n=r.tagName)==null?void 0:n.toLowerCase())==="span")try{var a=Ym(r);t=(t+" "+a).trim(),r.childNodes&&r.childNodes.length&&(t=(t+" "+YD(r)).trim())}catch(s){Xe.error("[AutoCapture]",s)}}),t}function UY(e){return function(t){var r=t.map(n=>{var a,s,i="";if(n.tag_name&&(i+=n.tag_name),n.attr_class)for(var l of(n.attr_class.sort(),n.attr_class))i+="."+l.replace(/"/g,"");var c=at({},n.text?{text:n.text}:{},{"nth-child":(a=n.nth_child)!==null&&a!==void 0?a:0,"nth-of-type":(s=n.nth_of_type)!==null&&s!==void 0?s:0},n.href?{href:n.href}:{},n.attr_id?{attr_id:n.attr_id}:{},n.attributes),u={};return Qv(c).sort((d,f)=>{var[h]=d,[g]=f;return h.localeCompare(g)}).forEach(d=>{var[f,h]=d;return u[NT(f.toString())]=NT(h.toString())}),i+=":",i+=Qv(u).map(d=>{var[f,h]=d;return f+'="'+h+'"'}).join("")});return r.join(";")}(function(t){return t.map(r=>{var n,a,s={text:(n=r.$el_text)==null?void 0:n.slice(0,400),tag_name:r.tag_name,href:(a=r.attr__href)==null?void 0:a.slice(0,2048),attr_class:zY(r),attr_id:r.attr__id,nth_child:r.nth_child,nth_of_type:r.nth_of_type,attributes:{}};return Qv(r).filter(i=>{var[l]=i;return l.indexOf("attr__")===0}).forEach(i=>{var[l,c]=i;return s.attributes[l]=c}),s})}(e))}function NT(e){return e.replace(/"|\\"/g,'\\"')}function zY(e){var t=e.attr__class;return t?Jt(t)?t:G2(t):void 0}let XD=class{constructor(t){this.disabled=t===!1;var r=pn(t)?t:{};this.thresholdPx=r.threshold_px||30,this.timeoutMs=r.timeout_ms||1e3,this.clickCount=r.click_count||3,this.clicks=[]}isRageClick(t,r,n){if(this.disabled)return!1;var a=this.clicks[this.clicks.length-1];if(a&&Math.abs(t-a.x)+Math.abs(r-a.y)<this.thresholdPx&&n-a.timestamp<this.timeoutMs){if(this.clicks.push({x:t,y:r,timestamp:n}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:t,y:r,timestamp:n}];return!1}};var t1="$copy_autocapture",zi=function(e){return e.GZipJS="gzip-js",e.Base64="base64",e}({}),Fy=e=>{var t=Je==null?void 0:Je.createElement("a");return We(t)?null:(t.href=e,t)},qY=function(e,t){var r,n;t===void 0&&(t="&");var a=[];return dr(e,function(s,i){We(s)||We(i)||i==="undefined"||(r=encodeURIComponent((l=>l instanceof File)(s)?s.name:s.toString()),n=encodeURIComponent(i),a[a.length]=n+"="+r)}),a.join(t)},By=function(e,t){for(var r,n=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),a=0;a<n.length;a++){var s=n[a].split("=");if(s[0]===t){r=s;break}}if(!Jt(r)||r.length<2)return"";var i=r[1];try{i=decodeURIComponent(i)}catch{Xe.error("Skipping decoding for malformed query param: "+i)}return i.replace(/\+/g," ")},Xm=function(e,t,r){if(!e||!t||!t.length)return e;for(var n=e.split("#"),a=n[0]||"",s=n[1],i=a.split("?"),l=i[1],c=i[0],u=(l||"").split("&"),d=[],f=0;f<u.length;f++){var h=u[f].split("=");Jt(h)&&(t.includes(h[0])?d.push(h[0]+"="+r):d.push(u[f]))}var g=c;return l!=null&&(g+="?"+d.join("&")),s!=null&&(g+="#"+s),g},Uy=function(e,t){var r=e.match(new RegExp(t+"=([^&]*)"));return r?r[1]:null},CT=zr("[AutoCapture]");function r1(e,t){return t.length>e?t.slice(0,e)+"...":t}function WY(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!Rx(t));return t}function HY(e,t,r,n){var a=e.tagName.toLowerCase(),s={tag_name:a};J2.indexOf(a)>-1&&!r&&(a.toLowerCase()==="a"||a.toLowerCase()==="button"?s.$el_text=r1(1024,JD(e)):s.$el_text=r1(1024,Ym(e)));var i=Dy(e);i.length>0&&(s.classes=i.filter(function(d){return d!==""})),dr(e.attributes,function(d){var f;if((!VD(e)||["name","id","class","aria-label"].indexOf(d.name)!==-1)&&(n==null||!n.includes(d.name))&&!t&&Fp(d.value)&&(f=d.name,!sn(f)||f.substring(0,10)!=="_ngcontent"&&f.substring(0,7)!=="_nghost")){var h=d.value;d.name==="class"&&(h=G2(h).join(" ")),s["attr__"+d.name]=r1(1024,h)}});for(var l=1,c=1,u=e;u=WY(u);)l++,u.tagName===e.tagName&&c++;return s.nth_child=l,s.nth_of_type=c,s}function VY(e,t){for(var r,n,{e:a,maskAllElementAttributes:s,maskAllText:i,elementAttributeIgnoreList:l,elementsChainAsString:c}=t,u=[e],d=e;d.parentNode&&!hl(d,"body");)BD(d.parentNode)?(u.push(d.parentNode.host),d=d.parentNode.host):(u.push(d.parentNode),d=d.parentNode);var f,h=[],g={},v=!1,m=!1;if(dr(u,_=>{var S=WS(_);_.tagName.toLowerCase()==="a"&&(v=_.getAttribute("href"),v=S&&v&&Fp(v)&&v),Rt(Dy(_),"ph-no-capture")&&(m=!0),h.push(HY(_,s,i,l));var E=function(j){if(!WS(j))return{};var k={};return dr(j.attributes,function(N){if(N.name&&N.name.indexOf("data-ph-capture-attribute")===0){var C=N.name.replace("data-ph-capture-attribute-",""),A=N.value;C&&A&&Fp(A)&&(k[C]=A)}}),k}(_);Dr(g,E)}),m)return{props:{},explicitNoCapture:m};if(i||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?h[0].$el_text=JD(e):h[0].$el_text=Ym(e)),v){var y,x;h[0].attr__href=v;var w=(y=Fy(v))==null?void 0:y.host,b=ye==null||(x=ye.location)==null?void 0:x.host;w&&b&&w!==b&&(f=v)}return{props:Dr({$event_type:a.type,$ce_version:1},c?{}:{$elements:h},{$elements_chain:UY(h)},(r=h[0])!=null&&r.$el_text?{$el_text:(n=h[0])==null?void 0:n.$el_text}:{},f&&a.type==="click"?{$external_click_url:f}:{},g)}}class KY{constructor(t){this.P=!1,this.T=null,this.C=!1,this.instance=t,this.rageclicks=new XD(t.config.rageclick),this.R=null}get I(){var t,r,n=pn(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)==null?void 0:t.map(a=>new RegExp(a)),n.url_ignorelist=(r=n.url_ignorelist)==null?void 0:r.map(a=>new RegExp(a)),n}F(){if(this.isBrowserSupported()){if(ye&&Je){var t=n=>{n=n||(ye==null?void 0:ye.event);try{this.M(n)}catch(a){CT.error("Failed to capture event",a)}};if(Vr(Je,"submit",t,{capture:!0}),Vr(Je,"change",t,{capture:!0}),Vr(Je,"click",t,{capture:!0}),this.I.capture_copied_text){var r=n=>{n=n||(ye==null?void 0:ye.event),this.M(n,t1)};Vr(Je,"copy",r,{capture:!0}),Vr(Je,"cut",r,{capture:!0})}}}else CT.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.F(),this.P=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.C=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[yT]:!!t.autocapture_opt_out}),this.T=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.R=t}getElementSelectors(t){var r,n=[];return(r=this.R)==null||r.forEach(a=>{var s=Je==null?void 0:Je.querySelectorAll(a);s==null||s.forEach(i=>{t===i&&n.push(a)})}),n}get isEnabled(){var t,r,n=(t=this.instance.persistence)==null?void 0:t.props[yT],a=this.T;if(Vs(a)&&!Yi(n)&&!this.instance.O())return!1;var s=(r=this.T)!==null&&r!==void 0?r:!!n;return!!this.instance.config.autocapture&&!s}M(t,r){if(r===void 0&&(r="$autocapture"),this.isEnabled){var n,a=zD(t);FD(a)&&(a=a.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,t.timeStamp||new Date().getTime())&&IY(a,this.instance.config.rageclick)&&this.M(t,"$rageclick");var s=r===t1;if(a&&MY(a,t,this.I,s,s?["copy","cut"]:void 0)){var{props:i,explicitNoCapture:l}=VY(a,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.I.element_attribute_ignorelist,elementsChainAsString:this.C});if(l)return!1;var c=this.getElementSelectors(a);if(c&&c.length>0&&(i.$element_selectors=c),r===t1){var u,d=UD(ye==null||(u=ye.getSelection())==null?void 0:u.toString()),f=t.type||"clipboard";if(!d)return!1;i.$selected_content=d,i.$copy_type=f}return this.instance.capture(r,i),!0}}}isBrowserSupported(){return dl(Je==null?void 0:Je.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return _i(e)&&isFinite(e)&&Math.floor(e)===e});var PT="0123456789abcdef";class zy{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,r,n,a){if(!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(a)||t<0||r<0||n<0||a<0||t>0xffffffffffff||r>4095||n>1073741823||a>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|r>>>8,s[7]=r,s[8]=128|n>>>24,s[9]=n>>>16,s[10]=n>>>8,s[11]=n,s[12]=a>>>24,s[13]=a>>>16,s[14]=a>>>8,s[15]=a,new zy(s)}toString(){for(var t="",r=0;r<this.bytes.length;r++)t=t+PT.charAt(this.bytes[r]>>>4)+PT.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new zy(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var r=0;r<16;r++){var n=this.bytes[r]-t.bytes[r];if(n!==0)return Math.sign(n)}return 0}}class GY{constructor(){this.A=0,this.D=0,this.j=new JY}generate(){var t=this.generateOrAbort();if(We(t)){this.A=0;var r=this.generateOrAbort();if(We(r))throw new Error("Could not generate UUID after timestamp reset");return r}return t}generateOrAbort(){var t=Date.now();if(t>this.A)this.A=t,this.L();else{if(!(t+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return zy.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var AT,QD=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};ye&&!We(ye.crypto)&&crypto.getRandomValues&&(QD=e=>crypto.getRandomValues(e));class JY{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(QD(this.N),this.U=0),this.N[this.U++]}}var el=()=>YY().toString(),YY=()=>(AT||(AT=new GY)).generate(),sh="",XY=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function QY(e,t){if(t){var r=function(a,s){if(s===void 0&&(s=Je),sh)return sh;if(!s||["localhost","127.0.0.1"].includes(a))return"";for(var i=a.split("."),l=Math.min(i.length,8),c="dmn_chk_"+el();!sh&&l--;){var u=i.slice(l).join("."),d=c+"=1;domain=."+u+";path=/";s.cookie=d+";max-age=3",s.cookie.includes(c)&&(s.cookie=d+";max-age=0",sh=u)}return sh}(e);if(!r){var n=(a=>{var s=a.match(XY);return s?s[0]:""})(e);n!==r&&Xe.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var vi={H:()=>!!Je,B:function(e){Xe.error("cookieStore error: "+e)},q:function(e){if(Je){try{for(var t=e+"=",r=Je.cookie.split(";").filter(s=>s.length),n=0;n<r.length;n++){for(var a=r[n];a.charAt(0)==" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return decodeURIComponent(a.substring(t.length,a.length))}}catch{}return null}},W:function(e){var t;try{t=JSON.parse(vi.q(e))||{}}catch{}return t},G:function(e,t,r,n,a){if(Je)try{var s="",i="",l=QY(Je.location.hostname,n);if(r){var c=new Date;c.setTime(c.getTime()+24*r*60*60*1e3),s="; expires="+c.toUTCString()}a&&(i="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+l+i;return u.length>3686.4&&Xe.warn("cookieStore warning: large cookie, len="+u.length),Je.cookie=u,u}catch{return}},V:function(e,t){if(Je!=null&&Je.cookie)try{vi.G(e,"",-1,t)}catch{return}}},n1=null,Pr={H:function(){if(!Vs(n1))return n1;var e=!0;if(We(ye))e=!1;else try{var t="__mplssupport__";Pr.G(t,"xyz"),Pr.q(t)!=='"xyz"'&&(e=!1),Pr.V(t)}catch{e=!1}return e||Xe.error("localStorage unsupported; falling back to cookie store"),n1=e,e},B:function(e){Xe.error("localStorage error: "+e)},q:function(e){try{return ye==null?void 0:ye.localStorage.getItem(e)}catch(t){Pr.B(t)}return null},W:function(e){try{return JSON.parse(Pr.q(e))||{}}catch{}return null},G:function(e,t){try{ye==null||ye.localStorage.setItem(e,JSON.stringify(t))}catch(r){Pr.B(r)}},V:function(e){try{ye==null||ye.localStorage.removeItem(e)}catch(t){Pr.B(t)}}},ZY=["distinct_id",Ry,LD,Ly,My],Vg=at({},Pr,{W:function(e){try{var t={};try{t=vi.W(e)||{}}catch{}var r=Dr(t,JSON.parse(Pr.q(e)||"{}"));return Pr.G(e,r),r}catch{}return null},G:function(e,t,r,n,a,s){try{Pr.G(e,t,void 0,void 0,s);var i={};ZY.forEach(l=>{t[l]&&(i[l]=t[l])}),Object.keys(i).length&&vi.G(e,i,r,n,a,s)}catch(l){Pr.B(l)}},V:function(e,t){try{ye==null||ye.localStorage.removeItem(e),vi.V(e,t)}catch(r){Pr.B(r)}}}),Kg={},eX={H:function(){return!0},B:function(e){Xe.error("memoryStorage error: "+e)},q:function(e){return Kg[e]||null},W:function(e){return Kg[e]||null},G:function(e,t){Kg[e]=t},V:function(e){delete Kg[e]}},Fl=null,jn={H:function(){if(!Vs(Fl))return Fl;if(Fl=!0,We(ye))Fl=!1;else try{var e="__support__";jn.G(e,"xyz"),jn.q(e)!=='"xyz"'&&(Fl=!1),jn.V(e)}catch{Fl=!1}return Fl},B:function(e){Xe.error("sessionStorage error: ",e)},q:function(e){try{return ye==null?void 0:ye.sessionStorage.getItem(e)}catch(t){jn.B(t)}return null},W:function(e){try{return JSON.parse(jn.q(e))||null}catch{}return null},G:function(e,t){try{ye==null||ye.sessionStorage.setItem(e,JSON.stringify(t))}catch(r){jn.B(r)}},V:function(e){try{ye==null||ye.sessionStorage.removeItem(e)}catch(t){jn.B(t)}}},Di=function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e}({});class tX{constructor(t){this._instance=t}get I(){return this._instance.config}get consent(){return this.J()?Di.DENIED:this.K}isOptedOut(){return this.I.cookieless_mode==="always"||this.consent===Di.DENIED||this.consent===Di.PENDING&&(this.I.opt_out_capturing_by_default||this.I.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===Di.DENIED}optInOut(t){this.Y.G(this.X,t?1:0,this.I.cookie_expiration,this.I.cross_subdomain_cookie,this.I.secure_cookie)}reset(){this.Y.V(this.X,this.I.cross_subdomain_cookie)}get X(){var{token:t,opt_out_capturing_cookie_prefix:r,consent_persistence_name:n}=this._instance.config;return n||(r?r+t:"__ph_opt_in_out_"+t)}get K(){var t=this.Y.q(this.X);return Qw(t)?Di.GRANTED:Rt(sY,t)?Di.DENIED:Di.PENDING}get Y(){if(!this.Z){var t=this.I.opt_out_capturing_persistence_type;this.Z=t==="localStorage"?Pr:vi;var r=t==="localStorage"?vi:Pr;r.q(this.X)&&(this.Z.q(this.X)||this.optInOut(Qw(r.q(this.X))),r.V(this.X,this.I.cross_subdomain_cookie))}return this.Z}J(){return!!this.I.respect_dnt&&!!RD([Da==null?void 0:Da.doNotTrack,Da==null?void 0:Da.msDoNotTrack,vt.doNotTrack],t=>Qw(t))}}var Gg=zr("[Dead Clicks]"),rX=()=>!0,nX=e=>{var t,r=!((t=e.instance.persistence)==null||!t.get_property(MD)),n=e.instance.config.capture_dead_clicks;return Yi(n)?n:!!pn(n)||r};class ZD{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(t,r,n){this.instance=t,this.isEnabled=r,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[MD]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it(()=>{this.et()})}it(t){var r,n;(r=vt.__PosthogExtensions__)!=null&&r.initDeadClicksAutocapture&&t(),(n=vt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",a=>{a?Gg.error("failed to load script",a):t()})}et(){var t;if(Je){if(!this.tt&&(t=vt.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture){var r=pn(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};r.__onCapture=this.onCapture,this.tt=vt.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,r),this.tt.start(Je),Gg.info("starting...")}}else Gg.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,Gg.info("stopping..."))}}var ih=zr("[ExceptionAutocapture]");class aX{constructor(t){var r,n,a;this.rt=()=>{var s;if(ye&&this.isEnabled&&(s=vt.__PosthogExtensions__)!=null&&s.errorWrappingFunctions){var i=vt.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,l=vt.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,c=vt.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.I.capture_unhandled_errors&&(this.st=i(this.captureException.bind(this))),!this.nt&&this.I.capture_unhandled_rejections&&(this.nt=l(this.captureException.bind(this))),!this.ot&&this.I.capture_console_errors&&(this.ot=c(this.captureException.bind(this)))}catch(u){ih.error("failed to start",u),this.lt()}}},this._instance=t,this.ut=!((r=this._instance.persistence)==null||!r.props[xT]),this.I=this.ht(),this.dt=new iY({refillRate:(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&n!==void 0?n:1,bucketSize:(a=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&a!==void 0?a:10,refillInterval:1e4,h:ih}),this.startIfEnabled()}ht(){var t=this._instance.config.capture_exceptions,r={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return pn(t)?r=at({},r,t):(We(t)?this.ut:t)&&(r=at({},r,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),r}get isEnabled(){return this.I.capture_console_errors||this.I.capture_unhandled_errors||this.I.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(ih.info("enabled"),this.it(this.rt))}it(t){var r,n;(r=vt.__PosthogExtensions__)!=null&&r.errorWrappingFunctions&&t(),(n=vt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"exception-autocapture",a=>{if(a)return ih.error("failed to load script",a);t()})}lt(){var t,r,n;(t=this.st)==null||t.call(this),this.st=void 0,(r=this.nt)==null||r.call(this),this.nt=void 0,(n=this.ot)==null||n.call(this),this.ot=void 0}onRemoteConfig(t){var r=t.autocaptureExceptions;this.ut=!!r||!1,this.I=this.ht(),this._instance.persistence&&this._instance.persistence.register({[xT]:this.ut}),this.startIfEnabled()}captureException(t){var r,n,a=(r=t==null||(n=t.$exception_list)==null||(n=n[0])==null?void 0:n.type)!==null&&r!==void 0?r:"Exception";this.dt.consumeRateLimit(a)?ih.info("Skipping exception capture because of client rate limiting.",{exception:a}):this._instance.exceptions.sendExceptionEvent(t)}}function TT(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],a=r(n);return dl(a)&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=a,()=>{e[t]=n}}catch{return()=>{}}}class sX{constructor(t){var r;this._instance=t,this.vt=(ye==null||(r=ye.location)==null?void 0:r.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(Xe.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,Xe.info("History API monitoring stopped")}monitorHistoryChanges(){var t,r;if(ye&&ye.history){var n=this;(t=ye.history.pushState)!=null&&t.__posthog_wrapped__||TT(ye.history,"pushState",a=>function(s,i,l){a.call(this,s,i,l),n.ft("pushState")}),(r=ye.history.replaceState)!=null&&r.__posthog_wrapped__||TT(ye.history,"replaceState",a=>function(s,i,l){a.call(this,s,i,l),n.ft("replaceState")}),this.gt()}}ft(t){try{var r,n=ye==null||(r=ye.location)==null?void 0:r.pathname;if(!n)return;n!==this.vt&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this.vt=n}catch(a){Xe.error("Error capturing "+t+" pageview",a)}}gt(){if(!this.ct){var t=()=>{this.ft("popstate")};Vr(ye,"popstate",t),this.ct=()=>{ye&&ye.removeEventListener("popstate",t)}}}}var a1=zr("[SegmentIntegration]");function iX(e,t){var r=e.config.segment;if(!r)return t();(function(n,a){var s=n.config.segment;if(!s)return a();var i=c=>{var u=()=>c.anonymousId()||el();n.config.get_device_id=u,c.id()&&(n.register({distinct_id:c.id(),$device_id:u()}),n.persistence.set_property(Li,"identified")),a()},l=s.user();"then"in l&&dl(l.then)?l.then(c=>i(c)):i(l)})(e,()=>{r.register((n=>{Promise&&Promise.resolve||a1.warn("This browser does not have Promise support, and can not use the segment integration");var a=(s,i)=>{if(!i)return s;s.event.userId||s.event.anonymousId===n.get_distinct_id()||(a1.info("No userId set, resetting PostHog"),n.reset()),s.event.userId&&s.event.userId!==n.get_distinct_id()&&(a1.info("UserId set, identifying with PostHog"),n.identify(s.event.userId));var l=n.calculateEventProperties(i,s.event.properties);return s.event.properties=Object.assign({},l,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>a(s,s.event.event),page:s=>a(s,"$pageview"),identify:s=>a(s,"$identify"),screen:s=>a(s,"$screen")}})(e)).then(()=>{t()})})}var e6="posthog-js";function t6(e,t){var{organization:r,projectId:n,prefix:a,severityAllowList:s=["error"],sendExceptionsToPostHog:i=!0}=t===void 0?{}:t;return l=>{var c,u,d,f,h;if(!(s==="*"||s.includes(l.level))||!e.__loaded)return l;l.tags||(l.tags={});var g=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());l.tags["PostHog Person URL"]=g,e.sessionRecordingStarted()&&(l.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var v=((c=l.exception)==null?void 0:c.values)||[],m=v.map(x=>at({},x,{stacktrace:x.stacktrace?at({},x.stacktrace,{type:"raw",frames:(x.stacktrace.frames||[]).map(w=>at({},w,{platform:"web:javascript"}))}):void 0})),y={$exception_message:((u=v[0])==null?void 0:u.value)||l.message,$exception_type:(d=v[0])==null?void 0:d.type,$exception_level:l.level,$exception_list:m,$sentry_event_id:l.event_id,$sentry_exception:l.exception,$sentry_exception_message:((f=v[0])==null?void 0:f.value)||l.message,$sentry_exception_type:(h=v[0])==null?void 0:h.type,$sentry_tags:l.tags};return r&&n&&(y.$sentry_url=(a||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+l.event_id),i&&e.exceptions.sendExceptionEvent(y),l}}class oX{constructor(t,r,n,a,s,i){this.name=e6,this.setupOnce=function(l){l(t6(t,{organization:r,projectId:n,prefix:a,severityAllowList:s,sendExceptionsToPostHog:i==null||i}))}}}var lX=ye!=null&&ye.location?Uy(ye.location.hash,"__posthog")||Uy(location.hash,"state"):null,OT="_postHogToolbarParams",$T=zr("[Toolbar]"),Co=function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e}(Co||{});class cX{constructor(t){this.instance=t}_t(t){vt.ph_toolbar_state=t}yt(){var t;return(t=vt.ph_toolbar_state)!==null&&t!==void 0?t:Co.UNINITIALIZED}maybeLoadToolbar(t,r,n){if(t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),!ye||!Je)return!1;t=t??ye.location,n=n??ye.history;try{if(!r){try{ye.localStorage.setItem("test","test"),ye.localStorage.removeItem("test")}catch{return!1}r=ye==null?void 0:ye.localStorage}var a,s=lX||Uy(t.hash,"__posthog")||Uy(t.hash,"state"),i=s?vT(()=>JSON.parse(atob(decodeURIComponent(s))))||vT(()=>JSON.parse(decodeURIComponent(s))):null;return i&&i.action==="ph_authorize"?((a=i).source="url",a&&Object.keys(a).length>0&&(i.desiredHash?t.hash=i.desiredHash:n?n.replaceState(n.state,"",t.pathname+t.search):t.hash="")):((a=JSON.parse(r.getItem(OT)||"{}")).source="localstorage",delete a.userIntent),!(!a.token||this.instance.config.token!==a.token)&&(this.loadToolbar(a),!0)}catch{return!1}}bt(t){var r=vt.ph_load_toolbar||vt.ph_load_editor;!Ht(r)&&dl(r)?r(t,this.instance):$T.warn("No toolbar load function found")}loadToolbar(t){var r=!(Je==null||!Je.getElementById(DD));if(!ye||r)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,a=at({token:this.instance.config.token},t,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(ye.localStorage.setItem(OT,JSON.stringify(at({},a,{source:void 0}))),this.yt()===Co.LOADED)this.bt(a);else if(this.yt()===Co.UNINITIALIZED){var s;this._t(Co.LOADING),(s=vt.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this.instance,"toolbar",i=>{if(i)return $T.error("[Toolbar] Failed to load",i),void this._t(Co.UNINITIALIZED);this._t(Co.LOADED),this.bt(a)}),Vr(ye,"turbolinks:load",()=>{this._t(Co.UNINITIALIZED),this.loadToolbar(a)})}return!0}wt(t){return this.loadToolbar(t)}maybeLoadEditor(t,r,n){return t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(t,r,n)}}var uX=zr("[TracingHeaders]");class dX{constructor(t){this.xt=void 0,this.Et=void 0,this.rt=()=>{var r,n;We(this.xt)&&((r=vt.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),We(this.Et)&&((n=vt.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}it(t){var r,n;(r=vt.__PosthogExtensions__)!=null&&r.tracingHeadersPatchFns&&t(),(n=vt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"tracing-headers",a=>{if(a)return uX.error("failed to load script",a);t()})}startIfEnabledOrStop(){var t,r;this._instance.config.__add_tracing_headers?this.it(this.rt):((t=this.xt)==null||t.call(this),(r=this.Et)==null||r.call(this),this.xt=void 0,this.Et=void 0)}}var is="Mobile",qy="iOS",di="Android",Bp="Tablet",r6=di+" "+Bp,n6="iPad",a6="Apple",s6=a6+" Watch",Up="Safari",$d="BlackBerry",i6="Samsung",o6=i6+"Browser",l6=i6+" Internet",Oc="Chrome",fX=Oc+" OS",c6=Oc+" "+qy,X2="Internet Explorer",u6=X2+" "+is,Q2="Opera",hX=Q2+" Mini",Z2="Edge",d6="Microsoft "+Z2,Yu="Firefox",f6=Yu+" "+qy,zp="Nintendo",qp="PlayStation",Xu="Xbox",h6=di+" "+is,p6=is+" "+Up,zh="Windows",HS=zh+" Phone",RT="Nokia",VS="Ouya",m6="Generic",pX=m6+" "+is.toLowerCase(),g6=m6+" "+Bp.toLowerCase(),KS="Konqueror",Jn="(\\d+(\\.\\d+)?)",s1=new RegExp("Version/"+Jn),mX=new RegExp(Xu,"i"),gX=new RegExp(qp+" \\w+","i"),vX=new RegExp(zp+" \\w+","i"),eN=new RegExp($d+"|PlayBook|BB10","i"),yX={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},xX=(e,t)=>t&&Rt(t,a6)||function(r){return Rt(r,Up)&&!Rt(r,Oc)&&!Rt(r,di)}(e),v6=function(e,t){return t=t||"",Rt(e," OPR/")&&Rt(e,"Mini")?hX:Rt(e," OPR/")?Q2:eN.test(e)?$d:Rt(e,"IE"+is)||Rt(e,"WPDesktop")?u6:Rt(e,o6)?l6:Rt(e,Z2)||Rt(e,"Edg/")?d6:Rt(e,"FBIOS")?"Facebook "+is:Rt(e,"UCWEB")||Rt(e,"UCBrowser")?"UC Browser":Rt(e,"CriOS")?c6:Rt(e,"CrMo")||Rt(e,Oc)?Oc:Rt(e,di)&&Rt(e,Up)?h6:Rt(e,"FxiOS")?f6:Rt(e.toLowerCase(),KS.toLowerCase())?KS:xX(e,t)?Rt(e,is)?p6:Up:Rt(e,Yu)?Yu:Rt(e,"MSIE")||Rt(e,"Trident/")?X2:Rt(e,"Gecko")?Yu:""},bX={[u6]:[new RegExp("rv:"+Jn)],[d6]:[new RegExp(Z2+"?\\/"+Jn)],[Oc]:[new RegExp("("+Oc+"|CrMo)\\/"+Jn)],[c6]:[new RegExp("CriOS\\/"+Jn)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Jn)],[Up]:[s1],[p6]:[s1],[Q2]:[new RegExp("(Opera|OPR)\\/"+Jn)],[Yu]:[new RegExp(Yu+"\\/"+Jn)],[f6]:[new RegExp("FxiOS\\/"+Jn)],[KS]:[new RegExp("Konqueror[:/]?"+Jn,"i")],[$d]:[new RegExp($d+" "+Jn),s1],[h6]:[new RegExp("android\\s"+Jn,"i")],[l6]:[new RegExp(o6+"\\/"+Jn)],[X2]:[new RegExp("(rv:|MSIE )"+Jn)],Mozilla:[new RegExp("rv:"+Jn)]},wX=function(e,t){var r=v6(e,t),n=bX[r];if(We(n))return null;for(var a=0;a<n.length;a++){var s=n[a],i=e.match(s);if(i)return parseFloat(i[i.length-2])}return null},IT=[[new RegExp(Xu+"; "+Xu+" (.*?)[);]","i"),e=>[Xu,e&&e[1]||""]],[new RegExp(zp,"i"),[zp,""]],[new RegExp(qp,"i"),[qp,""]],[eN,[$d,""]],[new RegExp(zh,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[HS,""];if(new RegExp(is).test(t)&&!/IEMobile\b/.test(t))return[zh+" "+is,""];var r=/Windows NT ([0-9.]+)/i.exec(t);if(r&&r[1]){var n=r[1],a=yX[n]||"";return/arm/i.test(t)&&(a="RT"),[zh,a]}return[zh,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[qy,t.join(".")]}return[qy,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=We(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+di+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+di+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[di,t.join(".")]}return[di,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var r=[e[1],e[2],e[3]||"0"];t[1]=r.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[fX,""]],[/Linux|debian/i,["Linux",""]]],MT=function(e){return vX.test(e)?zp:gX.test(e)?qp:mX.test(e)?Xu:new RegExp(VS,"i").test(e)?VS:new RegExp("("+HS+"|WPDesktop)","i").test(e)?HS:/iPad/.test(e)?n6:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?s6:eN.test(e)?$d:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(RT,"i").test(e)?RT:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(is).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?di:r6:di:new RegExp("(pda|"+is+")","i").test(e)?pX:new RegExp(Bp,"i").test(e)&&!new RegExp(Bp+" pc","i").test(e)?g6:""},Jg="https?://(.*)",xf=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],_X=yf(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],xf),Qm="<masked>",SX=["li_fat_id"];function y6(e,t,r){if(!Je)return{};var n,a=t?yf([],xf,r||[]):[],s=x6(Xm(Je.URL,a,Qm),e),i=(n={},dr(SX,function(l){var c=vi.q(l);n[l]=c||null}),n);return Dr(i,s)}function x6(e,t){var r=_X.concat(t||[]),n={};return dr(r,function(a){var s=By(e,a);n[a]=s||null}),n}function b6(e){var t=function(s){return s?s.search(Jg+"google.([^/?]*)")===0?"google":s.search(Jg+"bing.com")===0?"bing":s.search(Jg+"yahoo.com")===0?"yahoo":s.search(Jg+"duckduckgo.com")===0?"duckduckgo":null:null}(e),r=t!="yahoo"?"q":"p",n={};if(!Vs(t)){n.$search_engine=t;var a=Je?By(Je.referrer,r):"";a.length&&(n.ph_keyword=a)}return n}function LT(){return navigator.language||navigator.userLanguage}function w6(){return(Je==null?void 0:Je.referrer)||"$direct"}function _6(e,t){var r=e?yf([],xf,t||[]):[],n=ma==null?void 0:ma.href.substring(0,1e3);return{r:w6().substring(0,1e3),u:n?Xm(n,r,Qm):void 0}}function S6(e){var t,{r,u:n}=e,a={$referrer:r,$referring_domain:r==null?void 0:r=="$direct"?"$direct":(t=Fy(r))==null?void 0:t.host};if(n){a.$current_url=n;var s=Fy(n);a.$host=s==null?void 0:s.host,a.$pathname=s==null?void 0:s.pathname;var i=x6(n);Dr(a,i)}if(r){var l=b6(r);Dr(a,l)}return a}function j6(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function jX(){try{return new Date().getTimezoneOffset()}catch{return}}function kX(e,t){if(!fa)return{};var r,n,a,s=e?yf([],xf,t||[]):[],[i,l]=function(c){for(var u=0;u<IT.length;u++){var[d,f]=IT[u],h=d.exec(c),g=h&&(dl(f)?f(h,c):f);if(g)return g}return["",""]}(fa);return Dr(K2({$os:i,$os_version:l,$browser:v6(fa,navigator.vendor),$device:MT(fa),$device_type:(n=fa,a=MT(n),a===n6||a===r6||a==="Kobo"||a==="Kindle Fire"||a===g6?Bp:a===zp||a===Xu||a===qp||a===VS?"Console":a===s6?"Wearable":a?is:"Desktop"),$timezone:j6(),$timezone_offset:jX()}),{$current_url:Xm(ma==null?void 0:ma.href,s,Qm),$host:ma==null?void 0:ma.host,$pathname:ma==null?void 0:ma.pathname,$raw_user_agent:fa.length>1e3?fa.substring(0,997)+"...":fa,$browser_version:wX(fa,navigator.vendor),$browser_language:LT(),$browser_language_prefix:(r=LT(),typeof r=="string"?r.split("-")[0]:void 0),$screen_height:ye==null?void 0:ye.screen.height,$screen_width:ye==null?void 0:ye.screen.width,$viewport_height:ye==null?void 0:ye.innerHeight,$viewport_width:ye==null?void 0:ye.innerWidth,$lib:"web",$lib_version:Mi.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var _o=zr("[Web Vitals]"),DT=9e5;class EX{constructor(t){var r;this.St=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.$t=()=>{clearTimeout(this.kt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce((n,a)=>at({},n,{["$web_vitals_"+a.name+"_event"]:at({},a),["$web_vitals_"+a.name+"_value"]:a.value}),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=n=>{var a,s=(a=this._instance.sessionManager)==null?void 0:a.checkAndGetSessionAndWindowId(!0);if(We(s))_o.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var i=this.Tt();We(i)||(Ht(n==null?void 0:n.name)||Ht(n==null?void 0:n.value)?_o.error("Invalid metric received",n):this.Ct&&n.value>=this.Ct?_o.error("Ignoring metric with value >= "+this.Ct,n):(this.N.url!==i&&(this.$t(),this.kt=setTimeout(this.$t,this.flushToCaptureTimeoutMs)),We(this.N.url)&&(this.N.url=i),this.N.firstMetricTimestamp=We(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,n.attribution&&n.attribution.interactionTargetElement&&(n.attribution.interactionTargetElement=void 0),this.N.metrics.push(at({},n,{$current_url:i,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.$t()))}},this.rt=()=>{var n,a,s,i,l=vt.__PosthogExtensions__;We(l)||We(l.postHogWebVitalsCallbacks)||({onLCP:n,onCLS:a,onFCP:s,onINP:i}=l.postHogWebVitalsCallbacks),n&&a&&s&&i?(this.allowedMetrics.indexOf("LCP")>-1&&n(this.Pt.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&a(this.Pt.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this.Pt.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&i(this.Pt.bind(this)),this.P=!0):_o.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.St=!((r=this._instance.persistence)==null||!r.props[wT]),this.startIfEnabled()}get allowedMetrics(){var t,r,n=pn(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return We(n)?((r=this._instance.persistence)==null?void 0:r.props[_T])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(pn(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Ct(){var t=pn(this._instance.config.capture_performance)&&_i(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:DT;return 0<t&&t<=6e4?DT:t}get isEnabled(){var t=ma==null?void 0:ma.protocol;if(t!=="http:"&&t!=="https:")return _o.info("Web Vitals are disabled on non-http/https protocols"),!1;var r=pn(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Yi(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Yi(r)?r:this.St}startIfEnabled(){this.isEnabled&&!this.P&&(_o.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(t){var r=pn(t.capturePerformance)&&!!t.capturePerformance.web_vitals,n=pn(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[wT]:r}),this._instance.persistence.register({[_T]:n})),this.St=r,this.startIfEnabled()}it(t){var r,n;(r=vt.__PosthogExtensions__)!=null&&r.postHogWebVitalsCallbacks&&t(),(n=vt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"web-vitals",a=>{a?_o.error("failed to load script",a):t()})}Tt(){var t=ye?ye.location.href:void 0;if(t){var r=this._instance.config.mask_personal_data_properties,n=this._instance.config.custom_personal_data_properties,a=r?yf([],xf,n||[]):[];return Xm(t,a,Qm)}_o.error("Could not determine current URL")}}var NX=zr("[Heatmaps]");function FT(e){return pn(e)&&"clientX"in e&&"clientY"in e&&_i(e.clientX)&&_i(e.clientY)}class CX{constructor(t){var r;this.St=!1,this.P=!1,this.Rt=null,this.instance=t,this.St=!((r=this.instance.persistence)==null||!r.props[MS]),this.rageclicks=new XD(t.config.rageclick)}get flushIntervalMilliseconds(){var t=5e3;return pn(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return We(this.instance.config.capture_heatmaps)?We(this.instance.config.enable_heatmaps)?this.St:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;NX.info("starting..."),this.It(),this.Ft()}else{var t;clearInterval((t=this.Rt)!==null&&t!==void 0?t:void 0),this.Mt(),this.getAndClearBuffer()}}onRemoteConfig(t){var r=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[MS]:r}),this.St=r,this.startIfEnabled()}getAndClearBuffer(){var t=this.N;return this.N=void 0,t}Ot(t){this.At(t.originalEvent,"deadclick")}Ft(){this.Rt&&clearInterval(this.Rt),this.Rt=function(t){return(t==null?void 0:t.visibilityState)==="visible"}(Je)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}It(){ye&&Je&&(this.jt=this.Dt.bind(this),Vr(ye,"beforeunload",this.jt),this.Lt=t=>this.At(t||(ye==null?void 0:ye.event)),Vr(Je,"click",this.Lt,{capture:!0}),this.Nt=t=>this.Ut(t||(ye==null?void 0:ye.event)),Vr(Je,"mousemove",this.Nt,{capture:!0}),this.zt=new ZD(this.instance,rX,this.Ot.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ft.bind(this),Vr(Je,"visibilitychange",this.Ht),this.P=!0)}Mt(){var t;ye&&Je&&(this.jt&&ye.removeEventListener("beforeunload",this.jt),this.Lt&&Je.removeEventListener("click",this.Lt,{capture:!0}),this.Nt&&Je.removeEventListener("mousemove",this.Nt,{capture:!0}),this.Ht&&Je.removeEventListener("visibilitychange",this.Ht),clearTimeout(this.Bt),(t=this.zt)==null||t.stop(),this.P=!1)}qt(t,r){var n=this.instance.scrollManager.scrollY(),a=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),i=function(l,c,u){for(var d=l;d&&Rx(d)&&!hl(d,"body");){if(d===u)return!1;if(Rt(c,ye==null?void 0:ye.getComputedStyle(d).position))return!0;d=WD(d)}return!1}(zD(t),["fixed","sticky"],s);return{x:t.clientX+(i?0:a),y:t.clientY+(i?0:n),target_fixed:i,type:r}}At(t,r){var n;if(r===void 0&&(r="click"),!ST(t.target)&&FT(t)){var a=this.qt(t,r);(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.Wt(at({},a,{type:"rageclick"})),this.Wt(a)}}Ut(t){!ST(t.target)&&FT(t)&&(clearTimeout(this.Bt),this.Bt=setTimeout(()=>{this.Wt(this.qt(t,"mousemove"))},500))}Wt(t){if(ye){var r=ye.location.href,n=this.instance.config.mask_personal_data_properties,a=this.instance.config.custom_personal_data_properties,s=n?yf([],xf,a||[]):[],i=Xm(r,s,Qm);this.N=this.N||{},this.N[i]||(this.N[i]=[]),this.N[i].push(t)}}Dt(){this.N&&!Fu(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class PX{constructor(t){this._instance=t}doPageView(t,r){var n,a=this.Gt(t,r);return this.Vt={pathname:(n=ye==null?void 0:ye.location.pathname)!==null&&n!==void 0?n:"",pageViewId:r,timestamp:t},this._instance.scrollManager.resetContext(),a}doPageLeave(t){var r;return this.Gt(t,(r=this.Vt)==null?void 0:r.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.Vt)==null?void 0:t.pageViewId}}Gt(t,r){var n=this.Vt;if(!n)return{$pageview_id:r};var a={$pageview_id:r,$prev_pageview_id:n.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:i,lastScrollY:l,maxScrollY:c,maxContentHeight:u,lastContentY:d,maxContentY:f}=s;if(!(We(i)||We(l)||We(c)||We(u)||We(d)||We(f))){i=Math.ceil(i),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d),f=Math.ceil(f);var h=i<=1?1:ui(l/i,0,1,Xe),g=i<=1?1:ui(c/i,0,1,Xe),v=u<=1?1:ui(d/u,0,1,Xe),m=u<=1?1:ui(f/u,0,1,Xe);a=Dr(a,{$prev_pageview_last_scroll:l,$prev_pageview_last_scroll_percentage:h,$prev_pageview_max_scroll:c,$prev_pageview_max_scroll_percentage:g,$prev_pageview_last_content:d,$prev_pageview_last_content_percentage:v,$prev_pageview_max_content:f,$prev_pageview_max_content_percentage:m})}}return n.pathname&&(a.$prev_pageview_pathname=n.pathname),n.timestamp&&(a.$prev_pageview_duration=(t.getTime()-n.timestamp.getTime())/1e3),a}}var os=Uint8Array,ya=Uint16Array,Rd=Uint32Array,tN=new os([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rN=new os([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),BT=new os([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k6=function(e,t){for(var r=new ya(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var a=new Rd(r[30]);for(n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return[r,a]},E6=k6(tN,2),AX=E6[0],GS=E6[1];AX[28]=258,GS[258]=28;for(var UT=k6(rN,0)[1],N6=new ya(32768),yr=0;yr<32768;++yr){var Bl=(43690&yr)>>>1|(21845&yr)<<1;Bl=(61680&(Bl=(52428&Bl)>>>2|(13107&Bl)<<2))>>>4|(3855&Bl)<<4,N6[yr]=((65280&Bl)>>>8|(255&Bl)<<8)>>>1}var ip=function(e,t,r){for(var n=e.length,a=0,s=new ya(t);a<n;++a)++s[e[a]-1];var i,l=new ya(t);for(a=0;a<t;++a)l[a]=l[a-1]+s[a-1]<<1;for(i=new ya(n),a=0;a<n;++a)i[a]=N6[l[e[a]-1]++]>>>15-e[a];return i},$c=new os(288);for(yr=0;yr<144;++yr)$c[yr]=8;for(yr=144;yr<256;++yr)$c[yr]=9;for(yr=256;yr<280;++yr)$c[yr]=7;for(yr=280;yr<288;++yr)$c[yr]=8;var Wy=new os(32);for(yr=0;yr<32;++yr)Wy[yr]=5;var TX=ip($c,9),OX=ip(Wy,5),C6=function(e){return(e/8>>0)+(7&e&&1)},P6=function(e,t,r){(r==null||r>e.length)&&(r=e.length);var n=new(e instanceof ya?ya:e instanceof Rd?Rd:os)(r-t);return n.set(e.subarray(t,r)),n},Ai=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},oh=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},i1=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return[new os(0),0];if(a==1){var i=new os(r[0].s+1);return i[r[0].s]=1,[i,1]}r.sort(function(S,E){return S.f-E.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};var h=s[0].s;for(n=1;n<a;++n)s[n].s>h&&(h=s[n].s);var g=new ya(h+1),v=JS(r[d-1],g,0);if(v>t){n=0;var m=0,y=v-t,x=1<<y;for(s.sort(function(S,E){return g[E.s]-g[S.s]||S.f-E.f});n<a;++n){var w=s[n].s;if(!(g[w]>t))break;m+=x-(1<<v-g[w]),g[w]=t}for(m>>>=y;m>0;){var b=s[n].s;g[b]<t?m-=1<<t-g[b]++-1:++n}for(;n>=0&&m;--n){var _=s[n].s;g[_]==t&&(--g[_],++m)}v=t}return[new os(g),v]},JS=function(e,t,r){return e.s==-1?Math.max(JS(e.l,t,r+1),JS(e.r,t,r+1)):t[e.s]=r},zT=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ya(++t),n=0,a=e[0],s=1,i=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=e[l]}return[r.subarray(0,n),t]},lh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},YS=function(e,t,r){var n=r.length,a=C6(t+2);e[a]=255&n,e[a+1]=n>>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var s=0;s<n;++s)e[a+s+4]=r[s];return 8*(a+4+n)},qT=function(e,t,r,n,a,s,i,l,c,u,d){Ai(t,d++,r),++a[256];for(var f=i1(a,15),h=f[0],g=f[1],v=i1(s,15),m=v[0],y=v[1],x=zT(h),w=x[0],b=x[1],_=zT(m),S=_[0],E=_[1],j=new ya(19),k=0;k<w.length;++k)j[31&w[k]]++;for(k=0;k<S.length;++k)j[31&S[k]]++;for(var N=i1(j,7),C=N[0],A=N[1],I=19;I>4&&!C[BT[I-1]];--I);var B,z,M,$,F=u+5<<3,O=lh(a,$c)+lh(s,Wy)+i,L=lh(a,h)+lh(s,m)+i+14+3*I+lh(j,C)+(2*j[16]+3*j[17]+7*j[18]);if(F<=O&&F<=L)return YS(t,d,e.subarray(c,c+u));if(Ai(t,d,1+(L<O)),d+=2,L<O){B=ip(h,g),z=h,M=ip(m,y),$=m;var Q=ip(C,A);for(Ai(t,d,b-257),Ai(t,d+5,E-1),Ai(t,d+10,I-4),d+=14,k=0;k<I;++k)Ai(t,d+3*k,C[BT[k]]);d+=3*I;for(var T=[w,S],D=0;D<2;++D){var Y=T[D];for(k=0;k<Y.length;++k){var q=31&Y[k];Ai(t,d,Q[q]),d+=C[q],q>15&&(Ai(t,d,Y[k]>>>5&127),d+=Y[k]>>>12)}}}else B=TX,z=$c,M=OX,$=Wy;for(k=0;k<l;++k)if(n[k]>255){q=n[k]>>>18&31,oh(t,d,B[q+257]),d+=z[q+257],q>7&&(Ai(t,d,n[k]>>>23&31),d+=tN[q]);var ie=31&n[k];oh(t,d,M[ie]),d+=$[ie],ie>3&&(oh(t,d,n[k]>>>5&8191),d+=rN[ie])}else oh(t,d,B[n[k]]),d+=z[n[k]];return oh(t,d,B[256]),d+z[256]},$X=new Rd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),RX=function(){for(var e=new Rd(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&3988292384)^r>>>1;e[t]=r}return e}(),IX=function(e,t,r,n,a){return function(s,i,l,c,u,d){var f=s.length,h=new os(c+f+5*(1+Math.floor(f/7e3))+u),g=h.subarray(c,h.length-u),v=0;if(!i||f<8)for(var m=0;m<=f;m+=65535){var y=m+65535;y<f?v=YS(g,v,s.subarray(m,y)):(g[m]=d,v=YS(g,v,s.subarray(m,f)))}else{for(var x=$X[i-1],w=x>>>13,b=8191&x,_=(1<<l)-1,S=new ya(32768),E=new ya(_+1),j=Math.ceil(l/3),k=2*j,N=function(_e){return(s[_e]^s[_e+1]<<j^s[_e+2]<<k)&_},C=new Rd(25e3),A=new ya(288),I=new ya(32),B=0,z=0,M=(m=0,0),$=0,F=0;m<f;++m){var O=N(m),L=32767&m,Q=E[O];if(S[L]=Q,E[O]=L,$<=m){var T=f-m;if((B>7e3||M>24576)&&T>423){v=qT(s,g,0,C,A,I,z,M,F,m-F,v),M=B=z=0,F=m;for(var D=0;D<286;++D)A[D]=0;for(D=0;D<30;++D)I[D]=0}var Y=2,q=0,ie=b,le=L-Q&32767;if(T>2&&O==N(m-le))for(var K=Math.min(w,T)-1,Z=Math.min(32767,m),H=Math.min(258,T);le<=Z&&--ie&&L!=Q;){if(s[m+Y]==s[m+Y-le]){for(var X=0;X<H&&s[m+X]==s[m+X-le];++X);if(X>Y){if(Y=X,q=le,X>K)break;var ce=Math.min(le,X-2),J=0;for(D=0;D<ce;++D){var oe=m-le+D+32768&32767,ne=oe-S[oe]+32768&32767;ne>J&&(J=ne,Q=oe)}}}le+=(L=Q)-(Q=S[L])+32768&32767}if(q){C[M++]=268435456|GS[Y]<<18|UT[q];var he=31&GS[Y],fe=31&UT[q];z+=tN[he]+rN[fe],++A[257+he],++I[fe],$=m+Y,++B}else C[M++]=s[m],++A[s[m]]}}v=qT(s,g,d,C,A,I,z,M,F,m-F,v)}return P6(h,0,c+C6(v)+u)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!0)},o1=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};function MX(e,t){t===void 0&&(t={});var r=function(){var l=4294967295;return{p:function(c){for(var u=l,d=0;d<c.length;++d)u=RX[255&u^c[d]]^u>>>8;l=u},d:function(){return 4294967295^l}}}(),n=e.length;r.p(e);var a,s=IX(e,t,10+((a=t).filename&&a.filename.length+1||0),8),i=s.length;return function(l,c){var u=c.filename;if(l[0]=31,l[1]=139,l[2]=8,l[8]=c.level<2?4:c.level==9?2:0,l[9]=3,c.mtime!=0&&o1(l,4,Math.floor(new Date(c.mtime||Date.now())/1e3)),u){l[3]=8;for(var d=0;d<=u.length;++d)l[d+10]=u.charCodeAt(d)}}(s,t),o1(s,i-8,r.d()),o1(s,i-4,n),s}var LX=function(e){var t,r,n,a,s="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,a=0;a<n;a++){var i=e.charCodeAt(a),l=null;i<128?r++:l=i>127&&i<2048?String.fromCharCode(i>>6|192,63&i|128):String.fromCharCode(i>>12|224,i>>6&63|128,63&i|128),Vs(l)||(r>t&&(s+=e.substring(t,r)),s+=l,t=r=a+1)}return r>t&&(s+=e.substring(t,e.length)),s},DX=!!TS||!!AS,WT="text/plain",Hy=function(e,t,r){var n;r===void 0&&(r=!0);var[a,s]=e.split("?"),i=at({},t),l=(n=s==null?void 0:s.split("&").map(u=>{var d,[f,h]=u.split("="),g=r&&(d=i[f])!==null&&d!==void 0?d:h;return delete i[f],f+"="+g}))!==null&&n!==void 0?n:[],c=qY(i);return c&&l.push(c),a+"?"+l.join("&")},qh=(e,t)=>JSON.stringify(e,(r,n)=>typeof n=="bigint"?n.toString():n,t),l1=e=>{var{data:t,compression:r}=e;if(t){if(r===zi.GZipJS){var n=MX(function(c,u){var d=c.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(c);for(var f=new os(c.length+(c.length>>>1)),h=0,g=function(x){f[h++]=x},v=0;v<d;++v){if(h+5>f.length){var m=new os(h+8+(d-v<<1));m.set(f),f=m}var y=c.charCodeAt(v);y<128||u?g(y):y<2048?(g(192|y>>>6),g(128|63&y)):y>55295&&y<57344?(g(240|(y=65536+(1047552&y)|1023&c.charCodeAt(++v))>>>18),g(128|y>>>12&63),g(128|y>>>6&63),g(128|63&y)):(g(224|y>>>12),g(128|y>>>6&63),g(128|63&y))}return P6(f,0,h)}(qh(t)),{mtime:0}),a=new Blob([n],{type:WT});return{contentType:WT,body:a,estimatedSize:a.size}}if(r===zi.Base64){var s=function(c){var u,d,f,h,g,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m=0,y=0,x="",w=[];if(!c)return c;c=LX(c);do u=(g=c.charCodeAt(m++)<<16|c.charCodeAt(m++)<<8|c.charCodeAt(m++))>>18&63,d=g>>12&63,f=g>>6&63,h=63&g,w[y++]=v.charAt(u)+v.charAt(d)+v.charAt(f)+v.charAt(h);while(m<c.length);switch(x=w.join(""),c.length%3){case 1:x=x.slice(0,-2)+"==";break;case 2:x=x.slice(0,-1)+"="}return x}(qh(t)),i=(c=>"data="+encodeURIComponent(typeof c=="string"?c:qh(c)))(s);return{contentType:"application/x-www-form-urlencoded",body:i,estimatedSize:new Blob([i]).size}}var l=qh(t);return{contentType:"application/json",body:l,estimatedSize:new Blob([l]).size}}},Zv=[];AS&&Zv.push({transport:"fetch",method:e=>{var t,r,{contentType:n,body:a,estimatedSize:s}=(t=l1(e))!==null&&t!==void 0?t:{},i=new Headers;dr(e.headers,function(d,f){i.append(f,d)}),n&&i.append("Content-Type",n);var l=e.url,c=null;if(cT){var u=new cT;c={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}AS(l,at({method:(e==null?void 0:e.method)||"GET",headers:i,keepalive:e.method==="POST"&&(s||0)<52428.8,body:a,signal:(r=c)==null?void 0:r.signal},e.fetchOptions)).then(d=>d.text().then(f=>{var h={statusCode:d.status,text:f};if(d.status===200)try{h.json=JSON.parse(f)}catch(g){Xe.error(g)}e.callback==null||e.callback(h)})).catch(d=>{Xe.error(d),e.callback==null||e.callback({statusCode:0,text:d})}).finally(()=>c?clearTimeout(c.timeout):null)}}),TS&&Zv.push({transport:"XHR",method:e=>{var t,r=new TS;r.open(e.method||"GET",e.url,!0);var{contentType:n,body:a}=(t=l1(e))!==null&&t!==void 0?t:{};dr(e.headers,function(s,i){r.setRequestHeader(i,s)}),n&&r.setRequestHeader("Content-Type",n),e.timeout&&(r.timeout=e.timeout),e.disableXHRCredentials||(r.withCredentials=!0),r.onreadystatechange=()=>{if(r.readyState===4){var s={statusCode:r.status,text:r.responseText};if(r.status===200)try{s.json=JSON.parse(r.responseText)}catch{}e.callback==null||e.callback(s)}},r.send(a)}}),Da!=null&&Da.sendBeacon&&Zv.push({transport:"sendBeacon",method:e=>{var t=Hy(e.url,{beacon:"1"});try{var r,{contentType:n,body:a}=(r=l1(e))!==null&&r!==void 0?r:{},s=typeof a=="string"?new Blob([a],{type:n}):a;Da.sendBeacon(t,s)}catch{}}});var Vy=function(e,t){if(!function(r){try{new RegExp(r)}catch{return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch{return!1}};function HT(e,t,r){return qh({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:r})}var A6={exact:(e,t)=>t.some(r=>e.some(n=>r===n)),is_not:(e,t)=>t.every(r=>e.every(n=>r!==n)),regex:(e,t)=>t.some(r=>e.some(n=>Vy(r,n))),not_regex:(e,t)=>t.every(r=>e.every(n=>!Vy(r,n))),icontains:(e,t)=>t.map(Yg).some(r=>e.map(Yg).some(n=>r.includes(n))),not_icontains:(e,t)=>t.map(Yg).every(r=>e.map(Yg).every(n=>!r.includes(n)))},Yg=e=>e.toLowerCase();function T6(e,t){return!e||Object.entries(e).every(r=>{var[n,a]=r,s=t==null?void 0:t[n];if(We(s)||Vs(s))return!1;var i=[String(s)],l=A6[a.operator];return!!l&&l(a.values,i)})}var c1=zr("[Error tracking]");class FX{constructor(t){var r,n;this.Jt=[],this.Kt=new cY([new yY,new NY,new bY,new xY,new kY,new jY,new _Y,new EY],vY("web:javascript",hY,gY)),this._instance=t,this.Jt=(r=(n=this._instance.persistence)==null?void 0:n.get_property(LS))!==null&&r!==void 0?r:[]}onRemoteConfig(t){var r,n,a,s=(r=(n=t.errorTracking)==null?void 0:n.suppressionRules)!==null&&r!==void 0?r:[],i=(a=t.errorTracking)==null?void 0:a.captureExtensionExceptions;this.Jt=s,this._instance.persistence&&this._instance.persistence.register({[LS]:this.Jt,[bT]:i})}get Yt(){var t,r=!!this._instance.get_property(bT),n=this._instance.config.error_tracking.captureExtensionExceptions;return(t=n??r)!==null&&t!==void 0&&t}buildProperties(t,r){return this.Kt.buildFromUnknown(t,{syntheticException:r==null?void 0:r.syntheticException,mechanism:{handled:r==null?void 0:r.handled}})}sendExceptionEvent(t){var r=t.$exception_list;if(this.Xt(r)){if(this.Qt(r))return void c1.info("Skipping exception capture because a suppression rule matched");if(!this.Yt&&this.Zt(r))return void c1.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(r))return void c1.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}Qt(t){if(t.length===0)return!1;var r=t.reduce((n,a)=>{var{type:s,value:i}=a;return sn(s)&&s.length>0&&n.$exception_types.push(s),sn(i)&&i.length>0&&n.$exception_values.push(i),n},{$exception_types:[],$exception_values:[]});return this.Jt.some(n=>{var a=n.values.map(s=>{var i,l=A6[s.operator],c=Jt(s.value)?s.value:[s.value],u=(i=r[s.key])!==null&&i!==void 0?i:[];return c.length>0&&l(c,u)});return n.type==="OR"?a.some(Boolean):a.every(Boolean)})}Zt(t){return t.flatMap(r=>{var n,a;return(n=(a=r.stacktrace)==null?void 0:a.frames)!==null&&n!==void 0?n:[]}).some(r=>r.filename&&r.filename.startsWith("chrome-extension://"))}ti(t){if(t.length>0){var r,n,a,s,i=(r=(n=t[0].stacktrace)==null?void 0:n.frames)!==null&&r!==void 0?r:[],l=i[i.length-1];return(a=l==null||(s=l.filename)==null?void 0:s.includes("posthog.com/static"))!==null&&a!==void 0&&a}return!1}Xt(t){return!Ht(t)&&Jt(t)}}var _s=zr("[FeatureFlags]"),ch=zr("[FeatureFlags]",{debugEnabled:!0}),u1="$active_feature_flags",au="$override_feature_flags",VT="$feature_flag_payloads",uh="$override_feature_flag_payloads",KT="$feature_flag_request_id",GT="$feature_flag_evaluated_at",JT=e=>{var t={};for(var[r,n]of Qv(e||{}))n&&(t[r]=n);return t},BX=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map(r=>{var n;return[r,(n=t[r].variant)!==null&&n!==void 0?n:t[r].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter(r=>t[r].enabled).filter(r=>{var n;return(n=t[r].metadata)==null?void 0:n.payload}).map(r=>{var n;return[r,(n=t[r].metadata)==null?void 0:n.payload]}))):_s.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},UX=function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e}({});class zX{constructor(t){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=t,this.featureFlagEventHandlers=[]}li(){var t=this._instance.config.evaluation_environments;return t!=null&&t.length?t.filter(r=>{var n=r&&typeof r=="string"&&r.trim().length>0;return n||_s.error("Invalid evaluation environment found:",r,"Expected non-empty string"),n}):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var t=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.di({disableFlags:t})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(DS),r=this._instance.get_property(au),n=this._instance.get_property(uh);if(!n&&!r)return t||{};var a=Dr({},t||{}),s=[...new Set([...Object.keys(n||{}),...Object.keys(r||{})])];for(var i of s){var l,c,u=a[i],d=r==null?void 0:r[i],f=We(d)?(l=u==null?void 0:u.enabled)!==null&&l!==void 0&&l:!!d,h=We(d)?u.variant:typeof d=="string"?d:void 0,g=n==null?void 0:n[i],v=at({},u,{enabled:f,variant:f?h??(u==null?void 0:u.variant):void 0});f!==(u==null?void 0:u.enabled)&&(v.original_enabled=u==null?void 0:u.enabled),h!==(u==null?void 0:u.variant)&&(v.original_variant=u==null?void 0:u.variant),g&&(v.metadata=at({},u==null?void 0:u.metadata,{payload:g,original_payload:u==null||(c=u.metadata)==null?void 0:c.payload})),a[i]=v}return this.ii||(_s.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:n,finalDetails:a}),this.ii=!0),a}getFlagVariants(){var t=this._instance.get_property(Bu),r=this._instance.get_property(au);if(!r)return t||{};for(var n=Dr({},t),a=Object.keys(r),s=0;s<a.length;s++)n[a[s]]=r[a[s]];return this.ii||(_s.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:r,finalFlags:n}),this.ii=!0),n}getFlagPayloads(){var t=this._instance.get_property(VT),r=this._instance.get_property(uh);if(!r)return t||{};for(var n=Dr({},t||{}),a=Object.keys(r),s=0;s<a.length;s++)n[a[s]]=r[a[s]];return this.ii||(_s.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:r,finalPayloads:n}),this.ii=!0),n}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout(()=>{this.di()},5))}vi(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.si=t}di(t){var r;if(this.vi(),!this._instance.O())if(this.ri)this.ni=!0;else{var n=this._instance.config.token,a=this._instance.get_property("$device_id"),s={token:n,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:at({},((r=this._instance.persistence)==null?void 0:r.get_initial_props())||{},this._instance.get_property(Uh)||{}),group_properties:this._instance.get_property(Kl)};Vs(a)||We(a)||(s.$device_id=a),(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(s.disable_flags=!0),this.ui()&&(s.evaluation_environments=this.li());var i=this._instance.config.__preview_remote_config,l=i?"/flags/?v=2":"/flags/?v=2&config=true",c=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",u=this._instance.requestRouter.endpointFor("flags",l+c);i&&(s.timezone=j6()),this.ri=!0,this._instance._send_request({method:"POST",url:u,data:s,compression:this._instance.config.disable_compression?void 0:zi.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:d=>{var f,h,g=!0;if(d.statusCode===200&&(this.ni||(this.$anon_distinct_id=void 0),g=!1),this.ri=!1,this.oi||(this.oi=!0,this._instance.ci((h=d.json)!==null&&h!==void 0?h:{})),!s.disable_flags||this.ni)if(this.ai=!g,d.json&&(f=d.json.quotaLimited)!=null&&f.includes(UX.FeatureFlags))_s.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var v;s.disable_flags||this.receivedFeatureFlags((v=d.json)!==null&&v!==void 0?v:{},g),this.ni&&(this.ni=!1,this.di())}}})}}getFeatureFlag(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[t],a=""+n,s=this._instance.get_property(KT)||void 0,i=this._instance.get_property(GT)||void 0,l=this._instance.get_property(Iy)||{};if((r.send_event||!("send_event"in r))&&(!(t in l)||!l[t].includes(a))){var c,u,d,f,h,g,v,m,y;Jt(l[t])?l[t].push(a):l[t]=[a],(c=this._instance.persistence)==null||c.register({[Iy]:l});var x=this.getFeatureFlagDetails(t),w={$feature_flag:t,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:s,$feature_flag_evaluated_at:i,$feature_flag_bootstrapped_response:((u=this._instance.config.bootstrap)==null||(u=u.featureFlags)==null?void 0:u[t])||null,$feature_flag_bootstrapped_payload:((d=this._instance.config.bootstrap)==null||(d=d.featureFlagPayloads)==null?void 0:d[t])||null,$used_bootstrap_value:!this.ai};We(x==null||(f=x.metadata)==null?void 0:f.version)||(w.$feature_flag_version=x.metadata.version);var b,_=(h=x==null||(g=x.reason)==null?void 0:g.description)!==null&&h!==void 0?h:x==null||(v=x.reason)==null?void 0:v.code;_&&(w.$feature_flag_reason=_),x!=null&&(m=x.metadata)!=null&&m.id&&(w.$feature_flag_id=x.metadata.id),We(x==null?void 0:x.original_variant)&&We(x==null?void 0:x.original_enabled)||(w.$feature_flag_original_response=We(x.original_variant)?x.original_enabled:x.original_variant),x!=null&&(y=x.metadata)!=null&&y.original_payload&&(w.$feature_flag_original_payload=x==null||(b=x.metadata)==null?void 0:b.original_payload),this._instance.capture("$feature_flag_called",w)}return n}_s.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,r){var n=this._instance.config.token,a={distinct_id:this._instance.get_distinct_id(),token:n};this.ui()&&(a.evaluation_environments=this.li()),this._instance._send_request({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:a,compression:this._instance.config.disable_compression?void 0:zi.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:s=>{var i,l=(i=s.json)==null?void 0:i.featureFlagPayloads;r((l==null?void 0:l[t])||void 0)}})}isFeatureEnabled(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFeatureFlag(t,r);return We(n)?void 0:!!n}_s.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(r=>r!==t)}receivedFeatureFlags(t,r){if(this._instance.persistence){this.ei=!0;var n=this.getFlagVariants(),a=this.getFlagPayloads(),s=this.getFlagsWithDetails();(function(i,l,c,u,d){c===void 0&&(c={}),u===void 0&&(u={}),d===void 0&&(d={});var f=BX(i),h=f.flags,g=f.featureFlags,v=f.featureFlagPayloads;if(g){var m=i.requestId,y=i.evaluatedAt;if(Jt(g)){_s.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var x={};if(g)for(var w=0;w<g.length;w++)x[g[w]]=!0;l&&l.register({[u1]:g,[Bu]:x})}else{var b=g,_=v,S=h;i.errorsWhileComputingFlags&&(b=at({},c,b),_=at({},u,_),S=at({},d,S)),l&&l.register(at({[u1]:Object.keys(JT(b)),[Bu]:b||{},[VT]:_||{},[DS]:S||{}},m?{[KT]:m}:{},y?{[GT]:y}:{}))}}})(t,this._instance.persistence,n,a,s),this.fi(r)}}override(t,r){r===void 0&&(r=!1),_s.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:r})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return _s.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(au),this._instance.persistence.unregister(uh),this.fi(),ch.info("All overrides cleared");if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var r,n=t;if(this.ii=!!((r=n.suppressWarning)!==null&&r!==void 0&&r),"flags"in n){if(n.flags===!1)this._instance.persistence.unregister(au),ch.info("Flag overrides cleared");else if(n.flags){if(Jt(n.flags)){for(var a={},s=0;s<n.flags.length;s++)a[n.flags[s]]=!0;this._instance.persistence.register({[au]:a})}else this._instance.persistence.register({[au]:n.flags});ch.info("Flag overrides set",{flags:n.flags})}}return"payloads"in n&&(n.payloads===!1?(this._instance.persistence.unregister(uh),ch.info("Payload overrides cleared")):n.payloads&&(this._instance.persistence.register({[uh]:n.payloads}),ch.info("Payload overrides set",{payloads:n.payloads}))),void this.fi()}this.fi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ei){var{flags:r,flagVariants:n}=this.pi();t(r,n)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,r,n){var a,s=(this._instance.get_property(Bh)||[]).find(u=>u.flagKey===t),i={["$feature_enrollment/"+t]:r},l={$feature_flag:t,$feature_enrollment:r,$set:i};s&&(l.$early_access_feature_name=s.name),n&&(l.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",l),this.setPersonPropertiesForFlags(i,!1);var c=at({},this.getFlagVariants(),{[t]:r});(a=this._instance.persistence)==null||a.register({[u1]:Object.keys(JT(c)),[Bu]:c}),this.fi()}getEarlyAccessFeatures(t,r,n){r===void 0&&(r=!1);var a=this._instance.get_property(Bh),s=n?"&"+n.map(i=>"stage="+i).join("&"):"";if(a&&!r)return t(a);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+s),method:"GET",callback:i=>{var l,c;if(i.json){var u=i.json.earlyAccessFeatures;return(l=this._instance.persistence)==null||l.unregister(Bh),(c=this._instance.persistence)==null||c.register({[Bh]:u}),t(u)}}})}pi(){var t=this.getFlags(),r=this.getFlagVariants();return{flags:t.filter(n=>r[n]),flagVariants:Object.keys(r).filter(n=>r[n]).reduce((n,a)=>(n[a]=r[a],n),{})}}fi(t){var{flags:r,flagVariants:n}=this.pi();this.featureFlagEventHandlers.forEach(a=>a(r,n,{errorsLoading:t}))}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Uh)||{};this._instance.register({[Uh]:at({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Uh)}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Kl)||{};Object.keys(n).length!==0&&Object.keys(n).forEach(a=>{n[a]=at({},n[a],t[a]),delete t[a]}),this._instance.register({[Kl]:at({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var r=this._instance.get_property(Kl)||{};this._instance.register({[Kl]:at({},r,{[t]:{}})})}else this._instance.unregister(Kl)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.vi(),this.ii=!1}}var qX=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class d1{constructor(t,r){this.I=t,this.props={},this.gi=!1,this.mi=(n=>{var a="";return n.token&&(a=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+a+"_posthog"})(t),this.Y=this.yi(t),this.load(),t.debug&&Xe.info("Persistence loaded",t.persistence,at({},this.props)),this.update_config(t,t,r),this.save()}isDisabled(){return!!this.bi}yi(t){qX.indexOf(t.persistence.toLowerCase())===-1&&(Xe.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var r=t.persistence.toLowerCase();return r==="localstorage"&&Pr.H()?Pr:r==="localstorage+cookie"&&Vg.H()?Vg:r==="sessionstorage"&&jn.H()?jn:r==="memory"?eX:r==="cookie"?vi:Vg.H()?Vg:vi}properties(){var t={};return dr(this.props,function(r,n){if(n===Bu&&pn(r))for(var a=Object.keys(r),s=0;s<a.length;s++)t["$feature/"+a[s]]=r[a[s]];else l=n,c=!1,(Vs(i=$Y)?c:lT&&i.indexOf===lT?i.indexOf(l)!=-1:(dr(i,function(u){if(c||(c=u===l))return $y}),c))||(t[n]=r);var i,l,c}),t}load(){if(!this.bi){var t=this.Y.W(this.mi);t&&(this.props=Dr({},t))}}save(){this.bi||this.Y.G(this.mi,this.props,this.wi,this.xi,this.Ei,this.I.debug)}remove(){this.Y.V(this.mi,!1),this.Y.V(this.mi,!0)}clear(){this.remove(),this.props={}}register_once(t,r,n){if(pn(t)){We(r)&&(r="None"),this.wi=We(n)?this.Si:n;var a=!1;if(dr(t,(s,i)=>{this.props.hasOwnProperty(i)&&this.props[i]!==r||(this.props[i]=s,a=!0)}),a)return this.save(),!0}return!1}register(t,r){if(pn(t)){this.wi=We(r)?this.Si:r;var n=!1;if(dr(t,(a,s)=>{t.hasOwnProperty(s)&&this.props[s]!==a&&(this.props[s]=a,n=!0)}),n)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.gi){var t=y6(this.I.custom_campaign_params,this.I.mask_personal_data_properties,this.I.custom_personal_data_properties);Fu(K2(t))||this.register(t),this.gi=!0}}update_search_keyword(){var t;this.register((t=Je==null?void 0:Je.referrer)?b6(t):{})}update_referrer_info(){var t;this.register_once({$referrer:w6(),$referring_domain:Je!=null&&Je.referrer&&((t=Fy(Je.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[zS]||this.props[qS]||this.register_once({[My]:_6(this.I.mask_personal_data_properties,this.I.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};dr([qS,zS],i=>{var l=this.props[i];l&&dr(l,function(c,u){t["$initial_"+OS(u)]=c})});var r,n,a=this.props[My];if(a){var s=(r=S6(a),n={},dr(r,function(i,l){n["$initial_"+OS(l)]=i}),n);Dr(t,s)}return t}safe_merge(t){return dr(this.props,function(r,n){n in t||(t[n]=r)}),t}update_config(t,r,n){if(this.Si=this.wi=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!n),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==r.persistence){var a=this.yi(t),s=this.props;this.clear(),this.Y=a,this.props=s,this.save()}}set_disabled(t){this.bi=t,this.bi?this.remove():this.save()}set_cross_subdomain(t){t!==this.xi&&(this.xi=t,this.remove(),this.save())}set_secure(t){t!==this.Ei&&(this.Ei=t,this.remove(),this.save())}set_event_timer(t,r){var n=this.props[Fh]||{};n[t]=r,this.props[Fh]=n,this.save()}remove_event_timer(t){var r=(this.props[Fh]||{})[t];return We(r)||(delete this.props[Fh][t],this.save()),r}get_property(t){return this.props[t]}set_property(t,r){this.props[t]=r,this.save()}}var Kn=zr("[Product Tours]"),f1="ph_product_tours";class WX{constructor(t){this.$i=null,this.ki=null,this.Pi=void 0,this.Ti=!1,this._instance=t}onRemoteConfig(t){if(this._instance.config.disable_product_tours)Kn.info("Product tours disabled via config");else{var r=t.productTours;Ht(r)?Kn.info("Product tours not enabled in remote config"):(this.Pi=r,Kn.info("Remote config received, isProductToursEnabled: "+this.Pi),this.loadIfEnabled())}}loadIfEnabled(){var t;if(!this.ki)if(this.Ti)Kn.info("Already initializing product tours, skipping...");else if(this._instance.config.disable_product_tours)Kn.info("Product tours disabled via config");else{var r=vt==null?void 0:vt.__PosthogExtensions__;if(r){var n=(t=this._instance.featureFlags)==null?void 0:t.isFeatureEnabled("product-tours-2025");if(!We(this.Pi)||n){var a=this.Pi||n;if(a){this.Ti=!0;try{var s=r.generateProductTours;if(s)return void this.Ci(s,a);var i=r.loadExternalDependency;if(!i)return Kn.error("PostHog loadExternalDependency extension not found."),void(this.Ti=!1);i(this._instance,"product-tours",l=>{l||!r.generateProductTours?Kn.error("Could not load product tours script",l):this.Ci(r.generateProductTours,a),this.Ti=!1})}catch(l){Kn.error("Error initializing product tours",l),this.Ti=!1}}else Kn.info("Product tours not enabled")}else Kn.info("Waiting for remote config or feature flag to enable product tours")}else Kn.error("PostHog Extensions not found.")}}Ci(t,r){this.ki=t(this._instance,r)||null,Kn.info("Product tours loaded successfully")}getProductTours(t,r){if(r===void 0&&(r=!1),!Jt(this.$i)||r){var n=this._instance.persistence;if(n){var a=n.props[f1];if(Jt(a)&&!r)return this.$i=a,void t(a,{isLoaded:!0})}this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/product_tours/?token="+this._instance.config.token),method:"GET",callback:s=>{var i=s.statusCode;if(i!==200||!s.json){var l="Product Tours API could not be loaded, status: "+i;return Kn.error(l),void t([],{isLoaded:!1,error:l})}var c=Jt(s.json.product_tours)?s.json.product_tours:[];this.$i=c,n&&n.register({[f1]:c}),t(c,{isLoaded:!0})}})}else t(this.$i,{isLoaded:!0})}getActiveProductTours(t){if(Ht(this.ki))return Kn.warn("Product tours not loaded yet"),void t([],{isLoaded:!1,error:"Product tours not loaded"});this.ki.getActiveProductTours(t)}showProductTour(t){var r;Kn.info("showProductTour("+t+")"),(r=this.ki)==null||r.showTourById(t)}dismissProductTour(){var t;(t=this.ki)==null||t.dismissTour("user_clicked_skip")}nextStep(){var t;(t=this.ki)==null||t.nextStep()}previousStep(){var t;(t=this.ki)==null||t.previousStep()}clearCache(){this.$i=null;var t=this._instance.persistence;t&&t.unregister(f1)}resetTour(t){var r;(r=this.ki)==null||r.resetTour(t)}resetAllTours(){var t;(t=this.ki)==null||t.resetAllTours()}}var dh=function(e){return e.Activation="events",e.Cancellation="cancelEvents",e}({});(function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e})({});(function(e){return e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger",e})({});(function(e){return e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e})({});var h1=function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e}({});(function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e})({});(function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e})({});(function(e){return e.Once="once",e.Recurring="recurring",e.Always="always",e})({});var ey=function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e}({}),YT=function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e}({}),O6=function(e){return e.Popover="popover",e.Inline="inline",e}({});class nN{constructor(){this.Ri={},this.Ri={}}on(t,r){return this.Ri[t]||(this.Ri[t]=[]),this.Ri[t].push(r),()=>{this.Ri[t]=this.Ri[t].filter(n=>n!==r)}}emit(t,r){for(var n of this.Ri[t]||[])n(r);for(var a of this.Ri["*"]||[])a(t,r)}}function su(e,t,r){if(Ht(e))return!1;switch(r){case"exact":return e===t;case"contains":var n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/_/g,".").replace(/%/g,".*");return new RegExp(n,"i").test(e);case"regex":try{return new RegExp(t).test(e)}catch{return!1}default:return!1}}class HX{constructor(t){this.Ii=new nN,this.Fi=(r,n)=>this.Mi(r,n)&&this.Oi(r,n)&&this.Ai(r,n)&&this.Di(r,n),this.Mi=(r,n)=>n==null||!n.event||(r==null?void 0:r.event)===(n==null?void 0:n.event),this._instance=t,this.ji=new Set,this.Li=new Set}init(){var t;if(!We((t=this._instance)==null?void 0:t.Ni)){var r;(r=this._instance)==null||r.Ni((n,a)=>{this.on(n,a)})}}register(t){var r,n;if(!We((r=this._instance)==null?void 0:r.Ni)&&(t.forEach(i=>{var l,c;(l=this.Li)==null||l.add(i),(c=i.steps)==null||c.forEach(u=>{var d;(d=this.ji)==null||d.add((u==null?void 0:u.event)||"")})}),(n=this._instance)!=null&&n.autocapture)){var a,s=new Set;t.forEach(i=>{var l;(l=i.steps)==null||l.forEach(c=>{c!=null&&c.selector&&s.add(c==null?void 0:c.selector)})}),(a=this._instance)==null||a.autocapture.setElementSelectors(s)}}on(t,r){var n;r!=null&&t.length!=0&&(this.ji.has(t)||this.ji.has(r==null?void 0:r.event))&&this.Li&&((n=this.Li)==null?void 0:n.size)>0&&this.Li.forEach(a=>{this.Ui(r,a)&&this.Ii.emit("actionCaptured",a.name)})}zi(t){this.onAction("actionCaptured",r=>t(r))}Ui(t,r){if((r==null?void 0:r.steps)==null)return!1;for(var n of r.steps)if(this.Fi(t,n))return!0;return!1}onAction(t,r){return this.Ii.on(t,r)}Oi(t,r){if(r!=null&&r.url){var n,a=t==null||(n=t.properties)==null?void 0:n.$current_url;if(!a||typeof a!="string"||!su(a,r.url,r.url_matching||"contains"))return!1}return!0}Ai(t,r){return!!this.Hi(t,r)&&!!this.Bi(t,r)&&!!this.qi(t,r)}Hi(t,r){var n;if(r==null||!r.href)return!0;var a=this.Wi(t);if(a.length>0)return a.some(l=>su(l.href,r.href,r.href_matching||"exact"));var s,i=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!i&&su((s=i.match(/(?::|")href="(.*?)"/))?s[1]:"",r.href,r.href_matching||"exact")}Bi(t,r){var n;if(r==null||!r.text)return!0;var a=this.Wi(t);if(a.length>0)return a.some(u=>su(u.text,r.text,r.text_matching||"exact")||su(u.$el_text,r.text,r.text_matching||"exact"));var s,i,l,c=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!c&&(s=function(u){for(var d,f=[],h=/(?::|")text="(.*?)"/g;!Ht(d=h.exec(u));)f.includes(d[1])||f.push(d[1]);return f}(c),i=r.text,l=r.text_matching||"exact",s.some(u=>su(u,i,l)))}qi(t,r){var n,a;if(r==null||!r.selector)return!0;var s=t==null||(n=t.properties)==null?void 0:n.$element_selectors;if(s!=null&&s.includes(r.selector))return!0;var i=(t==null||(a=t.properties)==null?void 0:a.$elements_chain)||"";if(r.selector_regex&&i)try{return new RegExp(r.selector_regex).test(i)}catch{return!1}return!1}Wi(t){var r;return(t==null||(r=t.properties)==null?void 0:r.$elements)==null?[]:t==null?void 0:t.properties.$elements}Di(t,r){return r==null||!r.properties||r.properties.length===0||T6(r.properties.reduce((n,a)=>{var s=Jt(a.value)?a.value.map(String):a.value!=null?[String(a.value)]:[];return n[a.key]={values:s,operator:a.operator||"exact"},n},{}),t==null?void 0:t.properties)}}var Zt=zr("[Surveys]"),XS="seenSurvey_",VX=(e,t)=>{var r="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(r="$survey_"+t+"/"+e.id+"/"+e.current_iteration),r},XT=e=>{var t=""+XS+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+XS+e.id+"_"+e.current_iteration),t},KX=[h1.Popover,h1.Widget,h1.API],GX={ignoreConditions:!1,ignoreDelay:!1,displayType:O6.Popover};class JX{constructor(t){this._instance=t,this.Gi=new Map,this.Vi=new Map,this.Ji=new Map}Ki(t,r){return!!t&&T6(t.propertyFilters,r==null?void 0:r.properties)}Yi(t,r){var n=new Map;return t.forEach(a=>{var s;(s=a.conditions)==null||(s=s[r])==null||(s=s.values)==null||s.forEach(i=>{if(i!=null&&i.name){var l=n.get(i.name)||[];l.push(a.id),n.set(i.name,l)}})}),n}Xi(t,r,n){var a,s=(n===dh.Activation?this.Gi:this.Vi).get(t),i=[];return(a=this._instance)==null||a.getSurveys(l=>{i=l.filter(c=>s==null?void 0:s.includes(c.id))}),i.filter(l=>{var c,u=(c=l.conditions)==null||(c=c[n])==null||(c=c.values)==null?void 0:c.find(d=>d.name===t);return this.Ki(u,r)})}register(t){var r;We((r=this._instance)==null?void 0:r.Ni)||(this.Qi(t),this.Zi(t))}Zi(t){var r=t.filter(n=>{var a,s;return((a=n.conditions)==null?void 0:a.actions)&&((s=n.conditions)==null||(s=s.actions)==null||(s=s.values)==null?void 0:s.length)>0});r.length!==0&&(this.te==null&&(this.te=new HX(this._instance),this.te.init(),this.te.zi(n=>{this.onAction(n)})),r.forEach(n=>{var a,s,i,l,c;n.conditions&&(a=n.conditions)!=null&&a.actions&&(s=n.conditions)!=null&&(s=s.actions)!=null&&s.values&&((i=n.conditions)==null||(i=i.actions)==null||(i=i.values)==null?void 0:i.length)>0&&((l=this.te)==null||l.register(n.conditions.actions.values),(c=n.conditions)==null||(c=c.actions)==null||(c=c.values)==null||c.forEach(u=>{if(u&&u.name){var d=this.Ji.get(u.name);d&&d.push(n.id),this.Ji.set(u.name,d||[n.id])}}))}))}Qi(t){var r,n=t.filter(s=>{var i,l;return((i=s.conditions)==null?void 0:i.events)&&((l=s.conditions)==null||(l=l.events)==null||(l=l.values)==null?void 0:l.length)>0}),a=t.filter(s=>{var i,l;return((i=s.conditions)==null?void 0:i.cancelEvents)&&((l=s.conditions)==null||(l=l.cancelEvents)==null||(l=l.values)==null?void 0:l.length)>0});(n.length!==0||a.length!==0)&&((r=this._instance)==null||r.Ni((s,i)=>{this.onEvent(s,i)}),this.Gi=this.Yi(t,dh.Activation),this.Vi=this.Yi(t,dh.Cancellation))}onEvent(t,r){var n,a=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[Hg])||[];if(ey.SHOWN===t&&r&&a.length>0){var s;Zt.info("survey event matched, removing survey from activated surveys",{event:t,eventPayload:r,existingActivatedSurveys:a});var i=r==null||(s=r.properties)==null?void 0:s.$survey_id;if(i){var l=a.indexOf(i);l>=0&&(a.splice(l,1),this.ie(a))}}else{if(this.Vi.has(t)){var c=this.Xi(t,r,dh.Cancellation);c.length>0&&(Zt.info("cancel event matched, cancelling surveys",{event:t,surveysToCancel:c.map(d=>d.id)}),c.forEach(d=>{var f,h=a.indexOf(d.id);h>=0&&a.splice(h,1),(f=this._instance)==null||f.cancelPendingSurvey(d.id)}),this.ie(a))}if(this.Gi.has(t)){Zt.info("survey event name matched",{event:t,eventPayload:r,surveys:this.Gi.get(t)});var u=this.Xi(t,r,dh.Activation);this.ie(a.concat(u.map(d=>d.id)||[]))}}}onAction(t){var r,n=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[Hg])||[];this.Ji.has(t)&&this.ie(n.concat(this.Ji.get(t)||[]))}ie(t){var r;Zt.info("updating activated surveys",{activatedSurveys:t}),(r=this._instance)==null||(r=r.persistence)==null||r.register({[Hg]:[...new Set(t)]})}getSurveys(){var t,r=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[Hg];return r||[]}getEventToSurveys(){return this.Gi}ee(){return this.te}}class YX{constructor(t){this.re=void 0,this._surveyManager=null,this.se=!1,this.ne=!1,this.oe=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var r=t.surveys;if(Ht(r))return Zt.warn("Flags not loaded yet. Not loading surveys.");var n=Jt(r);this.re=n?r.length>0:r,Zt.info("flags response received, isSurveysEnabled: "+this.re),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);(n!=null&&n.startsWith(XS)||n!=null&&n.startsWith("inProgressSurvey_"))&&t.push(n)}t.forEach(a=>localStorage.removeItem(a))}loadIfEnabled(){if(!this._surveyManager)if(this.ne)Zt.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)Zt.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())Zt.info("Not loading surveys in cookieless mode without consent.");else{var t=vt==null?void 0:vt.__PosthogExtensions__;if(t){if(!We(this.re)||this._instance.config.advanced_enable_surveys){var r=this.re||this._instance.config.advanced_enable_surveys;this.ne=!0;try{var n=t.generateSurveys;if(n)return void this.ae(n,r);var a=t.loadExternalDependency;if(!a)return void this.le("PostHog loadExternalDependency extension not found.");a(this._instance,"surveys",s=>{s||!t.generateSurveys?this.le("Could not load surveys script",s):this.ae(t.generateSurveys,r)})}catch(s){throw this.le("Error initializing surveys",s),s}finally{this.ne=!1}}}else Zt.error("PostHog Extensions not found.")}}ae(t,r){this._surveyManager=t(this._instance,r),this._surveyEventReceiver=new JX(this._instance),Zt.info("Surveys loaded successfully"),this.ue({isLoaded:!0})}le(t,r){Zt.error(t,r),this.ue({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.oe.push(t),this._surveyManager&&this.ue({isLoaded:!0}),()=>{this.oe=this.oe.filter(r=>r!==t)}}getSurveys(t,r){if(r===void 0&&(r=!1),this._instance.config.disable_surveys)return Zt.info("Disabled. Not loading surveys."),t([]);var n=this._instance.get_property(FS);if(n&&!r)return t(n,{isLoaded:!0});if(this.se)return t([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.se=!0,this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:a=>{var s;this.se=!1;var i=a.statusCode;if(i!==200||!a.json){var l="Surveys API could not be loaded, status: "+i;return Zt.error(l),t([],{isLoaded:!1,error:l})}var c,u=a.json.surveys||[],d=u.filter(f=>function(h){return!(!h.start_date||h.end_date)}(f)&&(function(h){var g;return!((g=h.conditions)==null||(g=g.events)==null||(g=g.values)==null||!g.length)}(f)||function(h){var g;return!((g=h.conditions)==null||(g=g.actions)==null||(g=g.values)==null||!g.length)}(f)));return d.length>0&&((c=this._surveyEventReceiver)==null||c.register(d)),(s=this._instance.persistence)==null||s.register({[FS]:u}),t(u,{isLoaded:!0})}})}catch(a){throw this.se=!1,a}}ue(t){for(var r of this.oe)try{if(!t.isLoaded)return r([],t);this.getSurveys(r)}catch(n){Zt.error("Error in survey callback",n)}}getActiveMatchingSurveys(t,r){if(r===void 0&&(r=!1),!Ht(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,r);Zt.warn("init was not called")}he(t){var r=null;return this.getSurveys(n=>{var a;r=(a=n.find(s=>s.id===t))!==null&&a!==void 0?a:null}),r}de(t){if(Ht(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var r=typeof t=="string"?this.he(t):t;return r?this._surveyManager.checkSurveyEligibility(r):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(Ht(this._surveyManager))return Zt.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var r=this.de(t);return{visible:r.eligible,disabledReason:r.reason}}canRenderSurveyAsync(t,r){return Ht(this._surveyManager)?(Zt.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(n=>{this.getSurveys(a=>{var s,i=(s=a.find(c=>c.id===t))!==null&&s!==void 0?s:null;if(i){var l=this.de(i);n({visible:l.eligible,disabledReason:l.reason})}else n({visible:!1,disabledReason:"Survey not found"})},r)})}renderSurvey(t,r){var n;if(Ht(this._surveyManager))Zt.warn("init was not called");else{var a=typeof t=="string"?this.he(t):t;if(a!=null&&a.id)if(KX.includes(a.type)){var s=Je==null?void 0:Je.querySelector(r);if(s)return(n=a.appearance)!=null&&n.surveyPopupDelaySeconds?(Zt.info("Rendering survey "+a.id+" with delay of "+a.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout(()=>{var i,l;Zt.info("Rendering survey "+a.id+" with delay of "+((i=a.appearance)==null?void 0:i.surveyPopupDelaySeconds)+" seconds"),(l=this._surveyManager)==null||l.renderSurvey(a,s),Zt.info("Survey "+a.id+" rendered")},1e3*a.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(a,s);Zt.warn("Survey element not found")}else Zt.warn("Surveys of type "+a.type+" cannot be rendered in the app");else Zt.warn("Survey not found")}}displaySurvey(t,r){var n;if(Ht(this._surveyManager))Zt.warn("init was not called");else{var a=this.he(t);if(a){var s=a;if((n=a.appearance)!=null&&n.surveyPopupDelaySeconds&&r.ignoreDelay&&(s=at({},a,{appearance:at({},a.appearance,{surveyPopupDelaySeconds:0})})),r.ignoreConditions===!1){var i=this.canRenderSurvey(a);if(!i.visible)return void Zt.warn("Survey is not eligible to be displayed: ",i.disabledReason)}r.displayType!==O6.Inline?this._surveyManager.handlePopoverSurvey(s):this.renderSurvey(s,r.selector)}else Zt.warn("Survey not found")}}cancelPendingSurvey(t){Ht(this._surveyManager)?Zt.warn("init was not called"):this._surveyManager.cancelSurvey(t)}}var fh=zr("[Conversations]");class XX{constructor(t){this.ve=void 0,this._conversationsManager=null,this.Ti=!1,this.ce=null,this._instance=t}onRemoteConfig(t){if(!this._instance.config.disable_conversations){var r=t.conversations;Ht(r)||(Yi(r)?this.ve=r:(this.ve=r.enabled,this.ce=r),this.loadIfEnabled())}}reset(){var t;(t=this._conversationsManager)==null||t.reset(),this._conversationsManager=null,this.ve=void 0,this.ce=null}loadIfEnabled(){if(!this._conversationsManager&&!this.Ti&&!(this._instance.config.disable_conversations||this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())){var t=vt==null?void 0:vt.__PosthogExtensions__;if(t&&!We(this.ve)&&this.ve)if(this.ce&&this.ce.token){if(function(a){var s;if(!a||a.length===0)return!0;var i=ye==null||(s=ye.location)==null?void 0:s.hostname;return!i||a.some(l=>{var c=function(d){var f=d.replace(/^https?:\/\//,"");return(f=f.split("/")[0].split("?")[0].split(":")[0])||null}(l);if(!c)return!1;if(c.startsWith("*.")){var u=c.slice(2);return i.endsWith("."+u)||i===u}return i===c})}(this.ce.domains)){this.Ti=!0;try{var r=t.initConversations;if(r)return this.Ci(r),void(this.Ti=!1);var n=t.loadExternalDependency;if(!n)return void this.fe("PostHog loadExternalDependency extension not found.");n(this._instance,"conversations",a=>{a||!t.initConversations?this.fe("Could not load conversations script",a):this.Ci(t.initConversations),this.Ti=!1})}catch(a){this.fe("Error initializing conversations",a),this.Ti=!1}}}else fh.error("Conversations enabled but missing token in remote config.")}}Ci(t){if(this.ce)try{this._conversationsManager=t(this.ce,this._instance),fh.info("Conversations loaded successfully")}catch(r){this.fe("Error completing conversations initialization",r)}else fh.error("Cannot complete initialization: remote config is null")}fe(t,r){fh.error(t,r),this._conversationsManager=null,this.Ti=!1}enable(){this._conversationsManager?this._conversationsManager.enable():fh.warn("Conversations not loaded yet.")}disable(){this._conversationsManager&&this._conversationsManager.disable()}isLoaded(){return!Vs(this._conversationsManager)}isEnabled(){return this.ve===!0}}var QT=zr("[RateLimiter]");class QX{constructor(t){var r,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=a=>{var s=a.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach(i=>{QT.info((i||"events")+" is quota limited."),this.serverLimits[i]=new Date().getTime()+6e4})}catch(i){return void QT.warn('could not rate limit - continuing. Error: "'+(i==null?void 0:i.message)+'"',{text:s})}},this.instance=t,this.captureEventsPerSecond=((r=t.config.rate_limiting)==null?void 0:r.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((n=t.config.rate_limiting)==null?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var r,n,a;t===void 0&&(t=!1);var s=new Date().getTime(),i=(r=(n=this.instance.persistence)==null?void 0:n.get_property(US))!==null&&r!==void 0?r:{tokens:this.captureEventsBurstLimit,last:s};i.tokens+=(s-i.last)/1e3*this.captureEventsPerSecond,i.last=s,i.tokens>this.captureEventsBurstLimit&&(i.tokens=this.captureEventsBurstLimit);var l=i.tokens<1;return l||t||(i.tokens=Math.max(0,i.tokens-1)),!l||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=l,(a=this.instance.persistence)==null||a.set_property(US,i),{isRateLimited:l,remainingTokens:i.tokens}}isServerRateLimited(t){var r=this.serverLimits[t||"events"]||!1;return r!==!1&&new Date().getTime()<r}}var Ul=zr("[RemoteConfig]");class ZX{constructor(t){this._instance=t}get remoteConfig(){var t;return(t=vt._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.config}pe(t){var r,n;(r=vt.__PosthogExtensions__)!=null&&r.loadExternalDependency?(n=vt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"remote-config",()=>t(this.remoteConfig)):(Ul.error("PostHog Extensions not found. Cannot load remote config."),t())}ge(t){this._instance._send_request({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:r=>{t(r.json)}})}load(){try{if(this.remoteConfig)return Ul.info("Using preloaded remote config",this.remoteConfig),void this.ci(this.remoteConfig);if(this._instance.O())return void Ul.warn("Remote config is disabled. Falling back to local config.");this.pe(t=>{if(!t)return Ul.info("No config found after loading remote JS config. Falling back to JSON."),void this.ge(r=>{this.ci(r)});this.ci(t)})}catch(t){Ul.error("Error loading remote config",t)}}ci(t){t?this._instance.config.__preview_remote_config?(this._instance.ci(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Ul.info("__preview_remote_config is disabled. Logging config instead",t):Ul.error("Failed to fetch remote config from PostHog.")}}var QS=3e3;class eQ{constructor(t,r){this._e=!0,this.me=[],this.ye=ui((r==null?void 0:r.flush_interval_ms)||QS,250,5e3,Xe.createLogger("flush interval"),QS),this.be=t}enqueue(t){this.me.push(t),this.we||this.xe()}unload(){this.Ee();var t=this.me.length>0?this.Se():{},r=Object.values(t);[...r.filter(n=>n.url.indexOf("/e")===0),...r.filter(n=>n.url.indexOf("/e")!==0)].map(n=>{this.be(at({},n,{transport:"sendBeacon"}))})}enable(){this._e=!1,this.xe()}xe(){var t=this;this._e||(this.we=setTimeout(()=>{if(this.Ee(),this.me.length>0){var r=this.Se(),n=function(){var s=r[a],i=new Date().getTime();s.data&&Jt(s.data)&&dr(s.data,l=>{l.offset=Math.abs(l.timestamp-i),delete l.timestamp}),t.be(s)};for(var a in r)n()}},this.ye))}Ee(){clearTimeout(this.we),this.we=void 0}Se(){var t={};return dr(this.me,r=>{var n,a=r,s=(a?a.batchKey:null)||a.url;We(t[s])&&(t[s]=at({},a,{data:[]})),(n=t[s].data)==null||n.push(a.data)}),this.me=[],t}}var tQ=["retriesPerformedSoFar"];class rQ{constructor(t){this.$e=!1,this.ke=3e3,this.me=[],this._instance=t,this.me=[],this.Pe=!0,!We(ye)&&"onLine"in ye.navigator&&(this.Pe=ye.navigator.onLine,this.Te=()=>{this.Pe=!0,this.Dt()},this.Ce=()=>{this.Pe=!1},Vr(ye,"online",this.Te),Vr(ye,"offline",this.Ce))}get length(){return this.me.length}retriableRequest(t){var{retriesPerformedSoFar:r}=t,n=ND(t,tQ);_i(r)&&r>0&&(n.url=Hy(n.url,{retry_count:r})),this._instance._send_request(at({},n,{callback:a=>{a.statusCode!==200&&(a.statusCode<400||a.statusCode>=500)&&(r??0)<10?this.Re(at({retriesPerformedSoFar:r},n)):n.callback==null||n.callback(a)}}))}Re(t){var r=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=r+1;var n=function(i){var l=3e3*Math.pow(2,i),c=l/2,u=Math.min(18e5,l),d=(Math.random()-.5)*(u-c);return Math.ceil(u+d)}(r),a=Date.now()+n;this.me.push({retryAt:a,requestOptions:t});var s="Enqueued failed request for retry in "+n;navigator.onLine||(s+=" (Browser is offline)"),Xe.warn(s),this.$e||(this.$e=!0,this.Ie())}Ie(){if(this.Fe&&clearTimeout(this.Fe),this.me.length===0)return this.$e=!1,void(this.Fe=void 0);this.Fe=setTimeout(()=>{this.Pe&&this.me.length>0&&this.Dt(),this.Ie()},this.ke)}Dt(){var t=Date.now(),r=[],n=this.me.filter(s=>s.retryAt<t||(r.push(s),!1));if(this.me=r,n.length>0)for(var{requestOptions:a}of n)this.retriableRequest(a)}unload(){for(var{requestOptions:t}of(this.Fe&&(clearTimeout(this.Fe),this.Fe=void 0),this.$e=!1,We(ye)||(this.Te&&(ye.removeEventListener("online",this.Te),this.Te=void 0),this.Ce&&(ye.removeEventListener("offline",this.Ce),this.Ce=void 0)),this.me))try{this._instance._send_request(at({},t,{transport:"sendBeacon"}))}catch(r){Xe.error(r)}this.me=[]}}class nQ{constructor(t){this.Me=()=>{var r,n,a,s;this.Oe||(this.Oe={});var i=this.scrollElement(),l=this.scrollY(),c=i?Math.max(0,i.scrollHeight-i.clientHeight):0,u=l+((i==null?void 0:i.clientHeight)||0),d=(i==null?void 0:i.scrollHeight)||0;this.Oe.lastScrollY=Math.ceil(l),this.Oe.maxScrollY=Math.max(l,(r=this.Oe.maxScrollY)!==null&&r!==void 0?r:0),this.Oe.maxScrollHeight=Math.max(c,(n=this.Oe.maxScrollHeight)!==null&&n!==void 0?n:0),this.Oe.lastContentY=u,this.Oe.maxContentY=Math.max(u,(a=this.Oe.maxContentY)!==null&&a!==void 0?a:0),this.Oe.maxContentHeight=Math.max(d,(s=this.Oe.maxContentHeight)!==null&&s!==void 0?s:0)},this._instance=t}getContext(){return this.Oe}resetContext(){var t=this.Oe;return setTimeout(this.Me,0),t}startMeasuringScrollPosition(){Vr(ye,"scroll",this.Me,{capture:!0}),Vr(ye,"scrollend",this.Me,{capture:!0}),Vr(ye,"resize",this.Me)}scrollElement(){if(!this._instance.config.scroll_root_selector)return ye==null?void 0:ye.document.documentElement;var t=Jt(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var r of t){var n=ye==null?void 0:ye.document.querySelector(r);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return ye&&(ye.scrollY||ye.pageYOffset||ye.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return ye&&(ye.scrollX||ye.pageXOffset||ye.document.documentElement.scrollLeft)||0}}var aQ=e=>_6(e==null?void 0:e.config.mask_personal_data_properties,e==null?void 0:e.config.custom_personal_data_properties);class ZT{constructor(t,r,n,a){this.Ae=s=>{var i=this.De();if(!i||i.sessionId!==s){var l={sessionId:s,props:this.je(this._instance)};this.Le.register({[BS]:l})}},this._instance=t,this.Ne=r,this.Le=n,this.je=a||aQ,this.Ne.onSessionId(this.Ae)}De(){return this.Le.props[BS]}getSetOnceProps(){var t,r=(t=this.De())==null?void 0:t.props;return r?"r"in r?S6(r):{$referring_domain:r.referringDomain,$pathname:r.initialPathName,utm_source:r.utm_source,utm_campaign:r.utm_campaign,utm_medium:r.utm_medium,utm_content:r.utm_content,utm_term:r.utm_term}:{}}getSessionProps(){var t={};return dr(K2(this.getSetOnceProps()),(r,n)=>{n==="$current_url"&&(n="url"),t["$session_entry_"+OS(n)]=r}),t}}var p1=zr("[SessionId]");class eO{on(t,r){return this.Ue.on(t,r)}constructor(t,r,n){var a;if(this.ze=[],this.He=void 0,this.Ue=new nN,this.Be=(d,f)=>Math.abs(d-f)>this.sessionTimeoutMs,!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.I=t.config,this.Le=t.persistence,this.qe=void 0,this.We=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Ge=r||el,this.Ve=n||el;var s=this.I.persistence_name||this.I.token,i=this.I.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*ui(i,60,36e3,p1.createLogger("session_idle_timeout_seconds"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Je(),this.Ke="ph_"+s+"_window_id",this.Ye="ph_"+s+"_primary_window_exists",this.Xe()){var l=jn.W(this.Ke),c=jn.W(this.Ye);l&&!c?this.qe=l:jn.V(this.Ke),jn.G(this.Ye,!0)}if((a=this.I.bootstrap)!=null&&a.sessionID)try{var u=(d=>{var f=d.replace(/-/g,"");if(f.length!==32)throw new Error("Not a valid UUID");if(f[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(f.substring(0,12),16)})(this.I.bootstrap.sessionID);this.Qe(this.I.bootstrap.sessionID,new Date().getTime(),u)}catch(d){p1.error("Invalid sessionID in bootstrap",d)}this.Ze()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return We(this.ze)&&(this.ze=[]),this.ze.push(t),this.We&&t(this.We,this.qe),()=>{this.ze=this.ze.filter(r=>r!==t)}}Xe(){return this.I.persistence!=="memory"&&!this.Le.bi&&jn.H()}tr(t){t!==this.qe&&(this.qe=t,this.Xe()&&jn.G(this.Ke,t))}ir(){return this.qe?this.qe:this.Xe()?jn.W(this.Ke):null}Qe(t,r,n){t===this.We&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this.We=t,this.Le.register({[Ry]:[r,t,n]}))}er(){var t=this.Le.props[Ry];return Jt(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.Qe(null,null,null)}destroy(){clearTimeout(this.rr),this.rr=void 0,this.He&&ye&&(ye.removeEventListener("beforeunload",this.He,{capture:!1}),this.He=void 0),this.ze=[]}Ze(){this.He=()=>{this.Xe()&&jn.V(this.Ye)},Vr(ye,"beforeunload",this.He,{capture:!1})}checkAndGetSessionAndWindowId(t,r){if(t===void 0&&(t=!1),r===void 0&&(r=null),this.I.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=r||new Date().getTime(),[a,s,i]=this.er(),l=this.ir(),c=_i(i)&&i>0&&Math.abs(n-i)>864e5,u=!1,d=!s,f=!d&&!t&&this.Be(n,a);d||f||c?(s=this.Ge(),l=this.Ve(),p1.info("new session ID generated",{sessionId:s,windowId:l,changeReason:{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}}),i=n,u=!0):l||(l=this.Ve(),u=!0);var h=a===0||!t||c?n:a,g=i===0?new Date().getTime():i;return this.tr(l),this.Qe(s,h,g),t||this.Je(),u&&this.ze.forEach(v=>v(s,l,u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}:void 0)),{sessionId:s,windowId:l,sessionStartTimestamp:g,changeReason:u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}:void 0,lastActivityTimestamp:a}}Je(){clearTimeout(this.rr),this.rr=setTimeout(()=>{var[t]=this.er();if(this.Be(new Date().getTime(),t)){var r=this.We;this.resetSessionId(),this.Ue.emit("forcedIdleReset",{idleSessionId:r})}},1.1*this.sessionTimeoutMs)}}var sQ=["$set_once","$set"],So=zr("[SiteApps]");class iQ{constructor(t){this._instance=t,this.sr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}nr(t,r){if(r){var n=this.globalsForEvent(r);this.sr.push(n),this.sr.length>1e3&&(this.sr=this.sr.slice(10))}}get siteAppLoaders(){var t;return(t=vt._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Ni(this.nr.bind(this));this.ar=()=>{t(),this.sr=[],this.ar=void 0}}}globalsForEvent(t){var r,n,a,s,i,l,c;if(!t)throw new Error("Event payload is required");var u={},d=this._instance.get_property("$groups")||[],f=this._instance.get_property("$stored_group_properties")||{};for(var[h,g]of Object.entries(f))u[h]={id:d[h],type:h,properties:g};var{$set_once:v,$set:m}=t;return{event:at({},ND(t,sQ),{properties:at({},t.properties,m?{$set:at({},(r=(n=t.properties)==null?void 0:n.$set)!==null&&r!==void 0?r:{},m)}:{},v?{$set_once:at({},(a=(s=t.properties)==null?void 0:s.$set_once)!==null&&a!==void 0?a:{},v)}:{}),elements_chain:(i=(l=t.properties)==null?void 0:l.$elements_chain)!==null&&i!==void 0?i:"",distinct_id:(c=t.properties)==null?void 0:c.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:u}}setupSiteApp(t){var r=this.apps[t.id],n=()=>{var l;!r.errored&&this.sr.length&&(So.info("Processing "+this.sr.length+" events for site app with id "+t.id),this.sr.forEach(c=>r.processEvent==null?void 0:r.processEvent(c)),r.processedBuffer=!0),Object.values(this.apps).every(c=>c.processedBuffer||c.errored)&&((l=this.ar)==null||l.call(this))},a=!1,s=l=>{r.errored=!l,r.loaded=!0,So.info("Site app with id "+t.id+" "+(l?"loaded":"errored")),a&&n()};try{var{processEvent:i}=t.init({posthog:this._instance,callback:l=>{s(l)}});i&&(r.processEvent=i),a=!0}catch(l){So.error("Error while initializing PostHog app with config id "+t.id,l),s(!1)}if(a&&r.loaded)try{n()}catch(l){So.error("Error while processing buffered events PostHog app with config id "+t.id,l),r.errored=!0}}lr(){var t=this.siteAppLoaders||[];for(var r of t)this.apps[r.id]={id:r.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of t)this.setupSiteApp(n)}ur(t){if(Object.keys(this.apps).length!==0){var r=this.globalsForEvent(t);for(var n of Object.values(this.apps))try{n.processEvent==null||n.processEvent(r)}catch(a){So.error("Error while processing event "+t.event+" for site app "+n.id,a)}}}onRemoteConfig(t){var r,n,a,s=this;if((r=this.siteAppLoaders)!=null&&r.length)return this.isEnabled?(this.lr(),void this._instance.on("eventCaptured",u=>this.ur(u))):void So.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((n=this.ar)==null||n.call(this),(a=t.siteApps)!=null&&a.length)if(this.isEnabled){var i=function(u){var d;vt["__$$ph_site_app_"+u]=s._instance,(d=vt.__PosthogExtensions__)==null||d.loadSiteApp==null||d.loadSiteApp(s._instance,c,f=>{if(f)return So.error("Error while initializing PostHog app with config id "+u,f)})};for(var{id:l,url:c}of t.siteApps)i(l)}else So.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var $6=function(e,t){if(!e)return!1;var r=e.userAgent;if(r&&fT(r,t))return!0;try{var n=e==null?void 0:e.userAgentData;if(n!=null&&n.brands&&n.brands.some(a=>fT(a==null?void 0:a.brand,t)))return!0}catch{}return!!e.webdriver},Wh=function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e}({}),tO="i.posthog.com";class oQ{constructor(t){this.hr={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get flagsApiHost(){var t=this.instance.config.flags_api_host;return t?t.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var t,r=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return r||(r=this.apiHost.replace("."+tO,".posthog.com")),r==="https://app.posthog.com"?"https://us.posthog.com":r}get region(){return this.hr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.hr[this.apiHost]=Wh.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.hr[this.apiHost]=Wh.EU:this.hr[this.apiHost]=Wh.CUSTOM),this.hr[this.apiHost]}endpointFor(t,r){if(r===void 0&&(r=""),r&&(r=r[0]==="/"?r:"/"+r),t==="ui")return this.uiHost+r;if(t==="flags")return this.flagsApiHost+r;if(this.region===Wh.CUSTOM)return this.apiHost+r;var n=tO+r;switch(t){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var lQ={icontains:(e,t)=>!!ye&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!ye&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!ye&&Vy(t.href,e),not_regex:(e,t)=>!!ye&&!Vy(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class $n{constructor(t){var r=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(n){n===void 0&&(n=!1),r.getWebExperiments(a=>{$n.dr("retrieved web experiments from the server"),r.vr=new Map,a.forEach(s=>{if(s.feature_flag_key){var i;r.vr&&($n.dr("setting flag key ",s.feature_flag_key," to web experiment ",s),(i=r.vr)==null||i.set(s.feature_flag_key,s));var l=r._instance.getFeatureFlag(s.feature_flag_key);sn(l)&&s.variants[l]&&r.cr(s.name,l,s.variants[l].transforms)}else if(s.variants)for(var c in s.variants){var u=s.variants[c];$n.pr(u)&&r.cr(s.name,c,u.transforms)}})},n)},this._instance=t,this._instance.onFeatureFlags(n=>{this.onFeatureFlags(n)})}onFeatureFlags(t){if(this._is_bot())$n.dr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(Ht(this.vr))return this.vr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();$n.dr("applying feature flags",t),t.forEach(r=>{var n;if(this.vr&&(n=this.vr)!=null&&n.has(r)){var a,s=this._instance.getFeatureFlag(r),i=(a=this.vr)==null?void 0:a.get(r);s&&i!=null&&i.variants[s]&&this.cr(i.name,s,i.variants[s].transforms)}})}}previewWebExperiment(){var t=$n.getWindowLocation();if(t!=null&&t.search){var r=By(t==null?void 0:t.search,"__experiment_id"),n=By(t==null?void 0:t.search,"__experiment_variant");r&&n&&($n.dr("previewing web experiments "+r+" && "+n),this.getWebExperiments(a=>{this.gr(parseInt(r),n,a)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,r,n){if(this._instance.config.disable_web_experiments&&!n)return t([]);var a=this._instance.get_property("$web_experiments");if(a&&!r)return t(a);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:s=>{if(s.statusCode!==200||!s.json)return t([]);var i=s.json.experiments||[];return t(i)}})}gr(t,r,n){var a=n.filter(s=>s.id===t);a&&a.length>0&&($n.dr("Previewing web experiment ["+a[0].name+"] with variant ["+r+"]"),this.cr(a[0].name,r,a[0].variants[r].transforms))}static pr(t){return!Ht(t.conditions)&&$n._r(t)&&$n.mr(t)}static _r(t){var r;if(Ht(t.conditions)||Ht((r=t.conditions)==null?void 0:r.url))return!0;var n,a,s,i=$n.getWindowLocation();return!!i&&((n=t.conditions)==null||!n.url||lQ[(a=(s=t.conditions)==null?void 0:s.urlMatchType)!==null&&a!==void 0?a:"icontains"](t.conditions.url,i))}static getWindowLocation(){return ye==null?void 0:ye.location}static mr(t){var r;if(Ht(t.conditions)||Ht((r=t.conditions)==null?void 0:r.utm))return!0;var n=y6();if(n.utm_source){var a,s,i,l,c,u,d,f,h=(a=t.conditions)==null||(a=a.utm)==null||!a.utm_campaign||((s=t.conditions)==null||(s=s.utm)==null?void 0:s.utm_campaign)==n.utm_campaign,g=(i=t.conditions)==null||(i=i.utm)==null||!i.utm_source||((l=t.conditions)==null||(l=l.utm)==null?void 0:l.utm_source)==n.utm_source,v=(c=t.conditions)==null||(c=c.utm)==null||!c.utm_medium||((u=t.conditions)==null||(u=u.utm)==null?void 0:u.utm_medium)==n.utm_medium,m=(d=t.conditions)==null||(d=d.utm)==null||!d.utm_term||((f=t.conditions)==null||(f=f.utm)==null?void 0:f.utm_term)==n.utm_term;return h&&v&&m&&g}return!1}static dr(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];Xe.info("[WebExperiments] "+t,n)}cr(t,r,n){this._is_bot()?$n.dr("Refusing to render web experiment since the viewer is a likely bot"):r!=="control"?n.forEach(a=>{if(a.selector){var s;$n.dr("applying transform of variant "+r+" for experiment "+t+" ",a);var i=(s=document)==null?void 0:s.querySelectorAll(a.selector);i==null||i.forEach(l=>{var c=l;a.html&&(c.innerHTML=a.html),a.css&&c.setAttribute("style",a.css)})}}):$n.dr("Control variants leave the page unmodified.")}_is_bot(){return Da&&this._instance?$6(Da,this._instance.config.custom_blocked_useragents):void 0}}var cQ=zr("[PostHog ExternalIntegrations]"),uQ={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class dQ{constructor(t){this._instance=t}it(t,r){var n;(n=vt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,t,a=>{if(a)return cQ.error("failed to load script",a);r()})}startIfEnabledOrStop(){var t=this,r=function(i){var l,c,u;!a||(l=vt.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[i]||t.it(uQ[i],()=>{var d;(d=vt.__PosthogExtensions__)==null||(d=d.integrations)==null||(d=d[i])==null||d.start(t._instance)}),!a&&(c=vt.__PosthogExtensions__)!=null&&(c=c.integrations)!=null&&c[i]&&((u=vt.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[i])==null||u.stop())};for(var[n,a]of Object.entries((s=this._instance.config.integrations)!==null&&s!==void 0?s:{})){var s;r(n)}}}var ZS="[SessionRecording]",hh=zr(ZS);class rO{get started(){var t;return!((t=this.yr)==null||!t.isStarted)}get status(){return this.yr?this.yr.status:this.br&&!this.wr?"disabled":"lazy_loading"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.br=!1,this.Er=void 0,this._instance=t,!this._instance.sessionManager)throw hh.error("started without valid sessionManager"),new Error(ZS+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(ZS+' cannot be used with cookieless_mode="always"')}get wr(){var t,r=!((t=this._instance.get_property(e1))==null||!t.enabled),n=!this._instance.config.disable_session_recording,a=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return ye&&r&&n&&!a}startIfEnabledOrStop(t){var r;if(!this.wr||(r=this.yr)==null||!r.isStarted){var n=!We(Object.assign)&&!We(Array.from);this.wr&&n?(this.Sr(t),hh.info("starting")):this.stopRecording()}}Sr(t){var r,n,a;this.wr&&(vt!=null&&(r=vt.__PosthogExtensions__)!=null&&(r=r.rrweb)!=null&&r.record&&(n=vt.__PosthogExtensions__)!=null&&n.initSessionRecording?this.$r(t):(a=vt.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this._instance,this.kr,s=>{if(s)return hh.error("could not load recorder",s);this.$r(t)}))}stopRecording(){var t,r;(t=this.Er)==null||t.call(this),this.Er=void 0,(r=this.yr)==null||r.stop()}Pr(){var t;(t=this._instance.persistence)==null||t.unregister(LD)}Tr(t){if(this._instance.persistence){var r,n,a=this._instance.persistence,s=()=>{var i=t.sessionRecording===!1?void 0:t.sessionRecording,l=i==null?void 0:i.sampleRate,c=Ht(l)?null:parseFloat(l);Ht(c)&&this.Pr();var u=i==null?void 0:i.minimumDurationMilliseconds;a.register({[e1]:at({enabled:!!i},i,{networkPayloadCapture:at({capturePerformance:t.capturePerformance},i==null?void 0:i.networkPayloadCapture),canvasRecording:{enabled:i==null?void 0:i.recordCanvas,fps:i==null?void 0:i.canvasFps,quality:i==null?void 0:i.canvasQuality},sampleRate:c,minimumDurationMilliseconds:We(u)?null:u,endpoint:i==null?void 0:i.endpoint,triggerMatchType:i==null?void 0:i.triggerMatchType,masking:i==null?void 0:i.masking,urlTriggers:i==null?void 0:i.urlTriggers})})};s(),(r=this.Er)==null||r.call(this),this.Er=(n=this._instance.sessionManager)==null?void 0:n.onSessionId(s)}}onRemoteConfig(t){"sessionRecording"in t?t.sessionRecording!==!1?(this.Tr(t),this.br=!0,this.startIfEnabledOrStop()):this.br=!0:hh.info("skipping remote config with no sessionRecording",t)}log(t,r){var n;r===void 0&&(r="log"),(n=this.yr)!=null&&n.log?this.yr.log(t,r):hh.warn("log called before recorder was ready")}get kr(){var t,r,n=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.get_property(e1);return(n==null||(r=n.scriptConfig)==null?void 0:r.script)||"lazy-recorder"}$r(t){var r,n;if((r=vt.__PosthogExtensions__)==null||!r.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.yr||(this.yr=(n=vt.__PosthogExtensions__)==null?void 0:n.initSessionRecording(this._instance),this.yr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.yr.start(t)}onRRwebEmit(t){var r;(r=this.yr)==null||r.onRRwebEmit==null||r.onRRwebEmit(t)}overrideLinkedFlag(){var t,r;this.yr||(r=this._instance.persistence)==null||r.register({$replay_override_linked_flag:!0}),(t=this.yr)==null||t.overrideLinkedFlag()}overrideSampling(){var t,r;this.yr||(r=this._instance.persistence)==null||r.register({$replay_override_sampling:!0}),(t=this.yr)==null||t.overrideSampling()}overrideTrigger(t){var r,n;this.yr||(n=this._instance.persistence)==null||n.register({[t==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(r=this.yr)==null||r.overrideTrigger(t)}get sdkDebugProperties(){var t;return((t=this.yr)==null?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,r){var n;return!((n=this.yr)==null||!n.tryAddCustomEvent(t,r))}}var op={},ej=()=>{},ju="posthog",R6=!DX&&(fa==null?void 0:fa.indexOf("MSIE"))===-1&&(fa==null?void 0:fa.indexOf("Mozilla"))===-1,nO=e=>{var t;return at({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:OY(Je==null?void 0:Je.location),persistence:"localStorage+cookie",persistence_name:"",loaded:ej,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:e??"unset",__preview_deferred_init_extensions:!1,debug:ma&&sn(ma==null?void 0:ma.search)&&ma.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_conversations:!1,disable_product_tours:!0,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(ye==null||(t=ye.location)==null?void 0:t.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:r=>{var n="Bad HTTP status: "+r.statusCode+" "+r.text;Xe.error(n)},get_device_id:r=>r,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:QS},error_tracking:{},_onCapture:ej,__preview_eager_load_replay:!1},(r=>({rageclick:!(r&&r>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(r&&r>="2025-05-24")||"history_change",session_recording:r&&r>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(e))},aO=e=>{var t={};We(e.process_person)||(t.person_profiles=e.process_person),We(e.xhr_headers)||(t.request_headers=e.xhr_headers),We(e.cookie_name)||(t.persistence_name=e.cookie_name),We(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),We(e.store_google)||(t.save_campaign_params=e.store_google),We(e.verbose)||(t.debug=e.verbose);var r=Dr({},t,e);return Jt(e.property_blacklist)&&(We(e.property_denylist)?r.property_denylist=e.property_blacklist:Jt(e.property_denylist)?r.property_denylist=[...e.property_blacklist,...e.property_denylist]:Xe.error("Invalid value for property_denylist config: "+e.property_denylist)),r};class fQ{constructor(){this.__forceAllowLocalhost=!1}get Cr(){return this.__forceAllowLocalhost}set Cr(t){Xe.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class Ix{get decideEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}get flagsEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new fQ,this.Rr=!1,this.version=Mi.LIB_VERSION,this.Ir=new nN,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=nO(),this.SentryIntegration=oX,this.sentryIntegration=t=>function(r,n){var a=t6(r,n);return{name:e6,processEvent:s=>a(s)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Fr=!1,this.Mr=null,this.Or=null,this.Ar=null,this.featureFlags=new zX(this),this.toolbar=new cX(this),this.scrollManager=new nQ(this),this.pageViewManager=new PX(this),this.surveys=new YX(this),this.conversations=new XX(this),this.productTours=new WX(this),this.experiments=new $n(this),this.exceptions=new FX(this),this.rateLimiter=new QX(this),this.requestRouter=new oQ(this),this.consent=new tX(this),this.externalIntegrations=new dQ(this),this.people={set:(t,r,n)=>{var a=sn(t)?{[t]:r}:t;this.setPersonProperties(a),n==null||n({})},set_once:(t,r,n)=>{var a=sn(t)?{[t]:r}:t;this.setPersonProperties(void 0,a),n==null||n({})}},this.on("eventCaptured",t=>Xe.info('send "'+(t==null?void 0:t.event)+'"',t))}init(t,r,n){if(n&&n!==ju){var a,s=(a=op[n])!==null&&a!==void 0?a:new Ix;return s._init(t,r,n),op[n]=s,op[ju][n]=s,s}return this._init(t,r,n)}_init(t,r,n){var a;if(r===void 0&&(r={}),We(t)||$S(t))return Xe.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},r.debug=this.Dr(r.debug),this.jr=r,this.Lr=[],r.person_profiles&&(this.Or=r.person_profiles),this.set_config(Dr({},nO(r.defaults),aO(r),{name:n,token:t})),this.config.on_xhr_error&&Xe.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=r.disable_compression?void 0:zi.GZipJS;var s=this.Nr();this.persistence=new d1(this.config,s),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new d1(at({},this.config,{persistence:"sessionStorage"}),s);var i=at({},this.persistence.props),l=at({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Ur=new eQ(w=>this.zr(w),this.config.request_queue_config),this.Hr=new rQ(this),this.__request_queue=[];var c=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(c||(this.sessionManager=new eO(this),this.sessionPropsManager=new ZT(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(Xe.info("Deferring extension initialization to improve startup performance"),setTimeout(()=>{this.Br(c)},0)):(Xe.info("Initializing extensions synchronously"),this.Br(c)),Mi.DEBUG=Mi.DEBUG||this.config.debug,Mi.DEBUG&&Xe.info("Starting in debug mode",{this:this,config:r,thisC:at({},this.config),p:i,s:l}),((a=r.bootstrap)==null?void 0:a.distinctID)!==void 0){var u,d,f=this.config.get_device_id(el()),h=(u=r.bootstrap)!=null&&u.isIdentifiedID?f:r.bootstrap.distinctID;this.persistence.set_property(Li,(d=r.bootstrap)!=null&&d.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:r.bootstrap.distinctID,$device_id:h})}if(this.qr()){var g,v,m=Object.keys(((g=r.bootstrap)==null?void 0:g.featureFlags)||{}).filter(w=>{var b;return!((b=r.bootstrap)==null||(b=b.featureFlags)==null||!b[w])}).reduce((w,b)=>{var _;return w[b]=((_=r.bootstrap)==null||(_=_.featureFlags)==null?void 0:_[b])||!1,w},{}),y=Object.keys(((v=r.bootstrap)==null?void 0:v.featureFlagPayloads)||{}).filter(w=>m[w]).reduce((w,b)=>{var _,S;return(_=r.bootstrap)!=null&&(_=_.featureFlagPayloads)!=null&&_[b]&&(w[b]=(S=r.bootstrap)==null||(S=S.featureFlagPayloads)==null?void 0:S[b]),w},{});this.featureFlags.receivedFeatureFlags({featureFlags:m,featureFlagPayloads:y})}if(c)this.register_once({distinct_id:ah,$device_id:null},"");else if(!this.get_distinct_id()){var x=this.config.get_device_id(el());this.register_once({distinct_id:x,$device_id:x},""),this.persistence.set_property(Li,"anonymous")}return Vr(ye,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),r.segment?iX(this,()=>this.Wr()):this.Wr(),dl(this.config._onCapture)&&this.config._onCapture!==ej&&(Xe.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",w=>this.config._onCapture(w.event,w))),this.config.ip&&Xe.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Br(t){var r=performance.now();this.historyAutocapture=new sX(this),this.historyAutocapture.startIfEnabled();var n=[];n.push(()=>{new dX(this).startIfEnabledOrStop()}),n.push(()=>{var a;this.siteApps=new iQ(this),(a=this.siteApps)==null||a.init()}),t||n.push(()=>{this.sessionRecording=new rO(this),this.sessionRecording.startIfEnabledOrStop()}),this.config.disable_scroll_properties||n.push(()=>{this.scrollManager.startMeasuringScrollPosition()}),n.push(()=>{this.autocapture=new KY(this),this.autocapture.startIfEnabled()}),n.push(()=>{this.surveys.loadIfEnabled()}),n.push(()=>{this.conversations.loadIfEnabled()}),n.push(()=>{this.productTours.loadIfEnabled()}),n.push(()=>{this.heatmaps=new CX(this),this.heatmaps.startIfEnabled()}),n.push(()=>{this.webVitalsAutocapture=new EX(this)}),n.push(()=>{this.exceptionObserver=new aX(this),this.exceptionObserver.startIfEnabled()}),n.push(()=>{this.deadClicksAutocapture=new ZD(this,nX),this.deadClicksAutocapture.startIfEnabled()}),n.push(()=>{if(this.Gr){var a=this.Gr;this.Gr=void 0,this.ci(a)}}),this.Vr(n,r)}Vr(t,r){for(;t.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-r>=30&&t.length>0)return void setTimeout(()=>{this.Vr(t,r)},0);var n=t.shift();if(n)try{n()}catch(s){Xe.error("Error initializing extension:",s)}}var a=Math.round(performance.now()-r);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:a}),this.config.__preview_deferred_init_extensions&&Xe.info("PostHog extensions initialized ("+a+"ms)")}ci(t){var r,n,a,s,i,l,c,u;if(!Je||!Je.body)return Xe.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.ci(t)},500);this.config.__preview_deferred_init_extensions&&(this.Gr=t),this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=Rt(t.supportedCompression,zi.GZipJS)?zi.GZipJS:Rt(t.supportedCompression,zi.Base64)?zi.Base64:void 0),(r=t.analytics)!=null&&r.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.Or?this.Or:"identified_only"}),(n=this.siteApps)==null||n.onRemoteConfig(t),(a=this.sessionRecording)==null||a.onRemoteConfig(t),(s=this.autocapture)==null||s.onRemoteConfig(t),(i=this.heatmaps)==null||i.onRemoteConfig(t),this.surveys.onRemoteConfig(t),this.conversations.onRemoteConfig(t),this.productTours.onRemoteConfig(t),(l=this.webVitalsAutocapture)==null||l.onRemoteConfig(t),(c=this.exceptionObserver)==null||c.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),(u=this.deadClicksAutocapture)==null||u.onRemoteConfig(t)}Wr(){try{this.config.loaded(this)}catch(t){Xe.critical("`loaded` function failed",t)}this.Jr(),this.config.capture_pageview&&setTimeout(()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Kr()},1),new ZX(this).load(),this.featureFlags.flags()}Jr(){var t;this.is_capturing()&&this.config.request_batching&&((t=this.Ur)==null||t.enable())}_dom_loaded(){this.is_capturing()&&fl(this.__request_queue,t=>this.zr(t)),this.__request_queue=[],this.Jr()}_handle_unload(){var t,r;this.config.request_batching?(this.Yr()&&this.capture("$pageleave"),(t=this.Ur)==null||t.unload(),(r=this.Hr)==null||r.unload()):this.Yr()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(t){this.__loaded&&(R6?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=Hy(t.url,{ip:this.config.ip?1:0}),t.headers=at({},this.config.request_headers,t.headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=["sendBeacon"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(r=>{var n,a,s,i=at({},r);i.timeout=i.timeout||6e4,i.url=Hy(i.url,{_:new Date().getTime().toString(),ver:Mi.LIB_VERSION,compression:i.compression});var l=(n=i.transport)!==null&&n!==void 0?n:"fetch",c=Zv.filter(d=>!i.disableTransport||!d.transport||!i.disableTransport.includes(d.transport)),u=(a=(s=RD(c,d=>d.transport===l))==null?void 0:s.method)!==null&&a!==void 0?a:c[0].method;if(!u)throw new Error("No available transport method");u(i)})(at({},t,{callback:r=>{var n,a;this.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((n=(a=this.config).on_request_error)==null||n.call(a,r)),t.callback==null||t.callback(r)}}))))}zr(t){this.Hr?this.Hr.retriableRequest(t):this._send_request(t)}_execute_array(t){var r,n=[],a=[],s=[];fl(t,l=>{l&&(r=l[0],Jt(r)?s.push(l):dl(l)?l.call(this):Jt(l)&&r==="alias"?n.push(l):Jt(l)&&r.indexOf("capture")!==-1&&dl(this[r])?s.push(l):a.push(l))});var i=function(l,c){fl(l,function(u){if(Jt(u[0])){var d=c;dr(u,function(f){d=d[f[0]].apply(d,f.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};i(n,this),i(a,this),i(s,this)}qr(){var t,r;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((r=this.config.bootstrap)==null?void 0:r.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,r,n){var a;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ur){if(this.is_capturing())if(!We(t)&&sn(t)){var s=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(s&&!this.config.__preview_capture_bot_pageviews)){var i=n!=null&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(i==null||!i.isRateLimited){r!=null&&r.$current_url&&!sn(r==null?void 0:r.$current_url)&&(Xe.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),r==null||delete r.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var l=new Date,c=(n==null?void 0:n.timestamp)||l,u=el(),d={uuid:u,event:t,properties:this.calculateEventProperties(t,r||{},c,u)};t==="$pageview"&&this.config.__preview_capture_bot_pageviews&&s&&(d.event="$bot_pageview",d.properties.$browser_type="bot"),i&&(d.properties.$lib_rate_limit_remaining_tokens=i.remainingTokens),n!=null&&n.$set&&(d.$set=n==null?void 0:n.$set);var f,h=t!=="$groupidentify",g=this.Xr(n==null?void 0:n.$set_once,h);if(g&&(d.$set_once=g),(d=AY(d,n!=null&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=c,We(n==null?void 0:n.timestamp)||(d.properties.$event_time_override_provided=!0,d.properties.$event_time_override_system_time=l),t===ey.DISMISSED||t===ey.SENT){var v=r==null?void 0:r[YT.SURVEY_ID],m=r==null?void 0:r[YT.SURVEY_ITERATION];f={id:v,current_iteration:m},localStorage.getItem(XT(f))||localStorage.setItem(XT(f),"true"),d.$set=at({},d.$set,{[VX({id:v,current_iteration:m},t===ey.SENT?"responded":"dismissed")]:!0})}var y=at({},d.properties.$set,d.$set);if(Fu(y)||this.setPersonPropertiesForFlags(y),!Ht(this.config.before_send)){var x=this.Qr(d);if(!x)return;d=x}this.Ir.emit("eventCaptured",d);var w={method:"POST",url:(a=n==null?void 0:n._url)!==null&&a!==void 0?a:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:d,compression:"best-available",batchKey:n==null?void 0:n._batchKey};return!this.config.request_batching||n&&(n==null||!n._batchKey)||n!=null&&n.send_instantly?this.zr(w):this.Ur.enqueue(w),d}Xe.critical("This capture call is ignored due to client rate limiting.")}}else Xe.error("No event name provided to posthog.capture")}else Xe.uninitializedWarning("posthog.capture")}Ni(t){return this.on("eventCaptured",r=>t(r.event,r))}calculateEventProperties(t,r,n,a,s){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return r;var i=s?void 0:this.persistence.remove_event_timer(t),l=at({},r);if(l.token=this.config.token,l.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(l.$cookieless_mode=!0),t==="$snapshot"){var c=at({},this.persistence.properties(),this.sessionPersistence.properties());return l.distinct_id=c.distinct_id,(!sn(l.distinct_id)&&!_i(l.distinct_id)||$S(l.distinct_id))&&Xe.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),l}var u,d=kX(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:f,windowId:h}=this.sessionManager.checkAndGetSessionAndWindowId(s,n.getTime());l.$session_id=f,l.$window_id=h}this.sessionPropsManager&&Dr(l,this.sessionPropsManager.getSessionProps());try{var g;this.sessionRecording&&Dr(l,this.sessionRecording.sdkDebugProperties),l.$sdk_debug_retry_queue_size=(g=this.Hr)==null?void 0:g.length}catch(x){l.$sdk_debug_error_capturing_properties=String(x)}if(this.requestRouter.region===Wh.CUSTOM&&(l.$lib_custom_api_host=this.config.api_host),u=t!=="$pageview"||s?t!=="$pageleave"||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,a),l=Dr(l,u),t==="$pageview"&&Je&&(l.title=Je.title),!We(i)){var v=n.getTime()-i;l.$duration=parseFloat((v/1e3).toFixed(3))}fa&&this.config.opt_out_useragent_filter&&(l.$browser_type=this._is_bot()?"bot":"browser"),(l=Dr({},d,this.persistence.properties(),this.sessionPersistence.properties(),l)).$is_identified=this._isIdentified(),Jt(this.config.property_denylist)?dr(this.config.property_denylist,function(x){delete l[x]}):Xe.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var m=this.config.sanitize_properties;m&&(Xe.error("sanitize_properties is deprecated. Use before_send instead"),l=m(l,t));var y=this.Zr();return l.$process_person_profile=y,y&&!s&&this.ts("_calculate_event_properties"),l}Xr(t,r){var n;if(r===void 0&&(r=!0),!this.persistence||!this.Zr()||this.Rr)return t;var a=this.persistence.get_initial_props(),s=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),i=Dr({},a,s||{},t||{}),l=this.config.sanitize_properties;return l&&(Xe.error("sanitize_properties is deprecated. Use before_send instead"),i=l(i,"$set_once")),r&&(this.Rr=!0),Fu(i)?void 0:i}register(t,r){var n;(n=this.persistence)==null||n.register(t,r)}register_once(t,r,n){var a;(a=this.persistence)==null||a.register_once(t,r,n)}register_for_session(t){var r;(r=this.sessionPersistence)==null||r.register(t)}unregister(t){var r;(r=this.persistence)==null||r.unregister(t)}unregister_for_session(t){var r;(r=this.sessionPersistence)==null||r.unregister(t)}es(t,r){this.register({[t]:r})}getFeatureFlag(t,r){return this.featureFlags.getFeatureFlag(t,r)}getFeatureFlagPayload(t){var r=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(r)}catch{return r}}isFeatureEnabled(t,r){return this.featureFlags.isFeatureEnabled(t,r)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,r,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,r,n)}getEarlyAccessFeatures(t,r,n){return r===void 0&&(r=!1),this.featureFlags.getEarlyAccessFeatures(t,r,n)}on(t,r){return this.Ir.on(t,r)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var r,n;return(r=(n=this.sessionManager)==null?void 0:n.onSessionId(t))!==null&&r!==void 0?r:()=>{}}getSurveys(t,r){r===void 0&&(r=!1),this.surveys.getSurveys(t,r)}getActiveMatchingSurveys(t,r){r===void 0&&(r=!1),this.surveys.getActiveMatchingSurveys(t,r)}renderSurvey(t,r){this.surveys.renderSurvey(t,r)}displaySurvey(t,r){r===void 0&&(r=GX),this.surveys.displaySurvey(t,r)}cancelPendingSurvey(t){this.surveys.cancelPendingSurvey(t)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,r){return r===void 0&&(r=!1),this.surveys.canRenderSurveyAsync(t,r)}identify(t,r,n){if(!this.__loaded||!this.persistence)return Xe.uninitializedWarning("posthog.identify");if(_i(t)&&(t=t.toString(),Xe.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t)if(["distinct_id","distinctid"].includes(t.toLowerCase()))Xe.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==ah){if(this.ts("posthog.identify")){var a=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=a;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==a&&t!==this.get_property(Dh)&&(this.unregister(Dh),this.register({distinct_id:t}));var i=(this.persistence.get_property(Li)||"anonymous")==="anonymous";t!==a&&i?(this.persistence.set_property(Li,"identified"),this.setPersonPropertiesForFlags(at({},n||{},r||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:a},{$set:r||{},$set_once:n||{}}),this.Ar=HT(t,r,n),this.featureFlags.setAnonymousDistinctId(a)):(r||n)&&this.setPersonProperties(r,n),t!==a&&(this.reloadFeatureFlags(),this.unregister(Iy))}}else Xe.critical('The string "'+ah+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else Xe.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,r){if((t||r)&&this.ts("posthog.setPersonProperties")){var n=HT(this.get_distinct_id(),t,r);this.Ar!==n?(this.setPersonPropertiesForFlags(at({},r||{},t||{})),this.capture("$set",{$set:t||{},$set_once:r||{}}),this.Ar=n):Xe.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,r,n){if(t&&r){var a=this.getGroups();a[t]!==r&&this.resetGroupPropertiesForFlags(t),this.register({$groups:at({},a,{[t]:r})}),n&&(this.capture("$groupidentify",{$group_type:t,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags({[t]:n})),a[t]===r||n||this.reloadFeatureFlags()}else Xe.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0),this.featureFlags.setPersonPropertiesForFlags(t,r)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0),this.ts("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,r)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var r,n,a,s;if(Xe.info("reset"),!this.__loaded)return Xe.uninitializedWarning("posthog.reset");var i=this.get_property("$device_id");if(this.consent.reset(),(r=this.persistence)==null||r.clear(),(n=this.sessionPersistence)==null||n.clear(),this.surveys.reset(),this.featureFlags.reset(),(a=this.persistence)==null||a.set_property(Li,"anonymous"),(s=this.sessionManager)==null||s.resetSessionId(),this.Ar=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:ah,$device_id:null},"");else{var l=this.config.get_device_id(el());this.register_once({distinct_id:l,$device_id:t?l:i},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,r;return(t=(r=this.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:r,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),a=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+r);if(t!=null&&t.withTimestamp&&n){var s,i=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!n)return a;a+="?t="+Math.max(Math.floor((new Date().getTime()-n)/1e3)-i,0)}return a}alias(t,r){return t===this.get_property(ID)?(Xe.critical("Attempting to create alias for existing People user - aborting."),-2):this.ts("posthog.alias")?(We(r)&&(r=this.get_distinct_id()),t!==r?(this.es(Dh,t),this.capture("$create_alias",{alias:t,distinct_id:r})):(Xe.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var r=at({},this.config);if(pn(t)){var n,a,s,i,l;Dr(this.config,aO(t));var c=this.Nr();(n=this.persistence)==null||n.update_config(this.config,r,c),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new d1(at({},this.config,{persistence:"sessionStorage"}),c);var u=this.Dr(this.config.debug);Yi(u)&&(this.config.debug=u),Yi(this.config.debug)&&(this.config.debug?(Mi.DEBUG=!0,Pr.H()&&Pr.G("ph_debug","true"),Xe.info("set_config",{config:t,oldConfig:r,newConfig:at({},this.config)})):(Mi.DEBUG=!1,Pr.H()&&Pr.V("ph_debug"))),(a=this.sessionRecording)==null||a.startIfEnabledOrStop(),(s=this.autocapture)==null||s.startIfEnabled(),(i=this.heatmaps)==null||i.startIfEnabled(),this.surveys.loadIfEnabled(),this.rs(),(l=this.externalIntegrations)==null||l.startIfEnabledOrStop()}}startSessionRecording(t){var r=t===!0,n={sampling:r||!(t==null||!t.sampling),linked_flag:r||!(t==null||!t.linked_flag),url_trigger:r||!(t==null||!t.url_trigger),event_trigger:r||!(t==null||!t.event_trigger)};if(Object.values(n).some(Boolean)){var a,s,i,l,c;(a=this.sessionManager)==null||a.checkAndGetSessionAndWindowId(),n.sampling&&((s=this.sessionRecording)==null||s.overrideSampling()),n.linked_flag&&((i=this.sessionRecording)==null||i.overrideLinkedFlag()),n.url_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("url")),n.event_trigger&&((c=this.sessionRecording)==null||c.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,r){var n=new Error("PostHog syntheticException"),a=this.exceptions.buildProperties(t,{handled:!0,syntheticException:n});return this.exceptions.sendExceptionEvent(at({},a,r))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var r;return(r=this.persistence)==null?void 0:r.props[t]}getSessionProperty(t){var r;return(r=this.sessionPersistence)==null?void 0:r.props[t]}toString(){var t,r=(t=this.config.name)!==null&&t!==void 0?t:ju;return r!==ju&&(r=ju+"."+r),r}_isIdentified(){var t,r;return((t=this.persistence)==null?void 0:t.get_property(Li))==="identified"||((r=this.sessionPersistence)==null?void 0:r.get_property(Li))==="identified"}Zr(){var t,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Fu(this.getGroups())&&((t=this.persistence)==null||(t=t.props)==null||!t[Dh])&&((r=this.persistence)==null||(r=r.props)==null||!r[Ly]))}Yr(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Zr()||this.ts("posthog.createPersonProfile")&&this.setPersonProperties({},{})}ts(t){return this.config.person_profiles==="never"?(Xe.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.es(Ly,!0),!0)}Nr(){if(this.config.cookieless_mode==="always")return!0;var t=this.consent.isOptedOut(),r=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||t&&!!r}rs(){var t,r,n,a,s=this.Nr();return((t=this.persistence)==null?void 0:t.bi)!==s&&((n=this.persistence)==null||n.set_disabled(s)),((r=this.sessionPersistence)==null?void 0:r.bi)!==s&&((a=this.sessionPersistence)==null||a.set_disabled(s)),s}opt_in_capturing(t){var r;if(this.config.cookieless_mode!=="always"){var n,a;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(n=this.sessionManager)==null||n.destroy(),this.sessionManager=new eO(this),this.persistence&&(this.sessionPropsManager=new ZT(this,this.sessionManager,this.persistence)),this.sessionRecording=new rO(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.rs(),this.Jr(),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(We(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((a=t==null?void 0:t.captureEventName)!==null&&a!==void 0?a:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Kr()}else Xe.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var t,r;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.rs(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:ah,$device_id:null}),(t=this.sessionManager)==null||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(r=this.sessionRecording)==null||r.stopRecording(),this.sessionRecording=void 0,this.Kr())):Xe.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===Di.GRANTED?"granted":t===Di.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.rs()}_is_bot(){return Da?$6(Da,this.config.custom_blocked_useragents):void 0}Kr(){Je&&(Je.visibilityState==="visible"?this.Fr||(this.Fr=!0,this.capture("$pageview",{title:Je.title},{send_instantly:!0}),this.Mr&&(Je.removeEventListener("visibilitychange",this.Mr),this.Mr=null)):this.Mr||(this.Mr=this.Kr.bind(this),Vr(Je,"visibilitychange",this.Mr)))}debug(t){t===!1?(ye==null||ye.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(ye==null||ye.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}O(){var t,r,n,a,s,i,l,c=this.jr||{};return"advanced_disable_flags"in c?!!c.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(Xe.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",a=!1,s=Xe,i=(r="advanced_disable_flags")in(t=c)&&!We(t[r]),l=n in t&&!We(t[n]),i?t[r]:l?(s&&s.warn("Config field '"+n+"' is deprecated. Please use '"+r+"' instead. The old field will be removed in a future major version."),t[n]):a)}Qr(t){if(Ht(this.config.before_send))return t;var r=Jt(this.config.before_send)?this.config.before_send:[this.config.before_send],n=t;for(var a of r){if(n=a(n),Ht(n)){var s="Event '"+t.event+"' was rejected in beforeSend function";return nY(t.event)?Xe.warn(s+". This can cause unexpected behavior."):Xe.info(s),null}n.properties&&!Fu(n.properties)||Xe.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var t;return(t=this.pageViewManager.Vt)==null?void 0:t.pageViewId}captureTraceFeedback(t,r){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:r})}captureTraceMetric(t,r,n){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:r,$ai_metric_value:String(n)})}Dr(t){var r=Yi(t)&&!t,n=Pr.H()&&Pr.q("ph_debug")==="true";return!r&&(!!n||t)}}(function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=PY(e.prototype[t[r]])})(Ix,["identify"]);var sO,ku=(sO=op[ju]=new Ix,function(){function e(){e.done||(e.done=!0,R6=!1,dr(op,function(t){t._dom_loaded()}))}Je!=null&&Je.addEventListener?Je.readyState==="complete"?e():Vr(Je,"DOMContentLoaded",e,{capture:!1}):ye&&Xe.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),sO),I6=p.createContext({client:ku,bootstrap:void 0});function M6(e,t,r){if(r===void 0&&(r=new WeakMap),e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(r.has(e)&&r.get(e)===t)return!0;r.set(e,t);var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var s=0,i=n;s<i.length;s++){var l=i[s];if(!a.includes(l)||!M6(e[l],t[l],r))return!1}return!0}function hQ(e){var t,r,n=e.children,a=e.client,s=e.apiKey,i=e.options,l=p.useRef(null),c=p.useMemo(function(){return a?(s&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),i&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),a):(s||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),ku)},[a,s,JSON.stringify(i)]);return p.useEffect(function(){if(!a){var u=l.current;u?(s!==u.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),i&&!M6(i,u.options)&&ku.set_config(i),l.current={apiKey:s,options:i??{}}):(ku.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),ku.init(s,i),l.current={apiKey:s,options:i??{}})}},[a,s,JSON.stringify(i)]),R.createElement(I6.Provider,{value:{client:c,bootstrap:(t=i==null?void 0:i.bootstrap)!==null&&t!==void 0?t:(r=a==null?void 0:a.config)===null||r===void 0?void 0:r.bootstrap}},n)}var m1=function(e){return typeof e=="function"},tj=function(e,t){return tj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},tj(e,t)};function pQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");tj(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var mQ={componentStack:null,exceptionEvent:null,error:null},gQ={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(e){pQ(t,e);function t(r){var n=e.call(this,r)||this;return n.state=mQ,n}return t.prototype.componentDidCatch=function(r,n){var a=this.props.additionalProperties,s;m1(a)?s=a(r):typeof a=="object"&&(s=a);var i=this.context.client,l=i.captureException(r,s),c=n.componentStack;this.setState({error:r,componentStack:c??null,exceptionEvent:l})},t.prototype.render=function(){var r=this.props,n=r.children,a=r.fallback,s=this.state;if(s.componentStack==null)return m1(n)?n():n;var i=m1(a)?R.createElement(a,{error:s.error,componentStack:s.componentStack,exceptionEvent:s.exceptionEvent}):a;return R.isValidElement(i)?i:(console.warn(gQ.INVALID_FALLBACK),R.createElement(R.Fragment,null))},t.contextType=I6,t})(R.Component);var vQ=e=>{switch(e){case"success":return bQ;case"info":return _Q;case"warning":return wQ;case"error":return SQ;default:return null}},yQ=Array(12).fill(0),xQ=({visible:e})=>R.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},R.createElement("div",{className:"sonner-spinner"},yQ.map((t,r)=>R.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),bQ=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),wQ=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_Q=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),SQ=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jQ=()=>{let[e,t]=R.useState(document.hidden);return R.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},rj=1,kQ=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:rj++,s=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return s?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0;return n.then(async s=>{if(NQ(s)&&!s.ok){a=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${s.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${s.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){a=!1;let i=typeof t.success=="function"?await t.success(s):t.success,l=typeof t.description=="function"?await t.description(s):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async s=>{if(t.error!==void 0){a=!1;let i=typeof t.error=="function"?await t.error(s):t.error,l=typeof t.description=="function"?await t.description(s):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var s;a&&(this.dismiss(r),r=void 0),(s=t.finally)==null||s.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||rj++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Ta=new kQ,EQ=(e,t)=>{let r=(t==null?void 0:t.id)||rj++;return Ta.addToast({title:e,...t,id:r}),r},NQ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",CQ=EQ,PQ=()=>Ta.toasts,ue=Object.assign(CQ,{success:Ta.success,info:Ta.info,warning:Ta.warning,error:Ta.error,custom:Ta.custom,message:Ta.message,promise:Ta.promise,dismiss:Ta.dismiss,loading:Ta.loading},{getHistory:PQ});function AQ(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}AQ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Xg(e){return e.label!==void 0}var TQ=3,OQ="32px",$Q=4e3,RQ=356,IQ=14,MQ=20,LQ=200;function DQ(...e){return e.filter(Boolean).join(" ")}var FQ=e=>{var t,r,n,a,s,i,l,c,u,d;let{invert:f,toast:h,unstyled:g,interacting:v,setHeights:m,visibleToasts:y,heights:x,index:w,toasts:b,expanded:_,removeToast:S,defaultRichColors:E,closeButton:j,style:k,cancelButtonStyle:N,actionButtonStyle:C,className:A="",descriptionClassName:I="",duration:B,position:z,gap:M,loadingIcon:$,expandByDefault:F,classNames:O,icons:L,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:T,cn:D}=e,[Y,q]=R.useState(!1),[ie,le]=R.useState(!1),[K,Z]=R.useState(!1),[H,X]=R.useState(!1),[ce,J]=R.useState(0),[oe,ne]=R.useState(0),he=R.useRef(null),fe=R.useRef(null),_e=w===0,W=w+1<=y,te=h.type,je=h.dismissible!==!1,me=h.className||"",pe=h.descriptionClassName||"",Re=R.useMemo(()=>x.findIndex(ve=>ve.toastId===h.id)||0,[x,h.id]),ze=R.useMemo(()=>{var ve;return(ve=h.closeButton)!=null?ve:j},[h.closeButton,j]),ot=R.useMemo(()=>h.duration||B||$Q,[h.duration,B]),Ze=R.useRef(0),Ke=R.useRef(0),Me=R.useRef(0),G=R.useRef(null),[V,se]=z.split("-"),ke=R.useMemo(()=>x.reduce((ve,Ae,P)=>P>=Re?ve:ve+Ae.height,0),[x,Re]),Be=jQ(),it=h.invert||f,ut=te==="loading";Ke.current=R.useMemo(()=>Re*M+ke,[Re,ke]),R.useEffect(()=>{q(!0)},[]),R.useLayoutEffect(()=>{if(!Y)return;let ve=fe.current,Ae=ve.style.height;ve.style.height="auto";let P=ve.getBoundingClientRect().height;ve.style.height=Ae,ne(P),m(U=>U.find(be=>be.toastId===h.id)?U.map(be=>be.toastId===h.id?{...be,height:P}:be):[{toastId:h.id,height:P,position:h.position},...U])},[Y,h.title,h.description,m,h.id]);let Ie=R.useCallback(()=>{le(!0),J(Ke.current),m(ve=>ve.filter(Ae=>Ae.toastId!==h.id)),setTimeout(()=>{S(h)},LQ)},[h,S,m,Ke]);R.useEffect(()=>{if(h.promise&&te==="loading"||h.duration===1/0||h.type==="loading")return;let ve,Ae=ot;return _||v||T&&Be?(()=>{if(Me.current<Ze.current){let P=new Date().getTime()-Ze.current;Ae=Ae-P}Me.current=new Date().getTime()})():Ae!==1/0&&(Ze.current=new Date().getTime(),ve=setTimeout(()=>{var P;(P=h.onAutoClose)==null||P.call(h,h),Ie()},Ae)),()=>clearTimeout(ve)},[_,v,F,h,ot,Ie,h.promise,te,T,Be]),R.useEffect(()=>{let ve=fe.current;if(ve){let Ae=ve.getBoundingClientRect().height;return ne(Ae),m(P=>[{toastId:h.id,height:Ae,position:h.position},...P]),()=>m(P=>P.filter(U=>U.toastId!==h.id))}},[m,h.id]),R.useEffect(()=>{h.delete&&Ie()},[Ie,h.delete]);function lt(){return L!=null&&L.loading?R.createElement("div",{className:"sonner-loader","data-visible":te==="loading"},L.loading):$?R.createElement("div",{className:"sonner-loader","data-visible":te==="loading"},$):R.createElement(xQ,{visible:te==="loading"})}return R.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:fe,className:D(A,me,O==null?void 0:O.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[te],(r=h==null?void 0:h.classNames)==null?void 0:r[te]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:E,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":Y,"data-promise":!!h.promise,"data-removed":ie,"data-visible":W,"data-y-position":V,"data-x-position":se,"data-index":w,"data-front":_e,"data-swiping":K,"data-dismissible":je,"data-type":te,"data-invert":it,"data-swipe-out":H,"data-expanded":!!(_||F&&Y),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${ie?ce:Ke.current}px`,"--initial-height":F?"auto":`${oe}px`,...k,...h.style},onPointerDown:ve=>{ut||!je||(he.current=new Date,J(Ke.current),ve.target.setPointerCapture(ve.pointerId),ve.target.tagName!=="BUTTON"&&(Z(!0),G.current={x:ve.clientX,y:ve.clientY}))},onPointerUp:()=>{var ve,Ae,P,U;if(H||!je)return;G.current=null;let be=Number(((ve=fe.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ge=new Date().getTime()-((Ae=he.current)==null?void 0:Ae.getTime()),xt=Math.abs(be)/Ge;if(Math.abs(be)>=MQ||xt>.11){J(Ke.current),(P=h.onDismiss)==null||P.call(h,h),Ie(),X(!0);return}(U=fe.current)==null||U.style.setProperty("--swipe-amount","0px"),Z(!1)},onPointerMove:ve=>{var Ae;if(!G.current||!je)return;let P=ve.clientY-G.current.y,U=ve.clientX-G.current.x,be=(V==="top"?Math.min:Math.max)(0,P),Ge=ve.pointerType==="touch"?10:2;Math.abs(be)>Ge?(Ae=fe.current)==null||Ae.style.setProperty("--swipe-amount",`${P}px`):Math.abs(U)>Ge&&(G.current=null)}},ze&&!h.jsx?R.createElement("button",{"aria-label":Q,"data-disabled":ut,"data-close-button":!0,onClick:ut||!je?()=>{}:()=>{var ve;Ie(),(ve=h.onDismiss)==null||ve.call(h,h)},className:D(O==null?void 0:O.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},R.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),R.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||R.isValidElement(h.title)?h.jsx||h.title:R.createElement(R.Fragment,null,te||h.icon||h.promise?R.createElement("div",{"data-icon":"",className:D(O==null?void 0:O.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||lt():null,h.type!=="loading"?h.icon||(L==null?void 0:L[te])||vQ(te):null):null,R.createElement("div",{"data-content":"",className:D(O==null?void 0:O.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},R.createElement("div",{"data-title":"",className:D(O==null?void 0:O.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?R.createElement("div",{"data-description":"",className:D(I,pe,O==null?void 0:O.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),R.isValidElement(h.cancel)?h.cancel:h.cancel&&Xg(h.cancel)?R.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:ve=>{var Ae,P;Xg(h.cancel)&&je&&((P=(Ae=h.cancel).onClick)==null||P.call(Ae,ve),Ie())},className:D(O==null?void 0:O.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,R.isValidElement(h.action)?h.action:h.action&&Xg(h.action)?R.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||C,onClick:ve=>{var Ae,P;Xg(h.action)&&(ve.defaultPrevented||((P=(Ae=h.action).onClick)==null||P.call(Ae,ve),Ie()))},className:D(O==null?void 0:O.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function iO(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var BQ=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:s,className:i,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=TQ,toastOptions:g,dir:v=iO(),gap:m=IQ,loadingIcon:y,icons:x,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b,cn:_=DQ}=e,[S,E]=R.useState([]),j=R.useMemo(()=>Array.from(new Set([r].concat(S.filter(T=>T.position).map(T=>T.position)))),[S,r]),[k,N]=R.useState([]),[C,A]=R.useState(!1),[I,B]=R.useState(!1),[z,M]=R.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=R.useRef(null),F=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=R.useRef(null),L=R.useRef(!1),Q=R.useCallback(T=>{var D;(D=S.find(Y=>Y.id===T.id))!=null&&D.delete||Ta.dismiss(T.id),E(Y=>Y.filter(({id:q})=>q!==T.id))},[S]);return R.useEffect(()=>Ta.subscribe(T=>{if(T.dismiss){E(D=>D.map(Y=>Y.id===T.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{Jm.flushSync(()=>{E(D=>{let Y=D.findIndex(q=>q.id===T.id);return Y!==-1?[...D.slice(0,Y),{...D[Y],...T},...D.slice(Y+1)]:[T,...D]})})})}),[]),R.useEffect(()=>{if(c!=="system"){M(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:T})=>{M(T?"dark":"light")})},[c]),R.useEffect(()=>{S.length<=1&&A(!1)},[S]),R.useEffect(()=>{let T=D=>{var Y,q;n.every(ie=>D[ie]||D.code===ie)&&(A(!0),(Y=$.current)==null||Y.focus()),D.code==="Escape"&&(document.activeElement===$.current||(q=$.current)!=null&&q.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[n]),R.useEffect(()=>{if($.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,L.current=!1)}},[$.current]),S.length?R.createElement("section",{"aria-label":`${w} ${F}`,tabIndex:-1},j.map((T,D)=>{var Y;let[q,ie]=T.split("-");return R.createElement("ol",{key:T,dir:v==="auto"?iO():v,tabIndex:-1,ref:$,className:i,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":q,"data-x-position":ie,style:{"--front-toast-height":`${((Y=k[0])==null?void 0:Y.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||OQ,"--width":`${RQ}px`,"--gap":`${m}px`,...f},onBlur:le=>{L.current&&!le.currentTarget.contains(le.relatedTarget)&&(L.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||L.current||(L.current=!0,O.current=le.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{I||A(!1)},onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},S.filter(le=>!le.position&&D===0||le.position===T).map((le,K)=>{var Z,H;return R.createElement(FQ,{key:le.id,icons:x,index:K,toast:le,defaultRichColors:u,duration:(Z=g==null?void 0:g.duration)!=null?Z:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:h,closeButton:(H=g==null?void 0:g.closeButton)!=null?H:s,interacting:I,position:T,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Q,toasts:S.filter(X=>X.position==le.position),heights:k.filter(X=>X.position==le.position),setHeights:N,expandByDefault:a,gap:m,loadingIcon:y,expanded:C,pauseWhenPageIsHidden:b,cn:_})}))})):null};const UQ=({...e})=>{const{theme:t="light"}=Pl();return o.jsx(BQ,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg group-[.toaster]:rounded-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground group-[.toast]:rounded-md",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground group-[.toast]:rounded-md"}},...e})};function $e(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function zQ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Mx(...e){return t=>e.forEach(r=>zQ(r,t))}function ht(...e){return p.useCallback(Mx(...e),e)}function qQ(e,t){const r=p.createContext(t),n=s=>{const{children:i,...l}=s,c=p.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(s){const i=p.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function Ha(e,t=[]){let r=[];function n(s,i){const l=p.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:g,...v}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:y,children:g})};u.displayName=s+"Provider";function d(f,h){var m;const g=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,v=p.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,WQ(a,...t)]}function WQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var wl=p.forwardRef((e,t)=>{const{children:r,...n}=e,a=p.Children.toArray(r),s=a.find(HQ);if(s){const i=s.props.children,l=a.map(c=>c===s?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:c);return o.jsx(nj,{...n,ref:t,children:p.isValidElement(i)?p.cloneElement(i,void 0,l):null})}return o.jsx(nj,{...n,ref:t,children:r})});wl.displayName="Slot";var nj=p.forwardRef((e,t)=>{const{children:r,...n}=e;if(p.isValidElement(r)){const a=KQ(r);return p.cloneElement(r,{...VQ(n,r.props),ref:t?Mx(t,a):a})}return p.Children.count(r)>1?p.Children.only(null):null});nj.displayName="SlotClone";var aN=({children:e})=>o.jsx(o.Fragment,{children:e});function HQ(e){return p.isValidElement(e)&&e.type===aN}function VQ(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{s(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function KQ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var GQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],tt=GQ.reduce((e,t)=>{const r=p.forwardRef((n,a)=>{const{asChild:s,...i}=n,l=s?wl:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...i,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Zm(e,t){e&&Kc.flushSync(()=>e.dispatchEvent(t))}function Ut(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function JQ(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var YQ="DismissableLayer",aj="dismissableLayer.update",XQ="dismissableLayer.pointerDownOutside",QQ="dismissableLayer.focusOutside",oO,L6=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),D6=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(L6),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),v=ht(t,j=>f(j)),m=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(y),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=tZ(j=>{const k=j.target,N=[...u.branches].some(C=>C.contains(k));!_||N||(a==null||a(j),i==null||i(j),j.defaultPrevented||l==null||l())},h),E=rZ(j=>{const k=j.target;[...u.branches].some(C=>C.contains(k))||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},h);return JQ(j=>{w===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(oO=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),lO(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=oO)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),lO())},[d,u]),p.useEffect(()=>{const j=()=>g({});return document.addEventListener(aj,j),()=>document.removeEventListener(aj,j)},[]),o.jsx(tt.div,{...c,ref:v,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:$e(e.onFocusCapture,E.onFocusCapture),onBlurCapture:$e(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:$e(e.onPointerDownCapture,S.onPointerDownCapture)})});D6.displayName=YQ;var ZQ="DismissableLayerBranch",eZ=p.forwardRef((e,t)=>{const r=p.useContext(L6),n=p.useRef(null),a=ht(t,n);return p.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(tt.div,{...e,ref:a})});eZ.displayName=ZQ;function tZ(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){F6(XQ,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function rZ(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=p.useRef(!1);return p.useEffect(()=>{const a=s=>{s.target&&!n.current&&F6(QQ,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function lO(){const e=new CustomEvent(aj);document.dispatchEvent(e)}function F6(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Zm(a,s):a.dispatchEvent(s)}var Ur=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},nZ=mf.useId||(()=>{}),aZ=0;function Ds(e){const[t,r]=p.useState(nZ());return Ur(()=>{r(n=>n??String(aZ++))},[e]),t?`radix-${t}`:""}const sZ=["top","right","bottom","left"],_l=Math.min,Ra=Math.max,Ky=Math.round,Qg=Math.floor,yi=e=>({x:e,y:e}),iZ={left:"right",right:"left",bottom:"top",top:"bottom"},oZ={start:"end",end:"start"};function sj(e,t,r){return Ra(e,_l(t,r))}function so(e,t){return typeof e=="function"?e(t):e}function io(e){return e.split("-")[0]}function bf(e){return e.split("-")[1]}function sN(e){return e==="x"?"y":"x"}function iN(e){return e==="y"?"height":"width"}const lZ=new Set(["top","bottom"]);function fi(e){return lZ.has(io(e))?"y":"x"}function oN(e){return sN(fi(e))}function cZ(e,t,r){r===void 0&&(r=!1);const n=bf(e),a=oN(e),s=iN(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Gy(i)),[i,Gy(i)]}function uZ(e){const t=Gy(e);return[ij(e),t,ij(t)]}function ij(e){return e.replace(/start|end/g,t=>oZ[t])}const cO=["left","right"],uO=["right","left"],dZ=["top","bottom"],fZ=["bottom","top"];function hZ(e,t,r){switch(e){case"top":case"bottom":return r?t?uO:cO:t?cO:uO;case"left":case"right":return t?dZ:fZ;default:return[]}}function pZ(e,t,r,n){const a=bf(e);let s=hZ(io(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(ij)))),s}function Gy(e){return e.replace(/left|right|bottom|top/g,t=>iZ[t])}function mZ(e){return{top:0,right:0,bottom:0,left:0,...e}}function B6(e){return typeof e!="number"?mZ(e):{top:e,right:e,bottom:e,left:e}}function Jy(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function dO(e,t,r){let{reference:n,floating:a}=e;const s=fi(t),i=oN(t),l=iN(i),c=io(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-a.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-a.width,y:f};break;default:g={x:n.x,y:n.y}}switch(bf(t)){case"start":g[i]-=h*(r&&u?-1:1);break;case"end":g[i]+=h*(r&&u?-1:1);break}return g}const gZ=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=dO(u,n,c),h=n,g={},v=0;for(let m=0;m<l.length;m++){const{name:y,fn:x}=l[m],{x:w,y:b,data:_,reset:S}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});d=w??d,f=b??f,g={...g,[y]:{...g[y],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=dO(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:g}};async function Wp(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=so(t,e),v=B6(g),y=l[h?f==="floating"?"reference":"floating":f],x=Jy(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(y)))==null||r?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),_=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Jy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(x.top-S.top+v.top)/_.y,bottom:(S.bottom-x.bottom+v.bottom)/_.y,left:(x.left-S.left+v.left)/_.x,right:(S.right-x.right+v.right)/_.x}}const vZ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=so(e,t)||{};if(u==null)return{};const f=B6(d),h={x:r,y:n},g=oN(a),v=iN(g),m=await i.getDimensions(u),y=g==="y",x=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",_=s.reference[v]+s.reference[g]-h[g]-s.floating[v],S=h[g]-s.reference[g],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=E?E[b]:0;(!j||!await(i.isElement==null?void 0:i.isElement(E)))&&(j=l.floating[b]||s.floating[v]);const k=_/2-S/2,N=j/2-m[v]/2-1,C=_l(f[x],N),A=_l(f[w],N),I=C,B=j-m[v]-A,z=j/2-m[v]/2+k,M=sj(I,z,B),$=!c.arrow&&bf(a)!=null&&z!==M&&s.reference[v]/2-(z<I?C:A)-m[v]/2<0,F=$?z<I?z-I:z-B:0;return{[g]:h[g]+F,data:{[g]:M,centerOffset:z-M-F,...$&&{alignmentOffset:F}},reset:$}}}),yZ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...y}=so(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const x=io(a),w=fi(l),b=io(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(b||!m?[Gy(l)]:uZ(l)),E=v!=="none";!h&&E&&S.push(...pZ(l,m,v,_));const j=[l,...S],k=await Wp(t,y),N=[];let C=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&N.push(k[x]),f){const z=cZ(a,i,_);N.push(k[z[0]],k[z[1]])}if(C=[...C,{placement:a,overflows:N}],!N.every(z=>z<=0)){var A,I;const z=(((A=s.flip)==null?void 0:A.index)||0)+1,M=j[z];if(M&&(!(f==="alignment"?w!==fi(M):!1)||C.every(O=>fi(O.placement)===w?O.overflows[0]>0:!0)))return{data:{index:z,overflows:C},reset:{placement:M}};let $=(I=C.filter(F=>F.overflows[0]<=0).sort((F,O)=>F.overflows[1]-O.overflows[1])[0])==null?void 0:I.placement;if(!$)switch(g){case"bestFit":{var B;const F=(B=C.filter(O=>{if(E){const L=fi(O.placement);return L===w||L==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(L=>L>0).reduce((L,Q)=>L+Q,0)]).sort((O,L)=>O[1]-L[1])[0])==null?void 0:B[0];F&&($=F);break}case"initialPlacement":$=l;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function fO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function hO(e){return sZ.some(t=>e[t]>=0)}const xZ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=so(e,t);switch(n){case"referenceHidden":{const s=await Wp(t,{...a,elementContext:"reference"}),i=fO(s,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:hO(i)}}}case"escaped":{const s=await Wp(t,{...a,altBoundary:!0}),i=fO(s,r.floating);return{data:{escapedOffsets:i,escaped:hO(i)}}}default:return{}}}}},U6=new Set(["left","top"]);async function bZ(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=io(r),l=bf(r),c=fi(r)==="y",u=U6.has(i)?-1:1,d=s&&c?-1:1,f=so(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const wZ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:l}=t,c=await bZ(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:i}}}}},_Z=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:y=>{let{x,y:w}=y;return{x,y:w}}},...c}=so(e,t),u={x:r,y:n},d=await Wp(t,c),f=fi(io(a)),h=sN(f);let g=u[h],v=u[f];if(s){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=g+d[y],b=g-d[x];g=sj(w,g,b)}if(i){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=v+d[y],b=v-d[x];v=sj(w,v,b)}const m=l.fn({...t,[h]:g,[f]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:s,[f]:i}}}}}},SZ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=so(e,t),d={x:r,y:n},f=fi(a),h=sN(f);let g=d[h],v=d[f];const m=so(l,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",_=s.reference[h]-s.floating[b]+y.mainAxis,S=s.reference[h]+s.reference[b]-y.mainAxis;g<_?g=_:g>S&&(g=S)}if(u){var x,w;const b=h==="y"?"width":"height",_=U6.has(io(a)),S=s.reference[f]-s.floating[b]+(_&&((x=i.offset)==null?void 0:x[f])||0)+(_?0:y.crossAxis),E=s.reference[f]+s.reference[b]+(_?0:((w=i.offset)==null?void 0:w[f])||0)-(_?y.crossAxis:0);v<S?v=S:v>E&&(v=E)}return{[h]:g,[f]:v}}}},jZ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:l}=t,{apply:c=()=>{},...u}=so(e,t),d=await Wp(t,u),f=io(a),h=bf(a),g=fi(a)==="y",{width:v,height:m}=s.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,y=h==="end"?"top":"bottom");const w=m-d.top-d.bottom,b=v-d.left-d.right,_=_l(m-d[y],w),S=_l(v-d[x],b),E=!t.middlewareData.shift;let j=_,k=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=w),E&&!h){const C=Ra(d.left,0),A=Ra(d.right,0),I=Ra(d.top,0),B=Ra(d.bottom,0);g?k=v-2*(C!==0||A!==0?C+A:Ra(d.left,d.right)):j=m-2*(I!==0||B!==0?I+B:Ra(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:j});const N=await i.getDimensions(l.floating);return v!==N.width||m!==N.height?{reset:{rects:!0}}:{}}}};function Lx(){return typeof window<"u"}function wf(e){return z6(e)?(e.nodeName||"").toLowerCase():"#document"}function Ba(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ni(e){var t;return(t=(z6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function z6(e){return Lx()?e instanceof Node||e instanceof Ba(e).Node:!1}function zs(e){return Lx()?e instanceof Element||e instanceof Ba(e).Element:!1}function Si(e){return Lx()?e instanceof HTMLElement||e instanceof Ba(e).HTMLElement:!1}function pO(e){return!Lx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ba(e).ShadowRoot}const kZ=new Set(["inline","contents"]);function eg(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=qs(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!kZ.has(a)}const EZ=new Set(["table","td","th"]);function NZ(e){return EZ.has(wf(e))}const CZ=[":popover-open",":modal"];function Dx(e){return CZ.some(t=>{try{return e.matches(t)}catch{return!1}})}const PZ=["transform","translate","scale","rotate","perspective"],AZ=["transform","translate","scale","rotate","perspective","filter"],TZ=["paint","layout","strict","content"];function lN(e){const t=cN(),r=zs(e)?qs(e):e;return PZ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||AZ.some(n=>(r.willChange||"").includes(n))||TZ.some(n=>(r.contain||"").includes(n))}function OZ(e){let t=Sl(e);for(;Si(t)&&!Id(t);){if(lN(t))return t;if(Dx(t))return null;t=Sl(t)}return null}function cN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $Z=new Set(["html","body","#document"]);function Id(e){return $Z.has(wf(e))}function qs(e){return Ba(e).getComputedStyle(e)}function Fx(e){return zs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Sl(e){if(wf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||pO(e)&&e.host||Ni(e);return pO(t)?t.host:t}function q6(e){const t=Sl(e);return Id(t)?e.ownerDocument?e.ownerDocument.body:e.body:Si(t)&&eg(t)?t:q6(t)}function Hp(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=q6(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=Ba(a);if(s){const l=oj(i);return t.concat(i,i.visualViewport||[],eg(a)?a:[],l&&r?Hp(l):[])}return t.concat(a,Hp(a,[],r))}function oj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function W6(e){const t=qs(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Si(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=Ky(r)!==s||Ky(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function uN(e){return zs(e)?e:e.contextElement}function Qu(e){const t=uN(e);if(!Si(t))return yi(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=W6(t);let i=(s?Ky(r.width):r.width)/n,l=(s?Ky(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const RZ=yi(0);function H6(e){const t=Ba(e);return!cN()||!t.visualViewport?RZ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function IZ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ba(e)?!1:t}function Rc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=uN(e);let i=yi(1);t&&(n?zs(n)&&(i=Qu(n)):i=Qu(e));const l=IZ(s,r,n)?H6(s):yi(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const h=Ba(s),g=n&&zs(n)?Ba(n):n;let v=h,m=oj(v);for(;m&&n&&g!==v;){const y=Qu(m),x=m.getBoundingClientRect(),w=qs(m),b=x.left+(m.clientLeft+parseFloat(w.paddingLeft))*y.x,_=x.top+(m.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=b,u+=_,v=Ba(m),m=oj(v)}}return Jy({width:d,height:f,x:c,y:u})}function Bx(e,t){const r=Fx(e).scrollLeft;return t?t.left+r:Rc(Ni(e)).left+r}function V6(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Bx(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function MZ(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=Ni(n),l=t?Dx(t.floating):!1;if(n===i||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=yi(1);const d=yi(0),f=Si(n);if((f||!f&&!s)&&((wf(n)!=="body"||eg(i))&&(c=Fx(n)),Si(n))){const g=Rc(n);u=Qu(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const h=i&&!f&&!s?V6(i,c):yi(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function LZ(e){return Array.from(e.getClientRects())}function DZ(e){const t=Ni(e),r=Fx(e),n=e.ownerDocument.body,a=Ra(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Ra(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Bx(e);const l=-r.scrollTop;return qs(n).direction==="rtl"&&(i+=Ra(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:l}}const mO=25;function FZ(e,t){const r=Ba(e),n=Ni(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){s=a.width,i=a.height;const d=cN();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=Bx(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),g=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-g);v<=mO&&(s-=v)}else u<=mO&&(s+=u);return{width:s,height:i,x:l,y:c}}const BZ=new Set(["absolute","fixed"]);function UZ(e,t){const r=Rc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Si(e)?Qu(e):yi(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:i,height:l,x:c,y:u}}function gO(e,t,r){let n;if(t==="viewport")n=FZ(e,r);else if(t==="document")n=DZ(Ni(e));else if(zs(t))n=UZ(t,r);else{const a=H6(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Jy(n)}function K6(e,t){const r=Sl(e);return r===t||!zs(r)||Id(r)?!1:qs(r).position==="fixed"||K6(r,t)}function zZ(e,t){const r=t.get(e);if(r)return r;let n=Hp(e,[],!1).filter(l=>zs(l)&&wf(l)!=="body"),a=null;const s=qs(e).position==="fixed";let i=s?Sl(e):e;for(;zs(i)&&!Id(i);){const l=qs(i),c=lN(i);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&BZ.has(a.position)||eg(i)&&!c&&K6(e,i))?n=n.filter(d=>d!==i):a=l,i=Sl(i)}return t.set(e,n),n}function qZ(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?Dx(t)?[]:zZ(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=gO(t,d,a);return u.top=Ra(f.top,u.top),u.right=_l(f.right,u.right),u.bottom=_l(f.bottom,u.bottom),u.left=Ra(f.left,u.left),u},gO(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function WZ(e){const{width:t,height:r}=W6(e);return{width:t,height:r}}function HZ(e,t,r){const n=Si(t),a=Ni(t),s=r==="fixed",i=Rc(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=yi(0);function u(){c.x=Bx(a)}if(n||!n&&!s)if((wf(t)!=="body"||eg(a))&&(l=Fx(t)),n){const g=Rc(t,!0,s,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?V6(a,l):yi(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function g1(e){return qs(e).position==="static"}function vO(e,t){if(!Si(e)||qs(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ni(e)===r&&(r=r.ownerDocument.body),r}function G6(e,t){const r=Ba(e);if(Dx(e))return r;if(!Si(e)){let a=Sl(e);for(;a&&!Id(a);){if(zs(a)&&!g1(a))return a;a=Sl(a)}return r}let n=vO(e,t);for(;n&&NZ(n)&&g1(n);)n=vO(n,t);return n&&Id(n)&&g1(n)&&!lN(n)?r:n||OZ(e)||r}const VZ=async function(e){const t=this.getOffsetParent||G6,r=this.getDimensions,n=await r(e.floating);return{reference:HZ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function KZ(e){return qs(e).direction==="rtl"}const GZ={convertOffsetParentRelativeRectToViewportRelativeRect:MZ,getDocumentElement:Ni,getClippingRect:qZ,getOffsetParent:G6,getElementRects:VZ,getClientRects:LZ,getDimensions:WZ,getScale:Qu,isElement:zs,isRTL:KZ};function J6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function JZ(e,t){let r=null,n;const a=Ni(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=u;if(l||t(),!h||!g)return;const v=Qg(f),m=Qg(a.clientWidth-(d+h)),y=Qg(a.clientHeight-(f+g)),x=Qg(d),b={rootMargin:-v+"px "+-m+"px "+-y+"px "+-x+"px",threshold:Ra(0,_l(1,c))||1};let _=!0;function S(E){const j=E[0].intersectionRatio;if(j!==c){if(!_)return i();j?i(!1,j):n=setTimeout(()=>{i(!1,1e-7)},1e3)}j===1&&!J6(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(e)}return i(!0),s}function YZ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=uN(e),d=a||s?[...u?Hp(u):[],...Hp(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const f=u&&l?JZ(u,r):null;let h=-1,g=null;i&&(g=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let v,m=c?Rc(e):null;c&&y();function y(){const x=Rc(e);m&&!J6(m,x)&&r(),m=x,v=requestAnimationFrame(y)}return r(),()=>{var x;d.forEach(w=>{a&&w.removeEventListener("scroll",r),s&&w.removeEventListener("resize",r)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const XZ=wZ,QZ=_Z,ZZ=yZ,eee=jZ,tee=xZ,yO=vZ,ree=SZ,nee=(e,t,r)=>{const n=new Map,a={platform:GZ,...r},s={...a.platform,_c:n};return gZ(e,t,{...a,platform:s})};var aee=typeof document<"u",see=function(){},ty=aee?p.useLayoutEffect:see;function Yy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Yy(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!Yy(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Y6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xO(e,t){const r=Y6(e);return Math.round(t*r)/r}function v1(e){const t=p.useRef(e);return ty(()=>{t.current=e}),t}function iee(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=p.useState(n);Yy(h,n)||g(n);const[v,m]=p.useState(null),[y,x]=p.useState(null),w=p.useCallback(O=>{O!==E.current&&(E.current=O,m(O))},[]),b=p.useCallback(O=>{O!==j.current&&(j.current=O,x(O))},[]),_=s||v,S=i||y,E=p.useRef(null),j=p.useRef(null),k=p.useRef(d),N=c!=null,C=v1(c),A=v1(a),I=v1(u),B=p.useCallback(()=>{if(!E.current||!j.current)return;const O={placement:t,strategy:r,middleware:h};A.current&&(O.platform=A.current),nee(E.current,j.current,O).then(L=>{const Q={...L,isPositioned:I.current!==!1};z.current&&!Yy(k.current,Q)&&(k.current=Q,Kc.flushSync(()=>{f(Q)}))})},[h,t,r,A,I]);ty(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const z=p.useRef(!1);ty(()=>(z.current=!0,()=>{z.current=!1}),[]),ty(()=>{if(_&&(E.current=_),S&&(j.current=S),_&&S){if(C.current)return C.current(_,S,B);B()}},[_,S,B,C,N]);const M=p.useMemo(()=>({reference:E,floating:j,setReference:w,setFloating:b}),[w,b]),$=p.useMemo(()=>({reference:_,floating:S}),[_,S]),F=p.useMemo(()=>{const O={position:r,left:0,top:0};if(!$.floating)return O;const L=xO($.floating,d.x),Q=xO($.floating,d.y);return l?{...O,transform:"translate("+L+"px, "+Q+"px)",...Y6($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:Q}},[r,l,$.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:B,refs:M,elements:$,floatingStyles:F}),[d,B,M,$,F])}const oee=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?yO({element:n.current,padding:a}).fn(r):{}:n?yO({element:n,padding:a}).fn(r):{}}}},lee=(e,t)=>({...XZ(e),options:[e,t]}),cee=(e,t)=>({...QZ(e),options:[e,t]}),uee=(e,t)=>({...ree(e),options:[e,t]}),dee=(e,t)=>({...ZZ(e),options:[e,t]}),fee=(e,t)=>({...eee(e),options:[e,t]}),hee=(e,t)=>({...tee(e),options:[e,t]}),pee=(e,t)=>({...oee(e),options:[e,t]});var mee="Arrow",X6=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return o.jsx(tt.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});X6.displayName=mee;var gee=X6;function vee(e,t=[]){let r=[];function n(s,i){const l=p.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...v}=f,m=(h==null?void 0:h[e][c])||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:y,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,v=p.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,yee(a,...t)]}function yee(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Ux(e){const[t,r]=p.useState(void 0);return Ur(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var dN="Popper",[Q6,_f]=vee(dN),[xee,Z6]=Q6(dN),eF=e=>{const{__scopePopper:t,children:r}=e,[n,a]=p.useState(null);return o.jsx(xee,{scope:t,anchor:n,onAnchorChange:a,children:r})};eF.displayName=dN;var tF="PopperAnchor",rF=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=Z6(tF,r),i=p.useRef(null),l=ht(t,i);return p.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(tt.div,{...a,ref:l})});rF.displayName=tF;var fN="PopperContent",[bee,wee]=Q6(fN),nF=p.forwardRef((e,t)=>{var K,Z,H,X,ce,J;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:v,...m}=e,y=Z6(fN,r),[x,w]=p.useState(null),b=ht(t,oe=>w(oe)),[_,S]=p.useState(null),E=Ux(_),j=(E==null?void 0:E.width)??0,k=(E==null?void 0:E.height)??0,N=n+(s!=="center"?"-"+s:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],I=A.length>0,B={padding:C,boundary:A.filter(See),altBoundary:I},{refs:z,floatingStyles:M,placement:$,isPositioned:F,middlewareData:O}=iee({strategy:"fixed",placement:N,whileElementsMounted:(...oe)=>YZ(...oe,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[lee({mainAxis:a+k,alignmentAxis:i}),c&&cee({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?uee():void 0,...B}),c&&dee({...B}),fee({...B,apply:({elements:oe,rects:ne,availableWidth:he,availableHeight:fe})=>{const{width:_e,height:W}=ne.reference,te=oe.floating.style;te.setProperty("--radix-popper-available-width",`${he}px`),te.setProperty("--radix-popper-available-height",`${fe}px`),te.setProperty("--radix-popper-anchor-width",`${_e}px`),te.setProperty("--radix-popper-anchor-height",`${W}px`)}}),_&&pee({element:_,padding:l}),jee({arrowWidth:j,arrowHeight:k}),h&&hee({strategy:"referenceHidden",...B})]}),[L,Q]=iF($),T=Ut(v);Ur(()=>{F&&(T==null||T())},[F,T]);const D=(K=O.arrow)==null?void 0:K.x,Y=(Z=O.arrow)==null?void 0:Z.y,q=((H=O.arrow)==null?void 0:H.centerOffset)!==0,[ie,le]=p.useState();return Ur(()=>{x&&le(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:F?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(X=O.transformOrigin)==null?void 0:X.x,(ce=O.transformOrigin)==null?void 0:ce.y].join(" "),...((J=O.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(bee,{scope:r,placedSide:L,onArrowChange:S,arrowX:D,arrowY:Y,shouldHideArrow:q,children:o.jsx(tt.div,{"data-side":L,"data-align":Q,...m,ref:b,style:{...m.style,animation:F?void 0:"none"}})})})});nF.displayName=fN;var aF="PopperArrow",_ee={top:"bottom",right:"left",bottom:"top",left:"right"},sF=p.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=wee(aF,n),i=_ee[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(gee,{...a,ref:r,style:{...a.style,display:"block"}})})});sF.displayName=aF;function See(e){return e!==null}var jee=e=>({name:"transformOrigin",options:e,fn(t){var y,x,w;const{placement:r,rects:n,middlewareData:a}=t,i=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=iF(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,g=(((w=a.arrow)==null?void 0:w.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=i?f:`${h}px`,m=`${-c}px`):u==="top"?(v=i?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=i?f:`${g}px`):u==="left"&&(v=`${n.floating.width+c}px`,m=i?f:`${g}px`),{data:{x:v,y:m}}}});function iF(e){const[t,r="center"]=e.split("-");return[t,r]}var oF=eF,hN=rF,pN=nF,mN=sF;function kee(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var oa=e=>{const{present:t,children:r}=e,n=Eee(t),a=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),s=ht(n.ref,Nee(a));return typeof r=="function"||n.isPresent?p.cloneElement(a,{ref:s}):null};oa.displayName="Presence";function Eee(e){const[t,r]=p.useState(),n=p.useRef({}),a=p.useRef(e),s=p.useRef("none"),i=e?"mounted":"unmounted",[l,c]=kee(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Zg(n.current);s.current=l==="mounted"?u:"none"},[l]),Ur(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,g=Zg(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ur(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const m=Zg(n.current).includes(g.animationName);if(g.target===t&&m&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=g=>{g.target===t&&(s.current=Zg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Zg(e){return(e==null?void 0:e.animationName)||"none"}function Nee(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ws({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Cee({defaultProp:t,onChange:r}),s=e!==void 0,i=s?e:n,l=Ut(r),c=p.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[s,e,a,l]);return[i,c]}function Cee({defaultProp:e,onChange:t}){const r=p.useState(e),[n]=r,a=p.useRef(n),s=Ut(t);return p.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}var Pee="VisuallyHidden",gN=p.forwardRef((e,t)=>o.jsx(tt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));gN.displayName=Pee;var Aee=gN,[zx,iFe]=Ha("Tooltip",[_f]),vN=_f(),lF="TooltipProvider",Tee=700,bO="tooltip.open",[Oee,cF]=zx(lF),uF=e=>{const{__scopeTooltip:t,delayDuration:r=Tee,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,[i,l]=p.useState(!0),c=p.useRef(!1),u=p.useRef(0);return p.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),o.jsx(Oee,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(d=>{c.current=d},[]),disableHoverableContent:a,children:s})};uF.displayName=lF;var dF="Tooltip",[oFe,qx]=zx(dF),lj="TooltipTrigger",$ee=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=qx(lj,r),s=cF(lj,r),i=vN(r),l=p.useRef(null),c=ht(t,l,a.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(hN,{asChild:!0,...i,children:o.jsx(tt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:$e(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:$e(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:$e(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:$e(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:$e(e.onBlur,a.onClose),onClick:$e(e.onClick,a.onClose)})})});$ee.displayName=lj;var Ree="TooltipPortal",[lFe,Iee]=zx(Ree,{forceMount:void 0}),Md="TooltipContent",fF=p.forwardRef((e,t)=>{const r=Iee(Md,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,i=qx(Md,e.__scopeTooltip);return o.jsx(oa,{present:n||i.open,children:i.disableHoverableContent?o.jsx(hF,{side:a,...s,ref:t}):o.jsx(Mee,{side:a,...s,ref:t})})}),Mee=p.forwardRef((e,t)=>{const r=qx(Md,e.__scopeTooltip),n=cF(Md,e.__scopeTooltip),a=p.useRef(null),s=ht(t,a),[i,l]=p.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=p.useCallback(()=>{l(null),f(!1)},[f]),g=p.useCallback((v,m)=>{const y=v.currentTarget,x={x:v.clientX,y:v.clientY},w=Bee(x,y.getBoundingClientRect()),b=Uee(x,w),_=zee(m.getBoundingClientRect()),S=Wee([...b,..._]);l(S),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const v=y=>g(y,d),m=y=>g(y,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[c,d,g,h]),p.useEffect(()=>{if(i){const v=m=>{const y=m.target,x={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!qee(x,i);w?h():b&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,i,u,h]),o.jsx(hF,{...e,ref:s})}),[Lee,Dee]=zx(dF,{isInside:!1}),hF=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:i,...l}=e,c=qx(Md,r),u=vN(r),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(bO,d),()=>document.removeEventListener(bO,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(D6,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(pN,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(aN,{children:n}),o.jsx(Lee,{scope:r,isInside:!0,children:o.jsx(Aee,{id:c.contentId,role:"tooltip",children:a||n})})]})})});fF.displayName=Md;var pF="TooltipArrow",Fee=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=vN(r);return Dee(pF,r).isInside?null:o.jsx(mN,{...a,...n,ref:t})});Fee.displayName=pF;function Bee(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Uee(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function zee(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function qee(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s].x,c=t[s].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function Wee(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Hee(t)}function Hee(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],i=r[r.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Vee=uF,mF=fF;function gF(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=gF(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=gF(e))&&(n&&(n+=" "),n+=t);return n}const yN="-",Kee=e=>{const t=Jee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(yN);return l[0]===""&&l.length!==1&&l.shift(),vF(l,t)||Gee(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},vF=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?vF(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(yN);return(i=t.validators.find(({validator:l})=>l(s)))==null?void 0:i.classGroupId},wO=/^\[(.+)\]$/,Gee=e=>{if(wO.test(e)){const t=wO.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Jee=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Xee(Object.entries(e.classGroups),r).forEach(([s,i])=>{cj(i,n,s,t)}),n},cj=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:_O(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(Yee(a)){cj(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,i])=>{cj(i,_O(t,s),r,n)})})},_O=(e,t)=>{let r=e;return t.split(yN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Yee=e=>e.isThemeGetter,Xee=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,l])=>[t+i,l])):s);return[r,a]}):e,Qee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,i)=>{r.set(s,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let i=r.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){r.has(s)?r.set(s,i):a(s,i)}}},yF="!",Zee=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let x=l[y];if(u===0){if(x===a&&(n||l.slice(y,y+s)===t)){c.push(l.slice(d,y)),d=y+s;continue}if(x==="/"){f=y;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),g=h.startsWith(yF),v=g?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:i}):i},ete=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},tte=e=>({cache:Qee(e.cacheSize),parseClassName:Zee(e),...Kee(e)}),rte=/\s+/,nte=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],i=e.trim().split(rte);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=r(u);let v=!!g,m=n(v?h.substring(0,g):h);if(!m){if(!v){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}v=!1}const y=ete(d).join(":"),x=f?y+yF:y,w=x+m;if(s.includes(w))continue;s.push(w);const b=a(m,v);for(let _=0;_<b.length;++_){const S=b[_];s.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function ate(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=xF(t))&&(n&&(n+=" "),n+=r);return n}const xF=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=xF(e[n]))&&(r&&(r+=" "),r+=t);return r};function ste(e,...t){let r,n,a,s=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=tte(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=nte(c,r);return a(c,d),d}return function(){return s(ate.apply(null,arguments))}}const pr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},bF=/^\[(?:([a-z-]+):)?(.+)\]$/i,ite=/^\d+\/\d+$/,ote=new Set(["px","full","screen"]),lte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ute=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ti=e=>Zu(e)||ote.has(e)||ite.test(e),jo=e=>Sf(e,"length",bte),Zu=e=>!!e&&!Number.isNaN(Number(e)),y1=e=>Sf(e,"number",Zu),ph=e=>!!e&&Number.isInteger(Number(e)),hte=e=>e.endsWith("%")&&Zu(e.slice(0,-1)),Nt=e=>bF.test(e),ko=e=>lte.test(e),pte=new Set(["length","size","percentage"]),mte=e=>Sf(e,pte,wF),gte=e=>Sf(e,"position",wF),vte=new Set(["image","url"]),yte=e=>Sf(e,vte,_te),xte=e=>Sf(e,"",wte),mh=()=>!0,Sf=(e,t,r)=>{const n=bF.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},bte=e=>cte.test(e)&&!ute.test(e),wF=()=>!1,wte=e=>dte.test(e),_te=e=>fte.test(e),Ste=()=>{const e=pr("colors"),t=pr("spacing"),r=pr("blur"),n=pr("brightness"),a=pr("borderColor"),s=pr("borderRadius"),i=pr("borderSpacing"),l=pr("borderWidth"),c=pr("contrast"),u=pr("grayscale"),d=pr("hueRotate"),f=pr("invert"),h=pr("gap"),g=pr("gradientColorStops"),v=pr("gradientColorStopPositions"),m=pr("inset"),y=pr("margin"),x=pr("opacity"),w=pr("padding"),b=pr("saturate"),_=pr("scale"),S=pr("sepia"),E=pr("skew"),j=pr("space"),k=pr("translate"),N=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Nt,t],I=()=>[Nt,t],B=()=>["",Ti,jo],z=()=>["auto",Zu,Nt],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Nt],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>[Zu,Nt];return{cacheSize:500,separator:":",theme:{colors:[mh],spacing:[Ti,jo],blur:["none","",ko,Nt],brightness:T(),borderColor:[e],borderRadius:["none","","full",ko,Nt],borderSpacing:I(),borderWidth:B(),contrast:T(),grayscale:L(),hueRotate:T(),invert:L(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[hte,jo],inset:A(),margin:A(),opacity:T(),padding:I(),saturate:T(),scale:T(),sepia:L(),skew:T(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Nt]}],container:["container"],columns:[{columns:[ko]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Nt]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ph,Nt]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Nt]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",ph,Nt]}],"grid-cols":[{"grid-cols":[mh]}],"col-start-end":[{col:["auto",{span:["full",ph,Nt]},Nt]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[mh]}],"row-start-end":[{row:["auto",{span:[ph,Nt]},Nt]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Nt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Nt,t]}],"min-w":[{"min-w":[Nt,t,"min","max","fit"]}],"max-w":[{"max-w":[Nt,t,"none","full","min","max","fit","prose",{screen:[ko]},ko]}],h:[{h:[Nt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Nt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Nt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Nt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ko,jo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",y1]}],"font-family":[{font:[mh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Nt]}],"line-clamp":[{"line-clamp":["none",Zu,y1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ti,Nt]}],"list-image":[{"list-image":["none",Nt]}],"list-style-type":[{list:["none","disc","decimal",Nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ti,jo]}],"underline-offset":[{"underline-offset":["auto",Ti,Nt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),gte]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mte]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yte]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:$()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Ti,Nt]}],"outline-w":[{outline:[Ti,jo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ti,jo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ko,xte]}],"shadow-color":[{shadow:[mh]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ko,Nt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Nt]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",Nt]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",Nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[ph,Nt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Nt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ti,jo,y1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jte=ste(Ste);function de(...e){return jte(qt(e))}function lp(e){const t=String(e),n=parseInt(t,10).toString(16).padStart(8,"0").toLowerCase(),a=n.slice(0,8),s=n.slice(0,4),i="4"+n.slice(1,4),l="8"+n.slice(2,5),c=n+n+n+n;return`${a}-${s}-${i}-${l}-${c.slice(0,12)}`}const kte=Vee,Ete=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(mF,{ref:n,sideOffset:t,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Ete.displayName=mF.displayName;var jf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ic=typeof window>"u"||"Deno"in globalThis;function Xa(){}function Nte(e,t){return typeof e=="function"?e(t):e}function uj(e){return typeof e=="number"&&e>=0&&e!==1/0}function _F(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ed(e,t){return typeof e=="function"?e(t):e}function Ts(e,t){return typeof e=="function"?e(t):e}function SO(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==xN(i,t.options))return!1}else if(!Vp(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function jO(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Mc(t.options.mutationKey)!==Mc(s))return!1}else if(!Vp(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function xN(e,t){return((t==null?void 0:t.queryKeyHashFn)||Mc)(e)}function Mc(e){return JSON.stringify(e,(t,r)=>dj(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Vp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Vp(e[r],t[r])):!1}function SF(e,t){if(e===t)return e;const r=kO(e)&&kO(t);if(r||dj(e)&&dj(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),i=s.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const d=r?u:s[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=SF(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===i&&c===a?e:l}return t}function Xy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function kO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function dj(e){if(!EO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!EO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function EO(e){return Object.prototype.toString.call(e)==="[object Object]"}function Cte(e){return new Promise(t=>{setTimeout(t,e)})}function fj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?SF(e,t):t}function Pte(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Ate(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var bN=Symbol();function jF(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===bN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var uc,qo,fd,a5,Tte=(a5=class extends jf{constructor(){super();gt(this,uc);gt(this,qo);gt(this,fd);et(this,fd,t=>{if(!Ic&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ee(this,qo)||this.setEventListener(ee(this,fd))}onUnsubscribe(){var t;this.hasListeners()||((t=ee(this,qo))==null||t.call(this),et(this,qo,void 0))}setEventListener(t){var r;et(this,fd,t),(r=ee(this,qo))==null||r.call(this),et(this,qo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ee(this,uc)!==t&&(et(this,uc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ee(this,uc)=="boolean"?ee(this,uc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},uc=new WeakMap,qo=new WeakMap,fd=new WeakMap,a5),wN=new Tte,hd,Wo,pd,s5,Ote=(s5=class extends jf{constructor(){super();gt(this,hd,!0);gt(this,Wo);gt(this,pd);et(this,pd,t=>{if(!Ic&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ee(this,Wo)||this.setEventListener(ee(this,pd))}onUnsubscribe(){var t;this.hasListeners()||((t=ee(this,Wo))==null||t.call(this),et(this,Wo,void 0))}setEventListener(t){var r;et(this,pd,t),(r=ee(this,Wo))==null||r.call(this),et(this,Wo,t(this.setOnline.bind(this)))}setOnline(t){ee(this,hd)!==t&&(et(this,hd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ee(this,hd)}},hd=new WeakMap,Wo=new WeakMap,pd=new WeakMap,s5),Qy=new Ote;function hj(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function $te(e){return Math.min(1e3*2**e,3e4)}function kF(e){return(e??"online")==="online"?Qy.isOnline():!0}var EF=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function x1(e){return e instanceof EF}function NF(e){let t=!1,r=0,n=!1,a;const s=hj(),i=m=>{var y;n||(h(new EF(m)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>wN.isFocused()&&(e.networkMode==="always"||Qy.isOnline())&&e.canRun(),d=()=>kF(e.networkMode)&&e.canRun(),f=m=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,m),a==null||a(),s.resolve(m))},h=m=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,m),a==null||a(),s.reject(m))},g=()=>new Promise(m=>{var y;a=x=>{(n||u())&&m(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;a=void 0,n||(m=e.onContinue)==null||m.call(e)}),v=()=>{if(n)return;let m;const y=r===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(f).catch(x=>{var E;if(n)return;const w=e.retry??(Ic?0:3),b=e.retryDelay??$te,_=typeof b=="function"?b(r,x):b,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,x);if(t||!S){h(x);return}r++,(E=e.onFail)==null||E.call(e,r,x),Cte(_).then(()=>u()?void 0:g()).then(()=>{t?h(x):v()})})};return{promise:s,cancel:i,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():g().then(v),s)}}function Rte(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const s=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var nn=Rte(),dc,i5,CF=(i5=class{constructor(){gt(this,dc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uj(this.gcTime)&&et(this,dc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ic?1/0:5*60*1e3))}clearGcTimeout(){ee(this,dc)&&(clearTimeout(ee(this,dc)),et(this,dc,void 0))}},dc=new WeakMap,i5),md,gd,Ya,Rn,Bm,fc,Es,$i,o5,Ite=(o5=class extends CF{constructor(t){super();gt(this,Es);gt(this,md);gt(this,gd);gt(this,Ya);gt(this,Rn);gt(this,Bm);gt(this,fc);et(this,fc,!1),et(this,Bm,t.defaultOptions),this.setOptions(t.options),this.observers=[],et(this,Ya,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,et(this,md,Mte(this.options)),this.state=t.state??ee(this,md),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ee(this,Rn))==null?void 0:t.promise}setOptions(t){this.options={...ee(this,Bm),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ee(this,Ya).remove(this)}setData(t,r){const n=fj(this.state.data,t,this.options);return Pt(this,Es,$i).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Pt(this,Es,$i).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ee(this,Rn))==null?void 0:n.promise;return(a=ee(this,Rn))==null||a.cancel(t),r?r.then(Xa).catch(Xa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ee(this,md))}isActive(){return this.observers.some(t=>Ts(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!_F(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ee(this,Rn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ee(this,Rn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ee(this,Ya).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ee(this,Rn)&&(ee(this,fc)?ee(this,Rn).cancel({revert:!0}):ee(this,Rn).cancelRetry()),this.scheduleGc()),ee(this,Ya).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pt(this,Es,$i).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ee(this,Rn))return ee(this,Rn).continueRetry(),ee(this,Rn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(et(this,fc,!0),n.signal)})},s=()=>{const f=jF(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),et(this,fc,!1),this.options.persister?this.options.persister(f,h,this):f(h)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};a(i),(c=this.options.behavior)==null||c.onFetch(i,this),et(this,gd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&Pt(this,Es,$i).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,g,v,m;x1(f)&&f.silent||Pt(this,Es,$i).call(this,{type:"error",error:f}),x1(f)||((g=(h=ee(this,Ya).config).onError)==null||g.call(h,f,this),(m=(v=ee(this,Ya).config).onSettled)==null||m.call(v,this.state.data,f,this)),this.scheduleGc()};return et(this,Rn,NF({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,g,v,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(g=(h=ee(this,Ya).config).onSuccess)==null||g.call(h,f,this),(m=(v=ee(this,Ya).config).onSettled)==null||m.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Pt(this,Es,$i).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Pt(this,Es,$i).call(this,{type:"pause"})},onContinue:()=>{Pt(this,Es,$i).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),ee(this,Rn).start()}},md=new WeakMap,gd=new WeakMap,Ya=new WeakMap,Rn=new WeakMap,Bm=new WeakMap,fc=new WeakMap,Es=new WeakSet,$i=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...PF(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return x1(a)&&a.revert&&ee(this,gd)?{...ee(this,gd),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),nn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ee(this,Ya).notify({query:this,type:"updated",action:t})})},o5);function PF(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kF(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Mte(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ai,l5,Lte=(l5=class extends jf{constructor(t={}){super();gt(this,ai);this.config=t,et(this,ai,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??xN(a,r);let i=this.get(s);return i||(i=new Ite({cache:this,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){ee(this,ai).has(t.queryHash)||(ee(this,ai).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ee(this,ai).get(t.queryHash);r&&(t.destroy(),r===t&&ee(this,ai).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ee(this,ai).get(t)}getAll(){return[...ee(this,ai).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>SO(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>SO(t,n)):r}notify(t){nn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ai=new WeakMap,l5),si,Xn,hc,ii,Po,c5,Dte=(c5=class extends CF{constructor(t){super();gt(this,ii);gt(this,si);gt(this,Xn);gt(this,hc);this.mutationId=t.mutationId,et(this,Xn,t.mutationCache),et(this,si,[]),this.state=t.state||AF(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ee(this,si).includes(t)||(ee(this,si).push(t),this.clearGcTimeout(),ee(this,Xn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){et(this,si,ee(this,si).filter(r=>r!==t)),this.scheduleGc(),ee(this,Xn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ee(this,si).length||(this.state.status==="pending"?this.scheduleGc():ee(this,Xn).remove(this))}continue(){var t;return((t=ee(this,hc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,s,i,l,c,u,d,f,h,g,v,m,y,x,w,b,_,S,E,j;et(this,hc,NF({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,N)=>{Pt(this,ii,Po).call(this,{type:"failed",failureCount:k,error:N})},onPause:()=>{Pt(this,ii,Po).call(this,{type:"pause"})},onContinue:()=>{Pt(this,ii,Po).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ee(this,Xn).canRun(this)}));const r=this.state.status==="pending",n=!ee(this,hc).canStart();try{if(!r){Pt(this,ii,Po).call(this,{type:"pending",variables:t,isPaused:n}),await((s=(a=ee(this,Xn).config).onMutate)==null?void 0:s.call(a,t,this));const N=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));N!==this.state.context&&Pt(this,ii,Po).call(this,{type:"pending",context:N,variables:t,isPaused:n})}const k=await ee(this,hc).start();return await((u=(c=ee(this,Xn).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context)),await((g=(h=ee(this,Xn).config).onSettled)==null?void 0:g.call(h,k,null,this.state.variables,this.state.context,this)),await((m=(v=this.options).onSettled)==null?void 0:m.call(v,k,null,t,this.state.context)),Pt(this,ii,Po).call(this,{type:"success",data:k}),k}catch(k){try{throw await((x=(y=ee(this,Xn).config).onError)==null?void 0:x.call(y,k,t,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,k,t,this.state.context)),await((S=(_=ee(this,Xn).config).onSettled)==null?void 0:S.call(_,void 0,k,this.state.variables,this.state.context,this)),await((j=(E=this.options).onSettled)==null?void 0:j.call(E,void 0,k,t,this.state.context)),k}finally{Pt(this,ii,Po).call(this,{type:"error",error:k})}}finally{ee(this,Xn).runNext(this)}}},si=new WeakMap,Xn=new WeakMap,hc=new WeakMap,ii=new WeakSet,Po=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),nn.batch(()=>{ee(this,si).forEach(n=>{n.onMutationUpdate(t)}),ee(this,Xn).notify({mutation:this,type:"updated",action:t})})},c5);function AF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Aa,Um,u5,Fte=(u5=class extends jf{constructor(t={}){super();gt(this,Aa);gt(this,Um);this.config=t,et(this,Aa,new Map),et(this,Um,Date.now())}build(t,r,n){const a=new Dte({mutationCache:this,mutationId:++Eg(this,Um)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=ev(t),n=ee(this,Aa).get(r)??[];n.push(t),ee(this,Aa).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=ev(t);if(ee(this,Aa).has(r)){const a=(n=ee(this,Aa).get(r))==null?void 0:n.filter(s=>s!==t);a&&(a.length===0?ee(this,Aa).delete(r):ee(this,Aa).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=ee(this,Aa).get(ev(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=ee(this,Aa).get(ev(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...ee(this,Aa).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>jO(r,n))}findAll(t={}){return this.getAll().filter(r=>jO(t,r))}notify(t){nn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return nn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Xa))))}},Aa=new WeakMap,Um=new WeakMap,u5);function ev(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function NO(e){return{onFetch:(t,r)=>{var d,f,h,g,v;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((g=t.state.data)==null?void 0:g.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=jF(t.options,t.fetchOptions),w=async(b,_,S)=>{if(m)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const E={queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};y(E);const j=await x(E),{maxPages:k}=t.options,N=S?Ate:Pte;return{pages:N(b.pages,j,k),pageParams:N(b.pageParams,_,k)}};if(a&&s.length){const b=a==="backward",_=b?Bte:CO,S={pages:s,pageParams:i},E=_(n,S);l=await w(S,E,b)}else{const b=e??s.length;do{const _=c===0?i[0]??n.initialPageParam:CO(n,l);if(c>0&&_==null)break;l=await w(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function CO(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Bte(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var $r,Ho,Vo,vd,yd,Ko,xd,bd,d5,Ute=(d5=class{constructor(e={}){gt(this,$r);gt(this,Ho);gt(this,Vo);gt(this,vd);gt(this,yd);gt(this,Ko);gt(this,xd);gt(this,bd);et(this,$r,e.queryCache||new Lte),et(this,Ho,e.mutationCache||new Fte),et(this,Vo,e.defaultOptions||{}),et(this,vd,new Map),et(this,yd,new Map),et(this,Ko,0)}mount(){Eg(this,Ko)._++,ee(this,Ko)===1&&(et(this,xd,wN.subscribe(async e=>{e&&(await this.resumePausedMutations(),ee(this,$r).onFocus())})),et(this,bd,Qy.subscribe(async e=>{e&&(await this.resumePausedMutations(),ee(this,$r).onOnline())})))}unmount(){var e,t;Eg(this,Ko)._--,ee(this,Ko)===0&&((e=ee(this,xd))==null||e.call(this),et(this,xd,void 0),(t=ee(this,bd))==null||t.call(this),et(this,bd,void 0))}isFetching(e){return ee(this,$r).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ee(this,Ho).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ee(this,$r).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=ee(this,$r).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(ed(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return ee(this,$r).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ee(this,$r).get(n.queryHash),s=a==null?void 0:a.state.data,i=Nte(t,s);if(i!==void 0)return ee(this,$r).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return nn.batch(()=>ee(this,$r).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ee(this,$r).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ee(this,$r);nn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ee(this,$r),n={type:"active",...e};return nn.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=nn.batch(()=>ee(this,$r).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Xa).catch(Xa)}invalidateQueries(e={},t={}){return nn.batch(()=>{if(ee(this,$r).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=nn.batch(()=>ee(this,$r).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Xa)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Xa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ee(this,$r).build(this,t);return r.isStaleByTime(ed(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xa).catch(Xa)}fetchInfiniteQuery(e){return e.behavior=NO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xa).catch(Xa)}ensureInfiniteQueryData(e){return e.behavior=NO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qy.isOnline()?ee(this,Ho).resumePausedMutations():Promise.resolve()}getQueryCache(){return ee(this,$r)}getMutationCache(){return ee(this,Ho)}getDefaultOptions(){return ee(this,Vo)}setDefaultOptions(e){et(this,Vo,e)}setQueryDefaults(e,t){ee(this,vd).set(Mc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ee(this,vd).values()];let r={};return t.forEach(n=>{Vp(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){ee(this,yd).set(Mc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ee(this,yd).values()];let r={};return t.forEach(n=>{Vp(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ee(this,Vo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=xN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===bN&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ee(this,Vo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ee(this,$r).clear(),ee(this,Ho).clear()}},$r=new WeakMap,Ho=new WeakMap,Vo=new WeakMap,vd=new WeakMap,yd=new WeakMap,Ko=new WeakMap,xd=new WeakMap,bd=new WeakMap,d5),ua,Lt,zm,Qn,pc,wd,Go,oi,qm,_d,Sd,mc,gc,Jo,jd,Xt,Hh,pj,mj,gj,vj,yj,xj,bj,TF,f5,zte=(f5=class extends jf{constructor(t,r){super();gt(this,Xt);gt(this,ua);gt(this,Lt);gt(this,zm);gt(this,Qn);gt(this,pc);gt(this,wd);gt(this,Go);gt(this,oi);gt(this,qm);gt(this,_d);gt(this,Sd);gt(this,mc);gt(this,gc);gt(this,Jo);gt(this,jd,new Set);this.options=r,et(this,ua,t),et(this,oi,null),et(this,Go,hj()),this.options.experimental_prefetchInRender||ee(this,Go).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ee(this,Lt).addObserver(this),PO(ee(this,Lt),this.options)?Pt(this,Xt,Hh).call(this):this.updateResult(),Pt(this,Xt,vj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wj(ee(this,Lt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wj(ee(this,Lt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pt(this,Xt,yj).call(this),Pt(this,Xt,xj).call(this),ee(this,Lt).removeObserver(this)}setOptions(t,r){const n=this.options,a=ee(this,Lt);if(this.options=ee(this,ua).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ts(this.options.enabled,ee(this,Lt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pt(this,Xt,bj).call(this),ee(this,Lt).setOptions(this.options),n._defaulted&&!Xy(this.options,n)&&ee(this,ua).getQueryCache().notify({type:"observerOptionsUpdated",query:ee(this,Lt),observer:this});const s=this.hasListeners();s&&AO(ee(this,Lt),a,this.options,n)&&Pt(this,Xt,Hh).call(this),this.updateResult(r),s&&(ee(this,Lt)!==a||Ts(this.options.enabled,ee(this,Lt))!==Ts(n.enabled,ee(this,Lt))||ed(this.options.staleTime,ee(this,Lt))!==ed(n.staleTime,ee(this,Lt)))&&Pt(this,Xt,pj).call(this);const i=Pt(this,Xt,mj).call(this);s&&(ee(this,Lt)!==a||Ts(this.options.enabled,ee(this,Lt))!==Ts(n.enabled,ee(this,Lt))||i!==ee(this,Jo))&&Pt(this,Xt,gj).call(this,i)}getOptimisticResult(t){const r=ee(this,ua).getQueryCache().build(ee(this,ua),t),n=this.createResult(r,t);return Wte(this,n)&&(et(this,Qn,n),et(this,wd,this.options),et(this,pc,ee(this,Lt).state)),n}getCurrentResult(){return ee(this,Qn)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){ee(this,jd).add(t)}getCurrentQuery(){return ee(this,Lt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ee(this,ua).defaultQueryOptions(t),n=ee(this,ua).getQueryCache().build(ee(this,ua),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Pt(this,Xt,Hh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ee(this,Qn)))}createResult(t,r){var k;const n=ee(this,Lt),a=this.options,s=ee(this,Qn),i=ee(this,pc),l=ee(this,wd),u=t!==n?t.state:ee(this,zm),{state:d}=t;let f={...d},h=!1,g;if(r._optimisticResults){const N=this.hasListeners(),C=!N&&PO(t,r),A=N&&AO(t,n,r,a);(C||A)&&(f={...f,...PF(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:y}=f;if(r.select&&f.data!==void 0)if(s&&f.data===(i==null?void 0:i.data)&&r.select===ee(this,qm))g=ee(this,_d);else try{et(this,qm,r.select),g=r.select(f.data),g=fj(s==null?void 0:s.data,g,r),et(this,_d,g),et(this,oi,null)}catch(N){et(this,oi,N)}else g=f.data;if(r.placeholderData!==void 0&&g===void 0&&y==="pending"){let N;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))N=s.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((k=ee(this,Sd))==null?void 0:k.state.data,ee(this,Sd)):r.placeholderData,r.select&&N!==void 0)try{N=r.select(N),et(this,oi,null)}catch(C){et(this,oi,C)}N!==void 0&&(y="success",g=fj(s==null?void 0:s.data,N,r),h=!0)}ee(this,oi)&&(v=ee(this,oi),g=ee(this,_d),m=Date.now(),y="error");const x=f.fetchStatus==="fetching",w=y==="pending",b=y==="error",_=w&&x,S=g!==void 0,j={status:y,fetchStatus:f.fetchStatus,isPending:w,isSuccess:y==="success",isError:b,isInitialLoading:_,isLoading:_,data:g,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:b&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&S,isStale:_N(t,r),refetch:this.refetch,promise:ee(this,Go)};if(this.options.experimental_prefetchInRender){const N=I=>{j.status==="error"?I.reject(j.error):j.data!==void 0&&I.resolve(j.data)},C=()=>{const I=et(this,Go,j.promise=hj());N(I)},A=ee(this,Go);switch(A.status){case"pending":t.queryHash===n.queryHash&&N(A);break;case"fulfilled":(j.status==="error"||j.data!==A.value)&&C();break;case"rejected":(j.status!=="error"||j.error!==A.reason)&&C();break}}return j}updateResult(t){const r=ee(this,Qn),n=this.createResult(ee(this,Lt),this.options);if(et(this,pc,ee(this,Lt).state),et(this,wd,this.options),ee(this,pc).data!==void 0&&et(this,Sd,ee(this,Lt)),Xy(n,r))return;et(this,Qn,n);const a={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!ee(this,jd).size)return!0;const c=new Set(l??ee(this,jd));return this.options.throwOnError&&c.add("error"),Object.keys(ee(this,Qn)).some(u=>{const d=u;return ee(this,Qn)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&s()&&(a.listeners=!0),Pt(this,Xt,TF).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pt(this,Xt,vj).call(this)}},ua=new WeakMap,Lt=new WeakMap,zm=new WeakMap,Qn=new WeakMap,pc=new WeakMap,wd=new WeakMap,Go=new WeakMap,oi=new WeakMap,qm=new WeakMap,_d=new WeakMap,Sd=new WeakMap,mc=new WeakMap,gc=new WeakMap,Jo=new WeakMap,jd=new WeakMap,Xt=new WeakSet,Hh=function(t){Pt(this,Xt,bj).call(this);let r=ee(this,Lt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Xa)),r},pj=function(){Pt(this,Xt,yj).call(this);const t=ed(this.options.staleTime,ee(this,Lt));if(Ic||ee(this,Qn).isStale||!uj(t))return;const n=_F(ee(this,Qn).dataUpdatedAt,t)+1;et(this,mc,setTimeout(()=>{ee(this,Qn).isStale||this.updateResult()},n))},mj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ee(this,Lt)):this.options.refetchInterval)??!1},gj=function(t){Pt(this,Xt,xj).call(this),et(this,Jo,t),!(Ic||Ts(this.options.enabled,ee(this,Lt))===!1||!uj(ee(this,Jo))||ee(this,Jo)===0)&&et(this,gc,setInterval(()=>{(this.options.refetchIntervalInBackground||wN.isFocused())&&Pt(this,Xt,Hh).call(this)},ee(this,Jo)))},vj=function(){Pt(this,Xt,pj).call(this),Pt(this,Xt,gj).call(this,Pt(this,Xt,mj).call(this))},yj=function(){ee(this,mc)&&(clearTimeout(ee(this,mc)),et(this,mc,void 0))},xj=function(){ee(this,gc)&&(clearInterval(ee(this,gc)),et(this,gc,void 0))},bj=function(){const t=ee(this,ua).getQueryCache().build(ee(this,ua),this.options);if(t===ee(this,Lt))return;const r=ee(this,Lt);et(this,Lt,t),et(this,zm,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},TF=function(t){nn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ee(this,Qn))}),ee(this,ua).getQueryCache().notify({query:ee(this,Lt),type:"observerResultsUpdated"})})},f5);function qte(e,t){return Ts(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function PO(e,t){return qte(e,t)||e.state.data!==void 0&&wj(e,t,t.refetchOnMount)}function wj(e,t,r){if(Ts(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&_N(e,t)}return!1}function AO(e,t,r,n){return(e!==t||Ts(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&_N(e,r)}function _N(e,t){return Ts(t.enabled,e)!==!1&&e.isStaleByTime(ed(t.staleTime,e))}function Wte(e,t){return!Xy(e.getCurrentResult(),t)}var Yo,Xo,da,Ui,eo,ry,_j,h5,Hte=(h5=class extends jf{constructor(r,n){super();gt(this,eo);gt(this,Yo);gt(this,Xo);gt(this,da);gt(this,Ui);et(this,Yo,r),this.setOptions(n),this.bindMethods(),Pt(this,eo,ry).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=ee(this,Yo).defaultMutationOptions(r),Xy(this.options,n)||ee(this,Yo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ee(this,da),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Mc(n.mutationKey)!==Mc(this.options.mutationKey)?this.reset():((a=ee(this,da))==null?void 0:a.state.status)==="pending"&&ee(this,da).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ee(this,da))==null||r.removeObserver(this)}onMutationUpdate(r){Pt(this,eo,ry).call(this),Pt(this,eo,_j).call(this,r)}getCurrentResult(){return ee(this,Xo)}reset(){var r;(r=ee(this,da))==null||r.removeObserver(this),et(this,da,void 0),Pt(this,eo,ry).call(this),Pt(this,eo,_j).call(this)}mutate(r,n){var a;return et(this,Ui,n),(a=ee(this,da))==null||a.removeObserver(this),et(this,da,ee(this,Yo).getMutationCache().build(ee(this,Yo),this.options)),ee(this,da).addObserver(this),ee(this,da).execute(r)}},Yo=new WeakMap,Xo=new WeakMap,da=new WeakMap,Ui=new WeakMap,eo=new WeakSet,ry=function(){var n;const r=((n=ee(this,da))==null?void 0:n.state)??AF();et(this,Xo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},_j=function(r){nn.batch(()=>{var n,a,s,i,l,c,u,d;if(ee(this,Ui)&&this.hasListeners()){const f=ee(this,Xo).variables,h=ee(this,Xo).context;(r==null?void 0:r.type)==="success"?((a=(n=ee(this,Ui)).onSuccess)==null||a.call(n,r.data,f,h),(i=(s=ee(this,Ui)).onSettled)==null||i.call(s,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=ee(this,Ui)).onError)==null||c.call(l,r.error,f,h),(d=(u=ee(this,Ui)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(ee(this,Xo))})})},h5),OF=p.createContext(void 0),za=e=>{const t=p.useContext(OF);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Vte=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(OF.Provider,{value:e,children:t})),$F=p.createContext(!1),Kte=()=>p.useContext($F);$F.Provider;function Gte(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Jte=p.createContext(Gte()),Yte=()=>p.useContext(Jte);function RF(e,t){return typeof e=="function"?e(...t):!!e}function IF(){}var Xte=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Qte=e=>{p.useEffect(()=>{e.clearReset()},[e])},Zte=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&RF(r,[e.error,n]),ere=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},tre=(e,t)=>e.isLoading&&e.isFetching&&!t,rre=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,TO=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function nre(e,t,r){var d,f,h,g,v;const n=za(),a=Kte(),s=Yte(),i=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,i),i._optimisticResults=a?"isRestoring":"optimistic",ere(i),Xte(i,s),Qte(s);const l=!n.getQueryCache().get(i.queryHash),[c]=p.useState(()=>new t(n,i)),u=c.getOptimisticResult(i);if(p.useSyncExternalStore(p.useCallback(m=>{const y=a?()=>{}:c.subscribe(nn.batchCalls(m));return c.updateResult(),y},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),rre(i,u))throw TO(i,c,s);if(Zte({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw u.error;if((g=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,i,u),i.experimental_prefetchInRender&&!Ic&&tre(u,a)){const m=l?TO(i,c,s):(v=n.getQueryCache().get(i.queryHash))==null?void 0:v.promise;m==null||m.catch(IF).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function ir(e,t){return nre(e,zte)}function Hs(e,t){const r=za(),[n]=p.useState(()=>new Hte(r,e));p.useEffect(()=>{n.setOptions(e)},[n,e]);const a=p.useSyncExternalStore(p.useCallback(i=>n.subscribe(nn.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=p.useCallback((i,l)=>{n.mutate(i,l).catch(IF)},[n]);if(a.error&&RF(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kp(){return Kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kp.apply(this,arguments)}var tl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(tl||(tl={}));const OO="popstate";function are(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:i,hash:l}=n.location;return Sj("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Zy(a)}return ire(t,r,null,e)}function Br(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function MF(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sre(){return Math.random().toString(36).substr(2,8)}function $O(e,t){return{usr:e.state,key:e.key,idx:t}}function Sj(e,t,r,n){return r===void 0&&(r=null),Kp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kf(t):t,{state:r,key:t&&t.key||n||sre()})}function Zy(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function kf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ire(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=tl.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Kp({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=tl.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:l,location:m.location,delta:x})}function h(y,x){l=tl.Push;let w=Sj(m.location,y,x);u=d()+1;let b=$O(w,u),_=m.createHref(w);try{i.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}s&&c&&c({action:l,location:m.location,delta:1})}function g(y,x){l=tl.Replace;let w=Sj(m.location,y,x);u=d();let b=$O(w,u),_=m.createHref(w);i.replaceState(b,"",_),s&&c&&c({action:l,location:m.location,delta:0})}function v(y){let x=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof y=="string"?y:Zy(y);return w=w.replace(/ $/,"%20"),Br(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let m={get action(){return l},get location(){return e(a,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(OO,f),c=y,()=>{a.removeEventListener(OO,f),c=null}},createHref(y){return t(a,y)},createURL:v,encodeLocation(y){let x=v(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(y){return i.go(y)}};return m}var RO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(RO||(RO={}));function ore(e,t,r){return r===void 0&&(r="/"),lre(e,t,r,!1)}function lre(e,t,r,n){let a=typeof t=="string"?kf(t):t,s=SN(a.pathname||"/",r);if(s==null)return null;let i=LF(e);cre(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=bre(s);l=yre(i[c],u,n)}return l}function LF(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Br(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=pl([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Br(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),LF(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:gre(u,s.index),routesMeta:d})};return e.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of DF(s.path))a(s,i,c)}),t}function DF(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=DF(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function cre(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:vre(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ure=/^:[\w-]+$/,dre=3,fre=2,hre=1,pre=10,mre=-2,IO=e=>e==="*";function gre(e,t){let r=e.split("/"),n=r.length;return r.some(IO)&&(n+=mre),t&&(n+=fre),r.filter(a=>!IO(a)).reduce((a,s)=>a+(ure.test(s)?dre:s===""?hre:pre),n)}function vre(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function yre(e,t,r){let{routesMeta:n}=e,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=MO({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=MO({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:pl([s,f.pathname]),pathnameBase:jre(pl([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=pl([s,f.pathnameBase]))}return i}function MO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=xre(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let m=l[f]||"";i=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const v=l[f];return g&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function xre(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),MF(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function bre(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return MF(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function SN(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function wre(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?kf(e):e;return{pathname:r?r.startsWith("/")?r:_re(r,t):t,search:kre(n),hash:Ere(a)}}function _re(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function b1(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sre(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jN(e,t){let r=Sre(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function kN(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=kf(e):(a=Kp({},e),Br(!a.pathname||!a.pathname.includes("?"),b1("?","pathname","search",a)),Br(!a.pathname||!a.pathname.includes("#"),b1("#","pathname","hash",a)),Br(!a.search||!a.search.includes("#"),b1("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=wre(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const pl=e=>e.join("/").replace(/\/\/+/g,"/"),jre=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kre=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ere=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Nre(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const FF=["post","put","patch","delete"];new Set(FF);const Cre=["get",...FF];new Set(Cre);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gp.apply(this,arguments)}const EN=p.createContext(null),Pre=p.createContext(null),Al=p.createContext(null),Wx=p.createContext(null),ho=p.createContext({outlet:null,matches:[],isDataRoute:!1}),BF=p.createContext(null);function Are(e,t){let{relative:r}=t===void 0?{}:t;Ef()||Br(!1);let{basename:n,navigator:a}=p.useContext(Al),{hash:s,pathname:i,search:l}=zF(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:pl([n,i])),a.createHref({pathname:c,search:l,hash:s})}function Ef(){return p.useContext(Wx)!=null}function Va(){return Ef()||Br(!1),p.useContext(Wx).location}function UF(e){p.useContext(Al).static||p.useLayoutEffect(e)}function hr(){let{isDataRoute:e}=p.useContext(ho);return e?qre():Tre()}function Tre(){Ef()||Br(!1);let e=p.useContext(EN),{basename:t,future:r,navigator:n}=p.useContext(Al),{matches:a}=p.useContext(ho),{pathname:s}=Va(),i=JSON.stringify(jN(a,r.v7_relativeSplatPath)),l=p.useRef(!1);return UF(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=kN(u,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:pl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,s,e])}function tg(){let{matches:e}=p.useContext(ho),t=e[e.length-1];return t?t.params:{}}function zF(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(Al),{matches:a}=p.useContext(ho),{pathname:s}=Va(),i=JSON.stringify(jN(a,n.v7_relativeSplatPath));return p.useMemo(()=>kN(e,JSON.parse(i),s,r==="path"),[e,i,s,r])}function Ore(e,t){return $re(e,t)}function $re(e,t,r,n){Ef()||Br(!1);let{navigator:a}=p.useContext(Al),{matches:s}=p.useContext(ho),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Va(),d;if(t){var f;let y=typeof t=="string"?kf(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||Br(!1),d=y}else d=u;let h=d.pathname||"/",g=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=ore(e,{pathname:g}),m=Dre(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:pl([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:pl([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&m?p.createElement(Wx.Provider,{value:{location:Gp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:tl.Pop}},m):m}function Rre(){let e=zre(),t=Nre(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,null)}const Ire=p.createElement(Rre,null);class Mre extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(ho.Provider,{value:this.props.routeContext},p.createElement(BF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lre(e){let{routeContext:t,match:r,children:n}=e,a=p.useContext(EN);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(ho.Provider,{value:t},n)}function Dre(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Br(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let g,v=!1,m=null,y=null;r&&(g=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||Ire,c&&(u<0&&h===0?(v=!0,y=null):u===h&&(v=!0,y=f.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,h+1)),w=()=>{let b;return g?b=m:v?b=y:f.route.Component?b=p.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,p.createElement(Lre,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(Mre,{location:r.location,revalidation:r.revalidation,component:m,error:g,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var qF=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qF||{}),e0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(e0||{});function Fre(e){let t=p.useContext(EN);return t||Br(!1),t}function Bre(e){let t=p.useContext(Pre);return t||Br(!1),t}function Ure(e){let t=p.useContext(ho);return t||Br(!1),t}function WF(e){let t=Ure(),r=t.matches[t.matches.length-1];return r.route.id||Br(!1),r.route.id}function zre(){var e;let t=p.useContext(BF),r=Bre(e0.UseRouteError),n=WF(e0.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function qre(){let{router:e}=Fre(qF.UseNavigateStable),t=WF(e0.UseNavigateStable),r=p.useRef(!1);return UF(()=>{r.current=!0}),p.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Gp({fromRouteId:t},s)))},[e,t])}function Wre(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ny(e){let{to:t,replace:r,state:n,relative:a}=e;Ef()||Br(!1);let{future:s,static:i}=p.useContext(Al),{matches:l}=p.useContext(ho),{pathname:c}=Va(),u=hr(),d=kN(t,jN(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function ha(e){Br(!1)}function Hre(e){let{basename:t="/",children:r=null,location:n,navigationType:a=tl.Pop,navigator:s,static:i=!1,future:l}=e;Ef()&&Br(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:s,static:i,future:Gp({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=kf(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:v="default"}=n,m=p.useMemo(()=>{let y=SN(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:g,key:v},navigationType:a}},[c,d,f,h,g,v,a]);return m==null?null:p.createElement(Al.Provider,{value:u},p.createElement(Wx.Provider,{children:r,value:m}))}function Vre(e){let{children:t,location:r}=e;return Ore(jj(t),r)}new Promise(()=>{});function jj(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,a)=>{if(!p.isValidElement(n))return;let s=[...t,a];if(n.type===p.Fragment){r.push.apply(r,jj(n.props.children,s));return}n.type!==ha&&Br(!1),!n.props.index||!n.props.children||Br(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=jj(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kj.apply(this,arguments)}function Kre(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Gre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Jre(e,t){return e.button===0&&(!t||t==="_self")&&!Gre(e)}function Ej(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Yre(e,t){let r=Ej(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}const Xre=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Qre="6";try{window.__reactRouterVersion=Qre}catch{}const Zre="startTransition",LO=mf[Zre];function ene(e){let{basename:t,children:r,future:n,window:a}=e,s=p.useRef();s.current==null&&(s.current=are({window:a,v5Compat:!0}));let i=s.current,[l,c]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&LO?LO(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.useEffect(()=>Wre(n),[n]),p.createElement(Hre,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const tne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mr=p.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Kre(t,Xre),{basename:g}=p.useContext(Al),v,m=!1;if(typeof u=="string"&&rne.test(u)&&(v=u,tne))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=SN(_.pathname,g);_.origin===b.origin&&S!=null?u=S+_.search+_.hash:m=!0}catch{}let y=Are(u,{relative:a}),x=nne(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function w(b){n&&n(b),b.defaultPrevented||x(b)}return p.createElement("a",kj({},h,{href:v||y,onClick:m||s?n:w,ref:r,target:c}))});var DO;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DO||(DO={}));var FO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(FO||(FO={}));function nne(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=t===void 0?{}:t,c=hr(),u=Va(),d=zF(e,{relative:i});return p.useCallback(f=>{if(Jre(f,r)){f.preventDefault();let h=n!==void 0?n:Zy(u)===Zy(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,e,s,i,l])}function Hx(e){let t=p.useRef(Ej(e)),r=p.useRef(!1),n=Va(),a=p.useMemo(()=>Yre(n.search,r.current?null:t.current),[n.search]),s=hr(),i=p.useCallback((l,c)=>{const u=Ej(typeof l=="function"?l(a):l);r.current=!0,s("?"+u,c)},[s,a]);return[a,i]}function HF(e,t){return function(){return e.apply(t,arguments)}}const{toString:ane}=Object.prototype,{getPrototypeOf:NN}=Object,{iterator:Vx,toStringTag:VF}=Symbol,Kx=(e=>t=>{const r=ane.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ks=e=>(e=e.toLowerCase(),t=>Kx(t)===e),Gx=e=>t=>typeof t===e,{isArray:Nf}=Array,Ld=Gx("undefined");function rg(e){return e!==null&&!Ld(e)&&e.constructor!==null&&!Ld(e.constructor)&&ja(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const KF=Ks("ArrayBuffer");function sne(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&KF(e.buffer),t}const ine=Gx("string"),ja=Gx("function"),GF=Gx("number"),ng=e=>e!==null&&typeof e=="object",one=e=>e===!0||e===!1,ay=e=>{if(Kx(e)!=="object")return!1;const t=NN(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(VF in e)&&!(Vx in e)},lne=e=>{if(!ng(e)||rg(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},cne=Ks("Date"),une=Ks("File"),dne=Ks("Blob"),fne=Ks("FileList"),hne=e=>ng(e)&&ja(e.pipe),pne=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ja(e.append)&&((t=Kx(e))==="formdata"||t==="object"&&ja(e.toString)&&e.toString()==="[object FormData]"))},mne=Ks("URLSearchParams"),[gne,vne,yne,xne]=["ReadableStream","Request","Response","Headers"].map(Ks),bne=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ag(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Nf(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(rg(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let l;for(n=0;n<i;n++)l=s[n],t.call(null,e[l],l,e)}}function JF(e,t){if(rg(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const sc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,YF=e=>!Ld(e)&&e!==sc;function Nj(){const{caseless:e,skipUndefined:t}=YF(this)&&this||{},r={},n=(a,s)=>{const i=e&&JF(r,s)||s;ay(r[i])&&ay(a)?r[i]=Nj(r[i],a):ay(a)?r[i]=Nj({},a):Nf(a)?r[i]=a.slice():(!t||!Ld(a))&&(r[i]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&ag(arguments[a],n);return r}const wne=(e,t,r,{allOwnKeys:n}={})=>(ag(t,(a,s)=>{r&&ja(a)?e[s]=HF(a,r):e[s]=a},{allOwnKeys:n}),e),_ne=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Sne=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},jne=(e,t,r,n)=>{let a,s,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&NN(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kne=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Ene=e=>{if(!e)return null;if(Nf(e))return e;let t=e.length;if(!GF(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Nne=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&NN(Uint8Array)),Cne=(e,t)=>{const n=(e&&e[Vx]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},Pne=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Ane=Ks("HTMLFormElement"),Tne=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),BO=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),One=Ks("RegExp"),XF=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ag(r,(a,s)=>{let i;(i=t(a,s,e))!==!1&&(n[s]=i||a)}),Object.defineProperties(e,n)},$ne=e=>{XF(e,(t,r)=>{if(ja(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ja(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Rne=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Nf(e)?n(e):n(String(e).split(t)),r},Ine=()=>{},Mne=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Lne(e){return!!(e&&ja(e.append)&&e[VF]==="FormData"&&e[Vx])}const Dne=e=>{const t=new Array(10),r=(n,a)=>{if(ng(n)){if(t.indexOf(n)>=0)return;if(rg(n))return n;if(!("toJSON"in n)){t[a]=n;const s=Nf(n)?[]:{};return ag(n,(i,l)=>{const c=r(i,a+1);!Ld(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},Fne=Ks("AsyncFunction"),Bne=e=>e&&(ng(e)||ja(e))&&ja(e.then)&&ja(e.catch),QF=((e,t)=>e?setImmediate:t?((r,n)=>(sc.addEventListener("message",({source:a,data:s})=>{a===sc&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),sc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ja(sc.postMessage)),Une=typeof queueMicrotask<"u"?queueMicrotask.bind(sc):typeof process<"u"&&process.nextTick||QF,zne=e=>e!=null&&ja(e[Vx]),ge={isArray:Nf,isArrayBuffer:KF,isBuffer:rg,isFormData:pne,isArrayBufferView:sne,isString:ine,isNumber:GF,isBoolean:one,isObject:ng,isPlainObject:ay,isEmptyObject:lne,isReadableStream:gne,isRequest:vne,isResponse:yne,isHeaders:xne,isUndefined:Ld,isDate:cne,isFile:une,isBlob:dne,isRegExp:One,isFunction:ja,isStream:hne,isURLSearchParams:mne,isTypedArray:Nne,isFileList:fne,forEach:ag,merge:Nj,extend:wne,trim:bne,stripBOM:_ne,inherits:Sne,toFlatObject:jne,kindOf:Kx,kindOfTest:Ks,endsWith:kne,toArray:Ene,forEachEntry:Cne,matchAll:Pne,isHTMLForm:Ane,hasOwnProperty:BO,hasOwnProp:BO,reduceDescriptors:XF,freezeMethods:$ne,toObjectSet:Rne,toCamelCase:Tne,noop:Ine,toFiniteNumber:Mne,findKey:JF,global:sc,isContextDefined:YF,isSpecCompliantForm:Lne,toJSONObject:Dne,isAsyncFn:Fne,isThenable:Bne,setImmediate:QF,asap:Une,isIterable:zne};function Et(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ge.inherits(Et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ge.toJSONObject(this.config),code:this.code,status:this.status}}});const ZF=Et.prototype,e8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{e8[e]={value:e}});Object.defineProperties(Et,e8);Object.defineProperty(ZF,"isAxiosError",{value:!0});Et.from=(e,t,r,n,a,s)=>{const i=Object.create(ZF);ge.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Et.call(i,l,c,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const qne=null;function Cj(e){return ge.isPlainObject(e)||ge.isArray(e)}function t8(e){return ge.endsWith(e,"[]")?e.slice(0,-2):e}function UO(e,t,r){return e?e.concat(t).map(function(a,s){return a=t8(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function Wne(e){return ge.isArray(e)&&!e.some(Cj)}const Hne=ge.toFlatObject(ge,{},null,function(t){return/^is[A-Z]/.test(t)});function Jx(e,t,r){if(!ge.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ge.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!ge.isUndefined(y[m])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ge.isSpecCompliantForm(t);if(!ge.isFunction(a))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(ge.isDate(v))return v.toISOString();if(ge.isBoolean(v))return v.toString();if(!c&&ge.isBlob(v))throw new Et("Blob is not supported. Use a Buffer instead.");return ge.isArrayBuffer(v)||ge.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,m,y){let x=v;if(v&&!y&&typeof v=="object"){if(ge.endsWith(m,"{}"))m=n?m:m.slice(0,-2),v=JSON.stringify(v);else if(ge.isArray(v)&&Wne(v)||(ge.isFileList(v)||ge.endsWith(m,"[]"))&&(x=ge.toArray(v)))return m=t8(m),x.forEach(function(b,_){!(ge.isUndefined(b)||b===null)&&t.append(i===!0?UO([m],_,s):i===null?m:m+"[]",u(b))}),!1}return Cj(v)?!0:(t.append(UO(y,m,s),u(v)),!1)}const f=[],h=Object.assign(Hne,{defaultVisitor:d,convertValue:u,isVisitable:Cj});function g(v,m){if(!ge.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(v),ge.forEach(v,function(x,w){(!(ge.isUndefined(x)||x===null)&&a.call(t,x,ge.isString(w)?w.trim():w,m,h))===!0&&g(x,m?m.concat(w):[w])}),f.pop()}}if(!ge.isObject(e))throw new TypeError("data must be an object");return g(e),t}function zO(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function CN(e,t){this._pairs=[],e&&Jx(e,this,t)}const r8=CN.prototype;r8.append=function(t,r){this._pairs.push([t,r])};r8.toString=function(t){const r=t?function(n){return t.call(this,n,zO)}:zO;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Vne(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function n8(e,t,r){if(!t)return e;const n=r&&r.encode||Vne;ge.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=ge.isURLSearchParams(t)?t.toString():new CN(t,r).toString(n),s){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class qO{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ge.forEach(this.handlers,function(n){n!==null&&t(n)})}}const a8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kne=typeof URLSearchParams<"u"?URLSearchParams:CN,Gne=typeof FormData<"u"?FormData:null,Jne=typeof Blob<"u"?Blob:null,Yne={isBrowser:!0,classes:{URLSearchParams:Kne,FormData:Gne,Blob:Jne},protocols:["http","https","file","blob","url","data"]},PN=typeof window<"u"&&typeof document<"u",Pj=typeof navigator=="object"&&navigator||void 0,Xne=PN&&(!Pj||["ReactNative","NativeScript","NS"].indexOf(Pj.product)<0),Qne=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zne=PN&&window.location.href||"http://localhost",eae=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:PN,hasStandardBrowserEnv:Xne,hasStandardBrowserWebWorkerEnv:Qne,navigator:Pj,origin:Zne},Symbol.toStringTag,{value:"Module"})),Fn={...eae,...Yne};function tae(e,t){return Jx(e,new Fn.classes.URLSearchParams,{visitor:function(r,n,a,s){return Fn.isNode&&ge.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function rae(e){return ge.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nae(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function s8(e){function t(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&ge.isArray(a)?a.length:i,c?(ge.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!ge.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],s)&&ge.isArray(a[i])&&(a[i]=nae(a[i])),!l)}if(ge.isFormData(e)&&ge.isFunction(e.entries)){const r={};return ge.forEachEntry(e,(n,a)=>{t(rae(n),a,r,0)}),r}return null}function aae(e,t,r){if(ge.isString(e))try{return(t||JSON.parse)(e),ge.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const sg={transitional:a8,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=ge.isObject(t);if(s&&ge.isHTMLForm(t)&&(t=new FormData(t)),ge.isFormData(t))return a?JSON.stringify(s8(t)):t;if(ge.isArrayBuffer(t)||ge.isBuffer(t)||ge.isStream(t)||ge.isFile(t)||ge.isBlob(t)||ge.isReadableStream(t))return t;if(ge.isArrayBufferView(t))return t.buffer;if(ge.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tae(t,this.formSerializer).toString();if((l=ge.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Jx(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),aae(t)):t}],transformResponse:[function(t){const r=this.transitional||sg.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ge.isResponse(t)||ge.isReadableStream(t))return t;if(t&&ge.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Et.from(l,Et.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fn.classes.FormData,Blob:Fn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ge.forEach(["delete","get","head","post","put","patch"],e=>{sg.headers[e]={}});const sae=ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iae=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&sae[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},WO=Symbol("internals");function gh(e){return e&&String(e).trim().toLowerCase()}function sy(e){return e===!1||e==null?e:ge.isArray(e)?e.map(sy):String(e)}function oae(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const lae=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function w1(e,t,r,n,a){if(ge.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!ge.isString(t)){if(ge.isString(n))return t.indexOf(n)!==-1;if(ge.isRegExp(n))return n.test(t)}}function cae(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function uae(e,t){const r=ge.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,i){return this[n].call(this,t,a,s,i)},configurable:!0})})}class ka{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=gh(c);if(!d)throw new Error("header name must be a non-empty string");const f=ge.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=sy(l))}const i=(l,c)=>ge.forEach(l,(u,d)=>s(u,d,c));if(ge.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(ge.isString(t)&&(t=t.trim())&&!lae(t))i(iae(t),r);else if(ge.isObject(t)&&ge.isIterable(t)){let l={},c,u;for(const d of t){if(!ge.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?ge.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=gh(t),t){const n=ge.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return oae(a);if(ge.isFunction(r))return r.call(this,a,n);if(ge.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=gh(t),t){const n=ge.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||w1(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(i){if(i=gh(i),i){const l=ge.findKey(n,i);l&&(!r||w1(n,n[l],l,r))&&(delete n[l],a=!0)}}return ge.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||w1(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return ge.forEach(this,(a,s)=>{const i=ge.findKey(n,s);if(i){r[i]=sy(a),delete r[s];return}const l=t?cae(s):String(s).trim();l!==s&&delete r[s],r[l]=sy(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ge.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&ge.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[WO]=this[WO]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=gh(i);n[l]||(uae(a,i),n[l]=!0)}return ge.isArray(t)?t.forEach(s):s(t),this}}ka.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ge.reduceDescriptors(ka.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ge.freezeMethods(ka);function _1(e,t){const r=this||sg,n=t||r,a=ka.from(n.headers);let s=n.data;return ge.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function i8(e){return!!(e&&e.__CANCEL__)}function Cf(e,t,r){Et.call(this,e??"canceled",Et.ERR_CANCELED,t,r),this.name="CanceledError"}ge.inherits(Cf,Et,{__CANCEL__:!0});function o8(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Et("Request failed with status code "+r.status,[Et.ERR_BAD_REQUEST,Et.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function dae(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fae(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-i<t)return;const g=d&&u-d;return g?Math.round(h*1e3/g):void 0}}function hae(e,t){let r=0,n=1e3/t,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const t0=(e,t,r=3)=>{let n=0;const a=fae(50,250);return hae(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},HO=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},VO=e=>(...t)=>ge.asap(()=>e(...t)),pae=Fn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Fn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Fn.origin),Fn.navigator&&/(msie|trident)/i.test(Fn.navigator.userAgent)):()=>!0,mae=Fn.hasStandardBrowserEnv?{write(e,t,r,n,a,s){const i=[e+"="+encodeURIComponent(t)];ge.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),ge.isString(n)&&i.push("path="+n),ge.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gae(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vae(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function l8(e,t,r){let n=!gae(t);return e&&(n||r==!1)?vae(e,t):t}const KO=e=>e instanceof ka?{...e}:e;function Lc(e,t){t=t||{};const r={};function n(u,d,f,h){return ge.isPlainObject(u)&&ge.isPlainObject(d)?ge.merge.call({caseless:h},u,d):ge.isPlainObject(d)?ge.merge({},d):ge.isArray(d)?d.slice():d}function a(u,d,f,h){if(ge.isUndefined(d)){if(!ge.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!ge.isUndefined(d))return n(void 0,d)}function i(u,d){if(ge.isUndefined(d)){if(!ge.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(KO(u),KO(d),f,!0)};return ge.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);ge.isUndefined(h)&&f!==l||(r[d]=h)}),r}const c8=e=>{const t=Lc({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=t;if(t.headers=i=ka.from(i),t.url=n8(l8(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ge.isFormData(r)){if(Fn.hasStandardBrowserEnv||Fn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(ge.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Fn.hasStandardBrowserEnv&&(n&&ge.isFunction(n)&&(n=n(t)),n||n!==!1&&pae(t.url))){const c=a&&s&&mae.read(s);c&&i.set(a,c)}return t},yae=typeof XMLHttpRequest<"u",xae=yae&&function(e){return new Promise(function(r,n){const a=c8(e);let s=a.data;const i=ka.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,g,v;function m(){g&&g(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(a.method.toUpperCase(),a.url,!0),y.timeout=a.timeout;function x(){if(!y)return;const b=ka.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:e,request:y};o8(function(j){r(j),m()},function(j){n(j),m()},S),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(n(new Et("Request aborted",Et.ECONNABORTED,e,y)),y=null)},y.onerror=function(_){const S=_&&_.message?_.message:"Network Error",E=new Et(S,Et.ERR_NETWORK,e,y);E.event=_||null,n(E),y=null},y.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||a8;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),n(new Et(_,S.clarifyTimeoutError?Et.ETIMEDOUT:Et.ECONNABORTED,e,y)),y=null},s===void 0&&i.setContentType(null),"setRequestHeader"in y&&ge.forEach(i.toJSON(),function(_,S){y.setRequestHeader(S,_)}),ge.isUndefined(a.withCredentials)||(y.withCredentials=!!a.withCredentials),l&&l!=="json"&&(y.responseType=a.responseType),u&&([h,v]=t0(u,!0),y.addEventListener("progress",h)),c&&y.upload&&([f,g]=t0(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(d=b=>{y&&(n(!b||b.type?new Cf(null,e,y):b),y.abort(),y=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const w=dae(a.url);if(w&&Fn.protocols.indexOf(w)===-1){n(new Et("Unsupported protocol "+w+":",Et.ERR_BAD_REQUEST,e));return}y.send(s||null)})},bae=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Et?d:new Cf(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,s(new Et(`timeout ${t} of ms exceeded`,Et.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>ge.asap(l),c}},wae=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},_ae=async function*(e,t){for await(const r of Sae(e))yield*wae(r,t)},Sae=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},GO=(e,t,r,n)=>{const a=_ae(e,t);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},JO=64*1024,{isFunction:tv}=ge,jae=(({Request:e,Response:t})=>({Request:e,Response:t}))(ge.global),{ReadableStream:YO,TextEncoder:XO}=ge.global,QO=(e,...t)=>{try{return!!e(...t)}catch{return!1}},kae=e=>{e=ge.merge.call({skipUndefined:!0},jae,e);const{fetch:t,Request:r,Response:n}=e,a=t?tv(t):typeof fetch=="function",s=tv(r),i=tv(n);if(!a)return!1;const l=a&&tv(YO),c=a&&(typeof XO=="function"?(v=>m=>v.encode(m))(new XO):async v=>new Uint8Array(await new r(v).arrayBuffer())),u=s&&l&&QO(()=>{let v=!1;const m=new r(Fn.origin,{body:new YO,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!m}),d=i&&l&&QO(()=>ge.isReadableStream(new n("").body)),f={stream:d&&(v=>v.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(m,y)=>{let x=m&&m[v];if(x)return x.call(m);throw new Et(`Response type '${v}' is not supported`,Et.ERR_NOT_SUPPORT,y)})});const h=async v=>{if(v==null)return 0;if(ge.isBlob(v))return v.size;if(ge.isSpecCompliantForm(v))return(await new r(Fn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(ge.isArrayBufferView(v)||ge.isArrayBuffer(v))return v.byteLength;if(ge.isURLSearchParams(v)&&(v=v+""),ge.isString(v))return(await c(v)).byteLength},g=async(v,m)=>{const y=ge.toFiniteNumber(v.getContentLength());return y??h(m)};return async v=>{let{url:m,method:y,data:x,signal:w,cancelToken:b,timeout:_,onDownloadProgress:S,onUploadProgress:E,responseType:j,headers:k,withCredentials:N="same-origin",fetchOptions:C}=c8(v),A=t||fetch;j=j?(j+"").toLowerCase():"text";let I=bae([w,b&&b.toAbortSignal()],_),B=null;const z=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let M;try{if(E&&u&&y!=="get"&&y!=="head"&&(M=await g(k,x))!==0){let T=new r(m,{method:"POST",body:x,duplex:"half"}),D;if(ge.isFormData(x)&&(D=T.headers.get("content-type"))&&k.setContentType(D),T.body){const[Y,q]=HO(M,t0(VO(E)));x=GO(T.body,JO,Y,q)}}ge.isString(N)||(N=N?"include":"omit");const $=s&&"credentials"in r.prototype,F={...C,signal:I,method:y.toUpperCase(),headers:k.normalize().toJSON(),body:x,duplex:"half",credentials:$?N:void 0};B=s&&new r(m,F);let O=await(s?A(B,C):A(m,F));const L=d&&(j==="stream"||j==="response");if(d&&(S||L&&z)){const T={};["status","statusText","headers"].forEach(ie=>{T[ie]=O[ie]});const D=ge.toFiniteNumber(O.headers.get("content-length")),[Y,q]=S&&HO(D,t0(VO(S),!0))||[];O=new n(GO(O.body,JO,Y,()=>{q&&q(),z&&z()}),T)}j=j||"text";let Q=await f[ge.findKey(f,j)||"text"](O,v);return!L&&z&&z(),await new Promise((T,D)=>{o8(T,D,{data:Q,headers:ka.from(O.headers),status:O.status,statusText:O.statusText,config:v,request:B})})}catch($){throw z&&z(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new Et("Network Error",Et.ERR_NETWORK,v,B),{cause:$.cause||$}):Et.from($,$&&$.code,v,B)}}},Eae=new Map,u8=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let i=s.length,l=i,c,u,d=Eae;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:kae(t)),d=u;return u};u8();const Aj={http:qne,xhr:xae,fetch:{get:u8}};ge.forEach(Aj,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ZO=e=>`- ${e}`,Nae=e=>ge.isFunction(e)||e===null||e===!1,d8={getAdapter:(e,t)=>{e=ge.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let i=0;i<r;i++){n=e[i];let l;if(a=n,!Nae(n)&&(a=Aj[(l=String(n)).toLowerCase()],a===void 0))throw new Et(`Unknown adapter '${l}'`);if(a&&(ge.isFunction(a)||(a=a.get(t))))break;s[l||"#"+i]=a}if(!a){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(ZO).join(`
`):" "+ZO(i[0]):"as no adapter specified";throw new Et("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:Aj};function S1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cf(null,e)}function e$(e){return S1(e),e.headers=ka.from(e.headers),e.data=_1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),d8.getAdapter(e.adapter||sg.adapter,e)(e).then(function(n){return S1(e),n.data=_1.call(e,e.transformResponse,n),n.headers=ka.from(n.headers),n},function(n){return i8(n)||(S1(e),n&&n.response&&(n.response.data=_1.call(e,e.transformResponse,n.response),n.response.headers=ka.from(n.response.headers))),Promise.reject(n)})}const f8="1.12.2",Yx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yx[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const t$={};Yx.transitional=function(t,r,n){function a(s,i){return"[Axios v"+f8+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(t===!1)throw new Et(a(i," has been removed"+(r?" in "+r:"")),Et.ERR_DEPRECATED);return r&&!t$[i]&&(t$[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,i,l):!0}};Yx.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Cae(e,t,r){if(typeof e!="object")throw new Et("options must be an object",Et.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],i=t[s];if(i){const l=e[s],c=l===void 0||i(l,s,e);if(c!==!0)throw new Et("option "+s+" must be "+c,Et.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Et("Unknown option "+s,Et.ERR_BAD_OPTION)}}const iy={assertOptions:Cae,validators:Yx},ei=iy.validators;class xc{constructor(t){this.defaults=t||{},this.interceptors={request:new qO,response:new qO}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Lc(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&iy.assertOptions(n,{silentJSONParsing:ei.transitional(ei.boolean),forcedJSONParsing:ei.transitional(ei.boolean),clarifyTimeoutError:ei.transitional(ei.boolean)},!1),a!=null&&(ge.isFunction(a)?r.paramsSerializer={serialize:a}:iy.assertOptions(a,{encode:ei.function,serialize:ei.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),iy.assertOptions(r,{baseUrl:ei.spelling("baseURL"),withXsrfToken:ei.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&ge.merge(s.common,s[r.method]);s&&ge.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),r.headers=ka.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,f=0,h;if(!c){const v=[e$.bind(this),void 0];for(v.unshift(...l),v.push(...u),h=v.length,d=Promise.resolve(r);f<h;)d=d.then(v[f++],v[f++]);return d}h=l.length;let g=r;for(;f<h;){const v=l[f++],m=l[f++];try{g=v(g)}catch(y){m.call(this,y);break}}try{d=e$.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Lc(this.defaults,t);const r=l8(t.baseURL,t.url,t.allowAbsoluteUrls);return n8(r,t.params,t.paramsSerializer)}}ge.forEach(["delete","get","head","options"],function(t){xc.prototype[t]=function(r,n){return this.request(Lc(n||{},{method:t,url:r,data:(n||{}).data}))}});ge.forEach(["post","put","patch"],function(t){function r(n){return function(s,i,l){return this.request(Lc(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}xc.prototype[t]=r(),xc.prototype[t+"Form"]=r(!0)});class AN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},t(function(s,i,l){n.reason||(n.reason=new Cf(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new AN(function(a){t=a}),cancel:t}}}function Pae(e){return function(r){return e.apply(null,r)}}function Aae(e){return ge.isObject(e)&&e.isAxiosError===!0}const Tj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tj).forEach(([e,t])=>{Tj[t]=e});function h8(e){const t=new xc(e),r=HF(xc.prototype.request,t);return ge.extend(r,xc.prototype,t,{allOwnKeys:!0}),ge.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return h8(Lc(e,a))},r}const zt=h8(sg);zt.Axios=xc;zt.CanceledError=Cf;zt.CancelToken=AN;zt.isCancel=i8;zt.VERSION=f8;zt.toFormData=Jx;zt.AxiosError=Et;zt.Cancel=zt.CanceledError;zt.all=function(t){return Promise.all(t)};zt.spread=Pae;zt.isAxiosError=Aae;zt.mergeConfig=Lc;zt.AxiosHeaders=ka;zt.formToJSON=e=>s8(ge.isHTMLForm(e)?new FormData(e):e);zt.getAdapter=d8.getAdapter;zt.HttpStatusCode=Tj;zt.default=zt;const Tae="https://breneo.onrender.com";let rv=!1;const an={setTokens:(e,t)=>{e.length>30?`${e.substring(0,20)}${e.substring(e.length-10)}`:e.substring(0,20)+"",localStorage.setItem("authToken",e),localStorage.setItem("refreshToken",t),localStorage.getItem("authToken")},getAccessToken:()=>{const e=localStorage.getItem("authToken");return e&&(e.length>30?`${e.substring(0,20)}${e.substring(e.length-10)}`:e.substring(0,20)+""),e},getRefreshToken:()=>localStorage.getItem("refreshToken"),clearTokens:(e=!1)=>{localStorage.getItem("authToken"),localStorage.getItem("refreshToken"),localStorage.getItem("userRole"),localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),e||localStorage.removeItem("userRole")},isTokenExpired:e=>{try{const t=JSON.parse(atob(e.split(".")[1])),r=Math.floor(Date.now()/1e3);return t.exp<r}catch{return!0}},refreshAccessToken:async()=>{var t;const e=an.getRefreshToken();if(!e)return null;try{const n=(await zt.post(`${Tae}/api/refresh/`,{refresh:e})).data.access;if(n)return localStorage.setItem("authToken",n),n}catch(r){const n=(t=r==null?void 0:r.response)==null?void 0:t.status,a=n>=500,s=n===401||n===403;console.error("Token refresh failed:",{status:n,isServerError:a,isAuthError:s,error:r==null?void 0:r.message}),!rv&&s?an.clearTokens(!1):a||rv&&an.clearTokens(!0)}return null},setSessionRestoration:e=>{rv=e},isInSessionRestoration:()=>rv},Oae="https://breneo.onrender.com",Ce=zt.create({baseURL:Oae,timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});Ce.interceptors.request.use(async e=>{var r,n,a,s,i,l;const t=an.getAccessToken();if(t&&!((r=e.url)!=null&&r.includes("/api/login/"))&&!((n=e.url)!=null&&n.includes("/api/academy/login/"))&&!((a=e.url)!=null&&a.includes("/api/register/"))&&!((s=e.url)!=null&&s.includes("/api/refresh/"))&&!((i=e.url)!=null&&i.includes("/api/verify-code/"))&&!((l=e.headers)!=null&&l.Authorization))if(an.isTokenExpired(t)){const c=await an.refreshAccessToken();c?e.headers.Authorization=`Bearer ${c}`:e.headers.Authorization=`Bearer ${t}`}else e.headers.Authorization=`Bearer ${t}`;return e},e=>Promise.reject(e));Ce.interceptors.response.use(e=>e,async e=>{var r,n,a,s,i,l,c,u,d;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if((n=t.url)!=null&&n.includes("/api/login/")||(a=t.url)!=null&&a.includes("/api/academy/login/")||(s=t.url)!=null&&s.includes("/api/register/")||(i=t.url)!=null&&i.includes("/api/refresh/"))return Promise.reject(e);t._retry=!0;const f=an.isInSessionRestoration(),h=(l=t.url)==null?void 0:l.includes("/api/academy/profile/"),g=(c=t.url)==null?void 0:c.includes("/api/academy/");try{const v=await an.refreshAccessToken(),m=an.getAccessToken();if(v){t.headers.Authorization=`Bearer ${v}`;try{return await Ce(t)}catch(y){if(((u=y.response)==null?void 0:u.status)===401&&g)return Promise.reject(y);throw y}}else if(m){if(g&&!f)return Promise.reject(e);t.headers.Authorization=`Bearer ${m}`;try{return await Ce(t)}catch(y){return Promise.reject(y)}}else if(g&&!f)return Promise.reject(e)}catch(v){if(console.error(" Token refresh threw an error:",v),an.getAccessToken()&&g||g&&!f)return Promise.reject(e)}if(!f&&!g)((d=e.response)==null?void 0:d.status)===401&&(an.clearTokens(!1),window.location.pathname.includes("/auth/")||(window.location.href="/auth/login"));else if(h)return Promise.reject(e)}return Promise.reject(e)});const mt={AUTH:{LOGIN:"/api/login/",ACADEMY_LOGIN:"/api/academy/login/",REGISTER:"/api/register/",PROFILE:"/api/profile/",VERIFY_CODE:"/api/verify-code/",VERIFY_ACADEMY_EMAIL:"/api/verify-academy-email/",PASSWORD_RESET:"/password-reset/request/",PASSWORD_RESET_VERIFY:"/password-reset/verify/",PASSWORD_RESET_CONFIRM:"/password-reset/set-new/",TOKEN_REFRESH:"/api/refresh/"},USER:{PROFILE:"/api/user/profile/",SKILLS:"/api/user/skills/",TESTS:"/api/user/tests/"},ACADEMY:{PROFILE:"/api/academy/profile/",DETAIL:"/api/academy/",COURSES:"/api/academy/courses/",STUDENTS:"/api/academy/students/"},PAYMENTS:{BOG_AUTH:"/api/payments/bog/auth/",BOG_CREATE_ORDER:"/api/payments/bog/orders/"},JOBS:{SAVE_JOB:"/api/save-job/"}};var TN="Avatar",[$ae,uFe]=Ha(TN),[Rae,p8]=$ae(TN),m8=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=p.useState("idle");return o.jsx(Rae,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:o.jsx(tt.span,{...n,ref:t})})});m8.displayName=TN;var g8="AvatarImage",v8=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,i=p8(g8,r),l=Iae(n,s.referrerPolicy),c=Ut(u=>{a(u),i.onImageLoadingStatusChange(u)});return Ur(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(tt.img,{...s,ref:t,src:n}):null});v8.displayName=g8;var y8="AvatarFallback",x8=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=p8(y8,r),[i,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&s.imageLoadingStatus!=="loaded"?o.jsx(tt.span,{...a,ref:t}):null});x8.displayName=y8;function Iae(e,t){const[r,n]=p.useState("idle");return Ur(()=>{if(!e){n("error");return}let a=!0;const s=new window.Image,i=l=>()=>{a&&n(l)};return n("loading"),s.onload=i("loaded"),s.onerror=i("error"),s.src=e,t&&(s.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var b8=m8,w8=v8,_8=x8;const S8=p.forwardRef(({className:e,...t},r)=>o.jsx(b8,{ref:r,className:de("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));S8.displayName=b8.displayName;const j8=p.forwardRef(({className:e,...t},r)=>o.jsx(w8,{ref:r,className:de("aspect-square h-full w-full",e),...t}));j8.displayName=w8.displayName;const k8=p.forwardRef(({className:e,...t},r)=>o.jsx(_8,{ref:r,className:de("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));k8.displayName=_8.displayName;const Mae={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-16 w-16",xl:"h-32 w-32"},r$=new Map,Jp=({src:e,alt:t="Profile photo",fallback:r="U",className:n,size:a="md",loading:s="lazy"})=>o.jsxs(S8,{className:de(Mae[a],n,"rounded-3xl"),children:[e&&o.jsx(j8,{src:e,alt:t,className:"aspect-square h-full w-full rounded-3xl",loading:s}),o.jsx(k8,{className:"bg-[#AAF0FF] text-[#099DBC] text-2xl font-semibold rounded-3xl",children:r})]}),E8=()=>{const e=p.useCallback(r=>new Promise((n,a)=>{if(r$.has(r)){n();return}const s=new Image;s.onload=()=>{r$.set(r,!0),n()},s.onerror=a,!r.includes("supabase.co")&&!r.includes(window.location.origin)&&(s.crossOrigin="anonymous"),s.src=r}),[]),t=p.useCallback(async r=>{const n=r.map(a=>e(a));await Promise.allSettled(n)},[e]);return{preloadImage:e,preloadImages:t}};function n$(e){return e==="ka"?"ka":"en"}function bc(e){const r=e.split("/").filter(Boolean)[0];if(r==="ka"||r==="en")return r;if(typeof window<"u"){const n=localStorage.getItem("appLanguage");if(n==="en"||n==="ka")return n}return"en"}function Yp(e){const t=e.split("/").filter(Boolean),r=t[0];return r==="ka"||r==="en"?"/"+t.slice(1).join("/"):e}function Oj(e,t){return e.startsWith("/auth/")||e==="/auth"||e.startsWith("/en/")||e.startsWith("/ka/")?e:e==="/"?`/${n$(t)}`:`/${n$(t)}${e}`}function Qa(e,t){return Oj(e,t)}const N8=p.createContext(void 0),nv=e=>{if(e&&typeof e=="object"){const t=e,r=n=>{if(n.user_type)return String(n.user_type);if(n.role)return String(n.role);if(n.user_role)return String(n.user_role);if(Array.isArray(n.roles)&&n.roles.length>0){const a=n.roles.find(s=>typeof s=="string"&&(s==="academy"||s.toLowerCase()==="academy"));return String(a||n.roles[0])}};if(t.user&&typeof t.user=="object"){const n=t.user,a=r(n);return a&&!n.user_type&&!n.role&&(n.user_type=a),n}if(t.profile&&typeof t.profile=="object"){const n=t.profile,a=r(n);return a&&!n.user_type&&!n.role&&(n.user_type=a),n}if(t.email||t.username||t.id||t.user_type||t.role||t.name){const n={};t.id&&(n.id=typeof t.id=="string"||typeof t.id=="number"?t.id:String(t.id)),t.email&&(n.email=t.email),t.username&&(n.username=t.username),t.first_name&&(n.first_name=t.first_name),t.last_name&&(n.last_name=t.last_name),t.name&&!t.first_name&&(n.first_name=t.name),t.phone_number&&(n.phone_number=t.phone_number),t.profile_image!==void 0&&(n.profile_image=t.profile_image);const a=r(t);return a&&(n.user_type=a),n}}return null},a$=e=>{try{const t=e.split(".");if(t.length!==3)return null;const r=JSON.parse(atob(t[1]));return r.user_id||r.sub||r.id||null}catch(t){return console.error("Failed to decode JWT token:",t),null}},Lae=({children:e})=>{const[t,r]=p.useState(null),[n,a]=p.useState(!0),s=hr(),{preloadImage:i}=E8(),l=p.useRef(i);p.useEffect(()=>{l.current=i},[i]),p.useEffect(()=>{(async()=>{an.setSessionRestoration(!0);try{const v=an.getAccessToken();if(!v){a(!1),an.setSessionRestoration(!1);return}const m=localStorage.getItem("userRole");let y=null;try{const _=v.split(".");if(_.length===3){const S=JSON.parse(atob(_[1])),E=S.user_id||S.sub||S.id||"";let k=S.user_type||S.role||S.user_role;!k&&Array.isArray(S.roles)&&(k=S.roles.find(C=>typeof C=="string"&&(C==="academy"||C.toLowerCase()==="academy"))||S.roles[0]),y={id:E||String(S.username)||"",email:S.email||S.username||"",username:S.username||S.email||"",first_name:S.first_name||S.name||"",user_type:k||"user",profile_image:S.profile_image||null}}}catch(_){console.error("Failed to decode JWT token:",_),console.warn(" JWT decode failed, but preserving token and attempting API call"),y=null}let x=null;try{const _=await Ce.get(mt.AUTH.PROFILE),S=_.data;if(S.user_roles&&Array.isArray(S.user_roles)&&S.user_roles.find(j=>j.role==="academy"||j.role==="academy")&&!S.user_type&&!S.role&&(S.user_type="academy"),x=nv(_.data),x){const E=a$(v);E?x.id=E:!x.id&&x.email&&(x.id=x.email)}}catch(_){console.warn(" Profile API call failed, using JWT data:",_),x=y}x||(x=y);const w=localStorage.getItem("userRole");let b=!1;if(!(x!=null&&x.user_type)&&!w)try{const _=await Ce.get(mt.ACADEMY.PROFILE);_.data&&_.status!==404&&(b=!0)}catch{}if(w){const _=x==null?void 0:x.user_type;w==="user"&&_&&_!=="user"?(x.user_type=_,localStorage.setItem("userRole",_)):x.user_type=w}else x!=null&&x.user_type?localStorage.setItem("userRole",x.user_type):b?(x.user_type="academy",localStorage.setItem("userRole","academy")):y!=null&&y.user_type&&y.user_type!=="user"?(x.user_type=y.user_type,localStorage.setItem("userRole",y.user_type)):(x.user_type=x.user_type||"user",localStorage.setItem("userRole",x.user_type));if(x&&(x.id||x.email)){if(!x.id&&x.email&&(x.id=x.email),x.user_type){const _=localStorage.getItem("userRole");(!_||_!==x.user_type)&&localStorage.setItem("userRole",x.user_type)}r(x)}else r(null)}catch{r(null)}finally{an.setSessionRestoration(!1),a(!1)}})()},[]),p.useEffect(()=>{t!=null&&t.profile_image&&l.current(t.profile_image).catch(console.error)},[t==null?void 0:t.profile_image]),p.useEffect(()=>{if(!n&&t){const g=window.location.pathname,v=bc(g)||localStorage.getItem("appLanguage")||"en",m=localStorage.getItem("userRole")||t.user_type||"user",x=["/auth/login","/auth/signup","/auth/reset-password","/email-verification","/email-confirmed"].includes(g),b=["/terms-of-use","/help"].includes(g);if(g==="/"||x){if(m==="academy"){const k=Qa("/academy/dashboard",v);s(k,{replace:!0})}else{const k=Qa("/home",v);s(k,{replace:!0})}return}if(b)return;const _=Yp(g),S=_.startsWith("/academy/"),E=/^\/academy\/[^/]+$/.test(_)&&_!=="/academy/dashboard"&&_!=="/academy/profile"&&_!=="/academy/settings"&&_!=="/academy/register",j=!S&&!b&&(_==="/dashboard"||_==="/home"||_.startsWith("/profile")||_.startsWith("/settings")||_.startsWith("/notifications")||_.startsWith("/jobs")||_.startsWith("/courses")||_.startsWith("/skill")||_.startsWith("/interests"));if(E||m==="academy"&&S&&!E||m==="academy"&&S||m==="user"&&j||_==="/dashboard"||_==="/home"||g.includes("/dashboard")||g.includes("/home"))return;if(S&&m!=="academy"&&!E){const k=Qa("/home",v);s(k,{replace:!0})}else if(m==="academy"&&(_==="/dashboard"||_==="/home"||j)){const k=Qa("/academy/dashboard",v);s(k,{replace:!0})}else if(m==="academy"&&!S&&!b){const k=Qa("/academy/dashboard",v);s(k,{replace:!0})}}},[t,n,s]);const c=async(g,v)=>{a(!0);try{const m=await Ce.post(mt.AUTH.LOGIN,{username:g,password:v}),y=m.data.access||m.data.token,x=m.data.refresh;if(!y)throw new Error("Login succeeded but did not return the required token (access or token field).");x?an.setTokens(y,x):localStorage.setItem("authToken",y);const w=typeof window<"u"?localStorage.getItem("authToken"):null;await new Promise(j=>setTimeout(j,100));let b=null;const _=nv(m.data);if(_&&_.email)b=_;else try{const j=await Ce.get(mt.AUTH.PROFILE);b=nv(j.data)}catch{}if(!b)throw new Error("Failed to fetch user profile.");const S=a$(y);if(S?b.id=S:!b.id&&b.email&&(b.id=b.email),!b.user_type){let j=!1;try{const k=await Ce.get(mt.ACADEMY.PROFILE);k.data&&k.status!==404&&(j=!0)}catch{}j?b.user_type="academy":b.user_type="user"}b.user_type&&localStorage.setItem("userRole",b.user_type),r(b),b!=null&&b.profile_image&&l.current(b.profile_image).catch(console.error);const E=bc(window.location.pathname)||localStorage.getItem("appLanguage")||"en";if(b.user_type==="academy"){const j=Qa("/academy/dashboard",E);s(j)}else{const j=Qa("/home",E);s(j)}}catch(m){throw console.error("Login failed:",m),m}finally{a(!1)}},u=async(g,v)=>{try{await Ce.post(mt.AUTH.REGISTER,{email:g,password:v}),s("/auth/email-verification")}catch(m){throw console.error("Registration failed:",m),m}},d=()=>{an.clearTokens(),r(null),s("/auth/login")},f=g=>{t&&r({...t,...g})},h=async()=>{try{const g=await Ce.get(mt.AUTH.PROFILE),v=nv(g.data);v&&r(v)}catch(g){console.error("Failed to refresh user:",g)}};return o.jsx(N8.Provider,{value:{user:t,loading:n,login:c,logout:d,register:u,updateUser:f,refreshUser:h},children:e})},br=()=>{const e=p.useContext(N8);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Dae={nav:{home:"Home",jobs:"Vacancies",courses:"Courses",webinars:"Webinars",profile:"Profile",settings:"Settings",help:"Help Center",notifications:"Notifications"},common:{loading:"Loading...",error:"Error",success:"Success",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",back:"Back",next:"Next",previous:"Previous",submit:"Submit",search:"Search",filter:"Filter",clear:"Clear",apply:"Apply",close:"Close",yes:"Yes",no:"No",ok:"OK",view:"View",more:"More",less:"Less"},auth:{login:"Login",signup:"Sign Up",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm Password",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",rememberMe:"Remember me",createAccount:"Create Account",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",firstName:"First Name",lastName:"Last Name",phone:"Phone",welcome:"Welcome",welcomeBack:"Welcome Back"},dashboard:{welcome:"Welcome",jobOffers:"Job Offers",courses:"Courses",skillTest:"Skill Test",skillPath:"Skill Path",interests:"Interests"},jobs:{title:"Vacancies",noJobs:"No jobs found",apply:"Apply",applied:"Applied",save:"Save",saved:"Saved",location:"Location",salary:"Salary",salaryRange:"Salary Range",minimum:"Minimum",maximum:"Maximum",byAgreement:"By Agreement",workType:"Work Type",country:"Country",interests:"Interests / Skills",type:"Type",posted:"Posted",deadline:"Deadline",description:"Description",requirements:"Requirements",benefits:"Benefits",company:"Company",fullTime:"Full Time",partTime:"Part Time",contract:"Contract",remote:"Remote",hybrid:"Hybrid",filter:"Filter Jobs",clearFilters:"Clear Filters",search:"Search",searchPlaceholder:"Search",filters:"Filters",vacancy:"vacancy",vacancies:"vacancies",dateDescending:"Date Descending",dateAscending:"Date Ascending",dateDescendingFull:"Date Descending",dateAscendingFull:"Date Ascending",tryAdjustingFilters:"Try adjusting your search terms or filters",showing:"Showing",of:"of",page:"Page",previous:"Previous",next:"Next",errorLoading:"Error loading jobs. Please try again."},courses:{title:"Courses",noCourses:"No courses found",enroll:"Enroll",enrolled:"Enrolled",save:"Save",saved:"Saved",duration:"Duration",level:"Level",instructor:"Instructor",academy:"Academy",description:"Description",curriculum:"Curriculum",reviews:"Reviews",price:"Price",free:"Free",filter:"Filter Courses",clearFilters:"Clear Filters"},profile:{title:"Profile",editProfile:"Edit Profile",personalInfo:"Personal Information",contactInfo:"Contact Information",skills:"Skills",experience:"Experience",education:"Education",bio:"Bio",saveChanges:"Save Changes"},settings:{title:"Settings",account:"Account",preferences:"Preferences",notifications:"Notifications",privacy:"Privacy",language:"Language",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode"},notifications:{title:"Notifications",noNotifications:"No notifications",markAsRead:"Mark as read",markAllAsRead:"Mark all as read",browserNotifications:"Browser Notifications",enableBrowserNotifications:"Enable Browser Notifications",browserNotificationsDescription:"Get notified when new jobs matching your skills are posted. You'll receive browser notifications even when you're not on the site.",notificationPermissionGranted:"Browser notifications are enabled",notificationPermissionDenied:"Browser notifications are blocked. Please enable them in your browser settings.",notificationPermissionDefault:"Click the button below to enable browser notifications for new job matches.",requestPermission:"Enable Notifications",checkingForJobs:"Checking for new jobs...",notificationsEnabled:"Notifications Enabled",notificationsDisabled:"Notifications Disabled"},subscription:{title:"Subscription",upgrade:"Upgrade to Breneo Pro",currentPlan:"Current Plan",features:"Features",subscribe:"Subscribe"},help:{title:"Help Center",faq:"FAQ",contact:"Contact Support"},terms:{title:"Terms of Use",lastUpdated:"Last updated"},skillTest:{title:"Skill Test",start:"Start Test",next:"Next",previous:"Previous",finish:"Finish",results:"Results"},skillPath:{title:"Your Personalized Skill Path"},home:{skillTestTitle:"Begin Your Skill Assessment Journey",skillTestSubtitle:"Take our skill test to unlock personalized recommendations.",skillPathTitle:"Explore your personalized career path",skillPathSubtitle:"Get personalized recommendations for your career."},errors:{somethingWentWrong:"Something went wrong",tryAgain:"Try again",notFound:"Not found",pageNotFound:"Page Not Found",pageNotFoundDescription:"The page you're looking for doesn't exist or has been moved."},webinars:{title:"Webinars",noWebinars:"No webinars found",upcoming:"Upcoming",past:"Past",register:"Register",registered:"Registered",comingsoon:"Coming Soon",comingsoondescription:"Were adding a brand new page to Breneo very soon! Stay tuned for fresh features and updates that will make your experience even better."},beta:{title:"Youre using the beta version",message:"Some features may be limited or change as we continue improving the platform. We appreciate your feedback. it helps us build a better experience."}},Fae={nav:{home:"",jobs:"",courses:"",webinars:"",profile:"",settings:"",help:" ",notifications:""},common:{loading:"...",error:"",success:"",save:"",cancel:"",delete:"",edit:"",back:"",next:"",previous:"",submit:"",search:"",filter:"",clear:"",apply:"",close:"",yes:"",no:"",ok:"",view:"",more:"",less:""},auth:{login:"",signup:"",logout:"",email:"",password:"",confirmPassword:" ",forgotPassword:" ?",resetPassword:" ",rememberMe:"",createAccount:" ",alreadyHaveAccount:"  ?",dontHaveAccount:"  ?",firstName:"",lastName:"",phone:"",welcome:"",welcomeBack:"   "},dashboard:{welcome:"",jobOffers:"",courses:"",skillTest:" ",skillPath:" ",interests:""},jobs:{title:"",noJobs:"  ",apply:"",applied:" ",save:"",saved:"",location:"",salary:"",salaryRange:" ",minimum:"",maximum:"",byAgreement:"",workType:" ",country:"",interests:" / ",type:"",posted:"",deadline:"",description:"",requirements:"",benefits:"",company:"",fullTime:" ",partTime:" ",contract:"",remote:"",hybrid:"",filter:" ",clearFilters:" ",search:"",searchPlaceholder:"",filters:"",vacancy:"",vacancies:"",dateDescending:" ",dateAscending:" ",dateDescendingFull:" ",dateAscendingFull:" ",tryAdjustingFilters:"     ",showing:"",of:"",page:"",previous:"",next:"",errorLoading:"  . ,  ."},courses:{title:"",noCourses:"  ",enroll:"",enrolled:"",save:"",saved:"",duration:"",level:"",instructor:"",academy:"",description:"",curriculum:" ",reviews:"",price:"",free:"",filter:" ",clearFilters:" "},profile:{title:"",editProfile:" ",personalInfo:" ",contactInfo:" ",skills:"",experience:"",education:"",bio:"",saveChanges:" "},settings:{title:"",account:"",preferences:"",notifications:"",privacy:"",language:"",theme:"",darkMode:" ",lightMode:" "},notifications:{title:"",noNotifications:"  ",markAsRead:" ",markAllAsRead:"  ",browserNotifications:" ",enableBrowserNotifications:"  ",browserNotificationsDescription:" ,    ,    .    ,  ,    .",notificationPermissionGranted:"  ",notificationPermissionDenied:"  . ,     .",notificationPermissionDefault:"   ,       .",requestPermission:" ",checkingForJobs:"  ...",notificationsEnabled:" ",notificationsDisabled:" "},subscription:{title:"",upgrade:"Breneo Pro- ",currentPlan:" ",features:"",subscribe:""},help:{title:" ",faq:"  ",contact:" "},terms:{title:" ",lastUpdated:" "},skillTest:{title:" ",start:" ",next:"",previous:"",finish:"",results:""},skillPath:{title:"   "},home:{skillTestTitle:"    ",skillTestSubtitle:"      .",skillPathTitle:"    ",skillPathSubtitle:"    ."},errors:{somethingWentWrong:"  ",tryAgain:" ",notFound:" ",pageNotFound:"  ",pageNotFoundDescription:",  ,    ."},webinars:{title:"",noWebinars:"  ",upcoming:"",past:"",register:"",registered:"",comingsoon:" ",comingsoondescription:"Breneo-    !     ,       ."},beta:{title:"   ",message:"      ,    .      ."}},C8=p.createContext(void 0),Bae={en:Dae,ka:Fae};function Uae({children:e}){const t=Va(),r=hr(),[n,a]=p.useState(()=>{if(typeof window<"u"){const u=bc(t.pathname);if(u)return u;const d=localStorage.getItem("appLanguage");if(d==="en"||d==="ka")return d}return"en"}),[s,i]=p.useState(!1);p.useEffect(()=>{i(!0)},[]),p.useEffect(()=>{if(!s||typeof window>"u")return;const u=bc(t.pathname);u&&u!==n&&(a(u),localStorage.setItem("appLanguage",u),document.documentElement.lang=u)},[t.pathname,s,n]);const l=u=>{if(a(u),typeof window<"u"){localStorage.setItem("appLanguage",u),document.documentElement.lang=u;const d=Yp(t.pathname),f=Oj(d,u);f!==t.pathname&&r(f,{replace:!0})}};p.useEffect(()=>{if(s&&typeof window<"u"){document.documentElement.lang=n;const u=setTimeout(()=>{if(!t.pathname.startsWith("/auth/")&&t.pathname!=="/auth"&&t.pathname!=="/"&&bc(t.pathname)!==n){const f=Yp(t.pathname),h=Oj(f,n);h!==t.pathname&&!t.pathname.includes("undefined")&&r(h,{replace:!0})}},100);return()=>clearTimeout(u)}},[n,s,t.pathname,r]);const c=p.useMemo(()=>Bae[n],[n]);return o.jsx(C8.Provider,{value:{language:n,setLanguage:l,t:c},children:e})}function Gs(){const e=p.useContext(C8);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}function po(){const{t:e}=Gs();return e}const P8=p.createContext(void 0),s$="breneo-font-size",i$={small:.875,medium:1,big:1.125};function zae({children:e}){const[t,r]=p.useState(()=>{const s=localStorage.getItem(s$)||"medium",i=i$[s];return typeof document<"u"&&document.documentElement.style.setProperty("--font-size-base",`${i}rem`),s});p.useEffect(()=>{const a=i$[t];document.documentElement.style.setProperty("--font-size-base",`${a}rem`),localStorage.setItem(s$,t)},[t]);const n=a=>{r(a)};return o.jsx(P8.Provider,{value:{fontSize:t,setFontSize:n},children:e})}function qae(){const e=p.useContext(P8);if(e===void 0)throw new Error("useFontSize must be used within a FontSizeProvider");return e}const Wae=an,Hae=()=>{try{const e=Wae.getAccessToken();if(!e)return null;const t=e.split(".");if(t.length!==3)return null;const r=JSON.parse(atob(t[1]));return r.user_type||r.role||null}catch(e){return console.error("Error extracting role from token:",e),null}},Vae=()=>{try{return localStorage.getItem("userRole")}catch(e){return console.error("Error getting role from storage:",e),null}},Kae=()=>{const e=Vae();if(e)return e;const t=Hae();return t||null};function wr({children:e,requiredRole:t,redirectTo:r="/auth/login"}){const{user:n,loading:a}=br(),s=bc(window.location.pathname)||localStorage.getItem("appLanguage")||"en",i=typeof window<"u"&&!!localStorage.getItem("authToken");if(a)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-breneo-lightgray dark:bg-[#181818]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading..."})]})});if(!n&&!i)return o.jsx(ny,{to:r,replace:!0});if(t){const l=(n==null?void 0:n.user_type)||localStorage.getItem("userRole")||Kae()||"user";if(l!==t)if(l==="academy"){const c=Qa("/academy/dashboard",s);return o.jsx(ny,{to:c,replace:!0})}else{const c=Qa("/home",s);return o.jsx(ny,{to:c,replace:!0})}}return o.jsx(o.Fragment,{children:e})}const o$=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,l$=qt,Xx=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return l$(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=o$(d)||o$(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(v=>{let[m,y]=v;return Array.isArray(y)?y.includes({...s,...l}[m]):{...s,...l}[m]===y})?[...u,f,h]:u},[]);return l$(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},ON=Xx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[14px] font-normal ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-60 dark:focus-visible:ring-primary/40 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90 active:bg-primary/80 dark:bg-primary dark:hover:bg-primary/90 dark:active:bg-primary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-transparent text-breneo-blue hover:bg-breneo-blue/10 dark:border-white/20 dark:text-breneo-blue-dark dark:hover:bg-breneo-blue-dark/10",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"text-breneo-blue hover:bg-breneo-blue/10 hover:text-breneo-blue dark:text-breneo-blue-dark dark:hover:bg-breneo-blue-dark/10 dark:hover:text-breneo-blue-dark",link:"text-breneo-blue underline-offset-4 hover:underline dark:text-breneo-blue-dark"},size:{default:"h-12 px-8 text-[15px] leading-[22px]",sm:"h-10 px-6 text-sm leading-[20px] [&_svg]:size-4",xs:"h-11 px-5 text-sm leading-[20px] [&_svg]:size-4",lg:"h-14 px-10 text-lg leading-[26px] [&_svg]:size-6",icon:"h-12 w-12 p-0 [&_svg]:size-5"}},defaultVariants:{variant:"default",size:"default"}}),re=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const i=n?wl:"button";return o.jsx(i,{className:de(ON({variant:t,size:r,className:e})),ref:s,...a})});re.displayName="Button";const ft=p.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ft.displayName="Input";var Gae="Label",A8=p.forwardRef((e,t)=>o.jsx(tt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));A8.displayName=Gae;var T8=A8;const Jae=Xx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=p.forwardRef(({className:e,...t},r)=>o.jsx(T8,{ref:r,className:de(Jae(),e),...t}));Fe.displayName=T8.displayName;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O8=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>p.createElement("svg",{ref:c,...Xae,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:O8("lucide",a),...l},[...i.map(([u,d])=>p.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(e,t)=>{const r=p.forwardRef(({className:n,...a},s)=>p.createElement(Qae,{ref:s,iconNode:t,className:O8(`lucide-${Yae(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=He("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=He("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=He("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=He("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=He("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=He("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=He("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=He("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=He("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=He("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=He("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=He("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=He("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=He("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=He("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=He("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=He("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=He("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=He("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=He("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=He("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=He("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=He("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=He("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=He("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=He("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=He("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=He("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=He("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=He("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=He("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=He("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=He("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=He("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=He("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=He("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=He("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=He("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=He("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=He("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=He("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=He("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=He("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=He("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=He("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=He("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=He("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=He("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=He("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=He("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=He("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=He("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=He("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=He("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=He("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=He("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=He("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=He("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=He("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=He("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=He("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=He("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=He("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=He("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=He("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=He("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=He("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=He("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=He("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=He("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=He("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=He("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ji(){const{theme:e,setTheme:t}=Pl(),[r,n]=p.useState(!1);if(p.useEffect(()=>{n(!0)},[]),!r)return o.jsx(re,{variant:"ghost",size:"icon",className:"h-10 w-10",children:o.jsx(a0,{size:22})});const a=e==="dark";return o.jsx(re,{variant:"ghost",size:"icon",className:"h-10 w-10",onClick:()=>t(a?"light":"dark"),children:a?o.jsx(MN,{size:22}):o.jsx(a0,{size:22})})}const h$=()=>{const e=hr(),{login:t,loading:r,user:n}=br(),[a,s]=p.useState(""),[i,l]=p.useState(""),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,g]=p.useState(!1),[v,m]=p.useState(!1),y=p.useCallback(b=>new Promise((_,S)=>{const E=new Image;E.onload=()=>_(),E.onerror=()=>S(new Error(`Failed to load image: ${b}`)),E.src=b}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([y("/lovable-uploads/breneo_logo.png"),y("/lovable-uploads/future.png")])}catch(_){console.warn("Some images failed to preload:",_),m(!0)}})()},[y]),p.useEffect(()=>{if(!r&&n){const b=n.user_type||localStorage.getItem("userRole")||"user",_=bc(window.location.pathname)||localStorage.getItem("appLanguage")||"en";if(b==="academy"){const S=Qa("/academy/dashboard",_);e(S,{replace:!0})}else{const S=Qa("/home",_);e(S,{replace:!0})}}},[n,r,e]),p.useEffect(()=>{document.title="Login | Breneo",(document.querySelector('meta[name="description"]')||(()=>{const S=document.createElement("meta");return S.setAttribute("name","description"),document.head.appendChild(S),S})()).setAttribute("content","Log in to your Breneo account."),(document.querySelector('link[rel="canonical"]')||(()=>{const S=document.createElement("link");return S.setAttribute("rel","canonical"),document.head.appendChild(S),S})()).setAttribute("href",`${window.location.origin}/auth/login`)},[]);const x=async b=>{b.preventDefault();let _=!1;try{const S=await Ce.post(mt.AUTH.ACADEMY_LOGIN,{email:a,password:i}),E=S.data.access||S.data.token,j=S.data.refresh;if(!E)throw new Error("Login succeeded but did not return the required token.");j?an.setTokens(E,j):localStorage.setItem("authToken",E),localStorage.setItem("userRole","academy"),window.location.href="/academy/dashboard";return}catch{console.log("Academy login failed, trying regular login..."),_=!0}if(_)try{await t(a,i)}catch(S){let E="Login failed. Please try again.",j=!1;if(zt.isAxiosError(S)&&S.response&&S.response.data){const k=S.response.data;let N="";if(typeof k.detail=="string"?N=k.detail:typeof k.message=="string"?N=k.message:typeof k.error=="string"?N=k.error:Array.isArray(k.non_field_errors)&&k.non_field_errors.length>0&&typeof k.non_field_errors[0]=="string"&&(N=k.non_field_errors[0]),N){E=N;const C=N.toLowerCase();(C.includes("email not verified")||C.includes("account not active")||C.includes("please verify your email")||C.includes("e-mail address not verified")||C.includes("user is inactive"))&&(j=!0)}else console.error("Unknown error format from server:",k)}j?(ue.info("Your account is not verified. Redirecting to verification..."),sessionStorage.setItem("tempEmail",a),sessionStorage.setItem("tempPassword",i),e("/auth/email-verification")):(ue.error(E),console.error("Login page caught error (see details below):",S instanceof Error?S.message:String(S)),zt.isAxiosError(S)&&S.response&&console.error("Server response data:",S.response.data))}},w=r;return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!d&&!v&&o.jsx("div",{className:"h-7 w-20 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(Kr,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-7 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{m(!0),f(!0)}}),v&&o.jsx("div",{className:"h-7 w-20 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-border rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-muted-foreground",children:"Breneo"})})]}),o.jsx(ji,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!d&&!v&&o.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(Kr,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-10 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{m(!0),f(!0)}}),v&&o.jsx("div",{className:"h-10 w-32 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-border rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-muted-foreground",children:"Breneo"})})]}),o.jsx(ji,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Sign In"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Welcome back to your Breneo account"}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"emailOrUsername",children:"Email or Username"}),o.jsx(ft,{id:"emailOrUsername",type:"text",placeholder:"Enter your email or username",className:"mt-1 h-12",value:a,onChange:b=>s(b.target.value),required:!0,disabled:w})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(ft,{id:"password",type:c?"text":"password",placeholder:"Enter your password",className:"pr-10 h-12",value:i,onChange:b=>l(b.target.value),required:!0,disabled:w}),o.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),disabled:w,children:c?o.jsx(Qp,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):o.jsx(jl,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]}),o.jsx("div",{className:"flex justify-end mt-2",children:o.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",onClick:()=>e("/auth/reset-password"),children:"Forgot Password?"})})]}),o.jsx(re,{type:"submit",className:"w-full h-14",disabled:w,children:w?"Signing In...":"Sign In"})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Don't have an account?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/signup"),children:"Sign Up"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-xl overflow-hidden",children:[!h&&!v&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(Kr,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${h?"opacity-100":"opacity-0"}`,style:{backgroundImage:h?"url('/lovable-uploads/future.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>g(!0),onError:()=>{m(!0),g(!0)}}),v&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(Kr,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})};function dp(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function p$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function F8(...e){return t=>{let r=!1;const n=e.map(a=>{const s=p$(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():p$(e[a],null)}}}}function tb(...e){return p.useCallback(F8(...e),e)}function kse(e,t){const r=p.createContext(t),n=s=>{const{children:i,...l}=s,c=p.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(s){const i=p.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function Ese(e,t=[]){let r=[];function n(s,i){const l=p.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:g,...v}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:y,children:g})};u.displayName=s+"Provider";function d(f,h){var m;const g=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,v=p.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Nse(a,...t)]}function Nse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var i0=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Cse=mf[" useId ".trim().toString()]||(()=>{}),Pse=0;function k1(e){const[t,r]=p.useState(Cse());return i0(()=>{e||r(n=>n??String(Pse++))},[e]),e||(t?`radix-${t}`:"")}var Ase=mf[" useInsertionEffect ".trim().toString()]||i0;function Tse({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,i]=Ose({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const h=$se(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else s(d)},[l,e,s,i]);return[c,u]}function Ose({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),a=p.useRef(r),s=p.useRef(t);return Ase(()=>{s.current=t},[t]),p.useEffect(()=>{var i;a.current!==r&&((i=s.current)==null||i.call(s,r),a.current=r)},[r,a]),[r,n,s]}function $se(e){return typeof e=="function"}function E1(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function m$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function B8(...e){return t=>{let r=!1;const n=e.map(a=>{const s=m$(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():m$(e[a],null)}}}}function U8(...e){return p.useCallback(B8(...e),e)}function Rse(e){const t=Ise(e),r=p.forwardRef((n,a)=>{const{children:s,...i}=n,l=p.Children.toArray(s),c=l.find(Lse);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function Ise(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const i=Fse(a),l=Dse(s,a.props);return a.type!==p.Fragment&&(l.ref=n?B8(n,i):i),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Mse=Symbol("radix.slottable");function Lse(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Mse}function Dse(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Fse(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Bse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],z8=Bse.reduce((e,t)=>{const r=Rse(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Use(e,t){e&&Kc.flushSync(()=>e.dispatchEvent(t))}function q8(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function zse(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function qse(e,t=globalThis==null?void 0:globalThis.document){const r=zse(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Wse="DismissableLayer",Dj="dismissableLayer.update",Hse="dismissableLayer.pointerDownOutside",Vse="dismissableLayer.focusOutside",g$,W8=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),H8=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(W8),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),v=U8(t,j=>f(j)),m=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(y),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=Jse(j=>{const k=j.target,N=[...u.branches].some(C=>C.contains(k));!_||N||(a==null||a(j),i==null||i(j),j.defaultPrevented||l==null||l())},h),E=Yse(j=>{const k=j.target;[...u.branches].some(C=>C.contains(k))||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},h);return qse(j=>{w===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(g$=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),v$(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=g$)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),v$())},[d,u]),p.useEffect(()=>{const j=()=>g({});return document.addEventListener(Dj,j),()=>document.removeEventListener(Dj,j)},[]),o.jsx(z8.div,{...c,ref:v,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:E1(e.onFocusCapture,E.onFocusCapture),onBlurCapture:E1(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:E1(e.onPointerDownCapture,S.onPointerDownCapture)})});H8.displayName=Wse;var Kse="DismissableLayerBranch",Gse=p.forwardRef((e,t)=>{const r=p.useContext(W8),n=p.useRef(null),a=U8(t,n);return p.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(z8.div,{...e,ref:a})});Gse.displayName=Kse;function Jse(e,t=globalThis==null?void 0:globalThis.document){const r=q8(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){V8(Hse,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Yse(e,t=globalThis==null?void 0:globalThis.document){const r=q8(e),n=p.useRef(!1);return p.useEffect(()=>{const a=s=>{s.target&&!n.current&&V8(Vse,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function v$(){const e=new CustomEvent(Dj);document.dispatchEvent(e)}function V8(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Use(a,s):a.dispatchEvent(s)}function y$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function K8(...e){return t=>{let r=!1;const n=e.map(a=>{const s=y$(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():y$(e[a],null)}}}}function Xse(...e){return p.useCallback(K8(...e),e)}function Qse(e){const t=Zse(e),r=p.forwardRef((n,a)=>{const{children:s,...i}=n,l=p.Children.toArray(s),c=l.find(tie);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function Zse(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const i=nie(a),l=rie(s,a.props);return a.type!==p.Fragment&&(l.ref=n?K8(n,i):i),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eie=Symbol("radix.slottable");function tie(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eie}function rie(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function nie(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var aie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sie=aie.reduce((e,t)=>{const r=Qse(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function x$(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var N1="focusScope.autoFocusOnMount",C1="focusScope.autoFocusOnUnmount",b$={bubbles:!1,cancelable:!0},iie="FocusScope",G8=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,c]=p.useState(null),u=x$(a),d=x$(s),f=p.useRef(null),h=Xse(t,m=>c(m)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(b){if(g.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Ao(f.current,{select:!0})},y=function(b){if(g.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Ao(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Ao(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),w.disconnect()}}},[n,l,g.paused]),p.useEffect(()=>{if(l){_$.add(g);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(N1,b$);l.addEventListener(N1,u),l.dispatchEvent(x),x.defaultPrevented||(oie(fie(J8(l)),{select:!0}),document.activeElement===m&&Ao(l))}return()=>{l.removeEventListener(N1,u),setTimeout(()=>{const x=new CustomEvent(C1,b$);l.addEventListener(C1,d),l.dispatchEvent(x),x.defaultPrevented||Ao(m??document.body,{select:!0}),l.removeEventListener(C1,d),_$.remove(g)},0)}}},[l,u,d,g]);const v=p.useCallback(m=>{if(!r&&!n||g.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(y&&x){const w=m.currentTarget,[b,_]=lie(w);b&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&Ao(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&Ao(_,{select:!0})):x===w&&m.preventDefault()}},[r,n,g.paused]);return o.jsx(sie.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});G8.displayName=iie;function oie(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ao(n,{select:t}),document.activeElement!==r)return}function lie(e){const t=J8(e),r=w$(t,e),n=w$(t.reverse(),e);return[r,n]}function J8(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function w$(e,t){for(const r of e)if(!cie(r,{upTo:t}))return r}function cie(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uie(e){return e instanceof HTMLInputElement&&"select"in e}function Ao(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&uie(e)&&t&&e.select()}}var _$=die();function die(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=S$(e,t),e.unshift(t)},remove(t){var r;e=S$(e,t),(r=e[0])==null||r.resume()}}}function S$(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function fie(e){return e.filter(t=>t.tagName!=="A")}function j$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function hie(...e){return t=>{let r=!1;const n=e.map(a=>{const s=j$(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():j$(e[a],null)}}}}function pie(e){const t=mie(e),r=p.forwardRef((n,a)=>{const{children:s,...i}=n,l=p.Children.toArray(s),c=l.find(vie);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function mie(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const i=xie(a),l=yie(s,a.props);return a.type!==p.Fragment&&(l.ref=n?hie(n,i):i),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gie=Symbol("radix.slottable");function vie(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gie}function yie(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function xie(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var bie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wie=bie.reduce((e,t)=>{const r=pie(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),_ie=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Sie="Portal",Y8=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=p.useState(!1);_ie(()=>s(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Jm.createPortal(o.jsx(wie.div,{...n,ref:t}),i):null});Y8.displayName=Sie;function jie(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var rb=e=>{const{present:t,children:r}=e,n=kie(t),a=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),s=tb(n.ref,Eie(a));return typeof r=="function"||n.isPresent?p.cloneElement(a,{ref:s}):null};rb.displayName="Presence";function kie(e){const[t,r]=p.useState(),n=p.useRef(null),a=p.useRef(e),s=p.useRef("none"),i=e?"mounted":"unmounted",[l,c]=jie(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=sv(n.current);s.current=l==="mounted"?u:"none"},[l]),i0(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,g=sv(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),i0(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const m=sv(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&m&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=g=>{g.target===t&&(s.current=sv(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function sv(e){return(e==null?void 0:e.animationName)||"none"}function Eie(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function X8(e){const t=Nie(e),r=p.forwardRef((n,a)=>{const{children:s,...i}=n,l=p.Children.toArray(s),c=l.find(Pie);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function Nie(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const i=Tie(a),l=Aie(s,a.props);return a.type!==p.Fragment&&(l.ref=n?F8(n,i):i),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Cie=Symbol("radix.slottable");function Pie(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Cie}function Aie(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Tie(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Oie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],og=Oie.reduce((e,t)=>{const r=X8(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),P1=0;function $ie(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??k$()),document.body.insertAdjacentElement("beforeend",e[1]??k$()),P1++,()=>{P1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),P1--}},[])}function k$(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ar=function(){return ar=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ar.apply(this,arguments)};function lg(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function nb(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var _c="right-scroll-bar-position",Sc="width-before-scroll-bar",Rie="with-scroll-bars-hidden",Iie="--removed-body-scroll-bar-size";function A1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Mie(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Lie=typeof window<"u"?p.useLayoutEffect:p.useEffect,E$=new WeakMap;function ab(e,t){var r=Mie(null,function(n){return e.forEach(function(a){return A1(a,n)})});return Lie(function(){var n=E$.get(r);if(n){var a=new Set(n),s=new Set(e),i=r.current;a.forEach(function(l){s.has(l)||A1(l,null)}),s.forEach(function(l){a.has(l)||A1(l,i)})}E$.set(r,e)},[e]),r}function Die(e){return e}function Fie(e,t){t===void 0&&(t=Die);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(s),i=r}var c=function(){var d=i;i=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return a}function sb(e){e===void 0&&(e={});var t=Fie(null);return t.options=ar({async:!0,ssr:!1},e),t}var Q8=function(e){var t=e.sideCar,r=lg(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,ar({},r))};Q8.isSideCarExport=!0;function ib(e,t){return e.useMedium(t),Q8}var Z8=sb(),T1=function(){},ob=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:T1,onWheelCapture:T1,onTouchMoveCapture:T1}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noRelative,v=e.noIsolation,m=e.inert,y=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,b=e.gapMode,_=lg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=ab([r,t]),j=ar(ar({},_),a);return p.createElement(p.Fragment,null,d&&p.createElement(S,{sideCar:Z8,removeScrollBar:u,shards:f,noRelative:g,noIsolation:v,inert:m,setCallbacks:s,allowPinchZoom:!!y,lockRef:r,gapMode:b}),i?p.cloneElement(p.Children.only(l),ar(ar({},j),{ref:E})):p.createElement(w,ar({},j,{className:c,ref:E}),l))});ob.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ob.classNames={fullWidth:Sc,zeroRight:_c};var Bie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Uie(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Bie();return t&&e.setAttribute("nonce",t),e}function zie(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function qie(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Wie=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Uie())&&(zie(t,r),qie(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Hie=function(){var e=Wie();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},cg=function(){var e=Hie(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Vie={left:0,top:0,right:0,gap:0},O1=function(e){return parseInt(e||"",10)||0},Kie=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[O1(r),O1(n),O1(a)]},Gie=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Vie;var t=Kie(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Jie=cg(),ad="data-scroll-locked",Yie=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Rie,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ad,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_c,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Sc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(_c," .").concat(_c,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Sc," .").concat(Sc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ad,`] {
    `).concat(Iie,": ").concat(l,`px;
  }
`)},N$=function(){var e=parseInt(document.body.getAttribute(ad)||"0",10);return isFinite(e)?e:0},Xie=function(){p.useEffect(function(){return document.body.setAttribute(ad,(N$()+1).toString()),function(){var e=N$()-1;e<=0?document.body.removeAttribute(ad):document.body.setAttribute(ad,e.toString())}},[])},lb=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Xie();var s=p.useMemo(function(){return Gie(a)},[a]);return p.createElement(Jie,{styles:Yie(s,!t,a,r?"":"!important")})},Fj=!1;if(typeof window<"u")try{var iv=Object.defineProperty({},"passive",{get:function(){return Fj=!0,!0}});window.addEventListener("test",iv,iv),window.removeEventListener("test",iv,iv)}catch{Fj=!1}var iu=Fj?{passive:!1}:!1,Qie=function(e){return e.tagName==="TEXTAREA"},eB=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Qie(e)&&r[t]==="visible")},Zie=function(e){return eB(e,"overflowY")},eoe=function(e){return eB(e,"overflowX")},C$=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=tB(e,n);if(a){var s=rB(e,n),i=s[1],l=s[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},toe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},roe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},tB=function(e,t){return e==="v"?Zie(t):eoe(t)},rB=function(e,t){return e==="v"?toe(t):roe(t)},noe=function(e,t){return e==="h"&&t==="rtl"?-1:1},aoe=function(e,t,r,n,a){var s=noe(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var g=rB(e,l),v=g[0],m=g[1],y=g[2],x=m-y-s*v;(v||x)&&tB(e,l)&&(f+=x,h+=v);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},ov=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},P$=function(e){return[e.deltaX,e.deltaY]},A$=function(e){return e&&"current"in e?e.current:e},soe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ioe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ooe=0,ou=[];function loe(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),a=p.useState(ooe++)[0],s=p.useState(cg)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=nb([e.lockRef.current],(e.shards||[]).map(A$),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var x=ov(m),w=r.current,b="deltaX"in m?m.deltaX:w[0]-x[0],_="deltaY"in m?m.deltaY:w[1]-x[1],S,E=m.target,j=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&j==="h"&&E.type==="range")return!1;var k=C$(j,E);if(!k)return!0;if(k?S=j:(S=j==="v"?"h":"v",k=C$(j,E)),!k)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return aoe(N,y,m,N==="h"?b:_,!0)},[]),c=p.useCallback(function(m){var y=m;if(!(!ou.length||ou[ou.length-1]!==s)){var x="deltaY"in y?P$(y):ov(y),w=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&soe(S.delta,x)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(i.current.shards||[]).map(A$).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=b.length>0?l(y,b[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=p.useCallback(function(m,y,x,w){var b={name:m,delta:y,target:x,should:w,shadowParent:coe(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=p.useCallback(function(m){r.current=ov(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,P$(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,ov(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return ou.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,iu),document.addEventListener("touchmove",c,iu),document.addEventListener("touchstart",d,iu),function(){ou=ou.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,iu),document.removeEventListener("touchmove",c,iu),document.removeEventListener("touchstart",d,iu)}},[]);var g=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(s,{styles:ioe(a)}):null,g?p.createElement(lb,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function coe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uoe=ib(Z8,loe);var nB=p.forwardRef(function(e,t){return p.createElement(ob,ar({},e,{ref:t,sideCar:uoe}))});nB.classNames=ob.classNames;var doe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},lu=new WeakMap,lv=new WeakMap,cv={},$1=0,aB=function(e){return e&&(e.host||aB(e.parentNode))},foe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=aB(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},hoe=function(e,t,r,n){var a=foe(t,Array.isArray(e)?e:[e]);cv[r]||(cv[r]=new WeakMap);var s=cv[r],i=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var g=h.getAttribute(n),v=g!==null&&g!=="false",m=(lu.get(h)||0)+1,y=(s.get(h)||0)+1;lu.set(h,m),s.set(h,y),i.push(h),m===1&&v&&lv.set(h,!0),y===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),$1++,function(){i.forEach(function(f){var h=lu.get(f)-1,g=s.get(f)-1;lu.set(f,h),s.set(f,g),h||(lv.has(f)||f.removeAttribute(n),lv.delete(f)),g||f.removeAttribute(r)}),$1--,$1||(lu=new WeakMap,lu=new WeakMap,lv=new WeakMap,cv={})}},cb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=doe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),hoe(n,a,r,"aria-hidden")):function(){return null}},ub="Dialog",[sB,dFe]=Ese(ub),[poe,Js]=sB(ub),iB=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=Tse({prop:n,defaultProp:a??!1,onChange:s,caller:ub});return o.jsx(poe,{scope:t,triggerRef:l,contentRef:c,contentId:k1(),titleId:k1(),descriptionId:k1(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};iB.displayName=ub;var oB="DialogTrigger",lB=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Js(oB,r),s=tb(t,a.triggerRef);return o.jsx(og.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":BN(a.open),...n,ref:s,onClick:dp(e.onClick,a.onOpenToggle)})});lB.displayName=oB;var DN="DialogPortal",[moe,cB]=sB(DN,{forceMount:void 0}),uB=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Js(DN,t);return o.jsx(moe,{scope:t,forceMount:r,children:p.Children.map(n,i=>o.jsx(rb,{present:r||s.open,children:o.jsx(Y8,{asChild:!0,container:a,children:i})}))})};uB.displayName=DN;var o0="DialogOverlay",dB=p.forwardRef((e,t)=>{const r=cB(o0,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Js(o0,e.__scopeDialog);return s.modal?o.jsx(rb,{present:n||s.open,children:o.jsx(voe,{...a,ref:t})}):null});dB.displayName=o0;var goe=X8("DialogOverlay.RemoveScroll"),voe=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Js(o0,r);return o.jsx(nB,{as:goe,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(og.div,{"data-state":BN(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Dc="DialogContent",fB=p.forwardRef((e,t)=>{const r=cB(Dc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Js(Dc,e.__scopeDialog);return o.jsx(rb,{present:n||s.open,children:s.modal?o.jsx(yoe,{...a,ref:t}):o.jsx(xoe,{...a,ref:t})})});fB.displayName=Dc;var yoe=p.forwardRef((e,t)=>{const r=Js(Dc,e.__scopeDialog),n=p.useRef(null),a=tb(t,r.contentRef,n);return p.useEffect(()=>{const s=n.current;if(s)return cb(s)},[]),o.jsx(hB,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dp(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:dp(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:dp(e.onFocusOutside,s=>s.preventDefault())})}),xoe=p.forwardRef((e,t)=>{const r=Js(Dc,e.__scopeDialog),n=p.useRef(!1),a=p.useRef(!1);return o.jsx(hB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),hB=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,l=Js(Dc,r),c=p.useRef(null),u=tb(t,c);return $ie(),o.jsxs(o.Fragment,{children:[o.jsx(G8,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(H8,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":BN(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(boe,{titleId:l.titleId}),o.jsx(_oe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),FN="DialogTitle",pB=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Js(FN,r);return o.jsx(og.h2,{id:a.titleId,...n,ref:t})});pB.displayName=FN;var mB="DialogDescription",gB=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Js(mB,r);return o.jsx(og.p,{id:a.descriptionId,...n,ref:t})});gB.displayName=mB;var vB="DialogClose",yB=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Js(vB,r);return o.jsx(og.button,{type:"button",...n,ref:t,onClick:dp(e.onClick,()=>a.onOpenChange(!1))})});yB.displayName=vB;function BN(e){return e?"open":"closed"}var xB="DialogTitleWarning",[fFe,bB]=kse(xB,{contentName:Dc,titleName:FN,docsSlug:"dialog"}),boe=({titleId:e})=>{const t=bB(xB),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},woe="DialogDescriptionWarning",_oe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bB(woe).contentName}}.`;return p.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},wB=iB,_B=lB,SB=uB,UN=dB,zN=fB,qN=pB,WN=gB,jB=yB;const kn=wB,Soe=_B,joe=SB,kB=p.forwardRef(({className:e,...t},r)=>o.jsx(UN,{ref:r,className:de("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));kB.displayName=UN.displayName;const mn=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(joe,{children:[o.jsx(kB,{}),o.jsxs(zN,{ref:n,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background/90 backdrop-blur-md p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-[36px]",e),...r,children:[t,o.jsxs(jB,{className:"absolute right-6 top-6 rounded-full bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 h-7 w-7 flex items-center justify-center shrink-0 transition-colors p-0",children:[o.jsx(rn,{className:"h-3.5 w-3.5"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mn.displayName=zN.displayName;const gn=({className:e,...t})=>o.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});gn.displayName="DialogHeader";const Bn=({className:e,...t})=>o.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Bn.displayName="DialogFooter";const vn=p.forwardRef(({className:e,...t},r)=>o.jsx(qN,{ref:r,className:de("text-lg font-semibold leading-none tracking-tight",e),...t}));vn.displayName=qN.displayName;const jc=p.forwardRef(({className:e,...t},r)=>o.jsx(WN,{ref:r,className:de("text-sm text-muted-foreground",e),...t}));jc.displayName=WN.displayName;function koe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const EB=R.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Pf=()=>{const e=R.useContext(EB);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};koe(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const Eoe=24,Noe=typeof window<"u"?p.useLayoutEffect:p.useEffect;function T$(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function Coe(){return HN(/^Mac/)}function Poe(){return HN(/^iPhone/)}function O$(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Aoe(){return HN(/^iPad/)||Coe()&&navigator.maxTouchPoints>1}function NB(){return Poe()||Aoe()}function HN(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const R1=typeof document<"u"&&window.visualViewport;function $$(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function CB(e){for($$(e)&&(e=e.parentElement);e&&!$$(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Toe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let uv=0,I1;function Ooe(e={}){let{isDisabled:t}=e;Noe(()=>{if(!t)return uv++,uv===1&&NB()&&(I1=$oe()),()=>{uv--,uv===0&&(I1==null||I1())}},[t])}function $oe(){let e,t=0,r=f=>{e=CB(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},n=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,g=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((g<=0&&h>t||g>=v&&h<t)&&f.preventDefault(),t=h)},a=f=>{let h=f.target;Bj(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},s=f=>{let h=f.target;Bj(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",R1&&(R1.height<window.innerHeight?requestAnimationFrame(()=>{R$(h)}):R1.addEventListener("resize",()=>R$(h),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=T$(Roe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=T$(vh(document,"touchstart",r,{passive:!1,capture:!0}),vh(document,"touchmove",n,{passive:!1,capture:!0}),vh(document,"touchend",a,{passive:!1,capture:!0}),vh(document,"focus",s,!0),vh(window,"scroll",i));return()=>{u(),d(),window.scrollTo(l,c)}}function Roe(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function vh(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function R$(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=CB(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,a=e.getBoundingClientRect().top,s=e.getBoundingClientRect().bottom;const i=r.getBoundingClientRect().bottom+Eoe;s>i&&(r.scrollTop+=a-n)}e=r.parentElement}}function Bj(e){return e instanceof HTMLInputElement&&!Toe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Ioe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Moe(...e){return t=>e.forEach(r=>Ioe(r,t))}function PB(...e){return p.useCallback(Moe(...e),e)}const AB=new WeakMap;function Zr(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([a,s])=>{if(a.startsWith("--")){e.style.setProperty(a,s);return}n[a]=e.style[a],e.style[a]=s}),!r&&AB.set(e,n)}function Loe(e,t){if(!e||!(e instanceof HTMLElement))return;let r=AB.get(e);r&&(e.style[t]=r[t])}const en=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function dv(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let a=n.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[en(t)?13:12]):(a=n.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[en(t)?5:4]):null)}function Doe(e){return 8*(Math.log(e+1)-2)}function M1(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function Foe(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const Nr={DURATION:.5,EASE:[.32,.72,0,1]},TB=.4,Boe=.25,Uoe=100,OB=8,zl=16,Uj=26,L1="vaul-dragging";function $B(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e}),R.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function zoe({defaultProp:e,onChange:t}){const r=R.useState(e),[n]=r,a=R.useRef(n),s=$B(t);return R.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}function RB({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=zoe({defaultProp:t,onChange:r}),s=e!==void 0,i=s?e:n,l=$B(r),c=R.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[s,e,a,l]);return[i,c]}function qoe({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:a,fadeFromIndex:s,onSnapPointChange:i,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=RB({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[h,g]=R.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);R.useEffect(()=>{function j(){g({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const v=R.useMemo(()=>d===(r==null?void 0:r[r.length-1])||null,[r,d]),m=R.useMemo(()=>r==null?void 0:r.findIndex(j=>j===d),[r,d]),y=r&&r.length>0&&(s||s===0)&&!Number.isNaN(s)&&r[s]===d||!r,x=R.useMemo(()=>{const j=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var k;return(k=r==null?void 0:r.map(N=>{const C=typeof N=="string";let A=0;if(C&&(A=parseInt(N,10)),en(l)){const B=C?A:h?N*j.height:0;return h?l==="bottom"?j.height-B:-j.height+B:B}const I=C?A:h?N*j.width:0;return h?l==="right"?j.width-I:-j.width+I:I}))!=null?k:[]},[r,h,c]),w=R.useMemo(()=>m!==null?x==null?void 0:x[m]:null,[x,m]),b=R.useCallback(j=>{var k;const N=(k=x==null?void 0:x.findIndex(C=>C===j))!=null?k:null;i(N),Zr(n.current,{transition:`transform ${Nr.DURATION}s cubic-bezier(${Nr.EASE.join(",")})`,transform:en(l)?`translate3d(0, ${j}px, 0)`:`translate3d(${j}px, 0, 0)`}),x&&N!==x.length-1&&N!==s&&N<s?Zr(a.current,{transition:`opacity ${Nr.DURATION}s cubic-bezier(${Nr.EASE.join(",")})`,opacity:"0"}):Zr(a.current,{transition:`opacity ${Nr.DURATION}s cubic-bezier(${Nr.EASE.join(",")})`,opacity:"1"}),f(r==null?void 0:r[Math.max(N,0)])},[n.current,r,x,s,a,f]);R.useEffect(()=>{if(d||e){var j;const k=(j=r==null?void 0:r.findIndex(N=>N===e||N===d))!=null?j:-1;x&&k!==-1&&typeof x[k]=="number"&&b(x[k])}},[d,e,r,x,b]);function _({draggedDistance:j,closeDrawer:k,velocity:N,dismissible:C}){if(s===void 0)return;const A=l==="bottom"||l==="right"?(w??0)-j:(w??0)+j,I=m===s-1,B=m===0,z=j>0;if(I&&Zr(a.current,{transition:`opacity ${Nr.DURATION}s cubic-bezier(${Nr.EASE.join(",")})`}),!u&&N>2&&!z){C?k():b(x[0]);return}if(!u&&N>2&&z&&x&&r){b(x[r.length-1]);return}const M=x==null?void 0:x.reduce((F,O)=>typeof F!="number"||typeof O!="number"?F:Math.abs(O-A)<Math.abs(F-A)?O:F),$=en(l)?window.innerHeight:window.innerWidth;if(N>TB&&Math.abs(j)<$*.4){const F=z?1:-1;if(F>0&&v){b(x[r.length-1]);return}if(B&&F<0&&C&&k(),m===null)return;b(x[m+F]);return}b(M)}function S({draggedDistance:j}){if(w===null)return;const k=l==="bottom"||l==="right"?w-j:w+j;(l==="bottom"||l==="right")&&k<x[x.length-1]||(l==="top"||l==="left")&&k>x[x.length-1]||Zr(n.current,{transform:en(l)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`})}function E(j,k){if(!r||typeof m!="number"||!x||s===void 0)return null;const N=m===s-1;if(m>=s&&k)return 0;if(N&&!k)return 1;if(!y&&!N)return null;const A=N?m+1:m-1,I=N?x[A]-x[A-1]:x[A+1]-x[A],B=j/Math.abs(I);return N?1-B:B}return{isLastSnapPoint:v,activeSnapPoint:d,shouldFade:y,getPercentageDragged:E,setActiveSnapPoint:f,activeSnapPointIndex:m,onRelease:_,onDrag:S,snapPointsOffset:x}}const Woe=()=>()=>{};function Hoe(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:a}=Pf(),s=R.useRef(null),i=p.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Uj)/window.innerWidth}R.useEffect(()=>{if(t&&r){s.current&&clearTimeout(s.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;Foe(n&&!a?M1(document.body,{background:"black"}):Woe,M1(c,{transformOrigin:en(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Nr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Nr.EASE.join(",")})`}));const u=M1(c,{borderRadius:`${OB}px`,overflow:"hidden",...en(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),s.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},Nr.DURATION*1e3)}}},[t,r,i])}let yh=null;function Voe({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:a,noBodyStyles:s}){const[i,l]=R.useState(()=>typeof window<"u"?window.location.href:""),c=R.useRef(0),u=R.useCallback(()=>{if(O$()&&yh===null&&e&&!s){yh={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const g=h-window.innerHeight;g&&c.current>=h&&(document.body.style.top=`${-(c.current+g)}px`)}),300)}},[e]),d=R.useCallback(()=>{if(O$()&&yh!==null&&!s){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,yh),window.requestAnimationFrame(()=>{if(a&&i!==window.location.href){l(window.location.href);return}window.scrollTo(h,f)}),yh=null}},[i]);return R.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),R.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,n,i,t,r,u,d]),{restorePositionSetting:d}}function IB({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:a,snapPoints:s,shouldScaleBackground:i=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=Boe,scrollLockTimeout:u=Uoe,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:h=s&&s.length-1,activeSnapPoint:g,setActiveSnapPoint:v,fixed:m,modal:y=!0,onClose:x,nested:w,noBodyStyles:b,direction:_="bottom",defaultOpen:S=!1,disablePreventScroll:E=!0,snapToSequentialPoint:j=!1,preventScrollRestoration:k=!1,repositionInputs:N=!0,onAnimationEnd:C,container:A,autoFocus:I=!1}){var B,z;const[M=!1,$]=RB({defaultProp:S,prop:e,onChange:ve=>{t==null||t(ve),!ve&&!w&&Ze(),setTimeout(()=>{C==null||C(ve)},Nr.DURATION*1e3),ve&&!y&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ve||(document.body.style.pointerEvents="auto")}}),[F,O]=R.useState(!1),[L,Q]=R.useState(!1),[T,D]=R.useState(!1),Y=R.useRef(null),q=R.useRef(null),ie=R.useRef(null),le=R.useRef(null),K=R.useRef(null),Z=R.useRef(!1),H=R.useRef(null),X=R.useRef(0),ce=R.useRef(!1),J=R.useRef(0),oe=R.useRef(null),ne=R.useRef(((B=oe.current)==null?void 0:B.getBoundingClientRect().height)||0),he=R.useRef(((z=oe.current)==null?void 0:z.getBoundingClientRect().width)||0),fe=R.useRef(0),_e=R.useCallback(ve=>{s&&ve===pe.length-1&&(q.current=new Date)},[]),{activeSnapPoint:W,activeSnapPointIndex:te,setActiveSnapPoint:je,onRelease:me,snapPointsOffset:pe,onDrag:Re,shouldFade:ze,getPercentageDragged:ot}=qoe({snapPoints:s,activeSnapPointProp:g,setActiveSnapPointProp:v,drawerRef:oe,fadeFromIndex:h,overlayRef:Y,onSnapPointChange:_e,direction:_,container:A,snapToSequentialPoint:j});Ooe({isDisabled:!M||L||!y||T||!F||!N||!E});const{restorePositionSetting:Ze}=Voe({isOpen:M,modal:y,nested:w,hasBeenOpened:F,preventScrollRestoration:k,noBodyStyles:b});function Ke(){return(window.innerWidth-Uj)/window.innerWidth}function Me(ve){var Ae,P;!d&&!s||oe.current&&!oe.current.contains(ve.target)||(ne.current=((Ae=oe.current)==null?void 0:Ae.getBoundingClientRect().height)||0,he.current=((P=oe.current)==null?void 0:P.getBoundingClientRect().width)||0,Q(!0),ie.current=new Date,NB()&&window.addEventListener("touchend",()=>Z.current=!1,{once:!0}),ve.target.setPointerCapture(ve.pointerId),X.current=en(_)?ve.pageY:ve.pageX)}function G(ve,Ae){var P,U;let be=ve;const Ge=(P=window.getSelection())==null?void 0:P.toString(),xt=oe.current?dv(oe.current,_):null,we=new Date;if(be.hasAttribute("data-vaul-no-drag")||be.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(q.current&&we.getTime()-q.current.getTime()<500)return!1;if(xt!==null&&(_==="bottom"?xt>0:xt<0))return!0;if(Ge&&Ge.length>0)return!1;if(we.getTime()-((U=K.current)==null?void 0:U.getTime())<u&&xt===0||Ae)return K.current=we,!1;for(;be;){if(be.scrollHeight>be.clientHeight){if(be.scrollTop!==0)return K.current=new Date,!1;if(be.getAttribute("role")==="dialog")return!0}be=be.parentNode}return!0}function V(ve){if(oe.current&&L){const Ae=_==="bottom"||_==="right"?1:-1,P=(X.current-(en(_)?ve.pageY:ve.pageX))*Ae,U=P>0,be=s&&!d&&!U;if(be&&te===0)return;const Ge=Math.abs(P),xt=document.querySelector("[data-vaul-drawer-wrapper]"),we=_==="bottom"||_==="top"?ne.current:he.current;let Ve=Ge/we;const jt=ot(Ge,U);if(jt!==null&&(Ve=jt),be&&Ve>=1||!Z.current&&!G(ve.target,U))return;if(oe.current.classList.add(L1),Z.current=!0,Zr(oe.current,{transition:"none"}),Zr(Y.current,{transition:"none"}),s&&Re({draggedDistance:P}),U&&!s){const Tt=Doe(P),Te=Math.min(Tt*-1,0)*Ae;Zr(oe.current,{transform:en(_)?`translate3d(0, ${Te}px, 0)`:`translate3d(${Te}px, 0, 0)`});return}const wt=1-Ve;if((ze||h&&te===h-1)&&(n==null||n(ve,Ve),Zr(Y.current,{opacity:`${wt}`,transition:"none"},!0)),xt&&Y.current&&i){const Tt=Math.min(Ke()+Ve*(1-Ke()),1),Te=8-Ve*8,Ft=Math.max(0,14-Ve*14);Zr(xt,{borderRadius:`${Te}px`,transform:en(_)?`scale(${Tt}) translate3d(0, ${Ft}px, 0)`:`scale(${Tt}) translate3d(${Ft}px, 0, 0)`,transition:"none"},!0)}if(!s){const Tt=Ge*Ae;Zr(oe.current,{transform:en(_)?`translate3d(0, ${Tt}px, 0)`:`translate3d(${Tt}px, 0, 0)`})}}}R.useEffect(()=>{var ve;function Ae(){if(!oe.current||!N)return;const P=document.activeElement;if(Bj(P)||ce.current){var U;const be=((U=window.visualViewport)==null?void 0:U.height)||0,Ge=window.innerHeight;let xt=Ge-be;const we=oe.current.getBoundingClientRect().height||0,Ve=we>Ge*.8;fe.current||(fe.current=we);const jt=oe.current.getBoundingClientRect().top;if(Math.abs(J.current-xt)>60&&(ce.current=!ce.current),s&&s.length>0&&pe&&te){const wt=pe[te]||0;xt+=wt}if(J.current=xt,we>be||ce.current){const wt=oe.current.getBoundingClientRect().height;let Tt=wt;wt>be&&(Tt=be-(Ve?jt:Uj)),m?oe.current.style.height=`${wt-Math.max(xt,0)}px`:oe.current.style.height=`${Math.max(Tt,be-jt)}px`}else oe.current.style.height=`${fe.current}px`;s&&s.length>0&&!ce.current?oe.current.style.bottom="0px":oe.current.style.bottom=`${Math.max(xt,0)}px`}}return(ve=window.visualViewport)==null||ve.addEventListener("resize",Ae),()=>{var P;return(P=window.visualViewport)==null?void 0:P.removeEventListener("resize",Ae)}},[te,s,pe]);function se(ve){Be(),x==null||x(),ve||$(!1),setTimeout(()=>{s&&je(s[0])},Nr.DURATION*1e3)}function ke(){if(!oe.current)return;const ve=document.querySelector("[data-vaul-drawer-wrapper]"),Ae=dv(oe.current,_);Zr(oe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Nr.DURATION}s cubic-bezier(${Nr.EASE.join(",")})`}),Zr(Y.current,{transition:`opacity ${Nr.DURATION}s cubic-bezier(${Nr.EASE.join(",")})`,opacity:"1"}),i&&Ae&&Ae>0&&M&&Zr(ve,{borderRadius:`${OB}px`,overflow:"hidden",...en(_)?{transform:`scale(${Ke()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ke()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Nr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Nr.EASE.join(",")})`},!0)}function Be(){!L||!oe.current||(oe.current.classList.remove(L1),Z.current=!1,Q(!1),le.current=new Date)}function it(ve){if(!L||!oe.current)return;oe.current.classList.remove(L1),Z.current=!1,Q(!1),le.current=new Date;const Ae=dv(oe.current,_);if(!G(ve.target,!1)||!Ae||Number.isNaN(Ae)||ie.current===null)return;const P=le.current.getTime()-ie.current.getTime(),U=X.current-(en(_)?ve.pageY:ve.pageX),be=Math.abs(U)/P;if(be>.05&&(D(!0),setTimeout(()=>{D(!1)},200)),s){me({draggedDistance:U*(_==="bottom"||_==="right"?1:-1),closeDrawer:se,velocity:be,dismissible:d}),a==null||a(ve,!0);return}if(_==="bottom"||_==="right"?U>0:U<0){ke(),a==null||a(ve,!0);return}if(be>TB){se(),a==null||a(ve,!1);return}var Ge;const xt=Math.min((Ge=oe.current.getBoundingClientRect().height)!=null?Ge:0,window.innerHeight);var we;const Ve=Math.min((we=oe.current.getBoundingClientRect().width)!=null?we:0,window.innerWidth),jt=_==="left"||_==="right";if(Math.abs(Ae)>=(jt?Ve:xt)*c){se(),a==null||a(ve,!1);return}a==null||a(ve,!0),ke()}R.useEffect(()=>(M&&(Zr(document.documentElement,{scrollBehavior:"auto"}),q.current=new Date),()=>{Loe(document.documentElement,"scrollBehavior")}),[M]);function ut(ve){const Ae=ve?(window.innerWidth-zl)/window.innerWidth:1,P=ve?-zl:0;H.current&&window.clearTimeout(H.current),Zr(oe.current,{transition:`transform ${Nr.DURATION}s cubic-bezier(${Nr.EASE.join(",")})`,transform:`scale(${Ae}) translate3d(0, ${P}px, 0)`}),!ve&&oe.current&&(H.current=setTimeout(()=>{const U=dv(oe.current,_);Zr(oe.current,{transition:"none",transform:en(_)?`translate3d(0, ${U}px, 0)`:`translate3d(${U}px, 0, 0)`})},500))}function Ie(ve,Ae){if(Ae<0)return;const P=(window.innerWidth-zl)/window.innerWidth,U=P+Ae*(1-P),be=-zl+Ae*zl;Zr(oe.current,{transform:en(_)?`scale(${U}) translate3d(0, ${be}px, 0)`:`scale(${U}) translate3d(${be}px, 0, 0)`,transition:"none"})}function lt(ve,Ae){const P=en(_)?window.innerHeight:window.innerWidth,U=Ae?(P-zl)/P:1,be=Ae?-zl:0;Ae&&Zr(oe.current,{transition:`transform ${Nr.DURATION}s cubic-bezier(${Nr.EASE.join(",")})`,transform:en(_)?`scale(${U}) translate3d(0, ${be}px, 0)`:`scale(${U}) translate3d(${be}px, 0, 0)`})}return R.createElement(wB,{defaultOpen:S,onOpenChange:ve=>{!d&&!ve||(ve?O(!0):se(!0),$(ve))},open:M},R.createElement(EB.Provider,{value:{activeSnapPoint:W,snapPoints:s,setActiveSnapPoint:je,drawerRef:oe,overlayRef:Y,onOpenChange:t,onPress:Me,onRelease:it,onDrag:V,dismissible:d,handleOnly:f,isOpen:M,isDragging:L,shouldFade:ze,closeDrawer:se,onNestedDrag:Ie,onNestedOpenChange:ut,onNestedRelease:lt,keyboardIsOpen:ce,modal:y,snapPointsOffset:pe,direction:_,shouldScaleBackground:i,setBackgroundColorOnScale:l,noBodyStyles:b,container:A,autoFocus:I}},r))}const MB=R.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:a,shouldFade:s,isOpen:i,modal:l}=Pf(),c=PB(t,r),u=n&&n.length>0;return l?R.createElement(UN,{onMouseUp:a,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":i&&u?"true":"false","data-vaul-snap-points-overlay":i&&s?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});MB.displayName="Drawer.Overlay";const LB=R.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},a){const{drawerRef:s,onPress:i,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,modal:f,isOpen:h,direction:g,snapPoints:v,container:m,handleOnly:y,autoFocus:x}=Pf(),[w,b]=R.useState(!1),_=PB(a,s),S=R.useRef(null),E=R.useRef(null),j=R.useRef(!1),k=v&&v.length>0;Hoe();const N=(A,I,B=0)=>{if(j.current)return!0;const z=Math.abs(A.y),M=Math.abs(A.x),$=M>z,F=["bottom","right"].includes(I)?1:-1;if(I==="left"||I==="right"){if(!(A.x*F<0)&&M>=0&&M<=B)return $}else if(!(A.y*F<0)&&z>=0&&z<=B)return!$;return j.current=!0,!0};R.useEffect(()=>{k&&window.requestAnimationFrame(()=>{b(!0)})},[]);function C(A){S.current=null,j.current=!1,l(A)}return R.createElement(zN,{"data-vaul-drawer-direction":g,"data-vaul-drawer":"","data-vaul-delayed-snap-points":w?"true":"false","data-vaul-snap-points":h&&k?"true":"false","data-vaul-custom-container":m?"true":"false",...n,ref:_,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...t}:t,onPointerDown:A=>{y||(n.onPointerDown==null||n.onPointerDown.call(n,A),S.current={x:A.pageX,y:A.pageY},i(A))},onOpenAutoFocus:A=>{r==null||r(A),x||A.preventDefault()},onPointerDownOutside:A=>{if(e==null||e(A),!f||A.defaultPrevented){A.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:A=>{if(!f){A.preventDefault();return}},onPointerMove:A=>{if(E.current=A,y||(n.onPointerMove==null||n.onPointerMove.call(n,A),!S.current))return;const I=A.pageY-S.current.y,B=A.pageX-S.current.x,z=A.pointerType==="touch"?10:2;N({x:B,y:I},g,z)?c(A):(Math.abs(B)>z||Math.abs(I)>z)&&(S.current=null)},onPointerUp:A=>{n.onPointerUp==null||n.onPointerUp.call(n,A),S.current=null,j.current=!1,l(A)},onPointerOut:A=>{n.onPointerOut==null||n.onPointerOut.call(n,A),C(E.current)},onContextMenu:A=>{n.onContextMenu==null||n.onContextMenu.call(n,A),C(E.current)}})});LB.displayName="Drawer.Content";const Koe=250,Goe=120,DB=R.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:a,isDragging:s,snapPoints:i,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:h,onDrag:g}=Pf(),v=R.useRef(null),m=R.useRef(!1);function y(){if(m.current){b();return}window.setTimeout(()=>{x()},Goe)}function x(){if(s||e||m.current){b();return}if(b(),(!i||i.length===0)&&u){a();return}if(l===i[i.length-1]&&u){a();return}const S=i.findIndex(j=>j===l);if(S===-1)return;const E=i[S+1];c(E)}function w(){v.current=window.setTimeout(()=>{m.current=!0},Koe)}function b(){window.clearTimeout(v.current),m.current=!1}return R.createElement("div",{onClick:y,onPointerCancel:b,onPointerDown:_=>{d&&h(_),w()},onPointerMove:_=>{d&&g(_)},ref:n,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},R.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});DB.displayName="Drawer.Handle";function Joe({onDrag:e,onOpenChange:t,...r}){const{onNestedDrag:n,onNestedOpenChange:a,onNestedRelease:s}=Pf();if(!n)throw new Error("Drawer.NestedRoot must be placed in another drawer");return R.createElement(IB,{nested:!0,onClose:()=>{a(!1)},onDrag:(i,l)=>{n(i,l),e==null||e(i,l)},onOpenChange:i=>{i&&a(i)},onRelease:s,...r})}function Yoe(e){const t=Pf(),{container:r=t.container,...n}=e;return R.createElement(SB,{container:r,...n})}const Ys={Root:IB,NestedRoot:Joe,Content:LB,Overlay:MB,Trigger:_B,Portal:Yoe,Handle:DB,Close:jB,Title:qN,Description:WN},Un=({shouldScaleBackground:e=!0,...t})=>o.jsx(Ys.Root,{shouldScaleBackground:e,...t});Un.displayName="Drawer";const Xoe=Ys.Trigger,Qoe=Ys.Portal,hi=Ys.Close,FB=p.forwardRef(({className:e,...t},r)=>o.jsx(Ys.Overlay,{ref:r,className:de("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm",e),...t}));FB.displayName=Ys.Overlay.displayName;const zn=p.forwardRef(({className:e,children:t,showOverlay:r=!0,...n},a)=>o.jsxs(Qoe,{children:[r&&o.jsx(FB,{}),o.jsx(Ys.Content,{ref:a,className:de("fixed left-2 right-2 bottom-4 z-50 mt-24 flex h-auto flex-col rounded-[36px] border-t border-l border-r bg-background/90 backdrop-blur-md",e),...n,children:t})]}));zn.displayName="DrawerContent";const qn=({className:e,children:t,...r})=>o.jsxs("div",{className:de("flex items-center justify-between gap-4 px-6 pt-6 pb-4",e),...r,children:[o.jsx("div",{className:"flex-1",children:t}),o.jsx(hi,{asChild:!0,children:o.jsx("button",{className:"rounded-full bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 h-7 w-7 flex items-center justify-center shrink-0 transition-colors p-0","aria-label":"Close",children:o.jsx(rn,{className:"h-3.5 w-3.5"})})})]});qn.displayName="DrawerHeader";const xa=({className:e,...t})=>o.jsx("div",{className:de("mt-auto flex flex-col gap-3 px-6 pt-4 pb-6",e),...t});xa.displayName="DrawerFooter";const Wn=p.forwardRef(({className:e,...t},r)=>o.jsx(Ys.Title,{ref:r,className:de("text-lg font-semibold leading-none tracking-tight",e),...t}));Wn.displayName=Ys.Title.displayName;const VN=p.forwardRef(({className:e,...t},r)=>o.jsx(Ys.Description,{ref:r,className:de("text-sm text-muted-foreground",e),...t}));VN.displayName=Ys.Description.displayName;var Zoe=p.createContext(void 0);function Af(e){const t=p.useContext(Zoe);return e||t||"ltr"}function em(e,[t,r]){return Math.min(r,Math.max(t,e))}function ele(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var KN="ScrollArea",[BB,hFe]=Ha(KN),[tle,ps]=BB(KN),UB=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...i}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[g,v]=p.useState(null),[m,y]=p.useState(null),[x,w]=p.useState(0),[b,_]=p.useState(0),[S,E]=p.useState(!1),[j,k]=p.useState(!1),N=ht(t,A=>c(A)),C=Af(a);return o.jsx(tle,{scope:r,type:n,dir:C,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:E,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:j,onScrollbarYEnabledChange:k,onCornerWidthChange:w,onCornerHeightChange:_,children:o.jsx(tt.div,{dir:C,...i,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});UB.displayName=KN;var zB="ScrollAreaViewport",qB=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:a,nonce:s,...i}=e,l=ps(zB,r),c=p.useRef(null),u=ht(t,c,l.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),o.jsx(tt.div,{"data-radix-scroll-area-viewport":"",...i,asChild:a,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:dle({asChild:a,children:n},d=>o.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});qB.displayName=zB;var Ci="ScrollAreaScrollbar",GN=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ps(Ci,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return p.useEffect(()=>(l?s(!0):i(!0),()=>{l?s(!1):i(!1)}),[l,s,i]),a.type==="hover"?o.jsx(rle,{...n,ref:t,forceMount:r}):a.type==="scroll"?o.jsx(nle,{...n,ref:t,forceMount:r}):a.type==="auto"?o.jsx(WB,{...n,ref:t,forceMount:r}):a.type==="always"?o.jsx(JN,{...n,ref:t}):null});GN.displayName=Ci;var rle=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ps(Ci,e.__scopeScrollArea),[s,i]=p.useState(!1);return p.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(oa,{present:r||s,children:o.jsx(WB,{"data-state":s?"visible":"hidden",...n,ref:t})})}),nle=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ps(Ci,e.__scopeScrollArea),s=e.orientation==="horizontal",i=fb(()=>c("SCROLL_END"),100),[l,c]=ele("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),p.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const g=u[d];f!==g&&(c("SCROLL"),i()),f=g};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,i]),o.jsx(oa,{present:r||l!=="hidden",children:o.jsx(JN,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:$e(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:$e(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),WB=p.forwardRef((e,t)=>{const r=ps(Ci,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,i]=p.useState(!1),l=e.orientation==="horizontal",c=fb(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return zd(r.viewport,c),zd(r.content,c),o.jsx(oa,{present:n||s,children:o.jsx(JN,{"data-state":s?"visible":"hidden",...a,ref:t})})}),JN=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ps(Ci,e.__scopeScrollArea),s=p.useRef(null),i=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=JB(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,g){return cle(h,i.current,l,g)}return r==="horizontal"?o.jsx(ale,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,g=I$(h,l,a.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?o.jsx(sle,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,g=I$(h,l);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),ale=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=ps(Ci,e.__scopeScrollArea),[i,l]=p.useState(),c=p.useRef(null),u=ht(t,c,s.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(VB,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":db(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),XB(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:c0(i.paddingLeft),paddingEnd:c0(i.paddingRight)}})}})}),sle=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=ps(Ci,e.__scopeScrollArea),[i,l]=p.useState(),c=p.useRef(null),u=ht(t,c,s.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(VB,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":db(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),XB(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:c0(i.paddingTop),paddingEnd:c0(i.paddingBottom)}})}})}),[ile,HB]=BB(Ci),VB=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,g=ps(Ci,r),[v,m]=p.useState(null),y=ht(t,N=>m(N)),x=p.useRef(null),w=p.useRef(""),b=g.viewport,_=n.content-n.viewport,S=Ut(d),E=Ut(c),j=fb(f,10);function k(N){if(x.current){const C=N.clientX-x.current.left,A=N.clientY-x.current.top;u({x:C,y:A})}}return p.useEffect(()=>{const N=C=>{const A=C.target;(v==null?void 0:v.contains(A))&&S(C,_)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[b,v,_,S]),p.useEffect(E,[n,E]),zd(v,j),zd(g.content,j),o.jsx(ile,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:Ut(s),onThumbPointerUp:Ut(i),onThumbPositionChange:E,onThumbPointerDown:Ut(l),children:o.jsx(tt.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:$e(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=v.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),k(N))}),onPointerMove:$e(e.onPointerMove,k),onPointerUp:$e(e.onPointerUp,N=>{const C=N.target;C.hasPointerCapture(N.pointerId)&&C.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=w.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),l0="ScrollAreaThumb",KB=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=HB(l0,e.__scopeScrollArea);return o.jsx(oa,{present:r||a.hasThumb,children:o.jsx(ole,{ref:t,...n})})}),ole=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=ps(l0,r),i=HB(l0,r),{onThumbPositionChange:l}=i,c=ht(t,f=>i.onThumbChange(f)),u=p.useRef(),d=fb(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const g=ule(f,l);u.current=g,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),o.jsx(tt.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:$e(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),v=f.clientX-g.left,m=f.clientY-g.top;i.onThumbPointerDown({x:v,y:m})}),onPointerUp:$e(e.onPointerUp,i.onThumbPointerUp)})});KB.displayName=l0;var YN="ScrollAreaCorner",GB=p.forwardRef((e,t)=>{const r=ps(YN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(lle,{...e,ref:t}):null});GB.displayName=YN;var lle=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ps(YN,r),[s,i]=p.useState(0),[l,c]=p.useState(0),u=!!(s&&l);return zd(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),zd(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),i(d)}),u?o.jsx(tt.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function c0(e){return e?parseInt(e,10):0}function JB(e,t){const r=e/t;return isNaN(r)?0:r}function db(e){const t=JB(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function cle(e,t,r,n="ltr"){const a=db(r),s=a/2,i=t||s,l=a-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return YB([c,u],f)(e)}function I$(e,t,r="ltr"){const n=db(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,i=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,i]:[i*-1,0],u=em(e,c);return YB([0,i],[0,l])(u)}function YB(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function XB(e,t){return e>0&&e<t}var ule=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},i=r.left!==s.left,l=r.top!==s.top;(i||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function fb(e,t){const r=Ut(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function zd(e,t){const r=Ut(t);Ur(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}function dle(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const a=p.Children.only(n);return p.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var QB=UB,fle=qB,hle=GB;const u0=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(QB,{ref:n,className:de("relative overflow-hidden",e),...r,children:[o.jsx(fle,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(ZB,{}),o.jsx(hle,{})]}));u0.displayName=QB.displayName;const ZB=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(GN,{ref:n,orientation:t,className:de("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(KB,{className:"relative flex-1 rounded-full bg-border"})}));ZB.displayName=GN.displayName;const M$=768;function Ea(){const[e,t]=p.useState(window.innerWidth<M$);return p.useEffect(()=>{function r(){t(window.innerWidth<M$)}return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e}const Gr=[{name:"Afghanistan",flag:"",code:"AF",dial_code:"+93"},{name:"land Islands",flag:"",code:"AX",dial_code:"+358"},{name:"Albania",flag:"",code:"AL",dial_code:"+355"},{name:"Algeria",flag:"",code:"DZ",dial_code:"+213"},{name:"American Samoa",flag:"",code:"AS",dial_code:"+1684"},{name:"Andorra",flag:"",code:"AD",dial_code:"+376"},{name:"Angola",flag:"",code:"AO",dial_code:"+244"},{name:"Anguilla",flag:"",code:"AI",dial_code:"+1264"},{name:"Antarctica",flag:"",code:"AQ",dial_code:"+672"},{name:"Antigua and Barbuda",flag:"",code:"AG",dial_code:"+1268"},{name:"Argentina",flag:"",code:"AR",dial_code:"+54"},{name:"Armenia",flag:"",code:"AM",dial_code:"+374"},{name:"Aruba",flag:"",code:"AW",dial_code:"+297"},{name:"Australia",flag:"",code:"AU",dial_code:"+61"},{name:"Austria",flag:"",code:"AT",dial_code:"+43"},{name:"Azerbaijan",flag:"",code:"AZ",dial_code:"+994"},{name:"Bahamas",flag:"",code:"BS",dial_code:"+1242"},{name:"Bahrain",flag:"",code:"BH",dial_code:"+973"},{name:"Bangladesh",flag:"",code:"BD",dial_code:"+880"},{name:"Barbados",flag:"",code:"BB",dial_code:"+1246"},{name:"Belarus",flag:"",code:"BY",dial_code:"+375"},{name:"Belgium",flag:"",code:"BE",dial_code:"+32"},{name:"Belize",flag:"",code:"BZ",dial_code:"+501"},{name:"Benin",flag:"",code:"BJ",dial_code:"+229"},{name:"Bermuda",flag:"",code:"BM",dial_code:"+1441"},{name:"Bhutan",flag:"",code:"BT",dial_code:"+975"},{name:"Bolivia",flag:"",code:"BO",dial_code:"+591"},{name:"Bosnia and Herzegovina",flag:"",code:"BA",dial_code:"+387"},{name:"Botswana",flag:"",code:"BW",dial_code:"+267"},{name:"Bouvet Island",flag:"",code:"BV",dial_code:"+47"},{name:"Brazil",flag:"",code:"BR",dial_code:"+55"},{name:"British Indian Ocean Territory",flag:"",code:"IO",dial_code:"+246"},{name:"Brunei Darussalam",flag:"",code:"BN",dial_code:"+673"},{name:"Bulgaria",flag:"",code:"BG",dial_code:"+359"},{name:"Burkina Faso",flag:"",code:"BF",dial_code:"+226"},{name:"Burundi",flag:"",code:"BI",dial_code:"+257"},{name:"Cambodia",flag:"",code:"KH",dial_code:"+855"},{name:"Cameroon",flag:"",code:"CM",dial_code:"+237"},{name:"Canada",flag:"",code:"CA",dial_code:"+1"},{name:"Cape Verde",flag:"",code:"CV",dial_code:"+238"},{name:"Cayman Islands",flag:"",code:"KY",dial_code:"+345"},{name:"Central African Republic",flag:"",code:"CF",dial_code:"+236"},{name:"Chad",flag:"",code:"TD",dial_code:"+235"},{name:"Chile",flag:"",code:"CL",dial_code:"+56"},{name:"China",flag:"",code:"CN",dial_code:"+86"},{name:"Christmas Island",flag:"",code:"CX",dial_code:"+61"},{name:"Cocos (Keeling) Islands",flag:"",code:"CC",dial_code:"+61"},{name:"Colombia",flag:"",code:"CO",dial_code:"+57"},{name:"Comoros",flag:"",code:"KM",dial_code:"+269"},{name:"Congo",flag:"",code:"CG",dial_code:"+242"},{name:"Congo, The Democratic Republic of the",flag:"",code:"CD",dial_code:"+243"},{name:"Cook Islands",flag:"",code:"CK",dial_code:"+682"},{name:"Costa Rica",flag:"",code:"CR",dial_code:"+506"},{name:"Cote d'Ivoire",flag:"",code:"CI",dial_code:"+225"},{name:"Croatia",flag:"",code:"HR",dial_code:"+385"},{name:"Cuba",flag:"",code:"CU",dial_code:"+53"},{name:"Cyprus",flag:"",code:"CY",dial_code:"+357"},{name:"Czech Republic",flag:"",code:"CZ",dial_code:"+420"},{name:"Denmark",flag:"",code:"DK",dial_code:"+45"},{name:"Djibouti",flag:"",code:"DJ",dial_code:"+253"},{name:"Dominica",flag:"",code:"DM",dial_code:"+1767"},{name:"Dominican Republic",flag:"",code:"DO",dial_code:"+1849"},{name:"Ecuador",flag:"",code:"EC",dial_code:"+593"},{name:"Egypt",flag:"",code:"EG",dial_code:"+20"},{name:"El Salvador",flag:"",code:"SV",dial_code:"+503"},{name:"Equatorial Guinea",flag:"",code:"GQ",dial_code:"+240"},{name:"Eritrea",flag:"",code:"ER",dial_code:"+291"},{name:"Estonia",flag:"",code:"EE",dial_code:"+372"},{name:"Ethiopia",flag:"",code:"ET",dial_code:"+251"},{name:"Falkland Islands (Malvinas)",flag:"",code:"FK",dial_code:"+500"},{name:"Faroe Islands",flag:"",code:"FO",dial_code:"+298"},{name:"Fiji",flag:"",code:"FJ",dial_code:"+679"},{name:"Finland",flag:"",code:"FI",dial_code:"+358"},{name:"France",flag:"",code:"FR",dial_code:"+33"},{name:"French Guiana",flag:"",code:"GF",dial_code:"+594"},{name:"French Polynesia",flag:"",code:"PF",dial_code:"+689"},{name:"French Southern Territories",flag:"",code:"TF",dial_code:"+262"},{name:"Gabon",flag:"",code:"GA",dial_code:"+241"},{name:"Gambia",flag:"",code:"GM",dial_code:"+220"},{name:"Georgia",flag:"",code:"GE",dial_code:"+995"},{name:"Germany",flag:"",code:"DE",dial_code:"+49"},{name:"Ghana",flag:"",code:"GH",dial_code:"+233"},{name:"Gibraltar",flag:"",code:"GI",dial_code:"+350"},{name:"Greece",flag:"",code:"GR",dial_code:"+30"},{name:"Greenland",flag:"",code:"GL",dial_code:"+299"},{name:"Grenada",flag:"",code:"GD",dial_code:"+1473"},{name:"Guadeloupe",flag:"",code:"GP",dial_code:"+590"},{name:"Guam",flag:"",code:"GU",dial_code:"+1671"},{name:"Guatemala",flag:"",code:"GT",dial_code:"+502"},{name:"Guernsey",flag:"",code:"GG",dial_code:"+44"},{name:"Guinea",flag:"",code:"GN",dial_code:"+224"},{name:"Guinea-Bissau",flag:"",code:"GW",dial_code:"+245"},{name:"Guyana",flag:"",code:"GY",dial_code:"+592"},{name:"Haiti",flag:"",code:"HT",dial_code:"+509"},{name:"Heard Island and Mcdonald Islands",flag:"",code:"HM",dial_code:"+672"},{name:"Holy See (Vatican City State)",flag:"",code:"VA",dial_code:"+379"},{name:"Honduras",flag:"",code:"HN",dial_code:"+504"},{name:"Hong Kong",flag:"",code:"HK",dial_code:"+852"},{name:"Hungary",flag:"",code:"HU",dial_code:"+36"},{name:"Iceland",flag:"",code:"IS",dial_code:"+354"},{name:"India",flag:"",code:"IN",dial_code:"+91"},{name:"Indonesia",flag:"",code:"ID",dial_code:"+62"},{name:"Iran, Islamic Republic of",flag:"",code:"IR",dial_code:"+98"},{name:"Iraq",flag:"",code:"IQ",dial_code:"+964"},{name:"Ireland",flag:"",code:"IE",dial_code:"+353"},{name:"Isle of Man",flag:"",code:"IM",dial_code:"+44"},{name:"Israel",flag:"",code:"IL",dial_code:"+972"},{name:"Italy",flag:"",code:"IT",dial_code:"+39"},{name:"Jamaica",flag:"",code:"JM",dial_code:"+1876"},{name:"Japan",flag:"",code:"JP",dial_code:"+81"},{name:"Jersey",flag:"",code:"JE",dial_code:"+44"},{name:"Jordan",flag:"",code:"JO",dial_code:"+962"},{name:"Kazakhstan",flag:"",code:"KZ",dial_code:"+7"},{name:"Kenya",flag:"",code:"KE",dial_code:"+254"},{name:"Kiribati",flag:"",code:"KI",dial_code:"+686"},{name:"Korea, Democratic People's Republic of",flag:"",code:"KP",dial_code:"+850"},{name:"Korea, Republic of",flag:"",code:"KR",dial_code:"+82"},{name:"Kuwait",flag:"",code:"KW",dial_code:"+965"},{name:"Kyrgyzstan",flag:"",code:"KG",dial_code:"+996"},{name:"Lao People's Democratic Republic",flag:"",code:"LA",dial_code:"+856"},{name:"Latvia",flag:"",code:"LV",dial_code:"+371"},{name:"Lebanon",flag:"",code:"LB",dial_code:"+961"},{name:"Lesotho",flag:"",code:"LS",dial_code:"+266"},{name:"Liberia",flag:"",code:"LR",dial_code:"+231"},{name:"Libyan Arab Jamahiriya",flag:"",code:"LY",dial_code:"+218"},{name:"Liechtenstein",flag:"",code:"LI",dial_code:"+423"},{name:"Lithuania",flag:"",code:"LT",dial_code:"+370"},{name:"Luxembourg",flag:"",code:"LU",dial_code:"+352"},{name:"Macao",flag:"",code:"MO",dial_code:"+853"},{name:"Macedonia, The Former Yugoslav Republic of",flag:"",code:"MK",dial_code:"+389"},{name:"Madagascar",flag:"",code:"MG",dial_code:"+261"},{name:"Malawi",flag:"",code:"MW",dial_code:"+265"},{name:"Malaysia",flag:"",code:"MY",dial_code:"+60"},{name:"Maldives",flag:"",code:"MV",dial_code:"+960"},{name:"Mali",flag:"",code:"ML",dial_code:"+223"},{name:"Malta",flag:"",code:"MT",dial_code:"+356"},{name:"Marshall Islands",flag:"",code:"MH",dial_code:"+692"},{name:"Martinique",flag:"",code:"MQ",dial_code:"+596"},{name:"Mauritania",flag:"",code:"MR",dial_code:"+222"},{name:"Mauritius",flag:"",code:"MU",dial_code:"+230"},{name:"Mayotte",flag:"",code:"YT",dial_code:"+262"},{name:"Mexico",flag:"",code:"MX",dial_code:"+52"},{name:"Micronesia, Federated States of",flag:"",code:"FM",dial_code:"+691"},{name:"Moldova, Republic of",flag:"",code:"MD",dial_code:"+373"},{name:"Monaco",flag:"",code:"MC",dial_code:"+377"},{name:"Mongolia",flag:"",code:"MN",dial_code:"+976"},{name:"Montserrat",flag:"",code:"MS",dial_code:"+1664"},{name:"Morocco",flag:"",code:"MA",dial_code:"+212"},{name:"Mozambique",flag:"",code:"MZ",dial_code:"+258"},{name:"Myanmar",flag:"",code:"MM",dial_code:"+95"},{name:"Namibia",flag:"",code:"NA",dial_code:"+264"},{name:"Nauru",flag:"",code:"NR",dial_code:"+674"},{name:"Nepal",flag:"",code:"NP",dial_code:"+977"},{name:"Netherlands",flag:"",code:"NL",dial_code:"+31"},{name:"Netherlands Antilles",flag:"",code:"AN",dial_code:"+599"},{name:"New Caledonia",flag:"",code:"NC",dial_code:"+687"},{name:"New Zealand",flag:"",code:"NZ",dial_code:"+64"},{name:"Nicaragua",flag:"",code:"NI",dial_code:"+505"},{name:"Niger",flag:"",code:"NE",dial_code:"+227"},{name:"Nigeria",flag:"",code:"NG",dial_code:"+234"},{name:"Niue",flag:"",code:"NU",dial_code:"+683"},{name:"Norfolk Island",flag:"",code:"NF",dial_code:"+672"},{name:"Northern Mariana Islands",flag:"",code:"MP",dial_code:"+1670"},{name:"Norway",flag:"",code:"NO",dial_code:"+47"},{name:"Oman",flag:"",code:"OM",dial_code:"+968"},{name:"Pakistan",flag:"",code:"PK",dial_code:"+92"},{name:"Palau",flag:"",code:"PW",dial_code:"+680"},{name:"Palestinian Territory, Occupied",flag:"",code:"PS",dial_code:"+970"},{name:"Panama",flag:"",code:"PA",dial_code:"+507"},{name:"Papua New Guinea",flag:"",code:"PG",dial_code:"+675"},{name:"Paraguay",flag:"",code:"PY",dial_code:"+595"},{name:"Peru",flag:"",code:"PE",dial_code:"+51"},{name:"Philippines",flag:"",code:"PH",dial_code:"+63"},{name:"Pitcairn",flag:"",code:"PN",dial_code:"+870"},{name:"Poland",flag:"",code:"PL",dial_code:"+48"},{name:"Portugal",flag:"",code:"PT",dial_code:"+351"},{name:"Puerto Rico",flag:"",code:"PR",dial_code:"+1939"},{name:"Qatar",flag:"",code:"QA",dial_code:"+974"},{name:"Reunion",flag:"",code:"RE",dial_code:"+262"},{name:"Romania",flag:"",code:"RO",dial_code:"+40"},{name:"Russia",flag:"",code:"RU",dial_code:"+7"},{name:"Rwanda",flag:"",code:"RW",dial_code:"+250"},{name:"Saint Helena",flag:"",code:"SH",dial_code:"+290"},{name:"Saint Kitts and Nevis",flag:"",code:"KN",dial_code:"+1869"},{name:"Saint Lucia",flag:"",code:"LC",dial_code:"+1758"},{name:"Saint Pierre and Miquelon",flag:"",code:"PM",dial_code:"+508"},{name:"Saint Vincent and the Grenadines",flag:"",code:"VC",dial_code:"+1784"},{name:"Samoa",flag:"",code:"WS",dial_code:"+685"},{name:"San Marino",flag:"",code:"SM",dial_code:"+378"},{name:"Sao Tome and Principe",flag:"",code:"ST",dial_code:"+239"},{name:"Saudi Arabia",flag:"",code:"SA",dial_code:"+966"},{name:"Senegal",flag:"",code:"SN",dial_code:"+221"},{name:"Serbia and Montenegro",flag:"",code:"CS",dial_code:"+381"},{name:"Seychelles",flag:"",code:"SC",dial_code:"+248"},{name:"Sierra Leone",flag:"",code:"SL",dial_code:"+232"},{name:"Singapore",flag:"",code:"SG",dial_code:"+65"},{name:"Slovakia",flag:"",code:"SK",dial_code:"+421"},{name:"Slovenia",flag:"",code:"SI",dial_code:"+386"},{name:"Solomon Islands",flag:"",code:"SB",dial_code:"+677"},{name:"Somalia",flag:"",code:"SO",dial_code:"+252"},{name:"South Africa",flag:"",code:"ZA",dial_code:"+27"},{name:"South Georgia and the South Sandwich Islands",flag:"",code:"GS",dial_code:"+500"},{name:"Spain",flag:"",code:"ES",dial_code:"+34"},{name:"Sri Lanka",flag:"",code:"LK",dial_code:"+94"},{name:"Sudan",flag:"",code:"SD",dial_code:"+249"},{name:"Suriname",flag:"",code:"SR",dial_code:"+597"},{name:"Svalbard and Jan Mayen",flag:"",code:"SJ",dial_code:"+47"},{name:"Swaziland",flag:"",code:"SZ",dial_code:"+268"},{name:"Sweden",flag:"",code:"SE",dial_code:"+46"},{name:"Switzerland",flag:"",code:"CH",dial_code:"+41"},{name:"Syrian Arab Republic",flag:"",code:"SY",dial_code:"+963"},{name:"Taiwan, Province of China",flag:"",code:"TW",dial_code:"+886"},{name:"Tajikistan",flag:"",code:"TJ",dial_code:"+992"},{name:"Tanzania, United Republic of",flag:"",code:"TZ",dial_code:"+255"},{name:"Thailand",flag:"",code:"TH",dial_code:"+66"},{name:"Timor-Leste",flag:"",code:"TL",dial_code:"+670"},{name:"Togo",flag:"",code:"TG",dial_code:"+228"},{name:"Tokelau",flag:"",code:"TK",dial_code:"+690"},{name:"Tonga",flag:"",code:"TO",dial_code:"+676"},{name:"Trinidad and Tobago",flag:"",code:"TT",dial_code:"+1868"},{name:"Tunisia",flag:"",code:"TN",dial_code:"+216"},{name:"Turkey",flag:"",code:"TR",dial_code:"+90"},{name:"Turkmenistan",flag:"",code:"TM",dial_code:"+993"},{name:"Turks and Caicos Islands",flag:"",code:"TC",dial_code:"+1649"},{name:"Tuvalu",flag:"",code:"TV",dial_code:"+688"},{name:"Uganda",flag:"",code:"UG",dial_code:"+256"},{name:"Ukraine",flag:"",code:"UA",dial_code:"+380"},{name:"United Arab Emirates",flag:"",code:"AE",dial_code:"+971"},{name:"United Kingdom",flag:"",code:"GB",dial_code:"+44"},{name:"United States",flag:"",code:"US",dial_code:"+1"},{name:"United States Minor Outlying Islands",flag:"",code:"UM",dial_code:"+1"},{name:"Uruguay",flag:"",code:"UY",dial_code:"+598"},{name:"Uzbekistan",flag:"",code:"UZ",dial_code:"+998"},{name:"Vanuatu",flag:"",code:"VU",dial_code:"+678"},{name:"Venezuela",flag:"",code:"VE",dial_code:"+58"},{name:"Viet Nam",flag:"",code:"VN",dial_code:"+84"},{name:"Virgin Islands, British",flag:"",code:"VG",dial_code:"+1284"},{name:"Virgin Islands, U.S.",flag:"",code:"VI",dial_code:"+1340"},{name:"Wallis and Futuna",flag:"",code:"WF",dial_code:"+681"},{name:"Western Sahara",flag:"",code:"EH",dial_code:"+212"},{name:"Yemen",flag:"",code:"YE",dial_code:"+967"},{name:"Zambia",flag:"",code:"ZM",dial_code:"+260"},{name:"Zimbabwe",flag:"",code:"ZW",dial_code:"+263"}],L$=({countries:e,onSelect:t,selectedCountry:r})=>o.jsx("div",{className:"space-y-1",children:e.map(n=>o.jsxs("button",{onClick:()=>t(n),className:`w-full text-left px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors flex items-center gap-3 ${(r==null?void 0:r.code)===n.code?"bg-primary/10 text-primary":""}`,children:[o.jsx("span",{className:"text-lg",children:n.flag}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:n.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:n.dial_code})]})]},n.code))}),ple=({isOpen:e,onClose:t,onSelect:r,selectedCountry:n})=>{const a=Ea(),[s,i]=p.useState(""),l=p.useMemo(()=>{if(!s)return Gr;const d=s.toLowerCase();return Gr.filter(f=>f.name.toLowerCase().includes(d)||f.dial_code.includes(s)||f.code.toLowerCase().includes(d))},[s]),c=d=>{r(d),t()},u=()=>{i("")};return a?o.jsx(Un,{open:e,onOpenChange:t,children:o.jsxs(zn,{className:"h-[85vh]",children:[o.jsx(qn,{children:o.jsx(Wn,{children:"Select Country"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ft,{placeholder:"Search countries or dial codes...",value:s,onChange:d=>i(d.target.value),className:"pl-10 pr-10 w-full"}),s&&o.jsx(re,{variant:"ghost",size:"sm",onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:o.jsx(rn,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(u0,{className:"h-full px-4",children:o.jsx(L$,{countries:l,onSelect:c,selectedCountry:n})})}),o.jsx("div",{className:"p-4 border-t",children:o.jsx(hi,{asChild:!0,children:o.jsx(re,{variant:"outline",className:"w-full",children:"Cancel"})})})]})}):o.jsx(kn,{open:e,onOpenChange:t,children:o.jsxs(mn,{className:"max-w-md max-h-[80vh]",children:[o.jsx(gn,{children:o.jsx(vn,{children:"Select Country"})}),o.jsx("div",{className:"mt-4 pb-4",children:o.jsxs("div",{className:"relative w-full",children:[o.jsx(oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ft,{placeholder:"Search countries or dial codes...",value:s,onChange:d=>i(d.target.value),className:"pl-10 pr-10 w-full"}),s&&o.jsx(re,{variant:"ghost",size:"sm",onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:o.jsx(rn,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"overflow-hidden",children:o.jsx(u0,{className:"h-[400px]",children:o.jsx(L$,{countries:l,onSelect:c,selectedCountry:n})})})]})})},e7=({value:e,onChange:t,placeholder:r="Select country",className:n=""})=>{const[a,s]=p.useState(!1),i=Gr.find(c=>c.code==="GE"),l=e||i;return o.jsxs(o.Fragment,{children:[o.jsxs(re,{variant:"outline",role:"combobox","aria-expanded":a,className:`justify-between shrink-0 ${n}`,onClick:()=>s(!0),children:[l?o.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[o.jsx("span",{className:"text-lg shrink-0",children:l.flag}),o.jsx("span",{className:"text-muted-foreground whitespace-nowrap",children:l.dial_code})]}):r,o.jsx(ase,{className:"ml-1.5 h-4 w-4 shrink-0 opacity-50 text-muted-foreground"})]}),o.jsx(ple,{isOpen:a,onClose:()=>s(!1),onSelect:t,selectedCountry:l})]})},mle=()=>{const e=hr(),[t,r]=p.useState(!1),[n,a]=p.useState(Gr.find(N=>N.code==="GE")),[s,i]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(""),[g,v]=p.useState(""),[m,y]=p.useState(!1),[x,w]=p.useState(!1),[b,_]=p.useState(!1),[S,E]=p.useState(!1),j=p.useCallback(N=>new Promise((C,A)=>{const I=new Image;I.onload=()=>C(),I.onerror=()=>A(new Error(`Failed to load image: ${N}`)),I.src=N}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([j("/lovable-uploads/breneo_logo.png"),j("/lovable-uploads/way.png")])}catch(C){console.warn("Some images failed to preload:",C),E(!0)}})()},[j]);const k=async N=>{N.preventDefault(),y(!0);const C=`${n==null?void 0:n.dial_code}${f}`;try{await Ce.post(mt.AUTH.REGISTER,{first_name:s,last_name:l,email:u,phone_number:C,password:g}),sessionStorage.setItem("tempEmail",u),sessionStorage.setItem("tempPassword",g),e("/email-verification"),ue.success("Registration successful! Verify your email.")}catch(A){let I="Registration failed. Please try again.";zt.isAxiosError(A)&&A.response&&(I=A.response.data.detail||A.response.data.message||A.response.data.error||I),ue.error(I)}finally{y(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!x&&!S&&o.jsx("div",{className:"h-7 w-20 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(Kr,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-7 transition-opacity duration-300 ${x?"opacity-100":"opacity-0"}`,onLoad:()=>w(!0),onError:()=>{E(!0),w(!0)}}),S&&o.jsx("div",{className:"h-7 w-20 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(ji,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!x&&!S&&o.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(Kr,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-10 transition-opacity duration-300 ${x?"opacity-100":"opacity-0"}`,onLoad:()=>w(!0),onError:()=>{E(!0),w(!0)}}),S&&o.jsx("div",{className:"h-10 w-32 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(ji,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Create Account"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Sign up for your Breneo account"}),o.jsxs("form",{onSubmit:k,className:"space-y-6",children:[o.jsxs("div",{className:"mt-1 flex gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Fe,{htmlFor:"firstName",children:"First Name"}),o.jsx(ft,{id:"firstName",placeholder:"John",className:"mt-1 h-12",value:s,onChange:N=>i(N.target.value),required:!0})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Fe,{htmlFor:"lastName",children:"Last Name"}),o.jsx(ft,{id:"lastName",placeholder:"Doe",className:"mt-1 h-12",value:l,onChange:N=>c(N.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email",children:"Email Address"}),o.jsx(ft,{id:"email",type:"email",placeholder:"Enter your email",className:"mt-1 h-12",value:u,onChange:N=>d(N.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"phone-input-container mt-1 flex items-center rounded-md border border-input focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[o.jsx(e7,{value:n,onChange:a,className:"max-w-fit px-3 h-12 border-0 bg-transparent hover:bg-transparent rounded-r-none"}),o.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-border"}),o.jsx(ft,{id:"phone",type:"tel",placeholder:"Phone number",className:"flex-1 h-12 border-0 focus-visible:ring-0 focus-visible:ring-offset-0",value:f,onChange:N=>h(N.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(ft,{id:"password",type:t?"text":"password",placeholder:"Create a password",className:"pr-10 h-12",value:g,onChange:N=>v(N.target.value),required:!0}),o.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!t),children:t?o.jsx(Qp,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):o.jsx(jl,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]})]}),o.jsx(re,{type:"submit",className:"w-full h-14",disabled:m,children:m?"Signing Up...":"Sign Up"})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Already have an account?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!b&&!S&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(Kr,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${b?"opacity-100":"opacity-0"}`,style:{backgroundImage:b?"url('/lovable-uploads/way.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/way.png",alt:"",className:"hidden",onLoad:()=>_(!0),onError:()=>{E(!0),_(!0)}}),S&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(Kr,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Way"})]})})]})})]})]})},D1="https://breneo.onrender.com",gle=()=>{const e=hr(),[t,r]=p.useState(1),[n,a]=p.useState(""),[s,i]=p.useState(["","","","","",""]),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(!1),[g,v]=p.useState(!1),[m,y]=p.useState(!1),x=p.useRef([]),[w,b]=p.useState(!1),[_,S]=p.useState(!1),[E,j]=p.useState(!1),k=p.useCallback(z=>new Promise((M,$)=>{const F=new Image;F.onload=()=>M(),F.onerror=()=>$(new Error(`Failed to load image: ${z}`)),F.src=z}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([k("/lovable-uploads/breneo_logo.png"),k("/lovable-uploads/future.png")])}catch(M){console.warn("Some images failed to preload:",M),j(!0)}})()},[k]),p.useEffect(()=>{document.title="Reset Password | Breneo"},[]);const N=async z=>{var M,$;z.preventDefault(),y(!0);try{const F=await zt.post(`${D1}/password-reset/request/`,{email:n});ue.success(F.data.message||"Code sent to your email!"),r(2)}catch(F){ue.error((($=(M=F.response)==null?void 0:M.data)==null?void 0:$.error)||"Error sending code")}finally{y(!1)}},C=async z=>{var $,F;z.preventDefault();const M=s.join("");if(M.length!==6){ue.error("Please enter a 6-digit code.");return}y(!0);try{const O=await zt.post(`${D1}/password-reset/verify/`,{email:n,code:M});ue.success(O.data.message||"Code verified!"),r(3)}catch(O){ue.error(((F=($=O.response)==null?void 0:$.data)==null?void 0:F.error)||"Invalid code")}finally{y(!1)}},A=(z,M)=>{var F;if(M&&!/^\d$/.test(M))return;const $=[...s];$[z]=M,i($),M&&z<5&&((F=x.current[z+1])==null||F.focus())},I=(z,M)=>{var $;M.key==="Backspace"&&!s[z]&&z>0&&(($=x.current[z-1])==null||$.focus())},B=async z=>{var M,$;if(z.preventDefault(),l!==u){ue.error("Passwords do not match");return}y(!0);try{const F=s.join(""),O=await zt.post(`${D1}/password-reset/set-new/`,{email:n,code:F,new_password:l,confirm_password:u});ue.success(O.data.message||"Password reset successfully!"),e("/auth/login")}catch(F){ue.error((($=(M=F.response)==null?void 0:M.data)==null?void 0:$.error)||"Error setting new password")}finally{y(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!w&&!E&&o.jsx("div",{className:"h-7 w-20 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(Kr,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-7 transition-opacity duration-300 ${w?"opacity-100":"opacity-0"}`,onLoad:()=>b(!0),onError:()=>{j(!0),b(!0)}}),E&&o.jsx("div",{className:"h-7 w-20 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(ji,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!w&&!E&&o.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(Kr,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-10 transition-opacity duration-300 ${w?"opacity-100":"opacity-0"}`,onLoad:()=>b(!0),onError:()=>{j(!0),b(!0)}}),E&&o.jsx("div",{className:"h-10 w-32 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(ji,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Reset Password"}),t===1&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-muted-foreground mb-8",children:"Enter your email to receive a verification code."}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email",children:"Email Address"}),o.jsx(ft,{id:"email",type:"email",placeholder:"Enter your email",className:"mt-1 h-12",value:n,onChange:z=>a(z.target.value),required:!0,disabled:m})]}),o.jsx(re,{type:"submit",className:"w-full h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:m,children:m?"Sending Code...":"Send Code"})]})]}),t===2&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-muted-foreground mb-8",children:["A code was sent to ",n,". Please enter it below."]}),o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[o.jsx("div",{className:"w-full sm:w-[23.5rem]",children:o.jsx("div",{className:"flex gap-2 sm:gap-2",children:s.map((z,M)=>o.jsx(ft,{ref:$=>x.current[M]=$,type:"text",inputMode:"numeric",className:"flex-1 sm:flex-none h-12 sm:h-14 w-0 sm:w-14 text-center text-xl sm:text-2xl font-semibold",value:z,onChange:$=>A(M,$.target.value),onKeyDown:$=>I(M,$),maxLength:1,required:!0,disabled:m,autoFocus:M===0},M))})}),o.jsx(re,{type:"submit",className:"w-full sm:w-[23.5rem] h-12 sm:h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:m,children:m?"Verifying...":"Verify Code"})]})]}),t===3&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-muted-foreground mb-8",children:"Enter your new password."}),o.jsxs("form",{onSubmit:B,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"newPassword",children:"New Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(ft,{id:"newPassword",type:f?"text":"password",placeholder:"Enter new password",className:"pr-10 h-12",value:l,onChange:z=>c(z.target.value),required:!0,disabled:m}),o.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>h(!f),disabled:m,children:f?o.jsx(Qp,{className:"h-4 w-4 text-gray-500"}):o.jsx(jl,{className:"h-4 w-4 text-gray-500"})})]})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"confirmPassword",children:"Confirm New Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(ft,{id:"confirmPassword",type:g?"text":"password",placeholder:"Confirm new password",className:"pr-10 h-12",value:u,onChange:z=>d(z.target.value),required:!0,disabled:m}),o.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>v(!g),disabled:m,children:g?o.jsx(Qp,{className:"h-4 w-4 text-gray-500"}):o.jsx(jl,{className:"h-4 w-4 text-gray-500"})})]})]}),o.jsx(re,{type:"submit",className:"w-full h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:m,children:m?"Setting...":"Set New Password"})]})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Remembered your password?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!_&&!E&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(Kr,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${_?"opacity-100":"opacity-0"}`,style:{backgroundImage:_?"url('/lovable-uploads/future.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>S(!0),onError:()=>{j(!0),S(!0)}}),E&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(Kr,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})},vle=()=>{var E,j;const e=hr(),t=Va(),{login:r}=br(),[n,a]=p.useState(["","","","","",""]),[s,i]=p.useState(!1),l=p.useRef([]),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,g]=p.useState(!1),v=((E=t.state)==null?void 0:E.email)||sessionStorage.getItem("tempEmail")||sessionStorage.getItem("tempAcademyEmail"),m=sessionStorage.getItem("tempPassword"),y=((j=t.state)==null?void 0:j.isAcademy)||!1,x=p.useCallback(k=>new Promise((N,C)=>{const A=new Image;A.onload=()=>N(),A.onerror=()=>C(new Error(`Failed to load image: ${k}`)),A.src=k}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([x("/lovable-uploads/breneo_logo.png"),x("/lovable-uploads/future.png")])}catch(N){console.warn("Some images failed to preload:",N),g(!0)}})()},[x]),p.useEffect(()=>{document.title="Email Verification | Breneo"},[]);const w=async()=>{var k,N,C,A,I;if(!v||!m){ue.error("Session expired. Please log in manually."),e("/auth/login");return}try{console.log("Attempting auto-login with:",{email:v,passwordLength:m.length}),await r(v,m),ue.success("Email verified and logged in!"),sessionStorage.removeItem("tempEmail"),sessionStorage.removeItem("tempPassword")}catch(B){console.error("Auto-login failed:",B),zt.isAxiosError(B)&&console.error("Login error details:",{status:(k=B.response)==null?void 0:k.status,statusText:(N=B.response)==null?void 0:N.statusText,data:(C=B.response)==null?void 0:C.data,url:(A=B.config)==null?void 0:A.url,method:(I=B.config)==null?void 0:I.method}),ue.error("Verification successful, but auto-login failed. Please log in manually."),e("/auth/login")}},b=(k,N)=>{var A;if(N&&!/^\d$/.test(N))return;const C=[...n];C[k]=N,a(C),N&&k<5&&((A=l.current[k+1])==null||A.focus())},_=(k,N)=>{var C;N.key==="Backspace"&&!n[k]&&k>0&&((C=l.current[k-1])==null||C.focus())},S=async k=>{if(k.preventDefault(),!v){ue.error("Email missing. Please register again."),e("/auth/signup");return}const N=n.join("");if(N.length!==6){ue.error("Please enter a 6-digit code.");return}i(!0);try{const C=y?mt.AUTH.VERIFY_ACADEMY_EMAIL:mt.AUTH.VERIFY_CODE;await Ce.post(C,{email:v,code:N}),y?(ue.success("Email verified successfully!"),sessionStorage.removeItem("tempAcademyEmail"),e("/auth/login")):m?await w():(ue.success("Email verified successfully!"),sessionStorage.removeItem("tempEmail"),e("/auth/login"))}catch(C){let A="Verification failed. Please try again.",I=!1;if(zt.isAxiosError(C)&&C.response){const B=C.response.data,z=B.detail||B.message||B.error||Array.isArray(B.email)&&B.email[0]||"";A=typeof z=="string"?z:A,C.response.status===400&&A.toLowerCase().includes("user with this email already exists")&&(I=!0)}I&&!y&&m?(ue.info("Verification processed, attempting login..."),await w()):ue.error(A)}finally{i(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!c&&!h&&o.jsx("div",{className:"h-7 w-20 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(Kr,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-7 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>{g(!0),u(!0)}}),h&&o.jsx("div",{className:"h-7 w-20 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(ji,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!c&&!h&&o.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(Kr,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-10 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>{g(!0),u(!0)}}),h&&o.jsx("div",{className:"h-10 w-32 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(ji,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Verify Your Email"}),o.jsxs("p",{className:"text-muted-foreground mb-8",children:["Enter the 6-digit code sent to your email"," ",y&&"(academy registration)"," (",v||"your-email",")"]}),o.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o.jsx("div",{className:"w-full sm:w-[23.5rem]",children:o.jsx("div",{className:"flex gap-2 sm:gap-2",children:n.map((k,N)=>o.jsx(ft,{ref:C=>l.current[N]=C,type:"text",inputMode:"numeric",className:"flex-1 sm:flex-none h-12 sm:h-14 w-0 sm:w-14 text-center text-xl sm:text-2xl font-semibold",value:k,onChange:C=>b(N,C.target.value),onKeyDown:C=>_(N,C),maxLength:1,required:!0,disabled:s,autoFocus:N===0},N))})}),o.jsx(re,{type:"submit",className:"w-full sm:w-[23.5rem] h-12 sm:h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:s,children:s?"Verifying...":"Verify Email"})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Didn't receive a code?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Back to Login"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!d&&!h&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(Kr,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${d?"opacity-100":"opacity-0"}`,style:{backgroundImage:d?"url('/lovable-uploads/future.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),h&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(Kr,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})},Ne=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:de("rounded-lg border bg-card text-card-foreground",e),...t}));Ne.displayName="Card";const pt=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:de("flex flex-col space-y-1.5 p-6",e),...t}));pt.displayName="CardHeader";const At=p.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:de("text-2xl font-semibold leading-none tracking-tight",e),...t}));At.displayName="CardTitle";const qr=p.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:de("text-sm text-muted-foreground",e),...t}));qr.displayName="CardDescription";const Pe=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:de("p-6 pt-0",e),...t}));Pe.displayName="CardContent";const yle=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:de("flex items-center p-6 pt-0",e),...t}));yle.displayName="CardFooter";const xle=()=>(p.useEffect(()=>{const e="Email Confirmed | Breneo",t="Your email has been confirmed. You can now log in to your Breneo account.";document.title=e;let r=document.querySelector('meta[name="description"]');r||(r=document.createElement("meta"),r.setAttribute("name","description"),document.head.appendChild(r)),r.setAttribute("content",t);let n=document.querySelector('link[rel="canonical"]');n||(n=document.createElement("link"),n.setAttribute("rel","canonical"),document.head.appendChild(n)),n.setAttribute("href",`${window.location.origin}/email-confirmed`)},[]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("main",{className:"w-full max-w-md px-4",children:[o.jsx("h1",{className:"sr-only",children:"Email confirmation successful"}),o.jsxs(Ne,{className:"shadow-md",children:[o.jsxs(pt,{className:"text-center pt-8",children:[o.jsx("div",{className:"mx-auto mb-4 rounded-full bg-primary/10 p-3 text-primary",children:o.jsx(rd,{className:"h-8 w-8","aria-hidden":"true"})}),o.jsx("p",{className:"text-xl font-semibold text-foreground",children:"Your email is confirmed"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Thank you! Your account is now verified."})]}),o.jsx(Pe,{className:"pb-8 pt-2",children:o.jsx("div",{className:"mt-6",children:o.jsx(re,{asChild:!0,className:"w-full",children:o.jsx(Mr,{to:"/auth/login","aria-label":"Go to login page",children:"Go to Login"})})})})]})]})}));function ti({to:e,...t}){const{language:r}=Gs(),n=typeof e=="string"?e:e.pathname||"",a=n.startsWith("/auth")||n==="/auth"?e:Qa(n,r);return o.jsx(Mr,{to:a,...t})}const ble=Xx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function or({className:e,variant:t,...r}){return o.jsx("div",{className:de(ble({variant:t}),e),...r})}function XN({collapsed:e,toggleSidebar:t}){const r=Va(),{loading:n,user:a}=br(),{theme:s,setTheme:i}=Pl(),{language:l,setLanguage:c}=Gs(),u=po(),[d,f]=R.useState(!1),h=Yp(r.pathname),g=l==="ka"?"GEO":"EN",v=r.pathname,m=(a==null?void 0:a.user_type)==="academy"||typeof window<"u"&&localStorage.getItem("userRole")==="academy";if(R.useEffect(()=>{f(!0)},[]),n)return null;const y=()=>{if(!a)return"Member";const{first_name:j,last_name:k,email:N}=a;if(j&&k){const C=A=>A?A.charAt(0).toUpperCase()+A.slice(1).toLowerCase():"";return`${C(j)} ${C(k)}`}return N??"Member"},x=()=>a!=null&&a.first_name&&(a!=null&&a.last_name)?`${a.first_name.charAt(0)}${a.last_name.charAt(0)}`.toUpperCase():a!=null&&a.email?a.email.charAt(0).toUpperCase():"U",w=m?[{icon:Mj,label:u.nav.home,href:"/academy/home"}]:[{icon:Mj,label:u.nav.home,href:"/home"},{icon:ln,label:u.nav.jobs,href:"/jobs"},{icon:hse,label:u.nav.courses,href:"/courses"},{icon:D8,label:u.nav.webinars,href:"/webinars"}],b=m?"/academy/profile":"/profile",_=m?"/academy/settings":"/settings",S=m?"/academy/home":"/home",E=[...w,{icon:R8,label:u.nav.profile,href:b}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-50 bg-[#F6F9F9]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 border-b border-black/[0.03] dark:border-white/[0.03] px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ti,{to:S,className:"flex items-center",children:o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:"h-7"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(re,{variant:"ghost",onClick:()=>c(l==="en"?"ka":"en"),className:`relative h-10 px-3 rounded-full !text-gray-500 hover:!text-gray-700 dark:!text-gray-400 dark:hover:!text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:!bg-black/[0.08] dark:hover:!bg-white/[0.05] transition-colors
                         text-sm font-medium flex items-center gap-2`,children:[o.jsx(Bd,{className:"h-4 w-4"}),o.jsx("span",{children:g})]}),o.jsx("button",{onClick:()=>i(s==="dark"?"light":"dark"),className:`h-10 w-10 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:bg-black/[0.08] dark:hover:bg-white/[0.05] transition-colors rounded-full`,children:d&&s==="dark"?o.jsx(MN,{size:20}):o.jsx(a0,{size:20})}),o.jsx(ti,{to:"/notifications",className:`h-10 w-10 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:bg-black/[0.08] dark:hover:bg-white/[0.05] transition-colors rounded-full`,children:o.jsx($N,{size:20})})]})]})}),o.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-[#F6F9F9]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 border-t border-black/[0.03] dark:border-white/[0.03]",children:o.jsx("nav",{className:"flex justify-around items-center py-2",children:E.map((j,k)=>{let N=h===j.href;return j.href==="/home"?N=h==="/home"||h==="/dashboard"||v.includes("/home")||v.includes("/dashboard"):j.href==="/academy/home"?N=h==="/academy/home"||h==="/academy/dashboard"||v.includes("/academy/home")||v.includes("/academy/dashboard"):N=h===j.href||v.endsWith(j.href),o.jsxs(ti,{to:j.href,className:de("flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-200 min-w-0 flex-1 mx-1",N?"text-gray-600":"text-gray-600 hover:text-breneo-blue"),children:[o.jsx(j.icon,{size:20,className:de("transition-colors duration-200 mb-1",N?"text-breneo-blue":"text-gray-600 group-hover:text-breneo-blue")}),o.jsx("span",{className:de("text-xs font-medium transition-colors duration-200 text-center",N?"text-gray-600":"text-gray-600 group-hover:text-breneo-blue"),children:j.label})]},k)})})}),o.jsxs("div",{className:de("hidden md:flex fixed top-4 left-4 bottom-4 z-40 bg-[#FFFFFF] dark:bg-card border border-gray-200 dark:border-border transition-all duration-300 flex-col rounded-2xl",e?"w-20":"w-64"),children:[o.jsx("div",{className:"p-4 flex items-center justify-between border-b border-gray-100 dark:border-border",children:e?o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:"h-5 w-10 object-cover object-left"}):o.jsx(ti,{to:S,className:"flex items-center space-x-2",children:o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:"h-8"})})}),o.jsxs("div",{className:"flex flex-col flex-1",children:[o.jsx("div",{className:"flex-1 overflow-y-auto pt-8",children:o.jsx("nav",{className:"space-y-2 px-4",children:w.map((j,k)=>{let N=h===j.href;return j.href==="/home"?N=h==="/home"||h==="/dashboard"||v.includes("/home")||v.includes("/dashboard"):j.href==="/academy/home"?N=h==="/academy/home"||h==="/academy/dashboard"||v.includes("/academy/home")||v.includes("/academy/dashboard"):N=h===j.href||v.endsWith(j.href),o.jsxs(ti,{to:j.href,className:de("flex items-center space-x-4 px-4 py-4 rounded-xl transition-all duration-200 group",N?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[o.jsx(j.icon,{size:22,className:de("transition-colors duration-200 flex-shrink-0",N?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&o.jsxs("span",{className:de("font-medium text-base transition-colors duration-200 flex items-center gap-3",N?"text-breneo-blue":"text-gray-600 group-hover:text-breneo-blue"),children:[j.label,j.href==="/webinars"&&o.jsx(or,{className:"bg-breneo-blue text-white border-0 px-3 py-0.8 text-[12px] font-semibold hidden md:inline-flex",children:"Soon"})]})]},k)})})}),o.jsxs("div",{className:"px-4 pb-4",children:[o.jsx("div",{className:"border-t border-gray-200 dark:border-border mb-4"}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs(ti,{to:_,className:de("flex items-center space-x-4 px-4 py-4 rounded-xl transition-all duration-200 group",h===_?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[o.jsx(eb,{size:22,className:de("flex-shrink-0 transition-colors duration-200",h===_?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&o.jsx("span",{className:"font-medium text-base",children:u.nav.settings})]}),o.jsxs(ti,{to:"/help",className:de("flex items-center space-x-4 px-4 py-4 rounded-xl transition-all duration-200 group",h==="/help"?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[o.jsx(sse,{size:22,className:de("flex-shrink-0 transition-colors duration-200",h==="/help"?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&o.jsx("span",{className:"font-medium text-base",children:u.nav.help})]}),!m&&o.jsx(ti,{to:"/subscription",className:de("flex items-center justify-between px-3 py-2 rounded-md transition-all duration-200 group","bg-gradient-to-r from-breneo-blue/10 to-purple-500/10 dark:from-breneo-blue/20 dark:to-purple-500/20","border border-breneo-blue/20 dark:border-breneo-blue/30","hover:from-breneo-blue/15 hover:to-purple-500/15 dark:hover:from-breneo-blue/25 dark:hover:to-purple-500/25",e&&"justify-center px-2"),children:e?o.jsx(n0,{size:14,className:"text-breneo-blue"}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[o.jsx(n0,{size:14,className:"text-breneo-blue flex-shrink-0"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-200 truncate",children:u.subscription.upgrade})]}),o.jsx(Ia,{size:14,className:"text-breneo-blue flex-shrink-0 group-hover:translate-x-0.5 transition-transform"})]})})]}),o.jsx("div",{className:"border-t border-gray-200 dark:border-border mt-4 pt-4",children:o.jsxs(ti,{to:b,className:"flex items-center space-x-4 px-4 py-2 rounded-xl hover:bg-gray-50 transition-all duration-200 group",children:[o.jsx("div",{className:de("flex items-center justify-center w-8 h-8 rounded-[12px] text-sm font-semibold shrink-0",a!=null&&a.profile_image?"overflow-hidden":"bg-[#AAF0FF] text-[#099DBC]"),children:a!=null&&a.profile_image?o.jsx("img",{src:a.profile_image,alt:"Profile",className:"w-full h-full object-cover rounded-[12px]"}):x()}),!e&&o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm text-gray-700",children:y()}),o.jsx("p",{className:"text-xs text-gray-400",children:a==null?void 0:a.email})]})]})})]})]})]})]})}const t7=e=>/^(\/(en|ka))?\/jobs\/[^/]+$/.test(e),r7=e=>/^(\/(en|ka))?\/course\/[^/]+$/.test(e),wle=e=>e.includes("/skill-path"),_le=(e,t,r)=>r?t7(e)||r7(e)?null:e.startsWith("/home")||e.startsWith("/academy/home")?o.jsxs(o.Fragment,{children:[r.dashboard.welcome,","," ",o.jsx("span",{className:"font-bold",children:t||"User"}),"!"]}):e.startsWith("/dashboard")||e.startsWith("/academy/dashboard")?o.jsxs(o.Fragment,{children:[r.dashboard.welcome,","," ",o.jsx("span",{className:"font-bold",children:t||"User"}),"!"]}):e.startsWith("/jobs")?r.jobs.title:e.startsWith("/courses")?r.courses.title:e.startsWith("/settings")||e.startsWith("/academy/settings")?r.settings.title:e.startsWith("/profile")||e.startsWith("/academy/profile")?r.profile.title:e.startsWith("/notifications")?r.notifications.title:e.startsWith("/skill-test")?r.skillTest.title:e.startsWith("/skill-path")?null:r.nav.home:"Home";function Sle({sidebarCollapsed:e,isVisible:t}){var b;const r=Va(),n=hr(),{user:a}=br(),{theme:s,setTheme:i}=Pl(),{language:l,setLanguage:c}=Gs(),u=po(),[d,f]=R.useState(!1),h=(a==null?void 0:a.first_name)||((b=a==null?void 0:a.email)==null?void 0:b.split("@")[0])||"User",g=Yp(r.pathname),v=_le(g,h,u),m=t7(g),y=r7(g),x=wle(g),w=l==="ka"?"GEO":"EN";return R.useEffect(()=>{f(!0)},[]),o.jsx("header",{className:de("fixed top-0 right-0 z-30","bg-gradient-to-b from-breneo-lightgray dark:from-background to-transparent","transition-opacity duration-300 ease-in-out",e?"md:left-24":"md:left-[17rem]","left-0",t?"opacity-100":"opacity-0 pointer-events-none"),children:o.jsxs("div",{className:"flex items-center justify-between px-5 sm:px-9 md:px-12 lg:px-14 pt-6 pb-4",children:[o.jsx("div",{className:"hidden md:flex items-center space-x-3",children:m||y||x?o.jsxs(re,{variant:"ghost",onClick:()=>n(-1),className:`relative h-10 px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                         text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200
                         text-sm font-medium flex items-center gap-2 transition-colors`,children:[o.jsx(cp,{className:"h-4 w-4"}),o.jsx("span",{children:u.common.back})]}):v&&o.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:v})}),o.jsx("div",{className:"md:hidden"}),o.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[o.jsxs(re,{variant:"ghost",onClick:()=>c(l==="en"?"ka":"en"),className:`relative h-10 px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                       text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200
                       text-sm font-medium flex items-center gap-2 transition-colors`,children:[o.jsx(Bd,{className:"h-4 w-4"}),o.jsx("span",{children:w})]}),o.jsxs(re,{variant:"ghost",size:"icon",onClick:()=>i(s==="dark"?"light":"dark"),className:`relative h-10 w-10 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                       text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors`,children:[d&&s==="dark"?o.jsx(MN,{className:"h-5 w-5"}):o.jsx(a0,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),o.jsx(ti,{to:"/notifications",children:o.jsxs(re,{variant:"ghost",size:"icon",className:`relative h-10 w-10 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                         text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors`,children:[o.jsx($N,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Notifications"})]})})]})]})})}function Dt({children:e,showSidebar:t=!0,showHeader:r=!0,background:n="default"}){const[a,s]=p.useState(!1),[i,l]=p.useState(!0),c=p.useRef(null),u=()=>{s(d=>!d)};return p.useEffect(()=>{const d=c.current;if(!d)return;const f=()=>{d.scrollTop>50?l(!1):l(!0)};return d.addEventListener("scroll",f),()=>{d.removeEventListener("scroll",f)}},[]),o.jsxs("div",{className:de("h-screen overflow-hidden",n==="white"?"bg-white":"bg-breneo-lightgray"),children:[t&&o.jsx(XN,{collapsed:a,toggleSidebar:u}),r&&o.jsx(Sle,{sidebarCollapsed:a,isVisible:i}),o.jsx("main",{ref:c,className:de("h-full overflow-y-auto transition-all duration-300",t&&(a?"md:ml-24":"md:ml-[17rem]"),r&&"pt-24 pb-32 md:pt-24 md:pb-0",(t||r)&&"px-3 md:px-6"),children:o.jsx("div",{className:"h-full",children:e})})]})}function Ar({className:e,...t}){return o.jsx("div",{className:de("animate-pulse rounded-md bg-muted",e),...t})}const qd=p.forwardRef(({value:e,size:t=60,strokeWidth:r=3,className:n,showLabel:a=!0,matchLabel:s,percentageTextSize:i="lg"},l)=>{const c=(t-r)/2,u=2*Math.PI*c,d=Math.max(0,Math.min(100,e)),f=u-d/100*u,h=s||(e>=70?"GOOD MATCH":"FAIR MATCH"),g={sm:"text-xs",md:"text-sm",lg:"text-lg",xl:"text-xl"};return o.jsxs("div",{ref:l,className:de("flex items-center gap-2",n),children:[a&&o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:h}),o.jsxs("div",{className:"relative",style:{width:t,height:t},children:[o.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",style:{overflow:"visible"},children:[o.jsx("circle",{cx:t/2,cy:t/2,r:c,fill:"none",stroke:"currentColor",strokeWidth:r,className:"text-gray-200/40 dark:text-gray-700/40"}),o.jsx("circle",{cx:t/2,cy:t/2,r:c,fill:"none",stroke:"currentColor",strokeWidth:r,strokeDasharray:u,strokeDashoffset:f,strokeLinecap:"round",className:"transition-all duration-500 ease-out"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("span",{className:de("font-bold text-gray-700 dark:text-gray-300",g[i]),children:[Math.round(e),"%"]})})]})]})});qd.displayName="RadialProgress";const jle="modulepreload",kle=function(e){return"/"+e},D$={},ug=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=kle(c),c in D$)return;D$[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":jle,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Ele=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ug(async()=>{const{default:n}=await Promise.resolve().then(()=>Tf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class QN extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Nle extends QN{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Cle extends QN{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ple extends QN{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var zj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zj||(zj={}));var Ale=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Tle{constructor(t,{headers:r={},customFetch:n,region:a=zj.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Ele(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Ale(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new Nle(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Cle(d);if(!d.ok)throw new Ple(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(a){return{data:null,error:a}}})}}var ga={},ZN={},hb={},dg={},pb={},mb={},Ole=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wd=Ole();const $le=Wd.fetch,n7=Wd.fetch.bind(Wd),a7=Wd.Headers,Rle=Wd.Request,Ile=Wd.Response,Tf=Object.freeze(Object.defineProperty({__proto__:null,Headers:a7,Request:Rle,Response:Ile,default:n7,fetch:$le},Symbol.toStringTag,{value:"Module"})),Mle=bK(Tf);var gb={};Object.defineProperty(gb,"__esModule",{value:!0});let Lle=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gb.default=Lle;var s7=Hn&&Hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mb,"__esModule",{value:!0});const Dle=s7(Mle),Fle=s7(gb);let Ble=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Dle.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var i,l,c;let u=null,d=null,f=null,h=s.status,g=s.statusText;if(s.ok){if(this.method!=="HEAD"){const x=await s.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const m=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),y=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await s.text();try{u=JSON.parse(m),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,g="OK")}catch{s.status===404&&m===""?(h=204,g="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new Fle.default(u)}return{error:u,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(a=a.catch(s=>{var i,l,c;return{error:{message:`${(i=s==null?void 0:s.name)!==null&&i!==void 0?i:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};mb.default=Ble;var Ule=Hn&&Hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pb,"__esModule",{value:!0});const zle=Ule(mb);let qle=class extends zle.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:s=a}={}){const i=s?`${s}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const s=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:s=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};pb.default=qle;var Wle=Hn&&Hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dg,"__esModule",{value:!0});const Hle=Wle(pb);let Vle=class extends Hle.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};dg.default=Vle;var Kle=Hn&&Hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hb,"__esModule",{value:!0});const xh=Kle(dg);let Gle=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let s=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new xh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new xh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new xh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new xh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new xh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};hb.default=Gle;var vb={},yb={};Object.defineProperty(yb,"__esModule",{value:!0});yb.version=void 0;yb.version="0.0.0-automated";Object.defineProperty(vb,"__esModule",{value:!0});vb.DEFAULT_HEADERS=void 0;const Jle=yb;vb.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Jle.version}`};var i7=Hn&&Hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ZN,"__esModule",{value:!0});const Yle=i7(hb),Xle=i7(dg),Qle=vb;let Zle=class o7{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},Qle.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new Yle.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new o7(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new Xle.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ZN.default=Zle;var Of=Hn&&Hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ga,"__esModule",{value:!0});ga.PostgrestError=ga.PostgrestBuilder=ga.PostgrestTransformBuilder=ga.PostgrestFilterBuilder=ga.PostgrestQueryBuilder=ga.PostgrestClient=void 0;const l7=Of(ZN);ga.PostgrestClient=l7.default;const c7=Of(hb);ga.PostgrestQueryBuilder=c7.default;const u7=Of(dg);ga.PostgrestFilterBuilder=u7.default;const d7=Of(pb);ga.PostgrestTransformBuilder=d7.default;const f7=Of(mb);ga.PostgrestBuilder=f7.default;const h7=Of(gb);ga.PostgrestError=h7.default;var ece=ga.default={PostgrestClient:l7.default,PostgrestQueryBuilder:c7.default,PostgrestFilterBuilder:u7.default,PostgrestTransformBuilder:d7.default,PostgrestBuilder:f7.default,PostgrestError:h7.default};const{PostgrestClient:tce,PostgrestQueryBuilder:xFe,PostgrestFilterBuilder:bFe,PostgrestTransformBuilder:wFe,PostgrestBuilder:_Fe,PostgrestError:SFe}=ece;let qj;typeof window>"u"?qj=require("ws"):qj=window.WebSocket;const rce=qj,nce="2.11.10",ace={"X-Client-Info":`realtime-js/${nce}`},sce="1.0.0",p7=1e4,ice=1e3;var sd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(sd||(sd={}));var Yn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Yn||(Yn={}));var Cs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Cs||(Cs={}));var Wj;(function(e){e.websocket="websocket"})(Wj||(Wj={}));var tc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(tc||(tc={}));class oce{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+a));i=i+a;const c=n.decode(t.slice(i,i+s));i=i+s;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class m7{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var cr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(cr||(cr={}));const F$=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,i)=>(s[i]=lce(i,e,t,a),s),{})},lce=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,i=r[e];return s&&!n.includes(s)?g7(s,i):Hj(i)},g7=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return fce(t,r)}switch(e){case cr.bool:return cce(t);case cr.float4:case cr.float8:case cr.int2:case cr.int4:case cr.int8:case cr.numeric:case cr.oid:return uce(t);case cr.json:case cr.jsonb:return dce(t);case cr.timestamp:return hce(t);case cr.abstime:case cr.date:case cr.daterange:case cr.int4range:case cr.int8range:case cr.money:case cr.reltime:case cr.text:case cr.time:case cr.timestamptz:case cr.timetz:case cr.tsrange:case cr.tstzrange:return Hj(t);default:return Hj(t)}},Hj=e=>e,cce=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},uce=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dce=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},fce=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(l=>g7(t,l))}return e},hce=e=>typeof e=="string"?e.replace(" ","T"):e,v7=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class F1{constructor(t,r,n={},a=p7){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var B$;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(B$||(B$={}));class fp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fp.syncState(this.state,a,s,i),this.pendingDiffs.forEach(c=>{this.state=fp.syncDiff(this.state,c,s,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=fp.syncDiff(this.state,a,s,i),l())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=s[u];if(f){const h=d.map(y=>y.presence_ref),g=f.map(y=>y.presence_ref),v=d.filter(y=>g.indexOf(y.presence_ref)<0),m=f.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(l[u]=v),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var U$;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(U$||(U$={}));var z$;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(z$||(z$={}));var Fi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fi||(Fi={}));class eC{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Yn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new F1(this,Cs.join,this.params,this.timeout),this.rejoinTimer=new m7(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cs.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new fp(this),this.broadcastEndpointURL=v7(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Fi.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Fi.CLOSED));const c={},u={broadcast:s,presence:i,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Fi.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let m=0;m<g;m++){const y=h[m],{filter:{event:x,schema:w,table:b,filter:_}}=y,S=d&&d[m];if(S&&S.event===x&&S.schema===w&&S.table===b&&S.filter===_)v.push(Object.assign(Object.assign({},y),{id:S.id}));else{this.unsubscribe(),this.state=Yn.errored,t==null||t(Fi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Fi.SUBSCRIBED);return}}).receive("error",d=>{this.state=Yn.errored,t==null||t(Fi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Yn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cs.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const a=new F1(this,Cs.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new F1(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Cs;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(g=>{var v,m,y;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(m=g.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(g=>g.callback(h,n)):(s=this.bindings[i])===null||s===void 0||s.filter(g=>{var v,m,y,x,w,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const _=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(w=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:y,commit_timestamp:x,type:w,errors:b}=v;h=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:x,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(v))}g.callback(h,n)})}_isClosed(){return this.state===Yn.closed}_isJoined(){return this.state===Yn.joined}_isJoining(){return this.state===Yn.joining}_isLeaving(){return this.state===Yn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&eC.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Cs.close,{},t)}_onError(t){this._on(Cs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=F$(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=F$(t.columns,t.old_record)),r}}const q$=()=>{},pce=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mce{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=ace,this.params={},this.timeout=p7,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=q$,this.ref=0,this.logger=q$,this.conn=null,this.sendBuffer=[],this.serializer=new oce,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...l)=>ug(async()=>{const{default:c}=await Promise.resolve().then(()=>Tf);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${Wj.websocket}`,this.httpEndpoint=v7(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,i)=>i(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new m7(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=rce),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new gce(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:sce}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case sd.connecting:return tc.Connecting;case sd.open:return tc.Open;case sd.closing:return tc.Closing;default:return tc.Closed}}isConnected(){return this.connectionState()===tc.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new eC(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Cs.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(ice,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:s,ref:i}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${a} ${i&&"("+i+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,s,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Cs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([pce],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class gce{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=sd.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class tC extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class vce extends tC{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Vj extends tC{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var yce=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const y7=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ug(async()=>{const{default:n}=await Promise.resolve().then(()=>Tf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},xce=()=>yce(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ug(()=>Promise.resolve().then(()=>Tf),void 0)).Response:Response}),Kj=e=>{if(Array.isArray(e))return e.map(r=>Kj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=Kj(n)}),t};var Gc=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const B1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bce=(e,t,r)=>Gc(void 0,void 0,void 0,function*(){const n=yield xce();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new vce(B1(a),e.status||500))}).catch(a=>{t(new Vj(B1(a),a))}):t(new Vj(B1(e),e))}),wce=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function fg(e,t,r,n,a,s){return Gc(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,wce(t,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>bce(c,l,n))})})}function d0(e,t,r,n){return Gc(this,void 0,void 0,function*(){return fg(e,"GET",t,r,n)})}function Lo(e,t,r,n,a){return Gc(this,void 0,void 0,function*(){return fg(e,"POST",t,n,a,r)})}function _ce(e,t,r,n,a){return Gc(this,void 0,void 0,function*(){return fg(e,"PUT",t,n,a,r)})}function Sce(e,t,r,n){return Gc(this,void 0,void 0,function*(){return fg(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function x7(e,t,r,n,a){return Gc(this,void 0,void 0,function*(){return fg(e,"DELETE",t,n,a,r)})}var ca=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const jce={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},W$={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kce{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=y7(a)}uploadOrUpdate(t,r,n,a){return ca(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},W$),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:s,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(dn(s))return{data:null,error:s};throw s}})}upload(t,r,n){return ca(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ca(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:W$.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(dn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ca(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield Lo(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+s.url),l=i.searchParams.get("token");if(!l)throw new tC("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(dn(n))return{data:null,error:n};throw n}})}update(t,r,n){return ca(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ca(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(dn(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ca(this,void 0,void 0,function*(){try{return{data:{path:(yield Lo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(dn(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ca(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield Lo(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(dn(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ca(this,void 0,void 0,function*(){try{const a=yield Lo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(dn(a))return{data:null,error:a};throw a}})}download(t,r){return ca(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield d0(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(dn(l))return{data:null,error:l};throw l}})}info(t){return ca(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield d0(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Kj(n),error:null}}catch(n){if(dn(n))return{data:null,error:n};throw n}})}exists(t){return ca(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Sce(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(dn(n)&&n instanceof Vj){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ca(this,void 0,void 0,function*(){try{return{data:yield x7(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}list(t,r,n){return ca(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},jce),r),{prefix:t||""});return{data:yield Lo(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(dn(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Ece="2.7.1",Nce={"X-Client-Info":`storage-js/${Ece}`};var cu=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Cce{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Nce),r),this.fetch=y7(n)}listBuckets(){return cu(this,void 0,void 0,function*(){try{return{data:yield d0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(dn(t))return{data:null,error:t};throw t}})}getBucket(t){return cu(this,void 0,void 0,function*(){try{return{data:yield d0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return cu(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(dn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return cu(this,void 0,void 0,function*(){try{return{data:yield _ce(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(dn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return cu(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return cu(this,void 0,void 0,function*(){try{return{data:yield x7(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}}class Pce extends Cce{constructor(t,r={},n){super(t,r,n)}from(t){return new kce(this.url,this.headers,t,this.fetch)}}const Ace="2.50.0";let Vh="";typeof Deno<"u"?Vh="deno":typeof document<"u"?Vh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vh="react-native":Vh="node";const Tce={"X-Client-Info":`supabase-js-${Vh}/${Ace}`},Oce={headers:Tce},$ce={schema:"public"},Rce={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ice={};var Mce=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Lce=e=>{let t;return e?t=e:typeof fetch>"u"?t=n7:t=fetch,(...r)=>t(...r)},Dce=()=>typeof Headers>"u"?a7:Headers,Fce=(e,t,r)=>{const n=Lce(r),a=Dce();return(s,i)=>Mce(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},i),{headers:u}))})};var Bce=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Uce(e){return e.endsWith("/")?e:e+"/"}function zce(e,t){var r,n;const{db:a,auth:s,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Bce(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const b7="2.70.0",Eu=30*1e3,Gj=3,U1=Gj*Eu,qce="http://localhost:9999",Wce="supabase.auth.token",Hce={"X-Client-Info":`gotrue-js/${b7}`},Jj="X-Supabase-Api-Version",w7={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vce=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kce=6e5;class rC extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function kt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Gce extends rC{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Jce(e){return kt(e)&&e.name==="AuthApiError"}class _7 extends rC{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Tl extends rC{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class To extends Tl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yce(e){return kt(e)&&e.name==="AuthSessionMissingError"}class fv extends Tl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hv extends Tl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class pv extends Tl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xce(e){return kt(e)&&e.name==="AuthImplicitGrantRedirectError"}class H$ extends Tl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yj extends Tl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function z1(e){return kt(e)&&e.name==="AuthRetryableFetchError"}class V$ extends Tl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class hp extends Tl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const f0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),K$=` 	
\r=`.split(""),Qce=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<K$.length;t+=1)e[K$[t].charCodeAt(0)]=-2;for(let t=0;t<f0.length;t+=1)e[f0[t].charCodeAt(0)]=t;return e})();function G$(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(f0[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(f0[n]),t.queuedBits-=6}}function S7(e,t,r){const n=Qce[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function J$(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{tue(i,n,r)};for(let i=0;i<e.length;i+=1)S7(e.charCodeAt(i),a,s);return t.join("")}function Zce(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function eue(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Zce(n,t)}}function tue(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function rue(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)S7(e.charCodeAt(a),r,n);return new Uint8Array(t)}function nue(e){const t=[];return eue(e,r=>t.push(r)),new Uint8Array(t)}function aue(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>G$(a,r,n)),G$(null,r,n),t.join("")}function sue(e){return Math.round(Date.now()/1e3)+e}function iue(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ss=()=>typeof window<"u"&&typeof document<"u",ql={tested:!1,writable:!1},pp=()=>{if(!Ss())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ql.tested)return ql.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ql.tested=!0,ql.writable=!0}catch{ql.tested=!0,ql.writable=!1}return ql.writable};function oue(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const j7=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ug(async()=>{const{default:n}=await Promise.resolve().then(()=>Tf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},lue=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",k7=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},mv=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},gv=async(e,t)=>{await e.removeItem(t)};class xb{constructor(){this.promise=new xb.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}xb.promiseConstructor=Promise;function q1(e){const t=e.split(".");if(t.length!==3)throw new hp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Vce.test(t[n]))throw new hp("JWT not in base64url format");return{header:JSON.parse(J$(t[0])),payload:JSON.parse(J$(t[1])),signature:rue(t[2]),raw:{header:t[0],payload:t[1]}}}async function cue(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uue(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function due(e){return("0"+e.toString(16)).substr(-2)}function fue(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,due).join("")}async function hue(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function pue(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hue(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function uu(e,t,r=!1){const n=fue();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await k7(e,`${t}-code-verifier`,a);const s=await pue(n);return[s,n===s?"plain":"s256"]}const mue=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gue(e){const t=e.headers.get(Jj);if(!t||!t.match(mue))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vue(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yue(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xue=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function du(e){if(!xue.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var bue=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Gl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wue=[502,503,504];async function Y$(e){var t;if(!lue(e))throw new Yj(Gl(e),0);if(wue.includes(e.status))throw new Yj(Gl(e),e.status);let r;try{r=await e.json()}catch(s){throw new _7(Gl(s),s)}let n;const a=gue(e);if(a&&a.getTime()>=w7["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new V$(Gl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new To}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new V$(Gl(r),e.status,r.weak_password.reasons);throw new Gce(Gl(r),e.status||500,n)}const _ue=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function $t(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[Jj]||(s[Jj]=w7["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await Sue(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Sue(e,t,r,n,a,s){const i=_ue(t,n,a,s);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Yj(Gl(c),0)}if(l.ok||await Y$(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Y$(c)}}function Ri(e){var t;let r=null;Nue(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=sue(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function X$(e){const t=Ri(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Uo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function jue(e){return{data:e,error:null}}function kue(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=bue(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Eue(e){return e}function Nue(e){return e.access_token&&e.refresh_token&&e.expires_in}const W1=["global","local","others"];var Cue=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class Pue{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=j7(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=W1[0]){if(W1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${W1.join(", ")}`);try{return await $t(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await $t(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Uo})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Cue(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await $t(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:kue,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(kt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $t(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Uo})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await $t(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:Eue});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(kt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){du(t);try{return await $t(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Uo})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){du(t);try{return await $t(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Uo})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){du(t);try{return await $t(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Uo})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){du(t.userId);try{const{data:r,error:n}=await $t(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){du(t.userId),du(t.id);try{return{data:await $t(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}}const Aue={getItem:e=>pp()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{pp()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{pp()&&globalThis.localStorage.removeItem(e)}};function Q$(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Tue(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fu={debug:!!(globalThis&&pp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class E7 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Oue extends E7{}async function $ue(e,t,r){fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Oue(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Tue();const Rue={url:qce,storageKey:Wce,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Z$(e,t,r){return await r()}class tm{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tm.nextInstanceID,tm.nextInstanceID+=1,this.instanceID>0&&Ss()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Rue),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Pue({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=j7(a.fetch),this.lock=a.lock||Z$,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ss()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=$ue:this.lock=Z$,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:pp()?this.storage=Aue:(this.memoryStorage={},this.storage=Q$(this.memoryStorage)):(this.memoryStorage={},this.storage=Q$(this.memoryStorage)),Ss()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${b7}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=oue(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ss()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Xce(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return kt(r)?{error:r}:{error:new _7("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await $t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ri}),{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await uu(this.storage,this.storageKey)),s=await $t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:Ri})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await $t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ri})}else throw new hv("You must provide either an email or phone number and a password");const{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:l}=t;r=await $t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:X$})}else if("phone"in t){const{phone:s,password:i,options:l}=t;r=await $t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:X$})}else throw new hv("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fv}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,s,i,l,c,u,d,f,h,g;let v,m;if("message"in t)v=t.message,m=t.signature;else{const{chain:y,wallet:x,statement:w,options:b}=t;let _;if(Ss())if(typeof x=="object")_=x;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let j;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")j=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)j=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),m=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=E}}try{const{data:y,error:x}=await $t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:aue(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ri});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new fv}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(kt(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await mv(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:i}=await $t(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ri});if(await gv(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new fv}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(kt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=t,l=await $t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ri}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new fv}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await uu(this.storage,this.storageKey));const{error:f}=await $t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await $t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new hv("You must provide either an email or phone number.")}catch(l){if(kt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await $t(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Ri});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(kt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await uu(this.storage,this.storageKey)),await $t(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:jue})}catch(s){if(kt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new To;const{error:a}=await $t(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(kt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:i}=await $t(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:i,error:l}=await $t(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new hv("You must provide either an email or phone number and a type")}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await mv(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<U1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Uo}):await this._useSession(async r=>{var n,a,s;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new To}:await $t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Uo})})}catch(r){if(kt(r))return Yce(r)&&(await this._removeSession(),await gv(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new To;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await uu(this.storage,this.storageKey));const{data:u,error:d}=await $t(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Uo});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new To;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:i}=q1(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(kt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new To;const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ss())throw new pv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new pv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new H$("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new H$("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!i||!u)throw new pv("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const g=h-d;g*1e3<=Eu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:m,error:y}=await this._getUser(s);if(y)throw y;const x={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(kt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await mv(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(Jce(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await gv(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=iue(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await uu(this.storage,this.storageKey,!0));try{return await $t(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(kt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await $t(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Ss()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(kt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await $t(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await uue(async a=>(a>0&&await cue(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await $t(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ri})),(a,s)=>{const i=200*Math.pow(2,a);return s&&z1(s)&&Date.now()+i-n<Eu})}catch(n){if(this._debug(r,"error",n),kt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ss()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await mv(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<U1;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${U1}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),z1(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new To;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new xb;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new To;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),kt(s)){const i={session:null,error:s};return z1(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(i),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await k7(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await gv(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ss()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Eu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Eu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Eu}ms, refresh threshold is ${Gj} ticks`),a<=Gj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof E7)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ss()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await uu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await $t(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await $t(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const{data:i,error:l}=await $t(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(kt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await $t(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(kt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),s=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:s}=t;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=q1(a.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+Kce>Date.now()))return n;const{data:a,error:s}=await $t(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new hp("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(i=>i.kid===t),!n)throw new hp("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};n=g.session.access_token}const{header:a,payload:s,signature:i,raw:{header:l,payload:c}}=q1(n);if(vue(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:s,header:a,signature:i},error:null}}const u=yue(a.alg),d=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,nue(`${l}.${c}`)))throw new hp("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}}tm.nextInstanceID=0;const Iue=tm;class Mue extends Iue{constructor(t){super(t)}}var Lue=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Due{constructor(t,r,n){var a,s,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Uce(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:$ce,realtime:Ice,auth:Object.assign(Object.assign({},Rce),{storageKey:u}),global:Oce},f=zce(n??{},d);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=Fce(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new tce(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Tle(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Pce(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Lue(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:s,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mue({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new mce(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Fue=(e,t,r)=>new Due(e,t,r),Bue="https://kwvpfetgerukuglqeuzl.supabase.co",Uue="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt3dnBmZXRnZXJ1a3VnbHFldXpsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNDYzNjEsImV4cCI6MjA2NTgyMjM2MX0.oQNRxz5hNqp_YVkIJ0KOtVSgAksQ0km6iESqiWI8wHw",Vt=Fue(Bue,Uue),Jc=async e=>{const t=String(e),r=[lp(t),t],n=parseInt(t,10);!isNaN(n)&&n.toString()===t&&r.push(lp(n)),console.log(" getUserTestAnswers - Trying variants:",{originalUserId:e,userIdStr:t,variants:r});for(const a of r)try{const{data:s,error:i}=await Vt.from("usertestanswers").select("*").eq("userid",a).order("answeredat",{ascending:!0});if(i){console.warn(` Error fetching with variant ${a}:`,i.message);continue}if(s&&s.length>0)return console.log(` Found ${s.length} test answers for user ${a}`),s;console.log(` No answers found for variant ${a}`)}catch(s){console.warn(` Exception with variant ${a}:`,s);continue}try{const{data:{user:a}}=await Vt.auth.getUser();if(a){console.log(" Trying with auth user ID:",a.id);const{data:s,error:i}=await Vt.from("usertestanswers").select("*").eq("userid",a.id).order("answeredat",{ascending:!0});if(!i&&s&&s.length>0)return console.log(` Found ${s.length} test answers using auth user ID`),s}}catch(a){console.warn(" Could not get auth user:",a)}return console.log(" No test answers found with any variant"),[]},Yc=e=>{const t={};return!e||!Array.isArray(e)?(console.error("Invalid answers array:",e),t):(e.forEach(r=>{const n=r.relatedSkills||r.relatedskills||[];Array.isArray(n)&&n.forEach(a=>{a&&typeof a=="string"&&(t[a]=(t[a]||0)+1)})}),t)},bb=(e,t=3)=>Object.entries(e).sort(([,r],[,n])=>n-r).slice(0,t).map(([r,n])=>({skill:r,score:n})),mp=e=>{const t=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"];return e.filter(r=>{const n=r.toLowerCase().trim();return!t.some(a=>n.includes(a)||a.includes(n))})},Xj="https://breneo-job-aggregator.onrender.com/api/";let eR=0;const tR=1e3,N7=async(e,t)=>{const n=Date.now()-eR;if(n<tR){const a=tR-n;await new Promise(s=>setTimeout(s,a))}return eR=Date.now(),fetch(e,t)},zue=e=>{const t={id:String(e.id),job_id:e.external_job_id||String(e.id),title:e.title,job_title:e.title,company:e.company,company_name:e.company,employer_name:e.company,location:e.location,job_location:e.location,description:e.description,job_description:e.description,apply_url:e.apply_url,job_apply_link:e.apply_url,url:e.apply_url,date_posted:e.posted_at||e.fetched_at,posted_date:e.posted_at||e.fetched_at,status:e.is_active?"active":"inactive"};return e.raw&&typeof e.raw=="object"&&!Array.isArray(e.raw)?{...t,...e.raw}:t},nC=async e=>{const{query:t,filters:r,page:n=1}=e,a=Xj;console.log(" Breneo Job API Request:",{url:a,filters:{countries:r.countries,jobTypes:r.jobTypes,isRemote:r.isRemote,datePosted:r.datePosted||"all",skills:r.skills},query:t,page:n});try{const s=await N7(a,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log(" API Response Status:",s.status,s.statusText),s.status===429)throw new Error("You have exceeded your API request limit. Please try again later.");if(!s.ok){let u=`Failed to fetch jobs: ${s.status} ${s.statusText}`;try{const d=await s.text();if(console.error(" API Error Response:",d),d)try{const f=JSON.parse(d);f.message?u=f.message:f.error&&(u=f.error),console.error(" API Error Details:",f)}catch{u=`${u} - ${d}`}}catch(d){console.error(" Could not read error response body:",d)}throw new Error(u)}const i=await s.json();console.log(" API Response received, type:",Array.isArray(i)?"Array":typeof i);let l=[];if(Array.isArray(i)){const u=i;console.log(` Received ${u.length} total jobs from API`);const d=u.filter(f=>f.is_active);console.log(` ${d.length} active jobs after filtering`),l=d.map(zue),console.log(` Mapped ${l.length} jobs to ApiJob format`)}else throw console.error(" Unexpected API response format:",i),new Error("Invalid response format from API - expected array of jobs");if(l.length===0)return console.warn(" No jobs returned from API"),[];console.log(` Starting frontend filtering for ${l.length} jobs`);let c=l;if(t&&t.trim()){const u=t.toLowerCase().trim().split(" ");c=c.filter(d=>{const f=[d.title||d.job_title||"",d.company||d.company_name||d.employer_name||"",d.description||d.job_description||"",d.location||d.job_location||""].join(" ").toLowerCase();return u.every(h=>f.includes(h))})}if(r.countries.length>0&&(c=c.filter(u=>{const d=String(u.location||u.job_location||"").toLowerCase();return r.countries.some(f=>{const h=Gr.find(g=>g.code.toLowerCase()===f.toLowerCase());return h?d.includes(h.name.toLowerCase())||d.includes(f.toLowerCase()):!1})})),r.isRemote&&(c=c.filter(u=>String(u.location||u.job_location||"").toLowerCase().includes("remote")||u.is_remote===!0||u.remote===!0||u.job_is_remote===!0)),r.jobTypes.length>0&&(c=c.filter(u=>{const d=(u.employment_type||u.job_employment_type||u.type||"").toUpperCase().replace(/[-\s]/g,"");return r.jobTypes.some(f=>{const h=f.toUpperCase().replace(/[-\s]/g,"");return d.includes(h)})})),r.datePosted&&r.datePosted!=="all"){const u=Date.now(),f={day:1,week:7,month:30}[r.datePosted]||30,h=u-f*24*60*60*1e3;c=c.filter(g=>{const v=g.date_posted||g.posted_date||g.job_posted_at_datetime_utc||g.postedAt;if(v)try{return new Date(v).getTime()>=h}catch{return!0}return!0})}return r.skills.length>0&&(c=c.filter(u=>{const d=[u.title||u.job_title||"",u.description||u.job_description||"",u.job_required_experience||""].join(" ").toLowerCase();return r.skills.some(f=>d.includes(f.toLowerCase()))})),console.log(" Breneo Job API Final Response:",{totalJobsFromAPI:l.length,afterFiltering:c.length,filters:{query:t||"(none)",countries:r.countries.length,jobTypes:r.jobTypes.length,isRemote:r.isRemote,skills:r.skills.length},sampleJob:c.length>0?{id:c[0].id||c[0].job_id,title:c[0].title||c[0].job_title,company:c[0].company||c[0].company_name}:null}),c}catch(s){throw console.error(" Error in fetchJobsFromBreneoAPI:",s),s instanceof TypeError&&s.message.includes("fetch")?(console.error(" Network error - API might be unreachable:",Xj),new Error("Unable to connect to job API. Please check your internet connection and try again.")):s}},C7=async e=>{if(!e)throw new Error("Job ID is required");const r=await N7(Xj,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.status===429)throw new Error("You have exceeded your API request limit. Please try again later.");if(!r.ok){let l=`Failed to fetch job details: ${r.status} ${r.statusText}`;try{const c=await r.text();if(console.error("API Error Response:",c),c)try{const u=JSON.parse(c);u.message?l=u.message:u.error&&(l=u.error),console.error("API Error Details:",u)}catch{l=`${l} - ${c}`}}catch(c){console.error("Could not read error response body:",c)}throw new Error(l)}const n=await r.json();if(!Array.isArray(n))throw console.error("Unexpected API response format:",n),new Error("Invalid response format from API");const s=n.find(l=>String(l.id)===e||l.external_job_id===e);if(!s)throw new Error(`No job found with ID: ${e}`);let i={id:String(s.id),job_id:s.external_job_id||String(s.id),title:s.title,job_title:s.title,company:s.company,company_name:s.company,employer_name:s.company,location:s.location,job_location:s.location,description:s.description,job_description:s.description,apply_url:s.apply_url,job_apply_link:s.apply_url,url:s.apply_url,date_posted:s.posted_at||s.fetched_at,posted_date:s.posted_at||s.fetched_at};return s.raw&&typeof s.raw=="object"&&!Array.isArray(s.raw)&&(i={...i,...s.raw}),console.log("Processed job detail:",i),i},aC=async e=>{try{const t=[];e.query&&e.query.trim()&&t.push(e.query.trim()),e.filters.skills.length>0&&t.push(...e.filters.skills);const r=t.length>0?t.join(" "):"",n=await nC({...e,query:r,filters:e.filters}),a=new Set,s=[];for(const h of n){const g=h.job_id||h.id||"";if(g&&!a.has(g))a.add(g),s.push(h);else if(!g){const v=`${h.job_title||h.title||""}_${h.employer_name||h.company_name||h.company||""}`;a.has(v)||(a.add(v),s.push(h))}}const i=e.pageSize||12,l=e.page||1,c=(l-1)*i,u=c+i,d=s.slice(c,u);console.log(`Fetched ${s.length} unique jobs, showing ${d.length} on page ${l}`),d.length>0&&console.log("Sample job structure:",d[0]);const f=u<s.length;return{jobs:d,page:l,pageSize:i,hasMore:f,total:s.length}}catch(t){throw console.error("Error fetching jobs:",t),t}},que=async e=>nC(e),Wue=async e=>{try{return await aC(e)}catch(t){throw console.error("Primary job source failed:",t),t}},fs={fetchActiveJobs:aC,fetchJobDetail:C7,fetchJobsFromBreneoAPI:nC,fetchJobsFromJSearch:que,fetchJobsFromMultipleSources:Wue},rR=["javascript","typescript","python","java","c++","c#","go","rust","php","ruby","swift","kotlin","scala","r","dart","perl","react","angular","vue","node.js","nodejs","express","django","flask","spring","laravel","rails","next.js","nuxt","svelte","html","css","sass","scss","tailwind","bootstrap","webpack","vite","sql","mysql","postgresql","mongodb","redis","cassandra","elasticsearch","database","dba","aws","azure","gcp","google cloud","docker","kubernetes","k8s","terraform","ansible","jenkins","ci/cd","devops","sre","cloud","software engineer","software developer","programmer","developer","programming","coding","coder","full stack","fullstack","frontend","front-end","backend","back-end","web developer","mobile developer","ios developer","android developer","react native","flutter","data scientist","data engineer","data analyst","machine learning","ml engineer","ai engineer","artificial intelligence","deep learning","neural network","computer vision","nlp","natural language processing","cybersecurity","security engineer","penetration testing","ethical hacker","information security","qa engineer","test engineer","automation engineer","sdet","quality assurance","testing","test automation","system administrator","sysadmin","network engineer","infrastructure engineer","site reliability","product manager","technical product manager","ux designer","ui designer","product designer","interaction designer","api","rest api","graphql","microservices","agile","scrum","git","github","gitlab","bitbucket","jira","confluence","code review","version control","tech","technology","software","saas","platform","startup","fintech","edtech","healthtech"],Hue=["sales","marketing","accountant","accounting","finance","banking","insurance","real estate","retail","cashier","waiter","waitress","chef","cook","nurse","doctor","physician","teacher","instructor","tutor","lawyer","attorney","legal","driver","delivery","warehouse","factory","manufacturing","construction","plumber","electrician","mechanic","barber","hairdresser","beauty","fitness","trainer","coach","therapist","counselor","social worker","customer service","call center","receptionist","administrative","secretary","reception","cleaning","janitor","maintenance","security guard","guard","officer"],Vue=e=>{const t=[e.job_title||e.title||"",e.description||"",e.job_description||"",e.job_required_experience||e.required_experience||"",e.employer_name||e.company_name||"",typeof e.company=="string"?e.company:""].join(" ").toLowerCase();return Hue.some(a=>t.includes(a.toLowerCase()))?!!rR.some(s=>{const i=s.toLowerCase(),l=(e.job_title||e.title||"").length,c=typeof e.description=="string"?e.description.length:0,u=typeof e.job_description=="string"?e.job_description.length:0;return t.includes(i)&&t.indexOf(i)<l+c+u}):rR.some(a=>t.includes(a.toLowerCase()))},gp=e=>e.filter(Vue),nR=["ashby","bamboohr","breezy","breezyhr","careerplug","comeet","cornerstoneondemand","csod","dayforce","eightfold","freshteam","gohire","greenhouse","hirehive","hiringthing","icims","jazzhr","jobvite","join.com","lever","lever.co","oraclecloud","oracle","paycom","paylocity","personio","phenompeople","phenom","pinpoint","polymer","recooty","recruitee","rippling","smartrecruiters","successfactors","taleo","teamtailor","trakstar","workable","workday","ziprecruiter","zohorecruit","zoho"],Kue=e=>{const t=[];return[e.job_apply_link,e.apply_link,e.url,e.apply_url,e.applyUrl,e.applyLink,e.application_url,e.application_link,e.link,e.company_url,e.website_url,e.jobUrl].forEach(n=>{n&&typeof n=="string"&&n.trim()&&t.push(n.trim().toLowerCase())}),t},Gue=e=>{if(!e||typeof e!="string")return!1;try{let t="";if(e.startsWith("http://")||e.startsWith("https://"))t=new URL(e).hostname.toLowerCase();else{const s=e.match(/(?:https?:\/\/)?(?:www\.)?([^/\s]+)/);s?t=s[1].toLowerCase():t=e.toLowerCase()}return t=t.replace(/^www\./,""),nR.some(s=>t.includes(s.toLowerCase()))?!0:[/\/careers?/i,/\/jobs?/i,/careers?\./i,/jobs?\./i,/\/apply/i,/\/openings/i,/\/positions/i].some(s=>e.match(s))}catch{const r=e.toLowerCase();return nR.some(n=>r.includes(n.toLowerCase()))}},Jue=e=>{const t=Kue(e);return t.length===0?!1:t.some(r=>Gue(r))},xi=e=>e.filter(Jue),aR="betaVersionModalShown",sC=()=>{const[e,t]=p.useState(!1),r=Ea(),{t:n}=Gs();p.useEffect(()=>{if(!sessionStorage.getItem(aR)){const i=setTimeout(()=>{t(!0)},500);return()=>clearTimeout(i)}},[]);const a=()=>{t(!1),sessionStorage.setItem(aR,"true")};return r?o.jsx(Un,{open:e,onOpenChange:a,children:o.jsxs(zn,{className:"max-h-[85vh]",children:[o.jsx(qn,{children:o.jsx(Wn,{className:"text-xl font-bold",children:n.beta.title})}),o.jsxs("div",{className:"px-6 pb-2",children:[o.jsx("div",{className:"flex-1 px-6 pb-4 flex flex-col items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Rocket",className:"w-32 h-32 md:w-40 md:h-40 object-contain mt-4"})}),o.jsx(VN,{className:"text-base",children:n.beta.message})]}),o.jsx("div",{className:"p-4",children:o.jsx(hi,{asChild:!0,children:o.jsx(re,{variant:"default",className:"w-full",children:n.common.close})})})]})}):o.jsx(kn,{open:e,onOpenChange:a,children:o.jsxs(mn,{className:"max-w-md",children:[o.jsx(gn,{children:o.jsx(vn,{className:"text-xl font-bold",children:n.beta.title})}),o.jsx("div",{className:"flex flex-col items-center justify-center py-4",children:o.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Rocket",className:"w-32 h-32 md:w-40 md:h-40 object-contain"})}),o.jsx("div",{className:"px-0 pb-2",children:o.jsx(jc,{className:"text-base",children:n.beta.message})}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(re,{variant:"default",onClick:a,children:n.common.close})})]})})},P7=e=>{const t=[],r=[e.job_title||e.title||"",e.description||"",e.job_description||"",e.job_required_experience||e.required_experience||""].join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]};return Object.keys(n).forEach(a=>{n[a].some(i=>r.includes(i))&&t.push(a)}),[...new Set(t)]},sR=(e,t)=>{if(!t||t.length===0)return 1;const r=P7(e);if(r.length===0)return .1;const n=c=>c.toLowerCase().trim().replace(/\s+/g," "),a=t.map(n),s=r.map(n);let i=0;return s.forEach(c=>{a.forEach(u=>{u===c?i+=2:(c.includes(u)||u.includes(c))&&(i+=1)})}),i>0?i/s.length*(i/a.length)*10:.1},Yue=(e,t)=>{if(t.length===0)return 50;if(e.length===0)return 0;const r=l=>l.toLowerCase().trim().replace(/\s+/g," "),n=e.map(r),a=t.map(r),s=n.filter(l=>a.some(c=>!!(l===c||l.includes(c)||c.includes(l)))),i=Math.round(s.length/a.length*100);return Math.min(i,100)},Xue=(e,t)=>{if(!t||t.length===0)return .5;if(!e.required_skills||e.required_skills.length===0)return .3;const r=l=>l.toLowerCase().trim().replace(/\s+/g," "),n=t.map(r),a=e.required_skills.map(r);let s=0;return a.forEach(l=>{n.forEach(c=>{c===l?s+=2:(l.includes(c)||c.includes(l))&&(s+=1)})}),s>0?s/a.length*(s/n.length)*10:.1},H1=e=>{const t=[e.job_title||e.title||"",e.description||"",e.job_description||"",e.job_required_experience||e.required_experience||""].join(" ").toLowerCase();return["developer","programmer","engineer","software","coding","programming","javascript","python","java","react","node","sql","database","frontend","backend","full stack","web developer","mobile developer","devops","cloud","aws","azure","docker","kubernetes","api","machine learning","ai","data science","analytics","cybersecurity"].some(n=>t.includes(n))},Que=async(e=[])=>{try{const t={country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:e.length>0?e:[]};return(await fs.fetchActiveJobs({query:e.length>0?"":"developer",filters:t,page:1,pageSize:50})).jobs||[]}catch(t){throw console.error("Error fetching jobs:",t),t}},iR=()=>{var Q;const{user:e,loading:t}=br(),r=hr(),n=za(),a=Ea(),s=po(),[i,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState(!0),[h,g]=p.useState(!1),v=p.useRef(null),m=p.useRef(null),[y,x]=p.useState(!1),[w,b]=p.useState(!1),[_,S]=p.useState(!1);p.useEffect(()=>{(async()=>{if(!e){f(!1),g(!1);return}try{f(!0);try{const Y=await Ce.get(`/api/skilltest/results/?user=${e.id}`);let q=null;if(Array.isArray(Y.data)&&Y.data.length>0?q=Y.data[0]:Y.data&&typeof Y.data=="object"&&(q=Y.data),q&&(q.final_role||q.skills_json)){g(!0);const ie=q.skills_json||{},le=Object.keys(ie.tech||{}),K=Object.keys(ie.soft||{}),Z=[...le,...K].slice(0,5);l(Z),u(le),f(!1);return}}catch{}try{const Y=await Ce.get(`/api/user/${e.id}/skills`);if(Y.data&&Y.data.skills){const q=Y.data.skills.slice(0,5);l(q),u(q),g(q.length>0),f(!1);return}}catch{}const D=await Jc(String(e.id));if(D&&D.length>0){g(!0);const Y=Yc(D),ie=bb(Y,5).map(Z=>Z.skill);l(ie);const le=["javascript","python","java","c++","c#","go","rust","php","ruby","swift","kotlin","typescript","html","css","sql","react","vue","angular","node.js","express","django","flask","spring","laravel","rails","git","docker","kubernetes","aws","azure","gcp","linux","machine learning","data science","ai","blockchain","devops","testing"],K=ie.filter(Z=>le.some(H=>Z.toLowerCase().includes(H.toLowerCase())||H.toLowerCase().includes(Z.toLowerCase())));u(K.length>0?K:ie)}else g(!1)}catch(D){console.error("Error fetching user skills:",D),g(!1)}finally{f(!1)}})()},[e]),p.useEffect(()=>{S(!0)},[]);const{data:E=[]}=ir({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var T;if(!e)return[];try{return(((T=(await Ce.get(mt.AUTH.PROFILE)).data)==null?void 0:T.saved_jobs)||[]).map(q=>String(q))}catch(D){return console.error("Error fetching saved jobs:",D),[]}},enabled:!!e}),{data:j=[]}=ir({queryKey:["savedCourses",e==null?void 0:e.id],queryFn:async()=>{var T;if(!e)return[];try{return(((T=(await Ce.get(mt.AUTH.PROFILE)).data)==null?void 0:T.saved_courses)||[]).map(q=>String(q))}catch(D){return console.error("Error fetching saved courses:",D),[]}},enabled:!!e}),{data:k=[],isLoading:N,error:C}=ir({queryKey:["home-jobs",c.join(",")],queryFn:()=>Que(c),enabled:!!e&&!d,staleTime:5*60*1e3,retry:1});p.useEffect(()=>{C&&console.error("Error fetching jobs:",C)},[C]);const A=Hs({mutationFn:async T=>{if(!e)throw new Error("User not logged in");if(!T.id)throw new Error("Job ID is required");const D=String(T.id);T.is_saved;try{const Y=`${mt.JOBS.SAVE_JOB}${D}/`;await Ce.post(Y)}catch(Y){const q=Y instanceof Error?Y.message:"Failed to save job. Please try again.";throw new Error(q)}},onSuccess:(T,D)=>{n.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),n.invalidateQueries({queryKey:["profile"]}),ue.success(D.is_saved?"Job Unsaved":"Job Saved")},onError:T=>{console.error("Error saving job:",T);const D=T instanceof Error?T.message:"Failed to save job";ue.error(D)}}),{data:I=[],isLoading:B}=ir({queryKey:["home-courses"],queryFn:async()=>{const{data:T,error:D}=await Vt.from("courses").select("*").order("created_at",{ascending:!1});return D?(console.error("Error fetching courses:",D),[]):T||[]},enabled:!!e&&!d}),z=p.useMemo(()=>{if(!I||I.length===0)return[];if(!i||i.length===0)return I.map(q=>({...q,match:.5}));const T=I.map(q=>({...q,match:Xue(q,i)}));T.sort((q,ie)=>{if(Math.abs((q.match||0)-(ie.match||0))>.1)return(ie.match||0)-(q.match||0);const le=q.required_skills&&q.required_skills.length>0,K=ie.required_skills&&ie.required_skills.length>0;return le&&!K?-1:!le&&K?1:0});const D=T.filter(q=>(q.match||0)>.1),Y=T.filter(q=>(q.match||0)<=.1);return[...D,...Y].slice(0,20)},[I,i]),M=Hs({mutationFn:async T=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Ce.post(`/api/save-course/${T}/`)},onMutate:async T=>{await n.cancelQueries({queryKey:["savedCourses",e==null?void 0:e.id]});const D=n.getQueryData(["savedCourses",e==null?void 0:e.id]);let Y=!1;return n.setQueryData(["savedCourses",e==null?void 0:e.id],q=>{if(!q)return q;const ie=String(T);return Y=q.includes(ie),Y?q.filter(le=>le!==ie):[...q,ie]}),{previousSavedCourses:D,wasSaved:Y}},onError:(T,D,Y)=>{Y!=null&&Y.previousSavedCourses&&(e!=null&&e.id)&&n.setQueryData(["savedCourses",e.id],Y.previousSavedCourses),console.error("Error updating saved courses:",T),ue.error("Failed to update saved courses. Please try again.")},onSuccess:(T,D,Y)=>{n.invalidateQueries({queryKey:["savedCourses",e==null?void 0:e.id]}),n.invalidateQueries({queryKey:["home-courses"]}),n.invalidateQueries({queryKey:["profile"]});const q=(Y==null?void 0:Y.wasSaved)??!1;ue.success(q?"Removed from saved courses.":"Course saved to your profile.")}}),F=p.useMemo(()=>{let T=xi(k||[]);c.length>0&&(T=T.filter(q=>H1(q)||sR(q,c)>.1));const D=T.map(q=>({job:q,score:sR(q,c)}));return D.sort((q,ie)=>{if(Math.abs(q.score-ie.score)>.1)return ie.score-q.score;const le=H1(q.job),K=H1(ie.job);return le&&!K?-1:!le&&K?1:0}),D.slice(0,10).map(q=>q.job).map(q=>{const ie=q.job_id||q.id||"";if(!ie)return console.warn("Skipping job without valid ID:",q),null;const le=q.job_title||q.title||q.position||"Untitled Position",K=q.employer_name||q.company_name||(typeof q.company=="string"?q.company:null)||"Unknown Company",Z=q.job_city||q.city||"",H=q.job_state||q.state||"",X=q.job_country||q.country||"",ce=q.job_location||q.location||[Z,H,X].filter(Boolean).join(", ")||"Location not specified",J=q.employer_logo||q.company_logo||q.logo_url||(typeof q.company=="object"&&q.company?q.company.logo||q.company.company_logo:void 0),oe=q.date_posted||q.posted_date||q.job_posted_at_datetime_utc||void 0;let ne="By agreement";const he=q.job_min_salary||q.min_salary,fe=q.job_max_salary||q.max_salary,_e=q.job_salary_currency||q.salary_currency||"$",W=q.job_salary_period||q.salary_period||"yearly";if(he&&fe&&typeof he=="number"&&typeof fe=="number"){const Ke=W==="monthly"?"Monthly":"",Me=he.toLocaleString(),G=fe.toLocaleString();["$","","","","",""].some(ke=>_e.includes(ke))?ne=`${_e}${Me} - ${_e}${G}${Ke?`/${Ke}`:""}`:ne=`${Me} - ${G} ${_e}${Ke?`/${Ke}`:""}`}else if(he&&typeof he=="number"){const Ke=he.toLocaleString();ne=["$","","","","",""].some(V=>_e.includes(V))?`${_e}${Ke}+`:`${Ke}+ ${_e}`}else q.salary&&typeof q.salary=="string"&&(ne=q.salary);const te=q.job_employment_type||q.employment_type||q.type||"FULLTIME",me={FULLTIME:"Full time",PARTTIME:"Part time",CONTRACTOR:"Contract",INTERN:"Internship"}[te]||te||"Full time";let pe="On-site";q.job_is_remote||q.is_remote||q.remote===!0?pe="Remote":le!=null&&le.toLowerCase().includes("hybrid")&&(pe="Hybrid");const ze=P7(q),ot=Yue(i,ze);return{id:ie,title:le,company:K,location:typeof ce=="string"?ce:"Location not specified",logo:J,company_logo:J,salary:ne,employment_type:me,work_arrangement:pe,is_saved:E==null?void 0:E.includes(String(ie)),matchPercentage:ot,date:oe?new Date(oe).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}}).filter(q=>q!==null).slice(0,10)},[k,E,c]),O=T=>{if(v.current){const Y=T==="left"?v.current.scrollLeft-400:v.current.scrollLeft+400;v.current.scrollTo({left:Y,behavior:"smooth"})}},L=T=>{if(m.current){const Y=T==="left"?m.current.scrollLeft-400:m.current.scrollLeft+400;m.current.scrollTo({left:Y,behavior:"smooth"})}};return t?o.jsx(Dt,{children:o.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Loading dashboard..."})]})})})}):e?o.jsxs(Dt,{children:[o.jsx(sC,{}),a&&o.jsx("div",{className:"mb-4 px-4 md:hidden",children:o.jsxs("h1",{className:"text-xl font-semibold text-foreground",children:[s.auth.welcome,","," ",o.jsx("span",{className:"font-bold",children:(e==null?void 0:e.first_name)||((Q=e==null?void 0:e.email)==null?void 0:Q.split("@")[0])||"User"}),"! "]})}),o.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[!h&&!d&&o.jsx(Ne,{className:"bg-white transition-all w-auto flex-shrink-0 max-w-sm md:max-w-md rounded-3xl border-0 animate-shrink-in",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)",transform:y?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease-in-out"},onMouseDown:()=>x(!0),onMouseUp:()=>x(!1),onMouseLeave:()=>x(!1),onTouchStart:()=>x(!0),onTouchEnd:()=>x(!1),children:o.jsx(Pe,{className:"p-4 md:p-4",children:o.jsx(Mr,{to:"/skill-test",className:"block cursor-pointer group",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[o.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:s.home.skillTestTitle}),o.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:s.home.skillTestSubtitle})]}),o.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-target-front-color.png",alt:"Skill test target",className:"w-full h-full object-contain"})})]})})})}),h&&!d&&o.jsx(Ne,{className:"bg-white transition-all w-auto flex-shrink-0 max-w-sm md:max-w-md rounded-3xl border-0 animate-shrink-in",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)",transform:w?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease-in-out"},onMouseDown:()=>b(!0),onMouseUp:()=>b(!1),onMouseLeave:()=>b(!1),onTouchStart:()=>b(!0),onTouchEnd:()=>b(!1),children:o.jsx(Pe,{className:"p-4 md:p-4 flex items-center justify-center md:block",children:o.jsx(Mr,{to:"/skill-path",className:"block cursor-pointer group",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[o.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:s.home.skillPathTitle}),o.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:s.home.skillPathSubtitle})]}),o.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-explorer-front-color.png",alt:"Coding A Website",className:"w-full h-full object-contain",onError:T=>{T.target.style.display="none"}})})]})})})})]}),o.jsxs("div",{className:"space-y-6 pt-6 md:pt-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:"Top job picks for you"}),!N&&!C&&F.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(re,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>O("left"),"aria-label":"Scroll left",children:o.jsx(Rj,{className:"h-4 w-4"})}),o.jsx(re,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>O("right"),"aria-label":"Scroll right",children:o.jsx(Ia,{className:"h-4 w-4"})})]})]}),N?o.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory",children:[...Array(3)].map((T,D)=>o.jsx(Ne,{className:"relative flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px]",children:o.jsxs(Pe,{className:"p-4",children:[o.jsx(Ar,{className:"h-4 w-20 mb-2"}),o.jsx(Ar,{className:"h-6 w-3/4 mb-4"}),o.jsx(Ar,{className:"h-4 w-1/2"})]})},D))}):C?o.jsx(Ne,{children:o.jsxs(Pe,{className:"p-6 text-center",children:[o.jsx("p",{className:"text-gray-500 mb-2",children:"Unable to load jobs at the moment."}),o.jsx("p",{className:"text-sm text-gray-400",children:"Please try again later."})]})}):F.length===0?o.jsx(Ne,{children:o.jsx(Pe,{className:"p-6 text-center",children:o.jsx("p",{className:"text-gray-500",children:"No jobs found. Try adjusting your search criteria."})})}):o.jsx("div",{ref:v,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:F.map(T=>o.jsx(Ne,{className:"group flex flex-col transition-all duration-200 border border-gray-200 hover:border-gray-400 overflow-hidden rounded-3xl flex-shrink-0 snap-start cursor-pointer w-[calc((100%-2rem)/3)] min-w-[280px]",onClick:()=>{if(!T.id||String(T.id).trim()==="")return;const D=encodeURIComponent(String(T.id));r(`/jobs/${D}`)},children:o.jsxs(Pe,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("div",{className:"flex-shrink-0 relative w-10 h-10",children:T.company_logo?o.jsx("img",{src:T.company_logo,alt:`${T.company} logo`,className:"w-10 h-10 rounded-full object-cover border border-gray-200",loading:"lazy"}):o.jsx("div",{className:"w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center",children:o.jsx(ln,{className:"h-5 w-5 text-white"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:T.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:T.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:T.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[T.employment_type&&o.jsx(or,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:T.employment_type}),T.work_arrangement&&o.jsx(or,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:T.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(qd,{value:T.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700",children:T.matchPercentage!==void 0?T.matchPercentage>=85?"Best match":T.matchPercentage>=70?"Good match":T.matchPercentage>=50?"Fair match":"Poor match":""})]}),o.jsx(re,{variant:"secondary",size:"icon",onClick:D=>{D.stopPropagation(),A.mutate(T)},"aria-label":T.is_saved?"Unsave job":"Save job",className:de("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",T.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(aa,{className:de("h-4 w-4 transition-colors",T.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},T.id))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Top courses picked for you"})}),!B&&z.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(re,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>L("left"),"aria-label":"Scroll courses left",children:o.jsx(Rj,{className:"h-4 w-4"})}),o.jsx(re,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>L("right"),"aria-label":"Scroll courses right",children:o.jsx(Ia,{className:"h-4 w-4"})})]})]}),B?o.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:[...Array(3)].map((T,D)=>o.jsx(Ne,{className:"relative flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px]",children:o.jsxs(Pe,{className:"p-0",children:[o.jsx(Ar,{className:"h-40 w-full rounded-t-3xl"}),o.jsxs("div",{className:"p-4",children:[o.jsx(Ar,{className:"h-5 w-3/4 mb-2"}),o.jsx(Ar,{className:"h-4 w-1/2 mb-3"}),o.jsx(Ar,{className:"h-3 w-full"})]})]})},D))}):z.length===0?o.jsx(Ne,{children:o.jsxs(Pe,{className:"p-8 text-center",children:[o.jsx(nd,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500",children:"No courses available at the moment."})]})}):o.jsx("div",{ref:m,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:z.map(T=>{const D=j.includes(String(T.id));return o.jsx(Mr,{to:`/course/${T.id}`,className:"flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px] block",children:o.jsx(Ne,{className:"relative transition-all duration-200 cursor-pointer group border border-gray-200 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600 rounded-3xl w-full flex flex-col",children:o.jsxs(Pe,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:T.image||"/placeholder.svg",alt:T.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200 origin-center",style:{transformOrigin:"center center"},onError:Y=>{Y.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:T.title}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:T.duration&&o.jsx(or,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:T.duration})}),o.jsx(re,{variant:"secondary",size:"icon",onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),M.mutate(String(T.id))},"aria-label":D?"Unsave course":"Save course",className:de("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",D?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(aa,{className:de("h-4 w-4 transition-colors",D?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})]})})},T.id)})})]})]})]})})]}):o.jsx(Dt,{children:o.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-gray-600",children:"Please wait while we load your dashboard..."})})})})})};var Zue=Array.isArray,Na=Zue,ede=typeof Hn=="object"&&Hn&&Hn.Object===Object&&Hn,A7=ede,tde=A7,rde=typeof self=="object"&&self&&self.Object===Object&&self,nde=tde||rde||Function("return this")(),Pi=nde,ade=Pi,sde=ade.Symbol,hg=sde,oR=hg,T7=Object.prototype,ide=T7.hasOwnProperty,ode=T7.toString,bh=oR?oR.toStringTag:void 0;function lde(e){var t=ide.call(e,bh),r=e[bh];try{e[bh]=void 0;var n=!0}catch{}var a=ode.call(e);return n&&(t?e[bh]=r:delete e[bh]),a}var cde=lde,ude=Object.prototype,dde=ude.toString;function fde(e){return dde.call(e)}var hde=fde,lR=hg,pde=cde,mde=hde,gde="[object Null]",vde="[object Undefined]",cR=lR?lR.toStringTag:void 0;function yde(e){return e==null?e===void 0?vde:gde:cR&&cR in Object(e)?pde(e):mde(e)}var mo=yde;function xde(e){return e!=null&&typeof e=="object"}var go=xde,bde=mo,wde=go,_de="[object Symbol]";function Sde(e){return typeof e=="symbol"||wde(e)&&bde(e)==_de}var $f=Sde,jde=Na,kde=$f,Ede=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nde=/^\w*$/;function Cde(e,t){if(jde(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||kde(e)?!0:Nde.test(e)||!Ede.test(e)||t!=null&&e in Object(t)}var iC=Cde;function Pde(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ol=Pde;const Rf=sr(Ol);var Ade=mo,Tde=Ol,Ode="[object AsyncFunction]",$de="[object Function]",Rde="[object GeneratorFunction]",Ide="[object Proxy]";function Mde(e){if(!Tde(e))return!1;var t=Ade(e);return t==$de||t==Rde||t==Ode||t==Ide}var oC=Mde;const Mt=sr(oC);var Lde=Pi,Dde=Lde["__core-js_shared__"],Fde=Dde,V1=Fde,uR=function(){var e=/[^.]+$/.exec(V1&&V1.keys&&V1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Bde(e){return!!uR&&uR in e}var Ude=Bde,zde=Function.prototype,qde=zde.toString;function Wde(e){if(e!=null){try{return qde.call(e)}catch{}try{return e+""}catch{}}return""}var O7=Wde,Hde=oC,Vde=Ude,Kde=Ol,Gde=O7,Jde=/[\\^$.*+?()[\]{}|]/g,Yde=/^\[object .+?Constructor\]$/,Xde=Function.prototype,Qde=Object.prototype,Zde=Xde.toString,efe=Qde.hasOwnProperty,tfe=RegExp("^"+Zde.call(efe).replace(Jde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rfe(e){if(!Kde(e)||Vde(e))return!1;var t=Hde(e)?tfe:Yde;return t.test(Gde(e))}var nfe=rfe;function afe(e,t){return e==null?void 0:e[t]}var sfe=afe,ife=nfe,ofe=sfe;function lfe(e,t){var r=ofe(e,t);return ife(r)?r:void 0}var Xc=lfe,cfe=Xc,ufe=cfe(Object,"create"),wb=ufe,dR=wb;function dfe(){this.__data__=dR?dR(null):{},this.size=0}var ffe=dfe;function hfe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var pfe=hfe,mfe=wb,gfe="__lodash_hash_undefined__",vfe=Object.prototype,yfe=vfe.hasOwnProperty;function xfe(e){var t=this.__data__;if(mfe){var r=t[e];return r===gfe?void 0:r}return yfe.call(t,e)?t[e]:void 0}var bfe=xfe,wfe=wb,_fe=Object.prototype,Sfe=_fe.hasOwnProperty;function jfe(e){var t=this.__data__;return wfe?t[e]!==void 0:Sfe.call(t,e)}var kfe=jfe,Efe=wb,Nfe="__lodash_hash_undefined__";function Cfe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Efe&&t===void 0?Nfe:t,this}var Pfe=Cfe,Afe=ffe,Tfe=pfe,Ofe=bfe,$fe=kfe,Rfe=Pfe;function If(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}If.prototype.clear=Afe;If.prototype.delete=Tfe;If.prototype.get=Ofe;If.prototype.has=$fe;If.prototype.set=Rfe;var Ife=If;function Mfe(){this.__data__=[],this.size=0}var Lfe=Mfe;function Dfe(e,t){return e===t||e!==e&&t!==t}var lC=Dfe,Ffe=lC;function Bfe(e,t){for(var r=e.length;r--;)if(Ffe(e[r][0],t))return r;return-1}var _b=Bfe,Ufe=_b,zfe=Array.prototype,qfe=zfe.splice;function Wfe(e){var t=this.__data__,r=Ufe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():qfe.call(t,r,1),--this.size,!0}var Hfe=Wfe,Vfe=_b;function Kfe(e){var t=this.__data__,r=Vfe(t,e);return r<0?void 0:t[r][1]}var Gfe=Kfe,Jfe=_b;function Yfe(e){return Jfe(this.__data__,e)>-1}var Xfe=Yfe,Qfe=_b;function Zfe(e,t){var r=this.__data__,n=Qfe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var ehe=Zfe,the=Lfe,rhe=Hfe,nhe=Gfe,ahe=Xfe,she=ehe;function Mf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Mf.prototype.clear=the;Mf.prototype.delete=rhe;Mf.prototype.get=nhe;Mf.prototype.has=ahe;Mf.prototype.set=she;var Sb=Mf,ihe=Xc,ohe=Pi,lhe=ihe(ohe,"Map"),cC=lhe,fR=Ife,che=Sb,uhe=cC;function dhe(){this.size=0,this.__data__={hash:new fR,map:new(uhe||che),string:new fR}}var fhe=dhe;function hhe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var phe=hhe,mhe=phe;function ghe(e,t){var r=e.__data__;return mhe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var jb=ghe,vhe=jb;function yhe(e){var t=vhe(this,e).delete(e);return this.size-=t?1:0,t}var xhe=yhe,bhe=jb;function whe(e){return bhe(this,e).get(e)}var _he=whe,She=jb;function jhe(e){return She(this,e).has(e)}var khe=jhe,Ehe=jb;function Nhe(e,t){var r=Ehe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Che=Nhe,Phe=fhe,Ahe=xhe,The=_he,Ohe=khe,$he=Che;function Lf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Lf.prototype.clear=Phe;Lf.prototype.delete=Ahe;Lf.prototype.get=The;Lf.prototype.has=Ohe;Lf.prototype.set=$he;var uC=Lf,$7=uC,Rhe="Expected a function";function dC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Rhe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(dC.Cache||$7),r}dC.Cache=$7;var R7=dC;const Ihe=sr(R7);var Mhe=R7,Lhe=500;function Dhe(e){var t=Mhe(e,function(n){return r.size===Lhe&&r.clear(),n}),r=t.cache;return t}var Fhe=Dhe,Bhe=Fhe,Uhe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zhe=/\\(\\)?/g,qhe=Bhe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Uhe,function(r,n,a,s){t.push(a?s.replace(zhe,"$1"):n||r)}),t}),Whe=qhe;function Hhe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var fC=Hhe,hR=hg,Vhe=fC,Khe=Na,Ghe=$f,Jhe=1/0,pR=hR?hR.prototype:void 0,mR=pR?pR.toString:void 0;function I7(e){if(typeof e=="string")return e;if(Khe(e))return Vhe(e,I7)+"";if(Ghe(e))return mR?mR.call(e):"";var t=e+"";return t=="0"&&1/e==-Jhe?"-0":t}var Yhe=I7,Xhe=Yhe;function Qhe(e){return e==null?"":Xhe(e)}var M7=Qhe,Zhe=Na,epe=iC,tpe=Whe,rpe=M7;function npe(e,t){return Zhe(e)?e:epe(e,t)?[e]:tpe(rpe(e))}var L7=npe,ape=$f,spe=1/0;function ipe(e){if(typeof e=="string"||ape(e))return e;var t=e+"";return t=="0"&&1/e==-spe?"-0":t}var kb=ipe,ope=L7,lpe=kb;function cpe(e,t){t=ope(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[lpe(t[r++])];return r&&r==n?e:void 0}var hC=cpe,upe=hC;function dpe(e,t,r){var n=e==null?void 0:upe(e,t);return n===void 0?r:n}var D7=dpe;const ls=sr(D7);function fpe(e){return e==null}var hpe=fpe;const Yt=sr(hpe);var ppe=mo,mpe=Na,gpe=go,vpe="[object String]";function ype(e){return typeof e=="string"||!mpe(e)&&gpe(e)&&ppe(e)==vpe}var xpe=ype;const pg=sr(xpe);var F7={exports:{}},rr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC=Symbol.for("react.element"),mC=Symbol.for("react.portal"),Eb=Symbol.for("react.fragment"),Nb=Symbol.for("react.strict_mode"),Cb=Symbol.for("react.profiler"),Pb=Symbol.for("react.provider"),Ab=Symbol.for("react.context"),bpe=Symbol.for("react.server_context"),Tb=Symbol.for("react.forward_ref"),Ob=Symbol.for("react.suspense"),$b=Symbol.for("react.suspense_list"),Rb=Symbol.for("react.memo"),Ib=Symbol.for("react.lazy"),wpe=Symbol.for("react.offscreen"),B7;B7=Symbol.for("react.module.reference");function ms(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pC:switch(e=e.type,e){case Eb:case Cb:case Nb:case Ob:case $b:return e;default:switch(e=e&&e.$$typeof,e){case bpe:case Ab:case Tb:case Ib:case Rb:case Pb:return e;default:return t}}case mC:return t}}}rr.ContextConsumer=Ab;rr.ContextProvider=Pb;rr.Element=pC;rr.ForwardRef=Tb;rr.Fragment=Eb;rr.Lazy=Ib;rr.Memo=Rb;rr.Portal=mC;rr.Profiler=Cb;rr.StrictMode=Nb;rr.Suspense=Ob;rr.SuspenseList=$b;rr.isAsyncMode=function(){return!1};rr.isConcurrentMode=function(){return!1};rr.isContextConsumer=function(e){return ms(e)===Ab};rr.isContextProvider=function(e){return ms(e)===Pb};rr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pC};rr.isForwardRef=function(e){return ms(e)===Tb};rr.isFragment=function(e){return ms(e)===Eb};rr.isLazy=function(e){return ms(e)===Ib};rr.isMemo=function(e){return ms(e)===Rb};rr.isPortal=function(e){return ms(e)===mC};rr.isProfiler=function(e){return ms(e)===Cb};rr.isStrictMode=function(e){return ms(e)===Nb};rr.isSuspense=function(e){return ms(e)===Ob};rr.isSuspenseList=function(e){return ms(e)===$b};rr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Eb||e===Cb||e===Nb||e===Ob||e===$b||e===wpe||typeof e=="object"&&e!==null&&(e.$$typeof===Ib||e.$$typeof===Rb||e.$$typeof===Pb||e.$$typeof===Ab||e.$$typeof===Tb||e.$$typeof===B7||e.getModuleId!==void 0)};rr.typeOf=ms;F7.exports=rr;var U7=F7.exports,_pe=mo,Spe=go,jpe="[object Number]";function kpe(e){return typeof e=="number"||Spe(e)&&_pe(e)==jpe}var z7=kpe;const Epe=sr(z7);var Npe=z7;function Cpe(e){return Npe(e)&&e!=+e}var Ppe=Cpe;const mg=sr(Ppe);var $s=function(t){return t===0?0:t>0?1:-1},ic=function(t){return pg(t)&&t.indexOf("%")===t.length-1},qe=function(t){return Epe(t)&&!mg(t)},cn=function(t){return qe(t)||pg(t)},Ape=0,Mb=function(t){var r=++Ape;return"".concat(t||"").concat(r)},Fc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!qe(t)&&!pg(t))return n;var s;if(ic(t)){var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return mg(s)&&(s=n),a&&s>r&&(s=r),s},zo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Tpe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},hu=function(t,r){return qe(t)&&qe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Qj(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ls(n,t))===r})}function id(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Zj(e){"@babel/helpers - typeof";return Zj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zj(e)}var Ope=["viewBox","children"],$pe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gR=["points","pathLength"],K1={svg:Ope,polygon:gR,polyline:gR},gC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],h0=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(p.isValidElement(t)&&(n=t.props),!Rf(n))return null;var a={};return Object.keys(n).forEach(function(s){gC.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},Rpe=function(t,r,n){return function(a){return t(r,n,a),null}},p0=function(t,r,n){if(!Rf(t)||Zj(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var i=t[s];gC.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=Rpe(i,r,n))}),a},Ipe=["children"],Mpe=["children"];function vR(e,t){if(e==null)return{};var r=Lpe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Xi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},xR=null,G1=null,vC=function e(t){if(t===xR&&Array.isArray(G1))return G1;var r=[];return p.Children.forEach(t,function(n){Yt(n)||(U7.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),G1=r,xR=t,r};function Fs(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Xi(a)}):n=[Xi(t)],vC(e).forEach(function(a){var s=ls(a,"type.displayName")||ls(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function $a(e,t){var r=Fs(e,t);return r&&r[0]}var bR=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!qe(n)||n<=0||!qe(a)||a<=0)},Dpe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Fpe=function(t){return t&&t.type&&pg(t.type)&&Dpe.indexOf(t.type)>=0},Bpe=function(t,r,n,a){var s,i=(s=K1==null?void 0:K1[a])!==null&&s!==void 0?s:[];return!Mt(t)&&(a&&i.includes(r)||$pe.includes(r))||n&&gC.includes(r)},Kt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(p.isValidElement(t)&&(a=t.props),!Rf(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;Bpe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},ek=function e(t,r){if(t===r)return!0;var n=p.Children.count(t);if(n!==p.Children.count(r))return!1;if(n===0)return!0;if(n===1)return wR(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!e(s,i))return!1}else if(!wR(s,i))return!1}return!0},wR=function(t,r){if(Yt(t)&&Yt(r))return!0;if(!Yt(t)&&!Yt(r)){var n=t.props||{},a=n.children,s=vR(n,Ipe),i=r.props||{},l=i.children,c=vR(i,Mpe);return a&&l?id(s,c)&&ek(a,l):!a&&!l?id(s,c):!1}return!1},_R=function(t,r){var n=[],a={};return vC(t).forEach(function(s,i){if(Fpe(s))n.push(s);else if(s){var l=Xi(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},Upe=function(t){var r=t&&t.type;return r&&yR[r]?yR[r]:null},zpe=function(t,r){return vC(r).indexOf(t)},qpe=["children","width","height","viewBox","className","style","title","desc"];function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tk.apply(this,arguments)}function Wpe(e,t){if(e==null)return{};var r=Hpe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rk(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,i=e.style,l=e.title,c=e.desc,u=Wpe(e,qpe),d=a||{width:r,height:n,x:0,y:0},f=qt("recharts-surface",s);return R.createElement("svg",tk({},Kt(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),R.createElement("title",null,l),R.createElement("desc",null,c),t)}var Vpe=["children","className"];function nk(){return nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nk.apply(this,arguments)}function Kpe(e,t){if(e==null)return{};var r=Gpe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yn=R.forwardRef(function(e,t){var r=e.children,n=e.className,a=Kpe(e,Vpe),s=qt("recharts-layer",n);return R.createElement("g",nk({className:s},Kt(a,!0),{ref:t}),r)}),Qi=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function Jpe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var Ype=Jpe,Xpe=Ype;function Qpe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Xpe(e,t,r)}var Zpe=Qpe,eme="\\ud800-\\udfff",tme="\\u0300-\\u036f",rme="\\ufe20-\\ufe2f",nme="\\u20d0-\\u20ff",ame=tme+rme+nme,sme="\\ufe0e\\ufe0f",ime="\\u200d",ome=RegExp("["+ime+eme+ame+sme+"]");function lme(e){return ome.test(e)}var q7=lme;function cme(e){return e.split("")}var ume=cme,W7="\\ud800-\\udfff",dme="\\u0300-\\u036f",fme="\\ufe20-\\ufe2f",hme="\\u20d0-\\u20ff",pme=dme+fme+hme,mme="\\ufe0e\\ufe0f",gme="["+W7+"]",ak="["+pme+"]",sk="\\ud83c[\\udffb-\\udfff]",vme="(?:"+ak+"|"+sk+")",H7="[^"+W7+"]",V7="(?:\\ud83c[\\udde6-\\uddff]){2}",K7="[\\ud800-\\udbff][\\udc00-\\udfff]",yme="\\u200d",G7=vme+"?",J7="["+mme+"]?",xme="(?:"+yme+"(?:"+[H7,V7,K7].join("|")+")"+J7+G7+")*",bme=J7+G7+xme,wme="(?:"+[H7+ak+"?",ak,V7,K7,gme].join("|")+")",_me=RegExp(sk+"(?="+sk+")|"+wme+bme,"g");function Sme(e){return e.match(_me)||[]}var jme=Sme,kme=ume,Eme=q7,Nme=jme;function Cme(e){return Eme(e)?Nme(e):kme(e)}var Pme=Cme,Ame=Zpe,Tme=q7,Ome=Pme,$me=M7;function Rme(e){return function(t){t=$me(t);var r=Tme(t)?Ome(t):void 0,n=r?r[0]:t.charAt(0),a=r?Ame(r,1).join(""):t.slice(1);return n[e]()+a}}var Ime=Rme,Mme=Ime,Lme=Mme("toUpperCase"),Dme=Lme;const Lb=sr(Dme);function ur(e){return function(){return e}}const Y7=Math.cos,m0=Math.sin,Xs=Math.sqrt,g0=Math.PI,Db=2*g0,ik=Math.PI,ok=2*ik,Jl=1e-6,Fme=ok-Jl;function X7(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Bme(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return X7;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Ume{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?X7:Bme(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,d=i-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Jl)if(!(Math.abs(f*c-u*d)>Jl)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-i,v=a-l,m=c*c+u*u,y=g*g+v*v,x=Math.sqrt(m),w=Math.sqrt(h),b=s*Math.tan((ik-Math.acos((m+h-y)/(2*x*w)))/2),_=b/w,S=b/x;Math.abs(_-1)>Jl&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*g>d*v)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Jl||Math.abs(this._y1-d)>Jl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%ok+ok),h>Fme?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Jl&&this._append`A${n},${n},0,${+(h>=ik)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function yC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Ume(t)}function xC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Q7(e){this._context=e}Q7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Fb(e){return new Q7(e)}function Z7(e){return e[0]}function eU(e){return e[1]}function tU(e,t){var r=ur(!0),n=null,a=Fb,s=null,i=yC(l);e=typeof e=="function"?e:e===void 0?Z7:ur(e),t=typeof t=="function"?t:t===void 0?eU:ur(t);function l(c){var u,d=(c=xC(c)).length,f,h=!1,g;for(n==null&&(s=a(g=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(g)return s=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:ur(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:ur(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ur(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function vv(e,t,r){var n=null,a=ur(!0),s=null,i=Fb,l=null,c=yC(u);e=typeof e=="function"?e:e===void 0?Z7:ur(+e),t=typeof t=="function"?t:ur(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?eU:ur(+r);function u(f){var h,g,v,m=(f=xC(f)).length,y,x=!1,w,b=new Array(m),_=new Array(m);for(s==null&&(l=i(w=c())),h=0;h<=m;++h){if(!(h<m&&a(y=f[h],h,f))===x)if(x=!x)g=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=g;--v)l.point(b[v],_[v]);l.lineEnd(),l.areaEnd()}x&&(b[h]=+e(y,h,f),_[h]=+t(y,h,f),l.point(n?+n(y,h,f):b[h],r?+r(y,h,f):_[h]))}if(w)return l=null,w+""||null}function d(){return tU().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ur(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ur(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ur(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ur(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ur(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ur(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:ur(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class rU{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function zme(e){return new rU(e,!0)}function qme(e){return new rU(e,!1)}const bC={draw(e,t){const r=Xs(t/g0);e.moveTo(r,0),e.arc(0,0,r,0,Db)}},Wme={draw(e,t){const r=Xs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},nU=Xs(1/3),Hme=nU*2,Vme={draw(e,t){const r=Xs(t/Hme),n=r*nU;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Kme={draw(e,t){const r=Xs(t),n=-r/2;e.rect(n,n,r,r)}},Gme=.8908130915292852,aU=m0(g0/10)/m0(7*g0/10),Jme=m0(Db/10)*aU,Yme=-Y7(Db/10)*aU,Xme={draw(e,t){const r=Xs(t*Gme),n=Jme*r,a=Yme*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=Db*s/5,l=Y7(i),c=m0(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},J1=Xs(3),Qme={draw(e,t){const r=-Xs(t/(J1*3));e.moveTo(0,r*2),e.lineTo(-J1*r,-r),e.lineTo(J1*r,-r),e.closePath()}},Ka=-.5,Ga=Xs(3)/2,lk=1/Xs(12),Zme=(lk/2+1)*3,ege={draw(e,t){const r=Xs(t/Zme),n=r/2,a=r*lk,s=n,i=r*lk+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(Ka*n-Ga*a,Ga*n+Ka*a),e.lineTo(Ka*s-Ga*i,Ga*s+Ka*i),e.lineTo(Ka*l-Ga*c,Ga*l+Ka*c),e.lineTo(Ka*n+Ga*a,Ka*a-Ga*n),e.lineTo(Ka*s+Ga*i,Ka*i-Ga*s),e.lineTo(Ka*l+Ga*c,Ka*c-Ga*l),e.closePath()}};function tge(e,t){let r=null,n=yC(a);e=typeof e=="function"?e:ur(e||bC),t=typeof t=="function"?t:ur(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:ur(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:ur(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function v0(){}function y0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function sU(e){this._context=e}sU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:y0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:y0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rge(e){return new sU(e)}function iU(e){this._context=e}iU.prototype={areaStart:v0,areaEnd:v0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:y0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nge(e){return new iU(e)}function oU(e){this._context=e}oU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:y0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function age(e){return new oU(e)}function lU(e){this._context=e}lU.prototype={areaStart:v0,areaEnd:v0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sge(e){return new lU(e)}function SR(e){return e<0?-1:1}function jR(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(SR(s)+SR(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function kR(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Y1(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function x0(e){this._context=e}x0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Y1(this,this._t0,kR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Y1(this,kR(this,r=jR(this,e,t)),r);break;default:Y1(this,this._t0,r=jR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function cU(e){this._context=new uU(e)}(cU.prototype=Object.create(x0.prototype)).point=function(e,t){x0.prototype.point.call(this,t,e)};function uU(e){this._context=e}uU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function ige(e){return new x0(e)}function oge(e){return new cU(e)}function dU(e){this._context=e}dU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ER(e),a=ER(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ER(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function lge(e){return new dU(e)}function Bb(e,t){this._context=e,this._t=t}Bb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function cge(e){return new Bb(e,.5)}function uge(e){return new Bb(e,0)}function dge(e){return new Bb(e,1)}function Hd(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function ck(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function fge(e,t){return e[t]}function hge(e){const t=[];return t.key=e,t}function pge(){var e=ur([]),t=ck,r=Hd,n=fge;function a(s){var i=Array.from(e.apply(this,arguments),hge),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=xC(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:ur(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:ur(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?ck:typeof s=="function"?s:ur(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Hd,a):r},a}function mge(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Hd(e,t)}}function gge(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Hd(e,t)}}function vge(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,g=(f-h)/2,v=0;v<l;++v){var m=e[t[v]],y=m[n][1]||0,x=m[n-1][1]||0;g+=y-x}c+=f,u+=g*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Hd(e,t)}}function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}var yge=["type","size","sizeType"];function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uk.apply(this,arguments)}function NR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(r),!0).forEach(function(n){xge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xge(e,t,r){return t=bge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bge(e){var t=wge(e,"string");return rm(t)=="symbol"?t:t+""}function wge(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ge(e,t){if(e==null)return{};var r=Sge(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fU={symbolCircle:bC,symbolCross:Wme,symbolDiamond:Vme,symbolSquare:Kme,symbolStar:Xme,symbolTriangle:Qme,symbolWye:ege},jge=Math.PI/180,kge=function(t){var r="symbol".concat(Lb(t));return fU[r]||bC},Ege=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*jge;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Nge=function(t,r){fU["symbol".concat(Lb(t))]=r},wC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,i=t.sizeType,l=i===void 0?"area":i,c=_ge(t,yge),u=CR(CR({},c),{},{type:n,size:s,sizeType:l}),d=function(){var y=kge(n),x=tge().type(y).size(Ege(s,l,n));return x()},f=u.className,h=u.cx,g=u.cy,v=Kt(u,!0);return h===+h&&g===+g&&s===+s?R.createElement("path",uk({},v,{className:qt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:d()})):null};wC.registerSymbol=Nge;function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function dk(){return dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dk.apply(this,arguments)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){nm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Age(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pU(n.key),n)}}function Tge(e,t,r){return t&&Age(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oge(e,t,r){return t=b0(t),$ge(e,hU()?Reflect.construct(t,r||[],b0(e).constructor):t.apply(e,r))}function $ge(e,t){if(t&&(Vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rge(e)}function Rge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hU=function(){return!!e})()}function b0(e){return b0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b0(e)}function Ige(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fk(e,t)}function fk(e,t){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fk(e,t)}function nm(e,t,r){return t=pU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pU(e){var t=Mge(e,"string");return Vd(t)=="symbol"?t:t+""}function Mge(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ja=32,_C=function(e){function t(){return Pge(this,t),Oge(this,t,arguments)}return Ige(t,e),Tge(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Ja/2,i=Ja/6,l=Ja/3,c=n.inactive?a:n.color;if(n.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Ja,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Ja,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return R.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ja/8,"h").concat(Ja,"v").concat(Ja*3/4,"h").concat(-Ja,"z"),className:"recharts-legend-icon"});if(R.isValidElement(n.legendIcon)){var u=Cge({},n);return delete u.legendIcon,R.cloneElement(n.legendIcon,u)}return R.createElement(wC,{fill:c,cx:s,cy:s,size:Ja,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ja,height:Ja},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,v){var m=g.formatter||c,y=qt(nm(nm({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var x=Mt(g.value)?null:g.value;Qi(!Mt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=g.inactive?u:g.color;return R.createElement("li",dk({className:y,style:f,key:"legend-item-".concat(v)},p0(n.props,g,v)),R.createElement(rk,{width:i,height:i,viewBox:d,style:h},n.renderIcon(g)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(x,g,v):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(p.PureComponent);nm(_C,"displayName","Legend");nm(_C,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Lge=Sb;function Dge(){this.__data__=new Lge,this.size=0}var Fge=Dge;function Bge(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Uge=Bge;function zge(e){return this.__data__.get(e)}var qge=zge;function Wge(e){return this.__data__.has(e)}var Hge=Wge,Vge=Sb,Kge=cC,Gge=uC,Jge=200;function Yge(e,t){var r=this.__data__;if(r instanceof Vge){var n=r.__data__;if(!Kge||n.length<Jge-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Gge(n)}return r.set(e,t),this.size=r.size,this}var Xge=Yge,Qge=Sb,Zge=Fge,eve=Uge,tve=qge,rve=Hge,nve=Xge;function Df(e){var t=this.__data__=new Qge(e);this.size=t.size}Df.prototype.clear=Zge;Df.prototype.delete=eve;Df.prototype.get=tve;Df.prototype.has=rve;Df.prototype.set=nve;var mU=Df,ave="__lodash_hash_undefined__";function sve(e){return this.__data__.set(e,ave),this}var ive=sve;function ove(e){return this.__data__.has(e)}var lve=ove,cve=uC,uve=ive,dve=lve;function w0(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new cve;++t<r;)this.add(e[t])}w0.prototype.add=w0.prototype.push=uve;w0.prototype.has=dve;var gU=w0;function fve(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var vU=fve;function hve(e,t){return e.has(t)}var yU=hve,pve=gU,mve=vU,gve=yU,vve=1,yve=2;function xve(e,t,r,n,a,s){var i=r&vve,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,g=r&yve?new pve:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var v=e[f],m=t[f];if(n)var y=i?n(m,v,f,t,e,s):n(v,m,f,e,t,s);if(y!==void 0){if(y)continue;h=!1;break}if(g){if(!mve(t,function(x,w){if(!gve(g,w)&&(v===x||a(v,x,r,n,s)))return g.push(w)})){h=!1;break}}else if(!(v===m||a(v,m,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var xU=xve,bve=Pi,wve=bve.Uint8Array,_ve=wve;function Sve(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var jve=Sve;function kve(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var SC=kve,AR=hg,TR=_ve,Eve=lC,Nve=xU,Cve=jve,Pve=SC,Ave=1,Tve=2,Ove="[object Boolean]",$ve="[object Date]",Rve="[object Error]",Ive="[object Map]",Mve="[object Number]",Lve="[object RegExp]",Dve="[object Set]",Fve="[object String]",Bve="[object Symbol]",Uve="[object ArrayBuffer]",zve="[object DataView]",OR=AR?AR.prototype:void 0,X1=OR?OR.valueOf:void 0;function qve(e,t,r,n,a,s,i){switch(r){case zve:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Uve:return!(e.byteLength!=t.byteLength||!s(new TR(e),new TR(t)));case Ove:case $ve:case Mve:return Eve(+e,+t);case Rve:return e.name==t.name&&e.message==t.message;case Lve:case Fve:return e==t+"";case Ive:var l=Cve;case Dve:var c=n&Ave;if(l||(l=Pve),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=Tve,i.set(e,t);var d=Nve(l(e),l(t),n,a,s,i);return i.delete(e),d;case Bve:if(X1)return X1.call(e)==X1.call(t)}return!1}var Wve=qve;function Hve(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var bU=Hve,Vve=bU,Kve=Na;function Gve(e,t,r){var n=t(e);return Kve(e)?n:Vve(n,r(e))}var Jve=Gve;function Yve(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}var Xve=Yve;function Qve(){return[]}var Zve=Qve,eye=Xve,tye=Zve,rye=Object.prototype,nye=rye.propertyIsEnumerable,$R=Object.getOwnPropertySymbols,aye=$R?function(e){return e==null?[]:(e=Object(e),eye($R(e),function(t){return nye.call(e,t)}))}:tye,sye=aye;function iye(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var oye=iye,lye=mo,cye=go,uye="[object Arguments]";function dye(e){return cye(e)&&lye(e)==uye}var fye=dye,RR=fye,hye=go,wU=Object.prototype,pye=wU.hasOwnProperty,mye=wU.propertyIsEnumerable,gye=RR(function(){return arguments}())?RR:function(e){return hye(e)&&pye.call(e,"callee")&&!mye.call(e,"callee")},jC=gye,_0={exports:{}};function vye(){return!1}var yye=vye;_0.exports;(function(e,t){var r=Pi,n=yye,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(_0,_0.exports);var _U=_0.exports,xye=9007199254740991,bye=/^(?:0|[1-9]\d*)$/;function wye(e,t){var r=typeof e;return t=t??xye,!!t&&(r=="number"||r!="symbol"&&bye.test(e))&&e>-1&&e%1==0&&e<t}var kC=wye,_ye=9007199254740991;function Sye(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=_ye}var EC=Sye,jye=mo,kye=EC,Eye=go,Nye="[object Arguments]",Cye="[object Array]",Pye="[object Boolean]",Aye="[object Date]",Tye="[object Error]",Oye="[object Function]",$ye="[object Map]",Rye="[object Number]",Iye="[object Object]",Mye="[object RegExp]",Lye="[object Set]",Dye="[object String]",Fye="[object WeakMap]",Bye="[object ArrayBuffer]",Uye="[object DataView]",zye="[object Float32Array]",qye="[object Float64Array]",Wye="[object Int8Array]",Hye="[object Int16Array]",Vye="[object Int32Array]",Kye="[object Uint8Array]",Gye="[object Uint8ClampedArray]",Jye="[object Uint16Array]",Yye="[object Uint32Array]",gr={};gr[zye]=gr[qye]=gr[Wye]=gr[Hye]=gr[Vye]=gr[Kye]=gr[Gye]=gr[Jye]=gr[Yye]=!0;gr[Nye]=gr[Cye]=gr[Bye]=gr[Pye]=gr[Uye]=gr[Aye]=gr[Tye]=gr[Oye]=gr[$ye]=gr[Rye]=gr[Iye]=gr[Mye]=gr[Lye]=gr[Dye]=gr[Fye]=!1;function Xye(e){return Eye(e)&&kye(e.length)&&!!gr[jye(e)]}var Qye=Xye;function Zye(e){return function(t){return e(t)}}var SU=Zye,S0={exports:{}};S0.exports;(function(e,t){var r=A7,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(S0,S0.exports);var e0e=S0.exports,t0e=Qye,r0e=SU,IR=e0e,MR=IR&&IR.isTypedArray,n0e=MR?r0e(MR):t0e,jU=n0e,a0e=oye,s0e=jC,i0e=Na,o0e=_U,l0e=kC,c0e=jU,u0e=Object.prototype,d0e=u0e.hasOwnProperty;function f0e(e,t){var r=i0e(e),n=!r&&s0e(e),a=!r&&!n&&o0e(e),s=!r&&!n&&!a&&c0e(e),i=r||n||a||s,l=i?a0e(e.length,String):[],c=l.length;for(var u in e)(t||d0e.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||l0e(u,c)))&&l.push(u);return l}var h0e=f0e,p0e=Object.prototype;function m0e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||p0e;return e===r}var g0e=m0e;function v0e(e,t){return function(r){return e(t(r))}}var kU=v0e,y0e=kU,x0e=y0e(Object.keys,Object),b0e=x0e,w0e=g0e,_0e=b0e,S0e=Object.prototype,j0e=S0e.hasOwnProperty;function k0e(e){if(!w0e(e))return _0e(e);var t=[];for(var r in Object(e))j0e.call(e,r)&&r!="constructor"&&t.push(r);return t}var E0e=k0e,N0e=oC,C0e=EC;function P0e(e){return e!=null&&C0e(e.length)&&!N0e(e)}var gg=P0e,A0e=h0e,T0e=E0e,O0e=gg;function $0e(e){return O0e(e)?A0e(e):T0e(e)}var Ub=$0e,R0e=Jve,I0e=sye,M0e=Ub;function L0e(e){return R0e(e,M0e,I0e)}var D0e=L0e,LR=D0e,F0e=1,B0e=Object.prototype,U0e=B0e.hasOwnProperty;function z0e(e,t,r,n,a,s){var i=r&F0e,l=LR(e),c=l.length,u=LR(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=l[f];if(!(i?h in t:U0e.call(t,h)))return!1}var g=s.get(e),v=s.get(t);if(g&&v)return g==t&&v==e;var m=!0;s.set(e,t),s.set(t,e);for(var y=i;++f<c;){h=l[f];var x=e[h],w=t[h];if(n)var b=i?n(w,x,h,t,e,s):n(x,w,h,e,t,s);if(!(b===void 0?x===w||a(x,w,r,n,s):b)){m=!1;break}y||(y=h=="constructor")}if(m&&!y){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(e),s.delete(t),m}var q0e=z0e,W0e=Xc,H0e=Pi,V0e=W0e(H0e,"DataView"),K0e=V0e,G0e=Xc,J0e=Pi,Y0e=G0e(J0e,"Promise"),X0e=Y0e,Q0e=Xc,Z0e=Pi,exe=Q0e(Z0e,"Set"),EU=exe,txe=Xc,rxe=Pi,nxe=txe(rxe,"WeakMap"),axe=nxe,hk=K0e,pk=cC,mk=X0e,gk=EU,vk=axe,NU=mo,Ff=O7,DR="[object Map]",sxe="[object Object]",FR="[object Promise]",BR="[object Set]",UR="[object WeakMap]",zR="[object DataView]",ixe=Ff(hk),oxe=Ff(pk),lxe=Ff(mk),cxe=Ff(gk),uxe=Ff(vk),Yl=NU;(hk&&Yl(new hk(new ArrayBuffer(1)))!=zR||pk&&Yl(new pk)!=DR||mk&&Yl(mk.resolve())!=FR||gk&&Yl(new gk)!=BR||vk&&Yl(new vk)!=UR)&&(Yl=function(e){var t=NU(e),r=t==sxe?e.constructor:void 0,n=r?Ff(r):"";if(n)switch(n){case ixe:return zR;case oxe:return DR;case lxe:return FR;case cxe:return BR;case uxe:return UR}return t});var dxe=Yl,Q1=mU,fxe=xU,hxe=Wve,pxe=q0e,qR=dxe,WR=Na,HR=_U,mxe=jU,gxe=1,VR="[object Arguments]",KR="[object Array]",yv="[object Object]",vxe=Object.prototype,GR=vxe.hasOwnProperty;function yxe(e,t,r,n,a,s){var i=WR(e),l=WR(t),c=i?KR:qR(e),u=l?KR:qR(t);c=c==VR?yv:c,u=u==VR?yv:u;var d=c==yv,f=u==yv,h=c==u;if(h&&HR(e)){if(!HR(t))return!1;i=!0,d=!1}if(h&&!d)return s||(s=new Q1),i||mxe(e)?fxe(e,t,r,n,a,s):hxe(e,t,c,r,n,a,s);if(!(r&gxe)){var g=d&&GR.call(e,"__wrapped__"),v=f&&GR.call(t,"__wrapped__");if(g||v){var m=g?e.value():e,y=v?t.value():t;return s||(s=new Q1),a(m,y,r,n,s)}}return h?(s||(s=new Q1),pxe(e,t,r,n,a,s)):!1}var xxe=yxe,bxe=xxe,JR=go;function CU(e,t,r,n,a){return e===t?!0:e==null||t==null||!JR(e)&&!JR(t)?e!==e&&t!==t:bxe(e,t,r,n,CU,a)}var NC=CU,wxe=mU,_xe=NC,Sxe=1,jxe=2;function kxe(e,t,r,n){var a=r.length,s=a,i=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new wxe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?_xe(d,u,Sxe|jxe,n,f):h))return!1}}return!0}var Exe=kxe,Nxe=Ol;function Cxe(e){return e===e&&!Nxe(e)}var PU=Cxe,Pxe=PU,Axe=Ub;function Txe(e){for(var t=Axe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Pxe(a)]}return t}var Oxe=Txe;function $xe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var AU=$xe,Rxe=Exe,Ixe=Oxe,Mxe=AU;function Lxe(e){var t=Ixe(e);return t.length==1&&t[0][2]?Mxe(t[0][0],t[0][1]):function(r){return r===e||Rxe(r,e,t)}}var Dxe=Lxe;function Fxe(e,t){return e!=null&&t in Object(e)}var Bxe=Fxe,Uxe=L7,zxe=jC,qxe=Na,Wxe=kC,Hxe=EC,Vxe=kb;function Kxe(e,t,r){t=Uxe(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var i=Vxe(t[n]);if(!(s=e!=null&&r(e,i)))break;e=e[i]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&Hxe(a)&&Wxe(i,a)&&(qxe(e)||zxe(e)))}var Gxe=Kxe,Jxe=Bxe,Yxe=Gxe;function Xxe(e,t){return e!=null&&Yxe(e,t,Jxe)}var Qxe=Xxe,Zxe=NC,ebe=D7,tbe=Qxe,rbe=iC,nbe=PU,abe=AU,sbe=kb,ibe=1,obe=2;function lbe(e,t){return rbe(e)&&nbe(t)?abe(sbe(e),t):function(r){var n=ebe(r,e);return n===void 0&&n===t?tbe(r,e):Zxe(t,n,ibe|obe)}}var cbe=lbe;function ube(e){return e}var Bf=ube;function dbe(e){return function(t){return t==null?void 0:t[e]}}var fbe=dbe,hbe=hC;function pbe(e){return function(t){return hbe(t,e)}}var mbe=pbe,gbe=fbe,vbe=mbe,ybe=iC,xbe=kb;function bbe(e){return ybe(e)?gbe(xbe(e)):vbe(e)}var wbe=bbe,_be=Dxe,Sbe=cbe,jbe=Bf,kbe=Na,Ebe=wbe;function Nbe(e){return typeof e=="function"?e:e==null?jbe:typeof e=="object"?kbe(e)?Sbe(e[0],e[1]):_be(e):Ebe(e)}var $l=Nbe;function Cbe(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var TU=Cbe;function Pbe(e){return e!==e}var Abe=Pbe;function Tbe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Obe=Tbe,$be=TU,Rbe=Abe,Ibe=Obe;function Mbe(e,t,r){return t===t?Ibe(e,t,r):$be(e,Rbe,r)}var Lbe=Mbe,Dbe=Lbe;function Fbe(e,t){var r=e==null?0:e.length;return!!r&&Dbe(e,t,0)>-1}var Bbe=Fbe;function Ube(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var zbe=Ube;function qbe(){}var Wbe=qbe,Z1=EU,Hbe=Wbe,Vbe=SC,Kbe=1/0,Gbe=Z1&&1/Vbe(new Z1([,-0]))[1]==Kbe?function(e){return new Z1(e)}:Hbe,Jbe=Gbe,Ybe=gU,Xbe=Bbe,Qbe=zbe,Zbe=yU,ewe=Jbe,twe=SC,rwe=200;function nwe(e,t,r){var n=-1,a=Xbe,s=e.length,i=!0,l=[],c=l;if(r)i=!1,a=Qbe;else if(s>=rwe){var u=t?null:ewe(e);if(u)return twe(u);i=!1,a=Zbe,c=new Ybe}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var awe=nwe,swe=$l,iwe=awe;function owe(e,t){return e&&e.length?iwe(e,swe(t)):[]}var lwe=owe;const YR=sr(lwe);function OU(e,t,r){return t===!0?YR(e,r):Mt(t)?YR(e,t):e}function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}var cwe=["ref"];function XR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(r),!0).forEach(function(n){zb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RU(n.key),n)}}function dwe(e,t,r){return t&&QR(e.prototype,t),r&&QR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fwe(e,t,r){return t=j0(t),hwe(e,$U()?Reflect.construct(t,r||[],j0(e).constructor):t.apply(e,r))}function hwe(e,t){if(t&&(Kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pwe(e)}function pwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($U=function(){return!!e})()}function j0(e){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j0(e)}function mwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yk(e,t)}function yk(e,t){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yk(e,t)}function zb(e,t,r){return t=RU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RU(e){var t=gwe(e,"string");return Kd(t)=="symbol"?t:t+""}function gwe(e,t){if(Kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vwe(e,t){if(e==null)return{};var r=ywe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ywe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xwe(e){return e.value}function bwe(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var r=vwe(t,cwe);return R.createElement(_C,r)}var ZR=1,od=function(e){function t(){var r;uwe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=fwe(this,t,[].concat(a)),zb(r,"lastBoundingBox",{width:-1,height:-1}),r}return mwe(t,e),dwe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>ZR||Math.abs(a.height-this.lastBoundingBox.height)>ZR)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Oi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Oi(Oi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Oi(Oi({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return R.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){n.wrapperNode=g}},bwe(s,Oi(Oi({},this.props),{},{payload:OU(d,u,xwe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Oi(Oi({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&qe(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(p.PureComponent);zb(od,"displayName","Legend");zb(od,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var e4=hg,wwe=jC,_we=Na,t4=e4?e4.isConcatSpreadable:void 0;function Swe(e){return _we(e)||wwe(e)||!!(t4&&e&&e[t4])}var jwe=Swe,kwe=bU,Ewe=jwe;function IU(e,t,r,n,a){var s=-1,i=e.length;for(r||(r=Ewe),a||(a=[]);++s<i;){var l=e[s];t>0&&r(l)?t>1?IU(l,t-1,r,n,a):kwe(a,l):n||(a[a.length]=l)}return a}var MU=IU;function Nwe(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var Cwe=Nwe,Pwe=Cwe,Awe=Pwe(),Twe=Awe,Owe=Twe,$we=Ub;function Rwe(e,t){return e&&Owe(e,t,$we)}var LU=Rwe,Iwe=gg;function Mwe(e,t){return function(r,n){if(r==null)return r;if(!Iwe(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=Object(r);(t?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var Lwe=Mwe,Dwe=LU,Fwe=Lwe,Bwe=Fwe(Dwe),CC=Bwe,Uwe=CC,zwe=gg;function qwe(e,t){var r=-1,n=zwe(e)?Array(e.length):[];return Uwe(e,function(a,s,i){n[++r]=t(a,s,i)}),n}var DU=qwe;function Wwe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Hwe=Wwe,r4=$f;function Vwe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=r4(e),i=t!==void 0,l=t===null,c=t===t,u=r4(t);if(!l&&!u&&!s&&e>t||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var Kwe=Vwe,Gwe=Kwe;function Jwe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,i=a.length,l=r.length;++n<i;){var c=Gwe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Ywe=Jwe,e_=fC,Xwe=hC,Qwe=$l,Zwe=DU,e1e=Hwe,t1e=SU,r1e=Ywe,n1e=Bf,a1e=Na;function s1e(e,t,r){t.length?t=e_(t,function(s){return a1e(s)?function(i){return Xwe(i,s.length===1?s[0]:s)}:s}):t=[n1e];var n=-1;t=e_(t,t1e(Qwe));var a=Zwe(e,function(s,i,l){var c=e_(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return e1e(a,function(s,i){return r1e(s,i,r)})}var i1e=s1e;function o1e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var l1e=o1e,c1e=l1e,n4=Math.max;function u1e(e,t,r){return t=n4(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=n4(n.length-t,0),i=Array(s);++a<s;)i[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(i),c1e(e,this,l)}}var d1e=u1e;function f1e(e){return function(){return e}}var h1e=f1e,p1e=Xc,m1e=function(){try{var e=p1e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),FU=m1e,g1e=h1e,a4=FU,v1e=Bf,y1e=a4?function(e,t){return a4(e,"toString",{configurable:!0,enumerable:!1,value:g1e(t),writable:!0})}:v1e,x1e=y1e,b1e=800,w1e=16,_1e=Date.now;function S1e(e){var t=0,r=0;return function(){var n=_1e(),a=w1e-(n-r);if(r=n,a>0){if(++t>=b1e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var j1e=S1e,k1e=x1e,E1e=j1e,N1e=E1e(k1e),C1e=N1e,P1e=Bf,A1e=d1e,T1e=C1e;function O1e(e,t){return T1e(A1e(e,t,P1e),e+"")}var $1e=O1e,R1e=lC,I1e=gg,M1e=kC,L1e=Ol;function D1e(e,t,r){if(!L1e(r))return!1;var n=typeof t;return(n=="number"?I1e(r)&&M1e(t,r.length):n=="string"&&t in r)?R1e(r[t],e):!1}var qb=D1e,F1e=MU,B1e=i1e,U1e=$1e,s4=qb,z1e=U1e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&s4(e,t[0],t[1])?t=[]:r>2&&s4(t[0],t[1],t[2])&&(t=[t[0]]),B1e(e,F1e(t,1),[])}),q1e=z1e;const PC=sr(q1e);function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function xk(){return xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xk.apply(this,arguments)}function W1e(e,t){return G1e(e)||K1e(e,t)||V1e(e,t)||H1e()}function H1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V1e(e,t){if(e){if(typeof e=="string")return i4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i4(e,t)}}function i4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function G1e(e){if(Array.isArray(e))return e}function o4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o4(Object(r),!0).forEach(function(n){J1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J1e(e,t,r){return t=Y1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y1e(e){var t=X1e(e,"string");return am(t)=="symbol"?t:t+""}function X1e(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q1e(e){return Array.isArray(e)&&cn(e[0])&&cn(e[1])?e.join(" ~ "):e}var Z1e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,g=t.wrapperClassName,v=t.labelClassName,m=t.label,y=t.labelFormatter,x=t.accessibilityLayer,w=x===void 0?!1:x,b=function(){if(d&&d.length){var I={padding:0,margin:0},B=(h?PC(d,h):d).map(function(z,M){if(z.type==="none")return null;var $=t_({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),F=z.formatter||f||Q1e,O=z.value,L=z.name,Q=O,T=L;if(F&&Q!=null&&T!=null){var D=F(O,L,z,M,d);if(Array.isArray(D)){var Y=W1e(D,2);Q=Y[0],T=Y[1]}else Q=D}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:$},cn(T)?R.createElement("span",{className:"recharts-tooltip-item-name"},T):null,cn(T)?R.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,R.createElement("span",{className:"recharts-tooltip-item-value"},Q),R.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:I},B)}return null},_=t_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=t_({margin:0},u),E=!Yt(m),j=E?m:"",k=qt("recharts-default-tooltip",g),N=qt("recharts-tooltip-label",v);E&&y&&d!==void 0&&d!==null&&(j=y(m,d));var C=w?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",xk({className:k,style:_},C),R.createElement("p",{className:N,style:S},R.isValidElement(j)?j:"".concat(j)),b())};function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function xv(e,t,r){return t=e_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e_e(e){var t=t_e(e,"string");return sm(t)=="symbol"?t:t+""}function t_e(e,t){if(sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wh="recharts-tooltip-wrapper",r_e={visibility:"hidden"};function n_e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return qt(wh,xv(xv(xv(xv({},"".concat(wh,"-right"),qe(r)&&t&&qe(t.x)&&r>=t.x),"".concat(wh,"-left"),qe(r)&&t&&qe(t.x)&&r<t.x),"".concat(wh,"-bottom"),qe(n)&&t&&qe(t.y)&&n>=t.y),"".concat(wh,"-top"),qe(n)&&t&&qe(t.y)&&n<t.y))}function l4(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&qe(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return i[n]?d:f;if(i[n]){var h=d,g=c[n];return h<g?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,m=c[n]+u;return v>m?Math.max(d,c[n]):Math.max(f,c[n])}function a_e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function s_e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=l4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=l4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=a_e({translateX:d,translateY:f,useTranslate3d:l})):u=r_e,{cssProperties:u,cssClasses:n_e({translateX:d,translateY:f,coordinate:r})}}function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}function c4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c4(Object(r),!0).forEach(function(n){wk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UU(n.key),n)}}function l_e(e,t,r){return t&&o_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c_e(e,t,r){return t=k0(t),u_e(e,BU()?Reflect.construct(t,r||[],k0(e).constructor):t.apply(e,r))}function u_e(e,t){if(t&&(Gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d_e(e)}function d_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BU=function(){return!!e})()}function k0(e){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k0(e)}function f_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bk(e,t)}function bk(e,t){return bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bk(e,t)}function wk(e,t,r){return t=UU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UU(e){var t=h_e(e,"string");return Gd(t)=="symbol"?t:t+""}function h_e(e,t){if(Gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d4=1,p_e=function(e){function t(){var r;i_e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=c_e(this,t,[].concat(a)),wk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),wk(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return f_e(t,e),l_e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>d4||Math.abs(n.height-this.state.lastBoundingBox.height)>d4)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,g=a.offset,v=a.position,m=a.reverseDirection,y=a.useTranslate3d,x=a.viewBox,w=a.wrapperStyle,b=s_e({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:g,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),_=b.cssClasses,S=b.cssProperties,E=u4(u4({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return R.createElement("div",{tabIndex:-1,className:_,style:E,ref:function(k){n.wrapperNode=k}},u)}}])}(p.PureComponent),m_e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gl={isSsr:m_e(),get:function(t){return gl[t]},set:function(t,r){if(typeof t=="string")gl[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){gl[a]=t[a]})}}};function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function f4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f4(Object(r),!0).forEach(function(n){AC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qU(n.key),n)}}function y_e(e,t,r){return t&&v_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x_e(e,t,r){return t=E0(t),b_e(e,zU()?Reflect.construct(t,r||[],E0(e).constructor):t.apply(e,r))}function b_e(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w_e(e)}function w_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zU=function(){return!!e})()}function E0(e){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E0(e)}function __e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_k(e,t)}function _k(e,t){return _k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_k(e,t)}function AC(e,t,r){return t=qU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qU(e){var t=S_e(e,"string");return Jd(t)=="symbol"?t:t+""}function S_e(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j_e(e){return e.dataKey}function k_e(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(Z1e,t)}var ni=function(e){function t(){return g_e(this,t),x_e(this,t,arguments)}return __e(t,e),y_e(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,g=a.offset,v=a.payload,m=a.payloadUniqBy,y=a.position,x=a.reverseDirection,w=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,S=v??[];f&&S.length&&(S=OU(v.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),m,j_e));var E=S.length>0;return R.createElement(p_e,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:E,offset:g,position:y,reverseDirection:x,useTranslate3d:w,viewBox:b,wrapperStyle:_},k_e(u,h4(h4({},this.props),{},{payload:S})))}}])}(p.PureComponent);AC(ni,"displayName","Tooltip");AC(ni,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var E_e=Pi,N_e=function(){return E_e.Date.now()},C_e=N_e,P_e=/\s/;function A_e(e){for(var t=e.length;t--&&P_e.test(e.charAt(t)););return t}var T_e=A_e,O_e=T_e,$_e=/^\s+/;function R_e(e){return e&&e.slice(0,O_e(e)+1).replace($_e,"")}var I_e=R_e,M_e=I_e,p4=Ol,L_e=$f,m4=NaN,D_e=/^[-+]0x[0-9a-f]+$/i,F_e=/^0b[01]+$/i,B_e=/^0o[0-7]+$/i,U_e=parseInt;function z_e(e){if(typeof e=="number")return e;if(L_e(e))return m4;if(p4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=p4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=M_e(e);var r=F_e.test(e);return r||B_e.test(e)?U_e(e.slice(2),r?2:8):D_e.test(e)?m4:+e}var WU=z_e,q_e=Ol,r_=C_e,g4=WU,W_e="Expected a function",H_e=Math.max,V_e=Math.min;function K_e(e,t,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(W_e);t=g4(t)||0,q_e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?H_e(g4(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function g(E){var j=n,k=a;return n=a=void 0,u=E,i=e.apply(k,j),i}function v(E){return u=E,l=setTimeout(x,t),d?g(E):i}function m(E){var j=E-c,k=E-u,N=t-j;return f?V_e(N,s-k):N}function y(E){var j=E-c,k=E-u;return c===void 0||j>=t||j<0||f&&k>=s}function x(){var E=r_();if(y(E))return w(E);l=setTimeout(x,m(E))}function w(E){return l=void 0,h&&n?g(E):(n=a=void 0,i)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?i:w(r_())}function S(){var E=r_(),j=y(E);if(n=arguments,a=this,c=E,j){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(x,t),g(c)}return l===void 0&&(l=setTimeout(x,t)),i}return S.cancel=b,S.flush=_,S}var G_e=K_e,J_e=G_e,Y_e=Ol,X_e="Expected a function";function Q_e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(X_e);return Y_e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),J_e(e,t,{leading:n,maxWait:t,trailing:a})}var Z_e=Q_e;const HU=sr(Z_e);function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function v4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(r),!0).forEach(function(n){eSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eSe(e,t,r){return t=tSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tSe(e){var t=rSe(e,"string");return im(t)=="symbol"?t:t+""}function rSe(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nSe(e,t){return oSe(e)||iSe(e,t)||sSe(e,t)||aSe()}function aSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sSe(e,t){if(e){if(typeof e=="string")return y4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y4(e,t)}}function y4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function oSe(e){if(Array.isArray(e))return e}var lSe=p.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,i=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,g=e.children,v=e.debounce,m=v===void 0?0:v,y=e.id,x=e.className,w=e.onResize,b=e.style,_=b===void 0?{}:b,S=p.useRef(null),E=p.useRef();E.current=w,p.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var j=p.useState({containerWidth:a.width,containerHeight:a.height}),k=nSe(j,2),N=k[0],C=k[1],A=p.useCallback(function(B,z){C(function(M){var $=Math.round(B),F=Math.round(z);return M.containerWidth===$&&M.containerHeight===F?M:{containerWidth:$,containerHeight:F}})},[]);p.useEffect(function(){var B=function(L){var Q,T=L[0].contentRect,D=T.width,Y=T.height;A(D,Y),(Q=E.current)===null||Q===void 0||Q.call(E,D,Y)};m>0&&(B=HU(B,m,{trailing:!0,leading:!1}));var z=new ResizeObserver(B),M=S.current.getBoundingClientRect(),$=M.width,F=M.height;return A($,F),z.observe(S.current),function(){z.disconnect()}},[A,m]);var I=p.useMemo(function(){var B=N.containerWidth,z=N.containerHeight;if(B<0||z<0)return null;Qi(ic(i)||ic(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),Qi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=ic(i)?B:i,$=ic(c)?z:c;r&&r>0&&(M?$=M/r:$&&(M=$*r),h&&$>h&&($=h)),Qi(M>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,$,i,c,d,f,r);var F=!Array.isArray(g)&&Xi(g.type).endsWith("Chart");return R.Children.map(g,function(O){return U7.isElement(O)?p.cloneElement(O,bv({width:M,height:$},F?{style:bv({height:"100%",width:"100%",maxHeight:$,maxWidth:M},O.props.style)}:{})):O})},[r,g,c,h,f,d,N,i]);return R.createElement("div",{id:y?"".concat(y):void 0,className:qt("recharts-responsive-container",x),style:bv(bv({},_),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},I)}),vg=function(t){return null};vg.displayName="Cell";function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function x4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(r),!0).forEach(function(n){cSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cSe(e,t,r){return t=uSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uSe(e){var t=dSe(e,"string");return om(t)=="symbol"?t:t+""}function dSe(e,t){if(om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pu={widthCache:{},cacheCount:0},fSe=2e3,hSe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},b4="recharts_measurement_span";function pSe(e){var t=Sk({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var vp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gl.isSsr)return{width:0,height:0};var n=pSe(r),a=JSON.stringify({text:t,copyStyle:n});if(pu.widthCache[a])return pu.widthCache[a];try{var s=document.getElementById(b4);s||(s=document.createElement("span"),s.setAttribute("id",b4),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=Sk(Sk({},hSe),n);Object.assign(s.style,i),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return pu.widthCache[a]=c,++pu.cacheCount>fSe&&(pu.cacheCount=0,pu.widthCache={}),c}catch{return{width:0,height:0}}},mSe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function N0(e,t){return xSe(e)||ySe(e,t)||vSe(e,t)||gSe()}function gSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vSe(e,t){if(e){if(typeof e=="string")return w4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w4(e,t)}}function w4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ySe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function xSe(e){if(Array.isArray(e))return e}function bSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_Se(n.key),n)}}function wSe(e,t,r){return t&&_4(e.prototype,t),r&&_4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Se(e){var t=SSe(e,"string");return lm(t)=="symbol"?t:t+""}function SSe(e,t){if(lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var S4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,j4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jSe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kSe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ESe=Object.keys(VU),Uu="NaN";function NSe(e,t){return e*VU[t]}var wv=function(){function e(t,r){bSe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!jSe.test(r)&&(this.num=NaN,this.unit=""),ESe.includes(r)&&(this.num=NSe(t,r),this.unit="px")}return wSe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=kSe.exec(r))!==null&&n!==void 0?n:[],s=N0(a,3),i=s[1],l=s[2];return new e(parseFloat(i),l??"")}}])}();function KU(e){if(e.includes(Uu))return Uu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=S4.exec(t))!==null&&r!==void 0?r:[],a=N0(n,4),s=a[1],i=a[2],l=a[3],c=wv.parse(s??""),u=wv.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Uu;t=t.replace(S4,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=j4.exec(t))!==null&&f!==void 0?f:[],g=N0(h,4),v=g[1],m=g[2],y=g[3],x=wv.parse(v??""),w=wv.parse(y??""),b=m==="+"?x.add(w):x.subtract(w);if(b.isNaN())return Uu;t=t.replace(j4,b.toString())}return t}var k4=/\(([^()]*)\)/;function CSe(e){for(var t=e;t.includes("(");){var r=k4.exec(t),n=N0(r,2),a=n[1];t=t.replace(k4,KU(a))}return t}function PSe(e){var t=e.replace(/\s+/g,"");return t=CSe(t),t=KU(t),t}function ASe(e){try{return PSe(e)}catch{return Uu}}function n_(e){var t=ASe(e.slice(5,-1));return t===Uu?"":t}var TSe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],OSe=["dx","dy","angle","className","breakAll"];function jk(){return jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jk.apply(this,arguments)}function E4(e,t){if(e==null)return{};var r=$Se(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Se(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function N4(e,t){return LSe(e)||MSe(e,t)||ISe(e,t)||RSe()}function RSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ISe(e,t){if(e){if(typeof e=="string")return C4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C4(e,t)}}function C4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function LSe(e){if(Array.isArray(e))return e}var GU=/[ \f\n\r\t\v\u2028\u2029]+/,JU=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Yt(r)||(n?s=r.toString().split(""):s=r.toString().split(GU));var i=s.map(function(c){return{word:c,width:vp(c,a).width}}),l=n?0:vp("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},DSe=function(t,r,n,a,s){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=qe(i),f=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function($,F){var O=F.word,L=F.width,Q=$[$.length-1];if(Q&&(a==null||s||Q.width+L+n<Number(a)))Q.words.push(O),Q.width+=L+n;else{var T={words:[O],width:L};$.push(T)}return $},[])},g=h(r),v=function(M){return M.reduce(function($,F){return $.width>F.width?$:F})};if(!d)return g;for(var m="",y=function(M){var $=f.slice(0,M),F=JU({breakAll:u,style:c,children:$+m}).wordsWithComputedWidth,O=h(F),L=O.length>i||v(O).width>Number(a);return[L,O]},x=0,w=f.length-1,b=0,_;x<=w&&b<=f.length-1;){var S=Math.floor((x+w)/2),E=S-1,j=y(E),k=N4(j,2),N=k[0],C=k[1],A=y(S),I=N4(A,1),B=I[0];if(!N&&!B&&(x=S+1),N&&B&&(w=S-1),!N&&B){_=C;break}b++}return _||g},P4=function(t){var r=Yt(t)?[]:t.toString().split(GU);return[{words:r}]},FSe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!gl.isSsr){var c,u,d=JU({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return P4(a);return DSe({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return P4(a)},A4="#808080",C0=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,g=h===void 0?"start":h,v=t.verticalAnchor,m=v===void 0?"end":v,y=t.fill,x=y===void 0?A4:y,w=E4(t,TSe),b=p.useMemo(function(){return FSe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),_=w.dx,S=w.dy,E=w.angle,j=w.className,k=w.breakAll,N=E4(w,OSe);if(!cn(n)||!cn(s))return null;var C=n+(qe(_)?_:0),A=s+(qe(S)?S:0),I;switch(m){case"start":I=n_("calc(".concat(u,")"));break;case"middle":I=n_("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=n_("calc(".concat(b.length-1," * -").concat(l,")"));break}var B=[];if(f){var z=b[0].width,M=w.width;B.push("scale(".concat((qe(M)?M/z:1)/z,")"))}return E&&B.push("rotate(".concat(E,", ").concat(C,", ").concat(A,")")),B.length&&(N.transform=B.join(" ")),R.createElement("text",jk({},Kt(N,!0),{x:C,y:A,className:qt("recharts-text",j),textAnchor:g,fill:x.includes("url")?A4:x}),b.map(function($,F){var O=$.words.join(k?"":" ");return R.createElement("tspan",{x:C,dy:F===0?I:l,key:"".concat(O,"-").concat(F)},O)}))};function vl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BSe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function TC(e){let t,r,n;e.length!==2?(t=vl,r=(l,c)=>vl(e(l),c),n=(l,c)=>e(l)-c):(t=e===vl||e===BSe?e:USe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function USe(){return 0}function YU(e){return e===null?NaN:+e}function*zSe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const qSe=TC(vl),yg=qSe.right;TC(YU).center;class T4 extends Map{constructor(t,r=VSe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(O4(this,t))}has(t){return super.has(O4(this,t))}set(t,r){return super.set(WSe(this,t),r)}delete(t){return super.delete(HSe(this,t))}}function O4({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function WSe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function HSe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function VSe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function KSe(e=vl){if(e===vl)return XU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function XU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const GSe=Math.sqrt(50),JSe=Math.sqrt(10),YSe=Math.sqrt(2);function P0(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=GSe?10:s>=JSe?5:s>=YSe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?P0(e,t,r*2):[l,c,u]}function kk(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?P0(t,e,r):P0(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function Ek(e,t,r){return t=+t,e=+e,r=+r,P0(e,t,r)[2]}function Nk(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Ek(t,e,r):Ek(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function $4(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function R4(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QU(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?XU:KSe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));QU(e,t,g,v,a)}const s=e[t];let i=r,l=n;for(_h(e,r,t),a(e[n],s)>0&&_h(e,r,n);i<l;){for(_h(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?_h(e,r,l):(++l,_h(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function _h(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function XSe(e,t,r){if(e=Float64Array.from(zSe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return R4(e);if(t>=1)return $4(e);var n,a=(n-1)*t,s=Math.floor(a),i=$4(QU(e,s).subarray(0,s+1)),l=R4(e.subarray(s+1));return i+(l-i)*(a-s)}}function QSe(e,t,r=YU){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function ZSe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function gs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function vo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ck=Symbol("implicit");function OC(){var e=new T4,t=[],r=[],n=Ck;function a(s){let i=e.get(s);if(i===void 0){if(n!==Ck)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new T4;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return OC(t,r).unknown(n)},gs.apply(a,arguments),a}function cm(){var e=OC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,g=a<n,v=g?a:n,m=g?n:a;s=(m-v)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),v+=(m-v-s*(h-c))*d,i=s*(1-c),l&&(v=Math.round(v),i=Math.round(i));var y=ZSe(h).map(function(x){return v+s*x});return r(g?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return cm(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},gs.apply(f(),arguments)}function ZU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ZU(t())},e}function yp(){return ZU(cm.apply(null,arguments).paddingInner(1))}function $C(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function e9(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function xg(){}var um=.7,A0=1/um,ld="\\s*([+-]?\\d+)\\s*",dm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eje=/^#([0-9a-f]{3,8})$/,tje=new RegExp(`^rgb\\(${ld},${ld},${ld}\\)$`),rje=new RegExp(`^rgb\\(${bi},${bi},${bi}\\)$`),nje=new RegExp(`^rgba\\(${ld},${ld},${ld},${dm}\\)$`),aje=new RegExp(`^rgba\\(${bi},${bi},${bi},${dm}\\)$`),sje=new RegExp(`^hsl\\(${dm},${bi},${bi}\\)$`),ije=new RegExp(`^hsla\\(${dm},${bi},${bi},${dm}\\)$`),I4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$C(xg,fm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:M4,formatHex:M4,formatHex8:oje,formatHsl:lje,formatRgb:L4,toString:L4});function M4(){return this.rgb().formatHex()}function oje(){return this.rgb().formatHex8()}function lje(){return t9(this).formatHsl()}function L4(){return this.rgb().formatRgb()}function fm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=eje.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?D4(t):r===3?new ba(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?_v(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?_v(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tje.exec(e))?new ba(t[1],t[2],t[3],1):(t=rje.exec(e))?new ba(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nje.exec(e))?_v(t[1],t[2],t[3],t[4]):(t=aje.exec(e))?_v(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sje.exec(e))?U4(t[1],t[2]/100,t[3]/100,1):(t=ije.exec(e))?U4(t[1],t[2]/100,t[3]/100,t[4]):I4.hasOwnProperty(e)?D4(I4[e]):e==="transparent"?new ba(NaN,NaN,NaN,0):null}function D4(e){return new ba(e>>16&255,e>>8&255,e&255,1)}function _v(e,t,r,n){return n<=0&&(e=t=r=NaN),new ba(e,t,r,n)}function cje(e){return e instanceof xg||(e=fm(e)),e?(e=e.rgb(),new ba(e.r,e.g,e.b,e.opacity)):new ba}function Pk(e,t,r,n){return arguments.length===1?cje(e):new ba(e,t,r,n??1)}function ba(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}$C(ba,Pk,e9(xg,{brighter(e){return e=e==null?A0:Math.pow(A0,e),new ba(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?um:Math.pow(um,e),new ba(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ba(kc(this.r),kc(this.g),kc(this.b),T0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:F4,formatHex:F4,formatHex8:uje,formatRgb:B4,toString:B4}));function F4(){return`#${oc(this.r)}${oc(this.g)}${oc(this.b)}`}function uje(){return`#${oc(this.r)}${oc(this.g)}${oc(this.b)}${oc((isNaN(this.opacity)?1:this.opacity)*255)}`}function B4(){const e=T0(this.opacity);return`${e===1?"rgb(":"rgba("}${kc(this.r)}, ${kc(this.g)}, ${kc(this.b)}${e===1?")":`, ${e})`}`}function T0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oc(e){return e=kc(e),(e<16?"0":"")+e.toString(16)}function U4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Os(e,t,r,n)}function t9(e){if(e instanceof Os)return new Os(e.h,e.s,e.l,e.opacity);if(e instanceof xg||(e=fm(e)),!e)return new Os;if(e instanceof Os)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new Os(i,l,c,e.opacity)}function dje(e,t,r,n){return arguments.length===1?t9(e):new Os(e,t,r,n??1)}function Os(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}$C(Os,dje,e9(xg,{brighter(e){return e=e==null?A0:Math.pow(A0,e),new Os(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?um:Math.pow(um,e),new Os(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ba(a_(e>=240?e-240:e+120,a,n),a_(e,a,n),a_(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Os(z4(this.h),Sv(this.s),Sv(this.l),T0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=T0(this.opacity);return`${e===1?"hsl(":"hsla("}${z4(this.h)}, ${Sv(this.s)*100}%, ${Sv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function z4(e){return e=(e||0)%360,e<0?e+360:e}function Sv(e){return Math.max(0,Math.min(1,e||0))}function a_(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const RC=e=>()=>e;function fje(e,t){return function(r){return e+r*t}}function hje(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function pje(e){return(e=+e)==1?r9:function(t,r){return r-t?hje(t,r,e):RC(isNaN(t)?r:t)}}function r9(e,t){var r=t-e;return r?fje(e,r):RC(isNaN(e)?t:e)}const q4=function e(t){var r=pje(t);function n(a,s){var i=r((a=Pk(a)).r,(s=Pk(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=r9(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function mje(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function gje(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vje(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Uf(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function yje(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function O0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function xje(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Uf(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Ak=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s_=new RegExp(Ak.source,"g");function bje(e){return function(){return e}}function wje(e){return function(t){return e(t)+""}}function _je(e,t){var r=Ak.lastIndex=s_.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Ak.exec(e))&&(a=s_.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:O0(n,a)})),r=s_.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?wje(c[0].x):bje(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Uf(e,t){var r=typeof t,n;return t==null||r==="boolean"?RC(t):(r==="number"?O0:r==="string"?(n=fm(t))?(t=n,q4):_je:t instanceof fm?q4:t instanceof Date?yje:gje(t)?mje:Array.isArray(t)?vje:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xje:O0)(e,t)}function IC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Sje(e,t){t===void 0&&(t=e,e=Uf);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function jje(e){return function(){return e}}function $0(e){return+e}var W4=[0,1];function ra(e){return e}function Tk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:jje(isNaN(t)?NaN:.5)}function kje(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Eje(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=Tk(a,n),s=r(i,s)):(n=Tk(n,a),s=r(s,i)),function(l){return s(n(l))}}function Nje(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Tk(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=yg(e,l,1,n)-1;return s[c](a[c](l))}}function bg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Wb(){var e=W4,t=W4,r=Uf,n,a,s,i=ra,l,c,u;function d(){var h=Math.min(e.length,t.length);return i!==ra&&(i=kje(e[0],e[h-1])),l=h>2?Nje:Eje,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=l(t,e.map(n),O0)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,$0),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=IC,d()},f.clamp=function(h){return arguments.length?(i=h?!0:ra,d()):i!==ra},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,g){return n=h,a=g,d()}}function MC(){return Wb()(ra,ra)}function Cje(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function R0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Yd(e){return e=R0(Math.abs(e)),e?e[1]:NaN}function Pje(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function Aje(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Tje=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hm(e){if(!(t=Tje.exec(e)))throw new Error("invalid format: "+e);var t;return new LC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hm.prototype=LC.prototype;function LC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}LC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Oje(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var n9;function $je(e,t){var r=R0(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(n9=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+R0(e,Math.max(0,t+s-1))[0]}function H4(e,t){var r=R0(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const V4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Cje,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>H4(e*100,t),r:H4,s:$je,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function K4(e){return e}var G4=Array.prototype.map,J4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Rje(e){var t=e.grouping===void 0||e.thousands===void 0?K4:Pje(G4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?K4:Aje(G4.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=hm(f);var h=f.fill,g=f.align,v=f.sign,m=f.symbol,y=f.zero,x=f.width,w=f.comma,b=f.precision,_=f.trim,S=f.type;S==="n"?(w=!0,S="g"):V4[S]||(b===void 0&&(b=12),_=!0,S="g"),(y||h==="0"&&g==="=")&&(y=!0,h="0",g="=");var E=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=m==="$"?n:/[%p]/.test(S)?i:"",k=V4[S],N=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function C(A){var I=E,B=j,z,M,$;if(S==="c")B=k(A)+B,A="";else{A=+A;var F=A<0||1/A<0;if(A=isNaN(A)?c:k(Math.abs(A),b),_&&(A=Oje(A)),F&&+A==0&&v!=="+"&&(F=!1),I=(F?v==="("?v:l:v==="-"||v==="("?"":v)+I,B=(S==="s"?J4[8+n9/3]:"")+B+(F&&v==="("?")":""),N){for(z=-1,M=A.length;++z<M;)if($=A.charCodeAt(z),48>$||$>57){B=($===46?a+A.slice(z+1):A.slice(z))+B,A=A.slice(0,z);break}}}w&&!y&&(A=t(A,1/0));var O=I.length+A.length+B.length,L=O<x?new Array(x-O+1).join(h):"";switch(w&&y&&(A=t(L+A,L.length?x-B.length:1/0),L=""),g){case"<":A=I+A+B+L;break;case"=":A=I+L+A+B;break;case"^":A=L.slice(0,O=L.length>>1)+I+A+B+L.slice(O);break;default:A=L+I+A+B;break}return s(A)}return C.toString=function(){return f+""},C}function d(f,h){var g=u((f=hm(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Yd(h)/3)))*3,m=Math.pow(10,-v),y=J4[8+v/3];return function(x){return g(m*x)+y}}return{format:u,formatPrefix:d}}var jv,DC,a9;Ije({thousands:",",grouping:[3],currency:["$",""]});function Ije(e){return jv=Rje(e),DC=jv.format,a9=jv.formatPrefix,jv}function Mje(e){return Math.max(0,-Yd(Math.abs(e)))}function Lje(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yd(t)/3)))*3-Yd(Math.abs(e)))}function Dje(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yd(t)-Yd(e))+1}function s9(e,t,r,n){var a=Nk(e,t,r),s;switch(n=hm(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=Lje(a,i))&&(n.precision=s),a9(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Dje(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Mje(a))&&(n.precision=s-(n.type==="%")*2);break}}return DC(n)}function Rl(e){var t=e.domain;return e.ticks=function(r){var n=t();return kk(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return s9(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Ek(i,l,r),u===c)return n[a]=i,n[s]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function I0(){var e=MC();return e.copy=function(){return bg(e,I0())},gs.apply(e,arguments),Rl(e)}function i9(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,$0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return i9(e).unknown(t)},e=arguments.length?Array.from(e,$0):[0,1],Rl(r)}function o9(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function Y4(e){return Math.log(e)}function X4(e){return Math.exp(e)}function Fje(e){return-Math.log(-e)}function Bje(e){return-Math.exp(-e)}function Uje(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zje(e){return e===10?Uje:e===Math.E?Math.exp:t=>Math.pow(e,t)}function qje(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Q4(e){return(t,r)=>-e(-t,r)}function FC(e){const t=e(Y4,X4),r=t.domain;let n=10,a,s;function i(){return a=qje(n),s=zje(n),r()[0]<0?(a=Q4(a),s=Q4(s),e(Fje,Bje)):e(Y4,X4),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),g=a(d),v,m;const y=l==null?10:+l;let x=[];if(!(n%1)&&g-h<y){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<n;++v)if(m=h<0?v/s(-h):v*s(h),!(m<u)){if(m>d)break;x.push(m)}}else for(;h<=g;++h)for(v=n-1;v>=1;--v)if(m=h>0?v/s(-h):v*s(h),!(m<u)){if(m>d)break;x.push(m)}x.length*2<y&&(x=kk(u,d,y))}else x=kk(h,g,Math.min(g-h,y)).map(s);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=hm(c)).precision==null&&(c.trim=!0),c=DC(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(o9(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function l9(){const e=FC(Wb()).domain([1,10]);return e.copy=()=>bg(e,l9()).base(e.base()),gs.apply(e,arguments),e}function Z4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function BC(e){var t=1,r=e(Z4(t),eI(t));return r.constant=function(n){return arguments.length?e(Z4(t=+n),eI(t)):t},Rl(r)}function c9(){var e=BC(Wb());return e.copy=function(){return bg(e,c9()).constant(e.constant())},gs.apply(e,arguments)}function tI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Wje(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Hje(e){return e<0?-e*e:e*e}function UC(e){var t=e(ra,ra),r=1;function n(){return r===1?e(ra,ra):r===.5?e(Wje,Hje):e(tI(r),tI(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Rl(t)}function zC(){var e=UC(Wb());return e.copy=function(){return bg(e,zC()).exponent(e.exponent())},gs.apply(e,arguments),e}function Vje(){return zC.apply(null,arguments).exponent(.5)}function rI(e){return Math.sign(e)*e*e}function Kje(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function u9(){var e=MC(),t=[0,1],r=!1,n;function a(s){var i=Kje(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(rI(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,$0)).map(rI)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return u9(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},gs.apply(a,arguments),Rl(a)}function d9(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=QSe(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[yg(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(vl),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return d9().domain(e).range(t).unknown(n)},gs.apply(s,arguments)}function f9(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[yg(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return f9().domain([e,t]).range(a).unknown(s)},gs.apply(Rl(i),arguments)}function h9(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[yg(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return h9().domain(e).range(t).unknown(r)},gs.apply(a,arguments)}const i_=new Date,o_=new Date;function un(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<i);return c},a.filter=s=>un(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(i_.setTime(+s),o_.setTime(+i),e(i_),e(o_),Math.floor(r(i_,o_))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const M0=un(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);M0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?un(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):M0);M0.range;const Vi=1e3,rs=Vi*60,Ki=rs*60,lo=Ki*24,qC=lo*7,nI=lo*30,l_=lo*365,lc=un(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getUTCSeconds());lc.range;const WC=un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vi)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getMinutes());WC.range;const HC=un(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getUTCMinutes());HC.range;const VC=un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vi-e.getMinutes()*rs)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getHours());VC.range;const KC=un(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getUTCHours());KC.range;const wg=un(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rs)/lo,e=>e.getDate()-1);wg.range;const Hb=un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lo,e=>e.getUTCDate()-1);Hb.range;const p9=un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lo,e=>Math.floor(e/lo));p9.range;function Qc(e){return un(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*rs)/qC)}const Vb=Qc(0),L0=Qc(1),Gje=Qc(2),Jje=Qc(3),Xd=Qc(4),Yje=Qc(5),Xje=Qc(6);Vb.range;L0.range;Gje.range;Jje.range;Xd.range;Yje.range;Xje.range;function Zc(e){return un(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/qC)}const Kb=Zc(0),D0=Zc(1),Qje=Zc(2),Zje=Zc(3),Qd=Zc(4),eke=Zc(5),tke=Zc(6);Kb.range;D0.range;Qje.range;Zje.range;Qd.range;eke.range;tke.range;const GC=un(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());GC.range;const JC=un(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());JC.range;const co=un(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());co.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:un(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});co.range;const uo=un(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());uo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:un(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});uo.range;function m9(e,t,r,n,a,s){const i=[[lc,1,Vi],[lc,5,5*Vi],[lc,15,15*Vi],[lc,30,30*Vi],[s,1,rs],[s,5,5*rs],[s,15,15*rs],[s,30,30*rs],[a,1,Ki],[a,3,3*Ki],[a,6,6*Ki],[a,12,12*Ki],[n,1,lo],[n,2,2*lo],[r,1,qC],[t,1,nI],[t,3,3*nI],[e,1,l_]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),v=g?g.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,g=TC(([,,y])=>y).right(i,h);if(g===i.length)return e.every(Nk(u/l_,d/l_,f));if(g===0)return M0.every(Math.max(Nk(u,d,f),1));const[v,m]=i[h/i[g-1][2]<i[g][2]/h?g-1:g];return v.every(m)}return[l,c]}const[rke,nke]=m9(uo,JC,Kb,p9,KC,HC),[ake,ske]=m9(co,GC,Vb,wg,VC,WC);function c_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function u_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Sh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ike(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=jh(a),d=kh(a),f=jh(s),h=kh(s),g=jh(i),v=kh(i),m=jh(l),y=kh(l),x=jh(c),w=kh(c),b={a:F,A:O,b:L,B:Q,c:null,d:cI,e:cI,f:Pke,g:Fke,G:Uke,H:Eke,I:Nke,j:Cke,L:g9,m:Ake,M:Tke,p:T,q:D,Q:fI,s:hI,S:Oke,u:$ke,U:Rke,V:Ike,w:Mke,W:Lke,x:null,X:null,y:Dke,Y:Bke,Z:zke,"%":dI},_={a:Y,A:q,b:ie,B:le,c:null,d:uI,e:uI,f:Vke,g:rEe,G:aEe,H:qke,I:Wke,j:Hke,L:y9,m:Kke,M:Gke,p:K,q:Z,Q:fI,s:hI,S:Jke,u:Yke,U:Xke,V:Qke,w:Zke,W:eEe,x:null,X:null,y:tEe,Y:nEe,Z:sEe,"%":dI},S={a:C,A,b:I,B,c:z,d:oI,e:oI,f:_ke,g:iI,G:sI,H:lI,I:lI,j:yke,L:wke,m:vke,M:xke,p:N,q:gke,Q:jke,s:kke,S:bke,u:dke,U:fke,V:hke,w:uke,W:pke,x:M,X:$,y:iI,Y:sI,Z:mke,"%":Ske};b.x=E(r,b),b.X=E(n,b),b.c=E(t,b),_.x=E(r,_),_.X=E(n,_),_.c=E(t,_);function E(H,X){return function(ce){var J=[],oe=-1,ne=0,he=H.length,fe,_e,W;for(ce instanceof Date||(ce=new Date(+ce));++oe<he;)H.charCodeAt(oe)===37&&(J.push(H.slice(ne,oe)),(_e=aI[fe=H.charAt(++oe)])!=null?fe=H.charAt(++oe):_e=fe==="e"?" ":"0",(W=X[fe])&&(fe=W(ce,_e)),J.push(fe),ne=oe+1);return J.push(H.slice(ne,oe)),J.join("")}}function j(H,X){return function(ce){var J=Sh(1900,void 0,1),oe=k(J,H,ce+="",0),ne,he;if(oe!=ce.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(X&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(ne=u_(Sh(J.y,0,1)),he=ne.getUTCDay(),ne=he>4||he===0?D0.ceil(ne):D0(ne),ne=Hb.offset(ne,(J.V-1)*7),J.y=ne.getUTCFullYear(),J.m=ne.getUTCMonth(),J.d=ne.getUTCDate()+(J.w+6)%7):(ne=c_(Sh(J.y,0,1)),he=ne.getDay(),ne=he>4||he===0?L0.ceil(ne):L0(ne),ne=wg.offset(ne,(J.V-1)*7),J.y=ne.getFullYear(),J.m=ne.getMonth(),J.d=ne.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),he="Z"in J?u_(Sh(J.y,0,1)).getUTCDay():c_(Sh(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(he+5)%7:J.w+J.U*7-(he+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,u_(J)):c_(J)}}function k(H,X,ce,J){for(var oe=0,ne=X.length,he=ce.length,fe,_e;oe<ne;){if(J>=he)return-1;if(fe=X.charCodeAt(oe++),fe===37){if(fe=X.charAt(oe++),_e=S[fe in aI?X.charAt(oe++):fe],!_e||(J=_e(H,ce,J))<0)return-1}else if(fe!=ce.charCodeAt(J++))return-1}return J}function N(H,X,ce){var J=u.exec(X.slice(ce));return J?(H.p=d.get(J[0].toLowerCase()),ce+J[0].length):-1}function C(H,X,ce){var J=g.exec(X.slice(ce));return J?(H.w=v.get(J[0].toLowerCase()),ce+J[0].length):-1}function A(H,X,ce){var J=f.exec(X.slice(ce));return J?(H.w=h.get(J[0].toLowerCase()),ce+J[0].length):-1}function I(H,X,ce){var J=x.exec(X.slice(ce));return J?(H.m=w.get(J[0].toLowerCase()),ce+J[0].length):-1}function B(H,X,ce){var J=m.exec(X.slice(ce));return J?(H.m=y.get(J[0].toLowerCase()),ce+J[0].length):-1}function z(H,X,ce){return k(H,t,X,ce)}function M(H,X,ce){return k(H,r,X,ce)}function $(H,X,ce){return k(H,n,X,ce)}function F(H){return i[H.getDay()]}function O(H){return s[H.getDay()]}function L(H){return c[H.getMonth()]}function Q(H){return l[H.getMonth()]}function T(H){return a[+(H.getHours()>=12)]}function D(H){return 1+~~(H.getMonth()/3)}function Y(H){return i[H.getUTCDay()]}function q(H){return s[H.getUTCDay()]}function ie(H){return c[H.getUTCMonth()]}function le(H){return l[H.getUTCMonth()]}function K(H){return a[+(H.getUTCHours()>=12)]}function Z(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var X=E(H+="",b);return X.toString=function(){return H},X},parse:function(H){var X=j(H+="",!1);return X.toString=function(){return H},X},utcFormat:function(H){var X=E(H+="",_);return X.toString=function(){return H},X},utcParse:function(H){var X=j(H+="",!0);return X.toString=function(){return H},X}}}var aI={"-":"",_:" ",0:"0"},bn=/^\s*\d+/,oke=/^%/,lke=/[\\^$*+?|[\]().{}]/g;function Wt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function cke(e){return e.replace(lke,"\\$&")}function jh(e){return new RegExp("^(?:"+e.map(cke).join("|")+")","i")}function kh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function uke(e,t,r){var n=bn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function dke(e,t,r){var n=bn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function fke(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function hke(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function pke(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function sI(e,t,r){var n=bn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function iI(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mke(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function gke(e,t,r){var n=bn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function vke(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function oI(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function yke(e,t,r){var n=bn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function lI(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function xke(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function bke(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function wke(e,t,r){var n=bn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function _ke(e,t,r){var n=bn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Ske(e,t,r){var n=oke.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function jke(e,t,r){var n=bn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function kke(e,t,r){var n=bn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function cI(e,t){return Wt(e.getDate(),t,2)}function Eke(e,t){return Wt(e.getHours(),t,2)}function Nke(e,t){return Wt(e.getHours()%12||12,t,2)}function Cke(e,t){return Wt(1+wg.count(co(e),e),t,3)}function g9(e,t){return Wt(e.getMilliseconds(),t,3)}function Pke(e,t){return g9(e,t)+"000"}function Ake(e,t){return Wt(e.getMonth()+1,t,2)}function Tke(e,t){return Wt(e.getMinutes(),t,2)}function Oke(e,t){return Wt(e.getSeconds(),t,2)}function $ke(e){var t=e.getDay();return t===0?7:t}function Rke(e,t){return Wt(Vb.count(co(e)-1,e),t,2)}function v9(e){var t=e.getDay();return t>=4||t===0?Xd(e):Xd.ceil(e)}function Ike(e,t){return e=v9(e),Wt(Xd.count(co(e),e)+(co(e).getDay()===4),t,2)}function Mke(e){return e.getDay()}function Lke(e,t){return Wt(L0.count(co(e)-1,e),t,2)}function Dke(e,t){return Wt(e.getFullYear()%100,t,2)}function Fke(e,t){return e=v9(e),Wt(e.getFullYear()%100,t,2)}function Bke(e,t){return Wt(e.getFullYear()%1e4,t,4)}function Uke(e,t){var r=e.getDay();return e=r>=4||r===0?Xd(e):Xd.ceil(e),Wt(e.getFullYear()%1e4,t,4)}function zke(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Wt(t/60|0,"0",2)+Wt(t%60,"0",2)}function uI(e,t){return Wt(e.getUTCDate(),t,2)}function qke(e,t){return Wt(e.getUTCHours(),t,2)}function Wke(e,t){return Wt(e.getUTCHours()%12||12,t,2)}function Hke(e,t){return Wt(1+Hb.count(uo(e),e),t,3)}function y9(e,t){return Wt(e.getUTCMilliseconds(),t,3)}function Vke(e,t){return y9(e,t)+"000"}function Kke(e,t){return Wt(e.getUTCMonth()+1,t,2)}function Gke(e,t){return Wt(e.getUTCMinutes(),t,2)}function Jke(e,t){return Wt(e.getUTCSeconds(),t,2)}function Yke(e){var t=e.getUTCDay();return t===0?7:t}function Xke(e,t){return Wt(Kb.count(uo(e)-1,e),t,2)}function x9(e){var t=e.getUTCDay();return t>=4||t===0?Qd(e):Qd.ceil(e)}function Qke(e,t){return e=x9(e),Wt(Qd.count(uo(e),e)+(uo(e).getUTCDay()===4),t,2)}function Zke(e){return e.getUTCDay()}function eEe(e,t){return Wt(D0.count(uo(e)-1,e),t,2)}function tEe(e,t){return Wt(e.getUTCFullYear()%100,t,2)}function rEe(e,t){return e=x9(e),Wt(e.getUTCFullYear()%100,t,2)}function nEe(e,t){return Wt(e.getUTCFullYear()%1e4,t,4)}function aEe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Qd(e):Qd.ceil(e),Wt(e.getUTCFullYear()%1e4,t,4)}function sEe(){return"+0000"}function dI(){return"%"}function fI(e){return+e}function hI(e){return Math.floor(+e/1e3)}var mu,b9,w9;iEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iEe(e){return mu=ike(e),b9=mu.format,mu.parse,w9=mu.utcFormat,mu.utcParse,mu}function oEe(e){return new Date(e)}function lEe(e){return e instanceof Date?+e:+new Date(+e)}function YC(e,t,r,n,a,s,i,l,c,u){var d=MC(),f=d.invert,h=d.domain,g=u(".%L"),v=u(":%S"),m=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),w=u("%b %d"),b=u("%B"),_=u("%Y");function S(E){return(c(E)<E?g:l(E)<E?v:i(E)<E?m:s(E)<E?y:n(E)<E?a(E)<E?x:w:r(E)<E?b:_)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,lEe)):h().map(oEe)},d.ticks=function(E){var j=h();return e(j[0],j[j.length-1],E??10)},d.tickFormat=function(E,j){return j==null?S:u(j)},d.nice=function(E){var j=h();return(!E||typeof E.range!="function")&&(E=t(j[0],j[j.length-1],E??10)),E?h(o9(j,E)):d},d.copy=function(){return bg(d,YC(e,t,r,n,a,s,i,l,c,u))},d}function cEe(){return gs.apply(YC(ake,ske,co,GC,Vb,wg,VC,WC,lc,b9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uEe(){return gs.apply(YC(rke,nke,uo,JC,Kb,Hb,KC,HC,lc,w9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gb(){var e=0,t=1,r,n,a,s,i=ra,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var g,v;return arguments.length?([g,v]=h,i=f(g,v),u):[i(0),i(1)]}}return u.range=d(Uf),u.rangeRound=d(IC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Il(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _9(){var e=Rl(Gb()(ra));return e.copy=function(){return Il(e,_9())},vo.apply(e,arguments)}function S9(){var e=FC(Gb()).domain([1,10]);return e.copy=function(){return Il(e,S9()).base(e.base())},vo.apply(e,arguments)}function j9(){var e=BC(Gb());return e.copy=function(){return Il(e,j9()).constant(e.constant())},vo.apply(e,arguments)}function XC(){var e=UC(Gb());return e.copy=function(){return Il(e,XC()).exponent(e.exponent())},vo.apply(e,arguments)}function dEe(){return XC.apply(null,arguments).exponent(.5)}function k9(){var e=[],t=ra;function r(n){if(n!=null&&!isNaN(n=+n))return t((yg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(vl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>XSe(e,s/n))},r.copy=function(){return k9(t).domain(e)},vo.apply(r,arguments)}function Jb(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,u=ra,d,f=!1,h;function g(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-s)*(n*m<n*s?l:c),u(f?Math.max(0,Math.min(1,m)):m))}g.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),s=d(t=+t),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,g):[e,t,r]},g.clamp=function(m){return arguments.length?(f=!!m,g):f},g.interpolator=function(m){return arguments.length?(u=m,g):u};function v(m){return function(y){var x,w,b;return arguments.length?([x,w,b]=y,u=Sje(m,[x,w,b]),g):[u(0),u(.5),u(1)]}}return g.range=v(Uf),g.rangeRound=v(IC),g.unknown=function(m){return arguments.length?(h=m,g):h},function(m){return d=m,a=m(e),s=m(t),i=m(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,g}}function E9(){var e=Rl(Jb()(ra));return e.copy=function(){return Il(e,E9())},vo.apply(e,arguments)}function N9(){var e=FC(Jb()).domain([.1,1,10]);return e.copy=function(){return Il(e,N9()).base(e.base())},vo.apply(e,arguments)}function C9(){var e=BC(Jb());return e.copy=function(){return Il(e,C9()).constant(e.constant())},vo.apply(e,arguments)}function QC(){var e=UC(Jb());return e.copy=function(){return Il(e,QC()).exponent(e.exponent())},vo.apply(e,arguments)}function fEe(){return QC.apply(null,arguments).exponent(.5)}const pI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cm,scaleDiverging:E9,scaleDivergingLog:N9,scaleDivergingPow:QC,scaleDivergingSqrt:fEe,scaleDivergingSymlog:C9,scaleIdentity:i9,scaleImplicit:Ck,scaleLinear:I0,scaleLog:l9,scaleOrdinal:OC,scalePoint:yp,scalePow:zC,scaleQuantile:d9,scaleQuantize:f9,scaleRadial:u9,scaleSequential:_9,scaleSequentialLog:S9,scaleSequentialPow:XC,scaleSequentialQuantile:k9,scaleSequentialSqrt:dEe,scaleSequentialSymlog:j9,scaleSqrt:Vje,scaleSymlog:c9,scaleThreshold:h9,scaleTime:cEe,scaleUtc:uEe,tickFormat:s9},Symbol.toStringTag,{value:"Module"}));var hEe=$f;function pEe(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],i=t(s);if(i!=null&&(l===void 0?i===i&&!hEe(i):r(i,l)))var l=i,c=s}return c}var P9=pEe;function mEe(e,t){return e>t}var gEe=mEe,vEe=P9,yEe=gEe,xEe=Bf;function bEe(e){return e&&e.length?vEe(e,xEe,yEe):void 0}var wEe=bEe;const Yb=sr(wEe);function _Ee(e,t){return e<t}var SEe=_Ee,jEe=P9,kEe=SEe,EEe=Bf;function NEe(e){return e&&e.length?jEe(e,EEe,kEe):void 0}var CEe=NEe;const Xb=sr(CEe);var PEe=fC,AEe=$l,TEe=DU,OEe=Na;function $Ee(e,t){var r=OEe(e)?PEe:TEe;return r(e,AEe(t))}var REe=$Ee,IEe=MU,MEe=REe;function LEe(e,t){return IEe(MEe(e,t),1)}var DEe=LEe;const FEe=sr(DEe);var BEe=NC;function UEe(e,t){return BEe(e,t)}var zEe=UEe;const ZC=sr(zEe);var zf=1e9,qEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tP,jr=!0,hs="[DecimalError] ",Ec=hs+"Invalid argument: ",eP=hs+"Exponent out of range: ",qf=Math.floor,Xl=Math.pow,WEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ma,fn=1e7,vr=7,A9=9007199254740991,F0=qf(A9/vr),st={};st.absoluteValue=st.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};st.comparedTo=st.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};st.decimalPlaces=st.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*vr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};st.dividedBy=st.div=function(e){return Zi(this,new this.constructor(e))};st.dividedToIntegerBy=st.idiv=function(e){var t=this,r=t.constructor;return lr(Zi(t,new r(e),0,1),r.precision)};st.equals=st.eq=function(e){return!this.cmp(e)};st.exponent=function(){return Jr(this)};st.greaterThan=st.gt=function(e){return this.cmp(e)>0};st.greaterThanOrEqualTo=st.gte=function(e){return this.cmp(e)>=0};st.isInteger=st.isint=function(){return this.e>this.d.length-2};st.isNegative=st.isneg=function(){return this.s<0};st.isPositive=st.ispos=function(){return this.s>0};st.isZero=function(){return this.s===0};st.lessThan=st.lt=function(e){return this.cmp(e)<0};st.lessThanOrEqualTo=st.lte=function(e){return this.cmp(e)<1};st.logarithm=st.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ma))throw Error(hs+"NaN");if(r.s<1)throw Error(hs+(r.s?"NaN":"-Infinity"));return r.eq(Ma)?new n(0):(jr=!1,t=Zi(pm(r,s),pm(e,s),s),jr=!0,lr(t,a))};st.minus=st.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$9(t,e):T9(t,(e.s=-e.s,e))};st.modulo=st.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(hs+"NaN");return r.s?(jr=!1,t=Zi(r,e,0,1).times(e),jr=!0,r.minus(t)):lr(new n(r),a)};st.naturalExponential=st.exp=function(){return O9(this)};st.naturalLogarithm=st.ln=function(){return pm(this)};st.negated=st.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};st.plus=st.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?T9(t,e):$9(t,(e.s=-e.s,e))};st.precision=st.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ec+e);if(t=Jr(a)+1,n=a.d.length-1,r=n*vr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};st.squareRoot=st.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(hs+"NaN")}for(e=Jr(l),jr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=pi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=qf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(Zi(l,s,i+2)).times(.5),pi(s.d).slice(0,i)===(t=pi(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(lr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return jr=!0,lr(n,r)};st.times=st.mul=function(e){var t,r,n,a,s,i,l,c,u,d=this,f=d.constructor,h=d.d,g=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=g.length,c<u&&(s=h,h=g,g=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+g[n]*h[a-n-1]+t,s[a--]=l%fn|0,t=l/fn|0;s[a]=(s[a]+t)%fn|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,jr?lr(e,f.precision):e};st.toDecimalPlaces=st.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ki(e,0,zf),t===void 0?t=n.rounding:ki(t,0,8),lr(r,e+Jr(r)+1,t))};st.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Bc(n,!0):(ki(e,0,zf),t===void 0?t=a.rounding:ki(t,0,8),n=lr(new a(n),e+1,t),r=Bc(n,!0,e+1)),r};st.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Bc(a):(ki(e,0,zf),t===void 0?t=s.rounding:ki(t,0,8),n=lr(new s(a),e+Jr(a)+1,t),r=Bc(n.abs(),!1,e+Jr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};st.toInteger=st.toint=function(){var e=this,t=e.constructor;return lr(new t(e),Jr(e)+1,t.rounding)};st.toNumber=function(){return+this};st.toPower=st.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ma);if(l=new c(l),!l.s){if(e.s<1)throw Error(hs+"Infinity");return l}if(l.eq(Ma))return l;if(n=c.precision,e.eq(Ma))return lr(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=d<0?-d:d)<=A9){for(a=new c(Ma),t=Math.ceil(n/vr+4),jr=!1;r%2&&(a=a.times(l),gI(a.d,t)),r=qf(r/2),r!==0;)l=l.times(l),gI(l.d,t);return jr=!0,e.s<0?new c(Ma).div(a):lr(a,n)}}else if(s<0)throw Error(hs+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,jr=!1,a=e.times(pm(l,n+u)),jr=!0,a=O9(a),a.s=s,a};st.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Jr(a),n=Bc(a,r<=s.toExpNeg||r>=s.toExpPos)):(ki(e,1,zf),t===void 0?t=s.rounding:ki(t,0,8),a=lr(new s(a),e,t),r=Jr(a),n=Bc(a,e<=r||r<=s.toExpNeg,e)),n};st.toSignificantDigits=st.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ki(e,1,zf),t===void 0?t=n.rounding:ki(t,0,8)),lr(new n(r),e,t)};st.toString=st.valueOf=st.val=st.toJSON=st[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Jr(e),r=e.constructor;return Bc(e,t<=r.toExpNeg||t>=r.toExpPos)};function T9(e,t){var r,n,a,s,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),jr?lr(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/vr),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/fn|0,c[s]%=fn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,jr?lr(t,f):t}function ki(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ec+e)}function pi(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=vr-n.length,r&&(s+=Do(r)),s+=n;i=e[t],n=i+"",r=vr-n.length,r&&(s+=Do(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var Zi=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%fn|0,i=s/fn|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*fn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,h,g,v,m,y,x,w,b,_,S,E,j,k,N=n.constructor,C=n.s==a.s?1:-1,A=n.d,I=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(hs+"Division by zero");for(c=n.e-a.e,j=I.length,S=A.length,g=new N(C),v=g.d=[],u=0;I[u]==(A[u]||0);)++u;if(I[u]>(A[u]||0)&&--c,s==null?w=s=N.precision:i?w=s+(Jr(n)-Jr(a))+1:w=s,w<0)return new N(0);if(w=w/vr+2|0,u=0,j==1)for(d=0,I=I[0],w++;(u<S||d)&&w--;u++)b=d*fn+(A[u]||0),v[u]=b/I|0,d=b%I|0;else{for(d=fn/(I[0]+1)|0,d>1&&(I=e(I,d),A=e(A,d),j=I.length,S=A.length),_=j,m=A.slice(0,j),y=m.length;y<j;)m[y++]=0;k=I.slice(),k.unshift(0),E=I[0],I[1]>=fn/2&&++E;do d=0,l=t(I,m,j,y),l<0?(x=m[0],j!=y&&(x=x*fn+(m[1]||0)),d=x/E|0,d>1?(d>=fn&&(d=fn-1),f=e(I,d),h=f.length,y=m.length,l=t(f,m,h,y),l==1&&(d--,r(f,j<h?k:I,h))):(d==0&&(l=d=1),f=I.slice()),h=f.length,h<y&&f.unshift(0),r(m,f,y),l==-1&&(y=m.length,l=t(I,m,j,y),l<1&&(d++,r(m,j<y?k:I,y))),y=m.length):l===0&&(d++,m=[0]),v[u++]=d,l&&m[0]?m[y++]=A[_]||0:(m=[A[_]],y=1);while((_++<S||m[0]!==void 0)&&w--)}return v[0]||v.shift(),g.e=c,lr(g,i?s+Jr(g)+1:s)}}();function O9(e,t){var r,n,a,s,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(Jr(e)>16)throw Error(eP+Jr(e));if(!e.s)return new d(Ma);for(t==null?(jr=!1,l=f):l=t,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Xl(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Ma),d.precision=l;;){if(a=lr(a.times(e),l),r=r.times(++c),i=s.plus(Zi(a,r,l)),pi(i.d).slice(0,l)===pi(s.d).slice(0,l)){for(;u--;)s=lr(s.times(s),l);return d.precision=f,t==null?(jr=!0,lr(s,f)):s}s=i}}function Jr(e){for(var t=e.e*vr,r=e.d[0];r>=10;r/=10)t++;return t}function d_(e,t,r){if(t>e.LN10.sd())throw jr=!0,r&&(e.precision=r),Error(hs+"LN10 precision limit exceeded");return lr(new e(e.LN10),t)}function Do(e){for(var t="";e--;)t+="0";return t}function pm(e,t){var r,n,a,s,i,l,c,u,d,f=1,h=10,g=e,v=g.d,m=g.constructor,y=m.precision;if(g.s<1)throw Error(hs+(g.s?"NaN":"-Infinity"));if(g.eq(Ma))return new m(0);if(t==null?(jr=!1,u=y):u=t,g.eq(10))return t==null&&(jr=!0),d_(m,u);if(u+=h,m.precision=u,r=pi(v),n=r.charAt(0),s=Jr(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=pi(g.d),n=r.charAt(0),f++;s=Jr(g),n>1?(g=new m("0."+r),s++):g=new m(n+"."+r.slice(1))}else return c=d_(m,u+2,y).times(s+""),g=pm(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=y,t==null?(jr=!0,lr(g,y)):g;for(l=i=g=Zi(g.minus(Ma),g.plus(Ma),u),d=lr(g.times(g),u),a=3;;){if(i=lr(i.times(d),u),c=l.plus(Zi(i,new m(a),u)),pi(c.d).slice(0,u)===pi(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(d_(m,u+2,y).times(s+""))),l=Zi(l,new m(f),u),m.precision=y,t==null?(jr=!0,lr(l,y)):l;l=c,a+=2}}function mI(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=qf(r/vr),e.d=[],n=(r+1)%vr,r<0&&(n+=vr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=vr;n<a;)e.d.push(+t.slice(n,n+=vr));t=t.slice(n),n=vr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),jr&&(e.e>F0||e.e<-F0))throw Error(eP+r)}else e.s=0,e.e=0,e.d=[0];return e}function lr(e,t,r){var n,a,s,i,l,c,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=vr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/vr),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=vr,a=n-vr+i}if(r!==void 0&&(s=Xl(10,i-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Xl(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Jr(e),f.length=1,t=t-s-1,f[0]=Xl(10,(vr-t%vr)%vr),e.e=qf(-t/vr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Xl(10,vr-n),f[d]=a>0?(u/Xl(10,i-a)%Xl(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==fn&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=fn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(jr&&(e.e>F0||e.e<-F0))throw Error(eP+Jr(e));return e}function $9(e,t){var r,n,a,s,i,l,c,u,d,f,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),jr?lr(t,g):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(g/vr),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=fn-1;--c[s],c[a]+=fn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,jr?lr(t,g):t):new h(0)}function Bc(e,t,r){var n,a=Jr(e),s=pi(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Do(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Do(-a-1)+s,r&&(n=r-i)>0&&(s+=Do(n))):a>=i?(s+=Do(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Do(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Do(n))),e.s<0?"-"+s:s}function gI(e,t){if(e.length>t)return e.length=t,!0}function R9(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ec+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return mI(i,s.toString())}else if(typeof s!="string")throw Error(Ec+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,WEe.test(s))mI(i,s);else throw Error(Ec+s)}if(a.prototype=st,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=R9,a.config=a.set=HEe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function HEe(e){if(!e||typeof e!="object")throw Error(hs+"Object expected");var t,r,n,a=["precision",1,zf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(qf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ec+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ec+r+": "+n);return this}var tP=R9(qEe);Ma=new tP(1);const nr=tP;function VEe(e){return YEe(e)||JEe(e)||GEe(e)||KEe()}function KEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GEe(e,t){if(e){if(typeof e=="string")return Ok(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ok(e,t)}}function JEe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function YEe(e){if(Array.isArray(e))return Ok(e)}function Ok(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var XEe=function(t){return t},I9={"@@functional/placeholder":!0},M9=function(t){return t===I9},vI=function(t){return function r(){return arguments.length===0||arguments.length===1&&M9(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},QEe=function e(t,r){return t===1?r:vI(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==I9}).length;return i>=t?r.apply(void 0,a):e(t-i,vI(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return M9(f)?c.shift():f});return r.apply(void 0,VEe(d).concat(c))}))})},Qb=function(t){return QEe(t.length,t)},$k=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},ZEe=Qb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),e2e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return XEe;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Rk=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},L9=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function t2e(e){var t;return e===0?t=1:t=Math.floor(new nr(e).abs().log(10).toNumber())+1,t}function r2e(e,t,r){for(var n=new nr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var n2e=Qb(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),a2e=Qb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),s2e=Qb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Zb={rangeStep:r2e,getDigitCount:t2e,interpolateNumber:n2e,uninterpolateNumber:a2e,uninterpolateTruncation:s2e};function Ik(e){return l2e(e)||o2e(e)||D9(e)||i2e()}function i2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o2e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function l2e(e){if(Array.isArray(e))return Mk(e)}function mm(e,t){return d2e(e)||u2e(e,t)||D9(e,t)||c2e()}function c2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D9(e,t){if(e){if(typeof e=="string")return Mk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mk(e,t)}}function Mk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u2e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function d2e(e){if(Array.isArray(e))return e}function F9(e){var t=mm(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function B9(e,t,r){if(e.lte(0))return new nr(0);var n=Zb.getDigitCount(e.toNumber()),a=new nr(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new nr(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?c:new nr(Math.ceil(c))}function f2e(e,t,r){var n=1,a=new nr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new nr(10).pow(Zb.getDigitCount(e)-1),a=new nr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new nr(Math.floor(e)))}else e===0?a=new nr(Math.floor((t-1)/2)):r||(a=new nr(Math.floor(e)));var i=Math.floor((t-1)/2),l=e2e(ZEe(function(c){return a.add(new nr(c-i).mul(n)).toNumber()}),$k);return l(0,t)}function U9(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new nr(0),tickMin:new nr(0),tickMax:new nr(0)};var s=B9(new nr(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new nr(0):(i=new nr(e).add(t).div(2),i=i.sub(new nr(i).mod(s)));var l=Math.ceil(i.sub(e).div(s).toNumber()),c=Math.ceil(new nr(t).sub(i).div(s).toNumber()),u=l+c+1;return u>r?U9(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:i.sub(new nr(l).mul(s)),tickMax:i.add(new nr(c).mul(s))})}function h2e(e){var t=mm(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=F9([r,n]),c=mm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Ik($k(0,a-1).map(function(){return 1/0}))):[].concat(Ik($k(0,a-1).map(function(){return-1/0})),[d]);return r>n?Rk(f):f}if(u===d)return f2e(u,a,s);var h=U9(u,d,i,s),g=h.step,v=h.tickMin,m=h.tickMax,y=Zb.rangeStep(v,m.add(new nr(.1).mul(g)),g);return r>n?Rk(y):y}function p2e(e,t){var r=mm(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=F9([n,a]),l=mm(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=B9(new nr(u).sub(c).div(d-1),s,0),h=[].concat(Ik(Zb.rangeStep(new nr(c),new nr(u).sub(new nr(.99).mul(f)),f)),[u]);return n>a?Rk(h):h}var m2e=L9(h2e),g2e=L9(p2e),v2e="Invariant failed";function Uc(e,t){throw new Error(v2e)}var y2e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B0.apply(this,arguments)}function x2e(e,t){return S2e(e)||_2e(e,t)||w2e(e,t)||b2e()}function b2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w2e(e,t){if(e){if(typeof e=="string")return yI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yI(e,t)}}function yI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function S2e(e){if(Array.isArray(e))return e}function j2e(e,t){if(e==null)return{};var r=k2e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W9(n.key),n)}}function C2e(e,t,r){return t&&N2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P2e(e,t,r){return t=U0(t),A2e(e,z9()?Reflect.construct(t,r||[],U0(e).constructor):t.apply(e,r))}function A2e(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T2e(e)}function T2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z9=function(){return!!e})()}function U0(e){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U0(e)}function O2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lk(e,t)}function Lk(e,t){return Lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Lk(e,t)}function q9(e,t,r){return t=W9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W9(e){var t=$2e(e,"string");return Zd(t)=="symbol"?t:t+""}function $2e(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ew=function(e){function t(){return E2e(this,t),P2e(this,t,arguments)}return O2e(t,e),C2e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=j2e(n,y2e),g=Kt(h,!1);this.props.direction==="x"&&d.type!=="number"&&Uc();var v=c.map(function(m){var y=u(m,l),x=y.x,w=y.y,b=y.value,_=y.errorVal;if(!_)return null;var S=[],E,j;if(Array.isArray(_)){var k=x2e(_,2);E=k[0],j=k[1]}else E=j=_;if(s==="vertical"){var N=d.scale,C=w+a,A=C+i,I=C-i,B=N(b-E),z=N(b+j);S.push({x1:z,y1:A,x2:z,y2:I}),S.push({x1:B,y1:C,x2:z,y2:C}),S.push({x1:B,y1:A,x2:B,y2:I})}else if(s==="horizontal"){var M=f.scale,$=x+a,F=$-i,O=$+i,L=M(b-E),Q=M(b+j);S.push({x1:F,y1:Q,x2:O,y2:Q}),S.push({x1:$,y1:L,x2:$,y2:Q}),S.push({x1:F,y1:L,x2:O,y2:L})}return R.createElement(yn,B0({className:"recharts-errorBar",key:"bar-".concat(S.map(function(T){return"".concat(T.x1,"-").concat(T.x2,"-").concat(T.y1,"-").concat(T.y2)}))},g),S.map(function(T){return R.createElement("line",B0({},T,{key:"line-".concat(T.x1,"-").concat(T.x2,"-").concat(T.y1,"-").concat(T.y2)}))}))});return R.createElement(yn,{className:"recharts-errorBars"},v)}}])}(R.Component);q9(ew,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});q9(ew,"displayName","ErrorBar");function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(n){R2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R2e(e,t,r){return t=I2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I2e(e){var t=M2e(e,"string");return gm(t)=="symbol"?t:t+""}function M2e(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H9=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,i=$a(r,od);if(!i)return null;var l=od.defaultProps,c=l!==void 0?Wl(Wl({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,g=f.props,v=g.sectors||g.data||[];return d.concat(v.map(function(m){return{type:i.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,g=h!==void 0?Wl(Wl({},h),f.props):{},v=g.dataKey,m=g.name,y=g.legendType,x=g.hide;return{inactive:x,dataKey:v,type:c.iconType||y||"square",color:rP(f),value:m||v,payload:g}}),Wl(Wl(Wl({},c),od.getWithHeight(i,a)),{},{payload:u,item:i})};function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function bI(e){return B2e(e)||F2e(e)||D2e(e)||L2e()}function L2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D2e(e,t){if(e){if(typeof e=="string")return Dk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dk(e,t)}}function F2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B2e(e){if(Array.isArray(e))return Dk(e)}function Dk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){cd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cd(e,t,r){return t=U2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U2e(e){var t=z2e(e,"string");return vm(t)=="symbol"?t:t+""}function z2e(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ei(e,t,r){return Yt(e)||Yt(t)?r:cn(t)?ls(e,t,r):Mt(t)?t(e):r}function xp(e,t,r,n){var a=FEe(e,function(l){return Ei(l,t)});if(r==="number"){var s=a.filter(function(l){return qe(l)||parseFloat(l)});return s.length?[Xb(s),Yb(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Yt(l)}):a;return i.map(function(l){return cn(l)||l instanceof Date?l:""})}var q2e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,g=void 0;if($s(f-d)!==$s(h-f)){var v=[];if($s(h-f)===$s(c[1]-c[0])){g=h;var m=f+c[1]-c[0];v[0]=Math.min(m,(m+d)/2),v[1]=Math.max(m,(m+d)/2)}else{g=d;var y=h+c[1]-c[0];v[0]=Math.min(f,(y+f)/2),v[1]=Math.max(f,(y+f)/2)}var x=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>x[0]&&t<=x[1]||t>=v[0]&&t<=v[1]){i=a[u].index;break}}else{var w=Math.min(d,h),b=Math.max(d,h);if(t>(w+f)/2&&t<=(b+f)/2){i=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){i=n[_].index;break}return i},rP=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ir(Ir({},t.type.defaultProps),t.props):t.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},W2e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,g=f.length;h<g;h++){var v=d[f[h]],m=v.items,y=v.cateAxisId,x=m.filter(function(j){return Xi(j.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,b=w!==void 0?Ir(Ir({},w),x[0].props):x[0].props,_=b.barSize,S=b[y];i[S]||(i[S]=[]);var E=Yt(_)?r:_;i[S].push({item:x[0],stackList:x.slice(1),barSize:Yt(E)?void 0:Fc(E,n,0)})}}return i},H2e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,i=s===void 0?[]:s,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=Fc(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,g=a/c,v=i.reduce(function(_,S){return _+S.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&g>0&&(h=!0,g*=.9,v=c*g);var m=(a-v)/2>>0,y={offset:m-u,size:0};d=i.reduce(function(_,S){var E={item:S.item,position:{offset:y.offset+y.size+u,size:h?g:S.barSize}},j=[].concat(bI(_),[E]);return y=j[j.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){j.push({item:k,position:y})}),j},f)}else{var x=Fc(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var w=(a-2*x-(c-1)*u)/c;w>1&&(w>>=0);var b=l===+l?Math.min(w,l):w;d=i.reduce(function(_,S,E){var j=[].concat(bI(_),[{item:S.item,position:{offset:x+(w+u)*E+(w-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){j.push({item:k,position:j[j.length-1].position})}),j},f)}return d},V2e=function(t,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=H9({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,g=u.align,v=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&g!=="center"&&qe(t[g]))return Ir(Ir({},t),{},cd({},g,t[g]+(f||0)));if((m==="horizontal"||m==="vertical"&&g==="center")&&v!=="middle"&&qe(t[v]))return Ir(Ir({},t),{},cd({},v,t[v]+(h||0)))}return t},K2e=function(t,r,n){return Yt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},V9=function(t,r,n,a,s){var i=r.props.children,l=Fs(i,ew).filter(function(u){return K2e(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ei(d,n);if(Yt(f))return u;var h=Array.isArray(f)?[Xb(f),Yb(f)]:[f,f],g=c.reduce(function(v,m){var y=Ei(d,m,0),x=h[0]-Math.abs(Array.isArray(y)?y[0]:y),w=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},G2e=function(t,r,n,a,s){var i=r.map(function(l){return V9(t,l,n,s,a)}).filter(function(l){return!Yt(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},K9=function(t,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&V9(t,c,u,a)||xp(t,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},G9=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},J9=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,i,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(i=!0),c.coordinate});return s||l.push(r),i||l.push(n),l},Gi=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?$s(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!mg(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},f_=new WeakMap,kv=function(t,r){if(typeof r!="function")return t;f_.has(t)||f_.set(t,new WeakMap);var n=f_.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},J2e=function(t,r,n){var a=t.scale,s=t.type,i=t.layout,l=t.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:cm(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:I0(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:yp(),realScaleType:"point"}:s==="category"?{scale:cm(),realScaleType:"band"}:{scale:I0(),realScaleType:"linear"};if(pg(a)){var c="scale".concat(Lb(a));return{scale:(pI[c]||yp)(),realScaleType:pI[c]?c:"point"}}return Mt(a)?{scale:a}:{scale:yp(),realScaleType:"point"}},_I=1e-4,Y2e=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-_I,i=Math.max(a[0],a[1])+_I,l=t(r[0]),c=t(r[n-1]);(l<s||l>i||c<s||c>i)&&t.domain([r[0],r[n-1]])}},X2e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Q2e=function(t,r){if(!r||r.length!==2||!qe(r[0])||!qe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!qe(t[0])||t[0]<n)&&(s[0]=n),(!qe(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},Z2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=mg(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},eNe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=mg(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=s,t[i][n][1]=s+l,s=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},tNe={sign:Z2e,expand:mge,none:Hd,silhouette:gge,wiggle:vge,positive:eNe},rNe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=tNe[n],i=pge().keys(a).value(function(l,c){return+Ei(l,c,0)}).order(ck).offset(s);return i(t)},nNe=function(t,r,n,a,s,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?Ir(Ir({},h.type.defaultProps),h.props):h.props,m=v.stackId,y=v.hide;if(y)return f;var x=v[n],w=f[x]||{hasStack:!1,stackGroups:{}};if(cn(m)){var b=w.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[m]=b}else w.stackGroups[Mb("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Ir(Ir({},f),{},cd({},x,w))},c),d={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(m,y){var x=g.stackGroups[y];return Ir(Ir({},m),{},cd({},y,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:rNe(t,x.items,s)}))},v)}return Ir(Ir({},f),{},cd({},h,g))},d)},aNe=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=m2e(u,s,l);return t.domain([Xb(d),Yb(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=g2e(f,s,l);return{niceTicks:h}}return null},SI=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Ei(i,r.dataKey,r.domain[l]);return Yt(c)?null:r.scale(c)-s/2+a},sNe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},iNe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ir(Ir({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(cn(s)){var i=r[s];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},oNe=function(t){return t.reduce(function(r,n){return[Xb(n.concat([r[0]]).filter(qe)),Yb(n.concat([r[1]]).filter(qe))]},[1/0,-1/0])},Y9=function(t,r,n){return Object.keys(t).reduce(function(a,s){var i=t[s],l=i.stackedData,c=l.reduce(function(u,d){var f=oNe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},jI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fk=function(t,r,n){if(Mt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(qe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(jI.test(t[0])){var s=+jI.exec(t[0])[1];a[0]=r[0]-s}else Mt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(qe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(kI.test(t[1])){var i=+kI.exec(t[1])[1];a[1]=r[1]+i}else Mt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},z0=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=PC(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},EI=function(t,r,n){return!t||!t.length||ZC(t,ls(n,"type.defaultProps.domain"))?r:t},X9=function(t,r){var n=t.type.defaultProps?Ir(Ir({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ir(Ir({},Kt(t,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:rP(t),value:Ei(r,a),type:c,payload:r,chartType:u,hide:d})};function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function NI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(r),!0).forEach(function(n){lNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lNe(e,t,r){return t=cNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cNe(e){var t=uNe(e,"string");return ym(t)=="symbol"?t:t+""}function uNe(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q0=Math.PI/180,dNe=function(t){return t*180/Math.PI},Nn=function(t,r,n,a){return{x:t+Math.cos(-q0*a)*n,y:r+Math.sin(-q0*a)*n}},fNe=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},hNe=function(t,r){var n=t.x,a=t.y,s=r.cx,i=r.cy,l=fNe({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:dNe(u),angleInRadian:u}},pNe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},mNe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return t+l*360},PI=function(t,r){var n=t.x,a=t.y,s=hNe({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=pNe(r),f=d.startAngle,h=d.endAngle,g=l,v;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;v=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=f}return v?CI(CI({},r),{},{radius:i,angle:mNe(g,r)}):null};function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}var gNe=["offset"];function vNe(e){return wNe(e)||bNe(e)||xNe(e)||yNe()}function yNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xNe(e,t){if(e){if(typeof e=="string")return Bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bk(e,t)}}function bNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wNe(e){if(Array.isArray(e))return Bk(e)}function Bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Ne(e,t){if(e==null)return{};var r=SNe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){jNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jNe(e,t,r){return t=kNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kNe(e){var t=ENe(e,"string");return xm(t)=="symbol"?t:t+""}function ENe(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bm.apply(this,arguments)}var NNe=function(t){var r=t.value,n=t.formatter,a=Yt(t.children)?r:t.children;return Mt(n)?n(a):a},CNe=function(t,r){var n=$s(r-t),a=Math.min(Math.abs(r-t),360);return n*a},PNe=function(t,r,n){var a=t.position,s=t.viewBox,i=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,g=c.startAngle,v=c.endAngle,m=c.clockWise,y=(f+h)/2,x=CNe(g,v),w=x>=0?1:-1,b,_;a==="insideStart"?(b=g+w*i,_=m):a==="insideEnd"?(b=v-w*i,_=!m):a==="end"&&(b=v+w*i,_=m),_=x<=0?_:!_;var S=Nn(u,d,y,b),E=Nn(u,d,y,b+(_?1:-1)*359),j="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(E.x,",").concat(E.y),k=Yt(t.id)?Mb("recharts-radial-line-"):t.id;return R.createElement("text",bm({},n,{dominantBaseline:"central",className:qt("recharts-radial-bar-label",l)}),R.createElement("defs",null,R.createElement("path",{id:k,d:j})),R.createElement("textPath",{xlinkHref:"#".concat(k)},r))},ANe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var g=Nn(i,l,u+n,h),v=g.x,m=g.y;return{x:v,y:m,textAnchor:v>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,x=Nn(i,l,y,h),w=x.x,b=x.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},TNe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,h=f*a,g=f>0?"end":"start",v=f>0?"start":"end",m=u>=0?1:-1,y=m*a,x=m>0?"end":"start",w=m>0?"start":"end";if(s==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:g};return Qr(Qr({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return Qr(Qr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var S={x:l-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Qr(Qr({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(s==="right"){var E={x:l+u+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Qr(Qr({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return s==="insideLeft"?Qr({x:l+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},j):s==="insideRight"?Qr({x:l+u-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},j):s==="insideTop"?Qr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},j):s==="insideBottom"?Qr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:g},j):s==="insideTopLeft"?Qr({x:l+y,y:c+h,textAnchor:w,verticalAnchor:v},j):s==="insideTopRight"?Qr({x:l+u-y,y:c+h,textAnchor:x,verticalAnchor:v},j):s==="insideBottomLeft"?Qr({x:l+y,y:c+d-h,textAnchor:w,verticalAnchor:g},j):s==="insideBottomRight"?Qr({x:l+u-y,y:c+d-h,textAnchor:x,verticalAnchor:g},j):Rf(s)&&(qe(s.x)||ic(s.x))&&(qe(s.y)||ic(s.y))?Qr({x:l+Fc(s.x,u),y:c+Fc(s.y,d),textAnchor:"end",verticalAnchor:"end"},j):Qr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},ONe=function(t){return"cx"in t&&qe(t.cx)};function Ln(e){var t=e.offset,r=t===void 0?5:t,n=_Ne(e,gNe),a=Qr({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Yt(l)&&Yt(c)&&!p.isValidElement(u)&&!Mt(u))return null;if(p.isValidElement(u))return p.cloneElement(u,a);var g;if(Mt(u)){if(g=p.createElement(u,a),p.isValidElement(g))return g}else g=NNe(a);var v=ONe(s),m=Kt(a,!0);if(v&&(i==="insideStart"||i==="insideEnd"||i==="end"))return PNe(a,g,m);var y=v?ANe(a):TNe(a);return R.createElement(C0,bm({className:qt("recharts-label",f)},m,y,{breakAll:h}),g)}Ln.displayName="Label";var Q9=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,g=t.top,v=t.left,m=t.width,y=t.height,x=t.clockWise,w=t.labelViewBox;if(w)return w;if(qe(m)&&qe(y)){if(qe(f)&&qe(h))return{x:f,y:h,width:m,height:y};if(qe(g)&&qe(v))return{x:g,y:v,width:m,height:y}}return qe(f)&&qe(h)?{x:f,y:h,width:0,height:0}:qe(r)&&qe(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},$Ne=function(t,r){return t?t===!0?R.createElement(Ln,{key:"label-implicit",viewBox:r}):cn(t)?R.createElement(Ln,{key:"label-implicit",viewBox:r,value:t}):p.isValidElement(t)?t.type===Ln?p.cloneElement(t,{key:"label-implicit",viewBox:r}):R.createElement(Ln,{key:"label-implicit",content:t,viewBox:r}):Mt(t)?R.createElement(Ln,{key:"label-implicit",content:t,viewBox:r}):Rf(t)?R.createElement(Ln,bm({viewBox:r},t,{key:"label-implicit"})):null:null},RNe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=Q9(t),i=Fs(a,Ln).map(function(c,u){return p.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=$Ne(t.label,r||s);return[l].concat(vNe(i))};Ln.parseViewBox=Q9;Ln.renderCallByParent=RNe;function INe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var MNe=INe;const LNe=sr(MNe);function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}var DNe=["valueAccessor"],FNe=["data","dataKey","clockWise","id","textBreakAll"];function BNe(e){return WNe(e)||qNe(e)||zNe(e)||UNe()}function UNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zNe(e,t){if(e){if(typeof e=="string")return Uk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uk(e,t)}}function qNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WNe(e){if(Array.isArray(e))return Uk(e)}function Uk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(this,arguments)}function TI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(r),!0).forEach(function(n){HNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HNe(e,t,r){return t=VNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VNe(e){var t=KNe(e,"string");return wm(t)=="symbol"?t:t+""}function KNe(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $I(e,t){if(e==null)return{};var r=GNe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var JNe=function(t){return Array.isArray(t.value)?LNe(t.value):t.value};function Bs(e){var t=e.valueAccessor,r=t===void 0?JNe:t,n=$I(e,DNe),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=$I(n,FNe);return!a||!a.length?null:R.createElement(yn,{className:"recharts-label-list"},a.map(function(d,f){var h=Yt(s)?r(d,f):Ei(d&&d.payload,s),g=Yt(l)?{}:{id:"".concat(l,"-").concat(f)};return R.createElement(Ln,W0({},Kt(d,!0),u,g,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Ln.parseViewBox(Yt(i)?d:OI(OI({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Bs.displayName="LabelList";function YNe(e,t){return e?e===!0?R.createElement(Bs,{key:"labelList-implicit",data:t}):R.isValidElement(e)||Mt(e)?R.createElement(Bs,{key:"labelList-implicit",data:t,content:e}):Rf(e)?R.createElement(Bs,W0({data:t},e,{key:"labelList-implicit"})):null:null}function XNe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Fs(n,Bs).map(function(i,l){return p.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=YNe(e.label,t);return[s].concat(BNe(a))}Bs.renderCallByParent=XNe;function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function zk(){return zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zk.apply(this,arguments)}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function II(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(n){QNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QNe(e,t,r){return t=ZNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZNe(e){var t=eCe(e,"string");return _m(t)=="symbol"?t:t+""}function eCe(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tCe=function(t,r){var n=$s(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ev=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/q0,h=u?s:s+i*f,g=Nn(r,n,d,h),v=Nn(r,n,a,h),m=u?s-i*f:s,y=Nn(r,n,d*Math.cos(f*q0),m);return{center:g,circleTangency:v,lineTangency:y,theta:f}},Z9=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.startAngle,l=t.endAngle,c=tCe(i,l),u=i+c,d=Nn(r,n,s,i),f=Nn(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var g=Nn(r,n,a,i),v=Nn(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},rCe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=$s(d-u),h=Ev({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),g=h.circleTangency,v=h.lineTangency,m=h.theta,y=Ev({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),x=y.circleTangency,w=y.lineTangency,b=y.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-b;if(_<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):Z9({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var E=Ev({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),j=E.circleTangency,k=E.lineTangency,N=E.theta,C=Ev({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),A=C.circleTangency,I=C.lineTangency,B=C.theta,z=c?Math.abs(u-d):Math.abs(u-d)-N-B;if(z<0&&i===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},nCe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ez=function(t){var r=II(II({},nCe),t),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<s||d===f)return null;var g=qt("recharts-sector",h),v=i-s,m=Fc(l,v,0,!0),y;return m>0&&Math.abs(d-f)<360?y=rCe({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(m,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=Z9({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),R.createElement("path",zk({},Kt(r,!0),{className:g,d:y,role:"img"}))};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function qk(){return qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qk.apply(this,arguments)}function MI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(r),!0).forEach(function(n){aCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aCe(e,t,r){return t=sCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sCe(e){var t=iCe(e,"string");return Sm(t)=="symbol"?t:t+""}function iCe(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DI={curveBasisClosed:nge,curveBasisOpen:age,curveBasis:rge,curveBumpX:zme,curveBumpY:qme,curveLinearClosed:sge,curveLinear:Fb,curveMonotoneX:ige,curveMonotoneY:oge,curveNatural:lge,curveStep:cge,curveStepAfter:dge,curveStepBefore:uge},Nv=function(t){return t.x===+t.x&&t.y===+t.y},Eh=function(t){return t.x},Nh=function(t){return t.y},oCe=function(t,r){if(Mt(t))return t;var n="curve".concat(Lb(t));return(n==="curveMonotone"||n==="curveBump")&&r?DI["".concat(n).concat(r==="vertical"?"Y":"X")]:DI[n]||Fb},lCe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=oCe(n,l),f=u?s.filter(function(m){return Nv(m)}):s,h;if(Array.isArray(i)){var g=u?i.filter(function(m){return Nv(m)}):i,v=f.map(function(m,y){return LI(LI({},m),{},{base:g[y]})});return l==="vertical"?h=vv().y(Nh).x1(Eh).x0(function(m){return m.base.x}):h=vv().x(Eh).y1(Nh).y0(function(m){return m.base.y}),h.defined(Nv).curve(d),h(v)}return l==="vertical"&&qe(i)?h=vv().y(Nh).x1(Eh).x0(i):qe(i)?h=vv().x(Eh).y1(Nh).y0(i):h=tU().x(Eh).y(Nh),h.defined(Nv).curve(d),h(f)},FI=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?lCe(t):a;return R.createElement("path",qk({},Kt(t,!1),h0(t),{className:qt("recharts-curve",r),d:i,ref:s}))},tz={exports:{}},cCe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uCe=cCe,dCe=uCe;function rz(){}function nz(){}nz.resetWarningCache=rz;var fCe=function(){function e(n,a,s,i,l,c){if(c!==dCe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nz,resetWarningCache:rz};return r.PropTypes=r,r};tz.exports=fCe();var hCe=tz.exports;const Gt=sr(hCe);var pCe=Object.getOwnPropertyNames,mCe=Object.getOwnPropertySymbols,gCe=Object.prototype.hasOwnProperty;function BI(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function Cv(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function UI(e){return pCe(e).concat(mCe(e))}var vCe=Object.hasOwn||function(e,t){return gCe.call(e,t)};function eu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var yCe="__v",xCe="__o",bCe="_owner",zI=Object.getOwnPropertyDescriptor,qI=Object.keys;function wCe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function _Ce(e,t){return eu(e.getTime(),t.getTime())}function SCe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function jCe(e,t){return e===t}function WI(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=i.value,g=l.value;if(r.equals(h[0],g[0],c,f,e,t,r)&&r.equals(h[1],g[1],h[0],g[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var kCe=eu;function ECe(e,t,r){var n=qI(e),a=n.length;if(qI(t).length!==a)return!1;for(;a-- >0;)if(!az(e,t,r,n[a]))return!1;return!0}function Ch(e,t,r){var n=UI(e),a=n.length;if(UI(t).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!az(e,t,r,s)||(i=zI(e,s),l=zI(t,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function NCe(e,t){return eu(e.valueOf(),t.valueOf())}function CCe(e,t){return e.source===t.source&&e.flags===t.flags}function HI(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),i,l;(i=s.next())&&!i.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function PCe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function ACe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function az(e,t,r,n){return(n===bCe||n===xCe||n===yCe)&&(e.$$typeof||t.$$typeof)?!0:vCe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var TCe="[object Arguments]",OCe="[object Boolean]",$Ce="[object Date]",RCe="[object Error]",ICe="[object Map]",MCe="[object Number]",LCe="[object Object]",DCe="[object RegExp]",FCe="[object Set]",BCe="[object String]",UCe="[object URL]",zCe=Array.isArray,VI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,KI=Object.assign,qCe=Object.prototype.toString.call.bind(Object.prototype.toString);function WCe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,m,y){if(v===m)return!0;if(v==null||m==null)return!1;var x=typeof v;if(x!==typeof m)return!1;if(x!=="object")return x==="number"?i(v,m,y):x==="function"?a(v,m,y):!1;var w=v.constructor;if(w!==m.constructor)return!1;if(w===Object)return l(v,m,y);if(zCe(v))return t(v,m,y);if(VI!=null&&VI(v))return f(v,m,y);if(w===Date)return r(v,m,y);if(w===RegExp)return u(v,m,y);if(w===Map)return s(v,m,y);if(w===Set)return d(v,m,y);var b=qCe(v);return b===$Ce?r(v,m,y):b===DCe?u(v,m,y):b===ICe?s(v,m,y):b===FCe?d(v,m,y):b===LCe?typeof v.then!="function"&&typeof m.then!="function"&&l(v,m,y):b===UCe?h(v,m,y):b===RCe?n(v,m,y):b===TCe?l(v,m,y):b===OCe||b===MCe||b===BCe?c(v,m,y):!1}}function HCe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Ch:wCe,areDatesEqual:_Ce,areErrorsEqual:SCe,areFunctionsEqual:jCe,areMapsEqual:n?BI(WI,Ch):WI,areNumbersEqual:kCe,areObjectsEqual:n?Ch:ECe,arePrimitiveWrappersEqual:NCe,areRegExpsEqual:CCe,areSetsEqual:n?BI(HI,Ch):HI,areTypedArraysEqual:n?Ch:PCe,areUrlsEqual:ACe};if(r&&(a=KI({},a,r(a))),t){var s=Cv(a.areArraysEqual),i=Cv(a.areMapsEqual),l=Cv(a.areObjectsEqual),c=Cv(a.areSetsEqual);a=KI({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function VCe(e){return function(t,r,n,a,s,i,l){return e(t,r,l)}}function KCe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,g=d.meta;return r(c,u,{cache:h,equals:a,meta:g,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var GCe=Ml();Ml({strict:!0});Ml({circular:!0});Ml({circular:!0,strict:!0});Ml({createInternalComparator:function(){return eu}});Ml({strict:!0,createInternalComparator:function(){return eu}});Ml({circular:!0,createInternalComparator:function(){return eu}});Ml({circular:!0,createInternalComparator:function(){return eu},strict:!0});function Ml(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,i=s===void 0?!1:s,l=HCe(e),c=WCe(l),u=n?n(c):VCe(c);return KCe({circular:r,comparator:c,createState:a,equals:u,strict:i})}function JCe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function GI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):JCe(a)};requestAnimationFrame(n)}function Wk(e){"@babel/helpers - typeof";return Wk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wk(e)}function YCe(e){return ePe(e)||ZCe(e)||QCe(e)||XCe()}function XCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QCe(e,t){if(e){if(typeof e=="string")return JI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JI(e,t)}}function JI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ePe(e){if(Array.isArray(e))return e}function tPe(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=YCe(i),c=l[0],u=l.slice(1);if(typeof c=="number"){GI(a.bind(null,u),c);return}a(c),GI(a.bind(null,u));return}Wk(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function YI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(r),!0).forEach(function(n){sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sz(e,t,r){return t=rPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rPe(e){var t=nPe(e,"string");return jm(t)==="symbol"?t:String(t)}function nPe(e,t){if(jm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aPe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},sPe=function(t){return t},iPe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},bp=function(t,r){return Object.keys(r).reduce(function(n,a){return XI(XI({},n),{},sz({},a,t(a,r[a])))},{})},QI=function(t,r,n){return t.map(function(a){return"".concat(iPe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function oPe(e,t){return uPe(e)||cPe(e,t)||iz(e,t)||lPe()}function lPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function uPe(e){if(Array.isArray(e))return e}function dPe(e){return pPe(e)||hPe(e)||iz(e)||fPe()}function fPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iz(e,t){if(e){if(typeof e=="string")return Hk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hk(e,t)}}function hPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pPe(e){if(Array.isArray(e))return Hk(e)}function Hk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var H0=1e-4,oz=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},lz=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},ZI=function(t,r){return function(n){var a=oz(t,r);return lz(a,n)}},mPe=function(t,r){return function(n){var a=oz(t,r),s=[].concat(dPe(a.map(function(i,l){return i*l}).slice(1)),[0]);return lz(s,n)}},eM=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=oPe(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=ZI(a,i),h=ZI(s,l),g=mPe(a,i),v=function(x){return x>1?1:x<0?0:x},m=function(x){for(var w=x>1?1:x,b=w,_=0;_<8;++_){var S=f(b)-w,E=g(b);if(Math.abs(S-w)<H0||E<H0)return h(b);b=v(b-S/E)}return h(b)};return m.isStepper=!1,m},gPe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,i=t.dt,l=i===void 0?17:i,c=function(d,f,h){var g=-(d-f)*n,v=h*s,m=h+(g-v)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<H0&&Math.abs(m)<H0?[f,0]:[y,m]};return c.isStepper=!0,c.dt=l,c},vPe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return eM(a);case"spring":return gPe();default:if(a.split("(")[0]==="cubic-bezier")return eM(a)}return typeof a=="function"?a:null};function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function tM(e){return bPe(e)||xPe(e)||cz(e)||yPe()}function yPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bPe(e){if(Array.isArray(e))return Kk(e)}function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(n){Vk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vk(e,t,r){return t=wPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wPe(e){var t=_Pe(e,"string");return km(t)==="symbol"?t:String(t)}function _Pe(e,t){if(km(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(km(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SPe(e,t){return EPe(e)||kPe(e,t)||cz(e,t)||jPe()}function jPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cz(e,t){if(e){if(typeof e=="string")return Kk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kk(e,t)}}function Kk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function EPe(e){if(Array.isArray(e))return e}var V0=function(t,r,n){return t+(r-t)*n},Gk=function(t){var r=t.from,n=t.to;return r!==n},NPe=function e(t,r,n){var a=bp(function(s,i){if(Gk(i)){var l=t(i.from,i.to,i.velocity),c=SPe(l,2),u=c[0],d=c[1];return _n(_n({},i),{},{from:u,velocity:d})}return i},r);return n<1?bp(function(s,i){return Gk(i)?_n(_n({},i),{},{velocity:V0(i.velocity,a[s].velocity,n),from:V0(i.from,a[s].from,n)}):i},r):e(t,a,n-1)};const CPe=function(e,t,r,n,a){var s=aPe(e,t),i=s.reduce(function(y,x){return _n(_n({},y),{},Vk({},x,[e[x],t[x]]))},{}),l=s.reduce(function(y,x){return _n(_n({},y),{},Vk({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return bp(function(x,w){return w.from},l)},g=function(){return!Object.values(l).filter(Gk).length},v=function(x){u||(u=x);var w=x-u,b=w/r.dt;l=NPe(r,l,b),a(_n(_n(_n({},e),t),h())),u=x,g()||(c=requestAnimationFrame(f))},m=function(x){d||(d=x);var w=(x-d)/n,b=bp(function(S,E){return V0.apply(void 0,tM(E).concat([r(w)]))},i);if(a(_n(_n(_n({},e),t),b)),w<1)c=requestAnimationFrame(f);else{var _=bp(function(S,E){return V0.apply(void 0,tM(E).concat([r(1)]))},i);a(_n(_n(_n({},e),t),_))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}var PPe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function APe(e,t){if(e==null)return{};var r=TPe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TPe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function h_(e){return IPe(e)||RPe(e)||$Pe(e)||OPe()}function OPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Pe(e,t){if(e){if(typeof e=="string")return Jk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jk(e,t)}}function RPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IPe(e){if(Array.isArray(e))return Jk(e)}function Jk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(r),!0).forEach(function(n){Kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kh(e,t,r){return t=uz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uz(n.key),n)}}function DPe(e,t,r){return t&&LPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uz(e){var t=FPe(e,"string");return ef(t)==="symbol"?t:String(t)}function FPe(e,t){if(ef(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ef(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yk(e,t)}function Yk(e,t){return Yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yk(e,t)}function UPe(e){var t=zPe();return function(){var n=K0(e),a;if(t){var s=K0(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Xk(this,a)}}function Xk(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qk(e)}function Qk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K0(e){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K0(e)}var kl=function(e){BPe(r,e);var t=UPe(r);function r(n,a){var s;MPe(this,r),s=t.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,h=i.children,g=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Qk(s)),s.changeStyle=s.changeStyle.bind(Qk(s)),!l||g<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),Xk(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},Xk(s);s.state={style:c?Kh({},c,u):u}}else s.state={style:{}};return s}return DPe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!i){var g={style:c?Kh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(g);return}if(!(GCe(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||u?f:a.to;if(this.state&&h){var y={style:c?Kh({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(y)}this.runAnimation(ws(ws({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,g=CPe(i,l,vPe(u),c,this.changeStyle),v=function(){s.stopJSAnimation=g()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,h=f===void 0?0:f,g=function(m,y,x){if(x===0)return m;var w=y.duration,b=y.easing,_=b===void 0?"ease":b,S=y.style,E=y.properties,j=y.onAnimationEnd,k=x>0?i[x-1]:y,N=E||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(h_(m),[s.runJSAnimation.bind(s,{from:k.style,to:S,duration:w,easing:_}),w]);var C=QI(N,w,_),A=ws(ws(ws({},k.style),S),{},{transition:C});return[].concat(h_(m),[A,w,j]).filter(sPe)};return this.manager.start([c].concat(h_(i.reduce(g,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=tPe());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,g=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?Kh({},l,c):c,y=QI(Object.keys(m),i,u);v.start([d,s,ws(ws({},m),{},{transition:y}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=APe(a,PPe),u=p.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(g){var v=g.props,m=v.style,y=m===void 0?{}:m,x=v.className,w=p.cloneElement(g,ws(ws({},c),{},{style:ws(ws({},y),d),className:x}));return w};return u===1?f(p.Children.only(s)):R.createElement("div",null,p.Children.map(s,function(h){return f(h)}))}}]),r}(p.PureComponent);kl.displayName="Animate";kl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};kl.propTypes={from:Gt.oneOfType([Gt.object,Gt.string]),to:Gt.oneOfType([Gt.object,Gt.string]),attributeName:Gt.string,duration:Gt.number,begin:Gt.number,easing:Gt.oneOfType([Gt.string,Gt.func]),steps:Gt.arrayOf(Gt.shape({duration:Gt.number.isRequired,style:Gt.object.isRequired,easing:Gt.oneOfType([Gt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Gt.func]),properties:Gt.arrayOf("string"),onAnimationEnd:Gt.func})),children:Gt.oneOfType([Gt.node,Gt.func]),isActive:Gt.bool,canBegin:Gt.bool,onAnimationEnd:Gt.func,shouldReAnimate:Gt.bool,onAnimationStart:Gt.func,onAnimationReStart:Gt.func};function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G0.apply(this,arguments)}function qPe(e,t){return KPe(e)||VPe(e,t)||HPe(e,t)||WPe()}function WPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HPe(e,t){if(e){if(typeof e=="string")return aM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aM(e,t)}}function aM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function KPe(e){if(Array.isArray(e))return e}function sM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(r),!0).forEach(function(n){GPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GPe(e,t,r){return t=JPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JPe(e){var t=YPe(e,"string");return Em(t)=="symbol"?t:t+""}function YPe(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oM=function(t,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=s[h]>i?i:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var v=Math.min(i,s);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},XPe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},QPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nP=function(t){var r=iM(iM({},QPe),t),n=p.useRef(),a=p.useState(-1),s=qPe(a,2),i=s[0],l=s[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,g=r.className,v=r.animationEasing,m=r.animationDuration,y=r.animationBegin,x=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=qt("recharts-rectangle",g);return w?R.createElement(kl,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:v,isActive:w},function(_){var S=_.width,E=_.height,j=_.x,k=_.y;return R.createElement(kl,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,isActive:x,easing:v},R.createElement("path",G0({},Kt(r,!0),{className:b,d:oM(j,k,S,E,h),ref:n})))}):R.createElement("path",G0({},Kt(r,!0),{className:b,d:oM(c,u,d,f,h)}))};function Zk(){return Zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zk.apply(this,arguments)}var dz=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,i=qt("recharts-dot",s);return r===+r&&n===+n&&a===+a?R.createElement("circle",Zk({},Kt(t,!1),h0(t),{className:i,cx:r,cy:n,r:a})):null};function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}var ZPe=["x","y","top","left","width","height","className"];function eE(){return eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eE.apply(this,arguments)}function lM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(r),!0).forEach(function(n){tAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tAe(e,t,r){return t=rAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rAe(e){var t=nAe(e,"string");return Nm(t)=="symbol"?t:t+""}function nAe(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aAe(e,t){if(e==null)return{};var r=sAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var iAe=function(t,r,n,a,s,i){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},oAe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,g=h===void 0?0:h,v=t.className,m=aAe(t,ZPe),y=eAe({x:n,y:s,top:l,left:u,width:f,height:g},m);return!qe(n)||!qe(s)||!qe(f)||!qe(g)||!qe(l)||!qe(u)?null:R.createElement("path",eE({},Kt(y,!0),{className:qt("recharts-cross",v),d:iAe(n,s,f,g,l,u)}))},lAe=kU,cAe=lAe(Object.getPrototypeOf,Object),uAe=cAe,dAe=mo,fAe=uAe,hAe=go,pAe="[object Object]",mAe=Function.prototype,gAe=Object.prototype,fz=mAe.toString,vAe=gAe.hasOwnProperty,yAe=fz.call(Object);function xAe(e){if(!hAe(e)||dAe(e)!=pAe)return!1;var t=fAe(e);if(t===null)return!0;var r=vAe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&fz.call(r)==yAe}var bAe=xAe;const wAe=sr(bAe);var _Ae=mo,SAe=go,jAe="[object Boolean]";function kAe(e){return e===!0||e===!1||SAe(e)&&_Ae(e)==jAe}var EAe=kAe;const NAe=sr(EAe);function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(this,arguments)}function CAe(e,t){return OAe(e)||TAe(e,t)||AAe(e,t)||PAe()}function PAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AAe(e,t){if(e){if(typeof e=="string")return cM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cM(e,t)}}function cM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function OAe(e){if(Array.isArray(e))return e}function uM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uM(Object(r),!0).forEach(function(n){$Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ae(e,t,r){return t=RAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RAe(e){var t=IAe(e,"string");return Cm(t)=="symbol"?t:t+""}function IAe(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fM=function(t,r,n,a,s){var i=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+s),l+="L ".concat(t+n-i/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},MAe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LAe=function(t){var r=dM(dM({},MAe),t),n=p.useRef(),a=p.useState(-1),s=CAe(a,2),i=s[0],l=s[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,g=r.className,v=r.animationEasing,m=r.animationDuration,y=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=qt("recharts-trapezoid",g);return x?R.createElement(kl,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:v,isActive:x},function(b){var _=b.upperWidth,S=b.lowerWidth,E=b.height,j=b.x,k=b.y;return R.createElement(kl,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,easing:v},R.createElement("path",J0({},Kt(r,!0),{className:w,d:fM(j,k,_,S,E),ref:n})))}):R.createElement("g",null,R.createElement("path",J0({},Kt(r,!0),{className:w,d:fM(c,u,d,f,h)})))},DAe=["option","shapeType","propTransformer","activeClassName","isActive"];function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function FAe(e,t){if(e==null)return{};var r=BAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(r),!0).forEach(function(n){UAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UAe(e,t,r){return t=zAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zAe(e){var t=qAe(e,"string");return Pm(t)=="symbol"?t:t+""}function qAe(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WAe(e,t){return Y0(Y0({},t),e)}function HAe(e,t){return e==="symbols"}function pM(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return R.createElement(nP,r);case"trapezoid":return R.createElement(LAe,r);case"sector":return R.createElement(ez,r);case"symbols":if(HAe(t))return R.createElement(wC,r);break;default:return null}}function VAe(e){return p.isValidElement(e)?e.props:e}function KAe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?WAe:n,s=e.activeClassName,i=s===void 0?"recharts-active-shape":s,l=e.isActive,c=FAe(e,DAe),u;if(p.isValidElement(t))u=p.cloneElement(t,Y0(Y0({},c),VAe(t)));else if(Mt(t))u=t(c);else if(wAe(t)&&!NAe(t)){var d=a(t,c);u=R.createElement(pM,{shapeType:r,elementProps:d})}else{var f=c;u=R.createElement(pM,{shapeType:r,elementProps:f})}return l?R.createElement(yn,{className:i},u):u}function tw(e,t){return t!=null&&"trapezoids"in e.props}function rw(e,t){return t!=null&&"sectors"in e.props}function Am(e,t){return t!=null&&"points"in e.props}function GAe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function JAe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function YAe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function XAe(e,t){var r;return tw(e,t)?r=GAe:rw(e,t)?r=JAe:Am(e,t)&&(r=YAe),r}function QAe(e,t){var r;return tw(e,t)?r="trapezoids":rw(e,t)?r="sectors":Am(e,t)&&(r="points"),r}function ZAe(e,t){if(tw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(rw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Am(e,t)?t.payload:{}}function eTe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=QAe(r,t),s=ZAe(r,t),i=n.filter(function(c,u){var d=ZC(s,c),f=r.props[a].filter(function(v){var m=XAe(r,t);return m(v,t)}),h=r.props[a].indexOf(f[f.length-1]),g=u===h;return d&&g}),l=n.indexOf(i[i.length-1]);return l}var tTe=Math.ceil,rTe=Math.max;function nTe(e,t,r,n){for(var a=-1,s=rTe(tTe((t-e)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=e,e+=r;return i}var aTe=nTe,sTe=WU,mM=1/0,iTe=17976931348623157e292;function oTe(e){if(!e)return e===0?e:0;if(e=sTe(e),e===mM||e===-mM){var t=e<0?-1:1;return t*iTe}return e===e?e:0}var hz=oTe,lTe=aTe,cTe=qb,p_=hz;function uTe(e){return function(t,r,n){return n&&typeof n!="number"&&cTe(t,r,n)&&(r=n=void 0),t=p_(t),r===void 0?(r=t,t=0):r=p_(r),n=n===void 0?t<r?1:-1:p_(n),lTe(t,r,n,e)}}var dTe=uTe,fTe=dTe,hTe=fTe(),pTe=hTe;const X0=sr(pTe);function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function gM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(r),!0).forEach(function(n){pz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pz(e,t,r){return t=mTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mTe(e){var t=gTe(e,"string");return Tm(t)=="symbol"?t:t+""}function gTe(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vTe=["Webkit","Moz","O","ms"],yTe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=vTe.reduce(function(s,i){return vM(vM({},s),{},pz({},i+n,r))},{});return a[t]=r,a};function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(this,arguments)}function yM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(r),!0).forEach(function(n){Pa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gz(n.key),n)}}function bTe(e,t,r){return t&&xM(e.prototype,t),r&&xM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wTe(e,t,r){return t=Z0(t),_Te(e,mz()?Reflect.construct(t,r||[],Z0(e).constructor):t.apply(e,r))}function _Te(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return STe(e)}function STe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mz=function(){return!!e})()}function Z0(e){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z0(e)}function jTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tE(e,t)}function tE(e,t){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tE(e,t)}function Pa(e,t,r){return t=gz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gz(e){var t=kTe(e,"string");return tf(t)=="symbol"?t:t+""}function kTe(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ETe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=yp().domain(X0(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},bM=function(t){return t.changedTouches&&!!t.changedTouches.length},rf=function(e){function t(r){var n;return xTe(this,t),n=wTe(this,t,[r]),Pa(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Pa(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Pa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Pa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Pa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Pa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Pa(n,"handleSlideDragStart",function(a){var s=bM(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return jTe(t,e),bTe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),g=t.getIndexInRange(i,f),v=t.getIndexInRange(i,h);return{startIndex:g-g%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=Ei(s[n],l,n);return Mt(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,g=c.endIndex,v=c.onChange,m=n.pageX-s;m>0?m=Math.min(m,u+d-f-l,u+d-f-i):m<0&&(m=Math.max(m,u-i,u-l));var y=this.getIndex({startX:i+m,endX:l+m});(y.startIndex!==h||y.endIndex!==g)&&v&&v(y),this.setState({startX:i+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=bM(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,h=d.width,g=d.travellerWidth,v=d.onChange,m=d.gap,y=d.data,x={startX:this.state.startX,endX:this.state.endX},w=n.pageX-s;w>0?w=Math.min(w,f+h-g-u):w<0&&(w=Math.max(w,f-u)),x[i]=u+w;var b=this.getIndex(x),_=b.startIndex,S=b.endIndex,E=function(){var k=y.length-1;return i==="startX"&&(l>c?_%m===0:S%m===0)||l<c&&S===k||i==="endX"&&(l>c?S%m===0:_%m===0)||l>c&&S===k};this.setState(Pa(Pa({},i,u+w),"brushMoveStartX",n.pageX),function(){v&&E()&&v(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var g=l[h];a==="startX"&&g>=u||a==="endX"&&g<=c||this.setState(Pa({},a,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return R.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=p.Children.only(u);return f?R.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,g=c.ariaLabel,v=c.data,m=c.startIndex,y=c.endIndex,x=Math.max(n,this.props.x),w=m_(m_({},Kt(this.props,!1)),{},{x,y:u,width:d,height:f}),b=g||"Min value: ".concat((s=v[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=v[y])===null||i===void 0?void 0:i.name);return R.createElement(yn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,g=5,v={pointerEvents:"none",fill:u};return R.createElement(yn,{className:"recharts-brush-texts"},R.createElement(C0,Q0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:i+l/2},v),this.getTextOfTick(a)),R.createElement(C0,Q0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+g,y:i+l/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,g=h.startX,v=h.endX,m=h.isTextActive,y=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!a||!a.length||!qe(l)||!qe(c)||!qe(u)||!qe(d)||u<=0||d<=0)return null;var b=qt("recharts-brush",s),_=R.Children.count(i)===1,S=yTe("userSelect","none");return R.createElement(yn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(m||y||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),R.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return R.isValidElement(n)?s=R.cloneElement(n,a):Mt(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return m_({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?ETe({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var h=a.scale.domain().map(function(g){return a.scale(g)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(p.PureComponent);Pa(rf,"displayName","Brush");Pa(rf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var NTe=CC;function CTe(e,t){var r;return NTe(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var PTe=CTe,ATe=vU,TTe=$l,OTe=PTe,$Te=Na,RTe=qb;function ITe(e,t,r){var n=$Te(e)?ATe:OTe;return r&&RTe(e,t,r)&&(t=void 0),n(e,TTe(t))}var MTe=ITe;const LTe=sr(MTe);var wi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},wM=FU;function DTe(e,t,r){t=="__proto__"&&wM?wM(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var FTe=DTe,BTe=FTe,UTe=LU,zTe=$l;function qTe(e,t){var r={};return t=zTe(t),UTe(e,function(n,a,s){BTe(r,a,t(n,a,s))}),r}var WTe=qTe;const HTe=sr(WTe);function VTe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var KTe=VTe,GTe=CC;function JTe(e,t){var r=!0;return GTe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var YTe=JTe,XTe=KTe,QTe=YTe,ZTe=$l,eOe=Na,tOe=qb;function rOe(e,t,r){var n=eOe(e)?XTe:QTe;return r&&tOe(e,t,r)&&(t=void 0),n(e,ZTe(t))}var nOe=rOe;const vz=sr(nOe);var aOe=["x","y"];function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rE.apply(this,arguments)}function _M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(r),!0).forEach(function(n){sOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sOe(e,t,r){return t=iOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iOe(e){var t=oOe(e,"string");return Om(t)=="symbol"?t:t+""}function oOe(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lOe(e,t){if(e==null)return{};var r=cOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uOe(e,t){var r=e.x,n=e.y,a=lOe(e,aOe),s="".concat(r),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Ph(Ph(Ph(Ph(Ph({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function SM(e){return R.createElement(KAe,rE({shapeType:"rectangle",propTransformer:uOe,activeClassName:"recharts-active-bar"},e))}var dOe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=typeof n=="number";return s?t(n,a):(s||Uc(),r)}},fOe=["value","background"],yz;function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function hOe(e,t){if(e==null)return{};var r=pOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ex.apply(this,arguments)}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(n){rl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bz(n.key),n)}}function gOe(e,t,r){return t&&kM(e.prototype,t),r&&kM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vOe(e,t,r){return t=tx(t),yOe(e,xz()?Reflect.construct(t,r||[],tx(e).constructor):t.apply(e,r))}function yOe(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xOe(e)}function xOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xz=function(){return!!e})()}function tx(e){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tx(e)}function bOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nE(e,t)}function nE(e,t){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nE(e,t)}function rl(e,t,r){return t=bz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bz(e){var t=wOe(e,"string");return nf(t)=="symbol"?t:t+""}function wOe(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yo=function(e){function t(){var r;mOe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=vOe(this,t,[].concat(a)),rl(r,"state",{isAnimationFinished:!1}),rl(r,"id",Mb("recharts-bar-")),rl(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),rl(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return bOe(t,e),gOe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,i=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Kt(this.props,!1);return n&&n.map(function(f,h){var g=h===c,v=g?u:i,m=Wr(Wr(Wr({},d),f),{},{isActive:g,option:v,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return R.createElement(yn,ex({className:"recharts-bar-rectangle"},p0(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),R.createElement(SM,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,i=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return R.createElement(kl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,m=s.map(function(y,x){var w=h&&h[x];if(w){var b=hu(w.x,y.x),_=hu(w.y,y.y),S=hu(w.width,y.width),E=hu(w.height,y.height);return Wr(Wr({},y),{},{x:b(v),y:_(v),width:S(v),height:E(v)})}if(i==="horizontal"){var j=hu(0,y.height),k=j(v);return Wr(Wr({},y),{},{y:y.y+y.height-k,height:k})}var N=hu(0,y.width),C=N(v);return Wr(Wr({},y),{},{width:C})});return R.createElement(yn,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,i=this.state.prevData;return s&&a&&a.length&&(!i||!ZC(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,i=a.dataKey,l=a.activeIndex,c=Kt(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=hOe(u,fOe);if(!f)return null;var g=Wr(Wr(Wr(Wr(Wr({},h),{},{fill:"#eee"},f),c),p0(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return R.createElement(SM,ex({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Fs(d,ew);if(!f)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,g=function(y,x){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:Ei(y,x)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return R.createElement(yn,v,f.map(function(m){return R.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,g=n.isAnimationActive,v=n.background,m=n.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,x=qt("recharts-bar",i),w=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=w||b,S=Yt(m)?this.id:m;return R.createElement(yn,{className:x},w||b?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(S)},R.createElement("rect",{x:w?u:u-f/2,y:b?d:d-h/2,width:w?f:f*2,height:b?h:h*2}))):null,R.createElement(yn,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!g||y)&&Bs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(p.PureComponent);yz=yo;rl(yo,"displayName","Bar");rl(yo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});rl(yo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,g=X2e(n,r);if(!g)return null;var v=t.layout,m=r.type.defaultProps,y=m!==void 0?Wr(Wr({},m),r.props):r.props,x=y.dataKey,w=y.children,b=y.minPointSize,_=v==="horizontal"?i:s,S=u?_.scale.domain():null,E=sNe({numericAxis:_}),j=Fs(w,vg),k=f.map(function(N,C){var A,I,B,z,M,$;u?A=Q2e(u[d+C],S):(A=Ei(N,x),Array.isArray(A)||(A=[E,A]));var F=dOe(b,yz.defaultProps.minPointSize)(A[1],C);if(v==="horizontal"){var O,L=[i.scale(A[0]),i.scale(A[1])],Q=L[0],T=L[1];I=SI({axis:s,ticks:l,bandSize:a,offset:g.offset,entry:N,index:C}),B=(O=T??Q)!==null&&O!==void 0?O:void 0,z=g.size;var D=Q-T;if(M=Number.isNaN(D)?0:D,$={x:I,y:i.y,width:z,height:i.height},Math.abs(F)>0&&Math.abs(M)<Math.abs(F)){var Y=$s(M||F)*(Math.abs(F)-Math.abs(M));B-=Y,M+=Y}}else{var q=[s.scale(A[0]),s.scale(A[1])],ie=q[0],le=q[1];if(I=ie,B=SI({axis:i,ticks:c,bandSize:a,offset:g.offset,entry:N,index:C}),z=le-ie,M=g.size,$={x:s.x,y:B,width:s.width,height:M},Math.abs(F)>0&&Math.abs(z)<Math.abs(F)){var K=$s(z||F)*(Math.abs(F)-Math.abs(z));z+=K}}return Wr(Wr(Wr({},N),{},{x:I,y:B,width:z,height:M,value:u?A:A[1],payload:N,background:$},j&&j[C]&&j[C].props),{},{tooltipPayload:[X9(r,N)],tooltipPosition:{x:I+z/2,y:B+M/2}})});return Wr({data:k,layout:v},h)});function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function _Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wz(n.key),n)}}function SOe(e,t,r){return t&&EM(e.prototype,t),r&&EM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(r),!0).forEach(function(n){nw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nw(e,t,r){return t=wz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wz(e){var t=jOe(e,"string");return $m(t)=="symbol"?t:t+""}function jOe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kOe=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!$a(u,yo);return d.reduce(function(g,v){var m=r[v],y=m.orientation,x=m.domain,w=m.padding,b=w===void 0?{}:w,_=m.mirror,S=m.reversed,E="".concat(y).concat(_?"Mirror":""),j,k,N,C,A;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var I=x[1]-x[0],B=1/0,z=m.categoricalDomain.sort();if(z.forEach(function(q,ie){ie>0&&(B=Math.min((q||0)-(z[ie-1]||0),B))}),Number.isFinite(B)){var M=B/I,$=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(j=M*$/2),m.padding==="no-gap"){var F=Fc(t.barCategoryGap,M*$),O=M*$/2;j=O-F-(O-F)/$*F}}}a==="xAxis"?k=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:k=m.range,S&&(k=[k[1],k[0]]);var L=J2e(m,s,h),Q=L.scale,T=L.realScaleType;Q.domain(x).range(k),Y2e(Q);var D=aNe(Q,Ps(Ps({},m),{},{realScaleType:T}));a==="xAxis"?(A=y==="top"&&!_||y==="bottom"&&_,N=n.left,C=f[E]-A*m.height):a==="yAxis"&&(A=y==="left"&&!_||y==="right"&&_,N=f[E]-A*m.width,C=n.top);var Y=Ps(Ps(Ps({},m),D),{},{realScaleType:T,x:N,y:C,scale:Q,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return Y.bandSize=z0(Y,D),!m.hide&&a==="xAxis"?f[E]+=(A?-1:1)*Y.height:m.hide||(f[E]+=(A?-1:1)*Y.width),Ps(Ps({},g),{},nw({},v,Y))},{})},_z=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},EOe=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return _z({x:r,y:n},{x:a,y:s})},Sz=function(){function e(t){_Oe(this,e),this.scale=t}return SOe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();nw(Sz,"EPS",1e-4);var aP=function(t){var r=Object.keys(t).reduce(function(n,a){return Ps(Ps({},n),{},nw({},a,Sz.create(t[a])))},{});return Ps(Ps({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return HTe(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return vz(a,function(s,i){return r[i].isInRange(s)})}})};function NOe(e){return(e%180+180)%180}var COe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=NOe(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},POe=$l,AOe=gg,TOe=Ub;function OOe(e){return function(t,r,n){var a=Object(t);if(!AOe(t)){var s=POe(r);t=TOe(t),r=function(l){return s(a[l],l,a)}}var i=e(t,r,n);return i>-1?a[s?t[i]:i]:void 0}}var $Oe=OOe,ROe=hz;function IOe(e){var t=ROe(e),r=t%1;return t===t?r?t-r:t:0}var MOe=IOe,LOe=TU,DOe=$l,FOe=MOe,BOe=Math.max;function UOe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:FOe(r);return a<0&&(a=BOe(n+a,0)),LOe(e,DOe(t),a)}var zOe=UOe,qOe=$Oe,WOe=zOe,HOe=qOe(WOe),VOe=HOe;const KOe=sr(VOe);var GOe=Ihe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),sP=p.createContext(void 0),iP=p.createContext(void 0),jz=p.createContext(void 0),kz=p.createContext({}),Ez=p.createContext(void 0),Nz=p.createContext(0),Cz=p.createContext(0),CM=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,d=GOe(s);return R.createElement(sP.Provider,{value:n},R.createElement(iP.Provider,{value:a},R.createElement(kz.Provider,{value:s},R.createElement(jz.Provider,{value:d},R.createElement(Ez.Provider,{value:i},R.createElement(Nz.Provider,{value:u},R.createElement(Cz.Provider,{value:c},l)))))))},JOe=function(){return p.useContext(Ez)},Pz=function(t){var r=p.useContext(sP);r==null&&Uc();var n=r[t];return n==null&&Uc(),n},YOe=function(){var t=p.useContext(sP);return zo(t)},XOe=function(){var t=p.useContext(iP),r=KOe(t,function(n){return vz(n.domain,Number.isFinite)});return r||zo(t)},Az=function(t){var r=p.useContext(iP);r==null&&Uc();var n=r[t];return n==null&&Uc(),n},QOe=function(){var t=p.useContext(jz);return t},ZOe=function(){return p.useContext(kz)},oP=function(){return p.useContext(Cz)},lP=function(){return p.useContext(Nz)};function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function e$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oz(n.key),n)}}function r$e(e,t,r){return t&&t$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n$e(e,t,r){return t=rx(t),a$e(e,Tz()?Reflect.construct(t,r||[],rx(e).constructor):t.apply(e,r))}function a$e(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s$e(e)}function s$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tz=function(){return!!e})()}function rx(e){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rx(e)}function i$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aE(e,t)}function aE(e,t){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aE(e,t)}function PM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(r),!0).forEach(function(n){cP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cP(e,t,r){return t=Oz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oz(e){var t=o$e(e,"string");return af(t)=="symbol"?t:t+""}function o$e(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l$e(e,t){return f$e(e)||d$e(e,t)||u$e(e,t)||c$e()}function c$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u$e(e,t){if(e){if(typeof e=="string")return TM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TM(e,t)}}function TM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function f$e(e){if(Array.isArray(e))return e}function sE(){return sE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sE.apply(this,arguments)}var h$e=function(t,r){var n;return R.isValidElement(t)?n=R.cloneElement(t,r):Mt(t)?n=t(r):n=R.createElement("line",sE({},r,{className:"recharts-reference-line-line"})),n},p$e=function(t,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,h=s.width,g=s.height;if(n){var v=u.y,m=t.y.apply(v,{position:i});if(wi(u,"discard")&&!t.y.isInRange(m))return null;var y=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?y.reverse():y}if(r){var x=u.x,w=t.x.apply(x,{position:i});if(wi(u,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:f+g},{x:w,y:f}];return l==="top"?b.reverse():b}if(a){var _=u.segment,S=_.map(function(E){return t.apply(E,{position:i})});return wi(u,"discard")&&LTe(S,function(E){return!t.isInRange(E)})?null:S}return null};function m$e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=JOe(),d=Pz(a),f=Az(s),h=QOe();if(!u||!h)return null;Qi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=aP({x:d.scale,y:f.scale}),v=cn(t),m=cn(r),y=n&&n.length===2,x=p$e(g,v,m,y,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var w=l$e(x,2),b=w[0],_=b.x,S=b.y,E=w[1],j=E.x,k=E.y,N=wi(e,"hidden")?"url(#".concat(u,")"):void 0,C=AM(AM({clipPath:N},Kt(e,!0)),{},{x1:_,y1:S,x2:j,y2:k});return R.createElement(yn,{className:qt("recharts-reference-line",l)},h$e(i,C),Ln.renderCallByParent(e,EOe({x1:_,y1:S,x2:j,y2:k})))}var uP=function(e){function t(){return e$e(this,t),n$e(this,t,arguments)}return i$e(t,e),r$e(t,[{key:"render",value:function(){return R.createElement(m$e,this.props)}}])}(R.Component);cP(uP,"displayName","ReferenceLine");cP(uP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iE.apply(this,arguments)}function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $M(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(n){aw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rz(n.key),n)}}function y$e(e,t,r){return t&&v$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x$e(e,t,r){return t=nx(t),b$e(e,$z()?Reflect.construct(t,r||[],nx(e).constructor):t.apply(e,r))}function b$e(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w$e(e)}function w$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($z=function(){return!!e})()}function nx(e){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nx(e)}function _$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oE(e,t)}function oE(e,t){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oE(e,t)}function aw(e,t,r){return t=Rz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rz(e){var t=S$e(e,"string");return sf(t)=="symbol"?t:t+""}function S$e(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j$e=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,i=aP({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return wi(t,"discard")&&!i.isInRange(l)?null:l},sw=function(e){function t(){return g$e(this,t),x$e(this,t,arguments)}return _$e(t,e),y$e(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=cn(a),d=cn(s);if(Qi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=j$e(this.props);if(!f)return null;var h=f.x,g=f.y,v=this.props,m=v.shape,y=v.className,x=wi(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=$M($M({clipPath:x},Kt(this.props,!0)),{},{cx:h,cy:g});return R.createElement(yn,{className:qt("recharts-reference-dot",y)},t.renderDot(m,w),Ln.renderCallByParent(this.props,{x:h-i,y:g-i,width:2*i,height:2*i}))}}])}(R.Component);aw(sw,"displayName","ReferenceDot");aw(sw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});aw(sw,"renderDot",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):Mt(e)?r=e(t):r=R.createElement(dz,iE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function lE(){return lE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lE.apply(this,arguments)}function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function RM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(r),!0).forEach(function(n){iw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mz(n.key),n)}}function N$e(e,t,r){return t&&E$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C$e(e,t,r){return t=ax(t),P$e(e,Iz()?Reflect.construct(t,r||[],ax(e).constructor):t.apply(e,r))}function P$e(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A$e(e)}function A$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iz=function(){return!!e})()}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ax(e)}function T$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cE(e,t)}function cE(e,t){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cE(e,t)}function iw(e,t,r){return t=Mz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mz(e){var t=O$e(e,"string");return of(t)=="symbol"?t:t+""}function O$e(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $$e=function(t,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=aP({x:d.scale,y:f.scale}),g={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return wi(s,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:_z(g,v)},ow=function(e){function t(){return k$e(this,t),C$e(this,t,arguments)}return T$e(t,e),N$e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Qi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=cn(a),h=cn(s),g=cn(i),v=cn(l),m=this.props.shape;if(!f&&!h&&!g&&!v&&!m)return null;var y=$$e(f,h,g,v,this.props);if(!y&&!m)return null;var x=wi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return R.createElement(yn,{className:qt("recharts-reference-area",c)},t.renderRect(m,IM(IM({clipPath:x},Kt(this.props,!0)),y)),Ln.renderCallByParent(this.props,y))}}])}(R.Component);iw(ow,"displayName","ReferenceArea");iw(ow,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});iw(ow,"renderRect",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):Mt(e)?r=e(t):r=R.createElement(nP,lE({},t,{className:"recharts-reference-area-rect"})),r});function Lz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function R$e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return COe(n,r)}function I$e(e,t,r){var n=r==="width",a=e.x,s=e.y,i=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function sx(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function M$e(e,t){return Lz(e,t+1)}function L$e(e,t,r,n,a){for(var s=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,d=i,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:Lz(n,u)};var m=c,y,x=function(){return y===void 0&&(y=r(v,m)),y},w=v.coordinate,b=c===0||sx(e,w,x,d,l);b||(c=0,d=i,u+=1),b&&(d=w+e*(x()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){D$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D$e(e,t,r){return t=F$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F$e(e){var t=B$e(e,"string");return Rm(t)=="symbol"?t:t+""}function B$e(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U$e(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,l=t.start,c=t.end,u=function(h){var g=s[h],v,m=function(){return v===void 0&&(v=r(g,h)),v};if(h===i-1){var y=e*(g.coordinate+e*m()/2-c);s[h]=g=In(In({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate})}else s[h]=g=In(In({},g),{},{tickCoord:g.coordinate});var x=sx(e,g.tickCoord,m,l,c);x&&(c=g.tickCoord-e*(m()/2+a),s[h]=In(In({},g),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return s}function z$e(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);i[l-1]=d=In(In({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var g=sx(e,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-e*(f/2+a),i[l-1]=In(In({},d),{},{isShow:!0}))}for(var v=s?l-1:l,m=function(w){var b=i[w],_,S=function(){return _===void 0&&(_=r(b,w)),_};if(w===0){var E=e*(b.coordinate-e*S()/2-c);i[w]=b=In(In({},b),{},{tickCoord:E<0?b.coordinate-E*e:b.coordinate})}else i[w]=b=In(In({},b),{},{tickCoord:b.coordinate});var j=sx(e,b.tickCoord,S,c,u);j&&(c=b.tickCoord+e*(S()/2+a),i[w]=In(In({},b),{},{isShow:!0}))},y=0;y<v;y++)m(y);return i}function dP(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(qe(c)||gl.isSsr)return M$e(a,typeof c=="number"&&qe(c)?c:0);var h=[],g=l==="top"||l==="bottom"?"width":"height",v=d&&g==="width"?vp(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,_){var S=Mt(u)?u(b.value,_):b.value;return g==="width"?R$e(vp(S,{fontSize:t,letterSpacing:r}),v,f):vp(S,{fontSize:t,letterSpacing:r})[g]},y=a.length>=2?$s(a[1].coordinate-a[0].coordinate):1,x=I$e(s,y,g);return c==="equidistantPreserveStart"?L$e(y,x,m,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=z$e(y,x,m,a,i,c==="preserveStartEnd"):h=U$e(y,x,m,a,i),h.filter(function(w){return w.isShow}))}var q$e=["viewBox"],W$e=["viewBox"],H$e=["ticks"];function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zu.apply(this,arguments)}function LM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(r),!0).forEach(function(n){fP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g_(e,t){if(e==null)return{};var r=V$e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fz(n.key),n)}}function G$e(e,t,r){return t&&DM(e.prototype,t),r&&DM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function J$e(e,t,r){return t=ix(t),Y$e(e,Dz()?Reflect.construct(t,r||[],ix(e).constructor):t.apply(e,r))}function Y$e(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X$e(e)}function X$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dz=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ix(e)}function Q$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uE(e,t)}function uE(e,t){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uE(e,t)}function fP(e,t,r){return t=Fz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fz(e){var t=Z$e(e,"string");return lf(t)=="symbol"?t:t+""}function Z$e(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wf=function(e){function t(r){var n;return K$e(this,t),n=J$e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Q$e(t,e),G$e(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,i=g_(n,q$e),l=this.props,c=l.viewBox,u=g_(l,W$e);return!id(s,c)||!id(i,u)||!id(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,i=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,g,v,m,y,x,w,b=f?-1:1,_=n.tickSize||d,S=qe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":g=v=n.coordinate,y=i+ +!f*c,m=y-b*_,w=m-b*h,x=S;break;case"left":m=y=n.coordinate,v=s+ +!f*l,g=v-b*_,x=g-b*h,w=S;break;case"right":m=y=n.coordinate,v=s+ +f*l,g=v+b*_,x=g+b*h,w=S;break;default:g=v=n.coordinate,y=i+ +f*c,m=y+b*_,w=m+b*h,x=S;break}return{line:{x1:g,y1:m,x2:v,y2:y},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i;switch(a){case"left":i=s?"start":"end";break;case"right":i=s?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=s?"start":"end";break;default:i=s?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Gn(Gn(Gn({},Kt(this.props,!1)),Kt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Gn(Gn({},f),{},{x1:a,y1:s+h*l,x2:a+i,y2:s+h*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=Gn(Gn({},f),{},{x1:a+g*i,y1:s,x2:a+g*i,y2:s+l})}return R.createElement("line",zu({},f,{className:qt("recharts-cartesian-axis-line",ls(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var i=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,g=dP(Gn(Gn({},this.props),{},{ticks:n}),a,s),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=Kt(this.props,!1),x=Kt(d,!1),w=Gn(Gn({},y),{},{fill:"none"},Kt(c,!1)),b=g.map(function(_,S){var E=i.getTickLineCoord(_),j=E.line,k=E.tick,N=Gn(Gn(Gn(Gn({textAnchor:v,verticalAnchor:m},y),{},{stroke:"none",fill:u},x),k),{},{index:S,payload:_,visibleTicksCount:g.length,tickFormatter:f});return R.createElement(yn,zu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},p0(i.props,_,S)),c&&R.createElement("line",zu({},w,j,{className:qt("recharts-cartesian-axis-tick-line",ls(c,"className"))})),d&&t.renderTickItem(d,N,"".concat(Mt(f)?f(_.value,S):_.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,i=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,g=g_(f,H$e),v=h;return Mt(c)&&(v=h&&h.length>0?c(this.props):c(g)),i<=0||l<=0||!v||!v.length?null:R.createElement(yn,{className:qt("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Ln.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return R.isValidElement(n)?i=R.cloneElement(n,a):Mt(n)?i=n(a):i=R.createElement(C0,zu({},a,{className:"recharts-cartesian-axis-tick-value"}),s),i}}])}(p.Component);fP(Wf,"displayName","CartesianAxis");fP(Wf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var eRe=["x1","y1","x2","y2","key"],tRe=["offset"];function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function FM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(r),!0).forEach(function(n){rRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rRe(e,t,r){return t=nRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nRe(e){var t=aRe(e,"string");return zc(t)=="symbol"?t:t+""}function aRe(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cc.apply(this,arguments)}function BM(e,t){if(e==null)return{};var r=sRe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var iRe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,i=t.width,l=t.height,c=t.ry;return R.createElement("rect",{x:a,y:s,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Bz(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(Mt(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,i=t.y2,l=t.key,c=BM(t,eRe),u=Kt(c,!1);u.offset;var d=BM(u,tRe);r=R.createElement("line",cc({},d,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:l}))}return r}function oRe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Dn(Dn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Bz(a,u)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function lRe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Dn(Dn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Bz(a,u)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function cRe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,g){return h-g});a!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var v=!d[g+1],m=v?a+i-h:d[g+1]-h;if(m<=0)return null;var y=g%t.length;return R.createElement("rect",{key:"react-".concat(g),y:h,x:n,height:m,width:s,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function uRe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,g){return h-g});s!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var v=!d[g+1],m=v?s+l-h:d[g+1]-h;if(m<=0)return null;var y=g%n.length;return R.createElement("rect",{key:"react-".concat(g),x:h,y:i,width:m,height:c,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var dRe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,i=t.offset;return J9(dP(Dn(Dn(Dn({},Wf.defaultProps),n),{},{ticks:Gi(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,r)},fRe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,i=t.offset;return J9(dP(Dn(Dn(Dn({},Wf.defaultProps),n),{},{ticks:Gi(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,r)},gu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Uz(e){var t,r,n,a,s,i,l=oP(),c=lP(),u=ZOe(),d=Dn(Dn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:gu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:gu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:gu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:gu.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:gu.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:gu.verticalFill,x:qe(e.x)?e.x:u.left,y:qe(e.y)?e.y:u.top,width:qe(e.width)?e.width:u.width,height:qe(e.height)?e.height:u.height}),f=d.x,h=d.y,g=d.width,v=d.height,m=d.syncWithTicks,y=d.horizontalValues,x=d.verticalValues,w=YOe(),b=XOe();if(!qe(g)||g<=0||!qe(v)||v<=0||!qe(f)||f!==+f||!qe(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||dRe,S=d.horizontalCoordinatesGenerator||fRe,E=d.horizontalPoints,j=d.verticalPoints;if((!E||!E.length)&&Mt(S)){var k=y&&y.length,N=S({yAxis:b?Dn(Dn({},b),{},{ticks:k?y:b.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);Qi(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zc(N),"]")),Array.isArray(N)&&(E=N)}if((!j||!j.length)&&Mt(_)){var C=x&&x.length,A=_({xAxis:w?Dn(Dn({},w),{},{ticks:C?x:w.ticks}):void 0,width:l,height:c,offset:u},C?!0:m);Qi(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zc(A),"]")),Array.isArray(A)&&(j=A)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(iRe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),R.createElement(oRe,cc({},d,{offset:u,horizontalPoints:E,xAxis:w,yAxis:b})),R.createElement(lRe,cc({},d,{offset:u,verticalPoints:j,xAxis:w,yAxis:b})),R.createElement(cRe,cc({},d,{horizontalPoints:E})),R.createElement(uRe,cc({},d,{verticalPoints:j})))}Uz.displayName="CartesianGrid";function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function hRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wz(n.key),n)}}function mRe(e,t,r){return t&&pRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gRe(e,t,r){return t=ox(t),vRe(e,zz()?Reflect.construct(t,r||[],ox(e).constructor):t.apply(e,r))}function vRe(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yRe(e)}function yRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zz=function(){return!!e})()}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ox(e)}function xRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dE(e,t)}function dE(e,t){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dE(e,t)}function qz(e,t,r){return t=Wz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wz(e){var t=bRe(e,"string");return cf(t)=="symbol"?t:t+""}function bRe(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fE(){return fE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fE.apply(this,arguments)}function wRe(e){var t=e.xAxisId,r=oP(),n=lP(),a=Pz(t);return a==null?null:R.createElement(Wf,fE({},a,{className:qt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Gi(i,!0)}}))}var Hf=function(e){function t(){return hRe(this,t),gRe(this,t,arguments)}return xRe(t,e),mRe(t,[{key:"render",value:function(){return R.createElement(wRe,this.props)}}])}(R.Component);qz(Hf,"displayName","XAxis");qz(Hf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function _Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kz(n.key),n)}}function jRe(e,t,r){return t&&SRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kRe(e,t,r){return t=lx(t),ERe(e,Hz()?Reflect.construct(t,r||[],lx(e).constructor):t.apply(e,r))}function ERe(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NRe(e)}function NRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hz=function(){return!!e})()}function lx(e){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lx(e)}function CRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hE(e,t)}function hE(e,t){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hE(e,t)}function Vz(e,t,r){return t=Kz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kz(e){var t=PRe(e,"string");return uf(t)=="symbol"?t:t+""}function PRe(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pE(){return pE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pE.apply(this,arguments)}var ARe=function(t){var r=t.yAxisId,n=oP(),a=lP(),s=Az(r);return s==null?null:R.createElement(Wf,pE({},s,{className:qt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Gi(l,!0)}}))},Vf=function(e){function t(){return _Re(this,t),kRe(this,t,arguments)}return CRe(t,e),jRe(t,[{key:"render",value:function(){return R.createElement(ARe,this.props)}}])}(R.Component);Vz(Vf,"displayName","YAxis");Vz(Vf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function UM(e){return RRe(e)||$Re(e)||ORe(e)||TRe()}function TRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ORe(e,t){if(e){if(typeof e=="string")return mE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mE(e,t)}}function $Re(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RRe(e){if(Array.isArray(e))return mE(e)}function mE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gE=function(t,r,n,a,s){var i=Fs(t,uP),l=Fs(t,sw),c=[].concat(UM(i),UM(l)),u=Fs(t,ow),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,y){if(y.props[d]===n&&wi(y.props,"extendDomain")&&qe(y.props[f])){var x=y.props[f];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},h)),u.length){var g="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(m,y){if(y.props[d]===n&&wi(y.props,"extendDomain")&&qe(y.props[g])&&qe(y.props[v])){var x=y.props[g],w=y.props[v];return[Math.min(m[0],x,w),Math.max(m[1],x,w)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,y){return qe(y)?[Math.min(m[0],y),Math.max(m[1],y)]:m},h)),h},Gz={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],g]:c._events[v].push(g):(c._events[v]=g,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,v=new Array(g);h<g;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,g,v){var m=r?r+u:u;if(!this._events[m])return!1;var y=this._events[m],x=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,g),!0;case 6:return y.fn.call(y.context,d,f,h,g,v),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var _=y.length,S;for(b=0;b<_;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,h);break;default:if(!w)for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];y[b].fn.apply(y[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return i(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&i(this,g);else{for(var m=0,y=[],x=v.length;m<x;m++)(v[m].fn!==d||h&&!v[m].once||f&&v[m].context!==f)&&y.push(v[m]);y.length?this._events[g]=y.length===1?y[0]:y:i(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Gz);var IRe=Gz.exports;const MRe=sr(IRe);var v_=new MRe,y_="recharts.syncMouseEvents";function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function LRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jz(n.key),n)}}function FRe(e,t,r){return t&&DRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x_(e,t,r){return t=Jz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jz(e){var t=BRe(e,"string");return Im(t)=="symbol"?t:t+""}function BRe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var URe=function(){function e(){LRe(this,e),x_(this,"activeIndex",0),x_(this,"coordinateList",[]),x_(this,"layout","horizontal")}return FRe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function zRe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&qe(n)&&qe(a))return!0}return!1}function qRe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Yz(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,i=Nn(t,r,n,a),l=Nn(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function WRe(e,t,r){var n,a,s,i;if(e==="horizontal")n=t.x,s=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Nn(l,c,u,f),g=Nn(l,c,d,f);n=h.x,a=h.y,s=g.x,i=g.y}else return Yz(t);return[{x:n,y:a},{x:s,y:i}]}function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){HRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HRe(e,t,r){return t=VRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VRe(e){var t=KRe(e,"string");return Mm(t)=="symbol"?t:t+""}function KRe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GRe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,g=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!s||!i||h!=="ScatterChart"&&a!=="axis")return null;var v,m=FI;if(h==="ScatterChart")v=i,m=oAe;else if(h==="BarChart")v=qRe(f,i,c,d),m=nP;else if(f==="radial"){var y=Yz(i),x=y.cx,w=y.cy,b=y.radius,_=y.startAngle,S=y.endAngle;v={cx:x,cy:w,startAngle:_,endAngle:S,innerRadius:b,outerRadius:b},m=ez}else v={points:WRe(f,i,c)},m=FI;var E=Pv(Pv(Pv(Pv({stroke:"#ccc",pointerEvents:"none"},c),v),Kt(g,!1)),{},{payload:l,payloadIndex:u,className:qt("recharts-tooltip-cursor",g.className)});return p.isValidElement(g)?p.cloneElement(g,E):p.createElement(m,E)}var JRe=["item"],YRe=["children","className","width","height","style","compact","title","desc"];function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wp.apply(this,arguments)}function qM(e,t){return ZRe(e)||QRe(e,t)||Qz(e,t)||XRe()}function XRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function ZRe(e){if(Array.isArray(e))return e}function WM(e,t){if(e==null)return{};var r=e4e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function t4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zz(n.key),n)}}function n4e(e,t,r){return t&&r4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a4e(e,t,r){return t=cx(t),s4e(e,Xz()?Reflect.construct(t,r||[],cx(e).constructor):t.apply(e,r))}function s4e(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i4e(e)}function i4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xz=function(){return!!e})()}function cx(e){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cx(e)}function o4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vE(e,t)}function vE(e,t){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vE(e,t)}function ff(e){return u4e(e)||c4e(e)||Qz(e)||l4e()}function l4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qz(e,t){if(e){if(typeof e=="string")return yE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yE(e,t)}}function c4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u4e(e){if(Array.isArray(e))return yE(e)}function yE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(r),!0).forEach(function(n){bt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bt(e,t,r){return t=Zz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zz(e){var t=d4e(e,"string");return df(t)=="symbol"?t:t+""}function d4e(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f4e={xAxis:["bottom","top"],yAxis:["left","right"]},h4e={width:"100%",height:"100%"},eq={x:0,y:0};function Av(e){return e}var p4e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},m4e=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var i=s.coordinate,l=a.radius;return Se(Se(Se({},a),Nn(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return Se(Se(Se({},a),Nn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return eq},lw=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ff(l),ff(u)):l},[]);return i.length>0?i:t&&t.length&&qe(a)&&qe(s)?t.slice(a,s+1):[]};function tq(e){return e==="number"?[0,"auto"]:void 0}var xE=function(t,r,n,a){var s=t.graphicalItems,i=t.tooltipAxis,l=lw(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var g=f===void 0?l:f;h=Qj(g,i.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(ff(c),[X9(u,h)]):c},[])},VM=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},i=p4e(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=q2e(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=xE(t,r,d,f),g=m4e(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},g4e=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,g=G9(d,s);return n.reduce(function(v,m){var y,x=m.type.defaultProps!==void 0?Se(Se({},m.type.defaultProps),m.props):m.props,w=x.type,b=x.dataKey,_=x.allowDataOverflow,S=x.allowDuplicatedCategory,E=x.scale,j=x.ticks,k=x.includeHidden,N=x[i];if(v[N])return v;var C=lw(t.data,{graphicalItems:a.filter(function(D){var Y,q=i in D.props?D.props[i]:(Y=D.type.defaultProps)===null||Y===void 0?void 0:Y[i];return q===N}),dataStartIndex:c,dataEndIndex:u}),A=C.length,I,B,z;zRe(x.domain,_,w)&&(I=Fk(x.domain,null,_),g&&(w==="number"||E!=="auto")&&(z=xp(C,b,"category")));var M=tq(w);if(!I||I.length===0){var $,F=($=x.domain)!==null&&$!==void 0?$:M;if(b){if(I=xp(C,b,w),w==="category"&&g){var O=Tpe(I);S&&O?(B=I,I=X0(0,A)):S||(I=EI(F,I,m).reduce(function(D,Y){return D.indexOf(Y)>=0?D:[].concat(ff(D),[Y])},[]))}else if(w==="category")S?I=I.filter(function(D){return D!==""&&!Yt(D)}):I=EI(F,I,m).reduce(function(D,Y){return D.indexOf(Y)>=0||Y===""||Yt(Y)?D:[].concat(ff(D),[Y])},[]);else if(w==="number"){var L=G2e(C,a.filter(function(D){var Y,q,ie=i in D.props?D.props[i]:(Y=D.type.defaultProps)===null||Y===void 0?void 0:Y[i],le="hide"in D.props?D.props.hide:(q=D.type.defaultProps)===null||q===void 0?void 0:q.hide;return ie===N&&(k||!le)}),b,s,d);L&&(I=L)}g&&(w==="number"||E!=="auto")&&(z=xp(C,b,"category"))}else g?I=X0(0,A):l&&l[N]&&l[N].hasStack&&w==="number"?I=h==="expand"?[0,1]:Y9(l[N].stackGroups,c,u):I=K9(C,a.filter(function(D){var Y=i in D.props?D.props[i]:D.type.defaultProps[i],q="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return Y===N&&(k||!q)}),w,d,!0);if(w==="number")I=gE(f,I,N,s,j),F&&(I=Fk(F,I,_));else if(w==="category"&&F){var Q=F,T=I.every(function(D){return Q.indexOf(D)>=0});T&&(I=Q)}}return Se(Se({},v),{},bt({},N,Se(Se({},x),{},{axisType:s,domain:I,categoricalDomain:z,duplicateDomain:B,originalDomain:(y=x.domain)!==null&&y!==void 0?y:M,isCategorical:g,layout:d})))},{})},v4e=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=lw(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),g=h.length,v=G9(d,s),m=-1;return n.reduce(function(y,x){var w=x.type.defaultProps!==void 0?Se(Se({},x.type.defaultProps),x.props):x.props,b=w[i],_=tq("number");if(!y[b]){m++;var S;return v?S=X0(0,g):l&&l[b]&&l[b].hasStack?(S=Y9(l[b].stackGroups,c,u),S=gE(f,S,b,s)):(S=Fk(_,K9(h,n.filter(function(E){var j,k,N=i in E.props?E.props[i]:(j=E.type.defaultProps)===null||j===void 0?void 0:j[i],C="hide"in E.props?E.props.hide:(k=E.type.defaultProps)===null||k===void 0?void 0:k.hide;return N===b&&!C}),"number",d),a.defaultProps.allowDataOverflow),S=gE(f,S,b,s)),Se(Se({},y),{},bt({},b,Se(Se({axisType:s},a.defaultProps),{},{hide:!0,orientation:ls(f4e,"".concat(s,".").concat(m%2),null),domain:S,originalDomain:_,isCategorical:v,layout:d})))}return y},{})},y4e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Fs(d,s),g={};return h&&h.length?g=g4e(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(g=v4e(t,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},x4e=function(t){var r=zo(t),n=Gi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:PC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:z0(r,n)}},KM=function(t){var r=t.children,n=t.defaultShowTooltip,a=$a(r,rf),s=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},b4e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Xi(r&&r.type);return n&&n.indexOf("Bar")>=0})},GM=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},w4e=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,i=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},g=$a(f,rf),v=$a(f,od),m=Object.keys(c).reduce(function(S,E){var j=c[E],k=j.orientation;return!j.mirror&&!j.hide?Se(Se({},S),{},bt({},k,S[k]+j.width)):S},{left:h.left||0,right:h.right||0}),y=Object.keys(i).reduce(function(S,E){var j=i[E],k=j.orientation;return!j.mirror&&!j.hide?Se(Se({},S),{},bt({},k,ls(S,"".concat(k))+j.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=Se(Se({},y),m),w=x.bottom;g&&(x.bottom+=g.props.height||rf.defaultProps.height),v&&r&&(x=V2e(x,a,n,r));var b=u-x.left-x.right,_=d-x.top-x.bottom;return Se(Se({brushBottom:w},x),{},{width:Math.max(b,0),height:Math.max(_,0)})},_4e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},S4e=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,x){var w=x.graphicalItems,b=x.stackGroups,_=x.offset,S=x.updateId,E=x.dataStartIndex,j=x.dataEndIndex,k=y.barSize,N=y.layout,C=y.barGap,A=y.barCategoryGap,I=y.maxBarSize,B=GM(N),z=B.numericAxisName,M=B.cateAxisName,$=b4e(w),F=[];return w.forEach(function(O,L){var Q=lw(y.data,{graphicalItems:[O],dataStartIndex:E,dataEndIndex:j}),T=O.type.defaultProps!==void 0?Se(Se({},O.type.defaultProps),O.props):O.props,D=T.dataKey,Y=T.maxBarSize,q=T["".concat(z,"Id")],ie=T["".concat(M,"Id")],le={},K=c.reduce(function(je,me){var pe=x["".concat(me.axisType,"Map")],Re=T["".concat(me.axisType,"Id")];pe&&pe[Re]||me.axisType==="zAxis"||Uc();var ze=pe[Re];return Se(Se({},je),{},bt(bt({},me.axisType,ze),"".concat(me.axisType,"Ticks"),Gi(ze)))},le),Z=K[M],H=K["".concat(M,"Ticks")],X=b&&b[q]&&b[q].hasStack&&iNe(O,b[q].stackGroups),ce=Xi(O.type).indexOf("Bar")>=0,J=z0(Z,H),oe=[],ne=$&&W2e({barSize:k,stackGroups:b,totalSize:_4e(K,M)});if(ce){var he,fe,_e=Yt(Y)?I:Y,W=(he=(fe=z0(Z,H,!0))!==null&&fe!==void 0?fe:_e)!==null&&he!==void 0?he:0;oe=H2e({barGap:C,barCategoryGap:A,bandSize:W!==J?W:J,sizeList:ne[ie],maxBarSize:_e}),W!==J&&(oe=oe.map(function(je){return Se(Se({},je),{},{position:Se(Se({},je.position),{},{offset:je.position.offset-W/2})})}))}var te=O&&O.type&&O.type.getComposedData;te&&F.push({props:Se(Se({},te(Se(Se({},K),{},{displayedData:Q,props:y,dataKey:D,item:O,bandSize:J,barPosition:oe,offset:_,stackedData:X,layout:N,dataStartIndex:E,dataEndIndex:j}))),{},bt(bt(bt({key:O.key||"item-".concat(L)},z,K[z]),M,K[M]),"animationId",S)),childIndex:zpe(O,y.children),item:O})}),F},g=function(y,x){var w=y.props,b=y.dataStartIndex,_=y.dataEndIndex,S=y.updateId;if(!bR({props:w}))return null;var E=w.children,j=w.layout,k=w.stackOffset,N=w.data,C=w.reverseStackOrder,A=GM(j),I=A.numericAxisName,B=A.cateAxisName,z=Fs(E,n),M=nNe(N,z,"".concat(I,"Id"),"".concat(B,"Id"),k,C),$=c.reduce(function(T,D){var Y="".concat(D.axisType,"Map");return Se(Se({},T),{},bt({},Y,y4e(w,Se(Se({},D),{},{graphicalItems:z,stackGroups:D.axisType===I&&M,dataStartIndex:b,dataEndIndex:_}))))},{}),F=w4e(Se(Se({},$),{},{props:w,graphicalItems:z}),x==null?void 0:x.legendBBox);Object.keys($).forEach(function(T){$[T]=d(w,$[T],F,T.replace("Map",""),r)});var O=$["".concat(B,"Map")],L=x4e(O),Q=h(w,Se(Se({},$),{},{dataStartIndex:b,dataEndIndex:_,updateId:S,graphicalItems:z,stackGroups:M,offset:F}));return Se(Se({formattedGraphicalItems:Q,graphicalItems:z,offset:F,stackGroups:M},L),$)},v=function(m){function y(x){var w,b,_;return t4e(this,y),_=a4e(this,y,[x]),bt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),bt(_,"accessibilityManager",new URe),bt(_,"handleLegendBBoxUpdate",function(S){if(S){var E=_.state,j=E.dataStartIndex,k=E.dataEndIndex,N=E.updateId;_.setState(Se({legendBBox:S},g({props:_.props,dataStartIndex:j,dataEndIndex:k,updateId:N},Se(Se({},_.state),{},{legendBBox:S}))))}}),bt(_,"handleReceiveSyncEvent",function(S,E,j){if(_.props.syncId===S){if(j===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(E)}}),bt(_,"handleBrushChange",function(S){var E=S.startIndex,j=S.endIndex;if(E!==_.state.dataStartIndex||j!==_.state.dataEndIndex){var k=_.state.updateId;_.setState(function(){return Se({dataStartIndex:E,dataEndIndex:j},g({props:_.props,dataStartIndex:E,dataEndIndex:j,updateId:k},_.state))}),_.triggerSyncEvent({dataStartIndex:E,dataEndIndex:j})}}),bt(_,"handleMouseEnter",function(S){var E=_.getMouseInfo(S);if(E){var j=Se(Se({},E),{},{isTooltipActive:!0});_.setState(j),_.triggerSyncEvent(j);var k=_.props.onMouseEnter;Mt(k)&&k(j,S)}}),bt(_,"triggeredAfterMouseMove",function(S){var E=_.getMouseInfo(S),j=E?Se(Se({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(j),_.triggerSyncEvent(j);var k=_.props.onMouseMove;Mt(k)&&k(j,S)}),bt(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),bt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),bt(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),bt(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var j=_.props.onMouseLeave;Mt(j)&&j(E,S)}),bt(_,"handleOuterEvent",function(S){var E=Upe(S),j=ls(_.props,"".concat(E));if(E&&Mt(j)){var k,N;/.*touch.*/i.test(E)?N=_.getMouseInfo(S.changedTouches[0]):N=_.getMouseInfo(S),j((k=N)!==null&&k!==void 0?k:{},S)}}),bt(_,"handleClick",function(S){var E=_.getMouseInfo(S);if(E){var j=Se(Se({},E),{},{isTooltipActive:!0});_.setState(j),_.triggerSyncEvent(j);var k=_.props.onClick;Mt(k)&&k(j,S)}}),bt(_,"handleMouseDown",function(S){var E=_.props.onMouseDown;if(Mt(E)){var j=_.getMouseInfo(S);E(j,S)}}),bt(_,"handleMouseUp",function(S){var E=_.props.onMouseUp;if(Mt(E)){var j=_.getMouseInfo(S);E(j,S)}}),bt(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),bt(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),bt(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),bt(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&v_.emit(y_,_.props.syncId,S,_.eventEmitterSymbol)}),bt(_,"applySyncEvent",function(S){var E=_.props,j=E.layout,k=E.syncMethod,N=_.state.updateId,C=S.dataStartIndex,A=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(Se({dataStartIndex:C,dataEndIndex:A},g({props:_.props,dataStartIndex:C,dataEndIndex:A,updateId:N},_.state)));else if(S.activeTooltipIndex!==void 0){var I=S.chartX,B=S.chartY,z=S.activeTooltipIndex,M=_.state,$=M.offset,F=M.tooltipTicks;if(!$)return;if(typeof k=="function")z=k(F,S);else if(k==="value"){z=-1;for(var O=0;O<F.length;O++)if(F[O].value===S.activeLabel){z=O;break}}var L=Se(Se({},$),{},{x:$.left,y:$.top}),Q=Math.min(I,L.x+L.width),T=Math.min(B,L.y+L.height),D=F[z]&&F[z].value,Y=xE(_.state,_.props.data,z),q=F[z]?{x:j==="horizontal"?F[z].coordinate:Q,y:j==="horizontal"?T:F[z].coordinate}:eq;_.setState(Se(Se({},S),{},{activeLabel:D,activeCoordinate:q,activePayload:Y,activeTooltipIndex:z}))}else _.setState(S)}),bt(_,"renderCursor",function(S){var E,j=_.state,k=j.isTooltipActive,N=j.activeCoordinate,C=j.activePayload,A=j.offset,I=j.activeTooltipIndex,B=j.tooltipAxisBandSize,z=_.getTooltipEventType(),M=(E=S.props.active)!==null&&E!==void 0?E:k,$=_.props.layout,F=S.key||"_recharts-cursor";return R.createElement(GRe,{key:F,activeCoordinate:N,activePayload:C,activeTooltipIndex:I,chartName:r,element:S,isActive:M,layout:$,offset:A,tooltipAxisBandSize:B,tooltipEventType:z})}),bt(_,"renderPolarAxis",function(S,E,j){var k=ls(S,"type.axisType"),N=ls(_.state,"".concat(k,"Map")),C=S.type.defaultProps,A=C!==void 0?Se(Se({},C),S.props):S.props,I=N&&N[A["".concat(k,"Id")]];return p.cloneElement(S,Se(Se({},I),{},{className:qt(k,I.className),key:S.key||"".concat(E,"-").concat(j),ticks:Gi(I,!0)}))}),bt(_,"renderPolarGrid",function(S){var E=S.props,j=E.radialLines,k=E.polarAngles,N=E.polarRadius,C=_.state,A=C.radiusAxisMap,I=C.angleAxisMap,B=zo(A),z=zo(I),M=z.cx,$=z.cy,F=z.innerRadius,O=z.outerRadius;return p.cloneElement(S,{polarAngles:Array.isArray(k)?k:Gi(z,!0).map(function(L){return L.coordinate}),polarRadius:Array.isArray(N)?N:Gi(B,!0).map(function(L){return L.coordinate}),cx:M,cy:$,innerRadius:F,outerRadius:O,key:S.key||"polar-grid",radialLines:j})}),bt(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,E=_.props,j=E.children,k=E.width,N=E.height,C=_.props.margin||{},A=k-(C.left||0)-(C.right||0),I=H9({children:j,formattedGraphicalItems:S,legendWidth:A,legendContent:u});if(!I)return null;var B=I.item,z=WM(I,JRe);return p.cloneElement(B,Se(Se({},z),{},{chartWidth:k,chartHeight:N,margin:C,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),bt(_,"renderTooltip",function(){var S,E=_.props,j=E.children,k=E.accessibilityLayer,N=$a(j,ni);if(!N)return null;var C=_.state,A=C.isTooltipActive,I=C.activeCoordinate,B=C.activePayload,z=C.activeLabel,M=C.offset,$=(S=N.props.active)!==null&&S!==void 0?S:A;return p.cloneElement(N,{viewBox:Se(Se({},M),{},{x:M.left,y:M.top}),active:$,label:z,payload:$?B:[],coordinate:I,accessibilityLayer:k})}),bt(_,"renderBrush",function(S){var E=_.props,j=E.margin,k=E.data,N=_.state,C=N.offset,A=N.dataStartIndex,I=N.dataEndIndex,B=N.updateId;return p.cloneElement(S,{key:S.key||"_recharts-brush",onChange:kv(_.handleBrushChange,S.props.onChange),data:k,x:qe(S.props.x)?S.props.x:C.left,y:qe(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(j.bottom||0),width:qe(S.props.width)?S.props.width:C.width,startIndex:A,endIndex:I,updateId:"brush-".concat(B)})}),bt(_,"renderReferenceElement",function(S,E,j){if(!S)return null;var k=_,N=k.clipPathId,C=_.state,A=C.xAxisMap,I=C.yAxisMap,B=C.offset,z=S.type.defaultProps||{},M=S.props,$=M.xAxisId,F=$===void 0?z.xAxisId:$,O=M.yAxisId,L=O===void 0?z.yAxisId:O;return p.cloneElement(S,{key:S.key||"".concat(E,"-").concat(j),xAxis:A[F],yAxis:I[L],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:N})}),bt(_,"renderActivePoints",function(S){var E=S.item,j=S.activePoint,k=S.basePoint,N=S.childIndex,C=S.isRange,A=[],I=E.props.key,B=E.item.type.defaultProps!==void 0?Se(Se({},E.item.type.defaultProps),E.item.props):E.item.props,z=B.activeDot,M=B.dataKey,$=Se(Se({index:N,dataKey:M,cx:j.x,cy:j.y,r:4,fill:rP(E.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},Kt(z,!1)),h0(z));return A.push(y.renderActiveDot(z,$,"".concat(I,"-activePoint-").concat(N))),k?A.push(y.renderActiveDot(z,Se(Se({},$),{},{cx:k.x,cy:k.y}),"".concat(I,"-basePoint-").concat(N))):C&&A.push(null),A}),bt(_,"renderGraphicChild",function(S,E,j){var k=_.filterFormatItem(S,E,j);if(!k)return null;var N=_.getTooltipEventType(),C=_.state,A=C.isTooltipActive,I=C.tooltipAxis,B=C.activeTooltipIndex,z=C.activeLabel,M=_.props.children,$=$a(M,ni),F=k.props,O=F.points,L=F.isRange,Q=F.baseLine,T=k.item.type.defaultProps!==void 0?Se(Se({},k.item.type.defaultProps),k.item.props):k.item.props,D=T.activeDot,Y=T.hide,q=T.activeBar,ie=T.activeShape,le=!!(!Y&&A&&$&&(D||q||ie)),K={};N!=="axis"&&$&&$.props.trigger==="click"?K={onClick:kv(_.handleItemMouseEnter,S.props.onClick)}:N!=="axis"&&(K={onMouseLeave:kv(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:kv(_.handleItemMouseEnter,S.props.onMouseEnter)});var Z=p.cloneElement(S,Se(Se({},k.props),K));function H(me){return typeof I.dataKey=="function"?I.dataKey(me.payload):null}if(le)if(B>=0){var X,ce;if(I.dataKey&&!I.allowDuplicatedCategory){var J=typeof I.dataKey=="function"?H:"payload.".concat(I.dataKey.toString());X=Qj(O,J,z),ce=L&&Q&&Qj(Q,J,z)}else X=O==null?void 0:O[B],ce=L&&Q&&Q[B];if(ie||q){var oe=S.props.activeIndex!==void 0?S.props.activeIndex:B;return[p.cloneElement(S,Se(Se(Se({},k.props),K),{},{activeIndex:oe})),null,null]}if(!Yt(X))return[Z].concat(ff(_.renderActivePoints({item:k,activePoint:X,basePoint:ce,childIndex:B,isRange:L})))}else{var ne,he=(ne=_.getItemByXY(_.state.activeCoordinate))!==null&&ne!==void 0?ne:{graphicalItem:Z},fe=he.graphicalItem,_e=fe.item,W=_e===void 0?S:_e,te=fe.childIndex,je=Se(Se(Se({},k.props),K),{},{activeIndex:te});return[p.cloneElement(W,je),null,null]}return L?[Z,null,null]:[Z,null]}),bt(_,"renderCustomized",function(S,E,j){return p.cloneElement(S,Se(Se({key:"recharts-customized-".concat(j)},_.props),_.state))}),bt(_,"renderMap",{CartesianGrid:{handler:Av,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Av},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Av},YAxis:{handler:Av},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:Mb("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=HU(_.triggeredAfterMouseMove,(b=x.throttleDelay)!==null&&b!==void 0?b:1e3/60),_.state={},_}return o4e(y,m),n4e(y,[{key:"componentDidMount",value:function(){var w,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,b=w.children,_=w.data,S=w.height,E=w.layout,j=$a(b,ni);if(j){var k=j.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,C=xE(this.state,_,k,N),A=this.state.tooltipTicks[k].coordinate,I=(this.state.offset.top+S)/2,B=E==="horizontal",z=B?{x:A,y:I}:{y:A,x:I},M=this.state.formattedGraphicalItems.find(function(F){var O=F.item;return O.type.name==="Scatter"});M&&(z=Se(Se({},z),M.props.points[k].tooltipPosition),C=M.props.points[k].tooltipPayload);var $={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:N,activePayload:C,activeCoordinate:z};this.setState($),this.renderCursor(j),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){ek([$a(w.children,ni)],[$a(this.props.children,ni)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=$a(this.props.children,ni);if(w&&typeof w.props.shared=="boolean"){var b=w.props.shared?"axis":"item";return l.indexOf(b)>=0?b:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var b=this.container,_=b.getBoundingClientRect(),S=mSe(_),E={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},j=_.width/b.offsetWidth||1,k=this.inRange(E.chartX,E.chartY,j);if(!k)return null;var N=this.state,C=N.xAxisMap,A=N.yAxisMap,I=this.getTooltipEventType();if(I!=="axis"&&C&&A){var B=zo(C).scale,z=zo(A).scale,M=B&&B.invert?B.invert(E.chartX):null,$=z&&z.invert?z.invert(E.chartY):null;return Se(Se({},E),{},{xValue:M,yValue:$})}var F=VM(this.state,this.props.data,this.props.layout,k);return F?Se(Se({},E),F):null}},{key:"inRange",value:function(w,b){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=w/_,j=b/_;if(S==="horizontal"||S==="vertical"){var k=this.state.offset,N=E>=k.left&&E<=k.left+k.width&&j>=k.top&&j<=k.top+k.height;return N?{x:E,y:j}:null}var C=this.state,A=C.angleAxisMap,I=C.radiusAxisMap;if(A&&I){var B=zo(A);return PI({x:E,y:j},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,b=this.getTooltipEventType(),_=$a(w,ni),S={};_&&b==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=h0(this.props,this.handleOuterEvent);return Se(Se({},E),S)}},{key:"addListener",value:function(){v_.on(y_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){v_.removeListener(y_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,b,_){for(var S=this.state.formattedGraphicalItems,E=0,j=S.length;E<j;E++){var k=S[E];if(k.item===w||k.props.key===w.key||b===Xi(k.item.type)&&_===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,b=this.state.offset,_=b.left,S=b.top,E=b.height,j=b.width;return R.createElement("defs",null,R.createElement("clipPath",{id:w},R.createElement("rect",{x:_,y:S,height:E,width:j})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(b,_){var S=qM(_,2),E=S[0],j=S[1];return Se(Se({},b),{},bt({},E,j.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(b,_){var S=qM(_,2),E=S[0],j=S[1];return Se(Se({},b),{},bt({},E,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var b;return(b=this.state.xAxisMap)===null||b===void 0||(b=b[w])===null||b===void 0?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(w){var b;return(b=this.state.yAxisMap)===null||b===void 0||(b=b[w])===null||b===void 0?void 0:b.scale}},{key:"getItemByXY",value:function(w){var b=this.state,_=b.formattedGraphicalItems,S=b.activeItem;if(_&&_.length)for(var E=0,j=_.length;E<j;E++){var k=_[E],N=k.props,C=k.item,A=C.type.defaultProps!==void 0?Se(Se({},C.type.defaultProps),C.props):C.props,I=Xi(C.type);if(I==="Bar"){var B=(N.data||[]).find(function(F){return XPe(w,F)});if(B)return{graphicalItem:k,payload:B}}else if(I==="RadialBar"){var z=(N.data||[]).find(function(F){return PI(w,F)});if(z)return{graphicalItem:k,payload:z}}else if(tw(k,S)||rw(k,S)||Am(k,S)){var M=eTe({graphicalItem:k,activeTooltipItem:S,itemData:A.data}),$=A.activeIndex===void 0?M:A.activeIndex;return{graphicalItem:Se(Se({},k),{},{childIndex:$}),payload:Am(k,S)?A.data[M]:k.props.data[M]}}}return null}},{key:"render",value:function(){var w=this;if(!bR(this))return null;var b=this.props,_=b.children,S=b.className,E=b.width,j=b.height,k=b.style,N=b.compact,C=b.title,A=b.desc,I=WM(b,YRe),B=Kt(I,!1);if(N)return R.createElement(CM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(rk,wp({},B,{width:E,height:j,title:C,desc:A}),this.renderClipPath(),_R(_,this.renderMap)));if(this.props.accessibilityLayer){var z,M;B.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,B.role=(M=this.props.role)!==null&&M!==void 0?M:"application",B.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},B.onFocus=function(){w.accessibilityManager.focus()}}var $=this.parseEventsOfWrapper();return R.createElement(CM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",wp({className:qt("recharts-wrapper",S),style:Se({position:"relative",cursor:"default",width:E,height:j},k)},$,{ref:function(O){w.container=O}}),R.createElement(rk,wp({},B,{width:E,height:j,title:C,desc:A,style:h4e}),this.renderClipPath(),_R(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(p.Component);return bt(v,"displayName",r),bt(v,"defaultProps",Se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),bt(v,"getDerivedStateFromProps",function(m,y){var x=m.dataKey,w=m.data,b=m.children,_=m.width,S=m.height,E=m.layout,j=m.stackOffset,k=m.margin,N=y.dataStartIndex,C=y.dataEndIndex;if(y.updateId===void 0){var A=KM(m);return Se(Se(Se({},A),{},{updateId:0},g(Se(Se({props:m},A),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:w,prevWidth:_,prevHeight:S,prevLayout:E,prevStackOffset:j,prevMargin:k,prevChildren:b})}if(x!==y.prevDataKey||w!==y.prevData||_!==y.prevWidth||S!==y.prevHeight||E!==y.prevLayout||j!==y.prevStackOffset||!id(k,y.prevMargin)){var I=KM(m),B={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},z=Se(Se({},VM(y,w,E)),{},{updateId:y.updateId+1}),M=Se(Se(Se({},I),B),z);return Se(Se(Se({},M),g(Se({props:m},M),y)),{},{prevDataKey:x,prevData:w,prevWidth:_,prevHeight:S,prevLayout:E,prevStackOffset:j,prevMargin:k,prevChildren:b})}if(!ek(b,y.prevChildren)){var $,F,O,L,Q=$a(b,rf),T=Q&&($=(F=Q.props)===null||F===void 0?void 0:F.startIndex)!==null&&$!==void 0?$:N,D=Q&&(O=(L=Q.props)===null||L===void 0?void 0:L.endIndex)!==null&&O!==void 0?O:C,Y=T!==N||D!==C,q=!Yt(w),ie=q&&!Y?y.updateId:y.updateId+1;return Se(Se({updateId:ie},g(Se(Se({props:m},y),{},{updateId:ie,dataStartIndex:T,dataEndIndex:D}),y)),{},{prevChildren:b,dataStartIndex:T,dataEndIndex:D})}return null}),bt(v,"renderActiveDot",function(m,y,x){var w;return p.isValidElement(m)?w=p.cloneElement(m,y):Mt(m)?w=m(y):w=R.createElement(dz,y),R.createElement(yn,{className:"recharts-active-dot",key:x},w)}),function(y){return R.createElement(v,y)}},hP=S4e({chartName:"BarChart",GraphicalChild:yo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Hf},{axisType:"yAxis",AxisComp:Vf}],formatAxisMap:kOe});const j4e={light:"",dark:".dark"},rq=p.createContext(null);function nq(){const e=p.useContext(rq);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const cw=p.forwardRef(({id:e,className:t,children:r,config:n,...a},s)=>{const i=p.useId(),l=`chart-${e||i.replace(/:/g,"")}`;return o.jsx(rq.Provider,{value:{config:n},children:o.jsxs("div",{"data-chart":l,ref:s,className:de("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[o.jsx(k4e,{id:l,config:n}),o.jsx(lSe,{children:r})]})})});cw.displayName="Chart";const k4e=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?o.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(j4e).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([s,i])=>{var c;const l=((c=i.theme)==null?void 0:c[n])||i.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},pP=ni,E4e=p.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:i,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},g)=>{const{config:v}=nq(),m=p.useMemo(()=>{var S;if(a||!(t!=null&&t.length))return null;const[x]=t,w=`${h||x.dataKey||x.name||"value"}`,b=bE(v,x,w),_=!h&&typeof i=="string"?((S=v[i])==null?void 0:S.label)||i:b==null?void 0:b.label;return l?o.jsx("div",{className:de("font-medium",c),children:l(_,t)}):_?o.jsx("div",{className:de("font-medium",c),children:_}):null},[i,l,t,a,c,v,h]);if(!e||!(t!=null&&t.length))return null;const y=t.length===1&&n!=="dot";return o.jsxs("div",{ref:g,className:de("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[y?null:m,o.jsx("div",{className:"grid gap-1.5",children:t.map((x,w)=>{const b=`${f||x.name||x.dataKey||"value"}`,_=bE(v,x,b),S=d||x.payload.fill||x.color;return o.jsx("div",{className:de("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(x==null?void 0:x.value)!==void 0&&x.name?u(x.value,x.name,x,w,x.payload):o.jsxs(o.Fragment,{children:[_!=null&&_.icon?o.jsx(_.icon,{}):!s&&o.jsx("div",{className:de("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":y&&n==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),o.jsxs("div",{className:de("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[o.jsxs("div",{className:"grid gap-1.5",children:[y?m:null,o.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||x.name})]}),x.value&&o.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});E4e.displayName="ChartTooltip";const N4e=p.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:i}=nq();return r!=null&&r.length?o.jsx("div",{ref:s,className:de("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=bE(i,l,c);return o.jsxs("div",{className:de("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?o.jsx(u.icon,{}):o.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});N4e.displayName="ChartLegend";function bE(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}const hf=p.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));hf.displayName="Textarea";function C4e(e,t=[]){let r=[];function n(s,i){const l=p.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...v}=f,m=(h==null?void 0:h[e][c])||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:y,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,v=p.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,P4e(a,...t)]}function P4e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function _g(e){const t=e+"CollectionProvider",[r,n]=C4e(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:v,children:m}=g,y=R.useRef(null),x=R.useRef(new Map).current;return o.jsx(a,{scope:v,itemMap:x,collectionRef:y,children:m})};i.displayName=t;const l=e+"CollectionSlot",c=R.forwardRef((g,v)=>{const{scope:m,children:y}=g,x=s(l,m),w=ht(v,x.collectionRef);return o.jsx(wl,{ref:w,children:y})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=R.forwardRef((g,v)=>{const{scope:m,children:y,...x}=g,w=R.useRef(null),b=ht(v,w),_=s(u,m);return R.useEffect(()=>(_.itemMap.set(w,{ref:w,...x}),()=>void _.itemMap.delete(w))),o.jsx(wl,{[d]:"",ref:b,children:y})});f.displayName=u;function h(g){const v=s(e+"CollectionConsumer",g);return R.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((_,S)=>x.indexOf(_.ref.current)-x.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},h,n]}function A4e(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var T4e="DismissableLayer",wE="dismissableLayer.update",O4e="dismissableLayer.pointerDownOutside",$4e="dismissableLayer.focusOutside",JM,aq=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sq=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(aq),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),v=ht(t,j=>f(j)),m=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(y),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=M4e(j=>{const k=j.target,N=[...u.branches].some(C=>C.contains(k));!_||N||(a==null||a(j),i==null||i(j),j.defaultPrevented||l==null||l())},h),E=L4e(j=>{const k=j.target;[...u.branches].some(C=>C.contains(k))||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},h);return A4e(j=>{w===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(JM=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),YM(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=JM)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),YM())},[d,u]),p.useEffect(()=>{const j=()=>g({});return document.addEventListener(wE,j),()=>document.removeEventListener(wE,j)},[]),o.jsx(tt.div,{...c,ref:v,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:$e(e.onFocusCapture,E.onFocusCapture),onBlurCapture:$e(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:$e(e.onPointerDownCapture,S.onPointerDownCapture)})});sq.displayName=T4e;var R4e="DismissableLayerBranch",I4e=p.forwardRef((e,t)=>{const r=p.useContext(aq),n=p.useRef(null),a=ht(t,n);return p.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(tt.div,{...e,ref:a})});I4e.displayName=R4e;function M4e(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){iq(O4e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function L4e(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=p.useRef(!1);return p.useEffect(()=>{const a=s=>{s.target&&!n.current&&iq($4e,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function YM(){const e=new CustomEvent(wE);document.dispatchEvent(e)}function iq(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Zm(a,s):a.dispatchEvent(s)}var b_=0;function mP(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??XM()),document.body.insertAdjacentElement("beforeend",e[1]??XM()),b_++,()=>{b_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),b_--}},[])}function XM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var w_="focusScope.autoFocusOnMount",__="focusScope.autoFocusOnUnmount",QM={bubbles:!1,cancelable:!0},D4e="FocusScope",oq=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,c]=p.useState(null),u=Ut(a),d=Ut(s),f=p.useRef(null),h=ht(t,m=>c(m)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(b){if(g.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Oo(f.current,{select:!0})},y=function(b){if(g.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Oo(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Oo(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),w.disconnect()}}},[n,l,g.paused]),p.useEffect(()=>{if(l){e3.add(g);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(w_,QM);l.addEventListener(w_,u),l.dispatchEvent(x),x.defaultPrevented||(F4e(W4e(lq(l)),{select:!0}),document.activeElement===m&&Oo(l))}return()=>{l.removeEventListener(w_,u),setTimeout(()=>{const x=new CustomEvent(__,QM);l.addEventListener(__,d),l.dispatchEvent(x),x.defaultPrevented||Oo(m??document.body,{select:!0}),l.removeEventListener(__,d),e3.remove(g)},0)}}},[l,u,d,g]);const v=p.useCallback(m=>{if(!r&&!n||g.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(y&&x){const w=m.currentTarget,[b,_]=B4e(w);b&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&Oo(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&Oo(_,{select:!0})):x===w&&m.preventDefault()}},[r,n,g.paused]);return o.jsx(tt.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});oq.displayName=D4e;function F4e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Oo(n,{select:t}),document.activeElement!==r)return}function B4e(e){const t=lq(e),r=ZM(t,e),n=ZM(t.reverse(),e);return[r,n]}function lq(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ZM(e,t){for(const r of e)if(!U4e(r,{upTo:t}))return r}function U4e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function z4e(e){return e instanceof HTMLInputElement&&"select"in e}function Oo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&z4e(e)&&t&&e.select()}}var e3=q4e();function q4e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=t3(e,t),e.unshift(t)},remove(t){var r;e=t3(e,t),(r=e[0])==null||r.resume()}}}function t3(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function W4e(e){return e.filter(t=>t.tagName!=="A")}var H4e="Portal",cq=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=p.useState(!1);Ur(()=>s(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Jm.createPortal(o.jsx(tt.div,{...n,ref:t}),i):null});cq.displayName=H4e;function uw(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var uq=sb(),S_=function(){},dw=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:S_,onWheelCapture:S_,onTouchMoveCapture:S_}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,v=e.inert,m=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,w=e.gapMode,b=lg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=ab([r,t]),E=ar(ar({},b),a);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:uq,removeScrollBar:u,shards:f,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!m,lockRef:r,gapMode:w}),i?p.cloneElement(p.Children.only(l),ar(ar({},E),{ref:S})):p.createElement(x,ar({},E,{className:c,ref:S}),l))});dw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dw.classNames={fullWidth:Sc,zeroRight:_c};var _E=!1;if(typeof window<"u")try{var Tv=Object.defineProperty({},"passive",{get:function(){return _E=!0,!0}});window.addEventListener("test",Tv,Tv),window.removeEventListener("test",Tv,Tv)}catch{_E=!1}var vu=_E?{passive:!1}:!1,V4e=function(e){return e.tagName==="TEXTAREA"},dq=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!V4e(e)&&r[t]==="visible")},K4e=function(e){return dq(e,"overflowY")},G4e=function(e){return dq(e,"overflowX")},r3=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=fq(e,n);if(a){var s=hq(e,n),i=s[1],l=s[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},J4e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Y4e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},fq=function(e,t){return e==="v"?K4e(t):G4e(t)},hq=function(e,t){return e==="v"?J4e(t):Y4e(t)},X4e=function(e,t){return e==="h"&&t==="rtl"?-1:1},Q4e=function(e,t,r,n,a){var s=X4e(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=hq(e,l),v=g[0],m=g[1],y=g[2],x=m-y-s*v;(v||x)&&fq(e,l)&&(f+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Ov=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},n3=function(e){return[e.deltaX,e.deltaY]},a3=function(e){return e&&"current"in e?e.current:e},Z4e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},eIe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tIe=0,yu=[];function rIe(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),a=p.useState(tIe++)[0],s=p.useState(cg)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=nb([e.lockRef.current],(e.shards||[]).map(a3),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var x=Ov(m),w=r.current,b="deltaX"in m?m.deltaX:w[0]-x[0],_="deltaY"in m?m.deltaY:w[1]-x[1],S,E=m.target,j=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&j==="h"&&E.type==="range")return!1;var k=r3(j,E);if(!k)return!0;if(k?S=j:(S=j==="v"?"h":"v",k=r3(j,E)),!k)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return Q4e(N,y,m,N==="h"?b:_,!0)},[]),c=p.useCallback(function(m){var y=m;if(!(!yu.length||yu[yu.length-1]!==s)){var x="deltaY"in y?n3(y):Ov(y),w=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&Z4e(S.delta,x)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(i.current.shards||[]).map(a3).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=b.length>0?l(y,b[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=p.useCallback(function(m,y,x,w){var b={name:m,delta:y,target:x,should:w,shadowParent:nIe(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=p.useCallback(function(m){r.current=Ov(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,n3(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,Ov(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return yu.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,vu),document.addEventListener("touchmove",c,vu),document.addEventListener("touchstart",d,vu),function(){yu=yu.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,vu),document.removeEventListener("touchmove",c,vu),document.removeEventListener("touchstart",d,vu)}},[]);var g=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(s,{styles:eIe(a)}):null,g?p.createElement(lb,{gapMode:e.gapMode}):null)}function nIe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const aIe=ib(uq,rIe);var pq=p.forwardRef(function(e,t){return p.createElement(dw,ar({},e,{ref:t,sideCar:aIe}))});pq.classNames=dw.classNames;var sIe=[" ","Enter","ArrowUp","ArrowDown"],iIe=[" ","Enter"],Sg="Select",[fw,hw,oIe]=_g(Sg),[Kf,jFe]=Ha(Sg,[oIe,_f]),pw=_f(),[lIe,Ll]=Kf(Sg),[cIe,uIe]=Kf(Sg),mq=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:g,form:v}=e,m=pw(t),[y,x]=p.useState(null),[w,b]=p.useState(null),[_,S]=p.useState(!1),E=Af(u),[j=!1,k]=Ws({prop:n,defaultProp:a,onChange:s}),[N,C]=Ws({prop:i,defaultProp:l,onChange:c}),A=p.useRef(null),I=y?v||!!y.closest("form"):!0,[B,z]=p.useState(new Set),M=Array.from(B).map($=>$.props.value).join(";");return o.jsx(oF,{...m,children:o.jsxs(lIe,{required:g,scope:t,trigger:y,onTriggerChange:x,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Ds(),value:N,onValueChange:C,open:j,onOpenChange:k,dir:E,triggerPointerDownPosRef:A,disabled:h,children:[o.jsx(fw.Provider,{scope:t,children:o.jsx(cIe,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback($=>{z(F=>new Set(F).add($))},[]),onNativeOptionRemove:p.useCallback($=>{z(F=>{const O=new Set(F);return O.delete($),O})},[]),children:r})}),I?o.jsxs(Bq,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:$=>C($.target.value),disabled:h,form:v,children:[N===void 0?o.jsx("option",{value:""}):null,Array.from(B)]},M):null]})})};mq.displayName=Sg;var gq="SelectTrigger",vq=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=pw(r),i=Ll(gq,r),l=i.disabled||n,c=ht(t,i.onTriggerChange),u=hw(r),d=p.useRef("touch"),[f,h,g]=Uq(m=>{const y=u().filter(b=>!b.disabled),x=y.find(b=>b.value===i.value),w=zq(y,m,x);w!==void 0&&i.onValueChange(w.value)}),v=m=>{l||(i.onOpenChange(!0),g()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(hN,{asChild:!0,...s,children:o.jsx(tt.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Fq(i.value)?"":void 0,...a,ref:c,onClick:$e(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:$e(a.onPointerDown,m=>{d.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:$e(a.onKeyDown,m=>{const y=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(y&&m.key===" ")&&sIe.includes(m.key)&&(v(),m.preventDefault())})})})});vq.displayName=gq;var yq="SelectValue",xq=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i="",...l}=e,c=Ll(yq,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=ht(t,c.onValueNodeChange);return Ur(()=>{u(d)},[u,d]),o.jsx(tt.span,{...l,ref:f,style:{pointerEvents:"none"},children:Fq(c.value)?o.jsx(o.Fragment,{children:i}):s})});xq.displayName=yq;var dIe="SelectIcon",bq=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(tt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});bq.displayName=dIe;var fIe="SelectPortal",wq=e=>o.jsx(cq,{asChild:!0,...e});wq.displayName=fIe;var qc="SelectContent",_q=p.forwardRef((e,t)=>{const r=Ll(qc,e.__scopeSelect),[n,a]=p.useState();if(Ur(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?Kc.createPortal(o.jsx(Sq,{scope:e.__scopeSelect,children:o.jsx(fw.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(jq,{...e,ref:t})});_q.displayName=qc;var js=10,[Sq,Dl]=Kf(qc),hIe="SelectContentImpl",jq=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:m,avoidCollisions:y,...x}=e,w=Ll(qc,r),[b,_]=p.useState(null),[S,E]=p.useState(null),j=ht(t,K=>_(K)),[k,N]=p.useState(null),[C,A]=p.useState(null),I=hw(r),[B,z]=p.useState(!1),M=p.useRef(!1);p.useEffect(()=>{if(b)return cb(b)},[b]),mP();const $=p.useCallback(K=>{const[Z,...H]=I().map(J=>J.ref.current),[X]=H.slice(-1),ce=document.activeElement;for(const J of K)if(J===ce||(J==null||J.scrollIntoView({block:"nearest"}),J===Z&&S&&(S.scrollTop=0),J===X&&S&&(S.scrollTop=S.scrollHeight),J==null||J.focus(),document.activeElement!==ce))return},[I,S]),F=p.useCallback(()=>$([k,b]),[$,k,b]);p.useEffect(()=>{B&&F()},[B,F]);const{onOpenChange:O,triggerPointerDownPosRef:L}=w;p.useEffect(()=>{if(b){let K={x:0,y:0};const Z=X=>{var ce,J;K={x:Math.abs(Math.round(X.pageX)-(((ce=L.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(X.pageY)-(((J=L.current)==null?void 0:J.y)??0))}},H=X=>{K.x<=10&&K.y<=10?X.preventDefault():b.contains(X.target)||O(!1),document.removeEventListener("pointermove",Z),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",H,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",H,{capture:!0})}}},[b,O,L]),p.useEffect(()=>{const K=()=>O(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[O]);const[Q,T]=Uq(K=>{const Z=I().filter(ce=>!ce.disabled),H=Z.find(ce=>ce.ref.current===document.activeElement),X=zq(Z,K,H);X&&setTimeout(()=>X.ref.current.focus())}),D=p.useCallback((K,Z,H)=>{const X=!M.current&&!H;(w.value!==void 0&&w.value===Z||X)&&(N(K),X&&(M.current=!0))},[w.value]),Y=p.useCallback(()=>b==null?void 0:b.focus(),[b]),q=p.useCallback((K,Z,H)=>{const X=!M.current&&!H;(w.value!==void 0&&w.value===Z||X)&&A(K)},[w.value]),ie=n==="popper"?SE:kq,le=ie===SE?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:m,avoidCollisions:y}:{};return o.jsx(Sq,{scope:r,content:b,viewport:S,onViewportChange:E,itemRefCallback:D,selectedItem:k,onItemLeave:Y,itemTextRefCallback:q,focusSelectedItem:F,selectedItemText:C,position:n,isPositioned:B,searchRef:Q,children:o.jsx(pq,{as:wl,allowPinchZoom:!0,children:o.jsx(oq,{asChild:!0,trapped:w.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:$e(a,K=>{var Z;(Z=w.trigger)==null||Z.focus({preventScroll:!0}),K.preventDefault()}),children:o.jsx(sq,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(ie,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:K=>K.preventDefault(),...x,...le,onPlaced:()=>z(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:$e(x.onKeyDown,K=>{const Z=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!Z&&K.key.length===1&&T(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let X=I().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(K.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const ce=K.target,J=X.indexOf(ce);X=X.slice(J+1)}setTimeout(()=>$(X)),K.preventDefault()}})})})})})})});jq.displayName=hIe;var pIe="SelectItemAlignedPosition",kq=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Ll(qc,r),i=Dl(qc,r),[l,c]=p.useState(null),[u,d]=p.useState(null),f=ht(t,j=>d(j)),h=hw(r),g=p.useRef(!1),v=p.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:x,focusSelectedItem:w}=i,b=p.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&m&&y&&x){const j=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),C=x.getBoundingClientRect();if(s.dir!=="rtl"){const ce=C.left-k.left,J=N.left-ce,oe=j.left-J,ne=j.width+oe,he=Math.max(ne,k.width),fe=window.innerWidth-js,_e=em(J,[js,Math.max(js,fe-he)]);l.style.minWidth=ne+"px",l.style.left=_e+"px"}else{const ce=k.right-C.right,J=window.innerWidth-N.right-ce,oe=window.innerWidth-j.right-J,ne=j.width+oe,he=Math.max(ne,k.width),fe=window.innerWidth-js,_e=em(J,[js,Math.max(js,fe-he)]);l.style.minWidth=ne+"px",l.style.right=_e+"px"}const A=h(),I=window.innerHeight-js*2,B=m.scrollHeight,z=window.getComputedStyle(u),M=parseInt(z.borderTopWidth,10),$=parseInt(z.paddingTop,10),F=parseInt(z.borderBottomWidth,10),O=parseInt(z.paddingBottom,10),L=M+$+B+O+F,Q=Math.min(y.offsetHeight*5,L),T=window.getComputedStyle(m),D=parseInt(T.paddingTop,10),Y=parseInt(T.paddingBottom,10),q=j.top+j.height/2-js,ie=I-q,le=y.offsetHeight/2,K=y.offsetTop+le,Z=M+$+K,H=L-Z;if(Z<=q){const ce=A.length>0&&y===A[A.length-1].ref.current;l.style.bottom="0px";const J=u.clientHeight-m.offsetTop-m.offsetHeight,oe=Math.max(ie,le+(ce?Y:0)+J+F),ne=Z+oe;l.style.height=ne+"px"}else{const ce=A.length>0&&y===A[0].ref.current;l.style.top="0px";const oe=Math.max(q,M+m.offsetTop+(ce?D:0)+le)+H;l.style.height=oe+"px",m.scrollTop=Z-q+m.offsetTop}l.style.margin=`${js}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[h,s.trigger,s.valueNode,l,u,m,y,x,s.dir,n]);Ur(()=>b(),[b]);const[_,S]=p.useState();Ur(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=p.useCallback(j=>{j&&v.current===!0&&(b(),w==null||w(),v.current=!1)},[b,w]);return o.jsx(gIe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(tt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});kq.displayName=pIe;var mIe="SelectPopperPosition",SE=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=js,...s}=e,i=pw(r);return o.jsx(pN,{...i,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SE.displayName=mIe;var[gIe,gP]=Kf(qc,{}),jE="SelectViewport",Eq=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Dl(jE,r),i=gP(jE,r),l=ht(t,s.onViewportChange),c=p.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(fw.Slot,{scope:r,children:o.jsx(tt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:$e(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const v=window.innerHeight-js*2,m=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),x=Math.max(m,y);if(x<v){const w=x+g,b=Math.min(v,w),_=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Eq.displayName=jE;var Nq="SelectGroup",[vIe,yIe]=Kf(Nq),xIe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ds();return o.jsx(vIe,{scope:r,id:a,children:o.jsx(tt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});xIe.displayName=Nq;var Cq="SelectLabel",Pq=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=yIe(Cq,r);return o.jsx(tt.div,{id:a.id,...n,ref:t})});Pq.displayName=Cq;var ux="SelectItem",[bIe,Aq]=Kf(ux),Tq=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...i}=e,l=Ll(ux,r),c=Dl(ux,r),u=l.value===n,[d,f]=p.useState(s??""),[h,g]=p.useState(!1),v=ht(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,n,a)}),m=Ds(),y=p.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(bIe,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:p.useCallback(w=>{f(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(fw.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:o.jsx(tt.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:v,onFocus:$e(i.onFocus,()=>g(!0)),onBlur:$e(i.onBlur,()=>g(!1)),onClick:$e(i.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:$e(i.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:$e(i.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:$e(i.onPointerMove,w=>{var b;y.current=w.pointerType,a?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e(i.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:$e(i.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(iIe.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});Tq.displayName=ux;var Gh="SelectItemText",Oq=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,i=Ll(Gh,r),l=Dl(Gh,r),c=Aq(Gh,r),u=uIe(Gh,r),[d,f]=p.useState(null),h=ht(t,x=>f(x),c.onItemTextChange,x=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,x,c.value,c.disabled)}),g=d==null?void 0:d.textContent,v=p.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=u;return Ur(()=>(m(v),()=>y(v)),[m,y,v]),o.jsxs(o.Fragment,{children:[o.jsx(tt.span,{id:c.textId,...s,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Kc.createPortal(s.children,i.valueNode):null]})});Oq.displayName=Gh;var $q="SelectItemIndicator",Rq=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Aq($q,r).isSelected?o.jsx(tt.span,{"aria-hidden":!0,...n,ref:t}):null});Rq.displayName=$q;var kE="SelectScrollUpButton",Iq=p.forwardRef((e,t)=>{const r=Dl(kE,e.__scopeSelect),n=gP(kE,e.__scopeSelect),[a,s]=p.useState(!1),i=ht(t,n.onScrollButtonChange);return Ur(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(Lq,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Iq.displayName=kE;var EE="SelectScrollDownButton",Mq=p.forwardRef((e,t)=>{const r=Dl(EE,e.__scopeSelect),n=gP(EE,e.__scopeSelect),[a,s]=p.useState(!1),i=ht(t,n.onScrollButtonChange);return Ur(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(Lq,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Mq.displayName=EE;var Lq=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Dl("SelectScrollButton",r),i=p.useRef(null),l=hw(r),c=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Ur(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(tt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:$e(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:$e(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:$e(a.onPointerLeave,()=>{c()})})}),wIe="SelectSeparator",Dq=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(tt.div,{"aria-hidden":!0,...n,ref:t})});Dq.displayName=wIe;var NE="SelectArrow",_Ie=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=pw(r),s=Ll(NE,r),i=Dl(NE,r);return s.open&&i.position==="popper"?o.jsx(mN,{...a,...n,ref:t}):null});_Ie.displayName=NE;function Fq(e){return e===""||e===void 0}var Bq=p.forwardRef((e,t)=>{const{value:r,...n}=e,a=p.useRef(null),s=ht(t,a),i=uw(r);return p.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[i,r]),o.jsx(gN,{asChild:!0,children:o.jsx("select",{...n,ref:s,defaultValue:r})})});Bq.displayName="BubbleSelect";function Uq(e){const t=Ut(e),r=p.useRef(""),n=p.useRef(0),a=p.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function zq(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=SIe(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function SIe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var jIe=mq,qq=vq,kIe=xq,EIe=bq,NIe=wq,Wq=_q,CIe=Eq,Hq=Pq,Vq=Tq,PIe=Oq,AIe=Rq,Kq=Iq,Gq=Mq,Jq=Dq;const Rs=jIe,Is=kIe,ns=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(qq,{ref:n,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(EIe,{asChild:!0,children:o.jsx(Dd,{className:"h-4 w-4 opacity-50"})})]}));ns.displayName=qq.displayName;const Yq=p.forwardRef(({className:e,...t},r)=>o.jsx(Kq,{ref:r,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(nse,{className:"h-4 w-4"})}));Yq.displayName=Kq.displayName;const Xq=p.forwardRef(({className:e,...t},r)=>o.jsx(Gq,{ref:r,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Dd,{className:"h-4 w-4"})}));Xq.displayName=Gq.displayName;const as=p.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(NIe,{children:o.jsxs(Wq,{ref:a,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(Yq,{}),o.jsx(CIe,{className:de("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(Xq,{})]})}));as.displayName=Wq.displayName;const TIe=p.forwardRef(({className:e,...t},r)=>o.jsx(Hq,{ref:r,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));TIe.displayName=Hq.displayName;const er=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Vq,{ref:n,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(AIe,{children:o.jsx(Qx,{className:"h-4 w-4"})})}),o.jsx(PIe,{children:t})]}));er.displayName=Vq.displayName;const OIe=p.forwardRef(({className:e,...t},r)=>o.jsx(Jq,{ref:r,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));OIe.displayName=Jq.displayName;const $Ie=async({phoneNumber:e,code:t,sender:r="Breneo"})=>{throw new Error("SMS API key is not configured.")},RIe="breneo:phoneVerified",Ah=typeof window<"u",IIe=e=>e?e.toLowerCase():"user",MIe=(e,t,r)=>{const n=IIe(r);return`${RIe}:${n}:${t??e??"unknown"}`},Qq=e=>{const{phoneNumber:t,ownerId:r,role:n,initiallyVerified:a,sender:s="Breneo",resendDelaySeconds:i=60}=e,l=p.useMemo(()=>MIe(t??void 0,r,n),[r,t,n]),[c,u]=p.useState(()=>a?!0:Ah?localStorage.getItem(l)==="true":!1),[d,f]=p.useState(null),[h,g]=p.useState(!1),[v,m]=p.useState(""),[y,x]=p.useState(!1),[w,b]=p.useState(!1),[_,S]=p.useState(0);p.useEffect(()=>{typeof a=="boolean"&&a&&(u(!0),Ah&&localStorage.setItem(l,"true"))},[a,l]),p.useEffect(()=>{if(!t){u(!1),f(null),g(!1),m("");return}if(!a&&Ah){const C=localStorage.getItem(l);u(C==="true")}},[a,t,l]),p.useEffect(()=>{if(_<=0)return;const C=window.setInterval(()=>{S(A=>{const I=A-1;return I>=0?I:0})},1e3);return()=>window.clearInterval(C)},[_]);const E=()=>Math.floor(1e5+Math.random()*9e5).toString(),j=p.useCallback(async()=>{if(!t)throw new Error("Phone number is missing. Please add it before verifying.");if(_>0)throw new Error(`Please wait ${_} second${_===1?"":"s"} before requesting a new code.`);x(!0);try{const C=E();await $Ie({phoneNumber:t,code:C,sender:s}),f(C),g(!0),S(i)}finally{x(!1)}},[t,_,i,s]),k=p.useCallback(async()=>{if(!h||!d)throw new Error("No verification code has been sent yet.");const C=v.replace(/\D/g,"");if(C.length!==6)throw new Error("Please enter the 6-digit verification code.");b(!0);try{if(C!==d)throw new Error("The verification code you entered is incorrect.");return u(!0),g(!1),f(null),m(""),Ah&&localStorage.setItem(l,"true"),!0}finally{b(!1)}},[v,h,d,l]),N=p.useCallback(()=>{u(!1),f(null),g(!1),m(""),S(0),Ah&&localStorage.removeItem(l)},[l]);return{isPhoneVerified:c,isSendingCode:y,isVerifyingCode:w,codeSent:h,codeInput:v,resendCooldown:_,sendCode:j,verifyCode:k,setCodeInput:m,resetVerification:N}};function LIe(e,t=[]){let r=[];function n(s,i){const l=p.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...v}=f,m=(h==null?void 0:h[e][c])||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:y,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,v=p.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,DIe(a,...t)]}function DIe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var vP="Progress",yP=100,[FIe,kFe]=LIe(vP),[BIe,UIe]=FIe(vP),Zq=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=zIe,...i}=e;(a||a===0)&&!s3(a)&&console.error(qIe(`${a}`,"Progress"));const l=s3(a)?a:yP;n!==null&&!i3(n,l)&&console.error(WIe(`${n}`,"Progress"));const c=i3(n,l)?n:null,u=dx(c)?s(c,l):void 0;return o.jsx(BIe,{scope:r,value:c,max:l,children:o.jsx(tt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":dx(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":rW(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});Zq.displayName=vP;var eW="ProgressIndicator",tW=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=UIe(eW,r);return o.jsx(tt.div,{"data-state":rW(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});tW.displayName=eW;function zIe(e,t){return`${Math.round(e/t*100)}%`}function rW(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function dx(e){return typeof e=="number"}function s3(e){return dx(e)&&!isNaN(e)&&e>0}function i3(e,t){return dx(e)&&!isNaN(e)&&e<=t&&e>=0}function qIe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${yP}\`.`}function WIe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${yP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var nW=Zq,HIe=tW;const xP=p.forwardRef(({className:e,value:t,...r},n)=>o.jsx(nW,{ref:n,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(HIe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));xP.displayName=nW.displayName;const o3=e=>e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:`/${e}`:"/lovable-uploads/no_photo.png",VIe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),KIe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),GIe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})}),JIe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})}),YIe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),XIe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.921h-6.466v-14.921h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.015zm-3.466-8.921h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"})}),j_=(e,t)=>{const r={className:t||"h-5 w-5"};switch(e){case"github":return o.jsx(VIe,{...r});case"linkedin":return o.jsx(KIe,{...r});case"facebook":return o.jsx(GIe,{...r});case"instagram":return o.jsx(JIe,{...r});case"dribbble":return o.jsx(YIe,{...r});case"behance":return o.jsx(XIe,{...r});default:return o.jsx(IN,{className:t||"h-5 w-5"})}},Th={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram",dribbble:"Dribbble",behance:"Behance"},QIe=()=>{const{user:e,loading:t,logout:r}=br(),n=Ea(),a=hr(),s=za(),[i,l]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState(null),[h,g]=p.useState(!1),[v,m]=p.useState(null),[y,x]=p.useState(null),[w,b]=p.useState(!1),[_,S]=p.useState(Date.now()),[E,j]=p.useState(0);p.useEffect(()=>{e!=null&&e.profile_image&&x(e.profile_image)},[e==null?void 0:e.profile_image]);const[k,N]=p.useState(!1),[C,A]=p.useState(""),[I,B]=p.useState(!1),[z,M]=p.useState(!1),[$,F]=p.useState(!1),[O,L]=p.useState(""),[Q,T]=p.useState(""),[D,Y]=p.useState(!1),[q,ie]=p.useState({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}),[le,K]=p.useState(!1),[Z,H]=p.useState(!1),[X,ce]=p.useState(null),[J,oe]=p.useState({platform:"",url:""}),[ne,he]=p.useState(!1),[fe,_e]=p.useState(!1),W=p.useRef(!1),te=p.useRef(null),{data:je=[]}=ir({queryKey:["savedCourseIds",e==null?void 0:e.id],queryFn:async()=>{var ae;if(!(e!=null&&e.id))return[];try{return(((ae=(await Ce.get(mt.AUTH.PROFILE)).data)==null?void 0:ae.saved_courses)||[]).map(Ee=>String(Ee))}catch(xe){return console.error("Error fetching saved course IDs:",xe),[]}},enabled:!!(e!=null&&e.id)}),{data:me=[],isLoading:pe}=ir({queryKey:["savedCourses",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];try{const ae=await Ce.get(mt.AUTH.PROFILE);let xe=[];if(ae.data&&typeof ae.data=="object"){const De=ae.data;if(Array.isArray(De.saved_courses))xe=De.saved_courses.map(dt=>String(dt));else if(De.profile&&typeof De.profile=="object"){const dt=De.profile;Array.isArray(dt.saved_courses)&&(xe=dt.saved_courses.map(Le=>String(Le)))}else if(De.user&&typeof De.user=="object"){const dt=De.user;Array.isArray(dt.saved_courses)&&(xe=dt.saved_courses.map(Le=>String(Le)))}}if(!xe||xe.length===0)return[];const Ue=xe.slice(0,6),{data:Ee,error:rt}=await Vt.from("courses").select("id, title, provider, category, level, duration, image, description, academy_id").in("id",Ue);if(rt)return console.error("Error fetching course details from Supabase:",rt),[];const ct=[...new Set((Ee==null?void 0:Ee.map(De=>De.academy_id).filter(De=>!!De))||[])],Ye=new Map;return ct.length>0&&await Promise.all(ct.map(async De=>{try{const dt=await Ce.get(`${mt.ACADEMY.DETAIL}${De}/`);if(dt.data){const Le=dt.data,Qe=Le.profile_data||Le,_t=(St,Ot=Qe)=>{const kr=Ot[St];return typeof kr=="string"?kr:void 0},yt=_t("logo_url",Qe)||_t("logoUrl",Qe)||_t("logo",Qe)||_t("logo_url",Le)||_t("logoUrl",Le)||null;Ye.set(De,yt)}}catch{console.debug(`Could not fetch academy profile for ${De}`),Ye.set(De,null)}})),(Ee||[]).map(De=>{const dt=De.academy_id&&Ye.has(De.academy_id)&&Ye.get(De.academy_id)||null;return{id:De.id,title:De.title||"",provider:De.provider||"",category:De.category||"",level:De.level||"",duration:De.duration||"",image:o3(De.image),description:De.description||"",academy_id:De.academy_id||null,academy_logo:dt?o3(dt):null}})}catch(ae){return console.error("Error fetching saved courses from API profile:",ae),[]}},enabled:!!(e!=null&&e.id)}),{data:Re=[],isLoading:ze}=ir({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];try{const ae=await Ce.get(mt.AUTH.PROFILE);let xe=[];if(ae.data&&typeof ae.data=="object"){const ct=ae.data;if(Array.isArray(ct.saved_jobs))xe=ct.saved_jobs.map(Ye=>String(Ye));else if(ct.profile&&typeof ct.profile=="object"){const Ye=ct.profile;Array.isArray(Ye.saved_jobs)&&(xe=Ye.saved_jobs.map(De=>String(De)))}else if(ct.user&&typeof ct.user=="object"){const Ye=ct.user;Array.isArray(Ye.saved_jobs)&&(xe=Ye.saved_jobs.map(De=>String(De)))}}if(!xe||xe.length===0)return[];const Ue=xe.map(async ct=>{try{const Ye=await C7(ct);return{id:ct,title:Ye.job_title||Ye.title||"Untitled Job",company:Ye.company_name||Ye.employer_name||Ye.company||"Unknown Company",location:Ye.location||Ye.job_location||[Ye.city,Ye.state,Ye.country].filter(Boolean).join(", ")||"Location not specified",url:Ye.job_apply_link||Ye.url||Ye.apply_url||"",company_logo:Ye.company_logo||Ye.employer_logo||Ye.logo_url||void 0,salary:Ye.min_salary&&Ye.max_salary?`${Ye.min_salary}-${Ye.max_salary} ${Ye.salary_currency||""}`:Ye.salary||void 0,employment_type:Ye.employment_type||Ye.job_employment_type||void 0,work_arrangement:Ye.is_remote?"Remote":void 0}}catch(Ye){console.error(` ProfilePage - Error fetching job detail for ID ${ct}:`,Ye);try{const De=await fs.fetchActiveJobs({query:"",filters:{country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[]},page:1,pageSize:100}),Le=xi(De.jobs).find(Qe=>String(Qe.job_id||Qe.id||"")===String(ct));if(Le)return{id:String(Le.job_id||Le.id||""),title:Le.job_title||Le.title||"Untitled Job",company:Le.company_name||Le.employer_name||Le.company||"Unknown Company",location:Le.location||[Le.job_city,Le.job_state,Le.job_country].filter(Boolean).join(", ")||"Location not specified",url:Le.job_apply_link||Le.url||Le.apply_url||"",company_logo:Le.company_logo||Le.employer_logo||Le.logo_url||void 0,salary:Le.job_min_salary&&Le.job_max_salary?`${Le.job_min_salary}-${Le.job_max_salary} ${Le.job_salary_currency||""}`:Le.salary||void 0,employment_type:Le.employment_type||Le.job_employment_type||void 0,work_arrangement:Le.job_is_remote||Le.is_remote?"Remote":void 0}}catch(De){console.error(` ProfilePage - Fallback also failed for ${ct}:`,De)}return{id:ct,title:`Job ${ct}`,company:"Details unavailable",location:"",url:""}}});return(await Promise.all(Ue)).filter(ct=>ct.title&&ct.title!==`Job ${ct.id}`)}catch{return[]}},enabled:!!(e!=null&&e.id)});p.useEffect(()=>{if(!ze){j(0);return}let ae,xe=0;return ae=setInterval(()=>{xe+=Math.random()*15,xe>90&&(xe=90),j(xe)},200),()=>{ae&&clearInterval(ae)}},[ze]);const ot=Hs({mutationFn:async ae=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Ce.post(`/api/save-course/${ae}/`)},onMutate:async ae=>{await s.cancelQueries({queryKey:["savedCourses",e==null?void 0:e.id]});const xe=s.getQueryData(["savedCourses",e==null?void 0:e.id]);return s.setQueryData(["savedCourses",e==null?void 0:e.id],Ue=>{if(!Ue)return Ue;const Ee=String(ae);return Ue.includes(Ee)?Ue.filter(rt=>rt!==Ee):[...Ue,Ee]}),{previousSavedCourses:xe}},onError:(ae,xe,Ue)=>{Ue!=null&&Ue.previousSavedCourses&&(e!=null&&e.id)&&s.setQueryData(["savedCourses",e==null?void 0:e.id],Ue.previousSavedCourses),console.error("Error updating saved courses:",ae),ue.error("Failed to update saved courses. Please try again.")},onSuccess:(ae,xe)=>{s.invalidateQueries({queryKey:["savedCourses",e==null?void 0:e.id]}),s.invalidateQueries({queryKey:["profile"]});const Ue=s.getQueryData(["savedCourses",e==null?void 0:e.id]),Ee=Ue==null?void 0:Ue.includes(String(xe));ue.success(Ee?"Removed from saved courses.":"Course saved to your profile.")}}),{data:Ze=[]}=ir({queryKey:["savedJobIds",e==null?void 0:e.id],queryFn:async()=>{var ae;if(!(e!=null&&e.id))return[];try{return(((ae=(await Ce.get(mt.AUTH.PROFILE)).data)==null?void 0:ae.saved_jobs)||[]).map(Ee=>String(Ee))}catch(xe){return console.error("Error fetching saved job IDs:",xe),[]}},enabled:!!(e!=null&&e.id)}),Ke=Hs({mutationFn:async ae=>{if(!(e!=null&&e.id))throw new Error("Please log in to save jobs.");const xe=`${mt.JOBS.SAVE_JOB}${ae}/`;await Ce.post(xe)},onMutate:async ae=>{await s.cancelQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),await s.cancelQueries({queryKey:["savedJobIds",e==null?void 0:e.id]});const xe=s.getQueryData(["savedJobs",e==null?void 0:e.id]),Ue=s.getQueryData(["savedJobIds",e==null?void 0:e.id]);return s.setQueryData(["savedJobIds",e==null?void 0:e.id],Ee=>{if(!Ee)return Ee;const rt=String(ae);return Ee.includes(rt)?Ee.filter(ct=>ct!==rt):[...Ee,rt]}),{previousSavedJobs:xe,previousSavedJobIds:Ue}},onError:(ae,xe,Ue)=>{Ue!=null&&Ue.previousSavedJobIds&&(e!=null&&e.id)&&s.setQueryData(["savedJobIds",e==null?void 0:e.id],Ue.previousSavedJobIds),console.error("Error updating saved jobs:",ae),ue.error("Failed to update saved jobs. Please try again.")},onSuccess:(ae,xe)=>{s.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),s.invalidateQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),s.invalidateQueries({queryKey:["profile"]});const Ue=s.getQueryData(["savedJobIds",e==null?void 0:e.id]),Ee=Ue==null?void 0:Ue.includes(String(xe));ue.success(Ee?"Removed from saved jobs.":"Job saved to your profile.")}}),Me=R.useMemo(()=>{const ae=(Ee,rt)=>{if(Ee&&typeof Ee=="object")return Ee[rt]},xe=d;return[ae(xe,"phone_verified"),ae(xe,"is_phone_verified"),ae(ae(xe,"profile"),"phone_verified"),ae(ae(xe,"profile"),"is_phone_verified"),ae(ae(xe,"user"),"phone_verified"),ae(ae(xe,"user"),"is_phone_verified"),ae(e,"phone_verified"),ae(e,"is_phone_verified")].some(Ee=>Ee===!0||Ee==="true")},[d,e]);p.useEffect(()=>{(async()=>{if(e){u(!0);try{const xe=await Ce.get(`/api/skilltest/results/?user=${e.id}`);Array.isArray(xe.data)&&xe.data.length>0?l(xe.data[0]):xe.data&&typeof xe.data=="object"&&l(xe.data)}catch{l(null)}finally{u(!1)}}})()},[e]),p.useEffect(()=>{},[i]),p.useEffect(()=>{(async()=>{var Ue,Ee,rt,ct,Ye,De,dt,Le,Qe,_t,yt,St,Ot,kr,vs,Yr,Lr,Qt,ys,wn;if(!e)return;g(!0);const xe=localStorage.getItem("authToken");try{const An=xe?{Authorization:`Bearer ${xe}`}:{},Xr=await Ce.get("/api/profile/",{headers:An});if(!Xr.data){console.warn(" No data in response"),f(null),m(null),x(null);return}f(Xr.data),(Ue=Xr.data)!=null&&Ue.profile,(Ee=Xr.data)!=null&&Ee.user;const Jf=((rt=Xr.data)==null?void 0:rt.about_me)||((Ye=(ct=Xr.data)==null?void 0:ct.profile)==null?void 0:Ye.about_me)||((dt=(De=Xr.data)==null?void 0:De.user)==null?void 0:dt.about_me)||null;m(Jf),A(Jf||"");const jw=((Le=Xr.data)==null?void 0:Le.profile_image)||((_t=(Qe=Xr.data)==null?void 0:Qe.profile)==null?void 0:_t.profile_image)||((St=(yt=Xr.data)==null?void 0:yt.user)==null?void 0:St.profile_image)||null;x(jw);const Er=((Ot=Xr.data)==null?void 0:Ot.social_links)||((vs=(kr=Xr.data)==null?void 0:kr.profile)==null?void 0:vs.social_links)||((Lr=(Yr=Xr.data)==null?void 0:Yr.user)==null?void 0:Lr.social_links)||((Qt=Xr.data)==null?void 0:Qt.social_networks)||((wn=(ys=Xr.data)==null?void 0:ys.profile)==null?void 0:wn.social_networks)||null;Er&&typeof Er=="object"&&ie({github:Er.github||"",linkedin:Er.linkedin||"",facebook:Er.facebook||"",instagram:Er.instagram||"",dribbble:Er.dribbble||"",behance:Er.behance||""}),Object.entries(Xr.data||{}).forEach(([xs,yK])=>{xs!=="profile"&&xs!=="user"&&console.log(`  - ${xs}:`,yK)})}catch(An){console.error(" Error fetching profile data:",An),f(null),m(null),x(null)}finally{g(!1)}})()},[e]),p.useEffect(()=>{var ae,xe,Ue;if(e&&!W.current){K(!0);try{if(d){const Ee=(d==null?void 0:d.social_links)||((ae=d.profile)==null?void 0:ae.social_links)||((xe=d.user)==null?void 0:xe.social_links)||(d==null?void 0:d.social_networks)||((Ue=d.profile)==null?void 0:Ue.social_networks)||null;if(Ee&&typeof Ee=="object"){const rt={github:Ee.github||"",linkedin:Ee.linkedin||"",facebook:Ee.facebook||"",instagram:Ee.instagram||"",dribbble:Ee.dribbble||"",behance:Ee.behance||""};console.log(" Setting social links to:",rt),ie(rt)}else console.log(" No social links found in profile data"),ie(rt=>Object.values(rt).some(Ye=>Ye&&Ye.trim()!=="")?(console.log(" Keeping existing social links:",rt),rt):{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}else console.log(" Profile data not loaded yet"),ie(Ee=>Object.values(Ee).some(ct=>ct&&ct.trim()!=="")?Ee:{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}catch(Ee){console.error(" Error extracting social links from profile:",Ee),ie(rt=>Object.values(rt).some(Ye=>Ye&&Ye.trim()!=="")?rt:{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}finally{K(!1)}}},[e,d]),p.useEffect(()=>()=>{te.current&&clearTimeout(te.current)},[]);const{first_name:G,last_name:V,email:se,phone_number:ke}=e||{};if(Qq({phoneNumber:ke||"",ownerId:e==null?void 0:e.id,role:e==null?void 0:e.user_type,initiallyVerified:Me}),t)return o.jsx(Dt,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Loading profile..."})})});if(!e)return o.jsx(Dt,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Could not load user data. Please try logging in again."})})});const Be=()=>{_e(!0)},it=()=>{_e(!1),r()},ut=()=>{_e(!1)},Ie=async ae=>{var Ue,Ee,rt,ct,Ye,De;const xe=(Ue=ae.target.files)==null?void 0:Ue[0];if(xe){if(!xe.type.startsWith("image/")){alert("Please select an image file");return}if(xe.size>5*1024*1024){alert("Image size should be less than 5MB");return}b(!0),x(null);try{const dt=new FormData;dt.append("profile_image",xe);const Le=localStorage.getItem("authToken"),Qe=await Ce.patch("/api/profile/",dt,{headers:{Authorization:Le?`Bearer ${Le}`:void 0,"Content-Type":"multipart/form-data"}});console.log(" Image upload response:",Qe.data);const _t=((Ee=Qe.data)==null?void 0:Ee.profile_image)||((ct=(rt=Qe.data)==null?void 0:rt.profile)==null?void 0:ct.profile_image)||((De=(Ye=Qe.data)==null?void 0:Ye.user)==null?void 0:De.profile_image)||null;x(_t),S(Date.now()),ue.success("Profile image has been updated successfully."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image uploaded successfully")}catch(dt){console.error(" Error uploading profile image:",dt),alert("Failed to upload profile image. Please try again.")}finally{b(!1)}}},lt=()=>{M(!0)},ve=()=>{var ae;(ae=document.getElementById("profile-image-input"))==null||ae.click(),M(!1)},Ae=async()=>{if(e){if(!confirm("Are you sure you want to remove your profile image?")){M(!1);return}b(!0),M(!1);try{const ae=localStorage.getItem("authToken"),xe=await Ce.patch("/api/profile/",{profile_image:null},{headers:{Authorization:ae?`Bearer ${ae}`:void 0}});console.log(" Image removal response:",xe.data),x(null),S(Date.now());const Ue=await Ce.get("/api/profile/",{headers:{Authorization:ae?`Bearer ${ae}`:void 0}});f(Ue.data),ue.success("Profile image has been removed."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image removed successfully")}catch(ae){console.error(" Error removing profile image:",ae),ue.error("Failed to remove profile image. Please try again.")}finally{b(!1)}}},P=()=>{A(v||""),N(!0)},U=()=>{ce(null),oe({platform:"",url:""}),H(!0)},be=ae=>{ce(ae),oe({platform:ae,url:q[ae]||""}),H(!0)},Ge=ae=>{const xe=ae.trim();return!xe||xe.startsWith("http://")||xe.startsWith("https://")?xe:`https://${xe}`},xt=ae=>{try{const xe=new URL(Ge(ae));return xe.protocol==="http:"||xe.protocol==="https:"}catch{return!1}},we=async()=>{var ae,xe,Ue,Ee,rt,ct,Ye,De,dt,Le,Qe;if(console.log(" handleSaveSocialLink called"),console.log(" Form data:",J),console.log(" User:",e),console.log(" Current social links:",q),!e){console.error(" No user found"),ue.error("Please log in to save social links.");return}if(!J.platform||!J.url.trim()){console.error(" Missing platform or URL"),ue.error("Please select a platform and provide a URL.");return}if(!xt(J.url)){console.error(" Invalid URL:",J.url),ue.error("Please enter a valid URL (e.g., https://example.com or example.com).");return}console.log(" Validation passed, starting save..."),he(!0);try{const _t=J.platform,yt=localStorage.getItem("authToken"),St=Ge(J.url.trim()),Ot={...q,[_t]:St},kr={};Object.entries(Ot).forEach(([Yr,Lr])=>{Lr&&Lr.trim()!==""&&(kr[Yr]=Lr)}),console.log(" Sending social links to API:",kr),console.log(" Platform:",_t),console.log(" Normalized URL:",St),console.log(" Full payload:",JSON.stringify({social_links:kr},null,2)),W.current=!0,te.current&&clearTimeout(te.current),console.log(" Manual update flag set to true"),ie(Ot),console.log(" Updated local state immediately:",Ot);let vs;try{console.log(" Attempting PATCH with social_links object..."),vs=await Ce.patch(mt.AUTH.PROFILE,{social_links:kr},{headers:{Authorization:yt?`Bearer ${yt}`:void 0,"Content-Type":"application/json"}}),console.log(" PATCH successful with social_links object")}catch(Yr){if(console.error(" PATCH with social_links object failed, error:",Yr),((ae=Yr.response)==null?void 0:ae.status)===400){console.log(" Trying alternative format - sending individual fields...");try{const Qt={};Object.entries(kr).forEach(([ys,wn])=>{Qt[ys]=wn}),console.log(" Trying individual fields payload:",Qt),vs=await Ce.patch(mt.AUTH.PROFILE,Qt,{headers:{Authorization:yt?`Bearer ${yt}`:void 0,"Content-Type":"application/json"}}),console.log(" PATCH successful with individual fields")}catch(Qt){throw console.error(" PATCH with individual fields also failed:",Qt),W.current=!1,Yr}}else throw W.current=!1,Yr}console.log(" Response status:",vs.status),console.log(" Response data:",JSON.stringify(vs.data,null,2)),console.log(" Response headers:",vs.headers);try{console.log(" Refetching profile data to verify save...");const Yr=await Ce.get(mt.AUTH.PROFILE,{headers:{Authorization:yt?`Bearer ${yt}`:void 0}});if(console.log(" Refreshed profile data:",JSON.stringify(Yr.data,null,2)),Yr.data){const Lr=Yr.data;f(Yr.data);const Qt=(Lr==null?void 0:Lr.social_links)||((xe=Lr==null?void 0:Lr.profile)==null?void 0:xe.social_links)||((Ue=Lr==null?void 0:Lr.user)==null?void 0:Ue.social_links)||null;if(console.log(" Social links from refreshed profile:",Qt),Qt&&typeof Qt=="object"&&!Array.isArray(Qt)){const ys={github:Qt.github||"",linkedin:Qt.linkedin||"",facebook:Qt.facebook||"",instagram:Qt.instagram||"",dribbble:Qt.dribbble||"",behance:Qt.behance||""};console.log(" Setting social links from refreshed data:",ys),ie(ys)}else console.log(" No social links in refreshed data, checking if our update was saved..."),console.log(" Keeping local update:",Ot)}}catch(Yr){console.error(" Error refreshing profile after save:",Yr),console.log(" Keeping local update due to refresh error")}te.current&&clearTimeout(te.current),te.current=setTimeout(()=>{W.current=!1,console.log(" Manual update flag reset after timeout")},3e3),H(!1),oe({platform:"",url:""}),ce(null),ue.success(X?"Social link updated successfully.":"Social link added successfully.")}catch(_t){console.error(" Error saving social link:",_t);let yt="Failed to save social link. Please try again.";if(_t&&typeof _t=="object"&&"response"in _t){const St=_t;if(console.error(" Full error object:",{status:(Ee=St.response)==null?void 0:Ee.status,statusText:(rt=St.response)==null?void 0:rt.statusText,data:(ct=St.response)==null?void 0:ct.data,message:St.message,request:St.request}),(Ye=St.response)!=null&&Ye.data){const Ot=St.response.data;Ot.social_links?yt=typeof Ot.social_links=="string"?Ot.social_links:"Invalid social links format. Please check your input.":yt=Ot.detail||Ot.message||yt,console.error(" Error response data:",JSON.stringify(Ot,null,2))}((De=St.response)==null?void 0:De.status)===400?yt="Invalid request. Please check the URL format and try again.":((dt=St.response)==null?void 0:dt.status)===401?yt="Authentication failed. Please log in again.":((Le=St.response)==null?void 0:Le.status)===403?yt="You don't have permission to update social links.":((Qe=St.response)==null?void 0:Qe.status)===500&&(yt="Server error. Please try again later or contact support.")}else _t instanceof Error&&(console.error(" Error message:",_t.message),yt=_t.message||yt);ue.error(yt)}finally{he(!1)}},Ve=async ae=>{var xe,Ue,Ee,rt,ct,Ye;if(!(!e||!confirm("Are you sure you want to remove this social link?")))try{const De=localStorage.getItem("authToken"),dt={...q};delete dt[ae];const Le={};Object.entries(dt).forEach(([yt,St])=>{St&&St.trim()!==""&&(Le[yt]=St)}),console.log(" Removing social link, sending:",Le),console.log(" Full payload:",JSON.stringify({social_links:Le},null,2)),W.current=!0,te.current&&clearTimeout(te.current),console.log(" Manual update flag set to true (delete)");const Qe={...q,[ae]:""};ie(Qe),console.log(" Updated local state immediately:",Qe);let _t;try{_t=await Ce.patch(mt.AUTH.PROFILE,{social_links:Le},{headers:{Authorization:De?`Bearer ${De}`:void 0,"Content-Type":"application/json"}})}catch(yt){throw W.current=!1,yt}console.log(" Response status:",_t.status),console.log(" Response data:",JSON.stringify(_t.data,null,2)),console.log(" Response headers:",_t.headers);try{console.log(" Refetching profile data to verify delete...");const yt=await Ce.get(mt.AUTH.PROFILE,{headers:{Authorization:De?`Bearer ${De}`:void 0}});if(console.log(" Refreshed profile data (delete):",JSON.stringify(yt.data,null,2)),yt.data){const St=yt.data;f(yt.data);const Ot=(St==null?void 0:St.social_links)||((xe=St==null?void 0:St.profile)==null?void 0:xe.social_links)||((Ue=St==null?void 0:St.user)==null?void 0:Ue.social_links)||null;if(console.log(" Social links from refreshed profile (delete):",Ot),Ot&&typeof Ot=="object"&&!Array.isArray(Ot)){const kr={github:Ot.github||"",linkedin:Ot.linkedin||"",facebook:Ot.facebook||"",instagram:Ot.instagram||"",dribbble:Ot.dribbble||"",behance:Ot.behance||""};console.log(" Setting social links from refreshed data (delete):",kr),ie(kr)}else console.log(" No social links in refreshed data after delete"),console.log(" Keeping local update (platform removed):",Qe)}}catch(yt){console.error(" Error refreshing profile after delete:",yt)}te.current&&clearTimeout(te.current),te.current=setTimeout(()=>{W.current=!1,console.log(" Manual update flag reset after timeout (delete)")},3e3),ue.success("Social link removed successfully.")}catch(De){console.error(" Error deleting social link:",De);let dt="Failed to remove social link. Please try again.";if(De&&typeof De=="object"&&"response"in De){const Le=De;if(console.error(" Full error object:",{status:(Ee=Le.response)==null?void 0:Ee.status,statusText:(rt=Le.response)==null?void 0:rt.statusText,data:(ct=Le.response)==null?void 0:ct.data,message:Le.message}),(Ye=Le.response)!=null&&Ye.data){const Qe=Le.response.data;dt=Qe.detail||Qe.message||dt,console.error(" Error response data:",JSON.stringify(Qe,null,2))}}ue.error(dt)}},jt=async()=>{if(e){B(!0);try{const ae=localStorage.getItem("authToken"),xe=await Ce.patch("/api/profile/",{about_me:C},{headers:{Authorization:ae?`Bearer ${ae}`:void 0}});console.log(" About Me updated:",xe.data),m(C);const Ue=await Ce.get("/api/profile/",{headers:{Authorization:ae?`Bearer ${ae}`:void 0}});f(Ue.data),N(!1),ue.success("About Me has been updated successfully.")}catch(ae){console.error(" Error updating about me:",ae),ue.error("Failed to update About Me. Please try again.")}finally{B(!1)}}},wt=()=>{L(ke||""),T(se||""),F(!0)},Tt=async()=>{var xe,Ue;if(!e)return;if(!Q.trim()){ue.error("Email cannot be empty.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Q.trim())){ue.error("Please enter a valid email address.");return}Y(!0);try{const Ee=localStorage.getItem("authToken"),rt={email:Q.trim()};O.trim()&&(rt.phone_number=O.trim());const ct=await Ce.patch(mt.AUTH.PROFILE,rt,{headers:{Authorization:Ee?`Bearer ${Ee}`:void 0}});console.log(" Contact information updated:",ct.data);const Ye=await Ce.get(mt.AUTH.PROFILE,{headers:{Authorization:Ee?`Bearer ${Ee}`:void 0}});f(Ye.data),setTimeout(()=>{window.location.reload()},500),F(!1),ue.success("Contact information has been updated successfully.")}catch(Ee){console.error(" Error updating contact information:",Ee);const rt=Ee&&typeof Ee=="object"&&"response"in Ee&&((Ue=(xe=Ee.response)==null?void 0:xe.data)==null?void 0:Ue.detail)||"Failed to update contact information. Please try again.";ue.error(rt)}finally{Y(!1)}},Te=y||(e==null?void 0:e.profile_image),Ft=()=>{if(!(i!=null&&i.skills_json))return console.log(" No skills_json in results"),[];const ae=i.skills_json.tech||{},xe=i.skills_json.soft||{};return[...Object.entries(ae).map(([rt,ct])=>({name:rt,percentage:parseFloat(String(ct).replace("%","")),type:"tech"})),...Object.entries(xe).map(([rt,ct])=>({name:rt,percentage:parseFloat(String(ct).replace("%","")),type:"soft"}))].filter(rt=>rt.percentage>0).sort((rt,ct)=>ct.percentage-rt.percentage).slice(0,5)},Ct=(ae,xe)=>{const Ue="#19B5FE",Ee=Object.entries(ae).filter(([De,dt])=>parseFloat(String(dt).replace("%",""))>0).map(([De,dt])=>{const Le=parseFloat(String(dt).replace("%",""));let Qe;Le>=40?Qe=1:Qe=.3+Le/40*.7;const _t=`gradient-primary-${Math.round(Qe*100)}`;return{skill:De,percentage:Le,displayPct:dt,fill:Ue,opacity:Qe,gradientId:_t}}).sort((De,dt)=>dt.percentage-De.percentage);if(Ee.length===0)return o.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No skills data available"});const rt={percentage:{label:"Percentage"}},ct=De=>{const{x:dt,y:Le,width:Qe,height:_t,payload:yt,value:St}=De,Ot=(yt==null?void 0:yt.skill)||St||"";if(!dt||!Le||!Qe||!_t||!Ot)return null;const kr=dt+Qe/2,Lr=250-80+25,Qt=Math.max(8,Math.floor(Qe/6)),ys=Ot.split(" "),wn=[];let An="";for(const Er of ys)if(Er.length>Qt){An&&(wn.push(An),An="");for(let xs=0;xs<Er.length;xs+=Qt)wn.push(Er.slice(xs,xs+Qt))}else(An+" "+Er).length<=Qt?An=An?An+" "+Er:Er:(An&&wn.push(An),An=Er);if(An&&wn.push(An),wn.length===0||wn.length===1&&wn[0].length>Qt*1.5){wn.length=0;for(let Er=0;Er<Ot.length;Er+=Qt)wn.push(Ot.slice(Er,Er+Qt))}const Xr=wn.slice(0,2),Jf=14,jw=Lr-(Xr.length-1)*(Jf/2);return o.jsx("text",{x:kr,y:jw,fill:"#374151",textAnchor:"middle",fontSize:12,fontWeight:600,className:"dark:fill-gray-200",children:Xr.map((Er,xs)=>o.jsx("tspan",{x:kr,dy:xs===0?0:Jf,children:Er},xs))})},Ye=De=>{const{x:dt,y:Le,width:Qe,height:_t,value:yt,payload:St}=De,Ot=yt||0,kr=(St==null?void 0:St.skill)||"";if(!dt||!Le||!Qe||!_t)return null;const vs=dt+Qe/2,Yr=250,Lr=80,Qt=Math.max(8,Math.floor(Qe/6)),ys=kr.length>Qt*1.2,wn=Yr-Lr+(ys?70:60);return o.jsx("text",{x:vs,y:wn,fill:"#374151",textAnchor:"middle",fontSize:13,fontWeight:700,className:"dark:fill-gray-200",children:`${Ot.toFixed(0)}%`})};return o.jsx("div",{className:"w-full -mb-4",children:o.jsx(cw,{config:rt,className:"h-[250px] w-full",children:o.jsxs(hP,{data:Ee,margin:{top:20,right:10,left:10,bottom:80},barCategoryGap:"25%",children:[o.jsx("defs",{children:Ee.map(De=>o.jsxs("linearGradient",{id:De.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:De.fill,stopOpacity:De.opacity}),o.jsx("stop",{offset:"100%",stopColor:"#0EA5E9",stopOpacity:De.opacity})]},De.gradientId))}),o.jsx(Hf,{dataKey:"skill",hide:!0}),o.jsx(Vf,{type:"number",domain:[0,100],hide:!0}),o.jsx(pP,{content:({active:De,payload:dt})=>{if(De&&dt&&dt.length){const Le=dt[0].payload;return o.jsx("div",{className:"rounded-3xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:Le.skill}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ue,opacity:Le.opacity}}),o.jsxs("span",{className:"font-bold text-lg",style:{color:Ue,opacity:Le.opacity},children:[Le.percentage.toFixed(1),"%"]})]})]})})}return null}}),o.jsxs(yo,{dataKey:"percentage",radius:[8,8,8,8],animationDuration:1e3,animationEasing:"ease-out",children:[Ee.map((De,dt)=>o.jsx(vg,{fill:`url(#${De.gradientId})`,style:{transition:"all 0.3s ease"}},`cell-${dt}`)),o.jsx(Bs,{content:ct,dataKey:"skill"}),o.jsx(Bs,{content:Ye,dataKey:"percentage"})]})]})})})};return o.jsxs(Dt,{children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 pb-32 md:pb-0",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"space-y-4 md:space-y-6",children:[o.jsx(Ne,{className:"bg-transparent border-0 md:bg-card md:border",children:o.jsx(Pe,{className:"pb-4 pt-6 px-6 md:pb-6",children:o.jsxs("div",{className:"flex flex-col md:items-center",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4 md:flex-col md:items-center md:mb-4",children:[o.jsx("div",{className:"relative flex-shrink-0 order-2 md:relative md:order-1",children:o.jsxs("div",{className:"relative group cursor-pointer rounded-full overflow-hidden",onClick:lt,children:[o.jsx(Jp,{src:Te||void 0,alt:"Profile photo",fallback:G?G.charAt(0).toUpperCase():"U",size:"lg",loading:"eager",className:"h-16 w-16 md:h-28 md:w-28 rounded-full"},`avatar-${_}`),w?o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full z-10",children:o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})}):o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10",children:o.jsx($8,{className:"h-5 w-5 md:h-7 md:w-7 text-white"})})]})}),o.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:Ie,className:"hidden",disabled:w}),o.jsxs("div",{className:"flex-1 min-w-0 order-1 md:text-center md:flex-none md:mb-4 md:order-2",children:[o.jsxs("h1",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-1",children:[G," ",V]}),(e==null?void 0:e.job_title)&&o.jsx("p",{className:"text-sm font-semibold md:font-normal text-gray-900 dark:text-gray-100 md:text-gray-600 md:dark:text-gray-400 mb-1",children:e.job_title}),e!=null&&e.city?o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.city,(e==null?void 0:e.country)&&`, ${e.country}`]}):o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:ke||"Location not specified"})]})]}),(e==null?void 0:e.is_profile_hidden)&&o.jsx("div",{className:"mb-4 md:text-center",children:o.jsxs(or,{className:"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300 border-0",children:[o.jsx(jl,{size:12,className:"mr-1"}),"Hidden Profile"]})}),o.jsxs("div",{className:"flex items-center gap-2 w-full pt-3 md:mt-2 md:pt-0",children:[o.jsxs(re,{variant:"outline",className:"flex-[5] md:flex-1 flex items-center justify-center gap-2 h-12 px-6 bg-breneo-blue/10 text-breneo-blue border-0 hover:bg-breneo-blue/20 dark:hover:bg-breneo-blue/30",onClick:()=>a("/settings"),children:[o.jsx(eb,{size:16}),o.jsx("span",{children:"Settings"})]}),o.jsx(re,{variant:"default",size:"icon",onClick:Be,className:"h-12 w-12 bg-red-100 text-red-600 hover:bg-red-200 active:bg-red-300 dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/50 dark:active:bg-red-900/70",children:o.jsx(M8,{size:16})})]})]})})}),o.jsxs(Ne,{children:[o.jsxs(pt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Contact Information"}),o.jsx(re,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:wt,children:"Edit"})]}),o.jsxs(Pe,{className:"space-y-0 p-0",children:[o.jsx("div",{className:"px-6 py-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2 flex-shrink-0",children:o.jsx(Zp,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:ke||"Not provided"})]})}),o.jsx("div",{className:"px-6 py-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2 flex-shrink-0",children:o.jsx(Ud,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:se})]})})]})]}),o.jsxs(Ne,{children:[o.jsxs(pt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Social Networks"}),o.jsx(re,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:U,children:"Add"})]}),o.jsx(Pe,{className:"p-0",children:le?o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm px-6",children:"Loading..."}):Object.entries(q).some(([ae,xe])=>xe&&xe.trim()!=="")?o.jsx("div",{children:Object.entries(q).filter(([ae,xe])=>xe&&xe.trim()!=="").map(([ae,xe],Ue,Ee)=>o.jsx("div",{className:`px-6 py-4 ${Ue<Ee.length-1?"border-b border-gray-200 dark:border-gray-700":""} group hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("a",{href:xe,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2 flex-shrink-0",children:j_(ae,"h-[18px] w-[18px] text-breneo-blue")}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:Th[ae]}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:xe.replace(/^https?:\/\//,"").replace(/^www\./,"")})]})]}),o.jsxs("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[o.jsx("button",{type:"button",className:"h-8 w-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-200 dark:hover:bg-gray-700",onClick:rt=>{rt.stopPropagation(),be(ae)},children:o.jsx(up,{size:14,className:"text-gray-600 dark:text-gray-400"})}),o.jsx("button",{type:"button",className:"h-8 w-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-primary/10 dark:hover:bg-primary/20",onClick:rt=>{rt.stopPropagation(),Ve(ae)},children:o.jsx(ml,{size:14,className:"text-gray-600 dark:text-gray-400"})})]})]})},ae))}):o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm px-6",children:'No social links added yet. Click "Add" to add your social media profiles.'})})]})]})}),o.jsxs("div",{className:"lg:col-span-2 space-y-4 md:space-y-6",children:[o.jsxs(Ne,{children:[o.jsxs(pt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"About Me"}),o.jsx(re,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:P,children:"Edit"})]}),o.jsx(Pe,{className:"px-6 py-4",children:h?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading..."}):v?o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap leading-relaxed",children:v.length>200?`${v.substring(0,200)}...`:v}),v.length>200&&o.jsx(re,{variant:"link",className:"text-breneo-blue p-0 h-auto mt-2 font-normal text-sm hover:underline",onClick:P,children:"View More"})]}):o.jsx("p",{className:"text-sm text-gray-500 italic",children:"No information available. Add some details about yourself!"})})]}),o.jsxs(Ne,{children:[o.jsx(pt,{className:"p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Personal Skills"})}),o.jsx(Pe,{className:"px-6 py-4",children:c?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading skill results..."}):i&&(i.final_role||Ft().length>0)?o.jsxs("div",{className:"space-y-4",children:[i.final_role&&o.jsxs("div",{className:"bg-gradient-to-r from-breneo-blue/10 to-breneo-blue/5 dark:from-breneo-blue/20 dark:to-breneo-blue/10 p-4 rounded-3xl border border-breneo-blue/20 dark:border-breneo-blue/30",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(td,{className:"h-5 w-5 text-breneo-blue"})}),o.jsx("span",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100",children:"Recommended Role"})]}),o.jsx(or,{className:"text-sm px-3 py-1.5 bg-breneo-blue hover:bg-breneo-blue/90 text-white border-0",children:i.final_role})]}),(i==null?void 0:i.skills_json)&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-base text-gray-900 dark:text-gray-100 mb-4",children:"Top Skills"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.skills_json.tech&&Object.keys(i.skills_json.tech).length>0&&o.jsxs(Ne,{children:[o.jsx(pt,{className:"pb-2",children:o.jsx(At,{className:"flex items-center gap-2 text-sm",children:"Technical Skills"})}),o.jsx(Pe,{className:"p-2 pt-0 pb-4",children:Ct(i.skills_json.tech)})]}),i.skills_json.soft&&Object.keys(i.skills_json.soft).length>0&&o.jsxs(Ne,{children:[o.jsx(pt,{className:"pb-2",children:o.jsx(At,{className:"flex items-center gap-2 text-sm",children:"Soft Skills"})}),o.jsx(Pe,{className:"p-2 pt-0 pb-4",children:Ct(i.skills_json.soft)})]})]})]}),Ft().length===0&&!c&&o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No skill test results available. Take a skill test to see your results here."})]}):o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No skill test results available. Take a skill test to see your results here."})})]}),o.jsxs(Ne,{children:[o.jsxs(pt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Saved Courses"}),me.length>0&&o.jsx(re,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:()=>a("/courses"),children:"View All"})]}),o.jsx(Pe,{className:"p-0",children:pe?o.jsx("div",{className:"px-6 py-4 space-y-4",children:[...Array(3)].map((ae,xe)=>o.jsxs("div",{className:"flex items-start gap-3 animate-pulse",children:[o.jsx(Ar,{className:"w-12 h-12 rounded-3xl flex-shrink-0"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(Ar,{className:"h-4 w-3/4"}),o.jsx(Ar,{className:"h-3 w-1/2"}),o.jsx(Ar,{className:"h-3 w-2/3"}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx(Ar,{className:"h-7 w-20"}),o.jsx(Ar,{className:"h-7 w-7 rounded-full"})]})]})]},xe))}):me.length>0?o.jsxs("div",{children:[me.map((ae,xe)=>{const Ue=(je==null?void 0:je.includes(String(ae.id)))??!1;return o.jsx("div",{className:`px-6 py-4 ${xe<me.length-1?"border-b border-gray-200 dark:border-gray-700":""} hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:ae.academy_logo?o.jsx("img",{src:ae.academy_logo,alt:`${ae.provider} logo`,className:"w-12 h-12 rounded-3xl object-cover cursor-pointer border border-gray-200 dark:border-gray-700",onClick:()=>a(`/course/${ae.id}`),onError:Ee=>{const rt=Ee.target;rt.src="/lovable-uploads/no_photo.png"}}):o.jsx("div",{className:"w-12 h-12 rounded-3xl bg-breneo-accent flex items-center justify-center cursor-pointer",children:o.jsx(nd,{className:"h-6 w-6 text-white"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 line-clamp-1 cursor-pointer hover:text-breneo-blue transition-colors flex-1",onClick:()=>a(`/course/${ae.id}`),children:ae.title}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx(re,{variant:"secondary",size:"icon",className:"bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",onClick:Ee=>{Ee.stopPropagation(),a(`/course/${ae.id}`)},"aria-label":"View course",children:o.jsx(Xp,{className:"h-4 w-4 text-black dark:text-white"})}),o.jsx(re,{variant:"secondary",size:"icon",onClick:Ee=>{Ee.stopPropagation(),ot.mutate(ae.id)},disabled:ot.isPending,"aria-label":Ue?"Unsave course":"Save course",className:de("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",Ue?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:ot.isPending?o.jsx(wc,{className:"h-4 w-4 animate-spin"}):o.jsx(aa,{className:de("h-4 w-4 transition-colors",Ue?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:ae.provider}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[o.jsx("span",{children:ae.level}),o.jsx("span",{children:""}),o.jsx("span",{children:ae.duration})]})]})]})},ae.id)}),me.length>=6&&o.jsx("div",{className:"px-6 py-3 border-t border-gray-200 dark:border-gray-700",children:o.jsx(re,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal text-sm w-full justify-center hover:underline",onClick:()=>a("/courses"),children:"View All Saved Courses"})})]}):o.jsxs("div",{className:"text-center py-4 text-gray-500 text-sm px-6",children:["No saved courses yet. Browse courses and save your favorites!",o.jsx(re,{variant:"link",className:"mt-2 text-breneo-blue font-normal text-sm hover:underline",onClick:()=>a("/courses"),children:"Browse Courses"})]})})]}),o.jsxs(Ne,{children:[o.jsxs(pt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Saved Jobs"}),Re.length>0&&o.jsx(re,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:()=>a("/jobs"),children:"View All"})]}),o.jsx(Pe,{className:"p-0",children:ze?o.jsx("div",{className:"px-6 py-8 space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[o.jsx("span",{children:"Loading saved jobs..."}),o.jsx("span",{className:"text-breneo-blue",children:"Please wait"})]}),o.jsx(xP,{value:E,className:"h-2"})]})}):Re.length>0?o.jsx("div",{children:Re.map((ae,xe)=>{const Ue=(Ze==null?void 0:Ze.includes(String(ae.id)))??!1;return o.jsx("div",{className:`px-6 py-4 ${xe<Re.length-1?"border-b border-gray-200 dark:border-gray-700":""} hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsxs("div",{className:"flex-shrink-0",children:[ae.company_logo?o.jsx("img",{src:ae.company_logo,alt:`${ae.company} logo`,className:"w-12 h-12 rounded-3xl object-cover border border-gray-200 dark:border-gray-700",onError:Ee=>{const rt=Ee.target;rt.style.display="none",rt.nextElementSibling&&(rt.nextElementSibling.style.display="flex")}}):null,!ae.company_logo&&o.jsx("div",{className:"w-12 h-12 rounded-3xl bg-breneo-blue/10 flex items-center justify-center",children:o.jsx(ln,{className:"h-6 w-6 text-breneo-blue"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 line-clamp-1 cursor-pointer hover:text-breneo-blue transition-colors flex-1",onClick:()=>a(`/jobs/${encodeURIComponent(ae.id)}`),children:ae.title}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx(re,{variant:"secondary",size:"icon",className:"bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",onClick:Ee=>{Ee.stopPropagation(),ae.url?window.open(ae.url,"_blank"):a(`/jobs/${encodeURIComponent(ae.id)}`)},"aria-label":"View job",children:o.jsx(Xp,{className:"h-4 w-4 text-black dark:text-white"})}),o.jsx(re,{variant:"secondary",size:"icon",onClick:Ee=>{Ee.stopPropagation(),Ke.mutate(ae.id)},disabled:Ke.isPending,"aria-label":Ue?"Unsave job":"Save job",className:de("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",Ue?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:Ke.isPending?o.jsx(wc,{className:"h-4 w-4 animate-spin"}):o.jsx(aa,{className:de("h-4 w-4 transition-colors",Ue?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:ae.company}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-1",children:[o.jsx(Zx,{className:"h-3 w-3"}),o.jsx("span",{className:"line-clamp-1",children:ae.location})]}),ae.salary&&o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:ae.salary})]})]})},ae.id)})}):o.jsxs("div",{className:"text-center py-4 text-gray-500 text-sm px-6",children:["No saved jobs yet. Browse jobs and save your favorites!",o.jsx(re,{variant:"link",className:"mt-2 text-breneo-blue font-normal text-sm hover:underline",onClick:()=>a("/jobs"),children:"Browse Jobs"})]})})]})]})]}),n?o.jsx(Un,{open:fe,onOpenChange:_e,children:o.jsxs(zn,{children:[o.jsx(qn,{children:o.jsx(Wn,{children:"Log out"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Are you sure you want to log out?"})}),o.jsxs(xa,{children:[o.jsx(re,{onClick:it,className:"bg-red-500 text-white hover:bg-red-600 active:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700 dark:active:bg-red-800",children:"Log out"}),o.jsx(hi,{asChild:!0,children:o.jsx(re,{variant:"outline",children:"Cancel"})})]})]})}):o.jsx(kn,{open:fe,onOpenChange:_e,children:o.jsxs(mn,{children:[o.jsxs(gn,{children:[o.jsx(vn,{children:"Log out"}),o.jsx(jc,{children:"Are you sure you want to log out?"})]}),o.jsxs(Bn,{children:[o.jsx(re,{variant:"outline",onClick:ut,children:"Cancel"}),o.jsx(re,{onClick:it,className:"bg-red-500 text-white hover:bg-red-600 active:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700 dark:active:bg-red-800",children:"Log out"})]})]})}),n?o.jsx(Un,{open:k,onOpenChange:N,children:o.jsxs(zn,{children:[o.jsx(qn,{children:o.jsx(Wn,{children:"Edit About Me"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"about-me",children:"Tell us about yourself"}),o.jsx(hf,{id:"about-me",placeholder:"Share something about yourself...",value:C,onChange:ae=>A(ae.target.value),className:"mt-2 min-h-[200px]",disabled:I})]})})}),o.jsxs(xa,{children:[o.jsx(re,{onClick:jt,disabled:I,children:I?"Saving...":"Save Changes"}),o.jsx(hi,{asChild:!0,children:o.jsx(re,{variant:"outline",disabled:I,children:"Cancel"})})]})]})}):o.jsx(kn,{open:k,onOpenChange:N,children:o.jsxs(mn,{className:"max-w-2xl",children:[o.jsx(gn,{children:o.jsx(vn,{children:"Edit About Me"})}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"about-me",children:"Tell us about yourself"}),o.jsx(hf,{id:"about-me",placeholder:"Share something about yourself...",value:C,onChange:ae=>A(ae.target.value),className:"mt-2 min-h-[200px]",disabled:I})]})})}),o.jsxs(Bn,{children:[o.jsx(re,{variant:"outline",onClick:()=>N(!1),disabled:I,children:"Cancel"}),o.jsx(re,{onClick:jt,disabled:I,children:I?"Saving...":"Save Changes"})]})]})}),n?o.jsx(Un,{open:z,onOpenChange:M,children:o.jsxs(zn,{children:[o.jsx(qn,{children:o.jsx(Wn,{children:"Profile Photo"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs(re,{onClick:ve,className:"w-full justify-start gap-3",variant:"ghost",disabled:w,children:[o.jsx(s0,{className:"h-5 w-5"}),Te?"Update Photo":"Upload Photo"]}),Te&&o.jsxs(re,{onClick:Ae,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:w,children:[o.jsx(ml,{className:"h-5 w-5"}),"Remove Photo"]})]})})]})}):o.jsx(kn,{open:z,onOpenChange:M,children:o.jsxs(mn,{children:[o.jsx(gn,{children:o.jsx(vn,{children:"Profile Photo"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs(re,{onClick:ve,className:"w-full justify-start gap-3",variant:"ghost",disabled:w,children:[o.jsx(s0,{className:"h-5 w-5"}),Te?"Update Photo":"Upload Photo"]}),Te&&o.jsxs(re,{onClick:Ae,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:w,children:[o.jsx(ml,{className:"h-5 w-5"}),"Remove Photo"]})]})}),o.jsx(Bn,{children:o.jsx(re,{variant:"outline",onClick:()=>M(!1),children:"Cancel"})})]})}),n?o.jsx(Un,{open:Z,onOpenChange:H,children:o.jsxs(zn,{children:[o.jsx(qn,{children:o.jsx(Wn,{children:X?"Edit Social Link":"Add Social Link"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"social-platform",children:"Platform *"}),o.jsxs(Rs,{value:J.platform,onValueChange:ae=>oe({...J,platform:ae}),disabled:ne||!!X,children:[o.jsx(ns,{className:"mt-2",children:o.jsx(Is,{placeholder:"Select a platform"})}),o.jsx(as,{children:Object.keys(Th).map(ae=>o.jsx(er,{value:ae,children:o.jsxs("div",{className:"flex items-center gap-2",children:[j_(ae,"h-4 w-4"),o.jsx("span",{children:Th[ae]})]})},ae))})]})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"social-url",children:"URL *"}),o.jsx(ft,{id:"social-url",type:"url",placeholder:"https://...",value:J.url,onChange:ae=>oe({...J,url:ae.target.value}),className:"mt-2",disabled:ne,required:!0})]})]})}),o.jsxs(xa,{children:[o.jsx(re,{onClick:we,disabled:ne,children:ne?"Saving...":X?"Update":"Add"}),o.jsx(hi,{asChild:!0,children:o.jsx(re,{variant:"outline",disabled:ne,children:"Cancel"})})]})]})}):o.jsx(kn,{open:Z,onOpenChange:H,children:o.jsxs(mn,{children:[o.jsx(gn,{children:o.jsx(vn,{children:X?"Edit Social Link":"Add Social Link"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"social-platform-desktop",children:"Platform *"}),o.jsxs(Rs,{value:J.platform,onValueChange:ae=>oe({...J,platform:ae}),disabled:ne||!!X,children:[o.jsx(ns,{className:"mt-2",children:o.jsx(Is,{placeholder:"Select a platform"})}),o.jsx(as,{children:Object.keys(Th).map(ae=>o.jsx(er,{value:ae,children:o.jsxs("div",{className:"flex items-center gap-2",children:[j_(ae,"h-4 w-4"),o.jsx("span",{children:Th[ae]})]})},ae))})]})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"social-url-desktop",children:"URL *"}),o.jsx(ft,{id:"social-url-desktop",type:"url",placeholder:"https://...",value:J.url,onChange:ae=>oe({...J,url:ae.target.value}),className:"mt-2",disabled:ne,required:!0})]})]})}),o.jsxs(Bn,{children:[o.jsx(re,{variant:"outline",onClick:()=>{H(!1),oe({platform:"",url:""}),ce(null)},disabled:ne,children:"Cancel"}),o.jsx(re,{onClick:we,disabled:ne,children:ne?"Saving...":X?"Update":"Add"})]})]})}),n?o.jsx(Un,{open:$,onOpenChange:F,children:o.jsxs(zn,{children:[o.jsx(qn,{children:o.jsx(Wn,{children:"Edit Contact Information"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"phone-number",children:"Phone Number"}),o.jsx(ft,{id:"phone-number",type:"tel",placeholder:"+995591552495",value:O,onChange:ae=>L(ae.target.value),className:"mt-2",disabled:D})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email-address",children:"Email Address"}),o.jsx(ft,{id:"email-address",type:"email",placeholder:"example@email.com",value:Q,onChange:ae=>T(ae.target.value),className:"mt-2",disabled:D,required:!0})]})]})}),o.jsxs(xa,{children:[o.jsx(re,{onClick:Tt,disabled:D||!Q.trim(),children:D?"Saving...":"Save Changes"}),o.jsx(hi,{asChild:!0,children:o.jsx(re,{variant:"outline",disabled:D,children:"Cancel"})})]})]})}):o.jsx(kn,{open:$,onOpenChange:F,children:o.jsxs(mn,{children:[o.jsx(gn,{children:o.jsx(vn,{children:"Edit Contact Information"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"phone-number-desktop",children:"Phone Number"}),o.jsx(ft,{id:"phone-number-desktop",type:"tel",placeholder:"+995591552495",value:O,onChange:ae=>L(ae.target.value),className:"mt-2",disabled:D})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email-address-desktop",children:"Email Address"}),o.jsx(ft,{id:"email-address-desktop",type:"email",placeholder:"example@email.com",value:Q,onChange:ae=>T(ae.target.value),className:"mt-2",disabled:D,required:!0})]})]})}),o.jsxs(Bn,{children:[o.jsx(re,{variant:"outline",onClick:()=>F(!1),disabled:D,children:"Cancel"}),o.jsx(re,{onClick:Tt,disabled:D||!Q.trim(),children:D?"Saving...":"Save Changes"})]})]})})]})};var ZIe="Separator",l3="horizontal",eMe=["horizontal","vertical"],aW=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=l3,...a}=e,s=tMe(n)?n:l3,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return o.jsx(tt.div,{"data-orientation":s,...l,...a,ref:t})});aW.displayName=ZIe;function tMe(e){return eMe.includes(e)}var sW=aW;const ud=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>o.jsx(sW,{ref:a,decorative:r,orientation:t,className:de("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ud.displayName=sW.displayName;var bP="Switch",[rMe,EFe]=Ha(bP),[nMe,aMe]=rMe(bP),iW=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,g]=p.useState(null),v=ht(t,b=>g(b)),m=p.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,w]=Ws({prop:a,defaultProp:s,onChange:u});return o.jsxs(nMe,{scope:r,checked:x,disabled:l,children:[o.jsx(tt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":cW(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:$e(e.onClick,b=>{w(_=>!_),y&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),y&&o.jsx(sMe,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});iW.displayName=bP;var oW="SwitchThumb",lW=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=aMe(oW,r);return o.jsx(tt.span,{"data-state":cW(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});lW.displayName=oW;var sMe=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,s=p.useRef(null),i=uw(r),l=Ux(t);return p.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[i,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function cW(e){return e?"checked":"unchecked"}var uW=iW,iMe=lW;const Zn=p.forwardRef(({className:e,...t},r)=>o.jsx(uW,{className:de("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(iMe,{className:de("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Zn.displayName=uW.displayName;const oMe=Xx("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),wP=p.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:de(oMe({variant:t}),e),...r}));wP.displayName="Alert";const _P=p.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:de("mb-1 font-medium leading-none tracking-tight",e),...t}));_P.displayName="AlertTitle";const SP=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:de("text-sm [&_p]:leading-relaxed",e),...t}));SP.displayName="AlertDescription";const CE=({compact:e=!1})=>{Pl();const[t,r]=p.useState(!1),[n,a]=p.useState(null),[s,i]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(!1);p.useEffect(()=>{r(!0)},[]),p.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}if(window.navigator.standalone===!0){i(!0);return}const g=localStorage.getItem("pwa-install-card-dismissed");if(g){const x=parseInt(g,10);if((Date.now()-x)/(1e3*60*60*24)<30){c(!0);return}}const v=x=>{x.preventDefault(),a(x)};window.addEventListener("beforeinstallprompt",v);const m=async()=>{try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.ready}}catch(x){console.log("Service worker check:",x)}},y=setTimeout(()=>{m()},1e3);return()=>{window.removeEventListener("beforeinstallprompt",v),clearTimeout(y)}},[]);const f=async()=>{if(d(!0),n){try{await n.prompt();const{outcome:x}=await n.userChoice;x==="accepted"?(i(!0),a(null),ue.success("App installation started!")):ue.info("Installation cancelled. You can try again later.")}catch(x){console.error("Error installing PWA:",x),ue.error("Failed to trigger installation. Please try using your browser menu.")}finally{d(!1)}return}let g=!1;const m=await new Promise(x=>{const w=b=>{b.preventDefault(),g=!0;const _=b;a(_),x(_)};window.addEventListener("beforeinstallprompt",w,{once:!0}),setTimeout(()=>{g||(window.removeEventListener("beforeinstallprompt",w),x(null))},2e3)});if(m){try{await m.prompt();const{outcome:x}=await m.userChoice;x==="accepted"?(i(!0),a(null),ue.success("App installation started!")):ue.info("Installation cancelled. You can try again later.")}catch(x){console.error("Error installing PWA:",x),ue.error("Failed to trigger installation. Please try using your browser menu.")}finally{d(!1)}return}if(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1){ue.info("Tap the Share button (square with arrow), then select 'Add to Home Screen'",{duration:4e3}),d(!1);return}try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.ready;ue.info("Install prompt not available. Please check your browser's menu for 'Install' or 'Add to Home Screen' option.",{duration:4e3})}}catch(x){console.error("Service worker check failed:",x)}d(!1)};if(s||l||!t)return null;const h=()=>o.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Install App Illustration",className:de("w-full h-auto object-contain",e?"max-h-24":"max-h-40"),onError:g=>{console.error("Image failed to load:",g)}});return o.jsxs(Ne,{className:de(e&&"p-0"),children:[o.jsxs(pt,{className:de(e&&"pb-3 px-4 pt-4"),children:[o.jsx(At,{className:"text-lg",children:"Install App"}),o.jsx(qr,{children:"Download our app for a better experience"})]}),o.jsxs(Pe,{className:de("space-y-4",e&&"space-y-3 px-4 pb-4"),children:[o.jsx(h,{}),o.jsxs("div",{className:de("space-y-2",e&&"space-y-1.5"),children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(rd,{className:de("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),o.jsx("span",{children:"Works offline"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(rd,{className:de("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),o.jsx("span",{children:"Faster loading"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(rd,{className:de("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),o.jsx("span",{children:"Home screen access"})]})]}),o.jsxs(re,{onClick:f,disabled:u,className:de("w-full",e&&"h-9"),children:[o.jsx(I8,{className:de("mr-2 h-4 w-4",e&&"h-3.5 w-3.5")}),u?"Preparing...":n?"Download & Install Now":"Download App"]})]})]})},lMe=async()=>{var e,t;try{const n=(await Ce.post(mt.PAYMENTS.BOG_AUTH)).data;if(!n.access_token||n.token_type!=="Bearer")throw new Error("Invalid response received from Bank of Georgia auth API.");return n}catch(r){if(r&&typeof r=="object"&&"response"in r&&r.response){const n=r;if(n.response.status===404)throw new Error("Payment authentication endpoint not found. Please ensure the backend payment endpoint is implemented. See BACKEND_PAYMENT_SETUP.md for details.");const a=((e=n.response.data)==null?void 0:e.error)||((t=n.response.data)==null?void 0:t.message)||`Bank of Georgia auth failed (${n.response.status})`;throw new Error(a)}else{if(r&&typeof r=="object"&&"request"in r)throw new Error("Unable to reach payment service. Please check your connection.");{const n=r instanceof Error?r.message:"An error occurred while requesting payment authorization.";throw new Error(n)}}}},c3=[{id:"account",label:"Account Settings"},{id:"notifications",label:"Notifications"},{id:"privacy",label:"Privacy & Security"},{id:"subscription",label:"Subscription & Billing"},{id:"learning",label:"Learning Preferences"},{id:"accessibility",label:"Theme & Accessibility"}];function cMe(){const{user:e,logout:t,refreshUser:r}=br(),{theme:n,setTheme:a}=Pl(),{fontSize:s,setFontSize:i}=qae(),{language:l,setLanguage:c}=Gs(),u=Ea(),[d,f]=Hx();hr(),za();const[h,g]=p.useState(!1),v=p.useRef(null),m=p.useRef(null),y=()=>{const we=["account","notifications","privacy","subscription","learning","accessibility"];try{const Ve=d.get("section");if(Ve&&we.includes(Ve))return Ve}catch(Ve){console.error("Error getting initial section:",Ve)}return"account"},[x,w]=p.useState(()=>y());p.useEffect(()=>{const we=d.get("payment");we==="success"?(ue.success("Payment successful! Your subscription has been activated."),f(Ve=>(Ve.delete("payment"),Ve))):we==="failed"&&(ue.error("Payment failed. Please try again."),f(Ve=>(Ve.delete("payment"),Ve)))},[d,f]),p.useEffect(()=>{if(!u||!v.current)return;const we=setTimeout(()=>{const Ve=v.current;if(!Ve)return;const jt=Ve.querySelector(`[data-section="${x}"]`);if(!jt)return;const wt=Ve.getBoundingClientRect(),Tt=jt.getBoundingClientRect(),Te=Ve.scrollLeft,Ft=Tt.left-wt.left+Te,Ct=Tt.width,ae=wt.width,xe=Ft-ae/2+Ct/2;Ve.scrollTo({left:Math.max(0,xe),behavior:"smooth"})},50);return()=>clearTimeout(we)},[x,u]);const[b,_]=p.useState(""),[S,E]=p.useState(""),[j,k]=p.useState(!1),N=p.useRef(!1),[C,A]=p.useState(1),[I,B]=p.useState(""),[z,M]=p.useState(""),[$,F]=p.useState(""),[O,L]=p.useState(!1),[Q,T]=p.useState(!0),[D,Y]=p.useState(!0),[q,ie]=p.useState(!0),[le,K]=p.useState(!0),[Z,H]=p.useState(!0),[X,ce]=p.useState(!1),[J,oe]=p.useState(!1),[ne,he]=p.useState(!1),[fe,_e]=p.useState(null),[W,te]=p.useState(null),[je,me]=p.useState(null),[pe,Re]=p.useState(!0),[ze,ot]=p.useState(!0),[Ze,Ke]=p.useState(!0),[Me,G]=p.useState("weekly"),[V,se]=p.useState(s),[ke,Be]=p.useState(l),it=we=>{w(we)};p.useEffect(()=>{e&&!N.current&&(_(e.first_name||""),E(e.last_name||""))},[e==null?void 0:e.id,e==null?void 0:e.first_name,e==null?void 0:e.last_name]),p.useEffect(()=>{se(s)},[s]),p.useEffect(()=>{Be(l)},[l]),p.useEffect(()=>{g(!0);const we=(Tt,Te)=>{try{const Ft=localStorage.getItem(Tt);if(Ft!==null)return JSON.parse(Ft)}catch(Ft){console.error(`Error loading preference ${Tt}:`,Ft),localStorage.removeItem(Tt)}return Te};T(we("notif_email_job_matches",!0)),Y(we("notif_email_new_courses",!0)),ie(we("notif_email_skill_updates",!0)),K(we("notif_in_app_messages",!0)),H(we("notif_in_app_progress",!0)),ce(we("notif_newsletter",!1)),oe(we("notif_push",!1)),Re(we("privacy_show_skills",!0)),ot(we("privacy_show_test_results",!0)),Ke(we("privacy_show_completed_courses",!0)),G(we("ai_recommendation_frequency","weekly"));const Ve=we("breneo-font-size",s),jt=Ve==="large"?"big":Ve;["small","medium","big"].includes(jt)&&(se(jt),i(jt));const wt=we("accessibility_language","en");Be(wt==="en"||wt==="ka"?wt:"en")},[]),p.useEffect(()=>{h&&f({section:x},{replace:!1})},[x,h,f]),p.useEffect(()=>{h&&localStorage.setItem("notif_email_job_matches",JSON.stringify(Q))},[Q,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_email_new_courses",JSON.stringify(D))},[D,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_email_skill_updates",JSON.stringify(q))},[q,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_in_app_messages",JSON.stringify(le))},[le,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_in_app_progress",JSON.stringify(Z))},[Z,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_newsletter",JSON.stringify(X))},[X,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_push",JSON.stringify(J))},[J,h]),p.useEffect(()=>{h&&localStorage.setItem("privacy_show_skills",JSON.stringify(pe))},[pe,h]),p.useEffect(()=>{h&&localStorage.setItem("privacy_show_test_results",JSON.stringify(ze))},[ze,h]),p.useEffect(()=>{h&&localStorage.setItem("privacy_show_completed_courses",JSON.stringify(Ze))},[Ze,h]),p.useEffect(()=>{h&&localStorage.setItem("ai_recommendation_frequency",JSON.stringify(Me))},[Me,h]);const ut=we=>{se(we),i(we)},Ie=we=>{Be(we),c(we),localStorage.setItem("accessibility_language",JSON.stringify(we))},lt=we=>{a(we),localStorage.setItem("theme",we)};p.useEffect(()=>{h&&localStorage.setItem("accessibility_language",JSON.stringify(ke))},[ke,h]);const ve=async we=>{var Ve,jt;if(we.preventDefault(),L(!0),!(e!=null&&e.email)){ue.error("Email not found. Please log in again."),L(!1);return}try{const wt=await Ce.post(mt.AUTH.PASSWORD_RESET,{email:e.email});ue.success(wt.data.message||"Code sent to your email!"),A(2)}catch(wt){zt.isAxiosError(wt)?ue.error(((jt=(Ve=wt.response)==null?void 0:Ve.data)==null?void 0:jt.error)||"Error sending code"):ue.error("Error sending code")}finally{L(!1)}},Ae=async we=>{var Ve,jt;we.preventDefault(),L(!0);try{const wt=await Ce.post(mt.AUTH.PASSWORD_RESET_VERIFY,{email:e==null?void 0:e.email,code:I});ue.success(wt.data.message||"Code verified!"),A(3)}catch(wt){zt.isAxiosError(wt)?ue.error(((jt=(Ve=wt.response)==null?void 0:Ve.data)==null?void 0:jt.error)||"Invalid code"):ue.error("Invalid code")}finally{L(!1)}},P=async we=>{var Ve,jt;if(we.preventDefault(),z!==$){ue.error("Passwords do not match");return}if(z.length<6){ue.error("Password must be at least 6 characters long");return}L(!0);try{const wt=await Ce.post(mt.AUTH.PASSWORD_RESET_CONFIRM,{email:e==null?void 0:e.email,code:I,new_password:z,confirm_password:$});ue.success(wt.data.message||"Password updated successfully!"),A(1),B(""),M(""),F("")}catch(wt){zt.isAxiosError(wt)?ue.error(((jt=(Ve=wt.response)==null?void 0:Ve.data)==null?void 0:jt.error)||"Error setting new password"):ue.error("Error setting new password")}finally{L(!1)}},U=async()=>{ue.info("Preparing your data export..."),setTimeout(()=>{ue.success("Data export ready! Check your email for the download link.")},2e3)},be=async()=>{var we,Ve,jt,wt,Tt,Te,Ft;if(!e){ue.error("User not found. Please log in again.");return}if(!b.trim()&&!S.trim()){ue.error("Please enter at least a first name or last name");return}N.current=!0,k(!0);try{const Ct=localStorage.getItem("authToken"),ae={};b.trim()&&(ae.first_name=b.trim()),S.trim()&&(ae.last_name=S.trim());const xe=await Ce.patch(mt.AUTH.PROFILE,ae,{headers:{Authorization:Ct?`Bearer ${Ct}`:void 0}}),Ue=await Ce.get(mt.AUTH.PROFILE,{headers:{Authorization:Ct?`Bearer ${Ct}`:void 0}});if(Ue.data){const Ee=Ue.data,rt=Ee.first_name||((we=Ee.user)==null?void 0:we.first_name)||((Ve=Ee.profile)==null?void 0:Ve.first_name),ct=Ee.last_name||((jt=Ee.user)==null?void 0:jt.last_name)||((wt=Ee.profile)==null?void 0:wt.last_name);rt!==void 0&&_(String(rt||"")),ct!==void 0&&E(String(ct||""))}ue.success("Profile updated successfully!"),N.current=!1,setTimeout(()=>{window.location.reload()},500)}catch(Ct){if(console.error(" Error updating profile:",Ct),N.current=!1,zt.isAxiosError(Ct)){const ae=(Tt=Ct.response)==null?void 0:Tt.data,xe=(typeof ae=="object"&&ae!==null?ae.error||ae.message||ae.detail:null)||Ct.message||"Failed to update profile";console.error(" Error details:",{status:(Te=Ct.response)==null?void 0:Te.status,statusText:(Ft=Ct.response)==null?void 0:Ft.statusText,data:ae,message:Ct.message}),ue.error(String(xe))}else console.error(" Non-Axios error:",Ct),ue.error("Failed to update profile. Please try again.")}finally{k(!1)}},Ge=n==="dark"?"ON":n==="system"?"AUTO":"OFF",xt=()=>{switch(x){case"account":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Account Settings"}),o.jsxs(Ne,{children:[o.jsxs(pt,{children:[o.jsx(At,{children:"Personal Information"}),o.jsx(qr,{children:"Update your name and contact information"})]}),o.jsx(Pe,{className:"space-y-4",children:o.jsxs("form",{onSubmit:we=>{we.preventDefault(),be()},className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"firstName",children:"First Name"}),o.jsx(ft,{id:"firstName",value:b,onChange:we=>{N.current=!0,_(we.target.value)},placeholder:"Enter your first name",disabled:j})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"lastName",children:"Last Name"}),o.jsx(ft,{id:"lastName",value:S,onChange:we=>{N.current=!0,E(we.target.value)},placeholder:"Enter your last name",disabled:j})]}),o.jsx(ud,{}),o.jsx(re,{type:"submit",disabled:j,children:j?"Saving...":"Save Changes"})]})})]}),o.jsxs(Ne,{children:[o.jsxs(pt,{children:[o.jsx(At,{children:"Email & Password"}),o.jsx(qr,{children:"Manage your login credentials and security"})]}),o.jsxs(Pe,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{children:"Email Address"}),o.jsx(ft,{value:(e==null?void 0:e.email)||"",disabled:!0,className:"bg-muted/50"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be edited. Contact support if you need to update it."})]}),o.jsx(ud,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Fe,{children:"Change Password"}),C===1&&o.jsx("form",{onSubmit:ve,className:"space-y-4",children:o.jsx(re,{type:"submit",disabled:O,children:O?"Sending...":"Send Verification Code"})}),C===2&&o.jsxs("form",{onSubmit:Ae,className:"space-y-4",children:[o.jsx(ft,{placeholder:"Enter 6-digit code",value:I,onChange:we=>B(we.target.value)}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(re,{type:"submit",disabled:O,children:O?"Verifying...":"Verify Code"}),o.jsx(re,{type:"button",variant:"outline",onClick:()=>A(1),children:"Back"})]})]}),C===3&&o.jsxs("form",{onSubmit:P,className:"space-y-4",children:[o.jsx(ft,{type:"password",placeholder:"New password",value:z,onChange:we=>M(we.target.value)}),o.jsx(ft,{type:"password",placeholder:"Confirm new password",value:$,onChange:we=>F(we.target.value)}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(re,{type:"submit",disabled:O,children:O?"Updating...":"Update Password"}),o.jsx(re,{type:"button",variant:"outline",onClick:()=>A(2),children:"Back"})]})]})]})]})]})]});case"notifications":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Notifications"}),o.jsxs(Ne,{children:[o.jsxs(pt,{children:[o.jsx(At,{children:"Email Notifications"}),o.jsx(qr,{children:"Control how and when you receive email updates"})]}),o.jsxs(Pe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{children:"Job Matches"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when new jobs match your profile"})]}),o.jsx(Zn,{checked:Q,onCheckedChange:T})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{children:"New Courses"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates about new courses in your interests"})]}),o.jsx(Zn,{checked:D,onCheckedChange:Y})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{children:"Skill Updates"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about skill recommendations and updates"})]}),o.jsx(Zn,{checked:q,onCheckedChange:ie})]}),o.jsx(ud,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{children:"Newsletter"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Subscribe to our weekly newsletter"})]}),o.jsx(Zn,{checked:X,onCheckedChange:ce})]})]})]}),o.jsxs(Ne,{children:[o.jsxs(pt,{children:[o.jsx(At,{children:"In-App Notifications"}),o.jsx(qr,{children:"Manage notifications within the application"})]}),o.jsxs(Pe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{children:"Messages"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify me about new messages"})]}),o.jsx(Zn,{checked:le,onCheckedChange:K})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{children:"Progress Reminders"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get reminders about your learning progress"})]}),o.jsx(Zn,{checked:Z,onCheckedChange:H})]})]})]}),o.jsxs(Ne,{children:[o.jsxs(pt,{children:[o.jsx(At,{children:"Push Notifications"}),o.jsx(qr,{children:"Receive notifications even when you're not on the site"})]}),o.jsx(Pe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{children:"Enable Push Notifications"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow Breneo to send you push notifications"})]}),o.jsx(Zn,{checked:J,onCheckedChange:oe})]})})]})]});case"privacy":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Privacy & Security"}),o.jsxs(Ne,{children:[o.jsxs(pt,{children:[o.jsx(At,{children:"Data Visibility"}),o.jsx(qr,{children:"Manage what information is visible on your profile"})]}),o.jsxs(Pe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{children:"Show Skills"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your skills on your profile"})]}),o.jsx(Zn,{checked:pe,onCheckedChange:Re})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{children:"Show Test Results"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your skill test results"})]}),o.jsx(Zn,{checked:ze,onCheckedChange:ot})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{children:"Show Completed Courses"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Display courses you've completed"})]}),o.jsx(Zn,{checked:Ze,onCheckedChange:Ke})]})]})]}),o.jsxs(Ne,{children:[o.jsxs(pt,{children:[o.jsx(At,{children:"Data Management"}),o.jsx(qr,{children:"Download or export your data (GDPR compliance)"})]}),o.jsxs(Pe,{className:"space-y-4",children:[o.jsxs(re,{onClick:U,variant:"outline",children:[o.jsx(I8,{className:"h-4 w-4 mr-2"}),"Download My Data"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Request a copy of all your data. You'll receive an email with a download link."})]})]})]});case"subscription":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Subscription & Billing"}),o.jsxs(Ne,{children:[o.jsxs(pt,{children:[o.jsx(At,{children:"Current Plan"}),o.jsx(qr,{children:"Your current subscription plan"})]}),o.jsx(Pe,{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"Free Plan"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Access to basic features"})]}),o.jsx(Mr,{to:"/subscription",children:o.jsx(re,{children:"Upgrade to Pro"})})]})})]}),o.jsxs(Ne,{children:[o.jsxs(pt,{children:[o.jsx(At,{children:"Payment Methods"}),o.jsx(qr,{children:"Manage your payment methods"})]}),o.jsx(Pe,{children:o.jsxs("div",{className:"space-y-3",children:[!W&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"Authenticate with Bank of Georgia to add a payment method."}),W&&o.jsxs("div",{className:"rounded-3xl border border-primary/40 bg-primary/5 p-4 text-sm",children:[o.jsx("p",{className:"font-medium text-primary",children:"Bank of Georgia authorization ready"}),o.jsxs("p",{className:"text-muted-foreground",children:["Token type: ",W.token_type]}),o.jsxs("p",{className:"text-muted-foreground",children:["Expires in: ",W.expires_in," seconds"]}),o.jsxs("p",{className:"text-muted-foreground break-all",children:["Access token: ",W.access_token]})]}),fe&&o.jsxs(wP,{variant:fe.includes("not found")||fe.includes("endpoint")?"default":"destructive",children:[fe.includes("not found")||fe.includes("endpoint")?o.jsx(fse,{className:"h-4 w-4"}):o.jsx(qi,{className:"h-4 w-4"}),o.jsx(_P,{children:fe.includes("not found")||fe.includes("endpoint")?"Backend Setup Required":"Payment Error"}),o.jsx(SP,{className:"text-sm",children:fe.includes("not found")||fe.includes("endpoint")?o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{children:"The payment backend endpoint is not yet implemented. To enable payments:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[o.jsxs("li",{children:["Implement"," ",o.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"POST /api/payments/bog/orders/"})," ","on your backend server"]}),o.jsxs("li",{children:["See"," ",o.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"BACKEND_PAYMENT_SETUP.md"})," ","for implementation details"]})]})]}):fe})]}),o.jsx(re,{variant:"outline",onClick:async()=>{me(null),_e(null);try{he(!0);const we=await lMe();te(we),ue.success("Bank of Georgia authentication successful.")}catch(we){const Ve=we instanceof Error?we.message:"Authentication failed with Bank of Georgia.";_e(Ve),ue.error("Unable to authenticate with Bank of Georgia.")}finally{he(!1)}},disabled:ne,children:ne&&!je?"Authorizing...":"Refresh Authorization"})]})})]}),o.jsxs(Ne,{children:[o.jsxs(pt,{children:[o.jsx(At,{children:"Billing History"}),o.jsx(qr,{children:"View and download your invoices"})]}),o.jsx(Pe,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"No billing history available"})})]})]});case"learning":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Learning Preferences"}),o.jsxs(Ne,{children:[o.jsxs(pt,{children:[o.jsx(At,{children:"AI Recommendations"}),o.jsx(qr,{children:"How often would you like AI recommendations?"})]}),o.jsx(Pe,{children:o.jsxs(Rs,{value:Me,onValueChange:we=>G(we),children:[o.jsx(ns,{children:o.jsx(Is,{})}),o.jsxs(as,{children:[o.jsx(er,{value:"daily",children:"Daily"}),o.jsx(er,{value:"weekly",children:"Weekly"}),o.jsx(er,{value:"monthly",children:"Monthly"})]})]})})]}),o.jsxs(Ne,{children:[o.jsxs(pt,{children:[o.jsx(At,{children:"Interests & Career Paths"}),o.jsx(qr,{children:"Manage your interests and preferred career paths"})]}),o.jsx(Pe,{children:o.jsx(Mr,{to:"/interests",children:o.jsx(re,{variant:"outline",children:"Manage Interests"})})})]})]});case"accessibility":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Theme & Accessibility"}),o.jsxs(Ne,{children:[o.jsxs(pt,{children:[o.jsx(At,{children:"Appearance"}),o.jsx(qr,{children:"Customize the look and feel of the application"})]}),o.jsx(Pe,{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Fe,{children:"Theme"}),o.jsxs(Rs,{value:n||"light",onValueChange:we=>lt(we),children:[o.jsx(ns,{className:"w-32",children:o.jsx(Is,{children:Ge})}),o.jsxs(as,{children:[o.jsx(er,{value:"light",children:"Light"}),o.jsx(er,{value:"dark",children:"Dark"}),o.jsx(er,{value:"system",children:"Auto"})]})]})]})})]}),o.jsxs(Ne,{children:[o.jsxs(pt,{children:[o.jsx(At,{children:"Accessibility"}),o.jsx(qr,{children:"Adjust settings for better accessibility"})]}),o.jsxs(Pe,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{children:"Font Size"}),o.jsxs(Rs,{value:V,onValueChange:ut,children:[o.jsx(ns,{children:o.jsx(Is,{})}),o.jsxs(as,{children:[o.jsx(er,{value:"small",children:"Small"}),o.jsx(er,{value:"medium",children:"Medium"}),o.jsx(er,{value:"big",children:"Big"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{children:"Language"}),o.jsxs(Rs,{value:ke,onValueChange:Ie,children:[o.jsx(ns,{children:o.jsx(Is,{})}),o.jsxs(as,{children:[o.jsx(er,{value:"en",children:"English"}),o.jsx(er,{value:"ka",children:"Georgian ()"})]})]})]})]})]})]});default:return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),o.jsx("p",{className:"text-muted-foreground",children:"Section not found"})]})}};return o.jsxs(Dt,{children:[u&&o.jsx("div",{className:"fixed top-[53px] left-0 right-0 z-40 bg-[#F8F9FA]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 border-b border-black/[0.03] dark:border-white/[0.03] md:hidden",children:o.jsx("div",{ref:v,className:"overflow-x-auto scrollbar-hide touch-pan-x",style:{WebkitOverflowScrolling:"touch"},children:o.jsx("div",{className:"flex gap-4 px-6 py-4 min-w-max",children:c3.map(we=>o.jsx("button",{type:"button","data-section":we.id,ref:x===we.id?m:null,onClick:Ve=>{Ve.preventDefault(),Ve.stopPropagation(),it(we.id)},onTouchStart:Ve=>{Ve.stopPropagation()},className:de("text-sm whitespace-nowrap transition-colors py-1 cursor-pointer touch-manipulation",x===we.id?"text-primary font-medium border-b-2 border-primary":"text-muted-foreground hover:text-foreground active:text-foreground"),children:we.label},we.id))})})}),o.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:o.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_400px]",children:[o.jsxs("div",{className:de(u&&"mt-12 min-h-screen pb-12"),children:[xt(),u&&o.jsx("div",{className:"mt-8",children:o.jsx(CE,{compact:!0})})]}),!u&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsx(At,{className:"text-lg",children:"Settings"})}),o.jsx(Pe,{className:"space-y-2",children:c3.map(we=>o.jsx("button",{type:"button",onClick:Ve=>{Ve.preventDefault(),Ve.stopPropagation(),it(we.id)},className:de("w-full text-left text-sm transition-colors",x===we.id?"text-primary font-medium":"text-foreground hover:text-primary"),children:we.label},we.id))})]}),o.jsx(CE,{})]})]})})]})}var jP="Checkbox",[uMe,NFe]=Ha(jP),[dMe,fMe]=uMe(jP),dW=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,g]=p.useState(null),v=ht(t,_=>g(_)),m=p.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,w]=Ws({prop:a,defaultProp:s,onChange:u}),b=p.useRef(x);return p.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const S=()=>w(b.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[h,w]),o.jsxs(dMe,{scope:r,state:x,disabled:l,children:[o.jsx(tt.button,{type:"button",role:"checkbox","aria-checked":yl(x)?"mixed":x,"aria-required":i,"data-state":pW(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onKeyDown:$e(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:$e(e.onClick,_=>{w(S=>yl(S)?!0:!S),y&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})}),y&&o.jsx(hMe,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:yl(s)?!1:s})]})});dW.displayName=jP;var fW="CheckboxIndicator",hW=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=fMe(fW,r);return o.jsx(oa,{present:n||yl(s.state)||s.state===!0,children:o.jsx(tt.span,{"data-state":pW(s.state),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});hW.displayName=fW;var hMe=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...s}=e,i=p.useRef(null),l=uw(r),c=Ux(t);p.useEffect(()=>{const d=i.current,f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&g){const v=new Event("click",{bubbles:n});d.indeterminate=yl(r),g.call(d,yl(r)?!1:r),d.dispatchEvent(v)}},[l,r,n]);const u=p.useRef(yl(r)?!1:r);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...s,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function yl(e){return e==="indeterminate"}function pW(e){return yl(e)?"indeterminate":e?"checked":"unchecked"}var mW=dW,pMe=hW;const ta=p.forwardRef(({className:e,...t},r)=>o.jsx(mW,{ref:r,className:de("peer h-4 w-4 shrink-0 rounded-[2px] border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:border-primary dark:data-[state=checked]:bg-primary dark:data-[state=checked]:border-primary",e),...t,children:o.jsx(pMe,{className:de("flex items-center justify-center text-white"),children:o.jsx(Qx,{className:"h-4 w-4 text-white"})})}));ta.displayName=mW.displayName;var gW=["PageUp","PageDown"],vW=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],yW={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Gf="Slider",[PE,mMe,gMe]=_g(Gf),[xW,CFe]=Ha(Gf,[gMe]),[vMe,mw]=xW(Gf),bW=p.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:s=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:g=!1,form:v,...m}=e,y=p.useRef(new Set),x=p.useRef(0),b=i==="horizontal"?yMe:xMe,[_=[],S]=Ws({prop:d,defaultProp:u,onChange:A=>{var B;(B=[...y.current][x.current])==null||B.focus(),f(A)}}),E=p.useRef(_);function j(A){const I=jMe(_,A);C(A,I)}function k(A){C(A,x.current)}function N(){const A=E.current[x.current];_[x.current]!==A&&h(_)}function C(A,I,{commit:B}={commit:!1}){const z=CMe(s),M=PMe(Math.round((A-n)/s)*s+n,z),$=em(M,[n,a]);S((F=[])=>{const O=_Me(F,$,I);if(NMe(O,c*s)){x.current=O.indexOf($);const L=String(O)!==String(F);return L&&B&&h(O),L?O:F}else return F})}return o.jsx(vMe,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:x,thumbs:y.current,values:_,orientation:i,form:v,children:o.jsx(PE.Provider,{scope:e.__scopeSlider,children:o.jsx(PE.Slot,{scope:e.__scopeSlider,children:o.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...m,ref:t,onPointerDown:$e(m.onPointerDown,()=>{l||(E.current=_)}),min:n,max:a,inverted:g,onSlideStart:l?void 0:j,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:N,onHomeKeyDown:()=>!l&&C(n,0,{commit:!0}),onEndKeyDown:()=>!l&&C(a,_.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:I})=>{if(!l){const M=gW.includes(A.key)||A.shiftKey&&vW.includes(A.key)?10:1,$=x.current,F=_[$],O=s*M*I;C(F+O,$,{commit:!0})}}})})})})});bW.displayName=Gf;var[wW,_W]=xW(Gf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),yMe=p.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:s,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=p.useState(null),g=ht(t,b=>h(b)),v=p.useRef(),m=Af(a),y=m==="ltr",x=y&&!s||!y&&s;function w(b){const _=v.current||f.getBoundingClientRect(),S=[0,_.width],j=kP(S,x?[r,n]:[n,r]);return v.current=_,j(b-_.left)}return o.jsx(wW,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:o.jsx(SW,{dir:m,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const _=w(b.clientX);i==null||i(_)},onSlideMove:b=>{const _=w(b.clientX);l==null||l(_)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:b=>{const S=yW[x?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:S?-1:1})}})})}),xMe=p.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:s,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=p.useRef(null),f=ht(t,d),h=p.useRef(),g=!a;function v(m){const y=h.current||d.current.getBoundingClientRect(),x=[0,y.height],b=kP(x,g?[n,r]:[r,n]);return h.current=y,b(m-y.top)}return o.jsx(wW,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:o.jsx(SW,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const y=v(m.clientY);s==null||s(y)},onSlideMove:m=>{const y=v(m.clientY);i==null||i(y)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:m=>{const x=yW[g?"from-bottom":"from-top"].includes(m.key);c==null||c({event:m,direction:x?-1:1})}})})}),SW=p.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=mw(Gf,r);return o.jsx(tt.span,{...u,ref:t,onKeyDown:$e(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):gW.concat(vW).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:$e(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:$e(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:$e(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),s(f))})})}),jW="SliderTrack",kW=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=mw(jW,r);return o.jsx(tt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});kW.displayName=jW;var AE="SliderRange",EW=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=mw(AE,r),s=_W(AE,r),i=p.useRef(null),l=ht(t,i),c=a.values.length,u=a.values.map(h=>CW(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(tt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});EW.displayName=AE;var TE="SliderThumb",NW=p.forwardRef((e,t)=>{const r=mMe(e.__scopeSlider),[n,a]=p.useState(null),s=ht(t,l=>a(l)),i=p.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(bMe,{...e,ref:s,index:i})}),bMe=p.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...s}=e,i=mw(TE,r),l=_W(TE,r),[c,u]=p.useState(null),d=ht(t,w=>u(w)),f=c?i.form||!!c.closest("form"):!0,h=Ux(c),g=i.values[n],v=g===void 0?0:CW(g,i.min,i.max),m=SMe(n,i.values.length),y=h==null?void 0:h[l.size],x=y?kMe(y,v,l.direction):0;return p.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${x}px)`},children:[o.jsx(PE.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(tt.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":i.min,"aria-valuenow":g,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:d,style:g===void 0?{display:"none"}:e.style,onFocus:$e(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),f&&o.jsx(wMe,{name:a??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:g},n)]})});NW.displayName=TE;var wMe=e=>{const{value:t,...r}=e,n=p.useRef(null),a=uw(t);return p.useEffect(()=>{const s=n.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(a!==t&&c){const u=new Event("input",{bubbles:!0});c.call(s,t),s.dispatchEvent(u)}},[a,t]),o.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function _Me(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,s)=>a-s)}function CW(e,t,r){const s=100/(r-t)*(e-t);return em(s,[0,100])}function SMe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function jMe(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function kMe(e,t,r){const n=e/2,s=kP([0,50],[0,n]);return(n-s(t)*r)*r}function EMe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function NMe(e,t){if(t>0){const r=EMe(e);return Math.min(...r)>=t}return!0}function kP(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function CMe(e){return(String(e).split(".")[1]||"").length}function PMe(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var PW=bW,AMe=kW,TMe=EW,OMe=NW;const AW=p.forwardRef(({className:e,...t},r)=>{const n=t.value||t.defaultValue||[0],a=Array.isArray(n)?n.length:1;return o.jsxs(PW,{ref:r,className:de("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(AMe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",children:o.jsx(TMe,{className:"absolute h-full bg-breneo-blue dark:bg-breneo-blue"})}),Array.from({length:a}).map((s,i)=>o.jsx(OMe,{className:"block h-5 w-5 rounded-full border-2 border-breneo-blue dark:border-breneo-blue bg-white dark:bg-gray-800 ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-breneo-blue focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},i))]})});AW.displayName=PW.displayName;const $Me=(e,t,r=20)=>{const n=[];for(let a=0;a<r;a++){const s=Math.exp(-a*.15)*100;n.push(Math.max(5,Math.min(100,s)))}return n},u3=({minSalary:e,maxSalary:t,salaryMin:r=e,salaryMax:n=t,salaryByAgreement:a=!1,onSalaryChange:s})=>{const{t:i}=Gs(),[l,c]=p.useState(r??e),[u,d]=p.useState(n??t),[f,h]=p.useState(a),g=$Me(e,t,20),v=Math.max(...g);p.useEffect(()=>{c(r??e),d(n??t),h(a??!1)},[r,n,a,e,t]);const m=b=>{const[_,S]=b;c(_),d(S),s(_===e?void 0:_,S===t?void 0:S,f)},y=b=>{const _=parseInt(b.target.value)||e,S=Math.max(e,Math.min(_,u));c(S),s(S===e?void 0:S,u===t?void 0:u,f)},x=b=>{const _=parseInt(b.target.value)||t,S=Math.min(t,Math.max(_,l));d(S),s(l===e?void 0:l,S===t?void 0:S,f)},w=b=>{h(b),s(l===e?void 0:l,u===t?void 0:u,b)};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-base font-medium text-left text-gray-900 dark:text-gray-100",children:i.jobs.salaryRange}),o.jsx("div",{className:"relative h-16 flex items-end justify-between gap-0.5 px-1",children:g.map((b,_)=>{const S=b/v*100,E=e+_*(t-e)/g.length,j=e+(_+1)*(t-e)/g.length,k=E>=l&&j<=u;return o.jsx("div",{className:"flex-1 bg-gray-900 dark:bg-gray-200 transition-opacity rounded-md",style:{height:`${S}%`,minHeight:"4px",opacity:k?1:.3}},_)})}),o.jsx("div",{className:"px-2",children:o.jsx(AW,{value:[l,u],onValueChange:m,min:e,max:t,step:100,className:"w-full"})}),o.jsxs("div",{className:"flex items-end gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Fe,{htmlFor:"salary-min",className:"text-xs text-gray-600 dark:text-gray-300 mb-1 block",children:i.jobs.minimum}),o.jsx(ft,{id:"salary-min",type:"number",value:l,onChange:y,min:e,max:u,className:"h-10"})]}),o.jsx("div",{className:"pb-2.5",children:o.jsx("span",{className:"text-gray-400 dark:text-gray-400",children:"-"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Fe,{htmlFor:"salary-max",className:"text-xs text-gray-600 dark:text-gray-300 mb-1 block",children:i.jobs.maximum}),o.jsx(ft,{id:"salary-max",type:"number",value:u,onChange:x,min:l,max:t,className:"h-10"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[o.jsx(ta,{id:"salary-by-agreement",checked:f,onCheckedChange:w}),o.jsx(Fe,{htmlFor:"salary-by-agreement",className:"text-sm font-normal cursor-pointer text-gray-900 dark:text-gray-100",children:i.jobs.byAgreement})]})]})};function RMe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function IMe(e,t=[]){let r=[];function n(s,i){const l=p.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:g,...v}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:y,children:g})};u.displayName=s+"Provider";function d(f,h){var m;const g=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,v=p.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,MMe(a,...t)]}function MMe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Lm=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},LMe=mf[" useInsertionEffect ".trim().toString()]||Lm;function DMe({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,i]=FMe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const h=BMe(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else s(d)},[l,e,s,i]);return[c,u]}function FMe({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),a=p.useRef(r),s=p.useRef(t);return LMe(()=>{s.current=t},[t]),p.useEffect(()=>{var i;a.current!==r&&((i=s.current)==null||i.call(s,r),a.current=r)},[r,a]),[r,n,s]}function BMe(e){return typeof e=="function"}function d3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function TW(...e){return t=>{let r=!1;const n=e.map(a=>{const s=d3(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():d3(e[a],null)}}}}function OW(...e){return p.useCallback(TW(...e),e)}function UMe(e){const t=zMe(e),r=p.forwardRef((n,a)=>{const{children:s,...i}=n,l=p.Children.toArray(s),c=l.find(WMe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function zMe(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const i=VMe(a),l=HMe(s,a.props);return a.type!==p.Fragment&&(l.ref=n?TW(n,i):i),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qMe=Symbol("radix.slottable");function WMe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qMe}function HMe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function VMe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var KMe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],EP=KMe.reduce((e,t)=>{const r=UMe(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function GMe(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var $W=e=>{const{present:t,children:r}=e,n=JMe(t),a=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),s=OW(n.ref,YMe(a));return typeof r=="function"||n.isPresent?p.cloneElement(a,{ref:s}):null};$W.displayName="Presence";function JMe(e){const[t,r]=p.useState(),n=p.useRef(null),a=p.useRef(e),s=p.useRef("none"),i=e?"mounted":"unmounted",[l,c]=GMe(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=$v(n.current);s.current=l==="mounted"?u:"none"},[l]),Lm(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,g=$v(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Lm(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const m=$v(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&m&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=g=>{g.target===t&&(s.current=$v(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function $v(e){return(e==null?void 0:e.animationName)||"none"}function YMe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var XMe=mf[" useId ".trim().toString()]||(()=>{}),QMe=0;function ZMe(e){const[t,r]=p.useState(XMe());return Lm(()=>{e||r(n=>n??String(QMe++))},[e]),e||(t?`radix-${t}`:"")}var gw="Collapsible",[e3e,PFe]=IMe(gw),[t3e,NP]=e3e(gw),RW=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:s,onOpenChange:i,...l}=e,[c,u]=DMe({prop:n,defaultProp:a??!1,onChange:i,caller:gw});return o.jsx(t3e,{scope:r,disabled:s,contentId:ZMe(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:o.jsx(EP.div,{"data-state":PP(c),"data-disabled":s?"":void 0,...l,ref:t})})});RW.displayName=gw;var IW="CollapsibleTrigger",MW=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=NP(IW,r);return o.jsx(EP.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":PP(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:RMe(e.onClick,a.onOpenToggle)})});MW.displayName=IW;var CP="CollapsibleContent",LW=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=NP(CP,e.__scopeCollapsible);return o.jsx($W,{present:r||a.open,children:({present:s})=>o.jsx(r3e,{...n,ref:t,present:s})})});LW.displayName=CP;var r3e=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...s}=e,i=NP(CP,r),[l,c]=p.useState(n),u=p.useRef(null),d=OW(t,u),f=p.useRef(0),h=f.current,g=p.useRef(0),v=g.current,m=i.open||l,y=p.useRef(m),x=p.useRef(void 0);return p.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),Lm(()=>{const w=u.current;if(w){x.current=x.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const b=w.getBoundingClientRect();f.current=b.height,g.current=b.width,y.current||(w.style.transitionDuration=x.current.transitionDuration,w.style.animationName=x.current.animationName),c(n)}},[i.open,n]),o.jsx(EP.div,{"data-state":PP(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!m,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:m&&a})});function PP(e){return e?"open":"closed"}var n3e=RW;const OE=n3e,$E=MW,RE=LW,f3=["FULLTIME","PARTTIME","CONTRACTOR","INTERN"],a3e="",h3={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern"},p3=({filters:e,onFiltersChange:t,isMobile:r=!1,userTopSkills:n=[],mobileView:a="main",onMobileViewChange:s,countrySearchQuery:i="",onCountrySearchChange:l})=>{const{t:c}=Gs(),[u,d]=p.useState(!1),[f,h]=p.useState(!1),[g,v]=p.useState(""),m=l&&i!==void 0?i:g,y=N=>{l?l(N):v(N)},x=R.useMemo(()=>{if(!m.trim())return Gr;const N=m.toLowerCase();return Gr.filter(C=>C.name.toLowerCase().includes(N)||C.code.toLowerCase().includes(N))},[m]);p.useEffect(()=>{r&&a!=="country"&&(l?l(""):v("")),!r&&!f&&(l?l(""):v(""))},[a,f,r,l]);const w=N=>{const C=e.jobTypes.includes(N)?e.jobTypes.filter(A=>A!==N):[...e.jobTypes,N];t({...e,jobTypes:C,countries:e.countries||[],datePosted:e.datePosted,skills:e.skills||[]})},b=N=>{const C=e.countries.includes(N)?e.countries.filter(A=>A!==N):[...e.countries,N];t({...e,countries:C,datePosted:e.datePosted,skills:e.skills||[],salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},_=N=>{t({...e,isRemote:N,countries:e.countries||[],datePosted:e.datePosted,skills:e.skills||[],salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},S=N=>{const C=e.skills.includes(N)?e.skills.filter(A=>A!==N):[...e.skills,N];t({...e,skills:C,countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},E=()=>{if(n.length===0)return;const N=n.every(C=>e.skills.includes(C));t(N?{...e,skills:[],countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement}:{...e,skills:n,countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},j=n.length>0&&n.every(N=>e.skills.includes(N)),k=(N,C,A)=>{t({...e,salaryMin:N,salaryMax:C,salaryByAgreement:A})};return r?a==="workType"?o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:o.jsxs("div",{className:"space-y-3",children:[f3.map(N=>{const C=e.jobTypes.includes(N);return o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-3",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0",children:h3[N]||N}),o.jsx(ta,{checked:C,onCheckedChange:()=>w(N),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},N)}),o.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 my-2"}),o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-3",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0",children:"Remote Jobs Only"}),o.jsx(ta,{checked:e.isRemote||!1,onCheckedChange:N=>_(!!N),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]})]})})}):a==="country"?o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden -mx-6 px-6",children:o.jsx("div",{className:"space-y-2",children:x.length===0?o.jsx("div",{className:"py-8 text-center text-sm text-gray-500",children:"No countries found"}):x.map(N=>{const C=e.countries.includes(N.code);return o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-2",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 truncate",children:N.name}),o.jsx(ta,{checked:C,onCheckedChange:()=>b(N.code),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},N.code)})})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:o.jsx(u3,{minSalary:0,maxSalary:2e4,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement,onSalaryChange:k})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s("workType"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.workType}),o.jsx(Ia,{className:"h-4 w-4 text-gray-400"})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s("country"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.country}),o.jsx(Ia,{className:"h-4 w-4 text-gray-400"})]})}),n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Fe,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:c.jobs.interests}),o.jsx("button",{type:"button",onClick:E,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:j?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(N=>{const C=e.skills.includes(N);return o.jsx("button",{type:"button",onClick:()=>S(N),className:`
                      px-4 py-2 rounded-full text-sm font-medium transition-colors border
                      ${C?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                    `,children:N},N)})})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"space-y-3",children:o.jsx(u3,{minSalary:0,maxSalary:2e4,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement,onSalaryChange:k})}),n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Fe,{className:"text-base font-medium dark:text-gray-100",children:c.jobs.interests}),o.jsx("button",{type:"button",onClick:E,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:j?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(N=>{const C=e.skills.includes(N);return o.jsx("button",{type:"button",onClick:()=>S(N),className:`
                    px-4 py-2 rounded-full text-sm font-medium transition-colors border
                    ${C?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                  `,children:N},N)})})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs(OE,{open:u,onOpenChange:d,children:[o.jsxs($E,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${u?"rounded-t-lg":"rounded-lg"}`,children:[o.jsx(Fe,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.workType}),o.jsx(Dd,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${u?"transform rotate-180":""}`})]}),o.jsx(RE,{className:"mt-0",children:o.jsx("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"grid grid-cols-2 gap-3",children:f3.map(N=>{const C=e.jobTypes.includes(N);return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(ta,{checked:C,onCheckedChange:()=>w(N),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:h3[N]||N})]},N)})}),o.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 my-2"}),o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(ta,{checked:e.isRemote||!1,onCheckedChange:N=>_(!!N),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:"Remote Jobs Only"})]})]})})})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs(OE,{open:f,onOpenChange:N=>{h(N),N||y("")},children:[o.jsxs($E,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${f?"rounded-t-lg":"rounded-lg"}`,children:[o.jsx(Fe,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.country}),o.jsx(Dd,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${f?"transform rotate-180":""}`})]}),o.jsx(RE,{className:"mt-0",children:o.jsxs("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:[o.jsx("div",{className:"sticky top-0 z-10 bg-gray-100 dark:bg-[rgb(55,57,60)] p-3 border-b border-gray-300 dark:border-gray-600",children:o.jsxs("div",{className:"relative",children:[o.jsx(oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(ft,{type:"text",placeholder:"Search countries...",value:m,onChange:N=>y(N.target.value),className:"pl-9 pr-3 h-9 text-sm bg-white dark:bg-gray-700"})]})}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-2 gap-2",children:x.length===0?o.jsx("div",{className:"col-span-2 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):x.map(N=>{const C=e.countries.includes(N.code);return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(ta,{checked:C,onCheckedChange:()=>b(N.code),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:N.name})]},N.code)})})})]})})]})})]})},DW=({isOpen:e,onClose:t,filters:r,onFiltersChange:n,onApply:a,onClear:s,userTopSkills:i=[]})=>{const{t:l}=Gs(),c=Ea(),[u,d]=p.useState("main"),[f,h]=p.useState(!1),[g,v]=p.useState(!1),[m,y]=p.useState(""),[x,w]=p.useState("");return R.useMemo(()=>{if(!m.trim())return Gr;const b=m.toLowerCase();return Gr.filter(_=>_.name.toLowerCase().includes(b)||_.code.toLowerCase().includes(b))},[m]),p.useEffect(()=>{e||(h(!1),v(!1),d("main"),w(""))},[e]),c?o.jsx(Un,{open:e,onOpenChange:t,children:o.jsxs(zn,{className:"max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(qn,{className:"flex-shrink-0 border-b border-gray-200",children:o.jsx(Wn,{className:"text-xl font-bold",children:u==="workType"?l.jobs.workType:u==="country"?l.jobs.country:a3e})}),u==="country"&&o.jsx("div",{className:"flex-shrink-0 px-6 py-3 border-b border-gray-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(ft,{type:"text",placeholder:"Search countries...",value:x,onChange:b=>w(b.target.value),className:"pl-9 pr-3 h-9 text-sm"})]})}),o.jsx("div",{className:"px-6 py-6 flex-1 overflow-y-auto min-h-0",children:o.jsx(p3,{filters:r,onFiltersChange:n,isMobile:!0,userTopSkills:i,mobileView:u,onMobileViewChange:d,countrySearchQuery:x,onCountrySearchChange:w})}),u==="main"&&o.jsx(xa,{className:"border-t border-gray-200",children:o.jsxs("div",{className:`flex gap-3 w-full ${s?"justify-between":"justify-end"}`,children:[s&&o.jsx(re,{onClick:()=>{s(),d("main")},variant:"ghost",className:"h-12 px-6 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0 rounded-[18px]",children:l.common.clear}),o.jsx(re,{onClick:()=>{a(),d("main")},className:"h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:l.common.apply})]})}),(u==="workType"||u==="country")&&o.jsx(xa,{className:"border-t border-gray-200",children:o.jsx(re,{onClick:()=>{w(""),d("main")},className:"w-full h-12 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:"Done"})})]})}):o.jsx(kn,{open:e,onOpenChange:t,children:o.jsxs(mn,{className:"max-w-3xl max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(gn,{className:"flex-shrink-0",children:o.jsx(vn,{children:"Filter Jobs"})}),o.jsx("div",{className:"py-4 overflow-y-auto flex-1 min-h-0",children:o.jsx(p3,{filters:r,onFiltersChange:n,isMobile:!1,userTopSkills:i})}),o.jsx(Bn,{className:"flex-shrink-0",children:o.jsxs("div",{className:`flex gap-3 w-full ${s?"justify-between":"justify-end"}`,children:[s&&o.jsx(re,{onClick:()=>{s()},variant:"ghost",className:"w-auto h-10 px-4 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0",children:l.common.clear}),o.jsx(re,{onClick:a,className:"w-auto h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90",children:l.common.apply})]})})]})})},Eo=[{id:"FULLTIME",label:"Full Time"},{id:"PARTTIME",label:"Part Time"},{id:"CONTRACTOR",label:"Contractor"},{id:"INTERN",label:"Intern"}],FW=({selectedWorkTypes:e,onWorkTypesChange:t,placeholder:r="Work types",isRemote:n=!1,onRemoteChange:a})=>{var _;const[s,i]=p.useState(!1),[l,c]=p.useState(e),[u,d]=p.useState(n),f=p.useRef(null);p.useEffect(()=>{s&&(c(e),d(n))},[s,e,n]),p.useEffect(()=>{const S=j=>{f.current&&!f.current.contains(j.target)&&(i(!1),c(e),d(n))},E=j=>{j.key==="Escape"&&(i(!1),c(e),d(n))};return s&&(document.addEventListener("mousedown",S),document.addEventListener("keydown",E)),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("keydown",E)}},[s,e,n]);const h=S=>{l.includes(S)?c(l.filter(E=>E!==S)):c([...l,S])},g=()=>{l.length===Eo.length?c([]):c(Eo.map(S=>S.id))},v=()=>{t(l),a&&a(u),i(!1)},m=l.length===Eo.length,y=e.length===0?r:e.length===1?((_=Eo.find(S=>S.id===e[0]))==null?void 0:_.label)||r:e.length===Eo.length?"All work types":e.map(S=>{var E;return((E=Eo.find(j=>j.id===S))==null?void 0:E.label)||S}).join(", "),x=e.length===0,w=(S,E)=>{S.stopPropagation();const j=e.filter(k=>k!==E);t(j)},b=S=>{S.stopPropagation(),t([])};return o.jsxs("div",{className:"relative w-full max-w-full",ref:f,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full min-w-0",children:[o.jsxs("button",{type:"button",onClick:()=>i(!s),className:de("flex items-center flex-1 min-w-0 h-auto py-0 px-0 text-sm text-left bg-transparent border-0 focus:outline-none focus:ring-0","transition-colors cursor-pointer hover:opacity-80 overflow-hidden",x?"text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-gray-100"),children:[o.jsx(mse,{className:"h-4 w-4 md:h-5 md:w-5 text-breneo-accent flex-shrink-0 mr-2"}),e.length===0?o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:r}):o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:y})]}),e.length>0&&o.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),e.length===1?w(S,e[0]):b(S)},className:"flex-shrink-0 p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded ml-1 transition-all duration-200 animate-in fade-in-0 zoom-in-95","aria-label":e.length===1?"Remove work type":"Remove all work types",children:o.jsx(rn,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 hover:scale-110"})})]}),s&&o.jsxs("div",{className:de("absolute top-full left-0 mt-2 w-[calc(100vw-2rem)] md:w-[320px] rounded-lg shadow-lg border z-[9999] max-h-[400px] flex flex-col overflow-hidden","bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","min-w-[280px]"),children:[o.jsxs("div",{className:de("flex items-center justify-between px-4 py-3 border-b","border-gray-200 dark:border-gray-700"),children:[o.jsx("h3",{className:de("font-bold text-base","text-gray-900 dark:text-gray-100"),children:"Work Types"}),o.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),i(!1)},className:de("p-1 rounded transition-colors","hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Close",children:o.jsx(rn,{className:de("h-5 w-5","text-gray-900 dark:text-gray-100")})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[o.jsxs("div",{className:de("flex items-center px-4 py-3 cursor-pointer transition-colors border-b","hover:bg-gray-50 dark:hover:bg-gray-700/50","border-gray-100 dark:border-gray-700"),onClick:S=>{S.stopPropagation(),g()},children:[o.jsx(ta,{checked:m,onCheckedChange:S=>{c(S?Eo.map(E=>E.id):[])},className:"mr-3"}),o.jsx("span",{className:de("text-sm","text-gray-900 dark:text-gray-100"),children:"Select All"})]}),Eo.map(S=>{const E=l.includes(S.id);return o.jsxs("div",{className:de("flex items-center px-4 py-3 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:j=>{j.stopPropagation(),h(S.id)},children:[o.jsx(ta,{checked:E,onCheckedChange:j=>{c(j?[...l,S.id]:l.filter(k=>k!==S.id))},className:"mr-3"}),o.jsx("span",{className:de("text-sm","text-gray-900 dark:text-gray-100"),children:S.label})]},S.id)}),a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:de("border-t","border-gray-100 dark:border-gray-700")}),o.jsxs("div",{className:de("flex items-center px-4 py-3 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:S=>{S.stopPropagation(),d(!u)},children:[o.jsx(ta,{checked:u,onCheckedChange:S=>{d(!!S)},className:"mr-3"}),o.jsx("span",{className:de("text-sm","text-gray-900 dark:text-gray-100"),children:"Remote Jobs Only"})]})]})]}),o.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-white dark:bg-gray-800 sticky bottom-0 z-10",children:o.jsx(re,{onClick:S=>{S.stopPropagation(),v()},className:"w-full",children:"Save"})})]})]})},No={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern",INTERNSHIP:"Internship"},k_=e=>{const t=[],r=[e.job_title||e.title||"",e.description||"",e.job_description||"",e.job_required_experience||e.required_experience||""].join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]};return Object.keys(n).forEach(a=>{n[a].some(i=>r.includes(i))&&t.push(a)}),[...new Set(t)]},E_=(e,t)=>{if(t.length===0)return 50;if(e.length===0)return 0;const r=l=>l.toLowerCase().trim().replace(/\s+/g," "),n=e.map(r),a=t.map(r),s=n.filter(l=>a.some(c=>!!(l===c||l.includes(c)||c.includes(l)))),i=Math.round(s.length/a.length*100);return Math.min(i,100)},m3=e=>e===void 0||e<=0?"":e>=85?"Best match":e>=70?"Good match":e>=50?"Fair match":"Poor match",s3e=async(e=1)=>{try{console.log(` fetchInternshipJobs called - fetching internship jobs page ${e}`);const t=await fs.fetchActiveJobs({query:"intern intern internship",filters:{country:void 0,countries:[],jobTypes:["INTERN"],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:e,pageSize:12});if(!t||!Array.isArray(t.jobs))return console.warn("Invalid response format from job service:",t),{jobs:[],hasMore:!1,total:0};const r=t.jobs.filter(n=>{const a=n.job_id||n.id;return a&&a.trim()!==""});return{jobs:r,hasMore:t.hasMore??!1,total:r.length}}catch(t){return console.error("Error fetching internship jobs:",t),{jobs:[],hasMore:!1,total:0}}},i3e=async(e=1,t=[])=>{var r,n;try{console.log(` fetchRemoteJobs called - fetching remote jobs page ${e} with skills:`,t);const a=t.length>0?"":"remote",s=await fs.fetchActiveJobs({query:a,filters:{country:void 0,countries:[],jobTypes:[],isRemote:!0,datePosted:void 0,skills:t.length>0?t:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:e,pageSize:12});if(console.log(" fetchRemoteJobs response:",{totalJobs:((r=s.jobs)==null?void 0:r.length)||0,hasMore:s.hasMore,sampleJob:((n=s.jobs)==null?void 0:n[0])||null}),!s||!Array.isArray(s.jobs))return console.warn("Invalid response format from job service:",s),{jobs:[],hasMore:!1,total:0};const i=s.jobs.filter(l=>{const c=l.job_id||l.id;return c&&c.trim()!==""});return console.log(` fetchRemoteJobs: ${i.length} valid remote jobs found`),{jobs:i,hasMore:s.hasMore??!1,total:i.length}}catch(a){return console.error(" Error fetching remote jobs:",a),{jobs:[],hasMore:!1,total:0}}},g3="jobsFilters",o3e=(e,t,r)=>{try{sessionStorage.setItem(e,JSON.stringify({filters:t,search:r}))}catch(n){console.error("Error saving filters to session storage:",n)}},l3e=e=>{try{const t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading filters from session storage:",t)}return null},c3e=()=>{const{user:e}=br(),t=za(),r=Ea(),n=hr(),[a,s]=Hx(),[i,l]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState(!0),h=R.useRef(!1),[g,v]=p.useState(1),[m,y]=p.useState([]),[x,w]=p.useState(!1),[b,_]=p.useState(!1),[S,E]=p.useState(1),[j,k]=p.useState([]),[N,C]=p.useState(!1),[A,I]=p.useState(!1),[B,z]=p.useState(1),[M,$]=p.useState([]),[F,O]=p.useState(!1),[L,Q]=p.useState(!1);p.useCallback((P,U,be)=>{const Ge=new URLSearchParams;U&&Ge.set("search",U),P.countries.length>0&&Ge.set("countries",P.countries.join(",")),P.skills.length>0&&Ge.set("skills",P.skills.join(",")),P.jobTypes.length>0&&Ge.set("jobTypes",P.jobTypes.join(",")),P.isRemote&&Ge.set("isRemote","true"),P.datePosted&&P.datePosted!=="all"&&Ge.set("datePosted",P.datePosted),be>1&&Ge.set("page",String(be)),s(Ge,{replace:!0}),o3e(g3,P,U)},[s]);const[T,D]=p.useState(()=>({country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1})),[Y,q]=p.useState(()=>{const P=a.get("search");if(P)return P;const U=l3e(g3);return U&&U.search?U.search:""}),[ie,le]=p.useState(T),K=P=>{let U=0;return P.countries.length>0&&(U+=P.countries.length),P.jobTypes.length>0&&(U+=P.jobTypes.length),P.isRemote&&(U+=1),P.datePosted&&(U+=1),P.skills.length>0&&(U+=P.skills.length),(P.salaryMin!==void 0||P.salaryMax!==void 0)&&(U+=1),P.salaryByAgreement&&(U+=1),U};p.useEffect(()=>{i&&le(T)},[i,T]),p.useEffect(()=>{const P=new URLSearchParams(a);P.delete("countries"),P.delete("country"),P.delete("skills"),P.delete("jobTypes"),P.delete("isRemote"),P.delete("datePosted"),P.delete("page"),P.toString()!==a.toString()&&s(P,{replace:!0})},[]),p.useEffect(()=>{(async()=>{if(!e){f(!1);return}try{f(!0);try{const be=await Ce.get("/api/skilltest/results/");if(be.data&&Array.isArray(be.data)&&be.data.length>0){const xt=be.data[0].skills_json,we=[];xt!=null&&xt.tech&&we.push(...Object.keys(xt.tech));const jt=mp(we).slice(0,5);u(jt),f(!1);return}}catch{console.log("API endpoint not available, trying Supabase...")}const U=await Jc(String(e.id));if(U&&U.length>0){const be=Yc(U),xt=bb(be,10).map(jt=>jt.skill),Ve=mp(xt).slice(0,5);u(Ve)}}catch(U){console.error("Error fetching user skills:",U)}finally{f(!1)}})()},[e]),p.useEffect(()=>{h.current=!1},[e==null?void 0:e.id]),p.useEffect(()=>{!d&&c.length>0&&!h.current&&(D(P=>({...P,skills:[...c]})),le(P=>({...P,skills:[...c]})),h.current=!0)},[d,c,e==null?void 0:e.id]);const{data:Z=[]}=ir({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var P;if(!e)return[];try{return(((P=(await Ce.get(mt.AUTH.PROFILE)).data)==null?void 0:P.saved_jobs)||[]).map(Ge=>String(Ge))}catch(U){return console.error("Error fetching saved jobs from profile API:",U),[]}},enabled:!!e});p.useMemo(()=>mp(T.skills||[]),[T.skills]),p.useMemo(()=>JSON.stringify({countries:T.countries.sort(),skills:T.skills.sort(),jobTypes:T.jobTypes.sort(),isRemote:T.isRemote,datePosted:T.datePosted,salaryMin:T.salaryMin,salaryMax:T.salaryMax,salaryByAgreement:T.salaryByAgreement}),[T]);const{data:H={jobs:[],hasMore:!1,total:0},isLoading:X,error:ce}=ir({queryKey:["latestJobs",g],queryFn:async()=>{const P=await fs.fetchActiveJobs({query:"",filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:g,pageSize:50});if(!P||!Array.isArray(P.jobs))return{jobs:[],hasMore:!1,total:0};const U=P.jobs.filter(be=>{const Ge=be.job_id||be.id;return Ge&&Ge.trim()!==""});return{jobs:U,hasMore:P.hasMore??!1,total:U.length}},refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!0}),{data:J={jobs:[],hasMore:!1,total:0},isLoading:oe,error:ne}=ir({queryKey:["internshipJobs",S],queryFn:()=>s3e(S),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!0}),{data:he={jobs:[],hasMore:!1,total:0},isLoading:fe,error:_e}=ir({queryKey:["remoteJobs",B,c.join(",")],queryFn:()=>i3e(B,c),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!d});p.useEffect(()=>{if(H.jobs&&H.jobs.length>0){const P=gp(H.jobs),U=xi(P);y(g===1?U:be=>{const Ge=new Set(be.map(we=>we.job_id||we.id)),xt=U.filter(we=>!Ge.has(we.job_id||we.id));return[...be,...xt]}),w(H.hasMore),_(!1)}else g===1&&(y([]),w(!1))},[H,g]),p.useEffect(()=>{if(J.jobs&&J.jobs.length>0){const P=gp(J.jobs),U=xi(P);k(S===1?U:be=>{const Ge=new Set(be.map(we=>we.job_id||we.id)),xt=U.filter(we=>!Ge.has(we.job_id||we.id));return[...be,...xt]}),C(J.hasMore),I(!1)}else S===1&&(k([]),C(!1))},[J,S]),p.useEffect(()=>{if(he.jobs&&he.jobs.length>0){const P=gp(he.jobs),U=xi(P);$(B===1?U:be=>{const Ge=new Set(be.map(we=>we.job_id||we.id)),xt=U.filter(we=>!Ge.has(we.job_id||we.id));return[...be,...xt]}),O(he.hasMore),Q(!1)}else B===1&&($([]),O(!1))},[he,B]);const W=m,te=j;p.useCallback(()=>{_(!0),v(P=>P+1)},[]),p.useCallback(()=>{I(!0),E(P=>P+1)},[]),p.useCallback(()=>{Q(!0),z(P=>P+1)},[]);const je=p.useCallback(()=>{const P=new URLSearchParams;Y.trim()&&P.set("search",Y.trim()),T.countries.length>0&&P.set("countries",T.countries.join(",")),T.skills.length>0&&P.set("skills",T.skills.join(",")),T.jobTypes.length>0&&P.set("jobTypes",T.jobTypes.join(",")),T.isRemote&&P.set("isRemote","true"),T.datePosted&&P.set("datePosted",T.datePosted),T.salaryMin!==void 0&&P.set("salaryMin",String(T.salaryMin)),T.salaryMax!==void 0&&P.set("salaryMax",String(T.salaryMax)),T.salaryByAgreement&&P.set("salaryByAgreement","true"),n(`/jobs/search?${P.toString()}`)},[Y,T,n]),me=P=>{q(P)},pe=P=>{P.key==="Enter"&&je()},Re=Hs({mutationFn:async P=>{if(!e)throw new Error("User not logged in");if(!P.id)throw new Error("Job ID is required");const U=String(P.id);P.is_saved;try{const be=`${mt.JOBS.SAVE_JOB}${U}/`;await Ce.post(be)}catch(be){const Ge=be instanceof Error?be.message:"Failed to save job. Please try again.";throw new Error(Ge)}},onSuccess:(P,U)=>{t.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),t.invalidateQueries({queryKey:["profile"]}),ue.success(U.is_saved?"Job Unsaved":"Job Saved")},onError:P=>{console.error("Error saving job:",P);const U=P instanceof Error?P.message:"Failed to save job";ue.error(U)}}),ze=R.useMemo(()=>{if(!W||W.length===0)return[];try{return(W||[]).map(P=>{const U=P.company&&typeof P.company=="object"?P.company:null,be=P.job_id||P.id||"";if(!be||be.trim()==="")return console.warn("Skipping job without valid ID:",P),null;const Ge=P.job_title||P.title||P.position||"Untitled Position",xt=(U==null?void 0:U.name)||(U==null?void 0:U.company_name)||P.companyName||P.employer_name||P.company_name||(typeof P.company=="string"?P.company:null)||"Unknown Company",we=P.job_city||P.city||(U==null?void 0:U.city)||"",Ve=P.job_state||P.state||(U==null?void 0:U.state)||"",jt=P.job_country||P.country||(U==null?void 0:U.country)||"",wt=P.jobLocation||P.location||(U==null?void 0:U.location)||[we,Ve,jt].filter(Boolean).join(", ")||"Location not specified",Tt=P.applyUrl||P.jobUrl||P.job_apply_link||P.apply_link||P.url||P.apply_url||P.company_url||(U==null?void 0:U.url)||"";let Te;if(P.companyLogo&&(Te=P.companyLogo),!Te&&P.employer_logo&&(Te=P.employer_logo),!Te&&P.company_logo&&(Te=P.company_logo),!Te&&P.logo&&(Te=P.logo),!Te&&P.logo_url&&(Te=P.logo_url),!Te&&U&&(U.logo&&(Te=U.logo),!Te&&U.logo_url&&(Te=U.logo_url),!Te&&U.company_logo&&(Te=U.company_logo),!Te&&U.employer_logo&&(Te=U.employer_logo)),!Te&&P.employer&&typeof P.employer=="object"){const Qe=P.employer;Qe.logo&&(Te=Qe.logo),!Te&&Qe.logo_url&&(Te=Qe.logo_url),!Te&&Qe.company_logo&&(Te=Qe.company_logo),!Te&&Qe.employer_logo&&(Te=Qe.employer_logo)}if(Te)try{new URL(Te).protocol.startsWith("http")||(Te=void 0)}catch{Te=void 0}let Ft="By agreement";const Ct=P.job_min_salary||P.min_salary,ae=P.job_max_salary||P.max_salary,xe=P.job_salary_currency||P.salary_currency||"$",Ue=P.job_salary_period||P.salary_period||"yearly";if(Ct&&ae&&typeof Ct=="number"&&typeof ae=="number"){const Qe=Ue==="monthly"?"Monthly":"",_t=Ct.toLocaleString(),yt=ae.toLocaleString();["$","","","","",""].some(kr=>xe.includes(kr))?Ft=`${xe}${_t} - ${xe}${yt}${Qe?`/${Qe}`:""}`:Ft=`${_t} - ${yt} ${xe}${Qe?`/${Qe}`:""}`}else if(Ct&&typeof Ct=="number"){const Qe=Ct.toLocaleString();Ft=["$","","","","",""].some(St=>xe.includes(St))?`${xe}${Qe}+`:`${Qe}+ ${xe}`}else P.salary&&typeof P.salary=="string"&&(Ft=P.salary);const Ee=P.job_employment_type||P.employment_type||P.type||"FULLTIME",rt=Ee.toUpperCase(),ct=No[rt]||No[Ee]||Ee||"Full time";let Ye="On-site";P.job_is_remote||P.is_remote||P.remote===!0?Ye="Remote":Ge!=null&&Ge.toLowerCase().includes("hybrid")&&(Ye="Hybrid");const dt=k_(P),Le=E_(c,dt);return{id:be,title:Ge,company:xt,location:wt,url:Tt,company_logo:Te,is_saved:Z==null?void 0:Z.includes(String(be)),salary:Ft,employment_type:ct,work_arrangement:Ye,matchPercentage:Le}}).filter(P=>P!==null)}catch(P){return console.error("Error transforming jobs:",P),[]}},[W,Z,c]),ot=p.useMemo(()=>{console.log(" Processing latest jobs - total jobs:",ze.length);const be=[...ze].sort((Ge,xt)=>{const we=m.find(Tt=>(Tt.job_id||Tt.id)===Ge.id),Ve=m.find(Tt=>(Tt.job_id||Tt.id)===xt.id),jt=(we==null?void 0:we.posted_at)||(we==null?void 0:we.date_posted)||(we==null?void 0:we.fetched_at)||"",wt=(Ve==null?void 0:Ve.posted_at)||(Ve==null?void 0:Ve.date_posted)||(Ve==null?void 0:Ve.fetched_at)||"";if(jt&&wt)try{const Tt=new Date(jt).getTime();return new Date(wt).getTime()-Tt}catch{return 0}return!jt&&wt?1:jt&&!wt?-1:0}).slice(0,9);return console.log(` Displaying ${be.length} latest jobs (sorted by date)`),be},[ze,m]),Ze=R.useMemo(()=>{if(!te||te.length===0)return[];try{return(te||[]).map(P=>{const U=P.company&&typeof P.company=="object"?P.company:null,be=P.job_id||P.id||"";if(!be||be.trim()==="")return console.warn("Skipping internship job without valid ID:",P),null;const Ge=P.job_title||P.title||P.position||"Untitled Position",xt=(U==null?void 0:U.name)||(U==null?void 0:U.company_name)||P.companyName||P.employer_name||P.company_name||(typeof P.company=="string"?P.company:null)||"Unknown Company",we=P.job_city||P.city||(U==null?void 0:U.city)||"",Ve=P.job_state||P.state||(U==null?void 0:U.state)||"",jt=P.job_country||P.country||(U==null?void 0:U.country)||"",wt=P.jobLocation||P.location||(U==null?void 0:U.location)||[we,Ve,jt].filter(Boolean).join(", ")||"Location not specified",Tt=P.applyUrl||P.jobUrl||P.job_apply_link||P.apply_link||P.url||P.apply_url||P.company_url||(U==null?void 0:U.url)||"";let Te;if(P.companyLogo&&(Te=P.companyLogo),!Te&&P.employer_logo&&(Te=P.employer_logo),!Te&&P.company_logo&&(Te=P.company_logo),!Te&&P.logo&&(Te=P.logo),!Te&&P.logo_url&&(Te=P.logo_url),!Te&&U&&(U.logo&&(Te=U.logo),!Te&&U.logo_url&&(Te=U.logo_url),!Te&&U.company_logo&&(Te=U.company_logo),!Te&&U.employer_logo&&(Te=U.employer_logo)),Te)try{new URL(Te).protocol.startsWith("http")||(Te=void 0)}catch{Te=void 0}let Ft="By agreement";const Ct=P.job_min_salary||P.min_salary,ae=P.job_max_salary||P.max_salary,xe=P.job_salary_currency||P.salary_currency||"$",Ue=P.job_salary_period||P.salary_period||"yearly";if(Ct&&ae&&typeof Ct=="number"&&typeof ae=="number"){const Qe=Ue==="monthly"?"Monthly":"",_t=Ct.toLocaleString(),yt=ae.toLocaleString();["$","","","","",""].some(kr=>xe.includes(kr))?Ft=`${xe}${_t} - ${xe}${yt}${Qe?`/${Qe}`:""}`:Ft=`${_t} - ${yt} ${xe}${Qe?`/${Qe}`:""}`}else if(Ct&&typeof Ct=="number"){const Qe=Ct.toLocaleString();Ft=["$","","","","",""].some(St=>xe.includes(St))?`${xe}${Qe}+`:`${Qe}+ ${xe}`}else P.salary&&typeof P.salary=="string"&&(Ft=P.salary);const Ee=P.job_employment_type||P.employment_type||P.type||"INTERN",rt=Ee.toUpperCase(),ct=No[rt]||No[Ee]||Ee||"Intern";let Ye="On-site";P.job_is_remote||P.is_remote||P.remote===!0?Ye="Remote":Ge!=null&&Ge.toLowerCase().includes("hybrid")&&(Ye="Hybrid");const dt=k_(P),Le=E_(c,dt);return{id:be,title:Ge,company:xt,location:wt,url:Tt,company_logo:Te,is_saved:Z==null?void 0:Z.includes(String(be)),salary:Ft,employment_type:ct,work_arrangement:Ye,matchPercentage:Le}}).filter(P=>P!==null)}catch(P){return console.error("Error transforming internship jobs:",P),[]}},[te,Z,c]),Ke=p.useMemo(()=>Ze,[Ze]),Me=R.useMemo(()=>{if(!M||M.length===0)return[];try{return(M||[]).map(P=>{const U=P.company&&typeof P.company=="object"?P.company:null,be=P.job_id||P.id||"";if(!be||be.trim()==="")return console.warn("Skipping remote job without valid ID:",P),null;const Ge=P.job_title||P.title||P.position||"Untitled Position",xt=(U==null?void 0:U.name)||(U==null?void 0:U.company_name)||P.companyName||P.employer_name||P.company_name||(typeof P.company=="string"?P.company:null)||"Unknown Company",we=P.job_city||P.city||(U==null?void 0:U.city)||"",Ve=P.job_state||P.state||(U==null?void 0:U.state)||"",jt=P.job_country||P.country||(U==null?void 0:U.country)||"",wt=P.jobLocation||P.location||(U==null?void 0:U.location)||[we,Ve,jt].filter(Boolean).join(", ")||"Remote",Tt=P.applyUrl||P.jobUrl||P.job_apply_link||P.apply_link||P.url||P.apply_url||P.company_url||(U==null?void 0:U.url)||"";let Te;if(P.companyLogo&&(Te=P.companyLogo),!Te&&P.employer_logo&&(Te=P.employer_logo),!Te&&P.company_logo&&(Te=P.company_logo),!Te&&P.logo&&(Te=P.logo),!Te&&P.logo_url&&(Te=P.logo_url),!Te&&U&&(U.logo&&(Te=U.logo),!Te&&U.logo_url&&(Te=U.logo_url),!Te&&U.company_logo&&(Te=U.company_logo),!Te&&U.employer_logo&&(Te=U.employer_logo)),Te)try{new URL(Te).protocol.startsWith("http")||(Te=void 0)}catch{Te=void 0}let Ft="By agreement";const Ct=P.job_min_salary||P.min_salary,ae=P.job_max_salary||P.max_salary,xe=P.job_salary_currency||P.salary_currency||"$",Ue=P.job_salary_period||P.salary_period||"yearly";if(Ct&&ae&&typeof Ct=="number"&&typeof ae=="number"){const Le=Ue==="monthly"?"Monthly":"",Qe=Ct.toLocaleString(),_t=ae.toLocaleString();["$","","","","",""].some(Ot=>xe.includes(Ot))?Ft=`${xe}${Qe} - ${xe}${_t}${Le?`/${Le}`:""}`:Ft=`${Qe} - ${_t} ${xe}${Le?`/${Le}`:""}`}else if(Ct&&typeof Ct=="number"){const Le=Ct.toLocaleString();Ft=["$","","","","",""].some(yt=>xe.includes(yt))?`${xe}${Le}+`:`${Le}+ ${xe}`}else P.salary&&typeof P.salary=="string"&&(Ft=P.salary);const Ee=P.job_employment_type||P.employment_type||P.type||"FULLTIME",rt=Ee.toUpperCase(),ct=No[rt]||No[Ee]||Ee||"Full time",Ye="Remote",De=k_(P),dt=E_(c,De);return{id:be,title:Ge,company:xt,location:wt,url:Tt,company_logo:Te,is_saved:Z==null?void 0:Z.includes(String(be)),salary:Ft,employment_type:ct,work_arrangement:Ye,matchPercentage:dt}}).filter(P=>P!==null)}catch(P){return console.error("Error transforming remote jobs:",P),[]}},[M,Z,c]),G=p.useMemo(()=>Me.filter(P=>{var U,be;return((U=P.employment_type)==null?void 0:U.toLowerCase())!=="intern"&&((be=P.employment_type)==null?void 0:be.toLowerCase())!=="internship"}),[Me]);p.useEffect(()=>{console.log(" Job API Endpoint: https://breneo-job-aggregator.onrender.com/api/"),console.log(" JobsPage State:",{isLoading:X,isLoadingInternships:oe,isLoadingRemote:fe,error:ce==null?void 0:ce.message,internshipError:ne==null?void 0:ne.message,remoteError:_e==null?void 0:_e.message,jobsCount:W.length,internshipJobsRawCount:te.length,transformedJobsCount:ze.length,transformedInternshipJobsCount:Ze.length,transformedRemoteJobsCount:Me.length,regularJobsCount:ot.length,internJobsCount:Ke.length,remoteJobsCount:G.length,regularJobsPage:g,internshipJobsPage:S,remoteJobsPage:B,hasMoreRegularJobs:x,hasMoreInternshipJobs:N,hasMoreRemoteJobs:F,isLoadingMoreRegular:b,isLoadingMoreInternship:A,isLoadingMoreRemote:L})},[X,oe,fe,ce,ne,_e,W.length,te.length,ze.length,Ze.length,Me.length,ot.length,Ke.length,G.length,g,S,B,x,N,F,b,A,L]);const V=p.useCallback((P,U)=>{const be=new URLSearchParams;U&&be.set("search",U),P.countries.length>0&&be.set("countries",P.countries.join(",")),P.skills.length>0&&be.set("skills",P.skills.join(",")),P.jobTypes.length>0&&be.set("jobTypes",P.jobTypes.join(",")),P.isRemote&&be.set("isRemote","true"),P.datePosted&&be.set("datePosted",P.datePosted),n(`/jobs/search?${be.toString()}`)},[n]),se=P=>{const U={...T,jobTypes:P};D(U),le(U)},ke=P=>{const U={...T,isRemote:P};D(U),le(U)},Be=P=>{const U={...T,skills:T.skills.filter(be=>be!==P)};D(U),le(U),V(U,Y)},it=P=>{const U={...T,countries:T.countries.filter(be=>be!==P)};D(U),le(U),V(U,Y)},ut=P=>{const U=T.jobTypes.filter(Ge=>Ge!==P),be={...T,jobTypes:U};D(be),le(be),V(be,Y)},Ie=()=>{const P={...T,isRemote:!1};D(P),le(P),V(P,Y)},lt=()=>{console.log(" Applying filters:",ie),D(ie),l(!1),V(ie,Y)},ve=()=>{const P={country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1};le(P),D(P),l(!1)},Ae=async P=>{try{return(await fs.fetchActiveJobs({query:P,filters:{country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[P]},page:1,pageSize:50})).jobs.length}catch(U){return console.error(`Error fetching job count for skill ${P}:`,U),0}};return ir({queryKey:["skillJobCounts",c.join(",")],queryFn:async()=>{const P={};return await Promise.all(c.map(async U=>{P[U]=await Ae(U)})),P},enabled:c.length>0&&!d,staleTime:5*60*1e3,refetchOnWindowFocus:!1}),o.jsxs(Dt,{children:[o.jsx(sC,{}),o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:o.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] border-2 border-breneo-accent dark:border-gray-600 rounded-3xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-2.5 md:py-3 overflow-visible min-h-[3rem]",children:[o.jsx(ln,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),o.jsx(ft,{placeholder:"",value:Y,onChange:P=>me(P.target.value),onKeyDown:pe,className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(FW,{selectedWorkTypes:T.jobTypes,onWorkTypesChange:se,isRemote:T.isRemote,onRemoteChange:ke,placeholder:" "})})]}),(()=>{const P=K(T);return o.jsxs(re,{variant:"outline",size:"icon",onClick:()=>l(!0),className:"h-10 w-10 flex-shrink-0 bg-gray-100 dark:bg-gray-700 border-0 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md ml-2 relative","aria-label":"Filter jobs",children:[o.jsx(LN,{className:"h-4 w-4",strokeWidth:2}),P>0&&o.jsx(or,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:P})]})})(),o.jsx(re,{variant:"default",size:"icon",onClick:je,className:"h-10 w-10 flex-shrink-0 bg-breneo-blue hover:bg-breneo-blue/90 rounded-md ml-2","aria-label":"Search",children:o.jsx(oo,{className:"h-5 w-5 text-white"})})]})}),T.skills.length>0||T.countries.length>0||T.jobTypes.length>0||T.isRemote||T.datePosted||T.salaryMin!==void 0||T.salaryMax!==void 0||T.salaryByAgreement?o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Active Filters"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[T.skills.map(U=>o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:U}),o.jsx("button",{onClick:()=>Be(U),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${U} filter`,children:o.jsx(rn,{className:"h-4 w-4"})})]},`skill-${U}`)),T.countries.map(U=>{const be=Gr.find(xt=>xt.code===U),Ge=(be==null?void 0:be.name)||U;return o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:Ge}),o.jsx("button",{onClick:()=>it(U),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${Ge} filter`,children:o.jsx(rn,{className:"h-4 w-4"})})]},`country-${U}`)}),T.jobTypes.map(U=>o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:No[U]||U}),o.jsx("button",{onClick:()=>ut(U),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${No[U]||U} filter`,children:o.jsx(rn,{className:"h-4 w-4"})})]},`jobType-${U}`)),T.isRemote&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Remote"}),o.jsx("button",{onClick:Ie,className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Remote filter",children:o.jsx(rn,{className:"h-4 w-4"})})]}),T.datePosted&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:T.datePosted==="today"?"Posted Today":T.datePosted==="week"?"Posted This Week":T.datePosted==="month"?"Posted This Month":`Posted: ${T.datePosted}`}),o.jsx("button",{onClick:()=>{const U={...T,datePosted:void 0};D(U),le(U),V(U,Y)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Date Posted filter",children:o.jsx(rn,{className:"h-4 w-4"})})]}),(T.salaryMin!==void 0||T.salaryMax!==void 0)&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:T.salaryMin!==void 0&&T.salaryMax!==void 0?`$${T.salaryMin} - $${T.salaryMax}`:T.salaryMin!==void 0?`Min: $${T.salaryMin}`:`Max: $${T.salaryMax}`}),o.jsx("button",{onClick:()=>{const U={...T,salaryMin:void 0,salaryMax:void 0};D(U),le(U),V(U,Y)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Salary filter",children:o.jsx(rn,{className:"h-4 w-4"})})]}),T.salaryByAgreement&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Salary By Agreement"}),o.jsx("button",{onClick:()=>{const U={...T,salaryByAgreement:!1};D(U),le(U),V(U,Y)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Salary By Agreement filter",children:o.jsx(rn,{className:"h-4 w-4"})})]})]})]}):null,(ne||_e||ce)&&o.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-md flex items-center gap-3 mb-6",children:[o.jsx(qi,{className:"h-5 w-5"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Error:"})," ",(ce==null?void 0:ce.message)||(ne==null?void 0:ne.message)||(_e==null?void 0:_e.message)]})]}),!X&&ot.length>0&&o.jsxs("section",{className:"mb-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Fd,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Latest Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ot.map(P=>o.jsx(Ne,{className:"group flex flex-col transition-all duration-200 border border-gray-200 hover:border-gray-400 overflow-hidden rounded-3xl cursor-pointer",onClick:()=>{if(!P.id||String(P.id).trim()==="")return;const U=encodeURIComponent(String(P.id));n(`/jobs/${U}`)},children:o.jsxs(Pe,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("div",{className:"flex-shrink-0 relative w-10 h-10",children:P.company_logo?o.jsx("img",{src:P.company_logo,alt:`${P.company} logo`,className:"w-10 h-10 rounded-full object-cover border border-gray-200",loading:"lazy"}):o.jsx("div",{className:"w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center",children:o.jsx(ln,{className:"h-5 w-5 text-white"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:P.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:P.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:P.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[P.employment_type&&o.jsx(or,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:P.employment_type}),P.work_arrangement&&o.jsx(or,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:P.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(qd,{value:P.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100",children:m3(P.matchPercentage)})]}),o.jsx(re,{variant:"secondary",size:"icon",onClick:U=>{U.stopPropagation(),Re.mutate(P)},"aria-label":P.is_saved?"Unsave job":"Save job",className:de("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",P.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(aa,{className:de("h-4 w-4 transition-colors",P.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},P.id))})]}),X&&o.jsxs("section",{className:"mb-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Fd,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Latest Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(9)].map((P,U)=>o.jsx(Ne,{className:"border border-gray-200",children:o.jsx(Pe,{className:"p-4",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})})},U))})]}),!fe&&G.length>0&&o.jsxs("section",{className:"mt-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Bd,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Remote Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map(P=>o.jsx(Ne,{className:"group flex flex-col transition-all duration-200 border border-gray-200 hover:border-gray-400 overflow-hidden rounded-3xl cursor-pointer",onClick:()=>{if(!P.id||String(P.id).trim()==="")return;const U=encodeURIComponent(String(P.id));n(`/jobs/${U}`)},children:o.jsxs(Pe,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("div",{className:"flex-shrink-0 relative w-10 h-10",children:P.company_logo?o.jsx("img",{src:P.company_logo,alt:`${P.company} logo`,className:"w-10 h-10 rounded-full object-cover border border-gray-200",loading:"lazy"}):o.jsx("div",{className:"w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center",children:o.jsx(ln,{className:"h-5 w-5 text-white"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:P.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:P.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:P.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[P.employment_type&&o.jsx(or,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:P.employment_type}),P.work_arrangement&&o.jsx(or,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:P.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(qd,{value:P.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700",children:m3(P.matchPercentage)})]}),o.jsx(re,{variant:"secondary",size:"icon",onClick:U=>{U.stopPropagation(),Re.mutate(P)},"aria-label":P.is_saved?"Unsave job":"Save job",className:de("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",P.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(aa,{className:de("h-4 w-4 transition-colors",P.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},P.id))})]})]}),o.jsx(DW,{isOpen:i,onClose:()=>l(!1),filters:ie,onFiltersChange:le,onApply:lt,onClear:ve,userTopSkills:c})]})},BW=({selectedLocations:e,onLocationsChange:t,placeholder:r="Location"})=>{const[n,a]=p.useState(!1),[s,i]=p.useState(""),[l,c]=p.useState(e),u=p.useRef(null);p.useEffect(()=>{n&&c(e)},[n,e]),p.useEffect(()=>{const b=S=>{u.current&&!u.current.contains(S.target)&&(a(!1),c(e))},_=S=>{S.key==="Escape"&&(a(!1),c(e))};return n&&(document.addEventListener("mousedown",b),document.addEventListener("keydown",_)),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("keydown",_)}},[n,e]);const d=p.useMemo(()=>{if(!s.trim())return Gr;const b=s.toLowerCase();return Gr.filter(_=>_.name.toLowerCase().includes(b)||_.code.toLowerCase().includes(b))},[s]),f=b=>{l.includes(b)?c(l.filter(_=>_!==b)):c([...l,b])},h=()=>{l.length===d.length?c([]):c(d.map(b=>b.code))},g=()=>{t(l),a(!1)},v=d.length>0&&d.every(b=>l.includes(b.code)),m=p.useMemo(()=>{var _;return e.length===0?r:e.length===1?((_=Gr.find(S=>S.code===e[0]))==null?void 0:_.name)||r:e.length>3?`${e.length} countries selected`:e.slice(0,3).map(S=>{var E;return((E=Gr.find(j=>j.code===S))==null?void 0:E.name)||S}).join(", ")},[e,r]),y=e.length===0,x=(b,_)=>{b.stopPropagation(),t(e.filter(S=>S!==_))},w=b=>{b.stopPropagation(),t([])};return o.jsxs("div",{className:"relative w-full max-w-full",ref:u,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full min-w-0",children:[o.jsxs("button",{type:"button",onClick:()=>a(!n),className:de("flex items-center flex-1 min-w-0 h-auto py-0 px-0 text-sm text-left bg-transparent border-0 focus:outline-none focus:ring-0","transition-colors cursor-pointer hover:opacity-80 overflow-hidden",y?"text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-gray-100"),children:[o.jsx(Zx,{className:"h-4 w-4 md:h-5 md:w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2"}),e.length===0?o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:r}):o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:m})]}),e.length>0&&o.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),e.length===1?x(b,e[0]):w(b)},className:"flex-shrink-0 p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded ml-1 transition-all duration-200 animate-in fade-in-0 zoom-in-95","aria-label":e.length===1?"Remove location":"Remove all locations",children:o.jsx(rn,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 hover:scale-110"})})]}),n&&o.jsxs("div",{className:de("absolute top-full mt-2 w-[calc(100vw-2rem)] md:w-[400px] rounded-lg shadow-lg border z-[9999] max-h-[500px] flex flex-col overflow-hidden","bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","min-w-[320px]","left-0 md:right-0 md:left-auto"),children:[o.jsxs("div",{className:de("flex items-center justify-between px-4 py-3 border-b","border-gray-200 dark:border-gray-700"),children:[o.jsx("h3",{className:de("font-bold text-base","text-gray-900 dark:text-gray-100"),children:"Countries"}),o.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),a(!1),i("")},className:de("p-1 rounded transition-colors","hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Close",children:o.jsx(rn,{className:de("h-5 w-5","text-gray-900 dark:text-gray-100")})})]}),o.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"relative",children:[o.jsx(oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(ft,{type:"text",placeholder:"Search countries...",value:s,onChange:b=>i(b.target.value),onClick:b=>b.stopPropagation(),className:de("pl-9 pr-3 h-9 text-sm","bg-white dark:bg-gray-800","border-gray-200 dark:border-gray-700","focus-visible:ring-1 focus-visible:ring-breneo-accent")})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[d.length>0&&o.jsxs("div",{className:de("flex items-center px-4 py-3 cursor-pointer transition-colors border-b","hover:bg-gray-50 dark:hover:bg-gray-700/50","border-gray-100 dark:border-gray-700"),onClick:b=>{b.stopPropagation(),h()},children:[o.jsx(ta,{checked:v,onCheckedChange:b=>{if(b)c(d.map(_=>_.code));else{const _=d.map(S=>S.code);c(l.filter(S=>!_.includes(S)))}},className:"mr-3"}),o.jsx("span",{className:de("text-sm","text-gray-900 dark:text-gray-100"),children:"Select All"})]}),d.length===0?o.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):d.map(b=>{const _=l.includes(b.code);return o.jsxs("div",{className:de("flex items-center px-4 py-2.5 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:S=>{S.stopPropagation(),f(b.code)},children:[o.jsx(ta,{checked:_,onCheckedChange:S=>{c(S?[...l,b.code]:l.filter(E=>E!==b.code))},className:"mr-3"}),o.jsx("span",{className:de("text-sm flex-1","text-gray-900 dark:text-gray-100"),children:b.name})]},b.code)})]}),o.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-white dark:bg-gray-800 sticky bottom-0 z-10",children:o.jsx(re,{onClick:b=>{b.stopPropagation(),g()},className:"w-full",children:"Save"})})]})]})},N_={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern"},u3e=e=>{const t=[],r=[e.job_title||e.title||"",e.description||"",e.job_description||"",e.job_required_experience||e.required_experience||""].join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]};return Object.keys(n).forEach(a=>{n[a].some(i=>r.includes(i))&&t.push(a)}),[...new Set(t)]},d3e=(e,t)=>{if(t.length===0)return 50;if(e.length===0)return 0;const r=l=>l.toLowerCase().trim().replace(/\s+/g," "),n=e.map(r),a=t.map(r),s=n.filter(l=>a.some(c=>!!(l===c||l.includes(c)||c.includes(l)))),i=Math.round(s.length/a.length*100);return Math.min(i,100)},f3e=e=>e===void 0||e<=0?"":e>=85?"Best match":e>=70?"Good match":e>=50?"Fair match":"Poor match",h3e=e=>{if(!e)return new Date().toLocaleDateString("ka-GE");try{const t=new Date(e);return isNaN(t.getTime())?new Date().toLocaleDateString("ka-GE"):t.toLocaleDateString("ka-GE")}catch(t){return console.warn("Error parsing date:",e,t),new Date().toLocaleDateString("ka-GE")}},p3e=()=>{const{user:e}=br(),t=hr(),r=za(),[n,a]=Hx(),s=Ea(),[i,l]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState("desc"),h=po(),g=n.get("search")||"",v=parseInt(n.get("page")||"1",10),[m,y]=p.useState(()=>{const W=n.get("countries"),te=n.get("skills"),je=n.get("jobTypes"),me=n.get("isRemote"),pe=n.get("datePosted"),Re=n.get("salaryMin"),ze=n.get("salaryMax"),ot=n.get("salaryByAgreement");return{country:"Georgia",countries:W?W.split(",").filter(Boolean):[],jobTypes:je?je.split(",").filter(Boolean):[],isRemote:me==="true",datePosted:pe||void 0,skills:te?te.split(",").filter(Boolean):[],salaryMin:Re?parseInt(Re,10):void 0,salaryMax:ze?parseInt(ze,10):void 0,salaryByAgreement:ot==="true"}});p.useEffect(()=>{console.log(" JobSearchResultsPage loaded:",{searchTerm:g,page:v,searchParams:n.toString(),activeFilters:m,userTopSkills:c}),console.log(" Job API Endpoint: https://breneo-job-aggregator.onrender.com/api/")},[g,v,n,m,c]),p.useEffect(()=>{const W=n.get("countries"),te=n.get("skills"),je=n.get("jobTypes"),me=n.get("isRemote"),pe=n.get("datePosted"),Re=n.get("salaryMin"),ze=n.get("salaryMax"),ot=n.get("salaryByAgreement");y({country:"Georgia",countries:W?W.split(",").filter(Boolean):[],jobTypes:je?je.split(",").filter(Boolean):[],isRemote:me==="true",datePosted:pe||void 0,skills:te?te.split(",").filter(Boolean):[],salaryMin:Re?parseInt(Re,10):void 0,salaryMax:ze?parseInt(ze,10):void 0,salaryByAgreement:ot==="true"})},[n]);const[x,w]=p.useState(m),b=W=>{let te=0;return W.countries.length>0&&(te+=W.countries.length),W.jobTypes.length>0&&(te+=W.jobTypes.length),W.isRemote&&(te+=1),W.datePosted&&(te+=1),W.skills.length>0&&(te+=W.skills.length),(W.salaryMin!==void 0||W.salaryMax!==void 0)&&(te+=1),W.salaryByAgreement&&(te+=1),te},{data:_=[]}=ir({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var W;if(!e)return[];try{return(((W=(await Ce.get(mt.AUTH.PROFILE)).data)==null?void 0:W.saved_jobs)||[]).map(me=>String(me))}catch(te){return console.error("Error fetching saved jobs:",te),[]}},enabled:!!e});p.useEffect(()=>{(async()=>{if(e)try{try{const je=await Ce.get("/api/skilltest/results/");if(je.data&&Array.isArray(je.data)&&je.data.length>0){const pe=je.data[0].skills_json,Re=[];pe!=null&&pe.tech&&Re.push(...Object.keys(pe.tech)),pe!=null&&pe.soft&&Re.push(...Object.keys(pe.soft));const ze=Re.slice(0,5);u(ze);return}}catch{console.log("API endpoint not available, trying Supabase...")}const te=await Jc(String(e.id));if(te&&te.length>0){const je=Yc(te),pe=bb(je,5).map(Re=>Re.skill);u(pe)}}catch(te){console.error("Error fetching user skills:",te)}})()},[e]);const S=async(W,te,je,me)=>{try{const pe=me.length>0&&te.skills.length>0&&me.every(Ze=>te.skills.includes(Ze))&&te.skills.length===me.length,Re={...te,skills:pe?[]:te.skills},ze=await fs.fetchActiveJobs({query:W||"",filters:Re,page:je,pageSize:12});if(!ze||!Array.isArray(ze.jobs))return{jobs:[],hasMore:!1,total:0};let ot=ze.jobs.filter(Ze=>{const Ke=Ze.job_id||Ze.id;return Ke&&Ke.trim()!==""});return(te.salaryMin!==void 0||te.salaryMax!==void 0||te.salaryByAgreement)&&(ot=ot.filter(Ze=>{const Ke=Ze.job_min_salary||Ze.min_salary,Me=Ze.job_max_salary||Ze.max_salary;return te.salaryByAgreement&&!Ke&&!Me?!0:!Ke&&!Me&&!te.salaryByAgreement?!(te.salaryMin!==void 0||te.salaryMax!==void 0):!(te.salaryMin!==void 0&&Me&&Me<te.salaryMin||te.salaryMax!==void 0&&Ke&&Ke>te.salaryMax)})),te.isRemote&&(ot=ot.filter(Ze=>Ze.job_is_remote||Ze.is_remote||Ze.remote===!0)),{jobs:ot,hasMore:ze.hasMore??!1,total:ze.total??ot.length}}catch(pe){throw console.error("Error fetching jobs:",pe),pe}},E=p.useMemo(()=>JSON.stringify({countries:m.countries.sort(),skills:m.skills.sort(),jobTypes:m.jobTypes.sort(),isRemote:m.isRemote,datePosted:m.datePosted,salaryMin:m.salaryMin,salaryMax:m.salaryMax,salaryByAgreement:m.salaryByAgreement}),[m]),{data:j={jobs:[],hasMore:!1,total:0},isLoading:k,error:N}=ir({queryKey:["job-search",g,E,v,c.join(",")],queryFn:()=>S(g,m,v,c),enabled:!!e,staleTime:5*60*1e3,retry:1}),C=p.useMemo(()=>{const W=j.jobs||[],te=gp(W);return xi(te)},[j.jobs]),A=j.hasMore||!1,I=C.length,B=p.useMemo(()=>!C||C.length===0?[]:C.map(W=>{const te=W.job_id||W.id||"";if(!te||te.trim()==="")return null;const je=W.job_title||W.title||W.position||"Untitled Position",me=W.employer_name||W.company_name||(typeof W.company=="string"?W.company:null)||"Unknown Company",pe=W.job_city||W.city||"",Re=W.job_state||W.state||"",ze=W.job_country||W.country||"",ot=W.job_location||W.location||[pe,Re,ze].filter(Boolean).join(", ")||"Location not specified",Ze=W.job_apply_link||W.apply_link||W.url||W.apply_url||"";let Ke=W.employer_logo||W.company_logo||W.logo||W.logo_url;if(Ke)try{new URL(Ke).protocol.startsWith("http")||(Ke=void 0)}catch{Ke=void 0}let Me="By agreement";const G=W.job_min_salary||W.min_salary,V=W.job_max_salary||W.max_salary,se=W.job_salary_currency||W.salary_currency||"$",ke=W.job_salary_period||W.salary_period||"yearly";if(G&&V&&typeof G=="number"&&typeof V=="number"){const U=ke==="monthly"?"Monthly":"",be=G.toLocaleString(),Ge=V.toLocaleString();["$","","","","",""].some(Ve=>se.includes(Ve))?Me=`${se}${be} - ${se}${Ge}${U?`/${U}`:""}`:Me=`${be} - ${Ge} ${se}${U?`/${U}`:""}`}else if(G&&typeof G=="number"){const U=G.toLocaleString();Me=["$","","","","",""].some(xt=>se.includes(xt))?`${se}${U}+`:`${U}+ ${se}`}else W.salary&&typeof W.salary=="string"&&(Me=W.salary);const Be=W.job_employment_type||W.employment_type||W.type||"FULLTIME",it=N_[Be]||Be||"Full time";let ut="On-site";W.job_is_remote||W.is_remote||W.remote===!0?ut="Remote":je!=null&&je.toLowerCase().includes("hybrid")&&(ut="Hybrid");const lt=u3e(W),ve=d3e(c,lt),Ae=W,P=W.job_posted_at_datetime_utc||W.date_posted||W.posted_date||W.postedAt||W.job_posted_at||Ae.job_publish_timestamp||Ae.publish_time||W.created_at||W.published_at||void 0;return{id:te,title:je,company:me,location:String(ot),url:Ze,company_logo:Ke,is_saved:_==null?void 0:_.includes(String(te)),salary:Me,employment_type:it,work_arrangement:ut,matchPercentage:ve,datePosted:P,jobSkills:lt}}).filter(W=>W!==null),[C,_,c]),z=p.useMemo(()=>[...B].sort((te,je)=>{if(!te.datePosted&&!je.datePosted)return 0;if(!te.datePosted)return 1;if(!je.datePosted)return-1;const me=new Date(te.datePosted).getTime(),pe=new Date(je.datePosted).getTime();return d==="desc"?pe-me:me-pe}),[B,d]),M=Hs({mutationFn:async W=>{if(!e)throw new Error("User not logged in");if(!W.id)throw new Error("Job ID is required");const te=String(W.id);W.is_saved;try{const je=`${mt.JOBS.SAVE_JOB}${te}/`;await Ce.post(je)}catch(je){const me=je instanceof Error?je.message:"Failed to save job. Please try again.";throw new Error(me)}},onSuccess:(W,te)=>{r.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile"]}),ue.success(te.is_saved?"Job Unsaved":"Job Saved")},onError:W=>{console.error("Error saving job:",W);const te=W instanceof Error?W.message:"Failed to save job";ue.error(te)}}),$=p.useCallback((W,te,je)=>{const me=new URLSearchParams;te&&me.set("search",te),je>1&&me.set("page",String(je)),W.countries.length>0&&me.set("countries",W.countries.join(",")),W.skills.length>0&&me.set("skills",W.skills.join(",")),W.jobTypes.length>0&&me.set("jobTypes",W.jobTypes.join(",")),W.isRemote&&me.set("isRemote","true"),W.datePosted&&me.set("datePosted",W.datePosted),W.salaryMin!==void 0&&me.set("salaryMin",String(W.salaryMin)),W.salaryMax!==void 0&&me.set("salaryMax",String(W.salaryMax)),W.salaryByAgreement&&me.set("salaryByAgreement","true"),a(me,{replace:!0})},[a]),F=W=>{$(m,W,1)},O=()=>{y(x),$(x,g,1),l(!1)},L=()=>{const W={country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},te=1;w(W),y(W),$(W,g,te),l(!1)},Q=p.useCallback(W=>{const te={...m,skills:m.skills.filter(je=>je!==W)};y(te),w(te),$(te,g,1)},[m,g,$]),T=p.useCallback(W=>{const te={...m,countries:m.countries.filter(je=>je!==W)};y(te),w(te),$(te,g,1)},[m,g,$]),D=p.useCallback(W=>{const te=m.jobTypes.filter(me=>me!==W),je={...m,jobTypes:te};y(je),w(je),$(je,g,1)},[m,g,$]),Y=p.useCallback(()=>{const W={...m,isRemote:!1};y(W),w(W),$(W,g,1)},[m,g,$]),q=()=>{const W=v+1;$(m,g,W),window.scrollTo({top:0,behavior:"smooth"})},ie=()=>{const W=Math.max(1,v-1);$(m,g,W),window.scrollTo({top:0,behavior:"smooth"})},le=A&&B.length>0,K=v>1,Z=B.length,H=p.useMemo(()=>{const W=[];if(m.skills.forEach(te=>{W.push({id:`skill-${te}`,label:te,onRemove:()=>Q(te),ariaLabel:`Remove ${te} filter`})}),m.countries.forEach(te=>{const je=Gr.find(pe=>pe.code===te),me=(je==null?void 0:je.name)||te;W.push({id:`country-${te}`,label:me,onRemove:()=>T(te),ariaLabel:`Remove ${me} filter`})}),m.jobTypes.forEach(te=>{W.push({id:`jobType-${te}`,label:N_[te]||te,onRemove:()=>D(te),ariaLabel:`Remove ${N_[te]||te} filter`})}),m.isRemote&&W.push({id:"remote",label:"Remote",onRemove:Y,ariaLabel:"Remove Remote filter"}),m.datePosted){const te=m.datePosted==="today"?"Posted Today":m.datePosted==="week"?"Posted This Week":m.datePosted==="month"?"Posted This Month":`Posted: ${m.datePosted}`;W.push({id:"datePosted",label:te,onRemove:()=>{const je={...m,datePosted:void 0};y(je),w(je),$(je,g,1)},ariaLabel:"Remove Date Posted filter"})}if(m.salaryMin!==void 0||m.salaryMax!==void 0){const te=m.salaryMin!==void 0&&m.salaryMax!==void 0?`$${m.salaryMin} - $${m.salaryMax}`:m.salaryMin!==void 0?`Min: $${m.salaryMin}`:`Max: $${m.salaryMax}`;W.push({id:"salaryRange",label:te,onRemove:()=>{const je={...m,salaryMin:void 0,salaryMax:void 0};y(je),w(je),$(je,g,1)},ariaLabel:"Remove Salary filter"})}return m.salaryByAgreement&&W.push({id:"salaryByAgreement",label:"Salary By Agreement",onRemove:()=>{const te={...m,salaryByAgreement:!1};y(te),w(te),$(te,g,1)},ariaLabel:"Remove Salary By Agreement filter"}),W},[m,g,Q,T,D,Y,$]),X=p.useRef(null),[ce,J]=p.useState(H.length),[oe,ne]=p.useState(!1);p.useEffect(()=>{if(H.length===0){J(0),ne(!1);return}J(H.length);const W=()=>{if(!X.current)return;const je=X.current,me=je.scrollHeight,pe=100;if(me>pe){let Re=1,ze=H.length,ot=H.length;const Ze=document.createElement("div");for(Ze.className="flex flex-wrap gap-2",Ze.style.position="absolute",Ze.style.visibility="hidden",Ze.style.width=je.offsetWidth+"px",Ze.style.top="-9999px",document.body.appendChild(Ze);Re<=ze;){const Ke=Math.floor((Re+ze)/2);Ze.innerHTML=H.slice(0,Ke).map(Me=>`<div class="flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700"><span class="text-sm font-medium whitespace-nowrap">${Me.label}</span><button><svg class="h-4 w-4"></svg></button></div>`).join(""),Ze.scrollHeight<=pe?(ot=Ke,Re=Ke+1):ze=Ke-1}document.body.removeChild(Ze),ot<H.length?(J(ot),ne(!0)):(J(H.length),ne(!1))}else J(H.length),ne(!1)},te=requestAnimationFrame(()=>{setTimeout(W,0)});return window.addEventListener("resize",W),()=>{cancelAnimationFrame(te),window.removeEventListener("resize",W)}},[H]);let he=1,fe=Z;if(I>0&&Z>0){const W=(v-1)*Z;he=Math.min(W+1,I),fe=Math.min(W+Z,I)}else Z>0&&(he=1,fe=Z);let _e=null;return I>0&&Z>0?_e=Math.ceil(I/Z):A?_e=v+1:B.length>0&&(_e=v),o.jsx(Dt,{children:o.jsxs("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] border border-gray-300 dark:border-gray-600 rounded-xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-3 md:py-4 overflow-visible min-h-[3.5rem] flex-1",children:[o.jsx(ln,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),o.jsx(ft,{type:"text",placeholder:h.jobs.searchPlaceholder,value:g,onChange:W=>F(W.target.value),className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!s&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(FW,{selectedWorkTypes:m.jobTypes,onWorkTypesChange:W=>{const te={...m,jobTypes:W};y(te),w(te),$(te,g,1)},isRemote:m.isRemote,onRemoteChange:W=>{const te={...m,isRemote:W};y(te),w(te),$(te,g,1)}})}),o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(BW,{selectedLocations:m.countries,onLocationsChange:W=>{const te={...m,countries:W};y(te),w(te),$(te,g,1)}})})]})]}),(()=>{const W=b(m);return o.jsxs(re,{variant:"outline",onClick:()=>l(!0),className:"group flex items-center gap-2 bg-transparent border border-breneo-blue rounded-xl px-4 py-3 md:py-4 hover:bg-breneo-blue hover:text-white text-gray-900 dark:text-gray-100 whitespace-nowrap h-auto relative min-h-[3.5rem] transition-colors","aria-label":"Filter jobs",children:[o.jsx(LN,{className:"h-4 w-4 group-hover:text-white",strokeWidth:2}),o.jsx("span",{className:"hidden md:inline text-sm font-medium",children:h.jobs.filters}),W>0&&o.jsx(or,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:W})]})})()]})}),H.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Active Filters"}),o.jsx("div",{ref:X,className:"flex flex-wrap gap-2",children:H.slice(0,ce).map(W=>o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:W.label}),o.jsx("button",{onClick:W.onRemove,className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":W.ariaLabel,children:o.jsx(rn,{className:"h-4 w-4"})})]},W.id))}),oe&&H.length>ce&&o.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[H.length-ce,"+ filters"]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:I>0?`${I} ${h.jobs.vacancies}`:`${B.length} ${h.jobs.vacancies}`})}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(re,{variant:"outline",size:"sm",className:"h-9 px-2 md:px-3",onClick:()=>{f(W=>W==="desc"?"asc":"desc")},children:[o.jsx("span",{className:"text-xs md:text-sm whitespace-nowrap",children:s?d==="desc"?h.jobs.dateDescending:h.jobs.dateAscending:d==="desc"?h.jobs.dateDescendingFull:h.jobs.dateAscendingFull}),d==="desc"?o.jsx(Zae,{className:"h-4 w-4 ml-1 md:ml-2"}):o.jsx(ese,{className:"h-4 w-4 ml-1 md:ml-2"})]})})]}),k?o.jsx("div",{className:"space-y-4",children:[...Array(6)].map((W,te)=>o.jsx(Ne,{className:"border border-gray-200",children:o.jsx(Pe,{className:"p-4",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})})},te))}):N?o.jsx(Ne,{className:"border border-red-200",children:o.jsx(Pe,{className:"p-6 text-center",children:o.jsx("p",{className:"text-red-600",children:h.jobs.errorLoading})})}):B.length===0?o.jsxs("div",{className:"text-center p-10 border border-dashed rounded-3xl text-muted-foreground",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-travel-front-color.png",alt:"No data found",className:"mx-auto h-48 w-48 mb-4 object-contain"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:h.jobs.noJobs}),o.jsx("p",{className:"text-sm",children:h.jobs.tryAdjustingFilters})]}):o.jsx("div",{className:"space-y-4",children:z.map(W=>o.jsx("div",{className:"group cursor-pointer",onClick:()=>t(`/jobs/${encodeURIComponent(W.id)}`),children:o.jsx(Ne,{className:"border border-gray-200 hover:shadow-md transition-shadow overflow-hidden rounded-lg",children:o.jsx(Pe,{className:s?"px-5 pt-5 pb-4 flex flex-col flex-grow":"p-0",children:s?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("div",{className:"flex-shrink-0 relative w-10 h-10",children:W.company_logo?o.jsx("img",{src:W.company_logo,alt:`${W.company} logo`,className:"w-10 h-10 rounded-full object-cover border border-gray-200",loading:"lazy"}):o.jsx("div",{className:"w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center",children:o.jsx(ln,{className:"h-5 w-5 text-white"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:W.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:W.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:W.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[W.employment_type&&o.jsx(or,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:W.employment_type}),W.work_arrangement&&o.jsx(or,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:W.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(qd,{value:W.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100",children:f3e(W.matchPercentage)})]}),o.jsx(re,{variant:"secondary",size:"icon",onClick:te=>{te.stopPropagation(),M.mutate(W)},"aria-label":W.is_saved?"Unsave job":"Save job",className:de("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",W.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(aa,{className:de("h-4 w-4 transition-colors",W.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]}):o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-1 p-4 pr-2 rounded-l-lg",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[W.company_logo?o.jsx("img",{src:W.company_logo,alt:W.company,className:"w-12 h-12 rounded-md object-cover border border-gray-300 absolute inset-0 z-10",onError:te=>{var pe;const je=te.target;je.style.display="none";const me=(pe=je.parentElement)==null?void 0:pe.querySelector(".logo-fallback");me&&(me.style.display="flex",me.style.zIndex="10")}}):null,o.jsx("div",{className:`w-12 h-12 rounded-md bg-breneo-blue/10 flex items-center justify-center border border-gray-300 logo-fallback absolute inset-0 ${W.company_logo?"z-0":"z-10"}`,style:{display:W.company_logo?"none":"flex"},children:o.jsx(ln,{className:"h-6 w-6 text-breneo-blue"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"mb-1 md:mb-2",children:[o.jsx("h3",{className:"font-normal text-sm text-gray-600 mb-1 line-clamp-1",children:W.company}),o.jsx("h4",{className:"font-bold text-base md:text-lg mb-1 md:mb-2 line-clamp-2 md:line-clamp-3",children:W.title})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Zx,{className:"h-4 w-4"}),o.jsx("span",{children:W.location})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Fd,{className:"h-4 w-4"}),o.jsx("span",{children:W.employment_type})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(ln,{className:"h-4 w-4"}),o.jsx("span",{children:W.work_arrangement})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-gray-500",children:h3e(W.datePosted)}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(re,{variant:"secondary",size:"icon",onClick:te=>{te.stopPropagation(),M.mutate(W)},"aria-label":W.is_saved?"Unsave job":"Save job",className:de("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",W.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(aa,{className:de("h-4 w-4 transition-colors",W.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})}),o.jsx(re,{variant:"default",size:"sm",onClick:te=>{te.stopPropagation(),W.url?window.open(W.url,"_blank"):t(`/jobs/${encodeURIComponent(W.id)}`)},children:"Apply Now"})]})]})]})]})]})}),W.matchPercentage!==void 0&&W.matchPercentage>0&&o.jsxs("div",{className:"w-56 flex-shrink-0 p-4 flex flex-col items-center justify-center relative rounded-2xl bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("button",{onClick:te=>{te.stopPropagation()},className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:o.jsx("span",{className:"text-lg",children:""})})}),o.jsx("div",{className:"mb-3",children:o.jsx(qd,{value:W.matchPercentage,size:60,strokeWidth:3,showLabel:!1,percentageTextSize:"lg",className:"justify-center text-green-600"})}),o.jsx("div",{children:o.jsx("p",{className:"text-base font-bold text-center text-gray-800 dark:text-gray-200",children:W.matchPercentage>=70?"GOOD MATCH":W.matchPercentage>=40?"FAIR MATCH":"POOR MATCH"})})]})]})})})},W.id))}),!k&&B.length>0&&o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8 pt-6 border-t border-gray-200",children:[o.jsx("div",{className:"text-sm text-gray-600",children:I>0?o.jsxs(o.Fragment,{children:[h.jobs.showing," ",he,"-",Math.min(fe,I)," ",h.jobs.of," ",I," ",h.jobs.vacancies]}):o.jsxs(o.Fragment,{children:[h.jobs.showing," ",B.length," ",h.jobs.vacancies]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(re,{variant:"outline",size:"sm",className:"h-9 px-4",onClick:ie,disabled:!K||k,children:[o.jsx(Rj,{className:"h-4 w-4 mr-1"}),h.jobs.previous]}),o.jsxs("div",{className:"flex items-center gap-1 px-2",children:[o.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[h.jobs.page," ",v]}),_e&&o.jsxs("span",{className:"text-sm text-gray-400",children:["/ ",_e]})]}),o.jsxs(re,{variant:"outline",size:"sm",className:"h-9 px-4",onClick:q,disabled:!le||k,children:[h.jobs.next,o.jsx(Ia,{className:"h-4 w-4 ml-1"})]})]})]}),o.jsx(DW,{isOpen:i,onClose:()=>l(!1),filters:x,onFiltersChange:w,onApply:O,onClear:L,userTopSkills:c})]})})};async function m3e(e){try{const t=e.trim().replace(/\s+/g," ");if(t.length<50)return{skills:[]};const r=6e3;let n=t;if(t.length>r){const s=t.lastIndexOf(" ",r);n=s>0?t.substring(0,s)+"...":t.substring(0,r)}try{const s=await g3e(n);if(s&&s.length>0)return{skills:s}}catch(s){console.log("API skill extraction failed:",s)}return{skills:v3(n)}}catch(t){return console.error("Error extracting skills:",t),{skills:v3(e)}}}async function g3e(e){var t,r,n;try{const a=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are an expert job analyst. Your task is to carefully analyze the job description and extract ONLY the skills that are ACTUALLY REQUIRED for this position.

IMPORTANT GUIDELINES:
1. Only extract skills that are explicitly stated as required, necessary, or essential
2. Look for keywords like: "required", "must have", "essential", "necessary", "proficiency in", "experience with", "knowledge of", "familiarity with"
3. DO NOT extract skills that are:
   - Only mentioned in passing or as examples
   - Listed as "nice to have" or "preferred" (unless they're also required)
   - Mentioned in company description or benefits section
   - Generic terms like "communication" unless explicitly required
   - Skills mentioned in "what we offer" or similar sections

4. Extract both technical skills (programming languages, frameworks, tools, technologies) AND soft skills (if explicitly required)
5. Use standard, professional skill names (e.g., "JavaScript" not "JS", "React" not "React.js")
6. Group related skills appropriately (e.g., "Node.js" not separate "Node" and "js")
7. Return ONLY a JSON array of skill names, nothing else

Think carefully: Is this skill truly required, or just mentioned? Only include skills that candidates MUST have to qualify for this job.

Example output: ["JavaScript", "React", "Node.js", "TypeScript", "REST APIs", "Git", "Team Leadership"]`},{role:"user",content:`Analyze this job description and extract ONLY the required skills:

${e.substring(0,6e3)}`}],max_tokens:800,temperature:.2})});if(a.ok){const i=((n=(r=(t=(await a.json()).choices)==null?void 0:t[0])==null?void 0:r.message)==null?void 0:n.content)||"";try{const l=i.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),c=JSON.parse(l);if(Array.isArray(c))return c.filter(u=>typeof u=="string"&&u.trim().length>0)}catch{const c=i.split(`
`).map(d=>d.trim()).filter(Boolean),u=[];for(const d of c){const f=d.replace(/^[-*]\s*/,"").replace(/^\d+\.\s*/,"").trim();f&&f.length<50&&u.push(f)}if(u.length>0)return u}}return null}catch{return null}}function v3(e){const t=e.toLowerCase(),r=new Set,n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi","pandas","numpy"],java:["java","spring","spring boot","maven","gradle"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net","asp.net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony","wordpress"],ruby:["ruby","rails","ruby on rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind","bootstrap"],sql:["sql","mysql","postgresql","mongodb","database","nosql"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],"machine learning":["machine learning","ml","deep learning","neural networks"],"data science":["data science","data analysis","data analytics"],"project management":["project management","agile","scrum","kanban"],"ui/ux":["ui/ux","ui design","ux design","user interface","user experience"],figma:["figma"],photoshop:["photoshop","adobe photoshop"],illustrator:["illustrator","adobe illustrator"],communication:["communication","communication skills","verbal communication"],leadership:["leadership","team leadership","lead"],teamwork:["teamwork","collaboration","team player"],"problem solving":["problem solving","problem-solving","analytical"],"time management":["time management","organizational skills"]};for(const[a,s]of Object.entries(n))for(const i of s)if(t.includes(i)){r.add(a);break}return Array.from(r).sort()}async function v3e(e){try{const t=e.trim().replace(/\s+/g," ");if(t.length<50)return{content:"No responsibilities information available."};try{const n=await x3e(t);if(n&&n.trim())return{content:b3(n.trim())}}catch(n){console.log("API extraction failed:",n)}const r=y3(t);return{content:b3(r)}}catch(t){return console.error("Error extracting responsibilities:",t),{content:y3(e),error:t instanceof Error?t.message:"Unknown error"}}}async function y3e(e){try{const t=e.trim().replace(/\s+/g," ");if(t.length<50)return{content:"No qualifications information available."};try{const n=await b3e(t);if(n&&n.trim())return{content:w3(n.trim())}}catch(n){console.log("API extraction failed:",n)}const r=x3(t);return{content:w3(r)}}catch(t){return console.error("Error extracting qualifications:",t),{content:x3(e),error:t instanceof Error?t.message:"Unknown error"}}}async function x3e(e){var t,r,n;try{const a=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are a job description analyzer. Extract and summarize ONLY the RESPONSIBILITIES, DUTIES, and DAILY TASKS from the job description.

CRITICAL FORMATTING REQUIREMENTS:
- Each responsibility MUST start on a NEW LINE
- Use bullet points () for each item
- Start each bullet point with " " (bullet space)
- Write complete, grammatically correct sentences
- Ensure 100% accuracy - do not add information not in the source text
- Be precise and exact - use the exact wording from the job description when possible

Focus on:
- What the person will do on a daily basis
- Key responsibilities and duties
- Main tasks and activities
- What the role entails

EXCLUDE:
- Qualifications, requirements, skills, education, and experience requirements
- Company information, mission, values
- Only include what the person will DO, not what they need to HAVE

Output format example:
 [First responsibility - complete sentence]
 [Second responsibility - complete sentence]
 [Third responsibility - complete sentence]

If no clear responsibilities are found, return "No specific responsibilities listed."`},{role:"user",content:e.substring(0,6e3)}],max_tokens:800,temperature:.3})});return a.ok&&((n=(r=(t=(await a.json()).choices)==null?void 0:t[0])==null?void 0:r.message)==null?void 0:n.content)||null}catch{return null}}async function b3e(e){var t,r,n;try{const a=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are a job description analyzer. Extract and summarize ONLY the QUALIFICATIONS, REQUIREMENTS, and WHAT CANDIDATES NEED TO HAVE from the job description.

CRITICAL FORMATTING REQUIREMENTS:
- Each qualification MUST start on a NEW LINE
- Use bullet points () for each item
- Start each bullet point with " " (bullet space)
- Write complete, grammatically correct sentences
- Ensure 100% accuracy - do not add information not in the source text
- Be precise and exact - use the exact wording from the job description when possible

Focus on:
- Required skills (technical and soft skills)
- Required experience (years, type)
- Education requirements (degree, certifications)
- Required qualifications and credentials
- What candidates must have or should have

EXCLUDE:
- Responsibilities, duties, and daily tasks
- Company information, mission, values
- Only include what the person needs to HAVE, not what they will DO

Output format example:
 [First qualification - complete sentence]
 [Second qualification - complete sentence]
 [Third qualification - complete sentence]

If no clear qualifications are found, return "No specific qualifications listed."`},{role:"user",content:e.substring(0,6e3)}],max_tokens:800,temperature:.3})});return a.ok&&((n=(r=(t=(await a.json()).choices)==null?void 0:t[0])==null?void 0:r.message)==null?void 0:n.content)||null}catch{return null}}function y3(e){const t=e.match(/[^.!?]+[.!?]+/g)||[e],r=["responsibilities","duties","will","will be","will have","primary","main","develop","design","manage","create","implement","analyze","collaborate","lead","work with","handle","ensure","maintain","build","deliver","support","coordinate","oversee","execute","perform","conduct","provide","assist","participate"],n=t.map((a,s)=>{const i=a.toLowerCase();let l=0;return r.forEach(c=>{const u=new RegExp(`\\b${c}\\b`,"gi"),d=i.match(u);d&&(l+=d.length*5)}),/required|must have|qualification|experience|years|degree|education|certification|skill|proficient/i.test(i)&&!/will|responsibilities|duties/i.test(i)&&(l-=5),/company|organization|founded|established|mission|vision|values|culture|opportunity to|join us/i.test(i)&&(l-=3),{sentence:a.trim(),score:l,index:s}}).filter(a=>a.score>0).sort((a,s)=>s.score-a.score).slice(0,10);return n.sort((a,s)=>a.index-s.index),n.length===0?"No specific responsibilities listed in the job description.":n.map(a=>a.sentence).join(" ")}function x3(e){const t=e.match(/[^.!?]+[.!?]+/g)||[e],r=["required","must have","must","need","should have","qualifications","requirements","experience","years of","degree","education","certification","certified","skills","proficient","expert","knowledge","familiar","expect","looking for","candidate","applicant","ideal candidate","minimum","at least","preferred","bachelor","master","phd","diploma"],n=t.map((a,s)=>{const i=a.toLowerCase();let l=0;return r.forEach(c=>{const u=new RegExp(`\\b${c}\\b`,"gi"),d=i.match(u);d&&(l+=d.length*8)}),/\d+\s*(year|years|yr|yrs|month|months)\s*(of|experience)/i.test(a)&&(l+=10),/javascript|python|java|react|node|sql|typescript|html|css|angular|vue|spring|django|flask|express|mongodb|postgresql|mysql|aws|azure|docker|kubernetes|git|agile|scrum/i.test(a)&&(l+=6),/will|responsibilities|duties|develop|design|manage|create|implement|handle|ensure/i.test(i)&&!/required|must|qualification|experience|skill/i.test(i)&&(l-=5),/company|organization|founded|established|mission|vision|values|culture|opportunity to|join us/i.test(i)&&(l-=3),{sentence:a.trim(),score:l,index:s}}).filter(a=>a.score>0).sort((a,s)=>s.score-a.score).slice(0,10);return n.sort((a,s)=>a.index-s.index),n.length===0?"No specific qualifications listed in the job description.":n.map(a=>a.sentence).join(" ")}function w3e(e){if(!e||e.length<10)return[];const t=new Set,r=e.toLowerCase(),n=["javascript","typescript","python","java","react","angular","vue","node.js","nodejs","express","django","flask","spring","sql","mongodb","postgresql","mysql","aws","azure","docker","kubernetes","git","html","css","sass","scss","tailwind","bootstrap","redux","graphql","rest api","agile","scrum","ci/cd","terraform","jenkins","linux","unix","php","ruby","go","rust","swift","kotlin","c++","c#",".net","machine learning","ai","data science","tableau","power bi","excel","salesforce","figma","adobe","photoshop","illustrator"];return n.forEach(i=>{if(new RegExp(`\\b${i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"gi").test(r)){const c=i.charAt(0).toUpperCase()+i.slice(1).replace(/\b\w/g,u=>u.toUpperCase());t.add(c)}}),[/(?:proficient|experienced|skilled|knowledge|expertise|familiar|strong)\s+(?:in|with|using)?\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)/gi,/(?:experience|knowledge)\s+(?:with|in|of)\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)/gi,/(?:must|should|required)\s+(?:have|be)\s+(?:experience|knowledge|skills?)\s+(?:in|with|using)?\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)/gi].forEach(i=>{const l=e.matchAll(i);for(const c of l)c[1]&&c[1].length>2&&c[1].length<50&&t.add(c[1].trim())}),e.split(/[\-*]\s*/).forEach(i=>{const l=i.trim();n.forEach(c=>{if(new RegExp(`\\b${c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"gi").test(l)){const d=c.charAt(0).toUpperCase()+c.slice(1).replace(/\b\w/g,f=>f.toUpperCase());t.add(d)}})}),Array.from(t).sort()}function b3(e){e=e.replace(/([^\n])([\-*]\s+)/g,`$1
$2`),e=e.replace(/^[\s]*[-*]\s+/gm," "),e=e.replace(/([.!?])\s*([]\s+)/g,`$1
$2`),e=e.replace(/(:)\s*([]\s+)/g,`$1
$2`),e=e.replace(/([]\s+[^\n]+?)(\s+[]\s+)/g,`$1
$2`),e=e.replace(/\n{3,}/g,`

`);const t=e.split(`
`),r=[];for(let n=0;n<t.length;n++){const a=t[n].trim();if(a)if(/^[]\s+/.test(a))r.push(a);else if(r.length>0&&!/^[]/.test(r[r.length-1])){const s=r[r.length-1];/[.!?]$/.test(s)?r.push(a):r[r.length-1]=s+" "+a}else r.push(a)}return r.join(`
`).trim()}function w3(e){e=e.replace(/([^\n])([\-*]\s+)/g,`$1
$2`),e=e.replace(/^[\s]*[-*]\s+/gm," "),e=e.replace(/([.!?])\s*([]\s+)/g,`$1
$2`),e=e.replace(/(:)\s*([]\s+)/g,`$1
$2`),e=e.replace(/([]\s+[^\n]+?)(\s+[]\s+)/g,`$1
$2`),e=e.replace(/\n{3,}/g,`

`);const t=e.split(`
`),r=[];for(let n=0;n<t.length;n++){const a=t[n].trim();if(a)if(/^[]\s+/.test(a))r.push(a);else if(r.length>0&&!/^[]/.test(r[r.length-1])){const s=r[r.length-1];/[.!?]$/.test(s)?r.push(a):r[r.length-1]=s+" "+a}else r.push(a)}return r.join(`
`).trim()}function _3e(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var S3e="DismissableLayer",IE="dismissableLayer.update",j3e="dismissableLayer.pointerDownOutside",k3e="dismissableLayer.focusOutside",_3,UW=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zW=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(UW),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),v=ht(t,j=>f(j)),m=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(y),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=C3e(j=>{const k=j.target,N=[...u.branches].some(C=>C.contains(k));!_||N||(a==null||a(j),i==null||i(j),j.defaultPrevented||l==null||l())},h),E=P3e(j=>{const k=j.target;[...u.branches].some(C=>C.contains(k))||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},h);return _3e(j=>{w===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(_3=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),S3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=_3)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),S3())},[d,u]),p.useEffect(()=>{const j=()=>g({});return document.addEventListener(IE,j),()=>document.removeEventListener(IE,j)},[]),o.jsx(tt.div,{...c,ref:v,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:$e(e.onFocusCapture,E.onFocusCapture),onBlurCapture:$e(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:$e(e.onPointerDownCapture,S.onPointerDownCapture)})});zW.displayName=S3e;var E3e="DismissableLayerBranch",N3e=p.forwardRef((e,t)=>{const r=p.useContext(UW),n=p.useRef(null),a=ht(t,n);return p.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(tt.div,{...e,ref:a})});N3e.displayName=E3e;function C3e(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){qW(j3e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function P3e(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=p.useRef(!1);return p.useEffect(()=>{const a=s=>{s.target&&!n.current&&qW(k3e,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function S3(){const e=new CustomEvent(IE);document.dispatchEvent(e)}function qW(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Zm(a,s):a.dispatchEvent(s)}var C_="focusScope.autoFocusOnMount",P_="focusScope.autoFocusOnUnmount",j3={bubbles:!1,cancelable:!0},A3e="FocusScope",WW=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,c]=p.useState(null),u=Ut(a),d=Ut(s),f=p.useRef(null),h=ht(t,m=>c(m)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(b){if(g.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:$o(f.current,{select:!0})},y=function(b){if(g.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||$o(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&$o(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),w.disconnect()}}},[n,l,g.paused]),p.useEffect(()=>{if(l){E3.add(g);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(C_,j3);l.addEventListener(C_,u),l.dispatchEvent(x),x.defaultPrevented||(T3e(M3e(HW(l)),{select:!0}),document.activeElement===m&&$o(l))}return()=>{l.removeEventListener(C_,u),setTimeout(()=>{const x=new CustomEvent(P_,j3);l.addEventListener(P_,d),l.dispatchEvent(x),x.defaultPrevented||$o(m??document.body,{select:!0}),l.removeEventListener(P_,d),E3.remove(g)},0)}}},[l,u,d,g]);const v=p.useCallback(m=>{if(!r&&!n||g.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(y&&x){const w=m.currentTarget,[b,_]=O3e(w);b&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&$o(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&$o(_,{select:!0})):x===w&&m.preventDefault()}},[r,n,g.paused]);return o.jsx(tt.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});WW.displayName=A3e;function T3e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if($o(n,{select:t}),document.activeElement!==r)return}function O3e(e){const t=HW(e),r=k3(t,e),n=k3(t.reverse(),e);return[r,n]}function HW(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function k3(e,t){for(const r of e)if(!$3e(r,{upTo:t}))return r}function $3e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function R3e(e){return e instanceof HTMLInputElement&&"select"in e}function $o(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&R3e(e)&&t&&e.select()}}var E3=I3e();function I3e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=N3(e,t),e.unshift(t)},remove(t){var r;e=N3(e,t),(r=e[0])==null||r.resume()}}}function N3(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function M3e(e){return e.filter(t=>t.tagName!=="A")}var L3e="Portal",VW=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=p.useState(!1);Ur(()=>s(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Jm.createPortal(o.jsx(tt.div,{...n,ref:t}),i):null});VW.displayName=L3e;function D3e(e,t=[]){let r=[];function n(s,i){const l=p.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...v}=f,m=(h==null?void 0:h[e][c])||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:y,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,v=p.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,F3e(a,...t)]}function F3e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var A_="rovingFocusGroup.onEntryFocus",B3e={bubbles:!1,cancelable:!0},vw="RovingFocusGroup",[ME,KW,U3e]=_g(vw),[z3e,GW]=D3e(vw,[U3e]),[q3e,W3e]=z3e(vw),JW=p.forwardRef((e,t)=>o.jsx(ME.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(ME.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(H3e,{...e,ref:t})})}));JW.displayName=vw;var H3e=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),g=ht(t,h),v=Af(s),[m=null,y]=Ws({prop:i,defaultProp:l,onChange:c}),[x,w]=p.useState(!1),b=Ut(u),_=KW(r),S=p.useRef(!1),[E,j]=p.useState(0);return p.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(A_,b),()=>k.removeEventListener(A_,b)},[b]),o.jsx(q3e,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:m,onItemFocus:p.useCallback(k=>y(k),[y]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>j(k=>k+1),[]),onFocusableItemRemove:p.useCallback(()=>j(k=>k-1),[]),children:o.jsx(tt.div,{tabIndex:x||E===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:$e(e.onMouseDown,()=>{S.current=!0}),onFocus:$e(e.onFocus,k=>{const N=!S.current;if(k.target===k.currentTarget&&N&&!x){const C=new CustomEvent(A_,B3e);if(k.currentTarget.dispatchEvent(C),!C.defaultPrevented){const A=_().filter($=>$.focusable),I=A.find($=>$.active),B=A.find($=>$.id===m),M=[I,B,...A].filter(Boolean).map($=>$.ref.current);QW(M,d)}}S.current=!1}),onBlur:$e(e.onBlur,()=>w(!1))})})}),YW="RovingFocusGroupItem",XW=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,...i}=e,l=Ds(),c=s||l,u=W3e(YW,r),d=u.currentTabStopId===c,f=KW(r),{onFocusableItemAdd:h,onFocusableItemRemove:g}=u;return p.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),o.jsx(ME.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:o.jsx(tt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:$e(e.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:$e(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:$e(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=G3e(v,u.orientation,u.dir);if(m!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=f().filter(w=>w.focusable).map(w=>w.ref.current);if(m==="last")x.reverse();else if(m==="prev"||m==="next"){m==="prev"&&x.reverse();const w=x.indexOf(v.currentTarget);x=u.loop?J3e(x,w+1):x.slice(w+1)}setTimeout(()=>QW(x))}})})})});XW.displayName=YW;var V3e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function K3e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function G3e(e,t,r){const n=K3e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return V3e[n]}function QW(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function J3e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Y3e=JW,X3e=XW,ZW=sb(),T_=function(){},yw=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:T_,onWheelCapture:T_,onTouchMoveCapture:T_}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,v=e.inert,m=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,w=e.gapMode,b=lg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=ab([r,t]),E=ar(ar({},b),a);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:ZW,removeScrollBar:u,shards:f,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!m,lockRef:r,gapMode:w}),i?p.cloneElement(p.Children.only(l),ar(ar({},E),{ref:S})):p.createElement(x,ar({},E,{className:c,ref:S}),l))});yw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yw.classNames={fullWidth:Sc,zeroRight:_c};var LE=!1;if(typeof window<"u")try{var Rv=Object.defineProperty({},"passive",{get:function(){return LE=!0,!0}});window.addEventListener("test",Rv,Rv),window.removeEventListener("test",Rv,Rv)}catch{LE=!1}var xu=LE?{passive:!1}:!1,Q3e=function(e){return e.tagName==="TEXTAREA"},eH=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Q3e(e)&&r[t]==="visible")},Z3e=function(e){return eH(e,"overflowY")},e5e=function(e){return eH(e,"overflowX")},C3=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=tH(e,n);if(a){var s=rH(e,n),i=s[1],l=s[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},t5e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},r5e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},tH=function(e,t){return e==="v"?Z3e(t):e5e(t)},rH=function(e,t){return e==="v"?t5e(t):r5e(t)},n5e=function(e,t){return e==="h"&&t==="rtl"?-1:1},a5e=function(e,t,r,n,a){var s=n5e(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=rH(e,l),v=g[0],m=g[1],y=g[2],x=m-y-s*v;(v||x)&&tH(e,l)&&(f+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Iv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},P3=function(e){return[e.deltaX,e.deltaY]},A3=function(e){return e&&"current"in e?e.current:e},s5e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},i5e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},o5e=0,bu=[];function l5e(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),a=p.useState(o5e++)[0],s=p.useState(cg)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=nb([e.lockRef.current],(e.shards||[]).map(A3),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var x=Iv(m),w=r.current,b="deltaX"in m?m.deltaX:w[0]-x[0],_="deltaY"in m?m.deltaY:w[1]-x[1],S,E=m.target,j=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&j==="h"&&E.type==="range")return!1;var k=C3(j,E);if(!k)return!0;if(k?S=j:(S=j==="v"?"h":"v",k=C3(j,E)),!k)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return a5e(N,y,m,N==="h"?b:_,!0)},[]),c=p.useCallback(function(m){var y=m;if(!(!bu.length||bu[bu.length-1]!==s)){var x="deltaY"in y?P3(y):Iv(y),w=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&s5e(S.delta,x)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(i.current.shards||[]).map(A3).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=b.length>0?l(y,b[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=p.useCallback(function(m,y,x,w){var b={name:m,delta:y,target:x,should:w,shadowParent:c5e(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=p.useCallback(function(m){r.current=Iv(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,P3(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,Iv(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return bu.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,xu),document.addEventListener("touchmove",c,xu),document.addEventListener("touchstart",d,xu),function(){bu=bu.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,xu),document.removeEventListener("touchmove",c,xu),document.removeEventListener("touchstart",d,xu)}},[]);var g=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(s,{styles:i5e(a)}):null,g?p.createElement(lb,{gapMode:e.gapMode}):null)}function c5e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const u5e=ib(ZW,l5e);var nH=p.forwardRef(function(e,t){return p.createElement(yw,ar({},e,{ref:t,sideCar:u5e}))});nH.classNames=yw.classNames;var DE=["Enter"," "],d5e=["ArrowDown","PageUp","Home"],aH=["ArrowUp","PageDown","End"],f5e=[...d5e,...aH],h5e={ltr:[...DE,"ArrowRight"],rtl:[...DE,"ArrowLeft"]},p5e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jg="Menu",[Dm,m5e,g5e]=_g(jg),[tu,sH]=Ha(jg,[g5e,_f,GW]),xw=_f(),iH=GW(),[v5e,ru]=tu(jg),[y5e,kg]=tu(jg),oH=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:i=!0}=e,l=xw(t),[c,u]=p.useState(null),d=p.useRef(!1),f=Ut(s),h=Af(a);return p.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),o.jsx(oF,{...l,children:o.jsx(v5e,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(y5e,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};oH.displayName=jg;var x5e="MenuAnchor",AP=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=xw(r);return o.jsx(hN,{...a,...n,ref:t})});AP.displayName=x5e;var TP="MenuPortal",[b5e,lH]=tu(TP,{forceMount:void 0}),cH=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=ru(TP,t);return o.jsx(b5e,{scope:t,forceMount:r,children:o.jsx(oa,{present:r||s.open,children:o.jsx(VW,{asChild:!0,container:a,children:n})})})};cH.displayName=TP;var cs="MenuContent",[w5e,OP]=tu(cs),uH=p.forwardRef((e,t)=>{const r=lH(cs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=ru(cs,e.__scopeMenu),i=kg(cs,e.__scopeMenu);return o.jsx(Dm.Provider,{scope:e.__scopeMenu,children:o.jsx(oa,{present:n||s.open,children:o.jsx(Dm.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(_5e,{...a,ref:t}):o.jsx(S5e,{...a,ref:t})})})})}),_5e=p.forwardRef((e,t)=>{const r=ru(cs,e.__scopeMenu),n=p.useRef(null),a=ht(t,n);return p.useEffect(()=>{const s=n.current;if(s)return cb(s)},[]),o.jsx($P,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:$e(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),S5e=p.forwardRef((e,t)=>{const r=ru(cs,e.__scopeMenu);return o.jsx($P,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),$P=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,disableOutsideScroll:v,...m}=e,y=ru(cs,r),x=kg(cs,r),w=xw(r),b=iH(r),_=m5e(r),[S,E]=p.useState(null),j=p.useRef(null),k=ht(t,j,y.onContentChange),N=p.useRef(0),C=p.useRef(""),A=p.useRef(0),I=p.useRef(null),B=p.useRef("right"),z=p.useRef(0),M=v?nH:p.Fragment,$=v?{as:wl,allowPinchZoom:!0}:void 0,F=L=>{var K,Z;const Q=C.current+L,T=_().filter(H=>!H.disabled),D=document.activeElement,Y=(K=T.find(H=>H.ref.current===D))==null?void 0:K.textValue,q=T.map(H=>H.textValue),ie=I5e(q,Q,Y),le=(Z=T.find(H=>H.textValue===ie))==null?void 0:Z.ref.current;(function H(X){C.current=X,window.clearTimeout(N.current),X!==""&&(N.current=window.setTimeout(()=>H(""),1e3))})(Q),le&&setTimeout(()=>le.focus())};p.useEffect(()=>()=>window.clearTimeout(N.current),[]),mP();const O=p.useCallback(L=>{var T,D;return B.current===((T=I.current)==null?void 0:T.side)&&L5e(L,(D=I.current)==null?void 0:D.area)},[]);return o.jsx(w5e,{scope:r,searchRef:C,onItemEnter:p.useCallback(L=>{O(L)&&L.preventDefault()},[O]),onItemLeave:p.useCallback(L=>{var Q;O(L)||((Q=j.current)==null||Q.focus(),E(null))},[O]),onTriggerLeave:p.useCallback(L=>{O(L)&&L.preventDefault()},[O]),pointerGraceTimerRef:A,onPointerGraceIntentChange:p.useCallback(L=>{I.current=L},[]),children:o.jsx(M,{...$,children:o.jsx(WW,{asChild:!0,trapped:a,onMountAutoFocus:$e(s,L=>{var Q;L.preventDefault(),(Q=j.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(zW,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,children:o.jsx(Y3e,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:$e(c,L=>{x.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(pN,{role:"menu","aria-orientation":"vertical","data-state":EH(y.open),"data-radix-menu-content":"",dir:x.dir,...w,...m,ref:k,style:{outline:"none",...m.style},onKeyDown:$e(m.onKeyDown,L=>{const T=L.target.closest("[data-radix-menu-content]")===L.currentTarget,D=L.ctrlKey||L.altKey||L.metaKey,Y=L.key.length===1;T&&(L.key==="Tab"&&L.preventDefault(),!D&&Y&&F(L.key));const q=j.current;if(L.target!==q||!f5e.includes(L.key))return;L.preventDefault();const le=_().filter(K=>!K.disabled).map(K=>K.ref.current);aH.includes(L.key)&&le.reverse(),$5e(le)}),onBlur:$e(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(N.current),C.current="")}),onPointerMove:$e(e.onPointerMove,Fm(L=>{const Q=L.target,T=z.current!==L.clientX;if(L.currentTarget.contains(Q)&&T){const D=L.clientX>z.current?"right":"left";B.current=D,z.current=L.clientX}}))})})})})})})});uH.displayName=cs;var j5e="MenuGroup",RP=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(tt.div,{role:"group",...n,ref:t})});RP.displayName=j5e;var k5e="MenuLabel",dH=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(tt.div,{...n,ref:t})});dH.displayName=k5e;var fx="MenuItem",T3="menu.itemSelect",bw=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=p.useRef(null),i=kg(fx,e.__scopeMenu),l=OP(fx,e.__scopeMenu),c=ht(t,s),u=p.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(T3,{bubbles:!0,cancelable:!0});f.addEventListener(T3,g=>n==null?void 0:n(g),{once:!0}),Zm(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(fH,{...a,ref:c,disabled:r,onClick:$e(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:$e(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:$e(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||DE.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});bw.displayName=fx;var fH=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,i=OP(fx,r),l=iH(r),c=p.useRef(null),u=ht(t,c),[d,f]=p.useState(!1),[h,g]=p.useState("");return p.useEffect(()=>{const v=c.current;v&&g((v.textContent??"").trim())},[s.children]),o.jsx(Dm.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:o.jsx(X3e,{asChild:!0,...l,focusable:!n,children:o.jsx(tt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:$e(e.onPointerMove,Fm(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:$e(e.onPointerLeave,Fm(v=>i.onItemLeave(v))),onFocus:$e(e.onFocus,()=>f(!0)),onBlur:$e(e.onBlur,()=>f(!1))})})})}),E5e="MenuCheckboxItem",hH=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(yH,{scope:e.__scopeMenu,checked:r,children:o.jsx(bw,{role:"menuitemcheckbox","aria-checked":hx(r)?"mixed":r,...a,ref:t,"data-state":MP(r),onSelect:$e(a.onSelect,()=>n==null?void 0:n(hx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});hH.displayName=E5e;var pH="MenuRadioGroup",[N5e,C5e]=tu(pH,{value:void 0,onValueChange:()=>{}}),mH=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=Ut(n);return o.jsx(N5e,{scope:e.__scopeMenu,value:r,onValueChange:s,children:o.jsx(RP,{...a,ref:t})})});mH.displayName=pH;var gH="MenuRadioItem",vH=p.forwardRef((e,t)=>{const{value:r,...n}=e,a=C5e(gH,e.__scopeMenu),s=r===a.value;return o.jsx(yH,{scope:e.__scopeMenu,checked:s,children:o.jsx(bw,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":MP(s),onSelect:$e(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});vH.displayName=gH;var IP="MenuItemIndicator",[yH,P5e]=tu(IP,{checked:!1}),xH=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=P5e(IP,r);return o.jsx(oa,{present:n||hx(s.checked)||s.checked===!0,children:o.jsx(tt.span,{...a,ref:t,"data-state":MP(s.checked)})})});xH.displayName=IP;var A5e="MenuSeparator",bH=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(tt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});bH.displayName=A5e;var T5e="MenuArrow",wH=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=xw(r);return o.jsx(mN,{...a,...n,ref:t})});wH.displayName=T5e;var O5e="MenuSub",[AFe,_H]=tu(O5e),Jh="MenuSubTrigger",SH=p.forwardRef((e,t)=>{const r=ru(Jh,e.__scopeMenu),n=kg(Jh,e.__scopeMenu),a=_H(Jh,e.__scopeMenu),s=OP(Jh,e.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(AP,{asChild:!0,...u,children:o.jsx(fH,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":EH(r.open),...e,ref:Mx(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:$e(e.onPointerMove,Fm(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:$e(e.onPointerLeave,Fm(f=>{var g,v;d();const h=(g=r.content)==null?void 0:g.getBoundingClientRect();if(h){const m=(v=r.content)==null?void 0:v.dataset.side,y=m==="right",x=y?-5:5,w=h[y?"left":"right"],b=h[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:w,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:w,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:$e(e.onKeyDown,f=>{var g;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||h5e[n.dir].includes(f.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),f.preventDefault())})})})});SH.displayName=Jh;var jH="MenuSubContent",kH=p.forwardRef((e,t)=>{const r=lH(cs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=ru(cs,e.__scopeMenu),i=kg(cs,e.__scopeMenu),l=_H(jH,e.__scopeMenu),c=p.useRef(null),u=ht(t,c);return o.jsx(Dm.Provider,{scope:e.__scopeMenu,children:o.jsx(oa,{present:n||s.open,children:o.jsx(Dm.Slot,{scope:e.__scopeMenu,children:o.jsx($P,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:$e(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:$e(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:$e(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),h=p5e[i.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});kH.displayName=jH;function EH(e){return e?"open":"closed"}function hx(e){return e==="indeterminate"}function MP(e){return hx(e)?"indeterminate":e?"checked":"unchecked"}function $5e(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function R5e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function I5e(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=R5e(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function M5e(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s].x,c=t[s].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function L5e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return M5e(r,t)}function Fm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var D5e=oH,F5e=AP,B5e=cH,U5e=uH,z5e=RP,q5e=dH,W5e=bw,H5e=hH,V5e=mH,K5e=vH,G5e=xH,J5e=bH,Y5e=wH,X5e=SH,Q5e=kH,LP="DropdownMenu",[Z5e,TFe]=Ha(LP,[sH]),la=sH(),[eLe,NH]=Z5e(LP),CH=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,c=la(t),u=p.useRef(null),[d=!1,f]=Ws({prop:a,defaultProp:s,onChange:i});return o.jsx(eLe,{scope:t,triggerId:Ds(),triggerRef:u,contentId:Ds(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(D5e,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};CH.displayName=LP;var PH="DropdownMenuTrigger",AH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=NH(PH,r),i=la(r);return o.jsx(F5e,{asChild:!0,...i,children:o.jsx(tt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Mx(t,s.triggerRef),onPointerDown:$e(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:$e(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});AH.displayName=PH;var tLe="DropdownMenuPortal",TH=e=>{const{__scopeDropdownMenu:t,...r}=e,n=la(t);return o.jsx(B5e,{...n,...r})};TH.displayName=tLe;var OH="DropdownMenuContent",$H=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=NH(OH,r),s=la(r),i=p.useRef(!1);return o.jsx(U5e,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:$e(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:$e(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$H.displayName=OH;var rLe="DropdownMenuGroup",nLe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=la(r);return o.jsx(z5e,{...a,...n,ref:t})});nLe.displayName=rLe;var aLe="DropdownMenuLabel",RH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=la(r);return o.jsx(q5e,{...a,...n,ref:t})});RH.displayName=aLe;var sLe="DropdownMenuItem",IH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=la(r);return o.jsx(W5e,{...a,...n,ref:t})});IH.displayName=sLe;var iLe="DropdownMenuCheckboxItem",MH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=la(r);return o.jsx(H5e,{...a,...n,ref:t})});MH.displayName=iLe;var oLe="DropdownMenuRadioGroup",lLe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=la(r);return o.jsx(V5e,{...a,...n,ref:t})});lLe.displayName=oLe;var cLe="DropdownMenuRadioItem",LH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=la(r);return o.jsx(K5e,{...a,...n,ref:t})});LH.displayName=cLe;var uLe="DropdownMenuItemIndicator",DH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=la(r);return o.jsx(G5e,{...a,...n,ref:t})});DH.displayName=uLe;var dLe="DropdownMenuSeparator",FH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=la(r);return o.jsx(J5e,{...a,...n,ref:t})});FH.displayName=dLe;var fLe="DropdownMenuArrow",hLe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=la(r);return o.jsx(Y5e,{...a,...n,ref:t})});hLe.displayName=fLe;var pLe="DropdownMenuSubTrigger",BH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=la(r);return o.jsx(X5e,{...a,...n,ref:t})});BH.displayName=pLe;var mLe="DropdownMenuSubContent",UH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=la(r);return o.jsx(Q5e,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UH.displayName=mLe;var gLe=CH,vLe=AH,yLe=TH,zH=$H,qH=RH,WH=IH,HH=MH,VH=LH,KH=DH,GH=FH,JH=BH,YH=UH;const O3=gLe,$3=vLe,xLe=p.forwardRef(({className:e,inset:t,children:r,...n},a)=>o.jsxs(JH,{ref:a,className:de("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(Ia,{className:"ml-auto h-4 w-4"})]}));xLe.displayName=JH.displayName;const bLe=p.forwardRef(({className:e,...t},r)=>o.jsx(YH,{ref:r,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));bLe.displayName=YH.displayName;const FE=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(yLe,{children:o.jsx(zH,{ref:n,sideOffset:t,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));FE.displayName=zH.displayName;const Ql=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(WH,{ref:n,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Ql.displayName=WH.displayName;const wLe=p.forwardRef(({className:e,children:t,checked:r,...n},a)=>o.jsxs(HH,{ref:a,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(KH,{children:o.jsx(Qx,{className:"h-4 w-4"})})}),t]}));wLe.displayName=HH.displayName;const _Le=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(VH,{ref:n,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(KH,{children:o.jsx(ise,{className:"h-2 w-2 fill-current"})})}),t]}));_Le.displayName=VH.displayName;const SLe=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(qH,{ref:n,className:de("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));SLe.displayName=qH.displayName;const jLe=p.forwardRef(({className:e,...t},r)=>o.jsx(GH,{ref:r,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));jLe.displayName=GH.displayName;const kLe=()=>{const{jobId:e}=tg(),t=e?decodeURIComponent(e):void 0,{user:r}=br(),n=za(),a=hr(),s=Ea(),[i,l]=p.useState(!1),[c,u]=p.useState(!1),d=R.useRef(null),{data:f,isLoading:h,error:g}=ir({queryKey:["jobDetail",t],queryFn:async()=>{var G,V;if(!t)throw new Error("Job ID is required");console.log(" Fetching job details for ID:",t);try{const se=await fs.fetchJobDetail(t);return console.log(" Job details fetched successfully"),console.log(" Job Title:",se.title||se.job_title),console.log(" Company:",se.company_name||se.employer_name),console.log(" Location:",se.location||se.job_location),console.log(" Description length:",((G=se.description)==null?void 0:G.length)||((V=se.job_description)==null?void 0:V.length)||0),se}catch(se){throw console.error(" Error fetching job details:",se),se}},enabled:!!t,retry:1,retryDelay:1e3}),{data:v=[]}=ir({queryKey:["savedJobs",r==null?void 0:r.id],queryFn:async()=>{var G;if(!r)return[];try{return(((G=(await Ce.get(mt.AUTH.PROFILE)).data)==null?void 0:G.saved_jobs)||[]).map(ke=>String(ke))}catch(V){return console.error("Error fetching saved jobs from profile API:",V),[]}},enabled:!!r}),m=(f==null?void 0:f.id)||(f==null?void 0:f.job_id)||t||"",y=v==null?void 0:v.includes(String(m)),[x,w]=p.useState(null),[b,_]=p.useState(!1),[S,E]=p.useState(null),[j,k]=p.useState(null),[N,C]=p.useState(!1),[A,I]=p.useState(null),[B,z]=p.useState([]),[M,$]=p.useState([]),[F,O]=p.useState(new Set),[L,Q]=p.useState(!1),[T,D]=p.useState(!1);p.useEffect(()=>{w(null),E(null),_(!1),k(null),I(null),C(!1)},[t]),p.useEffect(()=>{(async()=>{if(!f){w(null),k(null);return}const V=ce();if(!V||V.length<50){w(null),k(null);return}_(!0),E(null);try{const se=await v3e(V);se.error?(E(se.error),w(null)):w(se.content)}catch(se){console.error("Error extracting responsibilities:",se),E(se instanceof Error?se.message:"Failed to extract responsibilities"),w(null)}finally{_(!1)}C(!0),I(null);try{const se=await y3e(V);if(se.error)I(se.error),k(null),$([]);else{k(se.content);const ke=w3e(se.content);$(ke),ke.length>0&&z(ke)}}catch(se){console.error("Error extracting qualifications:",se),I(se instanceof Error?se.message:"Failed to extract qualifications"),k(null),$([])}finally{C(!1)}})()},[f]),p.useEffect(()=>{(async()=>{if(!r){O(new Set);return}D(!0);try{try{const se=await Ce.get(`/api/skilltest/results/?user=${r.id}`);let ke=null;if(Array.isArray(se.data)&&se.data.length>0?ke=se.data[0]:se.data&&typeof se.data=="object"&&(ke=se.data),ke&&(ke.final_role||ke.skills_json)){const Be=ke.skills_json||{},it=Object.keys(Be.tech||{}),ut=Object.keys(Be.soft||{}),Ie=[...it,...ut];O(new Set(Ie.map(lt=>lt.toLowerCase()))),D(!1);return}}catch{console.log("Django API not available, trying Supabase...")}const V=await Jc(r.id);if(V&&V.length>0){const se=Yc(V),ke=Object.keys(se).filter(Be=>se[Be]>0);O(new Set(ke.map(Be=>Be.toLowerCase())))}else O(new Set)}catch(V){console.error("Error fetching user skills:",V),O(new Set)}finally{D(!1)}})()},[r]),p.useEffect(()=>{(async()=>{if(!f){z([]);return}Q(!0);try{const V=new Set;ne().forEach(Ie=>{V.add(Ie.toLowerCase())});const ke=ce(),Be=J();let it="";if(ke&&ke.length>50&&(it+=ke+`

`),Be&&Be.length>50&&(it+=`Requirements:
`+Be),it.length>50){const Ie=await m3e(it);Ie.skills&&Ie.skills.length>0&&Ie.skills.forEach(lt=>{const ve=lt.toLowerCase().trim();ve.length>0&&V.add(ve)})}const ut=Array.from(V).map(Ie=>Ie.split(/[\s-]+/).map(lt=>lt.charAt(0).toUpperCase()+lt.slice(1)).join(" ")).filter(Ie=>Ie.length>0).sort();z(ut)}catch(V){console.error("Error extracting job skills:",V);const se=ne();z(se)}finally{Q(!1)}})()},[f]),p.useEffect(()=>{if(!f){l(!1);return}let G=null,V=null;const se=()=>{const ut=['main[class*="overflow-y-auto"]','main[class*="overflow"]',"main"];for(const Ie of ut){const lt=document.querySelector(Ie);if(lt)return lt}return null},ke=()=>{if(G){const Ie=G.scrollTop>100;if(l(Ie),s){const Ae=Array.from(document.querySelectorAll(".fixed.bottom-0")).find(P=>{const U=P;return U.classList.contains("md:hidden")&&U.classList.contains("z-50")&&U.querySelector("nav.flex.justify-around")!==null});Ae&&(Ie?(Ae.style.transform="translateY(100%)",Ae.style.opacity="0"):(Ae.style.transform="translateY(0)",Ae.style.opacity="1"),Ae.style.transition="transform 0.3s ease-in-out, opacity 0.3s ease-in-out")}const lt=G.closest("main");if(lt){const ve=window.getComputedStyle(lt),Ae=parseInt(ve.marginLeft)||0;u(Ae<=100)}}else{const Ie=(window.scrollY||document.documentElement.scrollTop)>100;l(Ie)}},Be=()=>{G=se(),G?(G.addEventListener("scroll",ke,{passive:!0}),ke(),V=()=>{G==null||G.removeEventListener("scroll",ke)}):(window.addEventListener("scroll",ke,{passive:!0}),ke(),V=()=>{window.removeEventListener("scroll",ke)})};Be();const it=setTimeout(()=>{G||Be()},300);return()=>{if(clearTimeout(it),V&&V(),s){const Ie=Array.from(document.querySelectorAll(".fixed.bottom-0")).find(lt=>{const ve=lt;return ve.classList.contains("md:hidden")&&ve.classList.contains("z-50")&&ve.querySelector("nav.flex.justify-around")!==null});Ie&&(Ie.style.transform="",Ie.style.opacity="",Ie.style.transition="")}}},[f,s]);const Y=Hs({mutationFn:async()=>{if(!r)throw new Error("User not logged in");if(!f)throw new Error("Job details not available");try{const G=String(m),V=`${mt.JOBS.SAVE_JOB}${G}/`;await Ce.post(V)}catch(G){const V=G instanceof Error?G.message:"Failed to save job. Please try again.";throw new Error(V)}},onSuccess:()=>{n.invalidateQueries({queryKey:["savedJobs",r==null?void 0:r.id]}),n.invalidateQueries({queryKey:["profile"]}),ue.success(y?"Job Unsaved":"Job Saved")},onError:G=>{console.error("Error saving job:",G);const V=G instanceof Error?G.message:"Failed to save job";ue.error(V)}}),q=()=>{if(!f)return"By agreement";if(f.salary&&typeof f.salary=="string")return f.salary;const G=f.min_salary,V=f.max_salary,se=f.salary_currency||"$",ke=f.salary_period||"yearly";if(G&&V&&typeof G=="number"&&typeof V=="number"){const Be=ke==="monthly"?"Monthly":"",it=G.toLocaleString(),ut=V.toLocaleString();return["$","","","","",""].some(ve=>se.includes(ve))?`${se}${it} - ${se}${ut}${Be?`/${Be}`:""}`:`${it} - ${ut} ${se}${Be?`/${Be}`:""}`}else if(G&&typeof G=="number"){const Be=G.toLocaleString();return["$","","","","",""].some(Ie=>se.includes(Ie))?`${se}${Be}+`:`${Be}+ ${se}`}return"By agreement"},ie=()=>{if(!f)return"";const G=f;if(G.job_apply_link&&typeof G.job_apply_link=="string")return G.job_apply_link;const V=f.apply_url||f.job_apply_link||f.url||f.applyUrl||f.applyLink||f.application_url||f.application_link||f.link||"";if(!V&&f.company_info){const se=f.company_info;if(se.apply_url&&typeof se.apply_url=="string")return se.apply_url;if(se.url&&typeof se.url=="string")return se.url}if(!V&&f.company&&typeof f.company=="object"){const se=f.company;if(se.apply_url&&typeof se.apply_url=="string")return se.apply_url;if(se.url&&typeof se.url=="string")return se.url}if(!V&&f.employer&&typeof f.employer=="object"){const se=f.employer;if(se.apply_url&&typeof se.apply_url=="string")return se.apply_url;if(se.url&&typeof se.url=="string")return se.url}return V},le=()=>{if(!f)return"";const G=f;if(G.employer_name&&typeof G.employer_name=="string")return G.employer_name.trim();if(typeof f.company=="string"&&f.company.trim())return f.company.trim();if(f.company_info){const V=f.company_info;if(V.name&&V.name.trim())return V.name.trim();if(V.company_name&&V.company_name.trim())return V.company_name.trim();if(V.employer_name&&V.employer_name.trim())return V.employer_name.trim()}if(f.company_name&&f.company_name.trim())return f.company_name.trim();if(f.employer_name&&f.employer_name.trim())return f.employer_name.trim();if(f.company&&typeof f.company=="object"){const V=f.company;if(V.name&&V.name.trim())return V.name.trim();if(V.company_name&&V.company_name.trim())return V.company_name.trim();if(V.employer_name&&V.employer_name.trim())return V.employer_name.trim()}if(f.employer&&typeof f.employer=="object"){const V=f.employer;if(V.name&&V.name.trim())return V.name.trim();if(V.company_name&&V.company_name.trim())return V.company_name.trim();if(V.employer_name&&V.employer_name.trim())return V.employer_name.trim()}return""},K=()=>{if(!f)return"Untitled Position";const G=f;return f.title||f.job_title||G.job_title||"Untitled Position"},Z=()=>{if(!f)return"Location not specified";const G=f;if(f.location||f.job_location)return f.location||f.job_location||"Location not specified";const V=G.job_city||f.city,se=G.job_state||f.state,ke=G.job_country||f.country;return V||se||ke?[V,se,ke].filter(Boolean).join(", ")||"Location not specified":`${f.city||""} ${f.state||""} ${f.country||""}`.trim()||"Location not specified"},H=()=>{if(!f)return"Full Time";const G=f;return f.employment_type||f.job_employment_type||G.job_employment_type||"Full Time"},X=()=>{if(!f)return"On-site";const G=f;return f.is_remote||f.remote===!0||G.job_is_remote===!0||G.remote===!0?"Remote":K().toLowerCase().includes("hybrid")?"Hybrid":"On-site"},ce=()=>{if(!f)return"No description available.";const G=f,V=f.description||f.job_description||G.job_description||void 0;return V?typeof V=="string"?V:Array.isArray(V)?V.map(se=>String(se)).join(`
`):typeof V=="object"?JSON.stringify(V,null,2):String(V):"No description available."},J=()=>{if(!f)return;const G=f.requirements||f.job_requirements||f.qualifications||void 0;if(G)return typeof G=="string"?G:Array.isArray(G)?G.map(V=>String(V)).join(`
`):typeof G=="object"?JSON.stringify(G,null,2):String(G)},oe=()=>{if(f)return f.required_experience||f.job_required_experience||f.experience||void 0},ne=()=>{if(!f)return[];const G=f.required_skills||f.skills||f.job_skills||void 0;return typeof G=="string"?G.split(/[,\n]/).map(V=>V.trim()).filter(Boolean):Array.isArray(G)?G.filter(Boolean):[]},he=()=>{if(f)return f.education||f.education_required||f.required_education||void 0},fe=()=>{if(!f)return[];const G=f.benefits||f.job_benefits||f.perks||void 0;if(!G)return[];if(Array.isArray(G))return G.map(V=>String(V)).filter(Boolean);if(typeof G=="string")return G.split(/[\n,;]/).map(V=>V.trim()).filter(Boolean);if(typeof G=="object"){const V=Object.entries(G);return V.every(([se,ke])=>typeof ke=="boolean")?V.filter(([se,ke])=>ke===!0).map(([se])=>se):Object.keys(G)}return[]},_e=G=>{const V=G.toLowerCase().replace(/[_\s-]/g,"");return V.includes("health")||V.includes("medical")||V.includes("insurance")?o.jsx(xse,{className:"h-5 w-5"}):V.includes("dental")?o.jsx(yse,{className:"h-5 w-5"}):V.includes("vision")||V.includes("eye")?o.jsx(jl,{className:"h-5 w-5"}):V.includes("pto")||V.includes("paidtimeoff")||V.includes("vacation")||V.includes("holiday")?o.jsx(j1,{className:"h-5 w-5"}):V.includes("sick")||V.includes("leave")?o.jsx(aa,{className:"h-5 w-5"}):V.includes("salary")||V.includes("pay")||V.includes("compensation")||V.includes("bonus")?o.jsx(ig,{className:"h-5 w-5"}):V.includes("401k")||V.includes("retirement")||V.includes("pension")?o.jsx(ln,{className:"h-5 w-5"}):V.includes("stock")||V.includes("equity")||V.includes("options")?o.jsx(L8,{className:"h-5 w-5"}):V.includes("remote")||V.includes("workfromhome")||V.includes("wfh")?o.jsx(Mj,{className:"h-5 w-5"}):V.includes("flexible")||V.includes("flex")?o.jsx(Fd,{className:"h-5 w-5"}):V.includes("training")||V.includes("learning")||V.includes("education")||V.includes("development")?o.jsx(nd,{className:"h-5 w-5"}):V.includes("conference")||V.includes("certification")?o.jsx(td,{className:"h-5 w-5"}):V.includes("gym")||V.includes("fitness")||V.includes("wellness")?o.jsx(use,{className:"h-5 w-5"}):V.includes("food")||V.includes("meal")||V.includes("snack")||V.includes("catering")?o.jsx(jse,{className:"h-5 w-5"}):V.includes("coffee")||V.includes("drink")||V.includes("beverage")?o.jsx(cse,{className:"h-5 w-5"}):V.includes("parking")||V.includes("transport")||V.includes("commute")?o.jsx(rse,{className:"h-5 w-5"}):o.jsx(n0,{className:"h-5 w-5"})},W=G=>G.replace(/[_-]/g," ").split(" ").map(V=>V.charAt(0).toUpperCase()+V.slice(1).toLowerCase()).join(" "),te=()=>{if(f)return f.application_deadline||f.deadline||f.expires_at||f.expiration_date||void 0},je=G=>{if(G)try{const V=new Date(G);return isNaN(V.getTime())?G:V.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return G}},me=()=>{if(f)return f.job_category||f.category||f.industry||f.job_industry||void 0},pe=()=>window.location.href,Re=()=>{if(!f)return"Check out this job!";const G=K(),V=le();return`Check out this ${G} position at ${V}!`},ze=async()=>{if(!navigator.share)return!1;try{return await navigator.share({title:K(),text:Re(),url:pe()}),ue.success("Shared successfully!"),!0}catch(G){return G.name!=="AbortError"&&console.error("Error sharing:",G),!1}},ot=async()=>{try{await navigator.clipboard.writeText(pe()),ue.success("Link copied to clipboard!")}catch(G){console.error("Error copying link:",G),ue.error("Failed to copy link")}},Ze=()=>{const V=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(pe())}`;window.open(V,"_blank","width=600,height=400")},Ke=()=>{const G=encodeURIComponent(pe()),V=encodeURIComponent(K()),se=encodeURIComponent(Re()),ke=`https://www.linkedin.com/sharing/share-offsite/?url=${G}&title=${V}&summary=${se}`;window.open(ke,"_blank","width=600,height=400")},Me=async()=>{navigator.share&&await ze()};return o.jsxs(Dt,{children:[o.jsxs("div",{ref:d,className:"max-w-5xl mx-auto pt-0 sm:pt-4 pb-40 sm:pb-32 md:pb-24 px-1 sm:px-4 md:px-6",children:[g&&o.jsx(Ne,{className:"mb-6 border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-900",children:o.jsx(Pe,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3 text-red-700 dark:text-red-400",children:[o.jsx(qi,{className:"h-5 w-5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"Error loading job details"}),o.jsx("p",{className:"text-sm",children:g.message})]})]})})}),h&&o.jsx("div",{className:"space-y-6",children:o.jsx(Ne,{children:o.jsxs(Pe,{className:"p-6",children:[o.jsx(Ar,{className:"h-8 w-3/4 mb-4"}),o.jsx(Ar,{className:"h-4 w-1/2 mb-6"}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx(Ar,{className:"h-16 w-16 rounded-full"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Ar,{className:"h-5 w-1/3 mb-2"}),o.jsx(Ar,{className:"h-4 w-1/4"})]})]}),o.jsx(Ar,{className:"h-32 w-full"})]})})}),!h&&f&&o.jsx(Ne,{className:"md:bg-card md:border md:shadow-sm bg-transparent border-0 shadow-none",children:o.jsxs(Pe,{className:"p-3 sm:p-6 space-y-8",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-6",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex flex-col gap-1 mb-3",children:[le()&&o.jsx("p",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400",children:le()}),o.jsx("h1",{className:"text-lg md:text-2xl font-semibold text-gray-900 dark:text-white",children:K()})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[o.jsx(Zx,{className:"h-4 w-4"}),o.jsx("span",{children:Z()})]})}),o.jsxs("div",{className:"flex flex-nowrap md:flex-wrap gap-2 md:gap-4 mb-6 text-sm md:text-base font-medium text-gray-700 dark:text-gray-200 overflow-x-auto",children:[o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[o.jsx(gse,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),o.jsx("span",{children:q()})]}),o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[o.jsx(Fd,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),o.jsx("span",{children:H()})]}),o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[o.jsx(ln,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),o.jsx("span",{children:X()})]}),f.date_posted||f.posted_date?o.jsxs(or,{variant:"secondary",className:"flex items-center gap-1",children:[o.jsx(j1,{className:"h-3 w-3"}),"Posted:"," ",je(f.date_posted||f.posted_date)||f.date_posted||f.posted_date]}):null]})]}),o.jsxs("div",{className:"flex flex-row items-start gap-2 md:pt-0",children:[ie()?o.jsx(re,{variant:"default",size:"sm",onClick:()=>window.open(ie(),"_blank"),children:"Apply Now"}):o.jsx(re,{disabled:!0,variant:"outline",size:"sm",className:"flex items-center gap-2",children:"Apply Link Not Available"}),o.jsxs("div",{className:"flex flex-row items-start gap-2 ml-auto",children:[r&&o.jsx(re,{variant:"secondary",size:"icon",onClick:()=>Y.mutate(),disabled:Y.isPending,"aria-label":y?"Unsave job":"Save job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:o.jsx(aa,{className:`h-4 w-4 ${y?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),s&&navigator.share?o.jsx(re,{variant:"secondary",size:"icon",onClick:Me,"aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:o.jsx(av,{className:"h-4 w-4"})}):o.jsxs(O3,{children:[o.jsx($3,{asChild:!0,children:o.jsx(re,{variant:"secondary",size:"icon","aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:o.jsx(av,{className:"h-4 w-4"})})}),o.jsxs(FE,{align:"end",children:[o.jsxs(Ql,{onClick:ot,children:[o.jsx(u$,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Copy Link"})]}),o.jsxs(Ql,{onClick:Ze,children:[o.jsx(d$,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on Facebook"})]}),o.jsxs(Ql,{onClick:Ke,children:[o.jsx(f$,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on LinkedIn"})]})]})]})]})]})]})}),o.jsxs("div",{className:"pt-8",children:[o.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(ln,{className:"h-5 w-5"}),"Responsibilities"]})}),b?o.jsx(Ne,{children:o.jsx(Pe,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[o.jsx(wc,{className:"h-5 w-5 animate-spin text-breneo-accent"}),o.jsx("p",{className:"text-sm",children:"AI is extracting responsibilities from the job description..."})]})})}):S?o.jsx(Ne,{className:"border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-900",children:o.jsx(Pe,{className:"p-6",children:o.jsxs("div",{className:"flex items-start gap-3 text-red-600 dark:text-red-400",children:[o.jsx(qi,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Failed to extract responsibilities"}),o.jsx("p",{className:"text-xs",children:S})]})]})})}):x?o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",style:{whiteSpace:"pre-line"},children:x.split(`
`).map((G,V)=>{const se=G.trim();return se?/^[\-*]\s/.test(se)?o.jsx("div",{className:"mb-2 ml-4",children:se},V):o.jsx("p",{className:"mb-2",children:se},V):null})}):o.jsx(Ne,{children:o.jsx(Pe,{className:"p-6",children:o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No responsibilities information available for this job."})})})]}),o.jsxs("div",{className:"pt-8",children:[o.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(nd,{className:"h-5 w-5"}),"Qualifications"]})}),N?o.jsx(Ne,{children:o.jsx(Pe,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[o.jsx(wc,{className:"h-5 w-5 animate-spin text-breneo-accent"}),o.jsx("p",{className:"text-sm",children:"AI is extracting qualifications from the job description..."})]})})}):A?o.jsx(Ne,{className:"border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-900",children:o.jsx(Pe,{className:"p-6",children:o.jsxs("div",{className:"flex items-start gap-3 text-red-600 dark:text-red-400",children:[o.jsx(qi,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Failed to extract qualifications"}),o.jsx("p",{className:"text-xs",children:A})]})]})})}):j?o.jsxs("div",{className:"space-y-4",children:[r&&(M.length>0||B.length>0)&&o.jsx(Ne,{children:o.jsxs(Pe,{className:"p-6",children:[o.jsx("div",{className:"flex items-center gap-3 mb-4",children:o.jsx("h3",{className:"text-base font-semibold",children:"Skills Match"})}),T?o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-4",children:[o.jsx(wc,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Loading your skills..."})]}):F.size===0?o.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400 mb-4",children:[o.jsx(qi,{className:"h-4 w-4"}),o.jsxs("span",{children:["You haven't taken the skill test yet."," ",o.jsx("button",{onClick:()=>a("/skill-test"),className:"underline hover:no-underline font-medium",children:"Take the skill test"})," ","to see your skill match."]})]}):null,o.jsx("div",{className:"flex flex-wrap gap-2",children:(M.length>0?M:B).map((G,V)=>{const se=F.has(G.toLowerCase());return o.jsxs("div",{className:`flex items-center gap-2 px-4 py-2.5 rounded-[14px] transition-colors ${se?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[o.jsx("div",{className:"flex-shrink-0",children:se?o.jsx(wse,{className:"h-4 w-4 text-white"}):o.jsx(RN,{className:"h-4 w-4"})}),o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:G})]},V)})})]})}),o.jsx("div",{children:o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",style:{whiteSpace:"pre-line"},children:j.split(`
`).map((G,V)=>{const se=G.trim();return se?/^[\-*]\s/.test(se)?o.jsx("div",{className:"mb-2 ml-4",children:se},V):o.jsx("p",{className:"mb-2",children:se},V):null})})})]}):o.jsx(Ne,{children:o.jsx(Pe,{className:"p-6",children:o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No qualifications information available for this job."})})})]}),J()&&o.jsxs("div",{className:"pt-8",children:[o.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold mb-4",children:[o.jsx(bse,{className:"h-5 w-5"}),"Requirements & Qualifications"]}),o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:(J()||"").toString().replace(/\n/g,"<br />")}})]}),(oe()||he()||ne().length>0||me()||te())&&o.jsxs("div",{className:"pt-8",children:[o.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold mb-4",children:[o.jsx(rd,{className:"h-5 w-5"}),"Job Details"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[oe()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(ln,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Required Experience"}),o.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:oe()})]})]}),he()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(nd,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Education Required"}),o.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:he()})]})]}),me()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(dse,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Category/Industry"}),o.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:me()})]})]}),te()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(j1,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Application Deadline"}),o.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:je(te())||te()})]})]})]}),ne().length>0&&o.jsxs("div",{className:"mt-6 pt-6",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Required Skills"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:ne().map((G,V)=>o.jsxs(or,{variant:"secondary",className:"flex items-center gap-1",children:[o.jsx(td,{className:"h-3 w-3"}),G]},V))})]})]}),fe().length>0&&o.jsxs("div",{className:"pt-8",children:[o.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold mb-4",children:[o.jsx(n0,{className:"h-5 w-5"}),"Benefits & Perks"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:fe().map((G,V)=>o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-3xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[o.jsx("div",{className:"flex-shrink-0 text-breneo-accent",children:_e(G)}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:W(G)})]},V))})]})]})}),!h&&!f&&!g&&o.jsx(Ne,{children:o.jsx(Pe,{className:"p-6",children:o.jsxs("div",{className:"text-center text-gray-500",children:[o.jsx(qi,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),o.jsx("p",{className:"font-semibold mb-2",children:"No job details found"}),o.jsxs("p",{className:"text-sm",children:["Job ID: ",t||"Not provided"]}),o.jsx("p",{className:"text-sm mt-2",children:"The API may not have returned data for this job."}),o.jsx(re,{onClick:()=>{n.invalidateQueries({queryKey:["jobDetail",t]})},variant:"outline",className:"mt-4",children:"Retry"})]})})})]}),f&&o.jsx("div",{className:de("fixed bottom-0 right-0 z-[60]","bg-[#F8F9FA] dark:bg-[#181818]","border-t border-black/[0.03] dark:border-white/[0.03]","shadow-lg transition-all duration-300 ease-in-out",c?"md:left-24":"md:left-[17rem]","left-0",i?"opacity-100 translate-y-0":"opacity-0 translate-y-full pointer-events-none"),children:o.jsx("div",{className:"px-5 sm:px-9 md:px-12 lg:px-14 py-4",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:K()}),le()&&o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:le()})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r&&o.jsx(re,{variant:"secondary",size:"icon",onClick:()=>Y.mutate(),disabled:Y.isPending,"aria-label":y?"Unsave job":"Save job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:o.jsx(aa,{className:`h-4 w-4 ${y?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),s&&navigator.share?o.jsx(re,{variant:"secondary",size:"icon",onClick:Me,"aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:o.jsx(av,{className:"h-4 w-4"})}):o.jsxs(O3,{children:[o.jsx($3,{asChild:!0,children:o.jsx(re,{variant:"secondary",size:"icon","aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:o.jsx(av,{className:"h-4 w-4"})})}),o.jsxs(FE,{align:"end",children:[o.jsxs(Ql,{onClick:ot,children:[o.jsx(u$,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Copy Link"})]}),o.jsxs(Ql,{onClick:Ze,children:[o.jsx(d$,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on Facebook"})]}),o.jsxs(Ql,{onClick:Ke,children:[o.jsx(f$,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on LinkedIn"})]})]})]}),ie()?o.jsx(re,{variant:"default",size:"sm",onClick:()=>window.open(ie(),"_blank"),className:"whitespace-nowrap",children:"Apply Now"}):o.jsx(re,{disabled:!0,variant:"outline",size:"sm",className:"whitespace-nowrap",children:"Apply Unavailable"})]})]})})})]})},R3={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern",INTERNSHIP:"Internship"},ELe=async(e,t=1)=>{var r;try{console.log(` fetchCompanyJobs called - fetching jobs for company: ${e}, page ${t}`);const n=await fs.fetchActiveJobs({query:e,filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:t,pageSize:50});if(console.log(" fetchCompanyJobs response:",{totalJobs:((r=n.jobs)==null?void 0:r.length)||0,hasMore:n.hasMore,searchCompany:e}),!n||!Array.isArray(n.jobs))return console.warn("Invalid response format from job service:",n),{jobs:[],hasMore:!1,total:0};const a=n.jobs.filter(i=>{const l=i.company&&typeof i.company=="object"?i.company:null,c=(l==null?void 0:l.name)||(l==null?void 0:l.company_name)||i.companyName||i.employer_name||i.company_name||(typeof i.company=="string"?i.company:null)||"";if(!c||c.trim()==="")return!1;const u=c.trim().toLowerCase(),d=e.trim().toLowerCase();return u===d||u.includes(d)||d.includes(u)||u.replace(/\s+/g,"")===d.replace(/\s+/g,"")});console.log(" Filtered company jobs:",{beforeFilter:n.jobs.length,afterCompanyFilter:a.length,searchCompany:e,sampleCompanies:a.slice(0,3).map(i=>{const l=i.company&&typeof i.company=="object"?i.company:null;return(l==null?void 0:l.name)||i.employer_name||i.company_name||(typeof i.company=="string"?i.company:null)||"Unknown"})});const s=a.filter(i=>{const l=i.job_id||i.id;return l&&l.trim()!==""});if(console.log(` Final valid jobs for ${e}:`,s.length),s.length===0&&t===1){console.log(" No jobs found with company name search, trying broader search...");try{const i=await fs.fetchActiveJobs({query:"",filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:1,pageSize:100});if(i&&Array.isArray(i.jobs)){const c=i.jobs.filter(u=>{const d=u.company&&typeof u.company=="object"?u.company:null,f=(d==null?void 0:d.name)||(d==null?void 0:d.company_name)||u.companyName||u.employer_name||u.company_name||(typeof u.company=="string"?u.company:null)||"";if(!f||f.trim()==="")return!1;const h=f.trim().toLowerCase(),g=e.trim().toLowerCase();return h===g||h.includes(g)||g.includes(h)||h.replace(/\s+/g,"")===g.replace(/\s+/g,"")}).filter(u=>{const d=u.job_id||u.id;return d&&d.trim()!==""});return console.log(` Broader search found ${c.length} jobs for ${e}`),{jobs:c,hasMore:!1,total:c.length}}}catch(i){console.error("Error in broader search:",i)}}return{jobs:s,hasMore:n.hasMore??!1,total:s.length}}catch(n){return console.error("Error fetching company jobs:",n),{jobs:[],hasMore:!1,total:0}}},NLe=()=>{var E,j;const{companyName:e}=tg(),{user:t}=br(),r=za(),n=hr(),[a,s]=p.useState(1),[i,l]=p.useState([]),[c,u]=p.useState(!1),[d,f]=p.useState(!1),h=e?decodeURIComponent(e):"",{data:g=[]}=ir({queryKey:["savedJobs",t==null?void 0:t.id],queryFn:async()=>{var k;if(!t)return[];try{return(((k=(await Ce.get(mt.AUTH.PROFILE)).data)==null?void 0:k.saved_jobs)||[]).map(A=>String(A))}catch(N){return console.error("Error fetching saved jobs:",N),[]}},enabled:!!t}),{data:v={jobs:[],hasMore:!1,total:0},isLoading:m,error:y}=ir({queryKey:["companyJobs",h,a],queryFn:()=>ELe(h,a),enabled:!!h,refetchOnWindowFocus:!1,staleTime:5*60*1e3});p.useEffect(()=>{if(v.jobs&&v.jobs.length>0){const k=xi(v.jobs),N=gp(k);l(a===1?N:C=>{const A=new Set(C.map(B=>B.job_id||B.id)),I=N.filter(B=>!A.has(B.job_id||B.id));return[...C,...I]}),u(v.hasMore),f(!1)}else a===1&&(l([]),u(!1))},[v,a]);const x=Hs({mutationFn:async k=>{if(!t)throw new Error("User not logged in");if(!k.id)throw new Error("Job ID is required");const N=String(k.id),C=`${mt.JOBS.SAVE_JOB}${N}/`;await Ce.post(C)},onSuccess:(k,N)=>{r.invalidateQueries({queryKey:["savedJobs",t==null?void 0:t.id]}),r.invalidateQueries({queryKey:["profile"]}),ue.success(N.is_saved?"Job Unsaved":"Job Saved")},onError:k=>{console.error("Error saving job:",k),ue.error("Failed to save job")}}),w=p.useMemo(()=>!i||i.length===0?[]:i.map(k=>{const N=k.company&&typeof k.company=="object"?k.company:null,C=k.job_id||k.id||"";if(!C||C.trim()==="")return null;const A=k.job_title||k.title||k.position||"Untitled Position",I=(N==null?void 0:N.name)||(N==null?void 0:N.company_name)||k.companyName||k.employer_name||k.company_name||(typeof k.company=="string"?k.company:null)||"Unknown Company",B=k.job_city||k.city||(N==null?void 0:N.city)||"",z=k.job_state||k.state||(N==null?void 0:N.state)||"",M=k.job_country||k.country||(N==null?void 0:N.country)||"",$=k.jobLocation||k.location||(N==null?void 0:N.location)||[B,z,M].filter(Boolean).join(", ")||"Location not specified",F=k.applyUrl||k.jobUrl||k.job_apply_link||k.apply_link||k.url||k.apply_url||k.company_url||(N==null?void 0:N.url)||"";let O;if(k.companyLogo&&(O=k.companyLogo),!O&&k.employer_logo&&(O=k.employer_logo),!O&&k.company_logo&&(O=k.company_logo),!O&&k.logo&&(O=k.logo),!O&&k.logo_url&&(O=k.logo_url),!O&&N&&(N.logo&&(O=N.logo),!O&&N.logo_url&&(O=N.logo_url),!O&&N.company_logo&&(O=N.company_logo)),O)try{new URL(O).protocol.startsWith("http")||(O=void 0)}catch{O=void 0}let L="By agreement";const Q=k.job_min_salary||k.min_salary,T=k.job_max_salary||k.max_salary,D=k.job_salary_currency||k.salary_currency||"$",Y=k.job_salary_period||k.salary_period||"yearly";if(Q&&T&&typeof Q=="number"&&typeof T=="number"){const H=Y==="monthly"?"Monthly":"",X=Q.toLocaleString(),ce=T.toLocaleString();["$","","","","",""].some(ne=>D.includes(ne))?L=`${D}${X} - ${D}${ce}${H?`/${H}`:""}`:L=`${X} - ${ce} ${D}${H?`/${H}`:""}`}else if(Q&&typeof Q=="number"){const H=Q.toLocaleString();L=["$","","","","",""].some(J=>D.includes(J))?`${D}${H}+`:`${H}+ ${D}`}else k.salary&&typeof k.salary=="string"&&(L=k.salary);const q=k.job_employment_type||k.employment_type||k.type||"FULLTIME",ie=q.toUpperCase(),le=R3[ie]||R3[q]||q||"Full time";let K="On-site";return k.job_is_remote||k.is_remote||k.remote===!0?K="Remote":A!=null&&A.toLowerCase().includes("hybrid")&&(K="Hybrid"),{id:C,title:A,company:I,location:$,url:F,company_logo:O,is_saved:g==null?void 0:g.includes(String(C)),salary:L,employment_type:le,work_arrangement:K}}).filter(k=>k!==null),[i,g]),b=()=>{f(!0),s(k=>k+1)},_=(E=w[0])==null?void 0:E.company_logo,S=((j=w[0])==null?void 0:j.company)||h;return o.jsx(Dt,{children:o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(re,{variant:"ghost",onClick:()=>n("/jobs"),className:"mb-4",children:[o.jsx(cp,{className:"h-4 w-4 mr-2"}),"Back to Jobs"]}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[_?o.jsx("img",{src:_,alt:`${S} logo`,className:"w-16 h-16 rounded-full object-cover border border-gray-200",onError:k=>{const N=k.target;N.style.display="none"}}):o.jsx("div",{className:"w-16 h-16 rounded-full bg-breneo-accent flex items-center justify-center",children:o.jsx(c$,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:S}),o.jsxs("p",{className:"text-gray-500",children:[w.length," Job",w.length!==1?"s":""," Available"]})]})]})]}),y&&o.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-md flex items-center gap-3 mb-6",children:[o.jsx(qi,{className:"h-5 w-5"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Error:"})," ",y==null?void 0:y.message]})]}),m&&a===1&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((k,N)=>o.jsx(Ne,{children:o.jsx(Pe,{className:"p-5",children:o.jsx(Ar,{className:"h-32 w-full"})})},N))}),!m&&w.length===0&&o.jsxs("div",{className:"text-center p-10 border border-dashed rounded-3xl text-muted-foreground",children:[o.jsx(c$,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No Jobs Found"}),o.jsxs("p",{className:"text-sm",children:["No job openings found for ",S," at this time."]})]}),w.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-8",children:w.map(k=>o.jsx(Ne,{className:"group flex flex-col transition-all duration-200 border border-gray-200 hover:border-gray-400 overflow-hidden rounded-3xl",children:o.jsxs(Pe,{className:"p-5 flex flex-col flex-grow relative",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[k.company_logo?o.jsx("img",{src:k.company_logo,alt:`${k.company} logo`,className:"w-12 h-12 rounded-full object-cover border border-gray-200 absolute inset-0 z-10",loading:"lazy",onError:N=>{var I;const C=N.target;C.onerror=null,C.style.display="none";const A=(I=C.parentElement)==null?void 0:I.querySelector(".logo-fallback");A&&(A.style.display="flex",A.style.zIndex="10")}}):null,k.company&&!k.company_logo?o.jsx("img",{src:`https://logo.clearbit.com/${encodeURIComponent(k.company)}`,alt:`${k.company} logo`,className:"w-12 h-12 rounded-full object-cover border border-gray-200 absolute inset-0 clearbit-logo",style:{zIndex:10},loading:"lazy",onError:N=>{var I;const C=N.target;C.onerror=null,C.style.display="none";const A=(I=C.parentElement)==null?void 0:I.querySelector(".logo-fallback");A&&(A.style.display="flex",A.style.zIndex="10")}}):null,o.jsx("div",{className:`w-12 h-12 rounded-full bg-breneo-accent flex items-center justify-center logo-fallback absolute inset-0 ${k.company_logo||k.company&&!k.company_logo?"hidden":"flex"}`,style:{zIndex:k.company_logo||k.company&&!k.company_logo?0:10},children:o.jsx(ln,{className:"h-6 w-6 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base truncate",children:k.company}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:k.location})]})]}),o.jsx("h4",{className:"font-bold text-lg mb-4 line-clamp-2",children:k.title}),o.jsxs("div",{className:"space-y-2 mb-4 md:mb-4 flex-grow pb-20 md:pb-0",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(ig,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:k.salary})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Fd,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:k.employment_type})]}),k.work_arrangement&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(ln,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:k.work_arrangement})]})]}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 bg-card flex items-center gap-2 transform translate-y-0 md:translate-y-full md:group-hover:translate-y-0 transition-transform duration-200 ease-in-out shadow-lg",children:[o.jsx(re,{variant:"default",onClick:()=>{if(!k.id||k.id.trim()===""){ue.error("Cannot open job: Invalid job ID");return}const N=encodeURIComponent(k.id);n(`/jobs/${N}`)},className:"flex-1",disabled:!k.id||k.id.trim()==="",children:"View"}),o.jsx(re,{variant:"default",size:"icon",onClick:()=>x.mutate(k),"aria-label":k.is_saved?"Unsave job":"Save job",className:k.is_saved?"bg-primary/90":"",children:o.jsx(aa,{className:`h-5 w-5 transition-colors ${k.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-white"}`})})]})]})},k.id))}),c&&o.jsx("div",{className:"flex justify-center mt-6 mb-8",children:o.jsx(re,{onClick:b,disabled:d,variant:"outline",className:"min-w-[200px]",children:d?o.jsxs(o.Fragment,{children:[o.jsx(wc,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Load More Jobs"})})]})]})})},Yh=e=>e.toLowerCase().trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").replace(/_+/g,"_").replace(/^_|_$/g,""),CLe=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),PLe="",I3="",M3="",ALe="",TLe="Interests / Skills",L3=({filters:e,onFiltersChange:t,isMobile:r=!1,userTopSkills:n=[],mobileView:a="main",onMobileViewChange:s,countrySearchQuery:i="",onCountrySearchChange:l})=>{const{t:c}=Gs(),[u,d]=p.useState(!1),[f,h]=p.useState(""),g=l&&i!==void 0?i:f,v=_=>{l?l(_):h(_)},m=R.useMemo(()=>{if(!g.trim())return Gr;const _=g.toLowerCase();return Gr.filter(S=>S.name.toLowerCase().includes(_)||S.code.toLowerCase().includes(_))},[g]);p.useEffect(()=>{r&&a!=="country"&&(l?l(""):h("")),!r&&!u&&(l?l(""):h(""))},[a,u,r,l]);const y=_=>{const S=e.countries.includes(_)?e.countries.filter(E=>E!==_):[...e.countries,_];t({...e,countries:S,skills:e.skills||[]})},x=_=>{const S=e.skills.includes(_)?e.skills.filter(E=>E!==_):[...e.skills,_];t({...e,skills:S,countries:e.countries||[]})},w=()=>{if(n.length===0)return;const _=n.every(S=>e.skills.includes(S));t(_?{...e,skills:[],countries:e.countries||[]}:{...e,skills:n,countries:e.countries||[]})},b=n.length>0&&n.every(_=>e.skills.includes(_));return r?a==="country"?o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden -mx-6 px-6",children:o.jsx("div",{className:"space-y-2",children:m.length===0?o.jsx("div",{className:"py-8 text-center text-sm text-gray-500",children:"No countries found"}):m.map(_=>{const S=e.countries.includes(_.code);return o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-2",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 truncate",children:_.name}),o.jsx(ta,{checked:S,onCheckedChange:()=>y(_.code),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},_.code)})})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s("country"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.country}),o.jsx(Ia,{className:"h-4 w-4 text-gray-400"})]})}),n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Fe,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:ALe}),o.jsx("button",{type:"button",onClick:w,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:b?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(_=>{const S=e.skills.includes(_);return o.jsx("button",{type:"button",onClick:()=>x(_),className:`
                      px-4 py-2 rounded-full text-sm font-medium transition-colors border
                      ${S?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                    `,children:_},_)})})]})]}):o.jsxs("div",{className:"space-y-6",children:[n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Fe,{className:"text-base font-medium dark:text-gray-100",children:TLe}),o.jsx("button",{type:"button",onClick:w,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:b?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(_=>{const S=e.skills.includes(_);return o.jsx("button",{type:"button",onClick:()=>x(_),className:`
                    px-4 py-2 rounded-full text-sm font-medium transition-colors border
                    ${S?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                  `,children:_},_)})})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs(OE,{open:u,onOpenChange:_=>{d(_),_||v("")},children:[o.jsxs($E,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${u?"rounded-t-lg":"rounded-lg"}`,children:[o.jsx(Fe,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.country}),o.jsx(Dd,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${u?"transform rotate-180":""}`})]}),o.jsx(RE,{className:"mt-0",children:o.jsxs("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:[o.jsx("div",{className:"sticky top-0 z-10 bg-gray-100 dark:bg-[rgb(55,57,60)] p-3 border-b border-gray-300 dark:border-gray-600",children:o.jsxs("div",{className:"relative",children:[o.jsx(oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(ft,{type:"text",placeholder:"Search countries...",value:g,onChange:_=>v(_.target.value),className:"pl-9 pr-3 h-9 text-sm bg-white dark:bg-gray-700"})]})}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-2 gap-2",children:m.length===0?o.jsx("div",{className:"col-span-2 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):m.map(_=>{const S=e.countries.includes(_.code);return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(ta,{checked:S,onCheckedChange:()=>y(_.code),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:_.name})]},_.code)})})})]})})]})})]})},OLe=({isOpen:e,onClose:t,filters:r,onFiltersChange:n,onApply:a,onClear:s,userTopSkills:i=[]})=>{const{t:l}=Gs(),c=Ea(),[u,d]=p.useState("main"),[f,h]=p.useState("");return p.useEffect(()=>{e||(d("main"),h(""))},[e]),c?o.jsx(Un,{open:e,onOpenChange:t,children:o.jsxs(zn,{className:"max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(qn,{className:"flex-shrink-0 border-b border-gray-200",children:o.jsx(Wn,{className:"text-xl font-bold",children:u==="country"?l.jobs.country:PLe})}),u==="country"&&o.jsx("div",{className:"flex-shrink-0 px-6 py-3 border-b border-gray-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(ft,{type:"text",placeholder:"Search countries...",value:f,onChange:g=>h(g.target.value),className:"pl-9 pr-3 h-9 text-sm"})]})}),o.jsx("div",{className:"px-6 py-6 flex-1 overflow-y-auto min-h-0",children:o.jsx(L3,{filters:r,onFiltersChange:n,isMobile:!0,userTopSkills:i,mobileView:u,onMobileViewChange:d,countrySearchQuery:f,onCountrySearchChange:h})}),u==="main"&&o.jsx(xa,{className:"border-t border-gray-200",children:o.jsxs("div",{className:`flex gap-3 w-full ${s?"justify-between":"justify-end"}`,children:[s&&o.jsx(re,{onClick:()=>{s(),d("main")},variant:"ghost",className:"h-12 px-6 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0 rounded-[18px]",children:M3}),o.jsx(re,{onClick:()=>{a(),d("main")},className:"h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:I3})]})}),u==="country"&&o.jsx(xa,{className:"border-t border-gray-200",children:o.jsx(re,{onClick:()=>{h(""),d("main")},className:"w-full h-12 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:"Done"})})]})}):o.jsx(kn,{open:e,onOpenChange:t,children:o.jsxs(mn,{className:"max-w-3xl max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(gn,{className:"flex-shrink-0",children:o.jsx(vn,{children:"Filter Courses"})}),o.jsx("div",{className:"py-4 overflow-y-auto flex-1 min-h-0",children:o.jsx(L3,{filters:r,onFiltersChange:n,isMobile:!1,userTopSkills:i,countrySearchQuery:f,onCountrySearchChange:h})}),o.jsx(Bn,{className:"flex-shrink-0",children:o.jsxs("div",{className:`flex gap-3 w-full ${s?"justify-between":"justify-end"}`,children:[s&&o.jsx(re,{onClick:()=>{s()},variant:"ghost",className:"w-auto h-10 px-4 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0",children:M3}),o.jsx(re,{onClick:a,className:"w-auto h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90",children:I3})]})})]})})},wu="coursesFilters",XH="coursesFilteredResults",Mv=(e,t,r)=>{try{sessionStorage.setItem(e,JSON.stringify({filters:t,search:r}))}catch(n){console.error("Error saving filters to session storage:",n)}},D3=e=>{try{const t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading filters from session storage:",t)}return null},$Le=e=>{try{sessionStorage.setItem(XH,JSON.stringify(e))}catch(t){console.error("Error saving filtered courses to session storage:",t)}},RLe=()=>{try{const e=sessionStorage.getItem(XH);if(e)return JSON.parse(e)}catch(e){console.error("Error loading filtered courses from session storage:",e)}return[]},ILe=()=>{const{user:e}=br(),t=za(),r=Ea();hr();const[n,a]=Hx(),[s,i]=p.useState(!1),[l,c]=p.useState([]),[u,d]=p.useState(!0),[f,h]=p.useState(()=>RLe()),g=p.useCallback((K,Z)=>{if(k.current)return;const H=new URLSearchParams;Z&&H.set("search",Z),K.countries.length>0&&H.set("countries",K.countries.join(",")),K.skills.length>0&&H.set("skills",K.skills.join(",")),a(H,{replace:!0}),Mv(wu,K,Z)},[a]),[v,m]=p.useState(()=>{const K=n.get("countries"),Z=n.get("skills"),H=n.get("country");if(K||Z||H)return{country:H||"Georgia",countries:K?K.split(",").filter(Boolean):[],skills:Z?Z.split(",").filter(Boolean):[]};const X=D3(wu);return X&&X.filters?X.filters:{country:"Georgia",countries:[],skills:[]}}),[y,x]=p.useState(()=>{const K=n.get("search");if(K)return K;const Z=D3(wu);return Z&&Z.search?Z.search:""}),[w,b]=p.useState(y),[_,S]=p.useState(v),E=K=>{let Z=0;return K.countries.length>0&&(Z+=K.countries.length),K.skills.length>0&&(Z+=K.skills.length),Z};p.useEffect(()=>{s&&S(v)},[s,v]);const j=R.useMemo(()=>JSON.stringify({countries:v.countries.sort(),skills:v.skills.sort()}),[v]),k=R.useRef(!1);p.useEffect(()=>{const K=n.get("countries"),Z=n.get("skills"),H=n.get("country"),X=n.get("search")||"",ce={country:H||"Georgia",countries:K?K.split(",").filter(Boolean):[],skills:Z?Z.split(",").filter(Boolean):[]},J=JSON.stringify(ce)!==JSON.stringify(v),oe=X!==y;(J||oe)&&(k.current=!0,m(ce),S(ce),oe&&x(X),setTimeout(()=>{k.current=!1},0))},[n]),p.useEffect(()=>{const K=n.get("country"),Z=n.get("countries");if(K&&!Z){const H=new URLSearchParams(n);H.delete("country"),a(H,{replace:!0})}},[]),p.useEffect(()=>{(async()=>{if(!e){d(!1);return}const Z=n.get("skills")!==null;try{d(!0);try{const X=await Ce.get("/api/skilltest/results/");if(X.data&&Array.isArray(X.data)&&X.data.length>0){const J=X.data[0].skills_json,oe=[];J!=null&&J.tech&&oe.push(...Object.keys(J.tech));const he=mp(oe).slice(0,5);c(he),Z||(m(fe=>{const _e={...fe,skills:fe.skills.length===0?he:fe.skills};return Mv(wu,_e,y),_e}),S(fe=>({...fe,skills:fe.skills.length===0?he:fe.skills}))),d(!1);return}}catch{console.log("API endpoint not available, trying Supabase...")}const H=await Jc(String(e.id));if(H&&H.length>0){const X=Yc(H),J=bb(X,10).map(he=>he.skill),ne=mp(J).slice(0,5);c(ne),Z||(m(he=>{const fe={...he,skills:he.skills.length===0?ne:he.skills};return Mv(wu,fe,y),fe}),S(he=>({...he,skills:he.skills.length===0?ne:he.skills})))}}catch(H){console.error("Error fetching user skills:",H)}finally{d(!1)}})()},[e]),p.useEffect(()=>{const K=sessionStorage.getItem("locationToastShown");n.get("countries")||navigator.geolocation.getCurrentPosition(async Z=>{try{const{latitude:H,longitude:X}=Z.coords,J=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${H}&longitude=${X}&localityLanguage=en`)).json();if(J.countryName){const oe=Gr.find(ne=>ne.name===J.countryName);m(ne=>{const he={...ne,country:J.countryName,countries:oe?[oe.code]:ne.countries};return setTimeout(()=>{if(!k.current){const fe=new URLSearchParams(n);he.countries.length>0?fe.set("countries",he.countries.join(",")):fe.delete("countries"),he.country&&he.country!=="Georgia"?fe.set("country",he.country):fe.delete("country"),a(fe,{replace:!0})}},0),he}),S(ne=>({...ne,country:J.countryName,countries:oe?[oe.code]:ne.countries})),K||(ue.info(`Showing courses in ${J.countryName}.`),sessionStorage.setItem("locationToastShown","true"))}}catch{K||(ue.error("Could not determine your location."),sessionStorage.setItem("locationToastShown","true"))}},()=>{K||(ue.info("Location permission denied. Defaulting to Georgia."),sessionStorage.setItem("locationToastShown","true"))})},[]),R.useCallback(K=>typeof K!="string"?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(K),[]);const N=e!=null&&e.id?String(e.id):null,C=R.useMemo(()=>!!N&&N.length>0,[N]),{data:A=[]}=ir({queryKey:["savedCourses",N],queryFn:async()=>{var K;if(!N||!C)return[];try{return(((K=(await Ce.get(mt.AUTH.PROFILE,{timeout:3e4})).data)==null?void 0:K.saved_courses)||[]).map(X=>String(X))}catch(Z){return console.error("Error fetching saved courses from profile API:",Z),[]}},enabled:C}),{data:I,isLoading:B}=ir({queryKey:["courses",A,w,j],queryFn:async()=>{let K=Vt.from("courses").select("*");w&&(K=K.or(`title.ilike.%${w}%,provider.ilike.%${w}%,category.ilike.%${w}%,description.ilike.%${w}%`));const{data:Z,error:H}=await K.order("created_at",{ascending:!1});if(H)return console.error("Error fetching courses:",H),[];const X=(Z==null?void 0:Z.map(oe=>{let ne=oe.image||"/lovable-uploads/no_photo.png";return ne&&!ne.startsWith("/")&&!ne.startsWith("http")&&(ne=`/${ne}`),{...oe,image:ne,match:0,topics:oe.topics||[],required_skills:oe.required_skills||[],is_saved:A==null?void 0:A.includes(String(oe.id))}}))||[],ce=[...new Set(X.map(oe=>oe.academy_id).filter(oe=>oe?String(oe).length>0:!1).map(oe=>String(oe)))],J=new Map;return ce.length>0&&await Promise.all(ce.map(async oe=>{try{const ne=await Ce.get(`${mt.ACADEMY.DETAIL}${oe}/`);if(ne.data){const he=ne.data,fe=he.profile_data||he,_e=(Ke,Me=fe)=>{const G=Me[Ke];return typeof G=="string"?G:void 0},W=_e("id",fe)||_e("academy_id",fe)||_e("id",he)||_e("academy_id",he)||oe,te=_e("academy_name",fe)||_e("name",fe)||_e("academy_name",he)||_e("name",he)||_e("first_name",fe)||_e("firstName",fe),je=_e("description",fe)||_e("description",he),me=_e("website_url",fe)||_e("websiteUrl",fe)||_e("website_url",he),pe=_e("contact_email",fe)||_e("contactEmail",fe)||_e("email",fe)||_e("contact_email",he),Re=_e("logo_url",fe)||_e("logoUrl",fe)||_e("logo",fe)||_e("logo_url",he)||_e("logoUrl",he),ze=_e("profile_photo_url",fe)||_e("profilePhotoUrl",fe)||_e("profile_photo",fe)||_e("profilePhoto",fe)||_e("profile_photo_url",he),ot=_e("profile_image_url",fe)||_e("profileImageUrl",fe)||_e("profile_image",fe)||_e("profileImage",fe)||_e("image_url",fe)||_e("imageUrl",fe)||_e("profile_image_url",he)||_e("profileImageUrl",he)||ze,Ze=_e("slug",fe)||_e("slug",he);J.set(oe,{id:W||oe,academy_name:te||"",description:je||"",website_url:me,contact_email:pe,logo_url:Re,profile_photo_url:ze,profile_image_url:ot||ze,slug:Ze||Yh(te||"")})}}catch{console.debug(`Could not fetch academy profile for ${oe} from Django API`)}})),X.map(oe=>{const ne=oe.academy_id?J.get(oe.academy_id):null;let he=null;return ne?he=ne:he=null,{...oe,academy_profile_data:he}})},enabled:!!A,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:3*60*1e3,gcTime:10*60*1e3}),z=R.useMemo(()=>{if(!I)return[];let K=I;return v.skills.length>0&&(K=I.filter(Z=>Z.required_skills.some(H=>v.skills.some(X=>H.toLowerCase().includes(X.toLowerCase())||X.toLowerCase().includes(H.toLowerCase()))))),!l||l.length===0?K.map(Z=>({...Z,match:50})):K.map(Z=>{const H=Z.required_skills.filter(ce=>l.some(J=>J.toLowerCase().includes(ce.toLowerCase())||ce.toLowerCase().includes(J.toLowerCase()))),X=Z.required_skills.length>0?Math.round(H.length/Z.required_skills.length*100):50;return{...Z,match:Math.max(X,25)}}).sort((Z,H)=>H.match-Z.match)},[l,I,v.skills]),M=R.useMemo(()=>{let K=z;if(v.countries.length>0){const Z=v.countries.map(H=>{var X;return(X=Gr.find(ce=>ce.code===H))==null?void 0:X.name}).filter(Boolean);K=K.filter(H=>{var ce;const X=((ce=H.academy_profile_data)==null?void 0:ce.academy_name)||H.provider||"";return Z.some(J=>X.toLowerCase().includes(J.toLowerCase()))})}return K},[z,v.countries]);p.useEffect(()=>{B||($Le(M),h(M))},[M,B]);const $=({course:K})=>{const Z=za(),H=Hs({mutationFn:async ce=>{if(!N)throw new Error("Please log in to save courses.");await Ce.post(`/api/save-course/${ce}/`)},onMutate:async ce=>{await Z.cancelQueries({queryKey:["savedCourses",N]});const J=Z.getQueryData(["savedCourses",N]);let oe=!1;return Z.setQueryData(["savedCourses",N],ne=>{if(!ne)return ne;const he=String(ce);return oe=ne.includes(he),oe?ne.filter(fe=>fe!==he):[...ne,he]}),{previousSavedCourses:J,wasSaved:oe}},onError:(ce,J,oe)=>{oe!=null&&oe.previousSavedCourses&&N&&Z.setQueryData(["savedCourses",N],oe.previousSavedCourses),console.error("Error updating saved courses:",ce),ue.error("Failed to update saved courses. Please try again.")},onSuccess:(ce,J,oe)=>{Z.invalidateQueries({queryKey:["savedCourses",N]}),Z.invalidateQueries({queryKey:["courses"]}),Z.invalidateQueries({queryKey:["profile"]});const ne=(oe==null?void 0:oe.wasSaved)??!1;ue.success(ne?"Removed from saved courses.":"Course saved to your profile.")}}),X=A==null?void 0:A.includes(String(K.id));return o.jsx(re,{variant:"secondary",size:"icon",onClick:ce=>{ce.preventDefault(),ce.stopPropagation(),H.mutate(String(K.id))},disabled:H.isPending,"aria-label":X?"Unsave course":"Save course",className:de("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",X?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(aa,{className:de("h-4 w-4 transition-colors",X?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})},F=K=>{const Z={...v,countries:K};m(Z),S(Z),g(Z,y),t.invalidateQueries({queryKey:["courses"]})},O=p.useCallback(()=>{b(y),g(v,y),t.invalidateQueries({queryKey:["courses"]})},[y,v,g,t]),L=K=>{K.key==="Enter"&&O()},Q=K=>{x(K)};p.useEffect(()=>{if(y===w)return;const K=setTimeout(()=>{b(y),g(v,y),t.invalidateQueries({queryKey:["courses"]})},300);return()=>{clearTimeout(K)}},[y,v,g,t,w]);const T=()=>{m(_),g(_,y),i(!1),t.invalidateQueries({queryKey:["courses"]})},D=()=>{const K={country:"Georgia",countries:[],skills:[]};S(K),m(K);const Z=new URLSearchParams;y&&Z.set("search",y),a(Z,{replace:!0}),Mv(wu,K,y),i(!1),t.invalidateQueries({queryKey:["courses"]})},Y=K=>o.jsx(Mr,{to:`/course/${K.id}`,className:"block",children:o.jsx(Ne,{className:"relative transition-all duration-200 cursor-pointer group border border-gray-200 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600 rounded-3xl w-full flex flex-col",children:o.jsxs(Pe,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:K.image&&!K.image.startsWith("http")&&!K.image.startsWith("/")?`/${K.image}`:K.image||"/placeholder.svg",alt:K.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200 origin-center",style:{transformOrigin:"center center"},onError:Z=>{Z.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:K.title}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:K.duration&&o.jsx(or,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:K.duration})}),o.jsx("div",{onClick:Z=>Z.preventDefault(),children:o.jsx($,{course:K})})]})]})]})})}),q=B&&f.length>0,ie=q?f:M,le=q?f.length:M.length;return o.jsxs(Dt,{children:[o.jsx(sC,{}),o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] border border-gray-300 dark:border-gray-600 rounded-xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-3 md:py-4 overflow-visible min-h-[3.5rem] flex-1",children:[o.jsx(ln,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),o.jsx(ft,{placeholder:"",value:y,onChange:K=>Q(K.target.value),onKeyDown:L,className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(BW,{selectedLocations:v.countries,onLocationsChange:F,placeholder:"Location"})})]})]}),(()=>{const K=E(v);return o.jsxs(re,{variant:"outline",onClick:()=>i(!0),className:"group flex items-center gap-2 bg-transparent border border-breneo-blue rounded-xl px-4 py-3 md:py-4 hover:bg-breneo-blue hover:text-white text-gray-900 dark:text-gray-100 whitespace-nowrap h-auto relative min-h-[3.5rem] transition-colors","aria-label":"Filter courses",children:[o.jsx(LN,{className:"h-4 w-4 group-hover:text-white",strokeWidth:2}),o.jsx("span",{className:"hidden md:inline text-sm font-medium",children:""}),K>0&&o.jsx(or,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:K})]})})()]})}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(nd,{className:"h-6 w-6 text-breneo-accent"}),o.jsx("h2",{className:"text-lg font-bold",children:"Latest Courses"})]}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("span",{className:"text-sm text-gray-600",children:[le," course",le!==1?"s":""]})})]}),B&&!q&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((K,Z)=>o.jsx(Ne,{className:"w-full",children:o.jsxs(Pe,{className:"p-5",children:[o.jsx(Ar,{className:"h-48 w-full mb-4"}),o.jsx(Ar,{className:"h-6 w-full mb-2"}),o.jsx(Ar,{className:"h-4 w-2/3"})]})},Z))}),!B&&M.length===0&&o.jsxs("div",{className:"text-center p-10 border border-dashed rounded-3xl text-muted-foreground",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-puzzle-dynamic-color.png",alt:"No data found",className:"mx-auto h-48 w-48 mb-4 object-contain"}),o.jsx("h4",{className:"text-lg font-semibold",children:"No Courses Found"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search terms or filters."})]}),(q||!B&&ie.length>0)&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:ie.map(K=>o.jsx("div",{className:"w-full",children:Y(K)},K.id))})]}),o.jsx(OLe,{isOpen:s,onClose:()=>i(!1),filters:_,onFiltersChange:S,onApply:T,onClear:D,userTopSkills:l})]})},MLe=()=>{var w,b,_,S;const{courseId:e}=tg(),{user:t}=br(),r=za(),[n,a]=p.useState(!1),s=po(),{data:i,isLoading:l}=ir({queryKey:["course",e],queryFn:async()=>{const{data:E,error:j}=await Vt.from("courses").select("*").eq("id",e).single();return j?(console.error("Error fetching course details:",j),null):E},enabled:!!e}),{data:c=[]}=ir({queryKey:["savedCourses",t==null?void 0:t.id],queryFn:async()=>{var E;if(!(t!=null&&t.id))return[];try{return(((E=(await Ce.get(mt.AUTH.PROFILE)).data)==null?void 0:E.saved_courses)||[]).map(N=>String(N))}catch(j){return console.error("Error fetching saved courses:",j),[]}},enabled:!!(t!=null&&t.id)}),u=c==null?void 0:c.includes(String((i==null?void 0:i.id)||"")),{data:d}=ir({queryKey:["academy-profile",i==null?void 0:i.academy_id],queryFn:async()=>{if(!(i!=null&&i.academy_id))return null;try{const E=await Ce.get(`/api/academy/${i.academy_id}/`);if(E.data){const k=E.data.profile_data||E.data,N=M=>{for(const $ of M){const F=k[$];if(F!=null&&typeof F=="string")return F}},C=N(["academy_name","name","first_name","firstName"])||i.provider||"",A=N(["profile_photo_url","profilePhotoUrl","profile_image_url","profileImageUrl","profile_photo","profilePhoto"]),I=N(["logo_url","logoUrl","logo","image"]),B=N(["description","desc","about"]),z={id:i.academy_id,academy_name:C,slug:N(["slug"])||(C?Yh(C):void 0),profile_photo_url:A&&A.trim()!==""?A:null,logo_url:I&&I.trim()!==""?I:null,description:B&&B.trim()!==""?B:null};return console.log(" Academy profile fetched from API:",{academyId:i.academy_id,rawData:k,profileData:z,logoUrl:I}),z}}catch(E){console.debug("Could not fetch academy profile from API, trying Supabase",E)}try{const{data:E,error:j}=await Vt.from("academy_profiles").select("id, academy_name, logo_url, description").eq("id",i.academy_id).single();if(!j&&E){const k={id:E.id,academy_name:E.academy_name||i.provider||"",slug:E.academy_name?Yh(E.academy_name):void 0,profile_photo_url:null,logo_url:E.logo_url&&E.logo_url.trim()!==""?E.logo_url:null,description:E.description&&E.description.trim()!==""?E.description:null};return console.log(" Academy profile fetched from Supabase:",{academyId:i.academy_id,supabaseData:E,profile:k}),k}}catch(E){console.debug("Could not fetch academy profile from Supabase",E)}return{id:i.academy_id,academy_name:i.provider||"",slug:i.provider?Yh(i.provider):void 0,profile_photo_url:null,logo_url:null,description:null}},enabled:!!(i!=null&&i.academy_id)}),f=Hs({mutationFn:async E=>{if(!(t!=null&&t.id))throw new Error("User not logged in");a(!0);try{await Ce.post(`/api/save-course/${E}/`)}catch(j){console.error("Error saving course:",j);let k="Failed to save course. Please try again.";if(j&&typeof j=="object"&&"response"in j&&j.response&&typeof j.response=="object"&&"data"in j.response){const N=j.response.data;k=N.detail||N.message||N.error||k}else j instanceof Error&&(k=j.message);throw new Error(k)}finally{a(!1)}},onMutate:async E=>{await r.cancelQueries({queryKey:["savedCourses",t==null?void 0:t.id]});const j=r.getQueryData(["savedCourses",t==null?void 0:t.id]);return r.setQueryData(["savedCourses",t==null?void 0:t.id],k=>{if(!k)return k;const N=String(E);return k.includes(N)?k.filter(C=>C!==N):[...k,N]}),{previousSavedCourses:j}},onError:(E,j,k)=>{k!=null&&k.previousSavedCourses&&r.setQueryData(["savedCourses",t==null?void 0:t.id],k.previousSavedCourses);let N="Failed to save course. Please try again.";if(E&&typeof E=="object"&&"response"in E&&E.response&&typeof E.response=="object"&&"data"in E.response){const C=E.response.data;N=C.detail||C.message||C.error||N}else E instanceof Error&&(N=E.message);ue.error(N)},onSuccess:(E,j,k)=>{var A;r.invalidateQueries({queryKey:["savedCourses",t==null?void 0:t.id]}),r.invalidateQueries({queryKey:["courses"]}),r.invalidateQueries({queryKey:["profile"]});const N=String(j),C=((A=k==null?void 0:k.previousSavedCourses)==null?void 0:A.includes(N))||!1;ue.success(`"${i==null?void 0:i.title}" has been ${C?"unsaved":"saved"} successfully.`)}}),h=()=>{if(!t||!i){ue.error("Please log in to save courses.");return}const E=String(i.id);f.mutate(E)};if(l)return o.jsx(Dt,{children:o.jsx("div",{className:"p-8",children:"Loading..."})});if(!i)return o.jsx(Dt,{children:o.jsx("div",{className:"p-8",children:"Course not found."})});const v=i.academy_id?`/academy/${i.academy_id}`:`/academy/${(d==null?void 0:d.slug)||Yh(i.provider)}`,m=(d==null?void 0:d.academy_name)||i.provider,y=(d==null?void 0:d.profile_photo_url)||(d==null?void 0:d.logo_url)||null;console.log(" CoursePage Debug:",{courseId:e,courseAcademyId:i==null?void 0:i.academy_id,academyProfile:d,profilePhotoUrl:d==null?void 0:d.profile_photo_url,logoUrl:d==null?void 0:d.logo_url,academyImageUrl:y,academyName:m});const x=((w=i.topics)==null?void 0:w.slice(0,3))||((b=i.required_skills)==null?void 0:b.slice(0,3))||[];return o.jsx(Dt,{children:o.jsx("div",{className:"px-4 py-4 sm:px-6 sm:py-6 pb-40 sm:pb-44 mb-16 sm:mb-20 ",children:o.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[o.jsx("div",{className:"w-full h-40 sm:h-80 overflow-hidden rounded-3xl mb-6 border border-gray-200 dark:border-gray-700",children:o.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"})}),o.jsx(Ne,{className:" rounded-3xl border-0 bg-transparent sm:border sm:border-border sm:bg-white sm:dark:bg-white",children:o.jsxs(Pe,{className:"p-0 sm:p-6 space-y-0 ",children:[o.jsxs("div",{className:"flex items-center gap-3 pb-2 ",children:[o.jsx(Jp,{src:y||void 0,alt:m,fallback:m?m.charAt(0).toUpperCase():"A",size:"sm",className:"flex-shrink-0 !h-10 !w-10 !rounded-full"}),o.jsx("span",{className:"text-gray-600 text-base font-medium",children:m})]}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-black dark:text-white pb-6",children:i.title}),o.jsx("div",{className:" dark:border-gray-700 py-0 px-0 sm:py-5 sm:px-0 bg-white dark:bg-white rounded-3xl py-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6 sm:gap-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-12 flex-1 w-full sm:w-auto  rounded-2xl sm:rounded-none p-0 sm:p-0",children:[o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(ig,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:"Free"}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Free"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Course"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Course"})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(vse,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:i.duration||"2 "}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:i.duration||"2 "}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Duration"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Duration"})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(D8,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:((_=i.topics)==null?void 0:_.length)||16}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:((S=i.topics)==null?void 0:S.length)||16}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Lectures"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Lectures"})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(Sse,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:i.level||"All Levels"}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:i.level||"All Levels"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Level"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Level"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto pb-0 sm:pb-0",children:[o.jsx(re,{onClick:h,disabled:n||!t,variant:"secondary",size:"icon",className:de("aspect-square bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A]",u?"text-white-500 bg-[#E6E7EB] dark:bg-[#474747] ":"text-black dark:text-white "),children:n?o.jsx(wc,{className:"h-4 w-4 animate-spin"}):u?o.jsx(aa,{className:"h-4 w-4 fill-red-500 text-red-500"}):o.jsx(aa,{className:"h-4 w-4"})}),o.jsx(re,{size:"default",className:"w-full sm:w-auto px-6 text-sm bg-breneo-blue hover:bg-breneo-blue/90 text-white rounded-xl",children:s.courses.enroll})]})]})}),o.jsxs("div",{className:"py-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-notebook-dynamic-color.png",alt:"Notebook",className:"h-12 w-12 object-contain flex-shrink-0"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"What will You learn"})]}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:i.description||"No description available."})]}),d&&o.jsxs("div",{className:"py-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"About Academy"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Jp,{src:y||void 0,alt:m,fallback:m?m.charAt(0).toUpperCase():"A",size:"lg",className:"!h-16 !w-16 !rounded-full"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:m}),d.description?o.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed mb-4",children:d.description}):o.jsx("p",{className:"text-gray-500 dark:text-gray-500 italic mb-4",children:"No description available."}),o.jsx(Mr,{to:v,children:o.jsxs(re,{variant:"outline",className:"flex items-center gap-2",children:[o.jsx(jl,{className:"h-4 w-4"}),"View Academy"]})})]})]})]}),o.jsx("div",{className:"flex flex-wrap gap-2 py-6",children:x.slice(0,3).map((E,j)=>o.jsx(or,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:E},j))})]})})]})})})};function LLe({onPhaseChange:e,onTechQChange:t,onSoftQChange:r}={}){const{user:n}=br(),a=hr(),[s,i]=p.useState("career"),[l,c]=p.useState([]),[u,d]=p.useState(0),[f,h]=p.useState([]),[g,v]=p.useState(null),[m,y]=p.useState(null),[x,w]=p.useState(null),[b,_]=p.useState(null),[S,E]=p.useState(null),[j,k]=p.useState(null),[N,C]=p.useState(!1),[A,I]=p.useState(!1),[B,z]=p.useState(null),[M,$]=p.useState(!1),[F,O]=p.useState(0),[L,Q]=p.useState(null),[T,D]=p.useState(null),[Y,q]=p.useState(0),[ie,le]=p.useState(!1),[K,Z]=p.useState(!1),H=5,X=["   ...","  ...","  ...","   ...","  ..."];p.useEffect(()=>{if(M){const me=setInterval(()=>{O(pe=>(pe+1)%5)},1e3);return()=>clearInterval(me)}},[M]),p.useEffect(()=>{e&&e(s)},[s,e]),p.useEffect(()=>{t&&t(S)},[S,t]),p.useEffect(()=>{r&&r(j)},[j,r]),p.useEffect(()=>{s==="career"&&Ce.get(`/api/career-questions-random/?limit=${H}`).then(me=>c(me.data)).catch(me=>console.error(me))},[s]);const ce=async me=>{if(!n){console.warn("No user found, cannot save test results");return}try{const pe=Number(me.total_score),Re=Number(me.total_questions);isNaN(pe)||isNaN(Re);const ze={tech:me.tech_score_per_skill||{},soft:me.soft_score_per_skill||{}},ot={user:n.id,total_score:pe,total_questions:Re,final_role:me.final_role||"N/A",skills_json:ze,career_answers:me.career_answers||[]},Ze=await Ce.post("/api/skilltest/save/",ot);a("/skill-path")}catch(pe){console.error(" Error saving test results:"),console.error("Full error object:",pe),pe.response?(console.error(" Response status:",pe.response.status),console.error(" Response data:",JSON.stringify(pe.response.data,null,2)),console.error(" Response headers:",pe.response.headers)):pe.request?console.error(" No response received:",pe.request):console.error(" Error setting up request:",pe.message)}},J=me=>{y(me.text),g||v(me.RoleMapping)},oe=()=>{if(!m)return;const me=l[u];h(pe=>[...pe,{questionId:me.id,answer:m}]),y(null),u+1<l.length?(d(u+1),q(pe=>pe+1)):(le(!0),q(pe=>pe+1))},ne=()=>{le(!1),i("assessment"),he(),q(me=>me+1)},he=async()=>{try{const me=await Ce.post("/api/start-assessment/",{num_questions:H,RoleMapping:g});w(me.data),E(me.data.questions[0]),q(ot=>ot+1);const pe=await Ce.post("/api/soft/start/",{num_questions:H});_(pe.data);let Re=null;pe.data.first_question?Re=pe.data.first_question:pe.data.questions&&pe.data.questions[0]?Re=pe.data.questions[0]:pe.data.question?Re=pe.data.question:Re=pe.data;const ze={...pe.data,first_question:Re};_(ze)}catch{}},fe=async()=>{if(!(!x||!S||!L))try{const me=await Ce.post("/api/submit-answer/",{session_id:x.session_id,question_text:S.text,answer:L});Q(null),me.data.next_question?(E(me.data.next_question),q(pe=>pe+1)):(C(!0),E(null),Z(!0),q(pe=>pe+1))}catch(me){console.error(me)}},_e=async()=>{if(!(!b||!j||!T))try{const me=j.questiontext||j.text||j.question||"",pe={session_id:b.session_id,question_text:me,answer:T},Re=await Ce.post("/api/soft/submit/",pe);D(null),Re.data.next_question?(k(Re.data.next_question),q(ze=>ze+1)):(I(!0),k(null),je())}catch(me){me instanceof Error&&console.error("Error details:",me.message)}},W=async()=>{if(Z(!1),await te(),b)try{let me=null;if(b.first_question)me=b.first_question;else if(b.questions&&b.questions[0])me=b.questions[0];else if(b.question)me=b.question;else{const pe=await Ce.post("/api/soft/next/",{session_id:b.session_id});pe.data.next_question?me=pe.data.next_question:pe.data.question?me=pe.data.question:pe.data.first_question?me=pe.data.first_question:me=pe.data}me?(k(me),q(pe=>pe+1)):console.error(" No soft question found")}catch(me){console.error(" Error getting first soft question:",me)}},te=async()=>{if(x)try{const me=await Ce.post("/api/finish-assessment/",{session_id:x.session_id});z(pe=>({...pe,tech:me.data}))}catch(me){console.error(" Error finishing tech assessment:",me)}},je=async()=>{if(b)try{console.log(" Finishing soft assessment with session:",b.session_id);const me=await Ce.post("/api/soft/finish/",{session_id:b.session_id});z(pe=>({...pe,soft:me.data}))}catch(me){console.error(" Error finishing soft assessment:",me)}};if(p.useEffect(()=>{var me,pe,Re,ze,ot,Ze,Ke,Me,G,V;if(N&&A&&B&&n){$(!0),O(0);let se=(me=B.tech)==null?void 0:me.total_score,ke=(pe=B.soft)==null?void 0:pe.total_score,Be=(Re=B.tech)==null?void 0:Re.total_questions,it=(ze=B.soft)==null?void 0:ze.total_questions;if(!se&&((ot=B.tech)!=null&&ot.score_per_skill)){const Ae=Object.values(B.tech.score_per_skill).map(U=>parseFloat(U.replace("%",""))),P=Ae.reduce((U,be)=>U+be,0)/Ae.length;se=Math.round(P*H/100),Be=H}if(!ke&&((Ze=B.soft)!=null&&Ze.score_per_skill)){const Ae=Object.values(B.soft.score_per_skill).map(U=>parseFloat(U.replace("%",""))),P=Ae.reduce((U,be)=>U+be,0)/Ae.length;ke=Math.round(P*H/100),it=H}se=se||0,ke=ke||0,Be=Be||0,it=it||0;const ut=se+ke,Ie=Be+it;if(isNaN(ut)||isNaN(Ie)||Ie===0){console.error(" Trying to save with numQuestions:",H*2);const Ae=H*2;console.log(" Using fallback values:",{fallbackScore:ut||0,fallbackQuestions:Ae})}const lt=((Ke=B.soft)==null?void 0:Ke.final_role)||((Me=B.tech)==null?void 0:Me.final_role)||"N/A",ve={total_score:ut||0,total_questions:Ie||H*2,final_role:lt,tech_score_per_skill:((G=B.tech)==null?void 0:G.score_per_skill)||{},soft_score_per_skill:((V=B.soft)==null?void 0:V.score_per_skill)||{},career_answers:f};setTimeout(()=>{console.log(" 10 seconds passed, saving results now"),$(!1),i("finished"),ce(ve)},1e4)}},[N,A,B,n]),ie)return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-8 flex items-center justify-center",children:o.jsx(td,{className:"w-32 h-32 md:w-40 md:h-40 text-[#01bfff] dark:text-[#5AC9F8]"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Great Job! "}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed mb-2",children:"You've completed the interest assessment. Now let's evaluate your technical skills."}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Take your time and answer honestly - this helps us find the perfect role for you."})]}),o.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:o.jsxs(re,{onClick:ne,className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",children:["Continue",o.jsx(Ia,{className:"h-4 w-4 ml-2"})]})})]},Y);if(K)return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-8 flex items-center justify-center",children:o.jsx(rd,{className:"w-32 h-32 md:w-40 md:h-40 text-green-500 dark:text-green-400"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Excellent Progress! "}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed mb-2",children:"You've finished the technical skills assessment. Well done!"}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Just one more section - let's explore your soft skills and communication abilities."})]}),o.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:o.jsxs(re,{onClick:W,className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",children:["Continue",o.jsx(Ia,{className:"h-4 w-4 ml-2"})]})})]},Y);if(s==="career"&&l.length>0){const me=l[u];return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"mt-2 mb-4 text-xl font-semibold text-gray-800 dark:text-foreground",children:me.text}),o.jsx("div",{className:"space-y-3",children:me.options.map((pe,Re)=>{const ze=String.fromCharCode(65+Re),ot=m===pe.text;return o.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${ot?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-[rgba(26,38,51,0.3)] border-blue-200 dark:border-gray-700 hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>J(pe),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${ot?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:o.jsx("span",{className:`text-xs font-medium ${ot?"text-white":"text-gray-600 dark:text-gray-300"}`,children:ze})}),o.jsx("span",{className:`flex-1 text-left ${ot?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:pe.text})]})},pe.id)})})]}),o.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:o.jsxs(re,{onClick:oe,disabled:!m,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",o.jsx(Ia,{className:"h-4 w-4"})]})})]},Y)}if(!x||!b)return console.log(" Waiting for sessions...",{hasTechSession:!!x,hasSoftSession:!!b,techSession:x,softSession:b}),o.jsx("div",{className:"p-8 max-w-xl mx-auto mb-8 bg-white dark:bg-card rounded-md  text-center dark:text-foreground",children:"Loading assessments..."});if(console.log(" Render State:",{hasCurrentTechQ:!!S,hasCurrentSoftQ:!!j,techDone:N,softDone:A,currentTechQData:S,currentSoftQData:j}),S)return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-foreground mb-4",children:S.text}),o.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(me=>{const pe=S[`option${me}`];if(pe){const Re=String.fromCharCode(64+me),ze=L===pe;return o.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${ze?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-muted border-blue-200 dark:border-border hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>Q(pe),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${ze?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:o.jsx("span",{className:`text-xs font-medium ${ze?"text-white":"text-gray-600 dark:text-gray-300"}`,children:Re})}),o.jsx("span",{className:`flex-1 text-left ${ze?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:pe})]})},me)}return null})})]}),o.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:o.jsxs(re,{onClick:fe,disabled:!L,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",o.jsx(Ia,{className:"h-4 w-4"})]})})]},Y);if(j){console.log(" RENDERING SOFT QUESTION - Raw Data:",j),console.log(" RENDERING SOFT QUESTION - Has Keys:",Object.keys(j)),console.log(" RENDERING SOFT QUESTION - Values:",{questiontext:j.questiontext,text:j.text,question:j.question,option1:j.option1,option2:j.option2,option3:j.option3,option4:j.option4,hasQuestiontext:!!j.questiontext,hasText:!!j.text,hasQuestion:!!j.question,hasOptions:!!(j.option1||j.option2||j.option3||j.option4)});const me=j.questiontext||j.text||j.question||"Question text unavailable";return j.option1||j.option2||j.option3||j.option4?o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-foreground mb-4",children:me}),o.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(Re=>{const ze=j[`option${Re}`];if(ze){const ot=String.fromCharCode(64+Re),Ze=T===ze;return o.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${Ze?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-muted border-blue-200 dark:border-border hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>D(ze),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${Ze?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:o.jsx("span",{className:`text-xs font-medium ${Ze?"text-white":"text-gray-600 dark:text-gray-300"}`,children:ot})}),o.jsx("span",{className:`flex-1 text-left ${Ze?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:ze})]})},Re)}return null})})]}),o.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:o.jsxs(re,{onClick:_e,disabled:!T,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",o.jsx(Ia,{className:"h-4 w-4"})]})})]},Y):o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-xl font-bold mb-2 dark:text-foreground",children:" Error Loading Question"}),o.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:"The question data structure is incomplete."}),o.jsx("pre",{className:"text-xs bg-gray-100 dark:bg-muted text-gray-800 dark:text-foreground p-4 overflow-auto",children:JSON.stringify(j,null,2)})]})}return M?o.jsx("div",{className:"w-full flex items-center justify-center min-h-[60vh]",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsxs("div",{className:"relative mb-8",children:[o.jsx("div",{className:"h-32 w-32 rounded-full bg-gradient-to-r from-blue-500 to-[#01bfff] animate-spin"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:o.jsx(td,{className:"h-12 w-12 text-white"})})]}),o.jsx("h2",{className:"text-3xl font-bold text-[#00afea] mb-4 text-center",children:X[F]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center max-w-md",children:"      "}),o.jsx("div",{className:"mt-8 w-full max-w-md",children:o.jsx(xP,{value:(F+1)/X.length*100,className:"h-2"})})]})}):s==="finished"?o.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-32 h-32 mx-auto mb-8 flex items-center justify-center",children:o.jsx(td,{className:"w-32 h-32 text-green-500 dark:text-green-400 animate-pulse"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Test Completed! "}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground",children:"Redirecting to your skill path..."})]})}):o.jsx("div",{className:"p-8 max-w-xl mx-auto mb-8 bg-white dark:bg-card rounded-md border border-gray-200 dark:border-border text-center dark:text-foreground",children:"Loading..."})}const DLe=({phase:e,currentTechQ:t,currentSoftQ:r})=>{const n=e==="career"?1:e==="assessment"&&t?2:3,a=[{index:1,name:"Interests"},{index:2,name:"Tech Skills"},{index:3,name:"Soft Skills"}],s=i=>{const l=n>=i.index,c=n>i.index;return o.jsxs("div",{className:"flex-1 flex flex-col items-center min-w-[70px] md:min-w-[120px]",children:[o.jsx("div",{className:`h-2 md:h-3 w-full rounded-full transition-all duration-500 flex items-center justify-center ${c?"bg-green-500 dark:bg-green-600":l?"bg-[#01bfff]":"bg-gray-200 dark:bg-gray-700"}`}),o.jsx("span",{className:`mt-2 text-xs md:text-sm font-semibold transition-colors duration-500 ${c?"text-green-600 dark:text-green-400":l?"text-[#01bfff] dark:text-[#5AC9F8]":"text-gray-500 dark:text-gray-400"}`,children:i.name})]})};return o.jsx("div",{className:"w-full max-w-[200px] md:max-w-[600px]",children:o.jsx("div",{className:"flex items-center justify-center gap-1.5 md:gap-2",children:a.map(i=>s(i))})})},FLe=({onStart:e})=>o.jsxs("div",{className:"flex flex-col h-full md:h-auto w-full",children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-40 h-40 md:w-56 md:h-56 mx-auto mb-8 flex items-center justify-center transition-all duration-500",children:o.jsx("img",{src:"/lovable-uploads/3dicons-target-dynamic-color.png",alt:"Target",className:"w-40 h-40 md:w-56 md:h-56 object-contain transition-transform duration-500 hover:scale-105"})}),o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4 transition-opacity duration-500",children:"Skill Assessment Test"}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed transition-opacity duration-500",children:"Discover your strengths and unlock personalized career opportunities. Our comprehensive assessment evaluates your technical skills, soft skills, and career interests to provide tailored recommendations."})]}),o.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:o.jsx(re,{className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",onClick:e,children:"Start the Test"})})]}),BLe=()=>{const e=hr(),t=po(),[r,n]=p.useState(!1),[a,s]=p.useState("career"),[i,l]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,g]=p.useState(!1),[v,m]=p.useState(!1),y=Ea(),x=()=>{m(!0)},w=()=>{m(!1),e(-1)},b=()=>{m(!1)},_={showSidebar:!1,showHeader:!1,background:"white"};return r?o.jsxs(Dt,{..._,children:[o.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F8F9FA] dark:bg-[#181818] animate-in fade-in duration-500",children:[o.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto_1fr] md:grid-cols-3 items-center px-6 py-6 md:px-8 md:py-6 transition-all duration-300",children:[o.jsxs("div",{className:"flex justify-start items-center",children:[!d&&!h&&o.jsx("div",{className:"h-8 w-8 md:w-28 bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-400 hidden md:inline",children:"Loading..."})}),o.jsx("img",{src:"/lovable-uploads/breneo-only-logo.png",alt:"Breneo Logo",className:`h-8 w-8 md:hidden transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`hidden md:block h-8 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),h&&o.jsx("div",{className:"h-8 w-8 md:w-28 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 hidden md:inline",children:"Breneo"})})]}),o.jsx("div",{className:"flex justify-center items-center",children:o.jsx(DLe,{phase:a,currentTechQ:i,currentSoftQ:c})}),o.jsx("div",{className:"flex justify-end items-center",children:o.jsxs(re,{variant:"ghost",onClick:x,className:"h-10 w-10 md:h-10 md:w-auto md:px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium flex items-center justify-center gap-2 transition-colors p-0",children:[o.jsx(rn,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden md:inline",children:t.common.cancel})]})})]}),o.jsx("div",{className:"flex-1 w-full overflow-y-auto px-[15px] pb-[15px] pt-2",children:o.jsx("div",{className:"h-full w-full rounded-lg bg-white dark:bg-[#242424] p-8 md:py-8 md:px-[15rem] flex flex-col justify-center md:justify-center transition-opacity duration-500",children:o.jsx("div",{className:"max-w-xl mx-auto w-full h-full md:h-auto flex flex-col transition-all duration-500",children:o.jsx(LLe,{onPhaseChange:s,onTechQChange:l,onSoftQChange:u})})})})]}),y?o.jsx(Un,{open:v,onOpenChange:m,children:o.jsxs(zn,{children:[o.jsx(qn,{children:o.jsx(Wn,{children:"Are you sure?"})}),o.jsx("div",{className:"px-6 pb-4",children:o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."})}),o.jsxs(xa,{className:"flex flex-col gap-2",children:[o.jsx(re,{onClick:b,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(re,{onClick:w,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})}):o.jsx(kn,{open:v,onOpenChange:m,children:o.jsxs(mn,{children:[o.jsx(gn,{children:o.jsx(vn,{className:"text-center",children:"Are you sure?"})}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 text-center",children:"Your progress will be lost if you exit the test."}),o.jsxs(Bn,{className:"flex flex-col gap-2",children:[o.jsx(re,{onClick:b,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(re,{onClick:w,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})})]}):o.jsxs(Dt,{..._,children:[o.jsxs("div",{className:"flex flex-col h-full w-full bg-[#efefef] dark:bg-[#181818] animate-in fade-in duration-500",children:[o.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto_1fr] md:grid-cols-3 items-center px-6 py-6 md:px-8 md:py-6 transition-all duration-300",children:[o.jsxs("div",{className:"flex justify-start items-center",children:[!d&&!h&&o.jsx("div",{className:"h-8 w-8 md:w-28 bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-400 hidden md:inline",children:"Loading..."})}),o.jsx("img",{src:"/lovable-uploads/breneo-only-logo.png",alt:"Breneo Logo",className:`h-8 w-8 md:hidden transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`hidden md:block h-8 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),h&&o.jsx("div",{className:"h-8 w-8 md:w-28 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 hidden md:inline",children:"Breneo"})})]}),o.jsx("div",{className:"flex justify-center items-center"}),o.jsx("div",{className:"flex justify-end items-center",children:o.jsxs(re,{variant:"ghost",onClick:x,className:"h-10 w-10 md:h-10 md:w-auto md:px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium flex items-center justify-center gap-2 transition-colors p-0",children:[o.jsx(rn,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden md:inline",children:t.common.cancel})]})})]}),o.jsx("div",{className:"flex-1 w-full overflow-y-auto px-[15px] pb-[15px] pt-2",children:o.jsx("div",{className:"h-full w-full rounded-lg bg-white dark:bg-[#242424] p-8 md:py-8 md:px-[15rem] flex flex-col justify-center md:justify-center transition-opacity duration-500",children:o.jsx("div",{className:"max-w-xl mx-auto w-full h-full md:h-auto flex flex-col",children:o.jsx(FLe,{onStart:()=>n(!0)})})})})]}),y?o.jsx(Un,{open:v,onOpenChange:m,children:o.jsxs(zn,{children:[o.jsx(qn,{children:o.jsx(Wn,{children:"Are you sure?"})}),o.jsx("div",{className:"px-6 pb-4",children:o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."})}),o.jsxs(xa,{className:"flex flex-col gap-2",children:[o.jsx(re,{onClick:b,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(re,{onClick:w,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})}):o.jsx(kn,{open:v,onOpenChange:m,children:o.jsxs(mn,{children:[o.jsx(gn,{children:o.jsx(vn,{children:"Are you sure?"})}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."}),o.jsxs(Bn,{className:"flex flex-col gap-2",children:[o.jsx(re,{onClick:b,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(re,{onClick:w,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})})]})};async function F3(e,t,r){var l,c,u;const n=t&&t.length>0?`The user has strong skills in: ${t.slice(0,5).join(", ")}. `:"",a=r?`The user's skills match this role at about ${Math.round(r)}%. `:"",s=3;let i=null;for(let d=1;d<=s;d++)try{const f=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are a friendly career advisor. Write a personalized, engaging EXPANDED summary about the **${e}** role in a conversational, encouraging tone similar to "Your Recommended Career Path" explanations.

CRITICAL: You MUST write a very detailed, expanded summary with 6-8 sentences. Do NOT write a short summary.

Style guidelines:
- Use simple, human-friendly language (like talking to a friend)
- Be encouraging and positive
- Use **bold** for the role name when first mentioned
- Write 6-8 detailed, comprehensive sentences (minimum 6 sentences)
- Make it feel personalized and relevant
- Be very specific about what the role involves
- Provide extensive detail about responsibilities, opportunities, and career growth

Include:
1. What makes **${e}** a great career path
2. What the role involves and why it's exciting
3. How it allows people to use their skills and grow
4. The opportunities and stability this career offers
5. Why it's a rewarding path

${n}${a}Write in a warm, friendly tone that makes the reader excited about this career path. Make sure your response is at least 4 sentences long.`},{role:"user",content:`Write a friendly, personalized VERY EXPANDED summary (6-8 sentences, minimum 6) about the **${e}** role that matches the style of "Your Recommended Career Path" explanations. Make it engaging, encouraging, and very detailed with extensive information.`}],max_tokens:800,temperature:.8})});if(f.ok){const v=(((u=(c=(l=(await f.json()).choices)==null?void 0:l[0])==null?void 0:c.message)==null?void 0:u.content)||"").trim();if(v&&v.length>200&&(v.match(/[.!?]/g)||[]).length>=4)return v;if(d<s){console.warn(`Summary too short for ${e}, attempt ${d}/${s}, retrying...`),await new Promise(m=>setTimeout(m,1e3*d));continue}if(v)return v}else{const h=await f.text().catch(()=>"Unknown error");if(i=new Error(`API error: ${f.status} - ${h}`),d<s){console.warn(`API error for ${e}, attempt ${d}/${s}, retrying...`),await new Promise(g=>setTimeout(g,1e3*d));continue}}}catch(f){if(i=f instanceof Error?f:new Error(String(f)),console.error(`Error generating role summary (attempt ${d}):`,f),d<s){await new Promise(h=>setTimeout(h,1e3*d));continue}}return console.warn(`Failed to generate summary for ${e} after ${s} attempts, using expanded fallback`),`**${e}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${e.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities. Whether you're working on innovative projects, building user experiences, or solving complex problems, this career path offers both stability and the excitement of working at the forefront of your industry.`}async function B3(e){var r,n,a;try{const s=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are an expert job market analyst and career advisor. Generate a comprehensive list of the most important required skills for a ${e} position.

Requirements:
1. Include 15-20 comprehensive skills that are truly required for this role
2. Mix of technical/hard skills (60-70%) and soft/interpersonal skills (30-40%)
3. Use standard, professional skill names (e.g., "JavaScript" not "JS", "React" not "React.js")
4. Include both foundational skills and advanced/specialized skills relevant to ${e}
5. Make skills specific to this role - different roles should have different skill sets
6. Include industry-standard tools, technologies, and methodologies
7. Consider both entry-level and mid-level requirements
8. Include ALL important skills - be comprehensive and thorough

Return ONLY a JSON array of skill names, nothing else. No explanations, no markdown, just the array.

Example output format: ["JavaScript", "React", "Node.js", "TypeScript", "REST APIs", "Git", "Problem Solving", "Team Collaboration", "Agile Methodologies", "Code Review"]`},{role:"user",content:`Generate a comprehensive list of required skills for a ${e} role. Include both technical and soft skills that are essential for success in this position. Return only a JSON array.`}],max_tokens:800,temperature:.4})});if(s.ok){const l=((a=(n=(r=(await s.json()).choices)==null?void 0:r[0])==null?void 0:n.message)==null?void 0:a.content)||"";try{const c=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),u=JSON.parse(c);if(Array.isArray(u))return u.filter(d=>typeof d=="string"&&d.trim().length>0)}catch{const u=l.split(`
`).map(f=>f.trim()).filter(Boolean),d=[];for(const f of u){const h=f.replace(/^[-*]\s*/,"").replace(/^\d+\.\s*/,"").trim();h&&h.length<50&&d.push(h)}if(d.length>0)return d}}}catch(s){console.error("Error generating required skills:",s)}const t=e.toLowerCase();return t.includes("developer")||t.includes("engineer")?["Programming","Problem Solving","Version Control","Testing"]:t.includes("designer")||t.includes("design")?["Design Thinking","Prototyping","User Research","Visual Design"]:t.includes("analyst")||t.includes("data")?["Data Analysis","SQL","Statistics","Data Visualization"]:t.includes("manager")||t.includes("product")?["Project Management","Strategic Thinking","Communication","Agile"]:[]}const Ca={"software engineer":{min:7e4,max:15e4},"software developer":{min:65e3,max:14e4},"full stack developer":{min:75e3,max:16e4},"frontend developer":{min:6e4,max:13e4},"backend developer":{min:7e4,max:15e4},javascript:{min:65e3,max:14e4},"javascript developer":{min:65e3,max:14e4},python:{min:7e4,max:15e4},"python developer":{min:7e4,max:15e4},react:{min:7e4,max:15e4},"react developer":{min:7e4,max:15e4},"node.js":{min:75e3,max:16e4},typescript:{min:75e3,max:16e4},java:{min:8e4,max:17e4},"java developer":{min:8e4,max:17e4},"data analyst":{min:55e3,max:1e5},"data scientist":{min:9e4,max:18e4},"data engineer":{min:85e3,max:16e4},"data analysis":{min:55e3,max:1e5},"data analytics":{min:6e4,max:11e4},"business analyst":{min:6e4,max:11e4},"ux designer":{min:6e4,max:12e4},"ui designer":{min:55e3,max:11e4},"ui/ux designer":{min:6e4,max:12e4},"ui/ux design":{min:6e4,max:12e4},"product designer":{min:8e4,max:15e4},"graphic designer":{min:4e4,max:8e4},"product manager":{min:9e4,max:18e4},"product management":{min:9e4,max:18e4},"project manager":{min:7e4,max:13e4},"scrum master":{min:75e3,max:14e4},"devops engineer":{min:9e4,max:16e4},devops:{min:9e4,max:16e4},"cloud engineer":{min:95e3,max:17e4},aws:{min:1e5,max:18e4},kubernetes:{min:11e4,max:19e4},docker:{min:9e4,max:16e4},"mobile developer":{min:7e4,max:14e4},"ios developer":{min:8e4,max:15e4},"android developer":{min:75e3,max:14e4},"react native":{min:75e3,max:145e3},flutter:{min:7e4,max:135e3},cybersecurity:{min:85e3,max:16e4},"cybersecurity specialist":{min:85e3,max:16e4},"security engineer":{min:9e4,max:17e4},"penetration tester":{min:8e4,max:15e4},"qa engineer":{min:6e4,max:11e4},"quality assurance":{min:6e4,max:11e4},"test engineer":{min:65e3,max:12e4},"automation engineer":{min:7e4,max:13e4},"machine learning":{min:1e5,max:2e5},"ml engineer":{min:1e5,max:2e5},"ai engineer":{min:11e4,max:21e4},blockchain:{min:9e4,max:18e4},web3:{min:9e4,max:18e4},"vue.js":{min:7e4,max:15e4},vue:{min:7e4,max:15e4},angular:{min:75e3,max:16e4},"c#":{min:8e4,max:17e4},"c++":{min:85e3,max:18e4},go:{min:9e4,max:18e4},golang:{min:9e4,max:18e4},rust:{min:95e3,max:19e4},php:{min:6e4,max:13e4},ruby:{min:75e3,max:15e4},swift:{min:85e3,max:17e4},kotlin:{min:8e4,max:16e4},sql:{min:65e3,max:13e4},mongodb:{min:75e3,max:15e4},postgresql:{min:75e3,max:15e4},mysql:{min:7e4,max:14e4},redis:{min:8e4,max:16e4},elasticsearch:{min:9e4,max:18e4},git:{min:7e4,max:14e4},linux:{min:8e4,max:16e4},"3d modeling":{min:5e4,max:1e5},"3d modeler":{min:5e4,max:1e5},blender:{min:55e3,max:11e4},unity:{min:7e4,max:14e4},"unreal engine":{min:8e4,max:16e4}},O_={"ai engineer":1.15,"machine learning":1.15,"ml engineer":1.15,"data scientist":1.1,cybersecurity:1.12,"security engineer":1.12,"cloud engineer":1.1,aws:1.1,kubernetes:1.12,"devops engineer":1.08,devops:1.08,rust:1.1,go:1.08,golang:1.08,javascript:1.05,"javascript developer":1.05,python:1.05,"python developer":1.05,react:1.05,"react developer":1.05,java:1.03,"java developer":1.03,php:.98,ruby:.95},U3={"United States":1,USA:1,US:1,Canada:.85,"United Kingdom":.75,UK:.75,Germany:.7,France:.65,Netherlands:.75,Switzerland:1.1,Australia:.8,Singapore:.85,Japan:.7,Georgia:.25,Poland:.4,Romania:.35,Ukraine:.3,India:.2,Brazil:.25,Mexico:.3,Argentina:.25},QH=e=>e.toLowerCase().trim().replace(/[^\w\s]/g,""),ULe=e=>{const t=QH(e);if(O_[t])return O_[t];for(const[r,n]of Object.entries(O_))if(t.includes(r)||r.includes(t))return n;return 1.02},zLe=e=>{const t=QH(e);if(Ca[t])return Ca[t];const r=t.split(/\s+/);for(const s of r)if(Ca[s])return Ca[s];let n=null,a=0;for(const[s,i]of Object.entries(Ca))(t.includes(s)||s.includes(t))&&s.length>a&&(n=i,a=s.length);return n||(t.includes("full stack")||t.includes("fullstack")?Ca["full stack developer"]:t.includes("frontend")||t.includes("front end")?Ca["frontend developer"]:t.includes("backend")||t.includes("back end")?Ca["backend developer"]:t.includes("developer")||t.includes("programmer")?Ca["software developer"]:t.includes("engineer")?Ca["software engineer"]:t.includes("designer")||t.includes("design")?Ca["ui/ux designer"]:t.includes("analyst")||t.includes("analysis")?Ca["data analyst"]:t.includes("manager")||t.includes("management")?Ca["product manager"]:{min:6e4,max:12e4})},qLe=e=>{const t=e.trim();return U3[t]||U3[t.toLowerCase()]||.3},li=(e,t="Georgia",r="ALL")=>{try{if(!e||e.trim()==="")return console.warn("Empty job title provided, using default"),Oh({min:6e4,max:12e4},"software developer",t,r);const n=zLe(e);if(!n||typeof n.min!="number"||typeof n.max!="number"||n.min<=0||n.max<=0)return console.warn(`Invalid base range for "${e}", using default`),Oh({min:6e4,max:12e4},e,t,r);const a=Oh(n,e,t,r);return!a.min_salary||!a.max_salary||a.min_salary<=0||a.max_salary<=0?(console.warn(`Invalid salary result for "${e}" in ${t}, using default`),Oh({min:6e4,max:12e4},"software developer",t,r)):a}catch(n){return console.error("Error calculating AI salary:",n,{jobTitle:e,country:t}),Oh({min:6e4,max:12e4},"software developer",t,r)}},Oh=(e,t,r,n)=>{const a=ULe(t),s=Math.round(e.min*a),i=Math.round(e.max*a),l=qLe(r);let c=Math.round(s*l),u=Math.round(i*l);if(n!=="ALL"){const h=parseInt(n);h<=2?(c=Math.round(c*.8),u=Math.round(u*.85)):h>=6&&(c=Math.round(c*1.3),u=Math.round(u*1.35))}c=Math.max(5e3,c),u=Math.max(c+5e3,u);const d=Math.round((c+u)/2);let f="USD";return r.toLowerCase().includes("georgia")?(f="GEL",c=Math.round(c*2.7),u=Math.round(u*2.7)):r.toLowerCase().includes("uk")||r.toLowerCase().includes("united kingdom")?(f="GBP",c=Math.round(c*.8),u=Math.round(u*.8)):(r.toLowerCase().includes("euro")||["germany","france","netherlands","poland","romania"].some(h=>r.toLowerCase().includes(h)))&&(f="EUR",c=Math.round(c*.9),u=Math.round(u*.9)),(!c||!u||c<=0||u<=0)&&(console.warn(`Invalid salary calculation for "${t}" in ${r}, using defaults`),c=5e4,u=1e5,f=r.toLowerCase().includes("georgia")?"GEL":"USD",f==="GEL"&&(c=Math.round(c*2.7),u=Math.round(u*2.7))),{min_salary:c,max_salary:u,median_salary:d,salary_period:"YEARLY",currency:f}},qu=e=>{if(!e)return"Salary data not available";const{min_salary:t,max_salary:r,currency:n,salary_period:a}=e;if(!t&&!r)return"Salary data not available";const s=n==="USD"?"$":n==="EUR"?"":n==="GBP"?"":n==="GEL"?"":n||"$",i=a==="YEARLY"?"year":a==="MONTHLY"?"month":"";if(t&&r){const l=Math.round(t).toLocaleString(),c=Math.round(r).toLocaleString();return`${s}${l} - ${s}${c}${i?`/${i}`:""}`}else if(t){const l=Math.round(t).toLocaleString();return`${s}${l}+${i?`/${i}`:""}`}else if(r){const l=Math.round(r).toLocaleString();return`Up to ${s}${l}${i?`/${i}`:""}`}return"Salary data not available"},z3=(e,t,r,n,a)=>{const s=Object.entries(t).sort((u,d)=>{const f=parseFloat(String(u[1]).replace("%",""))||0;return(parseFloat(String(d[1]).replace("%",""))||0)-f}).slice(0,3).map(([u])=>u),i=Object.entries(r).sort((u,d)=>{const f=parseFloat(String(u[1]).replace("%",""))||0;return(parseFloat(String(d[1]).replace("%",""))||0)-f}).slice(0,2).map(([u])=>u),l=a.length>0?a.reduce((u,d)=>u+d.matchPercentage,0)/a.length:75;let c=`We think **${e}** is the perfect career path for you. `;return c+="You're really good at ",s.length>0?(c+=s.join(", "),i.length>0&&(c+=`, and you also have great ${i.join(" and ")} skills`)):i.length>0?c+=i.join(" and "):c+="many important skills",c+=`. Your skills match really well with what ${e} jobs need - about ${Math.round(l)}% match! `,c+="This role is great for you because it lets you use your best skills every day. ",c+="You'll get to learn new things and grow in your career. ",c+="Your mix of technical skills and people skills means you'll do really well in this job. ",c+=`There are lots of opportunities for ${e.toLowerCase()}s, so you'll have a stable and exciting career path ahead.`,c},q3=e=>{const t=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"],r=e.filter(s=>{const i=s.skill.toLowerCase().trim();return!t.some(l=>i.includes(l)||l.includes(i))});return r.length===0?(console.warn("No hard/tech skills found for job path generation"),[]):r.sort((s,i)=>i.score-s.score).slice(0,5).map(s=>{const i=s.skill,c=Math.min(95,Math.max(60,Math.round(s.score/5*100))),u=`Build your career using your ${i} skills. This path is tailored to your expertise in ${i}.`,d=[i],f=[`Advanced ${i}`,`${i} Best Practices`,`${i} Professional Development`],h=[`${i} Professional Certificate`,`${i} Specialist`];return{title:i,description:u,matchPercentage:c,requiredSkills:d,suggestedCourses:f,certifications:h,salaryRange:"",timeToReady:"3-6 months"}})},WLe=()=>{const{user:e}=br(),t=hr(),[r,n]=p.useState(!0),[a,s]=p.useState(!1),[i,l]=p.useState({}),[c,u]=p.useState([]),[d,f]=p.useState({}),[h,g]=p.useState({}),[v,m]=p.useState([]),[y,x]=p.useState([]),[w,b]=p.useState([]),[_,S]=p.useState(null),[E,j]=p.useState("Georgia"),[k,N]=p.useState(""),[C,A]=p.useState("skills"),[I,B]=p.useState(new Set),z=p.useCallback(async()=>{try{const D=(await Ce.get(mt.AUTH.PROFILE)).data,Y=(D==null?void 0:D.country)||(e==null?void 0:e.country)||"Georgia";return j(Y),Y}catch(T){return console.error("Error fetching user country:",T),j("Georgia"),"Georgia"}},[e]),M=p.useCallback((T,D)=>{const Y={"Software Engineer":"software engineer","UX/UI Designer":"ux designer","Data Analyst":"data analyst","Product Manager":"product manager"};return T.map(q=>{try{const ie=q.title.toLowerCase().trim();let le=Y[q.title]||ie,K=li(le,D);if(!K.min_salary&&!K.max_salary&&!le.includes("developer")){const X=`${le} developer`;K=li(X,D),(K.min_salary||K.max_salary)&&(le=X)}if(!K.min_salary&&!K.max_salary&&!le.includes("engineer")){const X=`${le} engineer`;K=li(X,D),(K.min_salary||K.max_salary)&&(le=X)}if(K&&(K.min_salary||K.max_salary)&&(K.min_salary>0||K.max_salary>0)){const X=qu(K);if(X&&X!=="Salary data not available")return{...q,salaryRange:X}}const Z=ie.includes("design")?"ui/ux designer":ie.includes("data")||ie.includes("analyst")?"data analyst":ie.includes("manager")?"product manager":"software developer",H=li(Z,D);if(H.min_salary&&H.max_salary){const X=qu(H);return{...q,salaryRange:X}}return console.warn(`Could not calculate salary for "${q.title}" (${le})`),{...q,salaryRange:"Salary data not available"}}catch(ie){return console.error(`Error calculating salary for ${q.title}:`,ie),{...q,salaryRange:"Salary data not available"}}})},[]),$=p.useCallback(async(T,D,Y)=>await Promise.all(T.map(async ie=>{try{const le=D.length>0?D.join(" "):ie.title.toLowerCase(),K={country:Y,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:D,salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},Z=await fs.fetchActiveJobs({query:le,filters:K,page:1,pageSize:5}),H=xi(Z.jobs);return{...ie,jobs:H.slice(0,5)}}catch(le){return console.error(`Error fetching jobs for ${ie.title}:`,le),{...ie,jobs:[]}}})),[]),F=p.useCallback(async()=>{try{n(!0);try{const ne=await Ce.get(`/api/skilltest/results/?user=${e.id}`);let he=null;if(Array.isArray(ne.data)&&ne.data.length>0?he=ne.data[0]:ne.data&&typeof ne.data=="object"&&(he=ne.data),he&&(he.final_role||he.skills_json)){s(!0),he.final_role&&S(he.final_role);const fe=he.skills_json||{};f(fe.tech||{}),g(fe.soft||{});const _e=Object.entries(fe.tech||{}).map(([Me,G])=>({skill:Me,score:parseFloat(String(G).replace("%",""))||0})),W=Object.entries(fe.soft||{}).map(([Me,G])=>({skill:Me,score:parseFloat(String(G).replace("%",""))||0})),te=_e.sort((Me,G)=>G.score-Me.score),je=W.sort((Me,G)=>G.score-Me.score),pe=[...te,...je].slice(0,5);u(pe);const Re=q3(te),ze=Object.keys(fe.tech||{}),ot=await z(),Ze=M(Re,ot),Ke=[..._e,...W].map(Me=>Me.skill.toLowerCase());if(B(new Set(Ke)),m(Ze),he.final_role){const Me=z3(he.final_role,fe.tech||{},fe.soft||{},pe,Ze);N(Me)}n(!1),Promise.all(Ze.map(async Me=>{try{const G=pe.map(Be=>Be.skill),[V,se]=await Promise.all([F3(Me.title,G,Me.matchPercentage),B3(Me.title)]),ke=V&&V.length>100?V:`**${Me.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${Me.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`;return{...Me,summary:ke,aiGeneratedSkills:se.length>0?se:Me.requiredSkills}}catch(G){return console.error(`Error generating data for ${Me.title}:`,G),{...Me,summary:`**${Me.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${Me.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`,aiGeneratedSkills:Me.requiredSkills}}})).then(Me=>{m(G=>{const V=new Map(Me.map(se=>[se.title,se]));return G.map(se=>V.get(se.title)||se)})}),Promise.all([(async()=>{const Me=await $(Ze,ze,ot);m(Me);const G=await L(Object.keys(fe.tech||{}),Object.keys(fe.soft||{}),Me);b(G)})(),(async()=>{const Me=await O(ze);x(Me)})()]).catch(Me=>{console.error("Error in background operations:",Me)});return}}catch{}const T=await Jc(e.id);if(!T||T.length===0){s(!1),n(!1);return}s(!0);const D=Yc(T);l(D);const Y=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"],q=[],ie=[];Object.entries(D).forEach(([ne,he])=>{const fe=ne.toLowerCase().trim();Y.some(W=>fe.includes(W)||W.includes(fe))?ie.push({skill:ne,score:he}):q.push({skill:ne,score:he})});const le=q.sort((ne,he)=>he.score-ne.score),K=ie.sort((ne,he)=>he.score-ne.score),Z=[...le,...K].slice(0,5);u(Z);const H=q3(le),X=le.map(ne=>ne.skill),ce=await z(),J=M(H,ce),oe=[...le,...K].map(ne=>ne.skill.toLowerCase());if(B(new Set(oe)),m(J),J.length>0){const ne=J[0].title,he={},fe={};le.forEach(W=>{he[W.skill]=`${W.score}%`}),K.forEach(W=>{fe[W.skill]=`${W.score}%`});const _e=z3(ne,he,fe,Z,J);N(_e),S(ne)}n(!1),Promise.all(J.map(async ne=>{try{const he=Z.map(te=>te.skill),[fe,_e]=await Promise.all([F3(ne.title,he,ne.matchPercentage),B3(ne.title)]),W=fe&&fe.length>100?fe:`**${ne.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${ne.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`;return{...ne,summary:W,aiGeneratedSkills:_e.length>0?_e:ne.requiredSkills}}catch(he){return console.error(`Error generating data for ${ne.title}:`,he),{...ne,summary:`**${ne.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${ne.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`,aiGeneratedSkills:ne.requiredSkills}}})).then(ne=>{m(he=>{const fe=new Map(ne.map(_e=>[_e.title,_e]));return he.map(_e=>fe.get(_e.title)||_e)})}),Promise.all([(async()=>{const ne=await $(J,X,ce);m(ne);const he=await L(X,[],ne);b(he)})(),(async()=>{const ne=await O(X);x(ne)})()]).catch(ne=>{console.error("Error in background operations:",ne)})}catch(T){console.error(" Error loading skill data:",T),console.error("Error details:",T instanceof Error?T.message:String(T)),s(!1)}finally{console.log(" loadSkillData finished - setting loading to false"),n(!1)}},[e,z,M,$]);p.useEffect(()=>{if(!e){t("/auth/login");return}F(),z()},[e,t,F,z]);const O=async T=>{try{if(T.length===0)return[];const{data:D,error:Y}=await Vt.from("courses").select("*").or(T.map(q=>`required_skills.cs.{${q}}`).join(",")).limit(6);if(Y)throw Y;return(D==null?void 0:D.map(q=>({id:q.id,title:q.title,provider:q.provider,level:q.level,duration:q.duration,description:q.description,relevantSkills:q.required_skills||[]})))||[]}catch(D){return console.error("Error fetching course recommendations:",D),[]}},L=async(T,D,Y)=>{const q=[...T,...D].map(X=>X.toLowerCase().trim()),ie=new Map;if(Y.forEach(X=>{X.requiredSkills.forEach(ce=>{const J=ce.toLowerCase().trim();if(!q.includes(J)){ie.has(J)||ie.set(J,{jobs:[],count:0});const oe=ie.get(J);oe.jobs.push(X.title),oe.count++}})}),ie.size===0)return[];const{data:le,error:K}=await Vt.from("courses").select("*").limit(100),Z=new Map;return!K&&le&&le.forEach(X=>{(X.required_skills||[]).map(J=>J.toLowerCase().trim()).forEach(J=>{ie.has(J)&&(Z.has(J)||Z.set(J,[]),Z.get(J).push({id:X.id,title:X.title,provider:X.provider||"Unknown",level:X.level||"Beginner",duration:X.duration||"N/A",description:X.description||"",relevantSkills:X.required_skills||[]}))})}),Array.from(ie.entries()).map(([X,ce])=>{const oe=["programming","code","sql","testing","version control","data","api","framework","database","algorithm","software","technical"].some(he=>X.includes(he));let ne="medium";return ce.count>=3?ne="high":ce.count===1&&(ne="low"),{skill:X.charAt(0).toUpperCase()+X.slice(1),category:oe?"tech":"soft",importance:ne,requiredByJobs:[...new Set(ce.jobs)],recommendedCourses:Z.get(X)||[],frequency:ce.count}}).sort((X,ce)=>{const J={high:3,medium:2,low:1};return J[ce.importance]!==J[X.importance]?J[ce.importance]-J[X.importance]:ce.frequency-X.frequency})},Q=(T,D)=>{const Y="#19B5FE",q=Object.entries(T).filter(([Z,H])=>parseFloat(String(H).replace("%",""))>0).map(([Z,H])=>{const X=parseFloat(String(H).replace("%",""));let ce;X>=40?ce=1:ce=.3+X/40*.7;const J=`gradient-primary-${Math.round(ce*100)}`;return{skill:Z,percentage:X,displayPct:H,fill:Y,opacity:ce,gradientId:J}}).sort((Z,H)=>H.percentage-Z.percentage);if(q.length===0)return o.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No skills data available"});const ie={percentage:{label:"Percentage"}},le=Z=>{const{x:H,y:X,width:ce,height:J,payload:oe,value:ne}=Z,he=(oe==null?void 0:oe.skill)||ne||"";if(!H||!X||!ce||!J||!he)return null;const fe=H+ce/2,te=250-80+25,je=Math.max(8,Math.floor(ce/6)),me=he.split(" "),pe=[];let Re="";for(const Ke of me)if(Ke.length>je){Re&&(pe.push(Re),Re="");for(let Me=0;Me<Ke.length;Me+=je)pe.push(Ke.slice(Me,Me+je))}else(Re+" "+Ke).length<=je?Re=Re?Re+" "+Ke:Ke:(Re&&pe.push(Re),Re=Ke);if(Re&&pe.push(Re),pe.length===0||pe.length===1&&pe[0].length>je*1.5){pe.length=0;for(let Ke=0;Ke<he.length;Ke+=je)pe.push(he.slice(Ke,Ke+je))}const ze=pe.slice(0,2),ot=14,Ze=te-(ze.length-1)*(ot/2);return o.jsx("text",{x:fe,y:Ze,fill:"#374151",textAnchor:"middle",fontSize:12,fontWeight:600,className:"dark:fill-gray-200",children:ze.map((Ke,Me)=>o.jsx("tspan",{x:fe,dy:Me===0?0:ot,children:Ke},Me))})},K=Z=>{const{x:H,y:X,width:ce,height:J,value:oe,payload:ne}=Z,he=oe||0,fe=(ne==null?void 0:ne.skill)||"";if(!H||!X||!ce||!J)return null;const _e=H+ce/2,W=250,te=80,je=Math.max(8,Math.floor(ce/6)),me=fe.length>je*1.2,pe=W-te+(me?70:60);return o.jsx("text",{x:_e,y:pe,fill:"#374151",textAnchor:"middle",fontSize:13,fontWeight:700,className:"dark:fill-gray-200",children:`${he.toFixed(0)}%`})};return o.jsx("div",{className:"w-full -mb-4",children:o.jsx(cw,{config:ie,className:"h-[250px] w-full",children:o.jsxs(hP,{data:q,margin:{top:20,right:10,left:10,bottom:80},barCategoryGap:"25%",children:[o.jsx("defs",{children:q.map(Z=>o.jsxs("linearGradient",{id:Z.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:Z.fill,stopOpacity:Z.opacity}),o.jsx("stop",{offset:"100%",stopColor:"#0EA5E9",stopOpacity:Z.opacity})]},Z.gradientId))}),o.jsx(Hf,{dataKey:"skill",hide:!0}),o.jsx(Vf,{type:"number",domain:[0,100],hide:!0}),o.jsx(pP,{content:({active:Z,payload:H})=>{if(Z&&H&&H.length){const X=H[0].payload;return o.jsx("div",{className:"rounded-3xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:X.skill}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Y,opacity:X.opacity}}),o.jsxs("span",{className:"font-bold text-lg",style:{color:Y,opacity:X.opacity},children:[X.percentage.toFixed(1),"%"]})]})]})})}return null}}),o.jsxs(yo,{dataKey:"percentage",radius:[8,8,8,8],animationDuration:1e3,animationEasing:"ease-out",children:[q.map((Z,H)=>o.jsx(vg,{fill:`url(#${Z.gradientId})`,style:{transition:"all 0.3s ease"}},`cell-${H}`)),o.jsx(Bs,{content:le,dataKey:"skill"}),o.jsx(Bs,{content:K,dataKey:"percentage"})]})]})})})};return console.log(" SkillPathPage Render - Loading:",r,"HasTestAnswers:",a,"User:",e==null?void 0:e.id),r?(console.log(" Rendering loading state"),o.jsx(Dt,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{children:"Analyzing your skills..."}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Loading skill data..."})]})})})):a?(console.log(" Rendering main SkillPathPage content"),console.log(" Data summary:",{topSkills:c.length,jobPaths:v.length,courseRecommendations:y.length,missingSkills:w.length,techSkills:Object.keys(d).length,softSkills:Object.keys(h).length,finalRole:_}),o.jsx(Dt,{children:o.jsxs("div",{className:"space-y-4 md:space-y-6 pb-20 md:pb-6",children:[o.jsx("div",{className:"flex justify-center mb-2",children:o.jsxs("div",{className:"relative inline-flex items-center bg-gray-100 dark:bg-[#242424] rounded-full p-1",children:[o.jsx("button",{onClick:()=>A("skills"),className:`relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 ${C==="skills"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-bold shadow-sm":"text-gray-500 dark:text-gray-400 font-medium"}`,children:"Your Skills"}),o.jsx("button",{onClick:()=>A("matchedRoles"),className:`relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 ${C==="matchedRoles"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-bold shadow-sm":"text-gray-500 dark:text-gray-400 font-medium"}`,children:"Matched Roles"})]})}),C==="skills"&&o.jsxs(o.Fragment,{children:[_&&k&&o.jsxs(Ne,{className:"border-primary/20 bg-gradient-to-br from-primary/5 to-primary/10",children:[o.jsx(pt,{children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-trophy-iso-color.png",alt:"Trophy",className:"h-12 w-12 flex-shrink-0"}),o.jsxs(At,{className:"text-xl",children:["You Are ",_]})]})}),o.jsx(Pe,{children:o.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:o.jsx("p",{className:"text-base leading-relaxed text-gray-700 dark:text-gray-300 whitespace-pre-line",children:k.split("**").map((T,D)=>D%2===1?o.jsx("strong",{className:"text-primary font-semibold",children:T},D):T)})})})]}),(Object.keys(d).length>0||Object.keys(h).length>0)&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.keys(d).length>0&&o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsx(At,{className:"flex items-center gap-2",children:"Technical Skills"})}),o.jsx(Pe,{className:"p-6",children:Q(d)})]}),Object.keys(h).length>0&&o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsx(At,{className:"flex items-center gap-2",children:"Soft Skills"})}),o.jsx(Pe,{className:"p-6",children:Q(h)})]})]})]}),C==="matchedRoles"&&o.jsx("div",{className:"space-y-4",children:v.length>0?v.map((T,D)=>o.jsx(Ne,{className:D===0?"border-primary":"",children:o.jsx(Pe,{className:"p-6",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsx(At,{className:"text-xl flex-1",children:T.title}),o.jsxs(re,{size:"sm",onClick:()=>{t(`/skill-path/${encodeURIComponent(T.title)}`,{state:{jobPath:T}})},children:["View Details",o.jsx($j,{className:"h-4 w-4 ml-2"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(Ne,{className:"border-primary/20 bg-gray-50 dark:bg-gray-800/50",children:[o.jsx(pt,{className:"pb-3",children:o.jsxs(At,{className:"text-base flex items-center gap-2",children:[o.jsx(ig,{className:"h-4 w-4 text-primary"}),"Salary Information"]})}),o.jsx(Pe,{className:"pt-0",children:o.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-4 rounded-lg",children:[o.jsx("div",{className:"text-lg font-bold text-primary mb-2",children:T.salaryRange||"Salary data not available"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Average salary range based on current market data"})]})})]}),o.jsxs(Ne,{className:"border-primary/20 bg-gray-50 dark:bg-gray-800/50",children:[o.jsx(pt,{className:"pb-3",children:o.jsx(At,{className:"text-base flex items-center gap-2",children:"Role Brief"})}),o.jsx(Pe,{className:"pt-0",children:o.jsx("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-4 rounded-lg",children:o.jsx("div",{className:"text-base text-gray-700 dark:text-gray-300 leading-relaxed",children:T.summary?T.summary.split("**").map((Y,q)=>q%2===1?o.jsx("strong",{className:"text-primary font-semibold",children:Y},q):Y):o.jsx("span",{className:"text-muted-foreground italic",children:"Generating role brief..."})})})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Required Skills"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(T.aiGeneratedSkills||T.requiredSkills).map((Y,q)=>{const ie=I.has(Y.toLowerCase());return o.jsxs("div",{className:`flex items-center gap-2 px-4 py-2.5 rounded-[14px] transition-colors ${ie?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[o.jsx("div",{className:"flex-shrink-0",children:ie?o.jsx(Ij,{className:"h-4 w-4 text-white"}):o.jsx(RN,{className:"h-4 w-4"})}),o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:Y})]},q)})})]})]})})},T.title)):o.jsx(Ne,{children:o.jsxs(Pe,{className:"text-center py-8",children:[o.jsx("p",{className:"text-muted-foreground",children:"Complete a skill assessment to see personalized job recommendations."}),o.jsx(re,{onClick:()=>t("/skill-test"),className:"mt-4",children:"Take Skill Assessment"})]})})})]})})):(console.log(" Rendering 'no test answers' state"),o.jsx(Dt,{children:o.jsx("div",{className:"p-6",children:o.jsx(Ne,{children:o.jsxs(Pe,{className:"text-center py-12",children:[o.jsx(tse,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),o.jsx("h2",{className:"text-lg font-bold mb-2",children:"Complete Your Skill Assessment"}),o.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Take our skill assessment to get personalized job recommendations and a custom learning path tailored to your strengths."}),o.jsxs(re,{onClick:()=>t("/skill-test"),size:"lg",children:["Take Skill Assessment",o.jsx($j,{className:"h-4 w-4 ml-2"})]})]})})})}))},HLe="https://breneo-job-aggregator.onrender.com/api/",VLe=async(e,t="Georgia")=>{try{const r=await fetch(HLe,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)return console.error(`Market Stats API error: ${r.status}`),null;const n=await r.json();if(!Array.isArray(n))return console.error("Invalid API response format"),null;const a=e.toLowerCase(),s=n.filter(g=>[g.title,g.description,g.company].join(" ").toLowerCase().includes(a)&&g.is_active),i=t&&t!=="Georgia"&&t!=="Worldwide"?s.filter(g=>g.location.toLowerCase().includes(t.toLowerCase())):s,l=i.length,c=new Date;c.setDate(c.getDate()-30);const u=i.filter(g=>{if(!g.posted_at)return!1;try{return new Date(g.posted_at)>=c}catch{return!1}}).length,d=l>0?u/l*100:0;let f="medium";l>100&&d>30?f="high":(l<20||d<10)&&(f="low");const h=Math.max(0,Math.min(100,d*2));return{totalJobs:l,recentJobs:u,growthPercentage:Math.round(h),demandLevel:f,trending:d>25}}catch(r){return console.error("Error fetching job market stats:",r),null}},KLe=async(e,t)=>{try{const r=new Date().getFullYear();let n="",a="",s="";if(t){const{totalJobs:u,recentJobs:d,growthPercentage:f,demandLevel:h,trending:g}=t,v=d,m=v>0?v/(u-d+1)*100:0;h==="high"?(n=`${e} is experiencing exceptional demand in today's job market. Our analysis shows ${u} active job listings, with ${d} new positions posted in the last 30 days alone. The field demonstrates strong momentum with an estimated ${f}% growth rate, making it one of the most sought-after skills in the current market.`,g?a=`The demand for ${e} professionals is at an all-time high. Companies across technology, finance, healthcare, and e-commerce sectors are actively recruiting talent. With ${d} new postings in just the past month, this skill is currently trending and presents excellent opportunities for both entry-level and experienced professionals. The market shows no signs of slowing down, making it an ideal time to invest in this career path.`:a=`The demand for ${e} professionals remains exceptionally strong. Organizations are prioritizing this skill set, with consistent hiring activity throughout the year. The high number of active listings (${u}) indicates sustained market demand. This field offers competitive salaries and strong career growth prospects for qualified candidates.`):h==="medium"?(n=`${e} maintains healthy demand in the job market with ${u} active listings. We've tracked ${d} new positions in the past 30 days, indicating steady hiring activity. The field shows stable growth with moderate competition, creating balanced opportunities for skilled professionals.`,a=`The market for ${e} professionals is well-established with consistent demand. While competition exists, there are ample opportunities for candidates with the right skill set and experience. The field benefits from steady industry adoption, making it a reliable career choice with good long-term prospects.`):(n=`${e} represents a specialized field with ${u} current listings. While the absolute number may be lower, this indicates a niche market where specialized skills are highly valued. The field offers unique opportunities for professionals who can distinguish themselves.`,a=`While ${e} has a smaller market presence, it offers distinct advantages for specialized professionals. Companies actively seeking this skill often offer competitive compensation and value deep expertise. Success in this field typically requires strong foundational skills, continuous learning, and building a network within the specialized community.`),f>60?s="experiencing explosive growth":f>40?s="rapidly growing":f>20?s="growing steadily":f>5?s="stable with positive growth":s="stable"}else n=`${e} professionals continue to be in demand across various industries. The field has demonstrated consistent growth, with expanding opportunities in technology, business, and creative sectors. Job postings have maintained an upward trajectory, reflecting strong market confidence in this skill set.`,a=`The demand for ${e} skills remains robust as businesses adapt to evolving market needs. This field offers diverse career paths and opportunities for professional development. As organizations invest in digital transformation and innovation, professionals with ${e} expertise are well-positioned for long-term career success.`,s="growing steadily";const i=t?Math.max(35,Math.min(95,Math.round(t.totalJobs/15+t.growthPercentage/2))):60,l=[],c=(t==null?void 0:t.growthPercentage)||15;for(let u=0;u<5;u++){const d=r-4+u,f=4-u,h=c/10*f,g=Math.max(25,Math.min(100,Math.round(i-h)));l.push({year:String(d),popularity:g})}return{popularityText:n,demandText:a,growthTrend:s,chartData:l}}catch(r){return console.error("Error generating AI market insights:",r),null}},GLe=async(e,t="Georgia")=>{try{const r=await VLe(e,t),n=await KLe(e,r);return{stats:r,insights:n}}catch(r){return console.error("Error getting complete market data:",r),{stats:null,insights:null}}},JLe=()=>{var z;const{skillName:e}=tg(),t=hr(),r=Va(),{user:n}=br(),[a,s]=p.useState(!0),[i,l]=p.useState(""),[c,u]=p.useState(""),[d,f]=p.useState(""),[h,g]=p.useState([]),[v,m]=p.useState([]),[y,x]=p.useState([]),[w,b]=p.useState([]),[_,S]=p.useState("Georgia"),E=e?decodeURIComponent(e):"";(z=r.state)==null||z.jobPath,p.useEffect(()=>{if(!n){t("/auth/login");return}if(!E){t("/skill-path");return}(async()=>{try{s(!0),k(),I();const $=`${E} professionals are in high demand. Loading real-time market data...`;f($);const F=new Date().getFullYear(),L=[50,55,60,65,70].map((T,D)=>({year:String(F-4+D),popularity:T}));g(L),N("Georgia"),s(!1);const Q=await j();Q!=="Georgia"&&N(Q),Promise.all([C(Q),A(),B(Q)]).catch(T=>{console.error("Error in background operations:",T)})}catch($){console.error("Error loading skill path details:",$),s(!1)}})()},[E,n]);const j=async()=>{try{const $=(await Ce.get(mt.AUTH.PROFILE)).data,F=($==null?void 0:$.country)||(n==null?void 0:n.country)||"Georgia";return S(F),F}catch(M){return console.error("Error fetching user country:",M),"Georgia"}},k=()=>{const M={JavaScript:"JavaScript developers are responsible for building interactive web applications and dynamic user interfaces. They work with modern frameworks like React, Vue, and Angular to create responsive and engaging web experiences.",Python:"Python developers specialize in backend development, data science, and automation. They build scalable server applications, analyze data, and create machine learning models using Python's extensive library ecosystem.",React:"React developers focus on building user interfaces using the React library. They create reusable components, manage application state, and implement modern UI patterns for web and mobile applications.","UI/UX Design":"UI/UX designers create intuitive and visually appealing user interfaces. They conduct user research, design wireframes and prototypes, and ensure optimal user experiences across different platforms.","Data Analysis":"Data analysts transform raw data into actionable insights. They use statistical methods, visualization tools, and programming languages to help organizations make data-driven decisions."},$=`${E} professionals are in high demand across various industries. This role involves working with ${E} technologies to solve complex problems and deliver innovative solutions.`,F=M[E]||$;l(F)},N=M=>{try{const $={javascript:"javascript developer",python:"python developer",react:"react developer","ui/ux design":"ux designer","ui/ux":"ux designer","data analysis":"data analyst","data analytics":"data analyst","software development":"software developer","web development":"web developer","mobile development":"mobile developer",devops:"devops engineer",cybersecurity:"cybersecurity specialist","quality assurance":"qa engineer","product management":"product manager","3d modeler":"3d artist"},F=E.toLowerCase();let O=$[F]||F,L=li(O,M);if(!L.min_salary&&!L.max_salary&&!O.includes("developer")){const D=`${O} developer`;L=li(D,M),(L.min_salary||L.max_salary)&&(O=D)}if(!L.min_salary&&!L.max_salary&&!O.includes("engineer")){const D=`${O} engineer`;L=li(D,M),(L.min_salary||L.max_salary)&&(O=D)}if(L&&(L.min_salary||L.max_salary)&&(L.min_salary>0||L.max_salary>0)){const D=qu(L);if(D&&D!=="Salary data not available"){u(D);return}}const Q=F.includes("design")||F.includes("ui")||F.includes("ux")?"ui/ux designer":F.includes("data")||F.includes("analyst")||F.includes("analytics")?"data analyst":F.includes("manager")||F.includes("product")?"product manager":F.includes("security")||F.includes("cyber")?"cybersecurity specialist":F.includes("devops")||F.includes("cloud")?"devops engineer":"software developer",T=li(Q,M);if(T.min_salary&&T.max_salary){const D=qu(T);u(D)}else{const D=li("software developer",M);u(qu(D))}}catch($){console.error("Error calculating salary:",$);try{const F=li("software developer",M);u(qu(F))}catch{u("Salary data not available")}}},C=async M=>{try{const $=GLe(E,M),F=new Promise(L=>{setTimeout(()=>L(null),3e3)}),O=await Promise.race([$,F]);if(O&&O.insights){const L=`${O.insights.popularityText}

${O.insights.demandText}`;f(L),g(O.insights.chartData)}}catch($){console.error("Error loading popularity data:",$)}},A=async()=>{try{const M=E.toLowerCase().trim(),{data:$,error:F}=await Vt.from("courses").select("id, title, provider, level, duration, description, required_skills, image").or(`title.ilike.%${E}%,description.ilike.%${E}%,title.ilike.%${M}%,description.ilike.%${M}%`).limit(6);if(F){console.error("Supabase query error:",F),m([]);return}let O=[];$&&$.length>0&&(O=$.filter(L=>{const Q=(L.title||"").toLowerCase(),T=(L.description||"").toLowerCase(),D=L.required_skills||[],Y=Q.includes(M)||T.includes(M)||Q.includes(E.toLowerCase())||T.includes(E.toLowerCase()),q=Array.isArray(D)&&D.some(ie=>ie.toLowerCase().includes(M)||M.includes(ie.toLowerCase()));return Y||q})),O.length>0?m(O.map(L=>({id:L.id,title:L.title,provider:L.provider||"Unknown",level:L.level||"Beginner",duration:L.duration||"N/A",description:L.description||"",required_skills:L.required_skills||[],image:L.image||void 0}))):m([])}catch(M){console.error("Error loading courses:",M),m([])}},I=()=>{const M={JavaScript:["Build a real-time chat application using WebSockets","Create a task management app with drag-and-drop functionality","Develop a weather dashboard with API integration","Build an e-commerce product catalog with filtering","Create an interactive data visualization dashboard"],Python:["Build a web scraper to analyze market trends","Create a machine learning model for predictions","Develop a REST API with Flask or Django","Build a data analysis tool for business insights","Create an automation script for repetitive tasks"],React:["Build a portfolio website with animations","Create a social media dashboard with real-time updates","Develop a todo app with state management","Build an e-commerce checkout flow","Create an interactive data table with sorting and filtering"],"UI/UX Design":["Design a mobile app interface for a fitness tracker","Create a website redesign for a local business","Design a complete design system and component library","Create wireframes and prototypes for a SaaS product","Design an accessible checkout flow for e-commerce"],"Data Analysis":["Analyze sales data to identify trends and patterns","Create visualizations for a business dashboard","Perform statistical analysis on survey data","Build a predictive model for customer behavior","Analyze social media engagement metrics"]},$=[`Create a ${E} portfolio project`,`Build a real-world application using ${E}`,`Develop a ${E} tool or utility`,`Contribute to an open-source ${E} project`,`Create a ${E} tutorial or course`],F=M[E]||$;x(F)},B=async M=>{try{const $={country:M,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[E],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},F=fs.fetchActiveJobs({query:E,filters:$,page:1,pageSize:5}),O=new Promise(T=>{setTimeout(()=>T({jobs:[]}),5e3)}),L=await Promise.race([F,O]),Q=xi(L.jobs);b(Q.slice(0,5))}catch($){console.error("Error loading jobs:",$),b([])}};return a?o.jsx(Dt,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{children:"Loading skill path details..."})]})})}):o.jsx(Dt,{children:o.jsxs("div",{className:"space-y-6 pb-20 md:pb-6",children:[o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsx(At,{className:"text-3xl font-bold",children:E})}),o.jsx(Pe,{children:o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsxs(At,{className:"flex items-center gap-2",children:[o.jsx(ig,{className:"h-5 w-5"}),"Salary Information"]})}),o.jsxs(Pe,{children:[o.jsx("div",{className:"text-2xl font-bold text-primary mb-2",children:c}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Average salary range based on current market data"})]})]}),o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsxs(At,{className:"flex items-center gap-2",children:[o.jsx(L8,{className:"h-5 w-5"}),"Market Popularity"]})}),o.jsxs(Pe,{children:[o.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4",children:d}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h4",{className:"text-sm font-medium mb-4",children:"Last 5 Year Popularity"}),o.jsx(cw,{config:{popularity:{label:"Popularity",color:"#19B5FE"}},className:"h-[300px] w-full",children:o.jsxs(hP,{data:h,margin:{top:5,right:10,left:0,bottom:0},children:[o.jsx(Uz,{strokeDasharray:"3 3",className:"stroke-muted"}),o.jsx(Hf,{dataKey:"year",tickLine:!1,axisLine:!1,tickMargin:8,className:"text-xs"}),o.jsx(Vf,{tickLine:!1,axisLine:!1,tickMargin:8,className:"text-xs",domain:[0,100],label:{value:"Popularity %",angle:-90,position:"insideLeft"}}),o.jsx(pP,{content:({active:M,payload:$})=>M&&$&&$.length?o.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:o.jsx("div",{className:"grid gap-2",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("span",{className:"text-sm font-medium",children:$[0].payload.year}),o.jsxs("span",{className:"text-sm font-bold",style:{color:"#19B5FE"},children:[$[0].value,"%"]})]})})}):null}),o.jsx(yo,{dataKey:"popularity",radius:[8,8,0,0],fill:"#19B5FE",children:h.map((M,$)=>o.jsx(vg,{fill:"#19B5FE"},`cell-${$}`))})]})})]})]})]})]}),o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsxs(At,{className:"flex items-center gap-2",children:[o.jsx(r0,{className:"h-5 w-5"}),"Relevant Courses"]})}),o.jsxs(Pe,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.map(M=>o.jsx(Ne,{className:"border border-gray-200 dark:border-gray-700 hover:border-primary transition-colors cursor-pointer",onClick:()=>t(`/course/${M.id}`),children:o.jsxs(Pe,{className:"p-4",children:[o.jsx("h5",{className:"font-semibold text-sm mb-2",children:M.title}),o.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:M.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(or,{variant:"secondary",className:"text-xs",children:M.level}),o.jsx("span",{className:"text-xs text-muted-foreground",children:M.duration})]}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["by ",M.provider]})]})]})},M.id))}),v.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(r0,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),o.jsx("p",{className:"text-muted-foreground font-medium mb-2",children:"No relevant courses available"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["We couldn't find any courses specifically for"," ",E," at the moment. Check back later or explore our general course catalog."]})]})]})]}),o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsxs(At,{className:"flex items-center gap-2",children:[o.jsx(lse,{className:"h-5 w-5"}),"Project Ideas"]})}),o.jsxs(Pe,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Build these projects after completing courses to strengthen your skills:"}),o.jsx("div",{className:"space-y-3",children:y.map((M,$)=>o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-muted rounded-lg",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-medium flex-shrink-0",children:$+1}),o.jsx("p",{className:"text-sm",children:M})]},$))})]})]}),o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsxs(At,{className:"flex items-center gap-2",children:[o.jsx(ln,{className:"h-5 w-5"}),"Relevant Jobs"]})}),o.jsxs(Pe,{children:[w.length>0?o.jsx("div",{className:"space-y-3",children:w.map(M=>{const $=M.job_id||M.id||`job-${Math.random()}`,F=M.job_title||M.title||"Untitled Position",O=M.employer_name||M.company_name||(typeof M.company=="string"?M.company:"Unknown Company"),L=M.job_city&&M.job_state?`${M.job_city}, ${M.job_state}`:M.job_city||M.job_state||M.location||"Location not specified",Q=M.job_apply_link||M.apply_link||M.url||"#",T=M.employer_logo||M.company_logo||M.logo_url||"";let D="By agreement";const Y=M.job_min_salary||M.min_salary,q=M.job_max_salary||M.max_salary,ie=M.job_salary_currency||M.salary_currency||"$";return Y&&q&&typeof Y=="number"&&typeof q=="number"?D=`${ie}${Y.toLocaleString()} - ${ie}${q.toLocaleString()}`:Y&&typeof Y=="number"&&(D=`${ie}${Y.toLocaleString()}+`),o.jsx(Ne,{className:"border border-gray-200 dark:border-gray-700 hover:border-primary transition-colors cursor-pointer",onClick:()=>t(`/jobs/${$}`),children:o.jsx(Pe,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[T&&o.jsx("img",{src:T,alt:O,className:"w-12 h-12 rounded-lg object-contain flex-shrink-0",onError:le=>{le.target.style.display="none"}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h5",{className:"font-semibold text-sm mb-1 line-clamp-1",children:F}),o.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[O,"  ",L]}),D&&o.jsx(or,{variant:"secondary",className:"text-xs",children:D})]}),o.jsx(re,{variant:"outline",size:"sm",onClick:le=>{le.stopPropagation(),window.open(Q,"_blank")},children:"Apply"})]})})},$)})}):o.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No jobs found for this skill. Check back later!"}),w.length>0&&o.jsxs(re,{variant:"outline",className:"w-full mt-4",onClick:()=>{t(`/jobs?search=${encodeURIComponent(E)}`)},children:["View More Jobs",o.jsx($j,{className:"h-4 w-4 ml-2"})]})]})]})]})})},W3=[{id:1,name:"Marketing",icon:""},{id:2,name:"Tech",icon:""},{id:3,name:"Design",icon:""},{id:4,name:"Business",icon:""},{id:5,name:"Education",icon:""},{id:6,name:"Science",icon:""},{id:7,name:"Healthcare",icon:""},{id:8,name:"Finance",icon:""},{id:9,name:"Arts",icon:""}];function YLe(){const[e,t]=p.useState([]),[r,n]=p.useState(!1),a=hr(),{user:s}=br(),i=c=>{e.includes(c)?t(e.filter(u=>u!==c)):t([...e,c])},l=async()=>{if(e.length===0){ue.error("Please select at least one area of interest");return}if(!s){ue.error("Please sign in to save your interests.");return}n(!0);try{const c=e.map(d=>{var f;return(f=W3.find(h=>h.id===d))==null?void 0:f.name}).filter(Boolean),{error:u}=await Vt.from("profiles").update({interests:c,onboarding_completed:!0}).eq("id",s.id);if(u)throw u;ue.success("Interests saved! Your personalized experience is ready."),a("/home")}catch(c){ue.error(`Failed to save interests: ${c.message}`)}finally{n(!1)}};return o.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-breneo-navy mb-2",children:"What are you interested in?"}),o.jsx("p",{className:"text-gray-600",children:"Select areas you'd like to explore. This helps us personalize your experience."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:W3.map(c=>o.jsx(Ne,{className:`p-4 cursor-pointer transition-all border-2 ${e.includes(c.id)?"border-breneo-blue bg-breneo-blue/5":"border-transparent hover:border-gray-200"}`,onClick:()=>i(c.id),children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"text-2xl",children:c.icon}),o.jsx("div",{className:"font-medium",children:c.name})]})},c.id))}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsx(re,{onClick:l,className:"bg-breneo-blue hover:bg-breneo-blue/90",disabled:r,children:r?"Saving...":"Continue"})})]})}const XLe=()=>o.jsxs("div",{className:"min-h-screen bg-breneo-lightgray flex flex-col",children:[o.jsx("header",{className:"bg-white py-4 px-6 shadow-sm",children:o.jsx("div",{className:"container mx-auto",children:o.jsx("a",{href:"/",className:"flex items-center space-x-2",children:o.jsx("img",{src:"lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:"h-10"})})})}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx(YLe,{})}),o.jsx("footer",{className:"bg-white py-4 px-6 border-t",children:o.jsx("div",{className:"container mx-auto",children:o.jsxs("p",{className:"text-sm text-gray-500 text-center",children:[" ",new Date().getFullYear()," Breneo. All rights reserved."]})})})]}),QLe=async e=>{try{const t=await Jc(e);if(!t||t.length===0)return[];const r=Yc(t);return Object.entries(r).sort(([,a],[,s])=>s-a).slice(0,5).map(([a])=>a)}catch(t){return console.error("Error fetching user skills:",t),[]}},ZLe=e=>{const t=[],r=[e.job_title||e.title||"",e.description||e.job_description||"",e.job_required_experience||e.required_experience||"",...Array.isArray(e.required_skills)?e.required_skills:[],...Array.isArray(e.skills)?e.skills:[],...Array.isArray(e.job_skills)?e.job_skills:[],...typeof e.required_skills=="string"?e.required_skills.split(",").map(a=>a.trim()):[],...typeof e.skills=="string"?e.skills.split(",").map(a=>a.trim()):[],...typeof e.job_skills=="string"?e.job_skills.split(",").map(a=>a.trim()):[]].filter(Boolean).join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"],developer:["developer","development","programming","coding","software engineer","software developer"],designer:["designer","design","ui","ux","graphic designer","visual designer"],marketer:["marketer","marketing","digital marketing","social media","content marketing"],analyst:["analyst","analysis","data analyst","business analyst","data analytics"],teacher:["teacher","teaching","education","instructor","trainer"],"project manager":["project manager","pm","project management","scrum master","product manager"]};return Object.keys(n).forEach(a=>{n[a].some(i=>r.includes(i))&&t.push(a)}),[...new Set(t)]},eDe=(e,t)=>{if(t.length===0)return!1;const r=ZLe(e);if(r.length===0){const l=[e.job_title||e.title||"",e.description||e.job_description||"",e.employer_name||e.company_name||e.company||"",e.job_required_experience||e.required_experience||e.experience||""].filter(Boolean).join(" ").toLowerCase(),c=u=>{const d=u.toLowerCase().trim(),f=[d];return d.includes("developer")&&f.push("development","programming","coding","software"),d.includes("designer")&&f.push("design","ui","ux","graphic"),d.includes("marketer")&&f.push("marketing","digital marketing","social media"),d.includes("analyst")&&f.push("analysis","data","analytics"),d.includes("manager")&&f.push("management","lead","coordinate"),f};return t.some(u=>c(u).some(f=>new RegExp(`\\b${f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"i").test(l)))}const n=l=>l.toLowerCase().trim().replace(/\s+/g," "),a=t.map(n),s=r.map(n);return a.filter(l=>s.some(c=>!!(l===c||l.includes(c)||c.includes(l)))).length>0},tDe=async e=>{try{const{data:t,error:r}=await Vt.from("job_notifications").select("job_id").eq("user_id",e);return r?(console.error("Error fetching notified jobs:",r),new Set):new Set((t||[]).map(n=>n.job_id))}catch(t){return console.error("Error fetching notified jobs:",t),new Set}},rDe=async(e,t)=>{try{const{error:r}=await Vt.from("job_notifications").insert({user_id:e,job_id:t,notified_at:new Date().toISOString()});r&&console.error("Error marking job as notified:",r)}catch(r){console.error("Error marking job as notified:",r)}},nDe=async(e,t)=>{try{const r=t.job_title||t.title||"New Job",n=t.employer_name||t.company_name||t.company||"Company",{error:a}=await Vt.from("notifications").insert({title:"New Job Match! ",message:`${r} at ${n} matches your skills`,type:"info",recipient_id:e,is_read:!1});a&&console.error("Error creating notification:",a)}catch(r){console.error("Error creating notification:",r)}},aDe=async e=>{try{const t=await QLe(e);if(t.length===0)return console.log("No user skills found, skipping job check"),[];console.log("Checking for jobs matching skills:",t);const n=(await aC({query:"",filters:{country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:"week",skills:t},page:1,pageSize:50})).jobs||[];console.log(`Found ${n.length} jobs to check`);const a=xi(n);console.log(`Filtered to ${a.length} jobs from allowed ATS platforms`);const s=String(e),i=await tDe(lp(s)),l=[];for(const c of a){const u=c.job_id||c.id||"";u&&(i.has(u)||eDe(c,t)&&l.push(c))}console.log(`Found ${l.length} new matching jobs`);for(const c of l){const u=c.job_id||c.id||"";u&&(await nDe(lp(s),c),await rDe(lp(s),u))}return l}catch(t){return console.error("Error checking for new job matches:",t),[]}},sDe=(e={})=>{const{user:t}=br(),{enabled:r=!0,checkInterval:n=30*60*1e3}=e,[a,s]=p.useState("default"),[i,l]=p.useState(!1),c=p.useRef(null),u=p.useRef(!1),d=async()=>{if(!("Notification"in window))return console.log("This browser does not support notifications"),!1;if(Notification.permission==="granted")return s("granted"),!0;if(Notification.permission==="denied")return s("denied"),!1;const g=await Notification.requestPermission();return s(g),g==="granted"},f=p.useCallback(g=>{if(a!=="granted"){console.log("Notification permission not granted");return}const v=g.job_title||g.title||"New Job",m=g.employer_name||g.company_name||g.company||"Company",y=g.job_id||g.id||"",x=new Notification("New Job Match! ",{body:`${v} at ${m} matches your skills`,icon:g.employer_logo||g.company_logo||g.logo_url||"/lovable-uploads/breneo_logo.png",badge:"/lovable-uploads/breneo_logo.png",tag:`job-${y}`,requireInteraction:!1});x.onclick=()=>{window.focus(),x.close(),window.location.href="/jobs"},setTimeout(()=>{x.close()},5e3)},[a]),h=p.useCallback(async()=>{if(!(!(t!=null&&t.id)||u.current)){u.current=!0,l(!0);try{const g=await aDe(t.id);for(const v of g)f(v);g.length>0&&console.log(`Sent ${g.length} job notifications`)}catch(g){console.error("Error checking for new jobs:",g)}finally{l(!1),u.current=!1}}},[t==null?void 0:t.id,f]);return p.useEffect(()=>{"Notification"in window&&s(Notification.permission)},[]),p.useEffect(()=>{!r||!(t!=null&&t.id)||(Notification.permission==="default"?console.log("Notification permission not yet requested"):Notification.permission==="granted"&&h())},[r,t==null?void 0:t.id,h]),p.useEffect(()=>{if(!r||!(t!=null&&t.id)||a!=="granted")return;c.current&&clearInterval(c.current),c.current=setInterval(()=>{h()},n);const g=()=>{document.visibilityState==="visible"&&h()};return document.addEventListener("visibilitychange",g),()=>{c.current&&clearInterval(c.current),document.removeEventListener("visibilitychange",g)}},[r,t==null?void 0:t.id,a,n,h]),{permission:a,requestPermission:d,isChecking:i,checkForNewJobs:h}},iDe=()=>{const{user:e}=br(),t=po(),r=za(),n=["user-notifications",e==null?void 0:e.id],a=(e==null?void 0:e.user_type)!=="academy";sDe({enabled:a&&!!(e!=null&&e.id),checkInterval:30*60*1e3}),p.useState(!1);const{data:s=[],isLoading:i}=ir({queryKey:n,queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:u,error:d}=await Vt.from("notifications").select("*").or(`recipient_id.is.null,recipient_id.eq.${e.id}`).order("created_at",{ascending:!1});if(d)throw console.error("Error fetching notifications:",d),new Error("Could not fetch notifications.");return u||[]},enabled:!!(e!=null&&e.id)}),l=Hs({mutationFn:async u=>{if(!(e!=null&&e.id))throw new Error("User not authenticated.");const{error:d}=await Vt.from("notifications").update({is_read:!0,updated_at:new Date().toISOString()}).eq("id",u).eq("recipient_id",e.id);if(d)throw d},onMutate:async u=>{await r.cancelQueries({queryKey:n});const d=r.getQueryData(n)||[];return r.setQueryData(n,f=>(f||[]).map(h=>h.id===u?{...h,is_read:!0}:h)),{previousNotifications:d}},onError:(u,d,f)=>{f!=null&&f.previousNotifications&&r.setQueryData(n,f.previousNotifications),ue.error("Could not mark notification as read.")},onSettled:()=>{r.invalidateQueries({queryKey:n})}});p.useEffect(()=>{if(!(e!=null&&e.id))return;const u=h=>{if(r.invalidateQueries({queryKey:n}),h.new){const g=h.new,v=`${g.title}: ${g.message}`;switch(g.type){case"success":ue.success(v);break;case"error":ue.error(v);break;case"warning":ue.warning(v);break;default:ue.info(v)}}},d=Vt.channel("personal-user-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`recipient_id=eq.${e.id}`},u).subscribe(),f=Vt.channel("broadcast-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"recipient_id=is.null"},u).subscribe();return()=>{Vt.removeChannel(d),Vt.removeChannel(f)}},[r,e==null?void 0:e.id,n]);const c=u=>{switch(u){case"success":return o.jsx("div",{className:"bg-green-100 rounded-full p-2",children:o.jsx(Ij,{className:"h-5 w-5 text-green-600"})});case"warning":return o.jsx("div",{className:"bg-yellow-100 rounded-full p-2",children:o.jsx(_se,{className:"h-5 w-5 text-yellow-600"})});case"error":return o.jsx("div",{className:"bg-red-100 rounded-full p-2",children:o.jsx(RN,{className:"h-5 w-5 text-red-600"})});default:return o.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:o.jsx($N,{className:"h-5 w-5 text-blue-600"})})}};return s.filter(u=>!u.is_read&&u.recipient_id===(e==null?void 0:e.id)).length,o.jsx(Dt,{children:o.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:o.jsx(Ne,{children:o.jsx(Pe,{className:"p-0",children:o.jsx("div",{className:"divide-y divide-gray-200",children:i?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t.common.loading}):s.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-bell-dynamic-color.png",alt:"No notifications",className:"mx-auto h-48 w-48 mb-4 object-contain"}),o.jsx("p",{children:t.notifications.noNotifications})]}):s.map(u=>o.jsxs("div",{className:`flex items-start gap-4 p-4 transition-colors ${!u.is_read&&u.recipient_id===(e==null?void 0:e.id)?"bg-blue-50":"hover:bg-gray-50"}`,children:[c(u.type),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:u.title}),o.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.created_at).toLocaleDateString()})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:u.message}),!u.is_read&&u.recipient_id===(e==null?void 0:e.id)&&o.jsxs("button",{onClick:()=>l.mutate(u.id),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800 mt-2 disabled:opacity-50",disabled:l.isPending,children:[o.jsx(Ij,{className:"h-4 w-4"}),t.notifications.markAsRead]})]})]},u.id))})})})})})};function oDe(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var lDe="DismissableLayer",BE="dismissableLayer.update",cDe="dismissableLayer.pointerDownOutside",uDe="dismissableLayer.focusOutside",H3,ZH=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eV=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(ZH),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),v=ht(t,j=>f(j)),m=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(y),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=hDe(j=>{const k=j.target,N=[...u.branches].some(C=>C.contains(k));!_||N||(a==null||a(j),i==null||i(j),j.defaultPrevented||l==null||l())},h),E=pDe(j=>{const k=j.target;[...u.branches].some(C=>C.contains(k))||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},h);return oDe(j=>{w===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(H3=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),V3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=H3)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),V3())},[d,u]),p.useEffect(()=>{const j=()=>g({});return document.addEventListener(BE,j),()=>document.removeEventListener(BE,j)},[]),o.jsx(tt.div,{...c,ref:v,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:$e(e.onFocusCapture,E.onFocusCapture),onBlurCapture:$e(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:$e(e.onPointerDownCapture,S.onPointerDownCapture)})});eV.displayName=lDe;var dDe="DismissableLayerBranch",fDe=p.forwardRef((e,t)=>{const r=p.useContext(ZH),n=p.useRef(null),a=ht(t,n);return p.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(tt.div,{...e,ref:a})});fDe.displayName=dDe;function hDe(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){tV(cDe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function pDe(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=p.useRef(!1);return p.useEffect(()=>{const a=s=>{s.target&&!n.current&&tV(uDe,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function V3(){const e=new CustomEvent(BE);document.dispatchEvent(e)}function tV(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Zm(a,s):a.dispatchEvent(s)}var $_="focusScope.autoFocusOnMount",R_="focusScope.autoFocusOnUnmount",K3={bubbles:!1,cancelable:!0},mDe="FocusScope",rV=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,c]=p.useState(null),u=Ut(a),d=Ut(s),f=p.useRef(null),h=ht(t,m=>c(m)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(b){if(g.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Ro(f.current,{select:!0})},y=function(b){if(g.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Ro(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Ro(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),w.disconnect()}}},[n,l,g.paused]),p.useEffect(()=>{if(l){J3.add(g);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent($_,K3);l.addEventListener($_,u),l.dispatchEvent(x),x.defaultPrevented||(gDe(wDe(nV(l)),{select:!0}),document.activeElement===m&&Ro(l))}return()=>{l.removeEventListener($_,u),setTimeout(()=>{const x=new CustomEvent(R_,K3);l.addEventListener(R_,d),l.dispatchEvent(x),x.defaultPrevented||Ro(m??document.body,{select:!0}),l.removeEventListener(R_,d),J3.remove(g)},0)}}},[l,u,d,g]);const v=p.useCallback(m=>{if(!r&&!n||g.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(y&&x){const w=m.currentTarget,[b,_]=vDe(w);b&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&Ro(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&Ro(_,{select:!0})):x===w&&m.preventDefault()}},[r,n,g.paused]);return o.jsx(tt.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});rV.displayName=mDe;function gDe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ro(n,{select:t}),document.activeElement!==r)return}function vDe(e){const t=nV(e),r=G3(t,e),n=G3(t.reverse(),e);return[r,n]}function nV(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function G3(e,t){for(const r of e)if(!yDe(r,{upTo:t}))return r}function yDe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xDe(e){return e instanceof HTMLInputElement&&"select"in e}function Ro(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&xDe(e)&&t&&e.select()}}var J3=bDe();function bDe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Y3(e,t),e.unshift(t)},remove(t){var r;e=Y3(e,t),(r=e[0])==null||r.resume()}}}function Y3(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function wDe(e){return e.filter(t=>t.tagName!=="A")}var _De="Portal",aV=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=p.useState(!1);Ur(()=>s(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Jm.createPortal(o.jsx(tt.div,{...n,ref:t}),i):null});aV.displayName=_De;var sV=sb(),I_=function(){},ww=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:I_,onWheelCapture:I_,onTouchMoveCapture:I_}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,v=e.inert,m=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,w=e.gapMode,b=lg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=ab([r,t]),E=ar(ar({},b),a);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:sV,removeScrollBar:u,shards:f,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!m,lockRef:r,gapMode:w}),i?p.cloneElement(p.Children.only(l),ar(ar({},E),{ref:S})):p.createElement(x,ar({},E,{className:c,ref:S}),l))});ww.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ww.classNames={fullWidth:Sc,zeroRight:_c};var UE=!1;if(typeof window<"u")try{var Lv=Object.defineProperty({},"passive",{get:function(){return UE=!0,!0}});window.addEventListener("test",Lv,Lv),window.removeEventListener("test",Lv,Lv)}catch{UE=!1}var _u=UE?{passive:!1}:!1,SDe=function(e){return e.tagName==="TEXTAREA"},iV=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!SDe(e)&&r[t]==="visible")},jDe=function(e){return iV(e,"overflowY")},kDe=function(e){return iV(e,"overflowX")},X3=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=oV(e,n);if(a){var s=lV(e,n),i=s[1],l=s[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},EDe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},NDe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},oV=function(e,t){return e==="v"?jDe(t):kDe(t)},lV=function(e,t){return e==="v"?EDe(t):NDe(t)},CDe=function(e,t){return e==="h"&&t==="rtl"?-1:1},PDe=function(e,t,r,n,a){var s=CDe(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=lV(e,l),v=g[0],m=g[1],y=g[2],x=m-y-s*v;(v||x)&&oV(e,l)&&(f+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Dv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Q3=function(e){return[e.deltaX,e.deltaY]},Z3=function(e){return e&&"current"in e?e.current:e},ADe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},TDe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ODe=0,Su=[];function $De(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),a=p.useState(ODe++)[0],s=p.useState(cg)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=nb([e.lockRef.current],(e.shards||[]).map(Z3),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var x=Dv(m),w=r.current,b="deltaX"in m?m.deltaX:w[0]-x[0],_="deltaY"in m?m.deltaY:w[1]-x[1],S,E=m.target,j=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&j==="h"&&E.type==="range")return!1;var k=X3(j,E);if(!k)return!0;if(k?S=j:(S=j==="v"?"h":"v",k=X3(j,E)),!k)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return PDe(N,y,m,N==="h"?b:_,!0)},[]),c=p.useCallback(function(m){var y=m;if(!(!Su.length||Su[Su.length-1]!==s)){var x="deltaY"in y?Q3(y):Dv(y),w=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&ADe(S.delta,x)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(i.current.shards||[]).map(Z3).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=b.length>0?l(y,b[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=p.useCallback(function(m,y,x,w){var b={name:m,delta:y,target:x,should:w,shadowParent:RDe(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=p.useCallback(function(m){r.current=Dv(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,Q3(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,Dv(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return Su.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,_u),document.addEventListener("touchmove",c,_u),document.addEventListener("touchstart",d,_u),function(){Su=Su.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,_u),document.removeEventListener("touchmove",c,_u),document.removeEventListener("touchstart",d,_u)}},[]);var g=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(s,{styles:TDe(a)}):null,g?p.createElement(lb,{gapMode:e.gapMode}):null)}function RDe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const IDe=ib(sV,$De);var cV=p.forwardRef(function(e,t){return p.createElement(ww,ar({},e,{ref:t,sideCar:IDe}))});cV.classNames=ww.classNames;var DP="Dialog",[uV,dV]=Ha(DP),[MDe,Qs]=uV(DP),fV=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,l=p.useRef(null),c=p.useRef(null),[u=!1,d]=Ws({prop:n,defaultProp:a,onChange:s});return o.jsx(MDe,{scope:t,triggerRef:l,contentRef:c,contentId:Ds(),titleId:Ds(),descriptionId:Ds(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};fV.displayName=DP;var hV="DialogTrigger",pV=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Qs(hV,r),s=ht(t,a.triggerRef);return o.jsx(tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":UP(a.open),...n,ref:s,onClick:$e(e.onClick,a.onOpenToggle)})});pV.displayName=hV;var FP="DialogPortal",[LDe,mV]=uV(FP,{forceMount:void 0}),gV=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Qs(FP,t);return o.jsx(LDe,{scope:t,forceMount:r,children:p.Children.map(n,i=>o.jsx(oa,{present:r||s.open,children:o.jsx(aV,{asChild:!0,container:a,children:i})}))})};gV.displayName=FP;var px="DialogOverlay",vV=p.forwardRef((e,t)=>{const r=mV(px,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Qs(px,e.__scopeDialog);return s.modal?o.jsx(oa,{present:n||s.open,children:o.jsx(DDe,{...a,ref:t})}):null});vV.displayName=px;var DDe=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Qs(px,r);return o.jsx(cV,{as:wl,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(tt.div,{"data-state":UP(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Wc="DialogContent",yV=p.forwardRef((e,t)=>{const r=mV(Wc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Qs(Wc,e.__scopeDialog);return o.jsx(oa,{present:n||s.open,children:s.modal?o.jsx(FDe,{...a,ref:t}):o.jsx(BDe,{...a,ref:t})})});yV.displayName=Wc;var FDe=p.forwardRef((e,t)=>{const r=Qs(Wc,e.__scopeDialog),n=p.useRef(null),a=ht(t,r.contentRef,n);return p.useEffect(()=>{const s=n.current;if(s)return cb(s)},[]),o.jsx(xV,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:$e(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:$e(e.onFocusOutside,s=>s.preventDefault())})}),BDe=p.forwardRef((e,t)=>{const r=Qs(Wc,e.__scopeDialog),n=p.useRef(!1),a=p.useRef(!1);return o.jsx(xV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),xV=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,l=Qs(Wc,r),c=p.useRef(null),u=ht(t,c);return mP(),o.jsxs(o.Fragment,{children:[o.jsx(rV,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(eV,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":UP(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(zDe,{titleId:l.titleId}),o.jsx(WDe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),BP="DialogTitle",bV=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Qs(BP,r);return o.jsx(tt.h2,{id:a.titleId,...n,ref:t})});bV.displayName=BP;var wV="DialogDescription",_V=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Qs(wV,r);return o.jsx(tt.p,{id:a.descriptionId,...n,ref:t})});_V.displayName=wV;var SV="DialogClose",jV=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Qs(SV,r);return o.jsx(tt.button,{type:"button",...n,ref:t,onClick:$e(e.onClick,()=>a.onOpenChange(!1))})});jV.displayName=SV;function UP(e){return e?"open":"closed"}var kV="DialogTitleWarning",[UDe,EV]=qQ(kV,{contentName:Wc,titleName:BP,docsSlug:"dialog"}),zDe=({titleId:e})=>{const t=EV(kV),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},qDe="DialogDescriptionWarning",WDe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${EV(qDe).contentName}}.`;return p.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},HDe=fV,VDe=pV,KDe=gV,GDe=vV,JDe=yV,YDe=bV,XDe=_V,NV=jV,CV="AlertDialog",[QDe,OFe]=Ha(CV,[dV]),xo=dV(),PV=e=>{const{__scopeAlertDialog:t,...r}=e,n=xo(t);return o.jsx(HDe,{...n,...r,modal:!0})};PV.displayName=CV;var ZDe="AlertDialogTrigger",AV=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xo(r);return o.jsx(VDe,{...a,...n,ref:t})});AV.displayName=ZDe;var e6e="AlertDialogPortal",TV=e=>{const{__scopeAlertDialog:t,...r}=e,n=xo(t);return o.jsx(KDe,{...n,...r})};TV.displayName=e6e;var t6e="AlertDialogOverlay",OV=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xo(r);return o.jsx(GDe,{...a,...n,ref:t})});OV.displayName=t6e;var dd="AlertDialogContent",[r6e,n6e]=QDe(dd),$V=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=xo(r),i=p.useRef(null),l=ht(t,i),c=p.useRef(null);return o.jsx(UDe,{contentName:dd,titleName:RV,docsSlug:"alert-dialog",children:o.jsx(r6e,{scope:r,cancelRef:c,children:o.jsxs(JDe,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:$e(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(aN,{children:n}),o.jsx(s6e,{contentRef:i})]})})})});$V.displayName=dd;var RV="AlertDialogTitle",IV=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xo(r);return o.jsx(YDe,{...a,...n,ref:t})});IV.displayName=RV;var MV="AlertDialogDescription",LV=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xo(r);return o.jsx(XDe,{...a,...n,ref:t})});LV.displayName=MV;var a6e="AlertDialogAction",DV=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xo(r);return o.jsx(NV,{...a,...n,ref:t})});DV.displayName=a6e;var FV="AlertDialogCancel",BV=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=n6e(FV,r),s=xo(r),i=ht(t,a);return o.jsx(NV,{...s,...n,ref:i})});BV.displayName=FV;var s6e=({contentRef:e})=>{const t=`\`${dd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${dd}\` by passing a \`${MV}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${dd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},i6e=PV,o6e=AV,l6e=TV,UV=OV,zV=$V,qV=DV,WV=BV,HV=IV,VV=LV;const e5=i6e,t5=o6e,c6e=l6e,KV=p.forwardRef(({className:e,...t},r)=>o.jsx(UV,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));KV.displayName=UV.displayName;const zE=p.forwardRef(({className:e,...t},r)=>o.jsxs(c6e,{children:[o.jsx(KV,{}),o.jsx(zV,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));zE.displayName=zV.displayName;const qE=({className:e,...t})=>o.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",e),...t});qE.displayName="AlertDialogHeader";const WE=({className:e,...t})=>o.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});WE.displayName="AlertDialogFooter";const HE=p.forwardRef(({className:e,...t},r)=>o.jsx(HV,{ref:r,className:de("text-lg font-semibold",e),...t}));HE.displayName=HV.displayName;const VE=p.forwardRef(({className:e,...t},r)=>o.jsx(VV,{ref:r,className:de("text-sm text-muted-foreground",e),...t}));VE.displayName=VV.displayName;const KE=p.forwardRef(({className:e,...t},r)=>o.jsx(qV,{ref:r,className:de(ON(),e),...t}));KE.displayName=qV.displayName;const GE=p.forwardRef(({className:e,...t},r)=>o.jsx(WV,{ref:r,className:de(ON({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));GE.displayName=WV.displayName;const GV=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:de("w-full caption-bottom text-sm",e),...t})}));GV.displayName="Table";const JV=p.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:de("[&_tr]:border-b",e),...t}));JV.displayName="TableHeader";const YV=p.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:de("[&_tr:last-child]:border-0",e),...t}));YV.displayName="TableBody";const u6e=p.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:de("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));u6e.displayName="TableFooter";const JE=p.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:de("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));JE.displayName="TableRow";const Zl=p.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:de("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Zl.displayName="TableHead";const ec=p.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:de("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ec.displayName="TableCell";const d6e=p.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:de("mt-4 text-sm text-muted-foreground",e),...t}));d6e.displayName="TableCaption";const r5=({courseForm:e,setCourseForm:t,handleImageChange:r,imagePreview:n,className:a,fileInputRef:s})=>o.jsx("div",{className:a,children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 py-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"title",children:"Title"}),o.jsx(ft,{id:"title",value:e.title,onChange:i=>t({...e,title:i.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"description",children:"Description"}),o.jsx(hf,{id:"description",value:e.description,onChange:i=>t({...e,description:i.target.value}),className:"mt-1",rows:4})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"category",children:"Category"}),o.jsxs(Rs,{value:e.category,onValueChange:i=>t({...e,category:i}),children:[o.jsx(ns,{className:"mt-1",children:o.jsx(Is,{placeholder:"Select category"})}),o.jsxs(as,{children:[o.jsx(er,{value:"programming",children:"Programming"}),o.jsx(er,{value:"design",children:"Design"}),o.jsx(er,{value:"marketing",children:"Marketing"}),o.jsx(er,{value:"business",children:"Business"}),o.jsx(er,{value:"data-science",children:"Data Science"}),o.jsx(er,{value:"cybersecurity",children:"Cybersecurity"})]})]})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"level",children:"Level"}),o.jsxs(Rs,{value:e.level,onValueChange:i=>t({...e,level:i}),children:[o.jsx(ns,{className:"mt-1",children:o.jsx(Is,{placeholder:"Select level"})}),o.jsxs(as,{children:[o.jsx(er,{value:"beginner",children:"Beginner"}),o.jsx(er,{value:"intermediate",children:"Intermediate"}),o.jsx(er,{value:"advanced",children:"Advanced"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"duration",children:"Duration"}),o.jsx(ft,{id:"duration",placeholder:"e.g., 8 weeks",value:e.duration,onChange:i=>t({...e,duration:i.target.value}),className:"mt-1"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{children:"Course Image"}),o.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:o.jsx("div",{className:"space-y-1 text-center",children:n?o.jsxs("div",{className:"relative mx-auto",children:[o.jsx("img",{src:n,alt:"Preview",className:"mx-auto h-24 w-auto rounded-md object-cover"}),o.jsx("button",{onClick:()=>r(null),className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded-full",children:o.jsx(rn,{className:"h-4 w-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(ose,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsxs("div",{className:"flex text-sm text-gray-600",children:[o.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-breneo-blue hover:text-breneo-blue/80 focus-within:outline-none",children:[o.jsx("span",{children:"Upload a file"}),o.jsx("input",{ref:s,id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:i=>r(i.target.files),accept:"image/*"})]}),o.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"skills",children:"Required Skills"}),o.jsx(ft,{id:"skills",placeholder:"Comma separated skills",value:e.required_skills,onChange:i=>t({...e,required_skills:i.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"topics",children:"Topics"}),o.jsx(ft,{id:"topics",placeholder:"Comma separated topics",value:e.topics,onChange:i=>t({...e,topics:i.target.value}),className:"mt-1"})]})]})]})}),n5=()=>{const{user:e}=br(),[t,r]=p.useState([]),[n,a]=p.useState(null),[s,i]=p.useState(!0),[l,c]=p.useState(!1),[u,d]=p.useState(null),[f,h]=p.useState({title:"",description:"",category:"",level:"",duration:"",required_skills:"",topics:""}),[g,v]=p.useState(null),[m,y]=p.useState(null),[x,w]=p.useState(!1),b=Ea(),_=p.useRef(null),S=p.useRef(null),E=()=>{d(null),h({title:"",description:"",category:"",level:"",duration:"",required_skills:"",topics:""}),v(null),y(null),S.current&&(S.current.value="")},j=$=>{$||E(),w($)},k=$=>{d($),h({title:$.title,description:$.description,category:$.category,level:$.level,duration:$.duration,required_skills:$.required_skills.join(", "),topics:$.topics.join(", ")}),y($.image),w(!0)},N=p.useCallback(async()=>{var $;if(e)try{const F=await Ce.get(mt.ACADEMY.PROFILE);if(F.data){const O=F.data,L={id:O.id||O.academy_id||String(e.id),academy_name:O.academy_name||"",first_name:O.first_name||O.firstName||e.first_name||O.academy_name||"",description:O.description||"",website_url:O.website_url||"",contact_email:O.contact_email||e.email||"",is_verified:O.is_verified||!1,logo_url:O.logo_url||O.profile_photo_url||null};a(L),console.log(" Academy profile loaded from API:",L)}}catch(F){console.error("Failed to load academy profile:",F),(($=F.response)==null?void 0:$.status)===404?ue.error("Please set up your academy profile first"):ue.error("Failed to load academy profile")}finally{i(!1)}},[e]),C=p.useCallback(async()=>{if(n)try{const{data:$,error:F}=await Vt.from("courses").select("*").eq("academy_id",n.id).order("created_at",{ascending:!1});if(F)throw F;const O=($||[]).map(L=>({...L,required_skills:L.required_skills||[],topics:L.topics||[],enrolled:L.enrolled||!1,popular:L.popular||!1,is_academy_course:L.is_academy_course||!1}));r(O)}catch($){console.error("Error fetching courses:",$),ue.error($.message||"Failed to load courses")}},[n]);p.useEffect(()=>{N()},[N]),p.useEffect(()=>{n&&n.id&&C()},[n,C]),p.useEffect(()=>{x&&b&&_.current&&_.current.scrollTo({top:0})},[x,b]);const A=$=>{if($&&$[0]){const F=$[0],O=10*1024*1024;if(F.size>O){ue.error("Image size must be less than 10MB"),S.current&&(S.current.value="");return}if(!F.type.startsWith("image/")){ue.error("Please select a valid image file"),S.current&&(S.current.value="");return}v(F),y(URL.createObjectURL(F))}else v(null),y(null),S.current&&(S.current.value="")},I=async()=>{u?await z():await B()},B=async()=>{var $,F,O,L;if(!n||!n.id){ue({title:"Error",description:"Academy profile ID is missing",variant:"destructive"});return}c(!0);try{const Q=f.required_skills.split(",").map(le=>le.trim()).filter(le=>le),T=f.topics.split(",").map(le=>le.trim()).filter(le=>le);let D="/lovable-uploads/no_photo.png";if(g)try{const le=g.name.split(".").pop(),K=`${n.id}/${Date.now()}.${le}`;console.log(" Uploading image to Supabase storage...",{bucket:"course-images",fileName:K,fileSize:g.size,fileType:g.type});const{data:Z,error:H}=await Vt.storage.from("course-images").upload(K,g,{cacheControl:"3600",upsert:!1});if(H)throw console.error(" Image upload error:",H),($=H.message)!=null&&$.includes("Bucket not found")||(F=H.message)!=null&&F.includes("does not exist")?(ue.error("Storage bucket 'course-images' not found. Please contact support to set it up."),new Error("Storage bucket not configured")):(O=H.message)!=null&&O.includes("permission")||(L=H.message)!=null&&L.includes("policy")||H.statusCode===403?(ue.error("Permission denied. Please check storage bucket policies."),new Error("Storage permission denied")):(ue.error(`Failed to upload image: ${H.message||"Unknown error"}`),H);console.log(" Image uploaded successfully:",Z);const{data:X}=Vt.storage.from("course-images").getPublicUrl(K);D=X.publicUrl,console.log(" Image URL:",D)}catch(le){throw console.error(" Image upload failed:",le),le}const Y=n.first_name||n.academy_name||"",{data:q,error:ie}=await Vt.from("courses").insert({title:f.title,description:f.description,category:f.category,level:f.level,duration:f.duration,provider:Y,required_skills:Q,topics:T,image:D,enrolled:!1,popular:!1,academy_id:n.id,is_academy_course:!0}).select().single();if(ie)throw ie;ue.success("Course added successfully"),C(),j(!1)}catch(Q){console.error("Error adding course:",Q),ue.error(Q.message||"Failed to add course")}finally{c(!1)}},z=async()=>{var $,F,O,L;if(!(!u||!n||!n.id)){c(!0);try{const Q=f.required_skills.split(",").map(ie=>ie.trim()).filter(ie=>ie),T=f.topics.split(",").map(ie=>ie.trim()).filter(ie=>ie);let D=u.image;if(g)try{const ie=g.name.split(".").pop(),le=`${n.id}/${Date.now()}.${ie}`;console.log(" Uploading new image to Supabase storage...",{bucket:"course-images",fileName:le,fileSize:g.size,fileType:g.type});const{data:K,error:Z}=await Vt.storage.from("course-images").upload(le,g,{cacheControl:"3600",upsert:!1});if(Z)throw console.error(" Image upload error:",Z),($=Z.message)!=null&&$.includes("Bucket not found")||(F=Z.message)!=null&&F.includes("does not exist")?(ue.error("Storage bucket 'course-images' not found. Please contact support to set it up."),new Error("Storage bucket not configured")):(O=Z.message)!=null&&O.includes("permission")||(L=Z.message)!=null&&L.includes("policy")||Z.statusCode===403?(ue.error("Permission denied. Please check storage bucket policies."),new Error("Storage permission denied")):(ue.error(`Failed to upload image: ${Z.message||"Unknown error"}`),Z);console.log(" Image uploaded successfully:",K);const{data:H}=Vt.storage.from("course-images").getPublicUrl(le);D=H.publicUrl,console.log(" Image URL:",D)}catch(ie){throw console.error(" Image upload failed:",ie),ie}const Y=n.first_name||n.academy_name||"",{error:q}=await Vt.from("courses").update({title:f.title,description:f.description,category:f.category,level:f.level,duration:f.duration,required_skills:Q,topics:T,image:D,provider:Y}).eq("id",u.id);if(q)throw q;ue.success("Course updated successfully"),C(),j(!1)}catch(Q){console.error("Error updating course:",Q),ue.error(Q.message||"Failed to update course")}finally{c(!1)}}},M=async $=>{try{const{error:F}=await Vt.from("courses").delete().eq("id",$);if(F)throw F;ue.success("Course deleted successfully"),C(),j(!1)}catch(F){console.error("Error deleting course:",F),ue.error(F.message||"Failed to delete course")}};return s?o.jsx(Dt,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-lg",children:"Loading..."})})}):n?o.jsx(Dt,{children:o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("span",{className:"text-md font-semibold",children:["You have ",t.length," Courses"]}),b?o.jsxs(Un,{open:x,onOpenChange:j,children:[o.jsx(Xoe,{asChild:!0,children:o.jsxs(re,{children:[o.jsx(Lj,{className:"w-4 h-4 mr-2"}),"Add Course"]})}),o.jsxs(zn,{children:[o.jsxs(u0,{className:"h-[80vh]",ref:_,children:[o.jsxs(qn,{className:"text-left",children:[o.jsx(Wn,{children:u?"Edit Course":"Create a New Course"}),o.jsx(VN,{children:u?"Update the details below.":"Fill in the details below to add a new course."})]}),o.jsx(r5,{courseForm:f,setCourseForm:h,handleImageChange:A,imagePreview:m,className:"px-4",fileInputRef:S})]}),o.jsxs(xa,{className:"pt-2 sticky bottom-0 bg-background shadow-lg flex-row space-x-2",children:[o.jsx(re,{onClick:I,disabled:l||!f.title||!f.description,className:"bg-breneo-blue hover:bg-breneo-blue/90 w-full",children:l?"Saving...":u?"Save Changes":"Add Course"}),u&&o.jsxs(e5,{children:[o.jsx(t5,{asChild:!0,children:o.jsxs(re,{variant:"destructive",className:"w-full",children:[o.jsx(ml,{className:"w-4 h-4 mr-2"}),"Delete"]})}),o.jsxs(zE,{children:[o.jsxs(qE,{children:[o.jsx(HE,{children:"Are you sure?"}),o.jsx(VE,{children:"This action cannot be undone. This will permanently delete the course."})]}),o.jsxs(WE,{children:[o.jsx(GE,{children:"Cancel"}),o.jsx(KE,{onClick:()=>M(u.id),children:"Continue"})]})]})]}),o.jsx(hi,{asChild:!0,children:o.jsx(re,{variant:"outline",className:"w-full",children:"Cancel"})})]})]})]}):o.jsxs(kn,{open:x,onOpenChange:j,children:[o.jsx(Soe,{asChild:!0,children:o.jsxs(re,{children:[o.jsx(Lj,{className:"w-4 h-4 mr-2"}),"Add Course"]})}),o.jsxs(mn,{className:"sm:max-w-[800px] bg-gray-50",children:[o.jsxs(gn,{children:[o.jsx(vn,{className:"text-2xl font-bold text-gray-800",children:u?"Edit Course":"Create a New Course"}),o.jsx(jc,{children:u?"Update the details below for your course.":"Fill in the details below to add a new course to your academy."})]}),o.jsx(r5,{courseForm:f,setCourseForm:h,handleImageChange:A,imagePreview:m,fileInputRef:S}),o.jsxs(Bn,{children:[u&&o.jsxs(e5,{children:[o.jsx(t5,{asChild:!0,children:o.jsxs(re,{variant:"destructive",children:[o.jsx(ml,{className:"w-4 h-4 mr-2"}),"Delete Course"]})}),o.jsxs(zE,{children:[o.jsxs(qE,{children:[o.jsx(HE,{children:"Are you sure?"}),o.jsx(VE,{children:"This action cannot be undone. This will permanently delete the course."})]}),o.jsxs(WE,{children:[o.jsx(GE,{children:"Cancel"}),o.jsx(KE,{onClick:()=>M(u.id),children:"Continue"})]})]})]}),o.jsx(re,{onClick:I,disabled:l||!f.title||!f.description,className:"bg-breneo-blue hover:bg-breneo-blue/90",children:l?"Saving...":u?"Save Changes":"Add Course"})]})]})]})]}),o.jsx("div",{children:t.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(r0,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No courses yet"}),o.jsx("p",{className:"text-muted-foreground",children:"Add your first course to get started"})]}):o.jsxs(GV,{children:[o.jsx(JV,{children:o.jsxs(JE,{children:[o.jsx(Zl,{children:"Image"}),o.jsx(Zl,{children:"Title"}),o.jsx(Zl,{children:"Category"}),o.jsx(Zl,{children:"Level"}),o.jsx(Zl,{children:"Duration"}),o.jsx(Zl,{})]})}),o.jsx(YV,{children:t.map($=>o.jsxs(JE,{children:[o.jsx(ec,{children:o.jsx("img",{src:$.image,alt:$.title,className:"h-12 w-16 rounded-md object-cover"})}),o.jsx(ec,{className:"font-medium",children:$.title}),o.jsx(ec,{children:o.jsx(or,{variant:"outline",children:$.category})}),o.jsx(ec,{children:o.jsx(or,{variant:"secondary",children:$.level})}),o.jsx(ec,{children:$.duration}),o.jsx(ec,{className:"text-right",children:o.jsx(re,{variant:"outline",size:"sm",onClick:()=>k($),children:o.jsx(up,{className:"h-4 w-4"})})})]},$.id))})]})})]})})}):o.jsx(Dt,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})})},Fv="https://breneo.onrender.com/api/academy/profile/",f6e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),h6e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),p6e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),m6e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),g6e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M12 24C5.385 24 0 18.615 0 12S5.385 0 12 0s12 5.385 12 12-5.385 12-12 12zm10.12-10.358c-.35-.11-3.17-.953-6.384-.438 1.34 3.684 1.887 6.684 1.992 7.308 2.3-1.555 3.936-4.02 4.395-6.87zm-6.115 7.808c-.153-.9-.75-4.032-2.19-7.77l-.066.02c-5.79 2.015-7.86 6.025-8.04 6.4 1.73 1.358 3.92 2.137 6.29 2.137 1.42 0 2.77-.29 4-.816zm-11.62-2.58c.232-.4 3.045-5.055 8.332-6.765.135-.045.27-.084.405-.12-.26-.585-.54-1.167-.832-1.72C7.17 11.775 2.206 11.71 1.756 11.7l-.004.312c0 2.633.998 5.037 2.634 6.855zm-2.42-8.955c.46.008 4.683.026 9.477-1.248-1.698-3.018-3.53-5.558-3.8-5.928-2.868 1.35-5.01 3.99-5.676 7.17zM9.6 2.052c.282.38 2.145 2.914 3.822 6 3.645-1.365 5.19-3.44 5.373-3.702-1.81-1.61-4.19-2.586-6.795-2.586-.825 0-1.63.1-2.4.285zm10.335 3.483c-.218.29-1.935 2.493-5.724 4.04.24.49.47.985.68 1.486.08.18.15.36.22.53 3.41-.43 6.8.26 7.14.33-.02-2.42-.88-4.64-2.31-6.38z"})}),v6e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.921h-6.466v-14.921h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.015zm-3.466-8.921h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"})}),M_=(e,t)=>{const r={className:t||"h-5 w-5"};switch(e){case"github":return o.jsx(f6e,{...r});case"linkedin":return o.jsx(h6e,{...r});case"facebook":return o.jsx(p6e,{...r});case"instagram":return o.jsx(m6e,{...r});case"dribbble":return o.jsx(g6e,{...r});case"behance":return o.jsx(v6e,{...r});default:return o.jsx(IN,{className:t||"h-5 w-5"})}},$h={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram",dribbble:"Dribbble",behance:"Behance"},y6e=()=>{const{user:e,logout:t,loading:r}=br(),n=hr(),a=Ea(),[s,i]=p.useState(null),[l,c]=p.useState(null),[u,d]=p.useState(!0),[f,h]=p.useState(!1),[g,v]=p.useState(!1),[m,y]=p.useState(!1),[x,w]=p.useState({contact_email:""}),[b,_]=p.useState({academy_name:"",description:"",website_url:"",contact_email:""}),[S,E]=p.useState({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}),[j,k]=p.useState(!1),[N,C]=p.useState(!1),[A,I]=p.useState(null),[B,z]=p.useState({platform:"",url:""}),[M,$]=p.useState(!1),[F,O]=p.useState(!1),[L,Q]=p.useState(!1),[T,D]=p.useState(null),Y=p.useMemo(()=>{const G=(se,ke)=>{if(se&&typeof se=="object")return se[ke]};return[G(e,"phone_verified"),G(e,"is_phone_verified"),G(l,"phone_verified"),G(l,"is_phone_verified")].some(se=>se===!0||se==="true")},[e,l]),{isPhoneVerified:q,isSendingCode:ie,isVerifyingCode:le,codeSent:K,codeInput:Z,resendCooldown:H,sendCode:X,verifyCode:ce,setCodeInput:J}=Qq({phoneNumber:e==null?void 0:e.phone_number,ownerId:e==null?void 0:e.id,role:(e==null?void 0:e.user_type)??"academy",initiallyVerified:Y}),oe=async()=>{try{await X(),ue.info(e!=null&&e.phone_number?`We've sent a 6-digit code to ${e.phone_number}.`:"We've sent a 6-digit code to your phone.")}catch(G){const V=G instanceof Error?G.message:"Failed to send verification code. Please try again.";ue.error(V)}},ne=async()=>{try{await ce()&&ue.success("Your phone number has been verified successfully.")}catch(G){const V=G instanceof Error?G.message:"Verification failed. Please check the code and try again.";ue.error(V)}};p.useEffect(()=>{e!=null&&e.profile_image&&D(e.profile_image)},[e==null?void 0:e.profile_image]),p.useEffect(()=>{(async()=>{var se,ke,Be,it;if(r)return;if(!e){d(!1);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){console.error(" No token available, cannot fetch academy profile"),d(!1),ue.error("Please log in again to access your academy profile.");return}d(!0);try{try{const ut=await Ce.get(Fv);if(ut.data){const Ie=ut.data;i(Ie),_({academy_name:Ie.academy_name||"",description:Ie.description||"",website_url:Ie.website_url||"",contact_email:Ie.contact_email||""}),w({contact_email:Ie.contact_email||""})}}catch(ut){const Ie=ut,lt=(se=Ie.response)==null?void 0:se.status,ve=(ke=Ie.response)==null?void 0:ke.data;if(console.log(" Academy profile API response:",{status:lt,url:(Be=Ie.config)==null?void 0:Be.url,hasToken:!!localStorage.getItem("authToken"),errorData:ve}),lt===404)console.log(" Academy profile not found (404) - user may need to create one"),i(null);else if(lt===403)console.error("Access forbidden to academy profile"),ue.error("You don't have permission to access academy profile.");else if(lt===401){const Ae=(ve==null?void 0:ve.detail)||(ve==null?void 0:ve.message)||"";console.warn(" Academy profile returned 401",{errorDetail:Ae,url:(it=Ie.config)==null?void 0:it.url});const P=String(Ae).toLowerCase();if(P.includes("not found")||P.includes("does not exist")||P.includes("no profile")||P.includes("user not found")){console.log(" Profile not found based on error message - treating as 404, allowing user to create profile"),i(null);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){if(console.error(" Token was cleared - checking if it's a server error or real expiration"),P.includes("academy")||P.includes("profile")){console.log(" Error mentions academy/profile - might be missing profile, allowing creation"),i(null);return}ue({title:"Authentication Error",description:"Your session has expired. Please log in again.",variant:"destructive"});return}console.log(" Token exists but got 401 - treating as missing profile, allowing user to create profile"),i(null)}else console.error("Error fetching academy profile:",Ie),ue.error("Could not load academy profile data. Please try again.")}e!=null&&e.profile_image||Ce.get(mt.AUTH.PROFILE).then(ut=>{ut.data&&c(ut.data)}).catch(ut=>{var ve;const Ie=ut,lt=(ve=Ie==null?void 0:Ie.response)==null?void 0:ve.status;if(lt&&lt!==401&&lt!==403){const Ae=(Ie==null?void 0:Ie.message)||String(ut);console.warn("Could not fetch user profile (non-critical):",lt||Ae)}})}catch(ut){const Ie=ut instanceof Error?ut.message:"Unknown error";console.error("Unexpected error in fetchProfileData:",Ie),ue({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}})()},[e,ue,r]),p.useEffect(()=>{s&&(async()=>{if(!(!e||!s)){k(!0);try{const V=localStorage.getItem("authToken"),se="academy",ke=s.id,Be=e==null?void 0:e.email,it=await Ce.get("/api/social-links/",{headers:V?{Authorization:`Bearer ${V}`}:{},params:{role:se,academy:ke,user_email:Be}});it.data&&typeof it.data=="object"&&!Array.isArray(it.data)?E({github:it.data.github||"",linkedin:it.data.linkedin||"",facebook:it.data.facebook||"",instagram:it.data.instagram||"",dribbble:it.data.dribbble||"",behance:it.data.behance||""}):E({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}catch{E({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}finally{k(!1)}}})()},[e,s]);const he=async()=>{var G;if(!e){ue({title:"Error",description:"You must be logged in to update your profile.",variant:"destructive"});return}if(!b.academy_name.trim()){ue({title:"Validation Error",description:"Academy name is required.",variant:"destructive"});return}y(!0);try{const se=await Ce[s?"patch":"post"](Fv,{academy_name:b.academy_name.trim(),description:b.description.trim()||null,website_url:b.website_url.trim()||null,contact_email:b.contact_email.trim()||null});if(se.data){const ke={id:(s==null?void 0:s.id)||se.data.id||"",academy_name:b.academy_name.trim(),description:b.description.trim()||"",website_url:b.website_url.trim()||"",contact_email:b.contact_email.trim()||"",logo_url:(s==null?void 0:s.logo_url)||se.data.logo_url||null};i(ke),_({academy_name:ke.academy_name,description:ke.description,website_url:ke.website_url,contact_email:ke.contact_email}),ue.success(s?"Your academy profile has been updated.":"Your academy profile has been created."),h(!1)}}catch(V){const se=V;let ke="Failed to update profile. Please try again.";if((G=se.response)!=null&&G.data){const Be=se.response.data;ke=Be.detail||Be.message||ke}else V instanceof Error&&(ke=V.message);console.error("Error updating academy profile:",ke),ue.error(ke)}finally{y(!1)}},fe=G=>{const{id:V,value:se}=G.target;_(ke=>({...ke,[V]:se}))},_e=()=>{t(),n("/")},W=()=>{s&&w({contact_email:s.contact_email||""}),v(!0)},te=async()=>{var G;if(s){y(!0);try{const V=await Ce.patch(Fv,{academy_name:s.academy_name,description:s.description,website_url:s.website_url||null,contact_email:x.contact_email.trim()||null});if(V&&V.data){const se={...s,contact_email:x.contact_email.trim()||""};i(se),_(ke=>({...ke,contact_email:se.contact_email})),ue.success("Contact information has been updated."),v(!1)}else throw new Error("No response data received")}catch(V){const se=V;let ke="Failed to update contact information. Please try again.";if((G=se.response)!=null&&G.data){const Be=se.response.data;ke=Be.detail||Be.message||ke}else V instanceof Error&&(ke=V.message);console.error("Error updating contact information:",V),ue.error(ke)}finally{y(!1)}}},je=()=>{I(null),z({platform:"",url:""}),C(!0)},me=G=>{I(G),z({platform:G,url:S[G]||""}),C(!0)},pe=G=>{try{const V=new URL(G);return V.protocol==="http:"||V.protocol==="https:"}catch{try{const V=new URL(`https://${G}`);return!0}catch{return!1}}},Re=async()=>{var V,se,ke;if(!e||!s||!B.platform||!B.url.trim()){ue.error("Please select a platform and provide a URL.");return}const G=B.url.trim();if(!pe(G)){ue.error("Please enter a valid URL (e.g., https://example.com).");return}$(!0);try{if(B.platform==="website"){let U=G;!U.startsWith("http://")&&!U.startsWith("https://")&&(U=`https://${U}`);const be=await Ce.patch(Fv,{academy_name:s.academy_name,description:s.description,website_url:U||null,contact_email:s.contact_email});if(be&&be.data){const Ge={...s,website_url:U||""};i(Ge),_(xt=>({...xt,website_url:Ge.website_url})),ue.success(A==="website"?"Website updated successfully.":"Website added successfully."),C(!1),z({platform:"",url:""}),I(null)}else throw new Error("No response data received");return}const Be=localStorage.getItem("authToken");if(!Be)throw new Error("Authentication token is missing");const it=B.platform,ut="academy",Ie=s.id,lt=e==null?void 0:e.email;if(!Ie||!lt)throw new Error("Missing required information: academy ID or user email");let ve=G;!ve.startsWith("http://")&&!ve.startsWith("https://")&&(ve=`https://${ve}`);const Ae={[it]:ve,role:ut,academy:Ie,user_email:lt};console.log(" Saving social link:",{platform:it,url:ve,role:ut,academy:Ie,user_email:lt});let P;try{P=await Ce.patch("/api/social-links/",Ae,{headers:{Authorization:`Bearer ${Be}`,"Content-Type":"application/json"}}),console.log(" Social link saved via PATCH:",P.data)}catch(U){const be=U;if(((V=be.response)==null?void 0:V.status)===404||((se=be.response)==null?void 0:se.status)===400){console.log(" PATCH failed, trying POST to create new record...");try{P=await Ce.post("/api/social-links/",Ae,{headers:{Authorization:`Bearer ${Be}`,"Content-Type":"application/json"}}),console.log(" Social link created via POST:",P.data)}catch(Ge){throw console.error(" Both PATCH and POST failed:",Ge),U}}else throw U}if(!P||!P.data)throw new Error("No response data received from server");E(U=>({...U,[it]:ve}));try{const U=await Ce.get("/api/social-links/",{headers:{Authorization:`Bearer ${Be}`},params:{role:ut,academy:Ie,user_email:lt}});if(U.data&&typeof U.data=="object"&&!Array.isArray(U.data)){const be={github:U.data.github||"",linkedin:U.data.linkedin||"",facebook:U.data.facebook||"",instagram:U.data.instagram||"",dribbble:U.data.dribbble||"",behance:U.data.behance||""};E(be),console.log(" Social links refreshed from server:",be)}}catch(U){console.warn(" Could not refresh social links from server:",U)}ue.success(A?"Social link updated successfully.":"Social link added successfully."),C(!1),z({platform:"",url:""}),I(null)}catch(Be){const it=Be;let ut="Failed to save. Please try again.";if((ke=it.response)!=null&&ke.data){const Ie=it.response.data;ut=Ie.detail||Ie.message||ut}else Be instanceof Error&&(ut=Be.message);console.error("Error saving social link/website:",Be),ue.error(ut)}finally{$(!1)}},ze=async G=>{var se,ke,Be,it,ut,Ie,lt;const V=(se=G.target.files)==null?void 0:se[0];if(V){if(!V.type.startsWith("image/")){ue.error("Please select an image file.");return}if(V.size>5*1024*1024){ue.error("Image size should be less than 5MB.");return}O(!0),D(null);try{const ve=new FormData;ve.append("profile_image",V);const Ae=localStorage.getItem("authToken"),P=await Ce.patch(mt.AUTH.PROFILE,ve,{headers:{Authorization:Ae?`Bearer ${Ae}`:void 0,"Content-Type":"multipart/form-data"}});console.log(" Image upload response:",P.data);const U=((ke=P.data)==null?void 0:ke.profile_image)||((it=(Be=P.data)==null?void 0:Be.profile)==null?void 0:it.profile_image)||((Ie=(ut=P.data)==null?void 0:ut.user)==null?void 0:Ie.profile_image)||null;D(U),ue.success("Profile image has been updated successfully."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image uploaded successfully")}catch(ve){console.error(" Error uploading profile image:",ve);const Ae=ve;let P="Failed to upload profile image. Please try again.";if((lt=Ae.response)!=null&&lt.data){const U=Ae.response.data;P=U.detail||U.message||P}ue.error(P)}finally{O(!1)}}},ot=()=>{Q(!0)},Ze=()=>{var G;(G=document.getElementById("profile-image-input"))==null||G.click(),Q(!1)},Ke=async()=>{if(e){if(!confirm("Are you sure you want to remove your profile image?")){Q(!1);return}O(!0),Q(!1);try{const G=localStorage.getItem("authToken"),V=await Ce.patch(mt.AUTH.PROFILE,{profile_image:null},{headers:{Authorization:G?`Bearer ${G}`:void 0}});console.log(" Image removal response:",V.data),D(null),(await Ce.get(mt.AUTH.PROFILE,{headers:{Authorization:G?`Bearer ${G}`:void 0}})).data,ue.success("Profile image has been removed."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image removed successfully")}catch(G){console.error(" Error removing profile image:",G),ue.error("Failed to remove profile image. Please try again.")}finally{O(!1)}}},Me=async G=>{var V;if(!(!e||!s||!confirm("Are you sure you want to remove this social link?")))try{const se=localStorage.getItem("authToken");if(!se)throw new Error("Authentication token is missing");const ke="academy",Be=s.id,it=e==null?void 0:e.email;if(!Be||!it)throw new Error("Missing required information: academy ID or user email");console.log(" Deleting social link:",{platform:G,role:ke,academy:Be,user_email:it});const ut={[G]:"",role:ke,academy:Be,user_email:it},Ie=await Ce.patch("/api/social-links/",ut,{headers:{Authorization:`Bearer ${se}`,"Content-Type":"application/json"}});if(!Ie||!Ie.data)throw new Error("No response data received from server");console.log(" Social link deleted:",Ie.data),E(lt=>({...lt,[G]:""}));try{const lt=await Ce.get("/api/social-links/",{headers:{Authorization:`Bearer ${se}`},params:{role:ke,academy:Be,user_email:it}});if(lt.data&&typeof lt.data=="object"&&!Array.isArray(lt.data)){const ve={github:lt.data.github||"",linkedin:lt.data.linkedin||"",facebook:lt.data.facebook||"",instagram:lt.data.instagram||"",dribbble:lt.data.dribbble||"",behance:lt.data.behance||""};E(ve),console.log(" Social links refreshed from server after deletion:",ve)}}catch(lt){console.warn(" Could not refresh social links from server:",lt)}ue.success("Social link removed successfully.")}catch(se){const ke=se;let Be="Failed to remove social link. Please try again.";if((V=ke.response)!=null&&V.data){const it=ke.response.data;Be=it.detail||it.message||Be}else se instanceof Error&&(Be=se.message);console.error(" Error deleting social link:",se),ue.error(Be)}};return r||u?o.jsx(Dt,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto mb-2"}),o.jsx("p",{children:"Loading profile..."})]})})}):!s&&!u?o.jsxs(Dt,{children:[o.jsxs("div",{className:"flex flex-col justify-center items-center h-64 space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your academy profile hasn't been set up yet."}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(re,{onClick:()=>h(!0),children:"Create Profile"}),o.jsx(re,{variant:"outline",onClick:()=>n("/academy/settings"),children:"Go to Settings"})]})]}),o.jsx(kn,{open:f,onOpenChange:h,children:o.jsxs(mn,{children:[o.jsxs(gn,{children:[o.jsx(vn,{children:"Create Academy Profile"}),o.jsx(jc,{children:"Enter your academy's information to create your profile. Click save when you're done."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Fe,{htmlFor:"academy_name",className:"text-right",children:"Academy Name *"}),o.jsx(ft,{id:"academy_name",value:b.academy_name,onChange:fe,className:"col-span-3",placeholder:"Enter academy name"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Fe,{htmlFor:"description",className:"text-right",children:"Description"}),o.jsx(hf,{id:"description",value:b.description,onChange:fe,className:"col-span-3",placeholder:"Describe your academy"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Fe,{htmlFor:"website_url",className:"text-right",children:"Website URL"}),o.jsx(ft,{id:"website_url",value:b.website_url,onChange:fe,className:"col-span-3",placeholder:"https://example.com"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Fe,{htmlFor:"contact_email",className:"text-right",children:"Contact Email"}),o.jsx(ft,{id:"contact_email",type:"email",value:b.contact_email,onChange:fe,className:"col-span-3",placeholder:"contact@academy.com"})]})]}),o.jsxs(Bn,{children:[o.jsx(re,{variant:"outline",onClick:()=>h(!1),disabled:m,children:"Cancel"}),o.jsx(re,{onClick:he,disabled:m,children:m?"Creating...":"Create Profile"})]})]})})]}):o.jsx(Dt,{children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(Ne,{children:o.jsxs(Pe,{className:"flex flex-col items-center pb-6 pt-6",children:[o.jsxs("div",{className:"relative group cursor-pointer",onClick:ot,children:[o.jsx(Jp,{src:T||(e==null?void 0:e.profile_image)||(l==null?void 0:l.profile_image)||void 0,alt:(s==null?void 0:s.academy_name)||"Academy",fallback:s!=null&&s.academy_name?s.academy_name.charAt(0).toUpperCase():e!=null&&e.first_name?e.first_name.charAt(0).toUpperCase():e!=null&&e.email?e.email.charAt(0).toUpperCase():"A",size:"xl",loading:"lazy",className:"h-32 w-32"}),F?o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-3xl z-10",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity z-10 pointer-events-none",children:o.jsx($8,{className:"h-8 w-8 text-white"})})]}),o.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:ze,disabled:F,className:"hidden"}),((e==null?void 0:e.first_name)||(e==null?void 0:e.last_name))&&o.jsx("h1",{className:"text-2xl font-bold mt-4 text-center",children:`${e.first_name||""} ${e.last_name||""}`.trim()}),(s==null?void 0:s.academy_name)&&o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2 text-center",children:s.academy_name}),o.jsxs("div",{className:"mt-4 flex items-center gap-2 w-full",children:[o.jsxs(re,{variant:"outline",className:"flex-[4] flex items-center justify-center gap-2",onClick:()=>n("/academy/settings"),children:[o.jsx(eb,{size:16}),"Settings"]}),o.jsx(re,{variant:"outline",onClick:_e,className:"flex-[1] flex items-center justify-center border-breneo-danger text-breneo-danger hover:bg-breneo-danger/10",children:o.jsx(M8,{size:16})})]})]})}),o.jsxs(Ne,{children:[o.jsxs(pt,{className:"flex flex-row items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Contact Information"}),s&&o.jsx(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:W,children:o.jsx(up,{size:16,className:"text-breneo-blue"})})]}),o.jsxs(Pe,{className:"space-y-4",children:[(e==null?void 0:e.phone_number)&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(Zp,{size:18,className:"text-breneo-blue"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[o.jsx("span",{className:"text-sm",children:e.phone_number}),o.jsx(or,{variant:q?"secondary":"outline",className:q?"mt-1 sm:mt-0 bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300":"mt-1 sm:mt-0 border-orange-300 text-orange-600",children:q?"Verified":"Unverified"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(Ud,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:(e==null?void 0:e.email)||"Not provided"})]}),(s==null?void 0:s.contact_email)&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(Ud,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:s.contact_email})]}),!q&&o.jsx(wP,{className:"border-orange-300 bg-orange-50 dark:border-orange-900/60 dark:bg-orange-950/30",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(qi,{className:"h-5 w-5 text-orange-600 mt-1"}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{children:[o.jsx(_P,{children:"Verify your phone number"}),o.jsx(SP,{children:"Confirm your phone number to ensure students and partners can trust your academy."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[o.jsx(re,{onClick:oe,disabled:!(e!=null&&e.phone_number)||ie||K&&H>0,children:ie?"Sending...":K?"Resend code":"Send verification code"}),H>0&&o.jsxs("span",{className:"text-xs text-orange-700 dark:text-orange-300",children:["You can request a new code in ",H,"s"]})]}),K&&o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[o.jsx(ft,{inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"Enter 6-digit code",value:Z,onChange:G=>J(G.target.value.replace(/\D/g,"").slice(0,6)),className:"sm:max-w-[200px]"}),o.jsx(re,{onClick:ne,disabled:Z.length!==6||le,children:le?"Verifying...":"Verify"})]}),!(e!=null&&e.phone_number)&&o.jsx("div",{className:"pt-2",children:o.jsx(re,{variant:"outline",size:"sm",onClick:()=>n("/academy/settings"),children:"Add phone number in settings"})})]})]})]})})]})]}),o.jsxs(Ne,{children:[o.jsxs(pt,{className:"flex flex-row items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Social Networks"}),s&&o.jsxs(re,{variant:"link",className:"text-breneo-blue p-0 h-auto flex items-center gap-1",onClick:je,children:[o.jsx(Lj,{size:16}),"Add"]})]}),o.jsx(Pe,{children:j?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading..."}):o.jsx("div",{className:"space-y-3",children:Object.entries(S).some(([G,V])=>V&&V.trim()!=="")?Object.entries(S).filter(([G,V])=>V&&V.trim()!=="").map(([G,V])=>o.jsxs("div",{className:"flex items-center justify-between group",children:[o.jsxs("a",{href:V,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 hover:text-breneo-blue transition-colors",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:M_(G,"h-[18px] w-[18px] text-breneo-blue")}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:$h[G]})}),o.jsx(Xp,{size:14,className:"text-gray-400 group-hover:text-breneo-blue"})]}),o.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[o.jsx(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>me(G),children:o.jsx(up,{size:14})}),o.jsx(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",onClick:()=>Me(G),children:o.jsx(ml,{size:14})})]})]},G)):o.jsx("div",{className:"text-center py-4 text-gray-500",children:'No social links added yet. Click "Add" to add your social media profiles or website.'})})})]})]}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs(Ne,{children:[o.jsxs(pt,{className:"flex flex-row items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Academy Information"}),s&&o.jsxs(re,{variant:"link",className:"text-breneo-blue p-0 h-auto",onClick:()=>h(!0),children:[o.jsx(up,{size:16,className:"mr-1"}),"Edit"]})]}),o.jsxs(Pe,{className:"space-y-4",children:[(s==null?void 0:s.academy_name)&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:"font-semibold",children:"Academy Name"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.academy_name})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:"font-semibold",children:"Description"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:(s==null?void 0:s.description)||"No description provided."})]})]})]})}),o.jsx(kn,{open:f,onOpenChange:h,children:o.jsxs(mn,{children:[o.jsxs(gn,{children:[o.jsx(vn,{children:"Edit Academy Profile"}),o.jsx(jc,{children:"Make changes to your academy's information here. Click save when you're done."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Fe,{htmlFor:"academy_name",className:"text-right",children:"Academy Name"}),o.jsx(ft,{id:"academy_name",value:b.academy_name,onChange:fe,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Fe,{htmlFor:"description",className:"text-right",children:"Description"}),o.jsx(hf,{id:"description",value:b.description,onChange:fe,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Fe,{htmlFor:"website_url",className:"text-right",children:"Website URL"}),o.jsx(ft,{id:"website_url",value:b.website_url,onChange:fe,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Fe,{htmlFor:"contact_email",className:"text-right",children:"Contact Email"}),o.jsx(ft,{id:"contact_email",type:"email",value:b.contact_email,onChange:fe,className:"col-span-3"})]})]}),o.jsxs(Bn,{children:[o.jsx(re,{variant:"outline",onClick:()=>h(!1),disabled:m,children:"Cancel"}),o.jsx(re,{onClick:he,disabled:m,children:m?"Saving...":"Save Changes"})]})]})}),a?o.jsx(Un,{open:g,onOpenChange:v,children:o.jsxs(zn,{children:[o.jsx(qn,{children:o.jsx(Wn,{children:"Edit Contact Information"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"contact_email_mobile",children:"Contact Email"}),o.jsx(ft,{id:"contact_email_mobile",type:"email",value:x.contact_email,disabled:!0,className:"bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"contact@academy.com"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed or deleted"})]})})}),o.jsxs(xa,{className:"pt-4",children:[o.jsx(re,{onClick:te,disabled:m,children:m?"Saving...":"Save Changes"}),o.jsx(hi,{asChild:!0,children:o.jsx(re,{variant:"outline",disabled:m,children:"Cancel"})})]})]})}):o.jsx(kn,{open:g,onOpenChange:v,children:o.jsxs(mn,{children:[o.jsxs(gn,{children:[o.jsx(vn,{children:"Edit Contact Information"}),o.jsx(jc,{children:"Update your contact information. Email cannot be changed."})]}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"contact_email",children:"Contact Email"}),o.jsx(ft,{id:"contact_email",type:"email",value:x.contact_email,disabled:!0,className:"bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"contact@academy.com"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed or deleted"})]})})}),o.jsxs(Bn,{children:[o.jsx(re,{variant:"outline",onClick:()=>v(!1),disabled:m,children:"Cancel"}),o.jsx(re,{onClick:te,disabled:m,children:m?"Saving...":"Save Changes"})]})]})}),a?o.jsx(Un,{open:N,onOpenChange:C,children:o.jsxs(zn,{children:[o.jsx(qn,{children:o.jsx(Wn,{children:A==="website"?"Edit Website":A?"Edit Social Link":"Add Link"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"social-platform-mobile",children:"Platform *"}),o.jsxs(Rs,{value:B.platform,onValueChange:G=>z({...B,platform:G}),disabled:M||!!A,children:[o.jsx(ns,{className:"mt-2",children:o.jsx(Is,{placeholder:"Select a platform"})}),o.jsxs(as,{children:[o.jsx(er,{value:"website",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Bd,{className:"h-4 w-4"}),o.jsx("span",{children:"Website"})]})}),Object.keys($h).map(G=>o.jsx(er,{value:G,children:o.jsxs("div",{className:"flex items-center gap-2",children:[M_(G,"h-4 w-4"),o.jsx("span",{children:$h[G]})]})},G))]})]})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"social-url-mobile",children:"URL *"}),o.jsx(ft,{id:"social-url-mobile",type:"url",placeholder:"https://...",value:B.url,onChange:G=>z({...B,url:G.target.value}),className:"mt-2",disabled:M,required:!0})]})]})}),o.jsxs(xa,{children:[o.jsx(re,{onClick:Re,disabled:M,children:M?"Saving...":A?"Update":"Add"}),o.jsx(hi,{asChild:!0,children:o.jsx(re,{variant:"outline",disabled:M,children:"Cancel"})})]})]})}):o.jsx(kn,{open:N,onOpenChange:C,children:o.jsxs(mn,{children:[o.jsx(gn,{children:o.jsx(vn,{children:A==="website"?"Edit Website":A?"Edit Social Link":"Add Link"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"social-platform-desktop",children:"Platform *"}),o.jsxs(Rs,{value:B.platform,onValueChange:G=>z({...B,platform:G}),disabled:M||!!A,children:[o.jsx(ns,{className:"mt-2",children:o.jsx(Is,{placeholder:"Select a platform"})}),o.jsxs(as,{children:[o.jsx(er,{value:"website",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Bd,{className:"h-4 w-4"}),o.jsx("span",{children:"Website"})]})}),Object.keys($h).map(G=>o.jsx(er,{value:G,children:o.jsxs("div",{className:"flex items-center gap-2",children:[M_(G,"h-4 w-4"),o.jsx("span",{children:$h[G]})]})},G))]})]})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"social-url-desktop",children:"URL *"}),o.jsx(ft,{id:"social-url-desktop",type:"url",placeholder:"https://...",value:B.url,onChange:G=>z({...B,url:G.target.value}),className:"mt-2",disabled:M,required:!0})]})]})}),o.jsxs(Bn,{children:[o.jsx(re,{variant:"outline",onClick:()=>{C(!1),z({platform:"",url:""}),I(null)},disabled:M,children:"Cancel"}),o.jsx(re,{onClick:Re,disabled:M,children:M?"Saving...":A?"Update":"Add"})]})]})}),a?o.jsx(Un,{open:L,onOpenChange:Q,children:o.jsxs(zn,{children:[o.jsx(qn,{children:o.jsx(Wn,{children:"Profile Photo"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs(re,{onClick:Ze,className:"w-full justify-start gap-3",variant:"ghost",disabled:F,children:[o.jsx(s0,{className:"h-5 w-5"}),T||e!=null&&e.profile_image?"Update Photo":"Upload Photo"]}),T||e!=null&&e.profile_image?o.jsxs(re,{onClick:Ke,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:F,children:[o.jsx(ml,{className:"h-5 w-5"}),"Remove Photo"]}):null]})})]})}):o.jsx(kn,{open:L,onOpenChange:Q,children:o.jsxs(mn,{children:[o.jsx(gn,{children:o.jsx(vn,{children:"Profile Photo"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs(re,{onClick:Ze,className:"w-full justify-start gap-3",variant:"ghost",disabled:F,children:[o.jsx(s0,{className:"h-5 w-5"}),T||e!=null&&e.profile_image?"Update Photo":"Upload Photo"]}),T||e!=null&&e.profile_image?o.jsxs(re,{onClick:Ke,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:F,children:[o.jsx(ml,{className:"h-5 w-5"}),"Remove Photo"]}):null]})}),o.jsx(Bn,{children:o.jsx(re,{variant:"outline",onClick:()=>Q(!1),children:"Cancel"})})]})})]})})};function x6e(){const{user:e,loading:t,logout:r}=br(),{theme:n,setTheme:a}=Pl();E8();const s=Va(),[i,l]=p.useState(!1),[c,u]=p.useState(!0),[d,f]=p.useState(!0),[h,g]=p.useState(!0),[v,m]=p.useState(!0),[y,x]=p.useState(!1);p.useState(!1),p.useState(!1);const[w,b]=p.useState(null),[_,S]=p.useState(!0),[E,j]=p.useState(""),[k,N]=p.useState(""),[C,A]=p.useState(""),[I,B]=p.useState(""),[z,M]=p.useState(""),[$,F]=p.useState(null);p.useState(1),p.useState(""),p.useState(""),p.useState(""),p.useState(!1),p.useEffect(()=>{l(!0);const Q=localStorage.getItem("pref_sound_effects"),T=localStorage.getItem("pref_animations"),D=localStorage.getItem("pref_motivational_messages"),Y=localStorage.getItem("pref_listening_exercises");Q!==null&&u(Q==="true"),T!==null&&f(T==="true"),D!==null&&g(D==="true"),Y!==null&&m(Y==="true")},[]),p.useEffect(()=>{i&&localStorage.setItem("pref_sound_effects",String(c))},[c,i]),p.useEffect(()=>{i&&localStorage.setItem("pref_animations",String(d))},[d,i]),p.useEffect(()=>{i&&localStorage.setItem("pref_motivational_messages",String(h))},[h,i]),p.useEffect(()=>{i&&localStorage.setItem("pref_listening_exercises",String(v))},[v,i]),p.useEffect(()=>{(async()=>{var D,Y;if(t)return;if(!e){S(!1);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){console.error(" No token available, cannot fetch academy profile"),S(!1),ue.error("Authentication Error: Please log in again to access academy settings.");return}try{N(e.phone_number||"");try{const q=await Ce.get(mt.ACADEMY.PROFILE);if(q.data){const ie=q.data;console.log(" Academy profile data:",ie),F(ie),j(ie.academy_name||""),A(ie.website_url||""),B(ie.contact_email||"")}}catch(q){const ie=q,le=(D=ie.response)==null?void 0:D.status,K=(Y=ie.response)==null?void 0:Y.data;if(le===404)console.log(" Academy profile not found (404) - user may need to create one"),F(null);else if(le===401){const Z=(K==null?void 0:K.detail)||(K==null?void 0:K.message)||"",H=String(Z).toLowerCase();H.includes("not found")||H.includes("does not exist")||H.includes("user not found")?(console.log(" Profile not found based on error message - treating as 404"),F(null)):(console.warn(" Academy profile returned 401:",Z),F(null))}else le===403?(console.error("Access forbidden to academy profile"),ue.error("Access Denied: You don't have permission to access academy settings.")):(console.error("Error fetching academy profile:",ie),ue.error("Error fetching profile: Could not load academy profile data. Please try again."))}}catch(q){console.error("Unexpected error fetching academy data:",q),ue.error("Failed to load academy data")}finally{S(!1)}})()},[e,t]),p.useEffect(()=>()=>{w&&URL.revokeObjectURL(w)},[w]),p.useEffect(()=>{y||M("")},[y]);const O=()=>{r()};if(_||t)return o.jsx(Dt,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("p",{className:"text-muted-foreground",children:"Loading academy settings..."})})});const L=n==="dark"?"ON":"OFF";return o.jsx(Dt,{children:o.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:o.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_400px]",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Preferences"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Lesson experience"}),o.jsx(ud,{})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Fe,{htmlFor:"sound-effects",className:"text-base font-normal",children:"Sound effects"}),o.jsx(Zn,{id:"sound-effects",checked:c,onCheckedChange:u})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Fe,{htmlFor:"animations",className:"text-base font-normal",children:"Animations"}),o.jsx(Zn,{id:"animations",checked:d,onCheckedChange:f})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Fe,{htmlFor:"motivational-messages",className:"text-base font-normal",children:"Motivational messages"}),o.jsx(Zn,{id:"motivational-messages",checked:h,onCheckedChange:g})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Fe,{htmlFor:"listening-exercises",className:"text-base font-normal",children:"Listening exercises"}),o.jsx(Zn,{id:"listening-exercises",checked:v,onCheckedChange:m})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Appearance"}),o.jsx(ud,{})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Fe,{htmlFor:"dark-mode",className:"text-base font-normal",children:"Dark mode"}),o.jsxs(Rs,{value:n||"light",onValueChange:Q=>a(Q),children:[o.jsx(ns,{id:"dark-mode",className:"w-32",children:o.jsx(Is,{children:L})}),o.jsxs(as,{children:[o.jsx(er,{value:"light",children:"OFF"}),o.jsx(er,{value:"dark",children:"ON"})]})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(CE,{}),o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsx(At,{className:"text-lg",children:"Account"})}),o.jsxs(Pe,{className:"space-y-2",children:[o.jsx(Mr,{to:"/academy/settings",className:`block text-sm transition-colors ${s.pathname==="/academy/settings"?"text-primary font-medium":"text-foreground hover:text-primary"}`,children:"Preferences"}),o.jsx(Mr,{to:"/academy/profile",className:`block text-sm transition-colors ${s.pathname==="/academy/profile"?"text-primary font-medium":"text-foreground hover:text-primary"}`,children:"Profile"}),o.jsx(Mr,{to:"/academy/profile",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Privacy settings"})]})]}),o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsx(At,{className:"text-lg",children:"Subscription"})}),o.jsx(Pe,{children:o.jsx(Mr,{to:"/subscription",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Choose a plan"})})]}),o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsx(At,{className:"text-lg",children:"Support"})}),o.jsx(Pe,{children:o.jsx(Mr,{to:"/help",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Help Center"})})]}),o.jsx(re,{variant:"link",onClick:O,className:"w-full text-primary hover:text-primary/80 justify-center",children:"LOG OUT"})]})]})})})}const b6e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),w6e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),_6e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),S6e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),j6e=(e,t)=>{const r={className:t};switch(e){case"github":return o.jsx(b6e,{...r});case"linkedin":return o.jsx(w6e,{...r});case"facebook":return o.jsx(_6e,{...r});case"instagram":return o.jsx(S6e,{...r});default:return o.jsx(IN,{className:t})}},k6e={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram"},E6e=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),N6e=()=>{const{academySlug:e}=tg();br();const t=hr(),r=e?/^\d+$/.test(e):!1,n=e?E6e(e)||r:!1,a=n?e:null,s=n?null:e,i=v=>{if(!v)return{id:""};const m=x=>{for(const w of x){const b=v[w];if(b!=null){if(typeof b=="string"&&b.trim())return b;if(typeof b=="number")return String(b)}}};return{id:v.id!==null&&v.id!==void 0?String(v.id):v.academy_id!==null&&v.academy_id!==void 0?String(v.academy_id):"",user_id:v.user_id,academy_name:m(["academy_name","name","academyName","first_name","firstName"])||void 0,description:m(["description","desc"])||void 0,website_url:m(["website_url","website","websiteUrl","url"])||void 0,contact_email:m(["contact_email","email","contactEmail","contact_mail"])||void 0,phone_number:m(["phone_number","phone","phoneNumber"])||void 0,is_verified:v.is_verified||v.isVerified||v.verified||!1,logo_url:m(["logo_url","logoUrl","logo","profile_image_url","profileImageUrl","profile_photo_url","profilePhotoUrl","image"])||void 0,profile_photo_url:m(["profile_image_url","profileImageUrl","profile_photo_url","profilePhotoUrl","profile_photo","profilePhoto","image","logo_url","logoUrl","logo"])||void 0,social_links:v.social_links||void 0}},{data:l,isLoading:c,error:u}=ir({queryKey:["academy-profile",a||s],queryFn:async()=>{var b,_,S,E,j,k;if(!e)return null;let v=null,m=null;try{let N;if(n&&a)m=a,N=await Ce.get(`/api/academy/${a}/`),console.log(" Academy profile fetched by ID:",{academyId:a,rawData:N.data,hasProfileData:!!((b=N.data)!=null&&b.profile_data)}),(_=N.data)!=null&&_.profile_data?(v=N.data.profile_data,console.log(" Using profile_data from response:",v)):v=N.data;else if(s)N=await Ce.get(`/api/academy/${s}/`),console.log(" Academy profile fetched by slug:",{academySlug:s,rawData:N.data,hasProfileData:!!((S=N.data)!=null&&S.profile_data)}),(E=N.data)!=null&&E.profile_data?(v=N.data.profile_data,console.log(" Using profile_data from response:",v)):v=N.data,(v==null?void 0:v.id)!==null&&(v==null?void 0:v.id)!==void 0?m=String(v.id):v!=null&&v.academy_id&&(m=String(v.academy_id));else return null}catch(N){if(s)try{const C=await Ce.get(`/api/academies/${s}/`);console.log(" Academy profile fetched (plural endpoint):",{academySlug:s,rawData:C.data,hasProfileData:!!((j=C.data)!=null&&j.profile_data)}),(k=C.data)!=null&&k.profile_data?v=C.data.profile_data:v=C.data,(v==null?void 0:v.id)!==null&&(v==null?void 0:v.id)!==void 0?m=String(v.id):v!=null&&v.academy_id&&(m=String(v.academy_id))}catch(C){console.error(" Error fetching academy profile:",{singularError:N,pluralError:C,academySlug:s,endpointsTried:[`/api/academy/${s}/`,`/api/academies/${s}/`]})}else console.error(" Error fetching academy profile by ID:",{error:N,academyId:a,endpoint:`/api/academy/${a}/`})}const y=v?i(v):null;let x=null;if(m||y!=null&&y.id){const N=m||(y==null?void 0:y.id);try{const{data:C,error:A}=await Vt.from("academy_profiles").select("id, academy_name, description, website_url, contact_email, logo_url, is_verified, user_id").eq("id",N).single();A?console.warn(" Error fetching academy profile from Supabase:",A):C&&(x=C,console.log(" Academy profile fetched from Supabase:",x))}catch(C){console.warn(" Error fetching from Supabase:",C)}}if(!y&&!x&&v===null&&!m)throw new Error("Academy not found");const w={id:(y==null?void 0:y.id)||(x==null?void 0:x.id)||m||"",user_id:(y==null?void 0:y.user_id)||(x==null?void 0:x.user_id),academy_name:(y==null?void 0:y.academy_name)||(x==null?void 0:x.academy_name)||void 0,description:(y==null?void 0:y.description)||(x==null?void 0:x.description)||void 0,website_url:(y==null?void 0:y.website_url)||(x==null?void 0:x.website_url)||void 0,contact_email:(y==null?void 0:y.contact_email)||(x==null?void 0:x.contact_email)||void 0,phone_number:(y==null?void 0:y.phone_number)||void 0,is_verified:(y==null?void 0:y.is_verified)??(x==null?void 0:x.is_verified)??!1,logo_url:(y==null?void 0:y.logo_url)||(y==null?void 0:y.profile_photo_url)||(x==null?void 0:x.logo_url)||void 0,profile_photo_url:(y==null?void 0:y.profile_photo_url)||(y==null?void 0:y.logo_url)||(x==null?void 0:x.logo_url)||void 0,social_links:(y==null?void 0:y.social_links)||void 0};if(!w.academy_name&&!w.id)throw new Error("Academy not found");return console.log(" Merged academy profile:",w),w},enabled:!!e,retry:1}),{data:d,isLoading:f,error:h}=ir({queryKey:["academy-courses",l==null?void 0:l.id,a||s],queryFn:async()=>{const v=(l==null?void 0:l.id)||a;if(!v)return console.warn(" No academy ID available to fetch courses"),[];try{const{data:m,error:y}=await Vt.from("courses").select("*").eq("academy_id",v).order("created_at",{ascending:!1});if(y)throw console.error(" Error fetching courses from Supabase:",y),y;return console.log(" Academy courses fetched from Supabase:",{academyId:v,courseCount:(m==null?void 0:m.length)||0}),Array.isArray(m)?m.map(x=>({...x,topics:x.topics||[],required_skills:x.required_skills||[]})):[]}catch(m){return console.error(" Error fetching courses from Supabase:",m),[]}},enabled:!!(l!=null&&l.id||a),retry:1});if(!e)return o.jsx(Dt,{children:o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("p",{className:"text-red-500",children:"Academy ID or slug is required"}),o.jsx(Mr,{to:"/courses",children:o.jsxs(re,{variant:"outline",className:"mt-4",children:[o.jsx(cp,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})]})});const g=(l==null?void 0:l.academy_name)||(s?CLe(s):"Loading Academy...");return o.jsx(Dt,{children:o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{className:"animate-pulse space-y-6",children:[o.jsx("div",{className:"h-10 w-64 bg-gray-200 rounded"}),o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded"})}),o.jsx(Pe,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 w-3/4 bg-gray-200 rounded"})]})})]})]})}),o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(Ne,{children:o.jsx(Pe,{className:"p-6",children:o.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[o.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-3xl mb-6"}),o.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded mb-2"}),o.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded mb-4"}),o.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded"})]})})}),o.jsx(Ne,{children:o.jsx(Pe,{className:"p-4",children:o.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded mx-auto"})})})]})]}):l?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(Ne,{children:o.jsxs(Pe,{className:"flex flex-col items-center pb-6 pt-6",children:[o.jsx("div",{className:"relative",children:o.jsx(Jp,{src:l.profile_photo_url||l.logo_url||void 0,alt:l.academy_name||"Academy",fallback:l.academy_name?l.academy_name.charAt(0).toUpperCase():"A",size:"xl",loading:"lazy",className:"h-32 w-32"})}),l.academy_name&&o.jsx("h1",{className:"text-2xl font-bold mt-4 text-center",children:l.academy_name}),l.is_verified&&o.jsx(or,{className:"bg-green-100 text-green-800 hover:bg-green-100 mt-2",children:"Verified"}),o.jsxs("div",{className:"mt-4 text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:(d==null?void 0:d.length)||0}),o.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total courses"})]})]})}),o.jsx(Ne,{children:o.jsx(Pe,{className:"p-4 text-center",children:o.jsx(or,{variant:"outline",className:"text-xs uppercase tracking-wider",children:"ACADEMY"})})}),o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsx("h3",{className:"text-lg font-bold",children:"Contact Information"})}),o.jsxs(Pe,{className:"space-y-4",children:[l.phone_number&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(Zp,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:l.phone_number})]}),l.contact_email&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(Ud,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:l.contact_email})]}),l.website_url&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(Bd,{size:18,className:"text-breneo-blue"})}),o.jsxs("a",{href:l.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-breneo-blue hover:underline flex items-center gap-1",children:[l.website_url,o.jsx(Xp,{size:14})]})]})]})]}),l.social_links&&(l.social_links.github||l.social_links.linkedin||l.social_links.facebook||l.social_links.instagram)&&o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsx("h3",{className:"text-lg font-bold",children:"Social Networks"})}),o.jsx(Pe,{children:o.jsx("div",{className:"space-y-3",children:Object.entries(l.social_links).filter(([v,m])=>m&&m.trim()!=="").map(([v,m])=>o.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 hover:text-breneo-blue transition-colors",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:j6e(v,"h-[18px] w-[18px] text-breneo-blue")}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:k6e[v]})}),o.jsx(Xp,{size:14,className:"text-gray-400"})]},v))})})]})]}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx("div",{className:"mb-4",children:o.jsx(Mr,{to:"/courses",children:o.jsxs(re,{variant:"ghost",className:"text-breneo-blue hover:text-breneo-blue/80 mb-4",children:[o.jsx(cp,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})}),o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"About me"})}),o.jsx(Pe,{children:o.jsx("div",{className:"text-gray-700 leading-relaxed space-y-3",children:l.description?o.jsx("p",{children:l.description}):o.jsx("p",{className:"text-gray-400 italic",children:"No description available"})})})]}),o.jsxs(Ne,{children:[o.jsx(pt,{children:o.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["My courses (",(d==null?void 0:d.length)||0,")"]})}),o.jsx(Pe,{children:f?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-gray-500",children:"Loading courses..."})}):d&&d.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:d.map(v=>o.jsxs(Ne,{className:"overflow-hidden",children:[o.jsx("div",{className:"h-40 overflow-hidden",children:o.jsx("img",{src:v.image?v.image:"/lovable-uploads/no_photo.png",alt:v.title,className:"w-full h-full object-cover",onError:m=>{const y=m.target;y.src.includes("/lovable-uploads/no_photo.png")||(y.onerror=null,y.src="/lovable-uploads/no_photo.png")}})}),o.jsxs(Pe,{className:"p-5",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"font-medium text-lg",children:v.title}),v.popular&&o.jsx(or,{variant:"outline",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:"Popular"})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-500",children:[o.jsx("span",{children:v.level}),o.jsx("span",{children:""}),o.jsx("span",{children:v.duration}),o.jsx("span",{children:""}),o.jsx("span",{children:v.category})]}),o.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-2",children:v.description}),o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.topics.slice(0,3).map((m,y)=>o.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:m},y)),v.topics.length>3&&o.jsxs("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:["+",v.topics.length-3," more"]})]})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.required_skills.slice(0,2).map((m,y)=>o.jsx("span",{className:"bg-breneo-blue/10 text-breneo-blue text-xs px-2 py-1 rounded",children:m},y)),v.required_skills.length>2&&o.jsxs("span",{className:"bg-breneo-blue/10 text-breneo-blue text-xs px-2 py-1 rounded",children:["+",v.required_skills.length-2]})]}),o.jsx(re,{size:"sm",variant:v.enrolled?"outline":"default",className:v.enrolled?"":"bg-breneo-blue hover:bg-breneo-blue/90",onClick:()=>{v.enrolled||t(`/course/${v.id}`)},children:v.enrolled?"Continue":"Enroll"})]})]})]},v.id))}):o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-3xl border",children:[o.jsxs("p",{className:"text-gray-500 mb-4",children:["No courses found for ",g]}),o.jsx(Mr,{to:"/courses",children:o.jsx(re,{variant:"outline",children:"Browse All Courses"})})]})})]})]})]}):u||!l?o.jsx("div",{className:"lg:col-span-3",children:o.jsx(Ne,{className:"border-red-200",children:o.jsx(Pe,{className:"p-6 text-center",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-breneo-navy mb-4",children:"Academy Not Found"}),o.jsx("p",{className:"text-red-600 mb-4 text-lg",children:"Cannot find an academy"}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:u instanceof Error?u.message==="Academy not found"||u.message.includes("not found")||u.message.includes("404")?"The academy you're looking for doesn't exist or has been removed.":`Error: ${u.message}`:"The academy you're looking for doesn't exist or has been removed."}),e&&o.jsx("p",{className:"text-gray-500 text-xs mb-6",children:n?`Academy ID: ${a}`:`Academy Slug: ${s}`}),o.jsx(Mr,{to:"/courses",children:o.jsxs(re,{variant:"default",children:[o.jsx(cp,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})]})})})}):null})})},C6e=()=>{const e=hr();Pl();const[t,r]=p.useState(!1),[n,a]=p.useState(1),[s,i]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(""),[g,v]=p.useState(""),[m,y]=p.useState(""),[x,w]=p.useState(!1),[b,_]=p.useState(!1),[S,E]=p.useState(Gr.find($=>$.code==="GE")),[j,k]=p.useState(!1),[N,C]=p.useState(!1),[A,I]=p.useState(!1);p.useEffect(()=>{r(!0)},[]);const B=p.useCallback($=>new Promise((F,O)=>{const L=new Image;L.onload=()=>F(),L.onerror=()=>O(new Error(`Failed to load image: ${$}`)),L.src=$}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([B("lovable-uploads/breneo_logo.png"),B("/lovable-uploads/academy.png")])}catch(F){console.warn("Some images failed to preload:",F),I(!0)}})()},[B]);const z=()=>{if(!s||!l||!u||!f){ue.error("Please fill out all fields to continue.");return}a(2)},M=async $=>{if($.preventDefault(),n!==2||!g||!m){ue.error("Please complete all fields to register.");return}_(!0);const F=`${S==null?void 0:S.dial_code}${f}`;try{const O=await fetch("https://breneo.onrender.com/api/academy/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,email:l,password:u,phone_number:F,description:g,website:m})}),L=O.headers.get("content-type");if(L&&L.indexOf("application/json")!==-1){const Q=await O.json();if(O.ok)ue.success("Registration successful! Please verify your email."),sessionStorage.setItem("tempAcademyEmail",l),e("/email-verification",{state:{email:l,isAcademy:!0}});else{const T=Object.values(Q).flat();ue.error(T.join(" ")||"Registration failed.")}}else{const Q=await O.text();console.error("Server returned non-JSON response:",Q),ue.error("A server error occurred. Please try again later.")}}catch(O){console.error("Registration error:",O),ue.error("An unexpected error occurred. Please try again.")}finally{_(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!j&&!A&&o.jsx("div",{className:"h-7 w-20 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(Kr,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-7 transition-opacity duration-300 ${j?"opacity-100":"opacity-0"}`,onLoad:()=>k(!0),onError:()=>{I(!0),k(!0)}})]}),o.jsx(ji,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-4 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!j&&!A&&o.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(Kr,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-10 transition-opacity duration-300 ${j?"opacity-100":"opacity-0"}`,onLoad:()=>k(!0),onError:()=>{I(!0),k(!0)}})]}),o.jsx(ji,{})]}),o.jsx("div",{className:"w-full bg-gray-200 dark:bg-secondary rounded-full h-2 mb-8",children:o.jsx("div",{className:"bg-[#00BFFF] h-2 rounded-full transition-all duration-500 ease-in-out",style:{width:n===1?"50%":"100%"}})}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Register Academy"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:n===1?"Start by creating your account credentials.":"Tell us more about your academy."}),o.jsxs("form",{onSubmit:M,className:"space-y-6",children:[n===1&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"name",children:"Academy Name"}),o.jsx(ft,{id:"name",placeholder:"Your academy's name",className:"mt-1 h-12",value:s,onChange:$=>i($.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email",children:"Email Address"}),o.jsx(ft,{id:"email",type:"email",placeholder:"Enter contact email",className:"mt-1 h-12",value:l,onChange:$=>c($.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"phone-input-container mt-1 flex items-center rounded-md border border-input transition-colors focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[o.jsx(e7,{value:S,onChange:E,className:"max-w-fit px-3 h-12 border-0 bg-transparent hover:bg-transparent rounded-r-none"}),o.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-border"}),o.jsx(ft,{id:"phone",type:"tel",placeholder:"Phone number",className:"flex-1 h-12 border-0 focus-visible:ring-0 focus-visible:ring-offset-0",value:f,onChange:$=>h($.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(ft,{id:"password",type:x?"text":"password",placeholder:"Create a password",className:"pr-10 h-12",value:u,onChange:$=>d($.target.value),required:!0}),o.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>w(!x),children:x?o.jsx(Qp,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):o.jsx(jl,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]})]})]}),n===2&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"description",children:"Description"}),o.jsx("textarea",{id:"description",placeholder:"Describe your academy",className:"mt-1 w-full h-24 px-3 py-2 text-base border border-input bg-background text-foreground placeholder:text-muted-foreground rounded-md resize-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:g,onChange:$=>v($.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"website",children:"Website"}),o.jsx(ft,{id:"website",type:"url",placeholder:"https://your-academy.com",className:"mt-1 h-12",value:m,onChange:$=>y($.target.value),required:!0})]})]}),o.jsxs("div",{className:"pt-2",children:[n===1&&o.jsx(re,{type:"button",onClick:z,className:"w-full h-14",children:"Next"}),n===2&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(re,{type:"button",variant:"outline",className:"w-full h-14",onClick:()=>a(1),children:"Back"}),o.jsx(re,{type:"submit",className:"w-full h-14",disabled:b,children:b?"Registering...":"Register"})]})]})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Already have an account?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!N&&!A&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(Kr,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${N?"opacity-100":"opacity-0"}`,style:{backgroundImage:N?"url('/lovable-uploads/academy.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/academy.png",alt:"",className:"hidden",onLoad:()=>C(!0),onError:()=>{I(!0),C(!0)}}),A&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/academy.png",alt:"Academy",className:"w-full h-full object-cover"})})]})})]})]})},P6e=()=>{const[e,t]=p.useState(!1),r=()=>{t(n=>!n)};return o.jsxs("div",{className:"h-screen bg-breneo-lightgray overflow-hidden",children:[o.jsx(XN,{collapsed:e,toggleSidebar:r}),o.jsx("main",{className:`h-full overflow-y-auto transition-all duration-300 ${e?"md:ml-24":"md:ml-[17rem]"} pt-24 pb-32 md:pt-24 md:pb-0 px-3 md:px-6`,children:o.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[o.jsx("h1",{className:"text-2xl font-bold mb-8 text-left",children:" "}),o.jsxs("div",{className:"prose prose-lg max-w-none space-y-6 text-gray-700 leading-relaxed",children:[o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"1.  "}),o.jsx("p",{children:"Breneo    ,         .  :"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"     ,"}),o.jsx("li",{children:"  ,"}),o.jsx("li",{children:"    ,"}),o.jsx("li",{children:"   ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"2.    "}),o.jsx("p",{children:"         ."}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"              ."}),o.jsx("li",{children:"Breneo-        ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"3.   "}),o.jsx("p",{children:"Breneo         . AI-              ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"4.   "}),o.jsx("p",{children:"   Breneo     . :"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"      ,"}),o.jsx("li",{children:"     ,"}),o.jsx("li",{children:"        ,"}),o.jsx("li",{children:"  ,    Breneo-  ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"5.  "}),o.jsx("p",{children:"Breneo-       , , ,  ,      Breneo-    .     Breneo-  ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"6.    "}),o.jsx("p",{children:"Breneo         GDPR-  .         ,   ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"7.   "}),o.jsx("p",{children:"             .         ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"8.  "}),o.jsx("p",{children:'Breneo    " ("as is") .'}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"     ,        ."}),o.jsx("li",{children:"Breneo   ,         ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"9.   "}),o.jsx("p",{children:"     .          . ,     ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"10.    "}),o.jsx("p",{children:"Breneo     ,           ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"11.  "}),o.jsx("p",{children:"    .      Breneo-  ,        ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"12.  "}),o.jsx("p",{children:"  ,   ,  :"}),o.jsxs("div",{className:"space-y-2 text-lg",children:[o.jsx("p",{children:" support@breneo.app"}),o.jsx("p",{children:" www.breneo.app"})]})]})]}),o.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200 text-center text-gray-500",children:o.jsxs("p",{children:[" : ",new Date().toLocaleDateString("ka-GE")]})})]})})]})};var zP="Collapsible",[A6e,XV]=Ha(zP),[T6e,qP]=A6e(zP),QV=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:s,onOpenChange:i,...l}=e,[c=!1,u]=Ws({prop:n,defaultProp:a,onChange:i});return o.jsx(T6e,{scope:r,disabled:s,contentId:Ds(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:o.jsx(tt.div,{"data-state":HP(c),"data-disabled":s?"":void 0,...l,ref:t})})});QV.displayName=zP;var ZV="CollapsibleTrigger",eK=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=qP(ZV,r);return o.jsx(tt.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":HP(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:$e(e.onClick,a.onOpenToggle)})});eK.displayName=ZV;var WP="CollapsibleContent",tK=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=qP(WP,e.__scopeCollapsible);return o.jsx(oa,{present:r||a.open,children:({present:s})=>o.jsx(O6e,{...n,ref:t,present:s})})});tK.displayName=WP;var O6e=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...s}=e,i=qP(WP,r),[l,c]=p.useState(n),u=p.useRef(null),d=ht(t,u),f=p.useRef(0),h=f.current,g=p.useRef(0),v=g.current,m=i.open||l,y=p.useRef(m),x=p.useRef();return p.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),Ur(()=>{const w=u.current;if(w){x.current=x.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const b=w.getBoundingClientRect();f.current=b.height,g.current=b.width,y.current||(w.style.transitionDuration=x.current.transitionDuration,w.style.animationName=x.current.animationName),c(n)}},[i.open,n]),o.jsx(tt.div,{"data-state":HP(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!m,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:m&&a})});function HP(e){return e?"open":"closed"}var $6e=QV,R6e=eK,I6e=tK,bo="Accordion",M6e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[VP,L6e,D6e]=_g(bo),[_w,$Fe]=Ha(bo,[D6e,XV]),KP=XV(),rK=R.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,s=n;return o.jsx(VP.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?o.jsx(z6e,{...s,ref:t}):o.jsx(U6e,{...a,ref:t})})});rK.displayName=bo;var[nK,F6e]=_w(bo),[aK,B6e]=_w(bo,{collapsible:!1}),U6e=R.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:s=!1,...i}=e,[l,c]=Ws({prop:r,defaultProp:n,onChange:a});return o.jsx(nK,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:R.useCallback(()=>s&&c(""),[s,c]),children:o.jsx(aK,{scope:e.__scopeAccordion,collapsible:s,children:o.jsx(sK,{...i,ref:t})})})}),z6e=R.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...s}=e,[i=[],l]=Ws({prop:r,defaultProp:n,onChange:a}),c=R.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=R.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return o.jsx(nK,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:o.jsx(aK,{scope:e.__scopeAccordion,collapsible:!0,children:o.jsx(sK,{...s,ref:t})})})}),[q6e,Sw]=_w(bo),sK=R.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:s="vertical",...i}=e,l=R.useRef(null),c=ht(l,t),u=L6e(r),f=Af(a)==="ltr",h=$e(e.onKeyDown,g=>{var k;if(!M6e.includes(g.key))return;const v=g.target,m=u().filter(N=>{var C;return!((C=N.ref.current)!=null&&C.disabled)}),y=m.findIndex(N=>N.ref.current===v),x=m.length;if(y===-1)return;g.preventDefault();let w=y;const b=0,_=x-1,S=()=>{w=y+1,w>_&&(w=b)},E=()=>{w=y-1,w<b&&(w=_)};switch(g.key){case"Home":w=b;break;case"End":w=_;break;case"ArrowRight":s==="horizontal"&&(f?S():E());break;case"ArrowDown":s==="vertical"&&S();break;case"ArrowLeft":s==="horizontal"&&(f?E():S());break;case"ArrowUp":s==="vertical"&&E();break}const j=w%x;(k=m[j].ref.current)==null||k.focus()});return o.jsx(q6e,{scope:r,disabled:n,direction:a,orientation:s,children:o.jsx(VP.Slot,{scope:r,children:o.jsx(tt.div,{...i,"data-orientation":s,ref:c,onKeyDown:n?void 0:h})})})}),mx="AccordionItem",[W6e,GP]=_w(mx),iK=R.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,s=Sw(mx,r),i=F6e(mx,r),l=KP(r),c=Ds(),u=n&&i.value.includes(n)||!1,d=s.disabled||e.disabled;return o.jsx(W6e,{scope:r,open:u,disabled:d,triggerId:c,children:o.jsx($6e,{"data-orientation":s.orientation,"data-state":fK(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});iK.displayName=mx;var oK="AccordionHeader",lK=R.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Sw(bo,r),s=GP(oK,r);return o.jsx(tt.h3,{"data-orientation":a.orientation,"data-state":fK(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:t})});lK.displayName=oK;var YE="AccordionTrigger",cK=R.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Sw(bo,r),s=GP(YE,r),i=B6e(YE,r),l=KP(r);return o.jsx(VP.ItemSlot,{scope:r,children:o.jsx(R6e,{"aria-disabled":s.open&&!i.collapsible||void 0,"data-orientation":a.orientation,id:s.triggerId,...l,...n,ref:t})})});cK.displayName=YE;var uK="AccordionContent",dK=R.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Sw(bo,r),s=GP(uK,r),i=KP(r);return o.jsx(I6e,{role:"region","aria-labelledby":s.triggerId,"data-orientation":a.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});dK.displayName=uK;function fK(e){return e?"open":"closed"}var H6e=rK,V6e=iK,K6e=lK,hK=cK,pK=dK;const G6e=H6e,mK=p.forwardRef(({className:e,...t},r)=>o.jsx(V6e,{ref:r,className:de("border-b",e),...t}));mK.displayName="AccordionItem";const gK=p.forwardRef(({className:e,children:t,...r},n)=>o.jsx(K6e,{className:"flex",children:o.jsxs(hK,{ref:n,className:de("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,o.jsx(Dd,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));gK.displayName=hK.displayName;const vK=p.forwardRef(({className:e,children:t,...r},n)=>o.jsx(pK,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:o.jsx("div",{className:de("pb-4 pt-0",e),children:t})}));vK.displayName=pK.displayName;const J6e=()=>{const[e,t]=p.useState(!1),[r,n]=p.useState(""),a=()=>{t(l=>!l)},i=[{title:"Getting Started",icon:r0,questions:[{q:"  Breneo- ?",a:'  ,    .  ""     .  ,   ,      .'},{q:"  ?",a:' ,     -  ,   "Profile".      ,      .'},{q:"   ?",a:"  -    ,        .   ,       ."}]},{title:"Account & Profile",icon:R8,questions:[{q:"  ?",a:'   Settings  ( Settings   ).   "Change Email" .     .'},{q:"  ?",a:'  ,    "Forgot Password" .        .'},{q:"  ?",a:'   Settings    "Account Settings" .   "Delete Account" . , ,    .'}]},{title:"Jobs & Career",icon:ln,questions:[{q:"  ?",a:'   "Jobs" .      , ,     .      ,     .'},{q:"   ?",a:' ,     .      "Apply Now" .      .'},{q:"   ?",a:' ,      "Save" .       "Saved Jobs" .'}]},{title:"Settings & Customization",icon:eb,questions:[{q:"   ?",a:"    Settings .    ,  (/),    ."},{q:"  ?",a:'   Settings    "Notifications" .      .'},{q:"   ?",a:"  ,         .      ."}]}].map(l=>({...l,questions:l.questions.filter(c=>c.q.toLowerCase().includes(r.toLowerCase())||c.a.toLowerCase().includes(r.toLowerCase()))}));return o.jsxs("div",{className:"h-screen bg-breneo-lightgray overflow-hidden",children:[o.jsx(XN,{collapsed:e,toggleSidebar:a}),o.jsx("main",{className:`h-full overflow-y-auto transition-all duration-300 ${e?"md:ml-24":"md:ml-[17rem]"} pt-24 pb-32 md:pt-24 md:pb-0 px-3 md:px-6`,children:o.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Help Center"}),o.jsx("p",{className:"text-gray-600",children:"     "})]}),o.jsxs("div",{className:"relative mb-8",children:[o.jsx(oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),o.jsx(ft,{type:"text",placeholder:"  ...",value:r,onChange:l=>n(l.target.value),className:"pl-10 pr-4 py-6 text-lg"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[o.jsx(Ne,{className:"hover:shadow-md transition-shadow cursor-pointer",children:o.jsxs(pt,{className:"pb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:o.jsx(Ud,{className:"text-breneo-blue",size:24})}),o.jsx(At,{className:"text-base",children:"Email Support"}),o.jsx(qr,{children:"support@breneo.app"})]})}),o.jsx(Ne,{className:"hover:shadow-md transition-shadow cursor-pointer",children:o.jsxs(pt,{className:"pb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:o.jsx(Zp,{className:"text-breneo-blue",size:24})}),o.jsx(At,{className:"text-base",children:"Phone Support"}),o.jsx(qr,{children:"Available 24/7"})]})}),o.jsx(Ne,{className:"hover:shadow-md transition-shadow cursor-pointer",children:o.jsxs(pt,{className:"pb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:o.jsx(pse,{className:"text-breneo-blue",size:24})}),o.jsx(At,{className:"text-base",children:"Live Chat"}),o.jsx(qr,{children:"Get instant help"})]})})]}),o.jsx("div",{className:"space-y-6",children:i.map((l,c)=>l.questions.length>0&&o.jsxs(Ne,{className:"bg-white",children:[o.jsx(pt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-breneo-blue/10 rounded-3xl flex items-center justify-center",children:o.jsx(l.icon,{className:"text-breneo-blue",size:20})}),o.jsx(At,{children:l.title})]})}),o.jsx(Pe,{children:o.jsx(G6e,{type:"multiple",className:"w-full",children:l.questions.map((u,d)=>o.jsxs(mK,{value:`${c}-${d}`,className:"border-gray-200",children:[o.jsx(gK,{className:"text-left font-semibold hover:no-underline",children:u.q}),o.jsx(vK,{className:"text-gray-600 leading-relaxed",children:u.a})]},d))})})]},c))}),o.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:o.jsx(Ne,{className:"bg-gradient-to-r from-breneo-blue/5 to-breneo-blue/10",children:o.jsxs(Pe,{className:"py-8 text-center",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"   ?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"     "}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("a",{href:"mailto:support@breneo.app",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-breneo-blue text-white rounded-3xl hover:bg-breneo-blue/90 transition-colors",children:[o.jsx(Ud,{size:18}),"Email Support"]}),o.jsxs("a",{href:"tel:+995500992990",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white border border-breneo-blue text-breneo-blue rounded-3xl hover:bg-breneo-blue/5 transition-colors",children:[o.jsx(Zp,{size:18}),"Call Us"]})]})]})})})]})})]})};function Y6e(){const e=[{name:"Free",price:"$0",period:"forever",features:["Access to basic courses","Limited skill tests","Basic profile features","Community support"],popular:!1},{name:"Pro",price:"$9.99",period:"per month",features:["All free features","Unlimited courses","Unlimited skill tests","Advanced profile features","Priority support","Certificates"],popular:!0},{name:"Enterprise",price:"Custom",period:"contact us",features:["All Pro features","Custom integrations","Dedicated support","Team management","Analytics dashboard","Custom branding"],popular:!1}];return o.jsx(Dt,{children:o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Choose Your Plan"}),o.jsx("p",{className:"text-muted-foreground text-lg",children:"Select the plan that best fits your learning journey"})]}),o.jsx("div",{className:"grid gap-6 md:grid-cols-3 mt-12",children:e.map(t=>o.jsxs(Ne,{className:`relative ${t.popular?"border-primary shadow-lg scale-105":"border-border"}`,children:[t.popular&&o.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:o.jsx("span",{className:"bg-primary text-primary-foreground px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"})}),o.jsxs(pt,{children:[o.jsx(At,{className:"text-2xl",children:t.name}),o.jsxs("div",{className:"mt-4",children:[o.jsx("span",{className:"text-4xl font-bold",children:t.price}),t.period!=="forever"&&t.period!=="contact us"&&o.jsxs("span",{className:"text-muted-foreground",children:["/",t.period]}),t.period==="contact us"&&o.jsx("span",{className:"text-muted-foreground block text-sm mt-1",children:t.period})]}),o.jsxs(qr,{className:"mt-4",children:[t.name==="Free"&&"Perfect for getting started",t.name==="Pro"&&"Best for serious learners",t.name==="Enterprise"&&"For teams and organizations"]})]}),o.jsxs(Pe,{children:[o.jsx("ul",{className:"space-y-3 mb-6",children:t.features.map((r,n)=>o.jsxs("li",{className:"flex items-start",children:[o.jsx(Qx,{className:"h-5 w-5 text-primary mr-2 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:r})]},n))}),o.jsx(re,{className:"w-full",variant:t.popular?"default":"outline",children:t.name==="Enterprise"?"Contact Sales":"Get Started"})]})]},t.name))})]})})}const X6e=()=>{const e=Va(),{user:t,loading:r}=br(),n=po(),[a,s]=p.useState(!1),[i,l]=p.useState(!1),[c,u]=p.useState(!1),d=p.useCallback(f=>new Promise((h,g)=>{const v=new Image;v.onload=()=>h(),v.onerror=()=>g(new Error(`Failed to load image: ${f}`)),v.src=f}),[]);return p.useEffect(()=>{(async()=>{try{await Promise.all([d("/lovable-uploads/breneo_logo.png"),d("/lovable-uploads/full-shot-student-library.jpg")])}catch(h){console.warn("Some images failed to preload:",h),u(!0)}})()},[d]),p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 relative",children:[!i&&!c&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse z-0"}),o.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:i?"url('/lovable-uploads/full-shot-student-library.jpg')":"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:i?1:0,transition:"opacity 0.5s ease-in-out"}}),o.jsx("img",{src:"/lovable-uploads/full-shot-student-library.jpg",alt:"",className:"hidden",onLoad:()=>l(!0),onError:()=>{u(!0),l(!0)}}),c&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] z-0"}),o.jsx("div",{className:"z-10 relative",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg p-8 text-center max-w-md mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[!a&&!c&&o.jsx("div",{className:"h-12 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center mx-auto",children:o.jsx(Kr,{className:"h-6 w-6 text-gray-400 dark:text-gray-600"})}),o.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-12 mx-auto transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`,onLoad:()=>s(!0),onError:()=>{u(!0),s(!0)}}),c&&o.jsx("div",{className:"h-12 w-32 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center mx-auto",children:o.jsx("span",{className:"text-sm text-muted-foreground font-semibold",children:"Breneo"})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"}),o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n.errors.pageNotFound}),o.jsx("p",{className:"text-muted-foreground mb-6",children:n.errors.pageNotFoundDescription})]}),o.jsxs("div",{className:"space-y-4",children:[!r&&t?o.jsxs(Mr,{to:t.user_type==="academy"||localStorage.getItem("userRole")==="academy"?"/academy/dashboard":"/dashboard",className:"inline-block bg-primary text-primary-foreground px-6 py-3 rounded-3xl font-medium hover:bg-primary/90 transition-colors",children:[n.common.view," ",n.nav.home]}):o.jsx(Mr,{to:"/auth/login",className:"inline-block bg-primary text-primary-foreground px-6 py-3 rounded-3xl font-medium hover:bg-primary/90 transition-colors",children:n.auth.login}),!r&&!t&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Mr,{to:"/auth/login",className:"hover:text-primary transition-colors",children:n.auth.login}),o.jsx("span",{className:"mx-2",children:""}),o.jsx(Mr,{to:"/auth/signup",className:"hover:text-primary transition-colors",children:n.auth.signup})]})]})]})})]})},Q6e=()=>{const e=po();return o.jsx(Dt,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-12rem)]",children:o.jsxs("div",{className:"text-center px-4",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-calender-front-color.png",alt:"Notebook",className:"h-40 w-40 mx-auto mb-6"}),o.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:e.webinars.comingsoon}),o.jsx("p",{className:"text-m text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:e.webinars.comingsoondescription})]})})})},_r=(e,t)=>e.startsWith("/auth")||e==="/"?o.jsx(ha,{path:e,element:t},e):o.jsxs(R.Fragment,{children:[o.jsx(ha,{path:`/en${e}`,element:t}),o.jsx(ha,{path:`/ka${e}`,element:t}),o.jsx(ha,{path:e,element:t})]},e),Z6e=()=>o.jsxs(Vre,{children:[o.jsx(ha,{path:"/",element:o.jsx(h$,{})}),o.jsx(ha,{path:"/auth/login",element:o.jsx(h$,{})}),o.jsx(ha,{path:"/auth/signup",element:o.jsx(mle,{})}),o.jsx(ha,{path:"/auth/reset-password",element:o.jsx(gle,{})}),o.jsx(ha,{path:"/email-verification",element:o.jsx(vle,{})}),o.jsx(ha,{path:"/email-confirmed",element:o.jsx(xle,{})}),o.jsx(ha,{path:"/auth",element:o.jsx(ny,{to:"/auth/login",replace:!0})}),_r("/home",o.jsx(wr,{requiredRole:"user",children:o.jsx(iR,{})})),_r("/dashboard",o.jsx(wr,{requiredRole:"user",children:o.jsx(iR,{})})),_r("/profile",o.jsx(wr,{requiredRole:"user",children:o.jsx(QIe,{})})),_r("/settings",o.jsx(wr,{requiredRole:"user",children:o.jsx(cMe,{})})),_r("/notifications",o.jsx(wr,{requiredRole:"user",children:o.jsx(iDe,{})})),_r("/interests",o.jsx(wr,{requiredRole:"user",children:o.jsx(XLe,{})})),_r("/skill-test",o.jsx(wr,{requiredRole:"user",children:o.jsx(BLe,{})})),_r("/skill-path/:skillName",o.jsx(wr,{requiredRole:"user",children:o.jsx(JLe,{})})),_r("/skill-path",o.jsx(wr,{requiredRole:"user",children:o.jsx(WLe,{})})),_r("/jobs",o.jsx(wr,{requiredRole:"user",children:o.jsx(c3e,{})})),_r("/jobs/search",o.jsx(wr,{requiredRole:"user",children:o.jsx(p3e,{})})),_r("/jobs/:jobId",o.jsx(wr,{requiredRole:"user",children:o.jsx(kLe,{})})),_r("/jobs/company/:companyName",o.jsx(wr,{requiredRole:"user",children:o.jsx(NLe,{})})),_r("/courses",o.jsx(wr,{requiredRole:"user",children:o.jsx(ILe,{})})),_r("/course/:courseId",o.jsx(wr,{requiredRole:"user",children:o.jsx(MLe,{})})),_r("/webinars",o.jsx(wr,{requiredRole:"user",children:o.jsx(Q6e,{})})),o.jsx(ha,{path:"/academy/register",element:o.jsx(C6e,{})}),_r("/academy/home",o.jsx(wr,{requiredRole:"academy",children:o.jsx(n5,{})})),_r("/academy/dashboard",o.jsx(wr,{requiredRole:"academy",children:o.jsx(n5,{})})),_r("/academy/profile",o.jsx(wr,{requiredRole:"academy",children:o.jsx(y6e,{})})),_r("/academy/settings",o.jsx(wr,{requiredRole:"academy",children:o.jsx(x6e,{})})),_r("/academy/:academySlug",o.jsx(wr,{children:o.jsx(N6e,{})})),_r("/terms-of-use",o.jsx(wr,{children:o.jsx(P6e,{})})),_r("/help",o.jsx(wr,{children:o.jsx(J6e,{})})),_r("/subscription",o.jsx(wr,{children:o.jsx(Y6e,{})})),o.jsx(ha,{path:"*",element:o.jsx(X6e,{})})]}),eFe=new Ute,tFe=()=>o.jsx(Vte,{client:eFe,children:o.jsxs(kte,{children:[o.jsx(UQ,{position:"top-right",richColors:!0,closeButton:!0}),o.jsx(ene,{children:o.jsx(zae,{children:o.jsx(Uae,{children:o.jsx(Lae,{children:o.jsx(Z6e,{})})})})})]})});L_.createRoot(document.getElementById("root")).render(o.jsx(R.StrictMode,{children:o.jsx(hQ,{apiKey:"phc_heJ8MRT32luP8nFytb5ZIhQrsWepHqsCZBUjUegWais",options:{api_host:"https://eu.i.posthog.com",defaults:"2025-05-24",capture_exceptions:!0,debug:!1},children:o.jsx(GJ,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:o.jsx("div",{suppressHydrationWarning:!0,children:o.jsx(tFe,{})})})})}));
