var BO=e=>{throw TypeError(e)};var h_=(e,t,r)=>t.has(e)||BO("Cannot "+r);var te=(e,t,r)=>(h_(e,t,"read from private field"),r?r.call(e):t.get(e)),St=(e,t,r)=>t.has(e)?BO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),rt=(e,t,r,n)=>(h_(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Lt=(e,t,r)=>(h_(e,t,"access private method"),r);var Ky=(e,t,r,n)=>({set _(s){rt(e,t,s,r)},get _(){return te(e,t,n)}});function pZ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mZ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var y6={exports:{}},Xb={},v6={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly=Symbol.for("react.element"),gZ=Symbol.for("react.portal"),yZ=Symbol.for("react.fragment"),vZ=Symbol.for("react.strict_mode"),xZ=Symbol.for("react.profiler"),bZ=Symbol.for("react.provider"),wZ=Symbol.for("react.context"),_Z=Symbol.for("react.forward_ref"),SZ=Symbol.for("react.suspense"),jZ=Symbol.for("react.memo"),kZ=Symbol.for("react.lazy"),UO=Symbol.iterator;function EZ(e){return e===null||typeof e!="object"?null:(e=UO&&e[UO]||e["@@iterator"],typeof e=="function"?e:null)}var x6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b6=Object.assign,w6={};function uh(e,t,r){this.props=e,this.context=t,this.refs=w6,this.updater=r||x6}uh.prototype.isReactComponent={};uh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};uh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _6(){}_6.prototype=uh.prototype;function p2(e,t,r){this.props=e,this.context=t,this.refs=w6,this.updater=r||x6}var m2=p2.prototype=new _6;m2.constructor=p2;b6(m2,uh.prototype);m2.isPureReactComponent=!0;var zO=Array.isArray,S6=Object.prototype.hasOwnProperty,g2={current:null},j6={key:!0,ref:!0,__self:!0,__source:!0};function k6(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)S6.call(t,n)&&!j6.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ly,type:e,key:a,ref:i,props:s,_owner:g2.current}}function NZ(e,t){return{$$typeof:ly,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function y2(e){return typeof e=="object"&&e!==null&&e.$$typeof===ly}function CZ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qO=/\/+/g;function p_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CZ(""+e.key):t.toString(36)}function d0(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ly:case gZ:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+p_(i,0):n,zO(s)?(r="",e!=null&&(r=e.replace(qO,"$&/")+"/"),d0(s,t,r,"",function(u){return u})):s!=null&&(y2(s)&&(s=NZ(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(qO,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",zO(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+p_(a,l);i+=d0(a,t,r,c,s)}else if(c=EZ(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+p_(a,l++),i+=d0(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Gy(e,t,r){if(e==null)return e;var n=[],s=0;return d0(e,n,"","",function(a){return t.call(r,a,s++)}),n}function PZ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ks={current:null},f0={transition:null},AZ={ReactCurrentDispatcher:ks,ReactCurrentBatchConfig:f0,ReactCurrentOwner:g2};function E6(){throw Error("act(...) is not supported in production builds of React.")}Ut.Children={map:Gy,forEach:function(e,t,r){Gy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gy(e,function(){t++}),t},toArray:function(e){return Gy(e,function(t){return t})||[]},only:function(e){if(!y2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ut.Component=uh;Ut.Fragment=yZ;Ut.Profiler=xZ;Ut.PureComponent=p2;Ut.StrictMode=vZ;Ut.Suspense=SZ;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AZ;Ut.act=E6;Ut.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=b6({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=g2.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S6.call(t,c)&&!j6.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ly,type:e.type,key:s,ref:a,props:n,_owner:i}};Ut.createContext=function(e){return e={$$typeof:wZ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bZ,_context:e},e.Consumer=e};Ut.createElement=k6;Ut.createFactory=function(e){var t=k6.bind(null,e);return t.type=e,t};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(e){return{$$typeof:_Z,render:e}};Ut.isValidElement=y2;Ut.lazy=function(e){return{$$typeof:kZ,_payload:{_status:-1,_result:e},_init:PZ}};Ut.memo=function(e,t){return{$$typeof:jZ,type:e,compare:t===void 0?null:t}};Ut.startTransition=function(e){var t=f0.transition;f0.transition={};try{e()}finally{f0.transition=t}};Ut.unstable_act=E6;Ut.useCallback=function(e,t){return ks.current.useCallback(e,t)};Ut.useContext=function(e){return ks.current.useContext(e)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(e){return ks.current.useDeferredValue(e)};Ut.useEffect=function(e,t){return ks.current.useEffect(e,t)};Ut.useId=function(){return ks.current.useId()};Ut.useImperativeHandle=function(e,t,r){return ks.current.useImperativeHandle(e,t,r)};Ut.useInsertionEffect=function(e,t){return ks.current.useInsertionEffect(e,t)};Ut.useLayoutEffect=function(e,t){return ks.current.useLayoutEffect(e,t)};Ut.useMemo=function(e,t){return ks.current.useMemo(e,t)};Ut.useReducer=function(e,t,r){return ks.current.useReducer(e,t,r)};Ut.useRef=function(e){return ks.current.useRef(e)};Ut.useState=function(e){return ks.current.useState(e)};Ut.useSyncExternalStore=function(e,t,r){return ks.current.useSyncExternalStore(e,t,r)};Ut.useTransition=function(){return ks.current.useTransition()};Ut.version="18.3.1";v6.exports=Ut;var p=v6.exports;const O=wr(p),dh=pZ({__proto__:null,default:O},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TZ=p,OZ=Symbol.for("react.element"),$Z=Symbol.for("react.fragment"),RZ=Object.prototype.hasOwnProperty,MZ=TZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IZ={key:!0,ref:!0,__self:!0,__source:!0};function N6(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)RZ.call(t,n)&&!IZ.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:OZ,type:e,key:a,ref:i,props:s,_owner:MZ.current}}Xb.Fragment=$Z;Xb.jsx=N6;Xb.jsxs=N6;y6.exports=Xb;var o=y6.exports,Fj={},C6={exports:{}},ua={},P6={exports:{}},A6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,M){var Z=T.length;T.push(M);e:for(;0<Z;){var L=Z-1>>>1,G=T[L];if(0<s(G,M))T[L]=M,T[Z]=G,Z=L;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var M=T[0],Z=T.pop();if(Z!==M){T[0]=Z;e:for(var L=0,G=T.length,H=G>>>1;L<H;){var Y=2*(L+1)-1,ae=T[Y],V=Y+1,W=T[V];if(0>s(ae,Z))V<G&&0>s(W,ae)?(T[L]=W,T[V]=Z,L=V):(T[L]=ae,T[Y]=Z,L=Y);else if(V<G&&0>s(W,Z))T[L]=W,T[V]=Z,L=V;else break e}}return M}function s(T,M){var Z=T.sortIndex-M.sortIndex;return Z!==0?Z:T.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,y=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=T)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function _(T){if(m=!1,b(T),!y)if(r(c)!==null)y=!0,I(S);else{var M=r(u);M!==null&&B(_,M.startTime-T)}}function S(T,M){y=!1,m&&(m=!1,x(j),j=-1),g=!0;var Z=h;try{for(b(M),f=r(c);f!==null&&(!(f.expirationTime>M)||T&&!P());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var G=L(f.expirationTime<=M);M=e.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),b(M)}else n(c);f=r(c)}if(f!==null)var H=!0;else{var Y=r(u);Y!==null&&B(_,Y.startTime-M),H=!1}return H}finally{f=null,h=Z,g=!1}}var E=!1,k=null,j=-1,N=5,C=-1;function P(){return!(e.unstable_now()-C<N)}function R(){if(k!==null){var T=e.unstable_now();C=T;var M=!0;try{M=k(!0,T)}finally{M?F():(E=!1,k=null)}}else E=!1}var F;if(typeof w=="function")F=function(){w(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=R,F=function(){D.postMessage(null)}}else F=function(){v(R,0)};function I(T){k=T,E||(E=!0,F())}function B(T,M){j=v(function(){T(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,I(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var Z=h;h=M;try{return T()}finally{h=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,M){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var Z=h;h=T;try{return M()}finally{h=Z}},e.unstable_scheduleCallback=function(T,M,Z){var L=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?L+Z:L):Z=L,T){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Z+G,T={id:d++,callback:M,priorityLevel:T,startTime:Z,expirationTime:G,sortIndex:-1},Z>L?(T.sortIndex=Z,t(u,T),r(c)===null&&T===r(u)&&(m?(x(j),j=-1):m=!0,B(_,Z-L))):(T.sortIndex=G,t(c,T),y||g||(y=!0,I(S))),T},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(T){var M=h;return function(){var Z=h;h=M;try{return T.apply(this,arguments)}finally{h=Z}}}})(A6);P6.exports=A6;var LZ=P6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DZ=p,la=LZ;function Re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T6=new Set,Tm={};function Uu(e,t){Sf(e,t),Sf(e+"Capture",t)}function Sf(e,t){for(Tm[e]=t,e=0;e<t.length;e++)T6.add(t[e])}var To=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bj=Object.prototype.hasOwnProperty,FZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WO={},VO={};function BZ(e){return Bj.call(VO,e)?!0:Bj.call(WO,e)?!1:FZ.test(e)?VO[e]=!0:(WO[e]=!0,!1)}function UZ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zZ(e,t,r,n){if(t===null||typeof t>"u"||UZ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Es(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vn[e]=new Es(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vn[t]=new Es(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vn[e]=new Es(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vn[e]=new Es(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vn[e]=new Es(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vn[e]=new Es(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vn[e]=new Es(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vn[e]=new Es(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vn[e]=new Es(e,5,!1,e.toLowerCase(),null,!1,!1)});var v2=/[\-:]([a-z])/g;function x2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v2,x2);Vn[t]=new Es(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v2,x2);Vn[t]=new Es(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v2,x2);Vn[t]=new Es(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vn[e]=new Es(e,1,!1,e.toLowerCase(),null,!1,!1)});Vn.xlinkHref=new Es("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vn[e]=new Es(e,1,!1,e.toLowerCase(),null,!0,!0)});function b2(e,t,r,n){var s=Vn.hasOwnProperty(t)?Vn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zZ(t,r,s,n)&&(r=null),n||s===null?BZ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var zo=DZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jy=Symbol.for("react.element"),_d=Symbol.for("react.portal"),Sd=Symbol.for("react.fragment"),w2=Symbol.for("react.strict_mode"),Uj=Symbol.for("react.profiler"),O6=Symbol.for("react.provider"),$6=Symbol.for("react.context"),_2=Symbol.for("react.forward_ref"),zj=Symbol.for("react.suspense"),qj=Symbol.for("react.suspense_list"),S2=Symbol.for("react.memo"),hl=Symbol.for("react.lazy"),R6=Symbol.for("react.offscreen"),HO=Symbol.iterator;function Qh(e){return e===null||typeof e!="object"?null:(e=HO&&e[HO]||e["@@iterator"],typeof e=="function"?e:null)}var Hr=Object.assign,m_;function Dp(e){if(m_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);m_=t&&t[1]||""}return`
`+m_+e}var g_=!1;function y_(e,t){if(!e||g_)return"";g_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{g_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Dp(e):""}function qZ(e){switch(e.tag){case 5:return Dp(e.type);case 16:return Dp("Lazy");case 13:return Dp("Suspense");case 19:return Dp("SuspenseList");case 0:case 2:case 15:return e=y_(e.type,!1),e;case 11:return e=y_(e.type.render,!1),e;case 1:return e=y_(e.type,!0),e;default:return""}}function Wj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sd:return"Fragment";case _d:return"Portal";case Uj:return"Profiler";case w2:return"StrictMode";case zj:return"Suspense";case qj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $6:return(e.displayName||"Context")+".Consumer";case O6:return(e._context.displayName||"Context")+".Provider";case _2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case S2:return t=e.displayName||null,t!==null?t:Wj(e.type)||"Memo";case hl:t=e._payload,e=e._init;try{return Wj(e(t))}catch{}}return null}function WZ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wj(t);case 8:return t===w2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function M6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VZ(e){var t=M6(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yy(e){e._valueTracker||(e._valueTracker=VZ(e))}function I6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=M6(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function I0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vj(e,t){var r=t.checked;return Hr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function KO(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function L6(e,t){t=t.checked,t!=null&&b2(e,"checked",t,!1)}function Hj(e,t){L6(e,t);var r=Zl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kj(e,t.type,r):t.hasOwnProperty("defaultValue")&&Kj(e,t.type,Zl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function GO(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Kj(e,t,r){(t!=="number"||I0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Fp=Array.isArray;function qd(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zl(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Re(91));return Hr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function JO(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Re(92));if(Fp(r)){if(1<r.length)throw Error(Re(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zl(r)}}function D6(e,t){var r=Zl(t.value),n=Zl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function YO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function F6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?F6(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xy,B6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xy=Xy||document.createElement("div"),Xy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Om(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var nm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HZ=["Webkit","ms","Moz","O"];Object.keys(nm).forEach(function(e){HZ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nm[t]=nm[e]})});function U6(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||nm.hasOwnProperty(e)&&nm[e]?(""+t).trim():t+"px"}function z6(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=U6(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var KZ=Hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yj(e,t){if(t){if(KZ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Re(62))}}function Xj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qj=null;function j2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zj=null,Wd=null,Vd=null;function XO(e){if(e=dy(e)){if(typeof Zj!="function")throw Error(Re(280));var t=e.stateNode;t&&(t=rw(t),Zj(e.stateNode,e.type,t))}}function q6(e){Wd?Vd?Vd.push(e):Vd=[e]:Wd=e}function W6(){if(Wd){var e=Wd,t=Vd;if(Vd=Wd=null,XO(e),t)for(e=0;e<t.length;e++)XO(t[e])}}function V6(e,t){return e(t)}function H6(){}var v_=!1;function K6(e,t,r){if(v_)return e(t,r);v_=!0;try{return V6(e,t,r)}finally{v_=!1,(Wd!==null||Vd!==null)&&(H6(),W6())}}function $m(e,t){var r=e.stateNode;if(r===null)return null;var n=rw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Re(231,t,typeof r));return r}var ek=!1;if(To)try{var Zh={};Object.defineProperty(Zh,"passive",{get:function(){ek=!0}}),window.addEventListener("test",Zh,Zh),window.removeEventListener("test",Zh,Zh)}catch{ek=!1}function GZ(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var sm=!1,L0=null,D0=!1,tk=null,JZ={onError:function(e){sm=!0,L0=e}};function YZ(e,t,r,n,s,a,i,l,c){sm=!1,L0=null,GZ.apply(JZ,arguments)}function XZ(e,t,r,n,s,a,i,l,c){if(YZ.apply(this,arguments),sm){if(sm){var u=L0;sm=!1,L0=null}else throw Error(Re(198));D0||(D0=!0,tk=u)}}function zu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function G6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function QO(e){if(zu(e)!==e)throw Error(Re(188))}function QZ(e){var t=e.alternate;if(!t){if(t=zu(e),t===null)throw Error(Re(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return QO(s),e;if(a===n)return QO(s),t;a=a.sibling}throw Error(Re(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(Re(189))}}if(r.alternate!==n)throw Error(Re(190))}if(r.tag!==3)throw Error(Re(188));return r.stateNode.current===r?e:t}function J6(e){return e=QZ(e),e!==null?Y6(e):null}function Y6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Y6(e);if(t!==null)return t;e=e.sibling}return null}var X6=la.unstable_scheduleCallback,ZO=la.unstable_cancelCallback,ZZ=la.unstable_shouldYield,eee=la.unstable_requestPaint,Zr=la.unstable_now,tee=la.unstable_getCurrentPriorityLevel,k2=la.unstable_ImmediatePriority,Q6=la.unstable_UserBlockingPriority,F0=la.unstable_NormalPriority,ree=la.unstable_LowPriority,Z6=la.unstable_IdlePriority,Qb=null,Di=null;function nee(e){if(Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(Qb,e,void 0,(e.current.flags&128)===128)}catch{}}var ii=Math.clz32?Math.clz32:iee,see=Math.log,aee=Math.LN2;function iee(e){return e>>>=0,e===0?32:31-(see(e)/aee|0)|0}var Qy=64,Zy=4194304;function Bp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function B0(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Bp(l):(a&=i,a!==0&&(n=Bp(a)))}else i=r&~s,i!==0?n=Bp(i):a!==0&&(n=Bp(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ii(t),s=1<<r,n|=e[r],t&=~s;return n}function oee(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lee(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-ii(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=oee(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function rk(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function e8(){var e=Qy;return Qy<<=1,!(Qy&4194240)&&(Qy=64),e}function x_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function cy(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ii(t),e[t]=r}function cee(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ii(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function E2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ii(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var pr=0;function t8(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var r8,N2,n8,s8,a8,nk=!1,ev=[],Ll=null,Dl=null,Fl=null,Rm=new Map,Mm=new Map,yl=[],uee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e$(e,t){switch(e){case"focusin":case"focusout":Ll=null;break;case"dragenter":case"dragleave":Dl=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":Rm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mm.delete(t.pointerId)}}function ep(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=dy(t),t!==null&&N2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function dee(e,t,r,n,s){switch(t){case"focusin":return Ll=ep(Ll,e,t,r,n,s),!0;case"dragenter":return Dl=ep(Dl,e,t,r,n,s),!0;case"mouseover":return Fl=ep(Fl,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Rm.set(a,ep(Rm.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Mm.set(a,ep(Mm.get(a)||null,e,t,r,n,s)),!0}return!1}function i8(e){var t=zc(e.target);if(t!==null){var r=zu(t);if(r!==null){if(t=r.tag,t===13){if(t=G6(r),t!==null){e.blockedOn=t,a8(e.priority,function(){n8(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function h0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=sk(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Qj=n,r.target.dispatchEvent(n),Qj=null}else return t=dy(r),t!==null&&N2(t),e.blockedOn=r,!1;t.shift()}return!0}function t$(e,t,r){h0(e)&&r.delete(t)}function fee(){nk=!1,Ll!==null&&h0(Ll)&&(Ll=null),Dl!==null&&h0(Dl)&&(Dl=null),Fl!==null&&h0(Fl)&&(Fl=null),Rm.forEach(t$),Mm.forEach(t$)}function tp(e,t){e.blockedOn===t&&(e.blockedOn=null,nk||(nk=!0,la.unstable_scheduleCallback(la.unstable_NormalPriority,fee)))}function Im(e){function t(s){return tp(s,e)}if(0<ev.length){tp(ev[0],e);for(var r=1;r<ev.length;r++){var n=ev[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ll!==null&&tp(Ll,e),Dl!==null&&tp(Dl,e),Fl!==null&&tp(Fl,e),Rm.forEach(t),Mm.forEach(t),r=0;r<yl.length;r++)n=yl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yl.length&&(r=yl[0],r.blockedOn===null);)i8(r),r.blockedOn===null&&yl.shift()}var Hd=zo.ReactCurrentBatchConfig,U0=!0;function hee(e,t,r,n){var s=pr,a=Hd.transition;Hd.transition=null;try{pr=1,C2(e,t,r,n)}finally{pr=s,Hd.transition=a}}function pee(e,t,r,n){var s=pr,a=Hd.transition;Hd.transition=null;try{pr=4,C2(e,t,r,n)}finally{pr=s,Hd.transition=a}}function C2(e,t,r,n){if(U0){var s=sk(e,t,r,n);if(s===null)P_(e,t,n,z0,r),e$(e,n);else if(dee(s,e,t,r,n))n.stopPropagation();else if(e$(e,n),t&4&&-1<uee.indexOf(e)){for(;s!==null;){var a=dy(s);if(a!==null&&r8(a),a=sk(e,t,r,n),a===null&&P_(e,t,n,z0,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else P_(e,t,n,null,r)}}var z0=null;function sk(e,t,r,n){if(z0=null,e=j2(n),e=zc(e),e!==null)if(t=zu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=G6(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return z0=e,null}function o8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tee()){case k2:return 1;case Q6:return 4;case F0:case ree:return 16;case Z6:return 536870912;default:return 16}default:return 16}}var Al=null,P2=null,p0=null;function l8(){if(p0)return p0;var e,t=P2,r=t.length,n,s="value"in Al?Al.value:Al.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return p0=s.slice(e,1<n?1-n:void 0)}function m0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tv(){return!0}function r$(){return!1}function da(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?tv:r$,this.isPropagationStopped=r$,this}return Hr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=tv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=tv)},persist:function(){},isPersistent:tv}),t}var fh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A2=da(fh),uy=Hr({},fh,{view:0,detail:0}),mee=da(uy),b_,w_,rp,Zb=Hr({},uy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rp&&(rp&&e.type==="mousemove"?(b_=e.screenX-rp.screenX,w_=e.screenY-rp.screenY):w_=b_=0,rp=e),b_)},movementY:function(e){return"movementY"in e?e.movementY:w_}}),n$=da(Zb),gee=Hr({},Zb,{dataTransfer:0}),yee=da(gee),vee=Hr({},uy,{relatedTarget:0}),__=da(vee),xee=Hr({},fh,{animationName:0,elapsedTime:0,pseudoElement:0}),bee=da(xee),wee=Hr({},fh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_ee=da(wee),See=Hr({},fh,{data:0}),s$=da(See),jee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nee(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Eee[e])?!!t[e]:!1}function T2(){return Nee}var Cee=Hr({},uy,{key:function(e){if(e.key){var t=jee[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=m0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kee[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T2,charCode:function(e){return e.type==="keypress"?m0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?m0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pee=da(Cee),Aee=Hr({},Zb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a$=da(Aee),Tee=Hr({},uy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T2}),Oee=da(Tee),$ee=Hr({},fh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ree=da($ee),Mee=Hr({},Zb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Iee=da(Mee),Lee=[9,13,27,32],O2=To&&"CompositionEvent"in window,am=null;To&&"documentMode"in document&&(am=document.documentMode);var Dee=To&&"TextEvent"in window&&!am,c8=To&&(!O2||am&&8<am&&11>=am),i$=" ",o$=!1;function u8(e,t){switch(e){case"keyup":return Lee.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jd=!1;function Fee(e,t){switch(e){case"compositionend":return d8(t);case"keypress":return t.which!==32?null:(o$=!0,i$);case"textInput":return e=t.data,e===i$&&o$?null:e;default:return null}}function Bee(e,t){if(jd)return e==="compositionend"||!O2&&u8(e,t)?(e=l8(),p0=P2=Al=null,jd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return c8&&t.locale!=="ko"?null:t.data;default:return null}}var Uee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l$(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uee[e.type]:t==="textarea"}function f8(e,t,r,n){q6(n),t=q0(t,"onChange"),0<t.length&&(r=new A2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var im=null,Lm=null;function zee(e){S8(e,0)}function ew(e){var t=Nd(e);if(I6(t))return e}function qee(e,t){if(e==="change")return t}var h8=!1;if(To){var S_;if(To){var j_="oninput"in document;if(!j_){var c$=document.createElement("div");c$.setAttribute("oninput","return;"),j_=typeof c$.oninput=="function"}S_=j_}else S_=!1;h8=S_&&(!document.documentMode||9<document.documentMode)}function u$(){im&&(im.detachEvent("onpropertychange",p8),Lm=im=null)}function p8(e){if(e.propertyName==="value"&&ew(Lm)){var t=[];f8(t,Lm,e,j2(e)),K6(zee,t)}}function Wee(e,t,r){e==="focusin"?(u$(),im=t,Lm=r,im.attachEvent("onpropertychange",p8)):e==="focusout"&&u$()}function Vee(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ew(Lm)}function Hee(e,t){if(e==="click")return ew(t)}function Kee(e,t){if(e==="input"||e==="change")return ew(t)}function Gee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var di=typeof Object.is=="function"?Object.is:Gee;function Dm(e,t){if(di(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Bj.call(t,s)||!di(e[s],t[s]))return!1}return!0}function d$(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f$(e,t){var r=d$(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=d$(r)}}function m8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?m8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function g8(){for(var e=window,t=I0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=I0(e.document)}return t}function $2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jee(e){var t=g8(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&m8(r.ownerDocument.documentElement,r)){if(n!==null&&$2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=f$(r,a);var i=f$(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yee=To&&"documentMode"in document&&11>=document.documentMode,kd=null,ak=null,om=null,ik=!1;function h$(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ik||kd==null||kd!==I0(n)||(n=kd,"selectionStart"in n&&$2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),om&&Dm(om,n)||(om=n,n=q0(ak,"onSelect"),0<n.length&&(t=new A2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=kd)))}function rv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ed={animationend:rv("Animation","AnimationEnd"),animationiteration:rv("Animation","AnimationIteration"),animationstart:rv("Animation","AnimationStart"),transitionend:rv("Transition","TransitionEnd")},k_={},y8={};To&&(y8=document.createElement("div").style,"AnimationEvent"in window||(delete Ed.animationend.animation,delete Ed.animationiteration.animation,delete Ed.animationstart.animation),"TransitionEvent"in window||delete Ed.transitionend.transition);function tw(e){if(k_[e])return k_[e];if(!Ed[e])return e;var t=Ed[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in y8)return k_[e]=t[r];return e}var v8=tw("animationend"),x8=tw("animationiteration"),b8=tw("animationstart"),w8=tw("transitionend"),_8=new Map,p$="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cc(e,t){_8.set(e,t),Uu(t,[e])}for(var E_=0;E_<p$.length;E_++){var N_=p$[E_],Xee=N_.toLowerCase(),Qee=N_[0].toUpperCase()+N_.slice(1);cc(Xee,"on"+Qee)}cc(v8,"onAnimationEnd");cc(x8,"onAnimationIteration");cc(b8,"onAnimationStart");cc("dblclick","onDoubleClick");cc("focusin","onFocus");cc("focusout","onBlur");cc(w8,"onTransitionEnd");Sf("onMouseEnter",["mouseout","mouseover"]);Sf("onMouseLeave",["mouseout","mouseover"]);Sf("onPointerEnter",["pointerout","pointerover"]);Sf("onPointerLeave",["pointerout","pointerover"]);Uu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Up="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zee=new Set("cancel close invalid load scroll toggle".split(" ").concat(Up));function m$(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,XZ(n,t,void 0,e),e.currentTarget=null}function S8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;m$(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;m$(s,l,u),a=c}}}if(D0)throw e=tk,D0=!1,tk=null,e}function Ar(e,t){var r=t[dk];r===void 0&&(r=t[dk]=new Set);var n=e+"__bubble";r.has(n)||(j8(t,e,2,!1),r.add(n))}function C_(e,t,r){var n=0;t&&(n|=4),j8(r,e,n,t)}var nv="_reactListening"+Math.random().toString(36).slice(2);function Fm(e){if(!e[nv]){e[nv]=!0,T6.forEach(function(r){r!=="selectionchange"&&(Zee.has(r)||C_(r,!1,e),C_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nv]||(t[nv]=!0,C_("selectionchange",!1,t))}}function j8(e,t,r,n){switch(o8(t)){case 1:var s=hee;break;case 4:s=pee;break;default:s=C2}r=s.bind(null,t,r,e),s=void 0,!ek||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function P_(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=zc(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}K6(function(){var u=a,d=j2(r),f=[];e:{var h=_8.get(e);if(h!==void 0){var g=A2,y=e;switch(e){case"keypress":if(m0(r)===0)break e;case"keydown":case"keyup":g=Pee;break;case"focusin":y="focus",g=__;break;case"focusout":y="blur",g=__;break;case"beforeblur":case"afterblur":g=__;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=n$;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=yee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Oee;break;case v8:case x8:case b8:g=bee;break;case w8:g=Ree;break;case"scroll":g=mee;break;case"wheel":g=Iee;break;case"copy":case"cut":case"paste":g=_ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=a$}var m=(t&4)!==0,v=!m&&e==="scroll",x=m?h!==null?h+"Capture":null:h;m=[];for(var w=u,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,x!==null&&(_=$m(w,x),_!=null&&m.push(Bm(w,_,b)))),v)break;w=w.return}0<m.length&&(h=new g(h,y,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==Qj&&(y=r.relatedTarget||r.fromElement)&&(zc(y)||y[Oo]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=u,y=y?zc(y):null,y!==null&&(v=zu(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(m=n$,_="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=a$,_="onPointerLeave",x="onPointerEnter",w="pointer"),v=g==null?h:Nd(g),b=y==null?h:Nd(y),h=new m(_,w+"leave",g,r,d),h.target=v,h.relatedTarget=b,_=null,zc(d)===u&&(m=new m(x,w+"enter",y,r,d),m.target=b,m.relatedTarget=v,_=m),v=_,g&&y)t:{for(m=g,x=y,w=0,b=m;b;b=Qu(b))w++;for(b=0,_=x;_;_=Qu(_))b++;for(;0<w-b;)m=Qu(m),w--;for(;0<b-w;)x=Qu(x),b--;for(;w--;){if(m===x||x!==null&&m===x.alternate)break t;m=Qu(m),x=Qu(x)}m=null}else m=null;g!==null&&g$(f,h,g,m,!1),y!==null&&v!==null&&g$(f,v,y,m,!0)}}e:{if(h=u?Nd(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=qee;else if(l$(h))if(h8)S=Kee;else{S=Vee;var E=Wee}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Hee);if(S&&(S=S(e,u))){f8(f,S,r,d);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Kj(h,"number",h.value)}switch(E=u?Nd(u):window,e){case"focusin":(l$(E)||E.contentEditable==="true")&&(kd=E,ak=u,om=null);break;case"focusout":om=ak=kd=null;break;case"mousedown":ik=!0;break;case"contextmenu":case"mouseup":case"dragend":ik=!1,h$(f,r,d);break;case"selectionchange":if(Yee)break;case"keydown":case"keyup":h$(f,r,d)}var k;if(O2)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else jd?u8(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(c8&&r.locale!=="ko"&&(jd||j!=="onCompositionStart"?j==="onCompositionEnd"&&jd&&(k=l8()):(Al=d,P2="value"in Al?Al.value:Al.textContent,jd=!0)),E=q0(u,j),0<E.length&&(j=new s$(j,e,null,r,d),f.push({event:j,listeners:E}),k?j.data=k:(k=d8(r),k!==null&&(j.data=k)))),(k=Dee?Fee(e,r):Bee(e,r))&&(u=q0(u,"onBeforeInput"),0<u.length&&(d=new s$("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}S8(f,t)})}function Bm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function q0(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=$m(e,r),a!=null&&n.unshift(Bm(e,a,s)),a=$m(e,t),a!=null&&n.push(Bm(e,a,s))),e=e.return}return n}function Qu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function g$(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=$m(r,a),c!=null&&i.unshift(Bm(r,c,l))):s||(c=$m(r,a),c!=null&&i.push(Bm(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var ete=/\r\n?/g,tte=/\u0000|\uFFFD/g;function y$(e){return(typeof e=="string"?e:""+e).replace(ete,`
`).replace(tte,"")}function sv(e,t,r){if(t=y$(t),y$(e)!==t&&r)throw Error(Re(425))}function W0(){}var ok=null,lk=null;function ck(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uk=typeof setTimeout=="function"?setTimeout:void 0,rte=typeof clearTimeout=="function"?clearTimeout:void 0,v$=typeof Promise=="function"?Promise:void 0,nte=typeof queueMicrotask=="function"?queueMicrotask:typeof v$<"u"?function(e){return v$.resolve(null).then(e).catch(ste)}:uk;function ste(e){setTimeout(function(){throw e})}function A_(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Im(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Im(t)}function Bl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function x$(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var hh=Math.random().toString(36).slice(2),$i="__reactFiber$"+hh,Um="__reactProps$"+hh,Oo="__reactContainer$"+hh,dk="__reactEvents$"+hh,ate="__reactListeners$"+hh,ite="__reactHandles$"+hh;function zc(e){var t=e[$i];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Oo]||r[$i]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=x$(e);e!==null;){if(r=e[$i])return r;e=x$(e)}return t}e=r,r=e.parentNode}return null}function dy(e){return e=e[$i]||e[Oo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Re(33))}function rw(e){return e[Um]||null}var fk=[],Cd=-1;function uc(e){return{current:e}}function Mr(e){0>Cd||(e.current=fk[Cd],fk[Cd]=null,Cd--)}function Nr(e,t){Cd++,fk[Cd]=e.current,e.current=t}var ec={},ss=uc(ec),Bs=uc(!1),bu=ec;function jf(e,t){var r=e.type.contextTypes;if(!r)return ec;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Us(e){return e=e.childContextTypes,e!=null}function V0(){Mr(Bs),Mr(ss)}function b$(e,t,r){if(ss.current!==ec)throw Error(Re(168));Nr(ss,t),Nr(Bs,r)}function k8(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Re(108,WZ(e)||"Unknown",s));return Hr({},r,n)}function H0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ec,bu=ss.current,Nr(ss,e),Nr(Bs,Bs.current),!0}function w$(e,t,r){var n=e.stateNode;if(!n)throw Error(Re(169));r?(e=k8(e,t,bu),n.__reactInternalMemoizedMergedChildContext=e,Mr(Bs),Mr(ss),Nr(ss,e)):Mr(Bs),Nr(Bs,r)}var go=null,nw=!1,T_=!1;function E8(e){go===null?go=[e]:go.push(e)}function ote(e){nw=!0,E8(e)}function dc(){if(!T_&&go!==null){T_=!0;var e=0,t=pr;try{var r=go;for(pr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}go=null,nw=!1}catch(s){throw go!==null&&(go=go.slice(e+1)),X6(k2,dc),s}finally{pr=t,T_=!1}}return null}var Pd=[],Ad=0,K0=null,G0=0,_a=[],Sa=0,wu=null,xo=1,bo="";function Ac(e,t){Pd[Ad++]=G0,Pd[Ad++]=K0,K0=e,G0=t}function N8(e,t,r){_a[Sa++]=xo,_a[Sa++]=bo,_a[Sa++]=wu,wu=e;var n=xo;e=bo;var s=32-ii(n)-1;n&=~(1<<s),r+=1;var a=32-ii(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,xo=1<<32-ii(t)+s|r<<s|n,bo=a+e}else xo=1<<a|r<<s|n,bo=e}function R2(e){e.return!==null&&(Ac(e,1),N8(e,1,0))}function M2(e){for(;e===K0;)K0=Pd[--Ad],Pd[Ad]=null,G0=Pd[--Ad],Pd[Ad]=null;for(;e===wu;)wu=_a[--Sa],_a[Sa]=null,bo=_a[--Sa],_a[Sa]=null,xo=_a[--Sa],_a[Sa]=null}var ia=null,na=null,Lr=!1,ei=null;function C8(e,t){var r=ka(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _$(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ia=e,na=Bl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ia=e,na=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wu!==null?{id:xo,overflow:bo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ka(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ia=e,na=null,!0):!1;default:return!1}}function hk(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pk(e){if(Lr){var t=na;if(t){var r=t;if(!_$(e,t)){if(hk(e))throw Error(Re(418));t=Bl(r.nextSibling);var n=ia;t&&_$(e,t)?C8(n,r):(e.flags=e.flags&-4097|2,Lr=!1,ia=e)}}else{if(hk(e))throw Error(Re(418));e.flags=e.flags&-4097|2,Lr=!1,ia=e}}}function S$(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ia=e}function av(e){if(e!==ia)return!1;if(!Lr)return S$(e),Lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ck(e.type,e.memoizedProps)),t&&(t=na)){if(hk(e))throw P8(),Error(Re(418));for(;t;)C8(e,t),t=Bl(t.nextSibling)}if(S$(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){na=Bl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}na=null}}else na=ia?Bl(e.stateNode.nextSibling):null;return!0}function P8(){for(var e=na;e;)e=Bl(e.nextSibling)}function kf(){na=ia=null,Lr=!1}function I2(e){ei===null?ei=[e]:ei.push(e)}var lte=zo.ReactCurrentBatchConfig;function np(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Re(309));var n=r.stateNode}if(!n)throw Error(Re(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(Re(284));if(!r._owner)throw Error(Re(290,e))}return e}function iv(e,t){throw e=Object.prototype.toString.call(t),Error(Re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function j$(e){var t=e._init;return t(e._payload)}function A8(e){function t(x,w){if(e){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function r(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=Wl(x,w),x.index=0,x.sibling=null,x}function a(x,w,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,w,b,_){return w===null||w.tag!==6?(w=D_(b,x.mode,_),w.return=x,w):(w=s(w,b),w.return=x,w)}function c(x,w,b,_){var S=b.type;return S===Sd?d(x,w,b.props.children,_,b.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===hl&&j$(S)===w.type)?(_=s(w,b.props),_.ref=np(x,w,b),_.return=x,_):(_=_0(b.type,b.key,b.props,null,x.mode,_),_.ref=np(x,w,b),_.return=x,_)}function u(x,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=F_(b,x.mode,_),w.return=x,w):(w=s(w,b.children||[]),w.return=x,w)}function d(x,w,b,_,S){return w===null||w.tag!==7?(w=iu(b,x.mode,_,S),w.return=x,w):(w=s(w,b),w.return=x,w)}function f(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=D_(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jy:return b=_0(w.type,w.key,w.props,null,x.mode,b),b.ref=np(x,null,w),b.return=x,b;case _d:return w=F_(w,x.mode,b),w.return=x,w;case hl:var _=w._init;return f(x,_(w._payload),b)}if(Fp(w)||Qh(w))return w=iu(w,x.mode,b,null),w.return=x,w;iv(x,w)}return null}function h(x,w,b,_){var S=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(x,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jy:return b.key===S?c(x,w,b,_):null;case _d:return b.key===S?u(x,w,b,_):null;case hl:return S=b._init,h(x,w,S(b._payload),_)}if(Fp(b)||Qh(b))return S!==null?null:d(x,w,b,_,null);iv(x,b)}return null}function g(x,w,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(b)||null,l(w,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Jy:return x=x.get(_.key===null?b:_.key)||null,c(w,x,_,S);case _d:return x=x.get(_.key===null?b:_.key)||null,u(w,x,_,S);case hl:var E=_._init;return g(x,w,b,E(_._payload),S)}if(Fp(_)||Qh(_))return x=x.get(b)||null,d(w,x,_,S,null);iv(w,_)}return null}function y(x,w,b,_){for(var S=null,E=null,k=w,j=w=0,N=null;k!==null&&j<b.length;j++){k.index>j?(N=k,k=null):N=k.sibling;var C=h(x,k,b[j],_);if(C===null){k===null&&(k=N);break}e&&k&&C.alternate===null&&t(x,k),w=a(C,w,j),E===null?S=C:E.sibling=C,E=C,k=N}if(j===b.length)return r(x,k),Lr&&Ac(x,j),S;if(k===null){for(;j<b.length;j++)k=f(x,b[j],_),k!==null&&(w=a(k,w,j),E===null?S=k:E.sibling=k,E=k);return Lr&&Ac(x,j),S}for(k=n(x,k);j<b.length;j++)N=g(k,x,j,b[j],_),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?j:N.key),w=a(N,w,j),E===null?S=N:E.sibling=N,E=N);return e&&k.forEach(function(P){return t(x,P)}),Lr&&Ac(x,j),S}function m(x,w,b,_){var S=Qh(b);if(typeof S!="function")throw Error(Re(150));if(b=S.call(b),b==null)throw Error(Re(151));for(var E=S=null,k=w,j=w=0,N=null,C=b.next();k!==null&&!C.done;j++,C=b.next()){k.index>j?(N=k,k=null):N=k.sibling;var P=h(x,k,C.value,_);if(P===null){k===null&&(k=N);break}e&&k&&P.alternate===null&&t(x,k),w=a(P,w,j),E===null?S=P:E.sibling=P,E=P,k=N}if(C.done)return r(x,k),Lr&&Ac(x,j),S;if(k===null){for(;!C.done;j++,C=b.next())C=f(x,C.value,_),C!==null&&(w=a(C,w,j),E===null?S=C:E.sibling=C,E=C);return Lr&&Ac(x,j),S}for(k=n(x,k);!C.done;j++,C=b.next())C=g(k,x,j,C.value,_),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?j:C.key),w=a(C,w,j),E===null?S=C:E.sibling=C,E=C);return e&&k.forEach(function(R){return t(x,R)}),Lr&&Ac(x,j),S}function v(x,w,b,_){if(typeof b=="object"&&b!==null&&b.type===Sd&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Jy:e:{for(var S=b.key,E=w;E!==null;){if(E.key===S){if(S=b.type,S===Sd){if(E.tag===7){r(x,E.sibling),w=s(E,b.props.children),w.return=x,x=w;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===hl&&j$(S)===E.type){r(x,E.sibling),w=s(E,b.props),w.ref=np(x,E,b),w.return=x,x=w;break e}r(x,E);break}else t(x,E);E=E.sibling}b.type===Sd?(w=iu(b.props.children,x.mode,_,b.key),w.return=x,x=w):(_=_0(b.type,b.key,b.props,null,x.mode,_),_.ref=np(x,w,b),_.return=x,x=_)}return i(x);case _d:e:{for(E=b.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(x,w.sibling),w=s(w,b.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else t(x,w);w=w.sibling}w=F_(b,x.mode,_),w.return=x,x=w}return i(x);case hl:return E=b._init,v(x,w,E(b._payload),_)}if(Fp(b))return y(x,w,b,_);if(Qh(b))return m(x,w,b,_);iv(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(x,w.sibling),w=s(w,b),w.return=x,x=w):(r(x,w),w=D_(b,x.mode,_),w.return=x,x=w),i(x)):r(x,w)}return v}var Ef=A8(!0),T8=A8(!1),J0=uc(null),Y0=null,Td=null,L2=null;function D2(){L2=Td=Y0=null}function F2(e){var t=J0.current;Mr(J0),e._currentValue=t}function mk(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Kd(e,t){Y0=e,L2=Td=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ls=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(L2!==e)if(e={context:e,memoizedValue:t,next:null},Td===null){if(Y0===null)throw Error(Re(308));Td=e,Y0.dependencies={lanes:0,firstContext:e}}else Td=Td.next=e;return t}var qc=null;function B2(e){qc===null?qc=[e]:qc.push(e)}function O8(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,B2(t)):(r.next=s.next,s.next=r),t.interleaved=r,$o(e,n)}function $o(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var pl=!1;function U2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $8(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ko(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ul(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Gt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,$o(e,r)}return s=n.interleaved,s===null?(t.next=t,B2(n)):(t.next=s.next,s.next=t),n.interleaved=t,$o(e,r)}function g0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,E2(e,r)}}function k$(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function X0(e,t,r,n){var s=e.updateQueue;pl=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var h=l.lane,g=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(h=t,g=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(g,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(g,f,h):y,h==null)break e;f=Hr({},f,h);break e;case 2:pl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Su|=i,e.lanes=i,e.memoizedState=f}}function E$(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Re(191,s));s.call(n)}}}var fy={},Fi=uc(fy),zm=uc(fy),qm=uc(fy);function Wc(e){if(e===fy)throw Error(Re(174));return e}function z2(e,t){switch(Nr(qm,t),Nr(zm,e),Nr(Fi,fy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jj(t,e)}Mr(Fi),Nr(Fi,t)}function Nf(){Mr(Fi),Mr(zm),Mr(qm)}function R8(e){Wc(qm.current);var t=Wc(Fi.current),r=Jj(t,e.type);t!==r&&(Nr(zm,e),Nr(Fi,r))}function q2(e){zm.current===e&&(Mr(Fi),Mr(zm))}var zr=uc(0);function Q0(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var O_=[];function W2(){for(var e=0;e<O_.length;e++)O_[e]._workInProgressVersionPrimary=null;O_.length=0}var y0=zo.ReactCurrentDispatcher,$_=zo.ReactCurrentBatchConfig,_u=0,Vr=null,gn=null,Nn=null,Z0=!1,lm=!1,Wm=0,cte=0;function Hn(){throw Error(Re(321))}function V2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!di(e[r],t[r]))return!1;return!0}function H2(e,t,r,n,s,a){if(_u=a,Vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,y0.current=e===null||e.memoizedState===null?hte:pte,e=r(n,s),lm){a=0;do{if(lm=!1,Wm=0,25<=a)throw Error(Re(301));a+=1,Nn=gn=null,t.updateQueue=null,y0.current=mte,e=r(n,s)}while(lm)}if(y0.current=ex,t=gn!==null&&gn.next!==null,_u=0,Nn=gn=Vr=null,Z0=!1,t)throw Error(Re(300));return e}function K2(){var e=Wm!==0;return Wm=0,e}function Ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Vr.memoizedState=Nn=e:Nn=Nn.next=e,Nn}function La(){if(gn===null){var e=Vr.alternate;e=e!==null?e.memoizedState:null}else e=gn.next;var t=Nn===null?Vr.memoizedState:Nn.next;if(t!==null)Nn=t,gn=e;else{if(e===null)throw Error(Re(310));gn=e,e={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},Nn===null?Vr.memoizedState=Nn=e:Nn=Nn.next=e}return Nn}function Vm(e,t){return typeof t=="function"?t(e):t}function R_(e){var t=La(),r=t.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=e;var n=gn,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((_u&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Vr.lanes|=d,Su|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,di(n,t.memoizedState)||(Ls=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Vr.lanes|=a,Su|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function M_(e){var t=La(),r=t.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);di(a,t.memoizedState)||(Ls=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function M8(){}function I8(e,t){var r=Vr,n=La(),s=t(),a=!di(n.memoizedState,s);if(a&&(n.memoizedState=s,Ls=!0),n=n.queue,G2(F8.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Nn!==null&&Nn.memoizedState.tag&1){if(r.flags|=2048,Hm(9,D8.bind(null,r,n,s,t),void 0,null),An===null)throw Error(Re(349));_u&30||L8(r,t,s)}return s}function L8(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Vr.updateQueue,t===null?(t={lastEffect:null,stores:null},Vr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function D8(e,t,r,n){t.value=r,t.getSnapshot=n,B8(t)&&U8(e)}function F8(e,t,r){return r(function(){B8(t)&&U8(e)})}function B8(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!di(e,r)}catch{return!0}}function U8(e){var t=$o(e,1);t!==null&&oi(t,e,1,-1)}function N$(e){var t=Ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vm,lastRenderedState:e},t.queue=e,e=e.dispatch=fte.bind(null,Vr,e),[t.memoizedState,e]}function Hm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Vr.updateQueue,t===null?(t={lastEffect:null,stores:null},Vr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function z8(){return La().memoizedState}function v0(e,t,r,n){var s=Ei();Vr.flags|=e,s.memoizedState=Hm(1|t,r,void 0,n===void 0?null:n)}function sw(e,t,r,n){var s=La();n=n===void 0?null:n;var a=void 0;if(gn!==null){var i=gn.memoizedState;if(a=i.destroy,n!==null&&V2(n,i.deps)){s.memoizedState=Hm(t,r,a,n);return}}Vr.flags|=e,s.memoizedState=Hm(1|t,r,a,n)}function C$(e,t){return v0(8390656,8,e,t)}function G2(e,t){return sw(2048,8,e,t)}function q8(e,t){return sw(4,2,e,t)}function W8(e,t){return sw(4,4,e,t)}function V8(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function H8(e,t,r){return r=r!=null?r.concat([e]):null,sw(4,4,V8.bind(null,t,e),r)}function J2(){}function K8(e,t){var r=La();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&V2(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function G8(e,t){var r=La();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&V2(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function J8(e,t,r){return _u&21?(di(r,t)||(r=e8(),Vr.lanes|=r,Su|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ls=!0),e.memoizedState=r)}function ute(e,t){var r=pr;pr=r!==0&&4>r?r:4,e(!0);var n=$_.transition;$_.transition={};try{e(!1),t()}finally{pr=r,$_.transition=n}}function Y8(){return La().memoizedState}function dte(e,t,r){var n=ql(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},X8(e))Q8(t,r);else if(r=O8(e,t,r,n),r!==null){var s=js();oi(r,e,n,s),Z8(r,t,n)}}function fte(e,t,r){var n=ql(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(X8(e))Q8(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,di(l,i)){var c=t.interleaved;c===null?(s.next=s,B2(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=O8(e,t,s,n),r!==null&&(s=js(),oi(r,e,n,s),Z8(r,t,n))}}function X8(e){var t=e.alternate;return e===Vr||t!==null&&t===Vr}function Q8(e,t){lm=Z0=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Z8(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,E2(e,r)}}var ex={readContext:Ia,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},hte={readContext:Ia,useCallback:function(e,t){return Ei().memoizedState=[e,t===void 0?null:t],e},useContext:Ia,useEffect:C$,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,v0(4194308,4,V8.bind(null,t,e),r)},useLayoutEffect:function(e,t){return v0(4194308,4,e,t)},useInsertionEffect:function(e,t){return v0(4,2,e,t)},useMemo:function(e,t){var r=Ei();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ei();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dte.bind(null,Vr,e),[n.memoizedState,e]},useRef:function(e){var t=Ei();return e={current:e},t.memoizedState=e},useState:N$,useDebugValue:J2,useDeferredValue:function(e){return Ei().memoizedState=e},useTransition:function(){var e=N$(!1),t=e[0];return e=ute.bind(null,e[1]),Ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Vr,s=Ei();if(Lr){if(r===void 0)throw Error(Re(407));r=r()}else{if(r=t(),An===null)throw Error(Re(349));_u&30||L8(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,C$(F8.bind(null,n,a,e),[e]),n.flags|=2048,Hm(9,D8.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ei(),t=An.identifierPrefix;if(Lr){var r=bo,n=xo;r=(n&~(1<<32-ii(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=cte++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pte={readContext:Ia,useCallback:K8,useContext:Ia,useEffect:G2,useImperativeHandle:H8,useInsertionEffect:q8,useLayoutEffect:W8,useMemo:G8,useReducer:R_,useRef:z8,useState:function(){return R_(Vm)},useDebugValue:J2,useDeferredValue:function(e){var t=La();return J8(t,gn.memoizedState,e)},useTransition:function(){var e=R_(Vm)[0],t=La().memoizedState;return[e,t]},useMutableSource:M8,useSyncExternalStore:I8,useId:Y8,unstable_isNewReconciler:!1},mte={readContext:Ia,useCallback:K8,useContext:Ia,useEffect:G2,useImperativeHandle:H8,useInsertionEffect:q8,useLayoutEffect:W8,useMemo:G8,useReducer:M_,useRef:z8,useState:function(){return M_(Vm)},useDebugValue:J2,useDeferredValue:function(e){var t=La();return gn===null?t.memoizedState=e:J8(t,gn.memoizedState,e)},useTransition:function(){var e=M_(Vm)[0],t=La().memoizedState;return[e,t]},useMutableSource:M8,useSyncExternalStore:I8,useId:Y8,unstable_isNewReconciler:!1};function Ja(e,t){if(e&&e.defaultProps){t=Hr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function gk(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Hr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var aw={isMounted:function(e){return(e=e._reactInternals)?zu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=js(),s=ql(e),a=ko(n,s);a.payload=t,r!=null&&(a.callback=r),t=Ul(e,a,s),t!==null&&(oi(t,e,s,n),g0(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=js(),s=ql(e),a=ko(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ul(e,a,s),t!==null&&(oi(t,e,s,n),g0(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=js(),n=ql(e),s=ko(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ul(e,s,n),t!==null&&(oi(t,e,n,r),g0(t,e,n))}};function P$(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Dm(r,n)||!Dm(s,a):!0}function eB(e,t,r){var n=!1,s=ec,a=t.contextType;return typeof a=="object"&&a!==null?a=Ia(a):(s=Us(t)?bu:ss.current,n=t.contextTypes,a=(n=n!=null)?jf(e,s):ec),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=aw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function A$(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&aw.enqueueReplaceState(t,t.state,null)}function yk(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},U2(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Ia(a):(a=Us(t)?bu:ss.current,s.context=jf(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(gk(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&aw.enqueueReplaceState(s,s.state,null),X0(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Cf(e,t){try{var r="",n=t;do r+=qZ(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function I_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vk(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var gte=typeof WeakMap=="function"?WeakMap:Map;function tB(e,t,r){r=ko(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){rx||(rx=!0,Ck=n),vk(e,t)},r}function rB(e,t,r){r=ko(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){vk(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){vk(e,t),typeof n!="function"&&(zl===null?zl=new Set([this]):zl.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function T$(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new gte;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Ate.bind(null,e,t,r),t.then(e,e))}function O$(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $$(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ko(-1,1),t.tag=2,Ul(r,t,1))),r.lanes|=1),e)}var yte=zo.ReactCurrentOwner,Ls=!1;function ps(e,t,r,n){t.child=e===null?T8(t,null,r,n):Ef(t,e.child,r,n)}function R$(e,t,r,n,s){r=r.render;var a=t.ref;return Kd(t,s),n=H2(e,t,r,n,a,s),r=K2(),e!==null&&!Ls?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ro(e,t,s)):(Lr&&r&&R2(t),t.flags|=1,ps(e,t,n,s),t.child)}function M$(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!nP(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,nB(e,t,a,n,s)):(e=_0(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Dm,r(i,n)&&e.ref===t.ref)return Ro(e,t,s)}return t.flags|=1,e=Wl(a,n),e.ref=t.ref,e.return=t,t.child=e}function nB(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Dm(a,n)&&e.ref===t.ref)if(Ls=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Ls=!0);else return t.lanes=e.lanes,Ro(e,t,s)}return xk(e,t,r,n,s)}function sB(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr($d,Zs),Zs|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nr($d,Zs),Zs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Nr($d,Zs),Zs|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Nr($d,Zs),Zs|=n;return ps(e,t,s,r),t.child}function aB(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xk(e,t,r,n,s){var a=Us(r)?bu:ss.current;return a=jf(t,a),Kd(t,s),r=H2(e,t,r,n,a,s),n=K2(),e!==null&&!Ls?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ro(e,t,s)):(Lr&&n&&R2(t),t.flags|=1,ps(e,t,r,s),t.child)}function I$(e,t,r,n,s){if(Us(r)){var a=!0;H0(t)}else a=!1;if(Kd(t,s),t.stateNode===null)x0(e,t),eB(t,r,n),yk(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ia(u):(u=Us(r)?bu:ss.current,u=jf(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&A$(t,i,n,u),pl=!1;var h=t.memoizedState;i.state=h,X0(t,n,i,s),c=t.memoizedState,l!==n||h!==c||Bs.current||pl?(typeof d=="function"&&(gk(t,r,d,n),c=t.memoizedState),(l=pl||P$(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,$8(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ja(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ia(c):(c=Us(r)?bu:ss.current,c=jf(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&A$(t,i,n,c),pl=!1,h=t.memoizedState,i.state=h,X0(t,n,i,s);var y=t.memoizedState;l!==f||h!==y||Bs.current||pl?(typeof g=="function"&&(gk(t,r,g,n),y=t.memoizedState),(u=pl||P$(t,r,u,n,h,y,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),i.props=n,i.state=y,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return bk(e,t,r,n,a,s)}function bk(e,t,r,n,s,a){aB(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&w$(t,r,!1),Ro(e,t,a);n=t.stateNode,yte.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Ef(t,e.child,null,a),t.child=Ef(t,null,l,a)):ps(e,t,l,a),t.memoizedState=n.state,s&&w$(t,r,!0),t.child}function iB(e){var t=e.stateNode;t.pendingContext?b$(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b$(e,t.context,!1),z2(e,t.containerInfo)}function L$(e,t,r,n,s){return kf(),I2(s),t.flags|=256,ps(e,t,r,n),t.child}var wk={dehydrated:null,treeContext:null,retryLane:0};function _k(e){return{baseLanes:e,cachePool:null,transitions:null}}function oB(e,t,r){var n=t.pendingProps,s=zr.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Nr(zr,s&1),e===null)return pk(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=lw(i,n,0,null),e=iu(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=_k(r),t.memoizedState=wk,e):Y2(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return vte(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Wl(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Wl(l,a):(a=iu(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?_k(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=wk,n}return a=e.child,e=a.sibling,n=Wl(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Y2(e,t){return t=lw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ov(e,t,r,n){return n!==null&&I2(n),Ef(t,e.child,null,r),e=Y2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vte(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=I_(Error(Re(422))),ov(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=lw({mode:"visible",children:n.children},s,0,null),a=iu(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Ef(t,e.child,null,i),t.child.memoizedState=_k(i),t.memoizedState=wk,a);if(!(t.mode&1))return ov(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Re(419)),n=I_(a,n,void 0),ov(e,t,i,n)}if(l=(i&e.childLanes)!==0,Ls||l){if(n=An,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,$o(e,s),oi(n,e,s,-1))}return rP(),n=I_(Error(Re(421))),ov(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Tte.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,na=Bl(s.nextSibling),ia=t,Lr=!0,ei=null,e!==null&&(_a[Sa++]=xo,_a[Sa++]=bo,_a[Sa++]=wu,xo=e.id,bo=e.overflow,wu=t),t=Y2(t,n.children),t.flags|=4096,t)}function D$(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),mk(e.return,t,r)}function L_(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function lB(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(ps(e,t,n.children,r),n=zr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&D$(e,r,t);else if(e.tag===19)D$(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Nr(zr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Q0(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),L_(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Q0(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}L_(t,!0,r,null,a);break;case"together":L_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function x0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ro(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Su|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Re(153));if(t.child!==null){for(e=t.child,r=Wl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function xte(e,t,r){switch(t.tag){case 3:iB(t),kf();break;case 5:R8(t);break;case 1:Us(t.type)&&H0(t);break;case 4:z2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Nr(J0,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Nr(zr,zr.current&1),t.flags|=128,null):r&t.child.childLanes?oB(e,t,r):(Nr(zr,zr.current&1),e=Ro(e,t,r),e!==null?e.sibling:null);Nr(zr,zr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return lB(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Nr(zr,zr.current),n)break;return null;case 22:case 23:return t.lanes=0,sB(e,t,r)}return Ro(e,t,r)}var cB,Sk,uB,dB;cB=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sk=function(){};uB=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Wc(Fi.current);var a=null;switch(r){case"input":s=Vj(e,s),n=Vj(e,n),a=[];break;case"select":s=Hr({},s,{value:void 0}),n=Hr({},n,{value:void 0}),a=[];break;case"textarea":s=Gj(e,s),n=Gj(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=W0)}Yj(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tm.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ar("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};dB=function(e,t,r,n){r!==n&&(t.flags|=4)};function sp(e,t){if(!Lr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function bte(e,t,r){var n=t.pendingProps;switch(M2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(t),null;case 1:return Us(t.type)&&V0(),Kn(t),null;case 3:return n=t.stateNode,Nf(),Mr(Bs),Mr(ss),W2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(av(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ei!==null&&(Tk(ei),ei=null))),Sk(e,t),Kn(t),null;case 5:q2(t);var s=Wc(qm.current);if(r=t.type,e!==null&&t.stateNode!=null)uB(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Re(166));return Kn(t),null}if(e=Wc(Fi.current),av(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[$i]=t,n[Um]=a,e=(t.mode&1)!==0,r){case"dialog":Ar("cancel",n),Ar("close",n);break;case"iframe":case"object":case"embed":Ar("load",n);break;case"video":case"audio":for(s=0;s<Up.length;s++)Ar(Up[s],n);break;case"source":Ar("error",n);break;case"img":case"image":case"link":Ar("error",n),Ar("load",n);break;case"details":Ar("toggle",n);break;case"input":KO(n,a),Ar("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ar("invalid",n);break;case"textarea":JO(n,a),Ar("invalid",n)}Yj(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&sv(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&sv(n.textContent,l,e),s=["children",""+l]):Tm.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ar("scroll",n)}switch(r){case"input":Yy(n),GO(n,a,!0);break;case"textarea":Yy(n),YO(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=W0)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=F6(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[$i]=t,e[Um]=n,cB(e,t,!1,!1),t.stateNode=e;e:{switch(i=Xj(r,n),r){case"dialog":Ar("cancel",e),Ar("close",e),s=n;break;case"iframe":case"object":case"embed":Ar("load",e),s=n;break;case"video":case"audio":for(s=0;s<Up.length;s++)Ar(Up[s],e);s=n;break;case"source":Ar("error",e),s=n;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),s=n;break;case"details":Ar("toggle",e),s=n;break;case"input":KO(e,n),s=Vj(e,n),Ar("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Hr({},n,{value:void 0}),Ar("invalid",e);break;case"textarea":JO(e,n),s=Gj(e,n),Ar("invalid",e);break;default:s=n}Yj(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?z6(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&B6(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Om(e,c):typeof c=="number"&&Om(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Tm.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ar("scroll",e):c!=null&&b2(e,a,c,i))}switch(r){case"input":Yy(e),GO(e,n,!1);break;case"textarea":Yy(e),YO(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zl(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?qd(e,!!n.multiple,a,!1):n.defaultValue!=null&&qd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=W0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kn(t),null;case 6:if(e&&t.stateNode!=null)dB(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Re(166));if(r=Wc(qm.current),Wc(Fi.current),av(t)){if(n=t.stateNode,r=t.memoizedProps,n[$i]=t,(a=n.nodeValue!==r)&&(e=ia,e!==null))switch(e.tag){case 3:sv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sv(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$i]=t,t.stateNode=n}return Kn(t),null;case 13:if(Mr(zr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Lr&&na!==null&&t.mode&1&&!(t.flags&128))P8(),kf(),t.flags|=98560,a=!1;else if(a=av(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Re(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Re(317));a[$i]=t}else kf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kn(t),a=!1}else ei!==null&&(Tk(ei),ei=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||zr.current&1?wn===0&&(wn=3):rP())),t.updateQueue!==null&&(t.flags|=4),Kn(t),null);case 4:return Nf(),Sk(e,t),e===null&&Fm(t.stateNode.containerInfo),Kn(t),null;case 10:return F2(t.type._context),Kn(t),null;case 17:return Us(t.type)&&V0(),Kn(t),null;case 19:if(Mr(zr),a=t.memoizedState,a===null)return Kn(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)sp(a,!1);else{if(wn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Q0(e),i!==null){for(t.flags|=128,sp(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Nr(zr,zr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Zr()>Pf&&(t.flags|=128,n=!0,sp(a,!1),t.lanes=4194304)}else{if(!n)if(e=Q0(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),sp(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Lr)return Kn(t),null}else 2*Zr()-a.renderingStartTime>Pf&&r!==1073741824&&(t.flags|=128,n=!0,sp(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Zr(),t.sibling=null,r=zr.current,Nr(zr,n?r&1|2:r&1),t):(Kn(t),null);case 22:case 23:return tP(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Zs&1073741824&&(Kn(t),t.subtreeFlags&6&&(t.flags|=8192)):Kn(t),null;case 24:return null;case 25:return null}throw Error(Re(156,t.tag))}function wte(e,t){switch(M2(t),t.tag){case 1:return Us(t.type)&&V0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nf(),Mr(Bs),Mr(ss),W2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return q2(t),null;case 13:if(Mr(zr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Re(340));kf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Mr(zr),null;case 4:return Nf(),null;case 10:return F2(t.type._context),null;case 22:case 23:return tP(),null;case 24:return null;default:return null}}var lv=!1,Xn=!1,_te=typeof WeakSet=="function"?WeakSet:Set,it=null;function Od(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Gr(e,t,n)}else r.current=null}function jk(e,t,r){try{r()}catch(n){Gr(e,t,n)}}var F$=!1;function Ste(e,t){if(ok=U0,e=g8(),$2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===a&&++d===n&&(c=i),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(lk={focusedElem:e,selectionRange:r},U0=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){t=it;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,v=y.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ja(t.type,m),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(_){Gr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}return y=F$,F$=!1,y}function cm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&jk(t,r,a)}s=s.next}while(s!==n)}}function iw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function kk(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function fB(e){var t=e.alternate;t!==null&&(e.alternate=null,fB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$i],delete t[Um],delete t[dk],delete t[ate],delete t[ite])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hB(e){return e.tag===5||e.tag===3||e.tag===4}function B$(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ek(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=W0));else if(n!==4&&(e=e.child,e!==null))for(Ek(e,t,r),e=e.sibling;e!==null;)Ek(e,t,r),e=e.sibling}function Nk(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Nk(e,t,r),e=e.sibling;e!==null;)Nk(e,t,r),e=e.sibling}var Mn=null,Xa=!1;function Qo(e,t,r){for(r=r.child;r!==null;)pB(e,t,r),r=r.sibling}function pB(e,t,r){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(Qb,r)}catch{}switch(r.tag){case 5:Xn||Od(r,t);case 6:var n=Mn,s=Xa;Mn=null,Qo(e,t,r),Mn=n,Xa=s,Mn!==null&&(Xa?(e=Mn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Mn.removeChild(r.stateNode));break;case 18:Mn!==null&&(Xa?(e=Mn,r=r.stateNode,e.nodeType===8?A_(e.parentNode,r):e.nodeType===1&&A_(e,r),Im(e)):A_(Mn,r.stateNode));break;case 4:n=Mn,s=Xa,Mn=r.stateNode.containerInfo,Xa=!0,Qo(e,t,r),Mn=n,Xa=s;break;case 0:case 11:case 14:case 15:if(!Xn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&jk(r,t,i),s=s.next}while(s!==n)}Qo(e,t,r);break;case 1:if(!Xn&&(Od(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Gr(r,t,l)}Qo(e,t,r);break;case 21:Qo(e,t,r);break;case 22:r.mode&1?(Xn=(n=Xn)||r.memoizedState!==null,Qo(e,t,r),Xn=n):Qo(e,t,r);break;default:Qo(e,t,r)}}function U$(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _te),t.forEach(function(n){var s=Ote.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function za(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Mn=l.stateNode,Xa=!1;break e;case 3:Mn=l.stateNode.containerInfo,Xa=!0;break e;case 4:Mn=l.stateNode.containerInfo,Xa=!0;break e}l=l.return}if(Mn===null)throw Error(Re(160));pB(a,i,s),Mn=null,Xa=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Gr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mB(t,e),t=t.sibling}function mB(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(za(t,e),Si(e),n&4){try{cm(3,e,e.return),iw(3,e)}catch(m){Gr(e,e.return,m)}try{cm(5,e,e.return)}catch(m){Gr(e,e.return,m)}}break;case 1:za(t,e),Si(e),n&512&&r!==null&&Od(r,r.return);break;case 5:if(za(t,e),Si(e),n&512&&r!==null&&Od(r,r.return),e.flags&32){var s=e.stateNode;try{Om(s,"")}catch(m){Gr(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&L6(s,a),Xj(l,i);var u=Xj(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?z6(s,f):d==="dangerouslySetInnerHTML"?B6(s,f):d==="children"?Om(s,f):b2(s,d,f,u)}switch(l){case"input":Hj(s,a);break;case"textarea":D6(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?qd(s,!!a.multiple,g,!1):h!==!!a.multiple&&(a.defaultValue!=null?qd(s,!!a.multiple,a.defaultValue,!0):qd(s,!!a.multiple,a.multiple?[]:"",!1))}s[Um]=a}catch(m){Gr(e,e.return,m)}}break;case 6:if(za(t,e),Si(e),n&4){if(e.stateNode===null)throw Error(Re(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){Gr(e,e.return,m)}}break;case 3:if(za(t,e),Si(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Im(t.containerInfo)}catch(m){Gr(e,e.return,m)}break;case 4:za(t,e),Si(e);break;case 13:za(t,e),Si(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Z2=Zr())),n&4&&U$(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Xn=(u=Xn)||d,za(t,e),Xn=u):za(t,e),Si(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(it=e,d=e.child;d!==null;){for(f=it=d;it!==null;){switch(h=it,g=h.child,h.tag){case 0:case 11:case 14:case 15:cm(4,h,h.return);break;case 1:Od(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){Gr(n,r,m)}}break;case 5:Od(h,h.return);break;case 22:if(h.memoizedState!==null){q$(f);continue}}g!==null?(g.return=h,it=g):q$(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=U6("display",i))}catch(m){Gr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Gr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:za(t,e),Si(e),n&4&&U$(e);break;case 21:break;default:za(t,e),Si(e)}}function Si(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(hB(r)){var n=r;break e}r=r.return}throw Error(Re(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Om(s,""),n.flags&=-33);var a=B$(e);Nk(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=B$(e);Ek(e,l,i);break;default:throw Error(Re(161))}}catch(c){Gr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jte(e,t,r){it=e,gB(e)}function gB(e,t,r){for(var n=(e.mode&1)!==0;it!==null;){var s=it,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||lv;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Xn;l=lv;var u=Xn;if(lv=i,(Xn=c)&&!u)for(it=s;it!==null;)i=it,c=i.child,i.tag===22&&i.memoizedState!==null?W$(s):c!==null?(c.return=i,it=c):W$(s);for(;a!==null;)it=a,gB(a),a=a.sibling;it=s,lv=l,Xn=u}z$(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,it=a):z$(e)}}function z$(e){for(;it!==null;){var t=it;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xn||iw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Xn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ja(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&E$(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}E$(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Im(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}Xn||t.flags&512&&kk(t)}catch(h){Gr(t,t.return,h)}}if(t===e){it=null;break}if(r=t.sibling,r!==null){r.return=t.return,it=r;break}it=t.return}}function q$(e){for(;it!==null;){var t=it;if(t===e){it=null;break}var r=t.sibling;if(r!==null){r.return=t.return,it=r;break}it=t.return}}function W$(e){for(;it!==null;){var t=it;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{iw(4,t)}catch(c){Gr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Gr(t,s,c)}}var a=t.return;try{kk(t)}catch(c){Gr(t,a,c)}break;case 5:var i=t.return;try{kk(t)}catch(c){Gr(t,i,c)}}}catch(c){Gr(t,t.return,c)}if(t===e){it=null;break}var l=t.sibling;if(l!==null){l.return=t.return,it=l;break}it=t.return}}var kte=Math.ceil,tx=zo.ReactCurrentDispatcher,X2=zo.ReactCurrentOwner,Aa=zo.ReactCurrentBatchConfig,Gt=0,An=null,an=null,Wn=0,Zs=0,$d=uc(0),wn=0,Km=null,Su=0,ow=0,Q2=0,um=null,Rs=null,Z2=0,Pf=1/0,uo=null,rx=!1,Ck=null,zl=null,cv=!1,Tl=null,nx=0,dm=0,Pk=null,b0=-1,w0=0;function js(){return Gt&6?Zr():b0!==-1?b0:b0=Zr()}function ql(e){return e.mode&1?Gt&2&&Wn!==0?Wn&-Wn:lte.transition!==null?(w0===0&&(w0=e8()),w0):(e=pr,e!==0||(e=window.event,e=e===void 0?16:o8(e.type)),e):1}function oi(e,t,r,n){if(50<dm)throw dm=0,Pk=null,Error(Re(185));cy(e,r,n),(!(Gt&2)||e!==An)&&(e===An&&(!(Gt&2)&&(ow|=r),wn===4&&vl(e,Wn)),zs(e,n),r===1&&Gt===0&&!(t.mode&1)&&(Pf=Zr()+500,nw&&dc()))}function zs(e,t){var r=e.callbackNode;lee(e,t);var n=B0(e,e===An?Wn:0);if(n===0)r!==null&&ZO(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ZO(r),t===1)e.tag===0?ote(V$.bind(null,e)):E8(V$.bind(null,e)),nte(function(){!(Gt&6)&&dc()}),r=null;else{switch(t8(n)){case 1:r=k2;break;case 4:r=Q6;break;case 16:r=F0;break;case 536870912:r=Z6;break;default:r=F0}r=jB(r,yB.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function yB(e,t){if(b0=-1,w0=0,Gt&6)throw Error(Re(327));var r=e.callbackNode;if(Gd()&&e.callbackNode!==r)return null;var n=B0(e,e===An?Wn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sx(e,n);else{t=n;var s=Gt;Gt|=2;var a=xB();(An!==e||Wn!==t)&&(uo=null,Pf=Zr()+500,au(e,t));do try{Cte();break}catch(l){vB(e,l)}while(!0);D2(),tx.current=a,Gt=s,an!==null?t=0:(An=null,Wn=0,t=wn)}if(t!==0){if(t===2&&(s=rk(e),s!==0&&(n=s,t=Ak(e,s))),t===1)throw r=Km,au(e,0),vl(e,n),zs(e,Zr()),r;if(t===6)vl(e,n);else{if(s=e.current.alternate,!(n&30)&&!Ete(s)&&(t=sx(e,n),t===2&&(a=rk(e),a!==0&&(n=a,t=Ak(e,a))),t===1))throw r=Km,au(e,0),vl(e,n),zs(e,Zr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Re(345));case 2:Tc(e,Rs,uo);break;case 3:if(vl(e,n),(n&130023424)===n&&(t=Z2+500-Zr(),10<t)){if(B0(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){js(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=uk(Tc.bind(null,e,Rs,uo),t);break}Tc(e,Rs,uo);break;case 4:if(vl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-ii(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=Zr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kte(n/1960))-n,10<n){e.timeoutHandle=uk(Tc.bind(null,e,Rs,uo),n);break}Tc(e,Rs,uo);break;case 5:Tc(e,Rs,uo);break;default:throw Error(Re(329))}}}return zs(e,Zr()),e.callbackNode===r?yB.bind(null,e):null}function Ak(e,t){var r=um;return e.current.memoizedState.isDehydrated&&(au(e,t).flags|=256),e=sx(e,t),e!==2&&(t=Rs,Rs=r,t!==null&&Tk(t)),e}function Tk(e){Rs===null?Rs=e:Rs.push.apply(Rs,e)}function Ete(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!di(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vl(e,t){for(t&=~Q2,t&=~ow,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ii(t),n=1<<r;e[r]=-1,t&=~n}}function V$(e){if(Gt&6)throw Error(Re(327));Gd();var t=B0(e,0);if(!(t&1))return zs(e,Zr()),null;var r=sx(e,t);if(e.tag!==0&&r===2){var n=rk(e);n!==0&&(t=n,r=Ak(e,n))}if(r===1)throw r=Km,au(e,0),vl(e,t),zs(e,Zr()),r;if(r===6)throw Error(Re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e,Rs,uo),zs(e,Zr()),null}function eP(e,t){var r=Gt;Gt|=1;try{return e(t)}finally{Gt=r,Gt===0&&(Pf=Zr()+500,nw&&dc())}}function ju(e){Tl!==null&&Tl.tag===0&&!(Gt&6)&&Gd();var t=Gt;Gt|=1;var r=Aa.transition,n=pr;try{if(Aa.transition=null,pr=1,e)return e()}finally{pr=n,Aa.transition=r,Gt=t,!(Gt&6)&&dc()}}function tP(){Zs=$d.current,Mr($d)}function au(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,rte(r)),an!==null)for(r=an.return;r!==null;){var n=r;switch(M2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&V0();break;case 3:Nf(),Mr(Bs),Mr(ss),W2();break;case 5:q2(n);break;case 4:Nf();break;case 13:Mr(zr);break;case 19:Mr(zr);break;case 10:F2(n.type._context);break;case 22:case 23:tP()}r=r.return}if(An=e,an=e=Wl(e.current,null),Wn=Zs=t,wn=0,Km=null,Q2=ow=Su=0,Rs=um=null,qc!==null){for(t=0;t<qc.length;t++)if(r=qc[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}qc=null}return e}function vB(e,t){do{var r=an;try{if(D2(),y0.current=ex,Z0){for(var n=Vr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Z0=!1}if(_u=0,Nn=gn=Vr=null,lm=!1,Wm=0,X2.current=null,r===null||r.return===null){wn=1,Km=t,an=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=Wn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=O$(i);if(g!==null){g.flags&=-257,$$(g,i,l,a,t),g.mode&1&&T$(a,u,t),t=g,c=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){T$(a,u,t),rP();break e}c=Error(Re(426))}}else if(Lr&&l.mode&1){var v=O$(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),$$(v,i,l,a,t),I2(Cf(c,l));break e}}a=c=Cf(c,l),wn!==4&&(wn=2),um===null?um=[a]:um.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=tB(a,c,t);k$(a,x);break e;case 1:l=c;var w=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(zl===null||!zl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=rB(a,l,t);k$(a,_);break e}}a=a.return}while(a!==null)}wB(r)}catch(S){t=S,an===r&&r!==null&&(an=r=r.return);continue}break}while(!0)}function xB(){var e=tx.current;return tx.current=ex,e===null?ex:e}function rP(){(wn===0||wn===3||wn===2)&&(wn=4),An===null||!(Su&268435455)&&!(ow&268435455)||vl(An,Wn)}function sx(e,t){var r=Gt;Gt|=2;var n=xB();(An!==e||Wn!==t)&&(uo=null,au(e,t));do try{Nte();break}catch(s){vB(e,s)}while(!0);if(D2(),Gt=r,tx.current=n,an!==null)throw Error(Re(261));return An=null,Wn=0,wn}function Nte(){for(;an!==null;)bB(an)}function Cte(){for(;an!==null&&!ZZ();)bB(an)}function bB(e){var t=SB(e.alternate,e,Zs);e.memoizedProps=e.pendingProps,t===null?wB(e):an=t,X2.current=null}function wB(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wte(r,t),r!==null){r.flags&=32767,an=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wn=6,an=null;return}}else if(r=bte(r,t,Zs),r!==null){an=r;return}if(t=t.sibling,t!==null){an=t;return}an=t=e}while(t!==null);wn===0&&(wn=5)}function Tc(e,t,r){var n=pr,s=Aa.transition;try{Aa.transition=null,pr=1,Pte(e,t,r,n)}finally{Aa.transition=s,pr=n}return null}function Pte(e,t,r,n){do Gd();while(Tl!==null);if(Gt&6)throw Error(Re(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Re(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(cee(e,a),e===An&&(an=An=null,Wn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||cv||(cv=!0,jB(F0,function(){return Gd(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Aa.transition,Aa.transition=null;var i=pr;pr=1;var l=Gt;Gt|=4,X2.current=null,Ste(e,r),mB(r,e),Jee(lk),U0=!!ok,lk=ok=null,e.current=r,jte(r),eee(),Gt=l,pr=i,Aa.transition=a}else e.current=r;if(cv&&(cv=!1,Tl=e,nx=s),a=e.pendingLanes,a===0&&(zl=null),nee(r.stateNode),zs(e,Zr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(rx)throw rx=!1,e=Ck,Ck=null,e;return nx&1&&e.tag!==0&&Gd(),a=e.pendingLanes,a&1?e===Pk?dm++:(dm=0,Pk=e):dm=0,dc(),null}function Gd(){if(Tl!==null){var e=t8(nx),t=Aa.transition,r=pr;try{if(Aa.transition=null,pr=16>e?16:e,Tl===null)var n=!1;else{if(e=Tl,Tl=null,nx=0,Gt&6)throw Error(Re(331));var s=Gt;for(Gt|=4,it=e.current;it!==null;){var a=it,i=a.child;if(it.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(it=u;it!==null;){var d=it;switch(d.tag){case 0:case 11:case 15:cm(8,d,a)}var f=d.child;if(f!==null)f.return=d,it=f;else for(;it!==null;){d=it;var h=d.sibling,g=d.return;if(fB(d),d===u){it=null;break}if(h!==null){h.return=g,it=h;break}it=g}}}var y=a.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}it=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,it=i;else e:for(;it!==null;){if(a=it,a.flags&2048)switch(a.tag){case 0:case 11:case 15:cm(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,it=x;break e}it=a.return}}var w=e.current;for(it=w;it!==null;){i=it;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,it=b;else e:for(i=w;it!==null;){if(l=it,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:iw(9,l)}}catch(S){Gr(l,l.return,S)}if(l===i){it=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,it=_;break e}it=l.return}}if(Gt=s,dc(),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(Qb,e)}catch{}n=!0}return n}finally{pr=r,Aa.transition=t}}return!1}function H$(e,t,r){t=Cf(r,t),t=tB(e,t,1),e=Ul(e,t,1),t=js(),e!==null&&(cy(e,1,t),zs(e,t))}function Gr(e,t,r){if(e.tag===3)H$(e,e,r);else for(;t!==null;){if(t.tag===3){H$(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zl===null||!zl.has(n))){e=Cf(r,e),e=rB(t,e,1),t=Ul(t,e,1),e=js(),t!==null&&(cy(t,1,e),zs(t,e));break}}t=t.return}}function Ate(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=js(),e.pingedLanes|=e.suspendedLanes&r,An===e&&(Wn&r)===r&&(wn===4||wn===3&&(Wn&130023424)===Wn&&500>Zr()-Z2?au(e,0):Q2|=r),zs(e,t)}function _B(e,t){t===0&&(e.mode&1?(t=Zy,Zy<<=1,!(Zy&130023424)&&(Zy=4194304)):t=1);var r=js();e=$o(e,t),e!==null&&(cy(e,t,r),zs(e,r))}function Tte(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),_B(e,r)}function Ote(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Re(314))}n!==null&&n.delete(t),_B(e,r)}var SB;SB=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bs.current)Ls=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ls=!1,xte(e,t,r);Ls=!!(e.flags&131072)}else Ls=!1,Lr&&t.flags&1048576&&N8(t,G0,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;x0(e,t),e=t.pendingProps;var s=jf(t,ss.current);Kd(t,r),s=H2(null,t,n,e,s,r);var a=K2();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Us(n)?(a=!0,H0(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,U2(t),s.updater=aw,t.stateNode=s,s._reactInternals=t,yk(t,n,e,r),t=bk(null,t,n,!0,a,r)):(t.tag=0,Lr&&a&&R2(t),ps(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(x0(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Rte(n),e=Ja(n,e),s){case 0:t=xk(null,t,n,e,r);break e;case 1:t=I$(null,t,n,e,r);break e;case 11:t=R$(null,t,n,e,r);break e;case 14:t=M$(null,t,n,Ja(n.type,e),r);break e}throw Error(Re(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ja(n,s),xk(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ja(n,s),I$(e,t,n,s,r);case 3:e:{if(iB(t),e===null)throw Error(Re(387));n=t.pendingProps,a=t.memoizedState,s=a.element,$8(e,t),X0(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Cf(Error(Re(423)),t),t=L$(e,t,n,r,s);break e}else if(n!==s){s=Cf(Error(Re(424)),t),t=L$(e,t,n,r,s);break e}else for(na=Bl(t.stateNode.containerInfo.firstChild),ia=t,Lr=!0,ei=null,r=T8(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(kf(),n===s){t=Ro(e,t,r);break e}ps(e,t,n,r)}t=t.child}return t;case 5:return R8(t),e===null&&pk(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,ck(n,s)?i=null:a!==null&&ck(n,a)&&(t.flags|=32),aB(e,t),ps(e,t,i,r),t.child;case 6:return e===null&&pk(t),null;case 13:return oB(e,t,r);case 4:return z2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ef(t,null,n,r):ps(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ja(n,s),R$(e,t,n,s,r);case 7:return ps(e,t,t.pendingProps,r),t.child;case 8:return ps(e,t,t.pendingProps.children,r),t.child;case 12:return ps(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Nr(J0,n._currentValue),n._currentValue=i,a!==null)if(di(a.value,i)){if(a.children===s.children&&!Bs.current){t=Ro(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ko(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),mk(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(Re(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),mk(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}ps(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Kd(t,r),s=Ia(s),n=n(s),t.flags|=1,ps(e,t,n,r),t.child;case 14:return n=t.type,s=Ja(n,t.pendingProps),s=Ja(n.type,s),M$(e,t,n,s,r);case 15:return nB(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ja(n,s),x0(e,t),t.tag=1,Us(n)?(e=!0,H0(t)):e=!1,Kd(t,r),eB(t,n,s),yk(t,n,s,r),bk(null,t,n,!0,e,r);case 19:return lB(e,t,r);case 22:return sB(e,t,r)}throw Error(Re(156,t.tag))};function jB(e,t){return X6(e,t)}function $te(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ka(e,t,r,n){return new $te(e,t,r,n)}function nP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rte(e){if(typeof e=="function")return nP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_2)return 11;if(e===S2)return 14}return 2}function Wl(e,t){var r=e.alternate;return r===null?(r=ka(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _0(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")nP(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Sd:return iu(r.children,s,a,t);case w2:i=8,s|=8;break;case Uj:return e=ka(12,r,t,s|2),e.elementType=Uj,e.lanes=a,e;case zj:return e=ka(13,r,t,s),e.elementType=zj,e.lanes=a,e;case qj:return e=ka(19,r,t,s),e.elementType=qj,e.lanes=a,e;case R6:return lw(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O6:i=10;break e;case $6:i=9;break e;case _2:i=11;break e;case S2:i=14;break e;case hl:i=16,n=null;break e}throw Error(Re(130,e==null?e:typeof e,""))}return t=ka(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function iu(e,t,r,n){return e=ka(7,e,n,t),e.lanes=r,e}function lw(e,t,r,n){return e=ka(22,e,n,t),e.elementType=R6,e.lanes=r,e.stateNode={isHidden:!1},e}function D_(e,t,r){return e=ka(6,e,null,t),e.lanes=r,e}function F_(e,t,r){return t=ka(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mte(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=x_(0),this.expirationTimes=x_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x_(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sP(e,t,r,n,s,a,i,l,c){return e=new Mte(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ka(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},U2(a),e}function Ite(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_d,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function kB(e){if(!e)return ec;e=e._reactInternals;e:{if(zu(e)!==e||e.tag!==1)throw Error(Re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Us(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Re(171))}if(e.tag===1){var r=e.type;if(Us(r))return k8(e,r,t)}return t}function EB(e,t,r,n,s,a,i,l,c){return e=sP(r,n,!0,e,s,a,i,l,c),e.context=kB(null),r=e.current,n=js(),s=ql(r),a=ko(n,s),a.callback=t??null,Ul(r,a,s),e.current.lanes=s,cy(e,s,n),zs(e,n),e}function cw(e,t,r,n){var s=t.current,a=js(),i=ql(s);return r=kB(r),t.context===null?t.context=r:t.pendingContext=r,t=ko(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ul(s,t,i),e!==null&&(oi(e,s,i,a),g0(e,s,i)),i}function ax(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function K$(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function aP(e,t){K$(e,t),(e=e.alternate)&&K$(e,t)}function Lte(){return null}var NB=typeof reportError=="function"?reportError:function(e){console.error(e)};function iP(e){this._internalRoot=e}uw.prototype.render=iP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Re(409));cw(e,t,null,null)};uw.prototype.unmount=iP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ju(function(){cw(null,e,null,null)}),t[Oo]=null}};function uw(e){this._internalRoot=e}uw.prototype.unstable_scheduleHydration=function(e){if(e){var t=s8();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yl.length&&t!==0&&t<yl[r].priority;r++);yl.splice(r,0,e),r===0&&i8(e)}};function oP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function G$(){}function Dte(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=ax(i);a.call(u)}}var i=EB(t,n,e,0,null,!1,!1,"",G$);return e._reactRootContainer=i,e[Oo]=i.current,Fm(e.nodeType===8?e.parentNode:e),ju(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ax(c);l.call(u)}}var c=sP(e,0,!1,null,null,!1,!1,"",G$);return e._reactRootContainer=c,e[Oo]=c.current,Fm(e.nodeType===8?e.parentNode:e),ju(function(){cw(t,c,r,n)}),c}function fw(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=ax(i);l.call(c)}}cw(t,i,e,s)}else i=Dte(r,t,e,s,n);return ax(i)}r8=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Bp(t.pendingLanes);r!==0&&(E2(t,r|1),zs(t,Zr()),!(Gt&6)&&(Pf=Zr()+500,dc()))}break;case 13:ju(function(){var n=$o(e,1);if(n!==null){var s=js();oi(n,e,1,s)}}),aP(e,1)}};N2=function(e){if(e.tag===13){var t=$o(e,134217728);if(t!==null){var r=js();oi(t,e,134217728,r)}aP(e,134217728)}};n8=function(e){if(e.tag===13){var t=ql(e),r=$o(e,t);if(r!==null){var n=js();oi(r,e,t,n)}aP(e,t)}};s8=function(){return pr};a8=function(e,t){var r=pr;try{return pr=e,t()}finally{pr=r}};Zj=function(e,t,r){switch(t){case"input":if(Hj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=rw(n);if(!s)throw Error(Re(90));I6(n),Hj(n,s)}}}break;case"textarea":D6(e,r);break;case"select":t=r.value,t!=null&&qd(e,!!r.multiple,t,!1)}};V6=eP;H6=ju;var Fte={usingClientEntryPoint:!1,Events:[dy,Nd,rw,q6,W6,eP]},ap={findFiberByHostInstance:zc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bte={bundleType:ap.bundleType,version:ap.version,rendererPackageName:ap.rendererPackageName,rendererConfig:ap.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=J6(e),e===null?null:e.stateNode},findFiberByHostInstance:ap.findFiberByHostInstance||Lte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uv.isDisabled&&uv.supportsFiber)try{Qb=uv.inject(Bte),Di=uv}catch{}}ua.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fte;ua.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oP(t))throw Error(Re(200));return Ite(e,t,null,r)};ua.createRoot=function(e,t){if(!oP(e))throw Error(Re(299));var r=!1,n="",s=NB;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sP(e,1,!1,null,null,r,!1,n,s),e[Oo]=t.current,Fm(e.nodeType===8?e.parentNode:e),new iP(t)};ua.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Re(188)):(e=Object.keys(e).join(","),Error(Re(268,e)));return e=J6(t),e=e===null?null:e.stateNode,e};ua.flushSync=function(e){return ju(e)};ua.hydrate=function(e,t,r){if(!dw(t))throw Error(Re(200));return fw(null,e,t,!0,r)};ua.hydrateRoot=function(e,t,r){if(!oP(e))throw Error(Re(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=NB;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=EB(t,null,e,1,r??null,s,!1,a,i),e[Oo]=t.current,Fm(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new uw(t)};ua.render=function(e,t,r){if(!dw(t))throw Error(Re(200));return fw(null,e,t,!1,r)};ua.unmountComponentAtNode=function(e){if(!dw(e))throw Error(Re(40));return e._reactRootContainer?(ju(function(){fw(null,null,e,!1,function(){e._reactRootContainer=null,e[Oo]=null})}),!0):!1};ua.unstable_batchedUpdates=eP;ua.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!dw(r))throw Error(Re(200));if(e==null||e._reactInternals===void 0)throw Error(Re(38));return fw(e,t,r,!1,n)};ua.version="18.3.1-next-f1338f8080-20240426";function CB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CB)}catch(e){console.error(e)}}CB(),C6.exports=ua;var qu=C6.exports;const hy=wr(qu);var J$=qu;Fj.createRoot=J$.createRoot,Fj.hydrateRoot=J$.hydrateRoot;var ix=["light","dark"],lP="(prefers-color-scheme: dark)",Ute=typeof window>"u",cP=p.createContext(void 0),zte={setTheme:e=>{},themes:[]},qo=()=>{var e;return(e=p.useContext(cP))!=null?e:zte},qte=e=>p.useContext(cP)?e.children:p.createElement(Vte,{...e}),Wte=["light","dark"],Vte=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:a=Wte,defaultTheme:i=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=p.useState(()=>Y$(s,i)),[g,y]=p.useState(()=>Y$(s)),m=c?Object.values(c):a,v=p.useCallback(_=>{let S=_;if(!S)return;_==="system"&&r&&(S=X$());let E=c?c[S]:S,k=t?Kte():null,j=document.documentElement;if(l==="class"?(j.classList.remove(...m),E&&j.classList.add(E)):E?j.setAttribute(l,E):j.removeAttribute(l),n){let N=ix.includes(i)?i:null,C=ix.includes(S)?S:N;j.style.colorScheme=C}k==null||k()},[]),x=p.useCallback(_=>{let S=typeof _=="function"?_(_):_;h(S);try{localStorage.setItem(s,S)}catch{}},[e]),w=p.useCallback(_=>{let S=X$(_);y(S),f==="system"&&r&&!e&&v("system")},[f,e]);p.useEffect(()=>{let _=window.matchMedia(lP);return _.addListener(w),w(_),()=>_.removeListener(w)},[w]),p.useEffect(()=>{let _=S=>{if(S.key!==s)return;let E=S.newValue||i;x(E)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[x]),p.useEffect(()=>{v(e??f)},[e,f]);let b=p.useMemo(()=>({theme:f,setTheme:x,forcedTheme:e,resolvedTheme:f==="system"?g:f,themes:r?[...a,"system"]:a,systemTheme:r?g:void 0}),[f,x,e,g,r,a]);return p.createElement(cP.Provider,{value:b},p.createElement(Hte,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:s,themes:a,defaultTheme:i,attribute:l,value:c,children:u,attrs:m,nonce:d}),u)},Hte=p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?ix.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,m=!1,v=!0)=>{let x=i?i[y]:y,w=m?y+"|| ''":`'${x}'`,b="";return s&&v&&!m&&ix.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?m||x?b+=`c.add(${w})`:b+="null":x&&(b+=`d[s](n,${w})`),b},g=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${lP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})}),Y$=(e,t)=>{if(Ute)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Kte=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},X$=e=>(e||(e=window.matchMedia(lP)),e.matches?"dark":"light"),ve=typeof window<"u"?window:void 0,zn=typeof globalThis<"u"?globalThis:ve;typeof self>"u"&&(zn.self=zn),typeof File>"u"&&(zn.File=function(){});var PB=Array.prototype,Q$=PB.forEach,Z$=PB.indexOf,sa=zn==null?void 0:zn.navigator,Qe=zn==null?void 0:zn.document,Ms=zn==null?void 0:zn.location,Ok=zn==null?void 0:zn.fetch,$k=zn!=null&&zn.XMLHttpRequest&&"withCredentials"in new zn.XMLHttpRequest?zn.XMLHttpRequest:void 0,eR=zn==null?void 0:zn.AbortController,Os=sa==null?void 0:sa.userAgent,jt=ve??{},fo={DEBUG:!1,LIB_VERSION:"1.307.2"};function tR(e,t,r,n,s,a,i){try{var l=e[a](i),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,s)}function rR(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var a=e.apply(t,r);function i(c){tR(a,n,s,i,l,"next",c)}function l(c){tR(a,n,s,i,l,"throw",c)}i(void 0)})}}function ot(){return ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ot.apply(null,arguments)}function AB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Gte=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],nR=function(e,t){if(t===void 0&&(t=[]),!e)return!1;var r=e.toLowerCase();return Gte.concat(t).some(n=>{var s=n.toLowerCase();return r.indexOf(s)!==-1})},Jte=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function Bt(e,t){return e.indexOf(t)!==-1}var hw=function(e){return e.trim()},Rk=function(e){return e.replace(/^\$/,"")},Yte=Array.isArray,TB=Object.prototype,OB=TB.hasOwnProperty,pw=TB.toString,lr=Yte||function(e){return pw.call(e)==="[object Array]"},Vl=e=>typeof e=="function",Cn=e=>e===Object(e)&&!lr(e),Rd=e=>{if(Cn(e)){for(var t in e)if(OB.call(e,t))return!1;return!0}return!1},Je=e=>e===void 0,bn=e=>pw.call(e)=="[object String]",Mk=e=>bn(e)&&e.trim().length===0,gi=e=>e===null,rr=e=>Je(e)||gi(e),Hi=e=>pw.call(e)=="[object Number]",Eo=e=>pw.call(e)==="[object Boolean]",Xte=e=>e instanceof FormData,Qte=e=>Bt(Jte,e);function Ik(e){return e===null||typeof e!="object"}function ox(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function $B(e){return!Je(Event)&&function(t,r){try{return t instanceof r}catch{return!1}}(e,Event)}var Zte=[!0,"true",1,"1","yes"],B_=e=>Bt(Zte,e),ere=[!1,"false",0,"0","no"];function Ri(e,t,r,n,s){return t>r&&(n.warn("min cannot be greater than max."),t=r),Hi(e)?e>r?(n.warn(" cannot be  greater than max: "+r+". Using max value instead."),r):e<t?(n.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(n.warn(" must be a number. using max or fallback. max: "+r+", fallback: "+s),Ri(s||r,t,r,n))}class tre{constructor(t){this.t={},this.i=t.i,this.o=Ri(t.bucketSize,0,100,t.h),this.m=Ri(t.refillRate,0,this.o,t.h),this.S=Ri(t.refillInterval,0,864e5,t.h)}$(t,r){var n=r-t.lastAccess,s=Math.floor(n/this.S);if(s>0){var a=s*this.m;t.tokens=Math.min(t.tokens+a,this.o),t.lastAccess=t.lastAccess+s*this.S}}consumeRateLimit(t){var r,n=Date.now(),s=String(t),a=this.t[s];return a?this.$(a,n):(a={tokens:this.o,lastAccess:n},this.t[s]=a),a.tokens===0||(a.tokens--,a.tokens===0&&((r=this.i)==null||r.call(this,t)),a.tokens===0)}stop(){this.t={}}}var dv,sR,U_,rre=e=>e instanceof Error;function nre(e){var t=globalThis._posthogChunkIds;if(t){var r=Object.keys(t);return U_&&r.length===sR||(sR=r.length,U_=r.reduce((n,s)=>{dv||(dv={});var a=dv[s];if(a)n[a[0]]=a[1];else for(var i=e(s),l=i.length-1;l>=0;l--){var c=i[l],u=c==null?void 0:c.filename,d=t[s];if(u&&d){n[u]=d,dv[s]=[u,d];break}}return n},{})),U_}}class sre{constructor(t,r,n){n===void 0&&(n=[]),this.coercers=t,this.stackParser=r,this.modifiers=n}buildFromUnknown(t,r){r===void 0&&(r={});var n=r&&r.mechanism||{handled:!0,type:"generic"},s=this.buildCoercingContext(n,r,0).apply(t),a=this.buildParsingContext(),i=this.parseStacktrace(s,a);return{$exception_list:this.convertToExceptionList(i,n),$exception_level:"error"}}modifyFrames(t){var r=this;return rR(function*(){for(var n of t)n.stacktrace&&n.stacktrace.frames&&lr(n.stacktrace.frames)&&(n.stacktrace.frames=yield r.applyModifiers(n.stacktrace.frames));return t})()}coerceFallback(t){var r;return{type:"Error",value:"Unknown error",stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}}parseStacktrace(t,r){var n,s;return t.cause!=null&&(n=this.parseStacktrace(t.cause,r)),t.stack!=""&&t.stack!=null&&(s=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),r.chunkIdMap)),ot({},t,{cause:n,stack:s})}applyChunkIds(t,r){return t.map(n=>(n.filename&&r&&(n.chunk_id=r[n.filename]),n))}applyCoercers(t,r){for(var n of this.coercers)if(n.match(t))return n.coerce(t,r);return this.coerceFallback(r)}applyModifiers(t){var r=this;return rR(function*(){var n=t;for(var s of r.modifiers)n=yield s(n);return n})()}convertToExceptionList(t,r){var n,s,a,i={type:t.type,value:t.value,mechanism:{type:(n=r.type)!==null&&n!==void 0?n:"generic",handled:(s=r.handled)===null||s===void 0||s,synthetic:(a=t.synthetic)!==null&&a!==void 0&&a}};t.stack&&(i.stacktrace={type:"raw",frames:t.stack});var l=[i];return t.cause!=null&&l.push(...this.convertToExceptionList(t.cause,ot({},r,{handled:!0}))),l}buildParsingContext(){return{chunkIdMap:nre(this.stackParser)}}buildCoercingContext(t,r,n){n===void 0&&(n=0);var s=(a,i)=>{if(i<=4){var l=this.buildCoercingContext(t,r,i);return this.applyCoercers(a,l)}};return ot({},r,{syntheticException:n==0?r.syntheticException:void 0,mechanism:t,apply:a=>s(a,n),next:a=>s(a,n+1)})}}var Af="?";function Lk(e,t,r,n,s){var a={platform:e,filename:t,function:r==="<anonymous>"?Af:r,in_app:!0};return Je(n)||(a.lineno=n),Je(s)||(a.colno=s),a}var RB=(e,t)=>{var r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:Af,r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},are=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,ire=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ore=/\((\S*)(?::(\d+))(?::(\d+))\)/,lre=(e,t)=>{var r=are.exec(e);if(r){var[,n,s,a]=r;return Lk(t,n,Af,+s,+a)}var i=ire.exec(e);if(i){if(i[2]&&i[2].indexOf("eval")===0){var l=ore.exec(i[2]);l&&(i[2]=l[1],i[3]=l[2],i[4]=l[3])}var[c,u]=RB(i[1]||Af,i[2]);return Lk(t,u,c,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}},cre=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ure=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,dre=(e,t)=>{var r=cre.exec(e);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){var n=ure.exec(r[3]);n&&(r[1]=r[1]||"eval",r[3]=n[1],r[4]=n[2],r[5]="")}var s=r[3],a=r[1]||Af;return[a,s]=RB(a,s),Lk(t,s,a,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}},aR=/\(error: (.*)\)/,iR=50;function fre(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(s,a){a===void 0&&(a=0);for(var i=[],l=s.split(`
`),c=a;c<l.length;c++){var u=l[c];if(!(u.length>1024)){var d=aR.test(u)?u.replace(aR,"$1"):u;if(!d.match(/\S*Error: /)){for(var f of r){var h=f(d,e);if(h){i.push(h);break}}if(i.length>=iR)break}}}return function(g){if(!g.length)return[];var y=Array.from(g);return y.reverse(),y.slice(0,iR).map(m=>{return ot({},m,{filename:m.filename||(v=y,v[v.length-1]||{}).filename,function:m.function||Af});var v})}(i)}}class hre{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,r){var n=bn(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:n?t.stack:void 0,cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?"DOMError":"DOMException"}getValue(t){var r=t.name||(this.isDOMError(t)?"DOMError":"DOMException");return t.message?r+": "+t.message:r}isDOMException(t){return ox(t,"DOMException")}isDOMError(t){return ox(t,"DOMError")}}class pre{match(t){return(r=>r instanceof Error)(t)}coerce(t,r){return{type:this.getType(t),value:this.getMessage(t,r),stack:this.getStack(t),cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,r){var n=t.message;return n.error&&typeof n.error.message=="string"?String(n.error.message):String(n)}getStack(t){return t.stacktrace||t.stack||void 0}}let mre=class{constructor(){}match(t){return ox(t,"ErrorEvent")&&t.error!=null}coerce(t,r){var n,s=r.apply(t.error);return s||{type:"ErrorEvent",value:t.message,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}};var gre=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class yre{match(t){return typeof t=="string"}coerce(t,r){var n,[s,a]=this.getInfos(t);return{type:s??"Error",value:a??t,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}getInfos(t){var r="Error",n=t,s=t.match(gre);return s&&(r=s[1],n=s[2]),[r,n]}}var vre=["fatal","error","warning","log","info","debug"];function MB(e,t){t===void 0&&(t=40);var r=Object.keys(e);if(r.sort(),!r.length)return"[object has no keys]";for(var n=r.length;n>0;n--){var s=r.slice(0,n).join(", ");if(!(s.length>t))return n===r.length||s.length<=t?s:s.slice(0,t)+"..."}return""}class xre{match(t){return typeof t=="object"&&t!==null}coerce(t,r){var n,s=this.getErrorPropertyFromObject(t);return s?r.apply(s):{type:this.getType(t),value:this.getValue(t),stack:(n=r.syntheticException)==null?void 0:n.stack,level:this.isSeverityLevel(t.level)?t.level:"error",synthetic:!0}}getType(t){return $B(t)?t.constructor.name:"Error"}getValue(t){if("name"in t&&typeof t.name=="string"){var r="'"+t.name+"' captured as exception";return"message"in t&&typeof t.message=="string"&&(r+=" with message: '"+t.message+"'"),r}if("message"in t&&typeof t.message=="string")return t.message;var n=this.getObjectClassName(t);return(n&&n!=="Object"?"'"+n+"'":"Object")+" captured as exception with keys: "+MB(t)}isSeverityLevel(t){return bn(t)&&!Mk(t)&&vre.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];if(rre(n))return n}}getObjectClassName(t){try{var r=Object.getPrototypeOf(t);return r?r.constructor.name:void 0}catch{return}}}class bre{match(t){return $B(t)}coerce(t,r){var n,s=t.constructor.name;return{type:s,value:s+" captured as exception with keys: "+MB(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class wre{match(t){return Ik(t)}coerce(t,r){var n;return{type:"Error",value:"Primitive value captured as exception: "+String(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}let _re=class{match(t){return ox(t,"PromiseRejectionEvent")}coerce(t,r){var n,s=this.getUnhandledRejectionReason(t);return Ik(s)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(s),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}:r.apply(s)}getUnhandledRejectionReason(t){if(Ik(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}};var IB=function(e,t){var{debugEnabled:r}=t===void 0?{}:t,n={k:function(s){if(ve&&(fo.DEBUG||jt.POSTHOG_DEBUG||r)&&!Je(ve.console)&&ve.console){for(var a=("__rrweb_original__"in ve.console[s])?ve.console[s].__rrweb_original__:ve.console[s],i=arguments.length,l=new Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];a(e,...l)}},info:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];n.k("log",...a)},warn:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];n.k("warn",...a)},error:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];n.k("error",...a)},critical:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];console.error(e,...a)},uninitializedWarning:s=>{n.error("You must initialize PostHog before calling "+s)},createLogger:(s,a)=>IB(e+" "+s,a)};return n},Ze=IB("[PostHog.js]"),rn=Ze.createLogger,Sre=rn("[ExternalScriptsLoader]"),oR=(e,t,r)=>{if(e.config.disable_external_dependency_loading)return Sre.warn(t+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var n=Qe==null?void 0:Qe.querySelectorAll("script");if(n){for(var s,a=function(){if(n[i].src===t){var c=n[i];return c.__posthog_loading_callback_fired?{v:r()}:(c.addEventListener("load",u=>{c.__posthog_loading_callback_fired=!0,r(void 0,u)}),c.onerror=u=>r(u),{v:void 0})}},i=0;i<n.length;i++)if(s=a())return s.v}var l=()=>{if(!Qe)return r("document not found");var c=Qe.createElement("script");if(c.type="text/javascript",c.crossOrigin="anonymous",c.src=t,c.onload=f=>{c.__posthog_loading_callback_fired=!0,r(void 0,f)},c.onerror=f=>r(f),e.config.prepare_external_dependency_script&&(c=e.config.prepare_external_dependency_script(c)),!c)return r("prepare_external_dependency_script returned null");var u,d=Qe.querySelectorAll("body > script");d.length>0?(u=d[0].parentNode)==null||u.insertBefore(c,d[0]):Qe.body.appendChild(c)};Qe!=null&&Qe.body?l():Qe==null||Qe.addEventListener("DOMContentLoaded",l)};jt.__PosthogExtensions__=jt.__PosthogExtensions__||{},jt.__PosthogExtensions__.loadExternalDependency=(e,t,r)=>{var n="/static/"+t+".js?v="+e.version;if(t==="remote-config"&&(n="/array/"+e.config.token+"/config.js"),t==="toolbar"){var s=3e5;n=n+"&t="+Math.floor(Date.now()/s)*s}var a=e.requestRouter.endpointFor("assets",n);oR(e,a,r)},jt.__PosthogExtensions__.loadSiteApp=(e,t,r)=>{var n=e.requestRouter.endpointFor("api",t);oR(e,n,r)};var lx={};function Hl(e,t,r){if(lr(e)){if(Q$&&e.forEach===Q$)e.forEach(t,r);else if("length"in e&&e.length===+e.length){for(var n=0,s=e.length;n<s;n++)if(n in e&&t.call(r,e[n],n)===lx)return}}}function Er(e,t,r){if(!rr(e)){if(lr(e))return Hl(e,t,r);if(Xte(e)){for(var n of e.entries())if(t.call(r,n[1],n[0])===lx)return}else for(var s in e)if(OB.call(e,s)&&t.call(r,e[s],s)===lx)return}}var Qr=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Hl(r,function(s){for(var a in s)s[a]!==void 0&&(e[a]=s[a])}),e},ph=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Hl(r,function(s){Hl(s,function(a){e.push(a)})}),e};function S0(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n}var lR=function(e){try{return e()}catch{return}},jre=function(e){return function(){try{for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)}catch(s){Ze.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),Ze.critical(s)}}},uP=function(e){var t={};return Er(e,function(r,n){(bn(r)&&r.length>0||Hi(r))&&(t[n]=r)}),t};function kre(e,t){return r=e,n=a=>bn(a)&&!gi(t)?a.slice(0,t):a,s=new Set,function a(i,l){return i!==Object(i)?n?n(i,l):i:s.has(i)?void 0:(s.add(i),lr(i)?(c=[],Hl(i,u=>{c.push(a(u))})):(c={},Er(i,(u,d)=>{s.has(u)||(c[d]=a(u,d))})),c);var c}(r);var r,n,s}var Ere=["herokuapp.com","vercel.app","netlify.app"];function Nre(e){var t=e==null?void 0:e.hostname;if(!bn(t))return!1;var r=t.split(".").slice(-2).join(".");for(var n of Ere)if(r===n)return!1;return!0}function LB(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function on(e,t,r,n){var{capture:s=!1,passive:a=!0}=n??{};e==null||e.addEventListener(t,r,{capture:s,passive:a})}var DB="$people_distinct_id",zp="__alias",qp="__timers",cR="$autocapture_disabled_server_side",Dk="$heatmaps_enabled_server_side",uR="$exception_capture_enabled_server_side",Fk="$error_tracking_suppression_rules",dR="$error_tracking_capture_extension_exceptions",fR="$web_vitals_enabled_server_side",FB="$dead_clicks_enabled_server_side",hR="$web_vitals_allowed_metrics",z_="$session_recording_remote_config",cx="$sesid",BB="$session_is_sampled",Md="$enabled_feature_flags",Wp="$early_access_features",Bk="$feature_flag_details",Vp="$stored_person_properties",Oc="$stored_group_properties",Uk="$surveys",fv="$surveys_activated",ux="$flag_call_reported",ho="$user_state",zk="$client_session_props",qk="$capture_rate_limit",Wk="$initial_campaign_params",Vk="$initial_referrer_info",dx="$initial_person_info",fx="$epp",UB="__POSTHOG_TOOLBAR__",ip="$posthog_cookieless",Cre=[DB,zp,"__cmpns",qp,"$session_recording_enabled_server_side",Dk,cx,Md,Fk,ho,Wp,Bk,Oc,Vp,Uk,ux,zk,qk,Wk,Vk,fx,dx,"$conversations_widget_session_id","$conversations_ticket_id","$conversations_widget_state","$conversations_user_traits"];function pR(e){return e instanceof Element&&(e.id===UB||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function mw(e){return!!e&&e.nodeType===1}function Kl(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function zB(e){return!!e&&e.nodeType===3}function qB(e){return!!e&&e.nodeType===11}function dP(e){return e?hw(e).split(/\s+/):[]}function mR(e){var t=ve==null?void 0:ve.location.href;return!!(t&&e&&e.some(r=>t.match(r)))}function hx(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return dP(t)}function WB(e){return rr(e)?null:hw(e).split(/(\s+)/).filter(t=>Gm(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function py(e){var t="";return Hk(e)&&!JB(e)&&e.childNodes&&e.childNodes.length&&Er(e.childNodes,function(r){var n;zB(r)&&r.textContent&&(t+=(n=WB(r.textContent))!==null&&n!==void 0?n:"")}),hw(t)}function VB(e){return Je(e.target)?e.srcElement||null:(t=e.target)!=null&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var fP=["a","button","form","input","select","textarea","label"];function HB(e,t){if(Je(t))return!0;var r,n=function(a){if(t.some(i=>a.matches(i)))return{v:!0}};for(var s of e)if(r=n(s))return r.v;return!1}function KB(e){var t=e.parentNode;return!(!t||!mw(t))&&t}var Pre=["next","previous","prev",">","<"],gR=10,yR=[".ph-no-rageclick",".ph-no-capture"];function Are(e,t){if(!ve||hP(e))return!1;var r,n,s;if(Eo(t)?(r=!!t&&yR,n=void 0):(r=(s=t==null?void 0:t.css_selector_ignorelist)!==null&&s!==void 0?s:yR,n=t==null?void 0:t.content_ignorelist),r===!1)return!1;var{targetElementList:a}=GB(e,!1);return!function(i,l){if(i===!1||Je(i))return!1;var c;if(i===!0)c=Pre;else{if(!lr(i))return!1;if(i.length>gR)return Ze.error("[PostHog] content_ignorelist array cannot exceed "+gR+" items. Use css_selector_ignorelist for more complex matching."),!1;c=i.map(u=>u.toLowerCase())}return l.some(u=>{var{safeText:d,ariaLabel:f}=u;return c.some(h=>d.includes(h)||f.includes(h))})}(n,a.map(i=>{var l;return{safeText:py(i).toLowerCase(),ariaLabel:((l=i.getAttribute("aria-label"))==null?void 0:l.toLowerCase().trim())||""}}))&&!HB(a,r)}var hP=e=>!e||Kl(e,"html")||!mw(e),GB=(e,t)=>{if(!ve||hP(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,n=[e],s=e;s.parentNode&&!Kl(s,"body");)if(qB(s.parentNode))n.push(s.parentNode.host),s=s.parentNode.host;else{var a=KB(s);if(!a)break;if(t||fP.indexOf(a.tagName.toLowerCase())>-1)r=!0;else{var i=ve.getComputedStyle(a);i&&i.getPropertyValue("cursor")==="pointer"&&(r=!0)}n.push(a),s=a}return{parentIsUsefulElement:r,targetElementList:n}};function Tre(e,t,r,n,s){var a,i,l,c;if(r===void 0&&(r=void 0),!ve||hP(e)||(a=r)!=null&&a.url_allowlist&&!mR(r.url_allowlist)||(i=r)!=null&&i.url_ignorelist&&mR(r.url_ignorelist))return!1;if((l=r)!=null&&l.dom_event_allowlist){var u=r.dom_event_allowlist;if(u&&!u.some(y=>t.type===y))return!1}var{parentIsUsefulElement:d,targetElementList:f}=GB(e,n);if(!function(y,m){var v=m==null?void 0:m.element_allowlist;if(Je(v))return!0;var x,w=function(_){if(v.some(S=>_.tagName.toLowerCase()===S))return{v:!0}};for(var b of y)if(x=w(b))return x.v;return!1}(f,r)||!HB(f,(c=r)==null?void 0:c.css_selector_allowlist))return!1;var h=ve.getComputedStyle(e);if(h&&h.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(s||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(s||["change","click"]).indexOf(t.type)>=0;default:return d?(s||["click"]).indexOf(t.type)>=0:(s||["click"]).indexOf(t.type)>=0&&(fP.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function Hk(e){for(var t=e;t.parentNode&&!Kl(t,"body");t=t.parentNode){var r=hx(t);if(Bt(r,"ph-sensitive")||Bt(r,"ph-no-capture"))return!1}if(Bt(hx(e),"ph-include"))return!0;var n=e.type||"";if(bn(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var s=e.name||e.id||"";return!(bn(s)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,"")))}function JB(e){return!!(Kl(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Kl(e,"select")||Kl(e,"textarea")||e.getAttribute("contenteditable")==="true")}var YB="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",Ore=new RegExp("^(?:"+YB+")$"),$re=new RegExp(YB),XB="\\d{3}-?\\d{2}-?\\d{4}",Rre=new RegExp("^("+XB+")$"),Mre=new RegExp("("+XB+")");function Gm(e,t){return t===void 0&&(t=!0),!(rr(e)||bn(e)&&(e=hw(e),(t?Ore:$re).test((e||"").replace(/[- ]/g,""))||(t?Rre:Mre).test(e)))}function QB(e){var t=py(e);return Gm(t=(t+" "+ZB(e)).trim())?t:""}function ZB(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Er(e.childNodes,function(r){var n;if(r&&((n=r.tagName)==null?void 0:n.toLowerCase())==="span")try{var s=py(r);t=(t+" "+s).trim(),r.childNodes&&r.childNodes.length&&(t=(t+" "+ZB(r)).trim())}catch(a){Ze.error("[AutoCapture]",a)}}),t}function Ire(e){return function(t){var r=t.map(n=>{var s,a,i="";if(n.tag_name&&(i+=n.tag_name),n.attr_class)for(var l of(n.attr_class.sort(),n.attr_class))i+="."+l.replace(/"/g,"");var c=ot({},n.text?{text:n.text}:{},{"nth-child":(s=n.nth_child)!==null&&s!==void 0?s:0,"nth-of-type":(a=n.nth_of_type)!==null&&a!==void 0?a:0},n.href?{href:n.href}:{},n.attr_id?{attr_id:n.attr_id}:{},n.attributes),u={};return S0(c).sort((d,f)=>{var[h]=d,[g]=f;return h.localeCompare(g)}).forEach(d=>{var[f,h]=d;return u[vR(f.toString())]=vR(h.toString())}),i+=":",i+=S0(u).map(d=>{var[f,h]=d;return f+'="'+h+'"'}).join("")});return r.join(";")}(function(t){return t.map(r=>{var n,s,a={text:(n=r.$el_text)==null?void 0:n.slice(0,400),tag_name:r.tag_name,href:(s=r.attr__href)==null?void 0:s.slice(0,2048),attr_class:Lre(r),attr_id:r.attr__id,nth_child:r.nth_child,nth_of_type:r.nth_of_type,attributes:{}};return S0(r).filter(i=>{var[l]=i;return l.indexOf("attr__")===0}).forEach(i=>{var[l,c]=i;return a.attributes[l]=c}),a})}(e))}function vR(e){return e.replace(/"|\\"/g,'\\"')}function Lre(e){var t=e.attr__class;return t?lr(t)?t:dP(t):void 0}let eU=class{constructor(t){this.disabled=t===!1;var r=Cn(t)?t:{};this.thresholdPx=r.threshold_px||30,this.timeoutMs=r.timeout_ms||1e3,this.clickCount=r.click_count||3,this.clicks=[]}isRageClick(t,r,n){if(this.disabled)return!1;var s=this.clicks[this.clicks.length-1];if(s&&Math.abs(t-s.x)+Math.abs(r-s.y)<this.thresholdPx&&n-s.timestamp<this.timeoutMs){if(this.clicks.push({x:t,y:r,timestamp:n}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:t,y:r,timestamp:n}];return!1}};var q_="$copy_autocapture",vo=function(e){return e.GZipJS="gzip-js",e.Base64="base64",e}({}),px=e=>{var t=Qe==null?void 0:Qe.createElement("a");return Je(t)?null:(t.href=e,t)},Dre=function(e,t){var r,n;t===void 0&&(t="&");var s=[];return Er(e,function(a,i){Je(a)||Je(i)||i==="undefined"||(r=encodeURIComponent((l=>l instanceof File)(a)?a.name:a.toString()),n=encodeURIComponent(i),s[s.length]=n+"="+r)}),s.join(t)},mx=function(e,t){for(var r,n=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),s=0;s<n.length;s++){var a=n[s].split("=");if(a[0]===t){r=a;break}}if(!lr(r)||r.length<2)return"";var i=r[1];try{i=decodeURIComponent(i)}catch{Ze.error("Skipping decoding for malformed query param: "+i)}return i.replace(/\+/g," ")},my=function(e,t,r){if(!e||!t||!t.length)return e;for(var n=e.split("#"),s=n[0]||"",a=n[1],i=s.split("?"),l=i[1],c=i[0],u=(l||"").split("&"),d=[],f=0;f<u.length;f++){var h=u[f].split("=");lr(h)&&(t.includes(h[0])?d.push(h[0]+"="+r):d.push(u[f]))}var g=c;return l!=null&&(g+="?"+d.join("&")),a!=null&&(g+="#"+a),g},gx=function(e,t){var r=e.match(new RegExp(t+"=([^&]*)"));return r?r[1]:null},xR=rn("[AutoCapture]");function W_(e,t){return t.length>e?t.slice(0,e)+"...":t}function Fre(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!mw(t));return t}function Bre(e,t,r,n){var s=e.tagName.toLowerCase(),a={tag_name:s};fP.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?a.$el_text=W_(1024,QB(e)):a.$el_text=W_(1024,py(e)));var i=hx(e);i.length>0&&(a.classes=i.filter(function(d){return d!==""})),Er(e.attributes,function(d){var f;if((!JB(e)||["name","id","class","aria-label"].indexOf(d.name)!==-1)&&(n==null||!n.includes(d.name))&&!t&&Gm(d.value)&&(f=d.name,!bn(f)||f.substring(0,10)!=="_ngcontent"&&f.substring(0,7)!=="_nghost")){var h=d.value;d.name==="class"&&(h=dP(h).join(" ")),a["attr__"+d.name]=W_(1024,h)}});for(var l=1,c=1,u=e;u=Fre(u);)l++,u.tagName===e.tagName&&c++;return a.nth_child=l,a.nth_of_type=c,a}function Ure(e,t){for(var r,n,{e:s,maskAllElementAttributes:a,maskAllText:i,elementAttributeIgnoreList:l,elementsChainAsString:c}=t,u=[e],d=e;d.parentNode&&!Kl(d,"body");)qB(d.parentNode)?(u.push(d.parentNode.host),d=d.parentNode.host):(u.push(d.parentNode),d=d.parentNode);var f,h=[],g={},y=!1,m=!1;if(Er(u,_=>{var S=Hk(_);_.tagName.toLowerCase()==="a"&&(y=_.getAttribute("href"),y=S&&y&&Gm(y)&&y),Bt(hx(_),"ph-no-capture")&&(m=!0),h.push(Bre(_,a,i,l));var E=function(k){if(!Hk(k))return{};var j={};return Er(k.attributes,function(N){if(N.name&&N.name.indexOf("data-ph-capture-attribute")===0){var C=N.name.replace("data-ph-capture-attribute-",""),P=N.value;C&&P&&Gm(P)&&(j[C]=P)}}),j}(_);Qr(g,E)}),m)return{props:{},explicitNoCapture:m};if(i||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?h[0].$el_text=QB(e):h[0].$el_text=py(e)),y){var v,x;h[0].attr__href=y;var w=(v=px(y))==null?void 0:v.host,b=ve==null||(x=ve.location)==null?void 0:x.host;w&&b&&w!==b&&(f=y)}return{props:Qr({$event_type:s.type,$ce_version:1},c?{}:{$elements:h},{$elements_chain:Ire(h)},(r=h[0])!=null&&r.$el_text?{$el_text:(n=h[0])==null?void 0:n.$el_text}:{},f&&s.type==="click"?{$external_click_url:f}:{},g)}}class zre{constructor(t){this.P=!1,this.T=null,this.C=!1,this.instance=t,this.rageclicks=new eU(t.config.rageclick),this.R=null}get I(){var t,r,n=Cn(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)==null?void 0:t.map(s=>new RegExp(s)),n.url_ignorelist=(r=n.url_ignorelist)==null?void 0:r.map(s=>new RegExp(s)),n}F(){if(this.isBrowserSupported()){if(ve&&Qe){var t=n=>{n=n||(ve==null?void 0:ve.event);try{this.M(n)}catch(s){xR.error("Failed to capture event",s)}};if(on(Qe,"submit",t,{capture:!0}),on(Qe,"change",t,{capture:!0}),on(Qe,"click",t,{capture:!0}),this.I.capture_copied_text){var r=n=>{n=n||(ve==null?void 0:ve.event),this.M(n,q_)};on(Qe,"copy",r,{capture:!0}),on(Qe,"cut",r,{capture:!0})}}}else xR.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.F(),this.P=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.C=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[cR]:!!t.autocapture_opt_out}),this.T=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.R=t}getElementSelectors(t){var r,n=[];return(r=this.R)==null||r.forEach(s=>{var a=Qe==null?void 0:Qe.querySelectorAll(s);a==null||a.forEach(i=>{t===i&&n.push(s)})}),n}get isEnabled(){var t,r,n=(t=this.instance.persistence)==null?void 0:t.props[cR],s=this.T;if(gi(s)&&!Eo(n)&&!this.instance.O())return!1;var a=(r=this.T)!==null&&r!==void 0?r:!!n;return!!this.instance.config.autocapture&&!a}M(t,r){if(r===void 0&&(r="$autocapture"),this.isEnabled){var n,s=VB(t);zB(s)&&(s=s.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,t.timeStamp||new Date().getTime())&&Are(s,this.instance.config.rageclick)&&this.M(t,"$rageclick");var a=r===q_;if(s&&Tre(s,t,this.I,a,a?["copy","cut"]:void 0)){var{props:i,explicitNoCapture:l}=Ure(s,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.I.element_attribute_ignorelist,elementsChainAsString:this.C});if(l)return!1;var c=this.getElementSelectors(s);if(c&&c.length>0&&(i.$element_selectors=c),r===q_){var u,d=WB(ve==null||(u=ve.getSelection())==null?void 0:u.toString()),f=t.type||"clipboard";if(!d)return!1;i.$selected_content=d,i.$copy_type=f}return this.instance.capture(r,i),!0}}}isBrowserSupported(){return Vl(Qe==null?void 0:Qe.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Hi(e)&&isFinite(e)&&Math.floor(e)===e});var bR="0123456789abcdef";class yx{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,r,n,s){if(!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(s)||t<0||r<0||n<0||s<0||t>0xffffffffffff||r>4095||n>1073741823||s>4294967295)throw new RangeError("invalid field value");var a=new Uint8Array(16);return a[0]=t/Math.pow(2,40),a[1]=t/Math.pow(2,32),a[2]=t/Math.pow(2,24),a[3]=t/Math.pow(2,16),a[4]=t/Math.pow(2,8),a[5]=t,a[6]=112|r>>>8,a[7]=r,a[8]=128|n>>>24,a[9]=n>>>16,a[10]=n>>>8,a[11]=n,a[12]=s>>>24,a[13]=s>>>16,a[14]=s>>>8,a[15]=s,new yx(a)}toString(){for(var t="",r=0;r<this.bytes.length;r++)t=t+bR.charAt(this.bytes[r]>>>4)+bR.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new yx(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var r=0;r<16;r++){var n=this.bytes[r]-t.bytes[r];if(n!==0)return Math.sign(n)}return 0}}class qre{constructor(){this.A=0,this.D=0,this.j=new Wre}generate(){var t=this.generateOrAbort();if(Je(t)){this.A=0;var r=this.generateOrAbort();if(Je(r))throw new Error("Could not generate UUID after timestamp reset");return r}return t}generateOrAbort(){var t=Date.now();if(t>this.A)this.A=t,this.L();else{if(!(t+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return yx.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var wR,tU=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};ve&&!Je(ve.crypto)&&crypto.getRandomValues&&(tU=e=>crypto.getRandomValues(e));class Wre{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(tU(this.N),this.U=0),this.N[this.U++]}}var Ol=()=>Vre().toString(),Vre=()=>(wR||(wR=new qre)).generate(),op="",Hre=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function Kre(e,t){if(t){var r=function(s,a){if(a===void 0&&(a=Qe),op)return op;if(!a||["localhost","127.0.0.1"].includes(s))return"";for(var i=s.split("."),l=Math.min(i.length,8),c="dmn_chk_"+Ol();!op&&l--;){var u=i.slice(l).join("."),d=c+"=1;domain=."+u+";path=/";a.cookie=d+";max-age=3",a.cookie.includes(c)&&(a.cookie=d+";max-age=0",op=u)}return op}(e);if(!r){var n=(s=>{var a=s.match(Hre);return a?a[0]:""})(e);n!==r&&Ze.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var Bi={H:()=>!!Qe,B:function(e){Ze.error("cookieStore error: "+e)},q:function(e){if(Qe){try{for(var t=e+"=",r=Qe.cookie.split(";").filter(a=>a.length),n=0;n<r.length;n++){for(var s=r[n];s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return decodeURIComponent(s.substring(t.length,s.length))}}catch{}return null}},W:function(e){var t;try{t=JSON.parse(Bi.q(e))||{}}catch{}return t},G:function(e,t,r,n,s){if(Qe)try{var a="",i="",l=Kre(Qe.location.hostname,n);if(r){var c=new Date;c.setTime(c.getTime()+24*r*60*60*1e3),a="; expires="+c.toUTCString()}s&&(i="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+a+"; SameSite=Lax; path=/"+l+i;return u.length>3686.4&&Ze.warn("cookieStore warning: large cookie, len="+u.length),Qe.cookie=u,u}catch{return}},V:function(e,t){if(Qe!=null&&Qe.cookie)try{Bi.G(e,"",-1,t)}catch{return}}},V_=null,qr={H:function(){if(!gi(V_))return V_;var e=!0;if(Je(ve))e=!1;else try{var t="__mplssupport__";qr.G(t,"xyz"),qr.q(t)!=='"xyz"'&&(e=!1),qr.V(t)}catch{e=!1}return e||Ze.error("localStorage unsupported; falling back to cookie store"),V_=e,e},B:function(e){Ze.error("localStorage error: "+e)},q:function(e){try{return ve==null?void 0:ve.localStorage.getItem(e)}catch(t){qr.B(t)}return null},W:function(e){try{return JSON.parse(qr.q(e))||{}}catch{}return null},G:function(e,t){try{ve==null||ve.localStorage.setItem(e,JSON.stringify(t))}catch(r){qr.B(r)}},V:function(e){try{ve==null||ve.localStorage.removeItem(e)}catch(t){qr.B(t)}}},Gre=["distinct_id",cx,BB,fx,dx],hv=ot({},qr,{W:function(e){try{var t={};try{t=Bi.W(e)||{}}catch{}var r=Qr(t,JSON.parse(qr.q(e)||"{}"));return qr.G(e,r),r}catch{}return null},G:function(e,t,r,n,s,a){try{qr.G(e,t,void 0,void 0,a);var i={};Gre.forEach(l=>{t[l]&&(i[l]=t[l])}),Object.keys(i).length&&Bi.G(e,i,r,n,s,a)}catch(l){qr.B(l)}},V:function(e,t){try{ve==null||ve.localStorage.removeItem(e),Bi.V(e,t)}catch(r){qr.B(r)}}}),pv={},Jre={H:function(){return!0},B:function(e){Ze.error("memoryStorage error: "+e)},q:function(e){return pv[e]||null},W:function(e){return pv[e]||null},G:function(e,t){pv[e]=t},V:function(e){delete pv[e]}},Sc=null,Dn={H:function(){if(!gi(Sc))return Sc;if(Sc=!0,Je(ve))Sc=!1;else try{var e="__support__";Dn.G(e,"xyz"),Dn.q(e)!=='"xyz"'&&(Sc=!1),Dn.V(e)}catch{Sc=!1}return Sc},B:function(e){Ze.error("sessionStorage error: ",e)},q:function(e){try{return ve==null?void 0:ve.sessionStorage.getItem(e)}catch(t){Dn.B(t)}return null},W:function(e){try{return JSON.parse(Dn.q(e))||null}catch{}return null},G:function(e,t){try{ve==null||ve.sessionStorage.setItem(e,JSON.stringify(t))}catch(r){Dn.B(r)}},V:function(e){try{ve==null||ve.sessionStorage.removeItem(e)}catch(t){Dn.B(t)}}},po=function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e}({});class Yre{constructor(t){this._instance=t}get I(){return this._instance.config}get consent(){return this.J()?po.DENIED:this.K}isOptedOut(){return this.I.cookieless_mode==="always"||this.consent===po.DENIED||this.consent===po.PENDING&&(this.I.opt_out_capturing_by_default||this.I.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===po.DENIED}optInOut(t){this.Y.G(this.X,t?1:0,this.I.cookie_expiration,this.I.cross_subdomain_cookie,this.I.secure_cookie)}reset(){this.Y.V(this.X,this.I.cross_subdomain_cookie)}get X(){var{token:t,opt_out_capturing_cookie_prefix:r,consent_persistence_name:n}=this._instance.config;return n||(r?r+t:"__ph_opt_in_out_"+t)}get K(){var t=this.Y.q(this.X);return B_(t)?po.GRANTED:Bt(ere,t)?po.DENIED:po.PENDING}get Y(){if(!this.Z){var t=this.I.opt_out_capturing_persistence_type;this.Z=t==="localStorage"?qr:Bi;var r=t==="localStorage"?Bi:qr;r.q(this.X)&&(this.Z.q(this.X)||this.optInOut(B_(r.q(this.X))),r.V(this.X,this.I.cross_subdomain_cookie))}return this.Z}J(){return!!this.I.respect_dnt&&!!LB([sa==null?void 0:sa.doNotTrack,sa==null?void 0:sa.msDoNotTrack,jt.doNotTrack],t=>B_(t))}}var mv=rn("[Dead Clicks]"),Xre=()=>!0,Qre=e=>{var t,r=!((t=e.instance.persistence)==null||!t.get_property(FB)),n=e.instance.config.capture_dead_clicks;return Eo(n)?n:!!Cn(n)||r};class rU{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(t,r,n){this.instance=t,this.isEnabled=r,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[FB]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it(()=>{this.et()})}it(t){var r,n;(r=jt.__PosthogExtensions__)!=null&&r.initDeadClicksAutocapture&&t(),(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",s=>{s?mv.error("failed to load script",s):t()})}et(){var t;if(Qe){if(!this.tt&&(t=jt.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture){var r=Cn(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};r.__onCapture=this.onCapture,this.tt=jt.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,r),this.tt.start(Qe),mv.info("starting...")}}else mv.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,mv.info("stopping..."))}}var lp=rn("[ExceptionAutocapture]");class Zre{constructor(t){var r,n,s;this.rt=()=>{var a;if(ve&&this.isEnabled&&(a=jt.__PosthogExtensions__)!=null&&a.errorWrappingFunctions){var i=jt.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,l=jt.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,c=jt.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.I.capture_unhandled_errors&&(this.st=i(this.captureException.bind(this))),!this.nt&&this.I.capture_unhandled_rejections&&(this.nt=l(this.captureException.bind(this))),!this.ot&&this.I.capture_console_errors&&(this.ot=c(this.captureException.bind(this)))}catch(u){lp.error("failed to start",u),this.lt()}}},this._instance=t,this.ut=!((r=this._instance.persistence)==null||!r.props[uR]),this.I=this.ht(),this.dt=new tre({refillRate:(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&n!==void 0?n:1,bucketSize:(s=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&s!==void 0?s:10,refillInterval:1e4,h:lp}),this.startIfEnabled()}ht(){var t=this._instance.config.capture_exceptions,r={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return Cn(t)?r=ot({},r,t):(Je(t)?this.ut:t)&&(r=ot({},r,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),r}get isEnabled(){return this.I.capture_console_errors||this.I.capture_unhandled_errors||this.I.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(lp.info("enabled"),this.it(this.rt))}it(t){var r,n;(r=jt.__PosthogExtensions__)!=null&&r.errorWrappingFunctions&&t(),(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"exception-autocapture",s=>{if(s)return lp.error("failed to load script",s);t()})}lt(){var t,r,n;(t=this.st)==null||t.call(this),this.st=void 0,(r=this.nt)==null||r.call(this),this.nt=void 0,(n=this.ot)==null||n.call(this),this.ot=void 0}onRemoteConfig(t){var r=t.autocaptureExceptions;this.ut=!!r||!1,this.I=this.ht(),this._instance.persistence&&this._instance.persistence.register({[uR]:this.ut}),this.startIfEnabled()}captureException(t){var r,n,s=(r=t==null||(n=t.$exception_list)==null||(n=n[0])==null?void 0:n.type)!==null&&r!==void 0?r:"Exception";this.dt.consumeRateLimit(s)?lp.info("Skipping exception capture because of client rate limiting.",{exception:s}):this._instance.exceptions.sendExceptionEvent(t)}}function _R(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],s=r(n);return Vl(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=s,()=>{e[t]=n}}catch{return()=>{}}}class ene{constructor(t){var r;this._instance=t,this.vt=(ve==null||(r=ve.location)==null?void 0:r.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(Ze.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,Ze.info("History API monitoring stopped")}monitorHistoryChanges(){var t,r;if(ve&&ve.history){var n=this;(t=ve.history.pushState)!=null&&t.__posthog_wrapped__||_R(ve.history,"pushState",s=>function(a,i,l){s.call(this,a,i,l),n.ft("pushState")}),(r=ve.history.replaceState)!=null&&r.__posthog_wrapped__||_R(ve.history,"replaceState",s=>function(a,i,l){s.call(this,a,i,l),n.ft("replaceState")}),this.gt()}}ft(t){try{var r,n=ve==null||(r=ve.location)==null?void 0:r.pathname;if(!n)return;n!==this.vt&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this.vt=n}catch(s){Ze.error("Error capturing "+t+" pageview",s)}}gt(){if(!this.ct){var t=()=>{this.ft("popstate")};on(ve,"popstate",t),this.ct=()=>{ve&&ve.removeEventListener("popstate",t)}}}}var H_=rn("[SegmentIntegration]");function tne(e,t){var r=e.config.segment;if(!r)return t();(function(n,s){var a=n.config.segment;if(!a)return s();var i=c=>{var u=()=>c.anonymousId()||Ol();n.config.get_device_id=u,c.id()&&(n.register({distinct_id:c.id(),$device_id:u()}),n.persistence.set_property(ho,"identified")),s()},l=a.user();"then"in l&&Vl(l.then)?l.then(c=>i(c)):i(l)})(e,()=>{r.register((n=>{Promise&&Promise.resolve||H_.warn("This browser does not have Promise support, and can not use the segment integration");var s=(a,i)=>{if(!i)return a;a.event.userId||a.event.anonymousId===n.get_distinct_id()||(H_.info("No userId set, resetting PostHog"),n.reset()),a.event.userId&&a.event.userId!==n.get_distinct_id()&&(H_.info("UserId set, identifying with PostHog"),n.identify(a.event.userId));var l=n.calculateEventProperties(i,a.event.properties);return a.event.properties=Object.assign({},l,a.event.properties),a};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:a=>s(a,a.event.event),page:a=>s(a,"$pageview"),identify:a=>s(a,"$identify"),screen:a=>s(a,"$screen")}})(e)).then(()=>{t()})})}var nU="posthog-js";function sU(e,t){var{organization:r,projectId:n,prefix:s,severityAllowList:a=["error"],sendExceptionsToPostHog:i=!0}=t===void 0?{}:t;return l=>{var c,u,d,f,h;if(!(a==="*"||a.includes(l.level))||!e.__loaded)return l;l.tags||(l.tags={});var g=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());l.tags["PostHog Person URL"]=g,e.sessionRecordingStarted()&&(l.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var y=((c=l.exception)==null?void 0:c.values)||[],m=y.map(x=>ot({},x,{stacktrace:x.stacktrace?ot({},x.stacktrace,{type:"raw",frames:(x.stacktrace.frames||[]).map(w=>ot({},w,{platform:"web:javascript"}))}):void 0})),v={$exception_message:((u=y[0])==null?void 0:u.value)||l.message,$exception_type:(d=y[0])==null?void 0:d.type,$exception_level:l.level,$exception_list:m,$sentry_event_id:l.event_id,$sentry_exception:l.exception,$sentry_exception_message:((f=y[0])==null?void 0:f.value)||l.message,$sentry_exception_type:(h=y[0])==null?void 0:h.type,$sentry_tags:l.tags};return r&&n&&(v.$sentry_url=(s||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+l.event_id),i&&e.exceptions.sendExceptionEvent(v),l}}class rne{constructor(t,r,n,s,a,i){this.name=nU,this.setupOnce=function(l){l(sU(t,{organization:r,projectId:n,prefix:s,severityAllowList:a,sendExceptionsToPostHog:i==null||i}))}}}var nne=ve!=null&&ve.location?gx(ve.location.hash,"__posthog")||gx(location.hash,"state"):null,SR="_postHogToolbarParams",jR=rn("[Toolbar]"),al=function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e}(al||{});class sne{constructor(t){this.instance=t}_t(t){jt.ph_toolbar_state=t}yt(){var t;return(t=jt.ph_toolbar_state)!==null&&t!==void 0?t:al.UNINITIALIZED}maybeLoadToolbar(t,r,n){if(t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),!ve||!Qe)return!1;t=t??ve.location,n=n??ve.history;try{if(!r){try{ve.localStorage.setItem("test","test"),ve.localStorage.removeItem("test")}catch{return!1}r=ve==null?void 0:ve.localStorage}var s,a=nne||gx(t.hash,"__posthog")||gx(t.hash,"state"),i=a?lR(()=>JSON.parse(atob(decodeURIComponent(a))))||lR(()=>JSON.parse(decodeURIComponent(a))):null;return i&&i.action==="ph_authorize"?((s=i).source="url",s&&Object.keys(s).length>0&&(i.desiredHash?t.hash=i.desiredHash:n?n.replaceState(n.state,"",t.pathname+t.search):t.hash="")):((s=JSON.parse(r.getItem(SR)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch{return!1}}bt(t){var r=jt.ph_load_toolbar||jt.ph_load_editor;!rr(r)&&Vl(r)?r(t,this.instance):jR.warn("No toolbar load function found")}loadToolbar(t){var r=!(Qe==null||!Qe.getElementById(UB));if(!ve||r)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,s=ot({token:this.instance.config.token},t,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(ve.localStorage.setItem(SR,JSON.stringify(ot({},s,{source:void 0}))),this.yt()===al.LOADED)this.bt(s);else if(this.yt()===al.UNINITIALIZED){var a;this._t(al.LOADING),(a=jt.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this.instance,"toolbar",i=>{if(i)return jR.error("[Toolbar] Failed to load",i),void this._t(al.UNINITIALIZED);this._t(al.LOADED),this.bt(s)}),on(ve,"turbolinks:load",()=>{this._t(al.UNINITIALIZED),this.loadToolbar(s)})}return!0}wt(t){return this.loadToolbar(t)}maybeLoadEditor(t,r,n){return t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(t,r,n)}}var ane=rn("[TracingHeaders]");class ine{constructor(t){this.xt=void 0,this.Et=void 0,this.rt=()=>{var r,n;Je(this.xt)&&((r=jt.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),Je(this.Et)&&((n=jt.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}it(t){var r,n;(r=jt.__PosthogExtensions__)!=null&&r.tracingHeadersPatchFns&&t(),(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"tracing-headers",s=>{if(s)return ane.error("failed to load script",s);t()})}startIfEnabledOrStop(){var t,r;this._instance.config.__add_tracing_headers?this.it(this.rt):((t=this.xt)==null||t.call(this),(r=this.Et)==null||r.call(this),this.xt=void 0,this.Et=void 0)}}var Ta="Mobile",vx="iOS",Mi="Android",Jm="Tablet",aU=Mi+" "+Jm,iU="iPad",oU="Apple",lU=oU+" Watch",Ym="Safari",Tf="BlackBerry",cU="Samsung",uU=cU+"Browser",dU=cU+" Internet",ku="Chrome",one=ku+" OS",fU=ku+" "+vx,pP="Internet Explorer",hU=pP+" "+Ta,mP="Opera",lne=mP+" Mini",gP="Edge",pU="Microsoft "+gP,Jd="Firefox",mU=Jd+" "+vx,Xm="Nintendo",Qm="PlayStation",Yd="Xbox",gU=Mi+" "+Ta,yU=Ta+" "+Ym,Hp="Windows",Kk=Hp+" Phone",kR="Nokia",Gk="Ouya",vU="Generic",cne=vU+" "+Ta.toLowerCase(),xU=vU+" "+Jm.toLowerCase(),Jk="Konqueror",cs="(\\d+(\\.\\d+)?)",K_=new RegExp("Version/"+cs),une=new RegExp(Yd,"i"),dne=new RegExp(Qm+" \\w+","i"),fne=new RegExp(Xm+" \\w+","i"),yP=new RegExp(Tf+"|PlayBook|BB10","i"),hne={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},pne=(e,t)=>t&&Bt(t,oU)||function(r){return Bt(r,Ym)&&!Bt(r,ku)&&!Bt(r,Mi)}(e),bU=function(e,t){return t=t||"",Bt(e," OPR/")&&Bt(e,"Mini")?lne:Bt(e," OPR/")?mP:yP.test(e)?Tf:Bt(e,"IE"+Ta)||Bt(e,"WPDesktop")?hU:Bt(e,uU)?dU:Bt(e,gP)||Bt(e,"Edg/")?pU:Bt(e,"FBIOS")?"Facebook "+Ta:Bt(e,"UCWEB")||Bt(e,"UCBrowser")?"UC Browser":Bt(e,"CriOS")?fU:Bt(e,"CrMo")||Bt(e,ku)?ku:Bt(e,Mi)&&Bt(e,Ym)?gU:Bt(e,"FxiOS")?mU:Bt(e.toLowerCase(),Jk.toLowerCase())?Jk:pne(e,t)?Bt(e,Ta)?yU:Ym:Bt(e,Jd)?Jd:Bt(e,"MSIE")||Bt(e,"Trident/")?pP:Bt(e,"Gecko")?Jd:""},mne={[hU]:[new RegExp("rv:"+cs)],[pU]:[new RegExp(gP+"?\\/"+cs)],[ku]:[new RegExp("("+ku+"|CrMo)\\/"+cs)],[fU]:[new RegExp("CriOS\\/"+cs)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+cs)],[Ym]:[K_],[yU]:[K_],[mP]:[new RegExp("(Opera|OPR)\\/"+cs)],[Jd]:[new RegExp(Jd+"\\/"+cs)],[mU]:[new RegExp("FxiOS\\/"+cs)],[Jk]:[new RegExp("Konqueror[:/]?"+cs,"i")],[Tf]:[new RegExp(Tf+" "+cs),K_],[gU]:[new RegExp("android\\s"+cs,"i")],[dU]:[new RegExp(uU+"\\/"+cs)],[pP]:[new RegExp("(rv:|MSIE )"+cs)],Mozilla:[new RegExp("rv:"+cs)]},gne=function(e,t){var r=bU(e,t),n=mne[r];if(Je(n))return null;for(var s=0;s<n.length;s++){var a=n[s],i=e.match(a);if(i)return parseFloat(i[i.length-2])}return null},ER=[[new RegExp(Yd+"; "+Yd+" (.*?)[);]","i"),e=>[Yd,e&&e[1]||""]],[new RegExp(Xm,"i"),[Xm,""]],[new RegExp(Qm,"i"),[Qm,""]],[yP,[Tf,""]],[new RegExp(Hp,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[Kk,""];if(new RegExp(Ta).test(t)&&!/IEMobile\b/.test(t))return[Hp+" "+Ta,""];var r=/Windows NT ([0-9.]+)/i.exec(t);if(r&&r[1]){var n=r[1],s=hne[n]||"";return/arm/i.test(t)&&(s="RT"),[Hp,s]}return[Hp,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[vx,t.join(".")]}return[vx,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=Je(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Mi+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Mi+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Mi,t.join(".")]}return[Mi,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var r=[e[1],e[2],e[3]||"0"];t[1]=r.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[one,""]],[/Linux|debian/i,["Linux",""]]],NR=function(e){return fne.test(e)?Xm:dne.test(e)?Qm:une.test(e)?Yd:new RegExp(Gk,"i").test(e)?Gk:new RegExp("("+Kk+"|WPDesktop)","i").test(e)?Kk:/iPad/.test(e)?iU:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?lU:yP.test(e)?Tf:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(kR,"i").test(e)?kR:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Ta).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Mi:aU:Mi:new RegExp("(pda|"+Ta+")","i").test(e)?cne:new RegExp(Jm,"i").test(e)&&!new RegExp(Jm+" pc","i").test(e)?xU:""},gv="https?://(.*)",mh=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],yne=ph(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],mh),gy="<masked>",vne=["li_fat_id"];function wU(e,t,r){if(!Qe)return{};var n,s=t?ph([],mh,r||[]):[],a=_U(my(Qe.URL,s,gy),e),i=(n={},Er(vne,function(l){var c=Bi.q(l);n[l]=c||null}),n);return Qr(i,a)}function _U(e,t){var r=yne.concat(t||[]),n={};return Er(r,function(s){var a=mx(e,s);n[s]=a||null}),n}function SU(e){var t=function(a){return a?a.search(gv+"google.([^/?]*)")===0?"google":a.search(gv+"bing.com")===0?"bing":a.search(gv+"yahoo.com")===0?"yahoo":a.search(gv+"duckduckgo.com")===0?"duckduckgo":null:null}(e),r=t!="yahoo"?"q":"p",n={};if(!gi(t)){n.$search_engine=t;var s=Qe?mx(Qe.referrer,r):"";s.length&&(n.ph_keyword=s)}return n}function CR(){return navigator.language||navigator.userLanguage}function jU(){return(Qe==null?void 0:Qe.referrer)||"$direct"}function kU(e,t){var r=e?ph([],mh,t||[]):[],n=Ms==null?void 0:Ms.href.substring(0,1e3);return{r:jU().substring(0,1e3),u:n?my(n,r,gy):void 0}}function EU(e){var t,{r,u:n}=e,s={$referrer:r,$referring_domain:r==null?void 0:r=="$direct"?"$direct":(t=px(r))==null?void 0:t.host};if(n){s.$current_url=n;var a=px(n);s.$host=a==null?void 0:a.host,s.$pathname=a==null?void 0:a.pathname;var i=_U(n);Qr(s,i)}if(r){var l=SU(r);Qr(s,l)}return s}function NU(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function xne(){try{return new Date().getTimezoneOffset()}catch{return}}function bne(e,t){if(!Os)return{};var r,n,s,a=e?ph([],mh,t||[]):[],[i,l]=function(c){for(var u=0;u<ER.length;u++){var[d,f]=ER[u],h=d.exec(c),g=h&&(Vl(f)?f(h,c):f);if(g)return g}return["",""]}(Os);return Qr(uP({$os:i,$os_version:l,$browser:bU(Os,navigator.vendor),$device:NR(Os),$device_type:(n=Os,s=NR(n),s===iU||s===aU||s==="Kobo"||s==="Kindle Fire"||s===xU?Jm:s===Xm||s===Yd||s===Qm||s===Gk?"Console":s===lU?"Wearable":s?Ta:"Desktop"),$timezone:NU(),$timezone_offset:xne()}),{$current_url:my(Ms==null?void 0:Ms.href,a,gy),$host:Ms==null?void 0:Ms.host,$pathname:Ms==null?void 0:Ms.pathname,$raw_user_agent:Os.length>1e3?Os.substring(0,997)+"...":Os,$browser_version:gne(Os,navigator.vendor),$browser_language:CR(),$browser_language_prefix:(r=CR(),typeof r=="string"?r.split("-")[0]:void 0),$screen_height:ve==null?void 0:ve.screen.height,$screen_width:ve==null?void 0:ve.screen.width,$viewport_height:ve==null?void 0:ve.innerHeight,$viewport_width:ve==null?void 0:ve.innerWidth,$lib:"web",$lib_version:fo.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var Zo=rn("[Web Vitals]"),PR=9e5;class wne{constructor(t){var r;this.St=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.$t=()=>{clearTimeout(this.kt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce((n,s)=>ot({},n,{["$web_vitals_"+s.name+"_event"]:ot({},s),["$web_vitals_"+s.name+"_value"]:s.value}),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=n=>{var s,a=(s=this._instance.sessionManager)==null?void 0:s.checkAndGetSessionAndWindowId(!0);if(Je(a))Zo.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var i=this.Tt();Je(i)||(rr(n==null?void 0:n.name)||rr(n==null?void 0:n.value)?Zo.error("Invalid metric received",n):this.Ct&&n.value>=this.Ct?Zo.error("Ignoring metric with value >= "+this.Ct,n):(this.N.url!==i&&(this.$t(),this.kt=setTimeout(this.$t,this.flushToCaptureTimeoutMs)),Je(this.N.url)&&(this.N.url=i),this.N.firstMetricTimestamp=Je(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,n.attribution&&n.attribution.interactionTargetElement&&(n.attribution.interactionTargetElement=void 0),this.N.metrics.push(ot({},n,{$current_url:i,$session_id:a.sessionId,$window_id:a.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.$t()))}},this.rt=()=>{var n,s,a,i,l=jt.__PosthogExtensions__;Je(l)||Je(l.postHogWebVitalsCallbacks)||({onLCP:n,onCLS:s,onFCP:a,onINP:i}=l.postHogWebVitalsCallbacks),n&&s&&a&&i?(this.allowedMetrics.indexOf("LCP")>-1&&n(this.Pt.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&s(this.Pt.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&a(this.Pt.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&i(this.Pt.bind(this)),this.P=!0):Zo.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.St=!((r=this._instance.persistence)==null||!r.props[fR]),this.startIfEnabled()}get allowedMetrics(){var t,r,n=Cn(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return Je(n)?((r=this._instance.persistence)==null?void 0:r.props[hR])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(Cn(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Ct(){var t=Cn(this._instance.config.capture_performance)&&Hi(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:PR;return 0<t&&t<=6e4?PR:t}get isEnabled(){var t=Ms==null?void 0:Ms.protocol;if(t!=="http:"&&t!=="https:")return Zo.info("Web Vitals are disabled on non-http/https protocols"),!1;var r=Cn(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Eo(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Eo(r)?r:this.St}startIfEnabled(){this.isEnabled&&!this.P&&(Zo.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(t){var r=Cn(t.capturePerformance)&&!!t.capturePerformance.web_vitals,n=Cn(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[fR]:r}),this._instance.persistence.register({[hR]:n})),this.St=r,this.startIfEnabled()}it(t){var r,n;(r=jt.__PosthogExtensions__)!=null&&r.postHogWebVitalsCallbacks&&t(),(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"web-vitals",s=>{s?Zo.error("failed to load script",s):t()})}Tt(){var t=ve?ve.location.href:void 0;if(t){var r=this._instance.config.mask_personal_data_properties,n=this._instance.config.custom_personal_data_properties,s=r?ph([],mh,n||[]):[];return my(t,s,gy)}Zo.error("Could not determine current URL")}}var _ne=rn("[Heatmaps]");function AR(e){return Cn(e)&&"clientX"in e&&"clientY"in e&&Hi(e.clientX)&&Hi(e.clientY)}class Sne{constructor(t){var r;this.St=!1,this.P=!1,this.Rt=null,this.instance=t,this.St=!((r=this.instance.persistence)==null||!r.props[Dk]),this.rageclicks=new eU(t.config.rageclick)}get flushIntervalMilliseconds(){var t=5e3;return Cn(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return Je(this.instance.config.capture_heatmaps)?Je(this.instance.config.enable_heatmaps)?this.St:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;_ne.info("starting..."),this.It(),this.Ft()}else{var t;clearInterval((t=this.Rt)!==null&&t!==void 0?t:void 0),this.Mt(),this.getAndClearBuffer()}}onRemoteConfig(t){var r=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Dk]:r}),this.St=r,this.startIfEnabled()}getAndClearBuffer(){var t=this.N;return this.N=void 0,t}Ot(t){this.At(t.originalEvent,"deadclick")}Ft(){this.Rt&&clearInterval(this.Rt),this.Rt=function(t){return(t==null?void 0:t.visibilityState)==="visible"}(Qe)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}It(){ve&&Qe&&(this.jt=this.Dt.bind(this),on(ve,"beforeunload",this.jt),this.Lt=t=>this.At(t||(ve==null?void 0:ve.event)),on(Qe,"click",this.Lt,{capture:!0}),this.Nt=t=>this.Ut(t||(ve==null?void 0:ve.event)),on(Qe,"mousemove",this.Nt,{capture:!0}),this.zt=new rU(this.instance,Xre,this.Ot.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ft.bind(this),on(Qe,"visibilitychange",this.Ht),this.P=!0)}Mt(){var t;ve&&Qe&&(this.jt&&ve.removeEventListener("beforeunload",this.jt),this.Lt&&Qe.removeEventListener("click",this.Lt,{capture:!0}),this.Nt&&Qe.removeEventListener("mousemove",this.Nt,{capture:!0}),this.Ht&&Qe.removeEventListener("visibilitychange",this.Ht),clearTimeout(this.Bt),(t=this.zt)==null||t.stop(),this.P=!1)}qt(t,r){var n=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),a=this.instance.scrollManager.scrollElement(),i=function(l,c,u){for(var d=l;d&&mw(d)&&!Kl(d,"body");){if(d===u)return!1;if(Bt(c,ve==null?void 0:ve.getComputedStyle(d).position))return!0;d=KB(d)}return!1}(VB(t),["fixed","sticky"],a);return{x:t.clientX+(i?0:s),y:t.clientY+(i?0:n),target_fixed:i,type:r}}At(t,r){var n;if(r===void 0&&(r="click"),!pR(t.target)&&AR(t)){var s=this.qt(t,r);(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.Wt(ot({},s,{type:"rageclick"})),this.Wt(s)}}Ut(t){!pR(t.target)&&AR(t)&&(clearTimeout(this.Bt),this.Bt=setTimeout(()=>{this.Wt(this.qt(t,"mousemove"))},500))}Wt(t){if(ve){var r=ve.location.href,n=this.instance.config.mask_personal_data_properties,s=this.instance.config.custom_personal_data_properties,a=n?ph([],mh,s||[]):[],i=my(r,a,gy);this.N=this.N||{},this.N[i]||(this.N[i]=[]),this.N[i].push(t)}}Dt(){this.N&&!Rd(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class jne{constructor(t){this._instance=t}doPageView(t,r){var n,s=this.Gt(t,r);return this.Vt={pathname:(n=ve==null?void 0:ve.location.pathname)!==null&&n!==void 0?n:"",pageViewId:r,timestamp:t},this._instance.scrollManager.resetContext(),s}doPageLeave(t){var r;return this.Gt(t,(r=this.Vt)==null?void 0:r.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.Vt)==null?void 0:t.pageViewId}}Gt(t,r){var n=this.Vt;if(!n)return{$pageview_id:r};var s={$pageview_id:r,$prev_pageview_id:n.pageViewId},a=this._instance.scrollManager.getContext();if(a&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:i,lastScrollY:l,maxScrollY:c,maxContentHeight:u,lastContentY:d,maxContentY:f}=a;if(!(Je(i)||Je(l)||Je(c)||Je(u)||Je(d)||Je(f))){i=Math.ceil(i),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d),f=Math.ceil(f);var h=i<=1?1:Ri(l/i,0,1,Ze),g=i<=1?1:Ri(c/i,0,1,Ze),y=u<=1?1:Ri(d/u,0,1,Ze),m=u<=1?1:Ri(f/u,0,1,Ze);s=Qr(s,{$prev_pageview_last_scroll:l,$prev_pageview_last_scroll_percentage:h,$prev_pageview_max_scroll:c,$prev_pageview_max_scroll_percentage:g,$prev_pageview_last_content:d,$prev_pageview_last_content_percentage:y,$prev_pageview_max_content:f,$prev_pageview_max_content_percentage:m})}}return n.pathname&&(s.$prev_pageview_pathname=n.pathname),n.timestamp&&(s.$prev_pageview_duration=(t.getTime()-n.timestamp.getTime())/1e3),s}}var Oa=Uint8Array,Ds=Uint16Array,Of=Uint32Array,vP=new Oa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),xP=new Oa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),TR=new Oa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),CU=function(e,t){for(var r=new Ds(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var s=new Of(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)s[a]=a-r[n]<<5|n;return[r,s]},PU=CU(vP,2),kne=PU[0],Yk=PU[1];kne[28]=258,Yk[258]=28;for(var OR=CU(xP,0)[1],AU=new Ds(32768),$r=0;$r<32768;++$r){var jc=(43690&$r)>>>1|(21845&$r)<<1;jc=(61680&(jc=(52428&jc)>>>2|(13107&jc)<<2))>>>4|(3855&jc)<<4,AU[$r]=((65280&jc)>>>8|(255&jc)<<8)>>>1}var fm=function(e,t,r){for(var n=e.length,s=0,a=new Ds(t);s<n;++s)++a[e[s]-1];var i,l=new Ds(t);for(s=0;s<t;++s)l[s]=l[s-1]+a[s-1]<<1;for(i=new Ds(n),s=0;s<n;++s)i[s]=AU[l[e[s]-1]++]>>>15-e[s];return i},Eu=new Oa(288);for($r=0;$r<144;++$r)Eu[$r]=8;for($r=144;$r<256;++$r)Eu[$r]=9;for($r=256;$r<280;++$r)Eu[$r]=7;for($r=280;$r<288;++$r)Eu[$r]=8;var xx=new Oa(32);for($r=0;$r<32;++$r)xx[$r]=5;var Ene=fm(Eu,9),Nne=fm(xx,5),TU=function(e){return(e/8>>0)+(7&e&&1)},OU=function(e,t,r){(r==null||r>e.length)&&(r=e.length);var n=new(e instanceof Ds?Ds:e instanceof Of?Of:Oa)(r-t);return n.set(e.subarray(t,r)),n},ao=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},cp=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},G_=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,a=r.slice();if(!s)return[new Oa(0),0];if(s==1){var i=new Oa(r[0].s+1);return i[r[0].s]=1,[i,1]}r.sort(function(S,E){return S.f-E.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};var h=a[0].s;for(n=1;n<s;++n)a[n].s>h&&(h=a[n].s);var g=new Ds(h+1),y=Xk(r[d-1],g,0);if(y>t){n=0;var m=0,v=y-t,x=1<<v;for(a.sort(function(S,E){return g[E.s]-g[S.s]||S.f-E.f});n<s;++n){var w=a[n].s;if(!(g[w]>t))break;m+=x-(1<<y-g[w]),g[w]=t}for(m>>>=v;m>0;){var b=a[n].s;g[b]<t?m-=1<<t-g[b]++-1:++n}for(;n>=0&&m;--n){var _=a[n].s;g[_]==t&&(--g[_],++m)}y=t}return[new Oa(g),y]},Xk=function(e,t,r){return e.s==-1?Math.max(Xk(e.l,t,r+1),Xk(e.r,t,r+1)):t[e.s]=r},$R=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ds(++t),n=0,s=e[0],a=1,i=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=e[l]}return[r.subarray(0,n),t]},up=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Qk=function(e,t,r){var n=r.length,s=TU(t+2);e[s]=255&n,e[s+1]=n>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var a=0;a<n;++a)e[s+a+4]=r[a];return 8*(s+4+n)},RR=function(e,t,r,n,s,a,i,l,c,u,d){ao(t,d++,r),++s[256];for(var f=G_(s,15),h=f[0],g=f[1],y=G_(a,15),m=y[0],v=y[1],x=$R(h),w=x[0],b=x[1],_=$R(m),S=_[0],E=_[1],k=new Ds(19),j=0;j<w.length;++j)k[31&w[j]]++;for(j=0;j<S.length;++j)k[31&S[j]]++;for(var N=G_(k,7),C=N[0],P=N[1],R=19;R>4&&!C[TR[R-1]];--R);var F,z,D,I,B=u+5<<3,T=up(s,Eu)+up(a,xx)+i,M=up(s,h)+up(a,m)+i+14+3*R+up(k,C)+(2*k[16]+3*k[17]+7*k[18]);if(B<=T&&B<=M)return Qk(t,d,e.subarray(c,c+u));if(ao(t,d,1+(M<T)),d+=2,M<T){F=fm(h,g),z=h,D=fm(m,v),I=m;var Z=fm(C,P);for(ao(t,d,b-257),ao(t,d+5,E-1),ao(t,d+10,R-4),d+=14,j=0;j<R;++j)ao(t,d+3*j,C[TR[j]]);d+=3*R;for(var L=[w,S],G=0;G<2;++G){var H=L[G];for(j=0;j<H.length;++j){var Y=31&H[j];ao(t,d,Z[Y]),d+=C[Y],Y>15&&(ao(t,d,H[j]>>>5&127),d+=H[j]>>>12)}}}else F=Ene,z=Eu,D=Nne,I=xx;for(j=0;j<l;++j)if(n[j]>255){Y=n[j]>>>18&31,cp(t,d,F[Y+257]),d+=z[Y+257],Y>7&&(ao(t,d,n[j]>>>23&31),d+=vP[Y]);var ae=31&n[j];cp(t,d,D[ae]),d+=I[ae],ae>3&&(cp(t,d,n[j]>>>5&8191),d+=xP[ae])}else cp(t,d,F[n[j]]),d+=z[n[j]];return cp(t,d,F[256]),d+z[256]},Cne=new Of([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Pne=function(){for(var e=new Of(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&3988292384)^r>>>1;e[t]=r}return e}(),Ane=function(e,t,r,n,s){return function(a,i,l,c,u,d){var f=a.length,h=new Oa(c+f+5*(1+Math.floor(f/7e3))+u),g=h.subarray(c,h.length-u),y=0;if(!i||f<8)for(var m=0;m<=f;m+=65535){var v=m+65535;v<f?y=Qk(g,y,a.subarray(m,v)):(g[m]=d,y=Qk(g,y,a.subarray(m,f)))}else{for(var x=Cne[i-1],w=x>>>13,b=8191&x,_=(1<<l)-1,S=new Ds(32768),E=new Ds(_+1),k=Math.ceil(l/3),j=2*k,N=function(re){return(a[re]^a[re+1]<<k^a[re+2]<<j)&_},C=new Of(25e3),P=new Ds(288),R=new Ds(32),F=0,z=0,D=(m=0,0),I=0,B=0;m<f;++m){var T=N(m),M=32767&m,Z=E[T];if(S[M]=Z,E[T]=M,I<=m){var L=f-m;if((F>7e3||D>24576)&&L>423){y=RR(a,g,0,C,P,R,z,D,B,m-B,y),D=F=z=0,B=m;for(var G=0;G<286;++G)P[G]=0;for(G=0;G<30;++G)R[G]=0}var H=2,Y=0,ae=b,V=M-Z&32767;if(L>2&&T==N(m-V))for(var W=Math.min(w,L)-1,J=Math.min(32767,m),K=Math.min(258,L);V<=J&&--ae&&M!=Z;){if(a[m+H]==a[m+H-V]){for(var Q=0;Q<K&&a[m+Q]==a[m+Q-V];++Q);if(Q>H){if(H=Q,Y=V,Q>W)break;var se=Math.min(V,Q-2),X=0;for(G=0;G<se;++G){var ce=m-V+G+32768&32767,oe=ce-S[ce]+32768&32767;oe>X&&(X=oe,Z=ce)}}}V+=(M=Z)-(Z=S[M])+32768&32767}if(Y){C[D++]=268435456|Yk[H]<<18|OR[Y];var xe=31&Yk[H],pe=31&OR[Y];z+=vP[xe]+xP[pe],++P[257+xe],++R[pe],I=m+H,++F}else C[D++]=a[m],++P[a[m]]}}y=RR(a,g,d,C,P,R,z,D,B,m-B,y)}return OU(h,0,c+TU(y)+u)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!0)},J_=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};function Tne(e,t){t===void 0&&(t={});var r=function(){var l=4294967295;return{p:function(c){for(var u=l,d=0;d<c.length;++d)u=Pne[255&u^c[d]]^u>>>8;l=u},d:function(){return 4294967295^l}}}(),n=e.length;r.p(e);var s,a=Ane(e,t,10+((s=t).filename&&s.filename.length+1||0),8),i=a.length;return function(l,c){var u=c.filename;if(l[0]=31,l[1]=139,l[2]=8,l[8]=c.level<2?4:c.level==9?2:0,l[9]=3,c.mtime!=0&&J_(l,4,Math.floor(new Date(c.mtime||Date.now())/1e3)),u){l[3]=8;for(var d=0;d<=u.length;++d)l[d+10]=u.charCodeAt(d)}}(a,t),J_(a,i-8,r.d()),J_(a,i-4,n),a}var One=function(e){var t,r,n,s,a="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,s=0;s<n;s++){var i=e.charCodeAt(s),l=null;i<128?r++:l=i>127&&i<2048?String.fromCharCode(i>>6|192,63&i|128):String.fromCharCode(i>>12|224,i>>6&63|128,63&i|128),gi(l)||(r>t&&(a+=e.substring(t,r)),a+=l,t=r=s+1)}return r>t&&(a+=e.substring(t,e.length)),a},$ne=!!$k||!!Ok,MR="text/plain",bx=function(e,t,r){var n;r===void 0&&(r=!0);var[s,a]=e.split("?"),i=ot({},t),l=(n=a==null?void 0:a.split("&").map(u=>{var d,[f,h]=u.split("="),g=r&&(d=i[f])!==null&&d!==void 0?d:h;return delete i[f],f+"="+g}))!==null&&n!==void 0?n:[],c=Dre(i);return c&&l.push(c),s+"?"+l.join("&")},Kp=(e,t)=>JSON.stringify(e,(r,n)=>typeof n=="bigint"?n.toString():n,t),Y_=e=>{var{data:t,compression:r}=e;if(t){if(r===vo.GZipJS){var n=Tne(function(c,u){var d=c.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(c);for(var f=new Oa(c.length+(c.length>>>1)),h=0,g=function(x){f[h++]=x},y=0;y<d;++y){if(h+5>f.length){var m=new Oa(h+8+(d-y<<1));m.set(f),f=m}var v=c.charCodeAt(y);v<128||u?g(v):v<2048?(g(192|v>>>6),g(128|63&v)):v>55295&&v<57344?(g(240|(v=65536+(1047552&v)|1023&c.charCodeAt(++y))>>>18),g(128|v>>>12&63),g(128|v>>>6&63),g(128|63&v)):(g(224|v>>>12),g(128|v>>>6&63),g(128|63&v))}return OU(f,0,h)}(Kp(t)),{mtime:0}),s=new Blob([n],{type:MR});return{contentType:MR,body:s,estimatedSize:s.size}}if(r===vo.Base64){var a=function(c){var u,d,f,h,g,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m=0,v=0,x="",w=[];if(!c)return c;c=One(c);do u=(g=c.charCodeAt(m++)<<16|c.charCodeAt(m++)<<8|c.charCodeAt(m++))>>18&63,d=g>>12&63,f=g>>6&63,h=63&g,w[v++]=y.charAt(u)+y.charAt(d)+y.charAt(f)+y.charAt(h);while(m<c.length);switch(x=w.join(""),c.length%3){case 1:x=x.slice(0,-2)+"==";break;case 2:x=x.slice(0,-1)+"="}return x}(Kp(t)),i=(c=>"data="+encodeURIComponent(typeof c=="string"?c:Kp(c)))(a);return{contentType:"application/x-www-form-urlencoded",body:i,estimatedSize:new Blob([i]).size}}var l=Kp(t);return{contentType:"application/json",body:l,estimatedSize:new Blob([l]).size}}},j0=[];Ok&&j0.push({transport:"fetch",method:e=>{var t,r,{contentType:n,body:s,estimatedSize:a}=(t=Y_(e))!==null&&t!==void 0?t:{},i=new Headers;Er(e.headers,function(d,f){i.append(f,d)}),n&&i.append("Content-Type",n);var l=e.url,c=null;if(eR){var u=new eR;c={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}Ok(l,ot({method:(e==null?void 0:e.method)||"GET",headers:i,keepalive:e.method==="POST"&&(a||0)<52428.8,body:s,signal:(r=c)==null?void 0:r.signal},e.fetchOptions)).then(d=>d.text().then(f=>{var h={statusCode:d.status,text:f};if(d.status===200)try{h.json=JSON.parse(f)}catch(g){Ze.error(g)}e.callback==null||e.callback(h)})).catch(d=>{Ze.error(d),e.callback==null||e.callback({statusCode:0,text:d})}).finally(()=>c?clearTimeout(c.timeout):null)}}),$k&&j0.push({transport:"XHR",method:e=>{var t,r=new $k;r.open(e.method||"GET",e.url,!0);var{contentType:n,body:s}=(t=Y_(e))!==null&&t!==void 0?t:{};Er(e.headers,function(a,i){r.setRequestHeader(i,a)}),n&&r.setRequestHeader("Content-Type",n),e.timeout&&(r.timeout=e.timeout),e.disableXHRCredentials||(r.withCredentials=!0),r.onreadystatechange=()=>{if(r.readyState===4){var a={statusCode:r.status,text:r.responseText};if(r.status===200)try{a.json=JSON.parse(r.responseText)}catch{}e.callback==null||e.callback(a)}},r.send(s)}}),sa!=null&&sa.sendBeacon&&j0.push({transport:"sendBeacon",method:e=>{var t=bx(e.url,{beacon:"1"});try{var r,{contentType:n,body:s}=(r=Y_(e))!==null&&r!==void 0?r:{},a=typeof s=="string"?new Blob([s],{type:n}):s;sa.sendBeacon(t,a)}catch{}}});var wx=function(e,t){if(!function(r){try{new RegExp(r)}catch{return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch{return!1}};function IR(e,t,r){return Kp({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:r})}var $U={exact:(e,t)=>t.some(r=>e.some(n=>r===n)),is_not:(e,t)=>t.every(r=>e.every(n=>r!==n)),regex:(e,t)=>t.some(r=>e.some(n=>wx(r,n))),not_regex:(e,t)=>t.every(r=>e.every(n=>!wx(r,n))),icontains:(e,t)=>t.map(yv).some(r=>e.map(yv).some(n=>r.includes(n))),not_icontains:(e,t)=>t.map(yv).every(r=>e.map(yv).every(n=>!r.includes(n)))},yv=e=>e.toLowerCase();function RU(e,t){return!e||Object.entries(e).every(r=>{var[n,s]=r,a=t==null?void 0:t[n];if(Je(a)||gi(a))return!1;var i=[String(a)],l=$U[s.operator];return!!l&&l(s.values,i)})}var X_=rn("[Error tracking]");class Rne{constructor(t){var r,n;this.Jt=[],this.Kt=new sre([new hre,new _re,new mre,new pre,new bre,new xre,new yre,new wre],fre("web:javascript",lre,dre)),this._instance=t,this.Jt=(r=(n=this._instance.persistence)==null?void 0:n.get_property(Fk))!==null&&r!==void 0?r:[]}onRemoteConfig(t){var r,n,s,a=(r=(n=t.errorTracking)==null?void 0:n.suppressionRules)!==null&&r!==void 0?r:[],i=(s=t.errorTracking)==null?void 0:s.captureExtensionExceptions;this.Jt=a,this._instance.persistence&&this._instance.persistence.register({[Fk]:this.Jt,[dR]:i})}get Yt(){var t,r=!!this._instance.get_property(dR),n=this._instance.config.error_tracking.captureExtensionExceptions;return(t=n??r)!==null&&t!==void 0&&t}buildProperties(t,r){return this.Kt.buildFromUnknown(t,{syntheticException:r==null?void 0:r.syntheticException,mechanism:{handled:r==null?void 0:r.handled}})}sendExceptionEvent(t){var r=t.$exception_list;if(this.Xt(r)){if(this.Qt(r))return void X_.info("Skipping exception capture because a suppression rule matched");if(!this.Yt&&this.Zt(r))return void X_.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(r))return void X_.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}Qt(t){if(t.length===0)return!1;var r=t.reduce((n,s)=>{var{type:a,value:i}=s;return bn(a)&&a.length>0&&n.$exception_types.push(a),bn(i)&&i.length>0&&n.$exception_values.push(i),n},{$exception_types:[],$exception_values:[]});return this.Jt.some(n=>{var s=n.values.map(a=>{var i,l=$U[a.operator],c=lr(a.value)?a.value:[a.value],u=(i=r[a.key])!==null&&i!==void 0?i:[];return c.length>0&&l(c,u)});return n.type==="OR"?s.some(Boolean):s.every(Boolean)})}Zt(t){return t.flatMap(r=>{var n,s;return(n=(s=r.stacktrace)==null?void 0:s.frames)!==null&&n!==void 0?n:[]}).some(r=>r.filename&&r.filename.startsWith("chrome-extension://"))}ti(t){if(t.length>0){var r,n,s,a,i=(r=(n=t[0].stacktrace)==null?void 0:n.frames)!==null&&r!==void 0?r:[],l=i[i.length-1];return(s=l==null||(a=l.filename)==null?void 0:a.includes("posthog.com/static"))!==null&&s!==void 0&&s}return!1}Xt(t){return!rr(t)&&lr(t)}}var Va=rn("[FeatureFlags]"),dp=rn("[FeatureFlags]",{debugEnabled:!0}),Q_="$active_feature_flags",Zu="$override_feature_flags",LR="$feature_flag_payloads",fp="$override_feature_flag_payloads",DR="$feature_flag_request_id",FR="$feature_flag_evaluated_at",BR=e=>{var t={};for(var[r,n]of S0(e||{}))n&&(t[r]=n);return t},Mne=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map(r=>{var n;return[r,(n=t[r].variant)!==null&&n!==void 0?n:t[r].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter(r=>t[r].enabled).filter(r=>{var n;return(n=t[r].metadata)==null?void 0:n.payload}).map(r=>{var n;return[r,(n=t[r].metadata)==null?void 0:n.payload]}))):Va.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},Ine=function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e}({});class Lne{constructor(t){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=t,this.featureFlagEventHandlers=[]}li(){var t=this._instance.config.evaluation_environments;return t!=null&&t.length?t.filter(r=>{var n=r&&typeof r=="string"&&r.trim().length>0;return n||Va.error("Invalid evaluation environment found:",r,"Expected non-empty string"),n}):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var t=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.di({disableFlags:t})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(Bk),r=this._instance.get_property(Zu),n=this._instance.get_property(fp);if(!n&&!r)return t||{};var s=Qr({},t||{}),a=[...new Set([...Object.keys(n||{}),...Object.keys(r||{})])];for(var i of a){var l,c,u=s[i],d=r==null?void 0:r[i],f=Je(d)?(l=u==null?void 0:u.enabled)!==null&&l!==void 0&&l:!!d,h=Je(d)?u.variant:typeof d=="string"?d:void 0,g=n==null?void 0:n[i],y=ot({},u,{enabled:f,variant:f?h??(u==null?void 0:u.variant):void 0});f!==(u==null?void 0:u.enabled)&&(y.original_enabled=u==null?void 0:u.enabled),h!==(u==null?void 0:u.variant)&&(y.original_variant=u==null?void 0:u.variant),g&&(y.metadata=ot({},u==null?void 0:u.metadata,{payload:g,original_payload:u==null||(c=u.metadata)==null?void 0:c.payload})),s[i]=y}return this.ii||(Va.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:n,finalDetails:s}),this.ii=!0),s}getFlagVariants(){var t=this._instance.get_property(Md),r=this._instance.get_property(Zu);if(!r)return t||{};for(var n=Qr({},t),s=Object.keys(r),a=0;a<s.length;a++)n[s[a]]=r[s[a]];return this.ii||(Va.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:r,finalFlags:n}),this.ii=!0),n}getFlagPayloads(){var t=this._instance.get_property(LR),r=this._instance.get_property(fp);if(!r)return t||{};for(var n=Qr({},t||{}),s=Object.keys(r),a=0;a<s.length;a++)n[s[a]]=r[s[a]];return this.ii||(Va.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:r,finalPayloads:n}),this.ii=!0),n}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout(()=>{this.di()},5))}vi(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.si=t}di(t){var r;if(this.vi(),!this._instance.O())if(this.ri)this.ni=!0;else{var n=this._instance.config.token,s=this._instance.get_property("$device_id"),a={token:n,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:ot({},((r=this._instance.persistence)==null?void 0:r.get_initial_props())||{},this._instance.get_property(Vp)||{}),group_properties:this._instance.get_property(Oc)};gi(s)||Je(s)||(a.$device_id=s),(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(a.disable_flags=!0),this.ui()&&(a.evaluation_environments=this.li());var i=this._instance.config.__preview_remote_config,l=i?"/flags/?v=2":"/flags/?v=2&config=true",c=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",u=this._instance.requestRouter.endpointFor("flags",l+c);i&&(a.timezone=NU()),this.ri=!0,this._instance._send_request({method:"POST",url:u,data:a,compression:this._instance.config.disable_compression?void 0:vo.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:d=>{var f,h,g=!0;if(d.statusCode===200&&(this.ni||(this.$anon_distinct_id=void 0),g=!1),this.ri=!1,this.oi||(this.oi=!0,this._instance.ci((h=d.json)!==null&&h!==void 0?h:{})),!a.disable_flags||this.ni)if(this.ai=!g,d.json&&(f=d.json.quotaLimited)!=null&&f.includes(Ine.FeatureFlags))Va.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var y;a.disable_flags||this.receivedFeatureFlags((y=d.json)!==null&&y!==void 0?y:{},g),this.ni&&(this.ni=!1,this.di())}}})}}getFeatureFlag(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[t],s=""+n,a=this._instance.get_property(DR)||void 0,i=this._instance.get_property(FR)||void 0,l=this._instance.get_property(ux)||{};if((r.send_event||!("send_event"in r))&&(!(t in l)||!l[t].includes(s))){var c,u,d,f,h,g,y,m,v;lr(l[t])?l[t].push(s):l[t]=[s],(c=this._instance.persistence)==null||c.register({[ux]:l});var x=this.getFeatureFlagDetails(t),w={$feature_flag:t,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:a,$feature_flag_evaluated_at:i,$feature_flag_bootstrapped_response:((u=this._instance.config.bootstrap)==null||(u=u.featureFlags)==null?void 0:u[t])||null,$feature_flag_bootstrapped_payload:((d=this._instance.config.bootstrap)==null||(d=d.featureFlagPayloads)==null?void 0:d[t])||null,$used_bootstrap_value:!this.ai};Je(x==null||(f=x.metadata)==null?void 0:f.version)||(w.$feature_flag_version=x.metadata.version);var b,_=(h=x==null||(g=x.reason)==null?void 0:g.description)!==null&&h!==void 0?h:x==null||(y=x.reason)==null?void 0:y.code;_&&(w.$feature_flag_reason=_),x!=null&&(m=x.metadata)!=null&&m.id&&(w.$feature_flag_id=x.metadata.id),Je(x==null?void 0:x.original_variant)&&Je(x==null?void 0:x.original_enabled)||(w.$feature_flag_original_response=Je(x.original_variant)?x.original_enabled:x.original_variant),x!=null&&(v=x.metadata)!=null&&v.original_payload&&(w.$feature_flag_original_payload=x==null||(b=x.metadata)==null?void 0:b.original_payload),this._instance.capture("$feature_flag_called",w)}return n}Va.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,r){var n=this._instance.config.token,s={distinct_id:this._instance.get_distinct_id(),token:n};this.ui()&&(s.evaluation_environments=this.li()),this._instance._send_request({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:s,compression:this._instance.config.disable_compression?void 0:vo.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:a=>{var i,l=(i=a.json)==null?void 0:i.featureFlagPayloads;r((l==null?void 0:l[t])||void 0)}})}isFeatureEnabled(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFeatureFlag(t,r);return Je(n)?void 0:!!n}Va.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(r=>r!==t)}receivedFeatureFlags(t,r){if(this._instance.persistence){this.ei=!0;var n=this.getFlagVariants(),s=this.getFlagPayloads(),a=this.getFlagsWithDetails();(function(i,l,c,u,d){c===void 0&&(c={}),u===void 0&&(u={}),d===void 0&&(d={});var f=Mne(i),h=f.flags,g=f.featureFlags,y=f.featureFlagPayloads;if(g){var m=i.requestId,v=i.evaluatedAt;if(lr(g)){Va.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var x={};if(g)for(var w=0;w<g.length;w++)x[g[w]]=!0;l&&l.register({[Q_]:g,[Md]:x})}else{var b=g,_=y,S=h;i.errorsWhileComputingFlags&&(b=ot({},c,b),_=ot({},u,_),S=ot({},d,S)),l&&l.register(ot({[Q_]:Object.keys(BR(b)),[Md]:b||{},[LR]:_||{},[Bk]:S||{}},m?{[DR]:m}:{},v?{[FR]:v}:{}))}}})(t,this._instance.persistence,n,s,a),this.fi(r)}}override(t,r){r===void 0&&(r=!1),Va.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:r})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return Va.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(Zu),this._instance.persistence.unregister(fp),this.fi(),dp.info("All overrides cleared");if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var r,n=t;if(this.ii=!!((r=n.suppressWarning)!==null&&r!==void 0&&r),"flags"in n){if(n.flags===!1)this._instance.persistence.unregister(Zu),dp.info("Flag overrides cleared");else if(n.flags){if(lr(n.flags)){for(var s={},a=0;a<n.flags.length;a++)s[n.flags[a]]=!0;this._instance.persistence.register({[Zu]:s})}else this._instance.persistence.register({[Zu]:n.flags});dp.info("Flag overrides set",{flags:n.flags})}}return"payloads"in n&&(n.payloads===!1?(this._instance.persistence.unregister(fp),dp.info("Payload overrides cleared")):n.payloads&&(this._instance.persistence.register({[fp]:n.payloads}),dp.info("Payload overrides set",{payloads:n.payloads}))),void this.fi()}this.fi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ei){var{flags:r,flagVariants:n}=this.pi();t(r,n)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,r,n){var s,a=(this._instance.get_property(Wp)||[]).find(u=>u.flagKey===t),i={["$feature_enrollment/"+t]:r},l={$feature_flag:t,$feature_enrollment:r,$set:i};a&&(l.$early_access_feature_name=a.name),n&&(l.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",l),this.setPersonPropertiesForFlags(i,!1);var c=ot({},this.getFlagVariants(),{[t]:r});(s=this._instance.persistence)==null||s.register({[Q_]:Object.keys(BR(c)),[Md]:c}),this.fi()}getEarlyAccessFeatures(t,r,n){r===void 0&&(r=!1);var s=this._instance.get_property(Wp),a=n?"&"+n.map(i=>"stage="+i).join("&"):"";if(s&&!r)return t(s);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+a),method:"GET",callback:i=>{var l,c;if(i.json){var u=i.json.earlyAccessFeatures;return(l=this._instance.persistence)==null||l.unregister(Wp),(c=this._instance.persistence)==null||c.register({[Wp]:u}),t(u)}}})}pi(){var t=this.getFlags(),r=this.getFlagVariants();return{flags:t.filter(n=>r[n]),flagVariants:Object.keys(r).filter(n=>r[n]).reduce((n,s)=>(n[s]=r[s],n),{})}}fi(t){var{flags:r,flagVariants:n}=this.pi();this.featureFlagEventHandlers.forEach(s=>s(r,n,{errorsLoading:t}))}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Vp)||{};this._instance.register({[Vp]:ot({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Vp)}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Oc)||{};Object.keys(n).length!==0&&Object.keys(n).forEach(s=>{n[s]=ot({},n[s],t[s]),delete t[s]}),this._instance.register({[Oc]:ot({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var r=this._instance.get_property(Oc)||{};this._instance.register({[Oc]:ot({},r,{[t]:{}})})}else this._instance.unregister(Oc)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.vi(),this.ii=!1}}var Dne=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class Z_{constructor(t,r){this.I=t,this.props={},this.gi=!1,this.mi=(n=>{var s="";return n.token&&(s=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+s+"_posthog"})(t),this.Y=this.yi(t),this.load(),t.debug&&Ze.info("Persistence loaded",t.persistence,ot({},this.props)),this.update_config(t,t,r),this.save()}isDisabled(){return!!this.bi}yi(t){Dne.indexOf(t.persistence.toLowerCase())===-1&&(Ze.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var r=t.persistence.toLowerCase();return r==="localstorage"&&qr.H()?qr:r==="localstorage+cookie"&&hv.H()?hv:r==="sessionstorage"&&Dn.H()?Dn:r==="memory"?Jre:r==="cookie"?Bi:hv.H()?hv:Bi}properties(){var t={};return Er(this.props,function(r,n){if(n===Md&&Cn(r))for(var s=Object.keys(r),a=0;a<s.length;a++)t["$feature/"+s[a]]=r[s[a]];else l=n,c=!1,(gi(i=Cre)?c:Z$&&i.indexOf===Z$?i.indexOf(l)!=-1:(Er(i,function(u){if(c||(c=u===l))return lx}),c))||(t[n]=r);var i,l,c}),t}load(){if(!this.bi){var t=this.Y.W(this.mi);t&&(this.props=Qr({},t))}}save(){this.bi||this.Y.G(this.mi,this.props,this.wi,this.xi,this.Ei,this.I.debug)}remove(){this.Y.V(this.mi,!1),this.Y.V(this.mi,!0)}clear(){this.remove(),this.props={}}register_once(t,r,n){if(Cn(t)){Je(r)&&(r="None"),this.wi=Je(n)?this.Si:n;var s=!1;if(Er(t,(a,i)=>{this.props.hasOwnProperty(i)&&this.props[i]!==r||(this.props[i]=a,s=!0)}),s)return this.save(),!0}return!1}register(t,r){if(Cn(t)){this.wi=Je(r)?this.Si:r;var n=!1;if(Er(t,(s,a)=>{t.hasOwnProperty(a)&&this.props[a]!==s&&(this.props[a]=s,n=!0)}),n)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.gi){var t=wU(this.I.custom_campaign_params,this.I.mask_personal_data_properties,this.I.custom_personal_data_properties);Rd(uP(t))||this.register(t),this.gi=!0}}update_search_keyword(){var t;this.register((t=Qe==null?void 0:Qe.referrer)?SU(t):{})}update_referrer_info(){var t;this.register_once({$referrer:jU(),$referring_domain:Qe!=null&&Qe.referrer&&((t=px(Qe.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[Wk]||this.props[Vk]||this.register_once({[dx]:kU(this.I.mask_personal_data_properties,this.I.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};Er([Vk,Wk],i=>{var l=this.props[i];l&&Er(l,function(c,u){t["$initial_"+Rk(u)]=c})});var r,n,s=this.props[dx];if(s){var a=(r=EU(s),n={},Er(r,function(i,l){n["$initial_"+Rk(l)]=i}),n);Qr(t,a)}return t}safe_merge(t){return Er(this.props,function(r,n){n in t||(t[n]=r)}),t}update_config(t,r,n){if(this.Si=this.wi=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!n),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==r.persistence){var s=this.yi(t),a=this.props;this.clear(),this.Y=s,this.props=a,this.save()}}set_disabled(t){this.bi=t,this.bi?this.remove():this.save()}set_cross_subdomain(t){t!==this.xi&&(this.xi=t,this.remove(),this.save())}set_secure(t){t!==this.Ei&&(this.Ei=t,this.remove(),this.save())}set_event_timer(t,r){var n=this.props[qp]||{};n[t]=r,this.props[qp]=n,this.save()}remove_event_timer(t){var r=(this.props[qp]||{})[t];return Je(r)||(delete this.props[qp][t],this.save()),r}get_property(t){return this.props[t]}set_property(t,r){this.props[t]=r,this.save()}}var os=rn("[Product Tours]"),eS="ph_product_tours";class Fne{constructor(t){this.$i=null,this.ki=null,this.Pi=void 0,this.Ti=!1,this._instance=t}onRemoteConfig(t){if(this._instance.config.disable_product_tours)os.info("Product tours disabled via config");else{var r=t.productTours;rr(r)?os.info("Product tours not enabled in remote config"):(this.Pi=r,os.info("Remote config received, isProductToursEnabled: "+this.Pi),this.loadIfEnabled())}}loadIfEnabled(){var t;if(!this.ki)if(this.Ti)os.info("Already initializing product tours, skipping...");else if(this._instance.config.disable_product_tours)os.info("Product tours disabled via config");else{var r=jt==null?void 0:jt.__PosthogExtensions__;if(r){var n=(t=this._instance.featureFlags)==null?void 0:t.isFeatureEnabled("product-tours-2025");if(!Je(this.Pi)||n){var s=this.Pi||n;if(s){this.Ti=!0;try{var a=r.generateProductTours;if(a)return void this.Ci(a,s);var i=r.loadExternalDependency;if(!i)return os.error("PostHog loadExternalDependency extension not found."),void(this.Ti=!1);i(this._instance,"product-tours",l=>{l||!r.generateProductTours?os.error("Could not load product tours script",l):this.Ci(r.generateProductTours,s),this.Ti=!1})}catch(l){os.error("Error initializing product tours",l),this.Ti=!1}}else os.info("Product tours not enabled")}else os.info("Waiting for remote config or feature flag to enable product tours")}else os.error("PostHog Extensions not found.")}}Ci(t,r){this.ki=t(this._instance,r)||null,os.info("Product tours loaded successfully")}getProductTours(t,r){if(r===void 0&&(r=!1),!lr(this.$i)||r){var n=this._instance.persistence;if(n){var s=n.props[eS];if(lr(s)&&!r)return this.$i=s,void t(s,{isLoaded:!0})}this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/product_tours/?token="+this._instance.config.token),method:"GET",callback:a=>{var i=a.statusCode;if(i!==200||!a.json){var l="Product Tours API could not be loaded, status: "+i;return os.error(l),void t([],{isLoaded:!1,error:l})}var c=lr(a.json.product_tours)?a.json.product_tours:[];this.$i=c,n&&n.register({[eS]:c}),t(c,{isLoaded:!0})}})}else t(this.$i,{isLoaded:!0})}getActiveProductTours(t){if(rr(this.ki))return os.warn("Product tours not loaded yet"),void t([],{isLoaded:!1,error:"Product tours not loaded"});this.ki.getActiveProductTours(t)}showProductTour(t){var r;os.info("showProductTour("+t+")"),(r=this.ki)==null||r.showTourById(t)}dismissProductTour(){var t;(t=this.ki)==null||t.dismissTour("user_clicked_skip")}nextStep(){var t;(t=this.ki)==null||t.nextStep()}previousStep(){var t;(t=this.ki)==null||t.previousStep()}clearCache(){this.$i=null;var t=this._instance.persistence;t&&t.unregister(eS)}resetTour(t){var r;(r=this.ki)==null||r.resetTour(t)}resetAllTours(){var t;(t=this.ki)==null||t.resetAllTours()}}var hp=function(e){return e.Activation="events",e.Cancellation="cancelEvents",e}({});(function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e})({});(function(e){return e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger",e})({});(function(e){return e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e})({});var tS=function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e}({});(function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e})({});(function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e})({});(function(e){return e.Once="once",e.Recurring="recurring",e.Always="always",e})({});var k0=function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e}({}),UR=function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e}({}),MU=function(e){return e.Popover="popover",e.Inline="inline",e}({});class bP{constructor(){this.Ri={},this.Ri={}}on(t,r){return this.Ri[t]||(this.Ri[t]=[]),this.Ri[t].push(r),()=>{this.Ri[t]=this.Ri[t].filter(n=>n!==r)}}emit(t,r){for(var n of this.Ri[t]||[])n(r);for(var s of this.Ri["*"]||[])s(t,r)}}function ed(e,t,r){if(rr(e))return!1;switch(r){case"exact":return e===t;case"contains":var n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/_/g,".").replace(/%/g,".*");return new RegExp(n,"i").test(e);case"regex":try{return new RegExp(t).test(e)}catch{return!1}default:return!1}}class Bne{constructor(t){this.Ii=new bP,this.Fi=(r,n)=>this.Mi(r,n)&&this.Oi(r,n)&&this.Ai(r,n)&&this.Di(r,n),this.Mi=(r,n)=>n==null||!n.event||(r==null?void 0:r.event)===(n==null?void 0:n.event),this._instance=t,this.ji=new Set,this.Li=new Set}init(){var t;if(!Je((t=this._instance)==null?void 0:t.Ni)){var r;(r=this._instance)==null||r.Ni((n,s)=>{this.on(n,s)})}}register(t){var r,n;if(!Je((r=this._instance)==null?void 0:r.Ni)&&(t.forEach(i=>{var l,c;(l=this.Li)==null||l.add(i),(c=i.steps)==null||c.forEach(u=>{var d;(d=this.ji)==null||d.add((u==null?void 0:u.event)||"")})}),(n=this._instance)!=null&&n.autocapture)){var s,a=new Set;t.forEach(i=>{var l;(l=i.steps)==null||l.forEach(c=>{c!=null&&c.selector&&a.add(c==null?void 0:c.selector)})}),(s=this._instance)==null||s.autocapture.setElementSelectors(a)}}on(t,r){var n;r!=null&&t.length!=0&&(this.ji.has(t)||this.ji.has(r==null?void 0:r.event))&&this.Li&&((n=this.Li)==null?void 0:n.size)>0&&this.Li.forEach(s=>{this.Ui(r,s)&&this.Ii.emit("actionCaptured",s.name)})}zi(t){this.onAction("actionCaptured",r=>t(r))}Ui(t,r){if((r==null?void 0:r.steps)==null)return!1;for(var n of r.steps)if(this.Fi(t,n))return!0;return!1}onAction(t,r){return this.Ii.on(t,r)}Oi(t,r){if(r!=null&&r.url){var n,s=t==null||(n=t.properties)==null?void 0:n.$current_url;if(!s||typeof s!="string"||!ed(s,r.url,r.url_matching||"contains"))return!1}return!0}Ai(t,r){return!!this.Hi(t,r)&&!!this.Bi(t,r)&&!!this.qi(t,r)}Hi(t,r){var n;if(r==null||!r.href)return!0;var s=this.Wi(t);if(s.length>0)return s.some(l=>ed(l.href,r.href,r.href_matching||"exact"));var a,i=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!i&&ed((a=i.match(/(?::|")href="(.*?)"/))?a[1]:"",r.href,r.href_matching||"exact")}Bi(t,r){var n;if(r==null||!r.text)return!0;var s=this.Wi(t);if(s.length>0)return s.some(u=>ed(u.text,r.text,r.text_matching||"exact")||ed(u.$el_text,r.text,r.text_matching||"exact"));var a,i,l,c=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!c&&(a=function(u){for(var d,f=[],h=/(?::|")text="(.*?)"/g;!rr(d=h.exec(u));)f.includes(d[1])||f.push(d[1]);return f}(c),i=r.text,l=r.text_matching||"exact",a.some(u=>ed(u,i,l)))}qi(t,r){var n,s;if(r==null||!r.selector)return!0;var a=t==null||(n=t.properties)==null?void 0:n.$element_selectors;if(a!=null&&a.includes(r.selector))return!0;var i=(t==null||(s=t.properties)==null?void 0:s.$elements_chain)||"";if(r.selector_regex&&i)try{return new RegExp(r.selector_regex).test(i)}catch{return!1}return!1}Wi(t){var r;return(t==null||(r=t.properties)==null?void 0:r.$elements)==null?[]:t==null?void 0:t.properties.$elements}Di(t,r){return r==null||!r.properties||r.properties.length===0||RU(r.properties.reduce((n,s)=>{var a=lr(s.value)?s.value.map(String):s.value!=null?[String(s.value)]:[];return n[s.key]={values:a,operator:s.operator||"exact"},n},{}),t==null?void 0:t.properties)}}var fr=rn("[Surveys]"),Zk="seenSurvey_",Une=(e,t)=>{var r="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(r="$survey_"+t+"/"+e.id+"/"+e.current_iteration),r},zR=e=>{var t=""+Zk+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+Zk+e.id+"_"+e.current_iteration),t},zne=[tS.Popover,tS.Widget,tS.API],qne={ignoreConditions:!1,ignoreDelay:!1,displayType:MU.Popover};class Wne{constructor(t){this._instance=t,this.Gi=new Map,this.Vi=new Map,this.Ji=new Map}Ki(t,r){return!!t&&RU(t.propertyFilters,r==null?void 0:r.properties)}Yi(t,r){var n=new Map;return t.forEach(s=>{var a;(a=s.conditions)==null||(a=a[r])==null||(a=a.values)==null||a.forEach(i=>{if(i!=null&&i.name){var l=n.get(i.name)||[];l.push(s.id),n.set(i.name,l)}})}),n}Xi(t,r,n){var s,a=(n===hp.Activation?this.Gi:this.Vi).get(t),i=[];return(s=this._instance)==null||s.getSurveys(l=>{i=l.filter(c=>a==null?void 0:a.includes(c.id))}),i.filter(l=>{var c,u=(c=l.conditions)==null||(c=c[n])==null||(c=c.values)==null?void 0:c.find(d=>d.name===t);return this.Ki(u,r)})}register(t){var r;Je((r=this._instance)==null?void 0:r.Ni)||(this.Qi(t),this.Zi(t))}Zi(t){var r=t.filter(n=>{var s,a;return((s=n.conditions)==null?void 0:s.actions)&&((a=n.conditions)==null||(a=a.actions)==null||(a=a.values)==null?void 0:a.length)>0});r.length!==0&&(this.te==null&&(this.te=new Bne(this._instance),this.te.init(),this.te.zi(n=>{this.onAction(n)})),r.forEach(n=>{var s,a,i,l,c;n.conditions&&(s=n.conditions)!=null&&s.actions&&(a=n.conditions)!=null&&(a=a.actions)!=null&&a.values&&((i=n.conditions)==null||(i=i.actions)==null||(i=i.values)==null?void 0:i.length)>0&&((l=this.te)==null||l.register(n.conditions.actions.values),(c=n.conditions)==null||(c=c.actions)==null||(c=c.values)==null||c.forEach(u=>{if(u&&u.name){var d=this.Ji.get(u.name);d&&d.push(n.id),this.Ji.set(u.name,d||[n.id])}}))}))}Qi(t){var r,n=t.filter(a=>{var i,l;return((i=a.conditions)==null?void 0:i.events)&&((l=a.conditions)==null||(l=l.events)==null||(l=l.values)==null?void 0:l.length)>0}),s=t.filter(a=>{var i,l;return((i=a.conditions)==null?void 0:i.cancelEvents)&&((l=a.conditions)==null||(l=l.cancelEvents)==null||(l=l.values)==null?void 0:l.length)>0});(n.length!==0||s.length!==0)&&((r=this._instance)==null||r.Ni((a,i)=>{this.onEvent(a,i)}),this.Gi=this.Yi(t,hp.Activation),this.Vi=this.Yi(t,hp.Cancellation))}onEvent(t,r){var n,s=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[fv])||[];if(k0.SHOWN===t&&r&&s.length>0){var a;fr.info("survey event matched, removing survey from activated surveys",{event:t,eventPayload:r,existingActivatedSurveys:s});var i=r==null||(a=r.properties)==null?void 0:a.$survey_id;if(i){var l=s.indexOf(i);l>=0&&(s.splice(l,1),this.ie(s))}}else{if(this.Vi.has(t)){var c=this.Xi(t,r,hp.Cancellation);c.length>0&&(fr.info("cancel event matched, cancelling surveys",{event:t,surveysToCancel:c.map(d=>d.id)}),c.forEach(d=>{var f,h=s.indexOf(d.id);h>=0&&s.splice(h,1),(f=this._instance)==null||f.cancelPendingSurvey(d.id)}),this.ie(s))}if(this.Gi.has(t)){fr.info("survey event name matched",{event:t,eventPayload:r,surveys:this.Gi.get(t)});var u=this.Xi(t,r,hp.Activation);this.ie(s.concat(u.map(d=>d.id)||[]))}}}onAction(t){var r,n=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[fv])||[];this.Ji.has(t)&&this.ie(n.concat(this.Ji.get(t)||[]))}ie(t){var r;fr.info("updating activated surveys",{activatedSurveys:t}),(r=this._instance)==null||(r=r.persistence)==null||r.register({[fv]:[...new Set(t)]})}getSurveys(){var t,r=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[fv];return r||[]}getEventToSurveys(){return this.Gi}ee(){return this.te}}class Vne{constructor(t){this.re=void 0,this._surveyManager=null,this.se=!1,this.ne=!1,this.oe=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var r=t.surveys;if(rr(r))return fr.warn("Flags not loaded yet. Not loading surveys.");var n=lr(r);this.re=n?r.length>0:r,fr.info("flags response received, isSurveysEnabled: "+this.re),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);(n!=null&&n.startsWith(Zk)||n!=null&&n.startsWith("inProgressSurvey_"))&&t.push(n)}t.forEach(s=>localStorage.removeItem(s))}loadIfEnabled(){if(!this._surveyManager)if(this.ne)fr.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)fr.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())fr.info("Not loading surveys in cookieless mode without consent.");else{var t=jt==null?void 0:jt.__PosthogExtensions__;if(t){if(!Je(this.re)||this._instance.config.advanced_enable_surveys){var r=this.re||this._instance.config.advanced_enable_surveys;this.ne=!0;try{var n=t.generateSurveys;if(n)return void this.ae(n,r);var s=t.loadExternalDependency;if(!s)return void this.le("PostHog loadExternalDependency extension not found.");s(this._instance,"surveys",a=>{a||!t.generateSurveys?this.le("Could not load surveys script",a):this.ae(t.generateSurveys,r)})}catch(a){throw this.le("Error initializing surveys",a),a}finally{this.ne=!1}}}else fr.error("PostHog Extensions not found.")}}ae(t,r){this._surveyManager=t(this._instance,r),this._surveyEventReceiver=new Wne(this._instance),fr.info("Surveys loaded successfully"),this.ue({isLoaded:!0})}le(t,r){fr.error(t,r),this.ue({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.oe.push(t),this._surveyManager&&this.ue({isLoaded:!0}),()=>{this.oe=this.oe.filter(r=>r!==t)}}getSurveys(t,r){if(r===void 0&&(r=!1),this._instance.config.disable_surveys)return fr.info("Disabled. Not loading surveys."),t([]);var n=this._instance.get_property(Uk);if(n&&!r)return t(n,{isLoaded:!0});if(this.se)return t([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.se=!0,this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:s=>{var a;this.se=!1;var i=s.statusCode;if(i!==200||!s.json){var l="Surveys API could not be loaded, status: "+i;return fr.error(l),t([],{isLoaded:!1,error:l})}var c,u=s.json.surveys||[],d=u.filter(f=>function(h){return!(!h.start_date||h.end_date)}(f)&&(function(h){var g;return!((g=h.conditions)==null||(g=g.events)==null||(g=g.values)==null||!g.length)}(f)||function(h){var g;return!((g=h.conditions)==null||(g=g.actions)==null||(g=g.values)==null||!g.length)}(f)));return d.length>0&&((c=this._surveyEventReceiver)==null||c.register(d)),(a=this._instance.persistence)==null||a.register({[Uk]:u}),t(u,{isLoaded:!0})}})}catch(s){throw this.se=!1,s}}ue(t){for(var r of this.oe)try{if(!t.isLoaded)return r([],t);this.getSurveys(r)}catch(n){fr.error("Error in survey callback",n)}}getActiveMatchingSurveys(t,r){if(r===void 0&&(r=!1),!rr(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,r);fr.warn("init was not called")}he(t){var r=null;return this.getSurveys(n=>{var s;r=(s=n.find(a=>a.id===t))!==null&&s!==void 0?s:null}),r}de(t){if(rr(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var r=typeof t=="string"?this.he(t):t;return r?this._surveyManager.checkSurveyEligibility(r):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(rr(this._surveyManager))return fr.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var r=this.de(t);return{visible:r.eligible,disabledReason:r.reason}}canRenderSurveyAsync(t,r){return rr(this._surveyManager)?(fr.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(n=>{this.getSurveys(s=>{var a,i=(a=s.find(c=>c.id===t))!==null&&a!==void 0?a:null;if(i){var l=this.de(i);n({visible:l.eligible,disabledReason:l.reason})}else n({visible:!1,disabledReason:"Survey not found"})},r)})}renderSurvey(t,r){var n;if(rr(this._surveyManager))fr.warn("init was not called");else{var s=typeof t=="string"?this.he(t):t;if(s!=null&&s.id)if(zne.includes(s.type)){var a=Qe==null?void 0:Qe.querySelector(r);if(a)return(n=s.appearance)!=null&&n.surveyPopupDelaySeconds?(fr.info("Rendering survey "+s.id+" with delay of "+s.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout(()=>{var i,l;fr.info("Rendering survey "+s.id+" with delay of "+((i=s.appearance)==null?void 0:i.surveyPopupDelaySeconds)+" seconds"),(l=this._surveyManager)==null||l.renderSurvey(s,a),fr.info("Survey "+s.id+" rendered")},1e3*s.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(s,a);fr.warn("Survey element not found")}else fr.warn("Surveys of type "+s.type+" cannot be rendered in the app");else fr.warn("Survey not found")}}displaySurvey(t,r){var n;if(rr(this._surveyManager))fr.warn("init was not called");else{var s=this.he(t);if(s){var a=s;if((n=s.appearance)!=null&&n.surveyPopupDelaySeconds&&r.ignoreDelay&&(a=ot({},s,{appearance:ot({},s.appearance,{surveyPopupDelaySeconds:0})})),r.ignoreConditions===!1){var i=this.canRenderSurvey(s);if(!i.visible)return void fr.warn("Survey is not eligible to be displayed: ",i.disabledReason)}r.displayType!==MU.Inline?this._surveyManager.handlePopoverSurvey(a):this.renderSurvey(a,r.selector)}else fr.warn("Survey not found")}}cancelPendingSurvey(t){rr(this._surveyManager)?fr.warn("init was not called"):this._surveyManager.cancelSurvey(t)}}var pp=rn("[Conversations]");class Hne{constructor(t){this.ve=void 0,this._conversationsManager=null,this.Ti=!1,this.ce=null,this._instance=t}onRemoteConfig(t){if(!this._instance.config.disable_conversations){var r=t.conversations;rr(r)||(Eo(r)?this.ve=r:(this.ve=r.enabled,this.ce=r),this.loadIfEnabled())}}reset(){var t;(t=this._conversationsManager)==null||t.reset(),this._conversationsManager=null,this.ve=void 0,this.ce=null}loadIfEnabled(){if(!this._conversationsManager&&!this.Ti&&!(this._instance.config.disable_conversations||this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())){var t=jt==null?void 0:jt.__PosthogExtensions__;if(t&&!Je(this.ve)&&this.ve)if(this.ce&&this.ce.token){if(function(s){var a;if(!s||s.length===0)return!0;var i=ve==null||(a=ve.location)==null?void 0:a.hostname;return!i||s.some(l=>{var c=function(d){var f=d.replace(/^https?:\/\//,"");return(f=f.split("/")[0].split("?")[0].split(":")[0])||null}(l);if(!c)return!1;if(c.startsWith("*.")){var u=c.slice(2);return i.endsWith("."+u)||i===u}return i===c})}(this.ce.domains)){this.Ti=!0;try{var r=t.initConversations;if(r)return this.Ci(r),void(this.Ti=!1);var n=t.loadExternalDependency;if(!n)return void this.fe("PostHog loadExternalDependency extension not found.");n(this._instance,"conversations",s=>{s||!t.initConversations?this.fe("Could not load conversations script",s):this.Ci(t.initConversations),this.Ti=!1})}catch(s){this.fe("Error initializing conversations",s),this.Ti=!1}}}else pp.error("Conversations enabled but missing token in remote config.")}}Ci(t){if(this.ce)try{this._conversationsManager=t(this.ce,this._instance),pp.info("Conversations loaded successfully")}catch(r){this.fe("Error completing conversations initialization",r)}else pp.error("Cannot complete initialization: remote config is null")}fe(t,r){pp.error(t,r),this._conversationsManager=null,this.Ti=!1}enable(){this._conversationsManager?this._conversationsManager.enable():pp.warn("Conversations not loaded yet.")}disable(){this._conversationsManager&&this._conversationsManager.disable()}isLoaded(){return!gi(this._conversationsManager)}isEnabled(){return this.ve===!0}}var qR=rn("[RateLimiter]");class Kne{constructor(t){var r,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=s=>{var a=s.text;if(a&&a.length)try{(JSON.parse(a).quota_limited||[]).forEach(i=>{qR.info((i||"events")+" is quota limited."),this.serverLimits[i]=new Date().getTime()+6e4})}catch(i){return void qR.warn('could not rate limit - continuing. Error: "'+(i==null?void 0:i.message)+'"',{text:a})}},this.instance=t,this.captureEventsPerSecond=((r=t.config.rate_limiting)==null?void 0:r.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((n=t.config.rate_limiting)==null?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var r,n,s;t===void 0&&(t=!1);var a=new Date().getTime(),i=(r=(n=this.instance.persistence)==null?void 0:n.get_property(qk))!==null&&r!==void 0?r:{tokens:this.captureEventsBurstLimit,last:a};i.tokens+=(a-i.last)/1e3*this.captureEventsPerSecond,i.last=a,i.tokens>this.captureEventsBurstLimit&&(i.tokens=this.captureEventsBurstLimit);var l=i.tokens<1;return l||t||(i.tokens=Math.max(0,i.tokens-1)),!l||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=l,(s=this.instance.persistence)==null||s.set_property(qk,i),{isRateLimited:l,remainingTokens:i.tokens}}isServerRateLimited(t){var r=this.serverLimits[t||"events"]||!1;return r!==!1&&new Date().getTime()<r}}var kc=rn("[RemoteConfig]");class Gne{constructor(t){this._instance=t}get remoteConfig(){var t;return(t=jt._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.config}pe(t){var r,n;(r=jt.__PosthogExtensions__)!=null&&r.loadExternalDependency?(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"remote-config",()=>t(this.remoteConfig)):(kc.error("PostHog Extensions not found. Cannot load remote config."),t())}ge(t){this._instance._send_request({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:r=>{t(r.json)}})}load(){try{if(this.remoteConfig)return kc.info("Using preloaded remote config",this.remoteConfig),void this.ci(this.remoteConfig);if(this._instance.O())return void kc.warn("Remote config is disabled. Falling back to local config.");this.pe(t=>{if(!t)return kc.info("No config found after loading remote JS config. Falling back to JSON."),void this.ge(r=>{this.ci(r)});this.ci(t)})}catch(t){kc.error("Error loading remote config",t)}}ci(t){t?this._instance.config.__preview_remote_config?(this._instance.ci(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):kc.info("__preview_remote_config is disabled. Logging config instead",t):kc.error("Failed to fetch remote config from PostHog.")}}var eE=3e3;class Jne{constructor(t,r){this._e=!0,this.me=[],this.ye=Ri((r==null?void 0:r.flush_interval_ms)||eE,250,5e3,Ze.createLogger("flush interval"),eE),this.be=t}enqueue(t){this.me.push(t),this.we||this.xe()}unload(){this.Ee();var t=this.me.length>0?this.Se():{},r=Object.values(t);[...r.filter(n=>n.url.indexOf("/e")===0),...r.filter(n=>n.url.indexOf("/e")!==0)].map(n=>{this.be(ot({},n,{transport:"sendBeacon"}))})}enable(){this._e=!1,this.xe()}xe(){var t=this;this._e||(this.we=setTimeout(()=>{if(this.Ee(),this.me.length>0){var r=this.Se(),n=function(){var a=r[s],i=new Date().getTime();a.data&&lr(a.data)&&Er(a.data,l=>{l.offset=Math.abs(l.timestamp-i),delete l.timestamp}),t.be(a)};for(var s in r)n()}},this.ye))}Ee(){clearTimeout(this.we),this.we=void 0}Se(){var t={};return Er(this.me,r=>{var n,s=r,a=(s?s.batchKey:null)||s.url;Je(t[a])&&(t[a]=ot({},s,{data:[]})),(n=t[a].data)==null||n.push(s.data)}),this.me=[],t}}var Yne=["retriesPerformedSoFar"];class Xne{constructor(t){this.$e=!1,this.ke=3e3,this.me=[],this._instance=t,this.me=[],this.Pe=!0,!Je(ve)&&"onLine"in ve.navigator&&(this.Pe=ve.navigator.onLine,this.Te=()=>{this.Pe=!0,this.Dt()},this.Ce=()=>{this.Pe=!1},on(ve,"online",this.Te),on(ve,"offline",this.Ce))}get length(){return this.me.length}retriableRequest(t){var{retriesPerformedSoFar:r}=t,n=AB(t,Yne);Hi(r)&&r>0&&(n.url=bx(n.url,{retry_count:r})),this._instance._send_request(ot({},n,{callback:s=>{s.statusCode!==200&&(s.statusCode<400||s.statusCode>=500)&&(r??0)<10?this.Re(ot({retriesPerformedSoFar:r},n)):n.callback==null||n.callback(s)}}))}Re(t){var r=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=r+1;var n=function(i){var l=3e3*Math.pow(2,i),c=l/2,u=Math.min(18e5,l),d=(Math.random()-.5)*(u-c);return Math.ceil(u+d)}(r),s=Date.now()+n;this.me.push({retryAt:s,requestOptions:t});var a="Enqueued failed request for retry in "+n;navigator.onLine||(a+=" (Browser is offline)"),Ze.warn(a),this.$e||(this.$e=!0,this.Ie())}Ie(){if(this.Fe&&clearTimeout(this.Fe),this.me.length===0)return this.$e=!1,void(this.Fe=void 0);this.Fe=setTimeout(()=>{this.Pe&&this.me.length>0&&this.Dt(),this.Ie()},this.ke)}Dt(){var t=Date.now(),r=[],n=this.me.filter(a=>a.retryAt<t||(r.push(a),!1));if(this.me=r,n.length>0)for(var{requestOptions:s}of n)this.retriableRequest(s)}unload(){for(var{requestOptions:t}of(this.Fe&&(clearTimeout(this.Fe),this.Fe=void 0),this.$e=!1,Je(ve)||(this.Te&&(ve.removeEventListener("online",this.Te),this.Te=void 0),this.Ce&&(ve.removeEventListener("offline",this.Ce),this.Ce=void 0)),this.me))try{this._instance._send_request(ot({},t,{transport:"sendBeacon"}))}catch(r){Ze.error(r)}this.me=[]}}class Qne{constructor(t){this.Me=()=>{var r,n,s,a;this.Oe||(this.Oe={});var i=this.scrollElement(),l=this.scrollY(),c=i?Math.max(0,i.scrollHeight-i.clientHeight):0,u=l+((i==null?void 0:i.clientHeight)||0),d=(i==null?void 0:i.scrollHeight)||0;this.Oe.lastScrollY=Math.ceil(l),this.Oe.maxScrollY=Math.max(l,(r=this.Oe.maxScrollY)!==null&&r!==void 0?r:0),this.Oe.maxScrollHeight=Math.max(c,(n=this.Oe.maxScrollHeight)!==null&&n!==void 0?n:0),this.Oe.lastContentY=u,this.Oe.maxContentY=Math.max(u,(s=this.Oe.maxContentY)!==null&&s!==void 0?s:0),this.Oe.maxContentHeight=Math.max(d,(a=this.Oe.maxContentHeight)!==null&&a!==void 0?a:0)},this._instance=t}getContext(){return this.Oe}resetContext(){var t=this.Oe;return setTimeout(this.Me,0),t}startMeasuringScrollPosition(){on(ve,"scroll",this.Me,{capture:!0}),on(ve,"scrollend",this.Me,{capture:!0}),on(ve,"resize",this.Me)}scrollElement(){if(!this._instance.config.scroll_root_selector)return ve==null?void 0:ve.document.documentElement;var t=lr(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var r of t){var n=ve==null?void 0:ve.document.querySelector(r);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return ve&&(ve.scrollY||ve.pageYOffset||ve.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return ve&&(ve.scrollX||ve.pageXOffset||ve.document.documentElement.scrollLeft)||0}}var Zne=e=>kU(e==null?void 0:e.config.mask_personal_data_properties,e==null?void 0:e.config.custom_personal_data_properties);class WR{constructor(t,r,n,s){this.Ae=a=>{var i=this.De();if(!i||i.sessionId!==a){var l={sessionId:a,props:this.je(this._instance)};this.Le.register({[zk]:l})}},this._instance=t,this.Ne=r,this.Le=n,this.je=s||Zne,this.Ne.onSessionId(this.Ae)}De(){return this.Le.props[zk]}getSetOnceProps(){var t,r=(t=this.De())==null?void 0:t.props;return r?"r"in r?EU(r):{$referring_domain:r.referringDomain,$pathname:r.initialPathName,utm_source:r.utm_source,utm_campaign:r.utm_campaign,utm_medium:r.utm_medium,utm_content:r.utm_content,utm_term:r.utm_term}:{}}getSessionProps(){var t={};return Er(uP(this.getSetOnceProps()),(r,n)=>{n==="$current_url"&&(n="url"),t["$session_entry_"+Rk(n)]=r}),t}}var rS=rn("[SessionId]");class VR{on(t,r){return this.Ue.on(t,r)}constructor(t,r,n){var s;if(this.ze=[],this.He=void 0,this.Ue=new bP,this.Be=(d,f)=>Math.abs(d-f)>this.sessionTimeoutMs,!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.I=t.config,this.Le=t.persistence,this.qe=void 0,this.We=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Ge=r||Ol,this.Ve=n||Ol;var a=this.I.persistence_name||this.I.token,i=this.I.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Ri(i,60,36e3,rS.createLogger("session_idle_timeout_seconds"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Je(),this.Ke="ph_"+a+"_window_id",this.Ye="ph_"+a+"_primary_window_exists",this.Xe()){var l=Dn.W(this.Ke),c=Dn.W(this.Ye);l&&!c?this.qe=l:Dn.V(this.Ke),Dn.G(this.Ye,!0)}if((s=this.I.bootstrap)!=null&&s.sessionID)try{var u=(d=>{var f=d.replace(/-/g,"");if(f.length!==32)throw new Error("Not a valid UUID");if(f[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(f.substring(0,12),16)})(this.I.bootstrap.sessionID);this.Qe(this.I.bootstrap.sessionID,new Date().getTime(),u)}catch(d){rS.error("Invalid sessionID in bootstrap",d)}this.Ze()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return Je(this.ze)&&(this.ze=[]),this.ze.push(t),this.We&&t(this.We,this.qe),()=>{this.ze=this.ze.filter(r=>r!==t)}}Xe(){return this.I.persistence!=="memory"&&!this.Le.bi&&Dn.H()}tr(t){t!==this.qe&&(this.qe=t,this.Xe()&&Dn.G(this.Ke,t))}ir(){return this.qe?this.qe:this.Xe()?Dn.W(this.Ke):null}Qe(t,r,n){t===this.We&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this.We=t,this.Le.register({[cx]:[r,t,n]}))}er(){var t=this.Le.props[cx];return lr(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.Qe(null,null,null)}destroy(){clearTimeout(this.rr),this.rr=void 0,this.He&&ve&&(ve.removeEventListener("beforeunload",this.He,{capture:!1}),this.He=void 0),this.ze=[]}Ze(){this.He=()=>{this.Xe()&&Dn.V(this.Ye)},on(ve,"beforeunload",this.He,{capture:!1})}checkAndGetSessionAndWindowId(t,r){if(t===void 0&&(t=!1),r===void 0&&(r=null),this.I.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=r||new Date().getTime(),[s,a,i]=this.er(),l=this.ir(),c=Hi(i)&&i>0&&Math.abs(n-i)>864e5,u=!1,d=!a,f=!d&&!t&&this.Be(n,s);d||f||c?(a=this.Ge(),l=this.Ve(),rS.info("new session ID generated",{sessionId:a,windowId:l,changeReason:{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}}),i=n,u=!0):l||(l=this.Ve(),u=!0);var h=s===0||!t||c?n:s,g=i===0?new Date().getTime():i;return this.tr(l),this.Qe(a,h,g),t||this.Je(),u&&this.ze.forEach(y=>y(a,l,u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}:void 0)),{sessionId:a,windowId:l,sessionStartTimestamp:g,changeReason:u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}:void 0,lastActivityTimestamp:s}}Je(){clearTimeout(this.rr),this.rr=setTimeout(()=>{var[t]=this.er();if(this.Be(new Date().getTime(),t)){var r=this.We;this.resetSessionId(),this.Ue.emit("forcedIdleReset",{idleSessionId:r})}},1.1*this.sessionTimeoutMs)}}var ese=["$set_once","$set"],el=rn("[SiteApps]");class tse{constructor(t){this._instance=t,this.sr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}nr(t,r){if(r){var n=this.globalsForEvent(r);this.sr.push(n),this.sr.length>1e3&&(this.sr=this.sr.slice(10))}}get siteAppLoaders(){var t;return(t=jt._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Ni(this.nr.bind(this));this.ar=()=>{t(),this.sr=[],this.ar=void 0}}}globalsForEvent(t){var r,n,s,a,i,l,c;if(!t)throw new Error("Event payload is required");var u={},d=this._instance.get_property("$groups")||[],f=this._instance.get_property("$stored_group_properties")||{};for(var[h,g]of Object.entries(f))u[h]={id:d[h],type:h,properties:g};var{$set_once:y,$set:m}=t;return{event:ot({},AB(t,ese),{properties:ot({},t.properties,m?{$set:ot({},(r=(n=t.properties)==null?void 0:n.$set)!==null&&r!==void 0?r:{},m)}:{},y?{$set_once:ot({},(s=(a=t.properties)==null?void 0:a.$set_once)!==null&&s!==void 0?s:{},y)}:{}),elements_chain:(i=(l=t.properties)==null?void 0:l.$elements_chain)!==null&&i!==void 0?i:"",distinct_id:(c=t.properties)==null?void 0:c.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:u}}setupSiteApp(t){var r=this.apps[t.id],n=()=>{var l;!r.errored&&this.sr.length&&(el.info("Processing "+this.sr.length+" events for site app with id "+t.id),this.sr.forEach(c=>r.processEvent==null?void 0:r.processEvent(c)),r.processedBuffer=!0),Object.values(this.apps).every(c=>c.processedBuffer||c.errored)&&((l=this.ar)==null||l.call(this))},s=!1,a=l=>{r.errored=!l,r.loaded=!0,el.info("Site app with id "+t.id+" "+(l?"loaded":"errored")),s&&n()};try{var{processEvent:i}=t.init({posthog:this._instance,callback:l=>{a(l)}});i&&(r.processEvent=i),s=!0}catch(l){el.error("Error while initializing PostHog app with config id "+t.id,l),a(!1)}if(s&&r.loaded)try{n()}catch(l){el.error("Error while processing buffered events PostHog app with config id "+t.id,l),r.errored=!0}}lr(){var t=this.siteAppLoaders||[];for(var r of t)this.apps[r.id]={id:r.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of t)this.setupSiteApp(n)}ur(t){if(Object.keys(this.apps).length!==0){var r=this.globalsForEvent(t);for(var n of Object.values(this.apps))try{n.processEvent==null||n.processEvent(r)}catch(s){el.error("Error while processing event "+t.event+" for site app "+n.id,s)}}}onRemoteConfig(t){var r,n,s,a=this;if((r=this.siteAppLoaders)!=null&&r.length)return this.isEnabled?(this.lr(),void this._instance.on("eventCaptured",u=>this.ur(u))):void el.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((n=this.ar)==null||n.call(this),(s=t.siteApps)!=null&&s.length)if(this.isEnabled){var i=function(u){var d;jt["__$$ph_site_app_"+u]=a._instance,(d=jt.__PosthogExtensions__)==null||d.loadSiteApp==null||d.loadSiteApp(a._instance,c,f=>{if(f)return el.error("Error while initializing PostHog app with config id "+u,f)})};for(var{id:l,url:c}of t.siteApps)i(l)}else el.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var IU=function(e,t){if(!e)return!1;var r=e.userAgent;if(r&&nR(r,t))return!0;try{var n=e==null?void 0:e.userAgentData;if(n!=null&&n.brands&&n.brands.some(s=>nR(s==null?void 0:s.brand,t)))return!0}catch{}return!!e.webdriver},Gp=function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e}({}),HR="i.posthog.com";class rse{constructor(t){this.hr={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get flagsApiHost(){var t=this.instance.config.flags_api_host;return t?t.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var t,r=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return r||(r=this.apiHost.replace("."+HR,".posthog.com")),r==="https://app.posthog.com"?"https://us.posthog.com":r}get region(){return this.hr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.hr[this.apiHost]=Gp.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.hr[this.apiHost]=Gp.EU:this.hr[this.apiHost]=Gp.CUSTOM),this.hr[this.apiHost]}endpointFor(t,r){if(r===void 0&&(r=""),r&&(r=r[0]==="/"?r:"/"+r),t==="ui")return this.uiHost+r;if(t==="flags")return this.flagsApiHost+r;if(this.region===Gp.CUSTOM)return this.apiHost+r;var n=HR+r;switch(t){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var nse={icontains:(e,t)=>!!ve&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!ve&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!ve&&wx(t.href,e),not_regex:(e,t)=>!!ve&&!wx(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Gn{constructor(t){var r=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(n){n===void 0&&(n=!1),r.getWebExperiments(s=>{Gn.dr("retrieved web experiments from the server"),r.vr=new Map,s.forEach(a=>{if(a.feature_flag_key){var i;r.vr&&(Gn.dr("setting flag key ",a.feature_flag_key," to web experiment ",a),(i=r.vr)==null||i.set(a.feature_flag_key,a));var l=r._instance.getFeatureFlag(a.feature_flag_key);bn(l)&&a.variants[l]&&r.cr(a.name,l,a.variants[l].transforms)}else if(a.variants)for(var c in a.variants){var u=a.variants[c];Gn.pr(u)&&r.cr(a.name,c,u.transforms)}})},n)},this._instance=t,this._instance.onFeatureFlags(n=>{this.onFeatureFlags(n)})}onFeatureFlags(t){if(this._is_bot())Gn.dr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(rr(this.vr))return this.vr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Gn.dr("applying feature flags",t),t.forEach(r=>{var n;if(this.vr&&(n=this.vr)!=null&&n.has(r)){var s,a=this._instance.getFeatureFlag(r),i=(s=this.vr)==null?void 0:s.get(r);a&&i!=null&&i.variants[a]&&this.cr(i.name,a,i.variants[a].transforms)}})}}previewWebExperiment(){var t=Gn.getWindowLocation();if(t!=null&&t.search){var r=mx(t==null?void 0:t.search,"__experiment_id"),n=mx(t==null?void 0:t.search,"__experiment_variant");r&&n&&(Gn.dr("previewing web experiments "+r+" && "+n),this.getWebExperiments(s=>{this.gr(parseInt(r),n,s)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,r,n){if(this._instance.config.disable_web_experiments&&!n)return t([]);var s=this._instance.get_property("$web_experiments");if(s&&!r)return t(s);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:a=>{if(a.statusCode!==200||!a.json)return t([]);var i=a.json.experiments||[];return t(i)}})}gr(t,r,n){var s=n.filter(a=>a.id===t);s&&s.length>0&&(Gn.dr("Previewing web experiment ["+s[0].name+"] with variant ["+r+"]"),this.cr(s[0].name,r,s[0].variants[r].transforms))}static pr(t){return!rr(t.conditions)&&Gn._r(t)&&Gn.mr(t)}static _r(t){var r;if(rr(t.conditions)||rr((r=t.conditions)==null?void 0:r.url))return!0;var n,s,a,i=Gn.getWindowLocation();return!!i&&((n=t.conditions)==null||!n.url||nse[(s=(a=t.conditions)==null?void 0:a.urlMatchType)!==null&&s!==void 0?s:"icontains"](t.conditions.url,i))}static getWindowLocation(){return ve==null?void 0:ve.location}static mr(t){var r;if(rr(t.conditions)||rr((r=t.conditions)==null?void 0:r.utm))return!0;var n=wU();if(n.utm_source){var s,a,i,l,c,u,d,f,h=(s=t.conditions)==null||(s=s.utm)==null||!s.utm_campaign||((a=t.conditions)==null||(a=a.utm)==null?void 0:a.utm_campaign)==n.utm_campaign,g=(i=t.conditions)==null||(i=i.utm)==null||!i.utm_source||((l=t.conditions)==null||(l=l.utm)==null?void 0:l.utm_source)==n.utm_source,y=(c=t.conditions)==null||(c=c.utm)==null||!c.utm_medium||((u=t.conditions)==null||(u=u.utm)==null?void 0:u.utm_medium)==n.utm_medium,m=(d=t.conditions)==null||(d=d.utm)==null||!d.utm_term||((f=t.conditions)==null||(f=f.utm)==null?void 0:f.utm_term)==n.utm_term;return h&&y&&m&&g}return!1}static dr(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];Ze.info("[WebExperiments] "+t,n)}cr(t,r,n){this._is_bot()?Gn.dr("Refusing to render web experiment since the viewer is a likely bot"):r!=="control"?n.forEach(s=>{if(s.selector){var a;Gn.dr("applying transform of variant "+r+" for experiment "+t+" ",s);var i=(a=document)==null?void 0:a.querySelectorAll(s.selector);i==null||i.forEach(l=>{var c=l;s.html&&(c.innerHTML=s.html),s.css&&c.setAttribute("style",s.css)})}}):Gn.dr("Control variants leave the page unmodified.")}_is_bot(){return sa&&this._instance?IU(sa,this._instance.config.custom_blocked_useragents):void 0}}var sse=rn("[PostHog ExternalIntegrations]"),ase={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class ise{constructor(t){this._instance=t}it(t,r){var n;(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,t,s=>{if(s)return sse.error("failed to load script",s);r()})}startIfEnabledOrStop(){var t=this,r=function(i){var l,c,u;!s||(l=jt.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[i]||t.it(ase[i],()=>{var d;(d=jt.__PosthogExtensions__)==null||(d=d.integrations)==null||(d=d[i])==null||d.start(t._instance)}),!s&&(c=jt.__PosthogExtensions__)!=null&&(c=c.integrations)!=null&&c[i]&&((u=jt.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[i])==null||u.stop())};for(var[n,s]of Object.entries((a=this._instance.config.integrations)!==null&&a!==void 0?a:{})){var a;r(n)}}}var tE="[SessionRecording]",mp=rn(tE);class KR{get started(){var t;return!((t=this.yr)==null||!t.isStarted)}get status(){return this.yr?this.yr.status:this.br&&!this.wr?"disabled":"lazy_loading"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.br=!1,this.Er=void 0,this._instance=t,!this._instance.sessionManager)throw mp.error("started without valid sessionManager"),new Error(tE+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(tE+' cannot be used with cookieless_mode="always"')}get wr(){var t,r=!((t=this._instance.get_property(z_))==null||!t.enabled),n=!this._instance.config.disable_session_recording,s=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return ve&&r&&n&&!s}startIfEnabledOrStop(t){var r;if(!this.wr||(r=this.yr)==null||!r.isStarted){var n=!Je(Object.assign)&&!Je(Array.from);this.wr&&n?(this.Sr(t),mp.info("starting")):this.stopRecording()}}Sr(t){var r,n,s;this.wr&&(jt!=null&&(r=jt.__PosthogExtensions__)!=null&&(r=r.rrweb)!=null&&r.record&&(n=jt.__PosthogExtensions__)!=null&&n.initSessionRecording?this.$r(t):(s=jt.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,this.kr,a=>{if(a)return mp.error("could not load recorder",a);this.$r(t)}))}stopRecording(){var t,r;(t=this.Er)==null||t.call(this),this.Er=void 0,(r=this.yr)==null||r.stop()}Pr(){var t;(t=this._instance.persistence)==null||t.unregister(BB)}Tr(t){if(this._instance.persistence){var r,n,s=this._instance.persistence,a=()=>{var i=t.sessionRecording===!1?void 0:t.sessionRecording,l=i==null?void 0:i.sampleRate,c=rr(l)?null:parseFloat(l);rr(c)&&this.Pr();var u=i==null?void 0:i.minimumDurationMilliseconds;s.register({[z_]:ot({enabled:!!i},i,{networkPayloadCapture:ot({capturePerformance:t.capturePerformance},i==null?void 0:i.networkPayloadCapture),canvasRecording:{enabled:i==null?void 0:i.recordCanvas,fps:i==null?void 0:i.canvasFps,quality:i==null?void 0:i.canvasQuality},sampleRate:c,minimumDurationMilliseconds:Je(u)?null:u,endpoint:i==null?void 0:i.endpoint,triggerMatchType:i==null?void 0:i.triggerMatchType,masking:i==null?void 0:i.masking,urlTriggers:i==null?void 0:i.urlTriggers})})};a(),(r=this.Er)==null||r.call(this),this.Er=(n=this._instance.sessionManager)==null?void 0:n.onSessionId(a)}}onRemoteConfig(t){"sessionRecording"in t?t.sessionRecording!==!1?(this.Tr(t),this.br=!0,this.startIfEnabledOrStop()):this.br=!0:mp.info("skipping remote config with no sessionRecording",t)}log(t,r){var n;r===void 0&&(r="log"),(n=this.yr)!=null&&n.log?this.yr.log(t,r):mp.warn("log called before recorder was ready")}get kr(){var t,r,n=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.get_property(z_);return(n==null||(r=n.scriptConfig)==null?void 0:r.script)||"lazy-recorder"}$r(t){var r,n;if((r=jt.__PosthogExtensions__)==null||!r.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.yr||(this.yr=(n=jt.__PosthogExtensions__)==null?void 0:n.initSessionRecording(this._instance),this.yr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.yr.start(t)}onRRwebEmit(t){var r;(r=this.yr)==null||r.onRRwebEmit==null||r.onRRwebEmit(t)}overrideLinkedFlag(){var t,r;this.yr||(r=this._instance.persistence)==null||r.register({$replay_override_linked_flag:!0}),(t=this.yr)==null||t.overrideLinkedFlag()}overrideSampling(){var t,r;this.yr||(r=this._instance.persistence)==null||r.register({$replay_override_sampling:!0}),(t=this.yr)==null||t.overrideSampling()}overrideTrigger(t){var r,n;this.yr||(n=this._instance.persistence)==null||n.register({[t==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(r=this.yr)==null||r.overrideTrigger(t)}get sdkDebugProperties(){var t;return((t=this.yr)==null?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,r){var n;return!((n=this.yr)==null||!n.tryAddCustomEvent(t,r))}}var hm={},rE=()=>{},xd="posthog",LU=!$ne&&(Os==null?void 0:Os.indexOf("MSIE"))===-1&&(Os==null?void 0:Os.indexOf("Mozilla"))===-1,GR=e=>{var t;return ot({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:Nre(Qe==null?void 0:Qe.location),persistence:"localStorage+cookie",persistence_name:"",loaded:rE,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:e??"unset",__preview_deferred_init_extensions:!1,debug:Ms&&bn(Ms==null?void 0:Ms.search)&&Ms.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_conversations:!1,disable_product_tours:!0,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(ve==null||(t=ve.location)==null?void 0:t.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:r=>{var n="Bad HTTP status: "+r.statusCode+" "+r.text;Ze.error(n)},get_device_id:r=>r,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:eE},error_tracking:{},_onCapture:rE,__preview_eager_load_replay:!1},(r=>({rageclick:!(r&&r>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(r&&r>="2025-05-24")||"history_change",session_recording:r&&r>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(e))},JR=e=>{var t={};Je(e.process_person)||(t.person_profiles=e.process_person),Je(e.xhr_headers)||(t.request_headers=e.xhr_headers),Je(e.cookie_name)||(t.persistence_name=e.cookie_name),Je(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),Je(e.store_google)||(t.save_campaign_params=e.store_google),Je(e.verbose)||(t.debug=e.verbose);var r=Qr({},t,e);return lr(e.property_blacklist)&&(Je(e.property_denylist)?r.property_denylist=e.property_blacklist:lr(e.property_denylist)?r.property_denylist=[...e.property_blacklist,...e.property_denylist]:Ze.error("Invalid value for property_denylist config: "+e.property_denylist)),r};class ose{constructor(){this.__forceAllowLocalhost=!1}get Cr(){return this.__forceAllowLocalhost}set Cr(t){Ze.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class gw{get decideEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}get flagsEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new ose,this.Rr=!1,this.version=fo.LIB_VERSION,this.Ir=new bP,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=GR(),this.SentryIntegration=rne,this.sentryIntegration=t=>function(r,n){var s=sU(r,n);return{name:nU,processEvent:a=>s(a)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Fr=!1,this.Mr=null,this.Or=null,this.Ar=null,this.featureFlags=new Lne(this),this.toolbar=new sne(this),this.scrollManager=new Qne(this),this.pageViewManager=new jne(this),this.surveys=new Vne(this),this.conversations=new Hne(this),this.productTours=new Fne(this),this.experiments=new Gn(this),this.exceptions=new Rne(this),this.rateLimiter=new Kne(this),this.requestRouter=new rse(this),this.consent=new Yre(this),this.externalIntegrations=new ise(this),this.people={set:(t,r,n)=>{var s=bn(t)?{[t]:r}:t;this.setPersonProperties(s),n==null||n({})},set_once:(t,r,n)=>{var s=bn(t)?{[t]:r}:t;this.setPersonProperties(void 0,s),n==null||n({})}},this.on("eventCaptured",t=>Ze.info('send "'+(t==null?void 0:t.event)+'"',t))}init(t,r,n){if(n&&n!==xd){var s,a=(s=hm[n])!==null&&s!==void 0?s:new gw;return a._init(t,r,n),hm[n]=a,hm[xd][n]=a,a}return this._init(t,r,n)}_init(t,r,n){var s;if(r===void 0&&(r={}),Je(t)||Mk(t))return Ze.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},r.debug=this.Dr(r.debug),this.jr=r,this.Lr=[],r.person_profiles&&(this.Or=r.person_profiles),this.set_config(Qr({},GR(r.defaults),JR(r),{name:n,token:t})),this.config.on_xhr_error&&Ze.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=r.disable_compression?void 0:vo.GZipJS;var a=this.Nr();this.persistence=new Z_(this.config,a),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Z_(ot({},this.config,{persistence:"sessionStorage"}),a);var i=ot({},this.persistence.props),l=ot({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Ur=new Jne(w=>this.zr(w),this.config.request_queue_config),this.Hr=new Xne(this),this.__request_queue=[];var c=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(c||(this.sessionManager=new VR(this),this.sessionPropsManager=new WR(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(Ze.info("Deferring extension initialization to improve startup performance"),setTimeout(()=>{this.Br(c)},0)):(Ze.info("Initializing extensions synchronously"),this.Br(c)),fo.DEBUG=fo.DEBUG||this.config.debug,fo.DEBUG&&Ze.info("Starting in debug mode",{this:this,config:r,thisC:ot({},this.config),p:i,s:l}),((s=r.bootstrap)==null?void 0:s.distinctID)!==void 0){var u,d,f=this.config.get_device_id(Ol()),h=(u=r.bootstrap)!=null&&u.isIdentifiedID?f:r.bootstrap.distinctID;this.persistence.set_property(ho,(d=r.bootstrap)!=null&&d.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:r.bootstrap.distinctID,$device_id:h})}if(this.qr()){var g,y,m=Object.keys(((g=r.bootstrap)==null?void 0:g.featureFlags)||{}).filter(w=>{var b;return!((b=r.bootstrap)==null||(b=b.featureFlags)==null||!b[w])}).reduce((w,b)=>{var _;return w[b]=((_=r.bootstrap)==null||(_=_.featureFlags)==null?void 0:_[b])||!1,w},{}),v=Object.keys(((y=r.bootstrap)==null?void 0:y.featureFlagPayloads)||{}).filter(w=>m[w]).reduce((w,b)=>{var _,S;return(_=r.bootstrap)!=null&&(_=_.featureFlagPayloads)!=null&&_[b]&&(w[b]=(S=r.bootstrap)==null||(S=S.featureFlagPayloads)==null?void 0:S[b]),w},{});this.featureFlags.receivedFeatureFlags({featureFlags:m,featureFlagPayloads:v})}if(c)this.register_once({distinct_id:ip,$device_id:null},"");else if(!this.get_distinct_id()){var x=this.config.get_device_id(Ol());this.register_once({distinct_id:x,$device_id:x},""),this.persistence.set_property(ho,"anonymous")}return on(ve,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),r.segment?tne(this,()=>this.Wr()):this.Wr(),Vl(this.config._onCapture)&&this.config._onCapture!==rE&&(Ze.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",w=>this.config._onCapture(w.event,w))),this.config.ip&&Ze.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Br(t){var r=performance.now();this.historyAutocapture=new ene(this),this.historyAutocapture.startIfEnabled();var n=[];n.push(()=>{new ine(this).startIfEnabledOrStop()}),n.push(()=>{var s;this.siteApps=new tse(this),(s=this.siteApps)==null||s.init()}),t||n.push(()=>{this.sessionRecording=new KR(this),this.sessionRecording.startIfEnabledOrStop()}),this.config.disable_scroll_properties||n.push(()=>{this.scrollManager.startMeasuringScrollPosition()}),n.push(()=>{this.autocapture=new zre(this),this.autocapture.startIfEnabled()}),n.push(()=>{this.surveys.loadIfEnabled()}),n.push(()=>{this.conversations.loadIfEnabled()}),n.push(()=>{this.productTours.loadIfEnabled()}),n.push(()=>{this.heatmaps=new Sne(this),this.heatmaps.startIfEnabled()}),n.push(()=>{this.webVitalsAutocapture=new wne(this)}),n.push(()=>{this.exceptionObserver=new Zre(this),this.exceptionObserver.startIfEnabled()}),n.push(()=>{this.deadClicksAutocapture=new rU(this,Qre),this.deadClicksAutocapture.startIfEnabled()}),n.push(()=>{if(this.Gr){var s=this.Gr;this.Gr=void 0,this.ci(s)}}),this.Vr(n,r)}Vr(t,r){for(;t.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-r>=30&&t.length>0)return void setTimeout(()=>{this.Vr(t,r)},0);var n=t.shift();if(n)try{n()}catch(a){Ze.error("Error initializing extension:",a)}}var s=Math.round(performance.now()-r);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:s}),this.config.__preview_deferred_init_extensions&&Ze.info("PostHog extensions initialized ("+s+"ms)")}ci(t){var r,n,s,a,i,l,c,u;if(!Qe||!Qe.body)return Ze.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.ci(t)},500);this.config.__preview_deferred_init_extensions&&(this.Gr=t),this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=Bt(t.supportedCompression,vo.GZipJS)?vo.GZipJS:Bt(t.supportedCompression,vo.Base64)?vo.Base64:void 0),(r=t.analytics)!=null&&r.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.Or?this.Or:"identified_only"}),(n=this.siteApps)==null||n.onRemoteConfig(t),(s=this.sessionRecording)==null||s.onRemoteConfig(t),(a=this.autocapture)==null||a.onRemoteConfig(t),(i=this.heatmaps)==null||i.onRemoteConfig(t),this.surveys.onRemoteConfig(t),this.conversations.onRemoteConfig(t),this.productTours.onRemoteConfig(t),(l=this.webVitalsAutocapture)==null||l.onRemoteConfig(t),(c=this.exceptionObserver)==null||c.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),(u=this.deadClicksAutocapture)==null||u.onRemoteConfig(t)}Wr(){try{this.config.loaded(this)}catch(t){Ze.critical("`loaded` function failed",t)}this.Jr(),this.config.capture_pageview&&setTimeout(()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Kr()},1),new Gne(this).load(),this.featureFlags.flags()}Jr(){var t;this.is_capturing()&&this.config.request_batching&&((t=this.Ur)==null||t.enable())}_dom_loaded(){this.is_capturing()&&Hl(this.__request_queue,t=>this.zr(t)),this.__request_queue=[],this.Jr()}_handle_unload(){var t,r;this.config.request_batching?(this.Yr()&&this.capture("$pageleave"),(t=this.Ur)==null||t.unload(),(r=this.Hr)==null||r.unload()):this.Yr()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(t){this.__loaded&&(LU?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=bx(t.url,{ip:this.config.ip?1:0}),t.headers=ot({},this.config.request_headers,t.headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=["sendBeacon"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(r=>{var n,s,a,i=ot({},r);i.timeout=i.timeout||6e4,i.url=bx(i.url,{_:new Date().getTime().toString(),ver:fo.LIB_VERSION,compression:i.compression});var l=(n=i.transport)!==null&&n!==void 0?n:"fetch",c=j0.filter(d=>!i.disableTransport||!d.transport||!i.disableTransport.includes(d.transport)),u=(s=(a=LB(c,d=>d.transport===l))==null?void 0:a.method)!==null&&s!==void 0?s:c[0].method;if(!u)throw new Error("No available transport method");u(i)})(ot({},t,{callback:r=>{var n,s;this.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((n=(s=this.config).on_request_error)==null||n.call(s,r)),t.callback==null||t.callback(r)}}))))}zr(t){this.Hr?this.Hr.retriableRequest(t):this._send_request(t)}_execute_array(t){var r,n=[],s=[],a=[];Hl(t,l=>{l&&(r=l[0],lr(r)?a.push(l):Vl(l)?l.call(this):lr(l)&&r==="alias"?n.push(l):lr(l)&&r.indexOf("capture")!==-1&&Vl(this[r])?a.push(l):s.push(l))});var i=function(l,c){Hl(l,function(u){if(lr(u[0])){var d=c;Er(u,function(f){d=d[f[0]].apply(d,f.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};i(n,this),i(s,this),i(a,this)}qr(){var t,r;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((r=this.config.bootstrap)==null?void 0:r.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,r,n){var s;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ur){if(this.is_capturing())if(!Je(t)&&bn(t)){var a=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(a&&!this.config.__preview_capture_bot_pageviews)){var i=n!=null&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(i==null||!i.isRateLimited){r!=null&&r.$current_url&&!bn(r==null?void 0:r.$current_url)&&(Ze.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),r==null||delete r.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var l=new Date,c=(n==null?void 0:n.timestamp)||l,u=Ol(),d={uuid:u,event:t,properties:this.calculateEventProperties(t,r||{},c,u)};t==="$pageview"&&this.config.__preview_capture_bot_pageviews&&a&&(d.event="$bot_pageview",d.properties.$browser_type="bot"),i&&(d.properties.$lib_rate_limit_remaining_tokens=i.remainingTokens),n!=null&&n.$set&&(d.$set=n==null?void 0:n.$set);var f,h=t!=="$groupidentify",g=this.Xr(n==null?void 0:n.$set_once,h);if(g&&(d.$set_once=g),(d=kre(d,n!=null&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=c,Je(n==null?void 0:n.timestamp)||(d.properties.$event_time_override_provided=!0,d.properties.$event_time_override_system_time=l),t===k0.DISMISSED||t===k0.SENT){var y=r==null?void 0:r[UR.SURVEY_ID],m=r==null?void 0:r[UR.SURVEY_ITERATION];f={id:y,current_iteration:m},localStorage.getItem(zR(f))||localStorage.setItem(zR(f),"true"),d.$set=ot({},d.$set,{[Une({id:y,current_iteration:m},t===k0.SENT?"responded":"dismissed")]:!0})}var v=ot({},d.properties.$set,d.$set);if(Rd(v)||this.setPersonPropertiesForFlags(v),!rr(this.config.before_send)){var x=this.Qr(d);if(!x)return;d=x}this.Ir.emit("eventCaptured",d);var w={method:"POST",url:(s=n==null?void 0:n._url)!==null&&s!==void 0?s:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:d,compression:"best-available",batchKey:n==null?void 0:n._batchKey};return!this.config.request_batching||n&&(n==null||!n._batchKey)||n!=null&&n.send_instantly?this.zr(w):this.Ur.enqueue(w),d}Ze.critical("This capture call is ignored due to client rate limiting.")}}else Ze.error("No event name provided to posthog.capture")}else Ze.uninitializedWarning("posthog.capture")}Ni(t){return this.on("eventCaptured",r=>t(r.event,r))}calculateEventProperties(t,r,n,s,a){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return r;var i=a?void 0:this.persistence.remove_event_timer(t),l=ot({},r);if(l.token=this.config.token,l.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(l.$cookieless_mode=!0),t==="$snapshot"){var c=ot({},this.persistence.properties(),this.sessionPersistence.properties());return l.distinct_id=c.distinct_id,(!bn(l.distinct_id)&&!Hi(l.distinct_id)||Mk(l.distinct_id))&&Ze.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),l}var u,d=bne(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:f,windowId:h}=this.sessionManager.checkAndGetSessionAndWindowId(a,n.getTime());l.$session_id=f,l.$window_id=h}this.sessionPropsManager&&Qr(l,this.sessionPropsManager.getSessionProps());try{var g;this.sessionRecording&&Qr(l,this.sessionRecording.sdkDebugProperties),l.$sdk_debug_retry_queue_size=(g=this.Hr)==null?void 0:g.length}catch(x){l.$sdk_debug_error_capturing_properties=String(x)}if(this.requestRouter.region===Gp.CUSTOM&&(l.$lib_custom_api_host=this.config.api_host),u=t!=="$pageview"||a?t!=="$pageleave"||a?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,s),l=Qr(l,u),t==="$pageview"&&Qe&&(l.title=Qe.title),!Je(i)){var y=n.getTime()-i;l.$duration=parseFloat((y/1e3).toFixed(3))}Os&&this.config.opt_out_useragent_filter&&(l.$browser_type=this._is_bot()?"bot":"browser"),(l=Qr({},d,this.persistence.properties(),this.sessionPersistence.properties(),l)).$is_identified=this._isIdentified(),lr(this.config.property_denylist)?Er(this.config.property_denylist,function(x){delete l[x]}):Ze.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var m=this.config.sanitize_properties;m&&(Ze.error("sanitize_properties is deprecated. Use before_send instead"),l=m(l,t));var v=this.Zr();return l.$process_person_profile=v,v&&!a&&this.ts("_calculate_event_properties"),l}Xr(t,r){var n;if(r===void 0&&(r=!0),!this.persistence||!this.Zr()||this.Rr)return t;var s=this.persistence.get_initial_props(),a=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),i=Qr({},s,a||{},t||{}),l=this.config.sanitize_properties;return l&&(Ze.error("sanitize_properties is deprecated. Use before_send instead"),i=l(i,"$set_once")),r&&(this.Rr=!0),Rd(i)?void 0:i}register(t,r){var n;(n=this.persistence)==null||n.register(t,r)}register_once(t,r,n){var s;(s=this.persistence)==null||s.register_once(t,r,n)}register_for_session(t){var r;(r=this.sessionPersistence)==null||r.register(t)}unregister(t){var r;(r=this.persistence)==null||r.unregister(t)}unregister_for_session(t){var r;(r=this.sessionPersistence)==null||r.unregister(t)}es(t,r){this.register({[t]:r})}getFeatureFlag(t,r){return this.featureFlags.getFeatureFlag(t,r)}getFeatureFlagPayload(t){var r=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(r)}catch{return r}}isFeatureEnabled(t,r){return this.featureFlags.isFeatureEnabled(t,r)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,r,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,r,n)}getEarlyAccessFeatures(t,r,n){return r===void 0&&(r=!1),this.featureFlags.getEarlyAccessFeatures(t,r,n)}on(t,r){return this.Ir.on(t,r)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var r,n;return(r=(n=this.sessionManager)==null?void 0:n.onSessionId(t))!==null&&r!==void 0?r:()=>{}}getSurveys(t,r){r===void 0&&(r=!1),this.surveys.getSurveys(t,r)}getActiveMatchingSurveys(t,r){r===void 0&&(r=!1),this.surveys.getActiveMatchingSurveys(t,r)}renderSurvey(t,r){this.surveys.renderSurvey(t,r)}displaySurvey(t,r){r===void 0&&(r=qne),this.surveys.displaySurvey(t,r)}cancelPendingSurvey(t){this.surveys.cancelPendingSurvey(t)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,r){return r===void 0&&(r=!1),this.surveys.canRenderSurveyAsync(t,r)}identify(t,r,n){if(!this.__loaded||!this.persistence)return Ze.uninitializedWarning("posthog.identify");if(Hi(t)&&(t=t.toString(),Ze.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t)if(["distinct_id","distinctid"].includes(t.toLowerCase()))Ze.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==ip){if(this.ts("posthog.identify")){var s=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var a=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:a},"")}t!==s&&t!==this.get_property(zp)&&(this.unregister(zp),this.register({distinct_id:t}));var i=(this.persistence.get_property(ho)||"anonymous")==="anonymous";t!==s&&i?(this.persistence.set_property(ho,"identified"),this.setPersonPropertiesForFlags(ot({},n||{},r||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:s},{$set:r||{},$set_once:n||{}}),this.Ar=IR(t,r,n),this.featureFlags.setAnonymousDistinctId(s)):(r||n)&&this.setPersonProperties(r,n),t!==s&&(this.reloadFeatureFlags(),this.unregister(ux))}}else Ze.critical('The string "'+ip+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else Ze.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,r){if((t||r)&&this.ts("posthog.setPersonProperties")){var n=IR(this.get_distinct_id(),t,r);this.Ar!==n?(this.setPersonPropertiesForFlags(ot({},r||{},t||{})),this.capture("$set",{$set:t||{},$set_once:r||{}}),this.Ar=n):Ze.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,r,n){if(t&&r){var s=this.getGroups();s[t]!==r&&this.resetGroupPropertiesForFlags(t),this.register({$groups:ot({},s,{[t]:r})}),n&&(this.capture("$groupidentify",{$group_type:t,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags({[t]:n})),s[t]===r||n||this.reloadFeatureFlags()}else Ze.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0),this.featureFlags.setPersonPropertiesForFlags(t,r)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0),this.ts("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,r)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var r,n,s,a;if(Ze.info("reset"),!this.__loaded)return Ze.uninitializedWarning("posthog.reset");var i=this.get_property("$device_id");if(this.consent.reset(),(r=this.persistence)==null||r.clear(),(n=this.sessionPersistence)==null||n.clear(),this.surveys.reset(),this.featureFlags.reset(),(s=this.persistence)==null||s.set_property(ho,"anonymous"),(a=this.sessionManager)==null||a.resetSessionId(),this.Ar=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:ip,$device_id:null},"");else{var l=this.config.get_device_id(Ol());this.register_once({distinct_id:l,$device_id:t?l:i},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,r;return(t=(r=this.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:r,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),s=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+r);if(t!=null&&t.withTimestamp&&n){var a,i=(a=t.timestampLookBack)!==null&&a!==void 0?a:10;if(!n)return s;s+="?t="+Math.max(Math.floor((new Date().getTime()-n)/1e3)-i,0)}return s}alias(t,r){return t===this.get_property(DB)?(Ze.critical("Attempting to create alias for existing People user - aborting."),-2):this.ts("posthog.alias")?(Je(r)&&(r=this.get_distinct_id()),t!==r?(this.es(zp,t),this.capture("$create_alias",{alias:t,distinct_id:r})):(Ze.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var r=ot({},this.config);if(Cn(t)){var n,s,a,i,l;Qr(this.config,JR(t));var c=this.Nr();(n=this.persistence)==null||n.update_config(this.config,r,c),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Z_(ot({},this.config,{persistence:"sessionStorage"}),c);var u=this.Dr(this.config.debug);Eo(u)&&(this.config.debug=u),Eo(this.config.debug)&&(this.config.debug?(fo.DEBUG=!0,qr.H()&&qr.G("ph_debug","true"),Ze.info("set_config",{config:t,oldConfig:r,newConfig:ot({},this.config)})):(fo.DEBUG=!1,qr.H()&&qr.V("ph_debug"))),(s=this.sessionRecording)==null||s.startIfEnabledOrStop(),(a=this.autocapture)==null||a.startIfEnabled(),(i=this.heatmaps)==null||i.startIfEnabled(),this.surveys.loadIfEnabled(),this.rs(),(l=this.externalIntegrations)==null||l.startIfEnabledOrStop()}}startSessionRecording(t){var r=t===!0,n={sampling:r||!(t==null||!t.sampling),linked_flag:r||!(t==null||!t.linked_flag),url_trigger:r||!(t==null||!t.url_trigger),event_trigger:r||!(t==null||!t.event_trigger)};if(Object.values(n).some(Boolean)){var s,a,i,l,c;(s=this.sessionManager)==null||s.checkAndGetSessionAndWindowId(),n.sampling&&((a=this.sessionRecording)==null||a.overrideSampling()),n.linked_flag&&((i=this.sessionRecording)==null||i.overrideLinkedFlag()),n.url_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("url")),n.event_trigger&&((c=this.sessionRecording)==null||c.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,r){var n=new Error("PostHog syntheticException"),s=this.exceptions.buildProperties(t,{handled:!0,syntheticException:n});return this.exceptions.sendExceptionEvent(ot({},s,r))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var r;return(r=this.persistence)==null?void 0:r.props[t]}getSessionProperty(t){var r;return(r=this.sessionPersistence)==null?void 0:r.props[t]}toString(){var t,r=(t=this.config.name)!==null&&t!==void 0?t:xd;return r!==xd&&(r=xd+"."+r),r}_isIdentified(){var t,r;return((t=this.persistence)==null?void 0:t.get_property(ho))==="identified"||((r=this.sessionPersistence)==null?void 0:r.get_property(ho))==="identified"}Zr(){var t,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Rd(this.getGroups())&&((t=this.persistence)==null||(t=t.props)==null||!t[zp])&&((r=this.persistence)==null||(r=r.props)==null||!r[fx]))}Yr(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Zr()||this.ts("posthog.createPersonProfile")&&this.setPersonProperties({},{})}ts(t){return this.config.person_profiles==="never"?(Ze.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.es(fx,!0),!0)}Nr(){if(this.config.cookieless_mode==="always")return!0;var t=this.consent.isOptedOut(),r=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||t&&!!r}rs(){var t,r,n,s,a=this.Nr();return((t=this.persistence)==null?void 0:t.bi)!==a&&((n=this.persistence)==null||n.set_disabled(a)),((r=this.sessionPersistence)==null?void 0:r.bi)!==a&&((s=this.sessionPersistence)==null||s.set_disabled(a)),a}opt_in_capturing(t){var r;if(this.config.cookieless_mode!=="always"){var n,s;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(n=this.sessionManager)==null||n.destroy(),this.sessionManager=new VR(this),this.persistence&&(this.sessionPropsManager=new WR(this,this.sessionManager,this.persistence)),this.sessionRecording=new KR(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.rs(),this.Jr(),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(Je(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((s=t==null?void 0:t.captureEventName)!==null&&s!==void 0?s:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Kr()}else Ze.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var t,r;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.rs(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:ip,$device_id:null}),(t=this.sessionManager)==null||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(r=this.sessionRecording)==null||r.stopRecording(),this.sessionRecording=void 0,this.Kr())):Ze.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===po.GRANTED?"granted":t===po.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.rs()}_is_bot(){return sa?IU(sa,this.config.custom_blocked_useragents):void 0}Kr(){Qe&&(Qe.visibilityState==="visible"?this.Fr||(this.Fr=!0,this.capture("$pageview",{title:Qe.title},{send_instantly:!0}),this.Mr&&(Qe.removeEventListener("visibilitychange",this.Mr),this.Mr=null)):this.Mr||(this.Mr=this.Kr.bind(this),on(Qe,"visibilitychange",this.Mr)))}debug(t){t===!1?(ve==null||ve.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(ve==null||ve.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}O(){var t,r,n,s,a,i,l,c=this.jr||{};return"advanced_disable_flags"in c?!!c.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(Ze.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",s=!1,a=Ze,i=(r="advanced_disable_flags")in(t=c)&&!Je(t[r]),l=n in t&&!Je(t[n]),i?t[r]:l?(a&&a.warn("Config field '"+n+"' is deprecated. Please use '"+r+"' instead. The old field will be removed in a future major version."),t[n]):s)}Qr(t){if(rr(this.config.before_send))return t;var r=lr(this.config.before_send)?this.config.before_send:[this.config.before_send],n=t;for(var s of r){if(n=s(n),rr(n)){var a="Event '"+t.event+"' was rejected in beforeSend function";return Qte(t.event)?Ze.warn(a+". This can cause unexpected behavior."):Ze.info(a),null}n.properties&&!Rd(n.properties)||Ze.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var t;return(t=this.pageViewManager.Vt)==null?void 0:t.pageViewId}captureTraceFeedback(t,r){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:r})}captureTraceMetric(t,r,n){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:r,$ai_metric_value:String(n)})}Dr(t){var r=Eo(t)&&!t,n=qr.H()&&qr.q("ph_debug")==="true";return!r&&(!!n||t)}}(function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=jre(e.prototype[t[r]])})(gw,["identify"]);var YR,bd=(YR=hm[xd]=new gw,function(){function e(){e.done||(e.done=!0,LU=!1,Er(hm,function(t){t._dom_loaded()}))}Qe!=null&&Qe.addEventListener?Qe.readyState==="complete"?e():on(Qe,"DOMContentLoaded",e,{capture:!1}):ve&&Ze.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),YR),DU=p.createContext({client:bd,bootstrap:void 0});function FU(e,t,r){if(r===void 0&&(r=new WeakMap),e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(r.has(e)&&r.get(e)===t)return!0;r.set(e,t);var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(var a=0,i=n;a<i.length;a++){var l=i[a];if(!s.includes(l)||!FU(e[l],t[l],r))return!1}return!0}function lse(e){var t,r,n=e.children,s=e.client,a=e.apiKey,i=e.options,l=p.useRef(null),c=p.useMemo(function(){return s?(a&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),i&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),s):(a||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),bd)},[s,a,JSON.stringify(i)]);return p.useEffect(function(){if(!s){var u=l.current;u?(a!==u.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),i&&!FU(i,u.options)&&bd.set_config(i),l.current={apiKey:a,options:i??{}}):(bd.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),bd.init(a,i),l.current={apiKey:a,options:i??{}})}},[s,a,JSON.stringify(i)]),O.createElement(DU.Provider,{value:{client:c,bootstrap:(t=i==null?void 0:i.bootstrap)!==null&&t!==void 0?t:(r=s==null?void 0:s.config)===null||r===void 0?void 0:r.bootstrap}},n)}var nS=function(e){return typeof e=="function"},nE=function(e,t){return nE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},nE(e,t)};function cse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nE(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var use={componentStack:null,exceptionEvent:null,error:null},dse={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(e){cse(t,e);function t(r){var n=e.call(this,r)||this;return n.state=use,n}return t.prototype.componentDidCatch=function(r,n){var s=this.props.additionalProperties,a;nS(s)?a=s(r):typeof s=="object"&&(a=s);var i=this.context.client,l=i.captureException(r,a),c=n.componentStack;this.setState({error:r,componentStack:c??null,exceptionEvent:l})},t.prototype.render=function(){var r=this.props,n=r.children,s=r.fallback,a=this.state;if(a.componentStack==null)return nS(n)?n():n;var i=nS(s)?O.createElement(s,{error:a.error,componentStack:a.componentStack,exceptionEvent:a.exceptionEvent}):s;return O.isValidElement(i)?i:(console.warn(dse.INVALID_FALLBACK),O.createElement(O.Fragment,null))},t.contextType=DU,t})(O.Component);var fse=e=>{switch(e){case"success":return mse;case"info":return yse;case"warning":return gse;case"error":return vse;default:return null}},hse=Array(12).fill(0),pse=({visible:e})=>O.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},O.createElement("div",{className:"sonner-spinner"},hse.map((t,r)=>O.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),mse=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gse=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),yse=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vse=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xse=()=>{let[e,t]=O.useState(document.hidden);return O.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},sE=1,bse=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:sE++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async a=>{if(_se(a)&&!a.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async a=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var a;s&&(this.dismiss(r),r=void 0),(a=t.finally)==null||a.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||sE++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Qs=new bse,wse=(e,t)=>{let r=(t==null?void 0:t.id)||sE++;return Qs.addToast({title:e,...t,id:r}),r},_se=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Sse=wse,jse=()=>Qs.toasts,le=Object.assign(Sse,{success:Qs.success,info:Qs.info,warning:Qs.warning,error:Qs.error,custom:Qs.custom,message:Qs.message,promise:Qs.promise,dismiss:Qs.dismiss,loading:Qs.loading},{getHistory:jse});function kse(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}kse(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function vv(e){return e.label!==void 0}var Ese=3,Nse="32px",Cse=4e3,Pse=356,Ase=14,Tse=20,Ose=200;function $se(...e){return e.filter(Boolean).join(" ")}var Rse=e=>{var t,r,n,s,a,i,l,c,u,d;let{invert:f,toast:h,unstyled:g,interacting:y,setHeights:m,visibleToasts:v,heights:x,index:w,toasts:b,expanded:_,removeToast:S,defaultRichColors:E,closeButton:k,style:j,cancelButtonStyle:N,actionButtonStyle:C,className:P="",descriptionClassName:R="",duration:F,position:z,gap:D,loadingIcon:I,expandByDefault:B,classNames:T,icons:M,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:L,cn:G}=e,[H,Y]=O.useState(!1),[ae,V]=O.useState(!1),[W,J]=O.useState(!1),[K,Q]=O.useState(!1),[se,X]=O.useState(0),[ce,oe]=O.useState(0),xe=O.useRef(null),pe=O.useRef(null),re=w===0,ee=w+1<=v,ye=h.type,De=h.dismissible!==!1,$=h.className||"",q=h.descriptionClassName||"",fe=O.useMemo(()=>x.findIndex(we=>we.toastId===h.id)||0,[x,h.id]),be=O.useMemo(()=>{var we;return(we=h.closeButton)!=null?we:k},[h.closeButton,k]),qe=O.useMemo(()=>h.duration||F||Cse,[h.duration,F]),We=O.useRef(0),Ye=O.useRef(0),Pe=O.useRef(0),he=O.useRef(null),[je,Ee]=z.split("-"),Me=O.useMemo(()=>x.reduce((we,Be,Ie)=>Ie>=fe?we:we+Be.height,0),[x,fe]),ht=xse(),ut=h.invert||f,Ct=ye==="loading";Ye.current=O.useMemo(()=>fe*D+Me,[fe,Me]),O.useEffect(()=>{Y(!0)},[]),O.useLayoutEffect(()=>{if(!H)return;let we=pe.current,Be=we.style.height;we.style.height="auto";let Ie=we.getBoundingClientRect().height;we.style.height=Be,oe(Ie),m(Ve=>Ve.find(ft=>ft.toastId===h.id)?Ve.map(ft=>ft.toastId===h.id?{...ft,height:Ie}:ft):[{toastId:h.id,height:Ie,position:h.position},...Ve])},[H,h.title,h.description,m,h.id]);let at=O.useCallback(()=>{V(!0),X(Ye.current),m(we=>we.filter(Be=>Be.toastId!==h.id)),setTimeout(()=>{S(h)},Ose)},[h,S,m,Ye]);O.useEffect(()=>{if(h.promise&&ye==="loading"||h.duration===1/0||h.type==="loading")return;let we,Be=qe;return _||y||L&&ht?(()=>{if(Pe.current<We.current){let Ie=new Date().getTime()-We.current;Be=Be-Ie}Pe.current=new Date().getTime()})():Be!==1/0&&(We.current=new Date().getTime(),we=setTimeout(()=>{var Ie;(Ie=h.onAutoClose)==null||Ie.call(h,h),at()},Be)),()=>clearTimeout(we)},[_,y,B,h,qe,at,h.promise,ye,L,ht]),O.useEffect(()=>{let we=pe.current;if(we){let Be=we.getBoundingClientRect().height;return oe(Be),m(Ie=>[{toastId:h.id,height:Be,position:h.position},...Ie]),()=>m(Ie=>Ie.filter(Ve=>Ve.toastId!==h.id))}},[m,h.id]),O.useEffect(()=>{h.delete&&at()},[at,h.delete]);function kt(){return M!=null&&M.loading?O.createElement("div",{className:"sonner-loader","data-visible":ye==="loading"},M.loading):I?O.createElement("div",{className:"sonner-loader","data-visible":ye==="loading"},I):O.createElement(pse,{visible:ye==="loading"})}return O.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:pe,className:G(P,$,T==null?void 0:T.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[ye],(r=h==null?void 0:h.classNames)==null?void 0:r[ye]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:E,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":H,"data-promise":!!h.promise,"data-removed":ae,"data-visible":ee,"data-y-position":je,"data-x-position":Ee,"data-index":w,"data-front":re,"data-swiping":W,"data-dismissible":De,"data-type":ye,"data-invert":ut,"data-swipe-out":K,"data-expanded":!!(_||B&&H),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${ae?se:Ye.current}px`,"--initial-height":B?"auto":`${ce}px`,...j,...h.style},onPointerDown:we=>{Ct||!De||(xe.current=new Date,X(Ye.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(J(!0),he.current={x:we.clientX,y:we.clientY}))},onPointerUp:()=>{var we,Be,Ie,Ve;if(K||!De)return;he.current=null;let ft=Number(((we=pe.current)==null?void 0:we.style.getPropertyValue("--swipe-amount").replace("px",""))||0),er=new Date().getTime()-((Be=xe.current)==null?void 0:Be.getTime()),A=Math.abs(ft)/er;if(Math.abs(ft)>=Tse||A>.11){X(Ye.current),(Ie=h.onDismiss)==null||Ie.call(h,h),at(),Q(!0);return}(Ve=pe.current)==null||Ve.style.setProperty("--swipe-amount","0px"),J(!1)},onPointerMove:we=>{var Be;if(!he.current||!De)return;let Ie=we.clientY-he.current.y,Ve=we.clientX-he.current.x,ft=(je==="top"?Math.min:Math.max)(0,Ie),er=we.pointerType==="touch"?10:2;Math.abs(ft)>er?(Be=pe.current)==null||Be.style.setProperty("--swipe-amount",`${Ie}px`):Math.abs(Ve)>er&&(he.current=null)}},be&&!h.jsx?O.createElement("button",{"aria-label":Z,"data-disabled":Ct,"data-close-button":!0,onClick:Ct||!De?()=>{}:()=>{var we;at(),(we=h.onDismiss)==null||we.call(h,h)},className:G(T==null?void 0:T.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},O.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||O.isValidElement(h.title)?h.jsx||h.title:O.createElement(O.Fragment,null,ye||h.icon||h.promise?O.createElement("div",{"data-icon":"",className:G(T==null?void 0:T.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||kt():null,h.type!=="loading"?h.icon||(M==null?void 0:M[ye])||fse(ye):null):null,O.createElement("div",{"data-content":"",className:G(T==null?void 0:T.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},O.createElement("div",{"data-title":"",className:G(T==null?void 0:T.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?O.createElement("div",{"data-description":"",className:G(R,q,T==null?void 0:T.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),O.isValidElement(h.cancel)?h.cancel:h.cancel&&vv(h.cancel)?O.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:we=>{var Be,Ie;vv(h.cancel)&&De&&((Ie=(Be=h.cancel).onClick)==null||Ie.call(Be,we),at())},className:G(T==null?void 0:T.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,O.isValidElement(h.action)?h.action:h.action&&vv(h.action)?O.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||C,onClick:we=>{var Be,Ie;vv(h.action)&&(we.defaultPrevented||((Ie=(Be=h.action).onClick)==null||Ie.call(Be,we),at()))},className:G(T==null?void 0:T.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function XR(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Mse=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:i,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=Ese,toastOptions:g,dir:y=XR(),gap:m=Ase,loadingIcon:v,icons:x,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b,cn:_=$se}=e,[S,E]=O.useState([]),k=O.useMemo(()=>Array.from(new Set([r].concat(S.filter(L=>L.position).map(L=>L.position)))),[S,r]),[j,N]=O.useState([]),[C,P]=O.useState(!1),[R,F]=O.useState(!1),[z,D]=O.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=O.useRef(null),B=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=O.useRef(null),M=O.useRef(!1),Z=O.useCallback(L=>{var G;(G=S.find(H=>H.id===L.id))!=null&&G.delete||Qs.dismiss(L.id),E(H=>H.filter(({id:Y})=>Y!==L.id))},[S]);return O.useEffect(()=>Qs.subscribe(L=>{if(L.dismiss){E(G=>G.map(H=>H.id===L.id?{...H,delete:!0}:H));return}setTimeout(()=>{hy.flushSync(()=>{E(G=>{let H=G.findIndex(Y=>Y.id===L.id);return H!==-1?[...G.slice(0,H),{...G[H],...L},...G.slice(H+1)]:[L,...G]})})})}),[]),O.useEffect(()=>{if(c!=="system"){D(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:L})=>{D(L?"dark":"light")})},[c]),O.useEffect(()=>{S.length<=1&&P(!1)},[S]),O.useEffect(()=>{let L=G=>{var H,Y;n.every(ae=>G[ae]||G.code===ae)&&(P(!0),(H=I.current)==null||H.focus()),G.code==="Escape"&&(document.activeElement===I.current||(Y=I.current)!=null&&Y.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[n]),O.useEffect(()=>{if(I.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,M.current=!1)}},[I.current]),S.length?O.createElement("section",{"aria-label":`${w} ${B}`,tabIndex:-1},k.map((L,G)=>{var H;let[Y,ae]=L.split("-");return O.createElement("ol",{key:L,dir:y==="auto"?XR():y,tabIndex:-1,ref:I,className:i,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":Y,"data-x-position":ae,style:{"--front-toast-height":`${((H=j[0])==null?void 0:H.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Nse,"--width":`${Pse}px`,"--gap":`${m}px`,...f},onBlur:V=>{M.current&&!V.currentTarget.contains(V.relatedTarget)&&(M.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||M.current||(M.current=!0,T.current=V.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{R||P(!1)},onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},S.filter(V=>!V.position&&G===0||V.position===L).map((V,W)=>{var J,K;return O.createElement(Rse,{key:V.id,icons:x,index:W,toast:V,defaultRichColors:u,duration:(J=g==null?void 0:g.duration)!=null?J:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:h,closeButton:(K=g==null?void 0:g.closeButton)!=null?K:a,interacting:R,position:L,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Z,toasts:S.filter(Q=>Q.position==V.position),heights:j.filter(Q=>Q.position==V.position),setHeights:N,expandByDefault:s,gap:m,loadingIcon:v,expanded:C,pauseWhenPageIsHidden:b,cn:_})}))})):null};const Ise=({...e})=>{const{theme:t="light"}=qo();return o.jsx(Mse,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg group-[.toaster]:rounded-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground group-[.toast]:rounded-md",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground group-[.toast]:rounded-md"}},...e})};function Le(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Lse(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function yw(...e){return t=>e.forEach(r=>Lse(r,t))}function wt(...e){return p.useCallback(yw(...e),e)}function Dse(e,t){const r=p.createContext(t),n=a=>{const{children:i,...l}=a,c=p.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=p.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function fa(e,t=[]){let r=[];function n(a,i){const l=p.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:g,...y}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=p.useMemo(()=>y,Object.values(y));return o.jsx(m.Provider,{value:v,children:g})};u.displayName=a+"Provider";function d(f,h){var m;const g=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=p.useContext(g);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Fse(s,...t)]}function Fse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var tc=p.forwardRef((e,t)=>{const{children:r,...n}=e,s=p.Children.toArray(r),a=s.find(Bse);if(a){const i=a.props.children,l=s.map(c=>c===a?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:c);return o.jsx(aE,{...n,ref:t,children:p.isValidElement(i)?p.cloneElement(i,void 0,l):null})}return o.jsx(aE,{...n,ref:t,children:r})});tc.displayName="Slot";var aE=p.forwardRef((e,t)=>{const{children:r,...n}=e;if(p.isValidElement(r)){const s=zse(r);return p.cloneElement(r,{...Use(n,r.props),ref:t?yw(t,s):s})}return p.Children.count(r)>1?p.Children.only(null):null});aE.displayName="SlotClone";var wP=({children:e})=>o.jsx(o.Fragment,{children:e});function Bse(e){return p.isValidElement(e)&&e.type===wP}function Use(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function zse(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var qse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nt=qse.reduce((e,t)=>{const r=p.forwardRef((n,s)=>{const{asChild:a,...i}=n,l=a?tc:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function yy(e,t){e&&qu.flushSync(()=>e.dispatchEvent(t))}function Jt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Wse(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Vse="DismissableLayer",iE="dismissableLayer.update",Hse="dismissableLayer.pointerDownOutside",Kse="dismissableLayer.focusOutside",QR,BU=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),UU=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(BU),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),y=wt(t,k=>f(k)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=Yse(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=Xse(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return Wse(k=>{w===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(QR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ZR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=QR)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ZR())},[d,u]),p.useEffect(()=>{const k=()=>g({});return document.addEventListener(iE,k),()=>document.removeEventListener(iE,k)},[]),o.jsx(nt.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,S.onPointerDownCapture)})});UU.displayName=Vse;var Gse="DismissableLayerBranch",Jse=p.forwardRef((e,t)=>{const r=p.useContext(BU),n=p.useRef(null),s=wt(t,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(nt.div,{...e,ref:s})});Jse.displayName=Gse;function Yse(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){zU(Hse,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Xse(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!n.current&&zU(Kse,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ZR(){const e=new CustomEvent(iE);document.dispatchEvent(e)}function zU(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?yy(s,a):s.dispatchEvent(a)}var tn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Qse=dh.useId||(()=>{}),Zse=0;function li(e){const[t,r]=p.useState(Qse());return tn(()=>{r(n=>n??String(Zse++))},[e]),t?`radix-${t}`:""}const eae=["top","right","bottom","left"],rc=Math.min,ta=Math.max,_x=Math.round,xv=Math.floor,Ui=e=>({x:e,y:e}),tae={left:"right",right:"left",bottom:"top",top:"bottom"},rae={start:"end",end:"start"};function oE(e,t,r){return ta(e,rc(t,r))}function Mo(e,t){return typeof e=="function"?e(t):e}function Io(e){return e.split("-")[0]}function gh(e){return e.split("-")[1]}function _P(e){return e==="x"?"y":"x"}function SP(e){return e==="y"?"height":"width"}const nae=new Set(["top","bottom"]);function Ii(e){return nae.has(Io(e))?"y":"x"}function jP(e){return _P(Ii(e))}function sae(e,t,r){r===void 0&&(r=!1);const n=gh(e),s=jP(e),a=SP(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Sx(i)),[i,Sx(i)]}function aae(e){const t=Sx(e);return[lE(e),t,lE(t)]}function lE(e){return e.replace(/start|end/g,t=>rae[t])}const eM=["left","right"],tM=["right","left"],iae=["top","bottom"],oae=["bottom","top"];function lae(e,t,r){switch(e){case"top":case"bottom":return r?t?tM:eM:t?eM:tM;case"left":case"right":return t?iae:oae;default:return[]}}function cae(e,t,r,n){const s=gh(e);let a=lae(Io(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(lE)))),a}function Sx(e){return e.replace(/left|right|bottom|top/g,t=>tae[t])}function uae(e){return{top:0,right:0,bottom:0,left:0,...e}}function qU(e){return typeof e!="number"?uae(e):{top:e,right:e,bottom:e,left:e}}function jx(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function rM(e,t,r){let{reference:n,floating:s}=e;const a=Ii(t),i=jP(t),l=SP(i),c=Io(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-s.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-s.width,y:f};break;default:g={x:n.x,y:n.y}}switch(gh(t)){case"start":g[i]-=h*(r&&u?-1:1);break;case"end":g[i]+=h*(r&&u?-1:1);break}return g}const dae=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=rM(u,n,c),h=n,g={},y=0;for(let m=0;m<l.length;m++){const{name:v,fn:x}=l[m],{x:w,y:b,data:_,reset:S}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});d=w??d,f=b??f,g={...g,[v]:{...g[v],..._}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=rM(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:g}};async function Zm(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=Mo(t,e),y=qU(g),v=l[h?f==="floating"?"reference":"floating":f],x=jx(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},S=jx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(x.top-S.top+y.top)/_.y,bottom:(S.bottom-x.bottom+y.bottom)/_.y,left:(x.left-S.left+y.left)/_.x,right:(S.right-x.right+y.right)/_.x}}const fae=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Mo(e,t)||{};if(u==null)return{};const f=qU(d),h={x:r,y:n},g=jP(s),y=SP(g),m=await i.getDimensions(u),v=g==="y",x=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",_=a.reference[y]+a.reference[g]-h[g]-a.floating[y],S=h[g]-a.reference[g],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=E?E[b]:0;(!k||!await(i.isElement==null?void 0:i.isElement(E)))&&(k=l.floating[b]||a.floating[y]);const j=_/2-S/2,N=k/2-m[y]/2-1,C=rc(f[x],N),P=rc(f[w],N),R=C,F=k-m[y]-P,z=k/2-m[y]/2+j,D=oE(R,z,F),I=!c.arrow&&gh(s)!=null&&z!==D&&a.reference[y]/2-(z<R?C:P)-m[y]/2<0,B=I?z<R?z-R:z-F:0;return{[g]:h[g]+B,data:{[g]:D,centerOffset:z-D-B,...I&&{alignmentOffset:B}},reset:I}}}),hae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...v}=Mo(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=Io(s),w=Ii(l),b=Io(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(b||!m?[Sx(l)]:aae(l)),E=y!=="none";!h&&E&&S.push(...cae(l,m,y,_));const k=[l,...S],j=await Zm(t,v),N=[];let C=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&N.push(j[x]),f){const z=sae(s,i,_);N.push(j[z[0]],j[z[1]])}if(C=[...C,{placement:s,overflows:N}],!N.every(z=>z<=0)){var P,R;const z=(((P=a.flip)==null?void 0:P.index)||0)+1,D=k[z];if(D&&(!(f==="alignment"?w!==Ii(D):!1)||C.every(T=>Ii(T.placement)===w?T.overflows[0]>0:!0)))return{data:{index:z,overflows:C},reset:{placement:D}};let I=(R=C.filter(B=>B.overflows[0]<=0).sort((B,T)=>B.overflows[1]-T.overflows[1])[0])==null?void 0:R.placement;if(!I)switch(g){case"bestFit":{var F;const B=(F=C.filter(T=>{if(E){const M=Ii(T.placement);return M===w||M==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(M=>M>0).reduce((M,Z)=>M+Z,0)]).sort((T,M)=>T[1]-M[1])[0])==null?void 0:F[0];B&&(I=B);break}case"initialPlacement":I=l;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function nM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sM(e){return eae.some(t=>e[t]>=0)}const pae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Mo(e,t);switch(n){case"referenceHidden":{const a=await Zm(t,{...s,elementContext:"reference"}),i=nM(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:sM(i)}}}case"escaped":{const a=await Zm(t,{...s,altBoundary:!0}),i=nM(a,r.floating);return{data:{escapedOffsets:i,escaped:sM(i)}}}default:return{}}}}},WU=new Set(["left","top"]);async function mae(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Io(r),l=gh(r),c=Ii(r)==="y",u=WU.has(i)?-1:1,d=a&&c?-1:1,f=Mo(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(g=l==="end"?y*-1:y),c?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const gae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await mae(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},yae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...c}=Mo(e,t),u={x:r,y:n},d=await Zm(t,c),f=Ii(Io(s)),h=_P(f);let g=u[h],y=u[f];if(a){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=g+d[v],b=g-d[x];g=oE(w,g,b)}if(i){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=y+d[v],b=y-d[x];y=oE(w,y,b)}const m=l.fn({...t,[h]:g,[f]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:a,[f]:i}}}}}},vae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Mo(e,t),d={x:r,y:n},f=Ii(s),h=_P(f);let g=d[h],y=d[f];const m=Mo(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",_=a.reference[h]-a.floating[b]+v.mainAxis,S=a.reference[h]+a.reference[b]-v.mainAxis;g<_?g=_:g>S&&(g=S)}if(u){var x,w;const b=h==="y"?"width":"height",_=WU.has(Io(s)),S=a.reference[f]-a.floating[b]+(_&&((x=i.offset)==null?void 0:x[f])||0)+(_?0:v.crossAxis),E=a.reference[f]+a.reference[b]+(_?0:((w=i.offset)==null?void 0:w[f])||0)-(_?v.crossAxis:0);y<S?y=S:y>E&&(y=E)}return{[h]:g,[f]:y}}}},xae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Mo(e,t),d=await Zm(t,u),f=Io(s),h=gh(s),g=Ii(s)==="y",{width:y,height:m}=a.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const w=m-d.top-d.bottom,b=y-d.left-d.right,_=rc(m-d[v],w),S=rc(y-d[x],b),E=!t.middlewareData.shift;let k=_,j=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=w),E&&!h){const C=ta(d.left,0),P=ta(d.right,0),R=ta(d.top,0),F=ta(d.bottom,0);g?j=y-2*(C!==0||P!==0?C+P:ta(d.left,d.right)):k=m-2*(R!==0||F!==0?R+F:ta(d.top,d.bottom))}await c({...t,availableWidth:j,availableHeight:k});const N=await i.getDimensions(l.floating);return y!==N.width||m!==N.height?{reset:{rects:!0}}:{}}}};function vw(){return typeof window<"u"}function yh(e){return VU(e)?(e.nodeName||"").toLowerCase():"#document"}function oa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qi(e){var t;return(t=(VU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function VU(e){return vw()?e instanceof Node||e instanceof oa(e).Node:!1}function fi(e){return vw()?e instanceof Element||e instanceof oa(e).Element:!1}function Ki(e){return vw()?e instanceof HTMLElement||e instanceof oa(e).HTMLElement:!1}function aM(e){return!vw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oa(e).ShadowRoot}const bae=new Set(["inline","contents"]);function vy(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=hi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!bae.has(s)}const wae=new Set(["table","td","th"]);function _ae(e){return wae.has(yh(e))}const Sae=[":popover-open",":modal"];function xw(e){return Sae.some(t=>{try{return e.matches(t)}catch{return!1}})}const jae=["transform","translate","scale","rotate","perspective"],kae=["transform","translate","scale","rotate","perspective","filter"],Eae=["paint","layout","strict","content"];function kP(e){const t=EP(),r=fi(e)?hi(e):e;return jae.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||kae.some(n=>(r.willChange||"").includes(n))||Eae.some(n=>(r.contain||"").includes(n))}function Nae(e){let t=nc(e);for(;Ki(t)&&!$f(t);){if(kP(t))return t;if(xw(t))return null;t=nc(t)}return null}function EP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Cae=new Set(["html","body","#document"]);function $f(e){return Cae.has(yh(e))}function hi(e){return oa(e).getComputedStyle(e)}function bw(e){return fi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nc(e){if(yh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||aM(e)&&e.host||Qi(e);return aM(t)?t.host:t}function HU(e){const t=nc(e);return $f(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ki(t)&&vy(t)?t:HU(t)}function eg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=HU(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=oa(s);if(a){const l=cE(i);return t.concat(i,i.visualViewport||[],vy(s)?s:[],l&&r?eg(l):[])}return t.concat(s,eg(s,[],r))}function cE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function KU(e){const t=hi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ki(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=_x(r)!==a||_x(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function NP(e){return fi(e)?e:e.contextElement}function Xd(e){const t=NP(e);if(!Ki(t))return Ui(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=KU(t);let i=(a?_x(r.width):r.width)/n,l=(a?_x(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Pae=Ui(0);function GU(e){const t=oa(e);return!EP()||!t.visualViewport?Pae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Aae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==oa(e)?!1:t}function Nu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=NP(e);let i=Ui(1);t&&(n?fi(n)&&(i=Xd(n)):i=Xd(e));const l=Aae(a,r,n)?GU(a):Ui(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(a){const h=oa(a),g=n&&fi(n)?oa(n):n;let y=h,m=cE(y);for(;m&&n&&g!==y;){const v=Xd(m),x=m.getBoundingClientRect(),w=hi(m),b=x.left+(m.clientLeft+parseFloat(w.paddingLeft))*v.x,_=x.top+(m.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=b,u+=_,y=oa(m),m=cE(y)}}return jx({width:d,height:f,x:c,y:u})}function ww(e,t){const r=bw(e).scrollLeft;return t?t.left+r:Nu(Qi(e)).left+r}function JU(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-ww(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function Tae(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=Qi(n),l=t?xw(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Ui(1);const d=Ui(0),f=Ki(n);if((f||!f&&!a)&&((yh(n)!=="body"||vy(i))&&(c=bw(n)),Ki(n))){const g=Nu(n);u=Xd(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const h=i&&!f&&!a?JU(i,c):Ui(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Oae(e){return Array.from(e.getClientRects())}function $ae(e){const t=Qi(e),r=bw(e),n=e.ownerDocument.body,s=ta(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=ta(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+ww(e);const l=-r.scrollTop;return hi(n).direction==="rtl"&&(i+=ta(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:l}}const iM=25;function Rae(e,t){const r=oa(e),n=Qi(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const d=EP();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=ww(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),g=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(n.clientWidth-f.clientWidth-g);y<=iM&&(a-=y)}else u<=iM&&(a+=u);return{width:a,height:i,x:l,y:c}}const Mae=new Set(["absolute","fixed"]);function Iae(e,t){const r=Nu(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Ki(e)?Xd(e):Ui(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function oM(e,t,r){let n;if(t==="viewport")n=Rae(e,r);else if(t==="document")n=$ae(Qi(e));else if(fi(t))n=Iae(t,r);else{const s=GU(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return jx(n)}function YU(e,t){const r=nc(e);return r===t||!fi(r)||$f(r)?!1:hi(r).position==="fixed"||YU(r,t)}function Lae(e,t){const r=t.get(e);if(r)return r;let n=eg(e,[],!1).filter(l=>fi(l)&&yh(l)!=="body"),s=null;const a=hi(e).position==="fixed";let i=a?nc(e):e;for(;fi(i)&&!$f(i);){const l=hi(i),c=kP(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&Mae.has(s.position)||vy(i)&&!c&&YU(e,i))?n=n.filter(d=>d!==i):s=l,i=nc(i)}return t.set(e,n),n}function Dae(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?xw(t)?[]:Lae(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=oM(t,d,s);return u.top=ta(f.top,u.top),u.right=rc(f.right,u.right),u.bottom=rc(f.bottom,u.bottom),u.left=ta(f.left,u.left),u},oM(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Fae(e){const{width:t,height:r}=KU(e);return{width:t,height:r}}function Bae(e,t,r){const n=Ki(t),s=Qi(t),a=r==="fixed",i=Nu(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Ui(0);function u(){c.x=ww(s)}if(n||!n&&!a)if((yh(t)!=="body"||vy(s))&&(l=bw(t)),n){const g=Nu(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?JU(s,l):Ui(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function sS(e){return hi(e).position==="static"}function lM(e,t){if(!Ki(e)||hi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Qi(e)===r&&(r=r.ownerDocument.body),r}function XU(e,t){const r=oa(e);if(xw(e))return r;if(!Ki(e)){let s=nc(e);for(;s&&!$f(s);){if(fi(s)&&!sS(s))return s;s=nc(s)}return r}let n=lM(e,t);for(;n&&_ae(n)&&sS(n);)n=lM(n,t);return n&&$f(n)&&sS(n)&&!kP(n)?r:n||Nae(e)||r}const Uae=async function(e){const t=this.getOffsetParent||XU,r=this.getDimensions,n=await r(e.floating);return{reference:Bae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function zae(e){return hi(e).direction==="rtl"}const qae={convertOffsetParentRelativeRectToViewportRelativeRect:Tae,getDocumentElement:Qi,getClippingRect:Dae,getOffsetParent:XU,getElementRects:Uae,getClientRects:Oae,getDimensions:Fae,getScale:Xd,isElement:fi,isRTL:zae};function QU(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Wae(e,t){let r=null,n;const s=Qi(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=u;if(l||t(),!h||!g)return;const y=xv(f),m=xv(s.clientWidth-(d+h)),v=xv(s.clientHeight-(f+g)),x=xv(d),b={rootMargin:-y+"px "+-m+"px "+-v+"px "+-x+"px",threshold:ta(0,rc(1,c))||1};let _=!0;function S(E){const k=E[0].intersectionRatio;if(k!==c){if(!_)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!QU(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(e)}return i(!0),a}function Vae(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=NP(e),d=s||a?[...u?eg(u):[],...eg(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const f=u&&l?Wae(u,r):null;let h=-1,g=null;i&&(g=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let y,m=c?Nu(e):null;c&&v();function v(){const x=Nu(e);m&&!QU(m,x)&&r(),m=x,y=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(w=>{s&&w.removeEventListener("scroll",r),a&&w.removeEventListener("resize",r)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(y)}}const Hae=gae,Kae=yae,Gae=hae,Jae=xae,Yae=pae,cM=fae,Xae=vae,Qae=(e,t,r)=>{const n=new Map,s={platform:qae,...r},a={...s.platform,_c:n};return dae(e,t,{...s,platform:a})};var Zae=typeof document<"u",eie=function(){},E0=Zae?p.useLayoutEffect:eie;function kx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!kx(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!kx(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function ZU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function uM(e,t){const r=ZU(e);return Math.round(t*r)/r}function aS(e){const t=p.useRef(e);return E0(()=>{t.current=e}),t}function tie(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=p.useState(n);kx(h,n)||g(n);const[y,m]=p.useState(null),[v,x]=p.useState(null),w=p.useCallback(T=>{T!==E.current&&(E.current=T,m(T))},[]),b=p.useCallback(T=>{T!==k.current&&(k.current=T,x(T))},[]),_=a||y,S=i||v,E=p.useRef(null),k=p.useRef(null),j=p.useRef(d),N=c!=null,C=aS(c),P=aS(s),R=aS(u),F=p.useCallback(()=>{if(!E.current||!k.current)return;const T={placement:t,strategy:r,middleware:h};P.current&&(T.platform=P.current),Qae(E.current,k.current,T).then(M=>{const Z={...M,isPositioned:R.current!==!1};z.current&&!kx(j.current,Z)&&(j.current=Z,qu.flushSync(()=>{f(Z)}))})},[h,t,r,P,R]);E0(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const z=p.useRef(!1);E0(()=>(z.current=!0,()=>{z.current=!1}),[]),E0(()=>{if(_&&(E.current=_),S&&(k.current=S),_&&S){if(C.current)return C.current(_,S,F);F()}},[_,S,F,C,N]);const D=p.useMemo(()=>({reference:E,floating:k,setReference:w,setFloating:b}),[w,b]),I=p.useMemo(()=>({reference:_,floating:S}),[_,S]),B=p.useMemo(()=>{const T={position:r,left:0,top:0};if(!I.floating)return T;const M=uM(I.floating,d.x),Z=uM(I.floating,d.y);return l?{...T,transform:"translate("+M+"px, "+Z+"px)",...ZU(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:Z}},[r,l,I.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:F,refs:D,elements:I,floatingStyles:B}),[d,F,D,I,B])}const rie=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?cM({element:n.current,padding:s}).fn(r):{}:n?cM({element:n,padding:s}).fn(r):{}}}},nie=(e,t)=>({...Hae(e),options:[e,t]}),sie=(e,t)=>({...Kae(e),options:[e,t]}),aie=(e,t)=>({...Xae(e),options:[e,t]}),iie=(e,t)=>({...Gae(e),options:[e,t]}),oie=(e,t)=>({...Jae(e),options:[e,t]}),lie=(e,t)=>({...Yae(e),options:[e,t]}),cie=(e,t)=>({...rie(e),options:[e,t]});var uie="Arrow",e7=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(nt.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});e7.displayName=uie;var die=e7;function fie(e,t=[]){let r=[];function n(a,i){const l=p.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...y}=f,m=(h==null?void 0:h[e][c])||l,v=p.useMemo(()=>y,Object.values(y));return o.jsx(m.Provider,{value:v,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,y=p.useContext(g);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,hie(s,...t)]}function hie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function _w(e){const[t,r]=p.useState(void 0);return tn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var CP="Popper",[t7,vh]=fie(CP),[pie,r7]=t7(CP),n7=e=>{const{__scopePopper:t,children:r}=e,[n,s]=p.useState(null);return o.jsx(pie,{scope:t,anchor:n,onAnchorChange:s,children:r})};n7.displayName=CP;var s7="PopperAnchor",a7=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=r7(s7,r),i=p.useRef(null),l=wt(t,i);return p.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(nt.div,{...s,ref:l})});a7.displayName=s7;var PP="PopperContent",[mie,gie]=t7(PP),i7=p.forwardRef((e,t)=>{var W,J,K,Q,se,X;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:y,...m}=e,v=r7(PP,r),[x,w]=p.useState(null),b=wt(t,ce=>w(ce)),[_,S]=p.useState(null),E=_w(_),k=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,N=n+(a!=="center"?"-"+a:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],R=P.length>0,F={padding:C,boundary:P.filter(vie),altBoundary:R},{refs:z,floatingStyles:D,placement:I,isPositioned:B,middlewareData:T}=tie({strategy:"fixed",placement:N,whileElementsMounted:(...ce)=>Vae(...ce,{animationFrame:g==="always"}),elements:{reference:v.anchor},middleware:[nie({mainAxis:s+j,alignmentAxis:i}),c&&sie({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?aie():void 0,...F}),c&&iie({...F}),oie({...F,apply:({elements:ce,rects:oe,availableWidth:xe,availableHeight:pe})=>{const{width:re,height:ee}=oe.reference,ye=ce.floating.style;ye.setProperty("--radix-popper-available-width",`${xe}px`),ye.setProperty("--radix-popper-available-height",`${pe}px`),ye.setProperty("--radix-popper-anchor-width",`${re}px`),ye.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),_&&cie({element:_,padding:l}),xie({arrowWidth:k,arrowHeight:j}),h&&lie({strategy:"referenceHidden",...F})]}),[M,Z]=c7(I),L=Jt(y);tn(()=>{B&&(L==null||L())},[B,L]);const G=(W=T.arrow)==null?void 0:W.x,H=(J=T.arrow)==null?void 0:J.y,Y=((K=T.arrow)==null?void 0:K.centerOffset)!==0,[ae,V]=p.useState();return tn(()=>{x&&V(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:B?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(Q=T.transformOrigin)==null?void 0:Q.x,(se=T.transformOrigin)==null?void 0:se.y].join(" "),...((X=T.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(mie,{scope:r,placedSide:M,onArrowChange:S,arrowX:G,arrowY:H,shouldHideArrow:Y,children:o.jsx(nt.div,{"data-side":M,"data-align":Z,...m,ref:b,style:{...m.style,animation:B?void 0:"none"}})})})});i7.displayName=PP;var o7="PopperArrow",yie={top:"bottom",right:"left",bottom:"top",left:"right"},l7=p.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=gie(o7,n),i=yie[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(die,{...s,ref:r,style:{...s.style,display:"block"}})})});l7.displayName=o7;function vie(e){return e!==null}var xie=e=>({name:"transformOrigin",options:e,fn(t){var v,x,w;const{placement:r,rects:n,middlewareData:s}=t,i=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=c7(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,g=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=i?f:`${h}px`,m=`${-c}px`):u==="top"?(y=i?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=i?f:`${g}px`):u==="left"&&(y=`${n.floating.width+c}px`,m=i?f:`${g}px`),{data:{x:y,y:m}}}});function c7(e){const[t,r="center"]=e.split("-");return[t,r]}var u7=n7,AP=a7,TP=i7,OP=l7;function bie(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var Ns=e=>{const{present:t,children:r}=e,n=wie(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),a=wt(n.ref,_ie(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:a}):null};Ns.displayName="Presence";function wie(e){const[t,r]=p.useState(),n=p.useRef({}),s=p.useRef(e),a=p.useRef("none"),i=e?"mounted":"unmounted",[l,c]=bie(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=bv(n.current);a.current=l==="mounted"?u:"none"},[l]),tn(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,g=bv(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),tn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const m=bv(n.current).includes(g.animationName);if(g.target===t&&m&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=g=>{g.target===t&&(a.current=bv(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function bv(e){return(e==null?void 0:e.animationName)||"none"}function _ie(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function pi({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Sie({defaultProp:t,onChange:r}),a=e!==void 0,i=a?e:n,l=Jt(r),c=p.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[i,c]}function Sie({defaultProp:e,onChange:t}){const r=p.useState(e),[n]=r,s=p.useRef(n),a=Jt(t);return p.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var jie="VisuallyHidden",$P=p.forwardRef((e,t)=>o.jsx(nt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));$P.displayName=jie;var kie=$P,[Sw,LHe]=fa("Tooltip",[vh]),RP=vh(),d7="TooltipProvider",Eie=700,dM="tooltip.open",[Nie,f7]=Sw(d7),h7=e=>{const{__scopeTooltip:t,delayDuration:r=Eie,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[i,l]=p.useState(!0),c=p.useRef(!1),u=p.useRef(0);return p.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),o.jsx(Nie,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};h7.displayName=d7;var p7="Tooltip",[DHe,jw]=Sw(p7),uE="TooltipTrigger",Cie=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=jw(uE,r),a=f7(uE,r),i=RP(r),l=p.useRef(null),c=wt(t,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(AP,{asChild:!0,...i,children:o.jsx(nt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Le(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Le(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Le(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Le(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Le(e.onBlur,s.onClose),onClick:Le(e.onClick,s.onClose)})})});Cie.displayName=uE;var Pie="TooltipPortal",[FHe,Aie]=Sw(Pie,{forceMount:void 0}),Rf="TooltipContent",m7=p.forwardRef((e,t)=>{const r=Aie(Rf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=jw(Rf,e.__scopeTooltip);return o.jsx(Ns,{present:n||i.open,children:i.disableHoverableContent?o.jsx(g7,{side:s,...a,ref:t}):o.jsx(Tie,{side:s,...a,ref:t})})}),Tie=p.forwardRef((e,t)=>{const r=jw(Rf,e.__scopeTooltip),n=f7(Rf,e.__scopeTooltip),s=p.useRef(null),a=wt(t,s),[i,l]=p.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=p.useCallback(()=>{l(null),f(!1)},[f]),g=p.useCallback((y,m)=>{const v=y.currentTarget,x={x:y.clientX,y:y.clientY},w=Mie(x,v.getBoundingClientRect()),b=Iie(x,w),_=Lie(m.getBoundingClientRect()),S=Fie([...b,..._]);l(S),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const y=v=>g(v,d),m=v=>g(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[c,d,g,h]),p.useEffect(()=>{if(i){const y=m=>{const v=m.target,x={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),b=!Die(x,i);w?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,i,u,h]),o.jsx(g7,{...e,ref:a})}),[Oie,$ie]=Sw(p7,{isInside:!1}),g7=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=jw(Rf,r),u=RP(r),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(dM,d),()=>document.removeEventListener(dM,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(UU,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(TP,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(wP,{children:n}),o.jsx(Oie,{scope:r,isInside:!0,children:o.jsx(kie,{id:c.contentId,role:"tooltip",children:s||n})})]})})});m7.displayName=Rf;var y7="TooltipArrow",Rie=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=RP(r);return $ie(y7,r).isInside?null:o.jsx(OP,{...s,...n,ref:t})});Rie.displayName=y7;function Mie(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Iie(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Lie(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function Die(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function Fie(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Bie(t)}function Bie(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Uie=h7,v7=m7;function x7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=x7(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Qt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=x7(e))&&(n&&(n+=" "),n+=t);return n}const MP="-",zie=e=>{const t=Wie(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(MP);return l[0]===""&&l.length!==1&&l.shift(),b7(l,t)||qie(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},b7=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?b7(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(MP);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},fM=/^\[(.+)\]$/,qie=e=>{if(fM.test(e)){const t=fM.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Wie=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Hie(Object.entries(e.classGroups),r).forEach(([a,i])=>{dE(i,n,a,t)}),n},dE=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:hM(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(Vie(s)){dE(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{dE(i,hM(t,a),r,n)})})},hM=(e,t)=>{let r=e;return t.split(MP).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Vie=e=>e.isThemeGetter,Hie=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,s]}):e,Kie=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},w7="!",Gie=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===s&&(n||l.slice(v,v+a)===t)){c.push(l.slice(d,v)),d=v+a;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),g=h.startsWith(w7),y=g?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:i}):i},Jie=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Yie=e=>({cache:Kie(e.cacheSize),parseClassName:Gie(e),...zie(e)}),Xie=/\s+/,Qie=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(Xie);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=r(u);let y=!!g,m=n(y?h.substring(0,g):h);if(!m){if(!y){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=Jie(d).join(":"),x=f?v+w7:v,w=x+m;if(a.includes(w))continue;a.push(w);const b=s(m,y);for(let _=0;_<b.length;++_){const S=b[_];a.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function Zie(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=_7(t))&&(n&&(n+=" "),n+=r);return n}const _7=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=_7(e[n]))&&(r&&(r+=" "),r+=t);return r};function eoe(e,...t){let r,n,s,a=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=Yie(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Qie(c,r);return s(c,d),d}return function(){return a(Zie.apply(null,arguments))}}const Pr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},S7=/^\[(?:([a-z-]+):)?(.+)\]$/i,toe=/^\d+\/\d+$/,roe=new Set(["px","full","screen"]),noe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,soe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aoe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ioe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ooe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,io=e=>Qd(e)||roe.has(e)||toe.test(e),tl=e=>xh(e,"length",moe),Qd=e=>!!e&&!Number.isNaN(Number(e)),iS=e=>xh(e,"number",Qd),gp=e=>!!e&&Number.isInteger(Number(e)),loe=e=>e.endsWith("%")&&Qd(e.slice(0,-1)),Mt=e=>S7.test(e),rl=e=>noe.test(e),coe=new Set(["length","size","percentage"]),uoe=e=>xh(e,coe,j7),doe=e=>xh(e,"position",j7),foe=new Set(["image","url"]),hoe=e=>xh(e,foe,yoe),poe=e=>xh(e,"",goe),yp=()=>!0,xh=(e,t,r)=>{const n=S7.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},moe=e=>soe.test(e)&&!aoe.test(e),j7=()=>!1,goe=e=>ioe.test(e),yoe=e=>ooe.test(e),voe=()=>{const e=Pr("colors"),t=Pr("spacing"),r=Pr("blur"),n=Pr("brightness"),s=Pr("borderColor"),a=Pr("borderRadius"),i=Pr("borderSpacing"),l=Pr("borderWidth"),c=Pr("contrast"),u=Pr("grayscale"),d=Pr("hueRotate"),f=Pr("invert"),h=Pr("gap"),g=Pr("gradientColorStops"),y=Pr("gradientColorStopPositions"),m=Pr("inset"),v=Pr("margin"),x=Pr("opacity"),w=Pr("padding"),b=Pr("saturate"),_=Pr("scale"),S=Pr("sepia"),E=Pr("skew"),k=Pr("space"),j=Pr("translate"),N=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Mt,t],R=()=>[Mt,t],F=()=>["",io,tl],z=()=>["auto",Qd,Mt],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Mt],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[Qd,Mt];return{cacheSize:500,separator:":",theme:{colors:[yp],spacing:[io,tl],blur:["none","",rl,Mt],brightness:L(),borderColor:[e],borderRadius:["none","","full",rl,Mt],borderSpacing:R(),borderWidth:F(),contrast:L(),grayscale:M(),hueRotate:L(),invert:M(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[loe,tl],inset:P(),margin:P(),opacity:L(),padding:R(),saturate:L(),scale:L(),sepia:M(),skew:L(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Mt]}],container:["container"],columns:[{columns:[rl]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),Mt]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gp,Mt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Mt]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",gp,Mt]}],"grid-cols":[{"grid-cols":[yp]}],"col-start-end":[{col:["auto",{span:["full",gp,Mt]},Mt]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[yp]}],"row-start-end":[{row:["auto",{span:[gp,Mt]},Mt]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Mt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Mt,t]}],"min-w":[{"min-w":[Mt,t,"min","max","fit"]}],"max-w":[{"max-w":[Mt,t,"none","full","min","max","fit","prose",{screen:[rl]},rl]}],h:[{h:[Mt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Mt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Mt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Mt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",rl,tl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",iS]}],"font-family":[{font:[yp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Mt]}],"line-clamp":[{"line-clamp":["none",Qd,iS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",io,Mt]}],"list-image":[{"list-image":["none",Mt]}],"list-style-type":[{list:["none","disc","decimal",Mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",io,tl]}],"underline-offset":[{"underline-offset":["auto",io,Mt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),doe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uoe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hoe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:I()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[io,Mt]}],"outline-w":[{outline:[io,tl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[io,tl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",rl,poe]}],"shadow-color":[{shadow:[yp]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",rl,Mt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Mt]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",Mt]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",Mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[gp,Mt]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Mt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Mt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Mt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[io,tl,iS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xoe=eoe(voe);function ue(...e){return xoe(Qt(e))}function pm(e){const t=String(e),n=parseInt(t,10).toString(16).padStart(8,"0").toLowerCase(),s=n.slice(0,8),a=n.slice(0,4),i="4"+n.slice(1,4),l="8"+n.slice(2,5),c=n+n+n+n;return`${s}-${a}-${i}-${l}-${c.slice(0,12)}`}const boe=Uie,woe=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(v7,{ref:n,sideOffset:t,className:ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));woe.displayName=v7.displayName;var bh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Cu=typeof window>"u"||"Deno"in globalThis;function ba(){}function _oe(e,t){return typeof e=="function"?e(t):e}function fE(e){return typeof e=="number"&&e>=0&&e!==1/0}function k7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zd(e,t){return typeof e=="function"?e(t):e}function ti(e,t){return typeof e=="function"?e(t):e}function pM(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==IP(i,t.options))return!1}else if(!tg(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function mM(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Pu(t.options.mutationKey)!==Pu(a))return!1}else if(!tg(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function IP(e,t){return((t==null?void 0:t.queryKeyHashFn)||Pu)(e)}function Pu(e){return JSON.stringify(e,(t,r)=>hE(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function tg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!tg(e[r],t[r])):!1}function E7(e,t){if(e===t)return e;const r=gM(e)&&gM(t);if(r||hE(e)&&hE(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=E7(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:l}return t}function Ex(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function gM(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hE(e){if(!yM(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!yM(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yM(e){return Object.prototype.toString.call(e)==="[object Object]"}function Soe(e){return new Promise(t=>{setTimeout(t,e)})}function pE(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?E7(e,t):t}function joe(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function koe(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var LP=Symbol();function N7(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===LP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Qc,wl,uf,o6,Eoe=(o6=class extends bh{constructor(){super();St(this,Qc);St(this,wl);St(this,uf);rt(this,uf,t=>{if(!Cu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){te(this,wl)||this.setEventListener(te(this,uf))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,wl))==null||t.call(this),rt(this,wl,void 0))}setEventListener(t){var r;rt(this,uf,t),(r=te(this,wl))==null||r.call(this),rt(this,wl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){te(this,Qc)!==t&&(rt(this,Qc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof te(this,Qc)=="boolean"?te(this,Qc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Qc=new WeakMap,wl=new WeakMap,uf=new WeakMap,o6),DP=new Eoe,df,_l,ff,l6,Noe=(l6=class extends bh{constructor(){super();St(this,df,!0);St(this,_l);St(this,ff);rt(this,ff,t=>{if(!Cu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){te(this,_l)||this.setEventListener(te(this,ff))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,_l))==null||t.call(this),rt(this,_l,void 0))}setEventListener(t){var r;rt(this,ff,t),(r=te(this,_l))==null||r.call(this),rt(this,_l,t(this.setOnline.bind(this)))}setOnline(t){te(this,df)!==t&&(rt(this,df,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return te(this,df)}},df=new WeakMap,_l=new WeakMap,ff=new WeakMap,l6),Nx=new Noe;function mE(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function Coe(e){return Math.min(1e3*2**e,3e4)}function C7(e){return(e??"online")==="online"?Nx.isOnline():!0}var P7=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function oS(e){return e instanceof P7}function A7(e){let t=!1,r=0,n=!1,s;const a=mE(),i=m=>{var v;n||(h(new P7(m)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>DP.isFocused()&&(e.networkMode==="always"||Nx.isOnline())&&e.canRun(),d=()=>C7(e.networkMode)&&e.canRun(),f=m=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,m),s==null||s(),a.resolve(m))},h=m=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,m),s==null||s(),a.reject(m))},g=()=>new Promise(m=>{var v;s=x=>{(n||u())&&m(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;s=void 0,n||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(n)return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(f).catch(x=>{var E;if(n)return;const w=e.retry??(Cu?0:3),b=e.retryDelay??Coe,_=typeof b=="function"?b(r,x):b,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,x);if(t||!S){h(x);return}r++,(E=e.onFail)==null||E.call(e,r,x),Soe(_).then(()=>u()?void 0:g()).then(()=>{t?h(x):y()})})};return{promise:a,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():g().then(y),a)}}function Poe(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var vn=Poe(),Zc,c6,T7=(c6=class{constructor(){St(this,Zc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fE(this.gcTime)&&rt(this,Zc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Cu?1/0:5*60*1e3))}clearGcTimeout(){te(this,Zc)&&(clearTimeout(te(this,Zc)),rt(this,Zc,void 0))}},Zc=new WeakMap,c6),hf,pf,xa,Jn,sy,eu,Ya,lo,u6,Aoe=(u6=class extends T7{constructor(t){super();St(this,Ya);St(this,hf);St(this,pf);St(this,xa);St(this,Jn);St(this,sy);St(this,eu);rt(this,eu,!1),rt(this,sy,t.defaultOptions),this.setOptions(t.options),this.observers=[],rt(this,xa,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,rt(this,hf,Toe(this.options)),this.state=t.state??te(this,hf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,Jn))==null?void 0:t.promise}setOptions(t){this.options={...te(this,sy),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,xa).remove(this)}setData(t,r){const n=pE(this.state.data,t,this.options);return Lt(this,Ya,lo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Lt(this,Ya,lo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=te(this,Jn))==null?void 0:n.promise;return(s=te(this,Jn))==null||s.cancel(t),r?r.then(ba).catch(ba):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,hf))}isActive(){return this.observers.some(t=>ti(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===LP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!k7(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,Jn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,Jn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,xa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(te(this,Jn)&&(te(this,eu)?te(this,Jn).cancel({revert:!0}):te(this,Jn).cancelRetry()),this.scheduleGc()),te(this,xa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,Ya,lo).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(te(this,Jn))return te(this,Jn).continueRetry(),te(this,Jn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(rt(this,eu,!0),n.signal)})},a=()=>{const f=N7(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),rt(this,eu,!1),this.options.persister?this.options.persister(f,h,this):f(h)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),rt(this,pf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&Lt(this,Ya,lo).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,g,y,m;oS(f)&&f.silent||Lt(this,Ya,lo).call(this,{type:"error",error:f}),oS(f)||((g=(h=te(this,xa).config).onError)==null||g.call(h,f,this),(m=(y=te(this,xa).config).onSettled)==null||m.call(y,this.state.data,f,this)),this.scheduleGc()};return rt(this,Jn,A7({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,g,y,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(g=(h=te(this,xa).config).onSuccess)==null||g.call(h,f,this),(m=(y=te(this,xa).config).onSettled)==null||m.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Lt(this,Ya,lo).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Lt(this,Ya,lo).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Ya,lo).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),te(this,Jn).start()}},hf=new WeakMap,pf=new WeakMap,xa=new WeakMap,Jn=new WeakMap,sy=new WeakMap,eu=new WeakMap,Ya=new WeakSet,lo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...O7(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return oS(s)&&s.revert&&te(this,pf)?{...te(this,pf),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),vn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),te(this,xa).notify({query:this,type:"updated",action:t})})},u6);function O7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:C7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Toe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ci,d6,Ooe=(d6=class extends bh{constructor(t={}){super();St(this,Ci);this.config=t,rt(this,Ci,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??IP(s,r);let i=this.get(a);return i||(i=new Aoe({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){te(this,Ci).has(t.queryHash)||(te(this,Ci).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=te(this,Ci).get(t.queryHash);r&&(t.destroy(),r===t&&te(this,Ci).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){vn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return te(this,Ci).get(t)}getAll(){return[...te(this,Ci).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>pM(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>pM(t,n)):r}notify(t){vn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){vn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){vn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ci=new WeakMap,d6),Pi,ds,tu,Ai,il,f6,$oe=(f6=class extends T7{constructor(t){super();St(this,Ai);St(this,Pi);St(this,ds);St(this,tu);this.mutationId=t.mutationId,rt(this,ds,t.mutationCache),rt(this,Pi,[]),this.state=t.state||$7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,Pi).includes(t)||(te(this,Pi).push(t),this.clearGcTimeout(),te(this,ds).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){rt(this,Pi,te(this,Pi).filter(r=>r!==t)),this.scheduleGc(),te(this,ds).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,Pi).length||(this.state.status==="pending"?this.scheduleGc():te(this,ds).remove(this))}continue(){var t;return((t=te(this,tu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,i,l,c,u,d,f,h,g,y,m,v,x,w,b,_,S,E,k;rt(this,tu,A7({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,N)=>{Lt(this,Ai,il).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{Lt(this,Ai,il).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Ai,il).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,ds).canRun(this)}));const r=this.state.status==="pending",n=!te(this,tu).canStart();try{if(!r){Lt(this,Ai,il).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(s=te(this,ds).config).onMutate)==null?void 0:a.call(s,t,this));const N=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));N!==this.state.context&&Lt(this,Ai,il).call(this,{type:"pending",context:N,variables:t,isPaused:n})}const j=await te(this,tu).start();return await((u=(c=te(this,ds).config).onSuccess)==null?void 0:u.call(c,j,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,j,t,this.state.context)),await((g=(h=te(this,ds).config).onSettled)==null?void 0:g.call(h,j,null,this.state.variables,this.state.context,this)),await((m=(y=this.options).onSettled)==null?void 0:m.call(y,j,null,t,this.state.context)),Lt(this,Ai,il).call(this,{type:"success",data:j}),j}catch(j){try{throw await((x=(v=te(this,ds).config).onError)==null?void 0:x.call(v,j,t,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,j,t,this.state.context)),await((S=(_=te(this,ds).config).onSettled)==null?void 0:S.call(_,void 0,j,this.state.variables,this.state.context,this)),await((k=(E=this.options).onSettled)==null?void 0:k.call(E,void 0,j,t,this.state.context)),j}finally{Lt(this,Ai,il).call(this,{type:"error",error:j})}}finally{te(this,ds).runNext(this)}}},Pi=new WeakMap,ds=new WeakMap,tu=new WeakMap,Ai=new WeakSet,il=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),vn.batch(()=>{te(this,Pi).forEach(n=>{n.onMutationUpdate(t)}),te(this,ds).notify({mutation:this,type:"updated",action:t})})},f6);function $7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xs,ay,h6,Roe=(h6=class extends bh{constructor(t={}){super();St(this,Xs);St(this,ay);this.config=t,rt(this,Xs,new Map),rt(this,ay,Date.now())}build(t,r,n){const s=new $oe({mutationCache:this,mutationId:++Ky(this,ay)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=wv(t),n=te(this,Xs).get(r)??[];n.push(t),te(this,Xs).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=wv(t);if(te(this,Xs).has(r)){const s=(n=te(this,Xs).get(r))==null?void 0:n.filter(a=>a!==t);s&&(s.length===0?te(this,Xs).delete(r):te(this,Xs).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=te(this,Xs).get(wv(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=te(this,Xs).get(wv(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){vn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...te(this,Xs).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>mM(r,n))}findAll(t={}){return this.getAll().filter(r=>mM(t,r))}notify(t){vn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return vn.batch(()=>Promise.all(t.map(r=>r.continue().catch(ba))))}},Xs=new WeakMap,ay=new WeakMap,h6);function wv(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function vM(e){return{onFetch:(t,r)=>{var d,f,h,g,y;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=N7(t.options,t.fetchOptions),w=async(b,_,S)=>{if(m)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const E={queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};v(E);const k=await x(E),{maxPages:j}=t.options,N=S?koe:joe;return{pages:N(b.pages,k,j),pageParams:N(b.pageParams,_,j)}};if(s&&a.length){const b=s==="backward",_=b?Moe:xM,S={pages:a,pageParams:i},E=_(n,S);l=await w(S,E,b)}else{const b=e??a.length;do{const _=c===0?i[0]??n.initialPageParam:xM(n,l);if(c>0&&_==null)break;l=await w(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function xM(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Moe(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Kr,Sl,jl,mf,gf,kl,yf,vf,p6,Ioe=(p6=class{constructor(e={}){St(this,Kr);St(this,Sl);St(this,jl);St(this,mf);St(this,gf);St(this,kl);St(this,yf);St(this,vf);rt(this,Kr,e.queryCache||new Ooe),rt(this,Sl,e.mutationCache||new Roe),rt(this,jl,e.defaultOptions||{}),rt(this,mf,new Map),rt(this,gf,new Map),rt(this,kl,0)}mount(){Ky(this,kl)._++,te(this,kl)===1&&(rt(this,yf,DP.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,Kr).onFocus())})),rt(this,vf,Nx.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,Kr).onOnline())})))}unmount(){var e,t;Ky(this,kl)._--,te(this,kl)===0&&((e=te(this,yf))==null||e.call(this),rt(this,yf,void 0),(t=te(this,vf))==null||t.call(this),rt(this,vf,void 0))}isFetching(e){return te(this,Kr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return te(this,Sl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,Kr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=te(this,Kr).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Zd(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return te(this,Kr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=te(this,Kr).get(n.queryHash),a=s==null?void 0:s.state.data,i=_oe(t,a);if(i!==void 0)return te(this,Kr).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return vn.batch(()=>te(this,Kr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,Kr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=te(this,Kr);vn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=te(this,Kr),n={type:"active",...e};return vn.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=vn.batch(()=>te(this,Kr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ba).catch(ba)}invalidateQueries(e={},t={}){return vn.batch(()=>{if(te(this,Kr).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=vn.batch(()=>te(this,Kr).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(ba)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(ba)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=te(this,Kr).build(this,t);return r.isStaleByTime(Zd(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ba).catch(ba)}fetchInfiniteQuery(e){return e.behavior=vM(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ba).catch(ba)}ensureInfiniteQueryData(e){return e.behavior=vM(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nx.isOnline()?te(this,Sl).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,Kr)}getMutationCache(){return te(this,Sl)}getDefaultOptions(){return te(this,jl)}setDefaultOptions(e){rt(this,jl,e)}setQueryDefaults(e,t){te(this,mf).set(Pu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...te(this,mf).values()];let r={};return t.forEach(n=>{tg(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){te(this,gf).set(Pu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...te(this,gf).values()];let r={};return t.forEach(n=>{tg(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...te(this,jl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=IP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===LP&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...te(this,jl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){te(this,Kr).clear(),te(this,Sl).clear()}},Kr=new WeakMap,Sl=new WeakMap,jl=new WeakMap,mf=new WeakMap,gf=new WeakMap,kl=new WeakMap,yf=new WeakMap,vf=new WeakMap,p6),As,qt,iy,fs,ru,xf,El,Ti,oy,bf,wf,nu,su,Nl,_f,ur,Jp,gE,yE,vE,xE,bE,wE,_E,R7,m6,Loe=(m6=class extends bh{constructor(t,r){super();St(this,ur);St(this,As);St(this,qt);St(this,iy);St(this,fs);St(this,ru);St(this,xf);St(this,El);St(this,Ti);St(this,oy);St(this,bf);St(this,wf);St(this,nu);St(this,su);St(this,Nl);St(this,_f,new Set);this.options=r,rt(this,As,t),rt(this,Ti,null),rt(this,El,mE()),this.options.experimental_prefetchInRender||te(this,El).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(te(this,qt).addObserver(this),bM(te(this,qt),this.options)?Lt(this,ur,Jp).call(this):this.updateResult(),Lt(this,ur,xE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return SE(te(this,qt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return SE(te(this,qt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Lt(this,ur,bE).call(this),Lt(this,ur,wE).call(this),te(this,qt).removeObserver(this)}setOptions(t,r){const n=this.options,s=te(this,qt);if(this.options=te(this,As).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ti(this.options.enabled,te(this,qt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Lt(this,ur,_E).call(this),te(this,qt).setOptions(this.options),n._defaulted&&!Ex(this.options,n)&&te(this,As).getQueryCache().notify({type:"observerOptionsUpdated",query:te(this,qt),observer:this});const a=this.hasListeners();a&&wM(te(this,qt),s,this.options,n)&&Lt(this,ur,Jp).call(this),this.updateResult(r),a&&(te(this,qt)!==s||ti(this.options.enabled,te(this,qt))!==ti(n.enabled,te(this,qt))||Zd(this.options.staleTime,te(this,qt))!==Zd(n.staleTime,te(this,qt)))&&Lt(this,ur,gE).call(this);const i=Lt(this,ur,yE).call(this);a&&(te(this,qt)!==s||ti(this.options.enabled,te(this,qt))!==ti(n.enabled,te(this,qt))||i!==te(this,Nl))&&Lt(this,ur,vE).call(this,i)}getOptimisticResult(t){const r=te(this,As).getQueryCache().build(te(this,As),t),n=this.createResult(r,t);return Foe(this,n)&&(rt(this,fs,n),rt(this,xf,this.options),rt(this,ru,te(this,qt).state)),n}getCurrentResult(){return te(this,fs)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){te(this,_f).add(t)}getCurrentQuery(){return te(this,qt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=te(this,As).defaultQueryOptions(t),n=te(this,As).getQueryCache().build(te(this,As),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Lt(this,ur,Jp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),te(this,fs)))}createResult(t,r){var j;const n=te(this,qt),s=this.options,a=te(this,fs),i=te(this,ru),l=te(this,xf),u=t!==n?t.state:te(this,iy),{state:d}=t;let f={...d},h=!1,g;if(r._optimisticResults){const N=this.hasListeners(),C=!N&&bM(t,r),P=N&&wM(t,n,r,s);(C||P)&&(f={...f,...O7(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:v}=f;if(r.select&&f.data!==void 0)if(a&&f.data===(i==null?void 0:i.data)&&r.select===te(this,oy))g=te(this,bf);else try{rt(this,oy,r.select),g=r.select(f.data),g=pE(a==null?void 0:a.data,g,r),rt(this,bf,g),rt(this,Ti,null)}catch(N){rt(this,Ti,N)}else g=f.data;if(r.placeholderData!==void 0&&g===void 0&&v==="pending"){let N;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))N=a.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((j=te(this,wf))==null?void 0:j.state.data,te(this,wf)):r.placeholderData,r.select&&N!==void 0)try{N=r.select(N),rt(this,Ti,null)}catch(C){rt(this,Ti,C)}N!==void 0&&(v="success",g=pE(a==null?void 0:a.data,N,r),h=!0)}te(this,Ti)&&(y=te(this,Ti),g=te(this,bf),m=Date.now(),v="error");const x=f.fetchStatus==="fetching",w=v==="pending",b=v==="error",_=w&&x,S=g!==void 0,k={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:b,isInitialLoading:_,isLoading:_,data:g,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:b&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&S,isStale:FP(t,r),refetch:this.refetch,promise:te(this,El)};if(this.options.experimental_prefetchInRender){const N=R=>{k.status==="error"?R.reject(k.error):k.data!==void 0&&R.resolve(k.data)},C=()=>{const R=rt(this,El,k.promise=mE());N(R)},P=te(this,El);switch(P.status){case"pending":t.queryHash===n.queryHash&&N(P);break;case"fulfilled":(k.status==="error"||k.data!==P.value)&&C();break;case"rejected":(k.status!=="error"||k.error!==P.reason)&&C();break}}return k}updateResult(t){const r=te(this,fs),n=this.createResult(te(this,qt),this.options);if(rt(this,ru,te(this,qt).state),rt(this,xf,this.options),te(this,ru).data!==void 0&&rt(this,wf,te(this,qt)),Ex(n,r))return;rt(this,fs,n);const s={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!te(this,_f).size)return!0;const c=new Set(l??te(this,_f));return this.options.throwOnError&&c.add("error"),Object.keys(te(this,fs)).some(u=>{const d=u;return te(this,fs)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),Lt(this,ur,R7).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Lt(this,ur,xE).call(this)}},As=new WeakMap,qt=new WeakMap,iy=new WeakMap,fs=new WeakMap,ru=new WeakMap,xf=new WeakMap,El=new WeakMap,Ti=new WeakMap,oy=new WeakMap,bf=new WeakMap,wf=new WeakMap,nu=new WeakMap,su=new WeakMap,Nl=new WeakMap,_f=new WeakMap,ur=new WeakSet,Jp=function(t){Lt(this,ur,_E).call(this);let r=te(this,qt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ba)),r},gE=function(){Lt(this,ur,bE).call(this);const t=Zd(this.options.staleTime,te(this,qt));if(Cu||te(this,fs).isStale||!fE(t))return;const n=k7(te(this,fs).dataUpdatedAt,t)+1;rt(this,nu,setTimeout(()=>{te(this,fs).isStale||this.updateResult()},n))},yE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(te(this,qt)):this.options.refetchInterval)??!1},vE=function(t){Lt(this,ur,wE).call(this),rt(this,Nl,t),!(Cu||ti(this.options.enabled,te(this,qt))===!1||!fE(te(this,Nl))||te(this,Nl)===0)&&rt(this,su,setInterval(()=>{(this.options.refetchIntervalInBackground||DP.isFocused())&&Lt(this,ur,Jp).call(this)},te(this,Nl)))},xE=function(){Lt(this,ur,gE).call(this),Lt(this,ur,vE).call(this,Lt(this,ur,yE).call(this))},bE=function(){te(this,nu)&&(clearTimeout(te(this,nu)),rt(this,nu,void 0))},wE=function(){te(this,su)&&(clearInterval(te(this,su)),rt(this,su,void 0))},_E=function(){const t=te(this,As).getQueryCache().build(te(this,As),this.options);if(t===te(this,qt))return;const r=te(this,qt);rt(this,qt,t),rt(this,iy,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},R7=function(t){vn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(te(this,fs))}),te(this,As).getQueryCache().notify({query:te(this,qt),type:"observerResultsUpdated"})})},m6);function Doe(e,t){return ti(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function bM(e,t){return Doe(e,t)||e.state.data!==void 0&&SE(e,t,t.refetchOnMount)}function SE(e,t,r){if(ti(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&FP(e,t)}return!1}function wM(e,t,r,n){return(e!==t||ti(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&FP(e,r)}function FP(e,t){return ti(t.enabled,e)!==!1&&e.isStaleByTime(Zd(t.staleTime,e))}function Foe(e,t){return!Ex(e.getCurrentResult(),t)}var Cl,Pl,Ts,yo,Ao,N0,jE,g6,Boe=(g6=class extends bh{constructor(r,n){super();St(this,Ao);St(this,Cl);St(this,Pl);St(this,Ts);St(this,yo);rt(this,Cl,r),this.setOptions(n),this.bindMethods(),Lt(this,Ao,N0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=te(this,Cl).defaultMutationOptions(r),Ex(this.options,n)||te(this,Cl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:te(this,Ts),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Pu(n.mutationKey)!==Pu(this.options.mutationKey)?this.reset():((s=te(this,Ts))==null?void 0:s.state.status)==="pending"&&te(this,Ts).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=te(this,Ts))==null||r.removeObserver(this)}onMutationUpdate(r){Lt(this,Ao,N0).call(this),Lt(this,Ao,jE).call(this,r)}getCurrentResult(){return te(this,Pl)}reset(){var r;(r=te(this,Ts))==null||r.removeObserver(this),rt(this,Ts,void 0),Lt(this,Ao,N0).call(this),Lt(this,Ao,jE).call(this)}mutate(r,n){var s;return rt(this,yo,n),(s=te(this,Ts))==null||s.removeObserver(this),rt(this,Ts,te(this,Cl).getMutationCache().build(te(this,Cl),this.options)),te(this,Ts).addObserver(this),te(this,Ts).execute(r)}},Cl=new WeakMap,Pl=new WeakMap,Ts=new WeakMap,yo=new WeakMap,Ao=new WeakSet,N0=function(){var n;const r=((n=te(this,Ts))==null?void 0:n.state)??$7();rt(this,Pl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},jE=function(r){vn.batch(()=>{var n,s,a,i,l,c,u,d;if(te(this,yo)&&this.hasListeners()){const f=te(this,Pl).variables,h=te(this,Pl).context;(r==null?void 0:r.type)==="success"?((s=(n=te(this,yo)).onSuccess)==null||s.call(n,r.data,f,h),(i=(a=te(this,yo)).onSettled)==null||i.call(a,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=te(this,yo)).onError)==null||c.call(l,r.error,f,h),(d=(u=te(this,yo)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(te(this,Pl))})})},g6),M7=p.createContext(void 0),Vs=e=>{const t=p.useContext(M7);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Uoe=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(M7.Provider,{value:e,children:t})),I7=p.createContext(!1),zoe=()=>p.useContext(I7);I7.Provider;function qoe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Woe=p.createContext(qoe()),Voe=()=>p.useContext(Woe);function L7(e,t){return typeof e=="function"?e(...t):!!e}function D7(){}var Hoe=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Koe=e=>{p.useEffect(()=>{e.clearReset()},[e])},Goe=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&L7(r,[e.error,n]),Joe=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Yoe=(e,t)=>e.isLoading&&e.isFetching&&!t,Xoe=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,_M=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Qoe(e,t,r){var d,f,h,g,y;const n=Vs(),s=zoe(),a=Voe(),i=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,i),i._optimisticResults=s?"isRestoring":"optimistic",Joe(i),Hoe(i,a),Koe(a);const l=!n.getQueryCache().get(i.queryHash),[c]=p.useState(()=>new t(n,i)),u=c.getOptimisticResult(i);if(p.useSyncExternalStore(p.useCallback(m=>{const v=s?()=>{}:c.subscribe(vn.batchCalls(m));return c.updateResult(),v},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),Xoe(i,u))throw _M(i,c,a);if(Goe({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw u.error;if((g=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,i,u),i.experimental_prefetchInRender&&!Cu&&Yoe(u,s)){const m=l?_M(i,c,a):(y=n.getQueryCache().get(i.queryHash))==null?void 0:y.promise;m==null||m.catch(D7).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Xt(e,t){return Qoe(e,Loe)}function ca(e,t){const r=Vs(),[n]=p.useState(()=>new Boe(r,e));p.useEffect(()=>{n.setOptions(e)},[n,e]);const s=p.useSyncExternalStore(p.useCallback(i=>n.subscribe(vn.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=p.useCallback((i,l)=>{n.mutate(i,l).catch(D7)},[n]);if(s.error&&L7(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rg.apply(this,arguments)}var $l;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($l||($l={}));const SM="popstate";function Zoe(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:i,hash:l}=n.location;return kE("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Cx(s)}return tle(t,r,null,e)}function en(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function F7(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ele(){return Math.random().toString(36).substr(2,8)}function jM(e,t){return{usr:e.state,key:e.key,idx:t}}function kE(e,t,r,n){return r===void 0&&(r=null),rg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wh(t):t,{state:r,key:t&&t.key||n||ele()})}function Cx(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function tle(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,l=$l.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(rg({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=$l.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:m.location,delta:x})}function h(v,x){l=$l.Push;let w=kE(m.location,v,x);u=d()+1;let b=jM(w,u),_=m.createHref(w);try{i.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}a&&c&&c({action:l,location:m.location,delta:1})}function g(v,x){l=$l.Replace;let w=kE(m.location,v,x);u=d();let b=jM(w,u),_=m.createHref(w);i.replaceState(b,"",_),a&&c&&c({action:l,location:m.location,delta:0})}function y(v){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof v=="string"?v:Cx(v);return w=w.replace(/ $/,"%20"),en(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let m={get action(){return l},get location(){return e(s,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(SM,f),c=v,()=>{s.removeEventListener(SM,f),c=null}},createHref(v){return t(s,v)},createURL:y,encodeLocation(v){let x=y(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(v){return i.go(v)}};return m}var kM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kM||(kM={}));function rle(e,t,r){return r===void 0&&(r="/"),nle(e,t,r,!1)}function nle(e,t,r,n){let s=typeof t=="string"?wh(t):t,a=BP(s.pathname||"/",r);if(a==null)return null;let i=B7(e);sle(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=mle(a);l=hle(i[c],u,n)}return l}function B7(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(en(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Gl([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(en(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),B7(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:dle(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of U7(a.path))s(a,i,c)}),t}function U7(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=U7(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function sle(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fle(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ale=/^:[\w-]+$/,ile=3,ole=2,lle=1,cle=10,ule=-2,EM=e=>e==="*";function dle(e,t){let r=e.split("/"),n=r.length;return r.some(EM)&&(n+=ule),t&&(n+=ole),r.filter(s=>!EM(s)).reduce((s,a)=>s+(ale.test(a)?ile:a===""?lle:cle),n)}function fle(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function hle(e,t,r){let{routesMeta:n}=e,s={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=NM({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=NM({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Gl([a,f.pathname]),pathnameBase:xle(Gl([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Gl([a,f.pathnameBase]))}return i}function NM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ple(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let m=l[f]||"";i=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const y=l[f];return g&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function ple(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),F7(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function mle(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return F7(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function BP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function gle(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?wh(e):e;return{pathname:r?r.startsWith("/")?r:yle(r,t):t,search:ble(n),hash:wle(s)}}function yle(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function lS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vle(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function UP(e,t){let r=vle(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zP(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=wh(e):(s=rg({},e),en(!s.pathname||!s.pathname.includes("?"),lS("?","pathname","search",s)),en(!s.pathname||!s.pathname.includes("#"),lS("#","pathname","hash",s)),en(!s.search||!s.search.includes("#"),lS("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=gle(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Gl=e=>e.join("/").replace(/\/\/+/g,"/"),xle=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ble=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wle=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _le(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const z7=["post","put","patch","delete"];new Set(z7);const Sle=["get",...z7];new Set(Sle);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ng.apply(this,arguments)}const qP=p.createContext(null),jle=p.createContext(null),fc=p.createContext(null),kw=p.createContext(null),Wo=p.createContext({outlet:null,matches:[],isDataRoute:!1}),q7=p.createContext(null);function kle(e,t){let{relative:r}=t===void 0?{}:t;_h()||en(!1);let{basename:n,navigator:s}=p.useContext(fc),{hash:a,pathname:i,search:l}=V7(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Gl([n,i])),s.createHref({pathname:c,search:l,hash:a})}function _h(){return p.useContext(kw)!=null}function Hs(){return _h()||en(!1),p.useContext(kw).location}function W7(e){p.useContext(fc).static||p.useLayoutEffect(e)}function dr(){let{isDataRoute:e}=p.useContext(Wo);return e?Dle():Ele()}function Ele(){_h()||en(!1);let e=p.useContext(qP),{basename:t,future:r,navigator:n}=p.useContext(fc),{matches:s}=p.useContext(Wo),{pathname:a}=Hs(),i=JSON.stringify(UP(s,r.v7_relativeSplatPath)),l=p.useRef(!1);return W7(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=zP(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Gl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,a,e])}function Sh(){let{matches:e}=p.useContext(Wo),t=e[e.length-1];return t?t.params:{}}function V7(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(fc),{matches:s}=p.useContext(Wo),{pathname:a}=Hs(),i=JSON.stringify(UP(s,n.v7_relativeSplatPath));return p.useMemo(()=>zP(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function Nle(e,t){return Cle(e,t)}function Cle(e,t,r,n){_h()||en(!1);let{navigator:s}=p.useContext(fc),{matches:a}=p.useContext(Wo),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Hs(),d;if(t){var f;let v=typeof t=="string"?wh(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||en(!1),d=v}else d=u;let h=d.pathname||"/",g=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=rle(e,{pathname:g}),m=$le(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Gl([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Gl([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&m?p.createElement(kw.Provider,{value:{location:ng({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$l.Pop}},m):m}function Ple(){let e=Lle(),t=_le(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const Ale=p.createElement(Ple,null);class Tle extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Wo.Provider,{value:this.props.routeContext},p.createElement(q7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ole(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(qP);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Wo.Provider,{value:t},n)}function $le(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||en(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let g,y=!1,m=null,v=null;r&&(g=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||Ale,c&&(u<0&&h===0?(y=!0,v=null):u===h&&(y=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,h+1)),w=()=>{let b;return g?b=m:y?b=v:f.route.Component?b=p.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,p.createElement(Ole,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(Tle,{location:r.location,revalidation:r.revalidation,component:m,error:g,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var H7=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(H7||{}),Px=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Px||{});function Rle(e){let t=p.useContext(qP);return t||en(!1),t}function Mle(e){let t=p.useContext(jle);return t||en(!1),t}function Ile(e){let t=p.useContext(Wo);return t||en(!1),t}function K7(e){let t=Ile(),r=t.matches[t.matches.length-1];return r.route.id||en(!1),r.route.id}function Lle(){var e;let t=p.useContext(q7),r=Mle(Px.UseRouteError),n=K7(Px.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Dle(){let{router:e}=Rle(H7.UseNavigateStable),t=K7(Px.UseNavigateStable),r=p.useRef(!1);return W7(()=>{r.current=!0}),p.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ng({fromRouteId:t},a)))},[e,t])}function Fle(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function C0(e){let{to:t,replace:r,state:n,relative:s}=e;_h()||en(!1);let{future:a,static:i}=p.useContext(fc),{matches:l}=p.useContext(Wo),{pathname:c}=Hs(),u=dr(),d=zP(t,UP(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function $s(e){en(!1)}function Ble(e){let{basename:t="/",children:r=null,location:n,navigationType:s=$l.Pop,navigator:a,static:i=!1,future:l}=e;_h()&&en(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:a,static:i,future:ng({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=wh(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:y="default"}=n,m=p.useMemo(()=>{let v=BP(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:g,key:y},navigationType:s}},[c,d,f,h,g,y,s]);return m==null?null:p.createElement(fc.Provider,{value:u},p.createElement(kw.Provider,{children:r,value:m}))}function Ule(e){let{children:t,location:r}=e;return Nle(EE(t),r)}new Promise(()=>{});function EE(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let a=[...t,s];if(n.type===p.Fragment){r.push.apply(r,EE(n.props.children,a));return}n.type!==$s&&en(!1),!n.props.index||!n.props.children||en(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=EE(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function NE(){return NE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NE.apply(this,arguments)}function zle(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function qle(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wle(e,t){return e.button===0&&(!t||t==="_self")&&!qle(e)}function CE(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Vle(e,t){let r=CE(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const Hle=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Kle="6";try{window.__reactRouterVersion=Kle}catch{}const Gle="startTransition",CM=dh[Gle];function Jle(e){let{basename:t,children:r,future:n,window:s}=e,a=p.useRef();a.current==null&&(a.current=Zoe({window:s,v5Compat:!0}));let i=a.current,[l,c]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&CM?CM(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.useEffect(()=>Fle(n),[n]),p.createElement(Ble,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const Yle=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xle=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rr=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=zle(t,Hle),{basename:g}=p.useContext(fc),y,m=!1;if(typeof u=="string"&&Xle.test(u)&&(y=u,Yle))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=BP(_.pathname,g);_.origin===b.origin&&S!=null?u=S+_.search+_.hash:m=!0}catch{}let v=kle(u,{relative:s}),x=Qle(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function w(b){n&&n(b),b.defaultPrevented||x(b)}return p.createElement("a",NE({},h,{href:y||v,onClick:m||a?n:w,ref:r,target:c}))});var PM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(PM||(PM={}));var AM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(AM||(AM={}));function Qle(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=dr(),u=Hs(),d=V7(e,{relative:i});return p.useCallback(f=>{if(Wle(f,r)){f.preventDefault();let h=n!==void 0?n:Cx(u)===Cx(d);c(e,{replace:h,state:s,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,a,i,l])}function Ew(e){let t=p.useRef(CE(e)),r=p.useRef(!1),n=Hs(),s=p.useMemo(()=>Vle(n.search,r.current?null:t.current),[n.search]),a=dr(),i=p.useCallback((l,c)=>{const u=CE(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,i]}function G7(e,t){return function(){return e.apply(t,arguments)}}const{toString:Zle}=Object.prototype,{getPrototypeOf:WP}=Object,{iterator:Nw,toStringTag:J7}=Symbol,Cw=(e=>t=>{const r=Zle.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),yi=e=>(e=e.toLowerCase(),t=>Cw(t)===e),Pw=e=>t=>typeof t===e,{isArray:jh}=Array,Mf=Pw("undefined");function xy(e){return e!==null&&!Mf(e)&&e.constructor!==null&&!Mf(e.constructor)&&qs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Y7=yi("ArrayBuffer");function ece(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Y7(e.buffer),t}const tce=Pw("string"),qs=Pw("function"),X7=Pw("number"),by=e=>e!==null&&typeof e=="object",rce=e=>e===!0||e===!1,P0=e=>{if(Cw(e)!=="object")return!1;const t=WP(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(J7 in e)&&!(Nw in e)},nce=e=>{if(!by(e)||xy(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},sce=yi("Date"),ace=yi("File"),ice=yi("Blob"),oce=yi("FileList"),lce=e=>by(e)&&qs(e.pipe),cce=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||qs(e.append)&&((t=Cw(e))==="formdata"||t==="object"&&qs(e.toString)&&e.toString()==="[object FormData]"))},uce=yi("URLSearchParams"),[dce,fce,hce,pce]=["ReadableStream","Request","Response","Headers"].map(yi),mce=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wy(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),jh(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(xy(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(n=0;n<i;n++)l=a[n],t.call(null,e[l],l,e)}}function Q7(e,t){if(xy(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Vc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Z7=e=>!Mf(e)&&e!==Vc;function PE(){const{caseless:e,skipUndefined:t}=Z7(this)&&this||{},r={},n=(s,a)=>{const i=e&&Q7(r,a)||a;P0(r[i])&&P0(s)?r[i]=PE(r[i],s):P0(s)?r[i]=PE({},s):jh(s)?r[i]=s.slice():(!t||!Mf(s))&&(r[i]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&wy(arguments[s],n);return r}const gce=(e,t,r,{allOwnKeys:n}={})=>(wy(t,(s,a)=>{r&&qs(s)?e[a]=G7(s,r):e[a]=s},{allOwnKeys:n}),e),yce=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),vce=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},xce=(e,t,r,n)=>{let s,a,i;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&WP(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},bce=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},wce=e=>{if(!e)return null;if(jh(e))return e;let t=e.length;if(!X7(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},_ce=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&WP(Uint8Array)),Sce=(e,t)=>{const n=(e&&e[Nw]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},jce=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},kce=yi("HTMLFormElement"),Ece=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),TM=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Nce=yi("RegExp"),e9=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};wy(r,(s,a)=>{let i;(i=t(s,a,e))!==!1&&(n[a]=i||s)}),Object.defineProperties(e,n)},Cce=e=>{e9(e,(t,r)=>{if(qs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(qs(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Pce=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return jh(e)?n(e):n(String(e).split(t)),r},Ace=()=>{},Tce=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Oce(e){return!!(e&&qs(e.append)&&e[J7]==="FormData"&&e[Nw])}const $ce=e=>{const t=new Array(10),r=(n,s)=>{if(by(n)){if(t.indexOf(n)>=0)return;if(xy(n))return n;if(!("toJSON"in n)){t[s]=n;const a=jh(n)?[]:{};return wy(n,(i,l)=>{const c=r(i,s+1);!Mf(c)&&(a[l]=c)}),t[s]=void 0,a}}return n};return r(e,0)},Rce=yi("AsyncFunction"),Mce=e=>e&&(by(e)||qs(e))&&qs(e.then)&&qs(e.catch),t9=((e,t)=>e?setImmediate:t?((r,n)=>(Vc.addEventListener("message",({source:s,data:a})=>{s===Vc&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Vc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",qs(Vc.postMessage)),Ice=typeof queueMicrotask<"u"?queueMicrotask.bind(Vc):typeof process<"u"&&process.nextTick||t9,Lce=e=>e!=null&&qs(e[Nw]),me={isArray:jh,isArrayBuffer:Y7,isBuffer:xy,isFormData:cce,isArrayBufferView:ece,isString:tce,isNumber:X7,isBoolean:rce,isObject:by,isPlainObject:P0,isEmptyObject:nce,isReadableStream:dce,isRequest:fce,isResponse:hce,isHeaders:pce,isUndefined:Mf,isDate:sce,isFile:ace,isBlob:ice,isRegExp:Nce,isFunction:qs,isStream:lce,isURLSearchParams:uce,isTypedArray:_ce,isFileList:oce,forEach:wy,merge:PE,extend:gce,trim:mce,stripBOM:yce,inherits:vce,toFlatObject:xce,kindOf:Cw,kindOfTest:yi,endsWith:bce,toArray:wce,forEachEntry:Sce,matchAll:jce,isHTMLForm:kce,hasOwnProperty:TM,hasOwnProp:TM,reduceDescriptors:e9,freezeMethods:Cce,toObjectSet:Pce,toCamelCase:Ece,noop:Ace,toFiniteNumber:Tce,findKey:Q7,global:Vc,isContextDefined:Z7,isSpecCompliantForm:Oce,toJSONObject:$ce,isAsyncFn:Rce,isThenable:Mce,setImmediate:t9,asap:Ice,isIterable:Lce};function Rt(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}me.inherits(Rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const r9=Rt.prototype,n9={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{n9[e]={value:e}});Object.defineProperties(Rt,n9);Object.defineProperty(r9,"isAxiosError",{value:!0});Rt.from=(e,t,r,n,s,a)=>{const i=Object.create(r9);me.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Rt.call(i,l,c,r,n,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const Dce=null;function AE(e){return me.isPlainObject(e)||me.isArray(e)}function s9(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function OM(e,t,r){return e?e.concat(t).map(function(s,a){return s=s9(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function Fce(e){return me.isArray(e)&&!e.some(AE)}const Bce=me.toFlatObject(me,{},null,function(t){return/^is[A-Z]/.test(t)});function Aw(e,t,r){if(!me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=me.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!me.isUndefined(v[m])});const n=r.metaTokens,s=r.visitor||d,a=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(t);if(!me.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(me.isDate(y))return y.toISOString();if(me.isBoolean(y))return y.toString();if(!c&&me.isBlob(y))throw new Rt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(y)||me.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,m,v){let x=y;if(y&&!v&&typeof y=="object"){if(me.endsWith(m,"{}"))m=n?m:m.slice(0,-2),y=JSON.stringify(y);else if(me.isArray(y)&&Fce(y)||(me.isFileList(y)||me.endsWith(m,"[]"))&&(x=me.toArray(y)))return m=s9(m),x.forEach(function(b,_){!(me.isUndefined(b)||b===null)&&t.append(i===!0?OM([m],_,a):i===null?m:m+"[]",u(b))}),!1}return AE(y)?!0:(t.append(OM(v,m,a),u(y)),!1)}const f=[],h=Object.assign(Bce,{defaultVisitor:d,convertValue:u,isVisitable:AE});function g(y,m){if(!me.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(y),me.forEach(y,function(x,w){(!(me.isUndefined(x)||x===null)&&s.call(t,x,me.isString(w)?w.trim():w,m,h))===!0&&g(x,m?m.concat(w):[w])}),f.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return g(e),t}function $M(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function VP(e,t){this._pairs=[],e&&Aw(e,this,t)}const a9=VP.prototype;a9.append=function(t,r){this._pairs.push([t,r])};a9.toString=function(t){const r=t?function(n){return t.call(this,n,$M)}:$M;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Uce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function i9(e,t,r){if(!t)return e;const n=r&&r.encode||Uce;me.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=me.isURLSearchParams(t)?t.toString():new VP(t,r).toString(n),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class RM{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){me.forEach(this.handlers,function(n){n!==null&&t(n)})}}const o9={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zce=typeof URLSearchParams<"u"?URLSearchParams:VP,qce=typeof FormData<"u"?FormData:null,Wce=typeof Blob<"u"?Blob:null,Vce={isBrowser:!0,classes:{URLSearchParams:zce,FormData:qce,Blob:Wce},protocols:["http","https","file","blob","url","data"]},HP=typeof window<"u"&&typeof document<"u",TE=typeof navigator=="object"&&navigator||void 0,Hce=HP&&(!TE||["ReactNative","NativeScript","NS"].indexOf(TE.product)<0),Kce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Gce=HP&&window.location.href||"http://localhost",Jce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:HP,hasStandardBrowserEnv:Hce,hasStandardBrowserWebWorkerEnv:Kce,navigator:TE,origin:Gce},Symbol.toStringTag,{value:"Module"})),es={...Jce,...Vce};function Yce(e,t){return Aw(e,new es.classes.URLSearchParams,{visitor:function(r,n,s,a){return es.isNode&&me.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Xce(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Qce(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function l9(e){function t(r,n,s,a){let i=r[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=a>=r.length;return i=!i&&me.isArray(s)?s.length:i,c?(me.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!l):((!s[i]||!me.isObject(s[i]))&&(s[i]=[]),t(r,n,s[i],a)&&me.isArray(s[i])&&(s[i]=Qce(s[i])),!l)}if(me.isFormData(e)&&me.isFunction(e.entries)){const r={};return me.forEachEntry(e,(n,s)=>{t(Xce(n),s,r,0)}),r}return null}function Zce(e,t,r){if(me.isString(e))try{return(t||JSON.parse)(e),me.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const _y={transitional:o9,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=me.isObject(t);if(a&&me.isHTMLForm(t)&&(t=new FormData(t)),me.isFormData(t))return s?JSON.stringify(l9(t)):t;if(me.isArrayBuffer(t)||me.isBuffer(t)||me.isStream(t)||me.isFile(t)||me.isBlob(t)||me.isReadableStream(t))return t;if(me.isArrayBufferView(t))return t.buffer;if(me.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Yce(t,this.formSerializer).toString();if((l=me.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Aw(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),Zce(t)):t}],transformResponse:[function(t){const r=this.transitional||_y.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(me.isResponse(t)||me.isReadableStream(t))return t;if(t&&me.isString(t)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Rt.from(l,Rt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:es.classes.FormData,Blob:es.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{_y.headers[e]={}});const eue=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tue=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||t[r]&&eue[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},MM=Symbol("internals");function vp(e){return e&&String(e).trim().toLowerCase()}function A0(e){return e===!1||e==null?e:me.isArray(e)?e.map(A0):String(e)}function rue(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const nue=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function cS(e,t,r,n,s){if(me.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!me.isString(t)){if(me.isString(n))return t.indexOf(n)!==-1;if(me.isRegExp(n))return n.test(t)}}function sue(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function aue(e,t){const r=me.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,i){return this[n].call(this,t,s,a,i)},configurable:!0})})}class Ws{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(l,c,u){const d=vp(c);if(!d)throw new Error("header name must be a non-empty string");const f=me.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=A0(l))}const i=(l,c)=>me.forEach(l,(u,d)=>a(u,d,c));if(me.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(me.isString(t)&&(t=t.trim())&&!nue(t))i(tue(t),r);else if(me.isObject(t)&&me.isIterable(t)){let l={},c,u;for(const d of t){if(!me.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?me.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=vp(t),t){const n=me.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return rue(s);if(me.isFunction(r))return r.call(this,s,n);if(me.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=vp(t),t){const n=me.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||cS(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(i){if(i=vp(i),i){const l=me.findKey(n,i);l&&(!r||cS(n,n[l],l,r))&&(delete n[l],s=!0)}}return me.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||cS(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return me.forEach(this,(s,a)=>{const i=me.findKey(n,a);if(i){r[i]=A0(s),delete r[a];return}const l=t?sue(a):String(a).trim();l!==a&&delete r[a],r[l]=A0(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return me.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&me.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[MM]=this[MM]={accessors:{}}).accessors,s=this.prototype;function a(i){const l=vp(i);n[l]||(aue(s,i),n[l]=!0)}return me.isArray(t)?t.forEach(a):a(t),this}}Ws.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(Ws.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});me.freezeMethods(Ws);function uS(e,t){const r=this||_y,n=t||r,s=Ws.from(n.headers);let a=n.data;return me.forEach(e,function(l){a=l.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function c9(e){return!!(e&&e.__CANCEL__)}function kh(e,t,r){Rt.call(this,e??"canceled",Rt.ERR_CANCELED,t,r),this.name="CanceledError"}me.inherits(kh,Rt,{__CANCEL__:!0});function u9(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Rt("Request failed with status code "+r.status,[Rt.ERR_BAD_REQUEST,Rt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function iue(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function oue(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];i||(i=u),r[s]=c,n[s]=u;let f=a,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-i<t)return;const g=d&&u-d;return g?Math.round(h*1e3/g):void 0}}function lue(e,t){let r=0,n=1e3/t,s,a;const i=(u,d=Date.now())=>{r=d,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(s=u,a||(a=setTimeout(()=>{a=null,i(s)},n-f)))},()=>s&&i(s)]}const Ax=(e,t,r=3)=>{let n=0;const s=oue(50,250);return lue(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,c=i-n,u=s(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},IM=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},LM=e=>(...t)=>me.asap(()=>e(...t)),cue=es.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,es.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(es.origin),es.navigator&&/(msie|trident)/i.test(es.navigator.userAgent)):()=>!0,uue=es.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const i=[e+"="+encodeURIComponent(t)];me.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),me.isString(n)&&i.push("path="+n),me.isString(s)&&i.push("domain="+s),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function due(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function fue(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function d9(e,t,r){let n=!due(t);return e&&(n||r==!1)?fue(e,t):t}const DM=e=>e instanceof Ws?{...e}:e;function Au(e,t){t=t||{};const r={};function n(u,d,f,h){return me.isPlainObject(u)&&me.isPlainObject(d)?me.merge.call({caseless:h},u,d):me.isPlainObject(d)?me.merge({},d):me.isArray(d)?d.slice():d}function s(u,d,f,h){if(me.isUndefined(d)){if(!me.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function a(u,d){if(!me.isUndefined(d))return n(void 0,d)}function i(u,d){if(me.isUndefined(d)){if(!me.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>s(DM(u),DM(d),f,!0)};return me.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,h=f(e[d],t[d],d);me.isUndefined(h)&&f!==l||(r[d]=h)}),r}const f9=e=>{const t=Au({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=Ws.from(i),t.url=i9(d9(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),me.isFormData(r)){if(es.hasStandardBrowserEnv||es.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(me.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(es.hasStandardBrowserEnv&&(n&&me.isFunction(n)&&(n=n(t)),n||n!==!1&&cue(t.url))){const c=s&&a&&uue.read(a);c&&i.set(s,c)}return t},hue=typeof XMLHttpRequest<"u",pue=hue&&function(e){return new Promise(function(r,n){const s=f9(e);let a=s.data;const i=Ws.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,g,y;function m(){g&&g(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function x(){if(!v)return;const b=Ws.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:e,request:v};u9(function(k){r(k),m()},function(k){n(k),m()},S),v=null}"onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(x)},v.onabort=function(){v&&(n(new Rt("Request aborted",Rt.ECONNABORTED,e,v)),v=null)},v.onerror=function(_){const S=_&&_.message?_.message:"Network Error",E=new Rt(S,Rt.ERR_NETWORK,e,v);E.event=_||null,n(E),v=null},v.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||o9;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),n(new Rt(_,S.clarifyTimeoutError?Rt.ETIMEDOUT:Rt.ECONNABORTED,e,v)),v=null},a===void 0&&i.setContentType(null),"setRequestHeader"in v&&me.forEach(i.toJSON(),function(_,S){v.setRequestHeader(S,_)}),me.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),u&&([h,y]=Ax(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,g]=Ax(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(d=b=>{v&&(n(!b||b.type?new kh(null,e,v):b),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const w=iue(s.url);if(w&&es.protocols.indexOf(w)===-1){n(new Rt("Unsupported protocol "+w+":",Rt.ERR_BAD_REQUEST,e));return}v.send(a||null)})},mue=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Rt?d:new kh(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,a(new Rt(`timeout ${t} of ms exceeded`,Rt.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>me.asap(l),c}},gue=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},yue=async function*(e,t){for await(const r of vue(e))yield*gue(r,t)},vue=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},FM=(e,t,r,n)=>{const s=yue(e,t);let a=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=a+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},BM=64*1024,{isFunction:_v}=me,xue=(({Request:e,Response:t})=>({Request:e,Response:t}))(me.global),{ReadableStream:UM,TextEncoder:zM}=me.global,qM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},bue=e=>{e=me.merge.call({skipUndefined:!0},xue,e);const{fetch:t,Request:r,Response:n}=e,s=t?_v(t):typeof fetch=="function",a=_v(r),i=_v(n);if(!s)return!1;const l=s&&_v(UM),c=s&&(typeof zM=="function"?(y=>m=>y.encode(m))(new zM):async y=>new Uint8Array(await new r(y).arrayBuffer())),u=a&&l&&qM(()=>{let y=!1;const m=new r(es.origin,{body:new UM,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!m}),d=i&&l&&qM(()=>me.isReadableStream(new n("").body)),f={stream:d&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(m,v)=>{let x=m&&m[y];if(x)return x.call(m);throw new Rt(`Response type '${y}' is not supported`,Rt.ERR_NOT_SUPPORT,v)})});const h=async y=>{if(y==null)return 0;if(me.isBlob(y))return y.size;if(me.isSpecCompliantForm(y))return(await new r(es.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(me.isArrayBufferView(y)||me.isArrayBuffer(y))return y.byteLength;if(me.isURLSearchParams(y)&&(y=y+""),me.isString(y))return(await c(y)).byteLength},g=async(y,m)=>{const v=me.toFiniteNumber(y.getContentLength());return v??h(m)};return async y=>{let{url:m,method:v,data:x,signal:w,cancelToken:b,timeout:_,onDownloadProgress:S,onUploadProgress:E,responseType:k,headers:j,withCredentials:N="same-origin",fetchOptions:C}=f9(y),P=t||fetch;k=k?(k+"").toLowerCase():"text";let R=mue([w,b&&b.toAbortSignal()],_),F=null;const z=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let D;try{if(E&&u&&v!=="get"&&v!=="head"&&(D=await g(j,x))!==0){let L=new r(m,{method:"POST",body:x,duplex:"half"}),G;if(me.isFormData(x)&&(G=L.headers.get("content-type"))&&j.setContentType(G),L.body){const[H,Y]=IM(D,Ax(LM(E)));x=FM(L.body,BM,H,Y)}}me.isString(N)||(N=N?"include":"omit");const I=a&&"credentials"in r.prototype,B={...C,signal:R,method:v.toUpperCase(),headers:j.normalize().toJSON(),body:x,duplex:"half",credentials:I?N:void 0};F=a&&new r(m,B);let T=await(a?P(F,C):P(m,B));const M=d&&(k==="stream"||k==="response");if(d&&(S||M&&z)){const L={};["status","statusText","headers"].forEach(ae=>{L[ae]=T[ae]});const G=me.toFiniteNumber(T.headers.get("content-length")),[H,Y]=S&&IM(G,Ax(LM(S),!0))||[];T=new n(FM(T.body,BM,H,()=>{Y&&Y(),z&&z()}),L)}k=k||"text";let Z=await f[me.findKey(f,k)||"text"](T,y);return!M&&z&&z(),await new Promise((L,G)=>{u9(L,G,{data:Z,headers:Ws.from(T.headers),status:T.status,statusText:T.statusText,config:y,request:F})})}catch(I){throw z&&z(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new Rt("Network Error",Rt.ERR_NETWORK,y,F),{cause:I.cause||I}):Rt.from(I,I&&I.code,y,F)}}},wue=new Map,h9=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let i=a.length,l=i,c,u,d=wue;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:bue(t)),d=u;return u};h9();const OE={http:Dce,xhr:pue,fetch:{get:h9}};me.forEach(OE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const WM=e=>`- ${e}`,_ue=e=>me.isFunction(e)||e===null||e===!1,p9={getAdapter:(e,t)=>{e=me.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let i=0;i<r;i++){n=e[i];let l;if(s=n,!_ue(n)&&(s=OE[(l=String(n)).toLowerCase()],s===void 0))throw new Rt(`Unknown adapter '${l}'`);if(s&&(me.isFunction(s)||(s=s.get(t))))break;a[l||"#"+i]=s}if(!s){const i=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(WM).join(`
`):" "+WM(i[0]):"as no adapter specified";throw new Rt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:OE};function dS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kh(null,e)}function VM(e){return dS(e),e.headers=Ws.from(e.headers),e.data=uS.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),p9.getAdapter(e.adapter||_y.adapter,e)(e).then(function(n){return dS(e),n.data=uS.call(e,e.transformResponse,n),n.headers=Ws.from(n.headers),n},function(n){return c9(n)||(dS(e),n&&n.response&&(n.response.data=uS.call(e,e.transformResponse,n.response),n.response.headers=Ws.from(n.response.headers))),Promise.reject(n)})}const m9="1.12.2",Tw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Tw[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const HM={};Tw.transitional=function(t,r,n){function s(a,i){return"[Axios v"+m9+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,l)=>{if(t===!1)throw new Rt(s(i," has been removed"+(r?" in "+r:"")),Rt.ERR_DEPRECATED);return r&&!HM[i]&&(HM[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,l):!0}};Tw.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Sue(e,t,r){if(typeof e!="object")throw new Rt("options must be an object",Rt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],i=t[a];if(i){const l=e[a],c=l===void 0||i(l,a,e);if(c!==!0)throw new Rt("option "+a+" must be "+c,Rt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Rt("Unknown option "+a,Rt.ERR_BAD_OPTION)}}const T0={assertOptions:Sue,validators:Tw},ji=T0.validators;class ou{constructor(t){this.defaults=t||{},this.interceptors={request:new RM,response:new RM}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Au(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&T0.assertOptions(n,{silentJSONParsing:ji.transitional(ji.boolean),forcedJSONParsing:ji.transitional(ji.boolean),clarifyTimeoutError:ji.transitional(ji.boolean)},!1),s!=null&&(me.isFunction(s)?r.paramsSerializer={serialize:s}:T0.assertOptions(s,{encode:ji.function,serialize:ji.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),T0.assertOptions(r,{baseUrl:ji.spelling("baseURL"),withXsrfToken:ji.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&me.merge(a.common,a[r.method]);a&&me.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),r.headers=Ws.concat(i,a);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,f=0,h;if(!c){const y=[VM.bind(this),void 0];for(y.unshift(...l),y.push(...u),h=y.length,d=Promise.resolve(r);f<h;)d=d.then(y[f++],y[f++]);return d}h=l.length;let g=r;for(;f<h;){const y=l[f++],m=l[f++];try{g=y(g)}catch(v){m.call(this,v);break}}try{d=VM.call(this,g)}catch(y){return Promise.reject(y)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Au(this.defaults,t);const r=d9(t.baseURL,t.url,t.allowAbsoluteUrls);return i9(r,t.params,t.paramsSerializer)}}me.forEach(["delete","get","head","options"],function(t){ou.prototype[t]=function(r,n){return this.request(Au(n||{},{method:t,url:r,data:(n||{}).data}))}});me.forEach(["post","put","patch"],function(t){function r(n){return function(a,i,l){return this.request(Au(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}ou.prototype[t]=r(),ou.prototype[t+"Form"]=r(!0)});class KP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const i=new Promise(l=>{n.subscribe(l),a=l}).then(s);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,l){n.reason||(n.reason=new kh(a,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new KP(function(s){t=s}),cancel:t}}}function jue(e){return function(r){return e.apply(null,r)}}function kue(e){return me.isObject(e)&&e.isAxiosError===!0}const $E={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($E).forEach(([e,t])=>{$E[t]=e});function g9(e){const t=new ou(e),r=G7(ou.prototype.request,t);return me.extend(r,ou.prototype,t,{allOwnKeys:!0}),me.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return g9(Au(e,s))},r}const Ht=g9(_y);Ht.Axios=ou;Ht.CanceledError=kh;Ht.CancelToken=KP;Ht.isCancel=c9;Ht.VERSION=m9;Ht.toFormData=Aw;Ht.AxiosError=Rt;Ht.Cancel=Ht.CanceledError;Ht.all=function(t){return Promise.all(t)};Ht.spread=jue;Ht.isAxiosError=kue;Ht.mergeConfig=Au;Ht.AxiosHeaders=Ws;Ht.formToJSON=e=>l9(me.isHTMLForm(e)?new FormData(e):e);Ht.getAdapter=p9.getAdapter;Ht.HttpStatusCode=$E;Ht.default=Ht;const Eue="https://breneo.onrender.com";let Sv=!1;const xn={setTokens:(e,t)=>{e.length>30?`${e.substring(0,20)}${e.substring(e.length-10)}`:e.substring(0,20)+"",localStorage.setItem("authToken",e),localStorage.setItem("refreshToken",t),localStorage.getItem("authToken")},getAccessToken:()=>{const e=localStorage.getItem("authToken");return e&&(e.length>30?`${e.substring(0,20)}${e.substring(e.length-10)}`:e.substring(0,20)+""),e},getRefreshToken:()=>localStorage.getItem("refreshToken"),clearTokens:(e=!1)=>{localStorage.getItem("authToken"),localStorage.getItem("refreshToken"),localStorage.getItem("userRole"),localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),e||localStorage.removeItem("userRole")},isTokenExpired:e=>{try{const t=JSON.parse(atob(e.split(".")[1])),r=Math.floor(Date.now()/1e3);return t.exp<r}catch{return!0}},refreshAccessToken:async()=>{var t;const e=xn.getRefreshToken();if(!e)return null;try{const n=(await Ht.post(`${Eue}/api/refresh/`,{refresh:e})).data.access;if(n)return localStorage.setItem("authToken",n),n}catch(r){const n=(t=r==null?void 0:r.response)==null?void 0:t.status,s=n>=500,a=n===401||n===403;console.error("Token refresh failed:",{status:n,isServerError:s,isAuthError:a,error:r==null?void 0:r.message}),!Sv&&a?xn.clearTokens(!1):s||Sv&&xn.clearTokens(!0)}return null},setSessionRestoration:e=>{Sv=e},isInSessionRestoration:()=>Sv},Nue="https://breneo.onrender.com",Ae=Ht.create({baseURL:Nue,timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});Ae.interceptors.request.use(async e=>{var r,n,s,a,i,l;const t=xn.getAccessToken();if(t&&!((r=e.url)!=null&&r.includes("/api/login/"))&&!((n=e.url)!=null&&n.includes("/api/academy/login/"))&&!((s=e.url)!=null&&s.includes("/api/register/"))&&!((a=e.url)!=null&&a.includes("/api/refresh/"))&&!((i=e.url)!=null&&i.includes("/api/verify-code/"))&&!((l=e.headers)!=null&&l.Authorization))if(xn.isTokenExpired(t)){const c=await xn.refreshAccessToken();c?e.headers.Authorization=`Bearer ${c}`:e.headers.Authorization=`Bearer ${t}`}else e.headers.Authorization=`Bearer ${t}`;return e},e=>Promise.reject(e));Ae.interceptors.response.use(e=>e,async e=>{var r,n,s,a,i,l,c,u,d;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if((n=t.url)!=null&&n.includes("/api/login/")||(s=t.url)!=null&&s.includes("/api/academy/login/")||(a=t.url)!=null&&a.includes("/api/register/")||(i=t.url)!=null&&i.includes("/api/refresh/"))return Promise.reject(e);t._retry=!0;const f=xn.isInSessionRestoration(),h=(l=t.url)==null?void 0:l.includes("/api/academy/profile/"),g=(c=t.url)==null?void 0:c.includes("/api/academy/");try{const y=await xn.refreshAccessToken(),m=xn.getAccessToken();if(y){t.headers.Authorization=`Bearer ${y}`;try{return await Ae(t)}catch(v){if(((u=v.response)==null?void 0:u.status)===401&&g)return Promise.reject(v);throw v}}else if(m){if(g&&!f)return Promise.reject(e);t.headers.Authorization=`Bearer ${m}`;try{return await Ae(t)}catch(v){return Promise.reject(v)}}else if(g&&!f)return Promise.reject(e)}catch(y){if(console.error(" Token refresh threw an error:",y),xn.getAccessToken()&&g||g&&!f)return Promise.reject(e)}if(!f&&!g)((d=e.response)==null?void 0:d.status)===401&&(xn.clearTokens(!1),window.location.pathname.includes("/auth/")||(window.location.href="/auth/login"));else if(h)return Promise.reject(e)}return Promise.reject(e)});const gt={AUTH:{LOGIN:"/api/login/",ACADEMY_LOGIN:"/api/academy/login/",REGISTER:"/api/register/",PROFILE:"/api/profile/",VERIFY_CODE:"/api/verify-code/",VERIFY_ACADEMY_EMAIL:"/api/verify-academy-email/",PASSWORD_RESET:"/password-reset/request/",PASSWORD_RESET_VERIFY:"/password-reset/verify/",PASSWORD_RESET_CONFIRM:"/password-reset/set-new/",TOKEN_REFRESH:"/api/refresh/"},USER:{PROFILE:"/api/user/profile/",SKILLS:"/api/user/skills/",TESTS:"/api/user/tests/"},ACADEMY:{PROFILE:"/api/academy/profile/",DETAIL:"/api/academy/",COURSES:"/api/academy/courses/",STUDENTS:"/api/academy/students/"},PAYMENTS:{BOG_AUTH:"/api/payments/bog/auth/",BOG_CREATE_ORDER:"/api/payments/bog/orders/"},JOBS:{SAVE_JOB:"/api/save-job/"}};var GP="Avatar",[Cue,UHe]=fa(GP),[Pue,y9]=Cue(GP),v9=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=p.useState("idle");return o.jsx(Pue,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(nt.span,{...n,ref:t})})});v9.displayName=GP;var x9="AvatarImage",b9=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,i=y9(x9,r),l=Aue(n,a.referrerPolicy),c=Jt(u=>{s(u),i.onImageLoadingStatusChange(u)});return tn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(nt.img,{...a,ref:t,src:n}):null});b9.displayName=x9;var w9="AvatarFallback",_9=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=y9(w9,r),[i,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(nt.span,{...s,ref:t}):null});_9.displayName=w9;function Aue(e,t){const[r,n]=p.useState("idle");return tn(()=>{if(!e){n("error");return}let s=!0;const a=new window.Image,i=l=>()=>{s&&n(l)};return n("loading"),a.onload=i("loaded"),a.onerror=i("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var S9=v9,j9=b9,k9=_9;const E9=p.forwardRef(({className:e,...t},r)=>o.jsx(S9,{ref:r,className:ue("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));E9.displayName=S9.displayName;const N9=p.forwardRef(({className:e,...t},r)=>o.jsx(j9,{ref:r,className:ue("aspect-square h-full w-full",e),...t}));N9.displayName=j9.displayName;const C9=p.forwardRef(({className:e,...t},r)=>o.jsx(k9,{ref:r,className:ue("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));C9.displayName=k9.displayName;const Tue={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-16 w-16",xl:"h-32 w-32"},KM=new Map,sg=({src:e,alt:t="Profile photo",fallback:r="U",className:n,size:s="md",loading:a="lazy"})=>o.jsxs(E9,{className:ue(Tue[s],n,"rounded-3xl"),children:[e&&o.jsx(N9,{src:e,alt:t,className:"aspect-square h-full w-full rounded-3xl",loading:a}),o.jsx(C9,{className:"bg-[#AAF0FF] text-[#099DBC] text-2xl font-semibold rounded-3xl",children:r})]}),P9=()=>{const e=p.useCallback(r=>new Promise((n,s)=>{if(KM.has(r)){n();return}const a=new Image;a.onload=()=>{KM.set(r,!0),n()},a.onerror=s,!r.includes("supabase.co")&&!r.includes(window.location.origin)&&(a.crossOrigin="anonymous"),a.src=r}),[]),t=p.useCallback(async r=>{const n=r.map(s=>e(s));await Promise.allSettled(n)},[e]);return{preloadImage:e,preloadImages:t}};function GM(e){return e==="ka"?"ka":"en"}function lu(e){const r=e.split("/").filter(Boolean)[0];if(r==="ka"||r==="en")return r;if(typeof window<"u"){const n=localStorage.getItem("appLanguage");if(n==="en"||n==="ka")return n}return"en"}function ag(e){const t=e.split("/").filter(Boolean),r=t[0];return r==="ka"||r==="en"?"/"+t.slice(1).join("/"):e}function RE(e,t){return e.startsWith("/auth/")||e==="/auth"||e.startsWith("/en/")||e.startsWith("/ka/")?e:e==="/"?`/${GM(t)}`:`/${GM(t)}${e}`}function wa(e,t){return RE(e,t)}const A9=p.createContext(void 0),jv=e=>{if(e&&typeof e=="object"){const t=e,r=n=>{if(n.user_type)return String(n.user_type);if(n.role)return String(n.role);if(n.user_role)return String(n.user_role);if(Array.isArray(n.roles)&&n.roles.length>0){const s=n.roles.find(a=>typeof a=="string"&&(a==="academy"||a.toLowerCase()==="academy"));return String(s||n.roles[0])}};if(t.user&&typeof t.user=="object"){const n=t.user,s=r(n);return s&&!n.user_type&&!n.role&&(n.user_type=s),n}if(t.profile&&typeof t.profile=="object"){const n=t.profile,s=r(n);return s&&!n.user_type&&!n.role&&(n.user_type=s),n}if(t.email||t.username||t.id||t.user_type||t.role||t.name){const n={};t.id&&(n.id=typeof t.id=="string"||typeof t.id=="number"?t.id:String(t.id)),t.email&&(n.email=t.email),t.username&&(n.username=t.username),t.first_name&&(n.first_name=t.first_name),t.last_name&&(n.last_name=t.last_name),t.name&&!t.first_name&&(n.first_name=t.name),t.phone_number&&(n.phone_number=t.phone_number),t.profile_image!==void 0&&(n.profile_image=t.profile_image);const s=r(t);return s&&(n.user_type=s),n}}return null},JM=e=>{try{const t=e.split(".");if(t.length!==3)return null;const r=JSON.parse(atob(t[1]));return r.user_id||r.sub||r.id||null}catch(t){return console.error("Failed to decode JWT token:",t),null}},Oue=({children:e})=>{const[t,r]=p.useState(null),[n,s]=p.useState(!0),a=dr(),{preloadImage:i}=P9(),l=p.useRef(i);p.useEffect(()=>{l.current=i},[i]),p.useEffect(()=>{(async()=>{xn.setSessionRestoration(!0);try{const y=xn.getAccessToken();if(!y){s(!1),xn.setSessionRestoration(!1);return}const m=localStorage.getItem("userRole");let v=null;try{const _=y.split(".");if(_.length===3){const S=JSON.parse(atob(_[1])),E=S.user_id||S.sub||S.id||"";let j=S.user_type||S.role||S.user_role;!j&&Array.isArray(S.roles)&&(j=S.roles.find(C=>typeof C=="string"&&(C==="academy"||C.toLowerCase()==="academy"))||S.roles[0]),v={id:E||String(S.username)||"",email:S.email||S.username||"",username:S.username||S.email||"",first_name:S.first_name||S.name||"",user_type:j||"user",profile_image:S.profile_image||null}}}catch(_){console.error("Failed to decode JWT token:",_),console.warn(" JWT decode failed, but preserving token and attempting API call"),v=null}let x=null;try{const _=await Ae.get(gt.AUTH.PROFILE),S=_.data;if(S.user_roles&&Array.isArray(S.user_roles)&&S.user_roles.find(k=>k.role==="academy"||k.role==="academy")&&!S.user_type&&!S.role&&(S.user_type="academy"),x=jv(_.data),x){const E=JM(y);E?x.id=E:!x.id&&x.email&&(x.id=x.email)}}catch(_){console.warn(" Profile API call failed, using JWT data:",_),x=v}x||(x=v);const w=localStorage.getItem("userRole");let b=!1;if(!(x!=null&&x.user_type)&&!w)try{const _=await Ae.get(gt.ACADEMY.PROFILE);_.data&&_.status!==404&&(b=!0)}catch{}if(w){const _=x==null?void 0:x.user_type;w==="user"&&_&&_!=="user"?(x.user_type=_,localStorage.setItem("userRole",_)):x.user_type=w}else x!=null&&x.user_type?localStorage.setItem("userRole",x.user_type):b?(x.user_type="academy",localStorage.setItem("userRole","academy")):v!=null&&v.user_type&&v.user_type!=="user"?(x.user_type=v.user_type,localStorage.setItem("userRole",v.user_type)):(x.user_type=x.user_type||"user",localStorage.setItem("userRole",x.user_type));if(x&&(x.id||x.email)){if(!x.id&&x.email&&(x.id=x.email),x.user_type){const _=localStorage.getItem("userRole");(!_||_!==x.user_type)&&localStorage.setItem("userRole",x.user_type)}r(x)}else r(null)}catch{r(null)}finally{xn.setSessionRestoration(!1),s(!1)}})()},[]),p.useEffect(()=>{t!=null&&t.profile_image&&l.current(t.profile_image).catch(console.error)},[t==null?void 0:t.profile_image]),p.useEffect(()=>{if(!n&&t){const g=window.location.pathname,y=lu(g)||localStorage.getItem("appLanguage")||"en",m=localStorage.getItem("userRole")||t.user_type||"user",x=["/auth/login","/auth/signup","/auth/reset-password","/email-verification","/email-confirmed"].includes(g),b=["/terms-of-use","/help"].includes(g);if(g==="/"||x){if(m==="academy"){const j=wa("/academy/dashboard",y);a(j,{replace:!0})}else{const j=wa("/home",y);a(j,{replace:!0})}return}if(b)return;const _=ag(g),S=_.startsWith("/academy/"),E=/^\/academy\/[^/]+$/.test(_)&&_!=="/academy/dashboard"&&_!=="/academy/profile"&&_!=="/academy/settings"&&_!=="/academy/register",k=!S&&!b&&(_==="/dashboard"||_==="/home"||_.startsWith("/profile")||_.startsWith("/settings")||_.startsWith("/notifications")||_.startsWith("/jobs")||_.startsWith("/courses")||_.startsWith("/skill")||_.startsWith("/interests"));if(E||m==="academy"&&S&&!E||m==="academy"&&S||m==="user"&&k||_==="/dashboard"||_==="/home"||g.includes("/dashboard")||g.includes("/home"))return;if(S&&m!=="academy"&&!E){const j=wa("/home",y);a(j,{replace:!0})}else if(m==="academy"&&(_==="/dashboard"||_==="/home"||k)){const j=wa("/academy/dashboard",y);a(j,{replace:!0})}else if(m==="academy"&&!S&&!b){const j=wa("/academy/dashboard",y);a(j,{replace:!0})}}},[t,n,a]);const c=async(g,y)=>{s(!0);try{const m=await Ae.post(gt.AUTH.LOGIN,{username:g,password:y}),v=m.data.access||m.data.token,x=m.data.refresh;if(!v)throw new Error("Login succeeded but did not return the required token (access or token field).");x?xn.setTokens(v,x):localStorage.setItem("authToken",v);const w=typeof window<"u"?localStorage.getItem("authToken"):null;await new Promise(k=>setTimeout(k,100));let b=null;const _=jv(m.data);if(_&&_.email)b=_;else try{const k=await Ae.get(gt.AUTH.PROFILE);b=jv(k.data)}catch{}if(!b)throw new Error("Failed to fetch user profile.");const S=JM(v);if(S?b.id=S:!b.id&&b.email&&(b.id=b.email),!b.user_type){let k=!1;try{const j=await Ae.get(gt.ACADEMY.PROFILE);j.data&&j.status!==404&&(k=!0)}catch{}k?b.user_type="academy":b.user_type="user"}b.user_type&&localStorage.setItem("userRole",b.user_type),r(b),b!=null&&b.profile_image&&l.current(b.profile_image).catch(console.error);const E=lu(window.location.pathname)||localStorage.getItem("appLanguage")||"en";if(b.user_type==="academy"){const k=wa("/academy/dashboard",E);a(k)}else{const k=wa("/home",E);a(k)}}catch(m){throw console.error("Login failed:",m),m}finally{s(!1)}},u=async(g,y)=>{try{await Ae.post(gt.AUTH.REGISTER,{email:g,password:y}),a("/auth/email-verification")}catch(m){throw console.error("Registration failed:",m),m}},d=()=>{xn.clearTokens(),r(null),a("/auth/login")},f=g=>{t&&r({...t,...g})},h=async()=>{try{const g=await Ae.get(gt.AUTH.PROFILE),y=jv(g.data);y&&r(y)}catch(g){console.error("Failed to refresh user:",g)}};return o.jsx(A9.Provider,{value:{user:t,loading:n,login:c,logout:d,register:u,updateUser:f,refreshUser:h},children:e})},_r=()=>{const e=p.useContext(A9);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},$ue={nav:{home:"Home",jobs:"Vacancies",courses:"Courses",webinars:"Webinars",profile:"Profile",settings:"Settings",help:"Help Center",notifications:"Notifications"},common:{loading:"Loading...",error:"Error",success:"Success",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",back:"Back",next:"Next",previous:"Previous",submit:"Submit",search:"Search",filter:"Filter",clear:"Clear",apply:"Apply",close:"Close",yes:"Yes",no:"No",ok:"OK",view:"View",more:"More",less:"Less"},auth:{login:"Login",signup:"Sign Up",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm Password",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",rememberMe:"Remember me",createAccount:"Create Account",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",firstName:"First Name",lastName:"Last Name",phone:"Phone",welcome:"Welcome",welcomeBack:"Welcome Back"},dashboard:{welcome:"Welcome",jobOffers:"Job Offers",courses:"Courses",skillTest:"Skill Test",skillPath:"Skill Path",interests:"Interests"},jobs:{title:"Vacancies",noJobs:"No jobs found",apply:"Apply",applied:"Applied",save:"Save",saved:"Saved",location:"Location",salary:"Salary",salaryRange:"Salary Range",minimum:"Minimum",maximum:"Maximum",byAgreement:"By Agreement",workType:"Work Type",country:"Country",interests:"Interests / Skills",type:"Type",posted:"Posted",deadline:"Deadline",description:"Description",requirements:"Requirements",benefits:"Benefits",company:"Company",fullTime:"Full Time",partTime:"Part Time",contract:"Contract",remote:"Remote",hybrid:"Hybrid",filter:"Filter Jobs",clearFilters:"Clear Filters",search:"Search",searchPlaceholder:"Search",filters:"Filters",vacancy:"vacancy",vacancies:"vacancies",dateDescending:"Date Descending",dateAscending:"Date Ascending",dateDescendingFull:"Date Descending",dateAscendingFull:"Date Ascending",tryAdjustingFilters:"Try adjusting your search terms or filters",showing:"Showing",of:"of",page:"Page",previous:"Previous",next:"Next",errorLoading:"Error loading jobs. Please try again."},courses:{title:"Courses",noCourses:"No courses found",enroll:"Enroll",enrolled:"Enrolled",save:"Save",saved:"Saved",duration:"Duration",level:"Level",instructor:"Instructor",academy:"Academy",description:"Description",curriculum:"Curriculum",reviews:"Reviews",price:"Price",free:"Free",filter:"Filter Courses",clearFilters:"Clear Filters"},profile:{title:"Profile",editProfile:"Edit Profile",personalInfo:"Personal Information",contactInfo:"Contact Information",skills:"Skills",experience:"Experience",education:"Education",bio:"Bio",saveChanges:"Save Changes"},settings:{title:"Settings",account:"Account",preferences:"Preferences",notifications:"Notifications",privacy:"Privacy",language:"Language",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode"},notifications:{title:"Notifications",noNotifications:"No notifications",markAsRead:"Mark as read",markAllAsRead:"Mark all as read",browserNotifications:"Browser Notifications",enableBrowserNotifications:"Enable Browser Notifications",browserNotificationsDescription:"Get notified when new jobs matching your skills are posted. You'll receive browser notifications even when you're not on the site.",notificationPermissionGranted:"Browser notifications are enabled",notificationPermissionDenied:"Browser notifications are blocked. Please enable them in your browser settings.",notificationPermissionDefault:"Click the button below to enable browser notifications for new job matches.",requestPermission:"Enable Notifications",checkingForJobs:"Checking for new jobs...",notificationsEnabled:"Notifications Enabled",notificationsDisabled:"Notifications Disabled"},subscription:{title:"Subscription",upgrade:"Upgrade plan",currentPlan:"Current Plan",features:"Features",subscribe:"Subscribe"},help:{title:"Help Center",faq:"FAQ",contact:"Contact Support"},terms:{title:"Terms of Use",lastUpdated:"Last updated"},skillTest:{title:"Skill Test",start:"Start Test",next:"Next",previous:"Previous",finish:"Finish",results:"Results"},skillPath:{title:"Your Personalized Skill Path"},home:{skillTestTitle:"Begin Your Skill Assessment Journey",skillTestSubtitle:"Take our skill test to unlock personalized recommendations.",skillPathTitle:"Explore your personalized career path",skillPathSubtitle:"Get personalized recommendations for your career."},errors:{somethingWentWrong:"Something went wrong",tryAgain:"Try again",notFound:"Not found",pageNotFound:"Page Not Found",pageNotFoundDescription:"The page you're looking for doesn't exist or has been moved."},webinars:{title:"Webinars",noWebinars:"No webinars found",upcoming:"Upcoming",past:"Past",register:"Register",registered:"Registered",comingsoon:"Coming Soon",comingsoondescription:"Were adding a brand new page to Breneo very soon! Stay tuned for fresh features and updates that will make your experience even better."},beta:{title:"Youre using the beta version",message:"Some features may be limited or change as we continue improving the platform. We appreciate your feedback. it helps us build a better experience."}},Rue={nav:{home:"",jobs:"",courses:"",webinars:"",profile:"",settings:"",help:" ",notifications:""},common:{loading:"...",error:"",success:"",save:"",cancel:"",delete:"",edit:"",back:"",next:"",previous:"",submit:"",search:"",filter:"",clear:"",apply:"",close:"",yes:"",no:"",ok:"",view:"",more:"",less:""},auth:{login:"",signup:"",logout:"",email:"",password:"",confirmPassword:" ",forgotPassword:" ?",resetPassword:" ",rememberMe:"",createAccount:" ",alreadyHaveAccount:"  ?",dontHaveAccount:"  ?",firstName:"",lastName:"",phone:"",welcome:"",welcomeBack:"   "},dashboard:{welcome:"",jobOffers:"",courses:"",skillTest:" ",skillPath:" ",interests:""},jobs:{title:"",noJobs:"  ",apply:"",applied:" ",save:"",saved:"",location:"",salary:"",salaryRange:" ",minimum:"",maximum:"",byAgreement:"",workType:" ",country:"",interests:" / ",type:"",posted:"",deadline:"",description:"",requirements:"",benefits:"",company:"",fullTime:" ",partTime:" ",contract:"",remote:"",hybrid:"",filter:" ",clearFilters:" ",search:"",searchPlaceholder:"",filters:"",vacancy:"",vacancies:"",dateDescending:" ",dateAscending:" ",dateDescendingFull:" ",dateAscendingFull:" ",tryAdjustingFilters:"     ",showing:"",of:"",page:"",previous:"",next:"",errorLoading:"  . ,  ."},courses:{title:"",noCourses:"  ",enroll:"",enrolled:"",save:"",saved:"",duration:"",level:"",instructor:"",academy:"",description:"",curriculum:" ",reviews:"",price:"",free:"",filter:" ",clearFilters:" "},profile:{title:"",editProfile:" ",personalInfo:" ",contactInfo:" ",skills:"",experience:"",education:"",bio:"",saveChanges:" "},settings:{title:"",account:"",preferences:"",notifications:"",privacy:"",language:"",theme:"",darkMode:" ",lightMode:" "},notifications:{title:"",noNotifications:"  ",markAsRead:" ",markAllAsRead:"  ",browserNotifications:" ",enableBrowserNotifications:"  ",browserNotificationsDescription:" ,    ,    .    ,  ,    .",notificationPermissionGranted:"  ",notificationPermissionDenied:"  . ,     .",notificationPermissionDefault:"   ,       .",requestPermission:" ",checkingForJobs:"  ...",notificationsEnabled:" ",notificationsDisabled:" "},subscription:{title:"",upgrade:" ",currentPlan:" ",features:"",subscribe:""},help:{title:" ",faq:"  ",contact:" "},terms:{title:" ",lastUpdated:" "},skillTest:{title:" ",start:" ",next:"",previous:"",finish:"",results:""},skillPath:{title:"   "},home:{skillTestTitle:"    ",skillTestSubtitle:"      .",skillPathTitle:"    ",skillPathSubtitle:"    ."},errors:{somethingWentWrong:"  ",tryAgain:" ",notFound:" ",pageNotFound:"  ",pageNotFoundDescription:",  ,    ."},webinars:{title:"",noWebinars:"  ",upcoming:"",past:"",register:"",registered:"",comingsoon:" ",comingsoondescription:"Breneo-    !     ,       ."},beta:{title:"   ",message:"      ,    .      ."}},T9=p.createContext(void 0),Mue={en:$ue,ka:Rue};function Iue({children:e}){const t=Hs(),r=dr(),[n,s]=p.useState(()=>{if(typeof window<"u"){const u=lu(t.pathname);if(u)return u;const d=localStorage.getItem("appLanguage");if(d==="en"||d==="ka")return d}return"en"}),[a,i]=p.useState(!1);p.useEffect(()=>{i(!0)},[]),p.useEffect(()=>{if(!a||typeof window>"u")return;const u=lu(t.pathname);u&&u!==n&&(s(u),localStorage.setItem("appLanguage",u),document.documentElement.lang=u)},[t.pathname,a,n]);const l=u=>{if(s(u),typeof window<"u"){localStorage.setItem("appLanguage",u),document.documentElement.lang=u;const d=ag(t.pathname),f=RE(d,u);f!==t.pathname&&r(f,{replace:!0})}};p.useEffect(()=>{if(a&&typeof window<"u"){document.documentElement.lang=n;const u=setTimeout(()=>{if(!t.pathname.startsWith("/auth/")&&t.pathname!=="/auth"&&t.pathname!=="/"&&lu(t.pathname)!==n){const f=ag(t.pathname),h=RE(f,n);h!==t.pathname&&!t.pathname.includes("undefined")&&r(h,{replace:!0})}},100);return()=>clearTimeout(u)}},[n,a,t.pathname,r]);const c=p.useMemo(()=>Mue[n],[n]);return o.jsx(T9.Provider,{value:{language:n,setLanguage:l,t:c},children:e})}function vi(){const e=p.useContext(T9);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}function Zi(){const{t:e}=vi();return e}const O9=p.createContext(void 0),YM="breneo-font-size",XM={small:.875,medium:1,big:1.125};function Lue({children:e}){const[t,r]=p.useState(()=>{const a=localStorage.getItem(YM)||"medium",i=XM[a];return typeof document<"u"&&document.documentElement.style.setProperty("--font-size-base",`${i}rem`),a});p.useEffect(()=>{const s=XM[t];document.documentElement.style.setProperty("--font-size-base",`${s}rem`),localStorage.setItem(YM,t)},[t]);const n=s=>{r(s)};return o.jsx(O9.Provider,{value:{fontSize:t,setFontSize:n},children:e})}function Due(){const e=p.useContext(O9);if(e===void 0)throw new Error("useFontSize must be used within a FontSizeProvider");return e}const Fue=xn,Bue=()=>{try{const e=Fue.getAccessToken();if(!e)return null;const t=e.split(".");if(t.length!==3)return null;const r=JSON.parse(atob(t[1]));return r.user_type||r.role||null}catch(e){return console.error("Error extracting role from token:",e),null}},Uue=()=>{try{return localStorage.getItem("userRole")}catch(e){return console.error("Error getting role from storage:",e),null}},zue=()=>{const e=Uue();if(e)return e;const t=Bue();return t||null};function yr({children:e,requiredRole:t,redirectTo:r="/auth/login"}){const{user:n,loading:s}=_r(),a=lu(window.location.pathname)||localStorage.getItem("appLanguage")||"en",i=typeof window<"u"&&!!localStorage.getItem("authToken");if(s)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-breneo-lightgray dark:bg-[#181818]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading..."})]})});if(!n&&!i)return o.jsx(C0,{to:r,replace:!0});if(t){const l=(n==null?void 0:n.user_type)||localStorage.getItem("userRole")||zue()||"user";if(l!==t)if(l==="academy"){const c=wa("/academy/dashboard",a);return o.jsx(C0,{to:c,replace:!0})}else{const c=wa("/home",a);return o.jsx(C0,{to:c,replace:!0})}}return o.jsx(o.Fragment,{children:e})}const QM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ZM=Qt,Ow=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ZM(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=QM(d)||QM(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(y=>{let[m,v]=y;return Array.isArray(v)?v.includes({...a,...l}[m]):{...a,...l}[m]===v})?[...u,f,h]:u},[]);return ZM(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},JP=Ow("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[14px] font-normal ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-60 dark:focus-visible:ring-primary/40 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90 active:bg-primary/80 dark:bg-primary dark:hover:bg-primary/90 dark:active:bg-primary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-transparent text-breneo-blue hover:bg-breneo-blue/10 dark:border-white/20 dark:text-breneo-blue-dark dark:hover:bg-breneo-blue-dark/10",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"text-breneo-blue hover:bg-breneo-blue/10 hover:text-breneo-blue dark:text-breneo-blue-dark dark:hover:bg-breneo-blue-dark/10 dark:hover:text-breneo-blue-dark",link:"text-breneo-blue underline-offset-4 hover:underline dark:text-breneo-blue-dark"},size:{default:"h-12 px-8 text-[15px] leading-[22px]",sm:"h-10 px-6 text-sm leading-[20px] [&_svg]:size-4",xs:"h-11 px-5 text-sm leading-[20px] [&_svg]:size-4",lg:"h-14 px-10 text-lg leading-[26px] [&_svg]:size-6",icon:"h-12 w-12 p-0 [&_svg]:size-5"}},defaultVariants:{variant:"default",size:"default"}}),ne=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?tc:"button";return o.jsx(i,{className:ue(JP({variant:t,size:r,className:e})),ref:a,...s})});ne.displayName="Button";const pt=p.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:ue("flex h-[3.2rem] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));pt.displayName="Input";var que="Label",$9=p.forwardRef((e,t)=>o.jsx(nt.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$9.displayName=que;var R9=$9;const Wue=Ow("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=p.forwardRef(({className:e,...t},r)=>o.jsx(R9,{ref:r,className:ue(Wue(),e),...t}));ze.displayName=R9.displayName;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M9=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...l},c)=>p.createElement("svg",{ref:c,...Hue,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:M9("lucide",s),...l},[...i.map(([u,d])=>p.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(e,t)=>{const r=p.forwardRef(({className:n,...s},a)=>p.createElement(Kue,{ref:a,iconNode:t,className:M9(`lucide-${Vue(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=et("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=et("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jue=et("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=et("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=et("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=et("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=et("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=et("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=et("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=et("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=et("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=et("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=et("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=et("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=et("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=et("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=et("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=et("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=et("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=et("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=et("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=et("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tde=et("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rde=et("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=et("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=et("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=et("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=et("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=et("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=et("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=et("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nde=et("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=et("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=et("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=et("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=et("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=et("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sde=et("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=et("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=et("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=et("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=et("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=et("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=et("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=et("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=et("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ide=et("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=et("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ode=et("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=et("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=et("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=et("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=et("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=et("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=et("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=et("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ude=et("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=et("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dde=et("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=et("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=et("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=et("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Gi(){const{theme:e,setTheme:t}=qo(),[r,n]=p.useState(!1);if(p.useEffect(()=>{n(!0)},[]),!r)return o.jsx(ne,{variant:"ghost",size:"icon",className:"h-10 w-10",children:o.jsx(Ox,{size:22})});const s=e==="dark";return o.jsx(ne,{variant:"ghost",size:"icon",className:"h-10 w-10",onClick:()=>t(s?"light":"dark"),children:s?o.jsx(QP,{size:22}):o.jsx(Ox,{size:22})})}const hde="/lovable-uploads/Breneo-logo.png",pde="/lovable-uploads/Breneo-logo-dark.png";function _n({className:e,...t}){const{theme:r,resolvedTheme:n}=qo(),[s,a]=O.useState(!1);O.useEffect(()=>{a(!0)},[]);const l=s&&(n??r)==="dark"?pde:hde;return o.jsx("img",{src:l,alt:"Breneo Logo",className:ue("object-contain",e),...t})}const aI=()=>{const e=dr(),{login:t,loading:r,user:n}=_r(),[s,a]=p.useState(""),[i,l]=p.useState(""),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,g]=p.useState(!1),[y,m]=p.useState(!1),v=p.useCallback(b=>new Promise((_,S)=>{const E=new Image;E.onload=()=>_(),E.onerror=()=>S(new Error(`Failed to load image: ${b}`)),E.src=b}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([v("/lovable-uploads/Breneo-logo.png"),v("/lovable-uploads/Breneo-logo-dark.png"),v("/lovable-uploads/future.png")])}catch(_){console.warn("Some images failed to preload:",_),m(!0)}})()},[v]),p.useEffect(()=>{if(!r&&n){const b=n.user_type||localStorage.getItem("userRole")||"user",_=lu(window.location.pathname)||localStorage.getItem("appLanguage")||"en";if(b==="academy"){const S=wa("/academy/dashboard",_);e(S,{replace:!0})}else{const S=wa("/home",_);e(S,{replace:!0})}}},[n,r,e]),p.useEffect(()=>{document.title="Login | Breneo",(document.querySelector('meta[name="description"]')||(()=>{const S=document.createElement("meta");return S.setAttribute("name","description"),document.head.appendChild(S),S})()).setAttribute("content","Log in to your Breneo account."),(document.querySelector('link[rel="canonical"]')||(()=>{const S=document.createElement("link");return S.setAttribute("rel","canonical"),document.head.appendChild(S),S})()).setAttribute("href",`${window.location.origin}/auth/login`)},[]);const x=async b=>{b.preventDefault();let _=!1;try{const S=await Ae.post(gt.AUTH.ACADEMY_LOGIN,{email:s,password:i}),E=S.data.access||S.data.token,k=S.data.refresh;if(!E)throw new Error("Login succeeded but did not return the required token.");k?xn.setTokens(E,k):localStorage.setItem("authToken",E),localStorage.setItem("userRole","academy"),window.location.href="/academy/dashboard";return}catch{console.log("Academy login failed, trying regular login..."),_=!0}if(_)try{await t(s,i)}catch(S){let E="Login failed. Please try again.",k=!1;if(Ht.isAxiosError(S)&&S.response&&S.response.data){const j=S.response.data;let N="";if(typeof j.detail=="string"?N=j.detail:typeof j.message=="string"?N=j.message:typeof j.error=="string"?N=j.error:Array.isArray(j.non_field_errors)&&j.non_field_errors.length>0&&typeof j.non_field_errors[0]=="string"&&(N=j.non_field_errors[0]),N){E=N;const C=N.toLowerCase();(C.includes("email not verified")||C.includes("account not active")||C.includes("please verify your email")||C.includes("e-mail address not verified")||C.includes("user is inactive"))&&(k=!0)}else console.error("Unknown error format from server:",j)}k?(le.info("Your account is not verified. Redirecting to verification..."),sessionStorage.setItem("tempEmail",s),sessionStorage.setItem("tempPassword",i),e("/auth/email-verification")):(le.error(E),console.error("Login page caught error (see details below):",S instanceof Error?S.message:String(S)),Ht.isAxiosError(S)&&S.response&&console.error("Server response data:",S.response.data))}},w=r;return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!d&&!y&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(cn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-6 lg:h-5 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{m(!0),f(!0)}}),y&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-border rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-muted-foreground",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!d&&!y&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(cn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-8 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{m(!0),f(!0)}}),y&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-border rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-muted-foreground",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Sign In"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Welcome back to your Breneo account"}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"emailOrUsername",children:"Email or Username"}),o.jsx(pt,{id:"emailOrUsername",type:"text",placeholder:"Enter your email or username",className:"mt-1 h-[3.2rem]",value:s,onChange:b=>a(b.target.value),required:!0,disabled:w})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(pt,{id:"password",type:c?"text":"password",placeholder:"Enter your password",className:"pr-10 h-[3.2rem]",value:i,onChange:b=>l(b.target.value),required:!0,disabled:w}),o.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),disabled:w,children:c?o.jsx(lg,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):o.jsx(Tu,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]}),o.jsx("div",{className:"flex justify-end mt-2",children:o.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",onClick:()=>e("/auth/reset-password"),children:"Forgot Password?"})})]}),o.jsx(ne,{type:"submit",className:"w-full h-14",disabled:w,children:w?"Signing In...":"Sign In"})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Don't have an account?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/signup"),children:"Sign Up"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!h&&!y&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(cn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${h?"opacity-100":"opacity-0"}`,style:{backgroundImage:h?"url('/lovable-uploads/cover_3.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/cover_3.png",alt:"",className:"hidden",onLoad:()=>g(!0),onError:()=>{m(!0),g(!0)}}),y&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(cn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})};function ym(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function iI(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function W9(...e){return t=>{let r=!1;const n=e.map(s=>{const a=iI(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():iI(e[s],null)}}}}function Iw(...e){return p.useCallback(W9(...e),e)}function mde(e,t){const r=p.createContext(t),n=a=>{const{children:i,...l}=a,c=p.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=p.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function gde(e,t=[]){let r=[];function n(a,i){const l=p.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:g,...y}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=p.useMemo(()=>y,Object.values(y));return o.jsx(m.Provider,{value:v,children:g})};u.displayName=a+"Provider";function d(f,h){var m;const g=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=p.useContext(g);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,yde(s,...t)]}function yde(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Mx=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},vde=dh[" useId ".trim().toString()]||(()=>{}),xde=0;function hS(e){const[t,r]=p.useState(vde());return Mx(()=>{e||r(n=>n??String(xde++))},[e]),e||(t?`radix-${t}`:"")}var bde=dh[" useInsertionEffect ".trim().toString()]||Mx;function wde({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=_de({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const h=Sde(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else a(d)},[l,e,a,i]);return[c,u]}function _de({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),s=p.useRef(r),a=p.useRef(t);return bde(()=>{a.current=t},[t]),p.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function Sde(e){return typeof e=="function"}function pS(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function oI(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function V9(...e){return t=>{let r=!1;const n=e.map(s=>{const a=oI(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():oI(e[s],null)}}}}function H9(...e){return p.useCallback(V9(...e),e)}function jde(e){const t=kde(e),r=p.forwardRef((n,s)=>{const{children:a,...i}=n,l=p.Children.toArray(a),c=l.find(Nde);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function kde(e){const t=p.forwardRef((r,n)=>{const{children:s,...a}=r;if(p.isValidElement(s)){const i=Pde(s),l=Cde(a,s.props);return s.type!==p.Fragment&&(l.ref=n?V9(n,i):i),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ede=Symbol("radix.slottable");function Nde(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ede}function Cde(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function Pde(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ade=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],K9=Ade.reduce((e,t)=>{const r=jde(`Primitive.${t}`),n=p.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Tde(e,t){e&&qu.flushSync(()=>e.dispatchEvent(t))}function G9(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Ode(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function $de(e,t=globalThis==null?void 0:globalThis.document){const r=Ode(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Rde="DismissableLayer",LE="dismissableLayer.update",Mde="dismissableLayer.pointerDownOutside",Ide="dismissableLayer.focusOutside",lI,J9=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Y9=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(J9),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),y=H9(t,k=>f(k)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=Fde(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=Bde(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return $de(k=>{w===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(lI=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),cI(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=lI)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),cI())},[d,u]),p.useEffect(()=>{const k=()=>g({});return document.addEventListener(LE,k),()=>document.removeEventListener(LE,k)},[]),o.jsx(K9.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:pS(e.onFocusCapture,E.onFocusCapture),onBlurCapture:pS(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:pS(e.onPointerDownCapture,S.onPointerDownCapture)})});Y9.displayName=Rde;var Lde="DismissableLayerBranch",Dde=p.forwardRef((e,t)=>{const r=p.useContext(J9),n=p.useRef(null),s=H9(t,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(K9.div,{...e,ref:s})});Dde.displayName=Lde;function Fde(e,t=globalThis==null?void 0:globalThis.document){const r=G9(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){X9(Mde,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Bde(e,t=globalThis==null?void 0:globalThis.document){const r=G9(e),n=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!n.current&&X9(Ide,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function cI(){const e=new CustomEvent(LE);document.dispatchEvent(e)}function X9(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Tde(s,a):s.dispatchEvent(a)}function uI(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Q9(...e){return t=>{let r=!1;const n=e.map(s=>{const a=uI(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():uI(e[s],null)}}}}function Ude(...e){return p.useCallback(Q9(...e),e)}function zde(e){const t=qde(e),r=p.forwardRef((n,s)=>{const{children:a,...i}=n,l=p.Children.toArray(a),c=l.find(Vde);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function qde(e){const t=p.forwardRef((r,n)=>{const{children:s,...a}=r;if(p.isValidElement(s)){const i=Kde(s),l=Hde(a,s.props);return s.type!==p.Fragment&&(l.ref=n?Q9(n,i):i),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Wde=Symbol("radix.slottable");function Vde(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Wde}function Hde(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function Kde(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Gde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jde=Gde.reduce((e,t)=>{const r=zde(`Primitive.${t}`),n=p.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function dI(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var mS="focusScope.autoFocusOnMount",gS="focusScope.autoFocusOnUnmount",fI={bubbles:!1,cancelable:!0},Yde="FocusScope",Z9=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=p.useState(null),u=dI(s),d=dI(a),f=p.useRef(null),h=Ude(t,m=>c(m)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(b){if(g.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:ol(f.current,{select:!0})},v=function(b){if(g.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||ol(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&ol(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,g.paused]),p.useEffect(()=>{if(l){pI.add(g);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(mS,fI);l.addEventListener(mS,u),l.dispatchEvent(x),x.defaultPrevented||(Xde(rfe(ez(l)),{select:!0}),document.activeElement===m&&ol(l))}return()=>{l.removeEventListener(mS,u),setTimeout(()=>{const x=new CustomEvent(gS,fI);l.addEventListener(gS,d),l.dispatchEvent(x),x.defaultPrevented||ol(m??document.body,{select:!0}),l.removeEventListener(gS,d),pI.remove(g)},0)}}},[l,u,d,g]);const y=p.useCallback(m=>{if(!r&&!n||g.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const w=m.currentTarget,[b,_]=Qde(w);b&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&ol(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&ol(_,{select:!0})):x===w&&m.preventDefault()}},[r,n,g.paused]);return o.jsx(Jde.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});Z9.displayName=Yde;function Xde(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ol(n,{select:t}),document.activeElement!==r)return}function Qde(e){const t=ez(e),r=hI(t,e),n=hI(t.reverse(),e);return[r,n]}function ez(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function hI(e,t){for(const r of e)if(!Zde(r,{upTo:t}))return r}function Zde(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function efe(e){return e instanceof HTMLInputElement&&"select"in e}function ol(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&efe(e)&&t&&e.select()}}var pI=tfe();function tfe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=mI(e,t),e.unshift(t)},remove(t){var r;e=mI(e,t),(r=e[0])==null||r.resume()}}}function mI(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function rfe(e){return e.filter(t=>t.tagName!=="A")}function gI(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function nfe(...e){return t=>{let r=!1;const n=e.map(s=>{const a=gI(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():gI(e[s],null)}}}}function sfe(e){const t=afe(e),r=p.forwardRef((n,s)=>{const{children:a,...i}=n,l=p.Children.toArray(a),c=l.find(ofe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function afe(e){const t=p.forwardRef((r,n)=>{const{children:s,...a}=r;if(p.isValidElement(s)){const i=cfe(s),l=lfe(a,s.props);return s.type!==p.Fragment&&(l.ref=n?nfe(n,i):i),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ife=Symbol("radix.slottable");function ofe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ife}function lfe(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function cfe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ufe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dfe=ufe.reduce((e,t)=>{const r=sfe(`Primitive.${t}`),n=p.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ffe=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},hfe="Portal",tz=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=p.useState(!1);ffe(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?hy.createPortal(o.jsx(dfe.div,{...n,ref:t}),i):null});tz.displayName=hfe;function pfe(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var Lw=e=>{const{present:t,children:r}=e,n=mfe(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),a=Iw(n.ref,gfe(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:a}):null};Lw.displayName="Presence";function mfe(e){const[t,r]=p.useState(),n=p.useRef(null),s=p.useRef(e),a=p.useRef("none"),i=e?"mounted":"unmounted",[l,c]=pfe(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Ev(n.current);a.current=l==="mounted"?u:"none"},[l]),Mx(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,g=Ev(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Mx(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const m=Ev(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&m&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=g=>{g.target===t&&(a.current=Ev(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ev(e){return(e==null?void 0:e.animationName)||"none"}function gfe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function rz(e){const t=yfe(e),r=p.forwardRef((n,s)=>{const{children:a,...i}=n,l=p.Children.toArray(a),c=l.find(xfe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function yfe(e){const t=p.forwardRef((r,n)=>{const{children:s,...a}=r;if(p.isValidElement(s)){const i=wfe(s),l=bfe(a,s.props);return s.type!==p.Fragment&&(l.ref=n?W9(n,i):i),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vfe=Symbol("radix.slottable");function xfe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vfe}function bfe(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function wfe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var _fe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sy=_fe.reduce((e,t)=>{const r=rz(`Primitive.${t}`),n=p.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),yS=0;function Sfe(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??yI()),document.body.insertAdjacentElement("beforeend",e[1]??yI()),yS++,()=>{yS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yS--}},[])}function yI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var br=function(){return br=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},br.apply(this,arguments)};function jy(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Dw(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var hu="right-scroll-bar-position",pu="width-before-scroll-bar",jfe="with-scroll-bars-hidden",kfe="--removed-body-scroll-bar-size";function vS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Efe(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var Nfe=typeof window<"u"?p.useLayoutEffect:p.useEffect,vI=new WeakMap;function Fw(e,t){var r=Efe(null,function(n){return e.forEach(function(s){return vS(s,n)})});return Nfe(function(){var n=vI.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(l){a.has(l)||vS(l,null)}),a.forEach(function(l){s.has(l)||vS(l,i)})}vI.set(r,e)},[e]),r}function Cfe(e){return e}function Pfe(e,t){t===void 0&&(t=Cfe);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function Bw(e){e===void 0&&(e={});var t=Pfe(null);return t.options=br({async:!0,ssr:!1},e),t}var nz=function(e){var t=e.sideCar,r=jy(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,br({},r))};nz.isSideCarExport=!0;function Uw(e,t){return e.useMedium(t),nz}var sz=Bw(),xS=function(){},zw=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:xS,onWheelCapture:xS,onTouchMoveCapture:xS}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noRelative,y=e.noIsolation,m=e.inert,v=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,b=e.gapMode,_=jy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=Fw([r,t]),k=br(br({},_),s);return p.createElement(p.Fragment,null,d&&p.createElement(S,{sideCar:sz,removeScrollBar:u,shards:f,noRelative:g,noIsolation:y,inert:m,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:b}),i?p.cloneElement(p.Children.only(l),br(br({},k),{ref:E})):p.createElement(w,br({},k,{className:c,ref:E}),l))});zw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zw.classNames={fullWidth:pu,zeroRight:hu};var Afe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Tfe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Afe();return t&&e.setAttribute("nonce",t),e}function Ofe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $fe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Rfe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Tfe())&&(Ofe(t,r),$fe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Mfe=function(){var e=Rfe();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ky=function(){var e=Mfe(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},Ife={left:0,top:0,right:0,gap:0},bS=function(e){return parseInt(e||"",10)||0},Lfe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[bS(r),bS(n),bS(s)]},Dfe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ife;var t=Lfe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Ffe=ky(),ef="data-scroll-locked",Bfe=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(jfe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ef,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(pu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(hu," .").concat(hu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(pu," .").concat(pu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ef,`] {
    `).concat(kfe,": ").concat(l,`px;
  }
`)},xI=function(){var e=parseInt(document.body.getAttribute(ef)||"0",10);return isFinite(e)?e:0},Ufe=function(){p.useEffect(function(){return document.body.setAttribute(ef,(xI()+1).toString()),function(){var e=xI()-1;e<=0?document.body.removeAttribute(ef):document.body.setAttribute(ef,e.toString())}},[])},qw=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;Ufe();var a=p.useMemo(function(){return Dfe(s)},[s]);return p.createElement(Ffe,{styles:Bfe(a,!t,s,r?"":"!important")})},DE=!1;if(typeof window<"u")try{var Nv=Object.defineProperty({},"passive",{get:function(){return DE=!0,!0}});window.addEventListener("test",Nv,Nv),window.removeEventListener("test",Nv,Nv)}catch{DE=!1}var td=DE?{passive:!1}:!1,zfe=function(e){return e.tagName==="TEXTAREA"},az=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!zfe(e)&&r[t]==="visible")},qfe=function(e){return az(e,"overflowY")},Wfe=function(e){return az(e,"overflowX")},bI=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=iz(e,n);if(s){var a=oz(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Vfe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Hfe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},iz=function(e,t){return e==="v"?qfe(t):Wfe(t)},oz=function(e,t){return e==="v"?Vfe(t):Hfe(t)},Kfe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Gfe=function(e,t,r,n,s){var a=Kfe(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var g=oz(e,l),y=g[0],m=g[1],v=g[2],x=m-v-a*y;(y||x)&&iz(e,l)&&(f+=x,h+=y);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Cv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wI=function(e){return[e.deltaX,e.deltaY]},_I=function(e){return e&&"current"in e?e.current:e},Jfe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Yfe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Xfe=0,rd=[];function Qfe(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(Xfe++)[0],a=p.useState(ky)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Dw([e.lockRef.current],(e.shards||[]).map(_I),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var x=Cv(m),w=r.current,b="deltaX"in m?m.deltaX:w[0]-x[0],_="deltaY"in m?m.deltaY:w[1]-x[1],S,E=m.target,k=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&E.type==="range")return!1;var j=bI(k,E);if(!j)return!0;if(j?S=k:(S=k==="v"?"h":"v",j=bI(k,E)),!j)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return Gfe(N,v,m,N==="h"?b:_,!0)},[]),c=p.useCallback(function(m){var v=m;if(!(!rd.length||rd[rd.length-1]!==a)){var x="deltaY"in v?wI(v):Cv(v),w=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&Jfe(S.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(i.current.shards||[]).map(_I).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=b.length>0?l(v,b[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=p.useCallback(function(m,v,x,w){var b={name:m,delta:v,target:x,should:w,shadowParent:Zfe(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=p.useCallback(function(m){r.current=Cv(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,wI(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,Cv(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return rd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,td),document.addEventListener("touchmove",c,td),document.addEventListener("touchstart",d,td),function(){rd=rd.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,td),document.removeEventListener("touchmove",c,td),document.removeEventListener("touchstart",d,td)}},[]);var g=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(a,{styles:Yfe(s)}):null,g?p.createElement(qw,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Zfe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ehe=Uw(sz,Qfe);var lz=p.forwardRef(function(e,t){return p.createElement(zw,br({},e,{ref:t,sideCar:ehe}))});lz.classNames=zw.classNames;var the=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},nd=new WeakMap,Pv=new WeakMap,Av={},wS=0,cz=function(e){return e&&(e.host||cz(e.parentNode))},rhe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=cz(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},nhe=function(e,t,r,n){var s=rhe(t,Array.isArray(e)?e:[e]);Av[r]||(Av[r]=new WeakMap);var a=Av[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var g=h.getAttribute(n),y=g!==null&&g!=="false",m=(nd.get(h)||0)+1,v=(a.get(h)||0)+1;nd.set(h,m),a.set(h,v),i.push(h),m===1&&y&&Pv.set(h,!0),v===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),wS++,function(){i.forEach(function(f){var h=nd.get(f)-1,g=a.get(f)-1;nd.set(f,h),a.set(f,g),h||(Pv.has(f)||f.removeAttribute(n),Pv.delete(f)),g||f.removeAttribute(r)}),wS--,wS||(nd=new WeakMap,nd=new WeakMap,Pv=new WeakMap,Av={})}},Ww=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=the(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),nhe(n,s,r,"aria-hidden")):function(){return null}},Vw="Dialog",[uz,zHe]=gde(Vw),[she,xi]=uz(Vw),dz=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=wde({prop:n,defaultProp:s??!1,onChange:a,caller:Vw});return o.jsx(she,{scope:t,triggerRef:l,contentRef:c,contentId:hS(),titleId:hS(),descriptionId:hS(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};dz.displayName=Vw;var fz="DialogTrigger",hz=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=xi(fz,r),a=Iw(t,s.triggerRef);return o.jsx(Sy.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rA(s.open),...n,ref:a,onClick:ym(e.onClick,s.onOpenToggle)})});hz.displayName=fz;var eA="DialogPortal",[ahe,pz]=uz(eA,{forceMount:void 0}),mz=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=xi(eA,t);return o.jsx(ahe,{scope:t,forceMount:r,children:p.Children.map(n,i=>o.jsx(Lw,{present:r||a.open,children:o.jsx(tz,{asChild:!0,container:s,children:i})}))})};mz.displayName=eA;var Ix="DialogOverlay",gz=p.forwardRef((e,t)=>{const r=pz(Ix,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=xi(Ix,e.__scopeDialog);return a.modal?o.jsx(Lw,{present:n||a.open,children:o.jsx(ohe,{...s,ref:t})}):null});gz.displayName=Ix;var ihe=rz("DialogOverlay.RemoveScroll"),ohe=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=xi(Ix,r);return o.jsx(lz,{as:ihe,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Sy.div,{"data-state":rA(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ru="DialogContent",yz=p.forwardRef((e,t)=>{const r=pz(Ru,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=xi(Ru,e.__scopeDialog);return o.jsx(Lw,{present:n||a.open,children:a.modal?o.jsx(lhe,{...s,ref:t}):o.jsx(che,{...s,ref:t})})});yz.displayName=Ru;var lhe=p.forwardRef((e,t)=>{const r=xi(Ru,e.__scopeDialog),n=p.useRef(null),s=Iw(t,r.contentRef,n);return p.useEffect(()=>{const a=n.current;if(a)return Ww(a)},[]),o.jsx(vz,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ym(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ym(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:ym(e.onFocusOutside,a=>a.preventDefault())})}),che=p.forwardRef((e,t)=>{const r=xi(Ru,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return o.jsx(vz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),vz=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=xi(Ru,r),c=p.useRef(null),u=Iw(t,c);return Sfe(),o.jsxs(o.Fragment,{children:[o.jsx(Z9,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Y9,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":rA(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(uhe,{titleId:l.titleId}),o.jsx(fhe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),tA="DialogTitle",xz=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=xi(tA,r);return o.jsx(Sy.h2,{id:s.titleId,...n,ref:t})});xz.displayName=tA;var bz="DialogDescription",wz=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=xi(bz,r);return o.jsx(Sy.p,{id:s.descriptionId,...n,ref:t})});wz.displayName=bz;var _z="DialogClose",Sz=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=xi(_z,r);return o.jsx(Sy.button,{type:"button",...n,ref:t,onClick:ym(e.onClick,()=>s.onOpenChange(!1))})});Sz.displayName=_z;function rA(e){return e?"open":"closed"}var jz="DialogTitleWarning",[qHe,kz]=mde(jz,{contentName:Ru,titleName:tA,docsSlug:"dialog"}),uhe=({titleId:e})=>{const t=kz(jz),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},dhe="DialogDescriptionWarning",fhe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kz(dhe).contentName}}.`;return p.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Ez=dz,hhe=hz,Nz=mz,nA=gz,sA=yz,aA=xz,iA=wz,Cz=Sz;const ts=Ez,phe=Nz,Pz=p.forwardRef(({className:e,...t},r)=>o.jsx(nA,{ref:r,className:ue("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Pz.displayName=nA.displayName;const Fn=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(phe,{children:[o.jsx(Pz,{}),o.jsxs(sA,{ref:n,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background/90 backdrop-blur-md p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-[36px]",e),...r,children:[t,o.jsxs(Cz,{className:"absolute right-6 top-6 rounded-full bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 h-7 w-7 flex items-center justify-center shrink-0 transition-colors p-0",children:[o.jsx(yn,{className:"h-3.5 w-3.5"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fn.displayName=sA.displayName;const Bn=({className:e,...t})=>o.jsx("div",{className:ue("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Bn.displayName="DialogHeader";const gs=({className:e,...t})=>o.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});gs.displayName="DialogFooter";const Un=p.forwardRef(({className:e,...t},r)=>o.jsx(aA,{ref:r,className:ue("text-lg font-semibold leading-none tracking-tight",e),...t}));Un.displayName=aA.displayName;const tf=p.forwardRef(({className:e,...t},r)=>o.jsx(iA,{ref:r,className:ue("text-sm text-muted-foreground",e),...t}));tf.displayName=iA.displayName;function mhe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Az=O.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Nh=()=>{const e=O.useContext(Az);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};mhe(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const ghe=24,yhe=typeof window<"u"?p.useLayoutEffect:p.useEffect;function SI(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function vhe(){return oA(/^Mac/)}function xhe(){return oA(/^iPhone/)}function jI(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function bhe(){return oA(/^iPad/)||vhe()&&navigator.maxTouchPoints>1}function Tz(){return xhe()||bhe()}function oA(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const _S=typeof document<"u"&&window.visualViewport;function kI(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Oz(e){for(kI(e)&&(e=e.parentElement);e&&!kI(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const whe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Tv=0,SS;function _he(e={}){let{isDisabled:t}=e;yhe(()=>{if(!t)return Tv++,Tv===1&&Tz()&&(SS=She()),()=>{Tv--,Tv===0&&(SS==null||SS())}},[t])}function She(){let e,t=0,r=f=>{e=Oz(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},n=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,g=e.scrollTop,y=e.scrollHeight-e.clientHeight;y!==0&&((g<=0&&h>t||g>=y&&h<t)&&f.preventDefault(),t=h)},s=f=>{let h=f.target;FE(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},a=f=>{let h=f.target;FE(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",_S&&(_S.height<window.innerHeight?requestAnimationFrame(()=>{EI(h)}):_S.addEventListener("resize",()=>EI(h),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=SI(jhe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=SI(xp(document,"touchstart",r,{passive:!1,capture:!0}),xp(document,"touchmove",n,{passive:!1,capture:!0}),xp(document,"touchend",s,{passive:!1,capture:!0}),xp(document,"focus",a,!0),xp(window,"scroll",i));return()=>{u(),d(),window.scrollTo(l,c)}}function jhe(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function xp(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function EI(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=Oz(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,s=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const i=r.getBoundingClientRect().bottom+ghe;a>i&&(r.scrollTop+=s-n)}e=r.parentElement}}function FE(e){return e instanceof HTMLInputElement&&!whe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function khe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ehe(...e){return t=>e.forEach(r=>khe(r,t))}function $z(...e){return p.useCallback(Ehe(...e),e)}const Rz=new WeakMap;function hn(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([s,a])=>{if(s.startsWith("--")){e.style.setProperty(s,a);return}n[s]=e.style[s],e.style[s]=a}),!r&&Rz.set(e,n)}function Nhe(e,t){if(!e||!(e instanceof HTMLElement))return;let r=Rz.get(e);r&&(e.style[t]=r[t])}const mn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Ov(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let s=n.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[mn(t)?13:12]):(s=n.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[mn(t)?5:4]):null)}function Che(e){return 8*(Math.log(e+1)-2)}function jS(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function Phe(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const Br={DURATION:.5,EASE:[.32,.72,0,1]},Mz=.4,Ahe=.25,The=100,Iz=8,Ec=16,BE=26,kS="vaul-dragging";function Lz(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e}),O.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function Ohe({defaultProp:e,onChange:t}){const r=O.useState(e),[n]=r,s=O.useRef(n),a=Lz(t);return O.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}function Dz({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Ohe({defaultProp:t,onChange:r}),a=e!==void 0,i=a?e:n,l=Lz(r),c=O.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[i,c]}function $he({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:s,fadeFromIndex:a,onSnapPointChange:i,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=Dz({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[h,g]=O.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);O.useEffect(()=>{function k(){g({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const y=O.useMemo(()=>d===(r==null?void 0:r[r.length-1])||null,[r,d]),m=O.useMemo(()=>r==null?void 0:r.findIndex(k=>k===d),[r,d]),v=r&&r.length>0&&(a||a===0)&&!Number.isNaN(a)&&r[a]===d||!r,x=O.useMemo(()=>{const k=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var j;return(j=r==null?void 0:r.map(N=>{const C=typeof N=="string";let P=0;if(C&&(P=parseInt(N,10)),mn(l)){const F=C?P:h?N*k.height:0;return h?l==="bottom"?k.height-F:-k.height+F:F}const R=C?P:h?N*k.width:0;return h?l==="right"?k.width-R:-k.width+R:R}))!=null?j:[]},[r,h,c]),w=O.useMemo(()=>m!==null?x==null?void 0:x[m]:null,[x,m]),b=O.useCallback(k=>{var j;const N=(j=x==null?void 0:x.findIndex(C=>C===k))!=null?j:null;i(N),hn(n.current,{transition:`transform ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`,transform:mn(l)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`}),x&&N!==x.length-1&&N!==a&&N<a?hn(s.current,{transition:`opacity ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`,opacity:"0"}):hn(s.current,{transition:`opacity ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`,opacity:"1"}),f(r==null?void 0:r[Math.max(N,0)])},[n.current,r,x,a,s,f]);O.useEffect(()=>{if(d||e){var k;const j=(k=r==null?void 0:r.findIndex(N=>N===e||N===d))!=null?k:-1;x&&j!==-1&&typeof x[j]=="number"&&b(x[j])}},[d,e,r,x,b]);function _({draggedDistance:k,closeDrawer:j,velocity:N,dismissible:C}){if(a===void 0)return;const P=l==="bottom"||l==="right"?(w??0)-k:(w??0)+k,R=m===a-1,F=m===0,z=k>0;if(R&&hn(s.current,{transition:`opacity ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`}),!u&&N>2&&!z){C?j():b(x[0]);return}if(!u&&N>2&&z&&x&&r){b(x[r.length-1]);return}const D=x==null?void 0:x.reduce((B,T)=>typeof B!="number"||typeof T!="number"?B:Math.abs(T-P)<Math.abs(B-P)?T:B),I=mn(l)?window.innerHeight:window.innerWidth;if(N>Mz&&Math.abs(k)<I*.4){const B=z?1:-1;if(B>0&&y){b(x[r.length-1]);return}if(F&&B<0&&C&&j(),m===null)return;b(x[m+B]);return}b(D)}function S({draggedDistance:k}){if(w===null)return;const j=l==="bottom"||l==="right"?w-k:w+k;(l==="bottom"||l==="right")&&j<x[x.length-1]||(l==="top"||l==="left")&&j>x[x.length-1]||hn(n.current,{transform:mn(l)?`translate3d(0, ${j}px, 0)`:`translate3d(${j}px, 0, 0)`})}function E(k,j){if(!r||typeof m!="number"||!x||a===void 0)return null;const N=m===a-1;if(m>=a&&j)return 0;if(N&&!j)return 1;if(!v&&!N)return null;const P=N?m+1:m-1,R=N?x[P]-x[P-1]:x[P+1]-x[P],F=k/Math.abs(R);return N?1-F:F}return{isLastSnapPoint:y,activeSnapPoint:d,shouldFade:v,getPercentageDragged:E,setActiveSnapPoint:f,activeSnapPointIndex:m,onRelease:_,onDrag:S,snapPointsOffset:x}}const Rhe=()=>()=>{};function Mhe(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:s}=Nh(),a=O.useRef(null),i=p.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-BE)/window.innerWidth}O.useEffect(()=>{if(t&&r){a.current&&clearTimeout(a.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;Phe(n&&!s?jS(document.body,{background:"black"}):Rhe,jS(c,{transformOrigin:mn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Br.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Br.EASE.join(",")})`}));const u=jS(c,{borderRadius:`${Iz}px`,overflow:"hidden",...mn(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),a.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},Br.DURATION*1e3)}}},[t,r,i])}let bp=null;function Ihe({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:s,noBodyStyles:a}){const[i,l]=O.useState(()=>typeof window<"u"?window.location.href:""),c=O.useRef(0),u=O.useCallback(()=>{if(jI()&&bp===null&&e&&!a){bp={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const g=h-window.innerHeight;g&&c.current>=h&&(document.body.style.top=`${-(c.current+g)}px`)}),300)}},[e]),d=O.useCallback(()=>{if(jI()&&bp!==null&&!a){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,bp),window.requestAnimationFrame(()=>{if(s&&i!==window.location.href){l(window.location.href);return}window.scrollTo(h,f)}),bp=null}},[i]);return O.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),O.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,n,i,t,r,u,d]),{restorePositionSetting:d}}function Fz({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:s,snapPoints:a,shouldScaleBackground:i=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=Ahe,scrollLockTimeout:u=The,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:h=a&&a.length-1,activeSnapPoint:g,setActiveSnapPoint:y,fixed:m,modal:v=!0,onClose:x,nested:w,noBodyStyles:b,direction:_="bottom",defaultOpen:S=!1,disablePreventScroll:E=!0,snapToSequentialPoint:k=!1,preventScrollRestoration:j=!1,repositionInputs:N=!0,onAnimationEnd:C,container:P,autoFocus:R=!1}){var F,z;const[D=!1,I]=Dz({defaultProp:S,prop:e,onChange:we=>{t==null||t(we),!we&&!w&&We(),setTimeout(()=>{C==null||C(we)},Br.DURATION*1e3),we&&!v&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),we||(document.body.style.pointerEvents="auto")}}),[B,T]=O.useState(!1),[M,Z]=O.useState(!1),[L,G]=O.useState(!1),H=O.useRef(null),Y=O.useRef(null),ae=O.useRef(null),V=O.useRef(null),W=O.useRef(null),J=O.useRef(!1),K=O.useRef(null),Q=O.useRef(0),se=O.useRef(!1),X=O.useRef(0),ce=O.useRef(null),oe=O.useRef(((F=ce.current)==null?void 0:F.getBoundingClientRect().height)||0),xe=O.useRef(((z=ce.current)==null?void 0:z.getBoundingClientRect().width)||0),pe=O.useRef(0),re=O.useCallback(we=>{a&&we===q.length-1&&(Y.current=new Date)},[]),{activeSnapPoint:ee,activeSnapPointIndex:ye,setActiveSnapPoint:De,onRelease:$,snapPointsOffset:q,onDrag:fe,shouldFade:be,getPercentageDragged:qe}=$he({snapPoints:a,activeSnapPointProp:g,setActiveSnapPointProp:y,drawerRef:ce,fadeFromIndex:h,overlayRef:H,onSnapPointChange:re,direction:_,container:P,snapToSequentialPoint:k});_he({isDisabled:!D||M||!v||L||!B||!N||!E});const{restorePositionSetting:We}=Ihe({isOpen:D,modal:v,nested:w,hasBeenOpened:B,preventScrollRestoration:j,noBodyStyles:b});function Ye(){return(window.innerWidth-BE)/window.innerWidth}function Pe(we){var Be,Ie;!d&&!a||ce.current&&!ce.current.contains(we.target)||(oe.current=((Be=ce.current)==null?void 0:Be.getBoundingClientRect().height)||0,xe.current=((Ie=ce.current)==null?void 0:Ie.getBoundingClientRect().width)||0,Z(!0),ae.current=new Date,Tz()&&window.addEventListener("touchend",()=>J.current=!1,{once:!0}),we.target.setPointerCapture(we.pointerId),Q.current=mn(_)?we.pageY:we.pageX)}function he(we,Be){var Ie,Ve;let ft=we;const er=(Ie=window.getSelection())==null?void 0:Ie.toString(),A=ce.current?Ov(ce.current,_):null,U=new Date;if(ft.hasAttribute("data-vaul-no-drag")||ft.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(Y.current&&U.getTime()-Y.current.getTime()<500)return!1;if(A!==null&&(_==="bottom"?A>0:A<0))return!0;if(er&&er.length>0)return!1;if(U.getTime()-((Ve=W.current)==null?void 0:Ve.getTime())<u&&A===0||Be)return W.current=U,!1;for(;ft;){if(ft.scrollHeight>ft.clientHeight){if(ft.scrollTop!==0)return W.current=new Date,!1;if(ft.getAttribute("role")==="dialog")return!0}ft=ft.parentNode}return!0}function je(we){if(ce.current&&M){const Be=_==="bottom"||_==="right"?1:-1,Ie=(Q.current-(mn(_)?we.pageY:we.pageX))*Be,Ve=Ie>0,ft=a&&!d&&!Ve;if(ft&&ye===0)return;const er=Math.abs(Ie),A=document.querySelector("[data-vaul-drawer-wrapper]"),U=_==="bottom"||_==="top"?oe.current:xe.current;let de=er/U;const Te=qe(er,Ve);if(Te!==null&&(de=Te),ft&&de>=1||!J.current&&!he(we.target,Ve))return;if(ce.current.classList.add(kS),J.current=!0,hn(ce.current,{transition:"none"}),hn(H.current,{transition:"none"}),a&&fe({draggedDistance:Ie}),Ve&&!a){const bt=Che(Ie),At=Math.min(bt*-1,0)*Be;hn(ce.current,{transform:mn(_)?`translate3d(0, ${At}px, 0)`:`translate3d(${At}px, 0, 0)`});return}const tt=1-de;if((be||h&&ye===h-1)&&(n==null||n(we,de),hn(H.current,{opacity:`${tt}`,transition:"none"},!0)),A&&H.current&&i){const bt=Math.min(Ye()+de*(1-Ye()),1),At=8-de*8,Yt=Math.max(0,14-de*14);hn(A,{borderRadius:`${At}px`,transform:mn(_)?`scale(${bt}) translate3d(0, ${Yt}px, 0)`:`scale(${bt}) translate3d(${Yt}px, 0, 0)`,transition:"none"},!0)}if(!a){const bt=er*Be;hn(ce.current,{transform:mn(_)?`translate3d(0, ${bt}px, 0)`:`translate3d(${bt}px, 0, 0)`})}}}O.useEffect(()=>{var we;function Be(){if(!ce.current||!N)return;const Ie=document.activeElement;if(FE(Ie)||se.current){var Ve;const ft=((Ve=window.visualViewport)==null?void 0:Ve.height)||0,er=window.innerHeight;let A=er-ft;const U=ce.current.getBoundingClientRect().height||0,de=U>er*.8;pe.current||(pe.current=U);const Te=ce.current.getBoundingClientRect().top;if(Math.abs(X.current-A)>60&&(se.current=!se.current),a&&a.length>0&&q&&ye){const tt=q[ye]||0;A+=tt}if(X.current=A,U>ft||se.current){const tt=ce.current.getBoundingClientRect().height;let bt=tt;tt>ft&&(bt=ft-(de?Te:BE)),m?ce.current.style.height=`${tt-Math.max(A,0)}px`:ce.current.style.height=`${Math.max(bt,ft-Te)}px`}else ce.current.style.height=`${pe.current}px`;a&&a.length>0&&!se.current?ce.current.style.bottom="0px":ce.current.style.bottom=`${Math.max(A,0)}px`}}return(we=window.visualViewport)==null||we.addEventListener("resize",Be),()=>{var Ie;return(Ie=window.visualViewport)==null?void 0:Ie.removeEventListener("resize",Be)}},[ye,a,q]);function Ee(we){ht(),x==null||x(),we||I(!1),setTimeout(()=>{a&&De(a[0])},Br.DURATION*1e3)}function Me(){if(!ce.current)return;const we=document.querySelector("[data-vaul-drawer-wrapper]"),Be=Ov(ce.current,_);hn(ce.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`}),hn(H.current,{transition:`opacity ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`,opacity:"1"}),i&&Be&&Be>0&&D&&hn(we,{borderRadius:`${Iz}px`,overflow:"hidden",...mn(_)?{transform:`scale(${Ye()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ye()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Br.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Br.EASE.join(",")})`},!0)}function ht(){!M||!ce.current||(ce.current.classList.remove(kS),J.current=!1,Z(!1),V.current=new Date)}function ut(we){if(!M||!ce.current)return;ce.current.classList.remove(kS),J.current=!1,Z(!1),V.current=new Date;const Be=Ov(ce.current,_);if(!he(we.target,!1)||!Be||Number.isNaN(Be)||ae.current===null)return;const Ie=V.current.getTime()-ae.current.getTime(),Ve=Q.current-(mn(_)?we.pageY:we.pageX),ft=Math.abs(Ve)/Ie;if(ft>.05&&(G(!0),setTimeout(()=>{G(!1)},200)),a){$({draggedDistance:Ve*(_==="bottom"||_==="right"?1:-1),closeDrawer:Ee,velocity:ft,dismissible:d}),s==null||s(we,!0);return}if(_==="bottom"||_==="right"?Ve>0:Ve<0){Me(),s==null||s(we,!0);return}if(ft>Mz){Ee(),s==null||s(we,!1);return}var er;const A=Math.min((er=ce.current.getBoundingClientRect().height)!=null?er:0,window.innerHeight);var U;const de=Math.min((U=ce.current.getBoundingClientRect().width)!=null?U:0,window.innerWidth),Te=_==="left"||_==="right";if(Math.abs(Be)>=(Te?de:A)*c){Ee(),s==null||s(we,!1);return}s==null||s(we,!0),Me()}O.useEffect(()=>(D&&(hn(document.documentElement,{scrollBehavior:"auto"}),Y.current=new Date),()=>{Nhe(document.documentElement,"scrollBehavior")}),[D]);function Ct(we){const Be=we?(window.innerWidth-Ec)/window.innerWidth:1,Ie=we?-Ec:0;K.current&&window.clearTimeout(K.current),hn(ce.current,{transition:`transform ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`,transform:`scale(${Be}) translate3d(0, ${Ie}px, 0)`}),!we&&ce.current&&(K.current=setTimeout(()=>{const Ve=Ov(ce.current,_);hn(ce.current,{transition:"none",transform:mn(_)?`translate3d(0, ${Ve}px, 0)`:`translate3d(${Ve}px, 0, 0)`})},500))}function at(we,Be){if(Be<0)return;const Ie=(window.innerWidth-Ec)/window.innerWidth,Ve=Ie+Be*(1-Ie),ft=-Ec+Be*Ec;hn(ce.current,{transform:mn(_)?`scale(${Ve}) translate3d(0, ${ft}px, 0)`:`scale(${Ve}) translate3d(${ft}px, 0, 0)`,transition:"none"})}function kt(we,Be){const Ie=mn(_)?window.innerHeight:window.innerWidth,Ve=Be?(Ie-Ec)/Ie:1,ft=Be?-Ec:0;Be&&hn(ce.current,{transition:`transform ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`,transform:mn(_)?`scale(${Ve}) translate3d(0, ${ft}px, 0)`:`scale(${Ve}) translate3d(${ft}px, 0, 0)`})}return O.createElement(Ez,{defaultOpen:S,onOpenChange:we=>{!d&&!we||(we?T(!0):Ee(!0),I(we))},open:D},O.createElement(Az.Provider,{value:{activeSnapPoint:ee,snapPoints:a,setActiveSnapPoint:De,drawerRef:ce,overlayRef:H,onOpenChange:t,onPress:Pe,onRelease:ut,onDrag:je,dismissible:d,handleOnly:f,isOpen:D,isDragging:M,shouldFade:be,closeDrawer:Ee,onNestedDrag:at,onNestedOpenChange:Ct,onNestedRelease:kt,keyboardIsOpen:se,modal:v,snapPointsOffset:q,direction:_,shouldScaleBackground:i,setBackgroundColorOnScale:l,noBodyStyles:b,container:P,autoFocus:R}},r))}const Bz=O.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:s,shouldFade:a,isOpen:i,modal:l}=Nh(),c=$z(t,r),u=n&&n.length>0;return l?O.createElement(nA,{onMouseUp:s,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":i&&u?"true":"false","data-vaul-snap-points-overlay":i&&a?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});Bz.displayName="Drawer.Overlay";const Uz=O.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},s){const{drawerRef:a,onPress:i,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,modal:f,isOpen:h,direction:g,snapPoints:y,container:m,handleOnly:v,autoFocus:x}=Nh(),[w,b]=O.useState(!1),_=$z(s,a),S=O.useRef(null),E=O.useRef(null),k=O.useRef(!1),j=y&&y.length>0;Mhe();const N=(P,R,F=0)=>{if(k.current)return!0;const z=Math.abs(P.y),D=Math.abs(P.x),I=D>z,B=["bottom","right"].includes(R)?1:-1;if(R==="left"||R==="right"){if(!(P.x*B<0)&&D>=0&&D<=F)return I}else if(!(P.y*B<0)&&z>=0&&z<=F)return!I;return k.current=!0,!0};O.useEffect(()=>{j&&window.requestAnimationFrame(()=>{b(!0)})},[]);function C(P){S.current=null,k.current=!1,l(P)}return O.createElement(sA,{"data-vaul-drawer-direction":g,"data-vaul-drawer":"","data-vaul-delayed-snap-points":w?"true":"false","data-vaul-snap-points":h&&j?"true":"false","data-vaul-custom-container":m?"true":"false",...n,ref:_,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...t}:t,onPointerDown:P=>{v||(n.onPointerDown==null||n.onPointerDown.call(n,P),S.current={x:P.pageX,y:P.pageY},i(P))},onOpenAutoFocus:P=>{r==null||r(P),x||P.preventDefault()},onPointerDownOutside:P=>{if(e==null||e(P),!f||P.defaultPrevented){P.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:P=>{if(!f){P.preventDefault();return}},onPointerMove:P=>{if(E.current=P,v||(n.onPointerMove==null||n.onPointerMove.call(n,P),!S.current))return;const R=P.pageY-S.current.y,F=P.pageX-S.current.x,z=P.pointerType==="touch"?10:2;N({x:F,y:R},g,z)?c(P):(Math.abs(F)>z||Math.abs(R)>z)&&(S.current=null)},onPointerUp:P=>{n.onPointerUp==null||n.onPointerUp.call(n,P),S.current=null,k.current=!1,l(P)},onPointerOut:P=>{n.onPointerOut==null||n.onPointerOut.call(n,P),C(E.current)},onContextMenu:P=>{n.onContextMenu==null||n.onContextMenu.call(n,P),C(E.current)}})});Uz.displayName="Drawer.Content";const Lhe=250,Dhe=120,zz=O.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:s,isDragging:a,snapPoints:i,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:h,onDrag:g}=Nh(),y=O.useRef(null),m=O.useRef(!1);function v(){if(m.current){b();return}window.setTimeout(()=>{x()},Dhe)}function x(){if(a||e||m.current){b();return}if(b(),(!i||i.length===0)&&u){s();return}if(l===i[i.length-1]&&u){s();return}const S=i.findIndex(k=>k===l);if(S===-1)return;const E=i[S+1];c(E)}function w(){y.current=window.setTimeout(()=>{m.current=!0},Lhe)}function b(){window.clearTimeout(y.current),m.current=!1}return O.createElement("div",{onClick:v,onPointerCancel:b,onPointerDown:_=>{d&&h(_),w()},onPointerMove:_=>{d&&g(_)},ref:n,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},O.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});zz.displayName="Drawer.Handle";function Fhe({onDrag:e,onOpenChange:t,...r}){const{onNestedDrag:n,onNestedOpenChange:s,onNestedRelease:a}=Nh();if(!n)throw new Error("Drawer.NestedRoot must be placed in another drawer");return O.createElement(Fz,{nested:!0,onClose:()=>{s(!1)},onDrag:(i,l)=>{n(i,l),e==null||e(i,l)},onOpenChange:i=>{i&&s(i)},onRelease:a,...r})}function Bhe(e){const t=Nh(),{container:r=t.container,...n}=e;return O.createElement(Nz,{container:r,...n})}const eo={Root:Fz,NestedRoot:Fhe,Content:Uz,Overlay:Bz,Trigger:hhe,Portal:Bhe,Handle:zz,Close:Cz,Title:aA,Description:iA},ys=({shouldScaleBackground:e=!0,...t})=>o.jsx(eo.Root,{shouldScaleBackground:e,...t});ys.displayName="Drawer";const Uhe=eo.Portal,wo=eo.Close,qz=p.forwardRef(({className:e,...t},r)=>o.jsx(eo.Overlay,{ref:r,className:ue("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm",e),...t}));qz.displayName=eo.Overlay.displayName;const vs=p.forwardRef(({className:e,children:t,showOverlay:r=!0,...n},s)=>o.jsxs(Uhe,{children:[r&&o.jsx(qz,{}),o.jsx(eo.Content,{ref:s,className:ue("fixed left-2 right-2 bottom-4 z-50 mt-24 flex h-auto flex-col rounded-[36px] border-t border-l border-r bg-background/90 backdrop-blur-md",e),...n,children:t})]}));vs.displayName="DrawerContent";const xs=({className:e,children:t,...r})=>o.jsxs("div",{className:ue("flex items-center justify-between gap-4 px-6 pt-6 pb-4",e),...r,children:[o.jsx("div",{className:"flex-1",children:t}),o.jsx(wo,{asChild:!0,children:o.jsx("button",{className:"rounded-full bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 h-7 w-7 flex items-center justify-center shrink-0 transition-colors p-0","aria-label":"Close",children:o.jsx(yn,{className:"h-3.5 w-3.5"})})})]});xs.displayName="DrawerHeader";const aa=({className:e,...t})=>o.jsx("div",{className:ue("mt-auto flex flex-col gap-3 px-6 pt-4 pb-6",e),...t});aa.displayName="DrawerFooter";const bs=p.forwardRef(({className:e,...t},r)=>o.jsx(eo.Title,{ref:r,className:ue("text-lg font-semibold leading-none tracking-tight",e),...t}));bs.displayName=eo.Title.displayName;const Wz=p.forwardRef(({className:e,...t},r)=>o.jsx(eo.Description,{ref:r,className:ue("text-sm text-muted-foreground",e),...t}));Wz.displayName=eo.Description.displayName;var zhe=p.createContext(void 0);function Ch(e){const t=p.useContext(zhe);return e||t||"ltr"}function dg(e,[t,r]){return Math.min(r,Math.max(t,e))}function qhe(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var lA="ScrollArea",[Vz,WHe]=fa(lA),[Whe,Fa]=Vz(lA),Hz=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[g,y]=p.useState(null),[m,v]=p.useState(null),[x,w]=p.useState(0),[b,_]=p.useState(0),[S,E]=p.useState(!1),[k,j]=p.useState(!1),N=wt(t,P=>c(P)),C=Ch(s);return o.jsx(Whe,{scope:r,type:n,dir:C,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:y,scrollbarXEnabled:S,onScrollbarXEnabledChange:E,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:j,onCornerWidthChange:w,onCornerHeightChange:_,children:o.jsx(nt.div,{dir:C,...i,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});Hz.displayName=lA;var Kz="ScrollAreaViewport",Gz=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:a,...i}=e,l=Fa(Kz,r),c=p.useRef(null),u=wt(t,c,l.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),o.jsx(nt.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:epe({asChild:s,children:n},d=>o.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});Gz.displayName=Kz;var to="ScrollAreaScrollbar",cA=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Fa(to,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return p.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(Vhe,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(Hhe,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(Jz,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(uA,{...n,ref:t}):null});cA.displayName=to;var Vhe=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Fa(to,e.__scopeScrollArea),[a,i]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Ns,{present:r||a,children:o.jsx(Jz,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Hhe=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Fa(to,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Kw(()=>c("SCROLL_END"),100),[l,c]=qhe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const g=u[d];f!==g&&(c("SCROLL"),i()),f=g};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,i]),o.jsx(Ns,{present:r||l!=="hidden",children:o.jsx(uA,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Le(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Le(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Jz=p.forwardRef((e,t)=>{const r=Fa(to,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,i]=p.useState(!1),l=e.orientation==="horizontal",c=Kw(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return Df(r.viewport,c),Df(r.content,c),o.jsx(Ns,{present:n||a,children:o.jsx(uA,{"data-state":a?"visible":"hidden",...s,ref:t})})}),uA=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Fa(to,e.__scopeScrollArea),a=p.useRef(null),i=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=eq(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,g){return Qhe(h,i.current,l,g)}return r==="horizontal"?o.jsx(Khe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,g=NI(h,l,s.dir);a.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?o.jsx(Ghe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,g=NI(h,l);a.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),Khe=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Fa(to,e.__scopeScrollArea),[i,l]=p.useState(),c=p.useRef(null),u=wt(t,c,a.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Xz,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Hw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),rq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Dx(i.paddingLeft),paddingEnd:Dx(i.paddingRight)}})}})}),Ghe=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Fa(to,e.__scopeScrollArea),[i,l]=p.useState(),c=p.useRef(null),u=wt(t,c,a.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Xz,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Hw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),rq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Dx(i.paddingTop),paddingEnd:Dx(i.paddingBottom)}})}})}),[Jhe,Yz]=Vz(to),Xz=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,g=Fa(to,r),[y,m]=p.useState(null),v=wt(t,N=>m(N)),x=p.useRef(null),w=p.useRef(""),b=g.viewport,_=n.content-n.viewport,S=Jt(d),E=Jt(c),k=Kw(f,10);function j(N){if(x.current){const C=N.clientX-x.current.left,P=N.clientY-x.current.top;u({x:C,y:P})}}return p.useEffect(()=>{const N=C=>{const P=C.target;(y==null?void 0:y.contains(P))&&S(C,_)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[b,y,_,S]),p.useEffect(E,[n,E]),Df(y,k),Df(g.content,k),o.jsx(Jhe,{scope:r,scrollbar:y,hasThumb:s,onThumbChange:Jt(a),onThumbPointerUp:Jt(i),onThumbPositionChange:E,onThumbPointerDown:Jt(l),children:o.jsx(nt.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Le(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),j(N))}),onPointerMove:Le(e.onPointerMove,j),onPointerUp:Le(e.onPointerUp,N=>{const C=N.target;C.hasPointerCapture(N.pointerId)&&C.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=w.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),Lx="ScrollAreaThumb",Qz=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Yz(Lx,e.__scopeScrollArea);return o.jsx(Ns,{present:r||s.hasThumb,children:o.jsx(Yhe,{ref:t,...n})})}),Yhe=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=Fa(Lx,r),i=Yz(Lx,r),{onThumbPositionChange:l}=i,c=wt(t,f=>i.onThumbChange(f)),u=p.useRef(),d=Kw(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const g=Zhe(f,l);u.current=g,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),o.jsx(nt.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Le(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),y=f.clientX-g.left,m=f.clientY-g.top;i.onThumbPointerDown({x:y,y:m})}),onPointerUp:Le(e.onPointerUp,i.onThumbPointerUp)})});Qz.displayName=Lx;var dA="ScrollAreaCorner",Zz=p.forwardRef((e,t)=>{const r=Fa(dA,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(Xhe,{...e,ref:t}):null});Zz.displayName=dA;var Xhe=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Fa(dA,r),[a,i]=p.useState(0),[l,c]=p.useState(0),u=!!(a&&l);return Df(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Df(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?o.jsx(nt.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Dx(e){return e?parseInt(e,10):0}function eq(e,t){const r=e/t;return isNaN(r)?0:r}function Hw(e){const t=eq(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Qhe(e,t,r,n="ltr"){const s=Hw(r),a=s/2,i=t||a,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return tq([c,u],f)(e)}function NI(e,t,r="ltr"){const n=Hw(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],u=dg(e,c);return tq([0,i],[0,l])(u)}function tq(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function rq(e,t){return e>0&&e<t}var Zhe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Kw(e,t){const r=Jt(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Df(e,t){const r=Jt(t);tn(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function epe(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=p.Children.only(n);return p.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var nq=Hz,tpe=Gz,rpe=Zz;const UE=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(nq,{ref:n,className:ue("relative overflow-hidden",e),...r,children:[o.jsx(tpe,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(sq,{}),o.jsx(rpe,{})]}));UE.displayName=nq.displayName;const sq=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(cA,{ref:n,orientation:t,className:ue("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(Qz,{className:"relative flex-1 rounded-full bg-border"})}));sq.displayName=cA.displayName;const CI=768;function ha(){const[e,t]=p.useState(window.innerWidth<CI);return p.useEffect(()=>{function r(){t(window.innerWidth<CI)}return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e}const un=[{name:"Afghanistan",flag:"",code:"AF",dial_code:"+93"},{name:"land Islands",flag:"",code:"AX",dial_code:"+358"},{name:"Albania",flag:"",code:"AL",dial_code:"+355"},{name:"Algeria",flag:"",code:"DZ",dial_code:"+213"},{name:"American Samoa",flag:"",code:"AS",dial_code:"+1684"},{name:"Andorra",flag:"",code:"AD",dial_code:"+376"},{name:"Angola",flag:"",code:"AO",dial_code:"+244"},{name:"Anguilla",flag:"",code:"AI",dial_code:"+1264"},{name:"Antarctica",flag:"",code:"AQ",dial_code:"+672"},{name:"Antigua and Barbuda",flag:"",code:"AG",dial_code:"+1268"},{name:"Argentina",flag:"",code:"AR",dial_code:"+54"},{name:"Armenia",flag:"",code:"AM",dial_code:"+374"},{name:"Aruba",flag:"",code:"AW",dial_code:"+297"},{name:"Australia",flag:"",code:"AU",dial_code:"+61"},{name:"Austria",flag:"",code:"AT",dial_code:"+43"},{name:"Azerbaijan",flag:"",code:"AZ",dial_code:"+994"},{name:"Bahamas",flag:"",code:"BS",dial_code:"+1242"},{name:"Bahrain",flag:"",code:"BH",dial_code:"+973"},{name:"Bangladesh",flag:"",code:"BD",dial_code:"+880"},{name:"Barbados",flag:"",code:"BB",dial_code:"+1246"},{name:"Belarus",flag:"",code:"BY",dial_code:"+375"},{name:"Belgium",flag:"",code:"BE",dial_code:"+32"},{name:"Belize",flag:"",code:"BZ",dial_code:"+501"},{name:"Benin",flag:"",code:"BJ",dial_code:"+229"},{name:"Bermuda",flag:"",code:"BM",dial_code:"+1441"},{name:"Bhutan",flag:"",code:"BT",dial_code:"+975"},{name:"Bolivia",flag:"",code:"BO",dial_code:"+591"},{name:"Bosnia and Herzegovina",flag:"",code:"BA",dial_code:"+387"},{name:"Botswana",flag:"",code:"BW",dial_code:"+267"},{name:"Bouvet Island",flag:"",code:"BV",dial_code:"+47"},{name:"Brazil",flag:"",code:"BR",dial_code:"+55"},{name:"British Indian Ocean Territory",flag:"",code:"IO",dial_code:"+246"},{name:"Brunei Darussalam",flag:"",code:"BN",dial_code:"+673"},{name:"Bulgaria",flag:"",code:"BG",dial_code:"+359"},{name:"Burkina Faso",flag:"",code:"BF",dial_code:"+226"},{name:"Burundi",flag:"",code:"BI",dial_code:"+257"},{name:"Cambodia",flag:"",code:"KH",dial_code:"+855"},{name:"Cameroon",flag:"",code:"CM",dial_code:"+237"},{name:"Canada",flag:"",code:"CA",dial_code:"+1"},{name:"Cape Verde",flag:"",code:"CV",dial_code:"+238"},{name:"Cayman Islands",flag:"",code:"KY",dial_code:"+345"},{name:"Central African Republic",flag:"",code:"CF",dial_code:"+236"},{name:"Chad",flag:"",code:"TD",dial_code:"+235"},{name:"Chile",flag:"",code:"CL",dial_code:"+56"},{name:"China",flag:"",code:"CN",dial_code:"+86"},{name:"Christmas Island",flag:"",code:"CX",dial_code:"+61"},{name:"Cocos (Keeling) Islands",flag:"",code:"CC",dial_code:"+61"},{name:"Colombia",flag:"",code:"CO",dial_code:"+57"},{name:"Comoros",flag:"",code:"KM",dial_code:"+269"},{name:"Congo",flag:"",code:"CG",dial_code:"+242"},{name:"Congo, The Democratic Republic of the",flag:"",code:"CD",dial_code:"+243"},{name:"Cook Islands",flag:"",code:"CK",dial_code:"+682"},{name:"Costa Rica",flag:"",code:"CR",dial_code:"+506"},{name:"Cote d'Ivoire",flag:"",code:"CI",dial_code:"+225"},{name:"Croatia",flag:"",code:"HR",dial_code:"+385"},{name:"Cuba",flag:"",code:"CU",dial_code:"+53"},{name:"Cyprus",flag:"",code:"CY",dial_code:"+357"},{name:"Czech Republic",flag:"",code:"CZ",dial_code:"+420"},{name:"Denmark",flag:"",code:"DK",dial_code:"+45"},{name:"Djibouti",flag:"",code:"DJ",dial_code:"+253"},{name:"Dominica",flag:"",code:"DM",dial_code:"+1767"},{name:"Dominican Republic",flag:"",code:"DO",dial_code:"+1849"},{name:"Ecuador",flag:"",code:"EC",dial_code:"+593"},{name:"Egypt",flag:"",code:"EG",dial_code:"+20"},{name:"El Salvador",flag:"",code:"SV",dial_code:"+503"},{name:"Equatorial Guinea",flag:"",code:"GQ",dial_code:"+240"},{name:"Eritrea",flag:"",code:"ER",dial_code:"+291"},{name:"Estonia",flag:"",code:"EE",dial_code:"+372"},{name:"Ethiopia",flag:"",code:"ET",dial_code:"+251"},{name:"Falkland Islands (Malvinas)",flag:"",code:"FK",dial_code:"+500"},{name:"Faroe Islands",flag:"",code:"FO",dial_code:"+298"},{name:"Fiji",flag:"",code:"FJ",dial_code:"+679"},{name:"Finland",flag:"",code:"FI",dial_code:"+358"},{name:"France",flag:"",code:"FR",dial_code:"+33"},{name:"French Guiana",flag:"",code:"GF",dial_code:"+594"},{name:"French Polynesia",flag:"",code:"PF",dial_code:"+689"},{name:"French Southern Territories",flag:"",code:"TF",dial_code:"+262"},{name:"Gabon",flag:"",code:"GA",dial_code:"+241"},{name:"Gambia",flag:"",code:"GM",dial_code:"+220"},{name:"Georgia",flag:"",code:"GE",dial_code:"+995"},{name:"Germany",flag:"",code:"DE",dial_code:"+49"},{name:"Ghana",flag:"",code:"GH",dial_code:"+233"},{name:"Gibraltar",flag:"",code:"GI",dial_code:"+350"},{name:"Greece",flag:"",code:"GR",dial_code:"+30"},{name:"Greenland",flag:"",code:"GL",dial_code:"+299"},{name:"Grenada",flag:"",code:"GD",dial_code:"+1473"},{name:"Guadeloupe",flag:"",code:"GP",dial_code:"+590"},{name:"Guam",flag:"",code:"GU",dial_code:"+1671"},{name:"Guatemala",flag:"",code:"GT",dial_code:"+502"},{name:"Guernsey",flag:"",code:"GG",dial_code:"+44"},{name:"Guinea",flag:"",code:"GN",dial_code:"+224"},{name:"Guinea-Bissau",flag:"",code:"GW",dial_code:"+245"},{name:"Guyana",flag:"",code:"GY",dial_code:"+592"},{name:"Haiti",flag:"",code:"HT",dial_code:"+509"},{name:"Heard Island and Mcdonald Islands",flag:"",code:"HM",dial_code:"+672"},{name:"Holy See (Vatican City State)",flag:"",code:"VA",dial_code:"+379"},{name:"Honduras",flag:"",code:"HN",dial_code:"+504"},{name:"Hong Kong",flag:"",code:"HK",dial_code:"+852"},{name:"Hungary",flag:"",code:"HU",dial_code:"+36"},{name:"Iceland",flag:"",code:"IS",dial_code:"+354"},{name:"India",flag:"",code:"IN",dial_code:"+91"},{name:"Indonesia",flag:"",code:"ID",dial_code:"+62"},{name:"Iran, Islamic Republic of",flag:"",code:"IR",dial_code:"+98"},{name:"Iraq",flag:"",code:"IQ",dial_code:"+964"},{name:"Ireland",flag:"",code:"IE",dial_code:"+353"},{name:"Isle of Man",flag:"",code:"IM",dial_code:"+44"},{name:"Israel",flag:"",code:"IL",dial_code:"+972"},{name:"Italy",flag:"",code:"IT",dial_code:"+39"},{name:"Jamaica",flag:"",code:"JM",dial_code:"+1876"},{name:"Japan",flag:"",code:"JP",dial_code:"+81"},{name:"Jersey",flag:"",code:"JE",dial_code:"+44"},{name:"Jordan",flag:"",code:"JO",dial_code:"+962"},{name:"Kazakhstan",flag:"",code:"KZ",dial_code:"+7"},{name:"Kenya",flag:"",code:"KE",dial_code:"+254"},{name:"Kiribati",flag:"",code:"KI",dial_code:"+686"},{name:"Korea, Democratic People's Republic of",flag:"",code:"KP",dial_code:"+850"},{name:"Korea, Republic of",flag:"",code:"KR",dial_code:"+82"},{name:"Kuwait",flag:"",code:"KW",dial_code:"+965"},{name:"Kyrgyzstan",flag:"",code:"KG",dial_code:"+996"},{name:"Lao People's Democratic Republic",flag:"",code:"LA",dial_code:"+856"},{name:"Latvia",flag:"",code:"LV",dial_code:"+371"},{name:"Lebanon",flag:"",code:"LB",dial_code:"+961"},{name:"Lesotho",flag:"",code:"LS",dial_code:"+266"},{name:"Liberia",flag:"",code:"LR",dial_code:"+231"},{name:"Libyan Arab Jamahiriya",flag:"",code:"LY",dial_code:"+218"},{name:"Liechtenstein",flag:"",code:"LI",dial_code:"+423"},{name:"Lithuania",flag:"",code:"LT",dial_code:"+370"},{name:"Luxembourg",flag:"",code:"LU",dial_code:"+352"},{name:"Macao",flag:"",code:"MO",dial_code:"+853"},{name:"Macedonia, The Former Yugoslav Republic of",flag:"",code:"MK",dial_code:"+389"},{name:"Madagascar",flag:"",code:"MG",dial_code:"+261"},{name:"Malawi",flag:"",code:"MW",dial_code:"+265"},{name:"Malaysia",flag:"",code:"MY",dial_code:"+60"},{name:"Maldives",flag:"",code:"MV",dial_code:"+960"},{name:"Mali",flag:"",code:"ML",dial_code:"+223"},{name:"Malta",flag:"",code:"MT",dial_code:"+356"},{name:"Marshall Islands",flag:"",code:"MH",dial_code:"+692"},{name:"Martinique",flag:"",code:"MQ",dial_code:"+596"},{name:"Mauritania",flag:"",code:"MR",dial_code:"+222"},{name:"Mauritius",flag:"",code:"MU",dial_code:"+230"},{name:"Mayotte",flag:"",code:"YT",dial_code:"+262"},{name:"Mexico",flag:"",code:"MX",dial_code:"+52"},{name:"Micronesia, Federated States of",flag:"",code:"FM",dial_code:"+691"},{name:"Moldova, Republic of",flag:"",code:"MD",dial_code:"+373"},{name:"Monaco",flag:"",code:"MC",dial_code:"+377"},{name:"Mongolia",flag:"",code:"MN",dial_code:"+976"},{name:"Montserrat",flag:"",code:"MS",dial_code:"+1664"},{name:"Morocco",flag:"",code:"MA",dial_code:"+212"},{name:"Mozambique",flag:"",code:"MZ",dial_code:"+258"},{name:"Myanmar",flag:"",code:"MM",dial_code:"+95"},{name:"Namibia",flag:"",code:"NA",dial_code:"+264"},{name:"Nauru",flag:"",code:"NR",dial_code:"+674"},{name:"Nepal",flag:"",code:"NP",dial_code:"+977"},{name:"Netherlands",flag:"",code:"NL",dial_code:"+31"},{name:"Netherlands Antilles",flag:"",code:"AN",dial_code:"+599"},{name:"New Caledonia",flag:"",code:"NC",dial_code:"+687"},{name:"New Zealand",flag:"",code:"NZ",dial_code:"+64"},{name:"Nicaragua",flag:"",code:"NI",dial_code:"+505"},{name:"Niger",flag:"",code:"NE",dial_code:"+227"},{name:"Nigeria",flag:"",code:"NG",dial_code:"+234"},{name:"Niue",flag:"",code:"NU",dial_code:"+683"},{name:"Norfolk Island",flag:"",code:"NF",dial_code:"+672"},{name:"Northern Mariana Islands",flag:"",code:"MP",dial_code:"+1670"},{name:"Norway",flag:"",code:"NO",dial_code:"+47"},{name:"Oman",flag:"",code:"OM",dial_code:"+968"},{name:"Pakistan",flag:"",code:"PK",dial_code:"+92"},{name:"Palau",flag:"",code:"PW",dial_code:"+680"},{name:"Palestinian Territory, Occupied",flag:"",code:"PS",dial_code:"+970"},{name:"Panama",flag:"",code:"PA",dial_code:"+507"},{name:"Papua New Guinea",flag:"",code:"PG",dial_code:"+675"},{name:"Paraguay",flag:"",code:"PY",dial_code:"+595"},{name:"Peru",flag:"",code:"PE",dial_code:"+51"},{name:"Philippines",flag:"",code:"PH",dial_code:"+63"},{name:"Pitcairn",flag:"",code:"PN",dial_code:"+870"},{name:"Poland",flag:"",code:"PL",dial_code:"+48"},{name:"Portugal",flag:"",code:"PT",dial_code:"+351"},{name:"Puerto Rico",flag:"",code:"PR",dial_code:"+1939"},{name:"Qatar",flag:"",code:"QA",dial_code:"+974"},{name:"Reunion",flag:"",code:"RE",dial_code:"+262"},{name:"Romania",flag:"",code:"RO",dial_code:"+40"},{name:"Russia",flag:"",code:"RU",dial_code:"+7"},{name:"Rwanda",flag:"",code:"RW",dial_code:"+250"},{name:"Saint Helena",flag:"",code:"SH",dial_code:"+290"},{name:"Saint Kitts and Nevis",flag:"",code:"KN",dial_code:"+1869"},{name:"Saint Lucia",flag:"",code:"LC",dial_code:"+1758"},{name:"Saint Pierre and Miquelon",flag:"",code:"PM",dial_code:"+508"},{name:"Saint Vincent and the Grenadines",flag:"",code:"VC",dial_code:"+1784"},{name:"Samoa",flag:"",code:"WS",dial_code:"+685"},{name:"San Marino",flag:"",code:"SM",dial_code:"+378"},{name:"Sao Tome and Principe",flag:"",code:"ST",dial_code:"+239"},{name:"Saudi Arabia",flag:"",code:"SA",dial_code:"+966"},{name:"Senegal",flag:"",code:"SN",dial_code:"+221"},{name:"Serbia and Montenegro",flag:"",code:"CS",dial_code:"+381"},{name:"Seychelles",flag:"",code:"SC",dial_code:"+248"},{name:"Sierra Leone",flag:"",code:"SL",dial_code:"+232"},{name:"Singapore",flag:"",code:"SG",dial_code:"+65"},{name:"Slovakia",flag:"",code:"SK",dial_code:"+421"},{name:"Slovenia",flag:"",code:"SI",dial_code:"+386"},{name:"Solomon Islands",flag:"",code:"SB",dial_code:"+677"},{name:"Somalia",flag:"",code:"SO",dial_code:"+252"},{name:"South Africa",flag:"",code:"ZA",dial_code:"+27"},{name:"South Georgia and the South Sandwich Islands",flag:"",code:"GS",dial_code:"+500"},{name:"Spain",flag:"",code:"ES",dial_code:"+34"},{name:"Sri Lanka",flag:"",code:"LK",dial_code:"+94"},{name:"Sudan",flag:"",code:"SD",dial_code:"+249"},{name:"Suriname",flag:"",code:"SR",dial_code:"+597"},{name:"Svalbard and Jan Mayen",flag:"",code:"SJ",dial_code:"+47"},{name:"Swaziland",flag:"",code:"SZ",dial_code:"+268"},{name:"Sweden",flag:"",code:"SE",dial_code:"+46"},{name:"Switzerland",flag:"",code:"CH",dial_code:"+41"},{name:"Syrian Arab Republic",flag:"",code:"SY",dial_code:"+963"},{name:"Taiwan, Province of China",flag:"",code:"TW",dial_code:"+886"},{name:"Tajikistan",flag:"",code:"TJ",dial_code:"+992"},{name:"Tanzania, United Republic of",flag:"",code:"TZ",dial_code:"+255"},{name:"Thailand",flag:"",code:"TH",dial_code:"+66"},{name:"Timor-Leste",flag:"",code:"TL",dial_code:"+670"},{name:"Togo",flag:"",code:"TG",dial_code:"+228"},{name:"Tokelau",flag:"",code:"TK",dial_code:"+690"},{name:"Tonga",flag:"",code:"TO",dial_code:"+676"},{name:"Trinidad and Tobago",flag:"",code:"TT",dial_code:"+1868"},{name:"Tunisia",flag:"",code:"TN",dial_code:"+216"},{name:"Turkey",flag:"",code:"TR",dial_code:"+90"},{name:"Turkmenistan",flag:"",code:"TM",dial_code:"+993"},{name:"Turks and Caicos Islands",flag:"",code:"TC",dial_code:"+1649"},{name:"Tuvalu",flag:"",code:"TV",dial_code:"+688"},{name:"Uganda",flag:"",code:"UG",dial_code:"+256"},{name:"Ukraine",flag:"",code:"UA",dial_code:"+380"},{name:"United Arab Emirates",flag:"",code:"AE",dial_code:"+971"},{name:"United Kingdom",flag:"",code:"GB",dial_code:"+44"},{name:"United States",flag:"",code:"US",dial_code:"+1"},{name:"United States Minor Outlying Islands",flag:"",code:"UM",dial_code:"+1"},{name:"Uruguay",flag:"",code:"UY",dial_code:"+598"},{name:"Uzbekistan",flag:"",code:"UZ",dial_code:"+998"},{name:"Vanuatu",flag:"",code:"VU",dial_code:"+678"},{name:"Venezuela",flag:"",code:"VE",dial_code:"+58"},{name:"Viet Nam",flag:"",code:"VN",dial_code:"+84"},{name:"Virgin Islands, British",flag:"",code:"VG",dial_code:"+1284"},{name:"Virgin Islands, U.S.",flag:"",code:"VI",dial_code:"+1340"},{name:"Wallis and Futuna",flag:"",code:"WF",dial_code:"+681"},{name:"Western Sahara",flag:"",code:"EH",dial_code:"+212"},{name:"Yemen",flag:"",code:"YE",dial_code:"+967"},{name:"Zambia",flag:"",code:"ZM",dial_code:"+260"},{name:"Zimbabwe",flag:"",code:"ZW",dial_code:"+263"}],PI=({countries:e,onSelect:t,selectedCountry:r})=>o.jsx("div",{className:"space-y-1",children:e.map(n=>o.jsxs("button",{onClick:()=>t(n),className:`w-full text-left px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors flex items-center gap-3 ${(r==null?void 0:r.code)===n.code?"bg-primary/10 text-primary":""}`,children:[o.jsx("span",{className:"text-lg",children:n.flag}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:n.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:n.dial_code})]})]},n.code))}),npe=({isOpen:e,onClose:t,onSelect:r,selectedCountry:n})=>{const s=ha(),[a,i]=p.useState(""),l=p.useMemo(()=>{if(!a)return un;const d=a.toLowerCase();return un.filter(f=>f.name.toLowerCase().includes(d)||f.dial_code.includes(a)||f.code.toLowerCase().includes(d))},[a]),c=d=>{r(d),t()},u=()=>{i("")};return s?o.jsx(ys,{open:e,onOpenChange:t,children:o.jsxs(vs,{className:"h-[85vh]",children:[o.jsx(xs,{children:o.jsx(bs,{children:"Select Country"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(Lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(pt,{placeholder:"Search countries or dial codes...",value:a,onChange:d=>i(d.target.value),className:"pl-10 pr-10 w-full"}),a&&o.jsx(ne,{variant:"ghost",size:"sm",onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:o.jsx(yn,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(UE,{className:"h-full px-4",children:o.jsx(PI,{countries:l,onSelect:c,selectedCountry:n})})}),o.jsx("div",{className:"p-4 border-t",children:o.jsx(wo,{asChild:!0,children:o.jsx(ne,{variant:"outline",className:"w-full",children:"Cancel"})})})]})}):o.jsx(ts,{open:e,onOpenChange:t,children:o.jsxs(Fn,{className:"max-w-md max-h-[80vh]",children:[o.jsx(Bn,{children:o.jsx(Un,{children:"Select Country"})}),o.jsx("div",{className:"mt-4 pb-4",children:o.jsxs("div",{className:"relative w-full",children:[o.jsx(Lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(pt,{placeholder:"Search countries or dial codes...",value:a,onChange:d=>i(d.target.value),className:"pl-10 pr-10 w-full"}),a&&o.jsx(ne,{variant:"ghost",size:"sm",onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:o.jsx(yn,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"overflow-hidden",children:o.jsx(UE,{className:"h-[400px]",children:o.jsx(PI,{countries:l,onSelect:c,selectedCountry:n})})})]})})},aq=({value:e,onChange:t,placeholder:r="Select country",className:n=""})=>{const[s,a]=p.useState(!1),i=un.find(c=>c.code==="GE"),l=e||i;return o.jsxs(o.Fragment,{children:[o.jsxs(ne,{variant:"outline",role:"combobox","aria-expanded":s,className:`justify-between shrink-0 ${n}`,onClick:()=>a(!0),children:[l?o.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[o.jsx("span",{className:"text-lg shrink-0",children:l.flag}),o.jsx("span",{className:"text-muted-foreground whitespace-nowrap",children:l.dial_code})]}):r,o.jsx(Que,{className:"ml-1.5 h-4 w-4 shrink-0 opacity-50 text-muted-foreground"})]}),o.jsx(npe,{isOpen:s,onClose:()=>a(!1),onSelect:t,selectedCountry:l})]})},spe=()=>{const e=dr(),[t,r]=p.useState(!1),[n,s]=p.useState(un.find(N=>N.code==="GE")),[a,i]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(""),[g,y]=p.useState(""),[m,v]=p.useState(!1),[x,w]=p.useState(!1),[b,_]=p.useState(!1),[S,E]=p.useState(!1),k=p.useCallback(N=>new Promise((C,P)=>{const R=new Image;R.onload=()=>C(),R.onerror=()=>P(new Error(`Failed to load image: ${N}`)),R.src=N}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([k("/lovable-uploads/Breneo-logo.png"),k("/lovable-uploads/Breneo-logo-dark.png"),k("/lovable-uploads/way.png")])}catch(C){console.warn("Some images failed to preload:",C),E(!0)}})()},[k]);const j=async N=>{N.preventDefault(),v(!0);const C=`${n==null?void 0:n.dial_code}${f}`;try{await Ae.post(gt.AUTH.REGISTER,{first_name:a,last_name:l,email:u,phone_number:C,password:g}),sessionStorage.setItem("tempEmail",u),sessionStorage.setItem("tempPassword",g),e("/email-verification"),le.success("Registration successful! Verify your email.")}catch(P){let R="Registration failed. Please try again.";Ht.isAxiosError(P)&&P.response&&(R=P.response.data.detail||P.response.data.message||P.response.data.error||R),le.error(R)}finally{v(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!x&&!S&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(cn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-6 lg:h-5 transition-opacity duration-300 ${x?"opacity-100":"opacity-0"}`,onLoad:()=>w(!0),onError:()=>{E(!0),w(!0)}}),S&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!x&&!S&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(cn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-8 transition-opacity duration-300 ${x?"opacity-100":"opacity-0"}`,onLoad:()=>w(!0),onError:()=>{E(!0),w(!0)}}),S&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Create Account"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Sign up for your Breneo account"}),o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{className:"mt-1 flex gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(ze,{htmlFor:"firstName",children:"First Name"}),o.jsx(pt,{id:"firstName",placeholder:"John",className:"mt-1 h-[3.2rem]",value:a,onChange:N=>i(N.target.value),required:!0})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(ze,{htmlFor:"lastName",children:"Last Name"}),o.jsx(pt,{id:"lastName",placeholder:"Doe",className:"mt-1 h-[3.2rem]",value:l,onChange:N=>c(N.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"email",children:"Email Address"}),o.jsx(pt,{id:"email",type:"email",placeholder:"Enter your email",className:"mt-1 h-[3.2rem]",value:u,onChange:N=>d(N.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"phone-input-container mt-1 flex items-center rounded-md border border-input focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[o.jsx(aq,{value:n,onChange:s,className:"max-w-fit px-3 h-[3.2rem] border-0 bg-transparent hover:bg-transparent rounded-r-none"}),o.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-border"}),o.jsx(pt,{id:"phone",type:"tel",placeholder:"Phone number",className:"flex-1 h-[3.2rem] border-0 focus-visible:ring-0 focus-visible:ring-offset-0",value:f,onChange:N=>h(N.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(pt,{id:"password",type:t?"text":"password",placeholder:"Create a password",className:"pr-10 h-[3.2rem]",value:g,onChange:N=>y(N.target.value),required:!0}),o.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!t),children:t?o.jsx(lg,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):o.jsx(Tu,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]})]}),o.jsx(ne,{type:"submit",className:"w-full h-14",disabled:m,children:m?"Signing Up...":"Sign Up"})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Already have an account?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!b&&!S&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(cn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${b?"opacity-100":"opacity-0"}`,style:{backgroundImage:b?"url('/lovable-uploads/cover_2.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/cover_2.png",alt:"",className:"hidden",onLoad:()=>_(!0),onError:()=>{E(!0),_(!0)}}),S&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(cn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Way"})]})})]})})]})]})},ES="https://breneo.onrender.com",ape=()=>{const e=dr(),[t,r]=p.useState(1),[n,s]=p.useState(""),[a,i]=p.useState(["","","","","",""]),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(!1),[g,y]=p.useState(!1),[m,v]=p.useState(!1),x=p.useRef([]),[w,b]=p.useState(!1),[_,S]=p.useState(!1),[E,k]=p.useState(!1),j=p.useCallback(z=>new Promise((D,I)=>{const B=new Image;B.onload=()=>D(),B.onerror=()=>I(new Error(`Failed to load image: ${z}`)),B.src=z}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([j("/lovable-uploads/Breneo-logo.png"),j("/lovable-uploads/Breneo-logo-dark.png"),j("/lovable-uploads/future.png")])}catch(D){console.warn("Some images failed to preload:",D),k(!0)}})()},[j]),p.useEffect(()=>{document.title="Reset Password | Breneo"},[]);const N=async z=>{var D,I;z.preventDefault(),v(!0);try{const B=await Ht.post(`${ES}/password-reset/request/`,{email:n});le.success(B.data.message||"Code sent to your email!"),r(2)}catch(B){le.error(((I=(D=B.response)==null?void 0:D.data)==null?void 0:I.error)||"Error sending code")}finally{v(!1)}},C=async z=>{var I,B;z.preventDefault();const D=a.join("");if(D.length!==6){le.error("Please enter a 6-digit code.");return}v(!0);try{const T=await Ht.post(`${ES}/password-reset/verify/`,{email:n,code:D});le.success(T.data.message||"Code verified!"),r(3)}catch(T){le.error(((B=(I=T.response)==null?void 0:I.data)==null?void 0:B.error)||"Invalid code")}finally{v(!1)}},P=(z,D)=>{var B;if(D&&!/^\d$/.test(D))return;const I=[...a];I[z]=D,i(I),D&&z<5&&((B=x.current[z+1])==null||B.focus())},R=(z,D)=>{var I;D.key==="Backspace"&&!a[z]&&z>0&&((I=x.current[z-1])==null||I.focus())},F=async z=>{var D,I;if(z.preventDefault(),l!==u){le.error("Passwords do not match");return}v(!0);try{const B=a.join(""),T=await Ht.post(`${ES}/password-reset/set-new/`,{email:n,code:B,new_password:l,confirm_password:u});le.success(T.data.message||"Password reset successfully!"),e("/auth/login")}catch(B){le.error(((I=(D=B.response)==null?void 0:D.data)==null?void 0:I.error)||"Error setting new password")}finally{v(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!w&&!E&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(cn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-6 lg:h-5 transition-opacity duration-300 ${w?"opacity-100":"opacity-0"}`,onLoad:()=>b(!0),onError:()=>{k(!0),b(!0)}}),E&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!w&&!E&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(cn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-8 transition-opacity duration-300 ${w?"opacity-100":"opacity-0"}`,onLoad:()=>b(!0),onError:()=>{k(!0),b(!0)}}),E&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Reset Password"}),t===1&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-muted-foreground mb-8",children:"Enter your email to receive a verification code."}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"email",children:"Email Address"}),o.jsx(pt,{id:"email",type:"email",placeholder:"Enter your email",className:"mt-1 h-[3.2rem]",value:n,onChange:z=>s(z.target.value),required:!0,disabled:m})]}),o.jsx(ne,{type:"submit",className:"w-full h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:m,children:m?"Sending Code...":"Send Code"})]})]}),t===2&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-muted-foreground mb-8",children:["A code was sent to ",n,". Please enter it below."]}),o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[o.jsx("div",{className:"w-full sm:w-[23.5rem]",children:o.jsx("div",{className:"flex gap-2 sm:gap-2",children:a.map((z,D)=>o.jsx(pt,{ref:I=>x.current[D]=I,type:"text",inputMode:"numeric",className:"flex-1 sm:flex-none h-[3.2rem] w-0 sm:w-14 text-center text-xl sm:text-2xl font-semibold",value:z,onChange:I=>P(D,I.target.value),onKeyDown:I=>R(D,I),maxLength:1,required:!0,disabled:m,autoFocus:D===0},D))})}),o.jsx(ne,{type:"submit",className:"w-full sm:w-[23.5rem] h-12 sm:h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:m,children:m?"Verifying...":"Verify Code"})]})]}),t===3&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-muted-foreground mb-8",children:"Enter your new password."}),o.jsxs("form",{onSubmit:F,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"newPassword",children:"New Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(pt,{id:"newPassword",type:f?"text":"password",placeholder:"Enter new password",className:"pr-10 h-[3.2rem]",value:l,onChange:z=>c(z.target.value),required:!0,disabled:m}),o.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>h(!f),disabled:m,children:f?o.jsx(lg,{className:"h-4 w-4 text-gray-500"}):o.jsx(Tu,{className:"h-4 w-4 text-gray-500"})})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"confirmPassword",children:"Confirm New Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(pt,{id:"confirmPassword",type:g?"text":"password",placeholder:"Confirm new password",className:"pr-10 h-[3.2rem]",value:u,onChange:z=>d(z.target.value),required:!0,disabled:m}),o.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>y(!g),disabled:m,children:g?o.jsx(lg,{className:"h-4 w-4 text-gray-500"}):o.jsx(Tu,{className:"h-4 w-4 text-gray-500"})})]})]}),o.jsx(ne,{type:"submit",className:"w-full h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:m,children:m?"Setting...":"Set New Password"})]})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Remembered your password?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!_&&!E&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(cn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${_?"opacity-100":"opacity-0"}`,style:{backgroundImage:_?"url('/lovable-uploads/future.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>S(!0),onError:()=>{k(!0),S(!0)}}),E&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(cn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})},ipe=()=>{var E,k;const e=dr(),t=Hs(),{login:r}=_r(),[n,s]=p.useState(["","","","","",""]),[a,i]=p.useState(!1),l=p.useRef([]),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,g]=p.useState(!1),y=((E=t.state)==null?void 0:E.email)||sessionStorage.getItem("tempEmail")||sessionStorage.getItem("tempAcademyEmail"),m=sessionStorage.getItem("tempPassword"),v=((k=t.state)==null?void 0:k.isAcademy)||!1,x=p.useCallback(j=>new Promise((N,C)=>{const P=new Image;P.onload=()=>N(),P.onerror=()=>C(new Error(`Failed to load image: ${j}`)),P.src=j}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([x("/lovable-uploads/Breneo-logo.png"),x("/lovable-uploads/Breneo-logo-dark.png"),x("/lovable-uploads/future.png")])}catch(N){console.warn("Some images failed to preload:",N),g(!0)}})()},[x]),p.useEffect(()=>{document.title="Email Verification | Breneo"},[]);const w=async()=>{var j,N,C,P,R;if(!y||!m){le.error("Session expired. Please log in manually."),e("/auth/login");return}try{console.log("Attempting auto-login with:",{email:y,passwordLength:m.length}),await r(y,m),le.success("Email verified and logged in!"),sessionStorage.removeItem("tempEmail"),sessionStorage.removeItem("tempPassword")}catch(F){console.error("Auto-login failed:",F),Ht.isAxiosError(F)&&console.error("Login error details:",{status:(j=F.response)==null?void 0:j.status,statusText:(N=F.response)==null?void 0:N.statusText,data:(C=F.response)==null?void 0:C.data,url:(P=F.config)==null?void 0:P.url,method:(R=F.config)==null?void 0:R.method}),le.error("Verification successful, but auto-login failed. Please log in manually."),e("/auth/login")}},b=(j,N)=>{var P;if(N&&!/^\d$/.test(N))return;const C=[...n];C[j]=N,s(C),N&&j<5&&((P=l.current[j+1])==null||P.focus())},_=(j,N)=>{var C;N.key==="Backspace"&&!n[j]&&j>0&&((C=l.current[j-1])==null||C.focus())},S=async j=>{if(j.preventDefault(),!y){le.error("Email missing. Please register again."),e("/auth/signup");return}const N=n.join("");if(N.length!==6){le.error("Please enter a 6-digit code.");return}i(!0);try{const C=v?gt.AUTH.VERIFY_ACADEMY_EMAIL:gt.AUTH.VERIFY_CODE;await Ae.post(C,{email:y,code:N}),v?(le.success("Email verified successfully!"),sessionStorage.removeItem("tempAcademyEmail"),e("/auth/login")):m?await w():(le.success("Email verified successfully!"),sessionStorage.removeItem("tempEmail"),e("/auth/login"))}catch(C){let P="Verification failed. Please try again.",R=!1;if(Ht.isAxiosError(C)&&C.response){const F=C.response.data,z=F.detail||F.message||F.error||Array.isArray(F.email)&&F.email[0]||"";P=typeof z=="string"?z:P,C.response.status===400&&P.toLowerCase().includes("user with this email already exists")&&(R=!0)}R&&!v&&m?(le.info("Verification processed, attempting login..."),await w()):le.error(P)}finally{i(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!c&&!h&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(cn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-6 lg:h-5 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>{g(!0),u(!0)}}),h&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!c&&!h&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(cn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-8 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>{g(!0),u(!0)}}),h&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Verify Your Email"}),o.jsxs("p",{className:"text-muted-foreground mb-8",children:["Enter the 6-digit code sent to your email"," ",v&&"(academy registration)"," (",y||"your-email",")"]}),o.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o.jsx("div",{className:"w-full sm:w-[23.5rem]",children:o.jsx("div",{className:"flex gap-2 sm:gap-2",children:n.map((j,N)=>o.jsx(pt,{ref:C=>l.current[N]=C,type:"text",inputMode:"numeric",className:"flex-1 sm:flex-none h-12 sm:h-14 w-0 sm:w-14 text-center text-xl sm:text-2xl font-semibold",value:j,onChange:C=>b(N,C.target.value),onKeyDown:C=>_(N,C),maxLength:1,required:!0,disabled:a,autoFocus:N===0},N))})}),o.jsx(ne,{type:"submit",className:"w-full sm:w-[23.5rem] h-12 sm:h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:a,children:a?"Verifying...":"Verify Email"})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Didn't receive a code?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Back to Login"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!d&&!h&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(cn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${d?"opacity-100":"opacity-0"}`,style:{backgroundImage:d?"url('/lovable-uploads/future.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),h&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(cn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})},ke=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ue("rounded-lg border-0 bg-card text-card-foreground",e),...t}));ke.displayName="Card";const vt=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ue("flex flex-col space-y-1.5 p-6",e),...t}));vt.displayName="CardHeader";const Pt=p.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:ue("text-2xl font-semibold leading-none tracking-tight",e),...t}));Pt.displayName="CardTitle";const Xr=p.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:ue("text-sm text-muted-foreground",e),...t}));Xr.displayName="CardDescription";const Ce=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ue("p-6 pt-0",e),...t}));Ce.displayName="CardContent";const ope=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ue("flex items-center p-6 pt-0",e),...t}));ope.displayName="CardFooter";const lpe=()=>(p.useEffect(()=>{const e="Email Confirmed | Breneo",t="Your email has been confirmed. You can now log in to your Breneo account.";document.title=e;let r=document.querySelector('meta[name="description"]');r||(r=document.createElement("meta"),r.setAttribute("name","description"),document.head.appendChild(r)),r.setAttribute("content",t);let n=document.querySelector('link[rel="canonical"]');n||(n=document.createElement("link"),n.setAttribute("rel","canonical"),document.head.appendChild(n)),n.setAttribute("href",`${window.location.origin}/email-confirmed`)},[]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("main",{className:"w-full max-w-md px-4",children:[o.jsx("h1",{className:"sr-only",children:"Email confirmation successful"}),o.jsxs(ke,{className:"shadow-md",children:[o.jsxs(vt,{className:"text-center pt-8",children:[o.jsx("div",{className:"mx-auto mb-4 rounded-full bg-primary/10 p-3 text-primary",children:o.jsx(du,{className:"h-8 w-8","aria-hidden":"true"})}),o.jsx("p",{className:"text-xl font-semibold text-foreground",children:"Your email is confirmed"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Thank you! Your account is now verified."})]}),o.jsx(Ce,{className:"pb-8 pt-2",children:o.jsx("div",{className:"mt-6",children:o.jsx(ne,{asChild:!0,className:"w-full",children:o.jsx(Rr,{to:"/auth/login","aria-label":"Go to login page",children:"Go to Login"})})})})]})]})}));function ki({to:e,...t}){const{language:r}=vi(),n=typeof e=="string"?e:e.pathname||"",s=n.startsWith("/auth")||n==="/auth"?e:wa(n,r);return o.jsx(Rr,{to:s,...t})}const cpe=Ow("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Dt({className:e,variant:t,...r}){return o.jsx("div",{className:ue(cpe({variant:t}),e),...r})}function fA({collapsed:e,toggleSidebar:t}){const r=Hs(),{loading:n,user:s}=_r(),{theme:a,setTheme:i}=qo(),{language:l,setLanguage:c}=vi(),u=Zi(),[d,f]=O.useState(!1),h=ag(r.pathname),g=l==="ka"?"GEO":"EN",y=r.pathname,m=(s==null?void 0:s.user_type)==="academy"||typeof window<"u"&&localStorage.getItem("userRole")==="academy";if(O.useEffect(()=>{f(!0)},[]),n)return null;const v=()=>{if(!s)return"Member";const{first_name:k,last_name:j,email:N}=s;if(k&&j){const C=P=>P?P.charAt(0).toUpperCase()+P.slice(1).toLowerCase():"";return`${C(k)} ${C(j)}`}return N??"Member"},x=()=>s!=null&&s.first_name&&(s!=null&&s.last_name)?`${s.first_name.charAt(0)}${s.last_name.charAt(0)}`.toUpperCase():s!=null&&s.email?s.email.charAt(0).toUpperCase():"U",w=m?[{icon:rI,label:u.nav.home,href:"/academy/home"},{icon:nI,label:u.nav.courses,href:"/academy/courses"}]:[{icon:rI,label:u.nav.home,href:"/home"},{icon:ln,label:u.nav.jobs,href:"/jobs"},{icon:nI,label:u.nav.courses,href:"/courses"},{icon:q9,label:u.nav.webinars,href:"/webinars"}],b=m?"/academy/profile":"/profile",_=m?"/academy/settings":"/settings",S=m?"/academy/home":"/home",E=[...w,{icon:L9,label:u.nav.profile,href:b}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-50 bg-[#F3F3F4]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ki,{to:S,className:"flex items-center ml-1",children:o.jsx(_n,{className:"h-6 md:h-5"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ne,{variant:"ghost",onClick:()=>c(l==="en"?"ka":"en"),className:`relative h-10 px-3 rounded-full !text-gray-500 hover:!text-gray-700 dark:!text-gray-400 dark:hover:!text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:!bg-black/[0.08] dark:hover:!bg-white/[0.05] transition-colors
                         text-sm font-medium flex items-center gap-2`,children:[o.jsx(sc,{className:"h-4 w-4"}),o.jsx("span",{children:g})]}),o.jsx("button",{onClick:()=>i(a==="dark"?"light":"dark"),className:`h-10 w-10 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:bg-black/[0.08] dark:hover:bg-white/[0.05] transition-colors rounded-full`,children:d&&a==="dark"?o.jsx(QP,{size:20}):o.jsx(Ox,{size:20})}),o.jsx(ki,{to:"/notifications",className:`h-10 w-10 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:bg-black/[0.08] dark:hover:bg-white/[0.05] transition-colors rounded-full`,children:o.jsx(YP,{size:20})})]})]})}),o.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-[#F3F3F4]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 ",children:o.jsx("nav",{className:"flex justify-around items-center py-2",children:E.map((k,j)=>{let N=h===k.href;return k.href==="/home"?N=h==="/home"||h==="/dashboard"||y.includes("/home")||y.includes("/dashboard"):k.href==="/academy/home"?N=h==="/academy/home"||h==="/academy/dashboard"||y.includes("/academy/home")||y.includes("/academy/dashboard"):N=h===k.href||y.endsWith(k.href),o.jsxs(ki,{to:k.href,className:ue("flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-200 min-w-0 flex-1 mx-1",N?"text-gray-600":"text-gray-600 hover:text-breneo-blue"),children:[o.jsx(k.icon,{size:20,className:ue("transition-colors duration-200 mb-1",N?"text-breneo-blue":"text-gray-600 group-hover:text-breneo-blue")}),o.jsx("span",{className:ue("text-xs font-medium transition-colors duration-200 text-center",N?"text-gray-600":"text-gray-600 group-hover:text-breneo-blue"),children:k.label})]},j)})})}),o.jsxs("div",{className:ue("hidden md:flex fixed top-4 left-4 bottom-4 z-40 bg-[#FFFFFF] dark:bg-card transition-all duration-300 flex-col rounded-3xl",e?"w-20":"w-64"),children:[o.jsx("div",{className:"p-4 pt-5 flex items-center justify-between",children:e?o.jsx(_n,{className:"h-4 w-8 object-cover object-left ml-3"}):o.jsx(ki,{to:S,className:"flex items-center space-x-2 ml-3",children:o.jsx(_n,{className:"h-6"})})}),o.jsxs("div",{className:"flex flex-col flex-1",children:[o.jsx("div",{className:"flex-1 overflow-y-auto pt-8",children:o.jsx("nav",{className:"space-y-1 px-4",children:w.map((k,j)=>{let N=h===k.href;return k.href==="/home"?N=h==="/home"||h==="/dashboard"||y.includes("/home")||y.includes("/dashboard"):k.href==="/academy/home"?N=h==="/academy/home"||h==="/academy/dashboard"||y.includes("/academy/home")||y.includes("/academy/dashboard"):N=h===k.href||y.endsWith(k.href),o.jsxs(ki,{to:k.href,className:ue("flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group",N?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[o.jsx(k.icon,{size:22,className:ue("transition-colors duration-200 flex-shrink-0",N?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&o.jsxs("span",{className:ue("font-medium text-base transition-colors duration-200 flex items-center gap-3",N?"text-breneo-blue":"text-gray-600 group-hover:text-breneo-blue"),children:[k.label,k.href==="/webinars"&&o.jsx(Dt,{className:"bg-breneo-blue text-white border-0 px-3 py-0.8 text-[12px] font-semibold hidden md:inline-flex",children:"Soon"})]})]},j)})})}),o.jsxs("div",{className:"px-4 pb-4",children:[o.jsx("div",{className:"mb-4"}),o.jsxs("div",{className:"space-y-1 mb-4",children:[o.jsxs(ki,{to:_,className:ue("flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group",h===_?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[o.jsx(Mw,{size:22,className:ue("flex-shrink-0 transition-colors duration-200",h===_?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&o.jsx("span",{className:"font-medium text-base",children:u.nav.settings})]}),o.jsxs(ki,{to:"/help",className:ue("flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group",h==="/help"?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[o.jsx(Zue,{size:22,className:ue("flex-shrink-0 transition-colors duration-200",h==="/help"?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&o.jsx("span",{className:"font-medium text-base",children:u.nav.help})]}),!m&&o.jsxs(ki,{to:"/subscription",className:ue("flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group","bg-gradient-to-br from-[#cedcfc] to-[#a0dfee] dark:from-[#6B7BA8]/40 dark:to-[#4A9FB8]/40","hover:from-[#CFD8EE] hover:to-[#97D9E9] dark:hover:from-[#6B7BA8]/50 dark:hover:to-[#4A9FB8]/50",e&&"justify-center px-4"),children:[o.jsx(Tx,{size:22,className:"text-gray-700 dark:text-gray-200 flex-shrink-0 group-hover:translate-x-0.5 transition-transform"}),!e&&o.jsx("span",{className:"font-medium text-base text-gray-700 dark:text-gray-200 truncate",children:u.subscription.upgrade})]})]}),o.jsx("div",{className:"mt-4 pt-4",children:o.jsxs(ki,{to:b,className:"flex items-center space-x-4 px-4 py-2 rounded-xl hover:bg-gray-50 transition-all duration-200 group",children:[o.jsx("div",{className:ue("flex items-center justify-center w-8 h-8 rounded-[50px] text-sm font-semibold shrink-0",s!=null&&s.profile_image?"overflow-hidden":"bg-[#AAF0FF] text-[#099DBC]"),children:s!=null&&s.profile_image?o.jsx("img",{src:s.profile_image,alt:"Profile",className:"w-full h-full object-cover rounded-[12px]"}):x()}),!e&&o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm text-gray-700",children:v()}),o.jsx("p",{className:"text-xs text-gray-400",children:s==null?void 0:s.email})]})]})})]})]})]})]})}const iq=e=>/^(\/(en|ka))?\/jobs\/[^/]+$/.test(e),oq=e=>/^(\/(en|ka))?\/course\/[^/]+$/.test(e),upe=e=>e.includes("/skill-path"),dpe=e=>/^(\/(en|ka))?\/academy\/courses\/(add|edit\/[^/]+)$/.test(e),fpe=(e,t,r)=>r?iq(e)||oq(e)?null:e.startsWith("/home")||e.startsWith("/academy/home")?o.jsxs(o.Fragment,{children:[r.dashboard.welcome,","," ",o.jsx("span",{className:"font-bold",children:t||"User"}),"!"]}):e.startsWith("/dashboard")||e.startsWith("/academy/dashboard")?o.jsxs(o.Fragment,{children:[r.dashboard.welcome,","," ",o.jsx("span",{className:"font-bold",children:t||"User"}),"!"]}):e.startsWith("/jobs")?r.jobs.title:e.startsWith("/courses")?r.courses.title:e.startsWith("/settings")||e.startsWith("/academy/settings")?r.settings.title:e.startsWith("/profile")||e.startsWith("/academy/profile")?r.profile.title:e.startsWith("/notifications")?r.notifications.title:e.startsWith("/skill-test")?r.skillTest.title:e.startsWith("/skill-path")?null:r.nav.home:"Home";function hpe({sidebarCollapsed:e,isVisible:t}){var E;const r=Hs(),n=dr(),{user:s}=_r(),{theme:a,setTheme:i}=qo(),{language:l,setLanguage:c}=vi(),u=Zi(),[d,f]=O.useState(!1),h=(s==null?void 0:s.first_name)||((E=s==null?void 0:s.email)==null?void 0:E.split("@")[0])||"User",g=ag(r.pathname),y=fpe(g,h,u),m=iq(g),v=oq(g),x=upe(g),w=dpe(g),_=(()=>{if(w){if(g.includes("/edit/"))return"Edit Course";if(g.includes("/add"))return"Add Course"}return null})(),S=l==="ka"?"GEO":"EN";return O.useEffect(()=>{f(!0)},[]),o.jsx("header",{className:ue("fixed top-0 right-0 z-30","bg-gradient-to-b from-breneo-lightgray dark:from-background to-transparent","transition-opacity duration-300 ease-in-out",e?"md:left-24":"md:left-[17rem]","left-0",t?"opacity-100":"opacity-0 pointer-events-none"),children:o.jsxs("div",{className:"flex items-center justify-between px-5 sm:px-9 md:px-12 lg:px-14 pt-6 pb-4",children:[o.jsx("div",{className:"hidden md:flex items-center space-x-3",children:m||v||x||w?o.jsxs(o.Fragment,{children:[o.jsxs(ne,{variant:"ghost",onClick:()=>n(-1),className:`relative h-10 px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                           text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200
                           text-sm font-medium flex items-center gap-2 transition-colors`,children:[o.jsx(mm,{className:"h-4 w-4"}),o.jsx("span",{children:u.common.back})]}),_&&o.jsx("h1",{className:"text-2xl font-semibold text-foreground ml-4",children:_})]}):y&&o.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:y})}),o.jsx("div",{className:"md:hidden"}),o.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[o.jsxs(ne,{variant:"ghost",onClick:()=>c(l==="en"?"ka":"en"),className:`relative h-10 px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                       text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200
                       text-sm font-medium flex items-center gap-2 transition-colors`,children:[o.jsx(sc,{className:"h-4 w-4"}),o.jsx("span",{children:S})]}),o.jsxs(ne,{variant:"ghost",size:"icon",onClick:()=>i(a==="dark"?"light":"dark"),className:`relative h-10 w-10 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                       text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors`,children:[d&&a==="dark"?o.jsx(QP,{className:"h-5 w-5"}):o.jsx(Ox,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),o.jsx(ki,{to:"/notifications",children:o.jsxs(ne,{variant:"ghost",size:"icon",className:`relative h-10 w-10 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                         text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors`,children:[o.jsx(YP,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Notifications"})]})})]})]})})}function Ot({children:e,showSidebar:t=!0,showHeader:r=!0,background:n="default"}){const[s,a]=p.useState(!1),[i,l]=p.useState(!0),c=p.useRef(null),u=()=>{a(d=>!d)};return p.useEffect(()=>{const d=c.current;if(!d)return;const f=()=>{d.scrollTop>50?l(!1):l(!0)};return d.addEventListener("scroll",f),()=>{d.removeEventListener("scroll",f)}},[]),o.jsxs("div",{className:ue("h-screen overflow-hidden",n==="white"?"bg-white":"bg-breneo-lightgray"),children:[t&&o.jsx(fA,{collapsed:s,toggleSidebar:u}),r&&o.jsx(hpe,{sidebarCollapsed:s,isVisible:i}),o.jsx("main",{ref:c,className:ue("h-full overflow-y-auto transition-all duration-300",t&&(s?"md:ml-24":"md:ml-[17rem]"),r&&"pt-24 pb-32 md:pt-24 md:pb-0",(t||r)&&"px-2 md:px-6"),children:o.jsx("div",{className:"h-full",children:e})})]})}function nr({className:e,...t}){return o.jsx("div",{className:ue("animate-pulse rounded-md bg-muted",e),...t})}const ac=p.forwardRef(({value:e,size:t=60,strokeWidth:r=3,className:n,showLabel:s=!0,matchLabel:a,percentageTextSize:i="lg"},l)=>{const c=(t-r)/2,u=2*Math.PI*c,d=Math.max(0,Math.min(100,e)),f=u-d/100*u,h=a||(e>=70?"GOOD MATCH":"FAIR MATCH"),g={sm:"text-xs",md:"text-sm",lg:"text-lg",xl:"text-xl"};return o.jsxs("div",{ref:l,className:ue("flex items-center gap-2",n),children:[s&&o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:h}),o.jsxs("div",{className:"relative",style:{width:t,height:t},children:[o.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",style:{overflow:"visible"},children:[o.jsx("circle",{cx:t/2,cy:t/2,r:c,fill:"none",stroke:"currentColor",strokeWidth:r,className:"text-gray-200/40 dark:text-gray-700/40"}),o.jsx("circle",{cx:t/2,cy:t/2,r:c,fill:"none",stroke:"currentColor",strokeWidth:r,strokeDasharray:u,strokeDashoffset:f,strokeLinecap:"round",className:"transition-all duration-500 ease-out"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("span",{className:ue("font-bold text-gray-700 dark:text-gray-300",g[i]),children:[Math.round(e),"%"]})})]})]})});ac.displayName="RadialProgress";const ppe="modulepreload",mpe=function(e){return"/"+e},AI={},Ey=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=mpe(c),c in AI)return;AI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":ppe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},gpe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ey(async()=>{const{default:n}=await Promise.resolve().then(()=>Ph);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class hA extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ype extends hA{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class vpe extends hA{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xpe extends hA{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var zE;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zE||(zE={}));var bpe=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class wpe{constructor(t,{headers:r={},customFetch:n,region:s=zE.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=gpe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return bpe(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(y=>{throw new ype(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new vpe(d);if(!d.ok)throw new xpe(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Is={},pA={},Gw={},Ny={},Jw={},Yw={},_pe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ff=_pe();const Spe=Ff.fetch,lq=Ff.fetch.bind(Ff),cq=Ff.Headers,jpe=Ff.Request,kpe=Ff.Response,Ph=Object.freeze(Object.defineProperty({__proto__:null,Headers:cq,Request:jpe,Response:kpe,default:lq,fetch:Spe},Symbol.toStringTag,{value:"Module"})),Epe=mZ(Ph);var Xw={};Object.defineProperty(Xw,"__esModule",{value:!0});let Npe=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Xw.default=Npe;var uq=rs&&rs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yw,"__esModule",{value:!0});const Cpe=uq(Epe),Ppe=uq(Xw);let Ape=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Cpe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c;let u=null,d=null,f=null,h=a.status,g=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const m=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),v=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await a.text();try{u=JSON.parse(m),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,g="OK")}catch{a.status===404&&m===""?(h=204,g="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new Ppe.default(u)}return{error:u,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Yw.default=Ape;var Tpe=rs&&rs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jw,"__esModule",{value:!0});const Ope=Tpe(Yw);let $pe=class extends Ope.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Jw.default=$pe;var Rpe=rs&&rs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ny,"__esModule",{value:!0});const Mpe=Rpe(Jw);let Ipe=class extends Mpe.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ny.default=Ipe;var Lpe=rs&&rs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gw,"__esModule",{value:!0});const wp=Lpe(Ny);let Dpe=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new wp.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new wp.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new wp.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new wp.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new wp.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Gw.default=Dpe;var Qw={},Zw={};Object.defineProperty(Zw,"__esModule",{value:!0});Zw.version=void 0;Zw.version="0.0.0-automated";Object.defineProperty(Qw,"__esModule",{value:!0});Qw.DEFAULT_HEADERS=void 0;const Fpe=Zw;Qw.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Fpe.version}`};var dq=rs&&rs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pA,"__esModule",{value:!0});const Bpe=dq(Gw),Upe=dq(Ny),zpe=Qw;let qpe=class fq{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},zpe.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Bpe.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new fq(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new Upe.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};pA.default=qpe;var Ah=rs&&rs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Is,"__esModule",{value:!0});Is.PostgrestError=Is.PostgrestBuilder=Is.PostgrestTransformBuilder=Is.PostgrestFilterBuilder=Is.PostgrestQueryBuilder=Is.PostgrestClient=void 0;const hq=Ah(pA);Is.PostgrestClient=hq.default;const pq=Ah(Gw);Is.PostgrestQueryBuilder=pq.default;const mq=Ah(Ny);Is.PostgrestFilterBuilder=mq.default;const gq=Ah(Jw);Is.PostgrestTransformBuilder=gq.default;const yq=Ah(Yw);Is.PostgrestBuilder=yq.default;const vq=Ah(Xw);Is.PostgrestError=vq.default;var Wpe=Is.default={PostgrestClient:hq.default,PostgrestQueryBuilder:pq.default,PostgrestFilterBuilder:mq.default,PostgrestTransformBuilder:gq.default,PostgrestBuilder:yq.default,PostgrestError:vq.default};const{PostgrestClient:Vpe,PostgrestQueryBuilder:YHe,PostgrestFilterBuilder:XHe,PostgrestTransformBuilder:QHe,PostgrestBuilder:ZHe,PostgrestError:eKe}=Wpe;let qE;typeof window>"u"?qE=require("ws"):qE=window.WebSocket;const Hpe=qE,Kpe="2.11.10",Gpe={"X-Client-Info":`realtime-js/${Kpe}`},Jpe="1.0.0",xq=1e4,Ype=1e3;var rf;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(rf||(rf={}));var us;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(us||(us={}));var Qa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qa||(Qa={}));var WE;(function(e){e.websocket="websocket"})(WE||(WE={}));var Uc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Uc||(Uc={}));class Xpe{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class bq{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(jr||(jr={}));const TI=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,i)=>(a[i]=Qpe(i,e,t,s),a),{})},Qpe=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?wq(a,i):VE(i)},wq=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return rme(t,r)}switch(e){case jr.bool:return Zpe(t);case jr.float4:case jr.float8:case jr.int2:case jr.int4:case jr.int8:case jr.numeric:case jr.oid:return eme(t);case jr.json:case jr.jsonb:return tme(t);case jr.timestamp:return nme(t);case jr.abstime:case jr.date:case jr.daterange:case jr.int4range:case jr.int8range:case jr.money:case jr.reltime:case jr.text:case jr.time:case jr.timestamptz:case jr.timetz:case jr.tsrange:case jr.tstzrange:return VE(t);default:return VE(t)}},VE=e=>e,Zpe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eme=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tme=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},rme=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>wq(t,l))}return e},nme=e=>typeof e=="string"?e.replace(" ","T"):e,_q=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class NS{constructor(t,r,n={},s=xq){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var OI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(OI||(OI={}));class vm{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vm.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=vm.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=vm.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=a[u];if(f){const h=d.map(v=>v.presence_ref),g=f.map(v=>v.presence_ref),y=d.filter(v=>g.indexOf(v.presence_ref)<0),m=f.filter(v=>h.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $I;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})($I||($I={}));var RI;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(RI||(RI={}));var mo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mo||(mo={}));class mA{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=us.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new NS(this,Qa.join,this.params,this.timeout),this.rejoinTimer=new bq(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=us.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=us.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=us.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=us.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qa.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new vm(this),this.broadcastEndpointURL=_q(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(mo.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(mo.CLOSED));const c={},u={broadcast:a,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(mo.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let m=0;m<g;m++){const v=h[m],{filter:{event:x,schema:w,table:b,filter:_}}=v,S=d&&d[m];if(S&&S.event===x&&S.schema===w&&S.table===b&&S.filter===_)y.push(Object.assign(Object.assign({},v),{id:S.id}));else{this.unsubscribe(),this.state=us.errored,t==null||t(mo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(mo.SUBSCRIBED);return}}).receive("error",d=>{this.state=us.errored,t==null||t(mo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=us.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qa.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new NS(this,Qa.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new NS(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Qa;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,m,v;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(m=g.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(g=>g.callback(h,n)):(a=this.bindings[i])===null||a===void 0||a.filter(g=>{var y,m,v,x,w,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const _=g.id,S=(y=g.filter)===null||y===void 0?void 0:y.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(w=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:v,commit_timestamp:x,type:w,errors:b}=y;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:x,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(y))}g.callback(h,n)})}_isClosed(){return this.state===us.closed}_isJoined(){return this.state===us.joined}_isJoining(){return this.state===us.joining}_isLeaving(){return this.state===us.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&mA.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qa.close,{},t)}_onError(t){this._on(Qa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=us.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=TI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=TI(t.columns,t.old_record)),r}}const MI=()=>{},sme=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ame{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Gpe,this.params={},this.timeout=xq,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=MI,this.ref=0,this.logger=MI,this.conn=null,this.sendBuffer=[],this.serializer=new Xpe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...l)=>Ey(async()=>{const{default:c}=await Promise.resolve().then(()=>Ph);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${WE.websocket}`,this.httpEndpoint=_q(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,i)=>i(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bq(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Hpe),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new ime(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jpe}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case rf.connecting:return Uc.Connecting;case rf.open:return Uc.Open;case rf.closing:return Uc.Closing;default:return Uc.Closed}}isConnected(){return this.connectionState()===Uc.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new mA(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Qa.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Ype,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:i}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,a,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([sme],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ime{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=rf.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class gA extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ome extends gA{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class HE extends gA{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var lme=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Sq=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ey(async()=>{const{default:n}=await Promise.resolve().then(()=>Ph);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},cme=()=>lme(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ey(()=>Promise.resolve().then(()=>Ph),void 0)).Response:Response}),KE=e=>{if(Array.isArray(e))return e.map(r=>KE(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=KE(n)}),t};var Wu=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const CS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ume=(e,t,r)=>Wu(void 0,void 0,void 0,function*(){const n=yield cme();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new ome(CS(s),e.status||500))}).catch(s=>{t(new HE(CS(s),s))}):t(new HE(CS(e),e))}),dme=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Cy(e,t,r,n,s,a){return Wu(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,dme(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>ume(c,l,n))})})}function Fx(e,t,r,n){return Wu(this,void 0,void 0,function*(){return Cy(e,"GET",t,r,n)})}function ml(e,t,r,n,s){return Wu(this,void 0,void 0,function*(){return Cy(e,"POST",t,n,s,r)})}function fme(e,t,r,n,s){return Wu(this,void 0,void 0,function*(){return Cy(e,"PUT",t,n,s,r)})}function hme(e,t,r,n){return Wu(this,void 0,void 0,function*(){return Cy(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function jq(e,t,r,n,s){return Wu(this,void 0,void 0,function*(){return Cy(e,"DELETE",t,n,s,r)})}var Ps=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const pme={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},II={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mme{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Sq(s)}uploadOrUpdate(t,r,n,s){return Ps(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},II),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(kn(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Ps(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ps(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:II.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(kn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ps(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield ml(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new gA("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ps(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ps(this,void 0,void 0,function*(){try{return{data:yield ml(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ps(this,void 0,void 0,function*(){try{return{data:{path:(yield ml(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ps(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield ml(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ps(this,void 0,void 0,function*(){try{const s=yield ml(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}download(t,r){return Ps(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Fx(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(kn(l))return{data:null,error:l};throw l}})}info(t){return Ps(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Fx(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:KE(n),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}exists(t){return Ps(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield hme(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(kn(n)&&n instanceof HE){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ps(this,void 0,void 0,function*(){try{return{data:yield jq(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ps(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},pme),r),{prefix:t||""});return{data:yield ml(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const gme="2.7.1",yme={"X-Client-Info":`storage-js/${gme}`};var sd=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class vme{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},yme),r),this.fetch=Sq(n)}listBuckets(){return sd(this,void 0,void 0,function*(){try{return{data:yield Fx(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(kn(t))return{data:null,error:t};throw t}})}getBucket(t){return sd(this,void 0,void 0,function*(){try{return{data:yield Fx(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return sd(this,void 0,void 0,function*(){try{return{data:yield ml(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return sd(this,void 0,void 0,function*(){try{return{data:yield fme(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return sd(this,void 0,void 0,function*(){try{return{data:yield ml(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return sd(this,void 0,void 0,function*(){try{return{data:yield jq(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}}class xme extends vme{constructor(t,r={},n){super(t,r,n)}from(t){return new mme(this.url,this.headers,t,this.fetch)}}const bme="2.50.0";let Yp="";typeof Deno<"u"?Yp="deno":typeof document<"u"?Yp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yp="react-native":Yp="node";const wme={"X-Client-Info":`supabase-js-${Yp}/${bme}`},_me={headers:wme},Sme={schema:"public"},jme={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kme={};var Eme=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Nme=e=>{let t;return e?t=e:typeof fetch>"u"?t=lq:t=fetch,(...r)=>t(...r)},Cme=()=>typeof Headers>"u"?cq:Headers,Pme=(e,t,r)=>{const n=Nme(r),s=Cme();return(a,i)=>Eme(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var Ame=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Tme(e){return e.endsWith("/")?e:e+"/"}function Ome(e,t){var r,n;const{db:s,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Ame(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const kq="2.70.0",wd=30*1e3,GE=3,PS=GE*wd,$me="http://localhost:9999",Rme="supabase.auth.token",Mme={"X-Client-Info":`gotrue-js/${kq}`},JE="X-Supabase-Api-Version",Eq={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ime=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lme=6e5;class yA extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $t(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Dme extends yA{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Fme(e){return $t(e)&&e.name==="AuthApiError"}class Nq extends yA{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class hc extends yA{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ll extends hc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bme(e){return $t(e)&&e.name==="AuthSessionMissingError"}class $v extends hc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rv extends hc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mv extends hc{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ume(e){return $t(e)&&e.name==="AuthImplicitGrantRedirectError"}class LI extends hc{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class YE extends hc{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function AS(e){return $t(e)&&e.name==="AuthRetryableFetchError"}class DI extends hc{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class xm extends hc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),FI=` 	
\r=`.split(""),zme=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<FI.length;t+=1)e[FI[t].charCodeAt(0)]=-2;for(let t=0;t<Bx.length;t+=1)e[Bx[t].charCodeAt(0)]=t;return e})();function BI(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Bx[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Bx[n]),t.queuedBits-=6}}function Cq(e,t,r){const n=zme[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function UI(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{Vme(i,n,r)};for(let i=0;i<e.length;i+=1)Cq(e.charCodeAt(i),s,a);return t.join("")}function qme(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Wme(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}qme(n,t)}}function Vme(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Hme(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Cq(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Kme(e){const t=[];return Wme(e,r=>t.push(r)),new Uint8Array(t)}function Gme(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>BI(s,r,n)),BI(null,r,n),t.join("")}function Jme(e){return Math.round(Date.now()/1e3)+e}function Yme(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ha=()=>typeof window<"u"&&typeof document<"u",Nc={tested:!1,writable:!1},bm=()=>{if(!Ha())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nc.tested)return Nc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Nc.tested=!0,Nc.writable=!0}catch{Nc.tested=!0,Nc.writable=!1}return Nc.writable};function Xme(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Pq=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ey(async()=>{const{default:n}=await Promise.resolve().then(()=>Ph);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Qme=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Aq=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Iv=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lv=async(e,t)=>{await e.removeItem(t)};class e1{constructor(){this.promise=new e1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}e1.promiseConstructor=Promise;function TS(e){const t=e.split(".");if(t.length!==3)throw new xm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ime.test(t[n]))throw new xm("JWT not in base64url format");return{header:JSON.parse(UI(t[0])),payload:JSON.parse(UI(t[1])),signature:Hme(t[2]),raw:{header:t[0],payload:t[1]}}}async function Zme(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ege(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function tge(e){return("0"+e.toString(16)).substr(-2)}function rge(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,tge).join("")}async function nge(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function sge(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await nge(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ad(e,t,r=!1){const n=rge();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Aq(e,`${t}-code-verifier`,s);const a=await sge(n);return[a,n===a?"plain":"s256"]}const age=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ige(e){const t=e.headers.get(JE);if(!t||!t.match(age))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function oge(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lge(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cge=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function id(e){if(!cge.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var uge=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const $c=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dge=[502,503,504];async function zI(e){var t;if(!Qme(e))throw new YE($c(e),0);if(dge.includes(e.status))throw new YE($c(e),e.status);let r;try{r=await e.json()}catch(a){throw new Nq($c(a),a)}let n;const s=ige(e);if(s&&s.getTime()>=Eq["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new DI($c(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ll}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new DI($c(r),e.status,r.weak_password.reasons);throw new Dme($c(r),e.status||500,n)}const fge=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ft(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[JE]||(a[JE]=Eq["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await hge(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function hge(e,t,r,n,s,a){const i=fge(t,n,s,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new YE($c(c),0)}if(l.ok||await zI(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await zI(c)}}function co(e){var t;let r=null;yge(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Jme(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function qI(e){const t=co(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pge(e){return{data:e,error:null}}function mge(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=uge(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function gge(e){return e}function yge(e){return e.access_token&&e.refresh_token&&e.expires_in}const OS=["global","local","others"];var vge=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class xge{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Pq(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=OS[0]){if(OS.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${OS.join(", ")}`);try{return await Ft(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:xl})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=vge(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mge,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($t(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ft(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xl})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:gge});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($t(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){id(t);try{return await Ft(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xl})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){id(t);try{return await Ft(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:xl})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){id(t);try{return await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:xl})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){id(t.userId);try{const{data:r,error:n}=await Ft(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if($t(r))return{data:null,error:r};throw r}}async _deleteFactor(t){id(t.userId),id(t.id);try{return{data:await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}}}const bge={getItem:e=>bm()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{bm()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{bm()&&globalThis.localStorage.removeItem(e)}};function WI(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function wge(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const od={debug:!!(globalThis&&bm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tq extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _ge extends Tq{}async function Sge(e,t,r){od.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),od.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){od.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{od.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw od.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _ge(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(od.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}wge();const jge={url:$me,storageKey:Rme,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mme,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function VI(e,t,r){return await r()}class fg{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fg.nextInstanceID,fg.nextInstanceID+=1,this.instanceID>0&&Ha()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},jge),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new xge({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Pq(s.fetch),this.lock=s.lock||VI,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ha()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Sge:this.lock=VI,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:bm()?this.storage=bge:(this.memoryStorage={},this.storage=WI(this.memoryStorage)):(this.memoryStorage={},this.storage=WI(this.memoryStorage)),Ha()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kq}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Xme(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ha()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Ume(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $t(r)?{error:r}:{error:new Nq("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:co}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await ad(this.storage,this.storageKey)),a=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:y},xform:co})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:co})}else throw new Rv("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qI})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qI})}else throw new Rv("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new $v}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,i,l,c,u,d,f,h,g;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:v,wallet:x,statement:w,options:b}=t;let _;if(Ha())if(typeof x=="object")_=x;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let k;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")k=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)k=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=E}}try{const{data:v,error:x}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Gme(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:co});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new $v}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if($t(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await Iv(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:co});if(await Lv(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new $v}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if($t(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,l=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:co}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new $v}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ad(this.storage,this.storageKey));const{error:f}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Rv("You must provide either an email or phone number.")}catch(l){if($t(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await Ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:co});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if($t(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await ad(this.storage,this.storageKey)),await Ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:pge})}catch(a){if($t(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ll;const{error:s}=await Ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if($t(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await Ft(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:l}=await Ft(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Rv("You must provide either an email or phone number and a type")}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Iv(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<PS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xl}):await this._useSession(async r=>{var n,s,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ll}:await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:xl})})}catch(r){if($t(r))return Bme(r)&&(await this._removeSession(),await Lv(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new ll;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ad(this.storage,this.storageKey));const{data:u,error:d}=await Ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:xl});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ll;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=TS(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if($t(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ll;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ha())throw new Mv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new LI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new LI("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new Mv("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const g=h-d;g*1e3<=wd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:m,error:v}=await this._getUser(a);if(v)throw v;const x={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if($t(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Iv(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(Fme(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Lv(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Yme(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ad(this.storage,this.storageKey,!0));try{return await Ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if($t(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ft(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ha()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if($t(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await Ft(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ege(async s=>(s>0&&await Zme(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:co})),(s,a)=>{const i=200*Math.pow(2,s);return a&&AS(a)&&Date.now()+i-n<wd})}catch(n){if(this._debug(r,"error",n),$t(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ha()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Iv(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<PS;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${PS}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),AS(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ll;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new e1;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new ll;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),$t(a)){const i={session:null,error:a};return AS(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Aq(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Lv(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ha()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/wd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${wd}ms, refresh threshold is ${GE} ticks`),s<=GE&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Tq)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ha()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await ad(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ft(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ft(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:i,error:l}=await Ft(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if($t(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ft(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($t(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=TS(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+Lme>Date.now()))return n;const{data:s,error:a}=await Ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new xm("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new xm("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};n=g.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=TS(n);if(oge(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:a,header:s,signature:i},error:null}}const u=lge(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,Kme(`${l}.${c}`)))throw new xm("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}}fg.nextInstanceID=0;const kge=fg;class Ege extends kge{constructor(t){super(t)}}var Nge=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Cge{constructor(t,r,n){var s,a,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Tme(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Sme,realtime:kme,auth:Object.assign(Object.assign({},jme),{storageKey:u}),global:_me},f=Ome(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=Pme(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Vpe(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new wpe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new xme(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Nge(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ege({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ame(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Pge=(e,t,r)=>new Cge(e,t,r),Age="https://kwvpfetgerukuglqeuzl.supabase.co",Tge="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt3dnBmZXRnZXJ1a3VnbHFldXpsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNDYzNjEsImV4cCI6MjA2NTgyMjM2MX0.oQNRxz5hNqp_YVkIJ0KOtVSgAksQ0km6iESqiWI8wHw",Vt=Pge(Age,Tge),Th=async e=>{const t=String(e),r=[pm(t),t],n=parseInt(t,10);!isNaN(n)&&n.toString()===t&&r.push(pm(n)),console.log(" getUserTestAnswers - Trying variants:",{originalUserId:e,userIdStr:t,variants:r});for(const s of r)try{const{data:a,error:i}=await Vt.from("usertestanswers").select("*").eq("userid",s).order("answeredat",{ascending:!0});if(i){console.warn(` Error fetching with variant ${s}:`,i.message);continue}if(a&&a.length>0)return console.log(` Found ${a.length} test answers for user ${s}`),a;console.log(` No answers found for variant ${s}`)}catch(a){console.warn(` Exception with variant ${s}:`,a);continue}try{const{data:{user:s}}=await Vt.auth.getUser();if(s){console.log(" Trying with auth user ID:",s.id);const{data:a,error:i}=await Vt.from("usertestanswers").select("*").eq("userid",s.id).order("answeredat",{ascending:!0});if(!i&&a&&a.length>0)return console.log(` Found ${a.length} test answers using auth user ID`),a}}catch(s){console.warn(" Could not get auth user:",s)}return console.log(" No test answers found with any variant"),[]},Oh=e=>{const t={};return!e||!Array.isArray(e)?(console.error("Invalid answers array:",e),t):(e.forEach(r=>{const n=r.relatedSkills||r.relatedskills||[];Array.isArray(n)&&n.forEach(s=>{s&&typeof s=="string"&&(t[s]=(t[s]||0)+1)})}),t)},t1=(e,t=3)=>Object.entries(e).sort(([,r],[,n])=>n-r).slice(0,t).map(([r,n])=>({skill:r,score:n})),hg=e=>{const t=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"];return e.filter(r=>{const n=r.toLowerCase().trim();return!t.some(s=>n.includes(s)||s.includes(n))})},Oq="https://breneo-job-aggregator-k7ti.onrender.com",Oge=`${Oq}/api/search`,XE=`${Oq}/api/v1/jobs/`,$ge=e=>e.trim().toLowerCase(),Rge=e=>{const t=e.trim().toUpperCase(),r=un.find(n=>n.code.toUpperCase()===t);return(r==null?void 0:r.name)??e};let HI=0;const KI=1e3,vA=async(e,t)=>{const n=Date.now()-HI;if(n<KI){const s=KI-n;await new Promise(a=>setTimeout(a,s))}return HI=Date.now(),fetch(e,t)},GI=e=>{const t={id:String(e.id),job_id:String(e.id),title:e.title,job_title:e.title,company:e.company_name,company_logo:e.company_logo,companyLogo:e.company_logo,company_name:e.company_name,employer_name:e.company_name,location:e.location,job_location:e.location,description:e.description,job_description:e.description,apply_url:e.apply_url,job_apply_link:e.apply_url,url:e.apply_url,date_posted:e.posted_at||e.fetched_at,posted_date:e.posted_at||e.fetched_at,posted_at:e.posted_at||e.fetched_at,fetched_at:e.fetched_at,status:e.is_active?"active":"inactive"};return e.raw&&typeof e.raw=="object"&&!Array.isArray(e.raw)?{...t,...e.raw}:t},Mge=e=>{const t=e.company,r=(t==null?void 0:t.name)||e.company_name||"Unknown Company",n=(t==null?void 0:t.logo)||e.company_logo||void 0;return{id:String(e.id??""),job_id:String(e.id??""),title:e.title||"",job_title:e.title||"",company:r,company_name:r,employer_name:r,company_logo:n,companyLogo:n,location:e.location||"",job_location:e.location||"",description:e.description||e.description_short||"",job_description:e.description||e.description_short||"",apply_url:e.apply_url||"",job_apply_link:e.apply_url||"",url:e.apply_url||"",date_posted:e.posted_at||e.fetched_at||"",posted_date:e.posted_at||e.fetched_at||"",posted_at:e.posted_at||e.fetched_at||"",fetched_at:e.fetched_at||"",status:"active",...e}},Ige=async e=>{const{query:t,filters:r,page:n=1,pageSize:s=20}=e,a=new URLSearchParams;t&&t.trim()&&a.set("query",t.trim()),r.countries.length>0&&a.set("country",r.countries.map($ge).join(",")),r.skills.length>0&&a.set("title",r.skills.join(",")),r.workMode&&r.workMode.length>0?a.set("work_mode",r.workMode.map(h=>h.toLowerCase()).join(",")):r.isRemote&&a.set("work_mode","remote"),r.seniority&&r.seniority.length>0&&a.set("seniority",r.seniority.map(h=>h.toLowerCase()).join(",")),r.company&&r.company.length>0&&a.set("company",r.company.join(",")),r.datePosted&&r.datePosted!=="all"&&a.set("date_posted",r.datePosted),a.set("page",String(n)),a.set("num_pages",String(s)),a.set("sort","newest");const i=`${Oge}?${a.toString()}`;console.log(" /api/search request:",i);const l=await vA(i,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!l.ok)throw new Error(`Search API ${l.status}: ${l.statusText}`);const c=await l.json(),u=c.results||[],d=c.pagination;return{jobs:u.map(Mge),pagination:d?{page:d.page,current:d.page,num_pages:d.num_pages,total_pages:d.total_pages,total_results:d.total_results,total_items:d.total_results,has_next:d.has_next,has_previous:d.has_previous}:void 0}},r1=async e=>{const{query:t,filters:r,page:n=1,pageSize:s=20}=e,a=new URLSearchParams,i=r.countries.length>0||r.jobTypes.length>0||r.isRemote||r.datePosted||r.skills.length>0,l=t&&t.trim()?t.trim():"";if(l?a.set("search",l):i||a.set("search",""),a.set("page",String(n)),a.set("limit",String(s)),a.set("is_active","true"),console.log(` Fetching page ${n} with limit ${s}, query: "${l||"(empty - all jobs)"}", hasFilters: ${i})`),r.countries.length>0){const u=Rge(r.countries[0]);a.set("location",u)}r.isRemote?a.set("work_mode","remote"):r.workMode&&r.workMode.length>0&&a.set("work_mode",r.workMode[0]),r.seniority&&r.seniority.length>0&&a.set("seniority",r.seniority[0]),r.company&&r.company.length>0&&a.set("company",r.company[0]),r.datePosted&&r.datePosted!=="all"&&a.set("date_posted",r.datePosted);const c=`${XE}?${a.toString()}`;console.log(" Full API Endpoint URL:",c),console.log(" Query Parameters:",Object.fromEntries(a.entries())),console.log(" Breneo Job API Request:",{filters:{countries:r.countries,jobTypes:r.jobTypes,isRemote:r.isRemote,datePosted:r.datePosted||"all",skills:r.skills,seniority:r.seniority,workMode:r.workMode,company:r.company},query:t,page:n});try{console.log(" Making API request to:",c);const u=await vA(c,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log(" API Response Status:",u.status,u.statusText),console.log(" API Response Headers:",{contentType:u.headers.get("content-type"),contentLength:u.headers.get("content-length")}),u.status===429)throw new Error("You have exceeded your API request limit. Please try again later.");if(!u.ok){let v=`Failed to fetch jobs: ${u.status} ${u.statusText}`;try{const x=await u.text();if(console.error(" API Error Response:",x),x)try{const w=JSON.parse(x);w.message?v=w.message:w.error&&(v=w.error),console.error(" API Error Details:",w)}catch{v=`${v} - ${x}`}}catch(x){console.error(" Could not read error response body:",x)}throw new Error(v)}const d=await u.text();console.log(" API Response text length:",d.length),console.log(" API Response text preview (first 500 chars):",d.substring(0,500));let f;try{f=JSON.parse(d)}catch(v){throw console.error(" Failed to parse API response as JSON:",v),console.error(" Full response text:",d),new Error(`Invalid JSON response from API: ${d.substring(0,200)}`)}console.log(" API Response parsed, type:",Array.isArray(f)?"Array":typeof f),console.log(" API Response preview:",{isArray:Array.isArray(f),hasResults:f&&typeof f=="object"&&"results"in f,keys:f&&typeof f=="object"?Object.keys(f):[],arrayLength:Array.isArray(f)?f.length:null,firstItem:Array.isArray(f)&&f.length>0?f[0]:null});let h=[],g;if(Array.isArray(f)){const v=f;if(console.log(` Received ${v.length} total jobs from API (legacy array format)`),v.length===0)return console.warn(" API returned empty array"),console.log(" Full API response:",JSON.stringify(f,null,2)),{jobs:[],pagination:void 0};const x=v.filter(w=>w.is_active!==!1);console.log(` ${x.length} active jobs after filtering`),h=x.map(GI),console.log(` Mapped ${h.length} jobs to ApiJob format`)}else if(f&&typeof f=="object"&&"results"in f){const v=f,x=v.results||[];if(console.log(` Received ${x.length} jobs from paginated API response`),console.log(" Pagination info:",v.pagination),console.log(" Applied filters:",v.filters),x.length===0)return console.warn(" API returned empty results array"),console.log(" Full API response:",JSON.stringify(f,null,2)),{jobs:[],pagination:v.pagination};g=v.pagination;const w=x.filter(b=>b.is_active!==!1);console.log(` ${w.length} active jobs after filtering`),h=w.map(GI),console.log(` Mapped ${h.length} jobs to ApiJob format`)}else throw console.error(" Unexpected API response format:",f),console.error(" Full response:",JSON.stringify(f,null,2)),new Error("Invalid response format from API - expected array of jobs or object with results array");if(h.length===0)return console.warn(" No jobs returned from API after processing"),console.warn(" This could mean:"),console.warn("  1. API returned empty array"),console.warn("  2. All jobs were filtered out (is_active = false)"),console.warn("  3. Response format doesn't match expected structure"),console.log(" Full API response:",JSON.stringify(f,null,2)),{jobs:[],pagination:g};console.log(` Starting frontend filtering for ${h.length} jobs`);const y=r.countries.length>0||r.jobTypes.length>0||r.isRemote||r.datePosted&&r.datePosted!=="all"||r.skills.length>0;let m=h;return r.jobTypes.length>0&&(m=m.filter(v=>{const x=(v.employment_type||v.job_employment_type||v.type||"").toUpperCase().replace(/[-\s]/g,"");return r.jobTypes.some(w=>{const b=w.toUpperCase().replace(/[-\s]/g,"");return x.includes(b)})})),console.log(" Breneo Job API Final Response:",{totalJobsFromAPI:h.length,afterFiltering:m.length,filters:{query:t||"(none)",countries:r.countries.length,jobTypes:r.jobTypes.length,isRemote:r.isRemote,skills:r.skills.length},sampleJob:m.length>0?{id:m[0].id||m[0].job_id,title:m[0].title||m[0].job_title,company:m[0].company||m[0].company_name}:null}),{jobs:m,pagination:g}}catch(u){throw console.error(" Error in fetchJobsFromBreneoAPI:",u),u instanceof TypeError&&u.message.includes("fetch")?(console.error(" Network error - API might be unreachable:",XE),new Error("Unable to connect to job API. Please check your internet connection and try again.")):u}},n1=async e=>{if(!e)throw new Error("Job ID is required");console.log(" Fetching job detail for ID:",e);const t="https://breneo-job-aggregator-k7ti.onrender.com/api/job-details",r=new URLSearchParams;r.set("job_id",e);const n=`${t}?${r.toString()}`;console.log(` Fetching job details from: ${n}`);try{const s=await vA(n,{method:"GET",headers:{"Content-Type":"application/json"}});if(s.status===429)throw new Error("You have exceeded your API request limit. Please try again later.");if(!s.ok){let c=`Failed to fetch job details: ${s.status} ${s.statusText}`;try{const u=await s.text();if(console.error("API Error Response:",u),u)try{const d=JSON.parse(u);d.message?c=d.message:d.error&&(c=d.error),console.error("API Error Details:",d)}catch{c=`${c} - ${u}`}}catch(u){console.error("Could not read error response body:",u)}throw new Error(c)}const a=await s.json();let i=null;if(Array.isArray(a)&&a.length>0)i=a[0];else if(a&&typeof a=="object")if("results"in a&&Array.isArray(a.results)){const c=a.results;c.length>0&&(i=c[0])}else if("data"in a){const c=a.data;c&&typeof c=="object"&&(i=c)}else i=a;if(!i)throw console.error(" Job not found or invalid response format:",a),new Error(`No job found with ID: ${e}`);console.log(" Found job:",{id:i.id,title:i.title,company:i.company_name});let l={id:String(i.id),job_id:String(i.id),title:i.title,job_title:i.title,company:i.company_name,company_logo:i.company_logo,companyLogo:i.company_logo,company_name:i.company_name,employer_name:i.company_name,location:i.location,job_location:i.location,description:i.description||"",job_description:i.description||"",apply_url:i.apply_url,job_apply_link:i.apply_url,url:i.apply_url,date_posted:i.posted_at||i.fetched_at,posted_date:i.posted_at||i.fetched_at,posted_at:i.posted_at||i.fetched_at,fetched_at:i.fetched_at};return i.raw&&typeof i.raw=="object"&&!Array.isArray(i.raw)&&(l={...l,...i.raw}),Object.keys(i).forEach(c=>{c in l||(l[c]=i[c])}),console.log(" Processed job detail:",l),l}catch(s){throw console.error(" Error fetching job details:",s),s instanceof TypeError&&s.message==="Failed to fetch"?new Error("Failed to connect to job details API. Please check your network connection."):s instanceof Error?s:new Error(`Failed to fetch job details: ${String(s)}`)}},Py=async e=>{try{const t=[];e.query&&e.query.trim()&&t.push(e.query.trim()),e.filters.skills.length>0&&t.push(...e.filters.skills);const r=t.length>0?t.join(" "):"";let n;try{n=await Ige({...e,query:r,filters:e.filters}),console.log(" Using /api/search")}catch(f){console.warn(" /api/search unavailable, falling back to /api/v1/jobs/",f),n=await r1({...e,query:r,filters:e.filters})}let s=n.jobs;e.filters.jobTypes.length>0&&(s=s.filter(f=>{const h=(f.employment_type||f.job_employment_type||f.type||"").toUpperCase().replace(/[-\s]/g,"");return e.filters.jobTypes.some(g=>{const y=g.toUpperCase().replace(/[-\s]/g,"");return h.includes(y)})}));const a=n.pagination,i=new Set,l=[];for(const f of s){const h=f.job_id||f.id||"";if(h&&!i.has(h))i.add(h),l.push(f);else if(!h){const g=`${f.job_title||f.title||""}_${f.employer_name||f.company_name||f.company||""}`;i.has(g)||(i.add(g),l.push(f))}}let c,u,d;if(a){c=l,d=a.total_results??a.total_items??l.length;const f=a.current??a.page??e.page??1,h=a.total_pages??a.num_pages??1;u=a.has_next??(f<h&&h>1),console.log(`Using API pagination: page ${f}/${h}, ${l.length} jobs, hasMore: ${u}, total: ${d}`)}else{const f=e.pageSize||20,h=e.page||1,g=(h-1)*f,y=g+f;c=l.slice(g,y),u=y<l.length,d=l.length,console.log(`Client-side pagination: Fetched ${l.length} unique jobs, showing ${c.length} on page ${h}`)}return c.length>0&&console.log("Sample job structure:",c[0]),{jobs:c,page:(a==null?void 0:a.page)??e.page??1,pageSize:e.pageSize||20,hasMore:u,total:d}}catch(t){throw console.error("Error fetching jobs:",t),t}},Lge=async e=>(await r1(e)).jobs,Dge=async e=>{try{return await Py(e)}catch(t){throw console.error("Primary job source failed:",t),t}},QE=async(e="developer",t=1)=>{console.log(" Testing job fetch with:",{query:e,page:t});try{const n=await Py({query:e,filters:{country:void 0,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:t,pageSize:50});return console.log(" Test fetch successful:",{jobsCount:n.jobs.length,hasMore:n.hasMore,total:n.total,firstJob:n.jobs[0]||null}),n}catch(r){throw console.error(" Test fetch failed:",r),r}},ZE=async(e="developer",t=1,r=1)=>{console.log(" Testing direct API call with:",{query:e,page:t,numPages:r});const n=new URLSearchParams;n.set("query",e),n.set("page",String(t)),n.set("num_pages",String(r)),n.set("country","us"),n.set("date_posted","all");const s=`${XE}?${n.toString()}`;console.log(" API URL:",s);try{const a=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});console.log(" Response status:",a.status,a.statusText),console.log(" Response headers:",{contentType:a.headers.get("content-type"),contentLength:a.headers.get("content-length")});const i=await a.text();console.log(" Response text length:",i.length),console.log(" Response text preview:",i.substring(0,500));const l=JSON.parse(i);return console.log(" Parsed JSON:",{isArray:Array.isArray(l),type:typeof l,length:Array.isArray(l)?l.length:null,keys:typeof l=="object"&&l!==null?Object.keys(l):null,firstItem:Array.isArray(l)&&l.length>0?l[0]:null}),l}catch(a){throw console.error(" Direct API test failed:",a),a}};if(typeof window<"u"){const e=window;e.testFetchJobs=QE,e.testDirectAPI=ZE,e.jobService={fetchActiveJobs:Py,fetchJobDetail:n1,fetchJobsFromBreneoAPI:r1,testFetchJobs:QE,testDirectAPI:ZE},console.log(" Job service test functions available:"),console.log("  - window.testFetchJobs(query, page) - Test through service layer"),console.log("  - window.testDirectAPI(query, page, numPages) - Test raw API endpoint"),console.log("  - window.jobService.fetchActiveJobs(params)"),console.log("  - window.jobService.fetchJobsFromBreneoAPI(params)")}const mi={fetchActiveJobs:Py,fetchJobDetail:n1,fetchJobsFromBreneoAPI:r1,fetchJobsFromJSearch:Lge,fetchJobsFromMultipleSources:Dge,testFetchJobs:QE,testDirectAPI:ZE},JI="betaVersionModalShown",xA=()=>{const[e,t]=p.useState(!1),r=ha(),{t:n}=vi();p.useEffect(()=>{if(!sessionStorage.getItem(JI)){const i=setTimeout(()=>{t(!0)},500);return()=>clearTimeout(i)}},[]);const s=()=>{t(!1),sessionStorage.setItem(JI,"true")};return r?o.jsx(ys,{open:e,onOpenChange:s,children:o.jsxs(vs,{className:"max-h-[85vh]",children:[o.jsx(xs,{children:o.jsx(bs,{className:"text-xl font-bold",children:n.beta.title})}),o.jsxs("div",{className:"px-6 pb-2",children:[o.jsx("div",{className:"flex-1 px-6 pb-4 flex flex-col items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Rocket",className:"w-32 h-32 md:w-40 md:h-40 object-contain mt-4"})}),o.jsx(Wz,{className:"text-base",children:n.beta.message})]}),o.jsx("div",{className:"p-4",children:o.jsx(wo,{asChild:!0,children:o.jsx(ne,{variant:"default",className:"w-full",children:n.common.close})})})]})}):o.jsx(ts,{open:e,onOpenChange:s,children:o.jsxs(Fn,{className:"max-w-md",children:[o.jsx(Bn,{children:o.jsx(Un,{className:"text-xl font-bold",children:n.beta.title})}),o.jsx("div",{className:"flex flex-col items-center justify-center py-4",children:o.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Rocket",className:"w-32 h-32 md:w-40 md:h-40 object-contain"})}),o.jsx("div",{className:"px-0 pb-2",children:o.jsx(tf,{className:"text-base",children:n.beta.message})}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(ne,{variant:"default",onClick:s,children:n.common.close})})]})})},YI={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]},mu=e=>{if(!e)return[];const t=[],n=[e.title,e.job_title,e.position,e.description,e.job_description,e.job_required_experience,e.required_experience,...Array.isArray(e.required_skills)?e.required_skills:[],...Array.isArray(e.skills)?e.skills:[],...Array.isArray(e.job_skills)?e.job_skills:[]].filter(a=>typeof a=="string"&&a.length>0).join(" ").toLowerCase();return Object.keys(YI).forEach(a=>{YI[a].some(l=>n.includes(l.toLowerCase()))&&t.push(a)}),[...Array.isArray(e.required_skills)?e.required_skills:[],...Array.isArray(e.skills)?e.skills:[],...Array.isArray(e.job_skills)?e.job_skills:[]].filter(a=>typeof a=="string").forEach(a=>{t.includes(a.toLowerCase())||t.push(a.toLowerCase())}),[...new Set(t)]},wm=e=>e.toLowerCase().trim().replace(/\s+/g," "),Fge=(e,t)=>{const r=wm(e),n=wm(t);if(r===n)return"exact";const s=3;if(r.length>=s&&n.length>=s&&(r.includes(n)||n.includes(r))){const a=r.length<n.length?r:n,i=r.length>=n.length?r:n;if(a.length>=s||a.length/i.length>=.5)return"partial"}return null},Bge=(e,t,r)=>{const n=e.map(wm),s=t.map(wm),a=r?wm(r):"",i=[],l=[],c=[],u=[];return n.forEach(d=>{a&&(a.includes(d)?c.includes(d)||c.push(d):a.split(/\s+/).some(g=>g.includes(d)||d.includes(g))&&!c.includes(d)&&c.push(d))}),n.forEach(d=>{let f=!1,h=null;for(const g of s){const y=Fge(d,g);if(y){f=!0,h=y;break}}f&&h&&(h==="exact"?i.includes(d)||i.push(d):l.includes(d)||l.push(d),c.includes(d)||u.includes(d)||u.push(d))}),{exactMatches:i,partialMatches:l,titleMatches:c,descriptionMatches:u}},Jl=(e,t,r)=>{if(e.length===0||t.length===0&&!r)return 0;const n=Bge(e,t,r);if(n.exactMatches.length===0&&n.partialMatches.length===0&&n.titleMatches.length===0)return 0;const s={exactMatch:1,partialMatch:.6,titleMatch:1.2,descriptionMatch:1};let a=0,i=0;n.exactMatches.forEach(v=>{const w=n.titleMatches.includes(v)?s.exactMatch*s.titleMatch:s.exactMatch*s.descriptionMatch;a+=w,i+=s.exactMatch*s.titleMatch}),n.partialMatches.forEach(v=>{const w=n.titleMatches.includes(v)?s.partialMatch*s.titleMatch:s.partialMatch*s.descriptionMatch;a+=w,i+=s.partialMatch*s.titleMatch});const l=t.length||1,u=new Set([...n.exactMatches,...n.partialMatches]).size/l*100,d=e.length,h=new Set([...n.exactMatches,...n.partialMatches]).size/d*100;let m=(i>0?a/i*100:0)*.5+u*.3+h*.2;if(n.titleMatches.length>0){const v=Math.min(n.titleMatches.length/d*15,15);m=Math.min(m+v,100)}return t.length===0&&n.titleMatches.length>0&&(m=Math.min(n.titleMatches.length/d*100,75)),Math.round(Math.min(Math.max(m,0),100))},pg=e=>e===void 0||e<=0?"":e>=85?"Best match":e>=70?"Good match":e>=50?"Fair match":"Poor match",Uge="https://breneo-job-aggregator-k7ti.onrender.com/api/companies",_p=new Map,zge=async e=>{if(!e||!e.trim())return;const t=e.trim();if(_p.has(t)){const r=_p.get(t);return r===null?void 0:r}try{const r=encodeURIComponent(t),n=`${Uge}/${r}`,s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(s.ok){const a=await s.json(),i=a.logo||a.company_logo||a.logo_url||a.employer_logo;if(i&&typeof i=="string")try{if(new URL(i).protocol.startsWith("http"))return _p.set(t,i),i}catch{}}_p.set(t,null);return}catch(r){console.error(`Error fetching company logo for ${t}:`,r),_p.set(t,null);return}},bA=async(e,t)=>{const r=await zge(e);return r||t},qge=(e,t)=>{if(!t||t.length===0)return .5;if(!e.required_skills||e.required_skills.length===0)return .3;const r=l=>l.toLowerCase().trim().replace(/\s+/g," "),n=t.map(r),s=e.required_skills.map(r);let a=0;return s.forEach(l=>{n.forEach(c=>{c===l?a+=2:(l.includes(c)||c.includes(l))&&(a+=1)})}),a>0?a/s.length*(a/n.length)*10:.1},Wge=async()=>{try{const e={country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[]};return(await mi.fetchActiveJobs({query:"",filters:e,page:1,pageSize:50})).jobs||[]}catch(e){throw console.error("Error fetching jobs:",e),e}},XI=()=>{var G;const{user:e,loading:t}=_r(),r=dr(),n=Vs(),s=ha(),a=Zi(),[i,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState(!0),[h,g]=p.useState(!1),y=p.useRef(null),m=p.useRef(null),[v,x]=p.useState(!1),[w,b]=p.useState(!1),[_,S]=p.useState(!1);p.useEffect(()=>{(async()=>{if(!e){f(!1),g(!1);return}try{f(!0);try{const ae=await Ae.get(`/api/skilltest/results/?user=${e.id}`);let V=null;if(Array.isArray(ae.data)&&ae.data.length>0?V=ae.data[0]:ae.data&&typeof ae.data=="object"&&(V=ae.data),V&&(V.final_role||V.skills_json)){g(!0);const W=V.skills_json||{},J=Object.keys(W.tech||{}),K=Object.keys(W.soft||{}),Q=[...J,...K];l(Q),u(J),f(!1);return}}catch{}try{const ae=await Ae.get(`/api/user/${e.id}/skills`);if(ae.data&&ae.data.skills){const V=ae.data.skills.slice(0,5);l(V),u(V),g(V.length>0),f(!1);return}}catch{}const Y=await Th(String(e.id));if(Y&&Y.length>0){g(!0);const ae=Oh(Y),W=t1(ae,20).map(Q=>Q.skill);l(W);const J=["javascript","python","java","c++","c#","go","rust","php","ruby","swift","kotlin","typescript","html","css","sql","react","vue","angular","node.js","express","django","flask","spring","laravel","rails","git","docker","kubernetes","aws","azure","gcp","linux","machine learning","data science","ai","blockchain","devops","testing"],K=W.filter(Q=>J.some(se=>Q.toLowerCase().includes(se.toLowerCase())||se.toLowerCase().includes(Q.toLowerCase())));u(K.length>0?K:W)}else g(!1)}catch(Y){console.error("Error fetching user skills:",Y),g(!1)}finally{f(!1)}})()},[e]),p.useEffect(()=>{S(!0)},[]);const{data:E=[]}=Xt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var H;if(!e)return[];try{const ae=((H=(await Ae.get(gt.AUTH.PROFILE)).data)==null?void 0:H.saved_jobs)||[];return Array.isArray(ae)?ae.map(V=>{if(typeof V=="string"||typeof V=="number")return String(V);if(V&&typeof V=="object"){const W=V;if(W.id)return String(W.id);if(W.job_id)return String(W.job_id);if(W.jobId)return String(W.jobId)}return null}).filter(V=>V!==null):[]}catch(Y){return console.error("Error fetching saved jobs:",Y),[]}},enabled:!!e}),{data:k=[]}=Xt({queryKey:["savedCourseIds",e==null?void 0:e.id],queryFn:async()=>{var H;if(!e)return[];try{const ae=((H=(await Ae.get(gt.AUTH.PROFILE)).data)==null?void 0:H.saved_courses)||[];return Array.isArray(ae)?ae.map(V=>{if(typeof V=="string"||typeof V=="number")return String(V);if(V&&typeof V=="object"){const W=V;if(W.id)return String(W.id);if(W.course_id)return String(W.course_id);if(W.courseId)return String(W.courseId)}return null}).filter(V=>V!==null):[]}catch(Y){return console.error("Error fetching saved course IDs:",Y),[]}},enabled:!!e}),{data:j=[],isLoading:N,error:C}=Xt({queryKey:["home-jobs"],queryFn:()=>Wge(),enabled:!!e,staleTime:5*60*1e3,retry:1});p.useEffect(()=>{C&&console.error("Error fetching jobs:",C)},[C]);const P=ca({mutationFn:async H=>{if(!e)throw new Error("User not logged in");if(!H.id)throw new Error("Job ID is required");const Y=String(H.id);H.is_saved;try{const ae=`${gt.JOBS.SAVE_JOB}${Y}/`;await Ae.post(ae)}catch(ae){const V=ae instanceof Error?ae.message:"Failed to save job. Please try again.";throw new Error(V)}},onSuccess:(H,Y)=>{n.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),n.invalidateQueries({queryKey:["profile"]}),le.success(Y.is_saved?"Job Unsaved":"Job Saved")},onError:H=>{console.error("Error saving job:",H);const Y=H instanceof Error?H.message:"Failed to save job";le.error(Y)}}),{data:R=[],isLoading:F}=Xt({queryKey:["home-courses"],queryFn:async()=>{const{data:H,error:Y}=await Vt.from("courses").select("*").order("created_at",{ascending:!1});return Y?(console.error("Error fetching courses:",Y),[]):H||[]},enabled:!!e&&!d}),z=p.useMemo(()=>{if(!R||R.length===0)return[];if(!i||i.length===0)return R.map(V=>({...V,match:.5}));const H=R.map(V=>({...V,match:qge(V,i)}));H.sort((V,W)=>{if(Math.abs((V.match||0)-(W.match||0))>.1)return(W.match||0)-(V.match||0);const J=V.required_skills&&V.required_skills.length>0,K=W.required_skills&&W.required_skills.length>0;return J&&!K?-1:!J&&K?1:0});const Y=H.filter(V=>(V.match||0)>.1),ae=H.filter(V=>(V.match||0)<=.1);return[...Y,...ae].slice(0,20)},[R,i]),D=ca({mutationFn:async H=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Ae.post(`/api/save-course/${H}/`)},onMutate:async H=>{await n.cancelQueries({queryKey:["savedCourseIds",e==null?void 0:e.id]});const Y=n.getQueryData(["savedCourseIds",e==null?void 0:e.id]);let ae=!1;return n.setQueryData(["savedCourseIds",e==null?void 0:e.id],V=>{if(!V)return V;const W=String(H);return ae=V.includes(W),ae?V.filter(J=>J!==W):[...V,W]}),{previousSavedCourseIds:Y,wasSaved:ae}},onError:(H,Y,ae)=>{ae!=null&&ae.previousSavedCourseIds&&(e!=null&&e.id)&&n.setQueryData(["savedCourseIds",e.id],ae.previousSavedCourseIds),console.error("Error updating saved courses:",H),le.error("Failed to update saved courses. Please try again.")},onSuccess:(H,Y,ae)=>{n.invalidateQueries({queryKey:["savedCourseIds",e==null?void 0:e.id]}),n.invalidateQueries({queryKey:["home-courses"]}),n.invalidateQueries({queryKey:["profile"]});const V=(ae==null?void 0:ae.wasSaved)??!1;le.success(V?"Removed from saved courses.":"Course saved to your profile.")}}),I=p.useMemo(()=>{const Y=(j||[]).map(V=>{const W=mu(V),J=V.title||V.job_title||V.position||"",K=Jl(i,W,J);return{job:V,matchPercentage:K}});return Y.sort((V,W)=>{if(V.matchPercentage!==W.matchPercentage)return W.matchPercentage-V.matchPercentage;const J=V.job.posted_at||V.job.fetched_at||V.job.date_posted||"",K=W.job.posted_at||W.job.fetched_at||W.job.date_posted||"";if(J&&K)try{const Q=new Date(J).getTime();return new Date(K).getTime()-Q}catch{return 0}return 0}),Y.slice(0,9).map(V=>V.job).map(V=>{const W=V.id||"";if(!W)return console.warn("Skipping job without valid ID:",V),null;const J=V.title||V.job_title||V.position||"Untitled Position",K=V.company_name||V.employer_name||(typeof V.company=="string"?V.company:null)||"Unknown Company",Q=V.job_city||V.city||"",se=V.job_state||V.state||"",X=V.job_country||V.country||"",ce=V.job_location||V.location||[Q,se,X].filter(Boolean).join(", ")||"Location not specified",oe=V.employer_logo||V.company_logo||V.logo_url||(typeof V.company=="object"&&V.company?V.company.logo||V.company.company_logo:void 0),xe=V.posted_at||V.fetched_at||V.date_posted||V.posted_date||V.job_posted_at_datetime_utc||void 0;let pe="By agreement";const re=V.job_min_salary||V.min_salary,ee=V.job_max_salary||V.max_salary,ye=V.job_salary_currency||V.salary_currency||"$",De=V.job_salary_period||V.salary_period||"yearly";if(re&&ee&&typeof re=="number"&&typeof ee=="number"){const he=De==="monthly"?"Monthly":"",je=re.toLocaleString(),Ee=ee.toLocaleString();["$","","","","",""].some(ut=>ye.includes(ut))?pe=`${ye}${je} - ${ye}${Ee}${he?`/${he}`:""}`:pe=`${je} - ${Ee} ${ye}${he?`/${he}`:""}`}else if(re&&typeof re=="number"){const he=re.toLocaleString();pe=["$","","","","",""].some(Me=>ye.includes(Me))?`${ye}${he}+`:`${he}+ ${ye}`}else V.salary&&typeof V.salary=="string"&&(pe=V.salary);const $=V.job_employment_type||V.employment_type||V.type||"FULLTIME",fe={FULLTIME:"Full time",PARTTIME:"Part time",CONTRACTOR:"Contract",INTERN:"Internship"}[$]||$||"Full time";let be="On-site";V.job_is_remote||V.is_remote||V.remote===!0?be="Remote":J!=null&&J.toLowerCase().includes("hybrid")&&(be="Hybrid");const We=mu(V),Ye=Jl(i,We,J);return{id:W,title:J,company:K,company_name:K,location:typeof ce=="string"?ce:"Location not specified",logo:oe,company_logo:oe,salary:pe,employment_type:fe,work_arrangement:be,is_saved:E==null?void 0:E.includes(String(W)),matchPercentage:Ye,date:xe?new Date(String(xe)).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}}).filter(V=>V!==null)},[j,E,i]),[B,T]=p.useState({});p.useEffect(()=>{(async()=>{const Y=I.filter(J=>!J.company_logo&&J.company_name);if(Y.length===0)return;const ae=Y.map(async J=>{const K=await bA(J.company_name||"",void 0);return{jobId:J.id,logo:K}}),V=await Promise.all(ae),W={};V.forEach(({jobId:J,logo:K})=>{K&&(W[J]=K)}),Object.keys(W).length>0&&T(J=>({...J,...W}))})()},[I]);const M=I.map(H=>({...H,company_logo:H.company_logo||B[H.id]||void 0})),Z=H=>{if(y.current){const ae=H==="left"?y.current.scrollLeft-400:y.current.scrollLeft+400;y.current.scrollTo({left:ae,behavior:"smooth"})}},L=H=>{if(m.current){const ae=H==="left"?m.current.scrollLeft-400:m.current.scrollLeft+400;m.current.scrollTo({left:ae,behavior:"smooth"})}};return t?o.jsx(Ot,{children:o.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Loading dashboard..."})]})})})}):e?o.jsxs(Ot,{children:[o.jsx(xA,{}),s&&o.jsx("div",{className:"mb-4 px-4 md:hidden",children:o.jsxs("h1",{className:"text-xl font-semibold text-foreground",children:[a.auth.welcome,","," ",o.jsx("span",{className:"font-bold",children:(e==null?void 0:e.first_name)||((G=e==null?void 0:e.email)==null?void 0:G.split("@")[0])||"User"}),"! "]})}),o.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[!h&&!d&&o.jsx(ke,{className:"bg-white transition-all w-auto flex-shrink-0 max-w-sm md:max-w-md rounded-3xl border-0 animate-shrink-in hover:shadow-soft transition-shadow cursor-pointer",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)",transform:v?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease-in-out"},onMouseDown:()=>x(!0),onMouseUp:()=>x(!1),onMouseLeave:()=>x(!1),onTouchStart:()=>x(!0),onTouchEnd:()=>x(!1),children:o.jsx(Ce,{className:"p-4 md:p-4",children:o.jsx(Rr,{to:"/skill-test",className:"block cursor-pointer group",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[o.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:a.home.skillTestTitle}),o.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:a.home.skillTestSubtitle})]}),o.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-target-front-color.png",alt:"Skill test target",className:"w-full h-full object-contain"})})]})})})}),h&&!d&&o.jsx(ke,{className:"bg-white transition-all w-auto flex-shrink-0 max-w-sm md:max-w-md rounded-3xl border-0 animate-shrink-in hover:shadow-soft transition-shadow cursor-pointer",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)",transform:w?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease-in-out"},onMouseDown:()=>b(!0),onMouseUp:()=>b(!1),onMouseLeave:()=>b(!1),onTouchStart:()=>b(!0),onTouchEnd:()=>b(!1),children:o.jsx(Ce,{className:"p-4 md:p-4 flex items-center justify-center md:block",children:o.jsx(Rr,{to:"/skill-path",className:"block cursor-pointer group",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[o.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:a.home.skillPathTitle}),o.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:a.home.skillPathSubtitle})]}),o.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-explorer-front-color.png",alt:"Coding A Website",className:"w-full h-full object-contain",onError:H=>{H.target.style.display="none"}})})]})})})})]}),o.jsxs("div",{className:"space-y-6 pt-6 md:pt-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:"Top job picks for you"}),!N&&!C&&M.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ne,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>Z("left"),"aria-label":"Scroll left",children:o.jsx(ME,{className:"h-4 w-4"})}),o.jsx(ne,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>Z("right"),"aria-label":"Scroll right",children:o.jsx(ja,{className:"h-4 w-4"})})]})]}),N?o.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory",children:[...Array(3)].map((H,Y)=>o.jsx(ke,{className:"relative flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px]",children:o.jsxs(Ce,{className:"p-4",children:[o.jsx(nr,{className:"h-4 w-20 mb-2"}),o.jsx(nr,{className:"h-6 w-3/4 mb-4"}),o.jsx(nr,{className:"h-4 w-1/2"})]})},Y))}):C?o.jsx(ke,{children:o.jsxs(Ce,{className:"p-6 text-center",children:[o.jsx("p",{className:"text-gray-500 mb-2",children:"Unable to load jobs at the moment."}),o.jsx("p",{className:"text-sm text-gray-400",children:"Please try again later."})]})}):M.length===0?o.jsx(ke,{children:o.jsx(Ce,{className:"p-6 text-center",children:o.jsx("p",{className:"text-gray-500",children:"No jobs found. Try adjusting your search criteria."})})}):o.jsx("div",{ref:y,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:M.map(H=>{var Y,ae;return o.jsx(ke,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl flex-shrink-0 snap-start cursor-pointer w-[calc((100%-2rem)/3)] min-w-[280px] hover:shadow-soft",onClick:()=>{if(!H.id||String(H.id).trim()==="")return;const V=encodeURIComponent(String(H.id));r(`/jobs/${V}`)},children:o.jsxs(Ce,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("div",{className:"flex-shrink-0 relative w-10 h-10",children:H.company_logo?o.jsx("img",{src:H.company_logo,alt:`${H.company_name||(typeof H.company=="string"?H.company:((Y=H.company)==null?void 0:Y.name)||"Company")} logo`,className:"w-10 h-10 rounded-md object-cover",loading:"lazy"}):o.jsx("div",{className:"w-10 h-10 rounded-md bg-breneo-accent flex items-center justify-center",children:o.jsx(ln,{className:"h-5 w-5 text-white"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:H.company_name||(typeof H.company=="string"?H.company:((ae=H.company)==null?void 0:ae.name)||"Company")}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:H.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:H.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[H.employment_type&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:H.employment_type}),H.work_arrangement&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:H.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ac,{value:H.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700",children:H.matchPercentage!==void 0?H.matchPercentage>=85?"Best match":H.matchPercentage>=70?"Good match":H.matchPercentage>=50?"Fair match":"Poor match":""})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:V=>{V.stopPropagation(),P.mutate(H)},"aria-label":H.is_saved?"Unsave job":"Save job",className:ue("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",H.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(as,{className:ue("h-4 w-4 transition-colors",H.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},H.id)})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Top courses picked for you"})}),!F&&z.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ne,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>L("left"),"aria-label":"Scroll courses left",children:o.jsx(ME,{className:"h-4 w-4"})}),o.jsx(ne,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>L("right"),"aria-label":"Scroll courses right",children:o.jsx(ja,{className:"h-4 w-4"})})]})]}),F?o.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:[...Array(3)].map((H,Y)=>o.jsx(ke,{className:"relative flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px]",children:o.jsxs(Ce,{className:"p-0",children:[o.jsx(nr,{className:"h-40 w-full rounded-t-3xl"}),o.jsxs("div",{className:"p-4",children:[o.jsx(nr,{className:"h-5 w-3/4 mb-2"}),o.jsx(nr,{className:"h-4 w-1/2 mb-3"}),o.jsx(nr,{className:"h-3 w-full"})]})]})},Y))}):z.length===0?o.jsx(ke,{children:o.jsxs(Ce,{className:"p-8 text-center",children:[o.jsx(Eh,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500",children:"No courses available at the moment."})]})}):o.jsx("div",{ref:m,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:z.map(H=>{const Y=k.includes(String(H.id));return o.jsx(Rr,{to:`/course/${H.id}`,className:"flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px] block",children:o.jsx(ke,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl w-full flex flex-col hover:shadow-soft",children:o.jsxs(Ce,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:H.image||"/placeholder.svg",alt:H.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200 origin-center",style:{transformOrigin:"center center"},onError:ae=>{ae.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:H.title}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:H.duration&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:H.duration})}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:ae=>{ae.preventDefault(),ae.stopPropagation(),D.mutate(String(H.id))},"aria-label":Y?"Unsave course":"Save course",className:ue("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",Y?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(as,{className:ue("h-4 w-4 transition-colors",Y?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})]})})},H.id)})})]})]})]})})]}):o.jsx(Ot,{children:o.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-gray-600",children:"Please wait while we load your dashboard..."})})})})})},wA=p.createContext({});function _A(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const $q=typeof window<"u",Rq=$q?p.useLayoutEffect:p.useEffect,s1=p.createContext(null);function SA(e,t){e.indexOf(t)===-1&&e.push(t)}function jA(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Ji=(e,t,r)=>r>t?t:r<e?e:r;let a1=()=>{},Bf=()=>{};const Do={},Mq=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Iq(e){return typeof e=="object"&&e!==null}const Lq=e=>/^0[^.\s]+$/u.test(e);function kA(e){let t;return()=>(t===void 0&&(t=e()),t)}const $a=e=>e,Vge=(e,t)=>r=>t(e(r)),Ay=(...e)=>e.reduce(Vge),mg=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class EA{constructor(){this.subscriptions=[]}add(t){return SA(this.subscriptions,t),()=>jA(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let a=0;a<s;a++){const i=this.subscriptions[a];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zi=e=>e*1e3,Ea=e=>e/1e3;function Dq(e,t){return t?e*(1e3/t):0}const Fq=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Hge=1e-7,Kge=12;function Gge(e,t,r,n,s){let a,i,l=0;do i=t+(r-t)/2,a=Fq(i,n,s)-e,a>0?r=i:t=i;while(Math.abs(a)>Hge&&++l<Kge);return i}function Ty(e,t,r,n){if(e===t&&r===n)return $a;const s=a=>Gge(a,0,1,e,r);return a=>a===0||a===1?a:Fq(s(a),t,n)}const Bq=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Uq=e=>t=>1-e(1-t),zq=Ty(.33,1.53,.69,.99),NA=Uq(zq),qq=Bq(NA),Wq=e=>(e*=2)<1?.5*NA(e):.5*(2-Math.pow(2,-10*(e-1))),CA=e=>1-Math.sin(Math.acos(e)),Vq=Uq(CA),Hq=Bq(CA),Jge=Ty(.42,0,1,1),Yge=Ty(0,0,.58,1),Kq=Ty(.42,0,.58,1),Xge=e=>Array.isArray(e)&&typeof e[0]!="number",Gq=e=>Array.isArray(e)&&typeof e[0]=="number",QI={linear:$a,easeIn:Jge,easeInOut:Kq,easeOut:Yge,circIn:CA,circInOut:Hq,circOut:Vq,backIn:NA,backInOut:qq,backOut:zq,anticipate:Wq},Qge=e=>typeof e=="string",ZI=e=>{if(Gq(e)){Bf(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,r,n,s]=e;return Ty(t,r,n,s)}else if(Qge(e))return Bf(QI[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),QI[e];return e},Dv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],e4={value:null,addProjectionMetrics:null};function Zge(e,t){let r=new Set,n=new Set,s=!1,a=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){i.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,g=!1)=>{const m=g&&s?r:n;return h&&i.add(f),m.has(f)||m.add(f),f},cancel:f=>{n.delete(f),i.delete(f)},process:f=>{if(l=f,s){a=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),t&&e4.value&&e4.value.frameloop[t].push(c),c=0,r.clear(),s=!1,a&&(a=!1,d.process(f))}};return d}const eye=40;function Jq(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,i=Dv.reduce((b,_)=>(b[_]=Zge(a,t?_:void 0),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:g,postRender:y}=i,m=()=>{const b=Do.useManualTiming?s.timestamp:performance.now();r=!1,Do.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(b-s.timestamp,eye),1)),s.timestamp=b,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),g.process(s),y.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(m))},v=()=>{r=!0,n=!0,s.isProcessing||e(m)};return{schedule:Dv.reduce((b,_)=>{const S=i[_];return b[_]=(E,k=!1,j=!1)=>(r||v(),S.schedule(E,k,j)),b},{}),cancel:b=>{for(let _=0;_<Dv.length;_++)i[Dv[_]].cancel(b)},state:s,steps:i}}const{schedule:Ir,cancel:ic,state:In,steps:$S}=Jq(typeof requestAnimationFrame<"u"?requestAnimationFrame:$a,!0);let O0;function tye(){O0=void 0}const ws={now:()=>(O0===void 0&&ws.set(In.isProcessing||Do.useManualTiming?In.timestamp:performance.now()),O0),set:e=>{O0=e,queueMicrotask(tye)}},Yq=e=>t=>typeof t=="string"&&t.startsWith(e),Xq=Yq("--"),rye=Yq("var(--"),PA=e=>rye(e)?nye.test(e.split("/*")[0].trim()):!1,nye=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function t4(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const $h={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gg={...$h,transform:e=>Ji(0,1,e)},Fv={...$h,default:1},_m=e=>Math.round(e*1e5)/1e5,AA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sye(e){return e==null}const aye=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,TA=(e,t)=>r=>!!(typeof r=="string"&&aye.test(r)&&r.startsWith(e)||t&&!sye(r)&&Object.prototype.hasOwnProperty.call(r,t)),Qq=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,a,i,l]=n.match(AA);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},iye=e=>Ji(0,255,e),RS={...$h,transform:e=>Math.round(iye(e))},Hc={test:TA("rgb","red"),parse:Qq("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+RS.transform(e)+", "+RS.transform(t)+", "+RS.transform(r)+", "+_m(gg.transform(n))+")"};function oye(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const eN={test:TA("#"),parse:oye,transform:Hc.transform},Oy=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),cl=Oy("deg"),qi=Oy("%"),st=Oy("px"),lye=Oy("vh"),cye=Oy("vw"),r4={...qi,parse:e=>qi.parse(e)/100,transform:e=>qi.transform(e*100)},Id={test:TA("hsl","hue"),parse:Qq("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+qi.transform(_m(t))+", "+qi.transform(_m(r))+", "+_m(gg.transform(n))+")"},sn={test:e=>Hc.test(e)||eN.test(e)||Id.test(e),parse:e=>Hc.test(e)?Hc.parse(e):Id.test(e)?Id.parse(e):eN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Hc.transform(e):Id.transform(e),getAnimatableNone:e=>{const t=sn.parse(e);return t.alpha=0,sn.transform(t)}},uye=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dye(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(AA))==null?void 0:t.length)||0)+(((r=e.match(uye))==null?void 0:r.length)||0)>0}const Zq="number",eW="color",fye="var",hye="var(",n4="${}",pye=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yg(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(pye,c=>(sn.test(c)?(n.color.push(a),s.push(eW),r.push(sn.parse(c))):c.startsWith(hye)?(n.var.push(a),s.push(fye),r.push(c)):(n.number.push(a),s.push(Zq),r.push(parseFloat(c))),++a,n4)).split(n4);return{values:r,split:l,indexes:n,types:s}}function tW(e){return yg(e).values}function rW(e){const{split:t,types:r}=yg(e),n=t.length;return s=>{let a="";for(let i=0;i<n;i++)if(a+=t[i],s[i]!==void 0){const l=r[i];l===Zq?a+=_m(s[i]):l===eW?a+=sn.transform(s[i]):a+=s[i]}return a}}const mye=e=>typeof e=="number"?0:sn.test(e)?sn.getAnimatableNone(e):e;function gye(e){const t=tW(e);return rW(e)(t.map(mye))}const oc={test:dye,parse:tW,createTransformer:rW,getAnimatableNone:gye};function MS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function yye({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,a=0,i=0;if(!t)s=a=i=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=MS(c,l,e+1/3),a=MS(c,l,e),i=MS(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(i*255),alpha:n}}function Ux(e,t){return r=>r>0?t:e}const Wr=(e,t,r)=>e+(t-e)*r,IS=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},vye=[eN,Hc,Id],xye=e=>vye.find(t=>t.test(e));function s4(e){const t=xye(e);if(a1(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let r=t.parse(e);return t===Id&&(r=yye(r)),r}const a4=(e,t)=>{const r=s4(e),n=s4(t);if(!r||!n)return Ux(e,t);const s={...r};return a=>(s.red=IS(r.red,n.red,a),s.green=IS(r.green,n.green,a),s.blue=IS(r.blue,n.blue,a),s.alpha=Wr(r.alpha,n.alpha,a),Hc.transform(s))},tN=new Set(["none","hidden"]);function bye(e,t){return tN.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function wye(e,t){return r=>Wr(e,t,r)}function OA(e){return typeof e=="number"?wye:typeof e=="string"?PA(e)?Ux:sn.test(e)?a4:jye:Array.isArray(e)?nW:typeof e=="object"?sn.test(e)?a4:_ye:Ux}function nW(e,t){const r=[...e],n=r.length,s=e.map((a,i)=>OA(a)(a,t[i]));return a=>{for(let i=0;i<n;i++)r[i]=s[i](a);return r}}function _ye(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=OA(e[s])(e[s],t[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function Sye(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],i=e.indexes[a][n[a]],l=e.values[i]??0;r[s]=l,n[a]++}return r}const jye=(e,t)=>{const r=oc.createTransformer(t),n=yg(e),s=yg(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?tN.has(e)&&!s.values.length||tN.has(t)&&!n.values.length?bye(e,t):Ay(nW(Sye(n,s),s.values),r):(a1(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),Ux(e,t))};function sW(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Wr(e,t,r):OA(e)(e,t)}const kye=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Ir.update(t,r),stop:()=>ic(t),now:()=>In.isProcessing?In.timestamp:ws.now()}},aW=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let a=0;a<s;a++)n+=Math.round(e(a/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},zx=2e4;function $A(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<zx;)t+=r,n=e.next(t);return t>=zx?1/0:t}function Eye(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min($A(n),zx);return{type:"keyframes",ease:a=>n.next(s*a).value/t,duration:Ea(s)}}const Nye=5;function iW(e,t,r){const n=Math.max(t-Nye,0);return Dq(r-e(n),t-n)}const Ur={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},LS=.001;function Cye({duration:e=Ur.duration,bounce:t=Ur.bounce,velocity:r=Ur.velocity,mass:n=Ur.mass}){let s,a;a1(e<=zi(Ur.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let i=1-t;i=Ji(Ur.minDamping,Ur.maxDamping,i),e=Ji(Ur.minDuration,Ur.maxDuration,Ea(e)),i<1?(s=u=>{const d=u*i,f=d*e,h=d-r,g=rN(u,i),y=Math.exp(-f);return LS-h/g*y},a=u=>{const f=u*i*e,h=f*r+r,g=Math.pow(i,2)*Math.pow(u,2)*e,y=Math.exp(-f),m=rN(Math.pow(u,2),i);return(-s(u)+LS>0?-1:1)*((h-g)*y)/m}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-LS+d*f},a=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=Aye(s,a,l);if(e=zi(e),isNaN(c))return{stiffness:Ur.stiffness,damping:Ur.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:e}}}const Pye=12;function Aye(e,t,r){let n=r;for(let s=1;s<Pye;s++)n=n-e(n)/t(n);return n}function rN(e,t){return e*Math.sqrt(1-t*t)}const Tye=["duration","bounce"],Oye=["stiffness","damping","mass"];function i4(e,t){return t.some(r=>e[r]!==void 0)}function $ye(e){let t={velocity:Ur.velocity,stiffness:Ur.stiffness,damping:Ur.damping,mass:Ur.mass,isResolvedFromDuration:!1,...e};if(!i4(e,Oye)&&i4(e,Tye))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*Ji(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ur.mass,stiffness:s,damping:a}}else{const r=Cye(e);t={...t,...r,mass:Ur.mass},t.isResolvedFromDuration=!0}return t}function qx(e=Ur.visualDuration,t=Ur.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:g}=$ye({...r,velocity:-Ea(r.velocity||0)}),y=h||0,m=u/(2*Math.sqrt(c*d)),v=i-a,x=Ea(Math.sqrt(c/d)),w=Math.abs(v)<5;n||(n=w?Ur.restSpeed.granular:Ur.restSpeed.default),s||(s=w?Ur.restDelta.granular:Ur.restDelta.default);let b;if(m<1){const S=rN(x,m);b=E=>{const k=Math.exp(-m*x*E);return i-k*((y+m*x*v)/S*Math.sin(S*E)+v*Math.cos(S*E))}}else if(m===1)b=S=>i-Math.exp(-x*S)*(v+(y+x*v)*S);else{const S=x*Math.sqrt(m*m-1);b=E=>{const k=Math.exp(-m*x*E),j=Math.min(S*E,300);return i-k*((y+m*x*v)*Math.sinh(j)+S*v*Math.cosh(j))/S}}const _={calculatedDuration:g&&f||null,next:S=>{const E=b(S);if(g)l.done=S>=f;else{let k=S===0?y:0;m<1&&(k=S===0?zi(y):iW(b,S,E));const j=Math.abs(k)<=n,N=Math.abs(i-E)<=s;l.done=j&&N}return l.value=l.done?i:E,l},toString:()=>{const S=Math.min($A(_),zx),E=aW(k=>_.next(S*k).value,S,30);return S+"ms "+E},toTransition:()=>{}};return _}qx.applyToOptions=e=>{const t=Eye(e,100,qx);return e.ease=t.ease,e.duration=zi(t.duration),e.type="keyframes",e};function nN({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},g=j=>l!==void 0&&j<l||c!==void 0&&j>c,y=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let m=r*t;const v=f+m,x=i===void 0?v:i(v);x!==v&&(m=x-f);const w=j=>-m*Math.exp(-j/n),b=j=>x+w(j),_=j=>{const N=w(j),C=b(j);h.done=Math.abs(N)<=u,h.value=h.done?x:C};let S,E;const k=j=>{g(h.value)&&(S=j,E=qx({keyframes:[h.value,y(h.value)],velocity:iW(b,j,h.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:j=>{let N=!1;return!E&&S===void 0&&(N=!0,_(j),k(j)),S!==void 0&&j>=S?E.next(j-S):(!N&&_(j),h)}}}function Rye(e,t,r){const n=[],s=r||Do.mix||sW,a=e.length-1;for(let i=0;i<a;i++){let l=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||$a:t;l=Ay(c,l)}n.push(l)}return n}function Mye(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const a=e.length;if(Bf(a===t.length,"Both input and output ranges must be the same length","range-length"),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Rye(t,n,s),c=l.length,u=d=>{if(i&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=mg(e[f],e[f+1],d);return l[f](h)};return r?d=>u(Ji(e[0],e[a-1],d)):u}function Iye(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=mg(0,t,n);e.push(Wr(r,1,s))}}function Lye(e){const t=[0];return Iye(t,e.length-1),t}function Dye(e,t){return e.map(r=>r*t)}function Fye(e,t){return e.map(()=>t||Kq).splice(0,e.length-1)}function Sm({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=Xge(n)?n.map(ZI):ZI(n),a={done:!1,value:t[0]},i=Dye(r&&r.length===t.length?r:Lye(t),e),l=Mye(i,t,{ease:Array.isArray(s)?s:Fye(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Bye=e=>e!==null;function RA(e,{repeat:t,repeatType:r="loop"},n,s=1){const a=e.filter(Bye),l=s<0||t&&r!=="loop"&&t%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const Uye={decay:nN,inertia:nN,tween:Sm,keyframes:Sm,spring:qx};function oW(e){typeof e.type=="string"&&(e.type=Uye[e.type])}class MA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const zye=e=>e/100;class IA extends MA{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==ws.now()&&this.tick(ws.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;oW(t);const{type:r=Sm,repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:i=0}=t;let{keyframes:l}=t;const c=r||Sm;c!==Sm&&typeof l[0]!="number"&&(this.mixKeyframes=Ay(zye,sW(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=$A(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:a,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:g,type:y,onUpdate:m,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?x<0:x>s;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,_=n;if(f){const j=Math.min(this.currentTime,s)/l;let N=Math.floor(j),C=j%1;!C&&j>=1&&(C=1),C===1&&N--,N=Math.min(N,f+1),!!(N%2)&&(h==="reverse"?(C=1-C,g&&(C-=g/l)):h==="mirror"&&(_=i)),b=Ji(0,1,C)*l}const S=w?{done:!1,value:d[0]}:_.next(b);a&&(S.value=a(S.value));let{done:E}=S;!w&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return k&&y!==nN&&(S.value=RA(d,this.options,v,this.speed)),m&&m(S.value),k&&this.finish(),S}then(t,r){return this.finished.then(t,r)}get duration(){return Ea(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ea(t)}get time(){return Ea(this.currentTime)}set time(t){var r;t=zi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ws.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ea(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:t=kye,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(a=(s=this.options).onPlay)==null||a.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ws.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function qye(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Kc=e=>e*180/Math.PI,sN=e=>{const t=Kc(Math.atan2(e[1],e[0]));return aN(t)},Wye={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:sN,rotateZ:sN,skewX:e=>Kc(Math.atan(e[1])),skewY:e=>Kc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},aN=e=>(e=e%360,e<0&&(e+=360),e),o4=sN,l4=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),c4=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Vye={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:l4,scaleY:c4,scale:e=>(l4(e)+c4(e))/2,rotateX:e=>aN(Kc(Math.atan2(e[6],e[5]))),rotateY:e=>aN(Kc(Math.atan2(-e[2],e[0]))),rotateZ:o4,rotate:o4,skewX:e=>Kc(Math.atan(e[4])),skewY:e=>Kc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function iN(e){return e.includes("scale")?1:0}function oN(e,t){if(!e||e==="none")return iN(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=Vye,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Wye,s=l}if(!s)return iN(t);const a=n[t],i=s[1].split(",").map(Kye);return typeof a=="function"?a(i):i[a]}const Hye=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return oN(r,t)};function Kye(e){return parseFloat(e.trim())}const Rh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mh=new Set(Rh),u4=e=>e===$h||e===st,Gye=new Set(["x","y","z"]),Jye=Rh.filter(e=>!Gye.has(e));function Yye(e){const t=[];return Jye.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Ml={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>oN(t,"x"),y:(e,{transform:t})=>oN(t,"y")};Ml.translateX=Ml.x;Ml.translateY=Ml.y;const gu=new Set;let lN=!1,cN=!1,uN=!1;function lW(){if(cN){const e=Array.from(gu).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=Yye(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,i])=>{var l;(l=n.getValue(a))==null||l.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}cN=!1,lN=!1,gu.forEach(e=>e.complete(uN)),gu.clear()}function cW(){gu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(cN=!0)})}function Xye(){uN=!0,cW(),lW(),uN=!1}class LA{constructor(t,r,n,s,a,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(gu.add(this),lN||(lN=!0,Ir.read(cW),Ir.resolveKeyframes(lW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const a=s==null?void 0:s.get(),i=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const l=n.readValue(r,i);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=i),s&&a===void 0&&s.set(t[0])}qye(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),gu.delete(this)}cancel(){this.state==="scheduled"&&(gu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Qye=e=>e.startsWith("--");function Zye(e,t,r){Qye(t)?e.style.setProperty(t,r):e.style[t]=r}const eve=kA(()=>window.ScrollTimeline!==void 0),tve={};function rve(e,t){const r=kA(e);return()=>tve[t]??r()}const uW=rve(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xp=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,d4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xp([0,.65,.55,1]),circOut:Xp([.55,0,1,.45]),backIn:Xp([.31,.01,.66,-.59]),backOut:Xp([.33,1.53,.69,.99])};function dW(e,t){if(e)return typeof e=="function"?uW()?aW(e,t):"ease-out":Gq(e)?Xp(e):Array.isArray(e)?e.map(r=>dW(r,t)||d4.easeOut):d4[e]}function nve(e,t,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:i="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=dW(l,s);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:i==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function fW(e){return typeof e=="function"&&"applyToOptions"in e}function sve({type:e,...t}){return fW(e)&&uW()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ave extends MA{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:a,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=i,this.options=t,Bf(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const u=sve(t);this.animation=nve(r,n,s,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=RA(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Zye(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ea(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ea(t)}get time(){return Ea(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=zi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&eve()?(this.animation.timeline=t,$a):r(this)}}const hW={anticipate:Wq,backInOut:qq,circInOut:Hq};function ive(e){return e in hW}function ove(e){typeof e.ease=="string"&&ive(e.ease)&&(e.ease=hW[e.ease])}const DS=10;class lve extends ave{constructor(t){ove(t),oW(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:a,...i}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new IA({...i,autoplay:!1}),c=Math.max(DS,ws.now()-this.startTime),u=Ji(0,DS,c-DS);r.setWithVelocity(l.sample(Math.max(0,c-u)).value,l.sample(c).value,u),l.stop()}}const f4=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(oc.test(e)||e==="0")&&!e.startsWith("url("));function cve(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function uve(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],i=f4(s,t),l=f4(a,t);return a1(i===l,`You are trying to animate ${t} from "${s}" to "${a}". "${i?a:s}" is not an animatable value.`,"value-not-animatable"),!i||!l?!1:cve(e)||(r==="spring"||fW(r))&&n}function dN(e){e.duration=0,e.type="keyframes"}const dve=new Set(["opacity","clipPath","filter","transform"]),fve=kA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hve(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:a,type:i}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return fve()&&r&&dve.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&a!==0&&i!=="inertia"}const pve=40;class mve extends MA{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var y;super(),this.stop=()=>{var m,v;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=ws.now();const h={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:i,name:c,motionValue:u,element:d,...f},g=(d==null?void 0:d.KeyframeResolver)||LA;this.keyframeResolver=new g(l,(m,v,x)=>this.onKeyframesResolved(m,v,h,!x),c,u,d),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:a,type:i,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=ws.now(),uve(t,a,i,l)||((Do.instantAnimations||!c)&&(d==null||d(RA(t,n,r))),t[0]=t[t.length-1],dN(n),n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>pve?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},g=!u&&hve(h)?new lve({...h,element:h.motionValue.owner.current}):new IA(h);g.finished.then(()=>this.notifyFinished()).catch($a),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Xye()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const gve=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yve(e){const t=gve.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}const vve=4;function pW(e,t,r=1){Bf(r<=vve,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[n,s]=yve(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const i=a.trim();return Mq(i)?parseFloat(i):i}return PA(s)?pW(s,t,r+1):s}function DA(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const xve={type:"spring",stiffness:500,damping:25,restSpeed:10},bve=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),wve={type:"keyframes",duration:.8},_ve={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sve=(e,{keyframes:t})=>t.length>2?wve:Mh.has(e)?e.startsWith("scale")?bve(t[1]):xve:_ve;function jve({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const kve=e=>e!==null;function Eve(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(kve),a=t&&r!=="loop"&&t%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}function mW(e,t,r,n=0,s=1){const a=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),i=e.size,l=(i-1)*n;return typeof r=="function"?r(a,i):s===1?a*n:l-a*n}const FA=(e,t,r,n={},s,a)=>i=>{const l=DA(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-zi(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};jve(l)||Object.assign(d,Sve(e,d)),d.duration&&(d.duration=zi(d.duration)),d.repeatDelay&&(d.repeatDelay=zi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(dN(d),d.delay===0&&(f=!0)),(Do.instantAnimations||Do.skipAnimations)&&(f=!0,dN(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!a&&t.get()!==void 0){const h=Eve(d.keyframes,l);if(h!==void 0){Ir.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new IA(d):new mve(d)},gW=new Set(["width","height","top","left","right","bottom",...Rh]),h4=30,Nve=e=>!isNaN(parseFloat(e));class Cve{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var a;const s=ws.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ws.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Nve(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new EA);const n=this.events[t].add(r);return t==="change"?()=>{n(),Ir.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ws.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>h4)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,h4);return Dq(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uf(e,t){return new Cve(e,t)}function p4(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function BA(e,t,r,n){if(typeof t=="function"){const[s,a]=p4(n);t=t(r!==void 0?r:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=p4(n);t=t(r!==void 0?r:e.custom,s,a)}return t}function nf(e,t,r){const n=e.getProps();return BA(n,t,r!==void 0?r:n.custom,e)}const fN=e=>Array.isArray(e);function Pve(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Uf(r))}function Ave(e){return fN(e)?e[e.length-1]||0:e}function Tve(e,t){const r=nf(e,t);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const i in a){const l=Ave(a[i]);Pve(e,i,l)}}const ns=e=>!!(e&&e.getVelocity);function Ove(e){return!!(ns(e)&&e.add)}function hN(e,t){const r=e.getValue("willChange");if(Ove(r))return r.add(t);if(!r&&Do.WillChange){const n=new Do.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function UA(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const $ve="framerAppearId",yW="data-"+UA($ve);function vW(e){return e.props[yW]}function Rve({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function xW(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:i,...l}=t;n&&(a=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&Rve(u,d))continue;const g={delay:r,...DA(a||{},d)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===y&&!g.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const x=vW(e);if(x){const w=window.MotionHandoffAnimation(x,d,Ir);w!==null&&(g.startTime=w,m=!0)}}hN(e,d),f.start(FA(d,f,h,e.shouldReduceMotion&&gW.has(d)?{type:!1}:g,e,m));const v=f.animation;v&&c.push(v)}return i&&Promise.all(c).then(()=>{Ir.update(()=>{i&&Tve(e,i)})}),c}function pN(e,t,r={}){var c;const n=nf(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(xW(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return Mve(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[a,i]:[i,a];return u().then(()=>d())}else return Promise.all([a(),i(r.delay)])}function Mve(e,t,r=0,n=0,s=0,a=1,i){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(pN(c,t,{...i,delay:r+(typeof n=="function"?0:n)+mW(e.variantChildren,c,n,s,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Ive(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(a=>pN(e,a,r));n=Promise.all(s)}else if(typeof t=="string")n=pN(e,t,r);else{const s=typeof t=="function"?nf(e,t,r.custom):t;n=Promise.all(xW(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Lve={test:e=>e==="auto",parse:e=>e},bW=e=>t=>t.test(e),wW=[$h,st,qi,cl,cye,lye,Lve],m4=e=>wW.find(bW(e));function Dve(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Lq(e):!0}const Fve=new Set(["brightness","contrast","saturate","opacity"]);function Bve(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(AA)||[];if(!n)return e;const s=r.replace(n,"");let a=Fve.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const Uve=/\b([a-z-]*)\(.*?\)/gu,mN={...oc,getAnimatableNone:e=>{const t=e.match(Uve);return t?t.map(Bve).join(" "):e}},g4={...$h,transform:Math.round},zve={rotate:cl,rotateX:cl,rotateY:cl,rotateZ:cl,scale:Fv,scaleX:Fv,scaleY:Fv,scaleZ:Fv,skew:cl,skewX:cl,skewY:cl,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:gg,originX:r4,originY:r4,originZ:st},zA={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,top:st,right:st,bottom:st,left:st,inset:st,insetBlock:st,insetBlockStart:st,insetBlockEnd:st,insetInline:st,insetInlineStart:st,insetInlineEnd:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,paddingBlock:st,paddingBlockStart:st,paddingBlockEnd:st,paddingInline:st,paddingInlineStart:st,paddingInlineEnd:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,marginBlock:st,marginBlockStart:st,marginBlockEnd:st,marginInline:st,marginInlineStart:st,marginInlineEnd:st,backgroundPositionX:st,backgroundPositionY:st,...zve,zIndex:g4,fillOpacity:gg,strokeOpacity:gg,numOctaves:g4},qve={...zA,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:mN,WebkitFilter:mN},_W=e=>qve[e];function SW(e,t){let r=_W(e);return r!==mN&&(r=oc),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Wve=new Set(["auto","none","0"]);function Vve(e,t,r){let n=0,s;for(;n<e.length&&!s;){const a=e[n];typeof a=="string"&&!Wve.has(a)&&yg(a).values.length&&(s=e[n]),n++}if(s&&r)for(const a of t)e[a]=SW(r,s)}class Hve extends LA{constructor(t,r,n,s,a){super(t,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),PA(f))){const h=pW(f,r.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!gW.has(n)||t.length!==2)return;const[s,a]=t,i=m4(s),l=m4(a),c=t4(s),u=t4(a);if(c!==u&&Ml[n]){this.needsMeasurement=!0;return}if(i!==l)if(u4(i)&&u4(l))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else Ml[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||Dve(t[s]))&&n.push(s);n.length&&Vve(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ml[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=n.length-1,i=n[a];n[a]=Ml[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Kve(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const jW=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function kW(e){return Iq(e)&&"offsetHeight"in e}const{schedule:qA,cancel:tKe}=Jq(queueMicrotask,!1),Ka={x:!1,y:!1};function EW(){return Ka.x||Ka.y}function Gve(e){return e==="x"||e==="y"?Ka[e]?null:(Ka[e]=!0,()=>{Ka[e]=!1}):Ka.x||Ka.y?null:(Ka.x=Ka.y=!0,()=>{Ka.x=Ka.y=!1})}function NW(e,t){const r=Kve(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function y4(e){return!(e.pointerType==="touch"||EW())}function Jve(e,t,r={}){const[n,s,a]=NW(e,r),i=l=>{if(!y4(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{y4(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",i,s)}),a}const CW=(e,t)=>t?e===t?!0:CW(e,t.parentElement):!1,WA=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Yve=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PW(e){return Yve.has(e.tagName)||e.isContentEditable===!0}const $0=new WeakSet;function v4(e){return t=>{t.key==="Enter"&&e(t)}}function FS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Xve=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=v4(()=>{if($0.has(r))return;FS(r,"down");const s=v4(()=>{FS(r,"up")}),a=()=>FS(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function x4(e){return WA(e)&&!EW()}function Qve(e,t,r={}){const[n,s,a]=NW(e,r),i=l=>{const c=l.currentTarget;if(!x4(l))return;$0.add(c);const u=t(c,l),d=(g,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),$0.has(c)&&$0.delete(c),x4(g)&&typeof u=="function"&&u(g,{success:y})},f=g=>{d(g,c===window||c===document||r.useGlobalTarget||CW(c,g.target))},h=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",i,s),kW(l)&&(l.addEventListener("focus",u=>Xve(u,s)),!PW(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function AW(e){return Iq(e)&&"ownerSVGElement"in e}function Zve(e){return AW(e)&&e.tagName==="svg"}const e0e=[...wW,sn,oc],t0e=e=>e0e.find(bW(e)),b4=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ld=()=>({x:b4(),y:b4()}),w4=()=>({min:0,max:0}),pn=()=>({x:w4(),y:w4()}),gN={current:null},TW={current:!1},r0e=typeof window<"u";function n0e(){if(TW.current=!0,!!r0e)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>gN.current=e.matches;e.addEventListener("change",t),t()}else gN.current=!1}const s0e=new WeakMap;function i1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function vg(e){return typeof e=="string"||Array.isArray(e)}const VA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],HA=["initial",...VA];function o1(e){return i1(e.animate)||HA.some(t=>vg(e[t]))}function OW(e){return!!(o1(e)||e.variants)}function a0e(e,t,r){for(const n in t){const s=t[n],a=r[n];if(ns(s))e.addValue(n,s);else if(ns(a))e.addValue(n,Uf(s,{owner:e}));else if(a!==s)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=e.getStaticValue(n);e.addValue(n,Uf(i!==void 0?i:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const _4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Wx={};function $W(e){Wx=e}function i0e(){return Wx}class o0e{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=LA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ws.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Ir.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=o1(r),this.isVariantNode=OW(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const g=f[h];c[h]!==void 0&&ns(g)&&g.set(c[h])}}mount(t){var r;this.current=t,s0e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(TW.current||n0e(),this.shouldReduceMotion=gN.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ic(this.notifyUpdate),ic(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Mh.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Ir.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Wx){const r=Wx[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<_4.length;n++){const s=_4[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,i=t[a];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=a0e(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Uf(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Mq(n)||Lq(n))?n=parseFloat(n):!t0e(n)&&oc.test(r)&&(n=SW(t,r)),this.setBaseTarget(t,ns(n)?n.get():n)),ns(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var a;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=BA(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ns(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new EA),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){qA.render(this.render)}}class pc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class RW extends o0e{constructor(){super(...arguments),this.KeyframeResolver=Hve}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const n=t.style;return n?n[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ns(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function MW({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function l0e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function c0e(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function BS(e){return e===void 0||e===1}function yN({scale:e,scaleX:t,scaleY:r}){return!BS(e)||!BS(t)||!BS(r)}function Rc(e){return yN(e)||IW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function IW(e){return S4(e.x)||S4(e.y)}function S4(e){return e&&e!=="0%"}function Vx(e,t,r){const n=e-r,s=t*n;return r+s}function j4(e,t,r,n,s){return s!==void 0&&(e=Vx(e,s,n)),Vx(e,r,n)+t}function vN(e,t=0,r=1,n,s){e.min=j4(e.min,t,r,n,s),e.max=j4(e.max,t,r,n,s)}function LW(e,{x:t,y:r}){vN(e.x,t.translate,t.scale,t.originPoint),vN(e.y,r.translate,r.scale,r.originPoint)}const k4=.999999999999,E4=1.0000000000001;function u0e(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let a,i;for(let l=0;l<s;l++){a=r[l],i=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Fd(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,LW(e,i)),n&&Rc(a.latestValues)&&Fd(e,a.latestValues))}t.x<E4&&t.x>k4&&(t.x=1),t.y<E4&&t.y>k4&&(t.y=1)}function Dd(e,t){e.min=e.min+t,e.max=e.max+t}function N4(e,t,r,n,s=.5){const a=Wr(e.min,e.max,s);vN(e,t,r,a,n)}function Fd(e,t){N4(e.x,t.x,t.scaleX,t.scale,t.originX),N4(e.y,t.y,t.scaleY,t.scale,t.originY)}function DW(e,t){return MW(c0e(e.getBoundingClientRect(),t))}function d0e(e,t,r){const n=DW(e,r),{scroll:s}=t;return s&&(Dd(n.x,s.offset.x),Dd(n.y,s.offset.y)),n}const f0e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},h0e=Rh.length;function p0e(e,t,r){let n="",s=!0;for(let a=0;a<h0e;a++){const i=Rh[a],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=jW(l,zA[i]);if(!c){s=!1;const d=f0e[i]||i;n+=`${d}(${u}) `}r&&(t[i]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function KA(e,t,r){const{style:n,vars:s,transformOrigin:a}=e;let i=!1,l=!1;for(const c in t){const u=t[c];if(Mh.has(c)){i=!0;continue}else if(Xq(c)){s[c]=u;continue}else{const d=jW(u,zA[c]);c.startsWith("origin")?(l=!0,a[c]=d):n[c]=d}}if(t.transform||(i||r?n.transform=p0e(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}function FW(e,{style:t,vars:r},n,s){const a=e.style;let i;for(i in t)a[i]=t[i];s==null||s.applyProjectionStyles(a,n);for(i in r)a.setProperty(i,r[i])}function C4(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Sp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(st.test(e))e=parseFloat(e);else return e;const r=C4(e,t.target.x),n=C4(e,t.target.y);return`${r}% ${n}%`}},m0e={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=oc.parse(e);if(s.length>5)return n;const a=oc.createTransformer(e),i=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+i]/=l,s[1+i]/=c;const u=Wr(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),a(s)}},xN={borderRadius:{...Sp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sp,borderTopRightRadius:Sp,borderBottomLeftRadius:Sp,borderBottomRightRadius:Sp,boxShadow:m0e};function BW(e,{layout:t,layoutId:r}){return Mh.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!xN[e]||e==="opacity")}function GA(e,t,r){var i;const n=e.style,s=t==null?void 0:t.style,a={};if(!n)return a;for(const l in n)(ns(n[l])||s&&ns(s[l])||BW(l,e)||((i=r==null?void 0:r.getValue(l))==null?void 0:i.liveStyle)!==void 0)&&(a[l]=n[l]);return a}function g0e(e){return window.getComputedStyle(e)}class y0e extends RW{constructor(){super(...arguments),this.type="html",this.renderInstance=FW}readValueFromInstance(t,r){var n;if(Mh.has(r))return(n=this.projection)!=null&&n.isProjecting?iN(r):Hye(t,r);{const s=g0e(t),a=(Xq(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return DW(t,r)}build(t,r,n){KA(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return GA(t,r,n)}}const v0e={offset:"stroke-dashoffset",array:"stroke-dasharray"},x0e={offset:"strokeDashoffset",array:"strokeDasharray"};function b0e(e,t,r=1,n=0,s=!0){e.pathLength=1;const a=s?v0e:x0e;e[a.offset]=st.transform(-n);const i=st.transform(t),l=st.transform(r);e[a.array]=`${i} ${l}`}const w0e=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function UW(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:a=1,pathOffset:i=0,...l},c,u,d){if(KA(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox);for(const g of w0e)f[g]!==void 0&&(h[g]=f[g],delete f[g]);t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),s!==void 0&&b0e(f,s,a,i,!1)}const zW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),qW=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _0e(e,t,r,n){FW(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(zW.has(s)?s:UA(s),t.attrs[s])}function WW(e,t,r){const n=GA(e,t,r);for(const s in e)if(ns(e[s])||ns(t[s])){const a=Rh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=e[s]}return n}class S0e extends RW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Mh.has(r)){const n=_W(r);return n&&n.default||0}return r=zW.has(r)?r:UA(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return WW(t,r,n)}build(t,r,n){UW(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){_0e(t,r,n,s)}mount(t){this.isSVGTag=qW(t.tagName),super.mount(t)}}const j0e=HA.length;function VW(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?VW(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<j0e;r++){const n=HA[r],s=e.props[n];(vg(s)||s===!1)&&(t[n]=s)}return t}function HW(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const k0e=[...VA].reverse(),E0e=VA.length;function N0e(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Ive(e,r,n)))}function C0e(e){let t=N0e(e),r=P4(),n=!0;const s=c=>(u,d)=>{var h;const f=nf(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:y,...m}=f;u={...u,...m,...y}}return u};function a(c){t=c(e)}function i(c){const{props:u}=e,d=VW(e.parent)||{},f=[],h=new Set;let g={},y=1/0;for(let v=0;v<E0e;v++){const x=k0e[v],w=r[x],b=u[x]!==void 0?u[x]:d[x],_=vg(b),S=x===c?w.isActive:null;S===!1&&(y=v);let E=b===d[x]&&b!==u[x]&&_;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...g},!w.isActive&&S===null||!b&&!w.prevProp||i1(b)||typeof b=="boolean")continue;const k=P0e(w.prevProp,b);let j=k||x===c&&w.isActive&&!E&&_||v>y&&_,N=!1;const C=Array.isArray(b)?b:[b];let P=C.reduce(s(x),{});S===!1&&(P={});const{prevResolvedValues:R={}}=w,F={...R,...P},z=B=>{j=!0,h.has(B)&&(N=!0,h.delete(B)),w.needsAnimating[B]=!0;const T=e.getValue(B);T&&(T.liveStyle=!1)};for(const B in F){const T=P[B],M=R[B];if(g.hasOwnProperty(B))continue;let Z=!1;fN(T)&&fN(M)?Z=!HW(T,M):Z=T!==M,Z?T!=null?z(B):h.add(B):T!==void 0&&h.has(B)?z(B):w.protectedKeys[B]=!0}w.prevProp=b,w.prevResolvedValues=P,w.isActive&&(g={...g,...P}),n&&e.blockInitialAnimation&&(j=!1);const D=E&&k;j&&(!D||N)&&f.push(...C.map(B=>{const T={type:x};if(typeof B=="string"&&n&&!D&&e.manuallyAnimateOnMount&&e.parent){const{parent:M}=e,Z=nf(M,B);if(M.enteringChildren&&Z){const{delayChildren:L}=Z.transition||{};T.delay=mW(M.enteringChildren,e,L)}}return{animation:B,options:T}}))}if(h.size){const v={};if(typeof u.initial!="boolean"){const x=nf(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(v.transition=x.transition)}h.forEach(x=>{const w=e.getBaseTarget(x),b=e.getValue(x);b&&(b.liveStyle=!0),v[x]=w??null}),f.push({animation:v})}let m=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var g;return(g=h.animationState)==null?void 0:g.setActive(c,u)}),r[c].isActive=u;const d=i(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:i,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=P4()}}}function P0e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!HW(t,e):!1}function Cc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function P4(){return{animate:Cc(!0),whileInView:Cc(),whileHover:Cc(),whileTap:Cc(),whileDrag:Cc(),whileFocus:Cc(),exit:Cc()}}const KW=1e-4,A0e=1-KW,T0e=1+KW,GW=.01,O0e=0-GW,$0e=0+GW;function _s(e){return e.max-e.min}function R0e(e,t,r){return Math.abs(e-t)<=r}function A4(e,t,r,n=.5){e.origin=n,e.originPoint=Wr(t.min,t.max,e.origin),e.scale=_s(r)/_s(t),e.translate=Wr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=A0e&&e.scale<=T0e||isNaN(e.scale))&&(e.scale=1),(e.translate>=O0e&&e.translate<=$0e||isNaN(e.translate))&&(e.translate=0)}function jm(e,t,r,n){A4(e.x,t.x,r.x,n?n.originX:void 0),A4(e.y,t.y,r.y,n?n.originY:void 0)}function T4(e,t,r){e.min=r.min+t.min,e.max=e.min+_s(t)}function M0e(e,t,r){T4(e.x,t.x,r.x),T4(e.y,t.y,r.y)}function O4(e,t,r){e.min=t.min-r.min,e.max=e.min+_s(t)}function Hx(e,t,r){O4(e.x,t.x,r.x),O4(e.y,t.y,r.y)}function $4(e,t,r,n,s){return e-=t,e=Vx(e,1/r,n),s!==void 0&&(e=Vx(e,1/s,n)),e}function I0e(e,t=0,r=1,n=.5,s,a=e,i=e){if(qi.test(t)&&(t=parseFloat(t),t=Wr(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=Wr(a.min,a.max,n);e===a&&(l-=t),e.min=$4(e.min,t,r,l,s),e.max=$4(e.max,t,r,l,s)}function R4(e,t,[r,n,s],a,i){I0e(e,t[r],t[n],t[s],t.scale,a,i)}const L0e=["x","scaleX","originX"],D0e=["y","scaleY","originY"];function M4(e,t,r,n){R4(e.x,t,L0e,r?r.x:void 0,n?n.x:void 0),R4(e.y,t,D0e,r?r.y:void 0,n?n.y:void 0)}function I4(e,t){e.min=t.min,e.max=t.max}function qa(e,t){I4(e.x,t.x),I4(e.y,t.y)}function L4(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function D4(e){return e.translate===0&&e.scale===1}function JW(e){return D4(e.x)&&D4(e.y)}function F4(e,t){return e.min===t.min&&e.max===t.max}function F0e(e,t){return F4(e.x,t.x)&&F4(e.y,t.y)}function B4(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function YW(e,t){return B4(e.x,t.x)&&B4(e.y,t.y)}function U4(e){return _s(e.x)/_s(e.y)}function z4(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function va(e){return[e("x"),e("y")]}function B0e(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((s||a||i)&&(n=`translate3d(${s}px, ${a}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:g,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),g&&(n+=`skewX(${g}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const XW=["TopLeft","TopRight","BottomLeft","BottomRight"],U0e=XW.length,q4=e=>typeof e=="string"?parseFloat(e):e,W4=e=>typeof e=="number"||st.test(e);function z0e(e,t,r,n,s,a){s?(e.opacity=Wr(0,r.opacity??1,q0e(n)),e.opacityExit=Wr(t.opacity??1,0,W0e(n))):a&&(e.opacity=Wr(t.opacity??1,r.opacity??1,n));for(let i=0;i<U0e;i++){const l=`border${XW[i]}Radius`;let c=V4(t,l),u=V4(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||W4(c)===W4(u)?(e[l]=Math.max(Wr(q4(c),q4(u),n),0),(qi.test(u)||qi.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Wr(t.rotate||0,r.rotate||0,n))}function V4(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const q0e=QW(0,.5,Vq),W0e=QW(.5,.95,$a);function QW(e,t,r){return n=>n<e?0:n>t?1:r(mg(e,t,n))}function V0e(e,t){const r=ws.now(),n=({timestamp:s})=>{const a=s-r;a>=t&&(ic(n),e(a-t))};return Ir.setup(n,!0),()=>ic(n)}function xg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function R0(e){return ns(e)?e.get():e}function H0e(e,t,r){const n=ns(e)?e:Uf(e);return n.start(FA("",n,t,r)),n.animation}const K0e=(e,t)=>e.depth-t.depth;class G0e{constructor(){this.children=[],this.isDirty=!1}add(t){SA(this.children,t),this.isDirty=!0}remove(t){jA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(K0e),this.isDirty=!1,this.children.forEach(t)}}class J0e{constructor(){this.members=[]}add(t){SA(this.members,t),t.scheduleRender()}remove(t){if(jA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const M0={hasAnimatedSinceResize:!0,hasEverUpdated:!1},US=["","X","Y","Z"],Y0e=1e3;let X0e=0;function zS(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function ZW(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=vW(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Ir,!(s||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&ZW(n)}function eV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(i={},l=t==null?void 0:t()){this.id=X0e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(exe),this.nodes.forEach(sxe),this.nodes.forEach(axe),this.nodes.forEach(txe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new G0e)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new EA),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=AW(i)&&!Zve(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;Ir.read(()=>{f=window.innerWidth}),e(i,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,d&&d(),d=V0e(h,250),M0.hasAnimatedSinceResize&&(M0.hasAnimatedSinceResize=!1,this.nodes.forEach(G4)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||uxe,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=u.getProps(),x=!this.targetLayout||!YW(this.targetLayout,g),w=!f&&h;if(this.options.layoutRoot||this.resumeFrom||w||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...DA(y,"layout"),onPlay:m,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,w)}else f||G4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ic(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ixe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ZW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(H4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(K4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nxe),this.nodes.forEach(Q0e),this.nodes.forEach(Z0e)):this.nodes.forEach(K4),this.clearAllSnapshots();const l=ws.now();In.delta=Ji(0,1e3/60,l-In.timestamp),In.timestamp=l,In.isProcessing=!0,$S.update.process(In),$S.preRender.process(In),$S.render.process(In),In.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rxe),this.sharedNodes.forEach(oxe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ir.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ir.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_s(this.snapshot.measuredBox.x)&&!_s(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!JW(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&this.instance&&(l||Rc(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),dxe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:i}=this.options;if(!i)return pn();const l=i.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(fxe))){const{scroll:d}=this.root;d&&(Dd(l.x,d.offset.x),Dd(l.y,d.offset.y))}return l}removeElementScroll(i){var c;const l=pn();if(qa(l,i),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&qa(l,i),Dd(l.x,f.offset.x),Dd(l.y,f.offset.y))}return l}applyTransform(i,l=!1){const c=pn();qa(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Fd(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Rc(d.latestValues)&&Fd(c,d.latestValues)}return Rc(this.latestValues)&&Fd(c,this.latestValues),c}removeTransform(i){const l=pn();qa(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Rc(u.latestValues))continue;yN(u.latestValues)&&u.updateSnapshot();const d=pn(),f=u.measurePageBox();qa(d,f),M4(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Rc(this.latestValues)&&M4(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==In.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=In.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pn(),this.targetWithTransforms=pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),M0e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qa(this.target,this.layout.layoutBox),LW(this.target,this.targetDelta)):qa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||yN(this.parent.latestValues)||IW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(i,l,c){this.relativeParent=i,this.linkedParentVersion=i.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),Hx(this.relativeTargetOrigin,l,c),qa(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var y;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===In.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;qa(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;u0e(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=pn());const{target:g}=i;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(L4(this.prevProjectionDelta.x,this.projectionDelta.x),L4(this.prevProjectionDelta.y,this.projectionDelta.y)),jm(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!z4(this.projectionDelta.x,this.prevProjectionDelta.x)||!z4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ld(),this.projectionDelta=Ld(),this.projectionDeltaWithTransform=Ld()}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Ld();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=pn(),g=c?c.source:void 0,y=this.layout?this.layout.source:void 0,m=g!==y,v=this.getStack(),x=!v||v.members.length<=1,w=!!(m&&!x&&this.options.crossfade===!0&&!this.path.some(cxe));this.animationProgress=0;let b;this.mixTargetDelta=_=>{const S=_/1e3;J4(f.x,i.x,S),J4(f.y,i.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hx(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lxe(this.relativeTarget,this.relativeTargetOrigin,h,S),b&&F0e(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=pn()),qa(b,this.relativeTarget)),m&&(this.animationValues=d,z0e(d,u,this.latestValues,S,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ic(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ir.update(()=>{M0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Uf(0)),this.currentAnimation=H0e(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y0e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&tV(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||pn();const f=_s(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const h=_s(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+h}qa(l,c),Fd(l,d),jm(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new J0e),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&zS("z",i,u,this.animationValues);for(let d=0;d<US.length;d++)zS(`rotate${US[d]}`,i,u,this.animationValues),zS(`skew${US[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}applyProjectionStyles(i,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=R0(l==null?void 0:l.pointerEvents)||"",i.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=R0(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Rc(this.latestValues)&&(i.transform=c?c({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=B0e(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),i.transform=f;const{x:h,y:g}=this.projectionDelta;i.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,u.animationValues?i.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in xN){if(d[y]===void 0)continue;const{correct:m,applyTo:v,isCSSVariable:x}=xN[y],w=f==="none"?d[y]:m(d[y],u);if(v){const b=v.length;for(let _=0;_<b;_++)i[v[_]]=w}else x?this.options.visualElement.renderState.vars[y]=w:i[y]=w}this.options.layoutId&&(i.pointerEvents=u===this?R0(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(H4),this.root.sharedNodes.clear()}}}function Q0e(e){e.updateLayout()}function Z0e(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?va(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],g=_s(h);h.min=n[f].min,h.max=h.min+g}):tV(a,t.layoutBox,n)&&va(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],g=_s(n[f]);h.max=h.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=Ld();jm(l,n,t.layoutBox);const c=Ld();i?jm(c,e.applyTransform(s,!0),t.measuredBox):jm(c,n,t.layoutBox);const u=!JW(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const y=pn();Hx(y,t.layoutBox,h.layoutBox);const m=pn();Hx(m,n,g.layoutBox),YW(y,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function exe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function txe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rxe(e){e.clearSnapshot()}function H4(e){e.clearMeasurements()}function K4(e){e.isLayoutDirty=!1}function nxe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function G4(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sxe(e){e.resolveTargetDelta()}function axe(e){e.calcProjection()}function ixe(e){e.resetSkewAndRotation()}function oxe(e){e.removeLeadSnapshot()}function J4(e,t,r){e.translate=Wr(t.translate,0,r),e.scale=Wr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Y4(e,t,r,n){e.min=Wr(t.min,r.min,n),e.max=Wr(t.max,r.max,n)}function lxe(e,t,r,n){Y4(e.x,t.x,r.x,n),Y4(e.y,t.y,r.y,n)}function cxe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const uxe={duration:.45,ease:[.4,0,.1,1]},X4=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Q4=X4("applewebkit/")&&!X4("chrome/")?Math.round:$a;function Z4(e){e.min=Q4(e.min),e.max=Q4(e.max)}function dxe(e){Z4(e.x),Z4(e.y)}function tV(e,t,r){return e==="position"||e==="preserve-aspect"&&!R0e(U4(t),U4(r),.2)}function fxe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const hxe=eV({attachResizeListener:(e,t)=>xg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qS={current:void 0},rV=eV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!qS.current){const e=new hxe({});e.mount(window),e.setOptions({layoutScroll:!0}),qS.current=e}return qS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),JA=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function e3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function pxe(...e){return t=>{let r=!1;const n=e.map(s=>{const a=e3(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():e3(e[s],null)}}}}function mxe(...e){return p.useCallback(pxe(...e),e)}class gxe extends p.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=kW(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function yxe({children:e,isPresent:t,anchorX:r,root:n}){var d;const s=p.useId(),a=p.useRef(null),i=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=p.useContext(JA),c=((d=e.props)==null?void 0:d.ref)??(e==null?void 0:e.ref),u=mxe(a,c);return p.useInsertionEffect(()=>{const{width:f,height:h,top:g,left:y,right:m}=i.current;if(t||!a.current||!f||!h)return;const v=r==="left"?`left: ${y}`:`right: ${m}`;a.current.dataset.motionPopId=s;const x=document.createElement("style");l&&(x.nonce=l);const w=n??document.head;return w.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            ${v}px !important;
            top: ${g}px !important;
          }
        `),()=>{w.contains(x)&&w.removeChild(x)}},[t]),o.jsx(gxe,{isPresent:t,childRef:a,sizeRef:i,children:p.cloneElement(e,{ref:u})})}const vxe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:i,anchorX:l,root:c})=>{const u=_A(xxe),d=p.useId();let f=!0,h=p.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:s,onExitComplete:g=>{u.set(g,!0);for(const y of u.values())if(!y)return;n&&n()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[r,u,n]);return a&&f&&(h={...h}),p.useMemo(()=>{u.forEach((g,y)=>u.set(y,!1))},[r]),p.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),i==="popLayout"&&(e=o.jsx(yxe,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(s1.Provider,{value:h,children:e})};function xxe(){return new Map}function nV(e=!0){const t=p.useContext(s1);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,a=p.useId();p.useEffect(()=>{if(e)return s(a)},[e]);const i=p.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,i]:[!0]}const Bv=e=>e.key||"";function t3(e){const t=[];return p.Children.forEach(e,r=>{p.isValidElement(r)&&t.push(r)}),t}const bxe=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:a="sync",propagate:i=!1,anchorX:l="left",root:c})=>{const[u,d]=nV(i),f=p.useMemo(()=>t3(e),[e]),h=i&&!u?[]:f.map(Bv),g=p.useRef(!0),y=p.useRef(f),m=_A(()=>new Map),v=p.useRef(new Set),[x,w]=p.useState(f),[b,_]=p.useState(f);Rq(()=>{g.current=!1,y.current=f;for(let k=0;k<b.length;k++){const j=Bv(b[k]);h.includes(j)?(m.delete(j),v.current.delete(j)):m.get(j)!==!0&&m.set(j,!1)}},[b,h.length,h.join("-")]);const S=[];if(f!==x){let k=[...f];for(let j=0;j<b.length;j++){const N=b[j],C=Bv(N);h.includes(C)||(k.splice(j,0,N),S.push(N))}return a==="wait"&&S.length&&(k=S),_(t3(k)),w(f),null}const{forceRender:E}=p.useContext(wA);return o.jsx(o.Fragment,{children:b.map(k=>{const j=Bv(k),N=i&&!u?!1:f===b||h.includes(j),C=()=>{if(v.current.has(j))return;if(v.current.add(j),m.has(j))m.set(j,!0);else return;let P=!0;m.forEach(R=>{R||(P=!1)}),P&&(E==null||E(),_(y.current),i&&(d==null||d()),n&&n())};return o.jsx(vxe,{isPresent:N,initial:!g.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,root:c,onExitComplete:N?void 0:C,anchorX:l,children:k},j)})})},sV=p.createContext({strict:!1}),r3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let n3=!1;function wxe(){if(n3)return;const e={};for(const t in r3)e[t]={isEnabled:r=>r3[t].some(n=>!!r[n])};$W(e),n3=!0}function aV(){return wxe(),i0e()}function _xe(e){const t=aV();for(const r in e)t[r]={...t[r],...e[r]};$W(t)}const Sxe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Sxe.has(e)}let iV=e=>!Kx(e);function jxe(e){typeof e=="function"&&(iV=t=>t.startsWith("on")?!Kx(t):e(t))}try{jxe(require("@emotion/is-prop-valid").default)}catch{}function kxe(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(iV(s)||r===!0&&Kx(s)||!t&&!Kx(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const l1=p.createContext({});function Exe(e,t){if(o1(e)){const{initial:r,animate:n}=e;return{initial:r===!1||vg(r)?r:void 0,animate:vg(n)?n:void 0}}return e.inherit!==!1?t:{}}function Nxe(e){const{initial:t,animate:r}=Exe(e,p.useContext(l1));return p.useMemo(()=>({initial:t,animate:r}),[s3(t),s3(r)])}function s3(e){return Array.isArray(e)?e.join(" "):e}const YA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oV(e,t,r){for(const n in t)!ns(t[n])&&!BW(n,r)&&(e[n]=t[n])}function Cxe({transformTemplate:e},t){return p.useMemo(()=>{const r=YA();return KA(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Pxe(e,t){const r=e.style||{},n={};return oV(n,r,e),Object.assign(n,Cxe(e,t)),n}function Axe(e,t){const r={},n=Pxe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const lV=()=>({...YA(),attrs:{}});function Txe(e,t,r,n){const s=p.useMemo(()=>{const a=lV();return UW(a,t,qW(n),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};oV(a,e.style,e),s.style={...a,...s.style}}return s}const Oxe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function XA(e){return typeof e!="string"||e.includes("-")?!1:!!(Oxe.indexOf(e)>-1||/[A-Z]/u.test(e))}function $xe(e,t,r,{latestValues:n},s,a=!1,i){const c=(i??XA(e)?Txe:Axe)(t,n,s,e),u=kxe(t,typeof e=="string",a),d=e!==p.Fragment?{...u,...c,ref:r}:{},{children:f}=t,h=p.useMemo(()=>ns(f)?f.get():f,[f]);return p.createElement(e,{...d,children:h})}function Rxe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:Mxe(r,n,s,e),renderState:t()}}function Mxe(e,t,r,n){const s={},a=n(e,{});for(const h in a)s[h]=R0(a[h]);let{initial:i,animate:l}=e;const c=o1(e),u=OW(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||i===!1;const f=d?l:i;if(f&&typeof f!="boolean"&&!i1(f)){const h=Array.isArray(f)?f:[f];for(let g=0;g<h.length;g++){const y=BA(e,h[g]);if(y){const{transitionEnd:m,transition:v,...x}=y;for(const w in x){let b=x[w];if(Array.isArray(b)){const _=d?b.length-1:0;b=b[_]}b!==null&&(s[w]=b)}for(const w in m)s[w]=m[w]}}}return s}const cV=e=>(t,r)=>{const n=p.useContext(l1),s=p.useContext(s1),a=()=>Rxe(e,t,n,s);return r?a():_A(a)},Ixe=cV({scrapeMotionValuesFromProps:GA,createRenderState:YA}),Lxe=cV({scrapeMotionValuesFromProps:WW,createRenderState:lV}),Dxe=Symbol.for("motionComponentSymbol");function Fxe(e,t,r){const n=p.useRef(r);p.useInsertionEffect(()=>{n.current=r});const s=p.useRef(null);return p.useCallback(a=>{var l;a&&((l=e.onMount)==null||l.call(e,a)),t&&(a?t.mount(a):t.unmount());const i=n.current;if(typeof i=="function")if(a){const c=i(a);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):i(a);else i&&(i.current=a)},[t])}const uV=p.createContext({});function Qp(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Bxe(e,t,r,n,s,a){var v,x;const{visualElement:i}=p.useContext(l1),l=p.useContext(sV),c=p.useContext(s1),u=p.useContext(JA).reducedMotion,d=p.useRef(null);n=n||l.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,isSVG:a}));const f=d.current,h=p.useContext(uV);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&Uxe(d.current,r,s,h);const g=p.useRef(!1);p.useInsertionEffect(()=>{f&&g.current&&f.update(r,c)});const y=r[yW],m=p.useRef(!!y&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,y))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,y)));return Rq(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),m.current&&f.animationState&&f.animationState.animateChanges())}),p.useEffect(()=>{f&&(!m.current&&f.animationState&&f.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,y)}),m.current=!1),f.enteringChildren=void 0)}),f}function Uxe(e,t,r,n){const{layoutId:s,layout:a,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:dV(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!i||l&&Qp(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function dV(e){if(e)return e.options.allowProjection!==!1?e.projection:dV(e.parent)}function WS(e,{forwardMotionProps:t=!1,type:r}={},n,s){n&&_xe(n);const a=r?r==="svg":XA(e),i=a?Lxe:Ixe;function l(u,d){let f;const h={...p.useContext(JA),...u,layoutId:zxe(u)},{isStatic:g}=h,y=Nxe(u),m=i(u,g);if(!g&&$q){qxe();const v=Wxe(h);f=v.MeasureLayout,y.visualElement=Bxe(e,m,h,s,v.ProjectionNode,a)}return o.jsxs(l1.Provider,{value:y,children:[f&&y.visualElement?o.jsx(f,{visualElement:y.visualElement,...h}):null,$xe(e,u,Fxe(m,y.visualElement,d),m,g,t,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=p.forwardRef(l);return c[Dxe]=e,c}function zxe({layoutId:e}){const t=p.useContext(wA).id;return t&&e!==void 0?t+"-"+e:e}function qxe(e,t){p.useContext(sV).strict}function Wxe(e){const t=aV(),{drag:r,layout:n}=t;if(!r&&!n)return{};const s={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Vxe(e,t){if(typeof Proxy>"u")return WS;const r=new Map,n=(a,i)=>WS(a,i,e,t),s=(a,i)=>n(a,i);return new Proxy(s,{get:(a,i)=>i==="create"?n:(r.has(i)||r.set(i,WS(i,void 0,e,t)),r.get(i))})}const Hxe=(e,t)=>t.isSVG??XA(e)?new S0e(t):new y0e(t,{allowProjection:e!==p.Fragment});class Kxe extends pc{constructor(t){super(t),t.animationState||(t.animationState=C0e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();i1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Gxe=0;class Jxe extends pc{constructor(){super(...arguments),this.id=Gxe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Yxe={animation:{Feature:Kxe},exit:{Feature:Jxe}};function $y(e){return{point:{x:e.pageX,y:e.pageY}}}const Xxe=e=>t=>WA(t)&&e(t,$y(t));function km(e,t,r,n){return xg(e,t,Xxe(r),n)}const fV=({current:e})=>e?e.ownerDocument.defaultView:null,a3=(e,t)=>Math.abs(e-t);function Qxe(e,t){const r=a3(e.x,t.x),n=a3(e.y,t.y);return Math.sqrt(r**2+n**2)}const i3=new Set(["auto","scroll"]);class hV{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:i=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=HS(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,m=Qxe(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!m)return;const{point:v}=g,{timestamp:x}=In;this.history.push({...v,timestamp:x});const{onStart:w,onMove:b}=this.handlers;y||(w&&w(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=VS(y,this.transformPagePoint),Ir.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=HS(g.type==="pointercancel"?this.lastMoveEventInfo:VS(y,this.transformPagePoint),this.history);this.startEvent&&m&&m(g,w),v&&v(g,w)},!WA(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=s||window;const c=$y(t),u=VS(c,this.transformPagePoint),{point:d}=u,{timestamp:f}=In;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=r;h&&h(t,HS(u,this.history)),this.removeListeners=Ay(km(this.contextWindow,"pointermove",this.handlePointerMove),km(this.contextWindow,"pointerup",this.handlePointerUp),km(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let r=t.parentElement;for(;r;){const n=getComputedStyle(r);(i3.has(n.overflowX)||i3.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const n=t===window,s=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:s.x-r.x,y:s.y-r.y};a.x===0&&a.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,s),Ir.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ic(this.updatePoint)}}function VS(e,t){return t?{point:t(e.point)}:e}function o3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function HS({point:e},t){return{point:e,delta:o3(e,pV(t)),offset:o3(e,Zxe(t)),velocity:ebe(t,.1)}}function Zxe(e){return e[0]}function pV(e){return e[e.length-1]}function ebe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=pV(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>zi(t)));)r--;if(!n)return{x:0,y:0};const a=Ea(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const i={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function tbe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Wr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Wr(r,e,n.max):Math.min(e,r)),e}function l3(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function rbe(e,{top:t,left:r,bottom:n,right:s}){return{x:l3(e.x,r,s),y:l3(e.y,t,n)}}function c3(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function nbe(e,t){return{x:c3(e.x,t.x),y:c3(e.y,t.y)}}function sbe(e,t){let r=.5;const n=_s(e),s=_s(t);return s>n?r=mg(t.min,t.max-n,e.min):n>s&&(r=mg(e.min,e.max-s,t.min)),Ji(0,1,r)}function abe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const bN=.35;function ibe(e=bN){return e===!1?e=0:e===!0&&(e=bN),{x:u3(e,"left","right"),y:u3(e,"top","bottom")}}function u3(e,t,r){return{min:d3(e,t),max:d3(e,r)}}function d3(e,t){return typeof e=="number"?e:e[t]||0}const obe=new WeakMap;class lbe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=f=>{r?(this.stopAnimation(),this.snapToCursor($y(f).point)):this.pauseAnimation()},i=(f,h)=>{this.stopAnimation();const{drag:g,dragPropagation:y,onDragStart:m}=this.getProps();if(g&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Gve(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),va(x=>{let w=this.getAxisMotionValue(x).get()||0;if(qi.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const _=b.layout.layoutBox[x];_&&(w=_s(_)*(parseFloat(w)/100))}}this.originPoint[x]=w}),m&&Ir.postRender(()=>m(f,h)),hN(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:m,onDrag:v}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:x}=h;if(y&&this.currentDirection===null){this.currentDirection=cbe(x),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),v&&v(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>va(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new hV(t,{onSessionStart:a,onStart:i,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:fV(this.visualElement),element:this.visualElement.current})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&Ir.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Uv(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=tbe(i,this.constraints[t],this.elastic[t])),a.set(i)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&Qp(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=rbe(n.layoutBox,t):this.constraints=!1,this.elastic=ibe(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&va(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=abe(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Qp(t))return!1;const n=t.current;Bf(n!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=d0e(n,s.root,this.visualElement.getTransformPagePoint());let i=nbe(s.layout.layoutBox,a);if(r){const l=r(l0e(i));this.hasMutatedConstraints=!!l,l&&(i=MW(l))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=va(d=>{if(!Uv(d,r,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const h=s?200:1e6,g=s?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return hN(this.visualElement,t),n.start(FA(t,n,0,r,this.visualElement,!1))}stopAnimation(){va(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){va(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){va(r=>{const{drag:n}=this.getProps();if(!Uv(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[r],c=a.get()||0;a.set(t[r]-Wr(i,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Qp(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};va(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();s[i]=sbe({min:c,max:c},this.constraints[i])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),va(i=>{if(!Uv(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(Wr(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;obe.set(this.visualElement,this);const t=this.visualElement.current,r=km(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&!PW(c.target)&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Qp(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ir.read(n);const i=xg(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(va(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:i=bN,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:i,dragMomentum:l}}}function Uv(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function cbe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class ube extends pc{constructor(t){super(t),this.removeGroupControls=$a,this.removeListeners=$a,this.controls=new lbe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$a}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const f3=e=>(t,r)=>{e&&Ir.postRender(()=>e(t,r))};class dbe extends pc{constructor(){super(...arguments),this.removePointerDownListener=$a}onPointerDown(t){this.session=new hV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:f3(t),onStart:f3(r),onMove:n,onEnd:(a,i)=>{delete this.session,s&&Ir.postRender(()=>s(a,i))}}}mount(){this.removePointerDownListener=km(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let KS=!1;class fbe extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=t;a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),KS&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),M0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,{projection:i}=n;return i&&(i.isPresent=a,KS=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==a?i.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?i.promote():i.relegate()||Ir.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qA.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;KS=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function mV(e){const[t,r]=nV(),n=p.useContext(wA);return o.jsx(fbe,{...e,layoutGroup:n,switchLayoutGroup:p.useContext(uV),isPresent:t,safeToRemove:r})}const hbe={pan:{Feature:dbe},drag:{Feature:ube,ProjectionNode:rV,MeasureLayout:mV}};function h3(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&Ir.postRender(()=>a(t,$y(t)))}class pbe extends pc{mount(){const{current:t}=this.node;t&&(this.unmount=Jve(t,(r,n)=>(h3(this.node,n,"Start"),s=>h3(this.node,s,"End"))))}unmount(){}}class mbe extends pc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ay(xg(this.node.current,"focus",()=>this.onFocus()),xg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function p3(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&Ir.postRender(()=>a(t,$y(t)))}class gbe extends pc{mount(){const{current:t}=this.node;t&&(this.unmount=Qve(t,(r,n)=>(p3(this.node,n,"Start"),(s,{success:a})=>p3(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wN=new WeakMap,GS=new WeakMap,ybe=e=>{const t=wN.get(e.target);t&&t(e)},vbe=e=>{e.forEach(ybe)};function xbe({root:e,...t}){const r=e||document;GS.has(r)||GS.set(r,{});const n=GS.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(vbe,{root:e,...t})),n[s]}function bbe(e,t,r){const n=xbe(t);return wN.set(e,r),n.observe(e),()=>{wN.delete(e),n.unobserve(e)}}const wbe={some:0,all:1};class _be extends pc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:wbe[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return bbe(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Sbe(t,r))&&this.startObserver()}unmount(){}}function Sbe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const jbe={inView:{Feature:_be},tap:{Feature:gbe},focus:{Feature:mbe},hover:{Feature:pbe}},kbe={layout:{ProjectionNode:rV,MeasureLayout:mV}},Ebe={...Yxe,...jbe,...hbe,...kbe},Ln=Vxe(Ebe,Hxe);var Nbe=Array.isArray,Ks=Nbe,Cbe=typeof rs=="object"&&rs&&rs.Object===Object&&rs,gV=Cbe,Pbe=gV,Abe=typeof self=="object"&&self&&self.Object===Object&&self,Tbe=Pbe||Abe||Function("return this")(),ro=Tbe,Obe=ro,$be=Obe.Symbol,Ry=$be,m3=Ry,yV=Object.prototype,Rbe=yV.hasOwnProperty,Mbe=yV.toString,jp=m3?m3.toStringTag:void 0;function Ibe(e){var t=Rbe.call(e,jp),r=e[jp];try{e[jp]=void 0;var n=!0}catch{}var s=Mbe.call(e);return n&&(t?e[jp]=r:delete e[jp]),s}var Lbe=Ibe,Dbe=Object.prototype,Fbe=Dbe.toString;function Bbe(e){return Fbe.call(e)}var Ube=Bbe,g3=Ry,zbe=Lbe,qbe=Ube,Wbe="[object Null]",Vbe="[object Undefined]",y3=g3?g3.toStringTag:void 0;function Hbe(e){return e==null?e===void 0?Vbe:Wbe:y3&&y3 in Object(e)?zbe(e):qbe(e)}var Vo=Hbe;function Kbe(e){return e!=null&&typeof e=="object"}var Ho=Kbe,Gbe=Vo,Jbe=Ho,Ybe="[object Symbol]";function Xbe(e){return typeof e=="symbol"||Jbe(e)&&Gbe(e)==Ybe}var Ih=Xbe,Qbe=Ks,Zbe=Ih,ewe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,twe=/^\w*$/;function rwe(e,t){if(Qbe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Zbe(e)?!0:twe.test(e)||!ewe.test(e)||t!=null&&e in Object(t)}var QA=rwe;function nwe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var mc=nwe;const Lh=wr(mc);var swe=Vo,awe=mc,iwe="[object AsyncFunction]",owe="[object Function]",lwe="[object GeneratorFunction]",cwe="[object Proxy]";function uwe(e){if(!awe(e))return!1;var t=swe(e);return t==owe||t==lwe||t==iwe||t==cwe}var ZA=uwe;const zt=wr(ZA);var dwe=ro,fwe=dwe["__core-js_shared__"],hwe=fwe,JS=hwe,v3=function(){var e=/[^.]+$/.exec(JS&&JS.keys&&JS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pwe(e){return!!v3&&v3 in e}var mwe=pwe,gwe=Function.prototype,ywe=gwe.toString;function vwe(e){if(e!=null){try{return ywe.call(e)}catch{}try{return e+""}catch{}}return""}var vV=vwe,xwe=ZA,bwe=mwe,wwe=mc,_we=vV,Swe=/[\\^$.*+?()[\]{}|]/g,jwe=/^\[object .+?Constructor\]$/,kwe=Function.prototype,Ewe=Object.prototype,Nwe=kwe.toString,Cwe=Ewe.hasOwnProperty,Pwe=RegExp("^"+Nwe.call(Cwe).replace(Swe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Awe(e){if(!wwe(e)||bwe(e))return!1;var t=xwe(e)?Pwe:jwe;return t.test(_we(e))}var Twe=Awe;function Owe(e,t){return e==null?void 0:e[t]}var $we=Owe,Rwe=Twe,Mwe=$we;function Iwe(e,t){var r=Mwe(e,t);return Rwe(r)?r:void 0}var Vu=Iwe,Lwe=Vu,Dwe=Lwe(Object,"create"),c1=Dwe,x3=c1;function Fwe(){this.__data__=x3?x3(null):{},this.size=0}var Bwe=Fwe;function Uwe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var zwe=Uwe,qwe=c1,Wwe="__lodash_hash_undefined__",Vwe=Object.prototype,Hwe=Vwe.hasOwnProperty;function Kwe(e){var t=this.__data__;if(qwe){var r=t[e];return r===Wwe?void 0:r}return Hwe.call(t,e)?t[e]:void 0}var Gwe=Kwe,Jwe=c1,Ywe=Object.prototype,Xwe=Ywe.hasOwnProperty;function Qwe(e){var t=this.__data__;return Jwe?t[e]!==void 0:Xwe.call(t,e)}var Zwe=Qwe,e1e=c1,t1e="__lodash_hash_undefined__";function r1e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=e1e&&t===void 0?t1e:t,this}var n1e=r1e,s1e=Bwe,a1e=zwe,i1e=Gwe,o1e=Zwe,l1e=n1e;function Dh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Dh.prototype.clear=s1e;Dh.prototype.delete=a1e;Dh.prototype.get=i1e;Dh.prototype.has=o1e;Dh.prototype.set=l1e;var c1e=Dh;function u1e(){this.__data__=[],this.size=0}var d1e=u1e;function f1e(e,t){return e===t||e!==e&&t!==t}var eT=f1e,h1e=eT;function p1e(e,t){for(var r=e.length;r--;)if(h1e(e[r][0],t))return r;return-1}var u1=p1e,m1e=u1,g1e=Array.prototype,y1e=g1e.splice;function v1e(e){var t=this.__data__,r=m1e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():y1e.call(t,r,1),--this.size,!0}var x1e=v1e,b1e=u1;function w1e(e){var t=this.__data__,r=b1e(t,e);return r<0?void 0:t[r][1]}var _1e=w1e,S1e=u1;function j1e(e){return S1e(this.__data__,e)>-1}var k1e=j1e,E1e=u1;function N1e(e,t){var r=this.__data__,n=E1e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var C1e=N1e,P1e=d1e,A1e=x1e,T1e=_1e,O1e=k1e,$1e=C1e;function Fh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fh.prototype.clear=P1e;Fh.prototype.delete=A1e;Fh.prototype.get=T1e;Fh.prototype.has=O1e;Fh.prototype.set=$1e;var d1=Fh,R1e=Vu,M1e=ro,I1e=R1e(M1e,"Map"),tT=I1e,b3=c1e,L1e=d1,D1e=tT;function F1e(){this.size=0,this.__data__={hash:new b3,map:new(D1e||L1e),string:new b3}}var B1e=F1e;function U1e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var z1e=U1e,q1e=z1e;function W1e(e,t){var r=e.__data__;return q1e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var f1=W1e,V1e=f1;function H1e(e){var t=V1e(this,e).delete(e);return this.size-=t?1:0,t}var K1e=H1e,G1e=f1;function J1e(e){return G1e(this,e).get(e)}var Y1e=J1e,X1e=f1;function Q1e(e){return X1e(this,e).has(e)}var Z1e=Q1e,e_e=f1;function t_e(e,t){var r=e_e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var r_e=t_e,n_e=B1e,s_e=K1e,a_e=Y1e,i_e=Z1e,o_e=r_e;function Bh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bh.prototype.clear=n_e;Bh.prototype.delete=s_e;Bh.prototype.get=a_e;Bh.prototype.has=i_e;Bh.prototype.set=o_e;var rT=Bh,xV=rT,l_e="Expected a function";function nT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(l_e);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var i=e.apply(this,n);return r.cache=a.set(s,i)||a,i};return r.cache=new(nT.Cache||xV),r}nT.Cache=xV;var bV=nT;const c_e=wr(bV);var u_e=bV,d_e=500;function f_e(e){var t=u_e(e,function(n){return r.size===d_e&&r.clear(),n}),r=t.cache;return t}var h_e=f_e,p_e=h_e,m_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g_e=/\\(\\)?/g,y_e=p_e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(m_e,function(r,n,s,a){t.push(s?a.replace(g_e,"$1"):n||r)}),t}),v_e=y_e;function x_e(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var sT=x_e,w3=Ry,b_e=sT,w_e=Ks,__e=Ih,S_e=1/0,_3=w3?w3.prototype:void 0,S3=_3?_3.toString:void 0;function wV(e){if(typeof e=="string")return e;if(w_e(e))return b_e(e,wV)+"";if(__e(e))return S3?S3.call(e):"";var t=e+"";return t=="0"&&1/e==-S_e?"-0":t}var j_e=wV,k_e=j_e;function E_e(e){return e==null?"":k_e(e)}var _V=E_e,N_e=Ks,C_e=QA,P_e=v_e,A_e=_V;function T_e(e,t){return N_e(e)?e:C_e(e,t)?[e]:P_e(A_e(e))}var SV=T_e,O_e=Ih,$_e=1/0;function R_e(e){if(typeof e=="string"||O_e(e))return e;var t=e+"";return t=="0"&&1/e==-$_e?"-0":t}var h1=R_e,M_e=SV,I_e=h1;function L_e(e,t){t=M_e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[I_e(t[r++])];return r&&r==n?e:void 0}var aT=L_e,D_e=aT;function F_e(e,t,r){var n=e==null?void 0:D_e(e,t);return n===void 0?r:n}var jV=F_e;const Ra=wr(jV);function B_e(e){return e==null}var U_e=B_e;const cr=wr(U_e);var z_e=Vo,q_e=Ks,W_e=Ho,V_e="[object String]";function H_e(e){return typeof e=="string"||!q_e(e)&&W_e(e)&&z_e(e)==V_e}var K_e=H_e;const My=wr(K_e);var kV={exports:{}},mr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT=Symbol.for("react.element"),oT=Symbol.for("react.portal"),p1=Symbol.for("react.fragment"),m1=Symbol.for("react.strict_mode"),g1=Symbol.for("react.profiler"),y1=Symbol.for("react.provider"),v1=Symbol.for("react.context"),G_e=Symbol.for("react.server_context"),x1=Symbol.for("react.forward_ref"),b1=Symbol.for("react.suspense"),w1=Symbol.for("react.suspense_list"),_1=Symbol.for("react.memo"),S1=Symbol.for("react.lazy"),J_e=Symbol.for("react.offscreen"),EV;EV=Symbol.for("react.module.reference");function Ba(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case iT:switch(e=e.type,e){case p1:case g1:case m1:case b1:case w1:return e;default:switch(e=e&&e.$$typeof,e){case G_e:case v1:case x1:case S1:case _1:case y1:return e;default:return t}}case oT:return t}}}mr.ContextConsumer=v1;mr.ContextProvider=y1;mr.Element=iT;mr.ForwardRef=x1;mr.Fragment=p1;mr.Lazy=S1;mr.Memo=_1;mr.Portal=oT;mr.Profiler=g1;mr.StrictMode=m1;mr.Suspense=b1;mr.SuspenseList=w1;mr.isAsyncMode=function(){return!1};mr.isConcurrentMode=function(){return!1};mr.isContextConsumer=function(e){return Ba(e)===v1};mr.isContextProvider=function(e){return Ba(e)===y1};mr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===iT};mr.isForwardRef=function(e){return Ba(e)===x1};mr.isFragment=function(e){return Ba(e)===p1};mr.isLazy=function(e){return Ba(e)===S1};mr.isMemo=function(e){return Ba(e)===_1};mr.isPortal=function(e){return Ba(e)===oT};mr.isProfiler=function(e){return Ba(e)===g1};mr.isStrictMode=function(e){return Ba(e)===m1};mr.isSuspense=function(e){return Ba(e)===b1};mr.isSuspenseList=function(e){return Ba(e)===w1};mr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===p1||e===g1||e===m1||e===b1||e===w1||e===J_e||typeof e=="object"&&e!==null&&(e.$$typeof===S1||e.$$typeof===_1||e.$$typeof===y1||e.$$typeof===v1||e.$$typeof===x1||e.$$typeof===EV||e.getModuleId!==void 0)};mr.typeOf=Ba;kV.exports=mr;var NV=kV.exports,Y_e=Vo,X_e=Ho,Q_e="[object Number]";function Z_e(e){return typeof e=="number"||X_e(e)&&Y_e(e)==Q_e}var CV=Z_e;const eSe=wr(CV);var tSe=CV;function rSe(e){return tSe(e)&&e!=+e}var nSe=rSe;const Iy=wr(nSe);var ni=function(t){return t===0?0:t>0?1:-1},Gc=function(t){return My(t)&&t.indexOf("%")===t.length-1},Ge=function(t){return eSe(t)&&!Iy(t)},Sn=function(t){return Ge(t)||My(t)},sSe=0,j1=function(t){var r=++sSe;return"".concat(t||"").concat(r)},Mu=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(t)&&!My(t))return n;var a;if(Gc(t)){var i=t.indexOf("%");a=r*parseFloat(t.slice(0,i))/100}else a=+t;return Iy(a)&&(a=n),s&&a>r&&(a=r),a},bl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},aSe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},ld=function(t,r){return Ge(t)&&Ge(r)?function(n){return t+n*(r-t)}:function(){return r}};function _N(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ra(n,t))===r})}function sf(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function SN(e){"@babel/helpers - typeof";return SN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SN(e)}var iSe=["viewBox","children"],oSe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],j3=["points","pathLength"],YS={svg:iSe,polygon:j3,polyline:j3},lT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(p.isValidElement(t)&&(n=t.props),!Lh(n))return null;var s={};return Object.keys(n).forEach(function(a){lT.includes(a)&&(s[a]=r||function(i){return n[a](n,i)})}),s},lSe=function(t,r,n){return function(s){return t(r,n,s),null}},Jx=function(t,r,n){if(!Lh(t)||SN(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var i=t[a];lT.includes(a)&&typeof i=="function"&&(s||(s={}),s[a]=lSe(i,r,n))}),s},cSe=["children"],uSe=["children"];function k3(e,t){if(e==null)return{};var r=dSe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var E3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},No=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},N3=null,XS=null,cT=function e(t){if(t===N3&&Array.isArray(XS))return XS;var r=[];return p.Children.forEach(t,function(n){cr(n)||(NV.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),XS=r,N3=t,r};function ci(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return No(s)}):n=[No(t)],cT(e).forEach(function(s){var a=Ra(s,"type.displayName")||Ra(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}function ea(e,t){var r=ci(e,t);return r&&r[0]}var C3=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!Ge(n)||n<=0||!Ge(s)||s<=0)},fSe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hSe=function(t){return t&&t.type&&My(t.type)&&fSe.indexOf(t.type)>=0},pSe=function(t,r,n,s){var a,i=(a=YS==null?void 0:YS[s])!==null&&a!==void 0?a:[];return!zt(t)&&(s&&i.includes(r)||oSe.includes(r))||n&&lT.includes(r)},sr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(p.isValidElement(t)&&(s=t.props),!Lh(s))return null;var a={};return Object.keys(s).forEach(function(i){var l;pSe((l=s)===null||l===void 0?void 0:l[i],i,r,n)&&(a[i]=s[i])}),a},jN=function e(t,r){if(t===r)return!0;var n=p.Children.count(t);if(n!==p.Children.count(r))return!1;if(n===0)return!0;if(n===1)return P3(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=t[s],i=r[s];if(Array.isArray(a)||Array.isArray(i)){if(!e(a,i))return!1}else if(!P3(a,i))return!1}return!0},P3=function(t,r){if(cr(t)&&cr(r))return!0;if(!cr(t)&&!cr(r)){var n=t.props||{},s=n.children,a=k3(n,cSe),i=r.props||{},l=i.children,c=k3(i,uSe);return s&&l?sf(a,c)&&jN(s,l):!s&&!l?sf(a,c):!1}return!1},A3=function(t,r){var n=[],s={};return cT(t).forEach(function(a,i){if(hSe(a))n.push(a);else if(a){var l=No(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(a,l,i);n.push(f),s[l]=!0}}}),n},mSe=function(t){var r=t&&t.type;return r&&E3[r]?E3[r]:null},gSe=function(t,r){return cT(r).indexOf(t)},ySe=["children","width","height","viewBox","className","style","title","desc"];function kN(){return kN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kN.apply(this,arguments)}function vSe(e,t){if(e==null)return{};var r=xSe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function EN(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,a=e.className,i=e.style,l=e.title,c=e.desc,u=vSe(e,ySe),d=s||{width:r,height:n,x:0,y:0},f=Qt("recharts-surface",a);return O.createElement("svg",kN({},sr(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),O.createElement("title",null,l),O.createElement("desc",null,c),t)}var bSe=["children","className"];function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NN.apply(this,arguments)}function wSe(e,t){if(e==null)return{};var r=_Se(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Se(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Pn=O.forwardRef(function(e,t){var r=e.children,n=e.className,s=wSe(e,bSe),a=Qt("recharts-layer",n);return O.createElement("g",NN({className:a},sr(s,!0),{ref:t}),r)}),Co=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]};function SSe(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var jSe=SSe,kSe=jSe;function ESe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:kSe(e,t,r)}var NSe=ESe,CSe="\\ud800-\\udfff",PSe="\\u0300-\\u036f",ASe="\\ufe20-\\ufe2f",TSe="\\u20d0-\\u20ff",OSe=PSe+ASe+TSe,$Se="\\ufe0e\\ufe0f",RSe="\\u200d",MSe=RegExp("["+RSe+CSe+OSe+$Se+"]");function ISe(e){return MSe.test(e)}var PV=ISe;function LSe(e){return e.split("")}var DSe=LSe,AV="\\ud800-\\udfff",FSe="\\u0300-\\u036f",BSe="\\ufe20-\\ufe2f",USe="\\u20d0-\\u20ff",zSe=FSe+BSe+USe,qSe="\\ufe0e\\ufe0f",WSe="["+AV+"]",CN="["+zSe+"]",PN="\\ud83c[\\udffb-\\udfff]",VSe="(?:"+CN+"|"+PN+")",TV="[^"+AV+"]",OV="(?:\\ud83c[\\udde6-\\uddff]){2}",$V="[\\ud800-\\udbff][\\udc00-\\udfff]",HSe="\\u200d",RV=VSe+"?",MV="["+qSe+"]?",KSe="(?:"+HSe+"(?:"+[TV,OV,$V].join("|")+")"+MV+RV+")*",GSe=MV+RV+KSe,JSe="(?:"+[TV+CN+"?",CN,OV,$V,WSe].join("|")+")",YSe=RegExp(PN+"(?="+PN+")|"+JSe+GSe,"g");function XSe(e){return e.match(YSe)||[]}var QSe=XSe,ZSe=DSe,eje=PV,tje=QSe;function rje(e){return eje(e)?tje(e):ZSe(e)}var nje=rje,sje=NSe,aje=PV,ije=nje,oje=_V;function lje(e){return function(t){t=oje(t);var r=aje(t)?ije(t):void 0,n=r?r[0]:t.charAt(0),s=r?sje(r,1).join(""):t.slice(1);return n[e]()+s}}var cje=lje,uje=cje,dje=uje("toUpperCase"),fje=dje;const k1=wr(fje);function kr(e){return function(){return e}}const IV=Math.cos,Yx=Math.sin,bi=Math.sqrt,Xx=Math.PI,E1=2*Xx,AN=Math.PI,TN=2*AN,Mc=1e-6,hje=TN-Mc;function LV(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function pje(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return LV;const r=10**t;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class mje{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?LV:pje(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,a,i){this._append`C${+t},${+r},${+n},${+s},${this._x1=+a},${this._y1=+i}`}arcTo(t,r,n,s,a){if(t=+t,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let i=this._x1,l=this._y1,c=n-t,u=s-r,d=i-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Mc)if(!(Math.abs(f*c-u*d)>Mc)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-i,y=s-l,m=c*c+u*u,v=g*g+y*y,x=Math.sqrt(m),w=Math.sqrt(h),b=a*Math.tan((AN-Math.acos((m+h-v)/(2*x*w)))/2),_=b/w,S=b/x;Math.abs(_-1)>Mc&&this._append`L${t+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*g>d*y)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,s,a,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^i,h=i?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Mc||Math.abs(this._y1-d)>Mc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%TN+TN),h>hje?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Mc&&this._append`A${n},${n},0,${+(h>=AN)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function uT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new mje(t)}function dT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DV(e){this._context=e}DV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function N1(e){return new DV(e)}function FV(e){return e[0]}function BV(e){return e[1]}function UV(e,t){var r=kr(!0),n=null,s=N1,a=null,i=uT(l);e=typeof e=="function"?e:e===void 0?FV:kr(e),t=typeof t=="function"?t:t===void 0?BV:kr(t);function l(c){var u,d=(c=dT(c)).length,f,h=!1,g;for(n==null&&(a=s(g=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(g)return a=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:kr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:kr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:kr(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),l):n},l}function zv(e,t,r){var n=null,s=kr(!0),a=null,i=N1,l=null,c=uT(u);e=typeof e=="function"?e:e===void 0?FV:kr(+e),t=typeof t=="function"?t:kr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?BV:kr(+r);function u(f){var h,g,y,m=(f=dT(f)).length,v,x=!1,w,b=new Array(m),_=new Array(m);for(a==null&&(l=i(w=c())),h=0;h<=m;++h){if(!(h<m&&s(v=f[h],h,f))===x)if(x=!x)g=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=g;--y)l.point(b[y],_[y]);l.lineEnd(),l.areaEnd()}x&&(b[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):b[h],r?+r(v,h,f):_[h]))}if(w)return l=null,w+""||null}function d(){return UV().defined(s).curve(i).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:kr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:kr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:kr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:kr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:kr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:kr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:kr(!!f),u):s},u.curve=function(f){return arguments.length?(i=f,a!=null&&(l=i(a)),u):i},u.context=function(f){return arguments.length?(f==null?a=l=null:l=i(a=f),u):a},u}class zV{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function gje(e){return new zV(e,!0)}function yje(e){return new zV(e,!1)}const fT={draw(e,t){const r=bi(t/Xx);e.moveTo(r,0),e.arc(0,0,r,0,E1)}},vje={draw(e,t){const r=bi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},qV=bi(1/3),xje=qV*2,bje={draw(e,t){const r=bi(t/xje),n=r*qV;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},wje={draw(e,t){const r=bi(t),n=-r/2;e.rect(n,n,r,r)}},_je=.8908130915292852,WV=Yx(Xx/10)/Yx(7*Xx/10),Sje=Yx(E1/10)*WV,jje=-IV(E1/10)*WV,kje={draw(e,t){const r=bi(t*_je),n=Sje*r,s=jje*r;e.moveTo(0,-r),e.lineTo(n,s);for(let a=1;a<5;++a){const i=E1*a/5,l=IV(i),c=Yx(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},QS=bi(3),Eje={draw(e,t){const r=-bi(t/(QS*3));e.moveTo(0,r*2),e.lineTo(-QS*r,-r),e.lineTo(QS*r,-r),e.closePath()}},ma=-.5,ga=bi(3)/2,ON=1/bi(12),Nje=(ON/2+1)*3,Cje={draw(e,t){const r=bi(t/Nje),n=r/2,s=r*ON,a=n,i=r*ON+r,l=-a,c=i;e.moveTo(n,s),e.lineTo(a,i),e.lineTo(l,c),e.lineTo(ma*n-ga*s,ga*n+ma*s),e.lineTo(ma*a-ga*i,ga*a+ma*i),e.lineTo(ma*l-ga*c,ga*l+ma*c),e.lineTo(ma*n+ga*s,ma*s-ga*n),e.lineTo(ma*a+ga*i,ma*i-ga*a),e.lineTo(ma*l+ga*c,ma*c-ga*l),e.closePath()}};function Pje(e,t){let r=null,n=uT(s);e=typeof e=="function"?e:kr(e||fT),t=typeof t=="function"?t:kr(t===void 0?64:+t);function s(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:kr(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:kr(+a),s):t},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function Qx(){}function Zx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function VV(e){this._context=e}VV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Aje(e){return new VV(e)}function HV(e){this._context=e}HV.prototype={areaStart:Qx,areaEnd:Qx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tje(e){return new HV(e)}function KV(e){this._context=e}KV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Zx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Oje(e){return new KV(e)}function GV(e){this._context=e}GV.prototype={areaStart:Qx,areaEnd:Qx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $je(e){return new GV(e)}function T3(e){return e<0?-1:1}function O3(e,t,r){var n=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(n||s<0&&-0),i=(r-e._y1)/(s||n<0&&-0),l=(a*s+i*n)/(n+s);return(T3(a)+T3(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(l))||0}function $3(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ZS(e,t,r){var n=e._x0,s=e._y0,a=e._x1,i=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,s+l*t,a-l,i-l*r,a,i)}function eb(e){this._context=e}eb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ZS(this,this._t0,$3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ZS(this,$3(this,r=O3(this,e,t)),r);break;default:ZS(this,this._t0,r=O3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function JV(e){this._context=new YV(e)}(JV.prototype=Object.create(eb.prototype)).point=function(e,t){eb.prototype.point.call(this,t,e)};function YV(e){this._context=e}YV.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,a){this._context.bezierCurveTo(t,e,n,r,a,s)}};function Rje(e){return new eb(e)}function Mje(e){return new JV(e)}function XV(e){this._context=e}XV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=R3(e),s=R3(t),a=0,i=1;i<r;++a,++i)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function R3(e){var t,r=e.length-1,n,s=new Array(r),a=new Array(r),i=new Array(r);for(s[0]=0,a[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,a[t]=4,i[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,a[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/a[t-1],a[t]-=n,i[t]-=n*i[t-1];for(s[r-1]=i[r-1]/a[r-1],t=r-2;t>=0;--t)s[t]=(i[t]-s[t+1])/a[t];for(a[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function Ije(e){return new XV(e)}function C1(e,t){this._context=e,this._t=t}C1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Lje(e){return new C1(e,.5)}function Dje(e){return new C1(e,0)}function Fje(e){return new C1(e,1)}function zf(e,t){if((i=e.length)>1)for(var r=1,n,s,a=e[t[0]],i,l=a.length;r<i;++r)for(s=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function $N(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Bje(e,t){return e[t]}function Uje(e){const t=[];return t.key=e,t}function zje(){var e=kr([]),t=$N,r=zf,n=Bje;function s(a){var i=Array.from(e.apply(this,arguments),Uje),l,c=i.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,a)]).data=f;for(l=0,d=dT(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:kr(Array.from(a)),s):e},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:kr(+a),s):n},s.order=function(a){return arguments.length?(t=a==null?$N:typeof a=="function"?a:kr(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(r=a??zf,s):r},s}function qje(e,t){if((n=e.length)>0){for(var r,n,s=0,a=e[0].length,i;s<a;++s){for(i=r=0;r<n;++r)i+=e[r][s][1]||0;if(i)for(r=0;r<n;++r)e[r][s][1]/=i}zf(e,t)}}function Wje(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,a=n.length;r<a;++r){for(var i=0,l=0;i<s;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}zf(e,t)}}function Vje(e,t){if(!(!((i=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,a,i;n<a;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,g=(f-h)/2,y=0;y<l;++y){var m=e[t[y]],v=m[n][1]||0,x=m[n-1][1]||0;g+=v-x}c+=f,u+=g*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,zf(e,t)}}function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}var Hje=["type","size","sizeType"];function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RN.apply(this,arguments)}function M3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function I3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(r),!0).forEach(function(n){Kje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kje(e,t,r){return t=Gje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gje(e){var t=Jje(e,"string");return bg(t)=="symbol"?t:t+""}function Jje(e,t){if(bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yje(e,t){if(e==null)return{};var r=Xje(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var QV={symbolCircle:fT,symbolCross:vje,symbolDiamond:bje,symbolSquare:wje,symbolStar:kje,symbolTriangle:Eje,symbolWye:Cje},Qje=Math.PI/180,Zje=function(t){var r="symbol".concat(k1(t));return QV[r]||fT},eke=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Qje;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},tke=function(t,r){QV["symbol".concat(k1(t))]=r},hT=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,a=s===void 0?64:s,i=t.sizeType,l=i===void 0?"area":i,c=Yje(t,Hje),u=I3(I3({},c),{},{type:n,size:a,sizeType:l}),d=function(){var v=Zje(n),x=Pje().type(v).size(eke(a,l,n));return x()},f=u.className,h=u.cx,g=u.cy,y=sr(u,!0);return h===+h&&g===+g&&a===+a?O.createElement("path",RN({},y,{className:Qt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:d()})):null};hT.registerSymbol=tke;function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function MN(){return MN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MN.apply(this,arguments)}function L3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(r),!0).forEach(function(n){wg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ske(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eH(n.key),n)}}function ake(e,t,r){return t&&ske(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ike(e,t,r){return t=tb(t),oke(e,ZV()?Reflect.construct(t,r||[],tb(e).constructor):t.apply(e,r))}function oke(e,t){if(t&&(qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lke(e)}function lke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZV=function(){return!!e})()}function tb(e){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tb(e)}function cke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IN(e,t)}function IN(e,t){return IN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},IN(e,t)}function wg(e,t,r){return t=eH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eH(e){var t=uke(e,"string");return qf(t)=="symbol"?t:t+""}function uke(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ya=32,pT=function(e){function t(){return nke(this,t),ike(this,t,arguments)}return cke(t,e),ake(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,a=ya/2,i=ya/6,l=ya/3,c=n.inactive?s:n.color;if(n.type==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ya,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ya,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return O.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ya/8,"h").concat(ya,"v").concat(ya*3/4,"h").concat(-ya,"z"),className:"recharts-legend-icon"});if(O.isValidElement(n.legendIcon)){var u=rke({},n);return delete u.legendIcon,O.cloneElement(n.legendIcon,u)}return O.createElement(hT,{fill:c,cx:a,cy:a,size:ya,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,a=s.payload,i=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:ya,height:ya},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,y){var m=g.formatter||c,v=Qt(wg(wg({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",g.inactive));if(g.type==="none")return null;var x=zt(g.value)?null:g.value;Co(!zt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=g.inactive?u:g.color;return O.createElement("li",MN({className:v,style:f,key:"legend-item-".concat(y)},Jx(n.props,g,y)),O.createElement(EN,{width:i,height:i,viewBox:d,style:h},n.renderIcon(g)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(x,g,y):x))})}},{key:"render",value:function(){var n=this.props,s=n.payload,a=n.layout,i=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?i:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(p.PureComponent);wg(pT,"displayName","Legend");wg(pT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var dke=d1;function fke(){this.__data__=new dke,this.size=0}var hke=fke;function pke(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var mke=pke;function gke(e){return this.__data__.get(e)}var yke=gke;function vke(e){return this.__data__.has(e)}var xke=vke,bke=d1,wke=tT,_ke=rT,Ske=200;function jke(e,t){var r=this.__data__;if(r instanceof bke){var n=r.__data__;if(!wke||n.length<Ske-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new _ke(n)}return r.set(e,t),this.size=r.size,this}var kke=jke,Eke=d1,Nke=hke,Cke=mke,Pke=yke,Ake=xke,Tke=kke;function Uh(e){var t=this.__data__=new Eke(e);this.size=t.size}Uh.prototype.clear=Nke;Uh.prototype.delete=Cke;Uh.prototype.get=Pke;Uh.prototype.has=Ake;Uh.prototype.set=Tke;var tH=Uh,Oke="__lodash_hash_undefined__";function $ke(e){return this.__data__.set(e,Oke),this}var Rke=$ke;function Mke(e){return this.__data__.has(e)}var Ike=Mke,Lke=rT,Dke=Rke,Fke=Ike;function rb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Lke;++t<r;)this.add(e[t])}rb.prototype.add=rb.prototype.push=Dke;rb.prototype.has=Fke;var rH=rb;function Bke(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var nH=Bke;function Uke(e,t){return e.has(t)}var sH=Uke,zke=rH,qke=nH,Wke=sH,Vke=1,Hke=2;function Kke(e,t,r,n,s,a){var i=r&Vke,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,g=r&Hke?new zke:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var y=e[f],m=t[f];if(n)var v=i?n(m,y,f,t,e,a):n(y,m,f,e,t,a);if(v!==void 0){if(v)continue;h=!1;break}if(g){if(!qke(t,function(x,w){if(!Wke(g,w)&&(y===x||s(y,x,r,n,a)))return g.push(w)})){h=!1;break}}else if(!(y===m||s(y,m,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var aH=Kke,Gke=ro,Jke=Gke.Uint8Array,Yke=Jke;function Xke(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var Qke=Xke;function Zke(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var mT=Zke,D3=Ry,F3=Yke,eEe=eT,tEe=aH,rEe=Qke,nEe=mT,sEe=1,aEe=2,iEe="[object Boolean]",oEe="[object Date]",lEe="[object Error]",cEe="[object Map]",uEe="[object Number]",dEe="[object RegExp]",fEe="[object Set]",hEe="[object String]",pEe="[object Symbol]",mEe="[object ArrayBuffer]",gEe="[object DataView]",B3=D3?D3.prototype:void 0,ej=B3?B3.valueOf:void 0;function yEe(e,t,r,n,s,a,i){switch(r){case gEe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case mEe:return!(e.byteLength!=t.byteLength||!a(new F3(e),new F3(t)));case iEe:case oEe:case uEe:return eEe(+e,+t);case lEe:return e.name==t.name&&e.message==t.message;case dEe:case hEe:return e==t+"";case cEe:var l=rEe;case fEe:var c=n&sEe;if(l||(l=nEe),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=aEe,i.set(e,t);var d=tEe(l(e),l(t),n,s,a,i);return i.delete(e),d;case pEe:if(ej)return ej.call(e)==ej.call(t)}return!1}var vEe=yEe;function xEe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var iH=xEe,bEe=iH,wEe=Ks;function _Ee(e,t,r){var n=t(e);return wEe(e)?n:bEe(n,r(e))}var SEe=_Ee;function jEe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[s++]=i)}return a}var kEe=jEe;function EEe(){return[]}var NEe=EEe,CEe=kEe,PEe=NEe,AEe=Object.prototype,TEe=AEe.propertyIsEnumerable,U3=Object.getOwnPropertySymbols,OEe=U3?function(e){return e==null?[]:(e=Object(e),CEe(U3(e),function(t){return TEe.call(e,t)}))}:PEe,$Ee=OEe;function REe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var MEe=REe,IEe=Vo,LEe=Ho,DEe="[object Arguments]";function FEe(e){return LEe(e)&&IEe(e)==DEe}var BEe=FEe,z3=BEe,UEe=Ho,oH=Object.prototype,zEe=oH.hasOwnProperty,qEe=oH.propertyIsEnumerable,WEe=z3(function(){return arguments}())?z3:function(e){return UEe(e)&&zEe.call(e,"callee")&&!qEe.call(e,"callee")},gT=WEe,nb={exports:{}};function VEe(){return!1}var HEe=VEe;nb.exports;(function(e,t){var r=ro,n=HEe,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(nb,nb.exports);var lH=nb.exports,KEe=9007199254740991,GEe=/^(?:0|[1-9]\d*)$/;function JEe(e,t){var r=typeof e;return t=t??KEe,!!t&&(r=="number"||r!="symbol"&&GEe.test(e))&&e>-1&&e%1==0&&e<t}var yT=JEe,YEe=9007199254740991;function XEe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=YEe}var vT=XEe,QEe=Vo,ZEe=vT,eNe=Ho,tNe="[object Arguments]",rNe="[object Array]",nNe="[object Boolean]",sNe="[object Date]",aNe="[object Error]",iNe="[object Function]",oNe="[object Map]",lNe="[object Number]",cNe="[object Object]",uNe="[object RegExp]",dNe="[object Set]",fNe="[object String]",hNe="[object WeakMap]",pNe="[object ArrayBuffer]",mNe="[object DataView]",gNe="[object Float32Array]",yNe="[object Float64Array]",vNe="[object Int8Array]",xNe="[object Int16Array]",bNe="[object Int32Array]",wNe="[object Uint8Array]",_Ne="[object Uint8ClampedArray]",SNe="[object Uint16Array]",jNe="[object Uint32Array]",Tr={};Tr[gNe]=Tr[yNe]=Tr[vNe]=Tr[xNe]=Tr[bNe]=Tr[wNe]=Tr[_Ne]=Tr[SNe]=Tr[jNe]=!0;Tr[tNe]=Tr[rNe]=Tr[pNe]=Tr[nNe]=Tr[mNe]=Tr[sNe]=Tr[aNe]=Tr[iNe]=Tr[oNe]=Tr[lNe]=Tr[cNe]=Tr[uNe]=Tr[dNe]=Tr[fNe]=Tr[hNe]=!1;function kNe(e){return eNe(e)&&ZEe(e.length)&&!!Tr[QEe(e)]}var ENe=kNe;function NNe(e){return function(t){return e(t)}}var cH=NNe,sb={exports:{}};sb.exports;(function(e,t){var r=gV,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(sb,sb.exports);var CNe=sb.exports,PNe=ENe,ANe=cH,q3=CNe,W3=q3&&q3.isTypedArray,TNe=W3?ANe(W3):PNe,uH=TNe,ONe=MEe,$Ne=gT,RNe=Ks,MNe=lH,INe=yT,LNe=uH,DNe=Object.prototype,FNe=DNe.hasOwnProperty;function BNe(e,t){var r=RNe(e),n=!r&&$Ne(e),s=!r&&!n&&MNe(e),a=!r&&!n&&!s&&LNe(e),i=r||n||s||a,l=i?ONe(e.length,String):[],c=l.length;for(var u in e)(t||FNe.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||INe(u,c)))&&l.push(u);return l}var UNe=BNe,zNe=Object.prototype;function qNe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||zNe;return e===r}var WNe=qNe;function VNe(e,t){return function(r){return e(t(r))}}var dH=VNe,HNe=dH,KNe=HNe(Object.keys,Object),GNe=KNe,JNe=WNe,YNe=GNe,XNe=Object.prototype,QNe=XNe.hasOwnProperty;function ZNe(e){if(!JNe(e))return YNe(e);var t=[];for(var r in Object(e))QNe.call(e,r)&&r!="constructor"&&t.push(r);return t}var eCe=ZNe,tCe=ZA,rCe=vT;function nCe(e){return e!=null&&rCe(e.length)&&!tCe(e)}var Ly=nCe,sCe=UNe,aCe=eCe,iCe=Ly;function oCe(e){return iCe(e)?sCe(e):aCe(e)}var P1=oCe,lCe=SEe,cCe=$Ee,uCe=P1;function dCe(e){return lCe(e,uCe,cCe)}var fCe=dCe,V3=fCe,hCe=1,pCe=Object.prototype,mCe=pCe.hasOwnProperty;function gCe(e,t,r,n,s,a){var i=r&hCe,l=V3(e),c=l.length,u=V3(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=l[f];if(!(i?h in t:mCe.call(t,h)))return!1}var g=a.get(e),y=a.get(t);if(g&&y)return g==t&&y==e;var m=!0;a.set(e,t),a.set(t,e);for(var v=i;++f<c;){h=l[f];var x=e[h],w=t[h];if(n)var b=i?n(w,x,h,t,e,a):n(x,w,h,e,t,a);if(!(b===void 0?x===w||s(x,w,r,n,a):b)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(m=!1)}return a.delete(e),a.delete(t),m}var yCe=gCe,vCe=Vu,xCe=ro,bCe=vCe(xCe,"DataView"),wCe=bCe,_Ce=Vu,SCe=ro,jCe=_Ce(SCe,"Promise"),kCe=jCe,ECe=Vu,NCe=ro,CCe=ECe(NCe,"Set"),fH=CCe,PCe=Vu,ACe=ro,TCe=PCe(ACe,"WeakMap"),OCe=TCe,LN=wCe,DN=tT,FN=kCe,BN=fH,UN=OCe,hH=Vo,zh=vV,H3="[object Map]",$Ce="[object Object]",K3="[object Promise]",G3="[object Set]",J3="[object WeakMap]",Y3="[object DataView]",RCe=zh(LN),MCe=zh(DN),ICe=zh(FN),LCe=zh(BN),DCe=zh(UN),Ic=hH;(LN&&Ic(new LN(new ArrayBuffer(1)))!=Y3||DN&&Ic(new DN)!=H3||FN&&Ic(FN.resolve())!=K3||BN&&Ic(new BN)!=G3||UN&&Ic(new UN)!=J3)&&(Ic=function(e){var t=hH(e),r=t==$Ce?e.constructor:void 0,n=r?zh(r):"";if(n)switch(n){case RCe:return Y3;case MCe:return H3;case ICe:return K3;case LCe:return G3;case DCe:return J3}return t});var FCe=Ic,tj=tH,BCe=aH,UCe=vEe,zCe=yCe,X3=FCe,Q3=Ks,Z3=lH,qCe=uH,WCe=1,eL="[object Arguments]",tL="[object Array]",qv="[object Object]",VCe=Object.prototype,rL=VCe.hasOwnProperty;function HCe(e,t,r,n,s,a){var i=Q3(e),l=Q3(t),c=i?tL:X3(e),u=l?tL:X3(t);c=c==eL?qv:c,u=u==eL?qv:u;var d=c==qv,f=u==qv,h=c==u;if(h&&Z3(e)){if(!Z3(t))return!1;i=!0,d=!1}if(h&&!d)return a||(a=new tj),i||qCe(e)?BCe(e,t,r,n,s,a):UCe(e,t,c,r,n,s,a);if(!(r&WCe)){var g=d&&rL.call(e,"__wrapped__"),y=f&&rL.call(t,"__wrapped__");if(g||y){var m=g?e.value():e,v=y?t.value():t;return a||(a=new tj),s(m,v,r,n,a)}}return h?(a||(a=new tj),zCe(e,t,r,n,s,a)):!1}var KCe=HCe,GCe=KCe,nL=Ho;function pH(e,t,r,n,s){return e===t?!0:e==null||t==null||!nL(e)&&!nL(t)?e!==e&&t!==t:GCe(e,t,r,n,pH,s)}var xT=pH,JCe=tH,YCe=xT,XCe=1,QCe=2;function ZCe(e,t,r,n){var s=r.length,a=s,i=!n;if(e==null)return!a;for(e=Object(e);s--;){var l=r[s];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=r[s];var c=l[0],u=e[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new JCe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?YCe(d,u,XCe|QCe,n,f):h))return!1}}return!0}var e2e=ZCe,t2e=mc;function r2e(e){return e===e&&!t2e(e)}var mH=r2e,n2e=mH,s2e=P1;function a2e(e){for(var t=s2e(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,n2e(s)]}return t}var i2e=a2e;function o2e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var gH=o2e,l2e=e2e,c2e=i2e,u2e=gH;function d2e(e){var t=c2e(e);return t.length==1&&t[0][2]?u2e(t[0][0],t[0][1]):function(r){return r===e||l2e(r,e,t)}}var f2e=d2e;function h2e(e,t){return e!=null&&t in Object(e)}var p2e=h2e,m2e=SV,g2e=gT,y2e=Ks,v2e=yT,x2e=vT,b2e=h1;function w2e(e,t,r){t=m2e(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var i=b2e(t[n]);if(!(a=e!=null&&r(e,i)))break;e=e[i]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&x2e(s)&&v2e(i,s)&&(y2e(e)||g2e(e)))}var _2e=w2e,S2e=p2e,j2e=_2e;function k2e(e,t){return e!=null&&j2e(e,t,S2e)}var E2e=k2e,N2e=xT,C2e=jV,P2e=E2e,A2e=QA,T2e=mH,O2e=gH,$2e=h1,R2e=1,M2e=2;function I2e(e,t){return A2e(e)&&T2e(t)?O2e($2e(e),t):function(r){var n=C2e(r,e);return n===void 0&&n===t?P2e(r,e):N2e(t,n,R2e|M2e)}}var L2e=I2e;function D2e(e){return e}var qh=D2e;function F2e(e){return function(t){return t==null?void 0:t[e]}}var B2e=F2e,U2e=aT;function z2e(e){return function(t){return U2e(t,e)}}var q2e=z2e,W2e=B2e,V2e=q2e,H2e=QA,K2e=h1;function G2e(e){return H2e(e)?W2e(K2e(e)):V2e(e)}var J2e=G2e,Y2e=f2e,X2e=L2e,Q2e=qh,Z2e=Ks,ePe=J2e;function tPe(e){return typeof e=="function"?e:e==null?Q2e:typeof e=="object"?Z2e(e)?X2e(e[0],e[1]):Y2e(e):ePe(e)}var gc=tPe;function rPe(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var yH=rPe;function nPe(e){return e!==e}var sPe=nPe;function aPe(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var iPe=aPe,oPe=yH,lPe=sPe,cPe=iPe;function uPe(e,t,r){return t===t?cPe(e,t,r):oPe(e,lPe,r)}var dPe=uPe,fPe=dPe;function hPe(e,t){var r=e==null?0:e.length;return!!r&&fPe(e,t,0)>-1}var pPe=hPe;function mPe(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var gPe=mPe;function yPe(){}var vPe=yPe,rj=fH,xPe=vPe,bPe=mT,wPe=1/0,_Pe=rj&&1/bPe(new rj([,-0]))[1]==wPe?function(e){return new rj(e)}:xPe,SPe=_Pe,jPe=rH,kPe=pPe,EPe=gPe,NPe=sH,CPe=SPe,PPe=mT,APe=200;function TPe(e,t,r){var n=-1,s=kPe,a=e.length,i=!0,l=[],c=l;if(r)i=!1,s=EPe;else if(a>=APe){var u=t?null:CPe(e);if(u)return PPe(u);i=!1,s=NPe,c=new jPe}else c=t?[]:l;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var OPe=TPe,$Pe=gc,RPe=OPe;function MPe(e,t){return e&&e.length?RPe(e,$Pe(t)):[]}var IPe=MPe;const sL=wr(IPe);function vH(e,t,r){return t===!0?sL(e,r):zt(t)?sL(e,t):e}function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}var LPe=["ref"];function aL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aL(Object(r),!0).forEach(function(n){A1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bH(n.key),n)}}function FPe(e,t,r){return t&&iL(e.prototype,t),r&&iL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BPe(e,t,r){return t=ab(t),UPe(e,xH()?Reflect.construct(t,r||[],ab(e).constructor):t.apply(e,r))}function UPe(e,t){if(t&&(Wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zPe(e)}function zPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xH=function(){return!!e})()}function ab(e){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ab(e)}function qPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zN(e,t)}function zN(e,t){return zN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zN(e,t)}function A1(e,t,r){return t=bH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e){var t=WPe(e,"string");return Wf(t)=="symbol"?t:t+""}function WPe(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VPe(e,t){if(e==null)return{};var r=HPe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KPe(e){return e.value}function GPe(e,t){if(O.isValidElement(e))return O.cloneElement(e,t);if(typeof e=="function")return O.createElement(e,t);t.ref;var r=VPe(t,LPe);return O.createElement(pT,r)}var oL=1,af=function(e){function t(){var r;DPe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=BPe(this,t,[].concat(s)),A1(r,"lastBoundingBox",{width:-1,height:-1}),r}return qPe(t,e),FPe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>oL||Math.abs(s.height-this.lastBoundingBox.height)>oL)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?oo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,a=s.layout,i=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return oo(oo({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,a=s.content,i=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=oo(oo({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return O.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){n.wrapperNode=g}},GPe(a,oo(oo({},this.props),{},{payload:vH(d,u,KPe)})))}}],[{key:"getWithHeight",value:function(n,s){var a=oo(oo({},this.defaultProps),n.props),i=a.layout;return i==="vertical"&&Ge(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||s}:null}}])}(p.PureComponent);A1(af,"displayName","Legend");A1(af,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var lL=Ry,JPe=gT,YPe=Ks,cL=lL?lL.isConcatSpreadable:void 0;function XPe(e){return YPe(e)||JPe(e)||!!(cL&&e&&e[cL])}var QPe=XPe,ZPe=iH,eAe=QPe;function wH(e,t,r,n,s){var a=-1,i=e.length;for(r||(r=eAe),s||(s=[]);++a<i;){var l=e[a];t>0&&r(l)?t>1?wH(l,t-1,r,n,s):ZPe(s,l):n||(s[s.length]=l)}return s}var _H=wH;function tAe(e){return function(t,r,n){for(var s=-1,a=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++s];if(r(a[c],c,a)===!1)break}return t}}var rAe=tAe,nAe=rAe,sAe=nAe(),aAe=sAe,iAe=aAe,oAe=P1;function lAe(e,t){return e&&iAe(e,t,oAe)}var SH=lAe,cAe=Ly;function uAe(e,t){return function(r,n){if(r==null)return r;if(!cAe(r))return e(r,n);for(var s=r.length,a=t?s:-1,i=Object(r);(t?a--:++a<s)&&n(i[a],a,i)!==!1;);return r}}var dAe=uAe,fAe=SH,hAe=dAe,pAe=hAe(fAe),bT=pAe,mAe=bT,gAe=Ly;function yAe(e,t){var r=-1,n=gAe(e)?Array(e.length):[];return mAe(e,function(s,a,i){n[++r]=t(s,a,i)}),n}var jH=yAe;function vAe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var xAe=vAe,uL=Ih;function bAe(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=uL(e),i=t!==void 0,l=t===null,c=t===t,u=uL(t);if(!l&&!u&&!a&&e>t||a&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&e<t||u&&r&&s&&!n&&!a||l&&r&&s||!i&&s||!c)return-1}return 0}var wAe=bAe,_Ae=wAe;function SAe(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,i=s.length,l=r.length;++n<i;){var c=_Ae(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var jAe=SAe,nj=sT,kAe=aT,EAe=gc,NAe=jH,CAe=xAe,PAe=cH,AAe=jAe,TAe=qh,OAe=Ks;function $Ae(e,t,r){t.length?t=nj(t,function(a){return OAe(a)?function(i){return kAe(i,a.length===1?a[0]:a)}:a}):t=[TAe];var n=-1;t=nj(t,PAe(EAe));var s=NAe(e,function(a,i,l){var c=nj(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return CAe(s,function(a,i){return AAe(a,i,r)})}var RAe=$Ae;function MAe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var IAe=MAe,LAe=IAe,dL=Math.max;function DAe(e,t,r){return t=dL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=dL(n.length-t,0),i=Array(a);++s<a;)i[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(i),LAe(e,this,l)}}var FAe=DAe;function BAe(e){return function(){return e}}var UAe=BAe,zAe=Vu,qAe=function(){try{var e=zAe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),kH=qAe,WAe=UAe,fL=kH,VAe=qh,HAe=fL?function(e,t){return fL(e,"toString",{configurable:!0,enumerable:!1,value:WAe(t),writable:!0})}:VAe,KAe=HAe,GAe=800,JAe=16,YAe=Date.now;function XAe(e){var t=0,r=0;return function(){var n=YAe(),s=JAe-(n-r);if(r=n,s>0){if(++t>=GAe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var QAe=XAe,ZAe=KAe,eTe=QAe,tTe=eTe(ZAe),rTe=tTe,nTe=qh,sTe=FAe,aTe=rTe;function iTe(e,t){return aTe(sTe(e,t,nTe),e+"")}var oTe=iTe,lTe=eT,cTe=Ly,uTe=yT,dTe=mc;function fTe(e,t,r){if(!dTe(r))return!1;var n=typeof t;return(n=="number"?cTe(r)&&uTe(t,r.length):n=="string"&&t in r)?lTe(r[t],e):!1}var T1=fTe,hTe=_H,pTe=RAe,mTe=oTe,hL=T1,gTe=mTe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&hL(e,t[0],t[1])?t=[]:r>2&&hL(t[0],t[1],t[2])&&(t=[t[0]]),pTe(e,hTe(t,1),[])}),yTe=gTe;const wT=wr(yTe);function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qN.apply(this,arguments)}function vTe(e,t){return _Te(e)||wTe(e,t)||bTe(e,t)||xTe()}function xTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bTe(e,t){if(e){if(typeof e=="string")return pL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pL(e,t)}}function pL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function _Te(e){if(Array.isArray(e))return e}function mL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mL(Object(r),!0).forEach(function(n){STe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function STe(e,t,r){return t=jTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jTe(e){var t=kTe(e,"string");return _g(t)=="symbol"?t:t+""}function kTe(e,t){if(_g(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ETe(e){return Array.isArray(e)&&Sn(e[0])&&Sn(e[1])?e.join(" ~ "):e}var NTe=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,a=s===void 0?{}:s,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,g=t.wrapperClassName,y=t.labelClassName,m=t.label,v=t.labelFormatter,x=t.accessibilityLayer,w=x===void 0?!1:x,b=function(){if(d&&d.length){var R={padding:0,margin:0},F=(h?wT(d,h):d).map(function(z,D){if(z.type==="none")return null;var I=sj({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),B=z.formatter||f||ETe,T=z.value,M=z.name,Z=T,L=M;if(B&&Z!=null&&L!=null){var G=B(T,M,z,D,d);if(Array.isArray(G)){var H=vTe(G,2);Z=H[0],L=H[1]}else Z=G}return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:I},Sn(L)?O.createElement("span",{className:"recharts-tooltip-item-name"},L):null,Sn(L)?O.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,O.createElement("span",{className:"recharts-tooltip-item-value"},Z),O.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:R},F)}return null},_=sj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=sj({margin:0},u),E=!cr(m),k=E?m:"",j=Qt("recharts-default-tooltip",g),N=Qt("recharts-tooltip-label",y);E&&v&&d!==void 0&&d!==null&&(k=v(m,d));var C=w?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",qN({className:j,style:_},C),O.createElement("p",{className:N,style:S},O.isValidElement(k)?k:"".concat(k)),b())};function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function Wv(e,t,r){return t=CTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CTe(e){var t=PTe(e,"string");return Sg(t)=="symbol"?t:t+""}function PTe(e,t){if(Sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kp="recharts-tooltip-wrapper",ATe={visibility:"hidden"};function TTe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Qt(kp,Wv(Wv(Wv(Wv({},"".concat(kp,"-right"),Ge(r)&&t&&Ge(t.x)&&r>=t.x),"".concat(kp,"-left"),Ge(r)&&t&&Ge(t.x)&&r<t.x),"".concat(kp,"-bottom"),Ge(n)&&t&&Ge(t.y)&&n>=t.y),"".concat(kp,"-top"),Ge(n)&&t&&Ge(t.y)&&n<t.y))}function gL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&Ge(a[n]))return a[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return i[n]?d:f;if(i[n]){var h=d,g=c[n];return h<g?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,m=c[n]+u;return y>m?Math.max(d,c[n]):Math.max(f,c[n])}function OTe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function $Te(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,a=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=gL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=gL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=OTe({translateX:d,translateY:f,useTranslate3d:l})):u=ATe,{cssProperties:u,cssClasses:TTe({translateX:d,translateY:f,coordinate:r})}}function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function yL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yL(Object(r),!0).forEach(function(n){VN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NH(n.key),n)}}function ITe(e,t,r){return t&&MTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LTe(e,t,r){return t=ib(t),DTe(e,EH()?Reflect.construct(t,r||[],ib(e).constructor):t.apply(e,r))}function DTe(e,t){if(t&&(Vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FTe(e)}function FTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EH=function(){return!!e})()}function ib(e){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ib(e)}function BTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WN(e,t)}function WN(e,t){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},WN(e,t)}function VN(e,t,r){return t=NH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NH(e){var t=UTe(e,"string");return Vf(t)=="symbol"?t:t+""}function UTe(e,t){if(Vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xL=1,zTe=function(e){function t(){var r;RTe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=LTe(this,t,[].concat(s)),VN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),VN(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return BTe(t,e),ITe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>xL||Math.abs(n.height-this.state.lastBoundingBox.height)>xL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,a=s.active,i=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,g=s.offset,y=s.position,m=s.reverseDirection,v=s.useTranslate3d,x=s.viewBox,w=s.wrapperStyle,b=$Te({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:g,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),_=b.cssClasses,S=b.cssProperties,E=vL(vL({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return O.createElement("div",{tabIndex:-1,className:_,style:E,ref:function(j){n.wrapperNode=j}},u)}}])}(p.PureComponent),qTe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Yl={isSsr:qTe(),get:function(t){return Yl[t]},set:function(t,r){if(typeof t=="string")Yl[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(s){Yl[s]=t[s]})}}};function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}function bL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(r),!0).forEach(function(n){_T(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PH(n.key),n)}}function HTe(e,t,r){return t&&VTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KTe(e,t,r){return t=ob(t),GTe(e,CH()?Reflect.construct(t,r||[],ob(e).constructor):t.apply(e,r))}function GTe(e,t){if(t&&(Hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JTe(e)}function JTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CH=function(){return!!e})()}function ob(e){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ob(e)}function YTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HN(e,t)}function HN(e,t){return HN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},HN(e,t)}function _T(e,t,r){return t=PH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PH(e){var t=XTe(e,"string");return Hf(t)=="symbol"?t:t+""}function XTe(e,t){if(Hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QTe(e){return e.dataKey}function ZTe(e,t){return O.isValidElement(e)?O.cloneElement(e,t):typeof e=="function"?O.createElement(e,t):O.createElement(NTe,t)}var Ni=function(e){function t(){return WTe(this,t),KTe(this,t,arguments)}return YTe(t,e),HTe(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.active,i=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,g=s.offset,y=s.payload,m=s.payloadUniqBy,v=s.position,x=s.reverseDirection,w=s.useTranslate3d,b=s.viewBox,_=s.wrapperStyle,S=y??[];f&&S.length&&(S=vH(y.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),m,QTe));var E=S.length>0;return O.createElement(zTe,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:E,offset:g,position:v,reverseDirection:x,useTranslate3d:w,viewBox:b,wrapperStyle:_},ZTe(u,wL(wL({},this.props),{},{payload:S})))}}])}(p.PureComponent);_T(Ni,"displayName","Tooltip");_T(Ni,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Yl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var eOe=ro,tOe=function(){return eOe.Date.now()},rOe=tOe,nOe=/\s/;function sOe(e){for(var t=e.length;t--&&nOe.test(e.charAt(t)););return t}var aOe=sOe,iOe=aOe,oOe=/^\s+/;function lOe(e){return e&&e.slice(0,iOe(e)+1).replace(oOe,"")}var cOe=lOe,uOe=cOe,_L=mc,dOe=Ih,SL=NaN,fOe=/^[-+]0x[0-9a-f]+$/i,hOe=/^0b[01]+$/i,pOe=/^0o[0-7]+$/i,mOe=parseInt;function gOe(e){if(typeof e=="number")return e;if(dOe(e))return SL;if(_L(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_L(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=uOe(e);var r=hOe.test(e);return r||pOe.test(e)?mOe(e.slice(2),r?2:8):fOe.test(e)?SL:+e}var AH=gOe,yOe=mc,aj=rOe,jL=AH,vOe="Expected a function",xOe=Math.max,bOe=Math.min;function wOe(e,t,r){var n,s,a,i,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(vOe);t=jL(t)||0,yOe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?xOe(jL(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function g(E){var k=n,j=s;return n=s=void 0,u=E,i=e.apply(j,k),i}function y(E){return u=E,l=setTimeout(x,t),d?g(E):i}function m(E){var k=E-c,j=E-u,N=t-k;return f?bOe(N,a-j):N}function v(E){var k=E-c,j=E-u;return c===void 0||k>=t||k<0||f&&j>=a}function x(){var E=aj();if(v(E))return w(E);l=setTimeout(x,m(E))}function w(E){return l=void 0,h&&n?g(E):(n=s=void 0,i)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function _(){return l===void 0?i:w(aj())}function S(){var E=aj(),k=v(E);if(n=arguments,s=this,c=E,k){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(x,t),g(c)}return l===void 0&&(l=setTimeout(x,t)),i}return S.cancel=b,S.flush=_,S}var _Oe=wOe,SOe=_Oe,jOe=mc,kOe="Expected a function";function EOe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(kOe);return jOe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),SOe(e,t,{leading:n,maxWait:t,trailing:s})}var NOe=EOe;const TH=wr(NOe);function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function kL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kL(Object(r),!0).forEach(function(n){COe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function COe(e,t,r){return t=POe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function POe(e){var t=AOe(e,"string");return jg(t)=="symbol"?t:t+""}function AOe(e,t){if(jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TOe(e,t){return MOe(e)||ROe(e,t)||$Oe(e,t)||OOe()}function OOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Oe(e,t){if(e){if(typeof e=="string")return EL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EL(e,t)}}function EL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ROe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function MOe(e){if(Array.isArray(e))return e}var IOe=p.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,a=e.width,i=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,g=e.children,y=e.debounce,m=y===void 0?0:y,v=e.id,x=e.className,w=e.onResize,b=e.style,_=b===void 0?{}:b,S=p.useRef(null),E=p.useRef();E.current=w,p.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=p.useState({containerWidth:s.width,containerHeight:s.height}),j=TOe(k,2),N=j[0],C=j[1],P=p.useCallback(function(F,z){C(function(D){var I=Math.round(F),B=Math.round(z);return D.containerWidth===I&&D.containerHeight===B?D:{containerWidth:I,containerHeight:B}})},[]);p.useEffect(function(){var F=function(M){var Z,L=M[0].contentRect,G=L.width,H=L.height;P(G,H),(Z=E.current)===null||Z===void 0||Z.call(E,G,H)};m>0&&(F=TH(F,m,{trailing:!0,leading:!1}));var z=new ResizeObserver(F),D=S.current.getBoundingClientRect(),I=D.width,B=D.height;return P(I,B),z.observe(S.current),function(){z.disconnect()}},[P,m]);var R=p.useMemo(function(){var F=N.containerWidth,z=N.containerHeight;if(F<0||z<0)return null;Co(Gc(i)||Gc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),Co(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=Gc(i)?F:i,I=Gc(c)?z:c;r&&r>0&&(D?I=D/r:I&&(D=I*r),h&&I>h&&(I=h)),Co(D>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,I,i,c,d,f,r);var B=!Array.isArray(g)&&No(g.type).endsWith("Chart");return O.Children.map(g,function(T){return NV.isElement(T)?p.cloneElement(T,Vv({width:D,height:I},B?{style:Vv({height:"100%",width:"100%",maxHeight:I,maxWidth:D},T.props.style)}:{})):T})},[r,g,c,h,f,d,N,i]);return O.createElement("div",{id:v?"".concat(v):void 0,className:Qt("recharts-responsive-container",x),style:Vv(Vv({},_),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},R)}),Dy=function(t){return null};Dy.displayName="Cell";function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function NL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function KN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NL(Object(r),!0).forEach(function(n){LOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LOe(e,t,r){return t=DOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DOe(e){var t=FOe(e,"string");return kg(t)=="symbol"?t:t+""}function FOe(e,t){if(kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cd={widthCache:{},cacheCount:0},BOe=2e3,UOe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CL="recharts_measurement_span";function zOe(e){var t=KN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Em=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Yl.isSsr)return{width:0,height:0};var n=zOe(r),s=JSON.stringify({text:t,copyStyle:n});if(cd.widthCache[s])return cd.widthCache[s];try{var a=document.getElementById(CL);a||(a=document.createElement("span"),a.setAttribute("id",CL),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=KN(KN({},UOe),n);Object.assign(a.style,i),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return cd.widthCache[s]=c,++cd.cacheCount>BOe&&(cd.cacheCount=0,cd.widthCache={}),c}catch{return{width:0,height:0}}},qOe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function lb(e,t){return KOe(e)||HOe(e,t)||VOe(e,t)||WOe()}function WOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VOe(e,t){if(e){if(typeof e=="string")return PL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PL(e,t)}}function PL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function KOe(e){if(Array.isArray(e))return e}function GOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YOe(n.key),n)}}function JOe(e,t,r){return t&&AL(e.prototype,t),r&&AL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YOe(e){var t=XOe(e,"string");return Eg(t)=="symbol"?t:t+""}function XOe(e,t){if(Eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QOe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ZOe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},e$e=Object.keys(OH),Bd="NaN";function t$e(e,t){return e*OH[t]}var Hv=function(){function e(t,r){GOe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!QOe.test(r)&&(this.num=NaN,this.unit=""),e$e.includes(r)&&(this.num=t$e(t,r),this.unit="px")}return JOe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=ZOe.exec(r))!==null&&n!==void 0?n:[],a=lb(s,3),i=a[1],l=a[2];return new e(parseFloat(i),l??"")}}])}();function $H(e){if(e.includes(Bd))return Bd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=TL.exec(t))!==null&&r!==void 0?r:[],s=lb(n,4),a=s[1],i=s[2],l=s[3],c=Hv.parse(a??""),u=Hv.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Bd;t=t.replace(TL,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=OL.exec(t))!==null&&f!==void 0?f:[],g=lb(h,4),y=g[1],m=g[2],v=g[3],x=Hv.parse(y??""),w=Hv.parse(v??""),b=m==="+"?x.add(w):x.subtract(w);if(b.isNaN())return Bd;t=t.replace(OL,b.toString())}return t}var $L=/\(([^()]*)\)/;function r$e(e){for(var t=e;t.includes("(");){var r=$L.exec(t),n=lb(r,2),s=n[1];t=t.replace($L,$H(s))}return t}function n$e(e){var t=e.replace(/\s+/g,"");return t=r$e(t),t=$H(t),t}function s$e(e){try{return n$e(e)}catch{return Bd}}function ij(e){var t=s$e(e.slice(5,-1));return t===Bd?"":t}var a$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],i$e=["dx","dy","angle","className","breakAll"];function GN(){return GN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GN.apply(this,arguments)}function RL(e,t){if(e==null)return{};var r=o$e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ML(e,t){return d$e(e)||u$e(e,t)||c$e(e,t)||l$e()}function l$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c$e(e,t){if(e){if(typeof e=="string")return IL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IL(e,t)}}function IL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function d$e(e){if(Array.isArray(e))return e}var RH=/[ \f\n\r\t\v\u2028\u2029]+/,MH=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var a=[];cr(r)||(n?a=r.toString().split(""):a=r.toString().split(RH));var i=a.map(function(c){return{word:c,width:Em(c,s).width}}),l=n?0:Em("",s).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},f$e=function(t,r,n,s,a){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ge(i),f=l,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(I,B){var T=B.word,M=B.width,Z=I[I.length-1];if(Z&&(s==null||a||Z.width+M+n<Number(s)))Z.words.push(T),Z.width+=M+n;else{var L={words:[T],width:M};I.push(L)}return I},[])},g=h(r),y=function(D){return D.reduce(function(I,B){return I.width>B.width?I:B})};if(!d)return g;for(var m="",v=function(D){var I=f.slice(0,D),B=MH({breakAll:u,style:c,children:I+m}).wordsWithComputedWidth,T=h(B),M=T.length>i||y(T).width>Number(s);return[M,T]},x=0,w=f.length-1,b=0,_;x<=w&&b<=f.length-1;){var S=Math.floor((x+w)/2),E=S-1,k=v(E),j=ML(k,2),N=j[0],C=j[1],P=v(S),R=ML(P,1),F=R[0];if(!N&&!F&&(x=S+1),N&&F&&(w=S-1),!N&&F){_=C;break}b++}return _||g},LL=function(t){var r=cr(t)?[]:t.toString().split(RH);return[{words:r}]},h$e=function(t){var r=t.width,n=t.scaleToFit,s=t.children,a=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!Yl.isSsr){var c,u,d=MH({breakAll:i,children:s,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return LL(s);return f$e({breakAll:i,children:s,maxLines:l,style:a},c,u,r,n)}return LL(s)},DL="#808080",cb=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,g=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,v=t.fill,x=v===void 0?DL:v,w=RL(t,a$e),b=p.useMemo(function(){return h$e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),_=w.dx,S=w.dy,E=w.angle,k=w.className,j=w.breakAll,N=RL(w,i$e);if(!Sn(n)||!Sn(a))return null;var C=n+(Ge(_)?_:0),P=a+(Ge(S)?S:0),R;switch(m){case"start":R=ij("calc(".concat(u,")"));break;case"middle":R=ij("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:R=ij("calc(".concat(b.length-1," * -").concat(l,")"));break}var F=[];if(f){var z=b[0].width,D=w.width;F.push("scale(".concat((Ge(D)?D/z:1)/z,")"))}return E&&F.push("rotate(".concat(E,", ").concat(C,", ").concat(P,")")),F.length&&(N.transform=F.join(" ")),O.createElement("text",GN({},sr(N,!0),{x:C,y:P,className:Qt("recharts-text",k),textAnchor:g,fill:x.includes("url")?DL:x}),b.map(function(I,B){var T=I.words.join(j?"":" ");return O.createElement("tspan",{x:C,dy:B===0?R:l,key:"".concat(T,"-").concat(B)},T)}))};function Xl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function p$e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ST(e){let t,r,n;e.length!==2?(t=Xl,r=(l,c)=>Xl(e(l),c),n=(l,c)=>e(l)-c):(t=e===Xl||e===p$e?e:m$e,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:i,right:a}}function m$e(){return 0}function IH(e){return e===null?NaN:+e}function*g$e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const y$e=ST(Xl),Fy=y$e.right;ST(IH).center;class FL extends Map{constructor(t,r=b$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(BL(this,t))}has(t){return super.has(BL(this,t))}set(t,r){return super.set(v$e(this,t),r)}delete(t){return super.delete(x$e(this,t))}}function BL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function v$e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function x$e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function b$e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function w$e(e=Xl){if(e===Xl)return LH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function LH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _$e=Math.sqrt(50),S$e=Math.sqrt(10),j$e=Math.sqrt(2);function ub(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),i=a>=_$e?10:a>=S$e?5:a>=j$e?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ub(e,t,r*2):[l,c,u]}function JN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,a,i]=n?ub(t,e,r):ub(e,t,r);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(a-u)/-i;else for(let u=0;u<l;++u)c[u]=(a-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(s+u)/-i;else for(let u=0;u<l;++u)c[u]=(s+u)*i;return c}function YN(e,t,r){return t=+t,e=+e,r=+r,ub(e,t,r)[2]}function XN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?YN(t,e,r):YN(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function UL(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function zL(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function DH(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?LH:w$e(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));DH(e,t,g,y,s)}const a=e[t];let i=r,l=n;for(Ep(e,r,t),s(e[n],a)>0&&Ep(e,r,n);i<l;){for(Ep(e,i,l),++i,--l;s(e[i],a)<0;)++i;for(;s(e[l],a)>0;)--l}s(e[r],a)===0?Ep(e,r,l):(++l,Ep(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ep(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function k$e(e,t,r){if(e=Float64Array.from(g$e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return zL(e);if(t>=1)return UL(e);var n,s=(n-1)*t,a=Math.floor(s),i=UL(DH(e,a).subarray(0,a+1)),l=zL(e.subarray(a+1));return i+(l-i)*(s-a)}}function E$e(e,t,r=IH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,a=Math.floor(s),i=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return i+(l-i)*(s-a)}}function N$e(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(s);++n<s;)a[n]=e+n*r;return a}function Ua(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ko(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const QN=Symbol("implicit");function jT(){var e=new FL,t=[],r=[],n=QN;function s(a){let i=e.get(a);if(i===void 0){if(n!==QN)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new FL;for(const i of a)e.has(i)||e.set(i,t.push(i)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return jT(t,r).unknown(n)},Ua.apply(s,arguments),s}function Ng(){var e=jT().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,a,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,g=s<n,y=g?s:n,m=g?n:s;a=(m-y)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),y+=(m-y-a*(h-c))*d,i=a*(1-c),l&&(y=Math.round(y),i=Math.round(i));var v=N$e(h).map(function(x){return y+a*x});return r(g?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Ng(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ua.apply(f(),arguments)}function FH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return FH(t())},e}function Nm(){return FH(Ng.apply(null,arguments).paddingInner(1))}function kT(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function BH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function By(){}var Cg=.7,db=1/Cg,of="\\s*([+-]?\\d+)\\s*",Pg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",C$e=/^#([0-9a-f]{3,8})$/,P$e=new RegExp(`^rgb\\(${of},${of},${of}\\)$`),A$e=new RegExp(`^rgb\\(${Wi},${Wi},${Wi}\\)$`),T$e=new RegExp(`^rgba\\(${of},${of},${of},${Pg}\\)$`),O$e=new RegExp(`^rgba\\(${Wi},${Wi},${Wi},${Pg}\\)$`),$$e=new RegExp(`^hsl\\(${Pg},${Wi},${Wi}\\)$`),R$e=new RegExp(`^hsla\\(${Pg},${Wi},${Wi},${Pg}\\)$`),qL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kT(By,Ag,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:WL,formatHex:WL,formatHex8:M$e,formatHsl:I$e,formatRgb:VL,toString:VL});function WL(){return this.rgb().formatHex()}function M$e(){return this.rgb().formatHex8()}function I$e(){return UH(this).formatHsl()}function VL(){return this.rgb().formatRgb()}function Ag(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=C$e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?HL(t):r===3?new Fs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Kv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Kv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=P$e.exec(e))?new Fs(t[1],t[2],t[3],1):(t=A$e.exec(e))?new Fs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=T$e.exec(e))?Kv(t[1],t[2],t[3],t[4]):(t=O$e.exec(e))?Kv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$$e.exec(e))?JL(t[1],t[2]/100,t[3]/100,1):(t=R$e.exec(e))?JL(t[1],t[2]/100,t[3]/100,t[4]):qL.hasOwnProperty(e)?HL(qL[e]):e==="transparent"?new Fs(NaN,NaN,NaN,0):null}function HL(e){return new Fs(e>>16&255,e>>8&255,e&255,1)}function Kv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Fs(e,t,r,n)}function L$e(e){return e instanceof By||(e=Ag(e)),e?(e=e.rgb(),new Fs(e.r,e.g,e.b,e.opacity)):new Fs}function ZN(e,t,r,n){return arguments.length===1?L$e(e):new Fs(e,t,r,n??1)}function Fs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}kT(Fs,ZN,BH(By,{brighter(e){return e=e==null?db:Math.pow(db,e),new Fs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cg:Math.pow(Cg,e),new Fs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fs(yu(this.r),yu(this.g),yu(this.b),fb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KL,formatHex:KL,formatHex8:D$e,formatRgb:GL,toString:GL}));function KL(){return`#${Jc(this.r)}${Jc(this.g)}${Jc(this.b)}`}function D$e(){return`#${Jc(this.r)}${Jc(this.g)}${Jc(this.b)}${Jc((isNaN(this.opacity)?1:this.opacity)*255)}`}function GL(){const e=fb(this.opacity);return`${e===1?"rgb(":"rgba("}${yu(this.r)}, ${yu(this.g)}, ${yu(this.b)}${e===1?")":`, ${e})`}`}function fb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Jc(e){return e=yu(e),(e<16?"0":"")+e.toString(16)}function JL(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ri(e,t,r,n)}function UH(e){if(e instanceof ri)return new ri(e.h,e.s,e.l,e.opacity);if(e instanceof By||(e=Ag(e)),!e)return new ri;if(e instanceof ri)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),a=Math.max(t,r,n),i=NaN,l=a-s,c=(a+s)/2;return l?(t===a?i=(r-n)/l+(r<n)*6:r===a?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?a+s:2-a-s,i*=60):l=c>0&&c<1?0:i,new ri(i,l,c,e.opacity)}function F$e(e,t,r,n){return arguments.length===1?UH(e):new ri(e,t,r,n??1)}function ri(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}kT(ri,F$e,BH(By,{brighter(e){return e=e==null?db:Math.pow(db,e),new ri(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cg:Math.pow(Cg,e),new ri(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Fs(oj(e>=240?e-240:e+120,s,n),oj(e,s,n),oj(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new ri(YL(this.h),Gv(this.s),Gv(this.l),fb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fb(this.opacity);return`${e===1?"hsl(":"hsla("}${YL(this.h)}, ${Gv(this.s)*100}%, ${Gv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function YL(e){return e=(e||0)%360,e<0?e+360:e}function Gv(e){return Math.max(0,Math.min(1,e||0))}function oj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ET=e=>()=>e;function B$e(e,t){return function(r){return e+r*t}}function U$e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function z$e(e){return(e=+e)==1?zH:function(t,r){return r-t?U$e(t,r,e):ET(isNaN(t)?r:t)}}function zH(e,t){var r=t-e;return r?B$e(e,r):ET(isNaN(e)?t:e)}const XL=function e(t){var r=z$e(t);function n(s,a){var i=r((s=ZN(s)).r,(a=ZN(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),u=zH(s.opacity,a.opacity);return function(d){return s.r=i(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function q$e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=e[s]*(1-a)+t[s]*a;return n}}function W$e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function V$e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),a=new Array(r),i;for(i=0;i<n;++i)s[i]=Wh(e[i],t[i]);for(;i<r;++i)a[i]=t[i];return function(l){for(i=0;i<n;++i)a[i]=s[i](l);return a}}function H$e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function hb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function K$e(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Wh(e[s],t[s]):n[s]=t[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var eC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lj=new RegExp(eC.source,"g");function G$e(e){return function(){return e}}function J$e(e){return function(t){return e(t)+""}}function Y$e(e,t){var r=eC.lastIndex=lj.lastIndex=0,n,s,a,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=eC.exec(e))&&(s=lj.exec(t));)(a=s.index)>r&&(a=t.slice(r,a),l[i]?l[i]+=a:l[++i]=a),(n=n[0])===(s=s[0])?l[i]?l[i]+=s:l[++i]=s:(l[++i]=null,c.push({i,x:hb(n,s)})),r=lj.lastIndex;return r<t.length&&(a=t.slice(r),l[i]?l[i]+=a:l[++i]=a),l.length<2?c[0]?J$e(c[0].x):G$e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Wh(e,t){var r=typeof t,n;return t==null||r==="boolean"?ET(t):(r==="number"?hb:r==="string"?(n=Ag(t))?(t=n,XL):Y$e:t instanceof Ag?XL:t instanceof Date?H$e:W$e(t)?q$e:Array.isArray(t)?V$e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?K$e:hb)(e,t)}function NT(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function X$e(e,t){t===void 0&&(t=e,e=Wh);for(var r=0,n=t.length-1,s=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(s,s=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return a[l](i-l)}}function Q$e(e){return function(){return e}}function pb(e){return+e}var QL=[0,1];function Ss(e){return e}function tC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Q$e(isNaN(t)?NaN:.5)}function Z$e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function eRe(e,t,r){var n=e[0],s=e[1],a=t[0],i=t[1];return s<n?(n=tC(s,n),a=r(i,a)):(n=tC(n,s),a=r(a,i)),function(l){return a(n(l))}}function tRe(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),a=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)s[i]=tC(e[i],e[i+1]),a[i]=r(t[i],t[i+1]);return function(l){var c=Fy(e,l,1,n)-1;return a[c](s[c](l))}}function Uy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function O1(){var e=QL,t=QL,r=Wh,n,s,a,i=Ss,l,c,u;function d(){var h=Math.min(e.length,t.length);return i!==Ss&&(i=Z$e(e[0],e[h-1])),l=h>2?tRe:eRe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(s((u||(u=l(t,e.map(n),hb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,pb),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=NT,d()},f.clamp=function(h){return arguments.length?(i=h?!0:Ss,d()):i!==Ss},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,g){return n=h,s=g,d()}}function CT(){return O1()(Ss,Ss)}function rRe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Kf(e){return e=mb(Math.abs(e)),e?e[1]:NaN}function nRe(e,t){return function(r,n){for(var s=r.length,a=[],i=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return a.reverse().join(t)}}function sRe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var aRe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tg(e){if(!(t=aRe.exec(e)))throw new Error("invalid format: "+e);var t;return new PT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tg.prototype=PT.prototype;function PT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}PT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iRe(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var qH;function oRe(e,t){var r=mb(e,t);if(!r)return e+"";var n=r[0],s=r[1],a=s-(qH=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=n.length;return a===i?n:a>i?n+new Array(a-i+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+mb(e,Math.max(0,t+a-1))[0]}function ZL(e,t){var r=mb(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const e5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rRe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ZL(e*100,t),r:ZL,s:oRe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function t5(e){return e}var r5=Array.prototype.map,n5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lRe(e){var t=e.grouping===void 0||e.thousands===void 0?t5:nRe(r5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?t5:sRe(r5.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Tg(f);var h=f.fill,g=f.align,y=f.sign,m=f.symbol,v=f.zero,x=f.width,w=f.comma,b=f.precision,_=f.trim,S=f.type;S==="n"?(w=!0,S="g"):e5[S]||(b===void 0&&(b=12),_=!0,S="g"),(v||h==="0"&&g==="=")&&(v=!0,h="0",g="=");var E=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=m==="$"?n:/[%p]/.test(S)?i:"",j=e5[S],N=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function C(P){var R=E,F=k,z,D,I;if(S==="c")F=j(P)+F,P="";else{P=+P;var B=P<0||1/P<0;if(P=isNaN(P)?c:j(Math.abs(P),b),_&&(P=iRe(P)),B&&+P==0&&y!=="+"&&(B=!1),R=(B?y==="("?y:l:y==="-"||y==="("?"":y)+R,F=(S==="s"?n5[8+qH/3]:"")+F+(B&&y==="("?")":""),N){for(z=-1,D=P.length;++z<D;)if(I=P.charCodeAt(z),48>I||I>57){F=(I===46?s+P.slice(z+1):P.slice(z))+F,P=P.slice(0,z);break}}}w&&!v&&(P=t(P,1/0));var T=R.length+P.length+F.length,M=T<x?new Array(x-T+1).join(h):"";switch(w&&v&&(P=t(M+P,M.length?x-F.length:1/0),M=""),g){case"<":P=R+P+F+M;break;case"=":P=R+M+P+F;break;case"^":P=M.slice(0,T=M.length>>1)+R+P+F+M.slice(T);break;default:P=M+R+P+F;break}return a(P)}return C.toString=function(){return f+""},C}function d(f,h){var g=u((f=Tg(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Kf(h)/3)))*3,m=Math.pow(10,-y),v=n5[8+y/3];return function(x){return g(m*x)+v}}return{format:u,formatPrefix:d}}var Jv,AT,WH;cRe({thousands:",",grouping:[3],currency:["$",""]});function cRe(e){return Jv=lRe(e),AT=Jv.format,WH=Jv.formatPrefix,Jv}function uRe(e){return Math.max(0,-Kf(Math.abs(e)))}function dRe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kf(t)/3)))*3-Kf(Math.abs(e)))}function fRe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kf(t)-Kf(e))+1}function VH(e,t,r,n){var s=XN(e,t,r),a;switch(n=Tg(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=dRe(s,i))&&(n.precision=a),WH(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=fRe(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=uRe(s))&&(n.precision=a-(n.type==="%")*2);break}}return AT(n)}function yc(e){var t=e.domain;return e.ticks=function(r){var n=t();return JN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return VH(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,a=n.length-1,i=n[s],l=n[a],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=YN(i,l,r),u===c)return n[s]=i,n[a]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function gb(){var e=CT();return e.copy=function(){return Uy(e,gb())},Ua.apply(e,arguments),yc(e)}function HH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,pb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return HH(e).unknown(t)},e=arguments.length?Array.from(e,pb):[0,1],yc(r)}function KH(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],a=e[n],i;return a<s&&(i=r,r=n,n=i,i=s,s=a,a=i),e[r]=t.floor(s),e[n]=t.ceil(a),e}function s5(e){return Math.log(e)}function a5(e){return Math.exp(e)}function hRe(e){return-Math.log(-e)}function pRe(e){return-Math.exp(-e)}function mRe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gRe(e){return e===10?mRe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function yRe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function i5(e){return(t,r)=>-e(-t,r)}function TT(e){const t=e(s5,a5),r=t.domain;let n=10,s,a;function i(){return s=yRe(n),a=gRe(n),r()[0]<0?(s=i5(s),a=i5(a),e(hRe,pRe)):e(s5,a5),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),g=s(d),y,m;const v=l==null?10:+l;let x=[];if(!(n%1)&&g-h<v){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(y=1;y<n;++y)if(m=h<0?y/a(-h):y*a(h),!(m<u)){if(m>d)break;x.push(m)}}else for(;h<=g;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/a(-h):y*a(h),!(m<u)){if(m>d)break;x.push(m)}x.length*2<v&&(x=JN(u,d,v))}else x=JN(h,g,Math.min(g-h,v)).map(a);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Tg(c)).precision==null&&(c.trim=!0),c=AT(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(KH(r(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function GH(){const e=TT(O1()).domain([1,10]);return e.copy=()=>Uy(e,GH()).base(e.base()),Ua.apply(e,arguments),e}function o5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function l5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function OT(e){var t=1,r=e(o5(t),l5(t));return r.constant=function(n){return arguments.length?e(o5(t=+n),l5(t)):t},yc(r)}function JH(){var e=OT(O1());return e.copy=function(){return Uy(e,JH()).constant(e.constant())},Ua.apply(e,arguments)}function c5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vRe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xRe(e){return e<0?-e*e:e*e}function $T(e){var t=e(Ss,Ss),r=1;function n(){return r===1?e(Ss,Ss):r===.5?e(vRe,xRe):e(c5(r),c5(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},yc(t)}function RT(){var e=$T(O1());return e.copy=function(){return Uy(e,RT()).exponent(e.exponent())},Ua.apply(e,arguments),e}function bRe(){return RT.apply(null,arguments).exponent(.5)}function u5(e){return Math.sign(e)*e*e}function wRe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function YH(){var e=CT(),t=[0,1],r=!1,n;function s(a){var i=wRe(e(a));return isNaN(i)?n:r?Math.round(i):i}return s.invert=function(a){return e.invert(u5(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,pb)).map(u5)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return YH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ua.apply(s,arguments),yc(s)}function XH(){var e=[],t=[],r=[],n;function s(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=E$e(e,i/l);return a}function a(i){return i==null||isNaN(i=+i)?n:t[Fy(r,i)]}return a.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Xl),s()},a.range=function(i){return arguments.length?(t=Array.from(i),s()):t.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return XH().domain(e).range(t).unknown(n)},Ua.apply(a,arguments)}function QH(){var e=0,t=1,r=1,n=[.5],s=[0,1],a;function i(c){return c!=null&&c<=c?s[Fy(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},i.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(a=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return QH().domain([e,t]).range(s).unknown(a)},Ua.apply(yc(i),arguments)}function ZH(){var e=[.5],t=[0,1],r,n=1;function s(a){return a!=null&&a<=a?t[Fy(e,a,0,n)]:r}return s.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var i=t.indexOf(a);return[e[i-1],e[i]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return ZH().domain(e).range(t).unknown(r)},Ua.apply(s,arguments)}const cj=new Date,uj=new Date;function jn(e,t,r,n){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const i=s(a),l=s.ceil(a);return a-i<l-a?i:l},s.offset=(a,i)=>(t(a=new Date(+a),i==null?1:Math.floor(i)),a),s.range=(a,i,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<i)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<i);return c},s.filter=a=>jn(i=>{if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!a(i););else for(;--l>=0;)for(;t(i,1),!a(i););}),r&&(s.count=(a,i)=>(cj.setTime(+a),uj.setTime(+i),e(cj),e(uj),Math.floor(r(cj,uj))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?i=>n(i)%a===0:i=>s.count(0,i)%a===0):s)),s}const yb=jn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):yb);yb.range;const _o=1e3,Na=_o*60,So=Na*60,Fo=So*24,MT=Fo*7,d5=Fo*30,dj=Fo*365,Yc=jn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_o)},(e,t)=>(t-e)/_o,e=>e.getUTCSeconds());Yc.range;const IT=jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_o)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getMinutes());IT.range;const LT=jn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getUTCMinutes());LT.range;const DT=jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_o-e.getMinutes()*Na)},(e,t)=>{e.setTime(+e+t*So)},(e,t)=>(t-e)/So,e=>e.getHours());DT.range;const FT=jn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*So)},(e,t)=>(t-e)/So,e=>e.getUTCHours());FT.range;const zy=jn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Na)/Fo,e=>e.getDate()-1);zy.range;const $1=jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fo,e=>e.getUTCDate()-1);$1.range;const eK=jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fo,e=>Math.floor(e/Fo));eK.range;function Hu(e){return jn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Na)/MT)}const R1=Hu(0),vb=Hu(1),_Re=Hu(2),SRe=Hu(3),Gf=Hu(4),jRe=Hu(5),kRe=Hu(6);R1.range;vb.range;_Re.range;SRe.range;Gf.range;jRe.range;kRe.range;function Ku(e){return jn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/MT)}const M1=Ku(0),xb=Ku(1),ERe=Ku(2),NRe=Ku(3),Jf=Ku(4),CRe=Ku(5),PRe=Ku(6);M1.range;xb.range;ERe.range;NRe.range;Jf.range;CRe.range;PRe.range;const BT=jn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());BT.range;const UT=jn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());UT.range;const Bo=jn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Bo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Bo.range;const Uo=jn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Uo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Uo.range;function tK(e,t,r,n,s,a){const i=[[Yc,1,_o],[Yc,5,5*_o],[Yc,15,15*_o],[Yc,30,30*_o],[a,1,Na],[a,5,5*Na],[a,15,15*Na],[a,30,30*Na],[s,1,So],[s,3,3*So],[s,6,6*So],[s,12,12*So],[n,1,Fo],[n,2,2*Fo],[r,1,MT],[t,1,d5],[t,3,3*d5],[e,1,dj]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),y=g?g.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,g=ST(([,,v])=>v).right(i,h);if(g===i.length)return e.every(XN(u/dj,d/dj,f));if(g===0)return yb.every(Math.max(XN(u,d,f),1));const[y,m]=i[h/i[g-1][2]<i[g][2]/h?g-1:g];return y.every(m)}return[l,c]}const[ARe,TRe]=tK(Uo,UT,M1,eK,FT,LT),[ORe,$Re]=tK(Bo,BT,R1,zy,DT,IT);function fj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Np(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function RRe(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,a=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=Cp(s),d=Pp(s),f=Cp(a),h=Pp(a),g=Cp(i),y=Pp(i),m=Cp(l),v=Pp(l),x=Cp(c),w=Pp(c),b={a:B,A:T,b:M,B:Z,c:null,d:y5,e:y5,f:nMe,g:hMe,G:mMe,H:eMe,I:tMe,j:rMe,L:rK,m:sMe,M:aMe,p:L,q:G,Q:b5,s:w5,S:iMe,u:oMe,U:lMe,V:cMe,w:uMe,W:dMe,x:null,X:null,y:fMe,Y:pMe,Z:gMe,"%":x5},_={a:H,A:Y,b:ae,B:V,c:null,d:v5,e:v5,f:bMe,g:AMe,G:OMe,H:yMe,I:vMe,j:xMe,L:sK,m:wMe,M:_Me,p:W,q:J,Q:b5,s:w5,S:SMe,u:jMe,U:kMe,V:EMe,w:NMe,W:CMe,x:null,X:null,y:PMe,Y:TMe,Z:$Me,"%":x5},S={a:C,A:P,b:R,B:F,c:z,d:m5,e:m5,f:YRe,g:p5,G:h5,H:g5,I:g5,j:HRe,L:JRe,m:VRe,M:KRe,p:N,q:WRe,Q:QRe,s:ZRe,S:GRe,u:FRe,U:BRe,V:URe,w:DRe,W:zRe,x:D,X:I,y:p5,Y:h5,Z:qRe,"%":XRe};b.x=E(r,b),b.X=E(n,b),b.c=E(t,b),_.x=E(r,_),_.X=E(n,_),_.c=E(t,_);function E(K,Q){return function(se){var X=[],ce=-1,oe=0,xe=K.length,pe,re,ee;for(se instanceof Date||(se=new Date(+se));++ce<xe;)K.charCodeAt(ce)===37&&(X.push(K.slice(oe,ce)),(re=f5[pe=K.charAt(++ce)])!=null?pe=K.charAt(++ce):re=pe==="e"?" ":"0",(ee=Q[pe])&&(pe=ee(se,re)),X.push(pe),oe=ce+1);return X.push(K.slice(oe,ce)),X.join("")}}function k(K,Q){return function(se){var X=Np(1900,void 0,1),ce=j(X,K,se+="",0),oe,xe;if(ce!=se.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(Q&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(oe=hj(Np(X.y,0,1)),xe=oe.getUTCDay(),oe=xe>4||xe===0?xb.ceil(oe):xb(oe),oe=$1.offset(oe,(X.V-1)*7),X.y=oe.getUTCFullYear(),X.m=oe.getUTCMonth(),X.d=oe.getUTCDate()+(X.w+6)%7):(oe=fj(Np(X.y,0,1)),xe=oe.getDay(),oe=xe>4||xe===0?vb.ceil(oe):vb(oe),oe=zy.offset(oe,(X.V-1)*7),X.y=oe.getFullYear(),X.m=oe.getMonth(),X.d=oe.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),xe="Z"in X?hj(Np(X.y,0,1)).getUTCDay():fj(Np(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(xe+5)%7:X.w+X.U*7-(xe+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,hj(X)):fj(X)}}function j(K,Q,se,X){for(var ce=0,oe=Q.length,xe=se.length,pe,re;ce<oe;){if(X>=xe)return-1;if(pe=Q.charCodeAt(ce++),pe===37){if(pe=Q.charAt(ce++),re=S[pe in f5?Q.charAt(ce++):pe],!re||(X=re(K,se,X))<0)return-1}else if(pe!=se.charCodeAt(X++))return-1}return X}function N(K,Q,se){var X=u.exec(Q.slice(se));return X?(K.p=d.get(X[0].toLowerCase()),se+X[0].length):-1}function C(K,Q,se){var X=g.exec(Q.slice(se));return X?(K.w=y.get(X[0].toLowerCase()),se+X[0].length):-1}function P(K,Q,se){var X=f.exec(Q.slice(se));return X?(K.w=h.get(X[0].toLowerCase()),se+X[0].length):-1}function R(K,Q,se){var X=x.exec(Q.slice(se));return X?(K.m=w.get(X[0].toLowerCase()),se+X[0].length):-1}function F(K,Q,se){var X=m.exec(Q.slice(se));return X?(K.m=v.get(X[0].toLowerCase()),se+X[0].length):-1}function z(K,Q,se){return j(K,t,Q,se)}function D(K,Q,se){return j(K,r,Q,se)}function I(K,Q,se){return j(K,n,Q,se)}function B(K){return i[K.getDay()]}function T(K){return a[K.getDay()]}function M(K){return c[K.getMonth()]}function Z(K){return l[K.getMonth()]}function L(K){return s[+(K.getHours()>=12)]}function G(K){return 1+~~(K.getMonth()/3)}function H(K){return i[K.getUTCDay()]}function Y(K){return a[K.getUTCDay()]}function ae(K){return c[K.getUTCMonth()]}function V(K){return l[K.getUTCMonth()]}function W(K){return s[+(K.getUTCHours()>=12)]}function J(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var Q=E(K+="",b);return Q.toString=function(){return K},Q},parse:function(K){var Q=k(K+="",!1);return Q.toString=function(){return K},Q},utcFormat:function(K){var Q=E(K+="",_);return Q.toString=function(){return K},Q},utcParse:function(K){var Q=k(K+="",!0);return Q.toString=function(){return K},Q}}}var f5={"-":"",_:" ",0:"0"},Tn=/^\s*\d+/,MRe=/^%/,IRe=/[\\^$*+?|[\]().{}]/g;function Zt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(t)+s:s)}function LRe(e){return e.replace(IRe,"\\$&")}function Cp(e){return new RegExp("^(?:"+e.map(LRe).join("|")+")","i")}function Pp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function DRe(e,t,r){var n=Tn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function FRe(e,t,r){var n=Tn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function BRe(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function URe(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function zRe(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function h5(e,t,r){var n=Tn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function p5(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function qRe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function WRe(e,t,r){var n=Tn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function VRe(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function m5(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function HRe(e,t,r){var n=Tn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function g5(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function KRe(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function GRe(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function JRe(e,t,r){var n=Tn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function YRe(e,t,r){var n=Tn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function XRe(e,t,r){var n=MRe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function QRe(e,t,r){var n=Tn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ZRe(e,t,r){var n=Tn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function y5(e,t){return Zt(e.getDate(),t,2)}function eMe(e,t){return Zt(e.getHours(),t,2)}function tMe(e,t){return Zt(e.getHours()%12||12,t,2)}function rMe(e,t){return Zt(1+zy.count(Bo(e),e),t,3)}function rK(e,t){return Zt(e.getMilliseconds(),t,3)}function nMe(e,t){return rK(e,t)+"000"}function sMe(e,t){return Zt(e.getMonth()+1,t,2)}function aMe(e,t){return Zt(e.getMinutes(),t,2)}function iMe(e,t){return Zt(e.getSeconds(),t,2)}function oMe(e){var t=e.getDay();return t===0?7:t}function lMe(e,t){return Zt(R1.count(Bo(e)-1,e),t,2)}function nK(e){var t=e.getDay();return t>=4||t===0?Gf(e):Gf.ceil(e)}function cMe(e,t){return e=nK(e),Zt(Gf.count(Bo(e),e)+(Bo(e).getDay()===4),t,2)}function uMe(e){return e.getDay()}function dMe(e,t){return Zt(vb.count(Bo(e)-1,e),t,2)}function fMe(e,t){return Zt(e.getFullYear()%100,t,2)}function hMe(e,t){return e=nK(e),Zt(e.getFullYear()%100,t,2)}function pMe(e,t){return Zt(e.getFullYear()%1e4,t,4)}function mMe(e,t){var r=e.getDay();return e=r>=4||r===0?Gf(e):Gf.ceil(e),Zt(e.getFullYear()%1e4,t,4)}function gMe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Zt(t/60|0,"0",2)+Zt(t%60,"0",2)}function v5(e,t){return Zt(e.getUTCDate(),t,2)}function yMe(e,t){return Zt(e.getUTCHours(),t,2)}function vMe(e,t){return Zt(e.getUTCHours()%12||12,t,2)}function xMe(e,t){return Zt(1+$1.count(Uo(e),e),t,3)}function sK(e,t){return Zt(e.getUTCMilliseconds(),t,3)}function bMe(e,t){return sK(e,t)+"000"}function wMe(e,t){return Zt(e.getUTCMonth()+1,t,2)}function _Me(e,t){return Zt(e.getUTCMinutes(),t,2)}function SMe(e,t){return Zt(e.getUTCSeconds(),t,2)}function jMe(e){var t=e.getUTCDay();return t===0?7:t}function kMe(e,t){return Zt(M1.count(Uo(e)-1,e),t,2)}function aK(e){var t=e.getUTCDay();return t>=4||t===0?Jf(e):Jf.ceil(e)}function EMe(e,t){return e=aK(e),Zt(Jf.count(Uo(e),e)+(Uo(e).getUTCDay()===4),t,2)}function NMe(e){return e.getUTCDay()}function CMe(e,t){return Zt(xb.count(Uo(e)-1,e),t,2)}function PMe(e,t){return Zt(e.getUTCFullYear()%100,t,2)}function AMe(e,t){return e=aK(e),Zt(e.getUTCFullYear()%100,t,2)}function TMe(e,t){return Zt(e.getUTCFullYear()%1e4,t,4)}function OMe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Jf(e):Jf.ceil(e),Zt(e.getUTCFullYear()%1e4,t,4)}function $Me(){return"+0000"}function x5(){return"%"}function b5(e){return+e}function w5(e){return Math.floor(+e/1e3)}var ud,iK,oK;RMe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RMe(e){return ud=RRe(e),iK=ud.format,ud.parse,oK=ud.utcFormat,ud.utcParse,ud}function MMe(e){return new Date(e)}function IMe(e){return e instanceof Date?+e:+new Date(+e)}function zT(e,t,r,n,s,a,i,l,c,u){var d=CT(),f=d.invert,h=d.domain,g=u(".%L"),y=u(":%S"),m=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),w=u("%b %d"),b=u("%B"),_=u("%Y");function S(E){return(c(E)<E?g:l(E)<E?y:i(E)<E?m:a(E)<E?v:n(E)<E?s(E)<E?x:w:r(E)<E?b:_)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,IMe)):h().map(MMe)},d.ticks=function(E){var k=h();return e(k[0],k[k.length-1],E??10)},d.tickFormat=function(E,k){return k==null?S:u(k)},d.nice=function(E){var k=h();return(!E||typeof E.range!="function")&&(E=t(k[0],k[k.length-1],E??10)),E?h(KH(k,E)):d},d.copy=function(){return Uy(d,zT(e,t,r,n,s,a,i,l,c,u))},d}function LMe(){return Ua.apply(zT(ORe,$Re,Bo,BT,R1,zy,DT,IT,Yc,iK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function DMe(){return Ua.apply(zT(ARe,TRe,Uo,UT,M1,$1,FT,LT,Yc,oK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function I1(){var e=0,t=1,r,n,s,a,i=Ss,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(s===0?.5:(f=(a(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var g,y;return arguments.length?([g,y]=h,i=f(g,y),u):[i(0),i(1)]}}return u.range=d(Wh),u.rangeRound=d(NT),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function vc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function lK(){var e=yc(I1()(Ss));return e.copy=function(){return vc(e,lK())},Ko.apply(e,arguments)}function cK(){var e=TT(I1()).domain([1,10]);return e.copy=function(){return vc(e,cK()).base(e.base())},Ko.apply(e,arguments)}function uK(){var e=OT(I1());return e.copy=function(){return vc(e,uK()).constant(e.constant())},Ko.apply(e,arguments)}function qT(){var e=$T(I1());return e.copy=function(){return vc(e,qT()).exponent(e.exponent())},Ko.apply(e,arguments)}function FMe(){return qT.apply(null,arguments).exponent(.5)}function dK(){var e=[],t=Ss;function r(n){if(n!=null&&!isNaN(n=+n))return t((Fy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Xl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>k$e(e,a/n))},r.copy=function(){return dK(t).domain(e)},Ko.apply(r,arguments)}function L1(){var e=0,t=.5,r=1,n=1,s,a,i,l,c,u=Ss,d,f=!1,h;function g(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-a)*(n*m<n*a?l:c),u(f?Math.max(0,Math.min(1,m)):m))}g.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),a=d(t=+t),i=d(r=+r),l=s===a?0:.5/(a-s),c=a===i?0:.5/(i-a),n=a<s?-1:1,g):[e,t,r]},g.clamp=function(m){return arguments.length?(f=!!m,g):f},g.interpolator=function(m){return arguments.length?(u=m,g):u};function y(m){return function(v){var x,w,b;return arguments.length?([x,w,b]=v,u=X$e(m,[x,w,b]),g):[u(0),u(.5),u(1)]}}return g.range=y(Wh),g.rangeRound=y(NT),g.unknown=function(m){return arguments.length?(h=m,g):h},function(m){return d=m,s=m(e),a=m(t),i=m(r),l=s===a?0:.5/(a-s),c=a===i?0:.5/(i-a),n=a<s?-1:1,g}}function fK(){var e=yc(L1()(Ss));return e.copy=function(){return vc(e,fK())},Ko.apply(e,arguments)}function hK(){var e=TT(L1()).domain([.1,1,10]);return e.copy=function(){return vc(e,hK()).base(e.base())},Ko.apply(e,arguments)}function pK(){var e=OT(L1());return e.copy=function(){return vc(e,pK()).constant(e.constant())},Ko.apply(e,arguments)}function WT(){var e=$T(L1());return e.copy=function(){return vc(e,WT()).exponent(e.exponent())},Ko.apply(e,arguments)}function BMe(){return WT.apply(null,arguments).exponent(.5)}const _5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ng,scaleDiverging:fK,scaleDivergingLog:hK,scaleDivergingPow:WT,scaleDivergingSqrt:BMe,scaleDivergingSymlog:pK,scaleIdentity:HH,scaleImplicit:QN,scaleLinear:gb,scaleLog:GH,scaleOrdinal:jT,scalePoint:Nm,scalePow:RT,scaleQuantile:XH,scaleQuantize:QH,scaleRadial:YH,scaleSequential:lK,scaleSequentialLog:cK,scaleSequentialPow:qT,scaleSequentialQuantile:dK,scaleSequentialSqrt:FMe,scaleSequentialSymlog:uK,scaleSqrt:bRe,scaleSymlog:JH,scaleThreshold:ZH,scaleTime:LMe,scaleUtc:DMe,tickFormat:VH},Symbol.toStringTag,{value:"Module"}));var UMe=Ih;function zMe(e,t,r){for(var n=-1,s=e.length;++n<s;){var a=e[n],i=t(a);if(i!=null&&(l===void 0?i===i&&!UMe(i):r(i,l)))var l=i,c=a}return c}var mK=zMe;function qMe(e,t){return e>t}var WMe=qMe,VMe=mK,HMe=WMe,KMe=qh;function GMe(e){return e&&e.length?VMe(e,KMe,HMe):void 0}var JMe=GMe;const D1=wr(JMe);function YMe(e,t){return e<t}var XMe=YMe,QMe=mK,ZMe=XMe,eIe=qh;function tIe(e){return e&&e.length?QMe(e,eIe,ZMe):void 0}var rIe=tIe;const F1=wr(rIe);var nIe=sT,sIe=gc,aIe=jH,iIe=Ks;function oIe(e,t){var r=iIe(e)?nIe:aIe;return r(e,sIe(t))}var lIe=oIe,cIe=_H,uIe=lIe;function dIe(e,t){return cIe(uIe(e,t),1)}var fIe=dIe;const hIe=wr(fIe);var pIe=xT;function mIe(e,t){return pIe(e,t)}var gIe=mIe;const VT=wr(gIe);var Vh=1e9,yIe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},KT,Dr=!0,Da="[DecimalError] ",vu=Da+"Invalid argument: ",HT=Da+"Exponent out of range: ",Hh=Math.floor,Lc=Math.pow,vIe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ra,En=1e7,Or=7,gK=9007199254740991,bb=Hh(gK/Or),lt={};lt.absoluteValue=lt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};lt.comparedTo=lt.cmp=function(e){var t,r,n,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};lt.decimalPlaces=lt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Or;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};lt.dividedBy=lt.div=function(e){return Po(this,new this.constructor(e))};lt.dividedToIntegerBy=lt.idiv=function(e){var t=this,r=t.constructor;return Sr(Po(t,new r(e),0,1),r.precision)};lt.equals=lt.eq=function(e){return!this.cmp(e)};lt.exponent=function(){return dn(this)};lt.greaterThan=lt.gt=function(e){return this.cmp(e)>0};lt.greaterThanOrEqualTo=lt.gte=function(e){return this.cmp(e)>=0};lt.isInteger=lt.isint=function(){return this.e>this.d.length-2};lt.isNegative=lt.isneg=function(){return this.s<0};lt.isPositive=lt.ispos=function(){return this.s>0};lt.isZero=function(){return this.s===0};lt.lessThan=lt.lt=function(e){return this.cmp(e)<0};lt.lessThanOrEqualTo=lt.lte=function(e){return this.cmp(e)<1};lt.logarithm=lt.log=function(e){var t,r=this,n=r.constructor,s=n.precision,a=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ra))throw Error(Da+"NaN");if(r.s<1)throw Error(Da+(r.s?"NaN":"-Infinity"));return r.eq(ra)?new n(0):(Dr=!1,t=Po(Og(r,a),Og(e,a),a),Dr=!0,Sr(t,s))};lt.minus=lt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xK(t,e):yK(t,(e.s=-e.s,e))};lt.modulo=lt.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Da+"NaN");return r.s?(Dr=!1,t=Po(r,e,0,1).times(e),Dr=!0,r.minus(t)):Sr(new n(r),s)};lt.naturalExponential=lt.exp=function(){return vK(this)};lt.naturalLogarithm=lt.ln=function(){return Og(this)};lt.negated=lt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};lt.plus=lt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yK(t,e):xK(t,(e.s=-e.s,e))};lt.precision=lt.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vu+e);if(t=dn(s)+1,n=s.d.length-1,r=n*Or+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};lt.squareRoot=lt.sqrt=function(){var e,t,r,n,s,a,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Da+"NaN")}for(e=dn(l),Dr=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Li(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Hh((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=i=r+3;;)if(a=n,n=a.plus(Po(l,a,i+2)).times(.5),Li(a.d).slice(0,i)===(t=Li(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),s==i&&t=="4999"){if(Sr(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;i+=4}return Dr=!0,Sr(n,r)};lt.times=lt.mul=function(e){var t,r,n,s,a,i,l,c,u,d=this,f=d.constructor,h=d.d,g=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=g.length,c<u&&(a=h,h=g,g=a,i=c,c=u,u=i),a=[],i=c+u,n=i;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=a[s]+g[n]*h[s-n-1]+t,a[s--]=l%En|0,t=l/En|0;a[s]=(a[s]+t)%En|0}for(;!a[--i];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Dr?Sr(e,f.precision):e};lt.toDecimalPlaces=lt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Yi(e,0,Vh),t===void 0?t=n.rounding:Yi(t,0,8),Sr(r,e+dn(r)+1,t))};lt.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Iu(n,!0):(Yi(e,0,Vh),t===void 0?t=s.rounding:Yi(t,0,8),n=Sr(new s(n),e+1,t),r=Iu(n,!0,e+1)),r};lt.toFixed=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?Iu(s):(Yi(e,0,Vh),t===void 0?t=a.rounding:Yi(t,0,8),n=Sr(new a(s),e+dn(s)+1,t),r=Iu(n.abs(),!1,e+dn(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};lt.toInteger=lt.toint=function(){var e=this,t=e.constructor;return Sr(new t(e),dn(e)+1,t.rounding)};lt.toNumber=function(){return+this};lt.toPower=lt.pow=function(e){var t,r,n,s,a,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ra);if(l=new c(l),!l.s){if(e.s<1)throw Error(Da+"Infinity");return l}if(l.eq(ra))return l;if(n=c.precision,e.eq(ra))return Sr(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,a=l.s,i){if((r=d<0?-d:d)<=gK){for(s=new c(ra),t=Math.ceil(n/Or+4),Dr=!1;r%2&&(s=s.times(l),j5(s.d,t)),r=Hh(r/2),r!==0;)l=l.times(l),j5(l.d,t);return Dr=!0,e.s<0?new c(ra).div(s):Sr(s,n)}}else if(a<0)throw Error(Da+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Dr=!1,s=e.times(Og(l,n+u)),Dr=!0,s=vK(s),s.s=a,s};lt.toPrecision=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?(r=dn(s),n=Iu(s,r<=a.toExpNeg||r>=a.toExpPos)):(Yi(e,1,Vh),t===void 0?t=a.rounding:Yi(t,0,8),s=Sr(new a(s),e,t),r=dn(s),n=Iu(s,e<=r||r<=a.toExpNeg,e)),n};lt.toSignificantDigits=lt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Yi(e,1,Vh),t===void 0?t=n.rounding:Yi(t,0,8)),Sr(new n(r),e,t)};lt.toString=lt.valueOf=lt.val=lt.toJSON=lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=dn(e),r=e.constructor;return Iu(e,t<=r.toExpNeg||t>=r.toExpPos)};function yK(e,t){var r,n,s,a,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Dr?Sr(t,f):t;if(c=e.d,u=t.d,i=e.e,s=t.e,c=c.slice(),a=i-s,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,s=i,l=c.length),i=Math.ceil(f/Or),l=i>l?i+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/En|0,c[a]%=En;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Dr?Sr(t,f):t}function Yi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(vu+e)}function Li(e){var t,r,n,s=e.length-1,a="",i=e[0];if(s>0){for(a+=i,t=1;t<s;t++)n=e[t]+"",r=Or-n.length,r&&(a+=gl(r)),a+=n;i=e[t],n=i+"",r=Or-n.length,r&&(a+=gl(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return a+i}var Po=function(){function e(n,s){var a,i=0,l=n.length;for(n=n.slice();l--;)a=n[l]*s+i,n[l]=a%En|0,i=a/En|0;return i&&n.unshift(i),n}function t(n,s,a,i){var l,c;if(a!=i)c=a>i?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,a){for(var i=0;a--;)n[a]-=i,i=n[a]<s[a]?1:0,n[a]=i*En+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,i){var l,c,u,d,f,h,g,y,m,v,x,w,b,_,S,E,k,j,N=n.constructor,C=n.s==s.s?1:-1,P=n.d,R=s.d;if(!n.s)return new N(n);if(!s.s)throw Error(Da+"Division by zero");for(c=n.e-s.e,k=R.length,S=P.length,g=new N(C),y=g.d=[],u=0;R[u]==(P[u]||0);)++u;if(R[u]>(P[u]||0)&&--c,a==null?w=a=N.precision:i?w=a+(dn(n)-dn(s))+1:w=a,w<0)return new N(0);if(w=w/Or+2|0,u=0,k==1)for(d=0,R=R[0],w++;(u<S||d)&&w--;u++)b=d*En+(P[u]||0),y[u]=b/R|0,d=b%R|0;else{for(d=En/(R[0]+1)|0,d>1&&(R=e(R,d),P=e(P,d),k=R.length,S=P.length),_=k,m=P.slice(0,k),v=m.length;v<k;)m[v++]=0;j=R.slice(),j.unshift(0),E=R[0],R[1]>=En/2&&++E;do d=0,l=t(R,m,k,v),l<0?(x=m[0],k!=v&&(x=x*En+(m[1]||0)),d=x/E|0,d>1?(d>=En&&(d=En-1),f=e(R,d),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(d--,r(f,k<h?j:R,h))):(d==0&&(l=d=1),f=R.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(R,m,k,v),l<1&&(d++,r(m,k<v?j:R,v))),v=m.length):l===0&&(d++,m=[0]),y[u++]=d,l&&m[0]?m[v++]=P[_]||0:(m=[P[_]],v=1);while((_++<S||m[0]!==void 0)&&w--)}return y[0]||y.shift(),g.e=c,Sr(g,i?a+dn(g)+1:a)}}();function vK(e,t){var r,n,s,a,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(dn(e)>16)throw Error(HT+dn(e));if(!e.s)return new d(ra);for(t==null?(Dr=!1,l=f):l=t,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Lc(2,u))/Math.LN10*2+5|0,l+=n,r=s=a=new d(ra),d.precision=l;;){if(s=Sr(s.times(e),l),r=r.times(++c),i=a.plus(Po(s,r,l)),Li(i.d).slice(0,l)===Li(a.d).slice(0,l)){for(;u--;)a=Sr(a.times(a),l);return d.precision=f,t==null?(Dr=!0,Sr(a,f)):a}a=i}}function dn(e){for(var t=e.e*Or,r=e.d[0];r>=10;r/=10)t++;return t}function pj(e,t,r){if(t>e.LN10.sd())throw Dr=!0,r&&(e.precision=r),Error(Da+"LN10 precision limit exceeded");return Sr(new e(e.LN10),t)}function gl(e){for(var t="";e--;)t+="0";return t}function Og(e,t){var r,n,s,a,i,l,c,u,d,f=1,h=10,g=e,y=g.d,m=g.constructor,v=m.precision;if(g.s<1)throw Error(Da+(g.s?"NaN":"-Infinity"));if(g.eq(ra))return new m(0);if(t==null?(Dr=!1,u=v):u=t,g.eq(10))return t==null&&(Dr=!0),pj(m,u);if(u+=h,m.precision=u,r=Li(y),n=r.charAt(0),a=dn(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Li(g.d),n=r.charAt(0),f++;a=dn(g),n>1?(g=new m("0."+r),a++):g=new m(n+"."+r.slice(1))}else return c=pj(m,u+2,v).times(a+""),g=Og(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(Dr=!0,Sr(g,v)):g;for(l=i=g=Po(g.minus(ra),g.plus(ra),u),d=Sr(g.times(g),u),s=3;;){if(i=Sr(i.times(d),u),c=l.plus(Po(i,new m(s),u)),Li(c.d).slice(0,u)===Li(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(pj(m,u+2,v).times(a+""))),l=Po(l,new m(f),u),m.precision=v,t==null?(Dr=!0,Sr(l,v)):l;l=c,s+=2}}function S5(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Hh(r/Or),e.d=[],n=(r+1)%Or,r<0&&(n+=Or),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Or;n<s;)e.d.push(+t.slice(n,n+=Or));t=t.slice(n),n=Or-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Dr&&(e.e>bb||e.e<-bb))throw Error(HT+r)}else e.s=0,e.e=0,e.d=[0];return e}function Sr(e,t,r){var n,s,a,i,l,c,u,d,f=e.d;for(i=1,a=f[0];a>=10;a/=10)i++;if(n=t-i,n<0)n+=Or,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Or),a=f.length,d>=a)return e;for(u=a=f[d],i=1;a>=10;a/=10)i++;n%=Or,s=n-Or+i}if(r!==void 0&&(a=Lc(10,i-s-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Lc(10,i-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=dn(e),f.length=1,t=t-a-1,f[0]=Lc(10,(Or-t%Or)%Or),e.e=Hh(-t/Or)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Lc(10,Or-n),f[d]=s>0?(u/Lc(10,i-s)%Lc(10,s)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==En&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=En)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Dr&&(e.e>bb||e.e<-bb))throw Error(HT+dn(e));return e}function xK(e,t){var r,n,s,a,i,l,c,u,d,f,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Dr?Sr(t,g):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(g/Or),l)+2,i>s&&(i=s,r.length=1),r.reverse(),s=i;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>i;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=En-1;--c[a],c[s]+=En}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Dr?Sr(t,g):t):new h(0)}function Iu(e,t,r){var n,s=dn(e),a=Li(e.d),i=a.length;return t?(r&&(n=r-i)>0?a=a.charAt(0)+"."+a.slice(1)+gl(n):i>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+gl(-s-1)+a,r&&(n=r-i)>0&&(a+=gl(n))):s>=i?(a+=gl(s+1-i),r&&(n=r-s-1)>0&&(a=a+"."+gl(n))):((n=s+1)<i&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-i)>0&&(s+1===i&&(a+="."),a+=gl(n))),e.s<0?"-"+a:a}function j5(e,t){if(e.length>t)return e.length=t,!0}function bK(e){var t,r,n;function s(a){var i=this;if(!(i instanceof s))return new s(a);if(i.constructor=s,a instanceof s){i.s=a.s,i.e=a.e,i.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(vu+a);if(a>0)i.s=1;else if(a<0)a=-a,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(a===~~a&&a<1e7){i.e=0,i.d=[a];return}return S5(i,a.toString())}else if(typeof a!="string")throw Error(vu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),i.s=-1):i.s=1,vIe.test(a))S5(i,a);else throw Error(vu+a)}if(s.prototype=lt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=bK,s.config=s.set=xIe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function xIe(e){if(!e||typeof e!="object")throw Error(Da+"Object expected");var t,r,n,s=["precision",1,Vh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Hh(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(vu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(vu+r+": "+n);return this}var KT=bK(yIe);ra=new KT(1);const xr=KT;function bIe(e){return jIe(e)||SIe(e)||_Ie(e)||wIe()}function wIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ie(e,t){if(e){if(typeof e=="string")return rC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rC(e,t)}}function SIe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jIe(e){if(Array.isArray(e))return rC(e)}function rC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kIe=function(t){return t},wK={"@@functional/placeholder":!0},_K=function(t){return t===wK},k5=function(t){return function r(){return arguments.length===0||arguments.length===1&&_K(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},EIe=function e(t,r){return t===1?r:k5(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var i=s.filter(function(l){return l!==wK}).length;return i>=t?r.apply(void 0,s):e(t-i,k5(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return _K(f)?c.shift():f});return r.apply(void 0,bIe(d).concat(c))}))})},B1=function(t){return EIe(t.length,t)},nC=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},NIe=B1(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),CIe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return kIe;var s=r.reverse(),a=s[0],i=s.slice(1);return function(){return i.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},sC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},SK=function(t){var r=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function PIe(e){var t;return e===0?t=1:t=Math.floor(new xr(e).abs().log(10).toNumber())+1,t}function AIe(e,t,r){for(var n=new xr(e),s=0,a=[];n.lt(t)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}var TIe=B1(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),OIe=B1(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),$Ie=B1(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const U1={rangeStep:AIe,getDigitCount:PIe,interpolateNumber:TIe,uninterpolateNumber:OIe,uninterpolateTruncation:$Ie};function aC(e){return IIe(e)||MIe(e)||jK(e)||RIe()}function RIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MIe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function IIe(e){if(Array.isArray(e))return iC(e)}function $g(e,t){return FIe(e)||DIe(e,t)||jK(e,t)||LIe()}function LIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jK(e,t){if(e){if(typeof e=="string")return iC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iC(e,t)}}function iC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DIe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,a=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,a=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(s)throw a}}return r}}function FIe(e){if(Array.isArray(e))return e}function kK(e){var t=$g(e,2),r=t[0],n=t[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function EK(e,t,r){if(e.lte(0))return new xr(0);var n=U1.getDigitCount(e.toNumber()),s=new xr(10).pow(n),a=e.div(s),i=n!==1?.05:.1,l=new xr(Math.ceil(a.div(i).toNumber())).add(r).mul(i),c=l.mul(s);return t?c:new xr(Math.ceil(c))}function BIe(e,t,r){var n=1,s=new xr(e);if(!s.isint()&&r){var a=Math.abs(e);a<1?(n=new xr(10).pow(U1.getDigitCount(e)-1),s=new xr(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new xr(Math.floor(e)))}else e===0?s=new xr(Math.floor((t-1)/2)):r||(s=new xr(Math.floor(e)));var i=Math.floor((t-1)/2),l=CIe(NIe(function(c){return s.add(new xr(c-i).mul(n)).toNumber()}),nC);return l(0,t)}function NK(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new xr(0),tickMin:new xr(0),tickMax:new xr(0)};var a=EK(new xr(t).sub(e).div(r-1),n,s),i;e<=0&&t>=0?i=new xr(0):(i=new xr(e).add(t).div(2),i=i.sub(new xr(i).mod(a)));var l=Math.ceil(i.sub(e).div(a).toNumber()),c=Math.ceil(new xr(t).sub(i).div(a).toNumber()),u=l+c+1;return u>r?NK(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:a,tickMin:i.sub(new xr(l).mul(a)),tickMax:i.add(new xr(c).mul(a))})}function UIe(e){var t=$g(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),l=kK([r,n]),c=$g(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(aC(nC(0,s-1).map(function(){return 1/0}))):[].concat(aC(nC(0,s-1).map(function(){return-1/0})),[d]);return r>n?sC(f):f}if(u===d)return BIe(u,s,a);var h=NK(u,d,i,a),g=h.step,y=h.tickMin,m=h.tickMax,v=U1.rangeStep(y,m.add(new xr(.1).mul(g)),g);return r>n?sC(v):v}function zIe(e,t){var r=$g(e,2),n=r[0],s=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=kK([n,s]),l=$g(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=EK(new xr(u).sub(c).div(d-1),a,0),h=[].concat(aC(U1.rangeStep(new xr(c),new xr(u).sub(new xr(.99).mul(f)),f)),[u]);return n>s?sC(h):h}var qIe=SK(UIe),WIe=SK(zIe),VIe="Invariant failed";function Lu(e,t){throw new Error(VIe)}var HIe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wb.apply(this,arguments)}function KIe(e,t){return XIe(e)||YIe(e,t)||JIe(e,t)||GIe()}function GIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JIe(e,t){if(e){if(typeof e=="string")return E5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E5(e,t)}}function E5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function XIe(e){if(Array.isArray(e))return e}function QIe(e,t){if(e==null)return{};var r=ZIe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function e4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AK(n.key),n)}}function r4e(e,t,r){return t&&t4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n4e(e,t,r){return t=_b(t),s4e(e,CK()?Reflect.construct(t,r||[],_b(e).constructor):t.apply(e,r))}function s4e(e,t){if(t&&(Yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a4e(e)}function a4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CK=function(){return!!e})()}function _b(e){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(e)}function i4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oC(e,t)}function oC(e,t){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},oC(e,t)}function PK(e,t,r){return t=AK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AK(e){var t=o4e(e,"string");return Yf(t)=="symbol"?t:t+""}function o4e(e,t){if(Yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z1=function(e){function t(){return e4e(this,t),n4e(this,t,arguments)}return i4e(t,e),r4e(t,[{key:"render",value:function(){var n=this.props,s=n.offset,a=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=QIe(n,HIe),g=sr(h,!1);this.props.direction==="x"&&d.type!=="number"&&Lu();var y=c.map(function(m){var v=u(m,l),x=v.x,w=v.y,b=v.value,_=v.errorVal;if(!_)return null;var S=[],E,k;if(Array.isArray(_)){var j=KIe(_,2);E=j[0],k=j[1]}else E=k=_;if(a==="vertical"){var N=d.scale,C=w+s,P=C+i,R=C-i,F=N(b-E),z=N(b+k);S.push({x1:z,y1:P,x2:z,y2:R}),S.push({x1:F,y1:C,x2:z,y2:C}),S.push({x1:F,y1:P,x2:F,y2:R})}else if(a==="horizontal"){var D=f.scale,I=x+s,B=I-i,T=I+i,M=D(b-E),Z=D(b+k);S.push({x1:B,y1:Z,x2:T,y2:Z}),S.push({x1:I,y1:M,x2:I,y2:Z}),S.push({x1:B,y1:M,x2:T,y2:M})}return O.createElement(Pn,wb({className:"recharts-errorBar",key:"bar-".concat(S.map(function(L){return"".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))},g),S.map(function(L){return O.createElement("line",wb({},L,{key:"line-".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))}))});return O.createElement(Pn,{className:"recharts-errorBars"},y)}}])}(O.Component);PK(z1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});PK(z1,"displayName","ErrorBar");function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function N5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N5(Object(r),!0).forEach(function(n){l4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l4e(e,t,r){return t=c4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c4e(e){var t=u4e(e,"string");return Rg(t)=="symbol"?t:t+""}function u4e(e,t){if(Rg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TK=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,i=ea(r,af);if(!i)return null;var l=af.defaultProps,c=l!==void 0?Pc(Pc({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,g=f.props,y=g.sectors||g.data||[];return d.concat(y.map(function(m){return{type:i.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,g=h!==void 0?Pc(Pc({},h),f.props):{},y=g.dataKey,m=g.name,v=g.legendType,x=g.hide;return{inactive:x,dataKey:y,type:c.iconType||v||"square",color:GT(f),value:m||y,payload:g}}),Pc(Pc(Pc({},c),af.getWithHeight(i,s)),{},{payload:u,item:i})};function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function C5(e){return p4e(e)||h4e(e)||f4e(e)||d4e()}function d4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f4e(e,t){if(e){if(typeof e=="string")return lC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lC(e,t)}}function h4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p4e(e){if(Array.isArray(e))return lC(e)}function lC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P5(Object(r),!0).forEach(function(n){lf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lf(e,t,r){return t=m4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m4e(e){var t=g4e(e,"string");return Mg(t)=="symbol"?t:t+""}function g4e(e,t){if(Mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xi(e,t,r){return cr(e)||cr(t)?r:Sn(t)?Ra(e,t,r):zt(t)?t(e):r}function Cm(e,t,r,n){var s=hIe(e,function(l){return Xi(l,t)});if(r==="number"){var a=s.filter(function(l){return Ge(l)||parseFloat(l)});return a.length?[F1(a),D1(a)]:[1/0,-1/0]}var i=n?s.filter(function(l){return!cr(l)}):s;return i.map(function(l){return Sn(l)||l instanceof Date?l:""})}var y4e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,g=void 0;if(ni(f-d)!==ni(h-f)){var y=[];if(ni(h-f)===ni(c[1]-c[0])){g=h;var m=f+c[1]-c[0];y[0]=Math.min(m,(m+d)/2),y[1]=Math.max(m,(m+d)/2)}else{g=d;var v=h+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>x[0]&&t<=x[1]||t>=y[0]&&t<=y[1]){i=s[u].index;break}}else{var w=Math.min(d,h),b=Math.max(d,h);if(t>(w+f)/2&&t<=(b+f)/2){i=s[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){i=n[_].index;break}return i},GT=function(t){var r,n=t,s=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Jr(Jr({},t.type.defaultProps),t.props):t.props,i=a.stroke,l=a.fill,c;switch(s){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},v4e=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var i={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,g=f.length;h<g;h++){var y=d[f[h]],m=y.items,v=y.cateAxisId,x=m.filter(function(k){return No(k.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,b=w!==void 0?Jr(Jr({},w),x[0].props):x[0].props,_=b.barSize,S=b[v];i[S]||(i[S]=[]);var E=cr(_)?r:_;i[S].push({item:x[0],stackList:x.slice(1),barSize:cr(E)?void 0:Mu(E,n,0)})}}return i},x4e=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,a=t.sizeList,i=a===void 0?[]:a,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=Mu(r,s,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,g=s/c,y=i.reduce(function(_,S){return _+S.barSize||0},0);y+=(c-1)*u,y>=s&&(y-=(c-1)*u,u=0),y>=s&&g>0&&(h=!0,g*=.9,y=c*g);var m=(s-y)/2>>0,v={offset:m-u,size:0};d=i.reduce(function(_,S){var E={item:S.item,position:{offset:v.offset+v.size+u,size:h?g:S.barSize}},k=[].concat(C5(_),[E]);return v=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(j){k.push({item:j,position:v})}),k},f)}else{var x=Mu(n,s,0,!0);s-2*x-(c-1)*u<=0&&(u=0);var w=(s-2*x-(c-1)*u)/c;w>1&&(w>>=0);var b=l===+l?Math.min(w,l):w;d=i.reduce(function(_,S,E){var k=[].concat(C5(_),[{item:S.item,position:{offset:x+(w+u)*E+(w-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(j){k.push({item:j,position:k[k.length-1].position})}),k},f)}return d},b4e=function(t,r,n,s){var a=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=TK({children:a,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,g=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&g!=="center"&&Ge(t[g]))return Jr(Jr({},t),{},lf({},g,t[g]+(f||0)));if((m==="horizontal"||m==="vertical"&&g==="center")&&y!=="middle"&&Ge(t[y]))return Jr(Jr({},t),{},lf({},y,t[y]+(h||0)))}return t},w4e=function(t,r,n){return cr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},OK=function(t,r,n,s,a){var i=r.props.children,l=ci(i,z1).filter(function(u){return w4e(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Xi(d,n);if(cr(f))return u;var h=Array.isArray(f)?[F1(f),D1(f)]:[f,f],g=c.reduce(function(y,m){var v=Xi(d,m,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},_4e=function(t,r,n,s,a){var i=r.map(function(l){return OK(t,l,n,a,s)}).filter(function(l){return!cr(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},$K=function(t,r,n,s,a){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&OK(t,c,u,s)||Cm(t,u,n,a)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},RK=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},MK=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var a,i,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(i=!0),c.coordinate});return a||l.push(r),i||l.push(n),l},jo=function(t,r,n){if(!t)return null;var s=t.scale,a=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&i==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ni(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Iy(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:a?a[f]:f,index:h,offset:u}})},mj=new WeakMap,Yv=function(t,r){if(typeof r!="function")return t;mj.has(t)||mj.set(t,new WeakMap);var n=mj.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},S4e=function(t,r,n){var s=t.scale,a=t.type,i=t.layout,l=t.axisType;if(s==="auto")return i==="radial"&&l==="radiusAxis"?{scale:Ng(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:gb(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Nm(),realScaleType:"point"}:a==="category"?{scale:Ng(),realScaleType:"band"}:{scale:gb(),realScaleType:"linear"};if(My(s)){var c="scale".concat(k1(s));return{scale:(_5[c]||Nm)(),realScaleType:_5[c]?c:"point"}}return zt(s)?{scale:s}:{scale:Nm(),realScaleType:"point"}},A5=1e-4,j4e=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),a=Math.min(s[0],s[1])-A5,i=Math.max(s[0],s[1])+A5,l=t(r[0]),c=t(r[n-1]);(l<a||l>i||c<a||c>i)&&t.domain([r[0],r[n-1]])}},k4e=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},E4e=function(t,r){if(!r||r.length!==2||!Ge(r[0])||!Ge(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!Ge(t[0])||t[0]<n)&&(a[0]=n),(!Ge(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},N4e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,i=0,l=0;l<r;++l){var c=Iy(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},C4e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,i=0;i<r;++i){var l=Iy(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=a,t[i][n][1]=a+l,a=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},P4e={sign:N4e,expand:qje,none:zf,silhouette:Wje,wiggle:Vje,positive:C4e},A4e=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),a=P4e[n],i=zje().keys(s).value(function(l,c){return+Xi(l,c,0)}).order($N).offset(a);return i(t)},T4e=function(t,r,n,s,a,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,h){var g,y=(g=h.type)!==null&&g!==void 0&&g.defaultProps?Jr(Jr({},h.type.defaultProps),h.props):h.props,m=y.stackId,v=y.hide;if(v)return f;var x=y[n],w=f[x]||{hasStack:!1,stackGroups:{}};if(Sn(m)){var b=w.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[m]=b}else w.stackGroups[j1("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return Jr(Jr({},f),{},lf({},x,w))},c),d={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var y={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(m,v){var x=g.stackGroups[v];return Jr(Jr({},m),{},lf({},v,{numericAxisId:n,cateAxisId:s,items:x.items,stackedData:A4e(t,x.items,a)}))},y)}return Jr(Jr({},f),{},lf({},h,g))},d)},O4e=function(t,r){var n=r.realScaleType,s=r.type,a=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=qIe(u,a,l);return t.domain([F1(d),D1(d)]),{niceTicks:d}}if(a&&s==="number"){var f=t.domain(),h=WIe(f,a,l);return{niceTicks:h}}return null},T5=function(t){var r=t.axis,n=t.ticks,s=t.offset,a=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=Xi(i,r.dataKey,r.domain[l]);return cr(c)?null:r.scale(c)-a/2+s},$4e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},R4e=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Jr(Jr({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(Sn(a)){var i=r[a];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},M4e=function(t){return t.reduce(function(r,n){return[F1(n.concat([r[0]]).filter(Ge)),D1(n.concat([r[1]]).filter(Ge))]},[1/0,-1/0])},IK=function(t,r,n){return Object.keys(t).reduce(function(s,a){var i=t[a],l=i.stackedData,c=l.reduce(function(u,d){var f=M4e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},O5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cC=function(t,r,n){if(zt(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(Ge(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(O5.test(t[0])){var a=+O5.exec(t[0])[1];s[0]=r[0]-a}else zt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(Ge(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if($5.test(t[1])){var i=+$5.exec(t[1])[1];s[1]=r[1]+i}else zt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Sb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var a=wT(r,function(f){return f.coordinate}),i=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},R5=function(t,r,n){return!t||!t.length||VT(t,Ra(n,"type.defaultProps.domain"))?r:t},LK=function(t,r){var n=t.type.defaultProps?Jr(Jr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,a=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Jr(Jr({},sr(t,!1)),{},{dataKey:s,unit:i,formatter:l,name:a||s,color:GT(t),value:Xi(r,s),type:c,payload:r,chartType:u,hide:d})};function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function M5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function I5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M5(Object(r),!0).forEach(function(n){I4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I4e(e,t,r){return t=L4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L4e(e){var t=D4e(e,"string");return Ig(t)=="symbol"?t:t+""}function D4e(e,t){if(Ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jb=Math.PI/180,F4e=function(t){return t*180/Math.PI},qn=function(t,r,n,s){return{x:t+Math.cos(-jb*s)*n,y:r+Math.sin(-jb*s)*n}},B4e=function(t,r){var n=t.x,s=t.y,a=r.x,i=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(s-i,2))},U4e=function(t,r){var n=t.x,s=t.y,a=r.cx,i=r.cy,l=B4e({x:n,y:s},{x:a,y:i});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return s>i&&(u=2*Math.PI-u),{radius:l,angle:F4e(u),angleInRadian:u}},z4e=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),a=Math.floor(n/360),i=Math.min(s,a);return{startAngle:r-i*360,endAngle:n-i*360}},q4e=function(t,r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),i=Math.floor(s/360),l=Math.min(a,i);return t+l*360},L5=function(t,r){var n=t.x,s=t.y,a=U4e({x:n,y:s},r),i=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=z4e(r),f=d.startAngle,h=d.endAngle,g=l,y;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;y=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;y=g>=h&&g<=f}return y?I5(I5({},r),{},{radius:i,angle:q4e(g,r)}):null};function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}var W4e=["offset"];function V4e(e){return J4e(e)||G4e(e)||K4e(e)||H4e()}function H4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K4e(e,t){if(e){if(typeof e=="string")return uC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uC(e,t)}}function G4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J4e(e){if(Array.isArray(e))return uC(e)}function uC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y4e(e,t){if(e==null)return{};var r=X4e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function D5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D5(Object(r),!0).forEach(function(n){Q4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q4e(e,t,r){return t=Z4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z4e(e){var t=e3e(e,"string");return Lg(t)=="symbol"?t:t+""}function e3e(e,t){if(Lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dg.apply(this,arguments)}var t3e=function(t){var r=t.value,n=t.formatter,s=cr(t.children)?r:t.children;return zt(n)?n(s):s},r3e=function(t,r){var n=ni(r-t),s=Math.min(Math.abs(r-t),360);return n*s},n3e=function(t,r,n){var s=t.position,a=t.viewBox,i=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,g=c.startAngle,y=c.endAngle,m=c.clockWise,v=(f+h)/2,x=r3e(g,y),w=x>=0?1:-1,b,_;s==="insideStart"?(b=g+w*i,_=m):s==="insideEnd"?(b=y-w*i,_=!m):s==="end"&&(b=y+w*i,_=m),_=x<=0?_:!_;var S=qn(u,d,v,b),E=qn(u,d,v,b+(_?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(E.x,",").concat(E.y),j=cr(t.id)?j1("recharts-radial-line-"):t.id;return O.createElement("text",Dg({},n,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",l)}),O.createElement("defs",null,O.createElement("path",{id:j,d:k})),O.createElement("textPath",{xlinkHref:"#".concat(j)},r))},s3e=function(t){var r=t.viewBox,n=t.offset,s=t.position,a=r,i=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(s==="outside"){var g=qn(i,l,u+n,h),y=g.x,m=g.y;return{x:y,y:m,textAnchor:y>=i?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=qn(i,l,v,h),w=x.x,b=x.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},a3e=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,a=t.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,h=f*s,g=f>0?"end":"start",y=f>0?"start":"end",m=u>=0?1:-1,v=m*s,x=m>0?"end":"start",w=m>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:g};return fn(fn({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return fn(fn({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var S={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return fn(fn({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(a==="right"){var E={x:l+u+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return fn(fn({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return a==="insideLeft"?fn({x:l+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},k):a==="insideRight"?fn({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},k):a==="insideTop"?fn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},k):a==="insideBottom"?fn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:g},k):a==="insideTopLeft"?fn({x:l+v,y:c+h,textAnchor:w,verticalAnchor:y},k):a==="insideTopRight"?fn({x:l+u-v,y:c+h,textAnchor:x,verticalAnchor:y},k):a==="insideBottomLeft"?fn({x:l+v,y:c+d-h,textAnchor:w,verticalAnchor:g},k):a==="insideBottomRight"?fn({x:l+u-v,y:c+d-h,textAnchor:x,verticalAnchor:g},k):Lh(a)&&(Ge(a.x)||Gc(a.x))&&(Ge(a.y)||Gc(a.y))?fn({x:l+Mu(a.x,u),y:c+Mu(a.y,d),textAnchor:"end",verticalAnchor:"end"},k):fn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},i3e=function(t){return"cx"in t&&Ge(t.cx)};function Qn(e){var t=e.offset,r=t===void 0?5:t,n=Y4e(e,W4e),s=fn({offset:r},n),a=s.viewBox,i=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!a||cr(l)&&cr(c)&&!p.isValidElement(u)&&!zt(u))return null;if(p.isValidElement(u))return p.cloneElement(u,s);var g;if(zt(u)){if(g=p.createElement(u,s),p.isValidElement(g))return g}else g=t3e(s);var y=i3e(a),m=sr(s,!0);if(y&&(i==="insideStart"||i==="insideEnd"||i==="end"))return n3e(s,g,m);var v=y?s3e(s):a3e(s);return O.createElement(cb,Dg({className:Qt("recharts-label",f)},m,v,{breakAll:h}),g)}Qn.displayName="Label";var DK=function(t){var r=t.cx,n=t.cy,s=t.angle,a=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,g=t.top,y=t.left,m=t.width,v=t.height,x=t.clockWise,w=t.labelViewBox;if(w)return w;if(Ge(m)&&Ge(v)){if(Ge(f)&&Ge(h))return{x:f,y:h,width:m,height:v};if(Ge(g)&&Ge(y))return{x:g,y,width:m,height:v}}return Ge(f)&&Ge(h)?{x:f,y:h,width:0,height:0}:Ge(r)&&Ge(n)?{cx:r,cy:n,startAngle:a||s||0,endAngle:i||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},o3e=function(t,r){return t?t===!0?O.createElement(Qn,{key:"label-implicit",viewBox:r}):Sn(t)?O.createElement(Qn,{key:"label-implicit",viewBox:r,value:t}):p.isValidElement(t)?t.type===Qn?p.cloneElement(t,{key:"label-implicit",viewBox:r}):O.createElement(Qn,{key:"label-implicit",content:t,viewBox:r}):zt(t)?O.createElement(Qn,{key:"label-implicit",content:t,viewBox:r}):Lh(t)?O.createElement(Qn,Dg({viewBox:r},t,{key:"label-implicit"})):null:null},l3e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,a=DK(t),i=ci(s,Qn).map(function(c,u){return p.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return i;var l=o3e(t.label,r||a);return[l].concat(V4e(i))};Qn.parseViewBox=DK;Qn.renderCallByParent=l3e;function c3e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var u3e=c3e;const d3e=wr(u3e);function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}var f3e=["valueAccessor"],h3e=["data","dataKey","clockWise","id","textBreakAll"];function p3e(e){return v3e(e)||y3e(e)||g3e(e)||m3e()}function m3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g3e(e,t){if(e){if(typeof e=="string")return dC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dC(e,t)}}function y3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v3e(e){if(Array.isArray(e))return dC(e)}function dC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(this,arguments)}function F5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function B5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(r),!0).forEach(function(n){x3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x3e(e,t,r){return t=b3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b3e(e){var t=w3e(e,"string");return Fg(t)=="symbol"?t:t+""}function w3e(e,t){if(Fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U5(e,t){if(e==null)return{};var r=_3e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var S3e=function(t){return Array.isArray(t.value)?d3e(t.value):t.value};function ui(e){var t=e.valueAccessor,r=t===void 0?S3e:t,n=U5(e,f3e),s=n.data,a=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=U5(n,h3e);return!s||!s.length?null:O.createElement(Pn,{className:"recharts-label-list"},s.map(function(d,f){var h=cr(a)?r(d,f):Xi(d&&d.payload,a),g=cr(l)?{}:{id:"".concat(l,"-").concat(f)};return O.createElement(Qn,kb({},sr(d,!0),u,g,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Qn.parseViewBox(cr(i)?d:B5(B5({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}ui.displayName="LabelList";function j3e(e,t){return e?e===!0?O.createElement(ui,{key:"labelList-implicit",data:t}):O.isValidElement(e)||zt(e)?O.createElement(ui,{key:"labelList-implicit",data:t,content:e}):Lh(e)?O.createElement(ui,kb({data:t},e,{key:"labelList-implicit"})):null:null}function k3e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=ci(n,ui).map(function(i,l){return p.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var a=j3e(e.label,t);return[a].concat(p3e(s))}ui.renderCallByParent=k3e;function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function fC(){return fC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fC.apply(this,arguments)}function z5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function q5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z5(Object(r),!0).forEach(function(n){E3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E3e(e,t,r){return t=N3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N3e(e){var t=C3e(e,"string");return Bg(t)=="symbol"?t:t+""}function C3e(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P3e=function(t,r){var n=ni(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Xv=function(t){var r=t.cx,n=t.cy,s=t.radius,a=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/jb,h=u?a:a+i*f,g=qn(r,n,d,h),y=qn(r,n,s,h),m=u?a-i*f:a,v=qn(r,n,d*Math.cos(f*jb),m);return{center:g,circleTangency:y,lineTangency:v,theta:f}},FK=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,i=t.startAngle,l=t.endAngle,c=P3e(i,l),u=i+c,d=qn(r,n,a,i),f=qn(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var g=qn(r,n,s,i),y=qn(r,n,s,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},A3e=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ni(d-u),h=Xv({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),g=h.circleTangency,y=h.lineTangency,m=h.theta,v=Xv({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),x=v.circleTangency,w=v.lineTangency,b=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-b;if(_<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):FK({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(s>0){var E=Xv({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),k=E.circleTangency,j=E.lineTangency,N=E.theta,C=Xv({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),P=C.circleTangency,R=C.lineTangency,F=C.theta,z=c?Math.abs(u-d):Math.abs(u-d)-N-F;if(z<0&&i===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},T3e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},BK=function(t){var r=q5(q5({},T3e),t),n=r.cx,s=r.cy,a=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<a||d===f)return null;var g=Qt("recharts-sector",h),y=i-a,m=Mu(l,y,0,!0),v;return m>0&&Math.abs(d-f)<360?v=A3e({cx:n,cy:s,innerRadius:a,outerRadius:i,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=FK({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:f}),O.createElement("path",fC({},sr(r,!0),{className:g,d:v,role:"img"}))};function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function hC(){return hC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hC.apply(this,arguments)}function W5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function V5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W5(Object(r),!0).forEach(function(n){O3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O3e(e,t,r){return t=$3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $3e(e){var t=R3e(e,"string");return Ug(t)=="symbol"?t:t+""}function R3e(e,t){if(Ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H5={curveBasisClosed:Tje,curveBasisOpen:Oje,curveBasis:Aje,curveBumpX:gje,curveBumpY:yje,curveLinearClosed:$je,curveLinear:N1,curveMonotoneX:Rje,curveMonotoneY:Mje,curveNatural:Ije,curveStep:Lje,curveStepAfter:Fje,curveStepBefore:Dje},Qv=function(t){return t.x===+t.x&&t.y===+t.y},Ap=function(t){return t.x},Tp=function(t){return t.y},M3e=function(t,r){if(zt(t))return t;var n="curve".concat(k1(t));return(n==="curveMonotone"||n==="curveBump")&&r?H5["".concat(n).concat(r==="vertical"?"Y":"X")]:H5[n]||N1},I3e=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,a=s===void 0?[]:s,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=M3e(n,l),f=u?a.filter(function(m){return Qv(m)}):a,h;if(Array.isArray(i)){var g=u?i.filter(function(m){return Qv(m)}):i,y=f.map(function(m,v){return V5(V5({},m),{},{base:g[v]})});return l==="vertical"?h=zv().y(Tp).x1(Ap).x0(function(m){return m.base.x}):h=zv().x(Ap).y1(Tp).y0(function(m){return m.base.y}),h.defined(Qv).curve(d),h(y)}return l==="vertical"&&Ge(i)?h=zv().y(Tp).x1(Ap).x0(i):Ge(i)?h=zv().x(Ap).y1(Tp).y0(i):h=UV().x(Ap).y(Tp),h.defined(Qv).curve(d),h(f)},K5=function(t){var r=t.className,n=t.points,s=t.path,a=t.pathRef;if((!n||!n.length)&&!s)return null;var i=n&&n.length?I3e(t):s;return O.createElement("path",hC({},sr(t,!1),Gx(t),{className:Qt("recharts-curve",r),d:i,ref:a}))},UK={exports:{}},L3e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",D3e=L3e,F3e=D3e;function zK(){}function qK(){}qK.resetWarningCache=zK;var B3e=function(){function e(n,s,a,i,l,c){if(c!==F3e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:qK,resetWarningCache:zK};return r.PropTypes=r,r};UK.exports=B3e();var U3e=UK.exports;const or=wr(U3e);var z3e=Object.getOwnPropertyNames,q3e=Object.getOwnPropertySymbols,W3e=Object.prototype.hasOwnProperty;function G5(e,t){return function(n,s,a){return e(n,s,a)&&t(n,s,a)}}function Zv(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var a=s.cache,i=a.get(r),l=a.get(n);if(i&&l)return i===n&&l===r;a.set(r,n),a.set(n,r);var c=e(r,n,s);return a.delete(r),a.delete(n),c}}function J5(e){return z3e(e).concat(q3e(e))}var V3e=Object.hasOwn||function(e,t){return W3e.call(e,t)};function Gu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var H3e="__v",K3e="__o",G3e="_owner",Y5=Object.getOwnPropertyDescriptor,X5=Object.keys;function J3e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Y3e(e,t){return Gu(e.getTime(),t.getTime())}function X3e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Q3e(e,t){return e===t}function Q5(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),a=e.entries(),i,l,c=0;(i=a.next())&&!i.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(s[f]){f++;continue}var h=i.value,g=l.value;if(r.equals(h[0],g[0],c,f,e,t,r)&&r.equals(h[1],g[1],h[0],g[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Z3e=Gu;function eLe(e,t,r){var n=X5(e),s=n.length;if(X5(t).length!==s)return!1;for(;s-- >0;)if(!WK(e,t,r,n[s]))return!1;return!0}function Op(e,t,r){var n=J5(e),s=n.length;if(J5(t).length!==s)return!1;for(var a,i,l;s-- >0;)if(a=n[s],!WK(e,t,r,a)||(i=Y5(e,a),l=Y5(t,a),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function tLe(e,t){return Gu(e.valueOf(),t.valueOf())}function rLe(e,t){return e.source===t.source&&e.flags===t.flags}function Z5(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),a=e.values(),i,l;(i=a.next())&&!i.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function nLe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function sLe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function WK(e,t,r,n){return(n===G3e||n===K3e||n===H3e)&&(e.$$typeof||t.$$typeof)?!0:V3e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var aLe="[object Arguments]",iLe="[object Boolean]",oLe="[object Date]",lLe="[object Error]",cLe="[object Map]",uLe="[object Number]",dLe="[object Object]",fLe="[object RegExp]",hLe="[object Set]",pLe="[object String]",mLe="[object URL]",gLe=Array.isArray,eD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,tD=Object.assign,yLe=Object.prototype.toString.call.bind(Object.prototype.toString);function vLe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,a=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,m,v){if(y===m)return!0;if(y==null||m==null)return!1;var x=typeof y;if(x!==typeof m)return!1;if(x!=="object")return x==="number"?i(y,m,v):x==="function"?s(y,m,v):!1;var w=y.constructor;if(w!==m.constructor)return!1;if(w===Object)return l(y,m,v);if(gLe(y))return t(y,m,v);if(eD!=null&&eD(y))return f(y,m,v);if(w===Date)return r(y,m,v);if(w===RegExp)return u(y,m,v);if(w===Map)return a(y,m,v);if(w===Set)return d(y,m,v);var b=yLe(y);return b===oLe?r(y,m,v):b===fLe?u(y,m,v):b===cLe?a(y,m,v):b===hLe?d(y,m,v):b===dLe?typeof y.then!="function"&&typeof m.then!="function"&&l(y,m,v):b===mLe?h(y,m,v):b===lLe?n(y,m,v):b===aLe?l(y,m,v):b===iLe||b===uLe||b===pLe?c(y,m,v):!1}}function xLe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?Op:J3e,areDatesEqual:Y3e,areErrorsEqual:X3e,areFunctionsEqual:Q3e,areMapsEqual:n?G5(Q5,Op):Q5,areNumbersEqual:Z3e,areObjectsEqual:n?Op:eLe,arePrimitiveWrappersEqual:tLe,areRegExpsEqual:rLe,areSetsEqual:n?G5(Z5,Op):Z5,areTypedArraysEqual:n?Op:nLe,areUrlsEqual:sLe};if(r&&(s=tD({},s,r(s))),t){var a=Zv(s.areArraysEqual),i=Zv(s.areMapsEqual),l=Zv(s.areObjectsEqual),c=Zv(s.areSetsEqual);s=tD({},s,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return s}function bLe(e){return function(t,r,n,s,a,i,l){return e(t,r,l)}}function wLe(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,a=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,g=d.meta;return r(c,u,{cache:h,equals:s,meta:g,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var i={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return r(c,u,i)}}var _Le=xc();xc({strict:!0});xc({circular:!0});xc({circular:!0,strict:!0});xc({createInternalComparator:function(){return Gu}});xc({strict:!0,createInternalComparator:function(){return Gu}});xc({circular:!0,createInternalComparator:function(){return Gu}});xc({circular:!0,createInternalComparator:function(){return Gu},strict:!0});function xc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,a=e.strict,i=a===void 0?!1:a,l=xLe(e),c=vLe(l),u=n?n(c):bLe(c);return wLe({circular:r,comparator:c,createState:s,equals:u,strict:i})}function SLe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function rD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(a){r<0&&(r=a),a-r>t?(e(a),r=-1):SLe(s)};requestAnimationFrame(n)}function pC(e){"@babel/helpers - typeof";return pC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pC(e)}function jLe(e){return CLe(e)||NLe(e)||ELe(e)||kLe()}function kLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ELe(e,t){if(e){if(typeof e=="string")return nD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nD(e,t)}}function nD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CLe(e){if(Array.isArray(e))return e}function PLe(){var e={},t=function(){return null},r=!1,n=function s(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var i=a,l=jLe(i),c=l[0],u=l.slice(1);if(typeof c=="number"){rD(s.bind(null,u),c);return}s(c),rD(s.bind(null,u));return}pC(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(n){VK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VK(e,t,r){return t=ALe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ALe(e){var t=TLe(e,"string");return zg(t)==="symbol"?t:String(t)}function TLe(e,t){if(zg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OLe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(a){return s.includes(a)})})},$Le=function(t){return t},RLe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Pm=function(t,r){return Object.keys(r).reduce(function(n,s){return aD(aD({},n),{},VK({},s,t(s,r[s])))},{})},iD=function(t,r,n){return t.map(function(s){return"".concat(RLe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function MLe(e,t){return DLe(e)||LLe(e,t)||HK(e,t)||ILe()}function ILe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function DLe(e){if(Array.isArray(e))return e}function FLe(e){return zLe(e)||ULe(e)||HK(e)||BLe()}function BLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HK(e,t){if(e){if(typeof e=="string")return mC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mC(e,t)}}function ULe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zLe(e){if(Array.isArray(e))return mC(e)}function mC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Eb=1e-4,KK=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},GK=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},oD=function(t,r){return function(n){var s=KK(t,r);return GK(s,n)}},qLe=function(t,r){return function(n){var s=KK(t,r),a=[].concat(FLe(s.map(function(i,l){return i*l}).slice(1)),[0]);return GK(a,n)}},lD=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],a=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,a=0,i=1,l=1;break;case"ease":s=.25,a=.1,i=.25,l=1;break;case"ease-in":s=.42,a=0,i=1,l=1;break;case"ease-out":s=.42,a=0,i=.58,l=1;break;case"ease-in-out":s=0,a=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=MLe(u,4);s=d[0],a=d[1],i=d[2],l=d[3]}}}var f=oD(s,i),h=oD(a,l),g=qLe(s,i),y=function(x){return x>1?1:x<0?0:x},m=function(x){for(var w=x>1?1:x,b=w,_=0;_<8;++_){var S=f(b)-w,E=g(b);if(Math.abs(S-w)<Eb||E<Eb)return h(b);b=y(b-S/E)}return h(b)};return m.isStepper=!1,m},WLe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,a=s===void 0?8:s,i=t.dt,l=i===void 0?17:i,c=function(d,f,h){var g=-(d-f)*n,y=h*a,m=h+(g-y)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Eb&&Math.abs(m)<Eb?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},VLe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lD(s);case"spring":return WLe();default:if(s.split("(")[0]==="cubic-bezier")return lD(s)}return typeof s=="function"?s:null};function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function cD(e){return GLe(e)||KLe(e)||JK(e)||HLe()}function HLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GLe(e){if(Array.isArray(e))return yC(e)}function uD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(r),!0).forEach(function(n){gC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gC(e,t,r){return t=JLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JLe(e){var t=YLe(e,"string");return qg(t)==="symbol"?t:String(t)}function YLe(e,t){if(qg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XLe(e,t){return e5e(e)||ZLe(e,t)||JK(e,t)||QLe()}function QLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JK(e,t){if(e){if(typeof e=="string")return yC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yC(e,t)}}function yC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function e5e(e){if(Array.isArray(e))return e}var Nb=function(t,r,n){return t+(r-t)*n},vC=function(t){var r=t.from,n=t.to;return r!==n},t5e=function e(t,r,n){var s=Pm(function(a,i){if(vC(i)){var l=t(i.from,i.to,i.velocity),c=XLe(l,2),u=c[0],d=c[1];return Rn(Rn({},i),{},{from:u,velocity:d})}return i},r);return n<1?Pm(function(a,i){return vC(i)?Rn(Rn({},i),{},{velocity:Nb(i.velocity,s[a].velocity,n),from:Nb(i.from,s[a].from,n)}):i},r):e(t,s,n-1)};const r5e=function(e,t,r,n,s){var a=OLe(e,t),i=a.reduce(function(v,x){return Rn(Rn({},v),{},gC({},x,[e[x],t[x]]))},{}),l=a.reduce(function(v,x){return Rn(Rn({},v),{},gC({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Pm(function(x,w){return w.from},l)},g=function(){return!Object.values(l).filter(vC).length},y=function(x){u||(u=x);var w=x-u,b=w/r.dt;l=t5e(r,l,b),s(Rn(Rn(Rn({},e),t),h())),u=x,g()||(c=requestAnimationFrame(f))},m=function(x){d||(d=x);var w=(x-d)/n,b=Pm(function(S,E){return Nb.apply(void 0,cD(E).concat([r(w)]))},i);if(s(Rn(Rn(Rn({},e),t),b)),w<1)c=requestAnimationFrame(f);else{var _=Pm(function(S,E){return Nb.apply(void 0,cD(E).concat([r(1)]))},i);s(Rn(Rn(Rn({},e),t),_))}};return f=r.isStepper?y:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}var n5e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function s5e(e,t){if(e==null)return{};var r=a5e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a5e(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function gj(e){return c5e(e)||l5e(e)||o5e(e)||i5e()}function i5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o5e(e,t){if(e){if(typeof e=="string")return xC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xC(e,t)}}function l5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c5e(e){if(Array.isArray(e))return xC(e)}function xC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(r),!0).forEach(function(n){Zp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zp(e,t,r){return t=YK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d5e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YK(n.key),n)}}function f5e(e,t,r){return t&&d5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YK(e){var t=h5e(e,"string");return Xf(t)==="symbol"?t:String(t)}function h5e(e,t){if(Xf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bC(e,t)}function bC(e,t){return bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},bC(e,t)}function m5e(e){var t=g5e();return function(){var n=Cb(e),s;if(t){var a=Cb(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return wC(this,s)}}function wC(e,t){if(t&&(Xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _C(e)}function _C(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(e)}var lc=function(e){p5e(r,e);var t=m5e(r);function r(n,s){var a;u5e(this,r),a=t.call(this,n,s);var i=a.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,h=i.children,g=i.duration;if(a.handleStyleChange=a.handleStyleChange.bind(_C(a)),a.changeStyle=a.changeStyle.bind(_C(a)),!l||g<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),wC(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},wC(a);a.state={style:c?Zp({},c,u):u}}else a.state={style:{}};return a}return f5e(r,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,i=s.canBegin;this.mounted=!0,!(!a||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,i=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!i){var g={style:c?Zp({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(g);return}if(!(_Le(s.to,d)&&s.canBegin&&s.isActive)){var y=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?f:s.to;if(this.state&&h){var v={style:c?Zp({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation(Wa(Wa({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,i=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,g=r5e(i,l,VLe(u),c,this.changeStyle),y=function(){a.stopJSAnimation=g()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,i=s.steps,l=s.begin,c=s.onAnimationStart,u=i[0],d=u.style,f=u.duration,h=f===void 0?0:f,g=function(m,v,x){if(x===0)return m;var w=v.duration,b=v.easing,_=b===void 0?"ease":b,S=v.style,E=v.properties,k=v.onAnimationEnd,j=x>0?i[x-1]:v,N=E||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(gj(m),[a.runJSAnimation.bind(a,{from:j.style,to:S,duration:w,easing:_}),w]);var C=iD(N,w,_),P=Wa(Wa(Wa({},j.style),S),{},{transition:C});return[].concat(gj(m),[P,w,k]).filter($Le)};return this.manager.start([c].concat(gj(i.reduce(g,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=PLe());var a=s.begin,i=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,g=s.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=l?Zp({},l,c):c,v=iD(Object.keys(m),i,u);y.start([d,a,Wa(Wa({},m),{},{transition:v}),i,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var i=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=s5e(s,n5e),u=p.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||i<=0)return a;var f=function(g){var y=g.props,m=y.style,v=m===void 0?{}:m,x=y.className,w=p.cloneElement(g,Wa(Wa({},c),{},{style:Wa(Wa({},v),d),className:x}));return w};return u===1?f(p.Children.only(a)):O.createElement("div",null,p.Children.map(a,function(h){return f(h)}))}}]),r}(p.PureComponent);lc.displayName="Animate";lc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};lc.propTypes={from:or.oneOfType([or.object,or.string]),to:or.oneOfType([or.object,or.string]),attributeName:or.string,duration:or.number,begin:or.number,easing:or.oneOfType([or.string,or.func]),steps:or.arrayOf(or.shape({duration:or.number.isRequired,style:or.object.isRequired,easing:or.oneOfType([or.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),or.func]),properties:or.arrayOf("string"),onAnimationEnd:or.func})),children:or.oneOfType([or.node,or.func]),isActive:or.bool,canBegin:or.bool,onAnimationEnd:or.func,shouldReAnimate:or.bool,onAnimationStart:or.func,onAnimationReStart:or.func};function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pb.apply(this,arguments)}function y5e(e,t){return w5e(e)||b5e(e,t)||x5e(e,t)||v5e()}function v5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x5e(e,t){if(e){if(typeof e=="string")return fD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fD(e,t)}}function fD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function w5e(e){if(Array.isArray(e))return e}function hD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(r),!0).forEach(function(n){_5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _5e(e,t,r){return t=S5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S5e(e){var t=j5e(e,"string");return Wg(t)=="symbol"?t:t+""}function j5e(e,t){if(Wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mD=function(t,r,n,s,a){var i=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(i>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=a[h]>i?i:a[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var y=Math.min(i,a);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+s-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+s,`
            L `).concat(t+c*y,",").concat(r+s,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},k5e=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,a=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},E5e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JT=function(t){var r=pD(pD({},E5e),t),n=p.useRef(),s=p.useState(-1),a=y5e(s,2),i=a[0],l=a[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,g=r.className,y=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Qt("recharts-rectangle",g);return w?O.createElement(lc,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:y,isActive:w},function(_){var S=_.width,E=_.height,k=_.x,j=_.y;return O.createElement(lc,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:x,easing:y},O.createElement("path",Pb({},sr(r,!0),{className:b,d:mD(k,j,S,E,h),ref:n})))}):O.createElement("path",Pb({},sr(r,!0),{className:b,d:mD(c,u,d,f,h)}))};function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SC.apply(this,arguments)}var XK=function(t){var r=t.cx,n=t.cy,s=t.r,a=t.className,i=Qt("recharts-dot",a);return r===+r&&n===+n&&s===+s?O.createElement("circle",SC({},sr(t,!1),Gx(t),{className:i,cx:r,cy:n,r:s})):null};function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}var N5e=["x","y","top","left","width","height","className"];function jC(){return jC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jC.apply(this,arguments)}function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function C5e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(n){P5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P5e(e,t,r){return t=A5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A5e(e){var t=T5e(e,"string");return Vg(t)=="symbol"?t:t+""}function T5e(e,t){if(Vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O5e(e,t){if(e==null)return{};var r=$5e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var R5e=function(t,r,n,s,a,i){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(i,",").concat(r,"h").concat(n)},M5e=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,g=h===void 0?0:h,y=t.className,m=O5e(t,N5e),v=C5e({x:n,y:a,top:l,left:u,width:f,height:g},m);return!Ge(n)||!Ge(a)||!Ge(f)||!Ge(g)||!Ge(l)||!Ge(u)?null:O.createElement("path",jC({},sr(v,!0),{className:Qt("recharts-cross",y),d:R5e(n,a,f,g,l,u)}))},I5e=dH,L5e=I5e(Object.getPrototypeOf,Object),D5e=L5e,F5e=Vo,B5e=D5e,U5e=Ho,z5e="[object Object]",q5e=Function.prototype,W5e=Object.prototype,QK=q5e.toString,V5e=W5e.hasOwnProperty,H5e=QK.call(Object);function K5e(e){if(!U5e(e)||F5e(e)!=z5e)return!1;var t=B5e(e);if(t===null)return!0;var r=V5e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&QK.call(r)==H5e}var G5e=K5e;const J5e=wr(G5e);var Y5e=Vo,X5e=Ho,Q5e="[object Boolean]";function Z5e(e){return e===!0||e===!1||X5e(e)&&Y5e(e)==Q5e}var eDe=Z5e;const tDe=wr(eDe);function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(this,arguments)}function rDe(e,t){return iDe(e)||aDe(e,t)||sDe(e,t)||nDe()}function nDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sDe(e,t){if(e){if(typeof e=="string")return yD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yD(e,t)}}function yD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function iDe(e){if(Array.isArray(e))return e}function vD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(r),!0).forEach(function(n){oDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oDe(e,t,r){return t=lDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lDe(e){var t=cDe(e,"string");return Hg(t)=="symbol"?t:t+""}function cDe(e,t){if(Hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bD=function(t,r,n,s,a){var i=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+a),l+="L ".concat(t+n-i/2-s,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},uDe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dDe=function(t){var r=xD(xD({},uDe),t),n=p.useRef(),s=p.useState(-1),a=rDe(s,2),i=a[0],l=a[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,g=r.className,y=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=Qt("recharts-trapezoid",g);return x?O.createElement(lc,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:y,isActive:x},function(b){var _=b.upperWidth,S=b.lowerWidth,E=b.height,k=b.x,j=b.y;return O.createElement(lc,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:y},O.createElement("path",Ab({},sr(r,!0),{className:w,d:bD(k,j,_,S,E),ref:n})))}):O.createElement("g",null,O.createElement("path",Ab({},sr(r,!0),{className:w,d:bD(c,u,d,f,h)})))},fDe=["option","shapeType","propTransformer","activeClassName","isActive"];function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function hDe(e,t){if(e==null)return{};var r=pDe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(n){mDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mDe(e,t,r){return t=gDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gDe(e){var t=yDe(e,"string");return Kg(t)=="symbol"?t:t+""}function yDe(e,t){if(Kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vDe(e,t){return Tb(Tb({},t),e)}function xDe(e,t){return e==="symbols"}function _D(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return O.createElement(JT,r);case"trapezoid":return O.createElement(dDe,r);case"sector":return O.createElement(BK,r);case"symbols":if(xDe(t))return O.createElement(hT,r);break;default:return null}}function bDe(e){return p.isValidElement(e)?e.props:e}function wDe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?vDe:n,a=e.activeClassName,i=a===void 0?"recharts-active-shape":a,l=e.isActive,c=hDe(e,fDe),u;if(p.isValidElement(t))u=p.cloneElement(t,Tb(Tb({},c),bDe(t)));else if(zt(t))u=t(c);else if(J5e(t)&&!tDe(t)){var d=s(t,c);u=O.createElement(_D,{shapeType:r,elementProps:d})}else{var f=c;u=O.createElement(_D,{shapeType:r,elementProps:f})}return l?O.createElement(Pn,{className:i},u):u}function q1(e,t){return t!=null&&"trapezoids"in e.props}function W1(e,t){return t!=null&&"sectors"in e.props}function Gg(e,t){return t!=null&&"points"in e.props}function _De(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&a}function SDe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function jDe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function kDe(e,t){var r;return q1(e,t)?r=_De:W1(e,t)?r=SDe:Gg(e,t)&&(r=jDe),r}function EDe(e,t){var r;return q1(e,t)?r="trapezoids":W1(e,t)?r="sectors":Gg(e,t)&&(r="points"),r}function NDe(e,t){if(q1(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(W1(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Gg(e,t)?t.payload:{}}function CDe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=EDe(r,t),a=NDe(r,t),i=n.filter(function(c,u){var d=VT(a,c),f=r.props[s].filter(function(y){var m=kDe(r,t);return m(y,t)}),h=r.props[s].indexOf(f[f.length-1]),g=u===h;return d&&g}),l=n.indexOf(i[i.length-1]);return l}var PDe=Math.ceil,ADe=Math.max;function TDe(e,t,r,n){for(var s=-1,a=ADe(PDe((t-e)/(r||1)),0),i=Array(a);a--;)i[n?a:++s]=e,e+=r;return i}var ODe=TDe,$De=AH,SD=1/0,RDe=17976931348623157e292;function MDe(e){if(!e)return e===0?e:0;if(e=$De(e),e===SD||e===-SD){var t=e<0?-1:1;return t*RDe}return e===e?e:0}var ZK=MDe,IDe=ODe,LDe=T1,yj=ZK;function DDe(e){return function(t,r,n){return n&&typeof n!="number"&&LDe(t,r,n)&&(r=n=void 0),t=yj(t),r===void 0?(r=t,t=0):r=yj(r),n=n===void 0?t<r?1:-1:yj(n),IDe(t,r,n,e)}}var FDe=DDe,BDe=FDe,UDe=BDe(),zDe=UDe;const Ob=wr(zDe);function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function jD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(r),!0).forEach(function(n){eG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eG(e,t,r){return t=qDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qDe(e){var t=WDe(e,"string");return Jg(t)=="symbol"?t:t+""}function WDe(e,t){if(Jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VDe=["Webkit","Moz","O","ms"],HDe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=VDe.reduce(function(a,i){return kD(kD({},a),{},eG({},i+n,r))},{});return s[t]=r,s};function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$b.apply(this,arguments)}function ED(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(r),!0).forEach(function(n){Ys(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ND(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rG(n.key),n)}}function GDe(e,t,r){return t&&ND(e.prototype,t),r&&ND(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JDe(e,t,r){return t=Rb(t),YDe(e,tG()?Reflect.construct(t,r||[],Rb(e).constructor):t.apply(e,r))}function YDe(e,t){if(t&&(Qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XDe(e)}function XDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tG=function(){return!!e})()}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rb(e)}function QDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kC(e,t)}function kC(e,t){return kC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},kC(e,t)}function Ys(e,t,r){return t=rG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rG(e){var t=ZDe(e,"string");return Qf(t)=="symbol"?t:t+""}function ZDe(e,t){if(Qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eFe=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,a=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Nm().domain(Ob(0,c)).range([a,a+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},CD=function(t){return t.changedTouches&&!!t.changedTouches.length},Zf=function(e){function t(r){var n;return KDe(this,t),n=JDe(this,t,[r]),Ys(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Ys(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Ys(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,a=s.endIndex,i=s.onDragEnd,l=s.startIndex;i==null||i({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Ys(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ys(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ys(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ys(n,"handleSlideDragStart",function(s){var a=CD(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return QDe(t,e),GDe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,a=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,a),h=Math.max(s,a),g=t.getIndexInRange(i,f),y=t.getIndexInRange(i,h);return{startIndex:g-g%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,a=s.data,i=s.tickFormatter,l=s.dataKey,c=Xi(a[n],l,n);return zt(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,a=s.slideMoveStartX,i=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,g=c.endIndex,y=c.onChange,m=n.pageX-a;m>0?m=Math.min(m,u+d-f-l,u+d-f-i):m<0&&(m=Math.max(m,u-i,u-l));var v=this.getIndex({startX:i+m,endX:l+m});(v.startIndex!==h||v.endIndex!==g)&&y&&y(v),this.setState({startX:i+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var a=CD(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,a=s.brushMoveStartX,i=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[i],d=this.props,f=d.x,h=d.width,g=d.travellerWidth,y=d.onChange,m=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},w=n.pageX-a;w>0?w=Math.min(w,f+h-g-u):w<0&&(w=Math.max(w,f-u)),x[i]=u+w;var b=this.getIndex(x),_=b.startIndex,S=b.endIndex,E=function(){var j=v.length-1;return i==="startX"&&(l>c?_%m===0:S%m===0)||l<c&&S===j||i==="endX"&&(l>c?S%m===0:_%m===0)||l>c&&S===j};this.setState(Ys(Ys({},i,u+w),"brushMoveStartX",n.pageX),function(){y&&E()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var a=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var g=l[h];s==="startX"&&g>=u||s==="endX"&&g<=c||this.setState(Ys({},s,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,a=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return O.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,a=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=p.Children.only(u);return f?O.cloneElement(f,{x:s,y:a,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var a,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,g=c.ariaLabel,y=c.data,m=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),w=vj(vj({},sr(this.props,!1)),{},{x,y:u,width:d,height:f}),b=g||"Min value: ".concat((a=y[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((i=y[v])===null||i===void 0?void 0:i.name);return O.createElement(Pn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,s){var a=this.props,i=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return O.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,a=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,g=5,y={pointerEvents:"none",fill:u};return O.createElement(Pn,{className:"recharts-brush-texts"},O.createElement(cb,$b({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:i+l/2},y),this.getTextOfTick(s)),O.createElement(cb,$b({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+g,y:i+l/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,s=n.data,a=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,g=h.startX,y=h.endX,m=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!s||!s.length||!Ge(l)||!Ge(c)||!Ge(u)||!Ge(d)||u<=0||d<=0)return null;var b=Qt("recharts-brush",a),_=O.Children.count(i)===1,S=HDe("userSelect","none");return O.createElement(Pn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(g,y),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(y,"endX"),(m||v||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,a=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return O.createElement(O.Fragment,null,O.createElement("rect",{x:s,y:a,width:i,height:l,fill:c,stroke:"none"}),O.createElement("line",{x1:s+1,y1:u,x2:s+i-1,y2:u,fill:"none",stroke:"#fff"}),O.createElement("line",{x1:s+1,y1:u+2,x2:s+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var a;return O.isValidElement(n)?a=O.cloneElement(n,s):zt(n)?a=n(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(n,s){var a=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return vj({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},a&&a.length?eFe({data:a,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(i!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+i-c]);var h=s.scale.domain().map(function(g){return s.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var a=n.length,i=0,l=a-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>s?l=c:i=c}return s>=n[l]?l:i}}])}(p.PureComponent);Ys(Zf,"displayName","Brush");Ys(Zf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var tFe=bT;function rFe(e,t){var r;return tFe(e,function(n,s,a){return r=t(n,s,a),!r}),!!r}var nFe=rFe,sFe=nH,aFe=gc,iFe=nFe,oFe=Ks,lFe=T1;function cFe(e,t,r){var n=oFe(e)?sFe:iFe;return r&&lFe(e,t,r)&&(t=void 0),n(e,aFe(t))}var uFe=cFe;const dFe=wr(uFe);var Vi=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},PD=kH;function fFe(e,t,r){t=="__proto__"&&PD?PD(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var hFe=fFe,pFe=hFe,mFe=SH,gFe=gc;function yFe(e,t){var r={};return t=gFe(t),mFe(e,function(n,s,a){pFe(r,s,t(n,s,a))}),r}var vFe=yFe;const xFe=wr(vFe);function bFe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var wFe=bFe,_Fe=bT;function SFe(e,t){var r=!0;return _Fe(e,function(n,s,a){return r=!!t(n,s,a),r}),r}var jFe=SFe,kFe=wFe,EFe=jFe,NFe=gc,CFe=Ks,PFe=T1;function AFe(e,t,r){var n=CFe(e)?kFe:EFe;return r&&PFe(e,t,r)&&(t=void 0),n(e,NFe(t))}var TFe=AFe;const nG=wr(TFe);var OFe=["x","y"];function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function EC(){return EC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EC.apply(this,arguments)}function AD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $p(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(r),!0).forEach(function(n){$Fe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Fe(e,t,r){return t=RFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RFe(e){var t=MFe(e,"string");return Yg(t)=="symbol"?t:t+""}function MFe(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IFe(e,t){if(e==null)return{};var r=LFe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DFe(e,t){var r=e.x,n=e.y,s=IFe(e,OFe),a="".concat(r),i=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return $p($p($p($p($p({},t),s),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function TD(e){return O.createElement(wDe,EC({shapeType:"rectangle",propTransformer:DFe,activeClassName:"recharts-active-bar"},e))}var FFe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var a=typeof n=="number";return a?t(n,s):(a||Lu(),r)}},BFe=["value","background"],sG;function eh(e){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(e)}function UFe(e,t){if(e==null)return{};var r=zFe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(this,arguments)}function OD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(r),!0).forEach(function(n){Il(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iG(n.key),n)}}function WFe(e,t,r){return t&&$D(e.prototype,t),r&&$D(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VFe(e,t,r){return t=Ib(t),HFe(e,aG()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function HFe(e,t){if(t&&(eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KFe(e)}function KFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aG=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function GFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NC(e,t)}function NC(e,t){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},NC(e,t)}function Il(e,t,r){return t=iG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iG(e){var t=JFe(e,"string");return eh(t)=="symbol"?t:t+""}function JFe(e,t){if(eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Go=function(e){function t(){var r;qFe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=VFe(this,t,[].concat(s)),Il(r,"state",{isAnimationFinished:!1}),Il(r,"id",j1("recharts-bar-")),Il(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Il(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return GFe(t,e),WFe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,a=this.props,i=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=sr(this.props,!1);return n&&n.map(function(f,h){var g=h===c,y=g?u:i,m=nn(nn(nn({},d),f),{},{isActive:g,option:y,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return O.createElement(Pn,Mb({className:"recharts-bar-rectangle"},Jx(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),O.createElement(TD,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,a=s.data,i=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return O.createElement(lc,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,m=a.map(function(v,x){var w=h&&h[x];if(w){var b=ld(w.x,v.x),_=ld(w.y,v.y),S=ld(w.width,v.width),E=ld(w.height,v.height);return nn(nn({},v),{},{x:b(y),y:_(y),width:S(y),height:E(y)})}if(i==="horizontal"){var k=ld(0,v.height),j=k(y);return nn(nn({},v),{},{y:v.y+v.height-j,height:j})}var N=ld(0,v.width),C=N(y);return nn(nn({},v),{},{width:C})});return O.createElement(Pn,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,a=n.isAnimationActive,i=this.state.prevData;return a&&s&&s.length&&(!i||!VT(i,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,a=s.data,i=s.dataKey,l=s.activeIndex,c=sr(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=UFe(u,BFe);if(!f)return null;var g=nn(nn(nn(nn(nn({},h),{},{fill:"#eee"},f),c),Jx(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return O.createElement(TD,Mb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=ci(d,z1);if(!f)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,g=function(v,x){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Xi(v,x)}},y={clipPath:n?"url(#clipPath-".concat(s,")"):null};return O.createElement(Pn,y,f.map(function(m){return O.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,a=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,g=n.isAnimationActive,y=n.background,m=n.id;if(s||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=Qt("recharts-bar",i),w=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=w||b,S=cr(m)?this.id:m;return O.createElement(Pn,{className:x},w||b?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(S)},O.createElement("rect",{x:w?u:u-f/2,y:b?d:d-h/2,width:w?f:f*2,height:b?h:h*2}))):null,O.createElement(Pn,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!g||v)&&ui.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(p.PureComponent);sG=Go;Il(Go,"displayName","Bar");Il(Go,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Yl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Il(Go,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,a=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,g=k4e(n,r);if(!g)return null;var y=t.layout,m=r.type.defaultProps,v=m!==void 0?nn(nn({},m),r.props):r.props,x=v.dataKey,w=v.children,b=v.minPointSize,_=y==="horizontal"?i:a,S=u?_.scale.domain():null,E=$4e({numericAxis:_}),k=ci(w,Dy),j=f.map(function(N,C){var P,R,F,z,D,I;u?P=E4e(u[d+C],S):(P=Xi(N,x),Array.isArray(P)||(P=[E,P]));var B=FFe(b,sG.defaultProps.minPointSize)(P[1],C);if(y==="horizontal"){var T,M=[i.scale(P[0]),i.scale(P[1])],Z=M[0],L=M[1];R=T5({axis:a,ticks:l,bandSize:s,offset:g.offset,entry:N,index:C}),F=(T=L??Z)!==null&&T!==void 0?T:void 0,z=g.size;var G=Z-L;if(D=Number.isNaN(G)?0:G,I={x:R,y:i.y,width:z,height:i.height},Math.abs(B)>0&&Math.abs(D)<Math.abs(B)){var H=ni(D||B)*(Math.abs(B)-Math.abs(D));F-=H,D+=H}}else{var Y=[a.scale(P[0]),a.scale(P[1])],ae=Y[0],V=Y[1];if(R=ae,F=T5({axis:i,ticks:c,bandSize:s,offset:g.offset,entry:N,index:C}),z=V-ae,D=g.size,I={x:a.x,y:F,width:a.width,height:D},Math.abs(B)>0&&Math.abs(z)<Math.abs(B)){var W=ni(z||B)*(Math.abs(B)-Math.abs(z));z+=W}}return nn(nn(nn({},N),{},{x:R,y:F,width:z,height:D,value:u?P:P[1],payload:N,background:I},k&&k[C]&&k[C].props),{},{tooltipPayload:[LK(r,N)],tooltipPosition:{x:R+z/2,y:F+D/2}})});return nn({data:j,layout:y},h)});function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function YFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oG(n.key),n)}}function XFe(e,t,r){return t&&RD(e.prototype,t),r&&RD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(r),!0).forEach(function(n){V1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V1(e,t,r){return t=oG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oG(e){var t=QFe(e,"string");return Xg(t)=="symbol"?t:t+""}function QFe(e,t){if(Xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZFe=function(t,r,n,s,a){var i=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ea(u,Go);return d.reduce(function(g,y){var m=r[y],v=m.orientation,x=m.domain,w=m.padding,b=w===void 0?{}:w,_=m.mirror,S=m.reversed,E="".concat(v).concat(_?"Mirror":""),k,j,N,C,P;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var R=x[1]-x[0],F=1/0,z=m.categoricalDomain.sort();if(z.forEach(function(Y,ae){ae>0&&(F=Math.min((Y||0)-(z[ae-1]||0),F))}),Number.isFinite(F)){var D=F/R,I=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(k=D*I/2),m.padding==="no-gap"){var B=Mu(t.barCategoryGap,D*I),T=D*I/2;k=T-B-(T-B)/I*B}}}s==="xAxis"?j=[n.left+(b.left||0)+(k||0),n.left+n.width-(b.right||0)-(k||0)]:s==="yAxis"?j=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(k||0),n.top+n.height-(b.bottom||0)-(k||0)]:j=m.range,S&&(j=[j[1],j[0]]);var M=S4e(m,a,h),Z=M.scale,L=M.realScaleType;Z.domain(x).range(j),j4e(Z);var G=O4e(Z,Za(Za({},m),{},{realScaleType:L}));s==="xAxis"?(P=v==="top"&&!_||v==="bottom"&&_,N=n.left,C=f[E]-P*m.height):s==="yAxis"&&(P=v==="left"&&!_||v==="right"&&_,N=f[E]-P*m.width,C=n.top);var H=Za(Za(Za({},m),G),{},{realScaleType:L,x:N,y:C,scale:Z,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return H.bandSize=Sb(H,G),!m.hide&&s==="xAxis"?f[E]+=(P?-1:1)*H.height:m.hide||(f[E]+=(P?-1:1)*H.width),Za(Za({},g),{},V1({},y,H))},{})},lG=function(t,r){var n=t.x,s=t.y,a=r.x,i=r.y;return{x:Math.min(n,a),y:Math.min(s,i),width:Math.abs(a-n),height:Math.abs(i-s)}},e6e=function(t){var r=t.x1,n=t.y1,s=t.x2,a=t.y2;return lG({x:r,y:n},{x:s,y:a})},cG=function(){function e(t){YFe(this,e),this.scale=t}return XFe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?r>=s&&r<=a:r>=a&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();V1(cG,"EPS",1e-4);var YT=function(t){var r=Object.keys(t).reduce(function(n,s){return Za(Za({},n),{},V1({},s,cG.create(t[s])))},{});return Za(Za({},r),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.bandAware,l=a.position;return xFe(s,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(s){return nG(s,function(a,i){return r[i].isInRange(a)})}})};function t6e(e){return(e%180+180)%180}var r6e=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=t6e(s),i=a*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},n6e=gc,s6e=Ly,a6e=P1;function i6e(e){return function(t,r,n){var s=Object(t);if(!s6e(t)){var a=n6e(r);t=a6e(t),r=function(l){return a(s[l],l,s)}}var i=e(t,r,n);return i>-1?s[a?t[i]:i]:void 0}}var o6e=i6e,l6e=ZK;function c6e(e){var t=l6e(e),r=t%1;return t===t?r?t-r:t:0}var u6e=c6e,d6e=yH,f6e=gc,h6e=u6e,p6e=Math.max;function m6e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:h6e(r);return s<0&&(s=p6e(n+s,0)),d6e(e,f6e(t),s)}var g6e=m6e,y6e=o6e,v6e=g6e,x6e=y6e(v6e),b6e=x6e;const w6e=wr(b6e);var _6e=c_e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),XT=p.createContext(void 0),QT=p.createContext(void 0),uG=p.createContext(void 0),dG=p.createContext({}),fG=p.createContext(void 0),hG=p.createContext(0),pG=p.createContext(0),ID=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,a=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,d=_6e(a);return O.createElement(XT.Provider,{value:n},O.createElement(QT.Provider,{value:s},O.createElement(dG.Provider,{value:a},O.createElement(uG.Provider,{value:d},O.createElement(fG.Provider,{value:i},O.createElement(hG.Provider,{value:u},O.createElement(pG.Provider,{value:c},l)))))))},S6e=function(){return p.useContext(fG)},mG=function(t){var r=p.useContext(XT);r==null&&Lu();var n=r[t];return n==null&&Lu(),n},j6e=function(){var t=p.useContext(XT);return bl(t)},k6e=function(){var t=p.useContext(QT),r=w6e(t,function(n){return nG(n.domain,Number.isFinite)});return r||bl(t)},gG=function(t){var r=p.useContext(QT);r==null&&Lu();var n=r[t];return n==null&&Lu(),n},E6e=function(){var t=p.useContext(uG);return t},N6e=function(){return p.useContext(dG)},ZT=function(){return p.useContext(pG)},eO=function(){return p.useContext(hG)};function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}function C6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vG(n.key),n)}}function A6e(e,t,r){return t&&P6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T6e(e,t,r){return t=Lb(t),O6e(e,yG()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function O6e(e,t){if(t&&(th(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $6e(e)}function $6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yG=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function R6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CC(e,t)}function CC(e,t){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},CC(e,t)}function LD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function DD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LD(Object(r),!0).forEach(function(n){tO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tO(e,t,r){return t=vG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=M6e(e,"string");return th(t)=="symbol"?t:t+""}function M6e(e,t){if(th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I6e(e,t){return B6e(e)||F6e(e,t)||D6e(e,t)||L6e()}function L6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D6e(e,t){if(e){if(typeof e=="string")return FD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FD(e,t)}}function FD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function B6e(e){if(Array.isArray(e))return e}function PC(){return PC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PC.apply(this,arguments)}var U6e=function(t,r){var n;return O.isValidElement(t)?n=O.cloneElement(t,r):zt(t)?n=t(r):n=O.createElement("line",PC({},r,{className:"recharts-reference-line-line"})),n},z6e=function(t,r,n,s,a,i,l,c,u){var d=a.x,f=a.y,h=a.width,g=a.height;if(n){var y=u.y,m=t.y.apply(y,{position:i});if(Vi(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var x=u.x,w=t.x.apply(x,{position:i});if(Vi(u,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:f+g},{x:w,y:f}];return l==="top"?b.reverse():b}if(s){var _=u.segment,S=_.map(function(E){return t.apply(E,{position:i})});return Vi(u,"discard")&&dFe(S,function(E){return!t.isInRange(E)})?null:S}return null};function q6e(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,a=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=S6e(),d=mG(s),f=gG(a),h=E6e();if(!u||!h)return null;Co(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=YT({x:d.scale,y:f.scale}),y=Sn(t),m=Sn(r),v=n&&n.length===2,x=z6e(g,y,m,v,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var w=I6e(x,2),b=w[0],_=b.x,S=b.y,E=w[1],k=E.x,j=E.y,N=Vi(e,"hidden")?"url(#".concat(u,")"):void 0,C=DD(DD({clipPath:N},sr(e,!0)),{},{x1:_,y1:S,x2:k,y2:j});return O.createElement(Pn,{className:Qt("recharts-reference-line",l)},U6e(i,C),Qn.renderCallByParent(e,e6e({x1:_,y1:S,x2:k,y2:j})))}var rO=function(e){function t(){return C6e(this,t),T6e(this,t,arguments)}return R6e(t,e),A6e(t,[{key:"render",value:function(){return O.createElement(q6e,this.props)}}])}(O.Component);tO(rO,"displayName","ReferenceLine");tO(rO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function AC(){return AC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AC.apply(this,arguments)}function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function BD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function UD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(r),!0).forEach(function(n){H1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bG(n.key),n)}}function H6e(e,t,r){return t&&V6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K6e(e,t,r){return t=Db(t),G6e(e,xG()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function G6e(e,t){if(t&&(rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J6e(e)}function J6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xG=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function Y6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TC(e,t)}function TC(e,t){return TC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},TC(e,t)}function H1(e,t,r){return t=bG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=X6e(e,"string");return rh(t)=="symbol"?t:t+""}function X6e(e,t){if(rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q6e=function(t){var r=t.x,n=t.y,s=t.xAxis,a=t.yAxis,i=YT({x:s.scale,y:a.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Vi(t,"discard")&&!i.isInRange(l)?null:l},K1=function(e){function t(){return W6e(this,t),K6e(this,t,arguments)}return Y6e(t,e),H6e(t,[{key:"render",value:function(){var n=this.props,s=n.x,a=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=Sn(s),d=Sn(a);if(Co(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Q6e(this.props);if(!f)return null;var h=f.x,g=f.y,y=this.props,m=y.shape,v=y.className,x=Vi(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=UD(UD({clipPath:x},sr(this.props,!0)),{},{cx:h,cy:g});return O.createElement(Pn,{className:Qt("recharts-reference-dot",v)},t.renderDot(m,w),Qn.renderCallByParent(this.props,{x:h-i,y:g-i,width:2*i,height:2*i}))}}])}(O.Component);H1(K1,"displayName","ReferenceDot");H1(K1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});H1(K1,"renderDot",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):zt(e)?r=e(t):r=O.createElement(XK,AC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OC.apply(this,arguments)}function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function zD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(r),!0).forEach(function(n){G1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_G(n.key),n)}}function t8e(e,t,r){return t&&e8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r8e(e,t,r){return t=Fb(t),n8e(e,wG()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function n8e(e,t){if(t&&(nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s8e(e)}function s8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wG=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function a8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$C(e,t)}function $C(e,t){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$C(e,t)}function G1(e,t,r){return t=_G(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _G(e){var t=i8e(e,"string");return nh(t)=="symbol"?t:t+""}function i8e(e,t){if(nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o8e=function(t,r,n,s,a){var i=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=YT({x:d.scale,y:f.scale}),g={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Vi(a,"discard")&&(!h.isInRange(g)||!h.isInRange(y))?null:lG(g,y)},J1=function(e){function t(){return Z6e(this,t),r8e(this,t,arguments)}return a8e(t,e),t8e(t,[{key:"render",value:function(){var n=this.props,s=n.x1,a=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Co(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Sn(s),h=Sn(a),g=Sn(i),y=Sn(l),m=this.props.shape;if(!f&&!h&&!g&&!y&&!m)return null;var v=o8e(f,h,g,y,this.props);if(!v&&!m)return null;var x=Vi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return O.createElement(Pn,{className:Qt("recharts-reference-area",c)},t.renderRect(m,qD(qD({clipPath:x},sr(this.props,!0)),v)),Qn.renderCallByParent(this.props,v))}}])}(O.Component);G1(J1,"displayName","ReferenceArea");G1(J1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});G1(J1,"renderRect",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):zt(e)?r=e(t):r=O.createElement(JT,OC({},t,{className:"recharts-reference-area-rect"})),r});function SG(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function l8e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return r6e(n,r)}function c8e(e,t,r){var n=r==="width",s=e.x,a=e.y,i=e.width,l=e.height;return t===1?{start:n?s:a,end:n?s+i:a+l}:{start:n?s+i:a+l,end:n?s:a}}function Bb(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-s)<=0}function u8e(e,t){return SG(e,t+1)}function d8e(e,t,r,n,s){for(var a=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,d=i,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:SG(n,u)};var m=c,v,x=function(){return v===void 0&&(v=r(y,m)),v},w=y.coordinate,b=c===0||Bb(e,w,x,d,l);b||(c=0,d=i,u+=1),b&&(d=w+e*(x()/2+s),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function WD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(r),!0).forEach(function(n){f8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f8e(e,t,r){return t=h8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h8e(e){var t=p8e(e,"string");return Qg(t)=="symbol"?t:t+""}function p8e(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m8e(e,t,r,n,s){for(var a=(n||[]).slice(),i=a.length,l=t.start,c=t.end,u=function(h){var g=a[h],y,m=function(){return y===void 0&&(y=r(g,h)),y};if(h===i-1){var v=e*(g.coordinate+e*m()/2-c);a[h]=g=Yn(Yn({},g),{},{tickCoord:v>0?g.coordinate-v*e:g.coordinate})}else a[h]=g=Yn(Yn({},g),{},{tickCoord:g.coordinate});var x=Bb(e,g.tickCoord,m,l,c);x&&(c=g.tickCoord-e*(m()/2+s),a[h]=Yn(Yn({},g),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return a}function g8e(e,t,r,n,s,a){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(a){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);i[l-1]=d=Yn(Yn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var g=Bb(e,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-e*(f/2+s),i[l-1]=Yn(Yn({},d),{},{isShow:!0}))}for(var y=a?l-1:l,m=function(w){var b=i[w],_,S=function(){return _===void 0&&(_=r(b,w)),_};if(w===0){var E=e*(b.coordinate-e*S()/2-c);i[w]=b=Yn(Yn({},b),{},{tickCoord:E<0?b.coordinate-E*e:b.coordinate})}else i[w]=b=Yn(Yn({},b),{},{tickCoord:b.coordinate});var k=Bb(e,b.tickCoord,S,c,u);k&&(c=b.tickCoord+e*(S()/2+s),i[w]=Yn(Yn({},b),{},{isShow:!0}))},v=0;v<y;v++)m(v);return i}function nO(e,t,r){var n=e.tick,s=e.ticks,a=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(Ge(c)||Yl.isSsr)return u8e(s,typeof c=="number"&&Ge(c)?c:0);var h=[],g=l==="top"||l==="bottom"?"width":"height",y=d&&g==="width"?Em(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,_){var S=zt(u)?u(b.value,_):b.value;return g==="width"?l8e(Em(S,{fontSize:t,letterSpacing:r}),y,f):Em(S,{fontSize:t,letterSpacing:r})[g]},v=s.length>=2?ni(s[1].coordinate-s[0].coordinate):1,x=c8e(a,v,g);return c==="equidistantPreserveStart"?d8e(v,x,m,s,i):(c==="preserveStart"||c==="preserveStartEnd"?h=g8e(v,x,m,s,i,c==="preserveStartEnd"):h=m8e(v,x,m,s,i),h.filter(function(w){return w.isShow}))}var y8e=["viewBox"],v8e=["viewBox"],x8e=["ticks"];function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(this,arguments)}function VD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(r),!0).forEach(function(n){sO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xj(e,t){if(e==null)return{};var r=b8e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kG(n.key),n)}}function _8e(e,t,r){return t&&HD(e.prototype,t),r&&HD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function S8e(e,t,r){return t=Ub(t),j8e(e,jG()?Reflect.construct(t,r||[],Ub(e).constructor):t.apply(e,r))}function j8e(e,t){if(t&&(sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k8e(e)}function k8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jG=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(e)}function E8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RC(e,t)}function RC(e,t){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},RC(e,t)}function sO(e,t,r){return t=kG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=N8e(e,"string");return sh(t)=="symbol"?t:t+""}function N8e(e,t){if(sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kh=function(e){function t(r){var n;return w8e(this,t),n=S8e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return E8e(t,e),_8e(t,[{key:"shouldComponentUpdate",value:function(n,s){var a=n.viewBox,i=xj(n,y8e),l=this.props,c=l.viewBox,u=xj(l,v8e);return!sf(a,c)||!sf(i,u)||!sf(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.x,i=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,g,y,m,v,x,w,b=f?-1:1,_=n.tickSize||d,S=Ge(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":g=y=n.coordinate,v=i+ +!f*c,m=v-b*_,w=m-b*h,x=S;break;case"left":m=v=n.coordinate,y=a+ +!f*l,g=y-b*_,x=g-b*h,w=S;break;case"right":m=v=n.coordinate,y=a+ +f*l,g=y+b*_,x=g+b*h,w=S;break;default:g=y=n.coordinate,v=i+ +f*c,m=v+b*_,w=m+b*h,x=S;break}return{line:{x1:g,y1:m,x2:y,y2:v},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,i;switch(s){case"left":i=a?"start":"end";break;case"right":i=a?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,i="end";switch(s){case"left":case"right":i="middle";break;case"top":i=a?"start":"end";break;default:i=a?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,a=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ls(ls(ls({},sr(this.props,!1)),sr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=ls(ls({},f),{},{x1:s,y1:a+h*l,x2:s+i,y2:a+h*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=ls(ls({},f),{},{x1:s+g*i,y1:a,x2:s+g*i,y2:a+l})}return O.createElement("line",Ud({},f,{className:Qt("recharts-cartesian-axis-line",Ra(d,"className"))}))}},{key:"renderTicks",value:function(n,s,a){var i=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,g=nO(ls(ls({},this.props),{},{ticks:n}),s,a),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=sr(this.props,!1),x=sr(d,!1),w=ls(ls({},v),{},{fill:"none"},sr(c,!1)),b=g.map(function(_,S){var E=i.getTickLineCoord(_),k=E.line,j=E.tick,N=ls(ls(ls(ls({textAnchor:y,verticalAnchor:m},v),{},{stroke:"none",fill:u},x),j),{},{index:S,payload:_,visibleTicksCount:g.length,tickFormatter:f});return O.createElement(Pn,Ud({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Jx(i.props,_,S)),c&&O.createElement("line",Ud({},w,k,{className:Qt("recharts-cartesian-axis-tick-line",Ra(c,"className"))})),d&&t.renderTickItem(d,N,"".concat(zt(f)?f(_.value,S):_.value).concat(h||"")))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,s=this.props,a=s.axisLine,i=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,g=xj(f,x8e),y=h;return zt(c)&&(y=h&&h.length>0?c(this.props):c(g)),i<=0||l<=0||!y||!y.length?null:O.createElement(Pn,{className:Qt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Qn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,a){var i;return O.isValidElement(n)?i=O.cloneElement(n,s):zt(n)?i=n(s):i=O.createElement(cb,Ud({},s,{className:"recharts-cartesian-axis-tick-value"}),a),i}}])}(p.Component);sO(Kh,"displayName","CartesianAxis");sO(Kh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var C8e=["x1","y1","x2","y2","key"],P8e=["offset"];function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(n){A8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A8e(e,t,r){return t=T8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T8e(e){var t=O8e(e,"string");return Du(t)=="symbol"?t:t+""}function O8e(e,t){if(Du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xc.apply(this,arguments)}function GD(e,t){if(e==null)return{};var r=$8e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var R8e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,a=t.y,i=t.width,l=t.height,c=t.ry;return O.createElement("rect",{x:s,y:a,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function EG(e,t){var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(zt(e))r=e(t);else{var n=t.x1,s=t.y1,a=t.x2,i=t.y2,l=t.key,c=GD(t,C8e),u=sr(c,!1);u.offset;var d=GD(u,P8e);r=O.createElement("line",Xc({},d,{x1:n,y1:s,x2:a,y2:i,fill:"none",key:l}))}return r}function M8e(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var i=a.map(function(l,c){var u=Zn(Zn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return EG(s,u)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function I8e(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,a=e.verticalPoints;if(!s||!a||!a.length)return null;var i=a.map(function(l,c){var u=Zn(Zn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return EG(s,u)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function L8e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,a=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,g){return h-g});s!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var y=!d[g+1],m=y?s+i-h:d[g+1]-h;if(m<=0)return null;var v=g%t.length;return O.createElement("rect",{key:"react-".concat(g),y:h,x:n,height:m,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function D8e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,a=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,g){return h-g});a!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var y=!d[g+1],m=y?a+l-h:d[g+1]-h;if(m<=0)return null;var v=g%n.length;return O.createElement("rect",{key:"react-".concat(g),x:h,y:i,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var F8e=function(t,r){var n=t.xAxis,s=t.width,a=t.height,i=t.offset;return MK(nO(Zn(Zn(Zn({},Kh.defaultProps),n),{},{ticks:jo(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),i.left,i.left+i.width,r)},B8e=function(t,r){var n=t.yAxis,s=t.width,a=t.height,i=t.offset;return MK(nO(Zn(Zn(Zn({},Kh.defaultProps),n),{},{ticks:jo(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),i.top,i.top+i.height,r)},dd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function NG(e){var t,r,n,s,a,i,l=ZT(),c=eO(),u=N6e(),d=Zn(Zn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:dd.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:dd.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:dd.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:dd.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:dd.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:dd.verticalFill,x:Ge(e.x)?e.x:u.left,y:Ge(e.y)?e.y:u.top,width:Ge(e.width)?e.width:u.width,height:Ge(e.height)?e.height:u.height}),f=d.x,h=d.y,g=d.width,y=d.height,m=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,w=j6e(),b=k6e();if(!Ge(g)||g<=0||!Ge(y)||y<=0||!Ge(f)||f!==+f||!Ge(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||F8e,S=d.horizontalCoordinatesGenerator||B8e,E=d.horizontalPoints,k=d.verticalPoints;if((!E||!E.length)&&zt(S)){var j=v&&v.length,N=S({yAxis:b?Zn(Zn({},b),{},{ticks:j?v:b.ticks}):void 0,width:l,height:c,offset:u},j?!0:m);Co(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Du(N),"]")),Array.isArray(N)&&(E=N)}if((!k||!k.length)&&zt(_)){var C=x&&x.length,P=_({xAxis:w?Zn(Zn({},w),{},{ticks:C?x:w.ticks}):void 0,width:l,height:c,offset:u},C?!0:m);Co(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Du(P),"]")),Array.isArray(P)&&(k=P)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(R8e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),O.createElement(M8e,Xc({},d,{offset:u,horizontalPoints:E,xAxis:w,yAxis:b})),O.createElement(I8e,Xc({},d,{offset:u,verticalPoints:k,xAxis:w,yAxis:b})),O.createElement(L8e,Xc({},d,{horizontalPoints:E})),O.createElement(D8e,Xc({},d,{verticalPoints:k})))}NG.displayName="CartesianGrid";function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}function U8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AG(n.key),n)}}function q8e(e,t,r){return t&&z8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W8e(e,t,r){return t=zb(t),V8e(e,CG()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function V8e(e,t){if(t&&(ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H8e(e)}function H8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CG=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function K8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MC(e,t)}function MC(e,t){return MC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},MC(e,t)}function PG(e,t,r){return t=AG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AG(e){var t=G8e(e,"string");return ah(t)=="symbol"?t:t+""}function G8e(e,t){if(ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IC(){return IC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IC.apply(this,arguments)}function J8e(e){var t=e.xAxisId,r=ZT(),n=eO(),s=mG(t);return s==null?null:O.createElement(Kh,IC({},s,{className:Qt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return jo(i,!0)}}))}var Gh=function(e){function t(){return U8e(this,t),W8e(this,t,arguments)}return K8e(t,e),q8e(t,[{key:"render",value:function(){return O.createElement(J8e,this.props)}}])}(O.Component);PG(Gh,"displayName","XAxis");PG(Gh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(e)}function Y8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$G(n.key),n)}}function Q8e(e,t,r){return t&&X8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z8e(e,t,r){return t=qb(t),eBe(e,TG()?Reflect.construct(t,r||[],qb(e).constructor):t.apply(e,r))}function eBe(e,t){if(t&&(ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tBe(e)}function tBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TG=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}function rBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LC(e,t)}function LC(e,t){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},LC(e,t)}function OG(e,t,r){return t=$G(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $G(e){var t=nBe(e,"string");return ih(t)=="symbol"?t:t+""}function nBe(e,t){if(ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DC(){return DC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DC.apply(this,arguments)}var sBe=function(t){var r=t.yAxisId,n=ZT(),s=eO(),a=gG(r);return a==null?null:O.createElement(Kh,DC({},a,{className:Qt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return jo(l,!0)}}))},Jh=function(e){function t(){return Y8e(this,t),Z8e(this,t,arguments)}return rBe(t,e),Q8e(t,[{key:"render",value:function(){return O.createElement(sBe,this.props)}}])}(O.Component);OG(Jh,"displayName","YAxis");OG(Jh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function JD(e){return lBe(e)||oBe(e)||iBe(e)||aBe()}function aBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iBe(e,t){if(e){if(typeof e=="string")return FC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FC(e,t)}}function oBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lBe(e){if(Array.isArray(e))return FC(e)}function FC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var BC=function(t,r,n,s,a){var i=ci(t,rO),l=ci(t,K1),c=[].concat(JD(i),JD(l)),u=ci(t,J1),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[d]===n&&Vi(v.props,"extendDomain")&&Ge(v.props[f])){var x=v.props[f];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},h)),u.length){var g="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&Vi(v.props,"extendDomain")&&Ge(v.props[g])&&Ge(v.props[y])){var x=v.props[g],w=v.props[y];return[Math.min(m[0],x,w),Math.max(m[1],x,w)]}return m},h)}return a&&a.length&&(h=a.reduce(function(m,v){return Ge(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},RG={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],g]:c._events[y].push(g):(c._events[y]=g,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,y=new Array(g);h<g;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,g,y){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,g),!0;case 6:return v.fn.call(v.context,d,f,h,g,y),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var _=v.length,S;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!w)for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];v[b].fn.apply(v[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return i(this,g),this;var y=this._events[g];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&i(this,g);else{for(var m=0,v=[],x=y.length;m<x;m++)(y[m].fn!==d||h&&!y[m].once||f&&y[m].context!==f)&&v.push(y[m]);v.length?this._events[g]=v.length===1?v[0]:v:i(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(RG);var cBe=RG.exports;const uBe=wr(cBe);var bj=new uBe,wj="recharts.syncMouseEvents";function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function dBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MG(n.key),n)}}function hBe(e,t,r){return t&&fBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _j(e,t,r){return t=MG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MG(e){var t=pBe(e,"string");return Zg(t)=="symbol"?t:t+""}function pBe(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mBe=function(){function e(){dBe(this,e),_j(this,"activeIndex",0),_j(this,"coordinateList",[]),_j(this,"layout","horizontal")}return hBe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,a=s===void 0?null:s,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,i=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function gBe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&Ge(n)&&Ge(s))return!0}return!1}function yBe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function IG(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,a=e.endAngle,i=qn(t,r,n,s),l=qn(t,r,n,a);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:a}}function vBe(e,t,r){var n,s,a,i;if(e==="horizontal")n=t.x,a=n,s=r.top,i=r.top+r.height;else if(e==="vertical")s=t.y,i=s,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=qn(l,c,u,f),g=qn(l,c,d,f);n=h.x,s=h.y,a=g.x,i=g.y}else return IG(t);return[{x:n,y:s},{x:a,y:i}]}function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function YD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function e0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(r),!0).forEach(function(n){xBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xBe(e,t,r){return t=bBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bBe(e){var t=wBe(e,"string");return ey(t)=="symbol"?t:t+""}function wBe(e,t){if(ey(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Be(e){var t,r,n=e.element,s=e.tooltipEventType,a=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,g=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!a||!i||h!=="ScatterChart"&&s!=="axis")return null;var y,m=K5;if(h==="ScatterChart")y=i,m=M5e;else if(h==="BarChart")y=yBe(f,i,c,d),m=JT;else if(f==="radial"){var v=IG(i),x=v.cx,w=v.cy,b=v.radius,_=v.startAngle,S=v.endAngle;y={cx:x,cy:w,startAngle:_,endAngle:S,innerRadius:b,outerRadius:b},m=BK}else y={points:vBe(f,i,c)},m=K5;var E=e0(e0(e0(e0({stroke:"#ccc",pointerEvents:"none"},c),y),sr(g,!1)),{},{payload:l,payloadIndex:u,className:Qt("recharts-tooltip-cursor",g.className)});return p.isValidElement(g)?p.cloneElement(g,E):p.createElement(m,E)}var SBe=["item"],jBe=["children","className","width","height","style","compact","title","desc"];function oh(e){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(e)}function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Am.apply(this,arguments)}function XD(e,t){return NBe(e)||EBe(e,t)||DG(e,t)||kBe()}function kBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function NBe(e){if(Array.isArray(e))return e}function QD(e,t){if(e==null)return{};var r=CBe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ABe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FG(n.key),n)}}function TBe(e,t,r){return t&&ABe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OBe(e,t,r){return t=Wb(t),$Be(e,LG()?Reflect.construct(t,r||[],Wb(e).constructor):t.apply(e,r))}function $Be(e,t){if(t&&(oh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RBe(e)}function RBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LG=function(){return!!e})()}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wb(e)}function MBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UC(e,t)}function UC(e,t){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},UC(e,t)}function lh(e){return DBe(e)||LBe(e)||DG(e)||IBe()}function IBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DG(e,t){if(e){if(typeof e=="string")return zC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zC(e,t)}}function LBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DBe(e){if(Array.isArray(e))return zC(e)}function zC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZD(Object(r),!0).forEach(function(n){Nt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nt(e,t,r){return t=FG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=FBe(e,"string");return oh(t)=="symbol"?t:t+""}function FBe(e,t){if(oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BBe={xAxis:["bottom","top"],yAxis:["left","right"]},UBe={width:"100%",height:"100%"},BG={x:0,y:0};function t0(e){return e}var zBe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},qBe=function(t,r,n,s){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var i=a.coordinate,l=s.radius;return _e(_e(_e({},s),qn(s.cx,s.cy,l,i)),{},{angle:i,radius:l})}var c=a.coordinate,u=s.angle;return _e(_e(_e({},s),qn(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return BG},Y1=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,a=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(lh(l),lh(u)):l},[]);return i.length>0?i:t&&t.length&&Ge(s)&&Ge(a)?t.slice(s,a+1):[]};function UG(e){return e==="number"?[0,"auto"]:void 0}var qC=function(t,r,n,s){var a=t.graphicalItems,i=t.tooltipAxis,l=Y1(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var g=f===void 0?l:f;h=_N(g,i.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(lh(c),[LK(u,h)]):c},[])},eF=function(t,r,n,s){var a=s||{x:t.chartX,y:t.chartY},i=zBe(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=y4e(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=qC(t,r,d,f),g=qBe(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},WBe=function(t,r){var n=r.axes,s=r.graphicalItems,a=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,g=RK(d,a);return n.reduce(function(y,m){var v,x=m.type.defaultProps!==void 0?_e(_e({},m.type.defaultProps),m.props):m.props,w=x.type,b=x.dataKey,_=x.allowDataOverflow,S=x.allowDuplicatedCategory,E=x.scale,k=x.ticks,j=x.includeHidden,N=x[i];if(y[N])return y;var C=Y1(t.data,{graphicalItems:s.filter(function(G){var H,Y=i in G.props?G.props[i]:(H=G.type.defaultProps)===null||H===void 0?void 0:H[i];return Y===N}),dataStartIndex:c,dataEndIndex:u}),P=C.length,R,F,z;gBe(x.domain,_,w)&&(R=cC(x.domain,null,_),g&&(w==="number"||E!=="auto")&&(z=Cm(C,b,"category")));var D=UG(w);if(!R||R.length===0){var I,B=(I=x.domain)!==null&&I!==void 0?I:D;if(b){if(R=Cm(C,b,w),w==="category"&&g){var T=aSe(R);S&&T?(F=R,R=Ob(0,P)):S||(R=R5(B,R,m).reduce(function(G,H){return G.indexOf(H)>=0?G:[].concat(lh(G),[H])},[]))}else if(w==="category")S?R=R.filter(function(G){return G!==""&&!cr(G)}):R=R5(B,R,m).reduce(function(G,H){return G.indexOf(H)>=0||H===""||cr(H)?G:[].concat(lh(G),[H])},[]);else if(w==="number"){var M=_4e(C,s.filter(function(G){var H,Y,ae=i in G.props?G.props[i]:(H=G.type.defaultProps)===null||H===void 0?void 0:H[i],V="hide"in G.props?G.props.hide:(Y=G.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return ae===N&&(j||!V)}),b,a,d);M&&(R=M)}g&&(w==="number"||E!=="auto")&&(z=Cm(C,b,"category"))}else g?R=Ob(0,P):l&&l[N]&&l[N].hasStack&&w==="number"?R=h==="expand"?[0,1]:IK(l[N].stackGroups,c,u):R=$K(C,s.filter(function(G){var H=i in G.props?G.props[i]:G.type.defaultProps[i],Y="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return H===N&&(j||!Y)}),w,d,!0);if(w==="number")R=BC(f,R,N,a,k),B&&(R=cC(B,R,_));else if(w==="category"&&B){var Z=B,L=R.every(function(G){return Z.indexOf(G)>=0});L&&(R=Z)}}return _e(_e({},y),{},Nt({},N,_e(_e({},x),{},{axisType:a,domain:R,categoricalDomain:z,duplicateDomain:F,originalDomain:(v=x.domain)!==null&&v!==void 0?v:D,isCategorical:g,layout:d})))},{})},VBe=function(t,r){var n=r.graphicalItems,s=r.Axis,a=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Y1(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),g=h.length,y=RK(d,a),m=-1;return n.reduce(function(v,x){var w=x.type.defaultProps!==void 0?_e(_e({},x.type.defaultProps),x.props):x.props,b=w[i],_=UG("number");if(!v[b]){m++;var S;return y?S=Ob(0,g):l&&l[b]&&l[b].hasStack?(S=IK(l[b].stackGroups,c,u),S=BC(f,S,b,a)):(S=cC(_,$K(h,n.filter(function(E){var k,j,N=i in E.props?E.props[i]:(k=E.type.defaultProps)===null||k===void 0?void 0:k[i],C="hide"in E.props?E.props.hide:(j=E.type.defaultProps)===null||j===void 0?void 0:j.hide;return N===b&&!C}),"number",d),s.defaultProps.allowDataOverflow),S=BC(f,S,b,a)),_e(_e({},v),{},Nt({},b,_e(_e({axisType:a},s.defaultProps),{},{hide:!0,orientation:Ra(BBe,"".concat(a,".").concat(m%2),null),domain:S,originalDomain:_,isCategorical:y,layout:d})))}return v},{})},HBe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,a=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=ci(d,a),g={};return h&&h.length?g=WBe(t,{axes:h,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(g=VBe(t,{Axis:a,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},KBe=function(t){var r=bl(t),n=jo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:wT(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Sb(r,n)}},tF=function(t){var r=t.children,n=t.defaultShowTooltip,s=ea(r,Zf),a=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(i=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},GBe=function(t){return!t||!t.length?!1:t.some(function(r){var n=No(r&&r.type);return n&&n.indexOf("Bar")>=0})},rF=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},JBe=function(t,r){var n=t.props,s=t.graphicalItems,a=t.xAxisMap,i=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},g=ea(f,Zf),y=ea(f,af),m=Object.keys(c).reduce(function(S,E){var k=c[E],j=k.orientation;return!k.mirror&&!k.hide?_e(_e({},S),{},Nt({},j,S[j]+k.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(i).reduce(function(S,E){var k=i[E],j=k.orientation;return!k.mirror&&!k.hide?_e(_e({},S),{},Nt({},j,Ra(S,"".concat(j))+k.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=_e(_e({},v),m),w=x.bottom;g&&(x.bottom+=g.props.height||Zf.defaultProps.height),y&&r&&(x=b4e(x,s,n,r));var b=u-x.left-x.right,_=d-x.top-x.bottom;return _e(_e({brushBottom:w},x),{},{width:Math.max(b,0),height:Math.max(_,0)})},YBe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},XBe=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,a=s===void 0?"axis":s,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,x){var w=x.graphicalItems,b=x.stackGroups,_=x.offset,S=x.updateId,E=x.dataStartIndex,k=x.dataEndIndex,j=v.barSize,N=v.layout,C=v.barGap,P=v.barCategoryGap,R=v.maxBarSize,F=rF(N),z=F.numericAxisName,D=F.cateAxisName,I=GBe(w),B=[];return w.forEach(function(T,M){var Z=Y1(v.data,{graphicalItems:[T],dataStartIndex:E,dataEndIndex:k}),L=T.type.defaultProps!==void 0?_e(_e({},T.type.defaultProps),T.props):T.props,G=L.dataKey,H=L.maxBarSize,Y=L["".concat(z,"Id")],ae=L["".concat(D,"Id")],V={},W=c.reduce(function(De,$){var q=x["".concat($.axisType,"Map")],fe=L["".concat($.axisType,"Id")];q&&q[fe]||$.axisType==="zAxis"||Lu();var be=q[fe];return _e(_e({},De),{},Nt(Nt({},$.axisType,be),"".concat($.axisType,"Ticks"),jo(be)))},V),J=W[D],K=W["".concat(D,"Ticks")],Q=b&&b[Y]&&b[Y].hasStack&&R4e(T,b[Y].stackGroups),se=No(T.type).indexOf("Bar")>=0,X=Sb(J,K),ce=[],oe=I&&v4e({barSize:j,stackGroups:b,totalSize:YBe(W,D)});if(se){var xe,pe,re=cr(H)?R:H,ee=(xe=(pe=Sb(J,K,!0))!==null&&pe!==void 0?pe:re)!==null&&xe!==void 0?xe:0;ce=x4e({barGap:C,barCategoryGap:P,bandSize:ee!==X?ee:X,sizeList:oe[ae],maxBarSize:re}),ee!==X&&(ce=ce.map(function(De){return _e(_e({},De),{},{position:_e(_e({},De.position),{},{offset:De.position.offset-ee/2})})}))}var ye=T&&T.type&&T.type.getComposedData;ye&&B.push({props:_e(_e({},ye(_e(_e({},W),{},{displayedData:Z,props:v,dataKey:G,item:T,bandSize:X,barPosition:ce,offset:_,stackedData:Q,layout:N,dataStartIndex:E,dataEndIndex:k}))),{},Nt(Nt(Nt({key:T.key||"item-".concat(M)},z,W[z]),D,W[D]),"animationId",S)),childIndex:gSe(T,v.children),item:T})}),B},g=function(v,x){var w=v.props,b=v.dataStartIndex,_=v.dataEndIndex,S=v.updateId;if(!C3({props:w}))return null;var E=w.children,k=w.layout,j=w.stackOffset,N=w.data,C=w.reverseStackOrder,P=rF(k),R=P.numericAxisName,F=P.cateAxisName,z=ci(E,n),D=T4e(N,z,"".concat(R,"Id"),"".concat(F,"Id"),j,C),I=c.reduce(function(L,G){var H="".concat(G.axisType,"Map");return _e(_e({},L),{},Nt({},H,HBe(w,_e(_e({},G),{},{graphicalItems:z,stackGroups:G.axisType===R&&D,dataStartIndex:b,dataEndIndex:_}))))},{}),B=JBe(_e(_e({},I),{},{props:w,graphicalItems:z}),x==null?void 0:x.legendBBox);Object.keys(I).forEach(function(L){I[L]=d(w,I[L],B,L.replace("Map",""),r)});var T=I["".concat(F,"Map")],M=KBe(T),Z=h(w,_e(_e({},I),{},{dataStartIndex:b,dataEndIndex:_,updateId:S,graphicalItems:z,stackGroups:D,offset:B}));return _e(_e({formattedGraphicalItems:Z,graphicalItems:z,offset:B,stackGroups:D},M),I)},y=function(m){function v(x){var w,b,_;return PBe(this,v),_=OBe(this,v,[x]),Nt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Nt(_,"accessibilityManager",new mBe),Nt(_,"handleLegendBBoxUpdate",function(S){if(S){var E=_.state,k=E.dataStartIndex,j=E.dataEndIndex,N=E.updateId;_.setState(_e({legendBBox:S},g({props:_.props,dataStartIndex:k,dataEndIndex:j,updateId:N},_e(_e({},_.state),{},{legendBBox:S}))))}}),Nt(_,"handleReceiveSyncEvent",function(S,E,k){if(_.props.syncId===S){if(k===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(E)}}),Nt(_,"handleBrushChange",function(S){var E=S.startIndex,k=S.endIndex;if(E!==_.state.dataStartIndex||k!==_.state.dataEndIndex){var j=_.state.updateId;_.setState(function(){return _e({dataStartIndex:E,dataEndIndex:k},g({props:_.props,dataStartIndex:E,dataEndIndex:k,updateId:j},_.state))}),_.triggerSyncEvent({dataStartIndex:E,dataEndIndex:k})}}),Nt(_,"handleMouseEnter",function(S){var E=_.getMouseInfo(S);if(E){var k=_e(_e({},E),{},{isTooltipActive:!0});_.setState(k),_.triggerSyncEvent(k);var j=_.props.onMouseEnter;zt(j)&&j(k,S)}}),Nt(_,"triggeredAfterMouseMove",function(S){var E=_.getMouseInfo(S),k=E?_e(_e({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(k),_.triggerSyncEvent(k);var j=_.props.onMouseMove;zt(j)&&j(k,S)}),Nt(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Nt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Nt(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),Nt(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var k=_.props.onMouseLeave;zt(k)&&k(E,S)}),Nt(_,"handleOuterEvent",function(S){var E=mSe(S),k=Ra(_.props,"".concat(E));if(E&&zt(k)){var j,N;/.*touch.*/i.test(E)?N=_.getMouseInfo(S.changedTouches[0]):N=_.getMouseInfo(S),k((j=N)!==null&&j!==void 0?j:{},S)}}),Nt(_,"handleClick",function(S){var E=_.getMouseInfo(S);if(E){var k=_e(_e({},E),{},{isTooltipActive:!0});_.setState(k),_.triggerSyncEvent(k);var j=_.props.onClick;zt(j)&&j(k,S)}}),Nt(_,"handleMouseDown",function(S){var E=_.props.onMouseDown;if(zt(E)){var k=_.getMouseInfo(S);E(k,S)}}),Nt(_,"handleMouseUp",function(S){var E=_.props.onMouseUp;if(zt(E)){var k=_.getMouseInfo(S);E(k,S)}}),Nt(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Nt(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),Nt(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),Nt(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&bj.emit(wj,_.props.syncId,S,_.eventEmitterSymbol)}),Nt(_,"applySyncEvent",function(S){var E=_.props,k=E.layout,j=E.syncMethod,N=_.state.updateId,C=S.dataStartIndex,P=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(_e({dataStartIndex:C,dataEndIndex:P},g({props:_.props,dataStartIndex:C,dataEndIndex:P,updateId:N},_.state)));else if(S.activeTooltipIndex!==void 0){var R=S.chartX,F=S.chartY,z=S.activeTooltipIndex,D=_.state,I=D.offset,B=D.tooltipTicks;if(!I)return;if(typeof j=="function")z=j(B,S);else if(j==="value"){z=-1;for(var T=0;T<B.length;T++)if(B[T].value===S.activeLabel){z=T;break}}var M=_e(_e({},I),{},{x:I.left,y:I.top}),Z=Math.min(R,M.x+M.width),L=Math.min(F,M.y+M.height),G=B[z]&&B[z].value,H=qC(_.state,_.props.data,z),Y=B[z]?{x:k==="horizontal"?B[z].coordinate:Z,y:k==="horizontal"?L:B[z].coordinate}:BG;_.setState(_e(_e({},S),{},{activeLabel:G,activeCoordinate:Y,activePayload:H,activeTooltipIndex:z}))}else _.setState(S)}),Nt(_,"renderCursor",function(S){var E,k=_.state,j=k.isTooltipActive,N=k.activeCoordinate,C=k.activePayload,P=k.offset,R=k.activeTooltipIndex,F=k.tooltipAxisBandSize,z=_.getTooltipEventType(),D=(E=S.props.active)!==null&&E!==void 0?E:j,I=_.props.layout,B=S.key||"_recharts-cursor";return O.createElement(_Be,{key:B,activeCoordinate:N,activePayload:C,activeTooltipIndex:R,chartName:r,element:S,isActive:D,layout:I,offset:P,tooltipAxisBandSize:F,tooltipEventType:z})}),Nt(_,"renderPolarAxis",function(S,E,k){var j=Ra(S,"type.axisType"),N=Ra(_.state,"".concat(j,"Map")),C=S.type.defaultProps,P=C!==void 0?_e(_e({},C),S.props):S.props,R=N&&N[P["".concat(j,"Id")]];return p.cloneElement(S,_e(_e({},R),{},{className:Qt(j,R.className),key:S.key||"".concat(E,"-").concat(k),ticks:jo(R,!0)}))}),Nt(_,"renderPolarGrid",function(S){var E=S.props,k=E.radialLines,j=E.polarAngles,N=E.polarRadius,C=_.state,P=C.radiusAxisMap,R=C.angleAxisMap,F=bl(P),z=bl(R),D=z.cx,I=z.cy,B=z.innerRadius,T=z.outerRadius;return p.cloneElement(S,{polarAngles:Array.isArray(j)?j:jo(z,!0).map(function(M){return M.coordinate}),polarRadius:Array.isArray(N)?N:jo(F,!0).map(function(M){return M.coordinate}),cx:D,cy:I,innerRadius:B,outerRadius:T,key:S.key||"polar-grid",radialLines:k})}),Nt(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,E=_.props,k=E.children,j=E.width,N=E.height,C=_.props.margin||{},P=j-(C.left||0)-(C.right||0),R=TK({children:k,formattedGraphicalItems:S,legendWidth:P,legendContent:u});if(!R)return null;var F=R.item,z=QD(R,SBe);return p.cloneElement(F,_e(_e({},z),{},{chartWidth:j,chartHeight:N,margin:C,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Nt(_,"renderTooltip",function(){var S,E=_.props,k=E.children,j=E.accessibilityLayer,N=ea(k,Ni);if(!N)return null;var C=_.state,P=C.isTooltipActive,R=C.activeCoordinate,F=C.activePayload,z=C.activeLabel,D=C.offset,I=(S=N.props.active)!==null&&S!==void 0?S:P;return p.cloneElement(N,{viewBox:_e(_e({},D),{},{x:D.left,y:D.top}),active:I,label:z,payload:I?F:[],coordinate:R,accessibilityLayer:j})}),Nt(_,"renderBrush",function(S){var E=_.props,k=E.margin,j=E.data,N=_.state,C=N.offset,P=N.dataStartIndex,R=N.dataEndIndex,F=N.updateId;return p.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Yv(_.handleBrushChange,S.props.onChange),data:j,x:Ge(S.props.x)?S.props.x:C.left,y:Ge(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(k.bottom||0),width:Ge(S.props.width)?S.props.width:C.width,startIndex:P,endIndex:R,updateId:"brush-".concat(F)})}),Nt(_,"renderReferenceElement",function(S,E,k){if(!S)return null;var j=_,N=j.clipPathId,C=_.state,P=C.xAxisMap,R=C.yAxisMap,F=C.offset,z=S.type.defaultProps||{},D=S.props,I=D.xAxisId,B=I===void 0?z.xAxisId:I,T=D.yAxisId,M=T===void 0?z.yAxisId:T;return p.cloneElement(S,{key:S.key||"".concat(E,"-").concat(k),xAxis:P[B],yAxis:R[M],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:N})}),Nt(_,"renderActivePoints",function(S){var E=S.item,k=S.activePoint,j=S.basePoint,N=S.childIndex,C=S.isRange,P=[],R=E.props.key,F=E.item.type.defaultProps!==void 0?_e(_e({},E.item.type.defaultProps),E.item.props):E.item.props,z=F.activeDot,D=F.dataKey,I=_e(_e({index:N,dataKey:D,cx:k.x,cy:k.y,r:4,fill:GT(E.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},sr(z,!1)),Gx(z));return P.push(v.renderActiveDot(z,I,"".concat(R,"-activePoint-").concat(N))),j?P.push(v.renderActiveDot(z,_e(_e({},I),{},{cx:j.x,cy:j.y}),"".concat(R,"-basePoint-").concat(N))):C&&P.push(null),P}),Nt(_,"renderGraphicChild",function(S,E,k){var j=_.filterFormatItem(S,E,k);if(!j)return null;var N=_.getTooltipEventType(),C=_.state,P=C.isTooltipActive,R=C.tooltipAxis,F=C.activeTooltipIndex,z=C.activeLabel,D=_.props.children,I=ea(D,Ni),B=j.props,T=B.points,M=B.isRange,Z=B.baseLine,L=j.item.type.defaultProps!==void 0?_e(_e({},j.item.type.defaultProps),j.item.props):j.item.props,G=L.activeDot,H=L.hide,Y=L.activeBar,ae=L.activeShape,V=!!(!H&&P&&I&&(G||Y||ae)),W={};N!=="axis"&&I&&I.props.trigger==="click"?W={onClick:Yv(_.handleItemMouseEnter,S.props.onClick)}:N!=="axis"&&(W={onMouseLeave:Yv(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Yv(_.handleItemMouseEnter,S.props.onMouseEnter)});var J=p.cloneElement(S,_e(_e({},j.props),W));function K($){return typeof R.dataKey=="function"?R.dataKey($.payload):null}if(V)if(F>=0){var Q,se;if(R.dataKey&&!R.allowDuplicatedCategory){var X=typeof R.dataKey=="function"?K:"payload.".concat(R.dataKey.toString());Q=_N(T,X,z),se=M&&Z&&_N(Z,X,z)}else Q=T==null?void 0:T[F],se=M&&Z&&Z[F];if(ae||Y){var ce=S.props.activeIndex!==void 0?S.props.activeIndex:F;return[p.cloneElement(S,_e(_e(_e({},j.props),W),{},{activeIndex:ce})),null,null]}if(!cr(Q))return[J].concat(lh(_.renderActivePoints({item:j,activePoint:Q,basePoint:se,childIndex:F,isRange:M})))}else{var oe,xe=(oe=_.getItemByXY(_.state.activeCoordinate))!==null&&oe!==void 0?oe:{graphicalItem:J},pe=xe.graphicalItem,re=pe.item,ee=re===void 0?S:re,ye=pe.childIndex,De=_e(_e(_e({},j.props),W),{},{activeIndex:ye});return[p.cloneElement(ee,De),null,null]}return M?[J,null,null]:[J,null]}),Nt(_,"renderCustomized",function(S,E,k){return p.cloneElement(S,_e(_e({key:"recharts-customized-".concat(k)},_.props),_.state))}),Nt(_,"renderMap",{CartesianGrid:{handler:t0,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:t0},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:t0},YAxis:{handler:t0},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:j1("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=TH(_.triggeredAfterMouseMove,(b=x.throttleDelay)!==null&&b!==void 0?b:1e3/60),_.state={},_}return MBe(v,m),TBe(v,[{key:"componentDidMount",value:function(){var w,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,b=w.children,_=w.data,S=w.height,E=w.layout,k=ea(b,Ni);if(k){var j=k.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,C=qC(this.state,_,j,N),P=this.state.tooltipTicks[j].coordinate,R=(this.state.offset.top+S)/2,F=E==="horizontal",z=F?{x:P,y:R}:{y:P,x:R},D=this.state.formattedGraphicalItems.find(function(B){var T=B.item;return T.type.name==="Scatter"});D&&(z=_e(_e({},z),D.props.points[j].tooltipPosition),C=D.props.points[j].tooltipPayload);var I={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:N,activePayload:C,activeCoordinate:z};this.setState(I),this.renderCursor(k),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){jN([ea(w.children,Ni)],[ea(this.props.children,Ni)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ea(this.props.children,Ni);if(w&&typeof w.props.shared=="boolean"){var b=w.props.shared?"axis":"item";return l.indexOf(b)>=0?b:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var b=this.container,_=b.getBoundingClientRect(),S=qOe(_),E={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},k=_.width/b.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,k);if(!j)return null;var N=this.state,C=N.xAxisMap,P=N.yAxisMap,R=this.getTooltipEventType();if(R!=="axis"&&C&&P){var F=bl(C).scale,z=bl(P).scale,D=F&&F.invert?F.invert(E.chartX):null,I=z&&z.invert?z.invert(E.chartY):null;return _e(_e({},E),{},{xValue:D,yValue:I})}var B=eF(this.state,this.props.data,this.props.layout,j);return B?_e(_e({},E),B):null}},{key:"inRange",value:function(w,b){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=w/_,k=b/_;if(S==="horizontal"||S==="vertical"){var j=this.state.offset,N=E>=j.left&&E<=j.left+j.width&&k>=j.top&&k<=j.top+j.height;return N?{x:E,y:k}:null}var C=this.state,P=C.angleAxisMap,R=C.radiusAxisMap;if(P&&R){var F=bl(P);return L5({x:E,y:k},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,b=this.getTooltipEventType(),_=ea(w,Ni),S={};_&&b==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=Gx(this.props,this.handleOuterEvent);return _e(_e({},E),S)}},{key:"addListener",value:function(){bj.on(wj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){bj.removeListener(wj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,b,_){for(var S=this.state.formattedGraphicalItems,E=0,k=S.length;E<k;E++){var j=S[E];if(j.item===w||j.props.key===w.key||b===No(j.item.type)&&_===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,b=this.state.offset,_=b.left,S=b.top,E=b.height,k=b.width;return O.createElement("defs",null,O.createElement("clipPath",{id:w},O.createElement("rect",{x:_,y:S,height:E,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(b,_){var S=XD(_,2),E=S[0],k=S[1];return _e(_e({},b),{},Nt({},E,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(b,_){var S=XD(_,2),E=S[0],k=S[1];return _e(_e({},b),{},Nt({},E,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var b;return(b=this.state.xAxisMap)===null||b===void 0||(b=b[w])===null||b===void 0?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(w){var b;return(b=this.state.yAxisMap)===null||b===void 0||(b=b[w])===null||b===void 0?void 0:b.scale}},{key:"getItemByXY",value:function(w){var b=this.state,_=b.formattedGraphicalItems,S=b.activeItem;if(_&&_.length)for(var E=0,k=_.length;E<k;E++){var j=_[E],N=j.props,C=j.item,P=C.type.defaultProps!==void 0?_e(_e({},C.type.defaultProps),C.props):C.props,R=No(C.type);if(R==="Bar"){var F=(N.data||[]).find(function(B){return k5e(w,B)});if(F)return{graphicalItem:j,payload:F}}else if(R==="RadialBar"){var z=(N.data||[]).find(function(B){return L5(w,B)});if(z)return{graphicalItem:j,payload:z}}else if(q1(j,S)||W1(j,S)||Gg(j,S)){var D=CDe({graphicalItem:j,activeTooltipItem:S,itemData:P.data}),I=P.activeIndex===void 0?D:P.activeIndex;return{graphicalItem:_e(_e({},j),{},{childIndex:I}),payload:Gg(j,S)?P.data[D]:j.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!C3(this))return null;var b=this.props,_=b.children,S=b.className,E=b.width,k=b.height,j=b.style,N=b.compact,C=b.title,P=b.desc,R=QD(b,jBe),F=sr(R,!1);if(N)return O.createElement(ID,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement(EN,Am({},F,{width:E,height:k,title:C,desc:P}),this.renderClipPath(),A3(_,this.renderMap)));if(this.props.accessibilityLayer){var z,D;F.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,F.role=(D=this.props.role)!==null&&D!==void 0?D:"application",F.onKeyDown=function(B){w.accessibilityManager.keyboardEvent(B)},F.onFocus=function(){w.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return O.createElement(ID,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement("div",Am({className:Qt("recharts-wrapper",S),style:_e({position:"relative",cursor:"default",width:E,height:k},j)},I,{ref:function(T){w.container=T}}),O.createElement(EN,Am({},F,{width:E,height:k,title:C,desc:P,style:UBe}),this.renderClipPath(),A3(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(p.Component);return Nt(y,"displayName",r),Nt(y,"defaultProps",_e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Nt(y,"getDerivedStateFromProps",function(m,v){var x=m.dataKey,w=m.data,b=m.children,_=m.width,S=m.height,E=m.layout,k=m.stackOffset,j=m.margin,N=v.dataStartIndex,C=v.dataEndIndex;if(v.updateId===void 0){var P=tF(m);return _e(_e(_e({},P),{},{updateId:0},g(_e(_e({props:m},P),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:w,prevWidth:_,prevHeight:S,prevLayout:E,prevStackOffset:k,prevMargin:j,prevChildren:b})}if(x!==v.prevDataKey||w!==v.prevData||_!==v.prevWidth||S!==v.prevHeight||E!==v.prevLayout||k!==v.prevStackOffset||!sf(j,v.prevMargin)){var R=tF(m),F={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},z=_e(_e({},eF(v,w,E)),{},{updateId:v.updateId+1}),D=_e(_e(_e({},R),F),z);return _e(_e(_e({},D),g(_e({props:m},D),v)),{},{prevDataKey:x,prevData:w,prevWidth:_,prevHeight:S,prevLayout:E,prevStackOffset:k,prevMargin:j,prevChildren:b})}if(!jN(b,v.prevChildren)){var I,B,T,M,Z=ea(b,Zf),L=Z&&(I=(B=Z.props)===null||B===void 0?void 0:B.startIndex)!==null&&I!==void 0?I:N,G=Z&&(T=(M=Z.props)===null||M===void 0?void 0:M.endIndex)!==null&&T!==void 0?T:C,H=L!==N||G!==C,Y=!cr(w),ae=Y&&!H?v.updateId:v.updateId+1;return _e(_e({updateId:ae},g(_e(_e({props:m},v),{},{updateId:ae,dataStartIndex:L,dataEndIndex:G}),v)),{},{prevChildren:b,dataStartIndex:L,dataEndIndex:G})}return null}),Nt(y,"renderActiveDot",function(m,v,x){var w;return p.isValidElement(m)?w=p.cloneElement(m,v):zt(m)?w=m(v):w=O.createElement(XK,v),O.createElement(Pn,{className:"recharts-active-dot",key:x},w)}),function(v){return O.createElement(y,v)}},aO=XBe({chartName:"BarChart",GraphicalChild:Go,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Gh},{axisType:"yAxis",AxisComp:Jh}],formatAxisMap:ZFe});const QBe={light:"",dark:".dark"},zG=p.createContext(null);function qG(){const e=p.useContext(zG);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const X1=p.forwardRef(({id:e,className:t,children:r,config:n,...s},a)=>{const i=p.useId(),l=`chart-${e||i.replace(/:/g,"")}`;return o.jsx(zG.Provider,{value:{config:n},children:o.jsxs("div",{"data-chart":l,ref:a,className:ue("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...s,children:[o.jsx(ZBe,{id:l,config:n}),o.jsx(IOe,{children:r})]})})});X1.displayName="Chart";const ZBe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,s])=>s.theme||s.color);return r.length?o.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(QBe).map(([n,s])=>`
${s} [data-chart=${e}] {
${r.map(([a,i])=>{var c;const l=((c=i.theme)==null?void 0:c[n])||i.color;return l?`  --color-${a}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},iO=Ni,eUe=p.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:s=!1,hideIndicator:a=!1,label:i,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},g)=>{const{config:y}=qG(),m=p.useMemo(()=>{var S;if(s||!(t!=null&&t.length))return null;const[x]=t,w=`${h||x.dataKey||x.name||"value"}`,b=WC(y,x,w),_=!h&&typeof i=="string"?((S=y[i])==null?void 0:S.label)||i:b==null?void 0:b.label;return l?o.jsx("div",{className:ue("font-medium",c),children:l(_,t)}):_?o.jsx("div",{className:ue("font-medium",c),children:_}):null},[i,l,t,s,c,y,h]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return o.jsxs("div",{ref:g,className:ue("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:m,o.jsx("div",{className:"grid gap-1.5",children:t.map((x,w)=>{const b=`${f||x.name||x.dataKey||"value"}`,_=WC(y,x,b),S=d||x.payload.fill||x.color;return o.jsx("div",{className:ue("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(x==null?void 0:x.value)!==void 0&&x.name?u(x.value,x.name,x,w,x.payload):o.jsxs(o.Fragment,{children:[_!=null&&_.icon?o.jsx(_.icon,{}):!a&&o.jsx("div",{className:ue("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),o.jsxs("div",{className:ue("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[o.jsxs("div",{className:"grid gap-1.5",children:[v?m:null,o.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||x.name})]}),x.value&&o.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});eUe.displayName="ChartTooltip";const tUe=p.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:s},a)=>{const{config:i}=qG();return r!=null&&r.length?o.jsx("div",{ref:a,className:ue("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${s||l.dataKey||"value"}`,u=WC(i,l,c);return o.jsxs("div",{className:ue("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?o.jsx(u.icon,{}):o.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});tUe.displayName="ChartLegend";function WC(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let s=r;return r in t&&typeof t[r]=="string"?s=t[r]:n&&r in n&&typeof n[r]=="string"&&(s=n[r]),s in e?e[s]:e[r]}const ch=p.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ch.displayName="Textarea";function rUe(e,t=[]){let r=[];function n(a,i){const l=p.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...y}=f,m=(h==null?void 0:h[e][c])||l,v=p.useMemo(()=>y,Object.values(y));return o.jsx(m.Provider,{value:v,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,y=p.useContext(g);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,nUe(s,...t)]}function nUe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function qy(e){const t=e+"CollectionProvider",[r,n]=rUe(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:y,children:m}=g,v=O.useRef(null),x=O.useRef(new Map).current;return o.jsx(s,{scope:y,itemMap:x,collectionRef:v,children:m})};i.displayName=t;const l=e+"CollectionSlot",c=O.forwardRef((g,y)=>{const{scope:m,children:v}=g,x=a(l,m),w=wt(y,x.collectionRef);return o.jsx(tc,{ref:w,children:v})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=O.forwardRef((g,y)=>{const{scope:m,children:v,...x}=g,w=O.useRef(null),b=wt(y,w),_=a(u,m);return O.useEffect(()=>(_.itemMap.set(w,{ref:w,...x}),()=>void _.itemMap.delete(w))),o.jsx(tc,{[d]:"",ref:b,children:v})});f.displayName=u;function h(g){const y=a(e+"CollectionConsumer",g);return O.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((_,S)=>x.indexOf(_.ref.current)-x.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},h,n]}function sUe(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var aUe="DismissableLayer",VC="dismissableLayer.update",iUe="dismissableLayer.pointerDownOutside",oUe="dismissableLayer.focusOutside",nF,WG=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),VG=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(WG),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),y=wt(t,k=>f(k)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=uUe(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=dUe(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return sUe(k=>{w===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(nF=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),sF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=nF)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),sF())},[d,u]),p.useEffect(()=>{const k=()=>g({});return document.addEventListener(VC,k),()=>document.removeEventListener(VC,k)},[]),o.jsx(nt.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,S.onPointerDownCapture)})});VG.displayName=aUe;var lUe="DismissableLayerBranch",cUe=p.forwardRef((e,t)=>{const r=p.useContext(WG),n=p.useRef(null),s=wt(t,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(nt.div,{...e,ref:s})});cUe.displayName=lUe;function uUe(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){HG(iUe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function dUe(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!n.current&&HG(oUe,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function sF(){const e=new CustomEvent(VC);document.dispatchEvent(e)}function HG(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?yy(s,a):s.dispatchEvent(a)}var Sj=0;function oO(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??aF()),document.body.insertAdjacentElement("beforeend",e[1]??aF()),Sj++,()=>{Sj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Sj--}},[])}function aF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var jj="focusScope.autoFocusOnMount",kj="focusScope.autoFocusOnUnmount",iF={bubbles:!1,cancelable:!0},fUe="FocusScope",KG=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=p.useState(null),u=Jt(s),d=Jt(a),f=p.useRef(null),h=wt(t,m=>c(m)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(b){if(g.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:ul(f.current,{select:!0})},v=function(b){if(g.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||ul(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&ul(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,g.paused]),p.useEffect(()=>{if(l){lF.add(g);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(jj,iF);l.addEventListener(jj,u),l.dispatchEvent(x),x.defaultPrevented||(hUe(vUe(GG(l)),{select:!0}),document.activeElement===m&&ul(l))}return()=>{l.removeEventListener(jj,u),setTimeout(()=>{const x=new CustomEvent(kj,iF);l.addEventListener(kj,d),l.dispatchEvent(x),x.defaultPrevented||ul(m??document.body,{select:!0}),l.removeEventListener(kj,d),lF.remove(g)},0)}}},[l,u,d,g]);const y=p.useCallback(m=>{if(!r&&!n||g.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const w=m.currentTarget,[b,_]=pUe(w);b&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&ul(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&ul(_,{select:!0})):x===w&&m.preventDefault()}},[r,n,g.paused]);return o.jsx(nt.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});KG.displayName=fUe;function hUe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ul(n,{select:t}),document.activeElement!==r)return}function pUe(e){const t=GG(e),r=oF(t,e),n=oF(t.reverse(),e);return[r,n]}function GG(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function oF(e,t){for(const r of e)if(!mUe(r,{upTo:t}))return r}function mUe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function gUe(e){return e instanceof HTMLInputElement&&"select"in e}function ul(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&gUe(e)&&t&&e.select()}}var lF=yUe();function yUe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=cF(e,t),e.unshift(t)},remove(t){var r;e=cF(e,t),(r=e[0])==null||r.resume()}}}function cF(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function vUe(e){return e.filter(t=>t.tagName!=="A")}var xUe="Portal",JG=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=p.useState(!1);tn(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?hy.createPortal(o.jsx(nt.div,{...n,ref:t}),i):null});JG.displayName=xUe;function Q1(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var YG=Bw(),Ej=function(){},Z1=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Ej,onWheelCapture:Ej,onTouchMoveCapture:Ej}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,y=e.inert,m=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,w=e.gapMode,b=jy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=Fw([r,t]),E=br(br({},b),s);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:YG,removeScrollBar:u,shards:f,noIsolation:g,inert:y,setCallbacks:a,allowPinchZoom:!!m,lockRef:r,gapMode:w}),i?p.cloneElement(p.Children.only(l),br(br({},E),{ref:S})):p.createElement(x,br({},E,{className:c,ref:S}),l))});Z1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Z1.classNames={fullWidth:pu,zeroRight:hu};var HC=!1;if(typeof window<"u")try{var r0=Object.defineProperty({},"passive",{get:function(){return HC=!0,!0}});window.addEventListener("test",r0,r0),window.removeEventListener("test",r0,r0)}catch{HC=!1}var fd=HC?{passive:!1}:!1,bUe=function(e){return e.tagName==="TEXTAREA"},XG=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!bUe(e)&&r[t]==="visible")},wUe=function(e){return XG(e,"overflowY")},_Ue=function(e){return XG(e,"overflowX")},uF=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=QG(e,n);if(s){var a=ZG(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},SUe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},jUe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},QG=function(e,t){return e==="v"?wUe(t):_Ue(t)},ZG=function(e,t){return e==="v"?SUe(t):jUe(t)},kUe=function(e,t){return e==="h"&&t==="rtl"?-1:1},EUe=function(e,t,r,n,s){var a=kUe(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=ZG(e,l),y=g[0],m=g[1],v=g[2],x=m-v-a*y;(y||x)&&QG(e,l)&&(f+=x,h+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},n0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dF=function(e){return[e.deltaX,e.deltaY]},fF=function(e){return e&&"current"in e?e.current:e},NUe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},CUe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},PUe=0,hd=[];function AUe(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(PUe++)[0],a=p.useState(ky)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Dw([e.lockRef.current],(e.shards||[]).map(fF),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var x=n0(m),w=r.current,b="deltaX"in m?m.deltaX:w[0]-x[0],_="deltaY"in m?m.deltaY:w[1]-x[1],S,E=m.target,k=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&E.type==="range")return!1;var j=uF(k,E);if(!j)return!0;if(j?S=k:(S=k==="v"?"h":"v",j=uF(k,E)),!j)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return EUe(N,v,m,N==="h"?b:_,!0)},[]),c=p.useCallback(function(m){var v=m;if(!(!hd.length||hd[hd.length-1]!==a)){var x="deltaY"in v?dF(v):n0(v),w=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&NUe(S.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(i.current.shards||[]).map(fF).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=b.length>0?l(v,b[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=p.useCallback(function(m,v,x,w){var b={name:m,delta:v,target:x,should:w,shadowParent:TUe(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=p.useCallback(function(m){r.current=n0(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,dF(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,n0(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return hd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,fd),document.addEventListener("touchmove",c,fd),document.addEventListener("touchstart",d,fd),function(){hd=hd.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,fd),document.removeEventListener("touchmove",c,fd),document.removeEventListener("touchstart",d,fd)}},[]);var g=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(a,{styles:CUe(s)}):null,g?p.createElement(qw,{gapMode:e.gapMode}):null)}function TUe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const OUe=Uw(YG,AUe);var eJ=p.forwardRef(function(e,t){return p.createElement(Z1,br({},e,{ref:t,sideCar:OUe}))});eJ.classNames=Z1.classNames;var $Ue=[" ","Enter","ArrowUp","ArrowDown"],RUe=[" ","Enter"],Wy="Select",[e_,t_,MUe]=qy(Wy),[Yh,nKe]=fa(Wy,[MUe,vh]),r_=vh(),[IUe,bc]=Yh(Wy),[LUe,DUe]=Yh(Wy),tJ=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:g,form:y}=e,m=r_(t),[v,x]=p.useState(null),[w,b]=p.useState(null),[_,S]=p.useState(!1),E=Ch(u),[k=!1,j]=pi({prop:n,defaultProp:s,onChange:a}),[N,C]=pi({prop:i,defaultProp:l,onChange:c}),P=p.useRef(null),R=v?y||!!v.closest("form"):!0,[F,z]=p.useState(new Set),D=Array.from(F).map(I=>I.props.value).join(";");return o.jsx(u7,{...m,children:o.jsxs(IUe,{required:g,scope:t,trigger:v,onTriggerChange:x,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:li(),value:N,onValueChange:C,open:k,onOpenChange:j,dir:E,triggerPointerDownPosRef:P,disabled:h,children:[o.jsx(e_.Provider,{scope:t,children:o.jsx(LUe,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(I=>{z(B=>new Set(B).add(I))},[]),onNativeOptionRemove:p.useCallback(I=>{z(B=>{const T=new Set(B);return T.delete(I),T})},[]),children:r})}),R?o.jsxs(EJ,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:I=>C(I.target.value),disabled:h,form:y,children:[N===void 0?o.jsx("option",{value:""}):null,Array.from(F)]},D):null]})})};tJ.displayName=Wy;var rJ="SelectTrigger",nJ=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=r_(r),i=bc(rJ,r),l=i.disabled||n,c=wt(t,i.onTriggerChange),u=t_(r),d=p.useRef("touch"),[f,h,g]=NJ(m=>{const v=u().filter(b=>!b.disabled),x=v.find(b=>b.value===i.value),w=CJ(v,m,x);w!==void 0&&i.onValueChange(w.value)}),y=m=>{l||(i.onOpenChange(!0),g()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(AP,{asChild:!0,...a,children:o.jsx(nt.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":kJ(i.value)?"":void 0,...s,ref:c,onClick:Le(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:Le(s.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:Le(s.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&$Ue.includes(m.key)&&(y(),m.preventDefault())})})})});nJ.displayName=rJ;var sJ="SelectValue",aJ=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...l}=e,c=bc(sJ,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=wt(t,c.onValueNodeChange);return tn(()=>{u(d)},[u,d]),o.jsx(nt.span,{...l,ref:f,style:{pointerEvents:"none"},children:kJ(c.value)?o.jsx(o.Fragment,{children:i}):a})});aJ.displayName=sJ;var FUe="SelectIcon",iJ=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(nt.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});iJ.displayName=FUe;var BUe="SelectPortal",oJ=e=>o.jsx(JG,{asChild:!0,...e});oJ.displayName=BUe;var Fu="SelectContent",lJ=p.forwardRef((e,t)=>{const r=bc(Fu,e.__scopeSelect),[n,s]=p.useState();if(tn(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?qu.createPortal(o.jsx(cJ,{scope:e.__scopeSelect,children:o.jsx(e_.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(uJ,{...e,ref:t})});lJ.displayName=Fu;var Ga=10,[cJ,wc]=Yh(Fu),UUe="SelectContentImpl",uJ=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:y,hideWhenDetached:m,avoidCollisions:v,...x}=e,w=bc(Fu,r),[b,_]=p.useState(null),[S,E]=p.useState(null),k=wt(t,W=>_(W)),[j,N]=p.useState(null),[C,P]=p.useState(null),R=t_(r),[F,z]=p.useState(!1),D=p.useRef(!1);p.useEffect(()=>{if(b)return Ww(b)},[b]),oO();const I=p.useCallback(W=>{const[J,...K]=R().map(X=>X.ref.current),[Q]=K.slice(-1),se=document.activeElement;for(const X of W)if(X===se||(X==null||X.scrollIntoView({block:"nearest"}),X===J&&S&&(S.scrollTop=0),X===Q&&S&&(S.scrollTop=S.scrollHeight),X==null||X.focus(),document.activeElement!==se))return},[R,S]),B=p.useCallback(()=>I([j,b]),[I,j,b]);p.useEffect(()=>{F&&B()},[F,B]);const{onOpenChange:T,triggerPointerDownPosRef:M}=w;p.useEffect(()=>{if(b){let W={x:0,y:0};const J=Q=>{var se,X;W={x:Math.abs(Math.round(Q.pageX)-(((se=M.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((X=M.current)==null?void 0:X.y)??0))}},K=Q=>{W.x<=10&&W.y<=10?Q.preventDefault():b.contains(Q.target)||T(!1),document.removeEventListener("pointermove",J),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",K,{capture:!0})}}},[b,T,M]),p.useEffect(()=>{const W=()=>T(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[T]);const[Z,L]=NJ(W=>{const J=R().filter(se=>!se.disabled),K=J.find(se=>se.ref.current===document.activeElement),Q=CJ(J,W,K);Q&&setTimeout(()=>Q.ref.current.focus())}),G=p.useCallback((W,J,K)=>{const Q=!D.current&&!K;(w.value!==void 0&&w.value===J||Q)&&(N(W),Q&&(D.current=!0))},[w.value]),H=p.useCallback(()=>b==null?void 0:b.focus(),[b]),Y=p.useCallback((W,J,K)=>{const Q=!D.current&&!K;(w.value!==void 0&&w.value===J||Q)&&P(W)},[w.value]),ae=n==="popper"?KC:dJ,V=ae===KC?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:y,hideWhenDetached:m,avoidCollisions:v}:{};return o.jsx(cJ,{scope:r,content:b,viewport:S,onViewportChange:E,itemRefCallback:G,selectedItem:j,onItemLeave:H,itemTextRefCallback:Y,focusSelectedItem:B,selectedItemText:C,position:n,isPositioned:F,searchRef:Z,children:o.jsx(eJ,{as:tc,allowPinchZoom:!0,children:o.jsx(KG,{asChild:!0,trapped:w.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:Le(s,W=>{var J;(J=w.trigger)==null||J.focus({preventScroll:!0}),W.preventDefault()}),children:o.jsx(VG,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(ae,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:W=>W.preventDefault(),...x,...V,onPlaced:()=>z(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Le(x.onKeyDown,W=>{const J=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!J&&W.key.length===1&&L(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let Q=R().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(W.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const se=W.target,X=Q.indexOf(se);Q=Q.slice(X+1)}setTimeout(()=>I(Q)),W.preventDefault()}})})})})})})});uJ.displayName=UUe;var zUe="SelectItemAlignedPosition",dJ=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=bc(Fu,r),i=wc(Fu,r),[l,c]=p.useState(null),[u,d]=p.useState(null),f=wt(t,k=>d(k)),h=t_(r),g=p.useRef(!1),y=p.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:w}=i,b=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&m&&v&&x){const k=a.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),N=a.valueNode.getBoundingClientRect(),C=x.getBoundingClientRect();if(a.dir!=="rtl"){const se=C.left-j.left,X=N.left-se,ce=k.left-X,oe=k.width+ce,xe=Math.max(oe,j.width),pe=window.innerWidth-Ga,re=dg(X,[Ga,Math.max(Ga,pe-xe)]);l.style.minWidth=oe+"px",l.style.left=re+"px"}else{const se=j.right-C.right,X=window.innerWidth-N.right-se,ce=window.innerWidth-k.right-X,oe=k.width+ce,xe=Math.max(oe,j.width),pe=window.innerWidth-Ga,re=dg(X,[Ga,Math.max(Ga,pe-xe)]);l.style.minWidth=oe+"px",l.style.right=re+"px"}const P=h(),R=window.innerHeight-Ga*2,F=m.scrollHeight,z=window.getComputedStyle(u),D=parseInt(z.borderTopWidth,10),I=parseInt(z.paddingTop,10),B=parseInt(z.borderBottomWidth,10),T=parseInt(z.paddingBottom,10),M=D+I+F+T+B,Z=Math.min(v.offsetHeight*5,M),L=window.getComputedStyle(m),G=parseInt(L.paddingTop,10),H=parseInt(L.paddingBottom,10),Y=k.top+k.height/2-Ga,ae=R-Y,V=v.offsetHeight/2,W=v.offsetTop+V,J=D+I+W,K=M-J;if(J<=Y){const se=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const X=u.clientHeight-m.offsetTop-m.offsetHeight,ce=Math.max(ae,V+(se?H:0)+X+B),oe=J+ce;l.style.height=oe+"px"}else{const se=P.length>0&&v===P[0].ref.current;l.style.top="0px";const ce=Math.max(Y,D+m.offsetTop+(se?G:0)+V)+K;l.style.height=ce+"px",m.scrollTop=J-Y+m.offsetTop}l.style.margin=`${Ga}px 0`,l.style.minHeight=Z+"px",l.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[h,a.trigger,a.valueNode,l,u,m,v,x,a.dir,n]);tn(()=>b(),[b]);const[_,S]=p.useState();tn(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=p.useCallback(k=>{k&&y.current===!0&&(b(),w==null||w(),y.current=!1)},[b,w]);return o.jsx(WUe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(nt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});dJ.displayName=zUe;var qUe="SelectPopperPosition",KC=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ga,...a}=e,i=r_(r);return o.jsx(TP,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});KC.displayName=qUe;var[WUe,lO]=Yh(Fu,{}),GC="SelectViewport",fJ=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=wc(GC,r),i=lO(GC,r),l=wt(t,a.onViewportChange),c=p.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(e_.Slot,{scope:r,children:o.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Le(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const y=window.innerHeight-Ga*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(m,v);if(x<y){const w=x+g,b=Math.min(y,w),_=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});fJ.displayName=GC;var hJ="SelectGroup",[VUe,HUe]=Yh(hJ),KUe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=li();return o.jsx(VUe,{scope:r,id:s,children:o.jsx(nt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});KUe.displayName=hJ;var pJ="SelectLabel",mJ=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=HUe(pJ,r);return o.jsx(nt.div,{id:s.id,...n,ref:t})});mJ.displayName=pJ;var Vb="SelectItem",[GUe,gJ]=Yh(Vb),yJ=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,l=bc(Vb,r),c=wc(Vb,r),u=l.value===n,[d,f]=p.useState(a??""),[h,g]=p.useState(!1),y=wt(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,n,s)}),m=li(),v=p.useRef("touch"),x=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(GUe,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:p.useCallback(w=>{f(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(e_.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(nt.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:y,onFocus:Le(i.onFocus,()=>g(!0)),onBlur:Le(i.onBlur,()=>g(!1)),onClick:Le(i.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:Le(i.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:Le(i.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:Le(i.onPointerMove,w=>{var b;v.current=w.pointerType,s?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(i.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Le(i.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(RUe.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});yJ.displayName=Vb;var em="SelectItemText",vJ=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=bc(em,r),l=wc(em,r),c=gJ(em,r),u=DUe(em,r),[d,f]=p.useState(null),h=wt(t,x=>f(x),c.onItemTextChange,x=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,x,c.value,c.disabled)}),g=d==null?void 0:d.textContent,y=p.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return tn(()=>(m(y),()=>v(y)),[m,v,y]),o.jsxs(o.Fragment,{children:[o.jsx(nt.span,{id:c.textId,...a,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?qu.createPortal(a.children,i.valueNode):null]})});vJ.displayName=em;var xJ="SelectItemIndicator",bJ=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return gJ(xJ,r).isSelected?o.jsx(nt.span,{"aria-hidden":!0,...n,ref:t}):null});bJ.displayName=xJ;var JC="SelectScrollUpButton",wJ=p.forwardRef((e,t)=>{const r=wc(JC,e.__scopeSelect),n=lO(JC,e.__scopeSelect),[s,a]=p.useState(!1),i=wt(t,n.onScrollButtonChange);return tn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(SJ,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});wJ.displayName=JC;var YC="SelectScrollDownButton",_J=p.forwardRef((e,t)=>{const r=wc(YC,e.__scopeSelect),n=lO(YC,e.__scopeSelect),[s,a]=p.useState(!1),i=wt(t,n.onScrollButtonChange);return tn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(SJ,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});_J.displayName=YC;var SJ=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=wc("SelectScrollButton",r),i=p.useRef(null),l=t_(r),c=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),tn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(nt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Le(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Le(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Le(s.onPointerLeave,()=>{c()})})}),JUe="SelectSeparator",jJ=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(nt.div,{"aria-hidden":!0,...n,ref:t})});jJ.displayName=JUe;var XC="SelectArrow",YUe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=r_(r),a=bc(XC,r),i=wc(XC,r);return a.open&&i.position==="popper"?o.jsx(OP,{...s,...n,ref:t}):null});YUe.displayName=XC;function kJ(e){return e===""||e===void 0}var EJ=p.forwardRef((e,t)=>{const{value:r,...n}=e,s=p.useRef(null),a=wt(t,s),i=Q1(r);return p.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[i,r]),o.jsx($P,{asChild:!0,children:o.jsx("select",{...n,ref:a,defaultValue:r})})});EJ.displayName="BubbleSelect";function NJ(e){const t=Jt(e),r=p.useRef(""),n=p.useRef(0),s=p.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function CJ(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=XUe(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function XUe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var QUe=tJ,PJ=nJ,ZUe=aJ,e7e=iJ,t7e=oJ,AJ=lJ,r7e=fJ,TJ=mJ,OJ=yJ,n7e=vJ,s7e=bJ,$J=wJ,RJ=_J,MJ=jJ;const si=QUe,ai=ZUe,Ca=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(PJ,{ref:n,className:ue("flex h-[3.2rem] w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(e7e,{asChild:!0,children:o.jsx(If,{className:"h-4 w-4 opacity-50"})})]}));Ca.displayName=PJ.displayName;const IJ=p.forwardRef(({className:e,...t},r)=>o.jsx($J,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Xue,{className:"h-4 w-4"})}));IJ.displayName=$J.displayName;const LJ=p.forwardRef(({className:e,...t},r)=>o.jsx(RJ,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(If,{className:"h-4 w-4"})}));LJ.displayName=RJ.displayName;const Pa=p.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(t7e,{children:o.jsxs(AJ,{ref:s,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(IJ,{}),o.jsx(r7e,{className:ue("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(LJ,{})]})}));Pa.displayName=AJ.displayName;const a7e=p.forwardRef(({className:e,...t},r)=>o.jsx(TJ,{ref:r,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));a7e.displayName=TJ.displayName;const hr=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(OJ,{ref:n,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(s7e,{children:o.jsx($w,{className:"h-4 w-4"})})}),o.jsx(n7e,{children:t})]}));hr.displayName=OJ.displayName;const i7e=p.forwardRef(({className:e,...t},r)=>o.jsx(MJ,{ref:r,className:ue("-mx-1 my-1 h-px bg-muted",e),...t}));i7e.displayName=MJ.displayName;const o7e=async({phoneNumber:e,code:t,sender:r="Breneo"})=>{throw new Error("SMS API key is not configured.")},l7e="breneo:phoneVerified",Rp=typeof window<"u",c7e=e=>e?e.toLowerCase():"user",u7e=(e,t,r)=>{const n=c7e(r);return`${l7e}:${n}:${t??e??"unknown"}`},DJ=e=>{const{phoneNumber:t,ownerId:r,role:n,initiallyVerified:s,sender:a="Breneo",resendDelaySeconds:i=60}=e,l=p.useMemo(()=>u7e(t??void 0,r,n),[r,t,n]),[c,u]=p.useState(()=>s?!0:Rp?localStorage.getItem(l)==="true":!1),[d,f]=p.useState(null),[h,g]=p.useState(!1),[y,m]=p.useState(""),[v,x]=p.useState(!1),[w,b]=p.useState(!1),[_,S]=p.useState(0);p.useEffect(()=>{typeof s=="boolean"&&s&&(u(!0),Rp&&localStorage.setItem(l,"true"))},[s,l]),p.useEffect(()=>{if(!t){u(!1),f(null),g(!1),m("");return}if(!s&&Rp){const C=localStorage.getItem(l);u(C==="true")}},[s,t,l]),p.useEffect(()=>{if(_<=0)return;const C=window.setInterval(()=>{S(P=>{const R=P-1;return R>=0?R:0})},1e3);return()=>window.clearInterval(C)},[_]);const E=()=>Math.floor(1e5+Math.random()*9e5).toString(),k=p.useCallback(async()=>{if(!t)throw new Error("Phone number is missing. Please add it before verifying.");if(_>0)throw new Error(`Please wait ${_} second${_===1?"":"s"} before requesting a new code.`);x(!0);try{const C=E();await o7e({phoneNumber:t,code:C,sender:a}),f(C),g(!0),S(i)}finally{x(!1)}},[t,_,i,a]),j=p.useCallback(async()=>{if(!h||!d)throw new Error("No verification code has been sent yet.");const C=y.replace(/\D/g,"");if(C.length!==6)throw new Error("Please enter the 6-digit verification code.");b(!0);try{if(C!==d)throw new Error("The verification code you entered is incorrect.");return u(!0),g(!1),f(null),m(""),Rp&&localStorage.setItem(l,"true"),!0}finally{b(!1)}},[y,h,d,l]),N=p.useCallback(()=>{u(!1),f(null),g(!1),m(""),S(0),Rp&&localStorage.removeItem(l)},[l]);return{isPhoneVerified:c,isSendingCode:v,isVerifyingCode:w,codeSent:h,codeInput:y,resendCooldown:_,sendCode:k,verifyCode:j,setCodeInput:m,resetVerification:N}},hF=e=>e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:`/${e}`:"/lovable-uploads/no_photo.png",d7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),f7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),h7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})}),p7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})}),m7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),g7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.921h-6.466v-14.921h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.015zm-3.466-8.921h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"})}),Nj=(e,t)=>{const r={className:t||"h-5 w-5"};switch(e){case"github":return o.jsx(d7e,{...r});case"linkedin":return o.jsx(f7e,{...r});case"facebook":return o.jsx(h7e,{...r});case"instagram":return o.jsx(p7e,{...r});case"dribbble":return o.jsx(m7e,{...r});case"behance":return o.jsx(g7e,{...r});default:return o.jsx(XP,{className:t||"h-5 w-5"})}},Mp={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram",dribbble:"Dribbble",behance:"Behance"},y7e=e=>{const t=[],r=[e.job_title||e.title||"",e.description||e.job_description||"",e.job_required_experience||e.required_experience||""].join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]};return Object.keys(n).forEach(s=>{n[s].some(i=>r.includes(i))&&t.push(s)}),[...new Set(t)]},v7e=()=>{var Cr,On;const{user:e,loading:t,logout:r}=_r(),n=ha(),s=dr(),a=Hs(),i=Vs(),l=Zi(),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,g]=p.useState(null),[y,m]=p.useState(!1),[v,x]=p.useState(null),[w,b]=p.useState(null),[_,S]=p.useState("profile"),[E,k]=p.useState("courses"),[j,N]=p.useState(!1),[C,P]=p.useState(Date.now());p.useEffect(()=>{const ie=a.hash;ie==="#saved"||ie==="#savedjobs"||ie==="#savedcourses"?(S("saved"),k(ie==="#savedjobs"?"jobs":"courses")):S("profile")},[a.hash]),p.useEffect(()=>{e!=null&&e.profile_image&&b(e.profile_image)},[e==null?void 0:e.profile_image]);const[R,F]=p.useState(!1),[z,D]=p.useState(""),[I,B]=p.useState(!1),[T,M]=p.useState(!1),[Z,L]=p.useState(!1),[G,H]=p.useState(""),[Y,ae]=p.useState(""),[V,W]=p.useState(!1),[J,K]=p.useState({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}),[Q,se]=p.useState(!1),[X,ce]=p.useState(!1),[oe,xe]=p.useState(null),[pe,re]=p.useState({platform:"",url:""}),[ee,ye]=p.useState(!1),[De,$]=p.useState(!1),q=p.useRef(!1),fe=p.useRef(null),be=p.useRef(null),{data:qe=[]}=Xt({queryKey:["savedCourseIds",e==null?void 0:e.id],queryFn:async()=>{var ie;if(!(e!=null&&e.id))return[];try{return(((ie=(await Ae.get(gt.AUTH.PROFILE)).data)==null?void 0:ie.saved_courses)||[]).map(He=>String(He))}catch(Ne){return console.error("Error fetching saved course IDs:",Ne),[]}},enabled:!!(e!=null&&e.id)}),{data:We=[],isLoading:Ye}=Xt({queryKey:["savedCourses",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];try{const ie=await Ae.get(gt.AUTH.PROFILE);let Ne=[];if(ie.data&&typeof ie.data=="object"){const ge=ie.data;if(Array.isArray(ge.saved_courses))Ne=ge.saved_courses.map($e=>String($e));else if(ge.profile&&typeof ge.profile=="object"){const $e=ge.profile;Array.isArray($e.saved_courses)&&(Ne=$e.saved_courses.map(Oe=>String(Oe)))}else if(ge.user&&typeof ge.user=="object"){const $e=ge.user;Array.isArray($e.saved_courses)&&(Ne=$e.saved_courses.map(Oe=>String(Oe)))}}if(!Ne||Ne.length===0)return[];const Fe=Ne,{data:He,error:ct}=await Vt.from("courses").select("id, title, provider, category, level, duration, image, description, academy_id").in("id",Fe);if(ct)return console.error("Error fetching course details from Supabase:",ct),[];const Tt=[...new Set((He==null?void 0:He.map(ge=>ge.academy_id).filter(ge=>!!ge))||[])],mt=new Map;return Tt.length>0&&await Promise.all(Tt.map(async ge=>{try{const $e=await Ae.get(`${gt.ACADEMY.DETAIL}${ge}/`);if($e.data){const Oe=$e.data,Se=Oe.profile_data||Oe,Ue=(dt,Et=Se)=>{const ar=Et[dt];return typeof ar=="string"?ar:void 0},Ke=Ue("logo_url",Se)||Ue("logoUrl",Se)||Ue("logo",Se)||Ue("logo_url",Oe)||Ue("logoUrl",Oe)||null;mt.set(ge,Ke)}}catch{console.debug(`Could not fetch academy profile for ${ge}`),mt.set(ge,null)}})),(He||[]).map(ge=>{const $e=ge.academy_id&&mt.has(ge.academy_id)&&mt.get(ge.academy_id)||null;return{id:ge.id,title:ge.title||"",provider:ge.provider||"",category:ge.category||"",level:ge.level||"",duration:ge.duration||"",image:hF(ge.image),description:ge.description||"",academy_id:ge.academy_id||null,academy_logo:$e?hF($e):null}})}catch(ie){return console.error("Error fetching saved courses from API profile:",ie),[]}},enabled:!!(e!=null&&e.id)}),Pe=ca({mutationFn:async ie=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Ae.post(`/api/save-course/${ie}/`)},onMutate:async ie=>{await i.cancelQueries({queryKey:["savedCourses",e==null?void 0:e.id]});const Ne=i.getQueryData(["savedCourses",e==null?void 0:e.id]);return i.setQueryData(["savedCourses",e==null?void 0:e.id],Fe=>{if(!Fe)return Fe;const He=String(ie);return Fe.includes(He)?Fe.filter(ct=>ct!==He):[...Fe,He]}),{previousSavedCourses:Ne}},onError:(ie,Ne,Fe)=>{Fe!=null&&Fe.previousSavedCourses&&(e!=null&&e.id)&&i.setQueryData(["savedCourses",e==null?void 0:e.id],Fe.previousSavedCourses),console.error("Error updating saved courses:",ie),le.error("Failed to update saved courses. Please try again.")},onSuccess:(ie,Ne)=>{i.invalidateQueries({queryKey:["savedCourses",e==null?void 0:e.id]}),i.invalidateQueries({queryKey:["profile"]});const Fe=i.getQueryData(["savedCourses",e==null?void 0:e.id]),He=Fe==null?void 0:Fe.includes(String(Ne));le.success(He?"Removed from saved courses.":"Course saved to your profile.")}}),{data:he=[]}=Xt({queryKey:["savedJobIds",e==null?void 0:e.id],queryFn:async()=>{var ie;if(!(e!=null&&e.id))return[];try{const Fe=((ie=(await Ae.get(gt.AUTH.PROFILE)).data)==null?void 0:ie.saved_jobs)||[];return Array.isArray(Fe)?Fe.map(He=>{if(typeof He=="string"||typeof He=="number")return String(He);if(He&&typeof He=="object"){const ct=He;if(ct.id)return String(ct.id);if(ct.job_id)return String(ct.job_id)}return null}).filter(He=>He!==null):[]}catch(Ne){return console.error("Error fetching saved job IDs:",Ne),[]}},enabled:!!(e!=null&&e.id)}),{data:je=[],isLoading:Ee}=Xt({queryKey:["savedJobs",e==null?void 0:e.id,c],queryFn:async()=>{var ie;if(!(e!=null&&e.id))return[];try{const Fe=((ie=(await Ae.get(gt.AUTH.PROFILE)).data)==null?void 0:ie.saved_jobs)||[];if(!Array.isArray(Fe)||Fe.length===0)return[];const ct=Fe.map(mt=>{if(typeof mt=="string"||typeof mt=="number")return String(mt);if(mt&&typeof mt=="object"){const ge=mt;if(ge.id)return String(ge.id);if(ge.job_id)return String(ge.job_id)}return null}).filter(mt=>mt!==null).map(async mt=>{try{const ge=await n1(mt);if(!ge)return null;const $e=ge.title||ge.job_title||ge.position||"Untitled Position",Oe=ge.company_name||ge.employer_name||(typeof ge.company=="string"?ge.company:null)||"Unknown Company",Se=ge.job_city||ge.city||"",Ue=ge.job_state||ge.state||"",Ke=ge.job_country||ge.country||"",dt=ge.job_location||ge.location||[Se,Ue,Ke].filter(Boolean).join(", ")||"Location not specified",Et=ge.employer_logo||ge.company_logo||ge.companyLogo||ge.logo_url||(typeof ge.company=="object"&&ge.company?ge.company.logo||ge.company.company_logo:void 0);let ar="By agreement";const Fr=ge.job_min_salary||ge.min_salary,xt=ge.job_max_salary||ge.max_salary,It=ge.job_salary_currency||ge.salary_currency||"$",gr=ge.job_salary_period||ge.salary_period||"yearly";if(Fr&&xt&&typeof Fr=="number"&&typeof xt=="number"){const tr=gr==="monthly"?"Monthly":"",pa=Fr.toLocaleString(),_i=xt.toLocaleString();["$","","","","",""].some(so=>It.includes(so))?ar=`${It}${pa} - ${It}${_i}${tr?`/${tr}`:""}`:ar=`${pa} - ${_i} ${It}${tr?`/${tr}`:""}`}else if(Fr&&typeof Fr=="number"){const tr=Fr.toLocaleString();ar=["$","","","","",""].some(Xu=>It.includes(Xu))?`${It}${tr}+`:`${tr}+ ${It}`}else ge.salary&&typeof ge.salary=="string"&&(ar=ge.salary);const Gs=ge.job_employment_type||ge.employment_type||ge.type||"FULLTIME",no={FULLTIME:"Full time",PARTTIME:"Part time",CONTRACTOR:"Contract",INTERN:"Internship"}[Gs]||Gs||"Full time";let ir="On-site";ge.job_is_remote||ge.is_remote||ge.remote===!0?ir="Remote":$e!=null&&$e.toLowerCase().includes("hybrid")&&(ir="Hybrid");let $n=0;if(c!=null&&c.skills_json){const tr=c.skills_json.tech||{},pa=c.skills_json.soft||{},_i=[...Object.keys(tr),...Object.keys(pa)],Xu=y7e(ge);$n=Jl(_i,Xu,$e)}return{id:mt,title:$e,company:Oe,location:typeof dt=="string"?dt:"Location not specified",url:ge.url||"",company_logo:Et,salary:ar,employment_type:no,work_arrangement:ir,matchPercentage:$n}}catch(ge){return console.error(`Error fetching job detail for ID ${mt}:`,ge),null}});return(await Promise.all(ct)).filter(mt=>mt!==null&&mt.title!==`Job ${mt.id}`)}catch(Ne){return console.error("Error fetching saved jobs:",Ne),[]}},enabled:!!(e!=null&&e.id)}),Me=ca({mutationFn:async ie=>{if(!(e!=null&&e.id))throw new Error("Please log in to save jobs.");await Ae.post(`${gt.JOBS.SAVE_JOB}${ie}/`)},onMutate:async ie=>{await i.cancelQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),await i.cancelQueries({queryKey:["savedJobs",e==null?void 0:e.id]});const Ne=i.getQueryData(["savedJobIds",e==null?void 0:e.id]);return i.setQueryData(["savedJobIds",e==null?void 0:e.id],Fe=>{if(!Fe)return Fe;const He=String(ie);return Fe.includes(He)?Fe.filter(ct=>ct!==He):[...Fe,He]}),{previousSavedJobIds:Ne}},onError:(ie,Ne,Fe)=>{Fe!=null&&Fe.previousSavedJobIds&&(e!=null&&e.id)&&i.setQueryData(["savedJobIds",e==null?void 0:e.id],Fe.previousSavedJobIds),console.error("Error updating saved jobs:",ie),le.error("Failed to update saved jobs. Please try again.")},onSuccess:(ie,Ne)=>{i.invalidateQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),i.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),i.invalidateQueries({queryKey:["profile"]});const Fe=i.getQueryData(["savedJobIds",e==null?void 0:e.id]),He=Fe==null?void 0:Fe.includes(String(Ne));le.success(He?"Removed from saved jobs.":"Job saved to your profile.")}}),ht=O.useMemo(()=>{const ie=(He,ct)=>{if(He&&typeof He=="object")return He[ct]},Ne=h;return[ie(Ne,"phone_verified"),ie(Ne,"is_phone_verified"),ie(ie(Ne,"profile"),"phone_verified"),ie(ie(Ne,"profile"),"is_phone_verified"),ie(ie(Ne,"user"),"phone_verified"),ie(ie(Ne,"user"),"is_phone_verified"),ie(e,"phone_verified"),ie(e,"is_phone_verified")].some(He=>He===!0||He==="true")},[h,e]);p.useEffect(()=>{(async()=>{if(e){f(!0);try{const Ne=await Ae.get(`/api/skilltest/results/?user=${e.id}`);Array.isArray(Ne.data)&&Ne.data.length>0?u(Ne.data[0]):Ne.data&&typeof Ne.data=="object"&&u(Ne.data)}catch{u(null)}finally{f(!1)}}})()},[e]),p.useEffect(()=>{},[c]),p.useEffect(()=>{(async()=>{var Fe,He,ct,Tt,mt,ge,$e,Oe,Se,Ue,Ke,dt,Et,ar,Fr,xt,It,gr,Gs,Xo;if(!e)return;m(!0);const Ne=localStorage.getItem("authToken");try{const no=Ne?{Authorization:`Bearer ${Ne}`}:{},ir=await Ae.get("/api/profile/",{headers:no});if(!ir.data){console.warn(" No data in response"),g(null),x(null),b(null);return}g(ir.data),(Fe=ir.data)!=null&&Fe.profile,(He=ir.data)!=null&&He.user;const _c=((ct=ir.data)==null?void 0:ct.about_me)||((mt=(Tt=ir.data)==null?void 0:Tt.profile)==null?void 0:mt.about_me)||(($e=(ge=ir.data)==null?void 0:ge.user)==null?void 0:$e.about_me)||null;x(_c),D(_c||"");const $n=((Oe=ir.data)==null?void 0:Oe.profile_image)||((Ue=(Se=ir.data)==null?void 0:Se.profile)==null?void 0:Ue.profile_image)||((dt=(Ke=ir.data)==null?void 0:Ke.user)==null?void 0:dt.profile_image)||null;b($n);const tr=((Et=ir.data)==null?void 0:Et.social_links)||((Fr=(ar=ir.data)==null?void 0:ar.profile)==null?void 0:Fr.social_links)||((It=(xt=ir.data)==null?void 0:xt.user)==null?void 0:It.social_links)||((gr=ir.data)==null?void 0:gr.social_networks)||((Xo=(Gs=ir.data)==null?void 0:Gs.profile)==null?void 0:Xo.social_networks)||null;tr&&typeof tr=="object"&&K({github:tr.github||"",linkedin:tr.linkedin||"",facebook:tr.facebook||"",instagram:tr.instagram||"",dribbble:tr.dribbble||"",behance:tr.behance||""}),Object.entries(ir.data||{}).forEach(([pa,_i])=>{pa!=="profile"&&pa!=="user"&&console.log(`  - ${pa}:`,_i)})}catch(no){console.error(" Error fetching profile data:",no),g(null),x(null),b(null)}finally{m(!1)}})()},[e]),p.useEffect(()=>{var Ne,Fe,He;if(!e||q.current)return;const ie=h?JSON.stringify({social_links:h.social_links,profile_social_links:h.profile&&typeof h.profile=="object"&&"social_links"in h.profile?h.profile.social_links:void 0,user_social_links:h.user&&typeof h.user=="object"&&"social_links"in h.user?h.user.social_links:void 0}):null;if(be.current!==ie){be.current=ie,se(!0);try{if(h){const ct=(h==null?void 0:h.social_links)||((Ne=h.profile)==null?void 0:Ne.social_links)||((Fe=h.user)==null?void 0:Fe.social_links)||(h==null?void 0:h.social_networks)||((He=h.profile)==null?void 0:He.social_networks)||null;if(ct&&typeof ct=="object"){const Tt={github:ct.github||"",linkedin:ct.linkedin||"",facebook:ct.facebook||"",instagram:ct.instagram||"",dribbble:ct.dribbble||"",behance:ct.behance||""};console.log(" Setting social links to:",Tt),K(mt=>Object.keys(Tt).some($e=>mt[$e]!==Tt[$e])?Tt:mt)}else console.log(" No social links found in profile data"),K(Tt=>Object.values(Tt).some(ge=>ge&&ge.trim()!=="")?(console.log(" Keeping existing social links:",Tt),Tt):{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}else console.log(" Profile data not loaded yet"),K(ct=>Object.values(ct).some(mt=>mt&&mt.trim()!=="")?ct:{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}catch(ct){console.error(" Error extracting social links from profile:",ct),K(Tt=>Object.values(Tt).some(ge=>ge&&ge.trim()!=="")?Tt:{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}finally{se(!1)}}},[e==null?void 0:e.id,h]),p.useEffect(()=>()=>{fe.current&&clearTimeout(fe.current)},[]);const{first_name:ut,last_name:Ct,email:at,phone_number:kt}=e||{};if(DJ({phoneNumber:kt||"",ownerId:e==null?void 0:e.id,role:e==null?void 0:e.user_type,initiallyVerified:ht}),t)return o.jsx(Ot,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Loading profile..."})})});if(!e)return o.jsx(Ot,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Could not load user data. Please try logging in again."})})});const we=()=>{$(!0)},Be=()=>{$(!1),r()},Ie=()=>{$(!1)},Ve=async ie=>{var Fe,He,ct,Tt,mt,ge;const Ne=(Fe=ie.target.files)==null?void 0:Fe[0];if(Ne){if(!Ne.type.startsWith("image/")){alert("Please select an image file");return}if(Ne.size>5*1024*1024){alert("Image size should be less than 5MB");return}N(!0),b(null);try{const $e=new FormData;$e.append("profile_image",Ne);const Oe=localStorage.getItem("authToken"),Se=await Ae.patch("/api/profile/",$e,{headers:{Authorization:Oe?`Bearer ${Oe}`:void 0,"Content-Type":"multipart/form-data"}});console.log(" Image upload response:",Se.data);const Ue=((He=Se.data)==null?void 0:He.profile_image)||((Tt=(ct=Se.data)==null?void 0:ct.profile)==null?void 0:Tt.profile_image)||((ge=(mt=Se.data)==null?void 0:mt.user)==null?void 0:ge.profile_image)||null;b(Ue),P(Date.now()),le.success("Profile image has been updated successfully."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image uploaded successfully")}catch($e){console.error(" Error uploading profile image:",$e),alert("Failed to upload profile image. Please try again.")}finally{N(!1)}}},ft=()=>{M(!0)},er=()=>{var ie;(ie=document.getElementById("profile-image-input"))==null||ie.click(),M(!1)},A=async()=>{if(e){if(!confirm("Are you sure you want to remove your profile image?")){M(!1);return}N(!0),M(!1);try{const ie=localStorage.getItem("authToken"),Ne=await Ae.patch("/api/profile/",{profile_image:null},{headers:{Authorization:ie?`Bearer ${ie}`:void 0}});console.log(" Image removal response:",Ne.data),b(null),P(Date.now());const Fe=await Ae.get("/api/profile/",{headers:{Authorization:ie?`Bearer ${ie}`:void 0}});g(Fe.data),le.success("Profile image has been removed."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image removed successfully")}catch(ie){console.error(" Error removing profile image:",ie),le.error("Failed to remove profile image. Please try again.")}finally{N(!1)}}},U=()=>{D(v||""),F(!0)},de=()=>{xe(null),re({platform:"",url:""}),ce(!0)},Te=ie=>{xe(ie),re({platform:ie,url:J[ie]||""}),ce(!0)},tt=ie=>{const Ne=ie.trim();return!Ne||Ne.startsWith("http://")||Ne.startsWith("https://")?Ne:`https://${Ne}`},bt=ie=>{try{const Ne=new URL(tt(ie));return Ne.protocol==="http:"||Ne.protocol==="https:"}catch{return!1}},At=async()=>{var ie,Ne,Fe,He,ct,Tt,mt,ge,$e,Oe,Se;if(console.log(" handleSaveSocialLink called"),console.log(" Form data:",pe),console.log(" User:",e),console.log(" Current social links:",J),!e){console.error(" No user found"),le.error("Please log in to save social links.");return}if(!pe.platform||!pe.url.trim()){console.error(" Missing platform or URL"),le.error("Please select a platform and provide a URL.");return}if(!bt(pe.url)){console.error(" Invalid URL:",pe.url),le.error("Please enter a valid URL (e.g., https://example.com or example.com).");return}console.log(" Validation passed, starting save..."),ye(!0);try{const Ue=pe.platform,Ke=localStorage.getItem("authToken"),dt=tt(pe.url.trim()),Et={...J,[Ue]:dt},ar={};Object.entries(Et).forEach(([xt,It])=>{It&&It.trim()!==""&&(ar[xt]=It)}),console.log(" Sending social links to API:",ar),console.log(" Platform:",Ue),console.log(" Normalized URL:",dt),console.log(" Full payload:",JSON.stringify({social_links:ar},null,2)),q.current=!0,fe.current&&clearTimeout(fe.current),console.log(" Manual update flag set to true"),K(Et),console.log(" Updated local state immediately:",Et);let Fr;try{console.log(" Attempting PATCH with social_links object..."),Fr=await Ae.patch(gt.AUTH.PROFILE,{social_links:ar},{headers:{Authorization:Ke?`Bearer ${Ke}`:void 0,"Content-Type":"application/json"}}),console.log(" PATCH successful with social_links object")}catch(xt){if(console.error(" PATCH with social_links object failed, error:",xt),((ie=xt.response)==null?void 0:ie.status)===400){console.log(" Trying alternative format - sending individual fields...");try{const gr={};Object.entries(ar).forEach(([Gs,Xo])=>{gr[Gs]=Xo}),console.log(" Trying individual fields payload:",gr),Fr=await Ae.patch(gt.AUTH.PROFILE,gr,{headers:{Authorization:Ke?`Bearer ${Ke}`:void 0,"Content-Type":"application/json"}}),console.log(" PATCH successful with individual fields")}catch(gr){throw console.error(" PATCH with individual fields also failed:",gr),q.current=!1,xt}}else throw q.current=!1,xt}console.log(" Response status:",Fr.status),console.log(" Response data:",JSON.stringify(Fr.data,null,2)),console.log(" Response headers:",Fr.headers);try{console.log(" Refetching profile data to verify save...");const xt=await Ae.get(gt.AUTH.PROFILE,{headers:{Authorization:Ke?`Bearer ${Ke}`:void 0}});if(console.log(" Refreshed profile data:",JSON.stringify(xt.data,null,2)),xt.data){const It=xt.data;g(xt.data);const gr=(It==null?void 0:It.social_links)||((Ne=It==null?void 0:It.profile)==null?void 0:Ne.social_links)||((Fe=It==null?void 0:It.user)==null?void 0:Fe.social_links)||null;if(console.log(" Social links from refreshed profile:",gr),gr&&typeof gr=="object"&&!Array.isArray(gr)){const Gs={github:gr.github||"",linkedin:gr.linkedin||"",facebook:gr.facebook||"",instagram:gr.instagram||"",dribbble:gr.dribbble||"",behance:gr.behance||""};console.log(" Setting social links from refreshed data:",Gs),K(Gs)}else console.log(" No social links in refreshed data, checking if our update was saved..."),console.log(" Keeping local update:",Et)}}catch(xt){console.error(" Error refreshing profile after save:",xt),console.log(" Keeping local update due to refresh error")}fe.current&&clearTimeout(fe.current),fe.current=setTimeout(()=>{q.current=!1,console.log(" Manual update flag reset after timeout")},3e3),ce(!1),re({platform:"",url:""}),xe(null),le.success(oe?"Social link updated successfully.":"Social link added successfully.")}catch(Ue){console.error(" Error saving social link:",Ue);let Ke="Failed to save social link. Please try again.";if(Ue&&typeof Ue=="object"&&"response"in Ue){const dt=Ue;if(console.error(" Full error object:",{status:(He=dt.response)==null?void 0:He.status,statusText:(ct=dt.response)==null?void 0:ct.statusText,data:(Tt=dt.response)==null?void 0:Tt.data,message:dt.message,request:dt.request}),(mt=dt.response)!=null&&mt.data){const Et=dt.response.data;Et.social_links?Ke=typeof Et.social_links=="string"?Et.social_links:"Invalid social links format. Please check your input.":Ke=Et.detail||Et.message||Ke,console.error(" Error response data:",JSON.stringify(Et,null,2))}((ge=dt.response)==null?void 0:ge.status)===400?Ke="Invalid request. Please check the URL format and try again.":(($e=dt.response)==null?void 0:$e.status)===401?Ke="Authentication failed. Please log in again.":((Oe=dt.response)==null?void 0:Oe.status)===403?Ke="You don't have permission to update social links.":((Se=dt.response)==null?void 0:Se.status)===500&&(Ke="Server error. Please try again later or contact support.")}else Ue instanceof Error&&(console.error(" Error message:",Ue.message),Ke=Ue.message||Ke);le.error(Ke)}finally{ye(!1)}},Yt=async ie=>{var Ne,Fe,He,ct,Tt,mt;if(!(!e||!confirm("Are you sure you want to remove this social link?")))try{const ge=localStorage.getItem("authToken"),$e={...J};delete $e[ie];const Oe={};Object.entries($e).forEach(([Ke,dt])=>{dt&&dt.trim()!==""&&(Oe[Ke]=dt)}),console.log(" Removing social link, sending:",Oe),console.log(" Full payload:",JSON.stringify({social_links:Oe},null,2)),q.current=!0,fe.current&&clearTimeout(fe.current),console.log(" Manual update flag set to true (delete)");const Se={...J,[ie]:""};K(Se),console.log(" Updated local state immediately:",Se);let Ue;try{Ue=await Ae.patch(gt.AUTH.PROFILE,{social_links:Oe},{headers:{Authorization:ge?`Bearer ${ge}`:void 0,"Content-Type":"application/json"}})}catch(Ke){throw q.current=!1,Ke}console.log(" Response status:",Ue.status),console.log(" Response data:",JSON.stringify(Ue.data,null,2)),console.log(" Response headers:",Ue.headers);try{console.log(" Refetching profile data to verify delete...");const Ke=await Ae.get(gt.AUTH.PROFILE,{headers:{Authorization:ge?`Bearer ${ge}`:void 0}});if(console.log(" Refreshed profile data (delete):",JSON.stringify(Ke.data,null,2)),Ke.data){const dt=Ke.data;g(Ke.data);const Et=(dt==null?void 0:dt.social_links)||((Ne=dt==null?void 0:dt.profile)==null?void 0:Ne.social_links)||((Fe=dt==null?void 0:dt.user)==null?void 0:Fe.social_links)||null;if(console.log(" Social links from refreshed profile (delete):",Et),Et&&typeof Et=="object"&&!Array.isArray(Et)){const ar={github:Et.github||"",linkedin:Et.linkedin||"",facebook:Et.facebook||"",instagram:Et.instagram||"",dribbble:Et.dribbble||"",behance:Et.behance||""};console.log(" Setting social links from refreshed data (delete):",ar),K(ar)}else console.log(" No social links in refreshed data after delete"),console.log(" Keeping local update (platform removed):",Se)}}catch(Ke){console.error(" Error refreshing profile after delete:",Ke)}fe.current&&clearTimeout(fe.current),fe.current=setTimeout(()=>{q.current=!1,console.log(" Manual update flag reset after timeout (delete)")},3e3),le.success("Social link removed successfully.")}catch(ge){console.error(" Error deleting social link:",ge);let $e="Failed to remove social link. Please try again.";if(ge&&typeof ge=="object"&&"response"in ge){const Oe=ge;if(console.error(" Full error object:",{status:(He=Oe.response)==null?void 0:He.status,statusText:(ct=Oe.response)==null?void 0:ct.statusText,data:(Tt=Oe.response)==null?void 0:Tt.data,message:Oe.message}),(mt=Oe.response)!=null&&mt.data){const Se=Oe.response.data;$e=Se.detail||Se.message||$e,console.error(" Error response data:",JSON.stringify(Se,null,2))}}le.error($e)}},Kt=async()=>{if(e){B(!0);try{const ie=localStorage.getItem("authToken"),Ne=await Ae.patch("/api/profile/",{about_me:z},{headers:{Authorization:ie?`Bearer ${ie}`:void 0}});console.log(" About Me updated:",Ne.data),x(z);const Fe=await Ae.get("/api/profile/",{headers:{Authorization:ie?`Bearer ${ie}`:void 0}});g(Fe.data),F(!1),le.success("About Me has been updated successfully.")}catch(ie){console.error(" Error updating about me:",ie),le.error("Failed to update About Me. Please try again.")}finally{B(!1)}}},Yr=()=>{H(kt||""),ae(at||""),L(!0)},yt=async()=>{var Ne,Fe;if(!e)return;if(!Y.trim()){le.error("Email cannot be empty.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Y.trim())){le.error("Please enter a valid email address.");return}W(!0);try{const He=localStorage.getItem("authToken"),ct={email:Y.trim()};G.trim()&&(ct.phone_number=G.trim());const Tt=await Ae.patch(gt.AUTH.PROFILE,ct,{headers:{Authorization:He?`Bearer ${He}`:void 0}});console.log(" Contact information updated:",Tt.data);const mt=await Ae.get(gt.AUTH.PROFILE,{headers:{Authorization:He?`Bearer ${He}`:void 0}});g(mt.data),setTimeout(()=>{window.location.reload()},500),L(!1),le.success("Contact information has been updated successfully.")}catch(He){console.error(" Error updating contact information:",He);const ct=He&&typeof He=="object"&&"response"in He&&((Fe=(Ne=He.response)==null?void 0:Ne.data)==null?void 0:Fe.detail)||"Failed to update contact information. Please try again.";le.error(ct)}finally{W(!1)}},Xe=w||(e==null?void 0:e.profile_image),_t=()=>{var ct,Tt;if(!(c!=null&&c.skills_json))return console.log(" No skills_json in results"),[];const ie=((ct=c==null?void 0:c.skills_json)==null?void 0:ct.tech)||{},Ne=((Tt=c==null?void 0:c.skills_json)==null?void 0:Tt.soft)||{};return[...Object.entries(ie).map(([mt,ge])=>({name:mt,percentage:parseFloat(String(ge).replace("%","")),type:"tech"})),...Object.entries(Ne).map(([mt,ge])=>({name:mt,percentage:parseFloat(String(ge).replace("%","")),type:"soft"}))].filter(mt=>mt.percentage>0).sort((mt,ge)=>ge.percentage-mt.percentage).slice(0,5)},Wt=(ie,Ne)=>{if(!ie||typeof ie!="object"||Array.isArray(ie))return null;const Fe="#19B5FE",He=Object.entries(ie).filter(([ge,$e])=>parseFloat(String($e).replace("%",""))>0).map(([ge,$e])=>{const Oe=parseFloat(String($e).replace("%",""));let Se;Oe>=40?Se=1:Se=.3+Oe/40*.7;const Ue=`gradient-primary-${Math.round(Se*100)}`;return{skill:ge,percentage:Oe,displayPct:$e,fill:Fe,opacity:Se,gradientId:Ue}}).sort((ge,$e)=>$e.percentage-ge.percentage);if(He.length===0)return o.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No skills data available"});const ct={percentage:{label:"Percentage"}},Tt=ge=>{const{x:$e,y:Oe,width:Se,height:Ue,payload:Ke,value:dt}=ge;let Et="";typeof dt=="string"?Et=dt:dt&&typeof dt=="object"&&"name"in dt?Et=String(dt.name||""):Ke!=null&&Ke.skill&&(Et=Ke.skill);const ar=typeof $e=="number"?$e:typeof $e=="string"?parseFloat($e):0,Fr=typeof Oe=="number"?Oe:typeof Oe=="string"?parseFloat(Oe):0,xt=typeof Se=="number"?Se:typeof Se=="string"?parseFloat(Se):0,It=typeof Ue=="number"?Ue:typeof Ue=="string"?parseFloat(Ue):0;if(!ar||!Fr||!xt||!It||!Et)return null;const gr=ar+xt/2,no=250-80+25,ir=Math.max(8,Math.floor(xt/6)),_c=Et.split(" "),$n=[];let tr="";for(const is of _c)if(is.length>ir){tr&&($n.push(tr),tr="");for(let so=0;so<is.length;so+=ir)$n.push(is.slice(so,so+ir))}else(tr+" "+is).length<=ir?tr=tr?tr+" "+is:is:(tr&&$n.push(tr),tr=is);if(tr&&$n.push(tr),$n.length===0||$n.length===1&&$n[0].length>ir*1.5){$n.length=0;for(let is=0;is<Et.length;is+=ir)$n.push(Et.slice(is,is+ir))}const pa=$n.slice(0,2),_i=14,Xu=no-(pa.length-1)*(_i/2);return o.jsx("text",{x:gr,y:Xu,fill:"#374151",textAnchor:"middle",fontSize:12,fontWeight:600,className:"dark:fill-gray-200",children:pa.map((is,so)=>o.jsx("tspan",{x:gr,dy:so===0?0:_i,children:is},so))})},mt=ge=>{const{x:$e,y:Oe,width:Se,height:Ue,value:Ke,payload:dt}=ge;let Et=0;typeof Ke=="number"?Et=Ke:Ke&&typeof Ke=="object"&&"name"in Ke&&(Et=0);const ar=(dt==null?void 0:dt.skill)||"",Fr=typeof $e=="number"?$e:typeof $e=="string"&&parseFloat($e)||0,xt=typeof Oe=="number"?Oe:typeof Oe=="string"&&parseFloat(Oe)||0,It=typeof Se=="number"?Se:typeof Se=="string"&&parseFloat(Se)||0,gr=typeof Ue=="number"?Ue:typeof Ue=="string"&&parseFloat(Ue)||0;if(!Fr||!xt||!It||!gr)return null;const Gs=Fr+It/2,Xo=250,no=80,ir=Math.max(8,Math.floor(It/6)),_c=ar.length>ir*1.2,$n=Xo-no+(_c?70:60);return o.jsx("text",{x:Gs,y:$n,fill:"#374151",textAnchor:"middle",fontSize:13,fontWeight:700,className:"dark:fill-gray-200",children:`${Et.toFixed(0)}%`})};return o.jsx("div",{className:"w-full -mb-4",children:o.jsx(X1,{config:ct,className:"h-[250px] w-full",children:o.jsxs(aO,{data:He,margin:{top:20,right:10,left:10,bottom:80},barCategoryGap:"25%",children:[o.jsx("defs",{children:He.map(ge=>o.jsxs("linearGradient",{id:ge.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:ge.fill,stopOpacity:ge.opacity}),o.jsx("stop",{offset:"100%",stopColor:"#0EA5E9",stopOpacity:ge.opacity})]},ge.gradientId))}),o.jsx(Gh,{dataKey:"skill",hide:!0}),o.jsx(Jh,{type:"number",domain:[0,100],hide:!0}),o.jsx(iO,{content:({active:ge,payload:$e})=>{if(ge&&$e&&$e.length){const Oe=$e[0].payload;return o.jsx("div",{className:"rounded-3xl border-0 bg-white dark:bg-gray-800 p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:Oe.skill}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Fe,opacity:Oe.opacity}}),o.jsxs("span",{className:"font-bold text-lg",style:{color:Fe,opacity:Oe.opacity},children:[Oe.percentage.toFixed(1),"%"]})]})]})})}return null}}),o.jsxs(Go,{dataKey:"percentage",radius:[8,8,8,8],animationDuration:1e3,animationEasing:"ease-out",children:[He.map((ge,$e)=>o.jsx(Dy,{fill:`url(#${ge.gradientId})`,style:{transition:"all 0.3s ease"}},`cell-${$e}`)),o.jsx(ui,{content:Tt,dataKey:"skill"}),o.jsx(ui,{content:mt,dataKey:"percentage"})]})]})})})};return o.jsxs(Ot,{children:[o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:static md:translate-x-0 md:left-auto md:flex md:justify-center md:mb-6 md:w-auto",children:o.jsxs(Ln.div,{layout:!0,transition:{type:"spring",stiffness:500,damping:40,mass:1},className:"relative inline-flex items-center bg-gray-100/80 dark:bg-[#242424]/80 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-3xl p-1 shadow-sm",children:[o.jsxs(Ln.button,{layout:!0,onClick:()=>s("#"),className:`relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${_==="profile"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[_==="profile"&&o.jsx(Ln.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Profile"})]}),o.jsx(bxe,{mode:"popLayout",initial:!1,children:_==="profile"?o.jsx(Ln.button,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s("#savedcourses"),className:"relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200 whitespace-nowrap outline-none",children:o.jsx("span",{className:"relative z-10",children:"Saved"})},"saved-summary"):o.jsxs(Ln.div,{layout:!0,className:"flex items-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[o.jsxs(Ln.button,{layout:!0,onClick:()=>s("#savedcourses"),className:`relative px-4 py-2.5 md:px-6 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${E==="courses"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[E==="courses"&&o.jsx(Ln.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Saved Courses"})]},"saved-courses"),o.jsxs(Ln.button,{layout:!0,onClick:()=>s("#savedjobs"),className:`relative px-4 py-2.5 md:px-6 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${E==="jobs"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[E==="jobs"&&o.jsx(Ln.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Saved Jobs"})]},"saved-jobs")]},"saved-tabs")})]})}),_==="profile"?o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 pb-32 md:pb-0",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"space-y-4 md:space-y-6",children:[o.jsx(ke,{className:"bg-transparent border-0 md:bg-card md:border-0 md:rounded-3xl",children:o.jsx(Ce,{className:"pb-4 pt-6 px-6 md:pb-6",children:o.jsxs("div",{className:"flex flex-col md:items-center",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4 md:flex-col md:items-center md:mb-4",children:[o.jsx("div",{className:"relative flex-shrink-0 order-2 md:relative md:order-1",children:o.jsxs("div",{className:"relative group cursor-pointer rounded-full overflow-hidden",onClick:ft,children:[o.jsx(sg,{src:Xe||void 0,alt:"Profile photo",fallback:ut?ut.charAt(0).toUpperCase():"U",size:"lg",loading:"eager",className:"h-16 w-16 md:h-28 md:w-28 rounded-full"},`avatar-${C}`),j?o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full z-10",children:o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})}):o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10",children:o.jsx(I9,{className:"h-5 w-5 md:h-7 md:w-7 text-white"})})]})}),o.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:Ve,className:"hidden",disabled:j}),o.jsxs("div",{className:"flex-1 min-w-0 order-1 md:text-center md:flex-none md:mb-4 md:order-2",children:[o.jsxs("h1",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-1",children:[ut," ",Ct]}),(e==null?void 0:e.job_title)&&o.jsx("p",{className:"text-sm font-semibold md:font-normal text-gray-900 dark:text-gray-100 md:text-gray-600 md:dark:text-gray-400 mb-1",children:e.job_title}),e!=null&&e.city?o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.city,(e==null?void 0:e.country)&&`, ${e.country}`]}):o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:kt||"Location not specified"})]})]}),(e==null?void 0:e.is_profile_hidden)&&o.jsx("div",{className:"mb-4 md:text-center",children:o.jsxs(Dt,{className:"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300 border-0",children:[o.jsx(Tu,{size:12,className:"mr-1"}),"Hidden Profile"]})}),o.jsxs("div",{className:"flex items-center gap-2 w-full pt-3 md:mt-2 md:pt-0",children:[o.jsxs(ne,{variant:"outline",className:"flex-[5] md:flex-1 flex items-center justify-center gap-2 h-12 px-6 bg-breneo-blue/10 text-breneo-blue border-0 hover:bg-breneo-blue/20 dark:hover:bg-breneo-blue/30",onClick:()=>s("/settings"),children:[o.jsx(Mw,{size:16}),o.jsx("span",{children:"Settings"})]}),o.jsx(ne,{variant:"default",size:"icon",onClick:we,className:"h-12 w-12 bg-red-100 text-red-600 hover:bg-red-200 active:bg-red-300 dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/50 dark:active:bg-red-900/70",children:o.jsx(B9,{size:16})})]})]})})}),o.jsxs(ke,{className:"border-0 rounded-3xl",children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Contact Information"}),o.jsx(ne,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:Yr,children:"Edit"})]}),o.jsxs(Ce,{className:"space-y-0 p-0",children:[o.jsx("div",{className:"px-6 py-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2 flex-shrink-0",children:o.jsx(ug,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:kt||"Not provided"})]})}),o.jsx("div",{className:"px-6 py-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2 flex-shrink-0",children:o.jsx($u,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:at})]})})]})]}),o.jsxs(ke,{className:"border-0 rounded-3xl",children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Social Networks"}),o.jsx(ne,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:de,children:"Add"})]}),o.jsx(Ce,{className:"p-0",children:Q?o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm px-6",children:"Loading..."}):Object.entries(J).some(([ie,Ne])=>Ne&&Ne.trim()!=="")?o.jsx("div",{children:Object.entries(J).filter(([ie,Ne])=>Ne&&Ne.trim()!=="").map(([ie,Ne],Fe,He)=>o.jsx("div",{className:`px-6 py-4 ${Fe<He.length-1?"border-b-0":""} group hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("a",{href:Ne,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2 flex-shrink-0",children:Nj(ie,"h-[18px] w-[18px] text-breneo-blue")}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:Mp[ie]}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:Ne.replace(/^https?:\/\//,"").replace(/^www\./,"")})]})]}),o.jsxs("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[o.jsx("button",{type:"button",className:"h-8 w-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-200 dark:hover:bg-gray-700",onClick:ct=>{ct.stopPropagation(),Te(ie)},children:o.jsx(gm,{size:14,className:"text-gray-600 dark:text-gray-400"})}),o.jsx("button",{type:"button",className:"h-8 w-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-primary/10 dark:hover:bg-primary/20",onClick:ct=>{ct.stopPropagation(),Yt(ie)},children:o.jsx(fu,{size:14,className:"text-gray-600 dark:text-gray-400"})})]})]})},ie))}):o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm px-6",children:'No social links added yet. Click "Add" to add your social media profiles.'})})]}),o.jsx(ke,{className:"bg-white transition-all w-auto flex-shrink-0 rounded-3xl border-0 hover:shadow-soft transition-shadow cursor-pointer",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)"},children:o.jsx(Ce,{className:"p-4 md:p-4",children:o.jsx(Rr,{to:"/skill-test",className:"block cursor-pointer group",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[o.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:l.home.skillTestTitle}),o.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:l.home.skillTestSubtitle})]}),o.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-target-front-color.png",alt:"Skill test target",className:"w-full h-full object-contain"})})]})})})})]})}),o.jsxs("div",{className:"lg:col-span-2 space-y-4 md:space-y-6",children:[o.jsxs(ke,{className:"border-0 rounded-3xl",children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"About Me"}),o.jsx(ne,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:U,children:"Edit"})]}),o.jsx(Ce,{className:"px-6 py-4",children:y?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading..."}):v?o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap leading-relaxed",children:v.length>200?`${v.substring(0,200)}...`:v}),v.length>200&&o.jsx(ne,{variant:"link",className:"text-breneo-blue p-0 h-auto mt-2 font-normal text-sm hover:underline",onClick:U,children:"View More"})]}):o.jsx("p",{className:"text-sm text-gray-500 italic",children:"No information available. Add some details about yourself!"})})]}),o.jsxs(ke,{className:"border-0 rounded-3xl",children:[o.jsx(vt,{className:"p-4 pb-3 border-b-0",children:o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Personal Skills"})}),o.jsx(Ce,{className:"px-6 py-4",children:d?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading skill results..."}):c&&(c!=null&&c.final_role||_t().length>0)?o.jsxs("div",{className:"space-y-4",children:[(c==null?void 0:c.final_role)&&o.jsxs("div",{className:"bg-gradient-to-r from-breneo-blue/10 to-breneo-blue/5 dark:from-breneo-blue/20 dark:to-breneo-blue/10 p-4 rounded-3xl border-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(cu,{className:"h-5 w-5 text-breneo-blue"})}),o.jsx("span",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100",children:"Recommended Role"})]}),o.jsx(Dt,{className:"text-sm px-3 py-1.5 bg-breneo-blue hover:bg-breneo-blue/90 text-white border-0",children:c==null?void 0:c.final_role})]}),(c==null?void 0:c.skills_json)&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-base text-gray-900 dark:text-gray-100 mb-4",children:"Top Skills"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[((Cr=c==null?void 0:c.skills_json)==null?void 0:Cr.tech)&&Object.keys(c.skills_json.tech).length>0&&o.jsxs(ke,{className:"border-0 rounded-3xl",children:[o.jsx(vt,{className:"pb-2",children:o.jsx(Pt,{className:"flex items-center gap-2 text-sm",children:"Technical Skills"})}),o.jsx(Ce,{className:"p-2 pt-0 pb-4",children:Wt(c.skills_json.tech)})]}),((On=c==null?void 0:c.skills_json)==null?void 0:On.soft)&&Object.keys(c.skills_json.soft).length>0&&o.jsxs(ke,{className:"border-0 rounded-3xl",children:[o.jsx(vt,{className:"pb-2",children:o.jsx(Pt,{className:"flex items-center gap-2 text-sm",children:"Soft Skills"})}),o.jsx(Ce,{className:"p-2 pt-0 pb-4",children:Wt(c.skills_json.soft)})]})]})]}),_t().length===0&&!d&&o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No skill test results available. Take a skill test to see your results here."})]}):o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No skill test results available. Take a skill test to see your results here."})})]})]})]}):o.jsxs("div",{className:"max-w-7xl mx-auto pb-32 md:pb-6",children:[E==="courses"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Saved Courses"}),Ye?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((ie,Ne)=>o.jsx(ke,{className:"border-0 rounded-3xl",children:o.jsxs(Ce,{className:"p-0",children:[o.jsx(nr,{className:"h-40 w-full rounded-t-3xl"}),o.jsxs("div",{className:"p-4",children:[o.jsx(nr,{className:"h-5 w-3/4 mb-2"}),o.jsx(nr,{className:"h-4 w-1/2 mb-3"}),o.jsx(nr,{className:"h-3 w-full"})]})]})},Ne))}):We.length===0?o.jsx(ke,{className:"rounded-3xl border-0 shadow-sm bg-card/50",children:o.jsxs(Ce,{className:"p-12 text-center",children:[o.jsx(Eh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved courses"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving courses to view them here!"}),o.jsx(ne,{onClick:()=>s("/courses"),variant:"default",children:"Browse Courses"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:We.map(ie=>{const Ne=qe.includes(String(ie.id));return o.jsx(Rr,{to:`/course/${ie.id}`,className:"block",children:o.jsx(ke,{className:"relative transition-all duration-200 cursor-pointer group border-0 rounded-3xl w-full flex flex-col h-full bg-card hover:shadow-soft",children:o.jsxs(Ce,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:ie.image||"/placeholder.svg",alt:ie.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",onError:Fe=>{Fe.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:ie.title}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:ie.provider}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[ie.duration&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:ie.duration}),ie.level&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:ie.level})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:Fe=>{Fe.preventDefault(),Fe.stopPropagation(),Pe.mutate(String(ie.id))},disabled:Pe.isPending,"aria-label":"Unsave course",className:ue("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",Ne?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:Pe.isPending?o.jsx(Ou,{className:"h-4 w-4 animate-spin"}):o.jsx(as,{className:ue("h-4 w-4 transition-colors",Ne?"text-red-500 fill-red-500":"text-black dark:text-white")})})]})]})]})})},ie.id)})})]}),E==="jobs"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Saved Jobs"}),Ee?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((ie,Ne)=>o.jsx(ke,{className:"border-0 rounded-3xl",children:o.jsxs(Ce,{className:"p-4",children:[o.jsx(nr,{className:"h-4 w-20 mb-2"}),o.jsx(nr,{className:"h-6 w-3/4 mb-4"}),o.jsx(nr,{className:"h-4 w-1/2"})]})},Ne))}):je.length===0?o.jsx(ke,{className:"rounded-3xl border-0 shadow-sm bg-card/50",children:o.jsxs(Ce,{className:"p-12 text-center",children:[o.jsx(ln,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved jobs"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving jobs to view them here!"}),o.jsx(ne,{onClick:()=>s("/jobs"),variant:"default",children:"Browse Jobs"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:je.map(ie=>{const Ne=he.includes(String(ie.id));return o.jsx(ke,{className:"group flex flex-col transition-all duration-200 border-0 overflow-hidden rounded-3xl cursor-pointer bg-card hover:shadow-soft",onClick:()=>{ie.url?window.open(ie.url,"_blank"):s(`/jobs/${encodeURIComponent(ie.id)}`)},children:o.jsxs(Ce,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[ie.company_logo?o.jsx("img",{src:ie.company_logo,alt:`${ie.company} logo`,className:"w-10 h-10 rounded-md object-cover flex-shrink-0 border border-gray-200 dark:border-gray-700 relative z-10",onError:Fe=>{const He=Fe.target;He.style.display="none";const ct=He.nextElementSibling;ct&&(ct.classList.remove("hidden"),ct.classList.add("flex"))}}):null,o.jsx("div",{className:`w-10 h-10 rounded-md bg-breneo-blue/10 flex items-center justify-center ${ie.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(ln,{className:"h-5 w-5 text-breneo-blue"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate text-gray-600 dark:text-gray-400",children:ie.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:ie.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem] group-hover:text-breneo-blue transition-colors",children:ie.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[ie.employment_type&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 border-0",children:ie.employment_type}),ie.work_arrangement&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 border-0",children:ie.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ac,{value:ie.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100",children:pg(ie.matchPercentage)})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:Fe=>{Fe.stopPropagation(),Me.mutate(ie.id)},disabled:Me.isPending,"aria-label":"Unsave job",className:ue("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 border-0",Ne?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:Me.isPending?o.jsx(Ou,{className:"h-4 w-4 animate-spin"}):o.jsx(as,{className:ue("h-4 w-4 transition-colors",Ne?"text-red-500 fill-red-500":"text-black dark:text-white")})})]})]})},ie.id)})})]})]}),n?o.jsx(ys,{onOpenChange:$,children:o.jsxs(vs,{children:[o.jsx(xs,{children:o.jsx(bs,{children:"Log out"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Are you sure you want to log out?"})}),o.jsxs(aa,{children:[o.jsx(ne,{onClick:Be,className:"bg-red-500 text-white hover:bg-red-600 active:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700 dark:active:bg-red-800",children:"Log out"}),o.jsx(wo,{asChild:!0,children:o.jsx(ne,{variant:"outline",children:"Cancel"})})]})]})}):o.jsx(ts,{open:De,onOpenChange:$,children:o.jsxs(Fn,{children:[o.jsxs(Bn,{children:[o.jsx(Un,{children:"Log out"}),o.jsx(tf,{children:"Are you sure you want to log out?"})]}),o.jsxs(gs,{children:[o.jsx(ne,{variant:"outline",onClick:Ie,children:"Cancel"}),o.jsx(ne,{onClick:Be,className:"bg-red-500 text-white hover:bg-red-600 active:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700 dark:active:bg-red-800",children:"Log out"})]})]})}),n?o.jsx(ys,{open:R,onOpenChange:F,children:o.jsxs(vs,{children:[o.jsx(xs,{children:o.jsx(bs,{children:"Edit About Me"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"about-me",children:"Tell us about yourself"}),o.jsx(ch,{id:"about-me",placeholder:"Share something about yourself...",value:z,onChange:ie=>D(ie.target.value),className:"mt-2 min-h-[200px]",disabled:I})]})})}),o.jsxs(aa,{children:[o.jsx(ne,{onClick:Kt,disabled:I,children:I?"Saving...":"Save Changes"}),o.jsx(wo,{asChild:!0,children:o.jsx(ne,{variant:"outline",disabled:I,children:"Cancel"})})]})]})}):o.jsx(ts,{open:R,onOpenChange:F,children:o.jsxs(Fn,{className:"max-w-2xl",children:[o.jsx(Bn,{children:o.jsx(Un,{children:"Edit About Me"})}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"about-me",children:"Tell us about yourself"}),o.jsx(ch,{id:"about-me",placeholder:"Share something about yourself...",value:z,onChange:ie=>D(ie.target.value),className:"mt-2 min-h-[200px]",disabled:I})]})})}),o.jsxs(gs,{children:[o.jsx(ne,{variant:"outline",onClick:()=>F(!1),disabled:I,children:"Cancel"}),o.jsx(ne,{onClick:Kt,disabled:I,children:I?"Saving...":"Save Changes"})]})]})}),n?o.jsx(ys,{open:T,onOpenChange:M,children:o.jsxs(vs,{children:[o.jsx(xs,{children:o.jsx(bs,{children:"Profile Photo"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ne,{onClick:er,className:"w-full justify-start gap-3",variant:"ghost",disabled:j,children:[o.jsx($x,{className:"h-5 w-5"}),Xe?"Update Photo":"Upload Photo"]}),Xe&&o.jsxs(ne,{onClick:A,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:j,children:[o.jsx(fu,{className:"h-5 w-5"}),"Remove Photo"]})]})})]})}):o.jsx(ts,{open:T,onOpenChange:M,children:o.jsxs(Fn,{children:[o.jsx(Bn,{children:o.jsx(Un,{children:"Profile Photo"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ne,{onClick:er,className:"w-full justify-start gap-3",variant:"ghost",disabled:j,children:[o.jsx($x,{className:"h-5 w-5"}),Xe?"Update Photo":"Upload Photo"]}),Xe&&o.jsxs(ne,{onClick:A,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:j,children:[o.jsx(fu,{className:"h-5 w-5"}),"Remove Photo"]})]})}),o.jsx(gs,{children:o.jsx(ne,{variant:"outline",onClick:()=>M(!1),children:"Cancel"})})]})}),n?o.jsx(ys,{open:X,onOpenChange:ce,children:o.jsxs(vs,{children:[o.jsx(xs,{children:o.jsx(bs,{children:oe?"Edit Social Link":"Add Social Link"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"social-platform",children:"Platform *"}),o.jsxs(si,{value:pe.platform,onValueChange:ie=>re({...pe,platform:ie}),disabled:ee||!!oe,children:[o.jsx(Ca,{className:"mt-2",children:o.jsx(ai,{placeholder:"Select a platform"})}),o.jsx(Pa,{children:Object.keys(Mp).map(ie=>o.jsx(hr,{value:ie,children:o.jsxs("div",{className:"flex items-center gap-2",children:[Nj(ie,"h-4 w-4"),o.jsx("span",{children:Mp[ie]})]})},ie))})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"social-url",children:"URL *"}),o.jsx(pt,{id:"social-url",type:"url",placeholder:"https://...",value:pe.url,onChange:ie=>re({...pe,url:ie.target.value}),className:"mt-2",disabled:ee,required:!0})]})]})}),o.jsxs(aa,{children:[o.jsx(ne,{onClick:At,disabled:ee,children:ee?"Saving...":oe?"Update":"Add"}),o.jsx(wo,{asChild:!0,children:o.jsx(ne,{variant:"outline",disabled:ee,children:"Cancel"})})]})]})}):o.jsx(ts,{open:X,onOpenChange:ce,children:o.jsxs(Fn,{children:[o.jsx(Bn,{children:o.jsx(Un,{children:oe?"Edit Social Link":"Add Social Link"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"social-platform-desktop",children:"Platform *"}),o.jsxs(si,{value:pe.platform,onValueChange:ie=>re({...pe,platform:ie}),disabled:ee||!!oe,children:[o.jsx(Ca,{className:"mt-2",children:o.jsx(ai,{placeholder:"Select a platform"})}),o.jsx(Pa,{children:Object.keys(Mp).map(ie=>o.jsx(hr,{value:ie,children:o.jsxs("div",{className:"flex items-center gap-2",children:[Nj(ie,"h-4 w-4"),o.jsx("span",{children:Mp[ie]})]})},ie))})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"social-url-desktop",children:"URL *"}),o.jsx(pt,{id:"social-url-desktop",type:"url",placeholder:"https://...",value:pe.url,onChange:ie=>re({...pe,url:ie.target.value}),className:"mt-2",disabled:ee,required:!0})]})]})}),o.jsxs(gs,{children:[o.jsx(ne,{variant:"outline",onClick:()=>{ce(!1),re({platform:"",url:""}),xe(null)},disabled:ee,children:"Cancel"}),o.jsx(ne,{onClick:At,disabled:ee,children:ee?"Saving...":oe?"Update":"Add"})]})]})}),n?o.jsx(ys,{open:Z,onOpenChange:L,children:o.jsxs(vs,{children:[o.jsx(xs,{children:o.jsx(bs,{children:"Edit Contact Information"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"phone-number",children:"Phone Number"}),o.jsx(pt,{id:"phone-number",type:"tel",placeholder:"+995591552495",value:G,onChange:ie=>H(ie.target.value),className:"mt-2",disabled:V})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"email-address",children:"Email Address"}),o.jsx(pt,{id:"email-address",type:"email",placeholder:"example@email.com",value:Y,onChange:ie=>ae(ie.target.value),className:"mt-2",disabled:V,required:!0})]})]})}),o.jsxs(aa,{children:[o.jsx(ne,{onClick:yt,disabled:V||!Y.trim(),children:V?"Saving...":"Save Changes"}),o.jsx(wo,{asChild:!0,children:o.jsx(ne,{variant:"outline",disabled:V,children:"Cancel"})})]})]})}):o.jsx(ts,{open:Z,onOpenChange:L,children:o.jsxs(Fn,{children:[o.jsx(Bn,{children:o.jsx(Un,{children:"Edit Contact Information"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"phone-number-desktop",children:"Phone Number"}),o.jsx(pt,{id:"phone-number-desktop",type:"tel",placeholder:"+995591552495",value:G,onChange:ie=>H(ie.target.value),className:"mt-2",disabled:V})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"email-address-desktop",children:"Email Address"}),o.jsx(pt,{id:"email-address-desktop",type:"email",placeholder:"example@email.com",value:Y,onChange:ie=>ae(ie.target.value),className:"mt-2",disabled:V,required:!0})]})]})}),o.jsxs(gs,{children:[o.jsx(ne,{variant:"outline",onClick:()=>L(!1),disabled:V,children:"Cancel"}),o.jsx(ne,{onClick:yt,disabled:V||!Y.trim(),children:V?"Saving...":"Save Changes"})]})]})})]})},pF=e=>e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:`/${e}`:"/lovable-uploads/no_photo.png",x7e=()=>{const{user:e}=_r(),t=dr(),r=Vs(),[n,s]=p.useState("courses"),{data:a=[]}=Xt({queryKey:["savedCourseIds",e==null?void 0:e.id],queryFn:async()=>{var g;if(!(e!=null&&e.id))return[];try{return(((g=(await Ae.get(gt.AUTH.PROFILE)).data)==null?void 0:g.saved_courses)||[]).map(v=>String(v))}catch(y){return console.error("Error fetching saved course IDs:",y),[]}},enabled:!!(e!=null&&e.id)}),{data:i=[],isLoading:l}=Xt({queryKey:["savedCoursesDetails",e==null?void 0:e.id,a],queryFn:async()=>{if(!(e!=null&&e.id)||!a||a.length===0)return[];try{const{data:g,error:y}=await Vt.from("courses").select("id, title, provider, category, level, duration, image, description, academy_id").in("id",a);if(y)return console.error("Error fetching saved course details:",y),[];const m=[...new Set((g==null?void 0:g.map(x=>x.academy_id).filter(x=>!!x))||[])],v=new Map;return m.length>0&&await Promise.all(m.map(async x=>{try{const w=await Ae.get(`${gt.ACADEMY.DETAIL}${x}/`);if(w.data){const b=w.data,_=b.profile_data||b,S=(k,j=_)=>{const N=j[k];return typeof N=="string"?N:void 0},E=S("logo_url",_)||S("logoUrl",_)||S("logo",_)||S("logo_url",b)||S("logoUrl",b)||null;v.set(x,E)}}catch{console.debug(`Could not fetch academy profile for ${x}`),v.set(x,null)}})),(g||[]).map(x=>{const w=x.academy_id&&v.has(x.academy_id)&&v.get(x.academy_id)||null;return{id:x.id,title:x.title||"",provider:x.provider||"",category:x.category||"",level:x.level||"",duration:x.duration||"",image:pF(x.image),description:x.description||"",academy_id:x.academy_id||null,academy_logo:w?pF(w):null}})}catch(g){return console.error("Error fetching saved courses:",g),[]}},enabled:!!e&&a.length>0}),{data:c=[]}=Xt({queryKey:["savedJobIds",e==null?void 0:e.id],queryFn:async()=>{var g;if(!(e!=null&&e.id))return[];try{const m=((g=(await Ae.get(gt.AUTH.PROFILE)).data)==null?void 0:g.saved_jobs)||[];return Array.isArray(m)?m.map(v=>{if(typeof v=="string"||typeof v=="number")return String(v);if(v&&typeof v=="object"){const x=v;if(x.id)return String(x.id);if(x.job_id)return String(x.job_id);if(x.jobId)return String(x.jobId)}return null}).filter(v=>v!==null):[]}catch(y){return console.error("Error fetching saved job IDs:",y),[]}},enabled:!!(e!=null&&e.id)}),{data:u=[],isLoading:d}=Xt({queryKey:["savedJobsDetails",e==null?void 0:e.id,c],queryFn:async()=>{if(!(e!=null&&e.id)||!c||c.length===0)return[];try{const g=c.map(async m=>{try{const v=await n1(m);if(!v)return null;const x=v.title||v.job_title||v.position||"Untitled Position",w=v.company_name||v.employer_name||(typeof v.company=="string"?v.company:null)||"Unknown Company",b=v.job_city||v.city||"",_=v.job_state||v.state||"",S=v.job_country||v.country||"",E=v.job_location||v.location||[b,_,S].filter(Boolean).join(", ")||"Location not specified",k=v.employer_logo||v.company_logo||v.logo_url||(typeof v.company=="object"&&v.company?v.company.logo||v.company.company_logo:void 0);let j="By agreement";const N=v.job_min_salary||v.min_salary,C=v.job_max_salary||v.max_salary,P=v.job_salary_currency||v.salary_currency||"$",R=v.job_salary_period||v.salary_period||"yearly";if(N&&C&&typeof N=="number"&&typeof C=="number"){const T=R==="monthly"?"Monthly":"",M=N.toLocaleString(),Z=C.toLocaleString();["$","","","","",""].some(H=>P.includes(H))?j=`${P}${M} - ${P}${Z}${T?`/${T}`:""}`:j=`${M} - ${Z} ${P}${T?`/${T}`:""}`}else if(N&&typeof N=="number"){const T=N.toLocaleString();j=["$","","","","",""].some(L=>P.includes(L))?`${P}${T}+`:`${T}+ ${P}`}else v.salary&&typeof v.salary=="string"&&(j=v.salary);const F=v.job_employment_type||v.employment_type||v.type||"FULLTIME",D={FULLTIME:"Full time",PARTTIME:"Part time",CONTRACTOR:"Contract",INTERN:"Internship"}[F]||F||"Full time";let I="On-site";return v.job_is_remote||v.is_remote||v.remote===!0?I="Remote":x!=null&&x.toLowerCase().includes("hybrid")&&(I="Hybrid"),{id:m,title:x,company:w,location:typeof E=="string"?E:"Location not specified",url:v.url||"",company_logo:k,salary:j,employment_type:D,work_arrangement:I}}catch(v){return console.error(`Error fetching job ${m}:`,v),null}});return(await Promise.all(g)).filter(m=>m!==null)}catch(g){return console.error("Error fetching saved jobs:",g),[]}},enabled:!!e&&c.length>0}),f=ca({mutationFn:async g=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Ae.post(`/api/save-course/${g}/`)},onSuccess:()=>{r.invalidateQueries({queryKey:["savedCourseIds",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["savedCoursesDetails",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile"]}),le.success("Course removed from saved")},onError:g=>{console.error("Error updating saved courses:",g),le.error("Failed to update saved courses. Please try again.")}}),h=ca({mutationFn:async g=>{if(!(e!=null&&e.id))throw new Error("Please log in to save jobs.");await Ae.post(`${gt.JOBS.SAVE_JOB}${g}/`)},onSuccess:()=>{r.invalidateQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["savedJobsDetails",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile"]}),le.success("Job removed from saved")},onError:g=>{console.error("Error updating saved jobs:",g),le.error("Failed to update saved jobs. Please try again.")}});return e?o.jsxs(Ot,{children:[o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:static md:translate-x-0 md:left-auto md:flex md:justify-center md:mb-6 md:w-auto",children:o.jsxs("div",{className:"relative inline-flex items-center bg-gray-100/80 dark:bg-[#242424]/80 backdrop-blur-xl rounded-full p-1 shadow-[0_8px_32px_rgba(0,0,0,0.06)] dark:shadow-[0_8px_32px_rgba(0,0,0,0.2)]",children:[o.jsx("button",{onClick:()=>t("/profile"),className:"relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200",children:"Profile"}),o.jsx("button",{onClick:()=>s("courses"),className:`relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 ${n==="courses"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-bold shadow-sm":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Courses"}),o.jsx("button",{onClick:()=>s("jobs"),className:`relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 ${n==="jobs"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-bold shadow-sm":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Jobs"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:[n==="courses"&&o.jsx("div",{className:"space-y-6",children:l?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((g,y)=>o.jsx(ke,{children:o.jsxs(Ce,{className:"p-0",children:[o.jsx(nr,{className:"h-40 w-full rounded-t-3xl"}),o.jsxs("div",{className:"p-4",children:[o.jsx(nr,{className:"h-5 w-3/4 mb-2"}),o.jsx(nr,{className:"h-4 w-1/2 mb-3"}),o.jsx(nr,{className:"h-3 w-full"})]})]})},y))}):i.length===0?o.jsx(ke,{children:o.jsxs(Ce,{className:"p-12 text-center",children:[o.jsx(Eh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved courses"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving courses to view them here!"}),o.jsx(ne,{onClick:()=>t("/courses"),variant:"default",children:"Browse Courses"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:i.map(g=>{const y=a.includes(String(g.id));return o.jsx(Rr,{to:`/course/${g.id}`,className:"block",children:o.jsx(ke,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl w-full flex flex-col h-full hover:shadow-soft",children:o.jsxs(Ce,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:g.image||"/placeholder.svg",alt:g.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",onError:m=>{m.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:g.title}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:g.provider}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[g.duration&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:g.duration}),g.level&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:g.level})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:m=>{m.preventDefault(),m.stopPropagation(),f.mutate(String(g.id))},disabled:f.isPending,"aria-label":"Unsave course",className:ue("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",y?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:f.isPending?o.jsx(Ou,{className:"h-4 w-4 animate-spin"}):o.jsx(as,{className:ue("h-4 w-4 transition-colors",y?"text-red-500 fill-red-500":"text-black dark:text-white")})})]})]})]})})},g.id)})})}),n==="jobs"&&o.jsx("div",{className:"space-y-6",children:d?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((g,y)=>o.jsx(ke,{children:o.jsxs(Ce,{className:"p-4",children:[o.jsx(nr,{className:"h-4 w-20 mb-2"}),o.jsx(nr,{className:"h-6 w-3/4 mb-4"}),o.jsx(nr,{className:"h-4 w-1/2"})]})},y))}):u.length===0?o.jsx(ke,{children:o.jsxs(Ce,{className:"p-12 text-center",children:[o.jsx(ln,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved jobs"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving jobs to view them here!"}),o.jsx(ne,{onClick:()=>t("/jobs"),variant:"default",children:"Browse Jobs"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:u.map(g=>{const y=c.includes(String(g.id));return o.jsx(ke,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl hover:shadow-soft",children:o.jsxs(Ce,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[g.company_logo?o.jsx("img",{src:g.company_logo,alt:`${g.company} logo`,className:"w-12 h-12 rounded-3xl object-cover flex-shrink-0",onError:m=>{m.target.style.display="none"}}):o.jsx("div",{className:"w-12 h-12 rounded-3xl bg-breneo-blue/10 flex items-center justify-center flex-shrink-0",children:o.jsx(ln,{className:"h-6 w-6 text-breneo-blue"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm text-gray-600 dark:text-gray-400 mb-1 line-clamp-1",children:g.company}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:g.title})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[g.location&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[o.jsx(cg,{className:"h-3 w-3 flex-shrink-0"}),o.jsx("span",{className:"line-clamp-1",children:g.location})]}),g.salary&&o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:g.salary}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[g.employment_type&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:g.employment_type}),g.work_arrangement&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:g.work_arrangement})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[o.jsxs(ne,{variant:"secondary",size:"sm",className:"flex-1",onClick:m=>{m.stopPropagation(),g.url?window.open(g.url,"_blank"):t(`/jobs/${encodeURIComponent(g.id)}`)},children:["View Job",o.jsx(og,{className:"h-3 w-3 ml-2"})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:m=>{m.stopPropagation(),h.mutate(g.id)},disabled:h.isPending,"aria-label":"Unsave job",className:ue("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-9 w-9",y?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:h.isPending?o.jsx(Ou,{className:"h-4 w-4 animate-spin"}):o.jsx(as,{className:ue("h-4 w-4 transition-colors",y?"text-red-500 fill-red-500":"text-black dark:text-white")})})]})]})},g.id)})})})]})]}):o.jsx(Ot,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Please log in to view saved items."})})})};var b7e="Separator",mF="horizontal",w7e=["horizontal","vertical"],FJ=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=mF,...s}=e,a=_7e(n)?n:mF,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(nt.div,{"data-orientation":a,...l,...s,ref:t})});FJ.displayName=b7e;function _7e(e){return w7e.includes(e)}var BJ=FJ;const xu=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>o.jsx(BJ,{ref:s,decorative:r,orientation:t,className:ue("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));xu.displayName=BJ.displayName;var cO="Switch",[S7e,sKe]=fa(cO),[j7e,k7e]=S7e(cO),UJ=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,g]=p.useState(null),y=wt(t,b=>g(b)),m=p.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,w]=pi({prop:s,defaultProp:a,onChange:u});return o.jsxs(j7e,{scope:r,checked:x,disabled:l,children:[o.jsx(nt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":WJ(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Le(e.onClick,b=>{w(_=>!_),v&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),v&&o.jsx(E7e,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});UJ.displayName=cO;var zJ="SwitchThumb",qJ=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=k7e(zJ,r);return o.jsx(nt.span,{"data-state":WJ(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});qJ.displayName=zJ;var E7e=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=p.useRef(null),i=Q1(r),l=_w(t);return p.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[i,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function WJ(e){return e?"checked":"unchecked"}var VJ=UJ,N7e=qJ;const hs=p.forwardRef(({className:e,...t},r)=>o.jsx(VJ,{className:ue("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(N7e,{className:ue("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));hs.displayName=VJ.displayName;const C7e=Ow("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),uO=p.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:ue(C7e({variant:t}),e),...r}));uO.displayName="Alert";const dO=p.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:ue("mb-1 font-medium leading-none tracking-tight",e),...t}));dO.displayName="AlertTitle";const fO=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ue("text-sm [&_p]:leading-relaxed",e),...t}));fO.displayName="AlertDescription";const QC=({compact:e=!1})=>{qo();const[t,r]=p.useState(!1),[n,s]=p.useState(null),[a,i]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(!1);p.useEffect(()=>{r(!0)},[]),p.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}if(window.navigator.standalone===!0){i(!0);return}const g=localStorage.getItem("pwa-install-card-dismissed");if(g){const x=parseInt(g,10);if((Date.now()-x)/(1e3*60*60*24)<30){c(!0);return}}const y=x=>{x.preventDefault(),s(x)};window.addEventListener("beforeinstallprompt",y);const m=async()=>{try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.ready}}catch(x){console.log("Service worker check:",x)}},v=setTimeout(()=>{m()},1e3);return()=>{window.removeEventListener("beforeinstallprompt",y),clearTimeout(v)}},[]);const f=async()=>{if(d(!0),n){try{await n.prompt();const{outcome:x}=await n.userChoice;x==="accepted"?(i(!0),s(null),le.success("App installation started!")):le.info("Installation cancelled. You can try again later.")}catch(x){console.error("Error installing PWA:",x),le.error("Failed to trigger installation. Please try using your browser menu.")}finally{d(!1)}return}let g=!1;const m=await new Promise(x=>{const w=b=>{b.preventDefault(),g=!0;const _=b;s(_),x(_)};window.addEventListener("beforeinstallprompt",w,{once:!0}),setTimeout(()=>{g||(window.removeEventListener("beforeinstallprompt",w),x(null))},2e3)});if(m){try{await m.prompt();const{outcome:x}=await m.userChoice;x==="accepted"?(i(!0),s(null),le.success("App installation started!")):le.info("Installation cancelled. You can try again later.")}catch(x){console.error("Error installing PWA:",x),le.error("Failed to trigger installation. Please try using your browser menu.")}finally{d(!1)}return}if(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1){le.info("Tap the Share button (square with arrow), then select 'Add to Home Screen'",{duration:4e3}),d(!1);return}try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.ready;le.info("Install prompt not available. Please check your browser's menu for 'Install' or 'Add to Home Screen' option.",{duration:4e3})}}catch(x){console.error("Service worker check failed:",x)}d(!1)};if(a||l||!t)return null;const h=()=>o.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Install App Illustration",className:ue("w-full h-auto object-contain",e?"max-h-24":"max-h-40"),onError:g=>{console.error("Image failed to load:",g)}});return o.jsxs(ke,{className:ue(e&&"p-0"),children:[o.jsxs(vt,{className:ue(e&&"pb-3 px-4 pt-4"),children:[o.jsx(Pt,{className:"text-lg",children:"Install App"}),o.jsx(Xr,{children:"Download our app for a better experience"})]}),o.jsxs(Ce,{className:ue("space-y-4",e&&"space-y-3 px-4 pb-4"),children:[o.jsx(h,{}),o.jsxs("div",{className:ue("space-y-2",e&&"space-y-1.5"),children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(du,{className:ue("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),o.jsx("span",{children:"Works offline"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(du,{className:ue("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),o.jsx("span",{children:"Faster loading"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(du,{className:ue("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),o.jsx("span",{children:"Home screen access"})]})]}),o.jsxs(ne,{onClick:f,disabled:u,className:ue("w-full",e&&"h-9"),children:[o.jsx(F9,{className:ue("mr-2 h-4 w-4",e&&"h-3.5 w-3.5")}),u?"Preparing...":n?"Download & Install Now":"Download App"]})]})]})},P7e=async()=>{var e,t;try{const n=(await Ae.post(gt.PAYMENTS.BOG_AUTH)).data;if(!n.access_token||n.token_type!=="Bearer")throw new Error("Invalid response received from Bank of Georgia auth API.");return n}catch(r){if(r&&typeof r=="object"&&"response"in r&&r.response){const n=r;if(n.response.status===404)throw new Error("Payment authentication endpoint not found. Please ensure the backend payment endpoint is implemented. See BACKEND_PAYMENT_SETUP.md for details.");const s=((e=n.response.data)==null?void 0:e.error)||((t=n.response.data)==null?void 0:t.message)||`Bank of Georgia auth failed (${n.response.status})`;throw new Error(s)}else{if(r&&typeof r=="object"&&"request"in r)throw new Error("Unable to reach payment service. Please check your connection.");{const n=r instanceof Error?r.message:"An error occurred while requesting payment authorization.";throw new Error(n)}}}},Cj=[{id:"account",label:"Account Settings"},{id:"notifications",label:"Notifications"},{id:"privacy",label:"Privacy & Security"},{id:"subscription",label:"Subscription & Billing"},{id:"learning",label:"Learning Preferences"},{id:"accessibility",label:"Theme & Accessibility"}];function A7e(){const{user:e,logout:t,refreshUser:r}=_r(),{theme:n,setTheme:s}=qo(),{fontSize:a,setFontSize:i}=Due(),{language:l,setLanguage:c}=vi(),u=ha(),[d,f]=Ew();dr(),Vs();const[h,g]=p.useState(!1),y=p.useRef(null),m=p.useRef(null),v=()=>{const U=["account","notifications","privacy","subscription","learning","accessibility"];try{const de=d.get("section");if(de&&U.includes(de))return de}catch(de){console.error("Error getting initial section:",de)}return"account"},[x,w]=p.useState(()=>v());p.useEffect(()=>{const U=d.get("payment");U==="success"?(le.success("Payment successful! Your subscription has been activated."),f(de=>(de.delete("payment"),de))):U==="failed"&&(le.error("Payment failed. Please try again."),f(de=>(de.delete("payment"),de)))},[d,f]),p.useEffect(()=>{if(!u||!y.current)return;const U=setTimeout(()=>{const de=y.current;if(!de)return;const Te=de.querySelector(`[data-section="${x}"]`);if(!Te)return;const tt=de.getBoundingClientRect(),bt=Te.getBoundingClientRect(),At=de.scrollLeft,Yt=bt.left-tt.left+At,Kt=bt.width,Yr=tt.width,yt=Yt-Yr/2+Kt/2;de.scrollTo({left:Math.max(0,yt),behavior:"smooth"})},50);return()=>clearTimeout(U)},[x,u]);const[b,_]=p.useState(""),[S,E]=p.useState(""),[k,j]=p.useState(!1),N=p.useRef(!1),[C,P]=p.useState(1),[R,F]=p.useState(""),[z,D]=p.useState(""),[I,B]=p.useState(""),[T,M]=p.useState(!1),[Z,L]=p.useState(!0),[G,H]=p.useState(!0),[Y,ae]=p.useState(!0),[V,W]=p.useState(!0),[J,K]=p.useState(!0),[Q,se]=p.useState(!1),[X,ce]=p.useState(!1),[oe,xe]=p.useState(!1),[pe,re]=p.useState(null),[ee,ye]=p.useState(null),[De,$]=p.useState(null),[q,fe]=p.useState(!0),[be,qe]=p.useState(!0),[We,Ye]=p.useState(!0),[Pe,he]=p.useState("weekly"),[je,Ee]=p.useState(a),[Me,ht]=p.useState(l),ut=U=>{w(U)};p.useEffect(()=>{e&&!N.current&&(_(e.first_name||""),E(e.last_name||""))},[e==null?void 0:e.id,e==null?void 0:e.first_name,e==null?void 0:e.last_name]),p.useEffect(()=>{Ee(a)},[a]),p.useEffect(()=>{ht(l)},[l]),p.useEffect(()=>{g(!0);const U=(bt,At)=>{try{const Yt=localStorage.getItem(bt);if(Yt!==null)return JSON.parse(Yt)}catch(Yt){console.error(`Error loading preference ${bt}:`,Yt),localStorage.removeItem(bt)}return At};L(U("notif_email_job_matches",!0)),H(U("notif_email_new_courses",!0)),ae(U("notif_email_skill_updates",!0)),W(U("notif_in_app_messages",!0)),K(U("notif_in_app_progress",!0)),se(U("notif_newsletter",!1)),ce(U("notif_push",!1)),fe(U("privacy_show_skills",!0)),qe(U("privacy_show_test_results",!0)),Ye(U("privacy_show_completed_courses",!0)),he(U("ai_recommendation_frequency","weekly"));const de=U("breneo-font-size",a),Te=de==="large"?"big":de;["small","medium","big"].includes(Te)&&(Ee(Te),i(Te));const tt=U("accessibility_language","en");ht(tt==="en"||tt==="ka"?tt:"en")},[]),p.useEffect(()=>{h&&f({section:x},{replace:!1})},[x,h,f]),p.useEffect(()=>{h&&localStorage.setItem("notif_email_job_matches",JSON.stringify(Z))},[Z,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_email_new_courses",JSON.stringify(G))},[G,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_email_skill_updates",JSON.stringify(Y))},[Y,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_in_app_messages",JSON.stringify(V))},[V,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_in_app_progress",JSON.stringify(J))},[J,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_newsletter",JSON.stringify(Q))},[Q,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_push",JSON.stringify(X))},[X,h]),p.useEffect(()=>{h&&localStorage.setItem("privacy_show_skills",JSON.stringify(q))},[q,h]),p.useEffect(()=>{h&&localStorage.setItem("privacy_show_test_results",JSON.stringify(be))},[be,h]),p.useEffect(()=>{h&&localStorage.setItem("privacy_show_completed_courses",JSON.stringify(We))},[We,h]),p.useEffect(()=>{h&&localStorage.setItem("ai_recommendation_frequency",JSON.stringify(Pe))},[Pe,h]);const Ct=U=>{Ee(U),i(U)},at=U=>{ht(U),c(U),localStorage.setItem("accessibility_language",JSON.stringify(U))},kt=U=>{s(U),localStorage.setItem("theme",U)};p.useEffect(()=>{h&&localStorage.setItem("accessibility_language",JSON.stringify(Me))},[Me,h]);const we=async U=>{var de,Te;if(U.preventDefault(),M(!0),!(e!=null&&e.email)){le.error("Email not found. Please log in again."),M(!1);return}try{const tt=await Ae.post(gt.AUTH.PASSWORD_RESET,{email:e.email});le.success(tt.data.message||"Code sent to your email!"),P(2)}catch(tt){Ht.isAxiosError(tt)?le.error(((Te=(de=tt.response)==null?void 0:de.data)==null?void 0:Te.error)||"Error sending code"):le.error("Error sending code")}finally{M(!1)}},Be=async U=>{var de,Te;U.preventDefault(),M(!0);try{const tt=await Ae.post(gt.AUTH.PASSWORD_RESET_VERIFY,{email:e==null?void 0:e.email,code:R});le.success(tt.data.message||"Code verified!"),P(3)}catch(tt){Ht.isAxiosError(tt)?le.error(((Te=(de=tt.response)==null?void 0:de.data)==null?void 0:Te.error)||"Invalid code"):le.error("Invalid code")}finally{M(!1)}},Ie=async U=>{var de,Te;if(U.preventDefault(),z!==I){le.error("Passwords do not match");return}if(z.length<6){le.error("Password must be at least 6 characters long");return}M(!0);try{const tt=await Ae.post(gt.AUTH.PASSWORD_RESET_CONFIRM,{email:e==null?void 0:e.email,code:R,new_password:z,confirm_password:I});le.success(tt.data.message||"Password updated successfully!"),P(1),F(""),D(""),B("")}catch(tt){Ht.isAxiosError(tt)?le.error(((Te=(de=tt.response)==null?void 0:de.data)==null?void 0:Te.error)||"Error setting new password"):le.error("Error setting new password")}finally{M(!1)}},Ve=async()=>{le.info("Preparing your data export..."),setTimeout(()=>{le.success("Data export ready! Check your email for the download link.")},2e3)},ft=async()=>{var U,de,Te,tt,bt,At,Yt;if(!e){le.error("User not found. Please log in again.");return}if(!b.trim()&&!S.trim()){le.error("Please enter at least a first name or last name");return}N.current=!0,j(!0);try{const Kt=localStorage.getItem("authToken"),Yr={};b.trim()&&(Yr.first_name=b.trim()),S.trim()&&(Yr.last_name=S.trim());const yt=await Ae.patch(gt.AUTH.PROFILE,Yr,{headers:{Authorization:Kt?`Bearer ${Kt}`:void 0}}),Xe=await Ae.get(gt.AUTH.PROFILE,{headers:{Authorization:Kt?`Bearer ${Kt}`:void 0}});if(Xe.data){const _t=Xe.data,Wt=_t.first_name||((U=_t.user)==null?void 0:U.first_name)||((de=_t.profile)==null?void 0:de.first_name),Cr=_t.last_name||((Te=_t.user)==null?void 0:Te.last_name)||((tt=_t.profile)==null?void 0:tt.last_name);Wt!==void 0&&_(String(Wt||"")),Cr!==void 0&&E(String(Cr||""))}le.success("Profile updated successfully!"),N.current=!1,setTimeout(()=>{window.location.reload()},500)}catch(Kt){if(console.error(" Error updating profile:",Kt),N.current=!1,Ht.isAxiosError(Kt)){const Yr=(bt=Kt.response)==null?void 0:bt.data,yt=(typeof Yr=="object"&&Yr!==null?Yr.error||Yr.message||Yr.detail:null)||Kt.message||"Failed to update profile";console.error(" Error details:",{status:(At=Kt.response)==null?void 0:At.status,statusText:(Yt=Kt.response)==null?void 0:Yt.statusText,data:Yr,message:Kt.message}),le.error(String(yt))}else console.error(" Non-Axios error:",Kt),le.error("Failed to update profile. Please try again.")}finally{j(!1)}},er=n==="dark"?"ON":n==="system"?"AUTO":"OFF",A=()=>{switch(x){case"account":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Account Settings"}),o.jsxs(ke,{children:[o.jsxs(vt,{children:[o.jsx(Pt,{children:"Personal Information"}),o.jsx(Xr,{children:"Update your name and contact information"})]}),o.jsx(Ce,{className:"space-y-4",children:o.jsxs("form",{onSubmit:U=>{U.preventDefault(),ft()},className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"firstName",children:"First Name"}),o.jsx(pt,{id:"firstName",value:b,onChange:U=>{N.current=!0,_(U.target.value)},placeholder:"Enter your first name",disabled:k,className:"h-[3.2rem]"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"lastName",children:"Last Name"}),o.jsx(pt,{id:"lastName",value:S,onChange:U=>{N.current=!0,E(U.target.value)},placeholder:"Enter your last name",disabled:k,className:"h-[3.2rem]"})]}),o.jsx(xu,{}),o.jsx(ne,{type:"submit",disabled:k,children:k?"Saving...":"Save Changes"})]})})]}),o.jsxs(ke,{children:[o.jsxs(vt,{children:[o.jsx(Pt,{children:"Email & Password"}),o.jsx(Xr,{children:"Manage your login credentials and security"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{children:"Email Address"}),o.jsx(pt,{value:(e==null?void 0:e.email)||"",disabled:!0,className:"h-[3.2rem] bg-muted/50"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be edited. Contact support if you need to update it."})]}),o.jsx(xu,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(ze,{children:"Change Password"}),C===1&&o.jsx("form",{onSubmit:we,className:"space-y-4",children:o.jsx(ne,{type:"submit",disabled:T,children:T?"Sending...":"Send Verification Code"})}),C===2&&o.jsxs("form",{onSubmit:Be,className:"space-y-4",children:[o.jsx(pt,{placeholder:"Enter 6-digit code",value:R,onChange:U=>F(U.target.value),className:"h-[3.2rem]"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{type:"submit",disabled:T,children:T?"Verifying...":"Verify Code"}),o.jsx(ne,{type:"button",variant:"outline",onClick:()=>P(1),children:"Back"})]})]}),C===3&&o.jsxs("form",{onSubmit:Ie,className:"space-y-4",children:[o.jsx(pt,{type:"password",placeholder:"New password",value:z,onChange:U=>D(U.target.value),className:"h-[3.2rem]"}),o.jsx(pt,{type:"password",placeholder:"Confirm new password",value:I,onChange:U=>B(U.target.value),className:"h-[3.2rem]"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{type:"submit",disabled:T,children:T?"Updating...":"Update Password"}),o.jsx(ne,{type:"button",variant:"outline",onClick:()=>P(2),children:"Back"})]})]})]})]})]})]});case"notifications":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Notifications"}),o.jsxs(ke,{children:[o.jsxs(vt,{children:[o.jsx(Pt,{children:"Email Notifications"}),o.jsx(Xr,{children:"Control how and when you receive email updates"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"Job Matches"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when new jobs match your profile"})]}),o.jsx(hs,{checked:Z,onCheckedChange:L})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"New Courses"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates about new courses in your interests"})]}),o.jsx(hs,{checked:G,onCheckedChange:H})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"Skill Updates"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about skill recommendations and updates"})]}),o.jsx(hs,{checked:Y,onCheckedChange:ae})]}),o.jsx(xu,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"Newsletter"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Subscribe to our weekly newsletter"})]}),o.jsx(hs,{checked:Q,onCheckedChange:se})]})]})]}),o.jsxs(ke,{children:[o.jsxs(vt,{children:[o.jsx(Pt,{children:"In-App Notifications"}),o.jsx(Xr,{children:"Manage notifications within the application"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"Messages"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify me about new messages"})]}),o.jsx(hs,{checked:V,onCheckedChange:W})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"Progress Reminders"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get reminders about your learning progress"})]}),o.jsx(hs,{checked:J,onCheckedChange:K})]})]})]}),o.jsxs(ke,{children:[o.jsxs(vt,{children:[o.jsx(Pt,{children:"Push Notifications"}),o.jsx(Xr,{children:"Receive notifications even when you're not on the site"})]}),o.jsx(Ce,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"Enable Push Notifications"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow Breneo to send you push notifications"})]}),o.jsx(hs,{checked:X,onCheckedChange:ce})]})})]})]});case"privacy":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Privacy & Security"}),o.jsxs(ke,{children:[o.jsxs(vt,{children:[o.jsx(Pt,{children:"Data Visibility"}),o.jsx(Xr,{children:"Manage what information is visible on your profile"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"Show Skills"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your skills on your profile"})]}),o.jsx(hs,{checked:q,onCheckedChange:fe})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"Show Test Results"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your skill test results"})]}),o.jsx(hs,{checked:be,onCheckedChange:qe})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"Show Completed Courses"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Display courses you've completed"})]}),o.jsx(hs,{checked:We,onCheckedChange:Ye})]})]})]}),o.jsxs(ke,{children:[o.jsxs(vt,{children:[o.jsx(Pt,{children:"Data Management"}),o.jsx(Xr,{children:"Download or export your data (GDPR compliance)"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs(ne,{onClick:Ve,variant:"outline",children:[o.jsx(F9,{className:"h-4 w-4 mr-2"}),"Download My Data"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Request a copy of all your data. You'll receive an email with a download link."})]})]})]});case"subscription":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Subscription & Billing"}),o.jsxs(ke,{children:[o.jsxs(vt,{children:[o.jsx(Pt,{children:"Current Plan"}),o.jsx(Xr,{children:"Your current subscription plan"})]}),o.jsx(Ce,{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"Free Plan"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Access to basic features"})]}),o.jsx(Rr,{to:"/subscription",children:o.jsx(ne,{children:"Upgrade to Pro"})})]})})]}),o.jsxs(ke,{children:[o.jsxs(vt,{children:[o.jsx(Pt,{children:"Payment Methods"}),o.jsx(Xr,{children:"Manage your payment methods"})]}),o.jsx(Ce,{children:o.jsxs("div",{className:"space-y-3",children:[!ee&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"Authenticate with Bank of Georgia to add a payment method."}),ee&&o.jsxs("div",{className:"rounded-3xl border border-primary/40 bg-primary/5 p-4 text-sm",children:[o.jsx("p",{className:"font-medium text-primary",children:"Bank of Georgia authorization ready"}),o.jsxs("p",{className:"text-muted-foreground",children:["Token type: ",ee.token_type]}),o.jsxs("p",{className:"text-muted-foreground",children:["Expires in: ",ee.expires_in," seconds"]}),o.jsxs("p",{className:"text-muted-foreground break-all",children:["Access token: ",ee.access_token]})]}),pe&&o.jsxs(uO,{variant:pe.includes("not found")||pe.includes("endpoint")?"default":"destructive",children:[pe.includes("not found")||pe.includes("endpoint")?o.jsx(sde,{className:"h-4 w-4"}):o.jsx(Lf,{className:"h-4 w-4"}),o.jsx(dO,{children:pe.includes("not found")||pe.includes("endpoint")?"Backend Setup Required":"Payment Error"}),o.jsx(fO,{className:"text-sm",children:pe.includes("not found")||pe.includes("endpoint")?o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{children:"The payment backend endpoint is not yet implemented. To enable payments:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[o.jsxs("li",{children:["Implement"," ",o.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"POST /api/payments/bog/orders/"})," ","on your backend server"]}),o.jsxs("li",{children:["See"," ",o.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"BACKEND_PAYMENT_SETUP.md"})," ","for implementation details"]})]})]}):pe})]}),o.jsx(ne,{variant:"outline",onClick:async()=>{$(null),re(null);try{xe(!0);const U=await P7e();ye(U),le.success("Bank of Georgia authentication successful.")}catch(U){const de=U instanceof Error?U.message:"Authentication failed with Bank of Georgia.";re(de),le.error("Unable to authenticate with Bank of Georgia.")}finally{xe(!1)}},disabled:oe,children:oe&&!De?"Authorizing...":"Refresh Authorization"})]})})]}),o.jsxs(ke,{children:[o.jsxs(vt,{children:[o.jsx(Pt,{children:"Billing History"}),o.jsx(Xr,{children:"View and download your invoices"})]}),o.jsx(Ce,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"No billing history available"})})]})]});case"learning":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Learning Preferences"}),o.jsxs(ke,{children:[o.jsxs(vt,{children:[o.jsx(Pt,{children:"AI Recommendations"}),o.jsx(Xr,{children:"How often would you like AI recommendations?"})]}),o.jsx(Ce,{children:o.jsxs(si,{value:Pe,onValueChange:U=>he(U),children:[o.jsx(Ca,{children:o.jsx(ai,{})}),o.jsxs(Pa,{children:[o.jsx(hr,{value:"daily",children:"Daily"}),o.jsx(hr,{value:"weekly",children:"Weekly"}),o.jsx(hr,{value:"monthly",children:"Monthly"})]})]})})]}),o.jsxs(ke,{children:[o.jsxs(vt,{children:[o.jsx(Pt,{children:"Interests & Career Paths"}),o.jsx(Xr,{children:"Manage your interests and preferred career paths"})]}),o.jsx(Ce,{children:o.jsx(Rr,{to:"/interests",children:o.jsx(ne,{variant:"outline",children:"Manage Interests"})})})]})]});case"accessibility":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Theme & Accessibility"}),o.jsxs(ke,{children:[o.jsxs(vt,{children:[o.jsx(Pt,{children:"Appearance"}),o.jsx(Xr,{children:"Customize the look and feel of the application"})]}),o.jsx(Ce,{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ze,{children:"Theme"}),o.jsxs(si,{value:n||"light",onValueChange:U=>kt(U),children:[o.jsx(Ca,{className:"w-32",children:o.jsx(ai,{children:er})}),o.jsxs(Pa,{children:[o.jsx(hr,{value:"light",children:"Light"}),o.jsx(hr,{value:"dark",children:"Dark"}),o.jsx(hr,{value:"system",children:"Auto"})]})]})]})})]}),o.jsxs(ke,{children:[o.jsxs(vt,{children:[o.jsx(Pt,{children:"Accessibility"}),o.jsx(Xr,{children:"Adjust settings for better accessibility"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{children:"Font Size"}),o.jsxs(si,{value:je,onValueChange:Ct,children:[o.jsx(Ca,{children:o.jsx(ai,{})}),o.jsxs(Pa,{children:[o.jsx(hr,{value:"small",children:"Small"}),o.jsx(hr,{value:"medium",children:"Medium"}),o.jsx(hr,{value:"big",children:"Big"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{children:"Language"}),o.jsxs(si,{value:Me,onValueChange:at,children:[o.jsx(Ca,{children:o.jsx(ai,{})}),o.jsxs(Pa,{children:[o.jsx(hr,{value:"en",children:"English"}),o.jsx(hr,{value:"ka",children:"Georgian ()"})]})]})]})]})]})]});default:return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),o.jsx("p",{className:"text-muted-foreground",children:"Section not found"})]})}};return o.jsxs(Ot,{children:[u&&o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:hidden",style:{width:"380px"},children:o.jsxs("div",{className:"relative rounded-full overflow-hidden",children:[o.jsx("div",{ref:y,className:"overflow-x-auto scrollbar-hide touch-pan-x",style:{WebkitOverflowScrolling:"touch"},children:o.jsx(Ln.div,{layout:!0,transition:{type:"spring",stiffness:500,damping:40,mass:1},className:"relative inline-flex items-center bg-gray-100/90 dark:bg-[#242424]/90 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-full p-1 shadow-sm min-w-max",children:Cj.map((U,de)=>{const Te=de===0,tt=de===Cj.length-1,bt=x===U.id;return o.jsxs(Ln.button,{layout:!0,type:"button","data-section":U.id,ref:x===U.id?m:null,onClick:At=>{At.preventDefault(),At.stopPropagation(),ut(U.id)},onTouchStart:At=>{At.stopPropagation()},className:`relative px-6 py-2.5 text-sm transition-colors duration-200 whitespace-nowrap outline-none touch-manipulation ${Te?"rounded-l-full":""} ${tt?"rounded-r-full":""} ${!Te&&!tt?"rounded-none":""} ${bt?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[bt&&o.jsx(Ln.div,{layoutId:"active-settings-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-full",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:U.label})]},U.id)})})}),o.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-12 pointer-events-none bg-gradient-to-l from-gray-100/90 dark:from-[#242424]/90 to-transparent rounded-r-full"})]})}),o.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:o.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_400px]",children:[o.jsxs("div",{className:ue(u&&"min-h-screen pb-32"),children:[A(),u&&o.jsx("div",{className:"mt-8",children:o.jsx(QC,{compact:!0})})]}),!u&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsx(Pt,{className:"text-lg",children:"Settings"})}),o.jsx(Ce,{className:"space-y-2",children:Cj.map(U=>o.jsx("button",{type:"button",onClick:de=>{de.preventDefault(),de.stopPropagation(),ut(U.id)},className:ue("w-full text-left text-sm transition-colors",x===U.id?"text-primary font-medium":"text-foreground hover:text-primary"),children:U.label},U.id))})]}),o.jsx(QC,{})]})]})})]})}var hO="Checkbox",[T7e,aKe]=fa(hO),[O7e,$7e]=T7e(hO),HJ=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,g]=p.useState(null),y=wt(t,_=>g(_)),m=p.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,w]=pi({prop:s,defaultProp:a,onChange:u}),b=p.useRef(x);return p.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const S=()=>w(b.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[h,w]),o.jsxs(O7e,{scope:r,state:x,disabled:l,children:[o.jsx(nt.button,{type:"button",role:"checkbox","aria-checked":Ql(x)?"mixed":x,"aria-required":i,"data-state":JJ(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onKeyDown:Le(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Le(e.onClick,_=>{w(S=>Ql(S)?!0:!S),v&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})}),v&&o.jsx(R7e,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ql(a)?!1:a})]})});HJ.displayName=hO;var KJ="CheckboxIndicator",GJ=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=$7e(KJ,r);return o.jsx(Ns,{present:n||Ql(a.state)||a.state===!0,children:o.jsx(nt.span,{"data-state":JJ(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});GJ.displayName=KJ;var R7e=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...a}=e,i=p.useRef(null),l=Q1(r),c=_w(t);p.useEffect(()=>{const d=i.current,f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&g){const y=new Event("click",{bubbles:n});d.indeterminate=Ql(r),g.call(d,Ql(r)?!1:r),d.dispatchEvent(y)}},[l,r,n]);const u=p.useRef(Ql(r)?!1:r);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ql(e){return e==="indeterminate"}function JJ(e){return Ql(e)?"indeterminate":e?"checked":"unchecked"}var YJ=HJ,M7e=GJ;const ms=p.forwardRef(({className:e,...t},r)=>o.jsx(YJ,{ref:r,className:ue("peer h-4 w-4 shrink-0 rounded-[2px] border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:border-primary dark:data-[state=checked]:bg-primary dark:data-[state=checked]:border-primary",e),...t,children:o.jsx(M7e,{className:ue("flex items-center justify-center text-white"),children:o.jsx($w,{className:"h-4 w-4 text-white"})})}));ms.displayName=YJ.displayName;var XJ=["PageUp","PageDown"],QJ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ZJ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Xh="Slider",[ZC,I7e,L7e]=qy(Xh),[eY,iKe]=fa(Xh,[L7e]),[D7e,n_]=eY(Xh),tY=p.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:g=!1,form:y,...m}=e,v=p.useRef(new Set),x=p.useRef(0),b=i==="horizontal"?F7e:B7e,[_=[],S]=pi({prop:d,defaultProp:u,onChange:P=>{var F;(F=[...v.current][x.current])==null||F.focus(),f(P)}}),E=p.useRef(_);function k(P){const R=V7e(_,P);C(P,R)}function j(P){C(P,x.current)}function N(){const P=E.current[x.current];_[x.current]!==P&&h(_)}function C(P,R,{commit:F}={commit:!1}){const z=J7e(a),D=Y7e(Math.round((P-n)/a)*a+n,z),I=dg(D,[n,s]);S((B=[])=>{const T=q7e(B,I,R);if(G7e(T,c*a)){x.current=T.indexOf(I);const M=String(T)!==String(B);return M&&F&&h(T),M?T:B}else return B})}return o.jsx(D7e,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:x,thumbs:v.current,values:_,orientation:i,form:y,children:o.jsx(ZC.Provider,{scope:e.__scopeSlider,children:o.jsx(ZC.Slot,{scope:e.__scopeSlider,children:o.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...m,ref:t,onPointerDown:Le(m.onPointerDown,()=>{l||(E.current=_)}),min:n,max:s,inverted:g,onSlideStart:l?void 0:k,onSlideMove:l?void 0:j,onSlideEnd:l?void 0:N,onHomeKeyDown:()=>!l&&C(n,0,{commit:!0}),onEndKeyDown:()=>!l&&C(s,_.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:R})=>{if(!l){const D=XJ.includes(P.key)||P.shiftKey&&QJ.includes(P.key)?10:1,I=x.current,B=_[I],T=a*D*R;C(B+T,I,{commit:!0})}}})})})})});tY.displayName=Xh;var[rY,nY]=eY(Xh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),F7e=p.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=p.useState(null),g=wt(t,b=>h(b)),y=p.useRef(),m=Ch(s),v=m==="ltr",x=v&&!a||!v&&a;function w(b){const _=y.current||f.getBoundingClientRect(),S=[0,_.width],k=pO(S,x?[r,n]:[n,r]);return y.current=_,k(b-_.left)}return o.jsx(rY,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:o.jsx(sY,{dir:m,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const _=w(b.clientX);i==null||i(_)},onSlideMove:b=>{const _=w(b.clientX);l==null||l(_)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:b=>{const S=ZJ[x?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:S?-1:1})}})})}),B7e=p.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=p.useRef(null),f=wt(t,d),h=p.useRef(),g=!s;function y(m){const v=h.current||d.current.getBoundingClientRect(),x=[0,v.height],b=pO(x,g?[n,r]:[r,n]);return h.current=v,b(m-v.top)}return o.jsx(rY,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:o.jsx(sY,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const v=y(m.clientY);a==null||a(v)},onSlideMove:m=>{const v=y(m.clientY);i==null||i(v)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:m=>{const x=ZJ[g?"from-bottom":"from-top"].includes(m.key);c==null||c({event:m,direction:x?-1:1})}})})}),sY=p.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=n_(Xh,r);return o.jsx(nt.span,{...u,ref:t,onKeyDown:Le(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):XJ.concat(QJ).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Le(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:Le(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:Le(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),a(f))})})}),aY="SliderTrack",iY=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=n_(aY,r);return o.jsx(nt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});iY.displayName=aY;var e2="SliderRange",oY=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=n_(e2,r),a=nY(e2,r),i=p.useRef(null),l=wt(t,i),c=s.values.length,u=s.values.map(h=>cY(h,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(nt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});oY.displayName=e2;var t2="SliderThumb",lY=p.forwardRef((e,t)=>{const r=I7e(e.__scopeSlider),[n,s]=p.useState(null),a=wt(t,l=>s(l)),i=p.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(U7e,{...e,ref:a,index:i})}),U7e=p.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...a}=e,i=n_(t2,r),l=nY(t2,r),[c,u]=p.useState(null),d=wt(t,w=>u(w)),f=c?i.form||!!c.closest("form"):!0,h=_w(c),g=i.values[n],y=g===void 0?0:cY(g,i.min,i.max),m=W7e(n,i.values.length),v=h==null?void 0:h[l.size],x=v?H7e(v,y,l.direction):0;return p.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${x}px)`},children:[o.jsx(ZC.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(nt.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":i.min,"aria-valuenow":g,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:d,style:g===void 0?{display:"none"}:e.style,onFocus:Le(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),f&&o.jsx(z7e,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:g},n)]})});lY.displayName=t2;var z7e=e=>{const{value:t,...r}=e,n=p.useRef(null),s=Q1(t);return p.useEffect(()=>{const a=n.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==t&&c){const u=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(u)}},[s,t]),o.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function q7e(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,a)=>s-a)}function cY(e,t,r){const a=100/(r-t)*(e-t);return dg(a,[0,100])}function W7e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function V7e(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function H7e(e,t,r){const n=e/2,a=pO([0,50],[0,n]);return(n-a(t)*r)*r}function K7e(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function G7e(e,t){if(t>0){const r=K7e(e);return Math.min(...r)>=t}return!0}function pO(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function J7e(e){return(String(e).split(".")[1]||"").length}function Y7e(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var uY=tY,X7e=iY,Q7e=oY,Z7e=lY;const dY=p.forwardRef(({className:e,...t},r)=>{const n=t.value||t.defaultValue||[0],s=Array.isArray(n)?n.length:1;return o.jsxs(uY,{ref:r,className:ue("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(X7e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",children:o.jsx(Q7e,{className:"absolute h-full bg-breneo-blue dark:bg-breneo-blue"})}),Array.from({length:s}).map((a,i)=>o.jsx(Z7e,{className:"block h-5 w-5 rounded-full border-2 border-breneo-blue dark:border-breneo-blue bg-white dark:bg-gray-800 ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-breneo-blue focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},i))]})});dY.displayName=uY.displayName;const e9e=(e,t,r=20)=>{const n=[];for(let s=0;s<r;s++){const a=Math.exp(-s*.15)*100;n.push(Math.max(5,Math.min(100,a)))}return n},gF=({minSalary:e,maxSalary:t,salaryMin:r=e,salaryMax:n=t,salaryByAgreement:s=!1,onSalaryChange:a})=>{const{t:i}=vi(),[l,c]=p.useState(r??e),[u,d]=p.useState(n??t),[f,h]=p.useState(s),g=e9e(e,t,20),y=Math.max(...g);p.useEffect(()=>{c(r??e),d(n??t),h(s??!1)},[r,n,s,e,t]);const m=b=>{const[_,S]=b;c(_),d(S),a(_===e?void 0:_,S===t?void 0:S,f)},v=b=>{const _=parseInt(b.target.value)||e,S=Math.max(e,Math.min(_,u));c(S),a(S===e?void 0:S,u===t?void 0:u,f)},x=b=>{const _=parseInt(b.target.value)||t,S=Math.min(t,Math.max(_,l));d(S),a(l===e?void 0:l,S===t?void 0:S,f)},w=b=>{h(b),a(l===e?void 0:l,u===t?void 0:u,b)};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-base font-medium text-left text-gray-900 dark:text-gray-100",children:i.jobs.salaryRange}),o.jsx("div",{className:"relative h-16 flex items-end justify-between gap-0.5 px-1",children:g.map((b,_)=>{const S=b/y*100,E=e+_*(t-e)/g.length,k=e+(_+1)*(t-e)/g.length,j=E>=l&&k<=u;return o.jsx("div",{className:"flex-1 bg-gray-900 dark:bg-gray-200 transition-opacity rounded-md",style:{height:`${S}%`,minHeight:"4px",opacity:j?1:.3}},_)})}),o.jsx("div",{className:"px-2",children:o.jsx(dY,{value:[l,u],onValueChange:m,min:e,max:t,step:100,className:"w-full"})}),o.jsxs("div",{className:"flex items-end gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(ze,{htmlFor:"salary-min",className:"text-xs text-gray-600 dark:text-gray-300 mb-1 block",children:i.jobs.minimum}),o.jsx(pt,{id:"salary-min",type:"number",value:l,onChange:v,min:e,max:u,className:"h-10"})]}),o.jsx("div",{className:"pb-2.5",children:o.jsx("span",{className:"text-gray-400 dark:text-gray-400",children:"-"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx(ze,{htmlFor:"salary-max",className:"text-xs text-gray-600 dark:text-gray-300 mb-1 block",children:i.jobs.maximum}),o.jsx(pt,{id:"salary-max",type:"number",value:u,onChange:x,min:l,max:t,className:"h-10"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[o.jsx(ms,{id:"salary-by-agreement",checked:f,onCheckedChange:w}),o.jsx(ze,{htmlFor:"salary-by-agreement",className:"text-sm font-normal cursor-pointer text-gray-900 dark:text-gray-100",children:i.jobs.byAgreement})]})]})};function t9e(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function r9e(e,t=[]){let r=[];function n(a,i){const l=p.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:g,...y}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=p.useMemo(()=>y,Object.values(y));return o.jsx(m.Provider,{value:v,children:g})};u.displayName=a+"Provider";function d(f,h){var m;const g=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=p.useContext(g);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,n9e(s,...t)]}function n9e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var ty=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},s9e=dh[" useInsertionEffect ".trim().toString()]||ty;function a9e({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=i9e({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const h=o9e(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else a(d)},[l,e,a,i]);return[c,u]}function i9e({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),s=p.useRef(r),a=p.useRef(t);return s9e(()=>{a.current=t},[t]),p.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function o9e(e){return typeof e=="function"}function yF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function fY(...e){return t=>{let r=!1;const n=e.map(s=>{const a=yF(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():yF(e[s],null)}}}}function hY(...e){return p.useCallback(fY(...e),e)}function l9e(e){const t=c9e(e),r=p.forwardRef((n,s)=>{const{children:a,...i}=n,l=p.Children.toArray(a),c=l.find(d9e);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function c9e(e){const t=p.forwardRef((r,n)=>{const{children:s,...a}=r;if(p.isValidElement(s)){const i=h9e(s),l=f9e(a,s.props);return s.type!==p.Fragment&&(l.ref=n?fY(n,i):i),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var u9e=Symbol("radix.slottable");function d9e(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===u9e}function f9e(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function h9e(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var p9e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mO=p9e.reduce((e,t)=>{const r=l9e(`Primitive.${t}`),n=p.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function m9e(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var pY=e=>{const{present:t,children:r}=e,n=g9e(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),a=hY(n.ref,y9e(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:a}):null};pY.displayName="Presence";function g9e(e){const[t,r]=p.useState(),n=p.useRef(null),s=p.useRef(e),a=p.useRef("none"),i=e?"mounted":"unmounted",[l,c]=m9e(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=s0(n.current);a.current=l==="mounted"?u:"none"},[l]),ty(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,g=s0(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ty(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const m=s0(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&m&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=g=>{g.target===t&&(a.current=s0(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function s0(e){return(e==null?void 0:e.animationName)||"none"}function y9e(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var v9e=dh[" useId ".trim().toString()]||(()=>{}),x9e=0;function b9e(e){const[t,r]=p.useState(v9e());return ty(()=>{e||r(n=>n??String(x9e++))},[e]),e||(t?`radix-${t}`:"")}var s_="Collapsible",[w9e,oKe]=r9e(s_),[_9e,gO]=w9e(s_),mY=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:i,...l}=e,[c,u]=a9e({prop:n,defaultProp:s??!1,onChange:i,caller:s_});return o.jsx(_9e,{scope:r,disabled:a,contentId:b9e(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:o.jsx(mO.div,{"data-state":vO(c),"data-disabled":a?"":void 0,...l,ref:t})})});mY.displayName=s_;var gY="CollapsibleTrigger",yY=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=gO(gY,r);return o.jsx(mO.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":vO(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:t9e(e.onClick,s.onOpenToggle)})});yY.displayName=gY;var yO="CollapsibleContent",vY=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=gO(yO,e.__scopeCollapsible);return o.jsx(pY,{present:r||s.open,children:({present:a})=>o.jsx(S9e,{...n,ref:t,present:a})})});vY.displayName=yO;var S9e=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,i=gO(yO,r),[l,c]=p.useState(n),u=p.useRef(null),d=hY(t,u),f=p.useRef(0),h=f.current,g=p.useRef(0),y=g.current,m=i.open||l,v=p.useRef(m),x=p.useRef(void 0);return p.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),ty(()=>{const w=u.current;if(w){x.current=x.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const b=w.getBoundingClientRect();f.current=b.height,g.current=b.width,v.current||(w.style.transitionDuration=x.current.transitionDuration,w.style.animationName=x.current.animationName),c(n)}},[i.open,n]),o.jsx(mO.div,{"data-state":vO(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!m,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:m&&s})});function vO(e){return e?"open":"closed"}var j9e=mY;const r2=j9e,n2=yY,s2=vY,vF=["FULLTIME","PARTTIME","CONTRACTOR","INTERN"],k9e="",xF={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern"},bF=({filters:e,onFiltersChange:t,isMobile:r=!1,userTopSkills:n=[],mobileView:s="main",onMobileViewChange:a,countrySearchQuery:i="",onCountrySearchChange:l})=>{const{t:c}=vi(),[u,d]=p.useState(!1),[f,h]=p.useState(!1),[g,y]=p.useState(""),m=l&&i!==void 0?i:g,v=N=>{l?l(N):y(N)},x=O.useMemo(()=>{if(!m.trim())return un;const N=m.toLowerCase();return un.filter(C=>C.name.toLowerCase().includes(N)||C.code.toLowerCase().includes(N))},[m]);p.useEffect(()=>{r&&s!=="country"&&(l?l(""):y("")),!r&&!f&&(l?l(""):y(""))},[s,f,r,l]);const w=N=>{const C=e.jobTypes.includes(N)?e.jobTypes.filter(P=>P!==N):[...e.jobTypes,N];t({...e,jobTypes:C,countries:e.countries||[],datePosted:e.datePosted,skills:e.skills||[]})},b=N=>{const C=e.countries.includes(N)?e.countries.filter(P=>P!==N):[...e.countries,N];t({...e,countries:C,datePosted:e.datePosted,skills:e.skills||[],salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},_=N=>{t({...e,isRemote:N,countries:e.countries||[],datePosted:e.datePosted,skills:e.skills||[],salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},S=N=>{const C=e.skills.includes(N)?e.skills.filter(P=>P!==N):[...e.skills,N];t({...e,skills:C,countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},E=()=>{if(n.length===0)return;const N=n.every(C=>e.skills.includes(C));t(N?{...e,skills:[],countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement}:{...e,skills:n,countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},k=n.length>0&&n.every(N=>e.skills.includes(N)),j=(N,C,P)=>{t({...e,salaryMin:N,salaryMax:C,salaryByAgreement:P})};return r?s==="workType"?o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:o.jsxs("div",{className:"space-y-3",children:[vF.map(N=>{const C=e.jobTypes.includes(N);return o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-3",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0",children:xF[N]||N}),o.jsx(ms,{checked:C,onCheckedChange:()=>w(N),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},N)}),o.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 my-2"}),o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-3",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0",children:"Remote Jobs Only"}),o.jsx(ms,{checked:e.isRemote||!1,onCheckedChange:N=>_(!!N),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]})]})})}):s==="country"?o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden -mx-6 px-6",children:o.jsx("div",{className:"space-y-2",children:x.length===0?o.jsx("div",{className:"py-8 text-center text-sm text-gray-500",children:"No countries found"}):x.map(N=>{const C=e.countries.includes(N.code);return o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-2",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 truncate",children:N.name}),o.jsx(ms,{checked:C,onCheckedChange:()=>b(N.code),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},N.code)})})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:o.jsx(gF,{minSalary:0,maxSalary:2e4,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement,onSalaryChange:j})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{type:"button",onClick:()=>a==null?void 0:a("workType"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.workType}),o.jsx(ja,{className:"h-4 w-4 text-gray-400"})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{type:"button",onClick:()=>a==null?void 0:a("country"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.country}),o.jsx(ja,{className:"h-4 w-4 text-gray-400"})]})}),n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ze,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:c.jobs.interests}),o.jsx("button",{type:"button",onClick:E,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:k?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(N=>{const C=e.skills.includes(N);return o.jsx("button",{type:"button",onClick:()=>S(N),className:`
                      px-4 py-2 rounded-full text-sm font-medium transition-colors border
                      ${C?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                    `,children:N},N)})})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"space-y-3",children:o.jsx(gF,{minSalary:0,maxSalary:2e4,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement,onSalaryChange:j})}),n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ze,{className:"text-base font-medium dark:text-gray-100",children:c.jobs.interests}),o.jsx("button",{type:"button",onClick:E,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:k?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(N=>{const C=e.skills.includes(N);return o.jsx("button",{type:"button",onClick:()=>S(N),className:`
                    px-4 py-2 rounded-full text-sm font-medium transition-colors border
                    ${C?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                  `,children:N},N)})})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs(r2,{open:u,onOpenChange:d,children:[o.jsxs(n2,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${u?"rounded-t-lg":"rounded-lg"}`,children:[o.jsx(ze,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.workType}),o.jsx(If,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${u?"transform rotate-180":""}`})]}),o.jsx(s2,{className:"mt-0",children:o.jsx("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"grid grid-cols-2 gap-3",children:vF.map(N=>{const C=e.jobTypes.includes(N);return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(ms,{checked:C,onCheckedChange:()=>w(N),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:xF[N]||N})]},N)})}),o.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 my-2"}),o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(ms,{checked:e.isRemote||!1,onCheckedChange:N=>_(!!N),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:"Remote Jobs Only"})]})]})})})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs(r2,{open:f,onOpenChange:N=>{h(N),N||v("")},children:[o.jsxs(n2,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${f?"rounded-t-lg":"rounded-lg"}`,children:[o.jsx(ze,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.country}),o.jsx(If,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${f?"transform rotate-180":""}`})]}),o.jsx(s2,{className:"mt-0",children:o.jsxs("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:[o.jsx("div",{className:"sticky top-0 z-10 bg-gray-100 dark:bg-[rgb(55,57,60)] p-3 border-b border-gray-300 dark:border-gray-600",children:o.jsxs("div",{className:"relative",children:[o.jsx(Lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(pt,{type:"text",placeholder:"Search countries...",value:m,onChange:N=>v(N.target.value),className:"pl-9 pr-3 h-9 text-sm bg-white dark:bg-gray-700"})]})}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-2 gap-2",children:x.length===0?o.jsx("div",{className:"col-span-2 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):x.map(N=>{const C=e.countries.includes(N.code);return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(ms,{checked:C,onCheckedChange:()=>b(N.code),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:N.name})]},N.code)})})})]})})]})})]})},xY=({isOpen:e,onClose:t,filters:r,onFiltersChange:n,onApply:s,onClear:a,userTopSkills:i=[]})=>{const{t:l}=vi(),c=ha(),[u,d]=p.useState("main"),[f,h]=p.useState(!1),[g,y]=p.useState(!1),[m,v]=p.useState(""),[x,w]=p.useState("");return O.useMemo(()=>{if(!m.trim())return un;const b=m.toLowerCase();return un.filter(_=>_.name.toLowerCase().includes(b)||_.code.toLowerCase().includes(b))},[m]),p.useEffect(()=>{e||(h(!1),y(!1),d("main"),w(""))},[e]),c?o.jsx(ys,{open:e,onOpenChange:t,children:o.jsxs(vs,{className:"max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(xs,{className:"flex-shrink-0 border-b border-gray-200",children:o.jsx(bs,{className:"text-xl font-bold",children:u==="workType"?l.jobs.workType:u==="country"?l.jobs.country:k9e})}),u==="country"&&o.jsx("div",{className:"flex-shrink-0 px-6 py-3 border-b border-gray-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(Lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(pt,{type:"text",placeholder:"Search countries...",value:x,onChange:b=>w(b.target.value),className:"pl-9 pr-3 h-9 text-sm"})]})}),o.jsx("div",{className:"px-6 py-6 flex-1 overflow-y-auto min-h-0",children:o.jsx(bF,{filters:r,onFiltersChange:n,isMobile:!0,userTopSkills:i,mobileView:u,onMobileViewChange:d,countrySearchQuery:x,onCountrySearchChange:w})}),u==="main"&&o.jsx(aa,{className:"border-t border-gray-200",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(ne,{onClick:()=>{a(),d("main")},variant:"ghost",className:"h-12 px-6 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0 rounded-[18px]",children:l.common.clear}),o.jsx(ne,{onClick:()=>{s(),d("main")},className:"h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:l.common.apply})]})}),(u==="workType"||u==="country")&&o.jsx(aa,{className:"border-t border-gray-200",children:o.jsx(ne,{onClick:()=>{w(""),d("main")},className:"w-full h-12 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:"Done"})})]})}):o.jsx(ts,{open:e,onOpenChange:t,children:o.jsxs(Fn,{className:"max-w-3xl max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(Bn,{className:"flex-shrink-0",children:o.jsx(Un,{children:"Filter Jobs"})}),o.jsx("div",{className:"py-4 overflow-y-auto flex-1 min-h-0",children:o.jsx(bF,{filters:r,onFiltersChange:n,isMobile:!1,userTopSkills:i})}),o.jsx(gs,{className:"flex-shrink-0",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(ne,{onClick:()=>{a()},variant:"ghost",className:"w-auto h-10 px-4 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0",children:l.common.clear}),o.jsx(ne,{onClick:s,className:"w-auto h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90",children:l.common.apply})]})})]})})},nl=[{id:"FULLTIME",label:"Full Time"},{id:"PARTTIME",label:"Part Time"},{id:"CONTRACTOR",label:"Contractor"},{id:"INTERN",label:"Intern"}],bY=({selectedWorkTypes:e,onWorkTypesChange:t,placeholder:r="Work types",isRemote:n=!1,onRemoteChange:s})=>{var _;const[a,i]=p.useState(!1),[l,c]=p.useState(e),[u,d]=p.useState(n),f=p.useRef(null);p.useEffect(()=>{a&&(c(e),d(n))},[a,e,n]),p.useEffect(()=>{const S=k=>{f.current&&!f.current.contains(k.target)&&(i(!1),c(e),d(n))},E=k=>{k.key==="Escape"&&(i(!1),c(e),d(n))};return a&&(document.addEventListener("mousedown",S),document.addEventListener("keydown",E)),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("keydown",E)}},[a,e,n]);const h=S=>{l.includes(S)?c(l.filter(E=>E!==S)):c([...l,S])},g=()=>{l.length===nl.length?c([]):c(nl.map(S=>S.id))},y=()=>{t(l),s&&s(u),i(!1)},m=l.length===nl.length,v=e.length===0?r:e.length===1?((_=nl.find(S=>S.id===e[0]))==null?void 0:_.label)||r:e.length===nl.length?"All work types":e.map(S=>{var E;return((E=nl.find(k=>k.id===S))==null?void 0:E.label)||S}).join(", "),x=e.length===0,w=(S,E)=>{S.stopPropagation();const k=e.filter(j=>j!==E);t(k)},b=S=>{S.stopPropagation(),t([])};return o.jsxs("div",{className:"relative w-full max-w-full",ref:f,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full min-w-0",children:[o.jsxs("button",{type:"button",onClick:()=>i(!a),className:ue("flex items-center flex-1 min-w-0 h-auto py-0 px-0 text-sm text-left bg-transparent border-0 focus:outline-none focus:ring-0","transition-colors cursor-pointer hover:opacity-80 overflow-hidden",x?"text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-gray-100"),children:[o.jsx(ide,{className:"h-4 w-4 md:h-5 md:w-5 text-breneo-accent flex-shrink-0 mr-2"}),e.length===0?o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:r}):o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:v})]}),e.length>0&&o.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),e.length===1?w(S,e[0]):b(S)},className:"flex-shrink-0 p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded ml-1 transition-all duration-200 animate-in fade-in-0 zoom-in-95","aria-label":e.length===1?"Remove work type":"Remove all work types",children:o.jsx(yn,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 hover:scale-110"})})]}),a&&o.jsxs("div",{className:ue("absolute top-full left-0 mt-2 w-[calc(100vw-2rem)] md:w-[320px] rounded-lg shadow-lg border z-[9999] max-h-[400px] flex flex-col overflow-hidden","bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","min-w-[280px]"),children:[o.jsxs("div",{className:ue("flex items-center justify-between px-4 py-3 border-b","border-gray-200 dark:border-gray-700"),children:[o.jsx("h3",{className:ue("font-bold text-base","text-gray-900 dark:text-gray-100"),children:"Work Types"}),o.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),i(!1)},className:ue("p-1 rounded transition-colors","hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Close",children:o.jsx(yn,{className:ue("h-5 w-5","text-gray-900 dark:text-gray-100")})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[o.jsxs("div",{className:ue("flex items-center px-4 py-3 cursor-pointer transition-colors border-b","hover:bg-gray-50 dark:hover:bg-gray-700/50","border-gray-100 dark:border-gray-700"),onClick:S=>{S.stopPropagation(),g()},children:[o.jsx(ms,{checked:m,onCheckedChange:S=>{c(S?nl.map(E=>E.id):[])},className:"mr-3"}),o.jsx("span",{className:ue("text-sm","text-gray-900 dark:text-gray-100"),children:"Select All"})]}),nl.map(S=>{const E=l.includes(S.id);return o.jsxs("div",{className:ue("flex items-center px-4 py-3 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:k=>{k.stopPropagation(),h(S.id)},children:[o.jsx(ms,{checked:E,onCheckedChange:k=>{c(k?[...l,S.id]:l.filter(j=>j!==S.id))},className:"mr-3"}),o.jsx("span",{className:ue("text-sm","text-gray-900 dark:text-gray-100"),children:S.label})]},S.id)}),s&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:ue("border-t","border-gray-100 dark:border-gray-700")}),o.jsxs("div",{className:ue("flex items-center px-4 py-3 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:S=>{S.stopPropagation(),d(!u)},children:[o.jsx(ms,{checked:u,onCheckedChange:S=>{d(!!S)},className:"mr-3"}),o.jsx("span",{className:ue("text-sm","text-gray-900 dark:text-gray-100"),children:"Remote Jobs Only"})]})]})]}),o.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-white dark:bg-gray-800 sticky bottom-0 z-10",children:o.jsx(ne,{onClick:S=>{S.stopPropagation(),y()},className:"w-full",children:"Save"})})]})]})},sl={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern",INTERNSHIP:"Internship"},E9e=async(e=1)=>{try{console.log(` fetchInternshipJobs called - fetching internship jobs page ${e}`);const t=await mi.fetchActiveJobs({query:"intern intern internship",filters:{country:void 0,countries:[],jobTypes:["INTERN"],isRemote:void 0,datePosted:"week",skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:e,pageSize:50});if(!t||!Array.isArray(t.jobs))return console.warn("Invalid response format from job service:",t),{jobs:[],hasMore:!1,total:0};const r=t.jobs.filter(n=>{const s=String(n.id||"");return s&&s.trim()!==""});return{jobs:r,hasMore:t.hasMore??!1,total:t.total||r.length}}catch(t){return console.error("Error fetching internship jobs:",t),{jobs:[],hasMore:!1,total:0}}},N9e=async(e=1,t=[])=>{var r,n;try{console.log(` fetchRemoteJobs called - fetching remote jobs page ${e} with skills:`,t);const s=await mi.fetchActiveJobs({query:"remote",filters:{country:void 0,countries:[],jobTypes:[],isRemote:!0,datePosted:"week",skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:e,pageSize:50});if(console.log(" fetchRemoteJobs response:",{totalJobs:((r=s.jobs)==null?void 0:r.length)||0,hasMore:s.hasMore,sampleJob:((n=s.jobs)==null?void 0:n[0])||null}),!s||!Array.isArray(s.jobs))return console.warn("Invalid response format from job service:",s),{jobs:[],hasMore:!1,total:0};const a=s.jobs.filter(i=>{const l=String(i.id||"");return l&&l.trim()!==""});return console.log(` fetchRemoteJobs: ${a.length} valid remote jobs found`),{jobs:a,hasMore:s.hasMore??!1,total:s.total||a.length}}catch(s){return console.error(" Error fetching remote jobs:",s),{jobs:[],hasMore:!1,total:0}}},wF="jobsFilters",wY="jobsPage_latestJobs",_Y=30*60*1e3,C9e=()=>{try{const e=sessionStorage.getItem(wY);if(!e)return null;const t=JSON.parse(e);return!t||!Array.isArray(t.jobs)||Date.now()-t.timestamp>_Y?null:{jobs:t.jobs,hasMore:t.hasMore??!1,total:t.total??t.jobs.length}}catch{return null}},P9e=e=>{try{sessionStorage.setItem(wY,JSON.stringify({...e,timestamp:Date.now()}))}catch{}},A9e=(e,t,r)=>{try{sessionStorage.setItem(e,JSON.stringify({filters:t,search:r}))}catch(n){console.error("Error saving filters to session storage:",n)}},T9e=e=>{try{const t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading filters from session storage:",t)}return null},O9e=()=>{const{user:e}=_r(),t=Vs(),r=ha(),n=dr(),[s,a]=Ew(),[i,l]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState(!0),h=O.useRef(!1),[g,y]=p.useState(1),[m,v]=p.useState([]),[x,w]=p.useState(!1),[b,_]=p.useState(!1),[S,E]=p.useState(1),[k,j]=p.useState([]),[N,C]=p.useState(!1),[P,R]=p.useState(!1),[F,z]=p.useState(1),[D,I]=p.useState([]),[B,T]=p.useState(!1),[M,Z]=p.useState(!1);p.useCallback((A,U,de)=>{const Te=new URLSearchParams;U&&Te.set("search",U),A.countries.length>0&&Te.set("countries",A.countries.join(",")),A.skills.length>0&&Te.set("skills",A.skills.join(",")),A.jobTypes.length>0&&Te.set("jobTypes",A.jobTypes.join(",")),A.isRemote&&Te.set("isRemote","true"),A.datePosted&&A.datePosted!=="all"&&Te.set("datePosted",A.datePosted),de>1&&Te.set("page",String(de)),a(Te,{replace:!0}),A9e(wF,A,U)},[a]);const[L,G]=p.useState(()=>({country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1})),[H,Y]=p.useState(()=>{const A=s.get("search");if(A)return A;const U=T9e(wF);return U&&U.search?U.search:""}),[ae,V]=p.useState(L),W=A=>{let U=0;return A.countries.length>0&&(U+=A.countries.length),A.jobTypes.length>0&&(U+=A.jobTypes.length),A.isRemote&&(U+=1),A.datePosted&&(U+=1),A.skills.length>0&&(U+=A.skills.length),(A.salaryMin!==void 0||A.salaryMax!==void 0)&&(U+=1),A.salaryByAgreement&&(U+=1),U};p.useEffect(()=>{i&&V(L)},[i,L]),p.useEffect(()=>{if(s.get("search")||s.get("countries")||s.get("country")||s.get("skills")||s.get("jobTypes")||s.get("isRemote")||s.get("datePosted")||s.get("page")||s.get("salaryMin")||s.get("salaryMax")||s.get("salaryByAgreement")){const U=new URLSearchParams(s);!U.get("page")&&U.toString()&&U.set("page","1"),n(`/jobs/search?${U.toString()}`,{replace:!0})}},[]),p.useEffect(()=>{(async()=>{if(!e){f(!1);return}try{f(!0);try{const de=await Ae.get(`/api/skilltest/results/?user=${e.id}`);if(de.data&&Array.isArray(de.data)&&de.data.length>0){const tt=de.data[0].skills_json,bt=Object.keys(tt.tech||{});u(bt),f(!1);return}}catch{console.log("API endpoint not available, trying Supabase...")}const U=await Th(String(e.id));if(U&&U.length>0){const de=Oh(U),tt=t1(de,20).map(At=>At.skill),bt=hg(tt);u(bt)}}catch(U){console.error("Error fetching user skills:",U),u([])}finally{f(!1)}})()},[e]),p.useEffect(()=>{h.current=!1},[e==null?void 0:e.id]),p.useEffect(()=>{!d&&c.length>0&&!h.current&&(G(A=>({...A,skills:[...c]})),V(A=>({...A,skills:[...c]})),h.current=!0)},[d,c,e==null?void 0:e.id]);const{data:J=[]}=Xt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var A;if(!e)return[];try{return(((A=(await Ae.get(gt.AUTH.PROFILE)).data)==null?void 0:A.saved_jobs)||[]).map(Te=>String(Te))}catch(U){return console.error("Error fetching saved jobs from profile API:",U),[]}},enabled:!!e});p.useMemo(()=>hg(L.skills||[]),[L.skills]),p.useMemo(()=>JSON.stringify({countries:L.countries.sort(),skills:L.skills.sort(),jobTypes:L.jobTypes.sort(),isRemote:L.isRemote,datePosted:L.datePosted,salaryMin:L.salaryMin,salaryMax:L.salaryMax,salaryByAgreement:L.salaryByAgreement}),[L]);const{data:K={jobs:[],hasMore:!1,total:0},isLoading:Q,error:se}=Xt({queryKey:["latestJobs"],queryFn:async()=>{try{const A=C9e();if(A)return A;const U=await mi.fetchActiveJobs({query:"",filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:"week",skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:1,pageSize:500});if(!U||!Array.isArray(U.jobs))return{jobs:[],hasMore:!1,total:0};const de=U.jobs.filter(tt=>{const bt=String(tt.id||"");return bt&&bt.trim()!==""}),Te={jobs:de,hasMore:U.hasMore??!1,total:de.length};return P9e(Te),Te}catch(A){throw console.error(" Error fetching jobs:",A),A}},refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:_Y,gcTime:60*60*1e3,retry:2,retryDelay:1e3,enabled:!0}),{data:X={jobs:[],hasMore:!1,total:0},isLoading:ce,error:oe}=Xt({queryKey:["internshipJobs",S],queryFn:()=>E9e(S),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!0}),{data:xe={jobs:[],hasMore:!1,total:0},isLoading:pe,error:re}=Xt({queryKey:["remoteJobs",F],queryFn:()=>N9e(F,[]),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!0});p.useEffect(()=>{K.jobs&&K.jobs.length>0?(v(K.jobs),w(K.hasMore),_(!1)):(v([]),w(!1))},[K]),p.useEffect(()=>{X.jobs&&X.jobs.length>0?(j(S===1?X.jobs:A=>{const U=new Set(A.map(Te=>Te.id||Te.job_id)),de=X.jobs.filter(Te=>!U.has(Te.id||Te.job_id));return[...A,...de]}),C(X.hasMore),R(!1)):S===1&&(j([]),C(!1))},[X,S]),p.useEffect(()=>{xe.jobs&&xe.jobs.length>0?(I(F===1?xe.jobs:A=>{const U=new Set(A.map(Te=>Te.id||Te.job_id)),de=xe.jobs.filter(Te=>!U.has(Te.id||Te.job_id));return[...A,...de]}),T(xe.hasMore),Z(!1)):F===1&&(I([]),T(!1))},[xe,F]);const ee=m,ye=k;p.useCallback(()=>{_(!0),y(A=>A+1)},[]),p.useCallback(()=>{R(!0),E(A=>A+1)},[]),p.useCallback(()=>{Z(!0),z(A=>A+1)},[]);const De=p.useCallback(()=>{const A=new URLSearchParams;H.trim()&&A.set("search",H.trim()),L.countries.length>0&&A.set("countries",L.countries.join(",")),L.skills.length>0&&A.set("skills",L.skills.join(",")),L.jobTypes.length>0&&A.set("jobTypes",L.jobTypes.join(",")),L.isRemote&&A.set("isRemote","true"),L.datePosted&&A.set("datePosted",L.datePosted),L.salaryMin!==void 0&&A.set("salaryMin",String(L.salaryMin)),L.salaryMax!==void 0&&A.set("salaryMax",String(L.salaryMax)),L.salaryByAgreement&&A.set("salaryByAgreement","true"),n(`/jobs/search?${A.toString()}`)},[H,L,n]),$=A=>{Y(A)},q=A=>{A.key==="Enter"&&De()},fe=ca({mutationFn:async A=>{if(!e)throw new Error("User not logged in");if(!A.id)throw new Error("Job ID is required");const U=String(A.id);A.is_saved;try{const de=`${gt.JOBS.SAVE_JOB}${U}/`;await Ae.post(de)}catch(de){const Te=de instanceof Error?de.message:"Failed to save job. Please try again.";throw new Error(Te)}},onSuccess:(A,U)=>{t.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),t.invalidateQueries({queryKey:["profile"]}),le.success(U.is_saved?"Job Unsaved":"Job Saved")},onError:A=>{console.error("Error saving job:",A);const U=A instanceof Error?A.message:"Failed to save job";le.error(U)}}),be=O.useMemo(()=>{if(!ee||ee.length===0)return[];try{return(ee||[]).map(A=>{const U=A.company&&typeof A.company=="object"?A.company:null,de=String(A.id||"");if(!de||de.trim()==="")return console.warn("Skipping job without valid ID:",A),null;const Te=String(A.title||A.job_title||A.position||"Untitled Position"),tt=String(A.company_name||(U!=null&&U.company_name&&typeof U.company_name=="string"?U.company_name:null)||(U!=null&&U.name&&typeof U.name=="string"?U.name:null)||(A.companyName&&typeof A.companyName=="string"?A.companyName:null)||(A.employer_name&&typeof A.employer_name=="string"?A.employer_name:null)||(typeof A.company=="string"?A.company:null)||"Unknown Company"),bt=A.job_city||A.city||(U==null?void 0:U.city)||"",At=A.job_state||A.state||(U==null?void 0:U.state)||"",Yt=A.job_country||A.country||(U==null?void 0:U.country)||"",Yr=String(((Se,Ue)=>{if(Se!=null&&Se.job_is_remote||Se!=null&&Se.is_remote||(Se==null?void 0:Se.remote)===!0)return"Remote";const Ke=xt=>xt&&typeof xt=="string"&&xt.trim()?xt.trim():null,dt=xt=>{if(!xt||typeof xt!="object")return null;if(Ke(xt.display_name))return xt.display_name;if(Ke(xt.name))return xt.name;if(Ke(xt.location))return xt.location;if(Ke(xt.address))return xt.address;const It=[xt.city||xt.town||xt.region||xt.state,xt.country].filter(Boolean).map(gr=>String(gr));return It.length?It.join(", "):null};if(Array.isArray(Se.locations)&&Se.locations.length>0)for(const xt of Se.locations){const It=Ke(xt)||dt(xt);if(It)return It}const Et=[Se.jobLocation,Se.location,Se.location_name,Se.job_location,Se.work_location,Se.address];for(const xt of Et){const It=Ke(xt);if(It)return It}const ar=dt(Se.location)||dt(Se.locationData)||dt(Se.job_location)||null;if(ar)return ar;if(Ue){const xt=Ke(Ue.location)||Ke(Ue.address)||dt(Ue.location)||null;if(xt)return xt}const Fr=[bt,At,Yt].filter(Boolean).map(xt=>String(xt)).join(", ");return Fr||"Location not specified"})(A,U)),yt=A.apply_url||A.job_apply_link||A.apply_link||A.url||A.applyUrl||A.jobUrl||A.company_url||(U==null?void 0:U.url)||"";let Xe;!Xe&&typeof A.company_logo=="string"&&A.company_logo.trim()&&(Xe=A.company_logo.trim());const _t=Se=>{if(!Se)return!1;if(Array.isArray(Se)){for(const Ke of Se)if(_t(Ke))return!0;return!1}if(typeof Se=="object"){const Ke=Se,dt=[Ke.url,Ke.src,Ke.href,Ke.logo,Ke.image,Ke.path,Ke.file,Ke.thumbnail];for(const Et of dt)if(_t(Et))return!0;return!1}const Ue=String(Se).trim();return Ue?Ue.startsWith("data:")||Ue.startsWith("blob:")?(Xe=Ue,!0):Ue.startsWith("//")?(Xe=`https:${Ue}`,!0):Ue.startsWith("http://")||Ue.startsWith("https://")||Ue.startsWith("/")||Ue.startsWith("./")||Ue.startsWith("../")?(Xe=Ue,!0):!1:!1},Wt=A;if(!Xe&&Wt.company_logo&&_t(Wt.company_logo),!Xe&&A.company_logo&&_t(A.company_logo),!Xe&&Wt.companyLogo&&_t(Wt.companyLogo),!Xe&&A.companyLogo&&_t(A.companyLogo),!Xe&&Wt.employer_logo&&_t(Wt.employer_logo),!Xe&&A.employer_logo&&_t(A.employer_logo),!Xe&&Wt.logo&&_t(Wt.logo),!Xe&&A.logo&&_t(A.logo),!Xe&&Wt.logo_url&&_t(Wt.logo_url),!Xe&&A.logo_url&&_t(A.logo_url),!Xe&&Wt.employerLogo&&_t(Wt.employerLogo),!Xe&&Wt.companyLogoUrl&&_t(Wt.companyLogoUrl),!Xe&&Wt.logoUrl&&_t(Wt.logoUrl),!Xe&&U&&(U.logo&&_t(U.logo),!Xe&&U.logo_url&&_t(U.logo_url),!Xe&&U.company_logo&&_t(U.company_logo),!Xe&&U.employer_logo&&_t(U.employer_logo)),!Xe&&A.employer&&typeof A.employer=="object"){const Se=A.employer;Se.logo&&_t(Se.logo),!Xe&&Se.logo_url&&_t(Se.logo_url),!Xe&&Se.company_logo&&_t(Se.company_logo),!Xe&&Se.employer_logo&&_t(Se.employer_logo)}let Cr="By agreement";const On=A.job_min_salary||A.min_salary,ie=A.job_max_salary||A.max_salary,Ne=A.job_salary_currency||A.salary_currency||"$",Fe=A.job_salary_period||A.salary_period||"yearly";if(On&&ie&&typeof On=="number"&&typeof ie=="number"){const Se=Fe==="monthly"?"Monthly":"",Ue=On.toLocaleString(),Ke=ie.toLocaleString();["$","","","","",""].some(ar=>Ne.includes(ar))?Cr=`${Ne}${Ue} - ${Ne}${Ke}${Se?`/${Se}`:""}`:Cr=`${Ue} - ${Ke} ${Ne}${Se?`/${Se}`:""}`}else if(On&&typeof On=="number"){const Se=On.toLocaleString();Cr=["$","","","","",""].some(dt=>Ne.includes(dt))?`${Ne}${Se}+`:`${Se}+ ${Ne}`}else A.salary&&typeof A.salary=="string"&&(Cr=A.salary);const He=A.job_employment_type||A.employment_type||A.type||"FULLTIME",ct=He.toUpperCase(),Tt=sl[ct]||sl[He]||He||"Full time";let mt="On-site";A.job_is_remote||A.is_remote||A.remote===!0?mt="Remote":Te!=null&&Te.toLowerCase().includes("hybrid")&&(mt="Hybrid");const $e=mu(A),Oe=Jl(c,$e,Te);return{id:de,title:Te,company:tt,company_name:A.company_name||A.employer_name||(typeof A.company=="string"?A.company:void 0),location:Yr,url:yt,company_logo:Xe,is_saved:J==null?void 0:J.includes(String(de)),salary:Cr,employment_type:Tt,work_arrangement:mt,matchPercentage:Oe}}).filter(A=>A!==null)}catch(A){return console.error("Error transforming jobs:",A),[]}},[ee,J,c]),qe=p.useMemo(()=>{console.log(" Processing latest jobs - total jobs:",be.length);const U=[...be].sort((de,Te)=>{const tt=m.find(Kt=>(Kt.id||Kt.job_id)===de.id),bt=m.find(Kt=>(Kt.id||Kt.job_id)===Te.id),At=(tt==null?void 0:tt.posted_at)||(tt==null?void 0:tt.fetched_at)||(tt==null?void 0:tt.date_posted)||"",Yt=(bt==null?void 0:bt.posted_at)||(bt==null?void 0:bt.fetched_at)||(bt==null?void 0:bt.date_posted)||"";if(At&&Yt)try{const Kt=new Date(At).getTime();return new Date(Yt).getTime()-Kt}catch{return 0}return!At&&Yt?1:At&&!Yt?-1:0}).slice(0,9);return console.log(` Displaying ${U.length} latest jobs (no filters applied)`),U},[be,m]),We=O.useMemo(()=>{if(!ye||ye.length===0)return[];try{return(ye||[]).map(A=>{const U=A.company&&typeof A.company=="object"?A.company:null,de=String(A.id||"");if(!de||de.trim()==="")return console.warn("Skipping internship job without valid ID:",A),null;const Te=A.title||A.job_title||A.position||"Untitled Position",tt=A.company_name||(U==null?void 0:U.company_name)||(U==null?void 0:U.name)||A.companyName||A.employer_name||(typeof A.company=="string"?A.company:null)||"Unknown Company",bt=A.job_city||A.city||(U==null?void 0:U.city)||"",At=A.job_state||A.state||(U==null?void 0:U.state)||"",Yt=A.job_country||A.country||(U==null?void 0:U.country)||"",Kt=String((A.jobLocation&&typeof A.jobLocation=="string"?A.jobLocation:null)||(A.location&&typeof A.location=="string"?A.location:null)||(U!=null&&U.location&&typeof U.location=="string"?U.location:null)||[bt,At,Yt].filter(Boolean).map(Oe=>String(Oe)).join(", ")||"Location not specified"),Yr=A.applyUrl||A.jobUrl||A.job_apply_link||A.apply_link||A.url||A.apply_url||A.company_url||(U==null?void 0:U.url)||"";let yt;!yt&&typeof A.company_logo=="string"&&A.company_logo.trim()&&(yt=A.company_logo.trim()),!yt&&typeof A.company_logo=="string"&&A.company_logo.trim()&&(yt=A.company_logo.trim());const Xe=Oe=>{if(!Oe)return!1;if(Array.isArray(Oe)){for(const Ue of Oe)if(Xe(Ue))return!0;return!1}if(typeof Oe=="object"){const Ue=Oe,Ke=[Ue.url,Ue.src,Ue.href,Ue.logo,Ue.image,Ue.path,Ue.file,Ue.thumbnail];for(const dt of Ke)if(Xe(dt))return!0;return!1}const Se=String(Oe).trim();return Se?Se.startsWith("data:")||Se.startsWith("blob:")?(yt=Se,!0):Se.startsWith("//")?(yt=`https:${Se}`,!0):Se.startsWith("http://")||Se.startsWith("https://")||Se.startsWith("/")||Se.startsWith("./")||Se.startsWith("../")?(yt=Se,!0):!1:!1};!yt&&A.companyLogo&&Xe(A.companyLogo),!yt&&A.employer_logo&&Xe(A.employer_logo),!yt&&A.company_logo&&Xe(A.company_logo),!yt&&A.logo&&Xe(A.logo),!yt&&A.logo_url&&Xe(A.logo_url);const _t=A;if(!yt&&_t.companyLogo&&Xe(_t.companyLogo),!yt&&_t.employerLogo&&Xe(_t.employerLogo),!yt&&_t.companyLogoUrl&&Xe(_t.companyLogoUrl),!yt&&_t.logoUrl&&Xe(_t.logoUrl),!yt&&U&&(U.logo&&Xe(U.logo),!yt&&U.logo_url&&Xe(U.logo_url),!yt&&U.company_logo&&Xe(U.company_logo),!yt&&U.employer_logo&&Xe(U.employer_logo)),!yt&&A.employer&&typeof A.employer=="object"){const Oe=A.employer;Oe.logo&&Xe(Oe.logo),!yt&&Oe.logo_url&&Xe(Oe.logo_url),!yt&&Oe.company_logo&&Xe(Oe.company_logo),!yt&&Oe.employer_logo&&Xe(Oe.employer_logo)}let Wt="By agreement";const Cr=A.job_min_salary||A.min_salary,On=A.job_max_salary||A.max_salary,ie=A.job_salary_currency||A.salary_currency||"$",Ne=A.job_salary_period||A.salary_period||"yearly";if(Cr&&On&&typeof Cr=="number"&&typeof On=="number"){const Oe=Ne==="monthly"?"Monthly":"",Se=Cr.toLocaleString(),Ue=On.toLocaleString();["$","","","","",""].some(Et=>ie.includes(Et))?Wt=`${ie}${Se} - ${ie}${Ue}${Oe?`/${Oe}`:""}`:Wt=`${Se} - ${Ue} ${ie}${Oe?`/${Oe}`:""}`}else if(Cr&&typeof Cr=="number"){const Oe=Cr.toLocaleString();Wt=["$","","","","",""].some(Ke=>ie.includes(Ke))?`${ie}${Oe}+`:`${Oe}+ ${ie}`}else A.salary&&typeof A.salary=="string"&&(Wt=A.salary);const Fe=A.job_employment_type||A.employment_type||A.type||"INTERN",He=Fe.toUpperCase(),ct=sl[He]||sl[Fe]||Fe||"Intern";let Tt="On-site";A.job_is_remote||A.is_remote||A.remote===!0?Tt="Remote":Te!=null&&Te.toLowerCase().includes("hybrid")&&(Tt="Hybrid");const ge=mu(A),$e=Jl(c,ge,Te);return{id:de,title:Te,company:tt,company_name:A.company_name||A.employer_name||(typeof A.company=="string"?A.company:void 0),location:Kt,url:Yr,company_logo:yt,is_saved:J==null?void 0:J.includes(String(de)),salary:Wt,employment_type:ct,work_arrangement:Tt,matchPercentage:$e}}).filter(A=>A!==null)}catch(A){return console.error("Error transforming internship jobs:",A),[]}},[ye,J,c]),Ye=p.useMemo(()=>We,[We]),Pe=O.useMemo(()=>{if(!D||D.length===0)return[];try{return(D||[]).map(A=>{const U=A.company&&typeof A.company=="object"?A.company:null,de=String(A.id||"");if(!de||de.trim()==="")return console.warn("Skipping remote job without valid ID:",A),null;const Te=A.title||A.job_title||A.position||"Untitled Position",tt=A.company_name||(U==null?void 0:U.company_name)||(U==null?void 0:U.name)||A.companyName||A.employer_name||(typeof A.company=="string"?A.company:null)||"Unknown Company",bt=A.job_city||A.city||(U==null?void 0:U.city)||"",At=A.job_state||A.state||(U==null?void 0:U.state)||"",Yt=A.job_country||A.country||(U==null?void 0:U.country)||"",Kt=String((A.jobLocation&&typeof A.jobLocation=="string"?A.jobLocation:null)||(A.location&&typeof A.location=="string"?A.location:null)||(U!=null&&U.location&&typeof U.location=="string"?U.location:null)||[bt,At,Yt].filter(Boolean).map($e=>String($e)).join(", ")||"Remote"),Yr=A.applyUrl||A.jobUrl||A.job_apply_link||A.apply_link||A.url||A.apply_url||A.company_url||(U==null?void 0:U.url)||"";let yt;const Xe=$e=>{if(!$e)return!1;if(Array.isArray($e)){for(const Se of $e)if(Xe(Se))return!0;return!1}if(typeof $e=="object"){const Se=$e,Ue=[Se.url,Se.src,Se.href,Se.logo,Se.image,Se.path,Se.file,Se.thumbnail];for(const Ke of Ue)if(Xe(Ke))return!0;return!1}const Oe=String($e).trim();return Oe?Oe.startsWith("data:")||Oe.startsWith("blob:")?(yt=Oe,!0):Oe.startsWith("//")?(yt=`https:${Oe}`,!0):Oe.startsWith("http://")||Oe.startsWith("https://")||Oe.startsWith("/")||Oe.startsWith("./")||Oe.startsWith("../")?(yt=Oe,!0):!1:!1};!yt&&A.companyLogo&&Xe(A.companyLogo),!yt&&A.employer_logo&&Xe(A.employer_logo),!yt&&A.company_logo&&Xe(A.company_logo),!yt&&A.logo&&Xe(A.logo),!yt&&A.logo_url&&Xe(A.logo_url);const _t=A;if(!yt&&_t.companyLogo&&Xe(_t.companyLogo),!yt&&_t.employerLogo&&Xe(_t.employerLogo),!yt&&_t.companyLogoUrl&&Xe(_t.companyLogoUrl),!yt&&_t.logoUrl&&Xe(_t.logoUrl),!yt&&U&&(U.logo&&Xe(U.logo),!yt&&U.logo_url&&Xe(U.logo_url),!yt&&U.company_logo&&Xe(U.company_logo),!yt&&U.employer_logo&&Xe(U.employer_logo)),!yt&&A.employer&&typeof A.employer=="object"){const $e=A.employer;$e.logo&&Xe($e.logo),!yt&&$e.logo_url&&Xe($e.logo_url),!yt&&$e.company_logo&&Xe($e.company_logo),!yt&&$e.employer_logo&&Xe($e.employer_logo)}let Wt="By agreement";const Cr=A.job_min_salary||A.min_salary,On=A.job_max_salary||A.max_salary,ie=A.job_salary_currency||A.salary_currency||"$",Ne=A.job_salary_period||A.salary_period||"yearly";if(Cr&&On&&typeof Cr=="number"&&typeof On=="number"){const $e=Ne==="monthly"?"Monthly":"",Oe=Cr.toLocaleString(),Se=On.toLocaleString();["$","","","","",""].some(dt=>ie.includes(dt))?Wt=`${ie}${Oe} - ${ie}${Se}${$e?`/${$e}`:""}`:Wt=`${Oe} - ${Se} ${ie}${$e?`/${$e}`:""}`}else if(Cr&&typeof Cr=="number"){const $e=Cr.toLocaleString();Wt=["$","","","","",""].some(Ue=>ie.includes(Ue))?`${ie}${$e}+`:`${$e}+ ${ie}`}else A.salary&&typeof A.salary=="string"&&(Wt=A.salary);const Fe=A.job_employment_type||A.employment_type||A.type||"FULLTIME",He=Fe.toUpperCase(),ct=sl[He]||sl[Fe]||Fe||"Full time",Tt="Remote",mt=mu(A),ge=Jl(c,mt,Te);return{id:de,title:Te,company:tt,company_name:A.company_name||A.employer_name||(typeof A.company=="string"?A.company:void 0),location:Kt,url:Yr,company_logo:yt,is_saved:J==null?void 0:J.includes(String(de)),salary:Wt,employment_type:ct,work_arrangement:Tt,matchPercentage:ge}}).filter(A=>A!==null)}catch(A){return console.error("Error transforming remote jobs:",A),[]}},[D,J,c]),he=p.useMemo(()=>Pe,[Pe]),[je,Ee]=p.useState({});p.useEffect(()=>{(async()=>{const de=[...be,...We,...Pe].filter(At=>!At.company_logo&&At.company_name);if(de.length===0)return;const Te=de.map(async At=>{const Yt=await bA(At.company_name||"",void 0);return{jobId:At.id,logo:Yt}}),tt=await Promise.all(Te),bt={};tt.forEach(({jobId:At,logo:Yt})=>{Yt&&(bt[At]=Yt)}),Object.keys(bt).length>0&&Ee(At=>({...At,...bt}))})()},[be,We,Pe]);const Me=qe.map(A=>({...A,company_logo:A.company_logo||je[A.id]||void 0}));Ye.map(A=>({...A,company_logo:A.company_logo||je[A.id]||void 0}));const ht=he.map(A=>({...A,company_logo:A.company_logo||je[A.id]||void 0}));p.useEffect(()=>{console.log(" Job API Endpoint: https://breneo-job-aggregator-k7ti.onrender.com/api/search"),console.log(" JobsPage State:",{isLoading:Q,isLoadingInternships:ce,isLoadingRemote:pe,error:se==null?void 0:se.message,internshipError:oe==null?void 0:oe.message,remoteError:re==null?void 0:re.message,jobsCount:ee.length,internshipJobsRawCount:ye.length,transformedJobsCount:be.length,transformedInternshipJobsCount:We.length,transformedRemoteJobsCount:Pe.length,regularJobsCount:qe.length,internJobsCount:Ye.length,remoteJobsCount:he.length,regularJobsPage:g,internshipJobsPage:S,remoteJobsPage:F,hasMoreRegularJobs:x,hasMoreInternshipJobs:N,hasMoreRemoteJobs:B,isLoadingMoreRegular:b,isLoadingMoreInternship:P,isLoadingMoreRemote:M})},[Q,ce,pe,se,oe,re,ee.length,ye.length,be.length,We.length,Pe.length,qe.length,Ye.length,he.length,g,S,F,x,N,B,b,P,M]);const ut=p.useCallback((A,U)=>{const de=new URLSearchParams;U&&de.set("search",U),A.countries.length>0&&de.set("countries",A.countries.join(",")),A.skills.length>0&&de.set("skills",A.skills.join(",")),A.jobTypes.length>0&&de.set("jobTypes",A.jobTypes.join(",")),A.isRemote&&de.set("isRemote","true"),A.datePosted&&de.set("datePosted",A.datePosted),n(`/jobs/search?${de.toString()}`)},[n]),Ct=A=>{const U={...L,jobTypes:A};G(U),V(U)},at=A=>{const U={...L,isRemote:A};G(U),V(U)},kt=A=>{const U={...L,skills:L.skills.filter(de=>de!==A)};G(U),V(U),ut(U,H)},we=A=>{const U={...L,countries:L.countries.filter(de=>de!==A)};G(U),V(U),ut(U,H)},Be=A=>{const U=L.jobTypes.filter(Te=>Te!==A),de={...L,jobTypes:U};G(de),V(de),ut(de,H)},Ie=()=>{const A={...L,isRemote:!1};G(A),V(A),ut(A,H)},Ve=()=>{console.log(" Applying filters:",ae),G(ae),l(!1),ut(ae,H)},ft=()=>{const A={country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1};V(A),G(A),l(!1)},er=async A=>{try{return(await mi.fetchActiveJobs({query:A,filters:{country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:"week",skills:[A]},page:1,pageSize:50})).jobs.length}catch(U){return console.error(`Error fetching job count for skill ${A}:`,U),0}};return Xt({queryKey:["skillJobCounts",c.join(",")],queryFn:async()=>{const A={};return await Promise.all(c.map(async U=>{A[U]=await er(U)})),A},enabled:c.length>0&&!d,staleTime:5*60*1e3,refetchOnWindowFocus:!1}),o.jsxs(Ot,{children:[o.jsx(xA,{}),o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:o.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] rounded-3xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-2.5 md:py-3 overflow-visible min-h-[3rem]",children:[o.jsx(ln,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),o.jsx(pt,{placeholder:"",value:H,onChange:A=>$(A.target.value),onKeyDown:q,className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(bY,{selectedWorkTypes:L.jobTypes,onWorkTypesChange:Ct,isRemote:L.isRemote,onRemoteChange:at,placeholder:" "})})]}),(()=>{const A=W(L);return o.jsxs(ne,{variant:"outline",size:"icon",onClick:()=>l(!0),className:"h-10 w-10 flex-shrink-0 bg-gray-100 dark:bg-gray-700 border-0 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md ml-2 relative","aria-label":"Filter jobs",children:[o.jsx(ZP,{className:"h-4 w-4",strokeWidth:2}),A>0&&o.jsx(Dt,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:A})]})})(),o.jsx(ne,{variant:"default",size:"icon",onClick:De,className:"h-10 w-10 flex-shrink-0 bg-breneo-blue hover:bg-breneo-blue/90 rounded-md ml-2","aria-label":"Search",children:o.jsx(Lo,{className:"h-5 w-5 text-white"})})]})}),L.skills.length>0||L.countries.length>0||L.jobTypes.length>0||L.isRemote||L.datePosted||L.salaryMin!==void 0||L.salaryMax!==void 0||L.salaryByAgreement?o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Active Filters"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[L.skills.map(U=>o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:String(U)}),o.jsx("button",{onClick:()=>kt(U),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${U} filter`,children:o.jsx(yn,{className:"h-4 w-4"})})]},`skill-${U}`)),L.countries.map(U=>{const de=un.find(tt=>tt.code===U),Te=de!=null&&de.name?String(de.name):String(U);return o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:Te}),o.jsx("button",{onClick:()=>we(U),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${Te} filter`,children:o.jsx(yn,{className:"h-4 w-4"})})]},`country-${U}`)}),L.jobTypes.map(U=>{const de=sl[U]?String(sl[U]):String(U);return o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:de}),o.jsx("button",{onClick:()=>Be(U),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${de} filter`,children:o.jsx(yn,{className:"h-4 w-4"})})]},`jobType-${U}`)}),L.isRemote&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Remote"}),o.jsx("button",{onClick:Ie,className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Remote filter",children:o.jsx(yn,{className:"h-4 w-4"})})]}),L.datePosted&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:L.datePosted==="today"?"Posted Today":L.datePosted==="week"?"Posted This Week":L.datePosted==="month"?"Posted This Month":`Posted: ${L.datePosted}`}),o.jsx("button",{onClick:()=>{const U={...L,datePosted:void 0};G(U),V(U),ut(U,H)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Date Posted filter",children:o.jsx(yn,{className:"h-4 w-4"})})]}),(L.salaryMin!==void 0||L.salaryMax!==void 0)&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:L.salaryMin!==void 0&&L.salaryMax!==void 0?`$${L.salaryMin} - $${L.salaryMax}`:L.salaryMin!==void 0?`Min: $${L.salaryMin}`:`Max: $${L.salaryMax}`}),o.jsx("button",{onClick:()=>{const U={...L,salaryMin:void 0,salaryMax:void 0};G(U),V(U),ut(U,H)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Salary filter",children:o.jsx(yn,{className:"h-4 w-4"})})]}),L.salaryByAgreement&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Salary By Agreement"}),o.jsx("button",{onClick:()=>{const U={...L,salaryByAgreement:!1};G(U),V(U),ut(U,H)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Salary By Agreement filter",children:o.jsx(yn,{className:"h-4 w-4"})})]})]})]}):null,(oe||re||se)&&o.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-md flex items-center gap-3 mb-6",children:[o.jsx(Lf,{className:"h-5 w-5"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Error:"})," ",(se==null?void 0:se.message)||(oe==null?void 0:oe.message)||(re==null?void 0:re.message)]})]}),!Q&&qe.length>0&&o.jsxs("section",{className:"mb-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(ig,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Latest Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Me.map(A=>o.jsx(ke,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl cursor-pointer hover:shadow-soft",onClick:()=>{if(!A.id||String(A.id).trim()==="")return;const U=encodeURIComponent(String(A.id));n(`/jobs/${U}`)},children:o.jsxs(Ce,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[A.company_logo?o.jsx("img",{src:A.company_logo,alt:`${A.company_name||A.company} logo`,className:"w-10 h-10 rounded-md object-cover flex-shrink-0",loading:"lazy",referrerPolicy:"no-referrer",onError:U=>{const de=U.target;console.warn(" Logo failed to load:",A.company_logo,de.src),de.style.display="none";const Te=de.nextElementSibling;Te&&(Te.style.display="flex")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-10 h-10 rounded-md bg-breneo-accent flex items-center justify-center ${A.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(ln,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:A.company_name||A.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:A.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:A.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[A.employment_type&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:A.employment_type}),A.work_arrangement&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:A.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ac,{value:A.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100",children:pg(A.matchPercentage)})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:U=>{U.stopPropagation(),fe.mutate(A)},"aria-label":A.is_saved?"Unsave job":"Save job",className:ue("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",A.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(as,{className:ue("h-4 w-4 transition-colors",A.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},A.id))})]}),Q&&o.jsxs("section",{className:"mb-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(ig,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Latest Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(9)].map((A,U)=>o.jsx(ke,{children:o.jsx(Ce,{className:"p-4",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})})},U))})]}),!pe&&he.length>0&&o.jsxs("section",{className:"mt-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(sc,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Remote Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ht.map(A=>o.jsx(ke,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl cursor-pointer hover:shadow-soft",onClick:()=>{if(!A.id||String(A.id).trim()==="")return;const U=encodeURIComponent(String(A.id));n(`/jobs/${U}`)},children:o.jsxs(Ce,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[A.company_logo?o.jsx("img",{src:A.company_logo,alt:`${A.company_name||A.company} logo`,className:"w-10 h-10 rounded-full object-cover",loading:"lazy",referrerPolicy:"no-referrer",onError:U=>{const de=U.target;console.warn(" Logo failed to load:",A.company_logo,de.src),de.style.display="none";const Te=de.nextElementSibling;Te&&(Te.style.display="flex")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center ${A.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(ln,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:A.company_name||A.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:A.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:A.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[A.employment_type&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:A.employment_type}),A.work_arrangement&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:A.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ac,{value:A.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700",children:pg(A.matchPercentage)})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:U=>{U.stopPropagation(),fe.mutate(A)},"aria-label":A.is_saved?"Unsave job":"Save job",className:ue("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",A.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(as,{className:ue("h-4 w-4 transition-colors",A.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},A.id))})]})]}),o.jsx(xY,{isOpen:i,onClose:()=>l(!1),filters:ae,onFiltersChange:V,onApply:Ve,onClear:ft,userTopSkills:c})]})},SY=({selectedLocations:e,onLocationsChange:t,placeholder:r="Location"})=>{const[n,s]=p.useState(!1),[a,i]=p.useState(""),[l,c]=p.useState(e),u=p.useRef(null);p.useEffect(()=>{n&&c(e)},[n,e]),p.useEffect(()=>{const b=S=>{u.current&&!u.current.contains(S.target)&&(s(!1),c(e))},_=S=>{S.key==="Escape"&&(s(!1),c(e))};return n&&(document.addEventListener("mousedown",b),document.addEventListener("keydown",_)),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("keydown",_)}},[n,e]);const d=p.useMemo(()=>{if(!a.trim())return un;const b=a.toLowerCase();return un.filter(_=>_.name.toLowerCase().includes(b)||_.code.toLowerCase().includes(b))},[a]),f=b=>{l.includes(b)?c(l.filter(_=>_!==b)):c([...l,b])},h=()=>{l.length===d.length?c([]):c(d.map(b=>b.code))},g=()=>{t(l),s(!1)},y=d.length>0&&d.every(b=>l.includes(b.code)),m=p.useMemo(()=>{var _;return e.length===0?r:e.length===1?((_=un.find(S=>S.code===e[0]))==null?void 0:_.name)||r:e.length>3?`${e.length} countries selected`:e.slice(0,3).map(S=>{var E;return((E=un.find(k=>k.code===S))==null?void 0:E.name)||S}).join(", ")},[e,r]),v=e.length===0,x=(b,_)=>{b.stopPropagation(),t(e.filter(S=>S!==_))},w=b=>{b.stopPropagation(),t([])};return o.jsxs("div",{className:"relative w-full max-w-full",ref:u,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full min-w-0",children:[o.jsxs("button",{type:"button",onClick:()=>s(!n),className:ue("flex items-center flex-1 min-w-0 h-auto py-0 px-0 text-sm text-left bg-transparent border-0 focus:outline-none focus:ring-0","transition-colors cursor-pointer hover:opacity-80 overflow-hidden",v?"text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-gray-100"),children:[o.jsx(cg,{className:"h-4 w-4 md:h-5 md:w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2"}),e.length===0?o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:r}):o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:m})]}),e.length>0&&o.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),e.length===1?x(b,e[0]):w(b)},className:"flex-shrink-0 p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded ml-1 transition-all duration-200 animate-in fade-in-0 zoom-in-95","aria-label":e.length===1?"Remove location":"Remove all locations",children:o.jsx(yn,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 hover:scale-110"})})]}),n&&o.jsxs("div",{className:ue("absolute top-full mt-2 w-[calc(100vw-2rem)] md:w-[400px] rounded-lg shadow-lg border z-[9999] max-h-[500px] flex flex-col overflow-hidden","bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","min-w-[320px]","left-0 md:right-0 md:left-auto"),children:[o.jsxs("div",{className:ue("flex items-center justify-between px-4 py-3 border-b","border-gray-200 dark:border-gray-700"),children:[o.jsx("h3",{className:ue("font-bold text-base","text-gray-900 dark:text-gray-100"),children:"Countries"}),o.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),s(!1),i("")},className:ue("p-1 rounded transition-colors","hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Close",children:o.jsx(yn,{className:ue("h-5 w-5","text-gray-900 dark:text-gray-100")})})]}),o.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"relative",children:[o.jsx(Lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(pt,{type:"text",placeholder:"Search countries...",value:a,onChange:b=>i(b.target.value),onClick:b=>b.stopPropagation(),className:ue("pl-9 pr-3 h-9 text-sm","bg-white dark:bg-gray-800","border-gray-200 dark:border-gray-700","focus-visible:ring-1 focus-visible:ring-breneo-accent")})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[d.length>0&&o.jsxs("div",{className:ue("flex items-center px-4 py-3 cursor-pointer transition-colors border-b","hover:bg-gray-50 dark:hover:bg-gray-700/50","border-gray-100 dark:border-gray-700"),onClick:b=>{b.stopPropagation(),h()},children:[o.jsx(ms,{checked:y,onCheckedChange:b=>{if(b)c(d.map(_=>_.code));else{const _=d.map(S=>S.code);c(l.filter(S=>!_.includes(S)))}},className:"mr-3"}),o.jsx("span",{className:ue("text-sm","text-gray-900 dark:text-gray-100"),children:"Select All"})]}),d.length===0?o.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):d.map(b=>{const _=l.includes(b.code);return o.jsxs("div",{className:ue("flex items-center px-4 py-2.5 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:S=>{S.stopPropagation(),f(b.code)},children:[o.jsx(ms,{checked:_,onCheckedChange:S=>{c(S?[...l,b.code]:l.filter(E=>E!==b.code))},className:"mr-3"}),o.jsx("span",{className:ue("text-sm flex-1","text-gray-900 dark:text-gray-100"),children:b.name})]},b.code)})]}),o.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-white dark:bg-gray-800 sticky bottom-0 z-10",children:o.jsx(ne,{onClick:b=>{b.stopPropagation(),g()},className:"w-full",children:"Save"})})]})]})},Pj={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern"},_F=20,$9e=e=>{if(!e)return new Date().toLocaleDateString("ka-GE");try{const t=new Date(e);return isNaN(t.getTime())?new Date().toLocaleDateString("ka-GE"):t.toLocaleDateString("ka-GE")}catch(t){return console.warn("Error parsing date:",e,t),new Date().toLocaleDateString("ka-GE")}},R9e=()=>{const{user:e}=_r(),t=dr(),r=Vs(),[n,s]=Ew(),a=ha(),[i,l]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState("desc"),h=Zi(),g=n.get("search")||"",y=parseInt(n.get("page")||"1",10),[m,v]=p.useState(()=>{const $=n.get("countries"),q=n.get("skills"),fe=n.get("jobTypes"),be=n.get("isRemote"),qe=n.get("datePosted"),We=n.get("salaryMin"),Ye=n.get("salaryMax"),Pe=n.get("salaryByAgreement");return{country:"Georgia",countries:$?$.split(",").filter(Boolean):[],jobTypes:fe?fe.split(",").filter(Boolean):[],isRemote:be==="true",datePosted:qe||void 0,skills:q?q.split(",").filter(Boolean):[],salaryMin:We?parseInt(We,10):void 0,salaryMax:Ye?parseInt(Ye,10):void 0,salaryByAgreement:Pe==="true"}});p.useEffect(()=>{console.log(" JobSearchResultsPage loaded:",{searchTerm:g,page:y,searchParams:n.toString(),activeFilters:m,userTopSkills:c}),console.log(" Job API Endpoint: https://breneo-job-aggregator-k7ti.onrender.com/api/")},[g,y,n,m,c]),p.useEffect(()=>{const $=n.get("countries"),q=n.get("skills"),fe=n.get("jobTypes"),be=n.get("isRemote"),qe=n.get("datePosted"),We=n.get("salaryMin"),Ye=n.get("salaryMax"),Pe=n.get("salaryByAgreement");v({country:"Georgia",countries:$?$.split(",").filter(Boolean):[],jobTypes:fe?fe.split(",").filter(Boolean):[],isRemote:be==="true",datePosted:qe||void 0,skills:q?q.split(",").filter(Boolean):[],salaryMin:We?parseInt(We,10):void 0,salaryMax:Ye?parseInt(Ye,10):void 0,salaryByAgreement:Pe==="true"})},[n]);const[x,w]=p.useState(m),b=$=>{let q=0;return $.countries.length>0&&(q+=$.countries.length),$.jobTypes.length>0&&(q+=$.jobTypes.length),$.isRemote&&(q+=1),$.datePosted&&(q+=1),$.skills.length>0&&(q+=$.skills.length),($.salaryMin!==void 0||$.salaryMax!==void 0)&&(q+=1),$.salaryByAgreement&&(q+=1),q},{data:_=[]}=Xt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var $;if(!e)return[];try{return((($=(await Ae.get(gt.AUTH.PROFILE)).data)==null?void 0:$.saved_jobs)||[]).map(be=>String(be))}catch(q){return console.error("Error fetching saved jobs:",q),[]}},enabled:!!e});p.useEffect(()=>{(async()=>{if(e)try{try{const fe=await Ae.get(`/api/skilltest/results/?user=${e.id}`);if(fe.data&&Array.isArray(fe.data)&&fe.data.length>0){const qe=fe.data[0].skills_json,We=Object.keys(qe.tech||{});u(We);return}}catch{console.log("API endpoint not available, trying Supabase...")}const q=await Th(String(e.id));if(q&&q.length>0){const fe=Oh(q),qe=t1(fe,20).map(Ye=>Ye.skill),We=hg(qe);u(We)}}catch(q){console.error("Error fetching user skills:",q)}})()},[e]);const S=async($,q,fe,be)=>{try{const qe=be.length>0&&q.skills.length>0&&be.every(je=>q.skills.includes(je))&&q.skills.length===be.length,We={...q,skills:qe?[]:q.skills},Pe=await mi.fetchActiveJobs({query:$||"",filters:We,page:fe,pageSize:20});if(!Pe||!Array.isArray(Pe.jobs))return{jobs:[],hasMore:!1,total:0};let he=Pe.jobs.filter(je=>{const Ee=String(je.id||"");return Ee&&Ee.trim()!==""});return(q.salaryMin!==void 0||q.salaryMax!==void 0||q.salaryByAgreement)&&(he=he.filter(je=>{const Ee=je.job_min_salary||je.min_salary,Me=je.job_max_salary||je.max_salary;return q.salaryByAgreement&&!Ee&&!Me?!0:!Ee&&!Me&&!q.salaryByAgreement?!(q.salaryMin!==void 0||q.salaryMax!==void 0):!(q.salaryMin!==void 0&&Me&&Me<q.salaryMin||q.salaryMax!==void 0&&Ee&&Ee>q.salaryMax)})),{jobs:he,hasMore:Pe.hasMore??!1,total:Pe.total??he.length}}catch(qe){throw console.error("Error fetching jobs:",qe),qe}},E=p.useMemo(()=>JSON.stringify({countries:m.countries.sort(),skills:m.skills.sort(),jobTypes:m.jobTypes.sort(),isRemote:m.isRemote,datePosted:m.datePosted,salaryMin:m.salaryMin,salaryMax:m.salaryMax,salaryByAgreement:m.salaryByAgreement}),[m]),{data:k={jobs:[],hasMore:!1,total:0},isLoading:j,error:N}=Xt({queryKey:["job-search",g,E,y,c.join(",")],queryFn:()=>S(g,m,y,c),enabled:!!e,staleTime:5*60*1e3,retry:1}),C=p.useMemo(()=>k.jobs||[],[k.jobs]),P=k.hasMore||!1,R=k.total||C.length,F=p.useMemo(()=>!C||C.length===0?[]:C.map($=>{const q=String($.id||"");if(!q||q.trim()==="")return null;const fe=$.title||$.job_title||$.position||"Untitled Position",be=$.company_name||$.employer_name||(typeof $.company=="string"?$.company:null)||"Unknown Company",qe=$.job_city||$.city||"",We=$.job_state||$.state||"",Ye=$.job_country||$.country||"",Pe=$.job_location||$.location||[qe,We,Ye].filter(Boolean).join(", ")||"Location not specified",he=$.apply_url||$.job_apply_link||$.apply_link||$.url||"";let je;const Ee=de=>{if(!de)return!1;const Te=String(de).trim();if(!Te)return!1;try{if(new URL(Te).protocol.startsWith("http"))return je=Te,!0}catch{}return!1},Me=$;if(!je&&Me.company_logo&&Ee(Me.company_logo),!je&&$.company_logo&&Ee($.company_logo),!je&&Me.companyLogo&&Ee(Me.companyLogo),!je&&$.companyLogo&&Ee($.companyLogo),!je&&Me.employer_logo&&Ee(Me.employer_logo),!je&&$.employer_logo&&Ee($.employer_logo),!je&&Me.logo&&Ee(Me.logo),!je&&$.logo&&Ee($.logo),!je&&Me.logo_url&&Ee(Me.logo_url),!je&&$.logo_url&&Ee($.logo_url),!je&&Me.employerLogo&&Ee(Me.employerLogo),!je&&Me.companyLogoUrl&&Ee(Me.companyLogoUrl),!je&&Me.logoUrl&&Ee(Me.logoUrl),!je&&$.company&&typeof $.company=="object"){const de=$.company;de.logo&&Ee(de.logo),!je&&de.logo_url&&Ee(de.logo_url),!je&&de.company_logo&&Ee(de.company_logo),!je&&de.employer_logo&&Ee(de.employer_logo)}if(!je&&$.employer&&typeof $.employer=="object"){const de=$.employer;de.logo&&Ee(de.logo),!je&&de.logo_url&&Ee(de.logo_url),!je&&de.company_logo&&Ee(de.company_logo),!je&&de.employer_logo&&Ee(de.employer_logo)}let ht="By agreement";const ut=$.job_min_salary||$.min_salary,Ct=$.job_max_salary||$.max_salary,at=$.job_salary_currency||$.salary_currency||"$",kt=$.job_salary_period||$.salary_period||"yearly";if(ut&&Ct&&typeof ut=="number"&&typeof Ct=="number"){const de=kt==="monthly"?"Monthly":"",Te=ut.toLocaleString(),tt=Ct.toLocaleString();["$","","","","",""].some(Yt=>at.includes(Yt))?ht=`${at}${Te} - ${at}${tt}${de?`/${de}`:""}`:ht=`${Te} - ${tt} ${at}${de?`/${de}`:""}`}else if(ut&&typeof ut=="number"){const de=ut.toLocaleString();ht=["$","","","","",""].some(bt=>at.includes(bt))?`${at}${de}+`:`${de}+ ${at}`}else $.salary&&typeof $.salary=="string"&&(ht=$.salary);const we=$.job_employment_type||$.employment_type||$.type||"FULLTIME",Be=Pj[we]||we||"Full time";let Ie="On-site";$.job_is_remote||$.is_remote||$.remote===!0?Ie="Remote":fe!=null&&fe.toLowerCase().includes("hybrid")&&(Ie="Hybrid");const ft=mu($),er=Jl(c,ft,fe),A=$,U=$.posted_at||$.fetched_at||$.date_posted||$.posted_date||$.job_posted_at_datetime_utc||$.postedAt||$.job_posted_at||A.job_publish_timestamp||A.publish_time||$.created_at||$.published_at||void 0;return{id:q,title:fe,company:be,company_name:$.company_name||$.employer_name||(typeof $.company=="string"?$.company:void 0),location:String(Pe),url:he,company_logo:je,is_saved:_==null?void 0:_.includes(String(q)),salary:ht,employment_type:Be,work_arrangement:Ie,matchPercentage:er,datePosted:U,jobSkills:ft}}).filter($=>$!==null),[C,_,c]),z=p.useMemo(()=>[...F].sort((q,fe)=>{if(!q.datePosted&&!fe.datePosted)return 0;if(!q.datePosted)return 1;if(!fe.datePosted)return-1;const be=new Date(q.datePosted).getTime(),qe=new Date(fe.datePosted).getTime();return d==="desc"?qe-be:be-qe}),[F,d]),[D,I]=p.useState({});p.useEffect(()=>{(async()=>{const q=z.filter(We=>!We.company_logo&&We.company_name);if(q.length===0)return;const fe=q.map(async We=>{const Ye=await bA(We.company_name||"",void 0);return{jobId:We.id,logo:Ye}}),be=await Promise.all(fe),qe={};be.forEach(({jobId:We,logo:Ye})=>{Ye&&(qe[We]=Ye)}),Object.keys(qe).length>0&&I(We=>({...We,...qe}))})()},[z]);const B=z.map($=>({...$,company_logo:$.company_logo||D[$.id]||void 0})),T=ca({mutationFn:async $=>{if(!e)throw new Error("User not logged in");if(!$.id)throw new Error("Job ID is required");const q=String($.id);$.is_saved;try{const fe=`${gt.JOBS.SAVE_JOB}${q}/`;await Ae.post(fe)}catch(fe){const be=fe instanceof Error?fe.message:"Failed to save job. Please try again.";throw new Error(be)}},onSuccess:($,q)=>{r.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile"]}),le.success(q.is_saved?"Job Unsaved":"Job Saved")},onError:$=>{console.error("Error saving job:",$);const q=$ instanceof Error?$.message:"Failed to save job";le.error(q)}}),M=p.useCallback(($,q,fe)=>{const be=new URLSearchParams;q&&be.set("search",q),be.set("page",String(fe)),$.countries.length>0&&be.set("countries",$.countries.join(",")),$.skills.length>0&&be.set("skills",$.skills.join(",")),$.jobTypes.length>0&&be.set("jobTypes",$.jobTypes.join(",")),$.isRemote&&be.set("isRemote","true"),$.datePosted&&be.set("datePosted",$.datePosted),$.salaryMin!==void 0&&be.set("salaryMin",String($.salaryMin)),$.salaryMax!==void 0&&be.set("salaryMax",String($.salaryMax)),$.salaryByAgreement&&be.set("salaryByAgreement","true"),s(be,{replace:!0})},[s]),Z=$=>{M(m,$,1)},L=()=>{v(x),M(x,g,1),l(!1)},G=()=>{const $={country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},q=1;w($),v($),M($,g,q),l(!1)},H=p.useCallback($=>{const q={...m,skills:m.skills.filter(fe=>fe!==$)};v(q),w(q),M(q,g,1)},[m,g,M]),Y=p.useCallback($=>{const q={...m,countries:m.countries.filter(fe=>fe!==$)};v(q),w(q),M(q,g,1)},[m,g,M]),ae=p.useCallback($=>{const q=m.jobTypes.filter(be=>be!==$),fe={...m,jobTypes:q};v(fe),w(fe),M(fe,g,1)},[m,g,M]),V=p.useCallback(()=>{const $={...m,isRemote:!1};v($),w($),M($,g,1)},[m,g,M]),W=()=>{const $=y+1;M(m,g,$),window.scrollTo({top:0,behavior:"smooth"})},J=()=>{const $=Math.max(1,y-1);M(m,g,$),window.scrollTo({top:0,behavior:"smooth"})},K=P&&F.length>0,Q=y>1,se=p.useMemo(()=>{const $=[];if(m.skills.forEach(q=>{$.push({id:`skill-${q}`,label:q,onRemove:()=>H(q),ariaLabel:`Remove ${q} filter`})}),m.countries.forEach(q=>{const fe=un.find(qe=>qe.code===q),be=(fe==null?void 0:fe.name)||q;$.push({id:`country-${q}`,label:be,onRemove:()=>Y(q),ariaLabel:`Remove ${be} filter`})}),m.jobTypes.forEach(q=>{$.push({id:`jobType-${q}`,label:Pj[q]||q,onRemove:()=>ae(q),ariaLabel:`Remove ${Pj[q]||q} filter`})}),m.isRemote&&$.push({id:"remote",label:"Remote",onRemove:V,ariaLabel:"Remove Remote filter"}),m.datePosted){const q=m.datePosted==="today"?"Posted Today":m.datePosted==="week"?"Posted This Week":m.datePosted==="month"?"Posted This Month":`Posted: ${m.datePosted}`;$.push({id:"datePosted",label:q,onRemove:()=>{const fe={...m,datePosted:void 0};v(fe),w(fe),M(fe,g,1)},ariaLabel:"Remove Date Posted filter"})}if(m.salaryMin!==void 0||m.salaryMax!==void 0){const q=m.salaryMin!==void 0&&m.salaryMax!==void 0?`$${m.salaryMin} - $${m.salaryMax}`:m.salaryMin!==void 0?`Min: $${m.salaryMin}`:`Max: $${m.salaryMax}`;$.push({id:"salaryRange",label:q,onRemove:()=>{const fe={...m,salaryMin:void 0,salaryMax:void 0};v(fe),w(fe),M(fe,g,1)},ariaLabel:"Remove Salary filter"})}return m.salaryByAgreement&&$.push({id:"salaryByAgreement",label:"Salary By Agreement",onRemove:()=>{const q={...m,salaryByAgreement:!1};v(q),w(q),M(q,g,1)},ariaLabel:"Remove Salary By Agreement filter"}),$},[m,g,H,Y,ae,V,M]),X=p.useRef(null),[ce,oe]=p.useState(se.length),[xe,pe]=p.useState(!1);p.useEffect(()=>{if(se.length===0){oe(0),pe(!1);return}oe(se.length);const $=()=>{if(!X.current)return;const fe=X.current,be=fe.scrollHeight,qe=100;if(be>qe){let We=1,Ye=se.length,Pe=se.length;const he=document.createElement("div");for(he.className="flex flex-wrap gap-2",he.style.position="absolute",he.style.visibility="hidden",he.style.width=fe.offsetWidth+"px",he.style.top="-9999px",document.body.appendChild(he);We<=Ye;){const je=Math.floor((We+Ye)/2);he.innerHTML=se.slice(0,je).map(Ee=>`<div class="flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700"><span class="text-sm font-medium whitespace-nowrap">${Ee.label}</span><button><svg class="h-4 w-4"></svg></button></div>`).join(""),he.scrollHeight<=qe?(Pe=je,We=je+1):Ye=je-1}document.body.removeChild(he),Pe<se.length?(oe(Pe),pe(!0)):(oe(se.length),pe(!1))}else oe(se.length),pe(!1)},q=requestAnimationFrame(()=>{setTimeout($,0)});return window.addEventListener("resize",$),()=>{cancelAnimationFrame(q),window.removeEventListener("resize",$)}},[se]);const re=(y-1)*_F,ee=R>0?Math.min(re+1,R):1,ye=R>0?Math.min(re+F.length,R):F.length;let De=null;return R>0?De=Math.ceil(R/_F):P?De=y+1:F.length>0&&(De=y),o.jsx(Ot,{children:o.jsxs("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] rounded-xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-3 md:py-4 overflow-visible min-h-[3.5rem] flex-1",children:[o.jsx(ln,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),o.jsx(pt,{type:"text",placeholder:h.jobs.searchPlaceholder,value:g,onChange:$=>Z($.target.value),className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(bY,{selectedWorkTypes:m.jobTypes,onWorkTypesChange:$=>{const q={...m,jobTypes:$};v(q),w(q),M(q,g,1)},isRemote:m.isRemote,onRemoteChange:$=>{const q={...m,isRemote:$};v(q),w(q),M(q,g,1)}})}),o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(SY,{selectedLocations:m.countries,onLocationsChange:$=>{const q={...m,countries:$};v(q),w(q),M(q,g,1)}})})]})]}),(()=>{const $=b(m);return o.jsxs(ne,{variant:"outline",onClick:()=>l(!0),className:"group flex items-center gap-2 bg-breneo-blue/10 hover:bg-breneo-blue rounded-xl px-4 py-3 md:py-4 hover:bg-breneo-blue hover:text-white text-gray-900 dark:text-gray-100 whitespace-nowrap h-auto relative min-h-[3.5rem] transition-colors","aria-label":"Filter jobs",children:[o.jsx(ZP,{className:"h-4 w-4 group-hover:text-white",strokeWidth:2}),o.jsx("span",{className:"hidden md:inline text-sm font-medium",children:h.jobs.filters}),$>0&&o.jsx(Dt,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:$})]})})()]})}),se.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Active Filters"}),o.jsx("div",{ref:X,className:"flex flex-wrap gap-2",children:se.slice(0,ce).map($=>o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:$.label}),o.jsx("button",{onClick:$.onRemove,className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":$.ariaLabel,children:o.jsx(yn,{className:"h-4 w-4"})})]},$.id))}),xe&&se.length>ce&&o.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[se.length-ce,"+ filters"]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:R>0?`${R} ${h.jobs.vacancies}`:`${F.length} ${h.jobs.vacancies}`})}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(ne,{variant:"outline",size:"sm",className:"h-9 px-2 md:px-3",onClick:()=>{f($=>$==="desc"?"asc":"desc")},children:[o.jsx("span",{className:"text-xs md:text-sm whitespace-nowrap",children:a?d==="desc"?h.jobs.dateDescending:h.jobs.dateAscending:d==="desc"?h.jobs.dateDescendingFull:h.jobs.dateAscendingFull}),d==="desc"?o.jsx(Gue,{className:"h-4 w-4 ml-1 md:ml-2"}):o.jsx(Jue,{className:"h-4 w-4 ml-1 md:ml-2"})]})})]}),j?o.jsx("div",{className:"space-y-4",children:[...Array(6)].map(($,q)=>o.jsx(ke,{children:o.jsx(Ce,{className:"p-4",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})})},q))}):N?o.jsx(ke,{className:"bg-red-50 dark:bg-red-950/20",children:o.jsx(Ce,{className:"p-6 text-center",children:o.jsx("p",{className:"text-red-600",children:h.jobs.errorLoading})})}):F.length===0?o.jsxs("div",{className:"text-center p-10 rounded-3xl text-muted-foreground bg-muted/30",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-travel-front-color.png",alt:"No data found",className:"mx-auto h-48 w-48 mb-4 object-contain"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:h.jobs.noJobs}),o.jsx("p",{className:"text-sm",children:h.jobs.tryAdjustingFilters})]}):o.jsx("div",{className:"space-y-4",children:B.map($=>o.jsx("div",{className:"group cursor-pointer hover:shadow-soft transition-shadow",onClick:()=>t(`/jobs/${encodeURIComponent($.id)}`),children:o.jsx(ke,{className:"hover:shadow-soft transition-shadow overflow-hidden rounded-lg",children:o.jsx(Ce,{className:a?"px-5 pt-5 pb-4 flex flex-col flex-grow":"p-0",children:a?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[$.company_logo?o.jsx("img",{src:$.company_logo,alt:`${$.company_name||$.company} logo`,className:"w-10 h-10 rounded-full object-cover",loading:"lazy",referrerPolicy:"no-referrer",onError:q=>{const fe=q.target;console.warn(" Logo failed to load:",$.company_logo,fe.src),fe.style.display="none";const be=fe.nextElementSibling;be&&(be.style.display="flex")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center ${$.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(ln,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:$.company_name||$.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:$.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:$.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[$.employment_type&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:$.employment_type}),$.work_arrangement&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:$.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ac,{value:$.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100",children:pg($.matchPercentage)})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:q=>{q.stopPropagation(),T.mutate($)},"aria-label":$.is_saved?"Unsave job":"Save job",className:ue("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",$.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(as,{className:ue("h-4 w-4 transition-colors",$.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]}):o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-1 p-4 pr-2 rounded-l-lg",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[$.company_logo?o.jsx("img",{src:$.company_logo,alt:$.company_name||$.company,className:"w-12 h-12 rounded-md object-cover absolute inset-0 z-10",loading:"lazy",referrerPolicy:"no-referrer",onError:q=>{var qe;const fe=q.target;console.warn(" Logo failed to load:",$.company_logo,fe.src),fe.style.display="none";const be=(qe=fe.parentElement)==null?void 0:qe.querySelector(".logo-fallback");be&&(be.style.display="flex",be.style.zIndex="10")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-12 h-12 rounded-md bg-breneo-blue/10 flex items-center justify-center logo-fallback absolute inset-0 ${$.company_logo?"z-0":"z-10"}`,style:{display:$.company_logo?"none":"flex"},children:o.jsx(ln,{className:"h-6 w-6 text-breneo-blue"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"mb-1 md:mb-2",children:[o.jsx("h3",{className:"font-normal text-sm text-gray-600 mb-1 line-clamp-1",children:$.company_name||$.company}),o.jsx("h4",{className:"font-bold text-base md:text-lg mb-1 md:mb-2 line-clamp-2 md:line-clamp-3",children:$.title})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(cg,{className:"h-4 w-4"}),o.jsx("span",{children:$.location})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(ig,{className:"h-4 w-4"}),o.jsx("span",{children:$.employment_type})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(ln,{className:"h-4 w-4"}),o.jsx("span",{children:$.work_arrangement})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-gray-500",children:$9e($.datePosted)}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ne,{variant:"secondary",size:"icon",onClick:q=>{q.stopPropagation(),T.mutate($)},"aria-label":$.is_saved?"Unsave job":"Save job",className:ue("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",$.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(as,{className:ue("h-4 w-4 transition-colors",$.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})}),o.jsx(ne,{variant:"default",size:"sm",onClick:q=>{q.stopPropagation(),$.url?window.open($.url,"_blank"):t(`/jobs/${encodeURIComponent($.id)}`)},children:"Apply Now"})]})]})]})]})]})}),$.matchPercentage!==void 0&&$.matchPercentage>0&&o.jsxs("div",{className:"w-56 flex-shrink-0 p-4 flex flex-col items-center justify-center relative rounded-2xl bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("button",{onClick:q=>{q.stopPropagation()},className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:o.jsx("span",{className:"text-lg",children:""})})}),o.jsx("div",{className:"mb-3",children:o.jsx(ac,{value:$.matchPercentage,size:60,strokeWidth:3,showLabel:!1,percentageTextSize:"lg",className:"justify-center text-green-600"})}),o.jsx("div",{children:o.jsx("p",{className:"text-base font-bold text-center text-gray-800 dark:text-gray-200",children:$.matchPercentage>=70?"GOOD MATCH":$.matchPercentage>=40?"FAIR MATCH":"POOR MATCH"})})]})]})})})},$.id))}),!j&&F.length>0&&o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8 pt-6 ",children:[o.jsx("div",{className:"text-sm text-gray-600",children:R>0?o.jsxs(o.Fragment,{children:[h.jobs.showing," ",ee,"-",Math.min(ye,R)," ",h.jobs.of," ",R," ",h.jobs.vacancies]}):o.jsxs(o.Fragment,{children:[h.jobs.showing," ",F.length," ",h.jobs.vacancies]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ne,{variant:"outline",size:"sm",className:"h-9 px-4",onClick:J,disabled:!Q||j,children:[o.jsx(ME,{className:"h-4 w-4 mr-1"}),h.jobs.previous]}),o.jsxs("div",{className:"flex items-center gap-1 px-2",children:[o.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[h.jobs.page," ",y]}),De&&o.jsxs("span",{className:"text-sm text-gray-400",children:["/ ",De]})]}),o.jsxs(ne,{variant:"outline",size:"sm",className:"h-9 px-4",onClick:W,disabled:!K||j,children:[h.jobs.next,o.jsx(ja,{className:"h-4 w-4 ml-1"})]})]})]}),o.jsx(xY,{isOpen:i,onClose:()=>l(!1),filters:x,onFiltersChange:w,onApply:L,onClear:G,userTopSkills:c})]})})};function M9e(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var I9e="DismissableLayer",a2="dismissableLayer.update",L9e="dismissableLayer.pointerDownOutside",D9e="dismissableLayer.focusOutside",SF,jY=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kY=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(jY),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),y=wt(t,k=>f(k)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=U9e(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=z9e(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return M9e(k=>{w===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(SF=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),jF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=SF)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),jF())},[d,u]),p.useEffect(()=>{const k=()=>g({});return document.addEventListener(a2,k),()=>document.removeEventListener(a2,k)},[]),o.jsx(nt.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,S.onPointerDownCapture)})});kY.displayName=I9e;var F9e="DismissableLayerBranch",B9e=p.forwardRef((e,t)=>{const r=p.useContext(jY),n=p.useRef(null),s=wt(t,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(nt.div,{...e,ref:s})});B9e.displayName=F9e;function U9e(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){EY(L9e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function z9e(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!n.current&&EY(D9e,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function jF(){const e=new CustomEvent(a2);document.dispatchEvent(e)}function EY(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?yy(s,a):s.dispatchEvent(a)}var Aj="focusScope.autoFocusOnMount",Tj="focusScope.autoFocusOnUnmount",kF={bubbles:!1,cancelable:!0},q9e="FocusScope",NY=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=p.useState(null),u=Jt(s),d=Jt(a),f=p.useRef(null),h=wt(t,m=>c(m)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(b){if(g.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:dl(f.current,{select:!0})},v=function(b){if(g.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||dl(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&dl(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,g.paused]),p.useEffect(()=>{if(l){NF.add(g);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(Aj,kF);l.addEventListener(Aj,u),l.dispatchEvent(x),x.defaultPrevented||(W9e(J9e(CY(l)),{select:!0}),document.activeElement===m&&dl(l))}return()=>{l.removeEventListener(Aj,u),setTimeout(()=>{const x=new CustomEvent(Tj,kF);l.addEventListener(Tj,d),l.dispatchEvent(x),x.defaultPrevented||dl(m??document.body,{select:!0}),l.removeEventListener(Tj,d),NF.remove(g)},0)}}},[l,u,d,g]);const y=p.useCallback(m=>{if(!r&&!n||g.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const w=m.currentTarget,[b,_]=V9e(w);b&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&dl(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&dl(_,{select:!0})):x===w&&m.preventDefault()}},[r,n,g.paused]);return o.jsx(nt.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});NY.displayName=q9e;function W9e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(dl(n,{select:t}),document.activeElement!==r)return}function V9e(e){const t=CY(e),r=EF(t,e),n=EF(t.reverse(),e);return[r,n]}function CY(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function EF(e,t){for(const r of e)if(!H9e(r,{upTo:t}))return r}function H9e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function K9e(e){return e instanceof HTMLInputElement&&"select"in e}function dl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&K9e(e)&&t&&e.select()}}var NF=G9e();function G9e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=CF(e,t),e.unshift(t)},remove(t){var r;e=CF(e,t),(r=e[0])==null||r.resume()}}}function CF(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function J9e(e){return e.filter(t=>t.tagName!=="A")}var Y9e="Portal",PY=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=p.useState(!1);tn(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?hy.createPortal(o.jsx(nt.div,{...n,ref:t}),i):null});PY.displayName=Y9e;function X9e(e,t=[]){let r=[];function n(a,i){const l=p.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...y}=f,m=(h==null?void 0:h[e][c])||l,v=p.useMemo(()=>y,Object.values(y));return o.jsx(m.Provider,{value:v,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,y=p.useContext(g);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Q9e(s,...t)]}function Q9e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Oj="rovingFocusGroup.onEntryFocus",Z9e={bubbles:!1,cancelable:!0},a_="RovingFocusGroup",[i2,AY,eze]=qy(a_),[tze,TY]=X9e(a_,[eze]),[rze,nze]=tze(a_),OY=p.forwardRef((e,t)=>o.jsx(i2.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(i2.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(sze,{...e,ref:t})})}));OY.displayName=a_;var sze=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),g=wt(t,h),y=Ch(a),[m=null,v]=pi({prop:i,defaultProp:l,onChange:c}),[x,w]=p.useState(!1),b=Jt(u),_=AY(r),S=p.useRef(!1),[E,k]=p.useState(0);return p.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(Oj,b),()=>j.removeEventListener(Oj,b)},[b]),o.jsx(rze,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:m,onItemFocus:p.useCallback(j=>v(j),[v]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>k(j=>j+1),[]),onFocusableItemRemove:p.useCallback(()=>k(j=>j-1),[]),children:o.jsx(nt.div,{tabIndex:x||E===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:Le(e.onMouseDown,()=>{S.current=!0}),onFocus:Le(e.onFocus,j=>{const N=!S.current;if(j.target===j.currentTarget&&N&&!x){const C=new CustomEvent(Oj,Z9e);if(j.currentTarget.dispatchEvent(C),!C.defaultPrevented){const P=_().filter(I=>I.focusable),R=P.find(I=>I.active),F=P.find(I=>I.id===m),D=[R,F,...P].filter(Boolean).map(I=>I.ref.current);MY(D,d)}}S.current=!1}),onBlur:Le(e.onBlur,()=>w(!1))})})}),$Y="RovingFocusGroupItem",RY=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...i}=e,l=li(),c=a||l,u=nze($Y,r),d=u.currentTabStopId===c,f=AY(r),{onFocusableItemAdd:h,onFocusableItemRemove:g}=u;return p.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),o.jsx(i2.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:o.jsx(nt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:Le(e.onMouseDown,y=>{n?u.onItemFocus(c):y.preventDefault()}),onFocus:Le(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Le(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const m=oze(y,u.orientation,u.dir);if(m!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(w=>w.focusable).map(w=>w.ref.current);if(m==="last")x.reverse();else if(m==="prev"||m==="next"){m==="prev"&&x.reverse();const w=x.indexOf(y.currentTarget);x=u.loop?lze(x,w+1):x.slice(w+1)}setTimeout(()=>MY(x))}})})})});RY.displayName=$Y;var aze={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ize(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function oze(e,t,r){const n=ize(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return aze[n]}function MY(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function lze(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var cze=OY,uze=RY,IY=Bw(),$j=function(){},i_=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:$j,onWheelCapture:$j,onTouchMoveCapture:$j}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,y=e.inert,m=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,w=e.gapMode,b=jy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=Fw([r,t]),E=br(br({},b),s);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:IY,removeScrollBar:u,shards:f,noIsolation:g,inert:y,setCallbacks:a,allowPinchZoom:!!m,lockRef:r,gapMode:w}),i?p.cloneElement(p.Children.only(l),br(br({},E),{ref:S})):p.createElement(x,br({},E,{className:c,ref:S}),l))});i_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};i_.classNames={fullWidth:pu,zeroRight:hu};var o2=!1;if(typeof window<"u")try{var a0=Object.defineProperty({},"passive",{get:function(){return o2=!0,!0}});window.addEventListener("test",a0,a0),window.removeEventListener("test",a0,a0)}catch{o2=!1}var pd=o2?{passive:!1}:!1,dze=function(e){return e.tagName==="TEXTAREA"},LY=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!dze(e)&&r[t]==="visible")},fze=function(e){return LY(e,"overflowY")},hze=function(e){return LY(e,"overflowX")},PF=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=DY(e,n);if(s){var a=FY(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},pze=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},mze=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},DY=function(e,t){return e==="v"?fze(t):hze(t)},FY=function(e,t){return e==="v"?pze(t):mze(t)},gze=function(e,t){return e==="h"&&t==="rtl"?-1:1},yze=function(e,t,r,n,s){var a=gze(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=FY(e,l),y=g[0],m=g[1],v=g[2],x=m-v-a*y;(y||x)&&DY(e,l)&&(f+=x,h+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},i0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},AF=function(e){return[e.deltaX,e.deltaY]},TF=function(e){return e&&"current"in e?e.current:e},vze=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xze=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bze=0,md=[];function wze(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(bze++)[0],a=p.useState(ky)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Dw([e.lockRef.current],(e.shards||[]).map(TF),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var x=i0(m),w=r.current,b="deltaX"in m?m.deltaX:w[0]-x[0],_="deltaY"in m?m.deltaY:w[1]-x[1],S,E=m.target,k=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&E.type==="range")return!1;var j=PF(k,E);if(!j)return!0;if(j?S=k:(S=k==="v"?"h":"v",j=PF(k,E)),!j)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return yze(N,v,m,N==="h"?b:_,!0)},[]),c=p.useCallback(function(m){var v=m;if(!(!md.length||md[md.length-1]!==a)){var x="deltaY"in v?AF(v):i0(v),w=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&vze(S.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(i.current.shards||[]).map(TF).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=b.length>0?l(v,b[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=p.useCallback(function(m,v,x,w){var b={name:m,delta:v,target:x,should:w,shadowParent:_ze(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=p.useCallback(function(m){r.current=i0(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,AF(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,i0(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return md.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,pd),document.addEventListener("touchmove",c,pd),document.addEventListener("touchstart",d,pd),function(){md=md.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,pd),document.removeEventListener("touchmove",c,pd),document.removeEventListener("touchstart",d,pd)}},[]);var g=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(a,{styles:xze(s)}):null,g?p.createElement(qw,{gapMode:e.gapMode}):null)}function _ze(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Sze=Uw(IY,wze);var BY=p.forwardRef(function(e,t){return p.createElement(i_,br({},e,{ref:t,sideCar:Sze}))});BY.classNames=i_.classNames;var l2=["Enter"," "],jze=["ArrowDown","PageUp","Home"],UY=["ArrowUp","PageDown","End"],kze=[...jze,...UY],Eze={ltr:[...l2,"ArrowRight"],rtl:[...l2,"ArrowLeft"]},Nze={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vy="Menu",[ry,Cze,Pze]=qy(Vy),[Ju,zY]=fa(Vy,[Pze,vh,TY]),o_=vh(),qY=TY(),[Aze,Yu]=Ju(Vy),[Tze,Hy]=Ju(Vy),WY=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:i=!0}=e,l=o_(t),[c,u]=p.useState(null),d=p.useRef(!1),f=Jt(a),h=Ch(s);return p.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),o.jsx(u7,{...l,children:o.jsx(Aze,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(Tze,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};WY.displayName=Vy;var Oze="MenuAnchor",xO=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=o_(r);return o.jsx(AP,{...s,...n,ref:t})});xO.displayName=Oze;var bO="MenuPortal",[$ze,VY]=Ju(bO,{forceMount:void 0}),HY=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=Yu(bO,t);return o.jsx($ze,{scope:t,forceMount:r,children:o.jsx(Ns,{present:r||a.open,children:o.jsx(PY,{asChild:!0,container:s,children:n})})})};HY.displayName=bO;var Ma="MenuContent",[Rze,wO]=Ju(Ma),KY=p.forwardRef((e,t)=>{const r=VY(Ma,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Yu(Ma,e.__scopeMenu),i=Hy(Ma,e.__scopeMenu);return o.jsx(ry.Provider,{scope:e.__scopeMenu,children:o.jsx(Ns,{present:n||a.open,children:o.jsx(ry.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(Mze,{...s,ref:t}):o.jsx(Ize,{...s,ref:t})})})})}),Mze=p.forwardRef((e,t)=>{const r=Yu(Ma,e.__scopeMenu),n=p.useRef(null),s=wt(t,n);return p.useEffect(()=>{const a=n.current;if(a)return Ww(a)},[]),o.jsx(_O,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Le(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Ize=p.forwardRef((e,t)=>{const r=Yu(Ma,e.__scopeMenu);return o.jsx(_O,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),_O=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,disableOutsideScroll:y,...m}=e,v=Yu(Ma,r),x=Hy(Ma,r),w=o_(r),b=qY(r),_=Cze(r),[S,E]=p.useState(null),k=p.useRef(null),j=wt(t,k,v.onContentChange),N=p.useRef(0),C=p.useRef(""),P=p.useRef(0),R=p.useRef(null),F=p.useRef("right"),z=p.useRef(0),D=y?BY:p.Fragment,I=y?{as:tc,allowPinchZoom:!0}:void 0,B=M=>{var W,J;const Z=C.current+M,L=_().filter(K=>!K.disabled),G=document.activeElement,H=(W=L.find(K=>K.ref.current===G))==null?void 0:W.textValue,Y=L.map(K=>K.textValue),ae=Gze(Y,Z,H),V=(J=L.find(K=>K.textValue===ae))==null?void 0:J.ref.current;(function K(Q){C.current=Q,window.clearTimeout(N.current),Q!==""&&(N.current=window.setTimeout(()=>K(""),1e3))})(Z),V&&setTimeout(()=>V.focus())};p.useEffect(()=>()=>window.clearTimeout(N.current),[]),oO();const T=p.useCallback(M=>{var L,G;return F.current===((L=R.current)==null?void 0:L.side)&&Yze(M,(G=R.current)==null?void 0:G.area)},[]);return o.jsx(Rze,{scope:r,searchRef:C,onItemEnter:p.useCallback(M=>{T(M)&&M.preventDefault()},[T]),onItemLeave:p.useCallback(M=>{var Z;T(M)||((Z=k.current)==null||Z.focus(),E(null))},[T]),onTriggerLeave:p.useCallback(M=>{T(M)&&M.preventDefault()},[T]),pointerGraceTimerRef:P,onPointerGraceIntentChange:p.useCallback(M=>{R.current=M},[]),children:o.jsx(D,{...I,children:o.jsx(NY,{asChild:!0,trapped:s,onMountAutoFocus:Le(a,M=>{var Z;M.preventDefault(),(Z=k.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(kY,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,children:o.jsx(cze,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:Le(c,M=>{x.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(TP,{role:"menu","aria-orientation":"vertical","data-state":cX(v.open),"data-radix-menu-content":"",dir:x.dir,...w,...m,ref:j,style:{outline:"none",...m.style},onKeyDown:Le(m.onKeyDown,M=>{const L=M.target.closest("[data-radix-menu-content]")===M.currentTarget,G=M.ctrlKey||M.altKey||M.metaKey,H=M.key.length===1;L&&(M.key==="Tab"&&M.preventDefault(),!G&&H&&B(M.key));const Y=k.current;if(M.target!==Y||!kze.includes(M.key))return;M.preventDefault();const V=_().filter(W=>!W.disabled).map(W=>W.ref.current);UY.includes(M.key)&&V.reverse(),Hze(V)}),onBlur:Le(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(N.current),C.current="")}),onPointerMove:Le(e.onPointerMove,ny(M=>{const Z=M.target,L=z.current!==M.clientX;if(M.currentTarget.contains(Z)&&L){const G=M.clientX>z.current?"right":"left";F.current=G,z.current=M.clientX}}))})})})})})})});KY.displayName=Ma;var Lze="MenuGroup",SO=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(nt.div,{role:"group",...n,ref:t})});SO.displayName=Lze;var Dze="MenuLabel",GY=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(nt.div,{...n,ref:t})});GY.displayName=Dze;var Hb="MenuItem",OF="menu.itemSelect",l_=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=p.useRef(null),i=Hy(Hb,e.__scopeMenu),l=wO(Hb,e.__scopeMenu),c=wt(t,a),u=p.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(OF,{bubbles:!0,cancelable:!0});f.addEventListener(OF,g=>n==null?void 0:n(g),{once:!0}),yy(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(JY,{...s,ref:c,disabled:r,onClick:Le(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Le(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Le(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||l2.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});l_.displayName=Hb;var JY=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,i=wO(Hb,r),l=qY(r),c=p.useRef(null),u=wt(t,c),[d,f]=p.useState(!1),[h,g]=p.useState("");return p.useEffect(()=>{const y=c.current;y&&g((y.textContent??"").trim())},[a.children]),o.jsx(ry.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:o.jsx(uze,{asChild:!0,...l,focusable:!n,children:o.jsx(nt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Le(e.onPointerMove,ny(y=>{n?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(e.onPointerLeave,ny(y=>i.onItemLeave(y))),onFocus:Le(e.onFocus,()=>f(!0)),onBlur:Le(e.onBlur,()=>f(!1))})})})}),Fze="MenuCheckboxItem",YY=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(tX,{scope:e.__scopeMenu,checked:r,children:o.jsx(l_,{role:"menuitemcheckbox","aria-checked":Kb(r)?"mixed":r,...s,ref:t,"data-state":kO(r),onSelect:Le(s.onSelect,()=>n==null?void 0:n(Kb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});YY.displayName=Fze;var XY="MenuRadioGroup",[Bze,Uze]=Ju(XY,{value:void 0,onValueChange:()=>{}}),QY=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=Jt(n);return o.jsx(Bze,{scope:e.__scopeMenu,value:r,onValueChange:a,children:o.jsx(SO,{...s,ref:t})})});QY.displayName=XY;var ZY="MenuRadioItem",eX=p.forwardRef((e,t)=>{const{value:r,...n}=e,s=Uze(ZY,e.__scopeMenu),a=r===s.value;return o.jsx(tX,{scope:e.__scopeMenu,checked:a,children:o.jsx(l_,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":kO(a),onSelect:Le(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});eX.displayName=ZY;var jO="MenuItemIndicator",[tX,zze]=Ju(jO,{checked:!1}),rX=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=zze(jO,r);return o.jsx(Ns,{present:n||Kb(a.checked)||a.checked===!0,children:o.jsx(nt.span,{...s,ref:t,"data-state":kO(a.checked)})})});rX.displayName=jO;var qze="MenuSeparator",nX=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(nt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});nX.displayName=qze;var Wze="MenuArrow",sX=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=o_(r);return o.jsx(OP,{...s,...n,ref:t})});sX.displayName=Wze;var Vze="MenuSub",[lKe,aX]=Ju(Vze),tm="MenuSubTrigger",iX=p.forwardRef((e,t)=>{const r=Yu(tm,e.__scopeMenu),n=Hy(tm,e.__scopeMenu),s=aX(tm,e.__scopeMenu),a=wO(tm,e.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(xO,{asChild:!0,...u,children:o.jsx(JY,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":cX(r.open),...e,ref:yw(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Le(e.onPointerMove,ny(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Le(e.onPointerLeave,ny(f=>{var g,y;d();const h=(g=r.content)==null?void 0:g.getBoundingClientRect();if(h){const m=(y=r.content)==null?void 0:y.dataset.side,v=m==="right",x=v?-5:5,w=h[v?"left":"right"],b=h[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:w,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:w,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Le(e.onKeyDown,f=>{var g;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||Eze[n.dir].includes(f.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),f.preventDefault())})})})});iX.displayName=tm;var oX="MenuSubContent",lX=p.forwardRef((e,t)=>{const r=VY(Ma,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Yu(Ma,e.__scopeMenu),i=Hy(Ma,e.__scopeMenu),l=aX(oX,e.__scopeMenu),c=p.useRef(null),u=wt(t,c);return o.jsx(ry.Provider,{scope:e.__scopeMenu,children:o.jsx(Ns,{present:n||a.open,children:o.jsx(ry.Slot,{scope:e.__scopeMenu,children:o.jsx(_O,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Le(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Le(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Le(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),h=Nze[i.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});lX.displayName=oX;function cX(e){return e?"open":"closed"}function Kb(e){return e==="indeterminate"}function kO(e){return Kb(e)?"indeterminate":e?"checked":"unchecked"}function Hze(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Kze(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Gze(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=Kze(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Jze(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function Yze(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Jze(r,t)}function ny(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Xze=WY,Qze=xO,Zze=HY,eqe=KY,tqe=SO,rqe=GY,nqe=l_,sqe=YY,aqe=QY,iqe=eX,oqe=rX,lqe=nX,cqe=sX,uqe=iX,dqe=lX,EO="DropdownMenu",[fqe,cKe]=fa(EO,[zY]),Cs=zY(),[hqe,uX]=fqe(EO),dX=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=Cs(t),u=p.useRef(null),[d=!1,f]=pi({prop:s,defaultProp:a,onChange:i});return o.jsx(hqe,{scope:t,triggerId:li(),triggerRef:u,contentId:li(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(Xze,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};dX.displayName=EO;var fX="DropdownMenuTrigger",hX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=uX(fX,r),i=Cs(r);return o.jsx(Qze,{asChild:!0,...i,children:o.jsx(nt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:yw(t,a.triggerRef),onPointerDown:Le(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Le(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});hX.displayName=fX;var pqe="DropdownMenuPortal",pX=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Cs(t);return o.jsx(Zze,{...n,...r})};pX.displayName=pqe;var mX="DropdownMenuContent",gX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=uX(mX,r),a=Cs(r),i=p.useRef(!1);return o.jsx(eqe,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:Le(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Le(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gX.displayName=mX;var mqe="DropdownMenuGroup",gqe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cs(r);return o.jsx(tqe,{...s,...n,ref:t})});gqe.displayName=mqe;var yqe="DropdownMenuLabel",yX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cs(r);return o.jsx(rqe,{...s,...n,ref:t})});yX.displayName=yqe;var vqe="DropdownMenuItem",vX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cs(r);return o.jsx(nqe,{...s,...n,ref:t})});vX.displayName=vqe;var xqe="DropdownMenuCheckboxItem",xX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cs(r);return o.jsx(sqe,{...s,...n,ref:t})});xX.displayName=xqe;var bqe="DropdownMenuRadioGroup",wqe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cs(r);return o.jsx(aqe,{...s,...n,ref:t})});wqe.displayName=bqe;var _qe="DropdownMenuRadioItem",bX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cs(r);return o.jsx(iqe,{...s,...n,ref:t})});bX.displayName=_qe;var Sqe="DropdownMenuItemIndicator",wX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cs(r);return o.jsx(oqe,{...s,...n,ref:t})});wX.displayName=Sqe;var jqe="DropdownMenuSeparator",_X=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cs(r);return o.jsx(lqe,{...s,...n,ref:t})});_X.displayName=jqe;var kqe="DropdownMenuArrow",Eqe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cs(r);return o.jsx(cqe,{...s,...n,ref:t})});Eqe.displayName=kqe;var Nqe="DropdownMenuSubTrigger",SX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cs(r);return o.jsx(uqe,{...s,...n,ref:t})});SX.displayName=Nqe;var Cqe="DropdownMenuSubContent",jX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cs(r);return o.jsx(dqe,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jX.displayName=Cqe;var Pqe=dX,Aqe=hX,Tqe=pX,kX=gX,EX=yX,NX=vX,CX=xX,PX=bX,AX=wX,TX=_X,OX=SX,$X=jX;const $F=Pqe,RF=Aqe,Oqe=p.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(OX,{ref:s,className:ue("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(ja,{className:"ml-auto h-4 w-4"})]}));Oqe.displayName=OX.displayName;const $qe=p.forwardRef(({className:e,...t},r)=>o.jsx($X,{ref:r,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));$qe.displayName=$X.displayName;const c2=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Tqe,{children:o.jsx(kX,{ref:n,sideOffset:t,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));c2.displayName=kX.displayName;const Dc=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(NX,{ref:n,className:ue("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Dc.displayName=NX.displayName;const Rqe=p.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(CX,{ref:s,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(AX,{children:o.jsx($w,{className:"h-4 w-4"})})}),t]}));Rqe.displayName=CX.displayName;const Mqe=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(PX,{ref:n,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(AX,{children:o.jsx(ede,{className:"h-2 w-2 fill-current"})})}),t]}));Mqe.displayName=PX.displayName;const Iqe=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(EX,{ref:n,className:ue("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Iqe.displayName=EX.displayName;const Lqe=p.forwardRef(({className:e,...t},r)=>o.jsx(TX,{ref:r,className:ue("-mx-1 my-1 h-px bg-muted",e),...t}));Lqe.displayName=TX.displayName;const Dqe=()=>{const{jobId:e}=Sh(),t=e?decodeURIComponent(e):void 0,{user:r}=_r(),n=Vs();dr();const s=ha(),[a,i]=p.useState(!1),[l,c]=p.useState(!1),u=O.useRef(null),{data:d,isLoading:f,error:h}=Xt({queryKey:["jobDetail",t],queryFn:async()=>{var re,ee;if(!t)throw new Error("Job ID is required");console.log(" Fetching job details for ID:",t);try{const ye=await mi.fetchJobDetail(t);return console.log(" Job details fetched successfully"),console.log(" Job Title:",ye.title||ye.job_title),console.log(" Company:",ye.company_name||ye.employer_name),console.log(" Location:",ye.location||ye.job_location),console.log(" Description length:",((re=ye.description)==null?void 0:re.length)||((ee=ye.job_description)==null?void 0:ee.length)||0),ye}catch(ye){throw console.error(" Error fetching job details:",ye),ye}},enabled:!!t,retry:1,retryDelay:1e3}),{data:g=[]}=Xt({queryKey:["savedJobs",r==null?void 0:r.id],queryFn:async()=>{var re;if(!r)return[];try{return(((re=(await Ae.get(gt.AUTH.PROFILE)).data)==null?void 0:re.saved_jobs)||[]).map(De=>String(De))}catch(ee){return console.error("Error fetching saved jobs from profile API:",ee),[]}},enabled:!!r}),{data:y=[],isLoading:m}=Xt({queryKey:["userSkills",r==null?void 0:r.id],queryFn:async()=>{if(!r)return[];try{const re=await Ae.get(`/api/skilltest/results/?user=${r.id}`);let ee=null;if(Array.isArray(re.data)&&re.data.length>0?ee=re.data[0]:re.data&&typeof re.data=="object"&&(ee=re.data),ee&&ee.skills_json){const ye=ee.skills_json||{},De=Object.keys(ye.tech||{}),$=Object.keys(ye.soft||{});return[...De,...$]}return[]}catch(re){return console.error("Error fetching user skills for matching:",re),[]}},enabled:!!r}),v=(d==null?void 0:d.id)||(d==null?void 0:d.job_id)||t||"",x=g==null?void 0:g.includes(String(v));p.useEffect(()=>{if(!d){i(!1);return}let re=null,ee=null;const ye=()=>{const fe=['main[class*="overflow-y-auto"]','main[class*="overflow"]',"main"];for(const be of fe){const qe=document.querySelector(be);if(qe)return qe}return null},De=()=>{if(re){const be=re.scrollTop>100;if(i(be),s){const Ye=Array.from(document.querySelectorAll(".fixed.bottom-0")).find(Pe=>{const he=Pe;return he.classList.contains("md:hidden")&&he.classList.contains("z-50")&&he.querySelector("nav.flex.justify-around")!==null});Ye&&(be?(Ye.style.transform="translateY(100%)",Ye.style.opacity="0"):(Ye.style.transform="translateY(0)",Ye.style.opacity="1"),Ye.style.transition="transform 0.3s ease-in-out, opacity 0.3s ease-in-out")}const qe=re.closest("main");if(qe){const We=window.getComputedStyle(qe),Ye=parseInt(We.marginLeft)||0;c(Ye<=100)}}else{const be=(window.scrollY||document.documentElement.scrollTop)>100;i(be)}},$=()=>{re=ye(),re?(re.addEventListener("scroll",De,{passive:!0}),De(),ee=()=>{re==null||re.removeEventListener("scroll",De)}):(window.addEventListener("scroll",De,{passive:!0}),De(),ee=()=>{window.removeEventListener("scroll",De)})};$();const q=setTimeout(()=>{re||$()},300);return()=>{if(clearTimeout(q),ee&&ee(),s){const be=Array.from(document.querySelectorAll(".fixed.bottom-0")).find(qe=>{const We=qe;return We.classList.contains("md:hidden")&&We.classList.contains("z-50")&&We.querySelector("nav.flex.justify-around")!==null});be&&(be.style.transform="",be.style.opacity="",be.style.transition="")}}},[d,s]);const w=ca({mutationFn:async()=>{if(!r)throw new Error("User not logged in");if(!d)throw new Error("Job details not available");try{const re=String(v),ee=`${gt.JOBS.SAVE_JOB}${re}/`;await Ae.post(ee)}catch(re){const ee=re instanceof Error?re.message:"Failed to save job. Please try again.";throw new Error(ee)}},onSuccess:()=>{n.invalidateQueries({queryKey:["savedJobs",r==null?void 0:r.id]}),n.invalidateQueries({queryKey:["profile"]}),le.success(x?"Job Unsaved":"Job Saved")},onError:re=>{console.error("Error saving job:",re);const ee=re instanceof Error?re.message:"Failed to save job";le.error(ee)}}),b=()=>{if(!d)return"By agreement";if(d.salary&&typeof d.salary=="string")return d.salary;const re=d.min_salary,ee=d.max_salary,ye=d.salary_currency||"$",De=d.salary_period||"yearly";if(re&&ee&&typeof re=="number"&&typeof ee=="number"){const $=De==="monthly"?"Monthly":"",q=re.toLocaleString(),fe=ee.toLocaleString();return["$","","","","",""].some(We=>ye.includes(We))?`${ye}${q} - ${ye}${fe}${$?`/${$}`:""}`:`${q} - ${fe} ${ye}${$?`/${$}`:""}`}else if(re&&typeof re=="number"){const $=re.toLocaleString();return["$","","","","",""].some(be=>ye.includes(be))?`${ye}${$}+`:`${$}+ ${ye}`}return"By agreement"},_=()=>{if(!d)return"";const re=d;if(d.apply_url&&typeof d.apply_url=="string")return d.apply_url;const ee=d.apply_url||d.job_apply_link||d.url||(re.job_apply_link&&typeof re.job_apply_link=="string"?re.job_apply_link:null)||d.applyUrl||d.applyLink||d.application_url||d.application_link||d.link||"";if(!ee&&d.company_info){const ye=d.company_info;if(ye.apply_url&&typeof ye.apply_url=="string")return ye.apply_url;if(ye.url&&typeof ye.url=="string")return ye.url}if(!ee&&d.company&&typeof d.company=="object"){const ye=d.company;if(ye.apply_url&&typeof ye.apply_url=="string")return ye.apply_url;if(ye.url&&typeof ye.url=="string")return ye.url}if(!ee&&d.employer&&typeof d.employer=="object"){const ye=d.employer;if(ye.apply_url&&typeof ye.apply_url=="string")return ye.apply_url;if(ye.url&&typeof ye.url=="string")return ye.url}return ee},S=()=>{if(!d)return"";const re=d;if(d.company_name&&typeof d.company_name=="string"&&d.company_name.trim())return String(d.company_name).trim();if(typeof d.company=="string"&&d.company.trim())return String(d.company).trim();if(d.employer_name&&typeof d.employer_name=="string"&&d.employer_name.trim())return String(d.employer_name).trim();if(re.employer_name&&typeof re.employer_name=="string")return String(re.employer_name).trim();if(d.company_info){const ee=d.company_info;if(ee.name&&typeof ee.name=="string"&&ee.name.trim())return String(ee.name).trim();if(ee.company_name&&typeof ee.company_name=="string"&&ee.company_name.trim())return String(ee.company_name).trim();if(ee.employer_name&&typeof ee.employer_name=="string"&&ee.employer_name.trim())return String(ee.employer_name).trim()}if(d.company_name&&typeof d.company_name=="string"&&d.company_name.trim())return String(d.company_name).trim();if(d.employer_name&&typeof d.employer_name=="string"&&d.employer_name.trim())return String(d.employer_name).trim();if(d.company&&typeof d.company=="object"){const ee=d.company;if(ee.name&&typeof ee.name=="string"&&ee.name.trim())return String(ee.name).trim();if(ee.company_name&&typeof ee.company_name=="string"&&ee.company_name.trim())return String(ee.company_name).trim();if(ee.employer_name&&typeof ee.employer_name=="string"&&ee.employer_name.trim())return String(ee.employer_name).trim()}if(d.employer&&typeof d.employer=="object"){const ee=d.employer;if(ee.name&&typeof ee.name=="string"&&ee.name.trim())return String(ee.name).trim();if(ee.company_name&&typeof ee.company_name=="string"&&ee.company_name.trim())return String(ee.company_name).trim();if(ee.employer_name&&typeof ee.employer_name=="string"&&ee.employer_name.trim())return String(ee.employer_name).trim()}return""},E=()=>{if(!d)return"Untitled Position";const re=d;return d.title||d.job_title||re.title||re.job_title||"Untitled Position"},k=()=>{if(!d)return"Location not specified";const re=d,ee=Pe=>{if(!Pe&&Pe!==0)return"";if(typeof Pe=="string")return Pe;if(typeof Pe=="number")return String(Pe);if(Array.isArray(Pe))return Pe.map(he=>String(he)).join(", ");if(typeof Pe=="object"){const he=Pe;return he.city||he.name||he.label||Object.values(he).filter(Boolean).slice(0,3).map(je=>String(je)).join(", ")||""}return String(Pe)},ye=d.location??d.job_location;if(ye){const Pe=ee(ye);if(Pe)return Pe}const De=[],$=re.job_city??d.city??re.city,q=re.job_state??d.state??re.state,fe=re.job_country??d.country??re.country,be=ee($),qe=ee(q),We=ee(fe);return be&&De.push(be),qe&&De.push(qe),We&&De.push(We),De.length>0?De.join(", "):[d.city,d.state,d.country].map(Pe=>ee(Pe)).filter(Boolean).join(" ").trim()||"Location not specified"},[j,N]=p.useState(null),[C,P]=p.useState(!1),[R,F]=p.useState(void 0);p.useEffect(()=>{(async()=>{if(!d){N(null),F(void 0);return}const ee=S();if(!ee||!ee.trim()){N(null),F(void 0);return}P(!0);try{const De=`https://breneo-job-aggregator-k7ti.onrender.com/api/companies/${encodeURIComponent(ee.trim())}`;console.log(" Fetching company details from:",De);const $=await fetch(De,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if($.ok){const q=await $.json();console.log(" Company details fetched:",q);const fe={name:q.name||q.company_name||ee,company_name:q.company_name||q.name||ee,logo:q.logo||q.company_logo||q.logo_url,company_logo:q.company_logo||q.logo||q.logo_url,logo_url:q.logo_url||q.logo||q.company_logo,website:q.website||q.company_url||q.website_url,company_url:q.company_url||q.website||q.website_url,description:q.description||q.company_description,company_description:q.company_description||q.description,size:q.size||q.company_size,company_size:q.company_size||q.size,industry:q.industry||q.company_industry,company_industry:q.company_industry||q.industry,founded:q.founded||q.company_founded,company_founded:q.company_founded||q.founded,headquarters:q.headquarters||q.company_headquarters,company_headquarters:q.company_headquarters||q.headquarters,...q};N(fe);const be=fe.logo||fe.company_logo||fe.logo_url;if(be&&typeof be=="string")try{new URL(be).protocol.startsWith("http")&&F(be)}catch{}}else console.log(" Company details not found or API error:",$.status),N(null),F(void 0)}catch(ye){console.error(" Error fetching company details:",ye),N(null),F(void 0)}finally{P(!1)}})()},[d]);const z=()=>{if(R)return R;if(!d)return;const re=d;if(re.employer_logo&&typeof re.employer_logo=="string"){const ee=String(re.employer_logo);try{if(new URL(ee).protocol.startsWith("http"))return ee}catch{}}if(d.company_logo&&typeof d.company_logo=="string"){const ee=String(d.company_logo);try{if(new URL(ee).protocol.startsWith("http"))return ee}catch{}}if(d.employer_logo&&typeof d.employer_logo=="string"){const ee=String(d.employer_logo);try{if(new URL(ee).protocol.startsWith("http"))return ee}catch{}}if(d.logo_url&&typeof d.logo_url=="string"){const ee=String(d.logo_url);try{if(new URL(ee).protocol.startsWith("http"))return ee}catch{}}if(d.company_info){const ee=d.company_info,ye=[ee.logo,ee.company_logo,ee.employer_logo,ee.logo_url];for(const De of ye)if(De&&typeof De=="string"){const $=String(De);try{if(new URL($).protocol.startsWith("http"))return $}catch{}}}if(d.company&&typeof d.company=="object"){const ee=d.company,ye=[ee.logo,ee.company_logo,ee.employer_logo,ee.logo_url];for(const De of ye)if(De&&typeof De=="string"){const $=String(De);try{if(new URL($).protocol.startsWith("http"))return $}catch{}}}if(d.employer&&typeof d.employer=="object"){const ee=d.employer,ye=[ee.logo,ee.company_logo,ee.employer_logo,ee.logo_url];for(const De of ye)if(De&&typeof De=="string"){const $=String(De);try{if(new URL($).protocol.startsWith("http"))return $}catch{}}}},D=()=>{var ee,ye,De;if(j!=null&&j.website||j!=null&&j.company_url||j!=null&&j.website_url)return j.website||j.company_url||j.website_url;if(!d)return;const re=((ee=d.company_info)==null?void 0:ee.website)||((ye=d.company_info)==null?void 0:ye.company_url)||((De=d.company_info)==null?void 0:De.website_url)||d.company_url;return typeof re=="string"?re:void 0},I=()=>{var re,ee;if(j!=null&&j.description||j!=null&&j.company_description)return j.description||j.company_description;if(d)return((re=d.company_info)==null?void 0:re.description)||((ee=d.company_info)==null?void 0:ee.company_description)||void 0},B=()=>{var re,ee;if(j!=null&&j.size||j!=null&&j.company_size)return j.size||j.company_size;if(d)return((re=d.company_info)==null?void 0:re.size)||((ee=d.company_info)==null?void 0:ee.company_size)||void 0},T=()=>{var re,ee;if(j!=null&&j.founded||j!=null&&j.company_founded)return j.founded||j.company_founded;if(d)return((re=d.company_info)==null?void 0:re.founded)||((ee=d.company_info)==null?void 0:ee.company_founded)||void 0},M=()=>{var re,ee;if(j!=null&&j.headquarters||j!=null&&j.company_headquarters)return j.headquarters||j.company_headquarters;if(d)return((re=d.company_info)==null?void 0:re.headquarters)||((ee=d.company_info)==null?void 0:ee.company_headquarters)||void 0},Z=()=>{if(!d)return"Full Time";const re=d;return d.employment_type||d.job_employment_type||re.job_employment_type||"Full Time"},L=()=>{if(!d)return"On-site";const re=d;return d.is_remote||d.remote===!0||re.job_is_remote===!0||re.remote===!0?"Remote":E().toLowerCase().includes("hybrid")?"Hybrid":"On-site"},G=()=>{if(d)return d.required_experience||d.job_required_experience||d.experience||void 0},H=()=>{if(!d)return[];const re=d.required_skills||d.skills||d.job_skills||void 0;return typeof re=="string"?re.split(/[,\n]/).map(ee=>ee.trim()).filter(Boolean):Array.isArray(re)?re.filter(Boolean):[]},Y=()=>{if(d)return d.education||d.education_required||d.required_education||void 0},ae=()=>{if(d)return d.application_deadline||d.deadline||d.expires_at||d.expiration_date||void 0},V=re=>{if(re)try{const ee=new Date(re);return isNaN(ee.getTime())?re:ee.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return re}},W=()=>{if(d)return d.job_category||d.category||d.industry||d.job_industry||void 0},J=()=>window.location.href,K=()=>{if(!d)return"Check out this job!";const re=E(),ee=S();return`Check out this ${re} position at ${ee}!`},Q=async()=>{if(!navigator.share)return!1;try{return await navigator.share({title:E(),text:K(),url:J()}),le.success("Shared successfully!"),!0}catch(re){return re.name!=="AbortError"&&console.error("Error sharing:",re),!1}},se=async()=>{try{await navigator.clipboard.writeText(J()),le.success("Link copied to clipboard!")}catch(re){console.error("Error copying link:",re),le.error("Failed to copy link")}},X=()=>{const ee=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(J())}`;window.open(ee,"_blank","width=600,height=400")},ce=()=>{const re=encodeURIComponent(J()),ee=encodeURIComponent(E()),ye=encodeURIComponent(K()),De=`https://www.linkedin.com/sharing/share-offsite/?url=${re}&title=${ee}&summary=${ye}`;window.open(De,"_blank","width=600,height=400")},oe=async()=>{navigator.share&&await Q()},xe=Jl(y,d?mu(d):[],E()),pe=pg(xe);return o.jsxs(Ot,{children:[o.jsxs("div",{ref:u,className:"max-w-5xl mx-auto pt-0 sm:pt-4 pb-40 sm:pb-32 md:pb-24 sm:px-4 md:px-6",children:[h&&o.jsx(ke,{className:"mb-6 border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-900",children:o.jsx(Ce,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3 text-red-700 dark:text-red-400",children:[o.jsx(Lf,{className:"h-5 w-5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"Error loading job details"}),o.jsx("p",{className:"text-sm",children:h.message})]})]})})}),f&&o.jsx("div",{className:"space-y-6",children:o.jsx(ke,{children:o.jsxs(Ce,{className:"p-6",children:[o.jsx(nr,{className:"h-8 w-3/4 mb-4"}),o.jsx(nr,{className:"h-4 w-1/2 mb-6"}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx(nr,{className:"h-16 w-16 rounded-full"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(nr,{className:"h-5 w-1/3 mb-2"}),o.jsx(nr,{className:"h-4 w-1/4"})]})]}),o.jsx(nr,{className:"h-32 w-full"})]})})}),!f&&d&&o.jsx(ke,{className:"bg-transparent border-0 shadow-none h-full",children:o.jsxs(Ce,{className:"p-1 sm:p-6 space-y-2",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-6 bg-white rounded-3xl p-6 shadow-none border-0",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[z()?o.jsx("img",{src:z(),alt:S()||"Company logo",className:"h-12 w-12 rounded-md object-cover flex-shrink-0"}):o.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-500 flex-shrink-0",children:o.jsx(uu,{className:"h-6 w-6"})}),o.jsxs("div",{className:"flex flex-col min-w-0",children:[S()&&o.jsx("p",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 truncate",children:S()}),o.jsx("h1",{className:"text-lg md:text-2xl font-semibold text-gray-900 dark:text-white truncate",children:E()})]})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[o.jsx(cg,{className:"h-4 w-4"}),o.jsx("span",{children:k()})]})}),o.jsxs("div",{className:"flex flex-col md:flex-row md:flex-wrap gap-2 md:gap-4 mb-6 text-sm md:text-base font-medium text-gray-700 dark:text-gray-200 ",children:[o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[o.jsx(ode,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),o.jsx("span",{children:b()})]}),o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[o.jsx(ig,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),o.jsx("span",{children:Z()})]}),o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[o.jsx(ln,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),o.jsx("span",{children:L()})]}),d.posted_at||d.fetched_at||d.date_posted||d.posted_date?o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap text-sm md:text-base font-medium text-gray-700 dark:text-gray-200",children:[o.jsx(fS,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0 text-gray-700 dark:text-gray-200"}),o.jsx("span",{children:V(String(d.posted_at||d.fetched_at||d.date_posted||d.posted_date||""))||String(d.posted_at||d.fetched_at||d.date_posted||d.posted_date||"")})]}):null]})]}),o.jsxs("div",{className:"flex flex-row items-start gap-2 md:pt-0",children:[_()?o.jsx(ne,{variant:"default",size:"sm",onClick:()=>window.open(_(),"_blank"),children:"Apply Now"}):o.jsx(ne,{disabled:!0,variant:"outline",size:"sm",className:"flex items-center gap-2",children:"Apply Link Not Available"}),o.jsxs("div",{className:"flex flex-row items-start gap-2 ml-auto",children:[r&&o.jsx(ne,{variant:"secondary",size:"icon",onClick:()=>w.mutate(),disabled:w.isPending,"aria-label":x?"Unsave job":"Save job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:o.jsx(as,{className:`h-4 w-4 ${x?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),s&&navigator.share?o.jsx(ne,{variant:"secondary",size:"icon",onClick:oe,"aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:o.jsx(kv,{className:"h-4 w-4"})}):o.jsxs($F,{children:[o.jsx(RF,{asChild:!0,children:o.jsx(ne,{variant:"secondary",size:"icon","aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:o.jsx(kv,{className:"h-4 w-4"})})}),o.jsxs(c2,{align:"end",children:[o.jsxs(Dc,{onClick:se,children:[o.jsx(eI,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Copy Link"})]}),o.jsxs(Dc,{onClick:X,children:[o.jsx(tI,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on Facebook"})]}),o.jsxs(Dc,{onClick:ce,children:[o.jsx(sI,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on LinkedIn"})]})]})]})]})]})]})}),r&&y.length>0&&o.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-none border-0 mt-6",children:o.jsxs("div",{className:"flex flex-row items-start gap-5",children:[o.jsxs("div",{className:"flex flex-col items-center gap-1.5 flex-shrink-0 pt-1",children:[o.jsx(ac,{value:xe,size:56,strokeWidth:4,showLabel:!1,percentageTextSize:"md",className:"flex-shrink-0"}),o.jsx("span",{className:"text-[8px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"MATCH SCORE"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-start gap-2 mb-2",children:[o.jsx("div",{className:"bg-breneo-accent/10 p-1.5 rounded-lg",children:o.jsx(fde,{className:"h-4 w-4 text-breneo-accent fill-breneo-accent"})}),o.jsx("span",{className:"text-base font-bold text-gray-900 dark:text-white uppercase tracking-wide",children:pe||"Match Analysis"})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed max-w-2xl",children:"This score is calculated by comparing your profile skills with the job requirements. We prioritize exact matches and key skills mentioned in the job title to ensure the best fit for your career path."})]})]})}),(d.responsibilities||d.qualifications||d.team_description||d.benefits)&&o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-none border-0 mt-6 space-y-6",children:[d.responsibilities&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(ude,{className:"h-5 w-5"}),"Responsibilities"]}),o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:d.responsibilities})})]}),d.qualifications&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(cu,{className:"h-5 w-5"}),"Qualifications"]}),o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:d.qualifications})})]}),d.team_description&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(Rx,{className:"h-5 w-5"}),"About the Team"]}),o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:d.team_description})})]}),d.benefits&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(cde,{className:"h-5 w-5"}),"Benefits"]}),o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:d.benefits})})]})]}),(G()||Y()||H().length>0||W()||ae())&&o.jsxs("div",{className:"rounded-3xl p-6 shadow-none border-0 mt-6",children:[o.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold mb-4",children:[o.jsx(du,{className:"h-5 w-5"}),"Job Details"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[G()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(ln,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Required Experience"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:G()})]})]}),Y()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Eh,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Education Required"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:Y()})]})]}),W()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(nde,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Category/Industry"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:W()})]})]}),ae()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(fS,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Application Deadline"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:V(ae())||ae()})]})]})]}),H().length>0&&o.jsxs("div",{className:"mt-6 pt-6",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Required Skills"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:H().map((re,ee)=>o.jsxs(Dt,{variant:"secondary",className:"flex items-center gap-1",children:[o.jsx(cu,{className:"h-3 w-3"}),re]},ee))})]})]}),o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-none border-0 mt-6",children:[o.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(uu,{className:"h-5 w-5"}),"Company Details"]})}),C?o.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[o.jsx(Ou,{className:"h-5 w-5 animate-spin text-breneo-accent"}),o.jsx("p",{className:"text-sm",children:"Loading company information..."})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex-shrink-0",children:[z()?o.jsx("img",{src:z(),alt:S()||"Company logo",className:"h-14 w-14 md:h-14 md:w-14 rounded-2xl object-cover bg-white shadow-sm",onError:re=>{re.target.style.display="none",re.target.nextElementSibling.style.display="flex"}}):null,o.jsx("div",{className:`h-16 w-16 md:h-20 md:w-20 rounded-2xl bg-gradient-to-br from-breneo-accent to-breneo-blue flex items-center justify-center text-white shadow-sm ${z()?"hidden":"flex"}`,children:o.jsx(uu,{className:"h-8 w-8"})})]}),o.jsx("h3",{className:"text-xl md:text-xl font-bold text-gray-900 dark:text-white break-words",children:S()||"Company Name"})]}),I()&&o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:I()})}),o.jsxs("div",{className:"space-y-4 pt-2",children:[T()&&o.jsxs("div",{className:"flex items-center gap-3 text-gray-700 dark:text-gray-200",children:[o.jsx(fS,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-base font-medium",children:["Founded in ",T()]})]}),M()&&o.jsxs("div",{className:"flex items-center gap-3 text-gray-700 dark:text-gray-200",children:[o.jsx(cg,{className:"h-5 w-5"}),o.jsx("span",{className:"text-base font-medium",children:M()})]}),B()&&o.jsxs("div",{className:"flex items-center gap-3 text-gray-700 dark:text-gray-200",children:[o.jsx(Rx,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-base font-medium",children:[B()," employees"]})]}),D()&&o.jsx("div",{className:"flex gap-2",children:o.jsxs("a",{href:D(),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 h-10 rounded-full bg-primary text-white dark:text-black hover:opacity-80 transition-opacity font-medium text-sm",title:"Visit Website",children:[o.jsx(sc,{className:"h-4 w-4"}),"Visit Website"]})})]})]})]})]})}),!f&&!d&&!h&&o.jsx(ke,{children:o.jsx(Ce,{className:"p-6",children:o.jsxs("div",{className:"text-center text-gray-500",children:[o.jsx(Lf,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),o.jsx("p",{className:"font-semibold mb-2",children:"No job details found"}),o.jsxs("p",{className:"text-sm",children:["Job ID: ",t||"Not provided"]}),o.jsx("p",{className:"text-sm mt-2",children:"The API may not have returned data for this job."}),o.jsx(ne,{onClick:()=>{n.invalidateQueries({queryKey:["jobDetail",t]})},variant:"outline",className:"mt-4",children:"Retry"})]})})})]}),d&&o.jsx("div",{className:ue("fixed bottom-0 right-0 z-[60]","bg-[#F8F9FA] dark:bg-[#181818]","border-t border-black/[0.03] dark:border-white/[0.03]","shadow-lg transition-all duration-300 ease-in-out",l?"md:left-24":"md:left-[17rem]","left-0",a?"opacity-100 translate-y-0":"opacity-0 translate-y-full pointer-events-none"),children:o.jsx("div",{className:"px-5 sm:px-9 md:px-12 lg:px-14 py-4",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:E()}),S()&&o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:S()})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r&&o.jsx(ne,{variant:"secondary",size:"icon",onClick:()=>w.mutate(),disabled:w.isPending,"aria-label":x?"Unsave job":"Save job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:o.jsx(as,{className:`h-4 w-4 ${x?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),s&&navigator.share?o.jsx(ne,{variant:"secondary",size:"icon",onClick:oe,"aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:o.jsx(kv,{className:"h-4 w-4"})}):o.jsxs($F,{children:[o.jsx(RF,{asChild:!0,children:o.jsx(ne,{variant:"secondary",size:"icon","aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:o.jsx(kv,{className:"h-4 w-4"})})}),o.jsxs(c2,{align:"end",children:[o.jsxs(Dc,{onClick:se,children:[o.jsx(eI,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Copy Link"})]}),o.jsxs(Dc,{onClick:X,children:[o.jsx(tI,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on Facebook"})]}),o.jsxs(Dc,{onClick:ce,children:[o.jsx(sI,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on LinkedIn"})]})]})]}),_()?o.jsx(ne,{variant:"default",size:"sm",onClick:()=>window.open(_(),"_blank"),className:"whitespace-nowrap",children:"Apply Now"}):o.jsx(ne,{disabled:!0,variant:"outline",size:"sm",className:"whitespace-nowrap",children:"Apply Unavailable"})]})]})})})]})},MF=["javascript","typescript","python","java","c++","c#","go","rust","php","ruby","swift","kotlin","scala","r","dart","perl","react","angular","vue","node.js","nodejs","express","django","flask","spring","laravel","rails","next.js","nuxt","svelte","html","css","sass","scss","tailwind","bootstrap","webpack","vite","sql","mysql","postgresql","mongodb","redis","cassandra","elasticsearch","database","dba","aws","azure","gcp","google cloud","docker","kubernetes","k8s","terraform","ansible","jenkins","ci/cd","devops","sre","cloud","software engineer","software developer","programmer","developer","programming","coding","coder","full stack","fullstack","frontend","front-end","backend","back-end","web developer","mobile developer","ios developer","android developer","react native","flutter","data scientist","data engineer","data analyst","machine learning","ml engineer","ai engineer","artificial intelligence","deep learning","neural network","computer vision","nlp","natural language processing","cybersecurity","security engineer","penetration testing","ethical hacker","information security","qa engineer","test engineer","automation engineer","sdet","quality assurance","testing","test automation","system administrator","sysadmin","network engineer","infrastructure engineer","site reliability","product manager","technical product manager","ux designer","ui designer","product designer","interaction designer","api","rest api","graphql","microservices","agile","scrum","git","github","gitlab","bitbucket","jira","confluence","code review","version control","tech","technology","software","saas","platform","startup","fintech","edtech","healthtech"],Fqe=["sales","marketing","accountant","accounting","finance","banking","insurance","real estate","retail","cashier","waiter","waitress","chef","cook","nurse","doctor","physician","teacher","instructor","tutor","lawyer","attorney","legal","driver","delivery","warehouse","factory","manufacturing","construction","plumber","electrician","mechanic","barber","hairdresser","beauty","fitness","trainer","coach","therapist","counselor","social worker","customer service","call center","receptionist","administrative","secretary","reception","cleaning","janitor","maintenance","security guard","guard","officer"],Bqe=e=>{const t=[e.job_title||e.title||"",e.description||"",e.job_description||"",e.job_required_experience||e.required_experience||"",e.employer_name||e.company_name||"",typeof e.company=="string"?e.company:""].join(" ").toLowerCase();return Fqe.some(s=>t.includes(s.toLowerCase()))?!!MF.some(a=>{const i=a.toLowerCase(),l=(e.job_title||e.title||"").length,c=typeof e.description=="string"?e.description.length:0,u=typeof e.job_description=="string"?e.job_description.length:0;return t.includes(i)&&t.indexOf(i)<l+c+u}):MF.some(s=>t.includes(s.toLowerCase()))},Uqe=e=>e.filter(Bqe),IF=["ashby","bamboohr","breezy","breezyhr","careerplug","comeet","cornerstoneondemand","csod","dayforce","eightfold","freshteam","gohire","greenhouse","hirehive","hiringthing","icims","jazzhr","jobvite","join.com","lever","lever.co","oraclecloud","oracle","paycom","paylocity","personio","phenompeople","phenom","pinpoint","polymer","recooty","recruitee","rippling","smartrecruiters","successfactors","taleo","teamtailor","trakstar","workable","workday","ziprecruiter","zohorecruit","zoho"],zqe=e=>{const t=[];return[e.job_apply_link,e.apply_link,e.url,e.apply_url,e.applyUrl,e.applyLink,e.application_url,e.application_link,e.link,e.company_url,e.website_url,e.jobUrl].forEach(n=>{n&&typeof n=="string"&&n.trim()&&t.push(n.trim().toLowerCase())}),t},qqe=e=>{if(!e||typeof e!="string")return!1;try{let t="";if(e.startsWith("http://")||e.startsWith("https://"))t=new URL(e).hostname.toLowerCase();else{const a=e.match(/(?:https?:\/\/)?(?:www\.)?([^/\s]+)/);a?t=a[1].toLowerCase():t=e.toLowerCase()}return t=t.replace(/^www\./,""),IF.some(a=>t.includes(a.toLowerCase()))?!0:[/\/careers?/i,/\/jobs?/i,/careers?\./i,/jobs?\./i,/\/apply/i,/\/openings/i,/\/positions/i].some(a=>e.match(a))}catch{const r=e.toLowerCase();return IF.some(n=>r.includes(n.toLowerCase()))}},Wqe=e=>{const t=zqe(e);return t.length===0?!1:t.some(r=>qqe(r))},c_=e=>e.filter(Wqe),LF={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern",INTERNSHIP:"Internship"},Vqe=async(e,t=1)=>{var r;try{console.log(` fetchCompanyJobs called - fetching jobs for company: ${e}, page ${t}`);const n=await mi.fetchActiveJobs({query:e,filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:t,pageSize:50});if(console.log(" fetchCompanyJobs response:",{totalJobs:((r=n.jobs)==null?void 0:r.length)||0,hasMore:n.hasMore,searchCompany:e}),!n||!Array.isArray(n.jobs))return console.warn("Invalid response format from job service:",n),{jobs:[],hasMore:!1,total:0};const s=n.jobs.filter(i=>{const l=i.company&&typeof i.company=="object"?i.company:null,c=(l==null?void 0:l.name)||(l==null?void 0:l.company_name)||i.companyName||i.employer_name||i.company_name||(typeof i.company=="string"?i.company:null)||"";if(!c||c.trim()==="")return!1;const u=c.trim().toLowerCase(),d=e.trim().toLowerCase();return u===d||u.includes(d)||d.includes(u)||u.replace(/\s+/g,"")===d.replace(/\s+/g,"")});console.log(" Filtered company jobs:",{beforeFilter:n.jobs.length,afterCompanyFilter:s.length,searchCompany:e,sampleCompanies:s.slice(0,3).map(i=>{const l=i.company&&typeof i.company=="object"?i.company:null;return(l==null?void 0:l.name)||i.employer_name||i.company_name||(typeof i.company=="string"?i.company:null)||"Unknown"})});const a=s.filter(i=>{const l=i.job_id||i.id;return l&&l.trim()!==""});if(console.log(` Final valid jobs for ${e}:`,a.length),a.length===0&&t===1){console.log(" No jobs found with company name search, trying broader search...");try{const i=await mi.fetchActiveJobs({query:"",filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:1,pageSize:100});if(i&&Array.isArray(i.jobs)){const c=i.jobs.filter(u=>{const d=u.company&&typeof u.company=="object"?u.company:null,f=(d==null?void 0:d.name)||(d==null?void 0:d.company_name)||u.companyName||u.employer_name||u.company_name||(typeof u.company=="string"?u.company:null)||"";if(!f||f.trim()==="")return!1;const h=f.trim().toLowerCase(),g=e.trim().toLowerCase();return h===g||h.includes(g)||g.includes(h)||h.replace(/\s+/g,"")===g.replace(/\s+/g,"")}).filter(u=>{const d=u.job_id||u.id;return d&&d.trim()!==""});return console.log(` Broader search found ${c.length} jobs for ${e}`),{jobs:c,hasMore:!1,total:c.length}}}catch(i){console.error("Error in broader search:",i)}}return{jobs:a,hasMore:n.hasMore??!1,total:a.length}}catch(n){return console.error("Error fetching company jobs:",n),{jobs:[],hasMore:!1,total:0}}},Hqe=()=>{var E,k;const{companyName:e}=Sh(),{user:t}=_r(),r=Vs(),n=dr(),[s,a]=p.useState(1),[i,l]=p.useState([]),[c,u]=p.useState(!1),[d,f]=p.useState(!1),h=e?decodeURIComponent(e):"",{data:g=[]}=Xt({queryKey:["savedJobs",t==null?void 0:t.id],queryFn:async()=>{var j;if(!t)return[];try{return(((j=(await Ae.get(gt.AUTH.PROFILE)).data)==null?void 0:j.saved_jobs)||[]).map(P=>String(P))}catch(N){return console.error("Error fetching saved jobs:",N),[]}},enabled:!!t}),{data:y={jobs:[],hasMore:!1,total:0},isLoading:m,error:v}=Xt({queryKey:["companyJobs",h,s],queryFn:()=>Vqe(h,s),enabled:!!h,refetchOnWindowFocus:!1,staleTime:5*60*1e3});p.useEffect(()=>{if(y.jobs&&y.jobs.length>0){const j=c_(y.jobs),N=Uqe(j);l(s===1?N:C=>{const P=new Set(C.map(F=>F.job_id||F.id)),R=N.filter(F=>!P.has(F.job_id||F.id));return[...C,...R]}),u(y.hasMore),f(!1)}else s===1&&(l([]),u(!1))},[y,s]);const x=ca({mutationFn:async j=>{if(!t)throw new Error("User not logged in");if(!j.id)throw new Error("Job ID is required");const N=String(j.id),C=`${gt.JOBS.SAVE_JOB}${N}/`;await Ae.post(C)},onSuccess:(j,N)=>{r.invalidateQueries({queryKey:["savedJobs",t==null?void 0:t.id]}),r.invalidateQueries({queryKey:["profile"]}),le.success(N.is_saved?"Job Unsaved":"Job Saved")},onError:j=>{console.error("Error saving job:",j),le.error("Failed to save job")}}),w=p.useMemo(()=>!i||i.length===0?[]:i.map(j=>{const N=j.company&&typeof j.company=="object"?j.company:null,C=j.job_id||j.id||"";if(!C||C.trim()==="")return null;const P=j.job_title||j.title||j.position||"Untitled Position",R=(N==null?void 0:N.name)||(N==null?void 0:N.company_name)||j.companyName||j.employer_name||j.company_name||(typeof j.company=="string"?j.company:null)||"Unknown Company",F=j.job_city||j.city||(N==null?void 0:N.city)||"",z=j.job_state||j.state||(N==null?void 0:N.state)||"",D=j.job_country||j.country||(N==null?void 0:N.country)||"",I=j.jobLocation||j.location||(N==null?void 0:N.location)||[F,z,D].filter(Boolean).join(", ")||"Location not specified",B=j.applyUrl||j.jobUrl||j.job_apply_link||j.apply_link||j.url||j.apply_url||j.company_url||(N==null?void 0:N.url)||"";let T;if(j.companyLogo&&(T=j.companyLogo),!T&&j.employer_logo&&(T=j.employer_logo),!T&&j.company_logo&&(T=j.company_logo),!T&&j.logo&&(T=j.logo),!T&&j.logo_url&&(T=j.logo_url),!T&&N&&(N.logo&&(T=N.logo),!T&&N.logo_url&&(T=N.logo_url),!T&&N.company_logo&&(T=N.company_logo)),T)try{new URL(T).protocol.startsWith("http")||(T=void 0)}catch{T=void 0}let M="By agreement";const Z=j.job_min_salary||j.min_salary,L=j.job_max_salary||j.max_salary,G=j.job_salary_currency||j.salary_currency||"$",H=j.job_salary_period||j.salary_period||"yearly";if(Z&&L&&typeof Z=="number"&&typeof L=="number"){const K=H==="monthly"?"Monthly":"",Q=Z.toLocaleString(),se=L.toLocaleString();["$","","","","",""].some(oe=>G.includes(oe))?M=`${G}${Q} - ${G}${se}${K?`/${K}`:""}`:M=`${Q} - ${se} ${G}${K?`/${K}`:""}`}else if(Z&&typeof Z=="number"){const K=Z.toLocaleString();M=["$","","","","",""].some(X=>G.includes(X))?`${G}${K}+`:`${K}+ ${G}`}else j.salary&&typeof j.salary=="string"&&(M=j.salary);const Y=j.job_employment_type||j.employment_type||j.type||"FULLTIME",ae=Y.toUpperCase(),V=LF[ae]||LF[Y]||Y||"Full time";let W="On-site";return j.job_is_remote||j.is_remote||j.remote===!0?W="Remote":P!=null&&P.toLowerCase().includes("hybrid")&&(W="Hybrid"),{id:C,title:P,company:R,location:I,url:B,company_logo:T,is_saved:g==null?void 0:g.includes(String(C)),salary:M,employment_type:V,work_arrangement:W}}).filter(j=>j!==null),[i,g]),b=()=>{f(!0),a(j=>j+1)},_=(E=w[0])==null?void 0:E.company_logo,S=((k=w[0])==null?void 0:k.company)||h;return o.jsx(Ot,{children:o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(ne,{variant:"ghost",onClick:()=>n("/jobs"),className:"mb-4",children:[o.jsx(mm,{className:"h-4 w-4 mr-2"}),"Back to Jobs"]}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[_?o.jsx("img",{src:_,alt:`${S} logo`,className:"w-16 h-16 rounded-full object-cover",onError:j=>{const N=j.target;N.style.display="none"}}):o.jsx("div",{className:"w-16 h-16 rounded-full bg-breneo-accent flex items-center justify-center",children:o.jsx(uu,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:S}),o.jsxs("p",{className:"text-gray-500",children:[w.length," Job",w.length!==1?"s":""," Available"]})]})]})]}),v&&o.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-md flex items-center gap-3 mb-6",children:[o.jsx(Lf,{className:"h-5 w-5"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Error:"})," ",v==null?void 0:v.message]})]}),m&&s===1&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((j,N)=>o.jsx(ke,{children:o.jsx(Ce,{className:"p-5",children:o.jsx(nr,{className:"h-32 w-full"})})},N))}),!m&&w.length===0&&o.jsxs("div",{className:"text-center p-10 rounded-3xl text-muted-foreground bg-muted/30",children:[o.jsx(uu,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No Jobs Found"}),o.jsxs("p",{className:"text-sm",children:["No job openings found for ",S," at this time."]})]}),w.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-8",children:w.map(j=>o.jsx(ke,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl hover:shadow-soft cursor-pointer",children:o.jsxs(Ce,{className:"p-5 flex flex-col flex-grow relative",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[j.company_logo?o.jsx("img",{src:j.company_logo,alt:`${j.company_name||j.company} logo`,className:"w-12 h-12 rounded-full object-cover absolute inset-0 z-10",loading:"lazy",onError:N=>{var R;const C=N.target;C.onerror=null,C.style.display="none";const P=(R=C.parentElement)==null?void 0:R.querySelector(".logo-fallback");P&&(P.style.display="flex",P.style.zIndex="10")}}):null,j.company&&!j.company_logo?o.jsx("img",{src:`https://logo.clearbit.com/${encodeURIComponent(j.company)}`,alt:`${j.company_name||j.company} logo`,className:"w-12 h-12 rounded-full object-cover absolute inset-0 clearbit-logo",style:{zIndex:10},loading:"lazy",onError:N=>{var R;const C=N.target;C.onerror=null,C.style.display="none";const P=(R=C.parentElement)==null?void 0:R.querySelector(".logo-fallback");P&&(P.style.display="flex",P.style.zIndex="10")}}):null,o.jsx("div",{className:`w-12 h-12 rounded-full bg-breneo-accent flex items-center justify-center logo-fallback absolute inset-0 ${j.company_logo||j.company&&!j.company_logo?"hidden":"flex"}`,style:{zIndex:j.company_logo||j.company&&!j.company_logo?0:10},children:o.jsx(ln,{className:"h-6 w-6 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base truncate",children:j.company_name||j.company}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:j.location})]})]}),o.jsx("h4",{className:"font-bold text-lg mb-4 line-clamp-2",children:j.title}),o.jsxs("div",{className:"space-y-2 mb-4 md:mb-4 flex-grow pb-20 md:pb-0",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Rw,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:j.salary})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(ig,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:j.employment_type})]}),j.work_arrangement&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(ln,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:j.work_arrangement})]})]}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 bg-card flex items-center gap-2 transform translate-y-0 md:translate-y-full md:group-hover:translate-y-0 transition-transform duration-200 ease-in-out shadow-lg",children:[o.jsx(ne,{variant:"default",onClick:()=>{if(!j.id||j.id.trim()===""){le.error("Cannot open job: Invalid job ID");return}const N=encodeURIComponent(j.id);n(`/jobs/${N}`)},className:"flex-1",disabled:!j.id||j.id.trim()==="",children:"View"}),o.jsx(ne,{variant:"default",size:"icon",onClick:()=>x.mutate(j),"aria-label":j.is_saved?"Unsave job":"Save job",className:j.is_saved?"bg-primary/90":"",children:o.jsx(as,{className:`h-5 w-5 transition-colors ${j.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-white"}`})})]})]})},j.id))}),c&&o.jsx("div",{className:"flex justify-center mt-6 mb-8",children:o.jsx(ne,{onClick:b,disabled:d,variant:"outline",className:"min-w-[200px]",children:d?o.jsxs(o.Fragment,{children:[o.jsx(Ou,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Load More Jobs"})})]})]})})},rm=e=>e.toLowerCase().trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").replace(/_+/g,"_").replace(/^_|_$/g,""),Kqe=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),Gqe="",DF="",FF="",Jqe="",Yqe="Interests / Skills",BF=({filters:e,onFiltersChange:t,isMobile:r=!1,userTopSkills:n=[],mobileView:s="main",onMobileViewChange:a,countrySearchQuery:i="",onCountrySearchChange:l})=>{const{t:c}=vi(),[u,d]=p.useState(!1),[f,h]=p.useState(""),g=l&&i!==void 0?i:f,y=_=>{l?l(_):h(_)},m=O.useMemo(()=>{if(!g.trim())return un;const _=g.toLowerCase();return un.filter(S=>S.name.toLowerCase().includes(_)||S.code.toLowerCase().includes(_))},[g]);p.useEffect(()=>{r&&s!=="country"&&(l?l(""):h("")),!r&&!u&&(l?l(""):h(""))},[s,u,r,l]);const v=_=>{const S=e.countries.includes(_)?e.countries.filter(E=>E!==_):[...e.countries,_];t({...e,countries:S,skills:e.skills||[]})},x=_=>{const S=e.skills.includes(_)?e.skills.filter(E=>E!==_):[...e.skills,_];t({...e,skills:S,countries:e.countries||[]})},w=()=>{if(n.length===0)return;const _=n.every(S=>e.skills.includes(S));t(_?{...e,skills:[],countries:e.countries||[]}:{...e,skills:n,countries:e.countries||[]})},b=n.length>0&&n.every(_=>e.skills.includes(_));return r?s==="country"?o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden -mx-6 px-6",children:o.jsx("div",{className:"space-y-2",children:m.length===0?o.jsx("div",{className:"py-8 text-center text-sm text-gray-500",children:"No countries found"}):m.map(_=>{const S=e.countries.includes(_.code);return o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-2",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 truncate",children:_.name}),o.jsx(ms,{checked:S,onCheckedChange:()=>v(_.code),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},_.code)})})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{type:"button",onClick:()=>a==null?void 0:a("country"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.country}),o.jsx(ja,{className:"h-4 w-4 text-gray-400"})]})}),n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ze,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:Jqe}),o.jsx("button",{type:"button",onClick:w,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:b?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(_=>{const S=e.skills.includes(_);return o.jsx("button",{type:"button",onClick:()=>x(_),className:`
                      px-4 py-2 rounded-full text-sm font-medium transition-colors border
                      ${S?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                    `,children:_},_)})})]})]}):o.jsxs("div",{className:"space-y-6",children:[n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ze,{className:"text-base font-medium dark:text-gray-100",children:Yqe}),o.jsx("button",{type:"button",onClick:w,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:b?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(_=>{const S=e.skills.includes(_);return o.jsx("button",{type:"button",onClick:()=>x(_),className:`
                    px-4 py-2 rounded-full text-sm font-medium transition-colors border
                    ${S?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                  `,children:_},_)})})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs(r2,{open:u,onOpenChange:_=>{d(_),_||y("")},children:[o.jsxs(n2,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${u?"rounded-t-lg":"rounded-lg"}`,children:[o.jsx(ze,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.country}),o.jsx(If,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${u?"transform rotate-180":""}`})]}),o.jsx(s2,{className:"mt-0",children:o.jsxs("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:[o.jsx("div",{className:"sticky top-0 z-10 bg-gray-100 dark:bg-[rgb(55,57,60)] p-3 border-b border-gray-300 dark:border-gray-600",children:o.jsxs("div",{className:"relative",children:[o.jsx(Lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(pt,{type:"text",placeholder:"Search countries...",value:g,onChange:_=>y(_.target.value),className:"pl-9 pr-3 h-9 text-sm bg-white dark:bg-gray-700"})]})}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-2 gap-2",children:m.length===0?o.jsx("div",{className:"col-span-2 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):m.map(_=>{const S=e.countries.includes(_.code);return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(ms,{checked:S,onCheckedChange:()=>v(_.code),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:_.name})]},_.code)})})})]})})]})})]})},Xqe=({isOpen:e,onClose:t,filters:r,onFiltersChange:n,onApply:s,onClear:a,userTopSkills:i=[]})=>{const{t:l}=vi(),c=ha(),[u,d]=p.useState("main"),[f,h]=p.useState("");return p.useEffect(()=>{e||(d("main"),h(""))},[e]),c?o.jsx(ys,{open:e,onOpenChange:t,children:o.jsxs(vs,{className:"max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(xs,{className:"flex-shrink-0 border-b border-gray-200",children:o.jsx(bs,{className:"text-xl font-bold",children:u==="country"?l.jobs.country:Gqe})}),u==="country"&&o.jsx("div",{className:"flex-shrink-0 px-6 py-3 border-b border-gray-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(Lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(pt,{type:"text",placeholder:"Search countries...",value:f,onChange:g=>h(g.target.value),className:"pl-9 pr-3 h-9 text-sm"})]})}),o.jsx("div",{className:"px-6 py-6 flex-1 overflow-y-auto min-h-0",children:o.jsx(BF,{filters:r,onFiltersChange:n,isMobile:!0,userTopSkills:i,mobileView:u,onMobileViewChange:d,countrySearchQuery:f,onCountrySearchChange:h})}),u==="main"&&o.jsx(aa,{className:"border-t border-gray-200",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(ne,{onClick:()=>{a(),d("main")},variant:"ghost",className:"h-12 px-6 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0 rounded-[18px]",children:FF}),o.jsx(ne,{onClick:()=>{s(),d("main")},className:"h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:DF})]})}),u==="country"&&o.jsx(aa,{className:"border-t border-gray-200",children:o.jsx(ne,{onClick:()=>{h(""),d("main")},className:"w-full h-12 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:"Done"})})]})}):o.jsx(ts,{open:e,onOpenChange:t,children:o.jsxs(Fn,{className:"max-w-3xl max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(Bn,{className:"flex-shrink-0",children:o.jsx(Un,{children:"Filter Courses"})}),o.jsx("div",{className:"py-4 overflow-y-auto flex-1 min-h-0",children:o.jsx(BF,{filters:r,onFiltersChange:n,isMobile:!1,userTopSkills:i,countrySearchQuery:f,onCountrySearchChange:h})}),o.jsx(gs,{className:"flex-shrink-0",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(ne,{onClick:()=>{a()},variant:"ghost",className:"w-auto h-10 px-4 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0",children:FF}),o.jsx(ne,{onClick:s,className:"w-auto h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90",children:DF})]})})]})})},gd="coursesFilters",RX="coursesFilteredResults",o0=(e,t,r)=>{try{sessionStorage.setItem(e,JSON.stringify({filters:t,search:r}))}catch(n){console.error("Error saving filters to session storage:",n)}},UF=e=>{try{const t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading filters from session storage:",t)}return null},Qqe=e=>{try{sessionStorage.setItem(RX,JSON.stringify(e))}catch(t){console.error("Error saving filtered courses to session storage:",t)}},Zqe=()=>{try{const e=sessionStorage.getItem(RX);if(e)return JSON.parse(e)}catch(e){console.error("Error loading filtered courses from session storage:",e)}return[]},eWe=()=>{const{user:e}=_r(),t=Vs(),r=ha();dr();const[n,s]=Ew(),[a,i]=p.useState(!1),[l,c]=p.useState([]),[u,d]=p.useState(!0),[f,h]=p.useState(()=>Zqe()),g=p.useCallback((W,J)=>{if(j.current)return;const K=new URLSearchParams;J&&K.set("search",J),W.countries.length>0&&K.set("countries",W.countries.join(",")),W.skills.length>0&&K.set("skills",W.skills.join(",")),s(K,{replace:!0}),o0(gd,W,J)},[s]),[y,m]=p.useState(()=>{const W=n.get("countries"),J=n.get("skills"),K=n.get("country");if(W||J||K)return{country:K||"Georgia",countries:W?W.split(",").filter(Boolean):[],skills:J?J.split(",").filter(Boolean):[]};const Q=UF(gd);return Q&&Q.filters?Q.filters:{country:"Georgia",countries:[],skills:[]}}),[v,x]=p.useState(()=>{const W=n.get("search");if(W)return W;const J=UF(gd);return J&&J.search?J.search:""}),[w,b]=p.useState(v),[_,S]=p.useState(y),E=W=>{let J=0;return W.countries.length>0&&(J+=W.countries.length),W.skills.length>0&&(J+=W.skills.length),J};p.useEffect(()=>{a&&S(y)},[a,y]);const k=O.useMemo(()=>JSON.stringify({countries:y.countries.sort(),skills:y.skills.sort()}),[y]),j=O.useRef(!1);p.useEffect(()=>{const W=n.get("countries"),J=n.get("skills"),K=n.get("country"),Q=n.get("search")||"",se={country:K||"Georgia",countries:W?W.split(",").filter(Boolean):[],skills:J?J.split(",").filter(Boolean):[]},X=JSON.stringify(se)!==JSON.stringify(y),ce=Q!==v;(X||ce)&&(j.current=!0,m(se),S(se),ce&&x(Q),setTimeout(()=>{j.current=!1},0))},[n]),p.useEffect(()=>{const W=n.get("country"),J=n.get("countries");if(W&&!J){const K=new URLSearchParams(n);K.delete("country"),s(K,{replace:!0})}},[]),p.useEffect(()=>{(async()=>{if(!e){d(!1);return}const J=n.get("skills")!==null;try{d(!0);try{const Q=await Ae.get("/api/skilltest/results/");if(Q.data&&Array.isArray(Q.data)&&Q.data.length>0){const X=Q.data[0].skills_json,ce=[];X!=null&&X.tech&&ce.push(...Object.keys(X.tech));const xe=hg(ce).slice(0,5);c(xe),J||(m(pe=>{const re={...pe,skills:pe.skills.length===0?xe:pe.skills};return o0(gd,re,v),re}),S(pe=>({...pe,skills:pe.skills.length===0?xe:pe.skills}))),d(!1);return}}catch{console.log("API endpoint not available, trying Supabase...")}const K=await Th(String(e.id));if(K&&K.length>0){const Q=Oh(K),X=t1(Q,10).map(xe=>xe.skill),oe=hg(X).slice(0,5);c(oe),J||(m(xe=>{const pe={...xe,skills:xe.skills.length===0?oe:xe.skills};return o0(gd,pe,v),pe}),S(xe=>({...xe,skills:xe.skills.length===0?oe:xe.skills})))}}catch(K){console.error("Error fetching user skills:",K)}finally{d(!1)}})()},[e]),p.useEffect(()=>{const W=sessionStorage.getItem("locationToastShown");n.get("countries")||navigator.geolocation.getCurrentPosition(async J=>{try{const{latitude:K,longitude:Q}=J.coords,X=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${K}&longitude=${Q}&localityLanguage=en`)).json();if(X.countryName){const ce=un.find(oe=>oe.name===X.countryName);m(oe=>{const xe={...oe,country:X.countryName,countries:ce?[ce.code]:oe.countries};return setTimeout(()=>{if(!j.current){const pe=new URLSearchParams(n);xe.countries.length>0?pe.set("countries",xe.countries.join(",")):pe.delete("countries"),xe.country&&xe.country!=="Georgia"?pe.set("country",xe.country):pe.delete("country"),s(pe,{replace:!0})}},0),xe}),S(oe=>({...oe,country:X.countryName,countries:ce?[ce.code]:oe.countries})),W||(le.info(`Showing courses in ${X.countryName}.`),sessionStorage.setItem("locationToastShown","true"))}}catch{W||(le.error("Could not determine your location."),sessionStorage.setItem("locationToastShown","true"))}},()=>{W||(le.info("Location permission denied. Defaulting to Georgia."),sessionStorage.setItem("locationToastShown","true"))})},[]),O.useCallback(W=>typeof W!="string"?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(W),[]);const N=e!=null&&e.id?String(e.id):null,C=O.useMemo(()=>!!N&&N.length>0,[N]),{data:P=[]}=Xt({queryKey:["savedCourses",N],queryFn:async()=>{var W;if(!N||!C)return[];try{return(((W=(await Ae.get(gt.AUTH.PROFILE,{timeout:3e4})).data)==null?void 0:W.saved_courses)||[]).map(Q=>String(Q))}catch(J){return console.error("Error fetching saved courses from profile API:",J),[]}},enabled:C}),{data:R,isLoading:F}=Xt({queryKey:["courses",P,w,k],queryFn:async()=>{let W=Vt.from("courses").select("*");w&&(W=W.or(`title.ilike.%${w}%,provider.ilike.%${w}%,category.ilike.%${w}%,description.ilike.%${w}%`));const{data:J,error:K}=await W.order("created_at",{ascending:!1});if(K)return console.error("Error fetching courses:",K),[];const Q=(J==null?void 0:J.map(ce=>{let oe=ce.image||"/lovable-uploads/no_photo.png";return oe&&!oe.startsWith("/")&&!oe.startsWith("http")&&(oe=`/${oe}`),{...ce,image:oe,match:0,topics:ce.topics||[],required_skills:ce.required_skills||[],is_saved:P==null?void 0:P.includes(String(ce.id))}}))||[],se=[...new Set(Q.map(ce=>ce.academy_id).filter(ce=>ce?String(ce).length>0:!1).map(ce=>String(ce)))],X=new Map;return se.length>0&&await Promise.all(se.map(async ce=>{try{const oe=await Ae.get(`${gt.ACADEMY.DETAIL}${ce}/`);if(oe.data){const xe=oe.data,pe=xe.profile_data||xe,re=Ye=>{for(const Pe of Ye){const he=pe[Pe]||xe[Pe];if(typeof he=="string")return he}},ee=re(["academy_id","id"])||ce,ye=re(["academy_name","name","first_name","firstName"]),De=re(["description"]),$=re(["website_url","websiteUrl"]),q=re(["contact_email","contactEmail","email"]),fe=re(["profile_photo_url","profilePhotoUrl","profile_photo","profilePhoto"]),be=re(["logo_url","logoUrl","logo","image_url","imageUrl"]),qe=fe||be,We=re(["slug"]);X.set(ce,{id:ee||ce,academy_name:ye||"",description:De||"",website_url:$,contact_email:q,logo_url:be,profile_photo_url:fe,profile_image_url:qe,slug:We||rm(ye||"")})}}catch{console.debug(`Could not fetch academy profile for ${ce} from Django API`)}})),Q.map(ce=>{const oe=ce.academy_id?X.get(ce.academy_id):null;let xe=null;return oe?xe=oe:xe=null,{...ce,academy_profile_data:xe}})},enabled:!!P,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:3*60*1e3,gcTime:10*60*1e3}),z=O.useMemo(()=>{if(!R)return[];let W=R;return y.skills.length>0&&(W=R.filter(J=>J.required_skills.some(K=>y.skills.some(Q=>K.toLowerCase().includes(Q.toLowerCase())||Q.toLowerCase().includes(K.toLowerCase()))))),!l||l.length===0?W.map(J=>({...J,match:50})):W.map(J=>{const K=J.required_skills.filter(se=>l.some(X=>X.toLowerCase().includes(se.toLowerCase())||se.toLowerCase().includes(X.toLowerCase()))),Q=J.required_skills.length>0?Math.round(K.length/J.required_skills.length*100):50;return{...J,match:Math.max(Q,25)}}).sort((J,K)=>K.match-J.match)},[l,R,y.skills]),D=O.useMemo(()=>{let W=z;if(y.countries.length>0){const J=y.countries.map(K=>{var Q;return(Q=un.find(se=>se.code===K))==null?void 0:Q.name}).filter(Boolean);W=W.filter(K=>{var se;const Q=((se=K.academy_profile_data)==null?void 0:se.academy_name)||K.provider||"";return J.some(X=>Q.toLowerCase().includes(X.toLowerCase()))})}return W},[z,y.countries]);p.useEffect(()=>{F||(Qqe(D),h(D))},[D,F]);const I=({course:W})=>{const J=Vs(),K=ca({mutationFn:async se=>{if(!N)throw new Error("Please log in to save courses.");await Ae.post(`/api/save-course/${se}/`)},onMutate:async se=>{await J.cancelQueries({queryKey:["savedCourses",N]});const X=J.getQueryData(["savedCourses",N]);let ce=!1;return J.setQueryData(["savedCourses",N],oe=>{if(!oe)return oe;const xe=String(se);return ce=oe.includes(xe),ce?oe.filter(pe=>pe!==xe):[...oe,xe]}),{previousSavedCourses:X,wasSaved:ce}},onError:(se,X,ce)=>{ce!=null&&ce.previousSavedCourses&&N&&J.setQueryData(["savedCourses",N],ce.previousSavedCourses),console.error("Error updating saved courses:",se),le.error("Failed to update saved courses. Please try again.")},onSuccess:(se,X,ce)=>{J.invalidateQueries({queryKey:["savedCourses",N]}),J.invalidateQueries({queryKey:["courses"]}),J.invalidateQueries({queryKey:["profile"]});const oe=(ce==null?void 0:ce.wasSaved)??!1;le.success(oe?"Removed from saved courses.":"Course saved to your profile.")}}),Q=P==null?void 0:P.includes(String(W.id));return o.jsx(ne,{variant:"secondary",size:"icon",onClick:se=>{se.preventDefault(),se.stopPropagation(),K.mutate(String(W.id))},disabled:K.isPending,"aria-label":Q?"Unsave course":"Save course",className:ue("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",Q?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(as,{className:ue("h-4 w-4 transition-colors",Q?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})},B=W=>{const J={...y,countries:W};m(J),S(J),g(J,v),t.invalidateQueries({queryKey:["courses"]})},T=p.useCallback(()=>{b(v),g(y,v),t.invalidateQueries({queryKey:["courses"]})},[v,y,g,t]),M=W=>{W.key==="Enter"&&T()},Z=W=>{x(W)};p.useEffect(()=>{if(v===w)return;const W=setTimeout(()=>{b(v),g(y,v),t.invalidateQueries({queryKey:["courses"]})},300);return()=>{clearTimeout(W)}},[v,y,g,t,w]);const L=()=>{m(_),g(_,v),i(!1),t.invalidateQueries({queryKey:["courses"]})},G=()=>{const W={country:"Georgia",countries:[],skills:[]};S(W),m(W);const J=new URLSearchParams;v&&J.set("search",v),s(J,{replace:!0}),o0(gd,W,v),i(!1),t.invalidateQueries({queryKey:["courses"]})},H=W=>o.jsx(Rr,{to:`/course/${W.id}`,className:"block",children:o.jsx(ke,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl w-full flex flex-col hover:shadow-soft",children:o.jsxs(Ce,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:W.image&&!W.image.startsWith("http")&&!W.image.startsWith("/")?`/${W.image}`:W.image||"/placeholder.svg",alt:W.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200 origin-center",style:{transformOrigin:"center center"},onError:J=>{J.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:W.title}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:W.duration&&o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:W.duration})}),o.jsx("div",{onClick:J=>J.preventDefault(),children:o.jsx(I,{course:W})})]})]})]})})}),Y=F&&f.length>0,ae=Y?f:D,V=Y?f.length:D.length;return o.jsxs(Ot,{children:[o.jsx(xA,{}),o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] rounded-xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-3 md:py-4 overflow-visible min-h-[3.5rem] flex-1",children:[o.jsx(ln,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),o.jsx(pt,{placeholder:"",value:v,onChange:W=>Z(W.target.value),onKeyDown:M,className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(SY,{selectedLocations:y.countries,onLocationsChange:B,placeholder:"Location"})})]})]}),(()=>{const W=E(y);return o.jsxs(ne,{variant:"outline",onClick:()=>i(!0),className:"group flex items-center gap-2 bg-breneo-blue/10 hover:bg-breneo-blue rounded-xl px-4 py-3 md:py-4 hover:bg-breneo-blue hover:text-white text-gray-900 dark:text-gray-100 whitespace-nowrap h-auto relative min-h-[3.5rem] transition-colors","aria-label":"Filter courses",children:[o.jsx(ZP,{className:"h-4 w-4 group-hover:text-white",strokeWidth:2}),o.jsx("span",{className:"hidden md:inline text-sm font-medium",children:""}),W>0&&o.jsx(Dt,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:W})]})})()]})}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Eh,{className:"h-6 w-6 text-breneo-accent"}),o.jsx("h2",{className:"text-lg font-bold",children:"Latest Courses"})]}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("span",{className:"text-sm text-gray-600",children:[V," course",V!==1?"s":""]})})]}),F&&!Y&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((W,J)=>o.jsx(ke,{className:"w-full",children:o.jsxs(Ce,{className:"p-5",children:[o.jsx(nr,{className:"h-48 w-full mb-4"}),o.jsx(nr,{className:"h-6 w-full mb-2"}),o.jsx(nr,{className:"h-4 w-2/3"})]})},J))}),!F&&D.length===0&&o.jsxs("div",{className:"text-center p-10 rounded-3xl text-muted-foreground bg-muted/30",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-puzzle-dynamic-color.png",alt:"No data found",className:"mx-auto h-48 w-48 mb-4 object-contain"}),o.jsx("h4",{className:"text-lg font-semibold",children:"No Courses Found"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search terms or filters."})]}),(Y||!F&&ae.length>0)&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:ae.map(W=>o.jsx("div",{className:"w-full",children:H(W)},W.id))})]}),o.jsx(Xqe,{isOpen:a,onClose:()=>i(!1),filters:_,onFiltersChange:S,onApply:L,onClear:G,userTopSkills:l})]})},tWe=()=>{var w,b,_,S;const{courseId:e}=Sh(),{user:t}=_r(),r=Vs(),[n,s]=p.useState(!1),a=Zi(),{data:i,isLoading:l}=Xt({queryKey:["course",e],queryFn:async()=>{const{data:E,error:k}=await Vt.from("courses").select("*").eq("id",e).single();return k?(console.error("Error fetching course details:",k),null):E},enabled:!!e}),{data:c=[]}=Xt({queryKey:["savedCourses",t==null?void 0:t.id],queryFn:async()=>{var E;if(!(t!=null&&t.id))return[];try{return(((E=(await Ae.get(gt.AUTH.PROFILE)).data)==null?void 0:E.saved_courses)||[]).map(N=>String(N))}catch(k){return console.error("Error fetching saved courses:",k),[]}},enabled:!!(t!=null&&t.id)}),u=c==null?void 0:c.includes(String((i==null?void 0:i.id)||"")),{data:d}=Xt({queryKey:["academy-profile",i==null?void 0:i.academy_id],queryFn:async()=>{if(!(i!=null&&i.academy_id))return null;try{const E=await Ae.get(`/api/academy/${i.academy_id}/`);if(E.data){const j=E.data.profile_data||E.data,N=D=>{for(const I of D){const B=j[I];if(B!=null&&typeof B=="string")return B}},C=N(["academy_name","name","first_name","firstName"])||i.provider||"",P=N(["profile_photo_url","profilePhotoUrl","profile_image_url","profileImageUrl","profile_photo","profilePhoto"]),R=N(["logo_url","logoUrl","logo","image"]),F=N(["description","desc","about"]),z={id:i.academy_id,academy_name:C,slug:N(["slug"])||(C?rm(C):void 0),profile_photo_url:P&&P.trim()!==""?P:null,logo_url:R&&R.trim()!==""?R:null,description:F&&F.trim()!==""?F:null};return console.log(" Academy profile fetched from API:",{academyId:i.academy_id,rawData:j,profileData:z,logoUrl:R}),z}}catch(E){console.debug("Could not fetch academy profile from API, trying Supabase",E)}try{const{data:E,error:k}=await Vt.from("academy_profiles").select("id, academy_name, logo_url, description").eq("id",i.academy_id).single();if(!k&&E){const j={id:E.id,academy_name:E.academy_name||i.provider||"",slug:E.academy_name?rm(E.academy_name):void 0,profile_photo_url:null,logo_url:E.logo_url&&E.logo_url.trim()!==""?E.logo_url:null,description:E.description&&E.description.trim()!==""?E.description:null};return console.log(" Academy profile fetched from Supabase:",{academyId:i.academy_id,supabaseData:E,profile:j}),j}}catch(E){console.debug("Could not fetch academy profile from Supabase",E)}return{id:i.academy_id,academy_name:i.provider||"",slug:i.provider?rm(i.provider):void 0,profile_photo_url:null,logo_url:null,description:null}},enabled:!!(i!=null&&i.academy_id)}),f=ca({mutationFn:async E=>{if(!(t!=null&&t.id))throw new Error("User not logged in");s(!0);try{await Ae.post(`/api/save-course/${E}/`)}catch(k){console.error("Error saving course:",k);let j="Failed to save course. Please try again.";if(k&&typeof k=="object"&&"response"in k&&k.response&&typeof k.response=="object"&&"data"in k.response){const N=k.response.data;j=N.detail||N.message||N.error||j}else k instanceof Error&&(j=k.message);throw new Error(j)}finally{s(!1)}},onMutate:async E=>{await r.cancelQueries({queryKey:["savedCourses",t==null?void 0:t.id]});const k=r.getQueryData(["savedCourses",t==null?void 0:t.id]);return r.setQueryData(["savedCourses",t==null?void 0:t.id],j=>{if(!j)return j;const N=String(E);return j.includes(N)?j.filter(C=>C!==N):[...j,N]}),{previousSavedCourses:k}},onError:(E,k,j)=>{j!=null&&j.previousSavedCourses&&r.setQueryData(["savedCourses",t==null?void 0:t.id],j.previousSavedCourses);let N="Failed to save course. Please try again.";if(E&&typeof E=="object"&&"response"in E&&E.response&&typeof E.response=="object"&&"data"in E.response){const C=E.response.data;N=C.detail||C.message||C.error||N}else E instanceof Error&&(N=E.message);le.error(N)},onSuccess:(E,k,j)=>{var P;r.invalidateQueries({queryKey:["savedCourses",t==null?void 0:t.id]}),r.invalidateQueries({queryKey:["courses"]}),r.invalidateQueries({queryKey:["profile"]});const N=String(k),C=((P=j==null?void 0:j.previousSavedCourses)==null?void 0:P.includes(N))||!1;le.success(`"${i==null?void 0:i.title}" has been ${C?"unsaved":"saved"} successfully.`)}}),h=()=>{if(!t||!i){le.error("Please log in to save courses.");return}const E=String(i.id);f.mutate(E)};if(l)return o.jsx(Ot,{children:o.jsx("div",{className:"p-8",children:"Loading..."})});if(!i)return o.jsx(Ot,{children:o.jsx("div",{className:"p-8",children:"Course not found."})});const y=i.academy_id?`/academy/${i.academy_id}`:`/academy/${(d==null?void 0:d.slug)||rm(i.provider)}`,m=(d==null?void 0:d.academy_name)||i.provider,v=(d==null?void 0:d.profile_photo_url)||(d==null?void 0:d.logo_url)||null;console.log(" CoursePage Debug:",{courseId:e,courseAcademyId:i==null?void 0:i.academy_id,academyProfile:d,profilePhotoUrl:d==null?void 0:d.profile_photo_url,logoUrl:d==null?void 0:d.logo_url,academyImageUrl:v,academyName:m});const x=((w=i.topics)==null?void 0:w.slice(0,3))||((b=i.required_skills)==null?void 0:b.slice(0,3))||[];return o.jsx(Ot,{children:o.jsx("div",{className:"px-4 py-4 sm:px-6 sm:py-6 pb-40 sm:pb-44 mb-16 sm:mb-20 ",children:o.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[o.jsx("div",{className:"w-full h-40 sm:h-80 overflow-hidden rounded-3xl mb-6",children:o.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"})}),o.jsx(ke,{className:"rounded-3xl border-0 shadow-none bg-white dark:bg-white",children:o.jsxs(Ce,{className:"p-6 sm:p-6 space-y-0 ",children:[o.jsxs("div",{className:"flex items-center gap-3 pb-2 ",children:[o.jsx(sg,{src:v||void 0,alt:m,fallback:m?m.charAt(0).toUpperCase():"A",size:"sm",className:"flex-shrink-0 !h-10 !w-10 !rounded-full"}),o.jsx("span",{className:"text-gray-600 text-base font-medium",children:m})]}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-black dark:text-white pb-6",children:i.title}),o.jsx("div",{className:"py-0 px-0 sm:py-5 sm:px-0 bg-white dark:bg-white rounded-3xl",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6 sm:gap-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-12 flex-1 w-full sm:w-auto  rounded-2xl sm:rounded-none p-0 sm:p-0",children:[o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(Rw,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:"Free"}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Free"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Course"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Course"})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(lde,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:i.duration||"2 "}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:i.duration||"2 "}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Duration"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Duration"})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(q9,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:((_=i.topics)==null?void 0:_.length)||16}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:((S=i.topics)==null?void 0:S.length)||16}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Lectures"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Lectures"})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(Rx,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:i.level||"All Levels"}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:i.level||"All Levels"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Level"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Level"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto pb-0 sm:pb-0",children:[o.jsx(ne,{onClick:h,disabled:n||!t,variant:"secondary",size:"icon",className:ue("aspect-square bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A]",u?"text-white-500 bg-[#E6E7EB] dark:bg-[#474747] ":"text-black dark:text-white "),children:n?o.jsx(Ou,{className:"h-4 w-4 animate-spin"}):u?o.jsx(as,{className:"h-4 w-4 fill-red-500 text-red-500"}):o.jsx(as,{className:"h-4 w-4"})}),i.registration_link?o.jsx("a",{href:i.registration_link,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto",children:o.jsx(ne,{size:"default",className:"w-full sm:w-auto px-6 text-sm bg-breneo-blue hover:bg-breneo-blue/90 text-white rounded-xl",children:a.courses.enroll})}):o.jsx(ne,{size:"default",className:"w-full sm:w-auto px-6 text-sm bg-breneo-blue hover:bg-breneo-blue/90 text-white rounded-xl",children:a.courses.enroll})]})]})}),o.jsxs("div",{className:"py-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-notebook-dynamic-color.png",alt:"Notebook",className:"h-12 w-12 object-contain flex-shrink-0"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"What will You learn"})]}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:i.description||"No description available."})]}),d&&o.jsxs("div",{className:"py-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"About Academy"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(sg,{src:v||void 0,alt:m,fallback:m?m.charAt(0).toUpperCase():"A",size:"lg",className:"!h-16 !w-16 !rounded-full"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:m}),d.description?o.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed mb-4",children:d.description}):o.jsx("p",{className:"text-gray-500 dark:text-gray-500 italic mb-4",children:"No description available."}),o.jsx(Rr,{to:y,children:o.jsxs(ne,{variant:"outline",className:"flex items-center gap-2",children:[o.jsx(Tu,{className:"h-4 w-4"}),"View Academy"]})})]})]})]}),o.jsx("div",{className:"flex flex-wrap gap-2 py-6",children:x.slice(0,3).map((E,k)=>o.jsx(Dt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:E},k))})]})})]})})})};function rWe(e,t=[]){let r=[];function n(a,i){const l=p.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...y}=f,m=(h==null?void 0:h[e][c])||l,v=p.useMemo(()=>y,Object.values(y));return o.jsx(m.Provider,{value:v,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,y=p.useContext(g);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,nWe(s,...t)]}function nWe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var NO="Progress",CO=100,[sWe,uKe]=rWe(NO),[aWe,iWe]=sWe(NO),MX=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=oWe,...i}=e;(s||s===0)&&!zF(s)&&console.error(lWe(`${s}`,"Progress"));const l=zF(s)?s:CO;n!==null&&!qF(n,l)&&console.error(cWe(`${n}`,"Progress"));const c=qF(n,l)?n:null,u=Gb(c)?a(c,l):void 0;return o.jsx(aWe,{scope:r,value:c,max:l,children:o.jsx(nt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Gb(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":DX(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});MX.displayName=NO;var IX="ProgressIndicator",LX=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=iWe(IX,r);return o.jsx(nt.div,{"data-state":DX(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});LX.displayName=IX;function oWe(e,t){return`${Math.round(e/t*100)}%`}function DX(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Gb(e){return typeof e=="number"}function zF(e){return Gb(e)&&!isNaN(e)&&e>0}function qF(e,t){return Gb(e)&&!isNaN(e)&&e<=t&&e>=0}function lWe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${CO}\`.`}function cWe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${CO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var FX=MX,uWe=LX;const BX=p.forwardRef(({className:e,value:t,...r},n)=>o.jsx(FX,{ref:n,className:ue("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(uWe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));BX.displayName=FX.displayName;function dWe({onPhaseChange:e,onTechQChange:t,onSoftQChange:r}={}){const{user:n}=_r(),s=dr(),[a,i]=p.useState("career"),[l,c]=p.useState([]),[u,d]=p.useState(0),[f,h]=p.useState([]),[g,y]=p.useState(null),[m,v]=p.useState(null),[x,w]=p.useState(null),[b,_]=p.useState(null),[S,E]=p.useState(null),[k,j]=p.useState(null),[N,C]=p.useState(!1),[P,R]=p.useState(!1),[F,z]=p.useState(null),[D,I]=p.useState(!1),[B,T]=p.useState(0),[M,Z]=p.useState(null),[L,G]=p.useState(null),[H,Y]=p.useState(0),[ae,V]=p.useState(!1),[W,J]=p.useState(!1),K=5,Q=["   ...","  ...","  ...","   ...","  ..."];p.useEffect(()=>{if(D){const $=setInterval(()=>{T(q=>(q+1)%5)},1e3);return()=>clearInterval($)}},[D]),p.useEffect(()=>{e&&e(a)},[a,e]),p.useEffect(()=>{t&&t(S)},[S,t]),p.useEffect(()=>{r&&r(k)},[k,r]),p.useEffect(()=>{a==="career"&&Ae.get(`/api/career-questions-random/?limit=${K}`).then($=>c($.data)).catch($=>console.error($))},[a]);const se=async $=>{if(!n){console.warn("No user found, cannot save test results");return}try{const q=Number($.total_score),fe=Number($.total_questions);isNaN(q)||isNaN(fe);const be={tech:$.tech_score_per_skill||{},soft:$.soft_score_per_skill||{}},qe={user:n.id,total_score:q,total_questions:fe,final_role:$.final_role||"N/A",skills_json:be,career_answers:$.career_answers||[]},We=await Ae.post("/api/skilltest/save/",qe);s("/skill-path")}catch(q){console.error(" Error saving test results:"),console.error("Full error object:",q),q.response?(console.error(" Response status:",q.response.status),console.error(" Response data:",JSON.stringify(q.response.data,null,2)),console.error(" Response headers:",q.response.headers)):q.request?console.error(" No response received:",q.request):console.error(" Error setting up request:",q.message)}},X=$=>{v($.text),g||y($.RoleMapping)},ce=()=>{if(!m)return;const $=l[u];h(q=>[...q,{questionId:$.id,answer:m}]),v(null),u+1<l.length?(d(u+1),Y(q=>q+1)):(V(!0),Y(q=>q+1))},oe=()=>{V(!1),i("assessment"),xe(),Y($=>$+1)},xe=async()=>{try{const $=await Ae.post("/api/start-assessment/",{num_questions:K,RoleMapping:g});w($.data),E($.data.questions[0]),Y(qe=>qe+1);const q=await Ae.post("/api/soft/start/",{num_questions:K});_(q.data);let fe=null;q.data.first_question?fe=q.data.first_question:q.data.questions&&q.data.questions[0]?fe=q.data.questions[0]:q.data.question?fe=q.data.question:fe=q.data;const be={...q.data,first_question:fe};_(be)}catch{}},pe=async()=>{if(!(!x||!S||!M))try{const $=await Ae.post("/api/submit-answer/",{session_id:x.session_id,question_text:S.text,answer:M});Z(null),$.data.next_question?(E($.data.next_question),Y(q=>q+1)):(C(!0),E(null),J(!0),Y(q=>q+1))}catch($){console.error($)}},re=async()=>{if(!(!b||!k||!L))try{const $=k.questiontext||k.text||k.question||"",q={session_id:b.session_id,question_text:$,answer:L},fe=await Ae.post("/api/soft/submit/",q);G(null),fe.data.next_question?(j(fe.data.next_question),Y(be=>be+1)):(R(!0),j(null),De())}catch($){$ instanceof Error&&console.error("Error details:",$.message)}},ee=async()=>{if(J(!1),await ye(),b)try{let $=null;if(b.first_question)$=b.first_question;else if(b.questions&&b.questions[0])$=b.questions[0];else if(b.question)$=b.question;else{const q=await Ae.post("/api/soft/next/",{session_id:b.session_id});q.data.next_question?$=q.data.next_question:q.data.question?$=q.data.question:q.data.first_question?$=q.data.first_question:$=q.data}$?(j($),Y(q=>q+1)):console.error(" No soft question found")}catch($){console.error(" Error getting first soft question:",$)}},ye=async()=>{if(x)try{const $=await Ae.post("/api/finish-assessment/",{session_id:x.session_id});z(q=>({...q,tech:$.data}))}catch($){console.error(" Error finishing tech assessment:",$)}},De=async()=>{if(b)try{console.log(" Finishing soft assessment with session:",b.session_id);const $=await Ae.post("/api/soft/finish/",{session_id:b.session_id});z(q=>({...q,soft:$.data}))}catch($){console.error(" Error finishing soft assessment:",$)}};if(p.useEffect(()=>{var $,q,fe,be,qe,We,Ye,Pe,he,je;if(N&&P&&F&&n){I(!0),T(0);let Ee=($=F.tech)==null?void 0:$.total_score,Me=(q=F.soft)==null?void 0:q.total_score,ht=(fe=F.tech)==null?void 0:fe.total_questions,ut=(be=F.soft)==null?void 0:be.total_questions;if(!Ee&&((qe=F.tech)!=null&&qe.score_per_skill)){const Be=Object.values(F.tech.score_per_skill).map(Ve=>parseFloat(Ve.replace("%",""))),Ie=Be.reduce((Ve,ft)=>Ve+ft,0)/Be.length;Ee=Math.round(Ie*K/100),ht=K}if(!Me&&((We=F.soft)!=null&&We.score_per_skill)){const Be=Object.values(F.soft.score_per_skill).map(Ve=>parseFloat(Ve.replace("%",""))),Ie=Be.reduce((Ve,ft)=>Ve+ft,0)/Be.length;Me=Math.round(Ie*K/100),ut=K}Ee=Ee||0,Me=Me||0,ht=ht||0,ut=ut||0;const Ct=Ee+Me,at=ht+ut;if(isNaN(Ct)||isNaN(at)||at===0){console.error(" Trying to save with numQuestions:",K*2);const Be=K*2;console.log(" Using fallback values:",{fallbackScore:Ct||0,fallbackQuestions:Be})}const kt=((Ye=F.soft)==null?void 0:Ye.final_role)||((Pe=F.tech)==null?void 0:Pe.final_role)||"N/A",we={total_score:Ct||0,total_questions:at||K*2,final_role:kt,tech_score_per_skill:((he=F.tech)==null?void 0:he.score_per_skill)||{},soft_score_per_skill:((je=F.soft)==null?void 0:je.score_per_skill)||{},career_answers:f};setTimeout(()=>{console.log(" 10 seconds passed, saving results now"),I(!1),i("finished"),se(we)},1e4)}},[N,P,F,n]),ae)return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-8 flex items-center justify-center",children:o.jsx(cu,{className:"w-32 h-32 md:w-40 md:h-40 text-[#01bfff] dark:text-[#5AC9F8]"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Great Job! "}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed mb-2",children:"You've completed the interest assessment. Now let's evaluate your technical skills."}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Take your time and answer honestly - this helps us find the perfect role for you."})]}),o.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:o.jsxs(ne,{onClick:oe,className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",children:["Continue",o.jsx(ja,{className:"h-4 w-4 ml-2"})]})})]},H);if(W)return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-8 flex items-center justify-center",children:o.jsx(du,{className:"w-32 h-32 md:w-40 md:h-40 text-green-500 dark:text-green-400"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Excellent Progress! "}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed mb-2",children:"You've finished the technical skills assessment. Well done!"}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Just one more section - let's explore your soft skills and communication abilities."})]}),o.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:o.jsxs(ne,{onClick:ee,className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",children:["Continue",o.jsx(ja,{className:"h-4 w-4 ml-2"})]})})]},H);if(a==="career"&&l.length>0){const $=l[u];return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"mt-2 mb-4 text-xl font-semibold text-gray-800 dark:text-foreground",children:$.text}),o.jsx("div",{className:"space-y-3",children:$.options.map((q,fe)=>{const be=String.fromCharCode(65+fe),qe=m===q.text;return o.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${qe?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-[rgba(26,38,51,0.3)] border-blue-200 dark:border-gray-700 hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>X(q),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${qe?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:o.jsx("span",{className:`text-xs font-medium ${qe?"text-white":"text-gray-600 dark:text-gray-300"}`,children:be})}),o.jsx("span",{className:`flex-1 text-left ${qe?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:q.text})]})},q.id)})})]}),o.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:o.jsxs(ne,{onClick:ce,disabled:!m,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",o.jsx(ja,{className:"h-4 w-4"})]})})]},H)}if(!x||!b)return console.log(" Waiting for sessions...",{hasTechSession:!!x,hasSoftSession:!!b,techSession:x,softSession:b}),o.jsx("div",{className:"p-8 max-w-xl mx-auto mb-8 bg-white dark:bg-card rounded-md  text-center dark:text-foreground",children:"Loading assessments..."});if(console.log(" Render State:",{hasCurrentTechQ:!!S,hasCurrentSoftQ:!!k,techDone:N,softDone:P,currentTechQData:S,currentSoftQData:k}),S)return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-foreground mb-4",children:S.text}),o.jsx("div",{className:"space-y-3",children:[1,2,3,4].map($=>{const q=S[`option${$}`];if(q){const fe=String.fromCharCode(64+$),be=M===q;return o.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${be?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-muted border-blue-200 dark:border-border hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>Z(q),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${be?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:o.jsx("span",{className:`text-xs font-medium ${be?"text-white":"text-gray-600 dark:text-gray-300"}`,children:fe})}),o.jsx("span",{className:`flex-1 text-left ${be?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:q})]})},$)}return null})})]}),o.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:o.jsxs(ne,{onClick:pe,disabled:!M,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",o.jsx(ja,{className:"h-4 w-4"})]})})]},H);if(k){console.log(" RENDERING SOFT QUESTION - Raw Data:",k),console.log(" RENDERING SOFT QUESTION - Has Keys:",Object.keys(k)),console.log(" RENDERING SOFT QUESTION - Values:",{questiontext:k.questiontext,text:k.text,question:k.question,option1:k.option1,option2:k.option2,option3:k.option3,option4:k.option4,hasQuestiontext:!!k.questiontext,hasText:!!k.text,hasQuestion:!!k.question,hasOptions:!!(k.option1||k.option2||k.option3||k.option4)});const $=k.questiontext||k.text||k.question||"Question text unavailable";return k.option1||k.option2||k.option3||k.option4?o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-foreground mb-4",children:$}),o.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(fe=>{const be=k[`option${fe}`];if(be){const qe=String.fromCharCode(64+fe),We=L===be;return o.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${We?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-muted border-blue-200 dark:border-border hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>G(be),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${We?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:o.jsx("span",{className:`text-xs font-medium ${We?"text-white":"text-gray-600 dark:text-gray-300"}`,children:qe})}),o.jsx("span",{className:`flex-1 text-left ${We?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:be})]})},fe)}return null})})]}),o.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:o.jsxs(ne,{onClick:re,disabled:!L,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",o.jsx(ja,{className:"h-4 w-4"})]})})]},H):o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-xl font-bold mb-2 dark:text-foreground",children:" Error Loading Question"}),o.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:"The question data structure is incomplete."}),o.jsx("pre",{className:"text-xs bg-gray-100 dark:bg-muted text-gray-800 dark:text-foreground p-4 overflow-auto",children:JSON.stringify(k,null,2)})]})}return D?o.jsx("div",{className:"w-full flex items-center justify-center min-h-[60vh]",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsxs("div",{className:"relative mb-8",children:[o.jsx("div",{className:"h-32 w-32 rounded-full bg-gradient-to-r from-blue-500 to-[#01bfff] animate-spin"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:o.jsx(cu,{className:"h-12 w-12 text-white"})})]}),o.jsx("h2",{className:"text-3xl font-bold text-[#00afea] mb-4 text-center",children:Q[B]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center max-w-md",children:"      "}),o.jsx("div",{className:"mt-8 w-full max-w-md",children:o.jsx(BX,{value:(B+1)/Q.length*100,className:"h-2"})})]})}):a==="finished"?o.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-32 h-32 mx-auto mb-8 flex items-center justify-center",children:o.jsx(cu,{className:"w-32 h-32 text-green-500 dark:text-green-400 animate-pulse"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Test Completed! "}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground",children:"Redirecting to your skill path..."})]})}):o.jsx("div",{className:"p-8 max-w-xl mx-auto mb-8 bg-white dark:bg-card rounded-md border border-gray-200 dark:border-border text-center dark:text-foreground",children:"Loading..."})}const fWe=({phase:e,currentTechQ:t,currentSoftQ:r})=>{const n=e==="career"?1:e==="assessment"&&t?2:3,s=[{index:1,name:"Interests"},{index:2,name:"Tech Skills"},{index:3,name:"Soft Skills"}],a=i=>{const l=n>=i.index,c=n>i.index;return o.jsxs("div",{className:"flex-1 flex flex-col items-center min-w-[70px] md:min-w-[120px]",children:[o.jsx("div",{className:`h-2 md:h-3 w-full rounded-full transition-all duration-500 flex items-center justify-center ${c?"bg-green-500 dark:bg-green-600":l?"bg-[#01bfff]":"bg-gray-200 dark:bg-gray-700"}`}),o.jsx("span",{className:`mt-2 text-xs md:text-sm font-semibold transition-colors duration-500 ${c?"text-green-600 dark:text-green-400":l?"text-[#01bfff] dark:text-[#5AC9F8]":"text-gray-500 dark:text-gray-400"}`,children:i.name})]})};return o.jsx("div",{className:"w-full max-w-[200px] md:max-w-[600px]",children:o.jsx("div",{className:"flex items-center justify-center gap-1.5 md:gap-2",children:s.map(i=>a(i))})})},hWe=({onStart:e})=>o.jsxs("div",{className:"flex flex-col h-full md:h-auto w-full",children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-40 h-40 md:w-56 md:h-56 mx-auto mb-8 flex items-center justify-center transition-all duration-500",children:o.jsx("img",{src:"/lovable-uploads/3dicons-target-dynamic-color.png",alt:"Target",className:"w-40 h-40 md:w-56 md:h-56 object-contain transition-transform duration-500 hover:scale-105"})}),o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4 transition-opacity duration-500",children:"Skill Assessment Test"}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed transition-opacity duration-500",children:"Discover your strengths and unlock personalized career opportunities. Our comprehensive assessment evaluates your technical skills, soft skills, and career interests to provide tailored recommendations."})]}),o.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:o.jsx(ne,{className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",onClick:e,children:"Start the Test"})})]}),pWe=()=>{const e=dr(),t=Zi(),[r,n]=p.useState(!1),[s,a]=p.useState("career"),[i,l]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,g]=p.useState(!1),[y,m]=p.useState(!1),v=ha(),x=()=>{m(!0)},w=()=>{m(!1),e(-1)},b=()=>{m(!1)},_={showSidebar:!1,showHeader:!1,background:"white"};return r?o.jsxs(Ot,{..._,children:[o.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F8F9FA] dark:bg-[#181818] animate-in fade-in duration-500",children:[o.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto_1fr] md:grid-cols-3 items-center px-6 py-6 md:px-8 md:py-6 transition-all duration-300",children:[o.jsxs("div",{className:"flex justify-start items-center",children:[!d&&!h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-400 hidden md:inline",children:"Loading..."})}),o.jsx(_n,{className:`h-7 w-7 md:hidden object-contain transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),o.jsx(_n,{className:`hidden md:block h-6 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 hidden md:inline",children:"Breneo"})})]}),o.jsx("div",{className:"flex justify-center items-center",children:o.jsx(fWe,{phase:s,currentTechQ:i,currentSoftQ:c})}),o.jsx("div",{className:"flex justify-end items-center",children:o.jsxs(ne,{variant:"ghost",onClick:x,className:"h-10 w-10 md:h-10 md:w-auto md:px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium flex items-center justify-center gap-2 transition-colors p-0",children:[o.jsx(yn,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden md:inline",children:t.common.cancel})]})})]}),o.jsx("div",{className:"flex-1 w-full overflow-y-auto px-[15px] pb-[15px] pt-2",children:o.jsx("div",{className:"h-full w-full rounded-lg bg-white dark:bg-[#242424] p-8 md:py-8 md:px-[15rem] flex flex-col justify-center md:justify-center transition-opacity duration-500",children:o.jsx("div",{className:"max-w-xl mx-auto w-full h-full md:h-auto flex flex-col transition-all duration-500",children:o.jsx(dWe,{onPhaseChange:a,onTechQChange:l,onSoftQChange:u})})})})]}),v?o.jsx(ys,{open:y,onOpenChange:m,children:o.jsxs(vs,{children:[o.jsx(xs,{children:o.jsx(bs,{children:"Are you sure?"})}),o.jsx("div",{className:"px-6 pb-4",children:o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."})}),o.jsxs(aa,{className:"flex flex-col gap-2",children:[o.jsx(ne,{onClick:b,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(ne,{onClick:w,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})}):o.jsx(ts,{open:y,onOpenChange:m,children:o.jsxs(Fn,{children:[o.jsx(Bn,{children:o.jsx(Un,{className:"text-center",children:"Are you sure?"})}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 text-center",children:"Your progress will be lost if you exit the test."}),o.jsxs(gs,{className:"flex flex-col gap-2",children:[o.jsx(ne,{onClick:b,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(ne,{onClick:w,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})})]}):o.jsxs(Ot,{..._,children:[o.jsxs("div",{className:"flex flex-col h-full w-full bg-[#efefef] dark:bg-[#181818] animate-in fade-in duration-500",children:[o.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto_1fr] md:grid-cols-3 items-center px-6 py-6 md:px-8 md:py-6 transition-all duration-300",children:[o.jsxs("div",{className:"flex justify-start items-center",children:[!d&&!h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-400 hidden md:inline",children:"Loading..."})}),o.jsx(_n,{className:`h-7 w-7 md:hidden object-contain transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),o.jsx(_n,{className:`hidden md:block h-6 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 hidden md:inline",children:"Breneo"})})]}),o.jsx("div",{className:"flex justify-center items-center"}),o.jsx("div",{className:"flex justify-end items-center",children:o.jsxs(ne,{variant:"ghost",onClick:x,className:"h-10 w-10 md:h-10 md:w-auto md:px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium flex items-center justify-center gap-2 transition-colors p-0",children:[o.jsx(yn,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden md:inline",children:t.common.cancel})]})})]}),o.jsx("div",{className:"flex-1 w-full overflow-y-auto px-[15px] pb-[15px] pt-2",children:o.jsx("div",{className:"h-full w-full rounded-lg bg-white dark:bg-[#242424] p-8 md:py-8 md:px-[15rem] flex flex-col justify-center md:justify-center transition-opacity duration-500",children:o.jsx("div",{className:"max-w-xl mx-auto w-full h-full md:h-auto flex flex-col",children:o.jsx(hWe,{onStart:()=>n(!0)})})})})]}),v?o.jsx(ys,{open:y,onOpenChange:m,children:o.jsxs(vs,{children:[o.jsx(xs,{children:o.jsx(bs,{children:"Are you sure?"})}),o.jsx("div",{className:"px-6 pb-4",children:o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."})}),o.jsxs(aa,{className:"flex flex-col gap-2",children:[o.jsx(ne,{onClick:b,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(ne,{onClick:w,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})}):o.jsx(ts,{open:y,onOpenChange:m,children:o.jsxs(Fn,{children:[o.jsx(Bn,{children:o.jsx(Un,{children:"Are you sure?"})}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."}),o.jsxs(gs,{className:"flex flex-col gap-2",children:[o.jsx(ne,{onClick:b,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(ne,{onClick:w,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})})]})};async function WF(e,t,r){var l,c,u;const n=t&&t.length>0?`The user has strong skills in: ${t.slice(0,5).join(", ")}. `:"",s=r?`The user's skills match this role at about ${Math.round(r)}%. `:"",a=3;let i=null;for(let d=1;d<=a;d++)try{const f=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are a friendly career advisor. Write a personalized, engaging EXPANDED summary about the **${e}** role in a conversational, encouraging tone similar to "Your Recommended Career Path" explanations.

CRITICAL: You MUST write a very detailed, expanded summary with 6-8 sentences. Do NOT write a short summary.

Style guidelines:
- Use simple, human-friendly language (like talking to a friend)
- Be encouraging and positive
- Use **bold** for the role name when first mentioned
- Write 6-8 detailed, comprehensive sentences (minimum 6 sentences)
- Make it feel personalized and relevant
- Be very specific about what the role involves
- Provide extensive detail about responsibilities, opportunities, and career growth

Include:
1. What makes **${e}** a great career path
2. What the role involves and why it's exciting
3. How it allows people to use their skills and grow
4. The opportunities and stability this career offers
5. Why it's a rewarding path

${n}${s}Write in a warm, friendly tone that makes the reader excited about this career path. Make sure your response is at least 4 sentences long.`},{role:"user",content:`Write a friendly, personalized VERY EXPANDED summary (6-8 sentences, minimum 6) about the **${e}** role that matches the style of "Your Recommended Career Path" explanations. Make it engaging, encouraging, and very detailed with extensive information.`}],max_tokens:800,temperature:.8})});if(f.ok){const y=(((u=(c=(l=(await f.json()).choices)==null?void 0:l[0])==null?void 0:c.message)==null?void 0:u.content)||"").trim();if(y&&y.length>200&&(y.match(/[.!?]/g)||[]).length>=4)return y;if(d<a){console.warn(`Summary too short for ${e}, attempt ${d}/${a}, retrying...`),await new Promise(m=>setTimeout(m,1e3*d));continue}if(y)return y}else{const h=await f.text().catch(()=>"Unknown error");if(i=new Error(`API error: ${f.status} - ${h}`),d<a){console.warn(`API error for ${e}, attempt ${d}/${a}, retrying...`),await new Promise(g=>setTimeout(g,1e3*d));continue}}}catch(f){if(i=f instanceof Error?f:new Error(String(f)),console.error(`Error generating role summary (attempt ${d}):`,f),d<a){await new Promise(h=>setTimeout(h,1e3*d));continue}}return console.warn(`Failed to generate summary for ${e} after ${a} attempts, using expanded fallback`),`**${e}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${e.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities. Whether you're working on innovative projects, building user experiences, or solving complex problems, this career path offers both stability and the excitement of working at the forefront of your industry.`}async function VF(e){var r,n,s;try{const a=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are an expert job market analyst and career advisor. Generate a comprehensive list of the most important required skills for a ${e} position.

Requirements:
1. Include 15-20 comprehensive skills that are truly required for this role
2. Mix of technical/hard skills (60-70%) and soft/interpersonal skills (30-40%)
3. Use standard, professional skill names (e.g., "JavaScript" not "JS", "React" not "React.js")
4. Include both foundational skills and advanced/specialized skills relevant to ${e}
5. Make skills specific to this role - different roles should have different skill sets
6. Include industry-standard tools, technologies, and methodologies
7. Consider both entry-level and mid-level requirements
8. Include ALL important skills - be comprehensive and thorough

Return ONLY a JSON array of skill names, nothing else. No explanations, no markdown, just the array.

Example output format: ["JavaScript", "React", "Node.js", "TypeScript", "REST APIs", "Git", "Problem Solving", "Team Collaboration", "Agile Methodologies", "Code Review"]`},{role:"user",content:`Generate a comprehensive list of required skills for a ${e} role. Include both technical and soft skills that are essential for success in this position. Return only a JSON array.`}],max_tokens:800,temperature:.4})});if(a.ok){const l=((s=(n=(r=(await a.json()).choices)==null?void 0:r[0])==null?void 0:n.message)==null?void 0:s.content)||"";try{const c=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),u=JSON.parse(c);if(Array.isArray(u))return u.filter(d=>typeof d=="string"&&d.trim().length>0)}catch{const u=l.split(`
`).map(f=>f.trim()).filter(Boolean),d=[];for(const f of u){const h=f.replace(/^[-*]\s*/,"").replace(/^\d+\.\s*/,"").trim();h&&h.length<50&&d.push(h)}if(d.length>0)return d}}}catch(a){console.error("Error generating required skills:",a)}const t=e.toLowerCase();return t.includes("developer")||t.includes("engineer")?["Programming","Problem Solving","Version Control","Testing"]:t.includes("designer")||t.includes("design")?["Design Thinking","Prototyping","User Research","Visual Design"]:t.includes("analyst")||t.includes("data")?["Data Analysis","SQL","Statistics","Data Visualization"]:t.includes("manager")||t.includes("product")?["Project Management","Strategic Thinking","Communication","Agile"]:[]}const Js={"software engineer":{min:7e4,max:15e4},"software developer":{min:65e3,max:14e4},"full stack developer":{min:75e3,max:16e4},"frontend developer":{min:6e4,max:13e4},"backend developer":{min:7e4,max:15e4},javascript:{min:65e3,max:14e4},"javascript developer":{min:65e3,max:14e4},python:{min:7e4,max:15e4},"python developer":{min:7e4,max:15e4},react:{min:7e4,max:15e4},"react developer":{min:7e4,max:15e4},"node.js":{min:75e3,max:16e4},typescript:{min:75e3,max:16e4},java:{min:8e4,max:17e4},"java developer":{min:8e4,max:17e4},"data analyst":{min:55e3,max:1e5},"data scientist":{min:9e4,max:18e4},"data engineer":{min:85e3,max:16e4},"data analysis":{min:55e3,max:1e5},"data analytics":{min:6e4,max:11e4},"business analyst":{min:6e4,max:11e4},"ux designer":{min:6e4,max:12e4},"ui designer":{min:55e3,max:11e4},"ui/ux designer":{min:6e4,max:12e4},"ui/ux design":{min:6e4,max:12e4},"product designer":{min:8e4,max:15e4},"graphic designer":{min:4e4,max:8e4},"product manager":{min:9e4,max:18e4},"product management":{min:9e4,max:18e4},"project manager":{min:7e4,max:13e4},"scrum master":{min:75e3,max:14e4},"devops engineer":{min:9e4,max:16e4},devops:{min:9e4,max:16e4},"cloud engineer":{min:95e3,max:17e4},aws:{min:1e5,max:18e4},kubernetes:{min:11e4,max:19e4},docker:{min:9e4,max:16e4},"mobile developer":{min:7e4,max:14e4},"ios developer":{min:8e4,max:15e4},"android developer":{min:75e3,max:14e4},"react native":{min:75e3,max:145e3},flutter:{min:7e4,max:135e3},cybersecurity:{min:85e3,max:16e4},"cybersecurity specialist":{min:85e3,max:16e4},"security engineer":{min:9e4,max:17e4},"penetration tester":{min:8e4,max:15e4},"qa engineer":{min:6e4,max:11e4},"quality assurance":{min:6e4,max:11e4},"test engineer":{min:65e3,max:12e4},"automation engineer":{min:7e4,max:13e4},"machine learning":{min:1e5,max:2e5},"ml engineer":{min:1e5,max:2e5},"ai engineer":{min:11e4,max:21e4},blockchain:{min:9e4,max:18e4},web3:{min:9e4,max:18e4},"vue.js":{min:7e4,max:15e4},vue:{min:7e4,max:15e4},angular:{min:75e3,max:16e4},"c#":{min:8e4,max:17e4},"c++":{min:85e3,max:18e4},go:{min:9e4,max:18e4},golang:{min:9e4,max:18e4},rust:{min:95e3,max:19e4},php:{min:6e4,max:13e4},ruby:{min:75e3,max:15e4},swift:{min:85e3,max:17e4},kotlin:{min:8e4,max:16e4},sql:{min:65e3,max:13e4},mongodb:{min:75e3,max:15e4},postgresql:{min:75e3,max:15e4},mysql:{min:7e4,max:14e4},redis:{min:8e4,max:16e4},elasticsearch:{min:9e4,max:18e4},git:{min:7e4,max:14e4},linux:{min:8e4,max:16e4},"3d modeling":{min:5e4,max:1e5},"3d modeler":{min:5e4,max:1e5},blender:{min:55e3,max:11e4},unity:{min:7e4,max:14e4},"unreal engine":{min:8e4,max:16e4}},Rj={"ai engineer":1.15,"machine learning":1.15,"ml engineer":1.15,"data scientist":1.1,cybersecurity:1.12,"security engineer":1.12,"cloud engineer":1.1,aws:1.1,kubernetes:1.12,"devops engineer":1.08,devops:1.08,rust:1.1,go:1.08,golang:1.08,javascript:1.05,"javascript developer":1.05,python:1.05,"python developer":1.05,react:1.05,"react developer":1.05,java:1.03,"java developer":1.03,php:.98,ruby:.95},HF={"United States":1,USA:1,US:1,Canada:.85,"United Kingdom":.75,UK:.75,Germany:.7,France:.65,Netherlands:.75,Switzerland:1.1,Australia:.8,Singapore:.85,Japan:.7,Georgia:.25,Poland:.4,Romania:.35,Ukraine:.3,India:.2,Brazil:.25,Mexico:.3,Argentina:.25},UX=e=>e.toLowerCase().trim().replace(/[^\w\s]/g,""),mWe=e=>{const t=UX(e);if(Rj[t])return Rj[t];for(const[r,n]of Object.entries(Rj))if(t.includes(r)||r.includes(t))return n;return 1.02},gWe=e=>{const t=UX(e);if(Js[t])return Js[t];const r=t.split(/\s+/);for(const a of r)if(Js[a])return Js[a];let n=null,s=0;for(const[a,i]of Object.entries(Js))(t.includes(a)||a.includes(t))&&a.length>s&&(n=i,s=a.length);return n||(t.includes("full stack")||t.includes("fullstack")?Js["full stack developer"]:t.includes("frontend")||t.includes("front end")?Js["frontend developer"]:t.includes("backend")||t.includes("back end")?Js["backend developer"]:t.includes("developer")||t.includes("programmer")?Js["software developer"]:t.includes("engineer")?Js["software engineer"]:t.includes("designer")||t.includes("design")?Js["ui/ux designer"]:t.includes("analyst")||t.includes("analysis")?Js["data analyst"]:t.includes("manager")||t.includes("management")?Js["product manager"]:{min:6e4,max:12e4})},yWe=e=>{const t=e.trim();return HF[t]||HF[t.toLowerCase()]||.3},Oi=(e,t="Georgia",r="ALL")=>{try{if(!e||e.trim()==="")return console.warn("Empty job title provided, using default"),Ip({min:6e4,max:12e4},"software developer",t,r);const n=gWe(e);if(!n||typeof n.min!="number"||typeof n.max!="number"||n.min<=0||n.max<=0)return console.warn(`Invalid base range for "${e}", using default`),Ip({min:6e4,max:12e4},e,t,r);const s=Ip(n,e,t,r);return!s.min_salary||!s.max_salary||s.min_salary<=0||s.max_salary<=0?(console.warn(`Invalid salary result for "${e}" in ${t}, using default`),Ip({min:6e4,max:12e4},"software developer",t,r)):s}catch(n){return console.error("Error calculating AI salary:",n,{jobTitle:e,country:t}),Ip({min:6e4,max:12e4},"software developer",t,r)}},Ip=(e,t,r,n)=>{const s=mWe(t),a=Math.round(e.min*s),i=Math.round(e.max*s),l=yWe(r);let c=Math.round(a*l),u=Math.round(i*l);if(n!=="ALL"){const h=parseInt(n);h<=2?(c=Math.round(c*.8),u=Math.round(u*.85)):h>=6&&(c=Math.round(c*1.3),u=Math.round(u*1.35))}c=Math.max(5e3,c),u=Math.max(c+5e3,u);const d=Math.round((c+u)/2);let f="USD";return r.toLowerCase().includes("georgia")?(f="GEL",c=Math.round(c*2.7),u=Math.round(u*2.7)):r.toLowerCase().includes("uk")||r.toLowerCase().includes("united kingdom")?(f="GBP",c=Math.round(c*.8),u=Math.round(u*.8)):(r.toLowerCase().includes("euro")||["germany","france","netherlands","poland","romania"].some(h=>r.toLowerCase().includes(h)))&&(f="EUR",c=Math.round(c*.9),u=Math.round(u*.9)),(!c||!u||c<=0||u<=0)&&(console.warn(`Invalid salary calculation for "${t}" in ${r}, using defaults`),c=5e4,u=1e5,f=r.toLowerCase().includes("georgia")?"GEL":"USD",f==="GEL"&&(c=Math.round(c*2.7),u=Math.round(u*2.7))),{min_salary:c,max_salary:u,median_salary:d,salary_period:"YEARLY",currency:f}},zd=e=>{if(!e)return"Salary data not available";const{min_salary:t,max_salary:r,currency:n,salary_period:s}=e;if(!t&&!r)return"Salary data not available";const a=n==="USD"?"$":n==="EUR"?"":n==="GBP"?"":n==="GEL"?"":n||"$",i=s==="YEARLY"?"year":s==="MONTHLY"?"month":"";if(t&&r){const l=Math.round(t).toLocaleString(),c=Math.round(r).toLocaleString();return`${a}${l} - ${a}${c}${i?`/${i}`:""}`}else if(t){const l=Math.round(t).toLocaleString();return`${a}${l}+${i?`/${i}`:""}`}else if(r){const l=Math.round(r).toLocaleString();return`Up to ${a}${l}${i?`/${i}`:""}`}return"Salary data not available"},KF=(e,t,r,n,s)=>{const a=Object.entries(t).sort((u,d)=>{const f=parseFloat(String(u[1]).replace("%",""))||0;return(parseFloat(String(d[1]).replace("%",""))||0)-f}).slice(0,3).map(([u])=>u),i=Object.entries(r).sort((u,d)=>{const f=parseFloat(String(u[1]).replace("%",""))||0;return(parseFloat(String(d[1]).replace("%",""))||0)-f}).slice(0,2).map(([u])=>u),l=s.length>0?s.reduce((u,d)=>u+d.matchPercentage,0)/s.length:75;let c=`We think **${e}** is the perfect career path for you. `;return c+="You're really good at ",a.length>0?(c+=a.join(", "),i.length>0&&(c+=`, and you also have great ${i.join(" and ")} skills`)):i.length>0?c+=i.join(" and "):c+="many important skills",c+=`. Your skills match really well with what ${e} jobs need - about ${Math.round(l)}% match! `,c+="This role is great for you because it lets you use your best skills every day. ",c+="You'll get to learn new things and grow in your career. ",c+="Your mix of technical skills and people skills means you'll do really well in this job. ",c+=`There are lots of opportunities for ${e.toLowerCase()}s, so you'll have a stable and exciting career path ahead.`,c},GF=e=>{const t=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"],r=e.filter(a=>{const i=a.skill.toLowerCase().trim();return!t.some(l=>i.includes(l)||l.includes(i))});return r.length===0?(console.warn("No hard/tech skills found for job path generation"),[]):r.sort((a,i)=>i.score-a.score).slice(0,5).map(a=>{const i=a.skill,c=Math.min(95,Math.max(60,Math.round(a.score/5*100))),u=`Build your career using your ${i} skills. This path is tailored to your expertise in ${i}.`,d=[i],f=[`Advanced ${i}`,`${i} Best Practices`,`${i} Professional Development`],h=[`${i} Professional Certificate`,`${i} Specialist`];return{title:i,description:u,matchPercentage:c,requiredSkills:d,suggestedCourses:f,certifications:h,salaryRange:"",timeToReady:"3-6 months"}})},vWe=()=>{const{user:e}=_r(),t=dr(),[r,n]=p.useState(!0),[s,a]=p.useState(!1),[i,l]=p.useState({}),[c,u]=p.useState([]),[d,f]=p.useState({}),[h,g]=p.useState({}),[y,m]=p.useState([]),[v,x]=p.useState([]),[w,b]=p.useState([]),[_,S]=p.useState(null),[E,k]=p.useState("Georgia"),[j,N]=p.useState(""),[C,P]=p.useState("skills"),[R,F]=p.useState(new Set),z=p.useCallback(async()=>{try{const G=(await Ae.get(gt.AUTH.PROFILE)).data,H=(G==null?void 0:G.country)||(e==null?void 0:e.country)||"Georgia";return k(H),H}catch(L){return console.error("Error fetching user country:",L),k("Georgia"),"Georgia"}},[e]),D=p.useCallback((L,G)=>{const H={"Software Engineer":"software engineer","UX/UI Designer":"ux designer","Data Analyst":"data analyst","Product Manager":"product manager"};return L.map(Y=>{try{const ae=Y.title.toLowerCase().trim();let V=H[Y.title]||ae,W=Oi(V,G);if(!W.min_salary&&!W.max_salary&&!V.includes("developer")){const Q=`${V} developer`;W=Oi(Q,G),(W.min_salary||W.max_salary)&&(V=Q)}if(!W.min_salary&&!W.max_salary&&!V.includes("engineer")){const Q=`${V} engineer`;W=Oi(Q,G),(W.min_salary||W.max_salary)&&(V=Q)}if(W&&(W.min_salary||W.max_salary)&&(W.min_salary>0||W.max_salary>0)){const Q=zd(W);if(Q&&Q!=="Salary data not available")return{...Y,salaryRange:Q}}const J=ae.includes("design")?"ui/ux designer":ae.includes("data")||ae.includes("analyst")?"data analyst":ae.includes("manager")?"product manager":"software developer",K=Oi(J,G);if(K.min_salary&&K.max_salary){const Q=zd(K);return{...Y,salaryRange:Q}}return console.warn(`Could not calculate salary for "${Y.title}" (${V})`),{...Y,salaryRange:"Salary data not available"}}catch(ae){return console.error(`Error calculating salary for ${Y.title}:`,ae),{...Y,salaryRange:"Salary data not available"}}})},[]),I=p.useCallback(async(L,G,H)=>await Promise.all(L.map(async ae=>{try{const V=G.length>0?G.join(" "):ae.title.toLowerCase(),W={country:H,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:G,salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},J=await mi.fetchActiveJobs({query:V,filters:W,page:1,pageSize:5}),K=c_(J.jobs);return{...ae,jobs:K.slice(0,5)}}catch(V){return console.error(`Error fetching jobs for ${ae.title}:`,V),{...ae,jobs:[]}}})),[]),B=p.useCallback(async()=>{try{n(!0);try{const oe=await Ae.get(`/api/skilltest/results/?user=${e.id}`);let xe=null;if(Array.isArray(oe.data)&&oe.data.length>0?xe=oe.data[0]:oe.data&&typeof oe.data=="object"&&(xe=oe.data),xe&&(xe.final_role||xe.skills_json)){a(!0),xe.final_role&&S(xe.final_role);const pe=xe.skills_json||{};f(pe.tech||{}),g(pe.soft||{});const re=Object.entries(pe.tech||{}).map(([Pe,he])=>({skill:Pe,score:parseFloat(String(he).replace("%",""))||0})),ee=Object.entries(pe.soft||{}).map(([Pe,he])=>({skill:Pe,score:parseFloat(String(he).replace("%",""))||0})),ye=re.sort((Pe,he)=>he.score-Pe.score),De=ee.sort((Pe,he)=>he.score-Pe.score),q=[...ye,...De].slice(0,5);u(q);const fe=GF(ye),be=Object.keys(pe.tech||{}),qe=await z(),We=D(fe,qe),Ye=[...re,...ee].map(Pe=>Pe.skill.toLowerCase());if(F(new Set(Ye)),m(We),xe.final_role){const Pe=KF(xe.final_role,pe.tech||{},pe.soft||{},q,We);N(Pe)}n(!1),Promise.all(We.map(async Pe=>{try{const he=q.map(ht=>ht.skill),[je,Ee]=await Promise.all([WF(Pe.title,he,Pe.matchPercentage),VF(Pe.title)]),Me=je&&je.length>100?je:`**${Pe.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${Pe.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`;return{...Pe,summary:Me,aiGeneratedSkills:Ee.length>0?Ee:Pe.requiredSkills}}catch(he){return console.error(`Error generating data for ${Pe.title}:`,he),{...Pe,summary:`**${Pe.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${Pe.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`,aiGeneratedSkills:Pe.requiredSkills}}})).then(Pe=>{m(he=>{const je=new Map(Pe.map(Ee=>[Ee.title,Ee]));return he.map(Ee=>je.get(Ee.title)||Ee)})}),Promise.all([(async()=>{const Pe=await I(We,be,qe);m(Pe);const he=await M(Object.keys(pe.tech||{}),Object.keys(pe.soft||{}),Pe);b(he)})(),(async()=>{const Pe=await T(be);x(Pe)})()]).catch(Pe=>{console.error("Error in background operations:",Pe)});return}}catch{}const L=await Th(e.id);if(!L||L.length===0){a(!1),n(!1);return}a(!0);const G=Oh(L);l(G);const H=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"],Y=[],ae=[];Object.entries(G).forEach(([oe,xe])=>{const pe=oe.toLowerCase().trim();H.some(ee=>pe.includes(ee)||ee.includes(pe))?ae.push({skill:oe,score:xe}):Y.push({skill:oe,score:xe})});const V=Y.sort((oe,xe)=>xe.score-oe.score),W=ae.sort((oe,xe)=>xe.score-oe.score),J=[...V,...W].slice(0,5);u(J);const K=GF(V),Q=V.map(oe=>oe.skill),se=await z(),X=D(K,se),ce=[...V,...W].map(oe=>oe.skill.toLowerCase());if(F(new Set(ce)),m(X),X.length>0){const oe=X[0].title,xe={},pe={};V.forEach(ee=>{xe[ee.skill]=`${ee.score}%`}),W.forEach(ee=>{pe[ee.skill]=`${ee.score}%`});const re=KF(oe,xe,pe,J,X);N(re),S(oe)}n(!1),Promise.all(X.map(async oe=>{try{const xe=J.map(ye=>ye.skill),[pe,re]=await Promise.all([WF(oe.title,xe,oe.matchPercentage),VF(oe.title)]),ee=pe&&pe.length>100?pe:`**${oe.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${oe.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`;return{...oe,summary:ee,aiGeneratedSkills:re.length>0?re:oe.requiredSkills}}catch(xe){return console.error(`Error generating data for ${oe.title}:`,xe),{...oe,summary:`**${oe.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${oe.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`,aiGeneratedSkills:oe.requiredSkills}}})).then(oe=>{m(xe=>{const pe=new Map(oe.map(re=>[re.title,re]));return xe.map(re=>pe.get(re.title)||re)})}),Promise.all([(async()=>{const oe=await I(X,Q,se);m(oe);const xe=await M(Q,[],oe);b(xe)})(),(async()=>{const oe=await T(Q);x(oe)})()]).catch(oe=>{console.error("Error in background operations:",oe)})}catch(L){console.error(" Error loading skill data:",L),console.error("Error details:",L instanceof Error?L.message:String(L)),a(!1)}finally{console.log(" loadSkillData finished - setting loading to false"),n(!1)}},[e,z,D,I]);p.useEffect(()=>{if(!e){t("/auth/login");return}B(),z()},[e,t,B,z]);const T=async L=>{try{if(L.length===0)return[];const{data:G,error:H}=await Vt.from("courses").select("*").or(L.map(Y=>`required_skills.cs.{${Y}}`).join(",")).limit(6);if(H)throw H;return(G==null?void 0:G.map(Y=>({id:Y.id,title:Y.title,provider:Y.provider,level:Y.level,duration:Y.duration,description:Y.description,relevantSkills:Y.required_skills||[]})))||[]}catch(G){return console.error("Error fetching course recommendations:",G),[]}},M=async(L,G,H)=>{const Y=[...L,...G].map(Q=>Q.toLowerCase().trim()),ae=new Map;if(H.forEach(Q=>{Q.requiredSkills.forEach(se=>{const X=se.toLowerCase().trim();if(!Y.includes(X)){ae.has(X)||ae.set(X,{jobs:[],count:0});const ce=ae.get(X);ce.jobs.push(Q.title),ce.count++}})}),ae.size===0)return[];const{data:V,error:W}=await Vt.from("courses").select("*").limit(100),J=new Map;return!W&&V&&V.forEach(Q=>{(Q.required_skills||[]).map(X=>X.toLowerCase().trim()).forEach(X=>{ae.has(X)&&(J.has(X)||J.set(X,[]),J.get(X).push({id:Q.id,title:Q.title,provider:Q.provider||"Unknown",level:Q.level||"Beginner",duration:Q.duration||"N/A",description:Q.description||"",relevantSkills:Q.required_skills||[]}))})}),Array.from(ae.entries()).map(([Q,se])=>{const ce=["programming","code","sql","testing","version control","data","api","framework","database","algorithm","software","technical"].some(xe=>Q.includes(xe));let oe="medium";return se.count>=3?oe="high":se.count===1&&(oe="low"),{skill:Q.charAt(0).toUpperCase()+Q.slice(1),category:ce?"tech":"soft",importance:oe,requiredByJobs:[...new Set(se.jobs)],recommendedCourses:J.get(Q)||[],frequency:se.count}}).sort((Q,se)=>{const X={high:3,medium:2,low:1};return X[se.importance]!==X[Q.importance]?X[se.importance]-X[Q.importance]:se.frequency-Q.frequency})},Z=(L,G)=>{const H="#19B5FE",Y=Object.entries(L).filter(([J,K])=>parseFloat(String(K).replace("%",""))>0).map(([J,K])=>{const Q=parseFloat(String(K).replace("%",""));let se;Q>=40?se=1:se=.3+Q/40*.7;const X=`gradient-primary-${Math.round(se*100)}`;return{skill:J,percentage:Q,displayPct:K,fill:H,opacity:se,gradientId:X}}).sort((J,K)=>K.percentage-J.percentage);if(Y.length===0)return o.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No skills data available"});const ae={percentage:{label:"Percentage"}},V=J=>{const{x:K,y:Q,width:se,height:X,payload:ce,value:oe}=J,xe=(ce==null?void 0:ce.skill)||oe||"";if(!K||!Q||!se||!X||!xe)return null;const pe=K+se/2,ye=250-80+25,De=Math.max(8,Math.floor(se/6)),$=xe.split(" "),q=[];let fe="";for(const Ye of $)if(Ye.length>De){fe&&(q.push(fe),fe="");for(let Pe=0;Pe<Ye.length;Pe+=De)q.push(Ye.slice(Pe,Pe+De))}else(fe+" "+Ye).length<=De?fe=fe?fe+" "+Ye:Ye:(fe&&q.push(fe),fe=Ye);if(fe&&q.push(fe),q.length===0||q.length===1&&q[0].length>De*1.5){q.length=0;for(let Ye=0;Ye<xe.length;Ye+=De)q.push(xe.slice(Ye,Ye+De))}const be=q.slice(0,2),qe=14,We=ye-(be.length-1)*(qe/2);return o.jsx("text",{x:pe,y:We,fill:"#374151",textAnchor:"middle",fontSize:12,fontWeight:600,className:"dark:fill-gray-200",children:be.map((Ye,Pe)=>o.jsx("tspan",{x:pe,dy:Pe===0?0:qe,children:Ye},Pe))})},W=J=>{const{x:K,y:Q,width:se,height:X,value:ce,payload:oe}=J,xe=ce||0,pe=(oe==null?void 0:oe.skill)||"";if(!K||!Q||!se||!X)return null;const re=K+se/2,ee=250,ye=80,De=Math.max(8,Math.floor(se/6)),$=pe.length>De*1.2,q=ee-ye+($?70:60);return o.jsx("text",{x:re,y:q,fill:"#374151",textAnchor:"middle",fontSize:13,fontWeight:700,className:"dark:fill-gray-200",children:`${xe.toFixed(0)}%`})};return o.jsx("div",{className:"w-full -mb-4",children:o.jsx(X1,{config:ae,className:"h-[250px] w-full",children:o.jsxs(aO,{data:Y,margin:{top:20,right:10,left:10,bottom:80},barCategoryGap:"25%",children:[o.jsx("defs",{children:Y.map(J=>o.jsxs("linearGradient",{id:J.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:J.fill,stopOpacity:J.opacity}),o.jsx("stop",{offset:"100%",stopColor:"#0EA5E9",stopOpacity:J.opacity})]},J.gradientId))}),o.jsx(Gh,{dataKey:"skill",hide:!0}),o.jsx(Jh,{type:"number",domain:[0,100],hide:!0}),o.jsx(iO,{content:({active:J,payload:K})=>{if(J&&K&&K.length){const Q=K[0].payload;return o.jsx("div",{className:"rounded-3xl bg-white dark:bg-gray-800 p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:Q.skill}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:H,opacity:Q.opacity}}),o.jsxs("span",{className:"font-bold text-lg",style:{color:H,opacity:Q.opacity},children:[Q.percentage.toFixed(1),"%"]})]})]})})}return null}}),o.jsxs(Go,{dataKey:"percentage",radius:[8,8,8,8],animationDuration:1e3,animationEasing:"ease-out",children:[Y.map((J,K)=>o.jsx(Dy,{fill:`url(#${J.gradientId})`,style:{transition:"all 0.3s ease"}},`cell-${K}`)),o.jsx(ui,{content:V,dataKey:"skill"}),o.jsx(ui,{content:W,dataKey:"percentage"})]})]})})})};return console.log(" SkillPathPage Render - Loading:",r,"HasTestAnswers:",s,"User:",e==null?void 0:e.id),r?(console.log(" Rendering loading state"),o.jsx(Ot,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{children:"Analyzing your skills..."}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Loading skill data..."})]})})})):s?(console.log(" Rendering main SkillPathPage content"),console.log(" Data summary:",{topSkills:c.length,jobPaths:y.length,courseRecommendations:v.length,missingSkills:w.length,techSkills:Object.keys(d).length,softSkills:Object.keys(h).length,finalRole:_}),o.jsxs(Ot,{children:[o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:static md:translate-x-0 md:left-auto md:flex md:justify-center md:mb-6 md:w-auto",children:o.jsxs(Ln.div,{layout:!0,transition:{type:"spring",stiffness:500,damping:40,mass:1},className:"relative inline-flex items-center bg-gray-100/80 dark:bg-[#242424]/80 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-3xl p-1 shadow-sm",children:[o.jsxs(Ln.button,{layout:!0,onClick:()=>P("skills"),className:`relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${C==="skills"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[C==="skills"&&o.jsx(Ln.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Your Skills"})]}),o.jsxs(Ln.button,{layout:!0,onClick:()=>P("matchedRoles"),className:`relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${C==="matchedRoles"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[C==="matchedRoles"&&o.jsx(Ln.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Matched Roles"})]})]})}),o.jsxs("div",{className:"space-y-4 md:space-y-6 pb-32 md:pb-6",children:[C==="skills"&&o.jsxs(o.Fragment,{children:[_&&j&&o.jsxs(ke,{className:"bg-gradient-to-br from-primary/5 to-primary/10",children:[o.jsx(vt,{children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-trophy-iso-color.png",alt:"Trophy",className:"h-12 w-12 flex-shrink-0"}),o.jsxs(Pt,{className:"text-xl",children:["You Are ",_]})]})}),o.jsx(Ce,{children:o.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:o.jsx("p",{className:"text-base leading-relaxed text-gray-700 dark:text-gray-300 whitespace-pre-line",children:j.split("**").map((L,G)=>G%2===1?o.jsx("strong",{className:"text-primary font-semibold",children:L},G):L)})})})]}),(Object.keys(d).length>0||Object.keys(h).length>0)&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.keys(d).length>0&&o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsx(Pt,{className:"flex items-center gap-2",children:"Technical Skills"})}),o.jsx(Ce,{className:"p-6",children:Z(d)})]}),Object.keys(h).length>0&&o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsx(Pt,{className:"flex items-center gap-2",children:"Soft Skills"})}),o.jsx(Ce,{className:"p-6",children:Z(h)})]})]})]}),C==="matchedRoles"&&o.jsx("div",{className:"space-y-4",children:y.length>0?y.map((L,G)=>o.jsx(ke,{className:G===0?"bg-primary/5":"",children:o.jsx(Ce,{className:"p-6",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsx(Pt,{className:"text-xl flex-1",children:L.title}),o.jsxs(ne,{size:"sm",onClick:()=>{t(`/skill-path/${encodeURIComponent(L.title)}`,{state:{jobPath:L}})},children:["View Details",o.jsx(Tx,{className:"h-4 w-4 ml-2"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(ke,{className:"bg-gray-50 dark:bg-gray-800/50",children:[o.jsx(vt,{className:"pb-3",children:o.jsxs(Pt,{className:"text-base flex items-center gap-2",children:[o.jsx(Rw,{className:"h-4 w-4 text-primary"}),"Salary Information"]})}),o.jsx(Ce,{className:"pt-0",children:o.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-4 rounded-lg",children:[o.jsx("div",{className:"text-lg font-bold text-primary mb-2",children:L.salaryRange||"Salary data not available"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Average salary range based on current market data"})]})})]}),o.jsxs(ke,{className:"bg-gray-50 dark:bg-gray-800/50",children:[o.jsx(vt,{className:"pb-3",children:o.jsx(Pt,{className:"text-base flex items-center gap-2",children:"Role Brief"})}),o.jsx(Ce,{className:"pt-0",children:o.jsx("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-4 rounded-lg",children:o.jsx("div",{className:"text-base text-gray-700 dark:text-gray-300 leading-relaxed",children:L.summary?L.summary.split("**").map((H,Y)=>Y%2===1?o.jsx("strong",{className:"text-primary font-semibold",children:H},Y):H):o.jsx("span",{className:"text-muted-foreground italic",children:"Generating role brief..."})})})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Required Skills"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(L.aiGeneratedSkills||L.requiredSkills).map((H,Y)=>{const ae=R.has(H.toLowerCase());return o.jsxs("div",{className:`flex items-center gap-2 px-4 py-2.5 rounded-[14px] transition-colors ${ae?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[o.jsx("div",{className:"flex-shrink-0",children:ae?o.jsx(IE,{className:"h-4 w-4 text-white"}):o.jsx(D9,{className:"h-4 w-4"})}),o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:H})]},Y)})})]})]})})},L.title)):o.jsx(ke,{children:o.jsxs(Ce,{className:"text-center py-8",children:[o.jsx("p",{className:"text-muted-foreground",children:"Complete a skill assessment to see personalized job recommendations."}),o.jsx(ne,{onClick:()=>t("/skill-test"),className:"mt-4",children:"Take Skill Assessment"})]})})})]})]})):(console.log(" Rendering 'no test answers' state"),o.jsx(Ot,{children:o.jsx("div",{className:"p-6",children:o.jsx(ke,{children:o.jsxs(Ce,{className:"text-center py-12",children:[o.jsx(Yue,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),o.jsx("h2",{className:"text-lg font-bold mb-2",children:"Complete Your Skill Assessment"}),o.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Take our skill assessment to get personalized job recommendations and a custom learning path tailored to your strengths."}),o.jsxs(ne,{onClick:()=>t("/skill-test"),size:"lg",children:["Take Skill Assessment",o.jsx(Tx,{className:"h-4 w-4 ml-2"})]})]})})})}))},xWe="https://breneo-job-aggregator-k7ti.onrender.com/api/",bWe=async(e,t="Georgia")=>{try{const r=await fetch(xWe,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)return console.error(`Market Stats API error: ${r.status}`),null;const n=await r.json();if(!Array.isArray(n))return console.error("Invalid API response format"),null;const s=e.toLowerCase(),a=n.filter(g=>[g.title,g.description,g.company].join(" ").toLowerCase().includes(s)&&g.is_active),i=t&&t!=="Georgia"&&t!=="Worldwide"?a.filter(g=>g.location.toLowerCase().includes(t.toLowerCase())):a,l=i.length,c=new Date;c.setDate(c.getDate()-30);const u=i.filter(g=>{if(!g.posted_at)return!1;try{return new Date(g.posted_at)>=c}catch{return!1}}).length,d=l>0?u/l*100:0;let f="medium";l>100&&d>30?f="high":(l<20||d<10)&&(f="low");const h=Math.max(0,Math.min(100,d*2));return{totalJobs:l,recentJobs:u,growthPercentage:Math.round(h),demandLevel:f,trending:d>25}}catch(r){return console.error("Error fetching job market stats:",r),null}},wWe=async(e,t)=>{try{const r=new Date().getFullYear();let n="",s="",a="";if(t){const{totalJobs:u,recentJobs:d,growthPercentage:f,demandLevel:h,trending:g}=t,y=d,m=y>0?y/(u-d+1)*100:0;h==="high"?(n=`${e} is experiencing exceptional demand in today's job market. Our analysis shows ${u} active job listings, with ${d} new positions posted in the last 30 days alone. The field demonstrates strong momentum with an estimated ${f}% growth rate, making it one of the most sought-after skills in the current market.`,g?s=`The demand for ${e} professionals is at an all-time high. Companies across technology, finance, healthcare, and e-commerce sectors are actively recruiting talent. With ${d} new postings in just the past month, this skill is currently trending and presents excellent opportunities for both entry-level and experienced professionals. The market shows no signs of slowing down, making it an ideal time to invest in this career path.`:s=`The demand for ${e} professionals remains exceptionally strong. Organizations are prioritizing this skill set, with consistent hiring activity throughout the year. The high number of active listings (${u}) indicates sustained market demand. This field offers competitive salaries and strong career growth prospects for qualified candidates.`):h==="medium"?(n=`${e} maintains healthy demand in the job market with ${u} active listings. We've tracked ${d} new positions in the past 30 days, indicating steady hiring activity. The field shows stable growth with moderate competition, creating balanced opportunities for skilled professionals.`,s=`The market for ${e} professionals is well-established with consistent demand. While competition exists, there are ample opportunities for candidates with the right skill set and experience. The field benefits from steady industry adoption, making it a reliable career choice with good long-term prospects.`):(n=`${e} represents a specialized field with ${u} current listings. While the absolute number may be lower, this indicates a niche market where specialized skills are highly valued. The field offers unique opportunities for professionals who can distinguish themselves.`,s=`While ${e} has a smaller market presence, it offers distinct advantages for specialized professionals. Companies actively seeking this skill often offer competitive compensation and value deep expertise. Success in this field typically requires strong foundational skills, continuous learning, and building a network within the specialized community.`),f>60?a="experiencing explosive growth":f>40?a="rapidly growing":f>20?a="growing steadily":f>5?a="stable with positive growth":a="stable"}else n=`${e} professionals continue to be in demand across various industries. The field has demonstrated consistent growth, with expanding opportunities in technology, business, and creative sectors. Job postings have maintained an upward trajectory, reflecting strong market confidence in this skill set.`,s=`The demand for ${e} skills remains robust as businesses adapt to evolving market needs. This field offers diverse career paths and opportunities for professional development. As organizations invest in digital transformation and innovation, professionals with ${e} expertise are well-positioned for long-term career success.`,a="growing steadily";const i=t?Math.max(35,Math.min(95,Math.round(t.totalJobs/15+t.growthPercentage/2))):60,l=[],c=(t==null?void 0:t.growthPercentage)||15;for(let u=0;u<5;u++){const d=r-4+u,f=4-u,h=c/10*f,g=Math.max(25,Math.min(100,Math.round(i-h)));l.push({year:String(d),popularity:g})}return{popularityText:n,demandText:s,growthTrend:a,chartData:l}}catch(r){return console.error("Error generating AI market insights:",r),null}},_We=async(e,t="Georgia")=>{try{const r=await bWe(e,t),n=await wWe(e,r);return{stats:r,insights:n}}catch(r){return console.error("Error getting complete market data:",r),{stats:null,insights:null}}},SWe=()=>{var z;const{skillName:e}=Sh(),t=dr(),r=Hs(),{user:n}=_r(),[s,a]=p.useState(!0),[i,l]=p.useState(""),[c,u]=p.useState(""),[d,f]=p.useState(""),[h,g]=p.useState([]),[y,m]=p.useState([]),[v,x]=p.useState([]),[w,b]=p.useState([]),[_,S]=p.useState("Georgia"),E=e?decodeURIComponent(e):"";(z=r.state)==null||z.jobPath,p.useEffect(()=>{if(!n){t("/auth/login");return}if(!E){t("/skill-path");return}(async()=>{try{a(!0),j(),R();const I=`${E} professionals are in high demand. Loading real-time market data...`;f(I);const B=new Date().getFullYear(),M=[50,55,60,65,70].map((L,G)=>({year:String(B-4+G),popularity:L}));g(M),N("Georgia"),a(!1);const Z=await k();Z!=="Georgia"&&N(Z),Promise.all([C(Z),P(),F(Z)]).catch(L=>{console.error("Error in background operations:",L)})}catch(I){console.error("Error loading skill path details:",I),a(!1)}})()},[E,n]);const k=async()=>{try{const I=(await Ae.get(gt.AUTH.PROFILE)).data,B=(I==null?void 0:I.country)||(n==null?void 0:n.country)||"Georgia";return S(B),B}catch(D){return console.error("Error fetching user country:",D),"Georgia"}},j=()=>{const D={JavaScript:"JavaScript developers are responsible for building interactive web applications and dynamic user interfaces. They work with modern frameworks like React, Vue, and Angular to create responsive and engaging web experiences.",Python:"Python developers specialize in backend development, data science, and automation. They build scalable server applications, analyze data, and create machine learning models using Python's extensive library ecosystem.",React:"React developers focus on building user interfaces using the React library. They create reusable components, manage application state, and implement modern UI patterns for web and mobile applications.","UI/UX Design":"UI/UX designers create intuitive and visually appealing user interfaces. They conduct user research, design wireframes and prototypes, and ensure optimal user experiences across different platforms.","Data Analysis":"Data analysts transform raw data into actionable insights. They use statistical methods, visualization tools, and programming languages to help organizations make data-driven decisions."},I=`${E} professionals are in high demand across various industries. This role involves working with ${E} technologies to solve complex problems and deliver innovative solutions.`,B=D[E]||I;l(B)},N=D=>{try{const I={javascript:"javascript developer",python:"python developer",react:"react developer","ui/ux design":"ux designer","ui/ux":"ux designer","data analysis":"data analyst","data analytics":"data analyst","software development":"software developer","web development":"web developer","mobile development":"mobile developer",devops:"devops engineer",cybersecurity:"cybersecurity specialist","quality assurance":"qa engineer","product management":"product manager","3d modeler":"3d artist"},B=E.toLowerCase();let T=I[B]||B,M=Oi(T,D);if(!M.min_salary&&!M.max_salary&&!T.includes("developer")){const G=`${T} developer`;M=Oi(G,D),(M.min_salary||M.max_salary)&&(T=G)}if(!M.min_salary&&!M.max_salary&&!T.includes("engineer")){const G=`${T} engineer`;M=Oi(G,D),(M.min_salary||M.max_salary)&&(T=G)}if(M&&(M.min_salary||M.max_salary)&&(M.min_salary>0||M.max_salary>0)){const G=zd(M);if(G&&G!=="Salary data not available"){u(G);return}}const Z=B.includes("design")||B.includes("ui")||B.includes("ux")?"ui/ux designer":B.includes("data")||B.includes("analyst")||B.includes("analytics")?"data analyst":B.includes("manager")||B.includes("product")?"product manager":B.includes("security")||B.includes("cyber")?"cybersecurity specialist":B.includes("devops")||B.includes("cloud")?"devops engineer":"software developer",L=Oi(Z,D);if(L.min_salary&&L.max_salary){const G=zd(L);u(G)}else{const G=Oi("software developer",D);u(zd(G))}}catch(I){console.error("Error calculating salary:",I);try{const B=Oi("software developer",D);u(zd(B))}catch{u("Salary data not available")}}},C=async D=>{try{const I=_We(E,D),B=new Promise(M=>{setTimeout(()=>M(null),3e3)}),T=await Promise.race([I,B]);if(T&&T.insights){const M=`${T.insights.popularityText}

${T.insights.demandText}`;f(M),g(T.insights.chartData)}}catch(I){console.error("Error loading popularity data:",I)}},P=async()=>{try{const D=E.toLowerCase().trim(),{data:I,error:B}=await Vt.from("courses").select("id, title, provider, level, duration, description, required_skills, image").or(`title.ilike.%${E}%,description.ilike.%${E}%,title.ilike.%${D}%,description.ilike.%${D}%`).limit(6);if(B){console.error("Supabase query error:",B),m([]);return}let T=[];I&&I.length>0&&(T=I.filter(M=>{const Z=(M.title||"").toLowerCase(),L=(M.description||"").toLowerCase(),G=M.required_skills||[],H=Z.includes(D)||L.includes(D)||Z.includes(E.toLowerCase())||L.includes(E.toLowerCase()),Y=Array.isArray(G)&&G.some(ae=>ae.toLowerCase().includes(D)||D.includes(ae.toLowerCase()));return H||Y})),T.length>0?m(T.map(M=>({id:M.id,title:M.title,provider:M.provider||"Unknown",level:M.level||"Beginner",duration:M.duration||"N/A",description:M.description||"",required_skills:M.required_skills||[],image:M.image||void 0}))):m([])}catch(D){console.error("Error loading courses:",D),m([])}},R=()=>{const D={JavaScript:["Build a real-time chat application using WebSockets","Create a task management app with drag-and-drop functionality","Develop a weather dashboard with API integration","Build an e-commerce product catalog with filtering","Create an interactive data visualization dashboard"],Python:["Build a web scraper to analyze market trends","Create a machine learning model for predictions","Develop a REST API with Flask or Django","Build a data analysis tool for business insights","Create an automation script for repetitive tasks"],React:["Build a portfolio website with animations","Create a social media dashboard with real-time updates","Develop a todo app with state management","Build an e-commerce checkout flow","Create an interactive data table with sorting and filtering"],"UI/UX Design":["Design a mobile app interface for a fitness tracker","Create a website redesign for a local business","Design a complete design system and component library","Create wireframes and prototypes for a SaaS product","Design an accessible checkout flow for e-commerce"],"Data Analysis":["Analyze sales data to identify trends and patterns","Create visualizations for a business dashboard","Perform statistical analysis on survey data","Build a predictive model for customer behavior","Analyze social media engagement metrics"]},I=[`Create a ${E} portfolio project`,`Build a real-world application using ${E}`,`Develop a ${E} tool or utility`,`Contribute to an open-source ${E} project`,`Create a ${E} tutorial or course`],B=D[E]||I;x(B)},F=async D=>{try{const I={country:D,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[E],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},B=mi.fetchActiveJobs({query:E,filters:I,page:1,pageSize:5}),T=new Promise(L=>{setTimeout(()=>L({jobs:[]}),5e3)}),M=await Promise.race([B,T]),Z=c_(M.jobs);b(Z.slice(0,5))}catch(I){console.error("Error loading jobs:",I),b([])}};return s?o.jsx(Ot,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{children:"Loading skill path details..."})]})})}):o.jsx(Ot,{children:o.jsxs("div",{className:"space-y-6 pb-20 md:pb-6",children:[o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsx(Pt,{className:"text-3xl font-bold",children:E})}),o.jsx(Ce,{children:o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsxs(Pt,{className:"flex items-center gap-2",children:[o.jsx(Rw,{className:"h-5 w-5"}),"Salary Information"]})}),o.jsxs(Ce,{children:[o.jsx("div",{className:"text-2xl font-bold text-primary mb-2",children:c}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Average salary range based on current market data"})]})]}),o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsxs(Pt,{className:"flex items-center gap-2",children:[o.jsx(z9,{className:"h-5 w-5"}),"Market Popularity"]})}),o.jsxs(Ce,{children:[o.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4",children:d}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h4",{className:"text-sm font-medium mb-4",children:"Last 5 Year Popularity"}),o.jsx(X1,{config:{popularity:{label:"Popularity",color:"#19B5FE"}},className:"h-[300px] w-full",children:o.jsxs(aO,{data:h,margin:{top:5,right:10,left:0,bottom:0},children:[o.jsx(NG,{strokeDasharray:"3 3",className:"stroke-muted"}),o.jsx(Gh,{dataKey:"year",tickLine:!1,axisLine:!1,tickMargin:8,className:"text-xs"}),o.jsx(Jh,{tickLine:!1,axisLine:!1,tickMargin:8,className:"text-xs",domain:[0,100],label:{value:"Popularity %",angle:-90,position:"insideLeft"}}),o.jsx(iO,{content:({active:D,payload:I})=>D&&I&&I.length?o.jsx("div",{className:"rounded-lg bg-background p-2 shadow-sm",children:o.jsx("div",{className:"grid gap-2",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("span",{className:"text-sm font-medium",children:I[0].payload.year}),o.jsxs("span",{className:"text-sm font-bold",style:{color:"#19B5FE"},children:[I[0].value,"%"]})]})})}):null}),o.jsx(Go,{dataKey:"popularity",radius:[8,8,0,0],fill:"#19B5FE",children:h.map((D,I)=>o.jsx(Dy,{fill:"#19B5FE"},`cell-${I}`))})]})})]})]})]})]}),o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsxs(Pt,{className:"flex items-center gap-2",children:[o.jsx(Rl,{className:"h-5 w-5"}),"Relevant Courses"]})}),o.jsxs(Ce,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(D=>o.jsx(ke,{className:"hover:bg-primary/5 hover:shadow-soft transition-all cursor-pointer",onClick:()=>t(`/course/${D.id}`),children:o.jsxs(Ce,{className:"p-4",children:[o.jsx("h5",{className:"font-semibold text-sm mb-2",children:D.title}),o.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:D.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dt,{variant:"secondary",className:"text-xs",children:D.level}),o.jsx("span",{className:"text-xs text-muted-foreground",children:D.duration})]}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["by ",D.provider]})]})]})},D.id))}),y.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Rl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),o.jsx("p",{className:"text-muted-foreground font-medium mb-2",children:"No relevant courses available"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["We couldn't find any courses specifically for"," ",E," at the moment. Check back later or explore our general course catalog."]})]})]})]}),o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsxs(Pt,{className:"flex items-center gap-2",children:[o.jsx(rde,{className:"h-5 w-5"}),"Project Ideas"]})}),o.jsxs(Ce,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Build these projects after completing courses to strengthen your skills:"}),o.jsx("div",{className:"space-y-3",children:v.map((D,I)=>o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-muted rounded-lg",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-medium flex-shrink-0",children:I+1}),o.jsx("p",{className:"text-sm",children:D})]},I))})]})]}),o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsxs(Pt,{className:"flex items-center gap-2",children:[o.jsx(ln,{className:"h-5 w-5"}),"Relevant Jobs"]})}),o.jsxs(Ce,{children:[w.length>0?o.jsx("div",{className:"space-y-3",children:w.map(D=>{const I=D.job_id||D.id||`job-${Math.random()}`,B=D.job_title||D.title||"Untitled Position",T=D.employer_name||D.company_name||(typeof D.company=="string"?D.company:"Unknown Company"),M=D.job_city&&D.job_state?`${D.job_city}, ${D.job_state}`:D.job_city||D.job_state||D.location||"Location not specified",Z=D.job_apply_link||D.apply_link||D.url||"#",L=D.employer_logo||D.company_logo||D.logo_url||"";let G="By agreement";const H=D.job_min_salary||D.min_salary,Y=D.job_max_salary||D.max_salary,ae=D.job_salary_currency||D.salary_currency||"$";return H&&Y&&typeof H=="number"&&typeof Y=="number"?G=`${ae}${H.toLocaleString()} - ${ae}${Y.toLocaleString()}`:H&&typeof H=="number"&&(G=`${ae}${H.toLocaleString()}+`),o.jsx(ke,{className:"hover:bg-primary/5 hover:shadow-soft transition-all cursor-pointer",onClick:()=>t(`/jobs/${I}`),children:o.jsx(Ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[L&&o.jsx("img",{src:L,alt:T,className:"w-12 h-12 rounded-lg object-contain flex-shrink-0",onError:V=>{V.target.style.display="none"}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h5",{className:"font-semibold text-sm mb-1 line-clamp-1",children:B}),o.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[T,"  ",M]}),G&&o.jsx(Dt,{variant:"secondary",className:"text-xs",children:G})]}),o.jsx(ne,{variant:"outline",size:"sm",onClick:V=>{V.stopPropagation(),window.open(Z,"_blank")},children:"Apply"})]})})},I)})}):o.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No jobs found for this skill. Check back later!"}),w.length>0&&o.jsxs(ne,{variant:"outline",className:"w-full mt-4",onClick:()=>{t(`/jobs?search=${encodeURIComponent(E)}`)},children:["View More Jobs",o.jsx(Tx,{className:"h-4 w-4 ml-2"})]})]})]})]})})},JF=[{id:1,name:"Marketing",icon:""},{id:2,name:"Tech",icon:""},{id:3,name:"Design",icon:""},{id:4,name:"Business",icon:""},{id:5,name:"Education",icon:""},{id:6,name:"Science",icon:""},{id:7,name:"Healthcare",icon:""},{id:8,name:"Finance",icon:""},{id:9,name:"Arts",icon:""}];function jWe(){const[e,t]=p.useState([]),[r,n]=p.useState(!1),s=dr(),{user:a}=_r(),i=c=>{e.includes(c)?t(e.filter(u=>u!==c)):t([...e,c])},l=async()=>{if(e.length===0){le.error("Please select at least one area of interest");return}if(!a){le.error("Please sign in to save your interests.");return}n(!0);try{const c=e.map(d=>{var f;return(f=JF.find(h=>h.id===d))==null?void 0:f.name}).filter(Boolean),{error:u}=await Vt.from("profiles").update({interests:c,onboarding_completed:!0}).eq("id",a.id);if(u)throw u;le.success("Interests saved! Your personalized experience is ready."),s("/home")}catch(c){le.error(`Failed to save interests: ${c.message}`)}finally{n(!1)}};return o.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-breneo-navy mb-2",children:"What are you interested in?"}),o.jsx("p",{className:"text-gray-600",children:"Select areas you'd like to explore. This helps us personalize your experience."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:JF.map(c=>o.jsx(ke,{className:`p-4 cursor-pointer transition-all border-2 hover:shadow-soft ${e.includes(c.id)?"border-breneo-blue bg-breneo-blue/5":"border-transparent hover:border-gray-200"}`,onClick:()=>i(c.id),children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"text-2xl",children:c.icon}),o.jsx("div",{className:"font-medium",children:c.name})]})},c.id))}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsx(ne,{onClick:l,className:"bg-breneo-blue hover:bg-breneo-blue/90",disabled:r,children:r?"Saving...":"Continue"})})]})}const kWe=()=>o.jsxs("div",{className:"min-h-screen bg-breneo-lightgray flex flex-col",children:[o.jsx("header",{className:"bg-white py-4 px-6 shadow-sm",children:o.jsx("div",{className:"container mx-auto",children:o.jsx("a",{href:"/",className:"flex items-center space-x-2",children:o.jsx(_n,{className:"h-9 md:h-8"})})})}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx(jWe,{})}),o.jsx("footer",{className:"bg-white py-4 px-6",children:o.jsx("div",{className:"container mx-auto",children:o.jsxs("p",{className:"text-sm text-gray-500 text-center",children:[" ",new Date().getFullYear()," Breneo. All rights reserved."]})})})]}),EWe=async e=>{try{const t=await Th(e);if(!t||t.length===0)return[];const r=Oh(t);return Object.entries(r).sort(([,s],[,a])=>a-s).slice(0,5).map(([s])=>s)}catch(t){return console.error("Error fetching user skills:",t),[]}},NWe=e=>{const t=[],r=[e.job_title||e.title||"",e.description||e.job_description||"",e.job_required_experience||e.required_experience||"",...Array.isArray(e.required_skills)?e.required_skills:[],...Array.isArray(e.skills)?e.skills:[],...Array.isArray(e.job_skills)?e.job_skills:[],...typeof e.required_skills=="string"?e.required_skills.split(",").map(s=>s.trim()):[],...typeof e.skills=="string"?e.skills.split(",").map(s=>s.trim()):[],...typeof e.job_skills=="string"?e.job_skills.split(",").map(s=>s.trim()):[]].filter(Boolean).join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"],developer:["developer","development","programming","coding","software engineer","software developer"],designer:["designer","design","ui","ux","graphic designer","visual designer"],marketer:["marketer","marketing","digital marketing","social media","content marketing"],analyst:["analyst","analysis","data analyst","business analyst","data analytics"],teacher:["teacher","teaching","education","instructor","trainer"],"project manager":["project manager","pm","project management","scrum master","product manager"]};return Object.keys(n).forEach(s=>{n[s].some(i=>r.includes(i))&&t.push(s)}),[...new Set(t)]},CWe=(e,t)=>{if(t.length===0)return!1;const r=NWe(e);if(r.length===0){const l=[e.job_title||e.title||"",e.description||e.job_description||"",e.employer_name||e.company_name||e.company||"",e.job_required_experience||e.required_experience||e.experience||""].filter(Boolean).join(" ").toLowerCase(),c=u=>{const d=u.toLowerCase().trim(),f=[d];return d.includes("developer")&&f.push("development","programming","coding","software"),d.includes("designer")&&f.push("design","ui","ux","graphic"),d.includes("marketer")&&f.push("marketing","digital marketing","social media"),d.includes("analyst")&&f.push("analysis","data","analytics"),d.includes("manager")&&f.push("management","lead","coordinate"),f};return t.some(u=>c(u).some(f=>new RegExp(`\\b${f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"i").test(l)))}const n=l=>l.toLowerCase().trim().replace(/\s+/g," "),s=t.map(n),a=r.map(n);return s.filter(l=>a.some(c=>!!(l===c||l.includes(c)||c.includes(l)))).length>0},PWe=async e=>{try{const{data:t,error:r}=await Vt.from("job_notifications").select("job_id").eq("user_id",e);return r?(console.error("Error fetching notified jobs:",r),new Set):new Set((t||[]).map(n=>n.job_id))}catch(t){return console.error("Error fetching notified jobs:",t),new Set}},AWe=async(e,t)=>{try{const{error:r}=await Vt.from("job_notifications").insert({user_id:e,job_id:t,notified_at:new Date().toISOString()});r&&console.error("Error marking job as notified:",r)}catch(r){console.error("Error marking job as notified:",r)}},TWe=async(e,t)=>{try{const r=t.job_title||t.title||"New Job",n=t.employer_name||t.company_name||t.company||"Company",{error:s}=await Vt.from("notifications").insert({title:"New Job Match! ",message:`${r} at ${n} matches your skills`,type:"info",recipient_id:e,is_read:!1});s&&console.error("Error creating notification:",s)}catch(r){console.error("Error creating notification:",r)}},OWe=async e=>{try{const t=await EWe(e);if(t.length===0)return console.log("No user skills found, skipping job check"),[];console.log("Checking for jobs matching skills:",t);const n=(await Py({query:"",filters:{country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:"week",skills:t},page:1,pageSize:50})).jobs||[];console.log(`Found ${n.length} jobs to check`);const s=c_(n);console.log(`Filtered to ${s.length} jobs from allowed ATS platforms`);const a=String(e),i=await PWe(pm(a)),l=[];for(const c of s){const u=c.job_id||c.id||"";u&&(i.has(u)||CWe(c,t)&&l.push(c))}console.log(`Found ${l.length} new matching jobs`);for(const c of l){const u=c.job_id||c.id||"";u&&(await TWe(pm(a),c),await AWe(pm(a),u))}return l}catch(t){return console.error("Error checking for new job matches:",t),[]}},$We=(e={})=>{const{user:t}=_r(),{enabled:r=!0,checkInterval:n=30*60*1e3}=e,[s,a]=p.useState("default"),[i,l]=p.useState(!1),c=p.useRef(null),u=p.useRef(!1),d=async()=>{if(!("Notification"in window))return console.log("This browser does not support notifications"),!1;if(Notification.permission==="granted")return a("granted"),!0;if(Notification.permission==="denied")return a("denied"),!1;const g=await Notification.requestPermission();return a(g),g==="granted"},f=p.useCallback(g=>{if(s!=="granted"){console.log("Notification permission not granted");return}const y=g.job_title||g.title||"New Job",m=g.employer_name||g.company_name||g.company||"Company",v=g.job_id||g.id||"",x=new Notification("New Job Match! ",{body:`${y} at ${m} matches your skills`,icon:g.employer_logo||g.company_logo||g.logo_url||"/lovable-uploads/Breneo-logo.png",badge:"/lovable-uploads/Breneo-logo.png",tag:`job-${v}`,requireInteraction:!1});x.onclick=()=>{window.focus(),x.close(),window.location.href="/jobs"},setTimeout(()=>{x.close()},5e3)},[s]),h=p.useCallback(async()=>{if(!(!(t!=null&&t.id)||u.current)){u.current=!0,l(!0);try{const g=await OWe(t.id);for(const y of g)f(y);g.length>0&&console.log(`Sent ${g.length} job notifications`)}catch(g){console.error("Error checking for new jobs:",g)}finally{l(!1),u.current=!1}}},[t==null?void 0:t.id,f]);return p.useEffect(()=>{"Notification"in window&&a(Notification.permission)},[]),p.useEffect(()=>{!r||!(t!=null&&t.id)||(Notification.permission==="default"?console.log("Notification permission not yet requested"):Notification.permission==="granted"&&h())},[r,t==null?void 0:t.id,h]),p.useEffect(()=>{if(!r||!(t!=null&&t.id)||s!=="granted")return;c.current&&clearInterval(c.current),c.current=setInterval(()=>{h()},n);const g=()=>{document.visibilityState==="visible"&&h()};return document.addEventListener("visibilitychange",g),()=>{c.current&&clearInterval(c.current),document.removeEventListener("visibilitychange",g)}},[r,t==null?void 0:t.id,s,n,h]),{permission:s,requestPermission:d,isChecking:i,checkForNewJobs:h}},RWe=()=>{const{user:e}=_r(),t=Zi(),r=Vs(),n=["user-notifications",e==null?void 0:e.id],s=(e==null?void 0:e.user_type)!=="academy";$We({enabled:s&&!!(e!=null&&e.id),checkInterval:30*60*1e3}),p.useState(!1);const{data:a=[],isLoading:i}=Xt({queryKey:n,queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:u,error:d}=await Vt.from("notifications").select("*").or(`recipient_id.is.null,recipient_id.eq.${e.id}`).order("created_at",{ascending:!1});if(d)throw console.error("Error fetching notifications:",d),new Error("Could not fetch notifications.");return u||[]},enabled:!!(e!=null&&e.id)}),l=ca({mutationFn:async u=>{if(!(e!=null&&e.id))throw new Error("User not authenticated.");const{error:d}=await Vt.from("notifications").update({is_read:!0,updated_at:new Date().toISOString()}).eq("id",u).eq("recipient_id",e.id);if(d)throw d},onMutate:async u=>{await r.cancelQueries({queryKey:n});const d=r.getQueryData(n)||[];return r.setQueryData(n,f=>(f||[]).map(h=>h.id===u?{...h,is_read:!0}:h)),{previousNotifications:d}},onError:(u,d,f)=>{f!=null&&f.previousNotifications&&r.setQueryData(n,f.previousNotifications),le.error("Could not mark notification as read.")},onSettled:()=>{r.invalidateQueries({queryKey:n})}});p.useEffect(()=>{if(!(e!=null&&e.id))return;const u=h=>{if(r.invalidateQueries({queryKey:n}),h.new){const g=h.new,y=`${g.title}: ${g.message}`;switch(g.type){case"success":le.success(y);break;case"error":le.error(y);break;case"warning":le.warning(y);break;default:le.info(y)}}},d=Vt.channel("personal-user-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`recipient_id=eq.${e.id}`},u).subscribe(),f=Vt.channel("broadcast-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"recipient_id=is.null"},u).subscribe();return()=>{Vt.removeChannel(d),Vt.removeChannel(f)}},[r,e==null?void 0:e.id,n]);const c=u=>{switch(u){case"success":return o.jsx("div",{className:"bg-green-100 rounded-full p-2",children:o.jsx(IE,{className:"h-5 w-5 text-green-600"})});case"warning":return o.jsx("div",{className:"bg-yellow-100 rounded-full p-2",children:o.jsx(dde,{className:"h-5 w-5 text-yellow-600"})});case"error":return o.jsx("div",{className:"bg-red-100 rounded-full p-2",children:o.jsx(D9,{className:"h-5 w-5 text-red-600"})});default:return o.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:o.jsx(YP,{className:"h-5 w-5 text-blue-600"})})}};return a.filter(u=>!u.is_read&&u.recipient_id===(e==null?void 0:e.id)).length,o.jsx(Ot,{children:o.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:o.jsx(ke,{children:o.jsx(Ce,{className:"p-0",children:o.jsx("div",{className:"divide-y divide-gray-200",children:i?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t.common.loading}):a.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-bell-dynamic-color.png",alt:"No notifications",className:"mx-auto h-48 w-48 mb-4 object-contain"}),o.jsx("p",{children:t.notifications.noNotifications})]}):a.map(u=>o.jsxs("div",{className:`flex items-start gap-4 p-4 transition-colors ${!u.is_read&&u.recipient_id===(e==null?void 0:e.id)?"bg-blue-50":"hover:bg-gray-50"}`,children:[c(u.type),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:u.title}),o.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.created_at).toLocaleDateString()})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:u.message}),!u.is_read&&u.recipient_id===(e==null?void 0:e.id)&&o.jsxs("button",{onClick:()=>l.mutate(u.id),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800 mt-2 disabled:opacity-50",disabled:l.isPending,children:[o.jsx(IE,{className:"h-4 w-4"}),t.notifications.markAsRead]})]})]},u.id))})})})})})},YF=()=>{const e=dr(),{user:t}=_r(),[r,n]=p.useState(null),[s,a]=p.useState([]),[i,l]=p.useState(!0),c=p.useCallback(async()=>{var g;if(t)try{const y=await Ae.get(gt.ACADEMY.PROFILE);if(y.data){const m=y.data,v={id:m.id||m.academy_id||String(t.id),academy_name:m.academy_name||"",first_name:m.first_name||m.firstName||t.first_name||m.academy_name||"",description:m.description||"",website_url:m.website_url||"",contact_email:m.contact_email||t.email||"",is_verified:m.is_verified||!1,logo_url:m.profile_photo_url||m.logo_url||null};n(v)}}catch(y){console.error("Failed to load academy profile:",y),((g=y.response)==null?void 0:g.status)===404?(le.error("Please set up your academy profile first"),e("/academy/profile")):le.error("Failed to load academy profile")}finally{l(!1)}},[t,e]),u=p.useCallback(async()=>{if(r)try{const{data:g,error:y}=await Vt.from("courses").select("id, title, category, level, created_at").eq("academy_id",r.id).order("created_at",{ascending:!1}).limit(5);if(y)throw y;a(g||[])}catch(g){console.error("Error fetching courses:",g)}},[r]);if(p.useEffect(()=>{c()},[c]),p.useEffect(()=>{r&&r.id&&u()},[r,u]),i)return o.jsx(Ot,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-lg",children:"Loading..."})})});if(!r)return o.jsx(Ot,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})});const d=s.length,f=new Set(s.map(g=>g.category)).size,h=s.filter(g=>new Date(g.created_at).getTime()>Date.now()-30*24*60*60*1e3).length;return o.jsx(Ot,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-4 gap-2 md:gap-6",children:[o.jsxs(ke,{className:"min-w-0",children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Pt,{className:"text-xs md:text-sm font-medium truncate",children:"Total Courses"}),o.jsx(Rl,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(Ce,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:d}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Active courses in your academy"})]})]}),o.jsxs(ke,{className:"min-w-0",children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Pt,{className:"text-xs md:text-sm font-medium truncate",children:"Categories"}),o.jsx(cu,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(Ce,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:f}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Different course categories"})]})]}),o.jsxs(ke,{className:"min-w-0",children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Pt,{className:"text-xs md:text-sm font-medium truncate",children:"Recent Courses"}),o.jsx(z9,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(Ce,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:h}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Added in the last 30 days"})]})]}),o.jsxs(ke,{className:"min-w-0",children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Pt,{className:"text-xs md:text-sm font-medium truncate",children:"Status"}),o.jsx(du,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(Ce,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:r.is_verified?o.jsx(Dt,{className:"bg-green-500 text-[10px] md:text-xs",children:"Verified"}):o.jsx(Dt,{variant:"outline",className:"text-[10px] md:text-xs",children:"Pending"})}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Academy verification status"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsxs(Pt,{className:"flex items-center gap-2",children:[o.jsx(uu,{className:"h-5 w-5"}),"Academy Information"]})}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Academy Name"}),o.jsx("p",{className:"font-semibold",children:r.academy_name})]}),r.description&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),o.jsx("p",{className:"text-sm",children:r.description})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.website_url&&o.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>window.open(r.website_url,"_blank"),children:[o.jsx(sc,{className:"h-4 w-4 mr-2"}),"Website",o.jsx(og,{className:"h-3 w-3 ml-2"})]}),r.contact_email&&o.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>window.location.href=`mailto:${r.contact_email}`,children:[o.jsx($u,{className:"h-4 w-4 mr-2"}),"Contact"]})]})]})]}),o.jsxs(ke,{children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between",children:[o.jsxs(Pt,{className:"flex items-center gap-2",children:[o.jsx(Rl,{className:"h-5 w-5"}),"Recent Courses"]}),o.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/academy/courses"),children:"View All"})]}),o.jsx(Ce,{children:s.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Rl,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"No courses yet"}),o.jsx(ne,{onClick:()=>e("/academy/courses/add"),size:"sm",children:"Create Your First Course"})]}):o.jsx("div",{className:"space-y-3",children:s.map(g=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent transition-colors",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-sm",children:g.title}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Dt,{variant:"outline",className:"text-xs",children:g.category}),o.jsx(Dt,{variant:"secondary",className:"text-xs",children:g.level})]})]}),o.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(`/academy/courses/edit/${g.id}`),children:"Edit"})]},g.id))})})]})]}),o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsxs(Pt,{className:"flex items-center gap-2",children:[o.jsx(Eh,{className:"h-5 w-5"}),"Quick Actions"]})}),o.jsx(Ce,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(ne,{onClick:()=>e("/academy/courses/add"),className:"h-auto flex-col items-start p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Rl,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"Add New Course"})]}),o.jsx("span",{className:"text-sm text-left opacity-80",children:"Create and publish a new course"})]}),o.jsxs(ne,{variant:"outline",onClick:()=>e("/academy/courses"),className:"h-auto flex-col items-start p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Rx,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"Manage Courses"})]}),o.jsx("span",{className:"text-sm text-left opacity-80",children:"View and edit all your courses"})]}),o.jsxs(ne,{variant:"outline",onClick:()=>e("/academy/profile"),className:"h-auto flex-col items-start p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(uu,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"Edit Profile"})]}),o.jsx("span",{className:"text-sm text-left opacity-80",children:"Update your academy information"})]})]})})]})]})})},zX=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:ue("w-full caption-bottom text-sm",e),...t})}));zX.displayName="Table";const qX=p.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:ue("[&_tr]:border-b",e),...t}));qX.displayName="TableHeader";const WX=p.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:ue("[&_tr:last-child]:border-0",e),...t}));WX.displayName="TableBody";const MWe=p.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:ue("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));MWe.displayName="TableFooter";const u2=p.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:ue("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));u2.displayName="TableRow";const Fc=p.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:ue("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Fc.displayName="TableHead";const Bc=p.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:ue("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Bc.displayName="TableCell";const IWe=p.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:ue("mt-4 text-sm text-muted-foreground",e),...t}));IWe.displayName="TableCaption";const LWe=()=>{const e=dr(),{user:t}=_r(),[r,n]=p.useState([]),[s,a]=p.useState(null),[i,l]=p.useState(!0),c=f=>{e(`/academy/courses/edit/${f.id}`)},u=p.useCallback(async()=>{var f;if(t)try{const h=await Ae.get(gt.ACADEMY.PROFILE);if(h.data){const g=h.data,y={id:g.id||g.academy_id||String(t.id),academy_name:g.academy_name||"",first_name:g.first_name||g.firstName||t.first_name||g.academy_name||"",description:g.description||"",website_url:g.website_url||"",contact_email:g.contact_email||t.email||"",is_verified:g.is_verified||!1,logo_url:g.profile_photo_url||g.logo_url||null};a(y),console.log(" Academy profile loaded from API:",y)}}catch(h){console.error("Failed to load academy profile:",h),h&&typeof h=="object"&&"response"in h&&((f=h.response)==null?void 0:f.status)===404?le.error("Please set up your academy profile first"):le.error("Failed to load academy profile")}finally{l(!1)}},[t]),d=p.useCallback(async()=>{if(s)try{const{data:f,error:h}=await Vt.from("courses").select("*").eq("academy_id",s.id).order("created_at",{ascending:!1});if(h)throw h;const g=(f||[]).map(y=>({...y,required_skills:y.required_skills||[],topics:y.topics||[],enrolled:y.enrolled||!1,popular:y.popular||!1,is_academy_course:y.is_academy_course||!1}));n(g)}catch(f){console.error("Error fetching courses:",f);const h=f instanceof Error?f.message:"Failed to load courses";le.error(h)}},[s]);return p.useEffect(()=>{u()},[u]),p.useEffect(()=>{s&&s.id&&d()},[s,d]),i?o.jsx(Ot,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-lg",children:"Loading..."})})}):s?o.jsx(Ot,{children:o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("span",{className:"text-md font-semibold",children:["You have ",r.length," Courses"]}),o.jsxs(ne,{onClick:()=>e("/academy/courses/add"),children:[o.jsx(U9,{className:"w-4 h-4 mr-2"}),"Add Course"]})]}),o.jsx("div",{children:r.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Rl,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No courses yet"}),o.jsx("p",{className:"text-muted-foreground",children:"Add your first course to get started"})]}):o.jsxs(zX,{children:[o.jsx(qX,{children:o.jsxs(u2,{children:[o.jsx(Fc,{children:"Image"}),o.jsx(Fc,{children:"Title"}),o.jsx(Fc,{children:"Category"}),o.jsx(Fc,{children:"Level"}),o.jsx(Fc,{children:"Duration"}),o.jsx(Fc,{})]})}),o.jsx(WX,{children:r.map(f=>o.jsxs(u2,{children:[o.jsx(Bc,{children:o.jsx("img",{src:f.image,alt:f.title,className:"h-16 w-auto rounded-md object-contain"})}),o.jsx(Bc,{className:"font-medium",children:f.title}),o.jsx(Bc,{children:o.jsx(Dt,{variant:"outline",children:f.category})}),o.jsx(Bc,{children:o.jsx(Dt,{variant:"secondary",children:f.level})}),o.jsx(Bc,{children:f.duration}),o.jsx(Bc,{className:"text-right",children:o.jsx(ne,{variant:"outline",size:"sm",onClick:()=>c(f),children:o.jsx(gm,{className:"h-4 w-4"})})})]},f.id))})]})})]})})}):o.jsx(Ot,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})})},l0="https://breneo.onrender.com/api/academy/profile/",DWe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),FWe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),BWe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),UWe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),zWe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M12 24C5.385 24 0 18.615 0 12S5.385 0 12 0s12 5.385 12 12-5.385 12-12 12zm10.12-10.358c-.35-.11-3.17-.953-6.384-.438 1.34 3.684 1.887 6.684 1.992 7.308 2.3-1.555 3.936-4.02 4.395-6.87zm-6.115 7.808c-.153-.9-.75-4.032-2.19-7.77l-.066.02c-5.79 2.015-7.86 6.025-8.04 6.4 1.73 1.358 3.92 2.137 6.29 2.137 1.42 0 2.77-.29 4-.816zm-11.62-2.58c.232-.4 3.045-5.055 8.332-6.765.135-.045.27-.084.405-.12-.26-.585-.54-1.167-.832-1.72C7.17 11.775 2.206 11.71 1.756 11.7l-.004.312c0 2.633.998 5.037 2.634 6.855zm-2.42-8.955c.46.008 4.683.026 9.477-1.248-1.698-3.018-3.53-5.558-3.8-5.928-2.868 1.35-5.01 3.99-5.676 7.17zM9.6 2.052c.282.38 2.145 2.914 3.822 6 3.645-1.365 5.19-3.44 5.373-3.702-1.81-1.61-4.19-2.586-6.795-2.586-.825 0-1.63.1-2.4.285zm10.335 3.483c-.218.29-1.935 2.493-5.724 4.04.24.49.47.985.68 1.486.08.18.15.36.22.53 3.41-.43 6.8.26 7.14.33-.02-2.42-.88-4.64-2.31-6.38z"})}),qWe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.921h-6.466v-14.921h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.015zm-3.466-8.921h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"})}),Mj=(e,t)=>{const r={className:t||"h-5 w-5"};switch(e){case"github":return o.jsx(DWe,{...r});case"linkedin":return o.jsx(FWe,{...r});case"facebook":return o.jsx(BWe,{...r});case"instagram":return o.jsx(UWe,{...r});case"dribbble":return o.jsx(zWe,{...r});case"behance":return o.jsx(qWe,{...r});default:return o.jsx(XP,{className:t||"h-5 w-5"})}},Lp={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram",dribbble:"Dribbble",behance:"Behance"},WWe=()=>{const{user:e,logout:t,loading:r}=_r(),n=dr(),s=ha(),[a,i]=p.useState(null),[l,c]=p.useState(null),[u,d]=p.useState(!0),[f,h]=p.useState(!1),[g,y]=p.useState(!1),[m,v]=p.useState(!1),[x,w]=p.useState({contact_email:""}),[b,_]=p.useState({academy_name:"",description:"",website_url:"",contact_email:""}),[S,E]=p.useState({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}),[k,j]=p.useState(!1),[N,C]=p.useState(!1),[P,R]=p.useState(null),[F,z]=p.useState({platform:"",url:""}),[D,I]=p.useState(!1),[B,T]=p.useState(!1),[M,Z]=p.useState(!1),[L,G]=p.useState(null),H=p.useMemo(()=>{const he=(Ee,Me)=>{if(Ee&&typeof Ee=="object")return Ee[Me]};return[he(e,"phone_verified"),he(e,"is_phone_verified"),he(l,"phone_verified"),he(l,"is_phone_verified")].some(Ee=>Ee===!0||Ee==="true")},[e,l]),{isPhoneVerified:Y,isSendingCode:ae,isVerifyingCode:V,codeSent:W,codeInput:J,resendCooldown:K,sendCode:Q,verifyCode:se,setCodeInput:X}=DJ({phoneNumber:e==null?void 0:e.phone_number,ownerId:e==null?void 0:e.id,role:(e==null?void 0:e.user_type)??"academy",initiallyVerified:H}),ce=async()=>{try{await Q(),le.info(e!=null&&e.phone_number?`We've sent a 6-digit code to ${e.phone_number}.`:"We've sent a 6-digit code to your phone.")}catch(he){const je=he instanceof Error?he.message:"Failed to send verification code. Please try again.";le.error(je)}},oe=async()=>{try{await se()&&le.success("Your phone number has been verified successfully.")}catch(he){const je=he instanceof Error?he.message:"Verification failed. Please check the code and try again.";le.error(je)}};p.useEffect(()=>{e!=null&&e.profile_image&&G(e.profile_image)},[e==null?void 0:e.profile_image]),p.useEffect(()=>{(async()=>{var Ee,Me,ht,ut;if(r)return;if(!e){d(!1);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){console.error(" No token available, cannot fetch academy profile"),d(!1),le.error("Please log in again to access your academy profile.");return}d(!0);try{try{const Ct=await Ae.get(l0);if(Ct.data){const at=Ct.data;i(at),_({academy_name:at.academy_name||"",description:at.description||"",website_url:at.website_url||"",contact_email:at.contact_email||""}),w({contact_email:at.contact_email||""})}}catch(Ct){const at=Ct,kt=(Ee=at.response)==null?void 0:Ee.status,we=(Me=at.response)==null?void 0:Me.data;if(console.log(" Academy profile API response:",{status:kt,url:(ht=at.config)==null?void 0:ht.url,hasToken:!!localStorage.getItem("authToken"),errorData:we}),kt===404)console.log(" Academy profile not found (404) - user may need to create one"),i(null);else if(kt===403)console.error("Access forbidden to academy profile"),le.error("You don't have permission to access academy profile.");else if(kt===401){const Be=(we==null?void 0:we.detail)||(we==null?void 0:we.message)||"";console.warn(" Academy profile returned 401",{errorDetail:Be,url:(ut=at.config)==null?void 0:ut.url});const Ie=String(Be).toLowerCase();if(Ie.includes("not found")||Ie.includes("does not exist")||Ie.includes("no profile")||Ie.includes("user not found")){console.log(" Profile not found based on error message - treating as 404, allowing user to create profile"),i(null);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){if(console.error(" Token was cleared - checking if it's a server error or real expiration"),Ie.includes("academy")||Ie.includes("profile")){console.log(" Error mentions academy/profile - might be missing profile, allowing creation"),i(null);return}le({title:"Authentication Error",description:"Your session has expired. Please log in again.",variant:"destructive"});return}console.log(" Token exists but got 401 - treating as missing profile, allowing user to create profile"),i(null)}else console.error("Error fetching academy profile:",at),le.error("Could not load academy profile data. Please try again.")}e!=null&&e.profile_image||Ae.get(gt.AUTH.PROFILE).then(Ct=>{Ct.data&&c(Ct.data)}).catch(Ct=>{var we;const at=Ct,kt=(we=at==null?void 0:at.response)==null?void 0:we.status;if(kt&&kt!==401&&kt!==403){const Be=(at==null?void 0:at.message)||String(Ct);console.warn("Could not fetch user profile (non-critical):",kt||Be)}})}catch(Ct){const at=Ct instanceof Error?Ct.message:"Unknown error";console.error("Unexpected error in fetchProfileData:",at),le({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}})()},[e,le,r]),p.useEffect(()=>{a&&(async()=>{if(!(!e||!a)){j(!0);try{const je=localStorage.getItem("authToken"),Ee="academy",Me=a.id,ht=e==null?void 0:e.email,ut=await Ae.get("/api/social-links/",{headers:je?{Authorization:`Bearer ${je}`}:{},params:{role:Ee,academy:Me,user_email:ht}});ut.data&&typeof ut.data=="object"&&!Array.isArray(ut.data)?E({github:ut.data.github||"",linkedin:ut.data.linkedin||"",facebook:ut.data.facebook||"",instagram:ut.data.instagram||"",dribbble:ut.data.dribbble||"",behance:ut.data.behance||""}):E({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}catch{E({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}finally{j(!1)}}})()},[e,a]);const xe=async()=>{var he;if(!e){le({title:"Error",description:"You must be logged in to update your profile.",variant:"destructive"});return}if(!b.academy_name.trim()){le({title:"Validation Error",description:"Academy name is required.",variant:"destructive"});return}v(!0);try{const Ee=await Ae[a?"patch":"post"](l0,{academy_name:b.academy_name.trim(),description:b.description.trim()||null,website_url:b.website_url.trim()||null,contact_email:b.contact_email.trim()||null});if(Ee.data){const Me={id:(a==null?void 0:a.id)||Ee.data.id||"",academy_name:b.academy_name.trim(),description:b.description.trim()||"",website_url:b.website_url.trim()||"",contact_email:b.contact_email.trim()||"",logo_url:(a==null?void 0:a.logo_url)||Ee.data.logo_url||null};i(Me),_({academy_name:Me.academy_name,description:Me.description,website_url:Me.website_url,contact_email:Me.contact_email}),le.success(a?"Your academy profile has been updated.":"Your academy profile has been created."),h(!1)}}catch(je){const Ee=je;let Me="Failed to update profile. Please try again.";if((he=Ee.response)!=null&&he.data){const ht=Ee.response.data;Me=ht.detail||ht.message||Me}else je instanceof Error&&(Me=je.message);console.error("Error updating academy profile:",Me),le.error(Me)}finally{v(!1)}},pe=he=>{const{id:je,value:Ee}=he.target;_(Me=>({...Me,[je]:Ee}))},re=()=>{t(),n("/")},ee=()=>{a&&w({contact_email:a.contact_email||""}),y(!0)},ye=async()=>{var he;if(a){v(!0);try{const je=await Ae.patch(l0,{academy_name:a.academy_name,description:a.description,website_url:a.website_url||null,contact_email:x.contact_email.trim()||null});if(je&&je.data){const Ee={...a,contact_email:x.contact_email.trim()||""};i(Ee),_(Me=>({...Me,contact_email:Ee.contact_email})),le.success("Contact information has been updated."),y(!1)}else throw new Error("No response data received")}catch(je){const Ee=je;let Me="Failed to update contact information. Please try again.";if((he=Ee.response)!=null&&he.data){const ht=Ee.response.data;Me=ht.detail||ht.message||Me}else je instanceof Error&&(Me=je.message);console.error("Error updating contact information:",je),le.error(Me)}finally{v(!1)}}},De=()=>{R(null),z({platform:"",url:""}),C(!0)},$=he=>{R(he),z({platform:he,url:S[he]||""}),C(!0)},q=he=>{try{const je=new URL(he);return je.protocol==="http:"||je.protocol==="https:"}catch{try{const je=new URL(`https://${he}`);return!0}catch{return!1}}},fe=async()=>{var je,Ee,Me;if(!e||!a||!F.platform||!F.url.trim()){le.error("Please select a platform and provide a URL.");return}const he=F.url.trim();if(!q(he)){le.error("Please enter a valid URL (e.g., https://example.com).");return}I(!0);try{if(F.platform==="website"){let Ve=he;!Ve.startsWith("http://")&&!Ve.startsWith("https://")&&(Ve=`https://${Ve}`);const ft=await Ae.patch(l0,{academy_name:a.academy_name,description:a.description,website_url:Ve||null,contact_email:a.contact_email});if(ft&&ft.data){const er={...a,website_url:Ve||""};i(er),_(A=>({...A,website_url:er.website_url})),le.success(P==="website"?"Website updated successfully.":"Website added successfully."),C(!1),z({platform:"",url:""}),R(null)}else throw new Error("No response data received");return}const ht=localStorage.getItem("authToken");if(!ht)throw new Error("Authentication token is missing");const ut=F.platform,Ct="academy",at=a.id,kt=e==null?void 0:e.email;if(!at||!kt)throw new Error("Missing required information: academy ID or user email");let we=he;!we.startsWith("http://")&&!we.startsWith("https://")&&(we=`https://${we}`);const Be={[ut]:we,role:Ct,academy:at,user_email:kt};console.log(" Saving social link:",{platform:ut,url:we,role:Ct,academy:at,user_email:kt});let Ie;try{Ie=await Ae.patch("/api/social-links/",Be,{headers:{Authorization:`Bearer ${ht}`,"Content-Type":"application/json"}}),console.log(" Social link saved via PATCH:",Ie.data)}catch(Ve){const ft=Ve;if(((je=ft.response)==null?void 0:je.status)===404||((Ee=ft.response)==null?void 0:Ee.status)===400){console.log(" PATCH failed, trying POST to create new record...");try{Ie=await Ae.post("/api/social-links/",Be,{headers:{Authorization:`Bearer ${ht}`,"Content-Type":"application/json"}}),console.log(" Social link created via POST:",Ie.data)}catch(er){throw console.error(" Both PATCH and POST failed:",er),Ve}}else throw Ve}if(!Ie||!Ie.data)throw new Error("No response data received from server");E(Ve=>({...Ve,[ut]:we}));try{const Ve=await Ae.get("/api/social-links/",{headers:{Authorization:`Bearer ${ht}`},params:{role:Ct,academy:at,user_email:kt}});if(Ve.data&&typeof Ve.data=="object"&&!Array.isArray(Ve.data)){const ft={github:Ve.data.github||"",linkedin:Ve.data.linkedin||"",facebook:Ve.data.facebook||"",instagram:Ve.data.instagram||"",dribbble:Ve.data.dribbble||"",behance:Ve.data.behance||""};E(ft),console.log(" Social links refreshed from server:",ft)}}catch(Ve){console.warn(" Could not refresh social links from server:",Ve)}le.success(P?"Social link updated successfully.":"Social link added successfully."),C(!1),z({platform:"",url:""}),R(null)}catch(ht){const ut=ht;let Ct="Failed to save. Please try again.";if((Me=ut.response)!=null&&Me.data){const at=ut.response.data;Ct=at.detail||at.message||Ct}else ht instanceof Error&&(Ct=ht.message);console.error("Error saving social link/website:",ht),le.error(Ct)}finally{I(!1)}},be=async he=>{var Ee,Me,ht,ut,Ct,at,kt;const je=(Ee=he.target.files)==null?void 0:Ee[0];if(je){if(!je.type.startsWith("image/")){le.error("Please select an image file.");return}if(je.size>5*1024*1024){le.error("Image size should be less than 5MB.");return}T(!0),G(null);try{const we=new FormData;we.append("profile_image",je);const Be=localStorage.getItem("authToken"),Ie=await Ae.patch(gt.AUTH.PROFILE,we,{headers:{Authorization:Be?`Bearer ${Be}`:void 0,"Content-Type":"multipart/form-data"}});console.log(" Image upload response:",Ie.data);const Ve=((Me=Ie.data)==null?void 0:Me.profile_image)||((ut=(ht=Ie.data)==null?void 0:ht.profile)==null?void 0:ut.profile_image)||((at=(Ct=Ie.data)==null?void 0:Ct.user)==null?void 0:at.profile_image)||null;G(Ve),le.success("Profile image has been updated successfully."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image uploaded successfully")}catch(we){console.error(" Error uploading profile image:",we);const Be=we;let Ie="Failed to upload profile image. Please try again.";if((kt=Be.response)!=null&&kt.data){const Ve=Be.response.data;Ie=Ve.detail||Ve.message||Ie}le.error(Ie)}finally{T(!1)}}},qe=()=>{Z(!0)},We=()=>{var he;(he=document.getElementById("profile-image-input"))==null||he.click(),Z(!1)},Ye=async()=>{if(e){if(!confirm("Are you sure you want to remove your profile image?")){Z(!1);return}T(!0),Z(!1);try{const he=localStorage.getItem("authToken"),je=await Ae.patch(gt.AUTH.PROFILE,{profile_image:null},{headers:{Authorization:he?`Bearer ${he}`:void 0}});console.log(" Image removal response:",je.data),G(null),(await Ae.get(gt.AUTH.PROFILE,{headers:{Authorization:he?`Bearer ${he}`:void 0}})).data,le.success("Profile image has been removed."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image removed successfully")}catch(he){console.error(" Error removing profile image:",he),le.error("Failed to remove profile image. Please try again.")}finally{T(!1)}}},Pe=async he=>{var je;if(!(!e||!a||!confirm("Are you sure you want to remove this social link?")))try{const Ee=localStorage.getItem("authToken");if(!Ee)throw new Error("Authentication token is missing");const Me="academy",ht=a.id,ut=e==null?void 0:e.email;if(!ht||!ut)throw new Error("Missing required information: academy ID or user email");console.log(" Deleting social link:",{platform:he,role:Me,academy:ht,user_email:ut});const Ct={[he]:"",role:Me,academy:ht,user_email:ut},at=await Ae.patch("/api/social-links/",Ct,{headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"}});if(!at||!at.data)throw new Error("No response data received from server");console.log(" Social link deleted:",at.data),E(kt=>({...kt,[he]:""}));try{const kt=await Ae.get("/api/social-links/",{headers:{Authorization:`Bearer ${Ee}`},params:{role:Me,academy:ht,user_email:ut}});if(kt.data&&typeof kt.data=="object"&&!Array.isArray(kt.data)){const we={github:kt.data.github||"",linkedin:kt.data.linkedin||"",facebook:kt.data.facebook||"",instagram:kt.data.instagram||"",dribbble:kt.data.dribbble||"",behance:kt.data.behance||""};E(we),console.log(" Social links refreshed from server after deletion:",we)}}catch(kt){console.warn(" Could not refresh social links from server:",kt)}le.success("Social link removed successfully.")}catch(Ee){const Me=Ee;let ht="Failed to remove social link. Please try again.";if((je=Me.response)!=null&&je.data){const ut=Me.response.data;ht=ut.detail||ut.message||ht}else Ee instanceof Error&&(ht=Ee.message);console.error(" Error deleting social link:",Ee),le.error(ht)}};return r||u?o.jsx(Ot,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto mb-2"}),o.jsx("p",{children:"Loading profile..."})]})})}):!a&&!u?o.jsxs(Ot,{children:[o.jsxs("div",{className:"flex flex-col justify-center items-center h-64 space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your academy profile hasn't been set up yet."}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(ne,{onClick:()=>h(!0),children:"Create Profile"}),o.jsx(ne,{variant:"outline",onClick:()=>n("/academy/settings"),children:"Go to Settings"})]})]}),o.jsx(ts,{open:f,onOpenChange:h,children:o.jsxs(Fn,{children:[o.jsxs(Bn,{children:[o.jsx(Un,{children:"Create Academy Profile"}),o.jsx(tf,{children:"Enter your academy's information to create your profile. Click save when you're done."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(ze,{htmlFor:"academy_name",className:"text-right",children:"Academy Name *"}),o.jsx(pt,{id:"academy_name",value:b.academy_name,onChange:pe,className:"col-span-3",placeholder:"Enter academy name"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(ze,{htmlFor:"description",className:"text-right",children:"Description"}),o.jsx(ch,{id:"description",value:b.description,onChange:pe,className:"col-span-3",placeholder:"Describe your academy"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(ze,{htmlFor:"website_url",className:"text-right",children:"Website URL"}),o.jsx(pt,{id:"website_url",value:b.website_url,onChange:pe,className:"col-span-3",placeholder:"https://example.com"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(ze,{htmlFor:"contact_email",className:"text-right",children:"Contact Email"}),o.jsx(pt,{id:"contact_email",type:"email",value:b.contact_email,onChange:pe,className:"col-span-3",placeholder:"contact@academy.com"})]})]}),o.jsxs(gs,{children:[o.jsx(ne,{variant:"outline",onClick:()=>h(!1),disabled:m,children:"Cancel"}),o.jsx(ne,{onClick:xe,disabled:m,children:m?"Creating...":"Create Profile"})]})]})})]}):o.jsx(Ot,{children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(ke,{children:o.jsxs(Ce,{className:"flex flex-col items-center pb-6 pt-6",children:[o.jsxs("div",{className:"relative group cursor-pointer",onClick:qe,children:[o.jsx(sg,{src:L||(e==null?void 0:e.profile_image)||(l==null?void 0:l.profile_image)||void 0,alt:(a==null?void 0:a.academy_name)||"Academy",fallback:a!=null&&a.academy_name?a.academy_name.charAt(0).toUpperCase():e!=null&&e.first_name?e.first_name.charAt(0).toUpperCase():e!=null&&e.email?e.email.charAt(0).toUpperCase():"A",size:"xl",loading:"lazy",className:"h-32 w-32"}),B?o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-3xl z-10",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity z-10 pointer-events-none",children:o.jsx(I9,{className:"h-8 w-8 text-white"})})]}),o.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:be,disabled:B,className:"hidden"}),((e==null?void 0:e.first_name)||(e==null?void 0:e.last_name))&&o.jsx("h1",{className:"text-2xl font-bold mt-4 text-center",children:`${e.first_name||""} ${e.last_name||""}`.trim()}),(a==null?void 0:a.academy_name)&&o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2 text-center",children:a.academy_name}),o.jsxs("div",{className:"mt-4 flex items-center gap-2 w-full",children:[o.jsxs(ne,{variant:"outline",className:"flex-[4] flex items-center justify-center gap-2",onClick:()=>n("/academy/settings"),children:[o.jsx(Mw,{size:16}),"Settings"]}),o.jsx(ne,{variant:"outline",onClick:re,className:"flex-[1] flex items-center justify-center border-breneo-danger text-breneo-danger hover:bg-breneo-danger/10",children:o.jsx(B9,{size:16})})]})]})}),o.jsxs(ke,{children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Contact Information"}),a&&o.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:ee,children:o.jsx(gm,{size:16,className:"text-breneo-blue"})})]}),o.jsxs(Ce,{className:"space-y-4",children:[(e==null?void 0:e.phone_number)&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(ug,{size:18,className:"text-breneo-blue"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[o.jsx("span",{className:"text-sm",children:e.phone_number}),o.jsx(Dt,{variant:Y?"secondary":"outline",className:Y?"mt-1 sm:mt-0 bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300":"mt-1 sm:mt-0 border-orange-300 text-orange-600",children:Y?"Verified":"Unverified"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx($u,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:(e==null?void 0:e.email)||"Not provided"})]}),(a==null?void 0:a.contact_email)&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx($u,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:a.contact_email})]}),!Y&&o.jsx(uO,{className:"border-orange-300 bg-orange-50 dark:border-orange-900/60 dark:bg-orange-950/30",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Lf,{className:"h-5 w-5 text-orange-600 mt-1"}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{children:[o.jsx(dO,{children:"Verify your phone number"}),o.jsx(fO,{children:"Confirm your phone number to ensure students and partners can trust your academy."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[o.jsx(ne,{onClick:ce,disabled:!(e!=null&&e.phone_number)||ae||W&&K>0,children:ae?"Sending...":W?"Resend code":"Send verification code"}),K>0&&o.jsxs("span",{className:"text-xs text-orange-700 dark:text-orange-300",children:["You can request a new code in ",K,"s"]})]}),W&&o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[o.jsx(pt,{inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"Enter 6-digit code",value:J,onChange:he=>X(he.target.value.replace(/\D/g,"").slice(0,6)),className:"sm:max-w-[200px]"}),o.jsx(ne,{onClick:oe,disabled:J.length!==6||V,children:V?"Verifying...":"Verify"})]}),!(e!=null&&e.phone_number)&&o.jsx("div",{className:"pt-2",children:o.jsx(ne,{variant:"outline",size:"sm",onClick:()=>n("/academy/settings"),children:"Add phone number in settings"})})]})]})]})})]})]}),o.jsxs(ke,{children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Social Networks"}),a&&o.jsxs(ne,{variant:"link",className:"text-breneo-blue p-0 h-auto flex items-center gap-1",onClick:De,children:[o.jsx(U9,{size:16}),"Add"]})]}),o.jsx(Ce,{children:k?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading..."}):o.jsx("div",{className:"space-y-3",children:Object.entries(S).some(([he,je])=>je&&je.trim()!=="")?Object.entries(S).filter(([he,je])=>je&&je.trim()!=="").map(([he,je])=>o.jsxs("div",{className:"flex items-center justify-between group",children:[o.jsxs("a",{href:je,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 hover:text-breneo-blue transition-colors",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:Mj(he,"h-[18px] w-[18px] text-breneo-blue")}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:Lp[he]})}),o.jsx(og,{size:14,className:"text-gray-400 group-hover:text-breneo-blue"})]}),o.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[o.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>$(he),children:o.jsx(gm,{size:14})}),o.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",onClick:()=>Pe(he),children:o.jsx(fu,{size:14})})]})]},he)):o.jsx("div",{className:"text-center py-4 text-gray-500",children:'No social links added yet. Click "Add" to add your social media profiles or website.'})})})]})]}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs(ke,{children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Academy Information"}),a&&o.jsxs(ne,{variant:"link",className:"text-breneo-blue p-0 h-auto",onClick:()=>h(!0),children:[o.jsx(gm,{size:16,className:"mr-1"}),"Edit"]})]}),o.jsxs(Ce,{className:"space-y-4",children:[(a==null?void 0:a.academy_name)&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:"font-semibold",children:"Academy Name"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:a.academy_name})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:"font-semibold",children:"Description"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:(a==null?void 0:a.description)||"No description provided."})]})]})]})}),o.jsx(ts,{open:f,onOpenChange:h,children:o.jsxs(Fn,{children:[o.jsxs(Bn,{children:[o.jsx(Un,{children:"Edit Academy Profile"}),o.jsx(tf,{children:"Make changes to your academy's information here. Click save when you're done."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(ze,{htmlFor:"academy_name",className:"text-right",children:"Academy Name"}),o.jsx(pt,{id:"academy_name",value:b.academy_name,onChange:pe,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(ze,{htmlFor:"description",className:"text-right",children:"Description"}),o.jsx(ch,{id:"description",value:b.description,onChange:pe,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(ze,{htmlFor:"website_url",className:"text-right",children:"Website URL"}),o.jsx(pt,{id:"website_url",value:b.website_url,onChange:pe,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(ze,{htmlFor:"contact_email",className:"text-right",children:"Contact Email"}),o.jsx(pt,{id:"contact_email",type:"email",value:b.contact_email,onChange:pe,className:"col-span-3"})]})]}),o.jsxs(gs,{children:[o.jsx(ne,{variant:"outline",onClick:()=>h(!1),disabled:m,children:"Cancel"}),o.jsx(ne,{onClick:xe,disabled:m,children:m?"Saving...":"Save Changes"})]})]})}),s?o.jsx(ys,{open:g,onOpenChange:y,children:o.jsxs(vs,{children:[o.jsx(xs,{children:o.jsx(bs,{children:"Edit Contact Information"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"contact_email_mobile",children:"Contact Email"}),o.jsx(pt,{id:"contact_email_mobile",type:"email",value:x.contact_email,disabled:!0,className:"bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"contact@academy.com"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed or deleted"})]})})}),o.jsxs(aa,{className:"pt-4",children:[o.jsx(ne,{onClick:ye,disabled:m,children:m?"Saving...":"Save Changes"}),o.jsx(wo,{asChild:!0,children:o.jsx(ne,{variant:"outline",disabled:m,children:"Cancel"})})]})]})}):o.jsx(ts,{open:g,onOpenChange:y,children:o.jsxs(Fn,{children:[o.jsxs(Bn,{children:[o.jsx(Un,{children:"Edit Contact Information"}),o.jsx(tf,{children:"Update your contact information. Email cannot be changed."})]}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"contact_email",children:"Contact Email"}),o.jsx(pt,{id:"contact_email",type:"email",value:x.contact_email,disabled:!0,className:"bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"contact@academy.com"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed or deleted"})]})})}),o.jsxs(gs,{children:[o.jsx(ne,{variant:"outline",onClick:()=>y(!1),disabled:m,children:"Cancel"}),o.jsx(ne,{onClick:ye,disabled:m,children:m?"Saving...":"Save Changes"})]})]})}),s?o.jsx(ys,{open:N,onOpenChange:C,children:o.jsxs(vs,{children:[o.jsx(xs,{children:o.jsx(bs,{children:P==="website"?"Edit Website":P?"Edit Social Link":"Add Link"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"social-platform-mobile",children:"Platform *"}),o.jsxs(si,{value:F.platform,onValueChange:he=>z({...F,platform:he}),disabled:D||!!P,children:[o.jsx(Ca,{className:"mt-2",children:o.jsx(ai,{placeholder:"Select a platform"})}),o.jsxs(Pa,{children:[o.jsx(hr,{value:"website",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sc,{className:"h-4 w-4"}),o.jsx("span",{children:"Website"})]})}),Object.keys(Lp).map(he=>o.jsx(hr,{value:he,children:o.jsxs("div",{className:"flex items-center gap-2",children:[Mj(he,"h-4 w-4"),o.jsx("span",{children:Lp[he]})]})},he))]})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"social-url-mobile",children:"URL *"}),o.jsx(pt,{id:"social-url-mobile",type:"url",placeholder:"https://...",value:F.url,onChange:he=>z({...F,url:he.target.value}),className:"mt-2",disabled:D,required:!0})]})]})}),o.jsxs(aa,{children:[o.jsx(ne,{onClick:fe,disabled:D,children:D?"Saving...":P?"Update":"Add"}),o.jsx(wo,{asChild:!0,children:o.jsx(ne,{variant:"outline",disabled:D,children:"Cancel"})})]})]})}):o.jsx(ts,{open:N,onOpenChange:C,children:o.jsxs(Fn,{children:[o.jsx(Bn,{children:o.jsx(Un,{children:P==="website"?"Edit Website":P?"Edit Social Link":"Add Link"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"social-platform-desktop",children:"Platform *"}),o.jsxs(si,{value:F.platform,onValueChange:he=>z({...F,platform:he}),disabled:D||!!P,children:[o.jsx(Ca,{className:"mt-2",children:o.jsx(ai,{placeholder:"Select a platform"})}),o.jsxs(Pa,{children:[o.jsx(hr,{value:"website",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sc,{className:"h-4 w-4"}),o.jsx("span",{children:"Website"})]})}),Object.keys(Lp).map(he=>o.jsx(hr,{value:he,children:o.jsxs("div",{className:"flex items-center gap-2",children:[Mj(he,"h-4 w-4"),o.jsx("span",{children:Lp[he]})]})},he))]})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"social-url-desktop",children:"URL *"}),o.jsx(pt,{id:"social-url-desktop",type:"url",placeholder:"https://...",value:F.url,onChange:he=>z({...F,url:he.target.value}),className:"mt-2",disabled:D,required:!0})]})]})}),o.jsxs(gs,{children:[o.jsx(ne,{variant:"outline",onClick:()=>{C(!1),z({platform:"",url:""}),R(null)},disabled:D,children:"Cancel"}),o.jsx(ne,{onClick:fe,disabled:D,children:D?"Saving...":P?"Update":"Add"})]})]})}),s?o.jsx(ys,{open:M,onOpenChange:Z,children:o.jsxs(vs,{children:[o.jsx(xs,{children:o.jsx(bs,{children:"Profile Photo"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ne,{onClick:We,className:"w-full justify-start gap-3",variant:"ghost",disabled:B,children:[o.jsx($x,{className:"h-5 w-5"}),L||e!=null&&e.profile_image?"Update Photo":"Upload Photo"]}),L||e!=null&&e.profile_image?o.jsxs(ne,{onClick:Ye,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:B,children:[o.jsx(fu,{className:"h-5 w-5"}),"Remove Photo"]}):null]})})]})}):o.jsx(ts,{open:M,onOpenChange:Z,children:o.jsxs(Fn,{children:[o.jsx(Bn,{children:o.jsx(Un,{children:"Profile Photo"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ne,{onClick:We,className:"w-full justify-start gap-3",variant:"ghost",disabled:B,children:[o.jsx($x,{className:"h-5 w-5"}),L||e!=null&&e.profile_image?"Update Photo":"Upload Photo"]}),L||e!=null&&e.profile_image?o.jsxs(ne,{onClick:Ye,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:B,children:[o.jsx(fu,{className:"h-5 w-5"}),"Remove Photo"]}):null]})}),o.jsx(gs,{children:o.jsx(ne,{variant:"outline",onClick:()=>Z(!1),children:"Cancel"})})]})})]})})};function VWe(){const{user:e,loading:t,logout:r}=_r(),{theme:n,setTheme:s}=qo();P9();const a=Hs(),[i,l]=p.useState(!1),[c,u]=p.useState(!0),[d,f]=p.useState(!0),[h,g]=p.useState(!0),[y,m]=p.useState(!0),[v,x]=p.useState(!1),[w,b]=p.useState(!1);p.useState(!1);const[_,S]=p.useState(null),[E,k]=p.useState(!0),[j,N]=p.useState(""),[C,P]=p.useState(""),[R,F]=p.useState(""),[z,D]=p.useState(""),[I,B]=p.useState(""),[T,M]=p.useState(null);p.useState(1),p.useState(""),p.useState(""),p.useState(""),p.useState(!1),p.useEffect(()=>{l(!0);const Y=localStorage.getItem("pref_sound_effects"),ae=localStorage.getItem("pref_animations"),V=localStorage.getItem("pref_motivational_messages"),W=localStorage.getItem("pref_listening_exercises");Y!==null&&u(Y==="true"),ae!==null&&f(ae==="true"),V!==null&&g(V==="true"),W!==null&&m(W==="true")},[]),p.useEffect(()=>{i&&localStorage.setItem("pref_sound_effects",String(c))},[c,i]),p.useEffect(()=>{i&&localStorage.setItem("pref_animations",String(d))},[d,i]),p.useEffect(()=>{i&&localStorage.setItem("pref_motivational_messages",String(h))},[h,i]),p.useEffect(()=>{i&&localStorage.setItem("pref_listening_exercises",String(y))},[y,i]),p.useEffect(()=>{(async()=>{var V,W;if(t)return;if(!e){k(!1);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){console.error(" No token available, cannot fetch academy profile"),k(!1),le.error("Authentication Error: Please log in again to access academy settings.");return}try{P(e.phone_number||"");try{const J=await Ae.get(gt.ACADEMY.PROFILE);if(J.data){const K=J.data;console.log(" Academy profile data:",K),M(K),N(K.academy_name||""),F(K.website_url||""),D(K.contact_email||"")}}catch(J){const K=J,Q=(V=K.response)==null?void 0:V.status,se=(W=K.response)==null?void 0:W.data;if(Q===404)console.log(" Academy profile not found (404) - user may need to create one"),M(null);else if(Q===401){const X=(se==null?void 0:se.detail)||(se==null?void 0:se.message)||"",ce=String(X).toLowerCase();ce.includes("not found")||ce.includes("does not exist")||ce.includes("user not found")?(console.log(" Profile not found based on error message - treating as 404"),M(null)):(console.warn(" Academy profile returned 401:",X),M(null))}else Q===403?(console.error("Access forbidden to academy profile"),le.error("Access Denied: You don't have permission to access academy settings.")):(console.error("Error fetching academy profile:",K),le.error("Error fetching profile: Could not load academy profile data. Please try again."))}}catch(J){console.error("Unexpected error fetching academy data:",J),le.error("Failed to load academy data")}finally{k(!1)}})()},[e,t]),p.useEffect(()=>()=>{_&&URL.revokeObjectURL(_)},[_]),p.useEffect(()=>{v||B("")},[v]);const Z=Y=>{if(!Y)return!0;const ae=/^\+?[\d\s\-().]{7,15}$/,V=Y.replace(/\D/g,"");return ae.test(Y)?V.length<7?(B("Phone number must contain at least 7 digits"),!1):V.length>15?(B("Phone number must not exceed 15 digits"),!1):(B(""),!0):(B("Phone number can only contain digits, spaces, hyphens, parentheses, and dots, optionally starting with +"),!1)},L=async Y=>{var V;if(Y.preventDefault(),!(j!==((T==null?void 0:T.academy_name)||"")||C!==((e==null?void 0:e.phone_number)||"")||R!==((T==null?void 0:T.website_url)||"")||z!==((T==null?void 0:T.contact_email)||""))){le.info("No changes to save.");return}if(!j.trim()){le.error("Academy name is required.");return}if(Z(C)){if(b(!0),!e||!e.id){le.error("User ID not found. Please log in again."),b(!1);return}try{C!==((e==null?void 0:e.phone_number)||"")&&(await Ae.patch(gt.AUTH.PROFILE,{phone_number:C}),console.log("Phone number updated successfully"));try{const W=T?"patch":"post",J={academy_name:j.trim(),description:(T==null?void 0:T.description)||"",website_url:R.trim()||null,contact_email:z.trim()||null},K=await Ae[W](gt.ACADEMY.PROFILE,J);if(K.data){const Q={id:(T==null?void 0:T.id)||K.data.id||"",academy_name:j.trim(),description:K.data.description||(T==null?void 0:T.description)||"",website_url:R.trim()||"",contact_email:z.trim()||"",logo_url:(T==null?void 0:T.logo_url)||K.data.logo_url||null};M(Q),console.log(" Academy profile updated successfully:",Q)}}catch(W){console.error("Error updating academy profile:",W);const J=W;let K="Failed to update academy profile. Please try again.";if((V=J.response)!=null&&V.data){const Q=J.response.data;K=Q.detail||Q.message||K}else W instanceof Error&&(K=W.message);throw new Error(K)}le.success("Profile updated successfully!"),x(!1),setTimeout(()=>{window.location.reload()},500)}catch(W){console.error("Error updating profile:",W);let J="Failed to update profile.";Ht.isAxiosError(W)&&W.response?J=W.response.data.detail||W.response.data.message||"An error occurred.":W instanceof Error&&(J=W.message),le.error(J)}finally{b(!1)}}},G=()=>{r()};if(E||t)return o.jsx(Ot,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("p",{className:"text-muted-foreground",children:"Loading academy settings..."})})});const H=n==="dark"?"ON":"OFF";return o.jsx(Ot,{children:o.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:o.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_400px]",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Preferences"}),o.jsxs(ke,{children:[o.jsxs(vt,{children:[o.jsx(Pt,{children:"Profile Information"}),o.jsx(Xr,{children:"Update your academy name and phone number"})]}),o.jsx(Ce,{className:"space-y-4",children:o.jsxs("form",{onSubmit:Y=>{Y.preventDefault(),L(Y)},className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"academyName",children:"Academy Name"}),o.jsx(pt,{id:"academyName",value:j,onChange:Y=>{x(!0),N(Y.target.value)},placeholder:"Enter your academy name",disabled:w,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"phoneNumber",children:"Phone Number"}),o.jsx(pt,{id:"phoneNumber",value:C,onChange:Y=>{x(!0);const ae=Y.target.value;P(ae),ae?Z(ae):B("")},placeholder:"Enter your phone number",disabled:w}),I&&o.jsx("p",{className:"text-sm text-destructive",children:I})]}),o.jsx(xu,{}),o.jsx(ne,{type:"submit",disabled:w,children:w?"Saving...":"Save Changes"})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Lesson experience"}),o.jsx(xu,{})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ze,{htmlFor:"sound-effects",className:"text-base font-normal",children:"Sound effects"}),o.jsx(hs,{id:"sound-effects",checked:c,onCheckedChange:u})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ze,{htmlFor:"animations",className:"text-base font-normal",children:"Animations"}),o.jsx(hs,{id:"animations",checked:d,onCheckedChange:f})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ze,{htmlFor:"motivational-messages",className:"text-base font-normal",children:"Motivational messages"}),o.jsx(hs,{id:"motivational-messages",checked:h,onCheckedChange:g})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ze,{htmlFor:"listening-exercises",className:"text-base font-normal",children:"Listening exercises"}),o.jsx(hs,{id:"listening-exercises",checked:y,onCheckedChange:m})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Appearance"}),o.jsx(xu,{})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ze,{htmlFor:"dark-mode",className:"text-base font-normal",children:"Dark mode"}),o.jsxs(si,{value:n||"light",onValueChange:Y=>s(Y),children:[o.jsx(Ca,{id:"dark-mode",className:"w-32",children:o.jsx(ai,{children:H})}),o.jsxs(Pa,{children:[o.jsx(hr,{value:"light",children:"OFF"}),o.jsx(hr,{value:"dark",children:"ON"})]})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(QC,{}),o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsx(Pt,{className:"text-lg",children:"Account"})}),o.jsxs(Ce,{className:"space-y-2",children:[o.jsx(Rr,{to:"/academy/settings",className:`block text-sm transition-colors ${a.pathname==="/academy/settings"?"text-primary font-medium":"text-foreground hover:text-primary"}`,children:"Preferences"}),o.jsx(Rr,{to:"/academy/profile",className:`block text-sm transition-colors ${a.pathname==="/academy/profile"?"text-primary font-medium":"text-foreground hover:text-primary"}`,children:"Profile"}),o.jsx(Rr,{to:"/academy/profile",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Privacy settings"})]})]}),o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsx(Pt,{className:"text-lg",children:"Subscription"})}),o.jsx(Ce,{children:o.jsx(Rr,{to:"/subscription",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Choose a plan"})})]}),o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsx(Pt,{className:"text-lg",children:"Support"})}),o.jsx(Ce,{children:o.jsx(Rr,{to:"/help",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Help Center"})})]}),o.jsx(ne,{variant:"link",onClick:G,className:"w-full text-primary hover:text-primary/80 justify-center",children:"LOG OUT"})]})]})})})}const HWe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),KWe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),GWe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),JWe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),YWe=(e,t)=>{const r={className:t};switch(e){case"github":return o.jsx(HWe,{...r});case"linkedin":return o.jsx(KWe,{...r});case"facebook":return o.jsx(GWe,{...r});case"instagram":return o.jsx(JWe,{...r});default:return o.jsx(XP,{className:t})}},XWe={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram"},QWe=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),ZWe=()=>{const{academySlug:e}=Sh();_r();const t=dr(),r=e?/^\d+$/.test(e):!1,n=e?QWe(e)||r:!1,s=n?e:null,a=n?null:e,i=y=>{if(!y)return{id:""};const m=x=>{for(const w of x){const b=y[w];if(b!=null){if(typeof b=="string"&&b.trim())return b;if(typeof b=="number")return String(b)}}};return{id:y.id!==null&&y.id!==void 0?String(y.id):y.academy_id!==null&&y.academy_id!==void 0?String(y.academy_id):"",user_id:y.user_id,academy_name:m(["academy_name","name","academyName","first_name","firstName"])||void 0,description:m(["description","desc"])||void 0,website_url:m(["website_url","website","websiteUrl","url"])||void 0,contact_email:m(["contact_email","email","contactEmail","contact_mail"])||void 0,phone_number:m(["phone_number","phone","phoneNumber"])||void 0,is_verified:y.is_verified||y.isVerified||y.verified||!1,logo_url:m(["logo_url","logoUrl","logo","profile_image_url","profileImageUrl","profile_photo_url","profilePhotoUrl","image"])||void 0,profile_photo_url:m(["profile_image_url","profileImageUrl","profile_photo_url","profilePhotoUrl","profile_photo","profilePhoto","image","logo_url","logoUrl","logo"])||void 0,social_links:y.social_links||void 0}},{data:l,isLoading:c,error:u}=Xt({queryKey:["academy-profile",s||a],queryFn:async()=>{var b,_,S,E,k,j;if(!e)return null;let y=null,m=null;try{let N;if(n&&s)m=s,N=await Ae.get(`/api/academy/${s}/`),console.log(" Academy profile fetched by ID:",{academyId:s,rawData:N.data,hasProfileData:!!((b=N.data)!=null&&b.profile_data)}),(_=N.data)!=null&&_.profile_data?(y=N.data.profile_data,console.log(" Using profile_data from response:",y)):y=N.data;else if(a)N=await Ae.get(`/api/academy/${a}/`),console.log(" Academy profile fetched by slug:",{academySlug:a,rawData:N.data,hasProfileData:!!((S=N.data)!=null&&S.profile_data)}),(E=N.data)!=null&&E.profile_data?(y=N.data.profile_data,console.log(" Using profile_data from response:",y)):y=N.data,(y==null?void 0:y.id)!==null&&(y==null?void 0:y.id)!==void 0?m=String(y.id):y!=null&&y.academy_id&&(m=String(y.academy_id));else return null}catch(N){if(a)try{const C=await Ae.get(`/api/academies/${a}/`);console.log(" Academy profile fetched (plural endpoint):",{academySlug:a,rawData:C.data,hasProfileData:!!((k=C.data)!=null&&k.profile_data)}),(j=C.data)!=null&&j.profile_data?y=C.data.profile_data:y=C.data,(y==null?void 0:y.id)!==null&&(y==null?void 0:y.id)!==void 0?m=String(y.id):y!=null&&y.academy_id&&(m=String(y.academy_id))}catch(C){console.error(" Error fetching academy profile:",{singularError:N,pluralError:C,academySlug:a,endpointsTried:[`/api/academy/${a}/`,`/api/academies/${a}/`]})}else console.error(" Error fetching academy profile by ID:",{error:N,academyId:s,endpoint:`/api/academy/${s}/`})}const v=y?i(y):null;let x=null;if(m||v!=null&&v.id){const N=m||(v==null?void 0:v.id);try{const{data:C,error:P}=await Vt.from("academy_profiles").select("id, academy_name, description, website_url, contact_email, logo_url, is_verified, user_id").eq("id",N).single();P?console.warn(" Error fetching academy profile from Supabase:",P):C&&(x=C,console.log(" Academy profile fetched from Supabase:",x))}catch(C){console.warn(" Error fetching from Supabase:",C)}}if(!v&&!x&&y===null&&!m)throw new Error("Academy not found");const w={id:(v==null?void 0:v.id)||(x==null?void 0:x.id)||m||"",user_id:(v==null?void 0:v.user_id)||(x==null?void 0:x.user_id),academy_name:(v==null?void 0:v.academy_name)||(x==null?void 0:x.academy_name)||void 0,description:(v==null?void 0:v.description)||(x==null?void 0:x.description)||void 0,website_url:(v==null?void 0:v.website_url)||(x==null?void 0:x.website_url)||void 0,contact_email:(v==null?void 0:v.contact_email)||(x==null?void 0:x.contact_email)||void 0,phone_number:(v==null?void 0:v.phone_number)||void 0,is_verified:(v==null?void 0:v.is_verified)??(x==null?void 0:x.is_verified)??!1,logo_url:(v==null?void 0:v.logo_url)||(v==null?void 0:v.profile_photo_url)||(x==null?void 0:x.logo_url)||void 0,profile_photo_url:(v==null?void 0:v.profile_photo_url)||(v==null?void 0:v.logo_url)||(x==null?void 0:x.logo_url)||void 0,social_links:(v==null?void 0:v.social_links)||void 0};if(!w.academy_name&&!w.id)throw new Error("Academy not found");return console.log(" Merged academy profile:",w),w},enabled:!!e,retry:1}),{data:d,isLoading:f,error:h}=Xt({queryKey:["academy-courses",l==null?void 0:l.id,s||a],queryFn:async()=>{const y=(l==null?void 0:l.id)||s;if(!y)return console.warn(" No academy ID available to fetch courses"),[];try{const{data:m,error:v}=await Vt.from("courses").select("*").eq("academy_id",y).order("created_at",{ascending:!1});if(v)throw console.error(" Error fetching courses from Supabase:",v),v;return console.log(" Academy courses fetched from Supabase:",{academyId:y,courseCount:(m==null?void 0:m.length)||0}),Array.isArray(m)?m.map(x=>({...x,topics:x.topics||[],required_skills:x.required_skills||[]})):[]}catch(m){return console.error(" Error fetching courses from Supabase:",m),[]}},enabled:!!(l!=null&&l.id||s),retry:1});if(!e)return o.jsx(Ot,{children:o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("p",{className:"text-red-500",children:"Academy ID or slug is required"}),o.jsx(Rr,{to:"/courses",children:o.jsxs(ne,{variant:"outline",className:"mt-4",children:[o.jsx(mm,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})]})});const g=(l==null?void 0:l.academy_name)||(a?Kqe(a):"Loading Academy...");return o.jsx(Ot,{children:o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{className:"animate-pulse space-y-6",children:[o.jsx("div",{className:"h-10 w-64 bg-gray-200 rounded"}),o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded"})}),o.jsx(Ce,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 w-3/4 bg-gray-200 rounded"})]})})]})]})}),o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(ke,{children:o.jsx(Ce,{className:"p-6",children:o.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[o.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-3xl mb-6"}),o.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded mb-2"}),o.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded mb-4"}),o.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded"})]})})}),o.jsx(ke,{children:o.jsx(Ce,{className:"p-4",children:o.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded mx-auto"})})})]})]}):l?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(ke,{children:o.jsxs(Ce,{className:"flex flex-col items-center pb-6 pt-6",children:[o.jsx("div",{className:"relative",children:o.jsx(sg,{src:l.profile_photo_url||l.logo_url||void 0,alt:l.academy_name||"Academy",fallback:l.academy_name?l.academy_name.charAt(0).toUpperCase():"A",size:"xl",loading:"lazy",className:"h-32 w-32"})}),l.academy_name&&o.jsx("h1",{className:"text-2xl font-bold mt-4 text-center",children:l.academy_name}),l.is_verified&&o.jsx(Dt,{className:"bg-green-100 text-green-800 hover:bg-green-100 mt-2",children:"Verified"}),o.jsxs("div",{className:"mt-4 text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:(d==null?void 0:d.length)||0}),o.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total courses"})]})]})}),o.jsx(ke,{children:o.jsx(Ce,{className:"p-4 text-center",children:o.jsx(Dt,{variant:"outline",className:"text-xs uppercase tracking-wider",children:"ACADEMY"})})}),o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsx("h3",{className:"text-lg font-bold",children:"Contact Information"})}),o.jsxs(Ce,{className:"space-y-4",children:[l.phone_number&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(ug,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:l.phone_number})]}),l.contact_email&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx($u,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:l.contact_email})]}),l.website_url&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(sc,{size:18,className:"text-breneo-blue"})}),o.jsxs("a",{href:l.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-breneo-blue hover:underline flex items-center gap-1",children:[l.website_url,o.jsx(og,{size:14})]})]})]})]}),l.social_links&&(l.social_links.github||l.social_links.linkedin||l.social_links.facebook||l.social_links.instagram)&&o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsx("h3",{className:"text-lg font-bold",children:"Social Networks"})}),o.jsx(Ce,{children:o.jsx("div",{className:"space-y-3",children:Object.entries(l.social_links).filter(([y,m])=>m&&m.trim()!=="").map(([y,m])=>o.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 hover:text-breneo-blue transition-colors",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:YWe(y,"h-[18px] w-[18px] text-breneo-blue")}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:XWe[y]})}),o.jsx(og,{size:14,className:"text-gray-400"})]},y))})})]})]}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx("div",{className:"mb-4",children:o.jsx(Rr,{to:"/courses",children:o.jsxs(ne,{variant:"ghost",className:"text-breneo-blue hover:text-breneo-blue/80 mb-4",children:[o.jsx(mm,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})}),o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"About me"})}),o.jsx(Ce,{children:o.jsx("div",{className:"text-gray-700 leading-relaxed space-y-3",children:l.description?o.jsx("p",{children:l.description}):o.jsx("p",{className:"text-gray-400 italic",children:"No description available"})})})]}),o.jsxs(ke,{children:[o.jsx(vt,{children:o.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["My courses (",(d==null?void 0:d.length)||0,")"]})}),o.jsx(Ce,{children:f?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-gray-500",children:"Loading courses..."})}):d&&d.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:d.map(y=>o.jsxs(ke,{className:"overflow-hidden",children:[o.jsx("div",{className:"h-40 overflow-hidden",children:o.jsx("img",{src:y.image?y.image:"/lovable-uploads/no_photo.png",alt:y.title,className:"w-full h-full object-cover",onError:m=>{const v=m.target;v.src.includes("/lovable-uploads/no_photo.png")||(v.onerror=null,v.src="/lovable-uploads/no_photo.png")}})}),o.jsxs(Ce,{className:"p-5",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"font-medium text-lg",children:y.title}),y.popular&&o.jsx(Dt,{variant:"outline",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:"Popular"})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-500",children:[o.jsx("span",{children:y.level}),o.jsx("span",{children:""}),o.jsx("span",{children:y.duration}),o.jsx("span",{children:""}),o.jsx("span",{children:y.category})]}),o.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-2",children:y.description}),o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.topics.slice(0,3).map((m,v)=>o.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:m},v)),y.topics.length>3&&o.jsxs("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:["+",y.topics.length-3," more"]})]})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex flex-wrap gap-1",children:[y.required_skills.slice(0,2).map((m,v)=>o.jsx("span",{className:"bg-breneo-blue/10 text-breneo-blue text-xs px-2 py-1 rounded",children:m},v)),y.required_skills.length>2&&o.jsxs("span",{className:"bg-breneo-blue/10 text-breneo-blue text-xs px-2 py-1 rounded",children:["+",y.required_skills.length-2]})]}),o.jsx(ne,{size:"sm",variant:y.enrolled?"outline":"default",className:y.enrolled?"":"bg-breneo-blue hover:bg-breneo-blue/90",onClick:()=>{y.enrolled||t(`/course/${y.id}`)},children:y.enrolled?"Continue":"Enroll"})]})]})]},y.id))}):o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-3xl border",children:[o.jsxs("p",{className:"text-gray-500 mb-4",children:["No courses found for ",g]}),o.jsx(Rr,{to:"/courses",children:o.jsx(ne,{variant:"outline",children:"Browse All Courses"})})]})})]})]})]}):u||!l?o.jsx("div",{className:"lg:col-span-3",children:o.jsx(ke,{className:"border-red-200",children:o.jsx(Ce,{className:"p-6 text-center",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-breneo-navy mb-4",children:"Academy Not Found"}),o.jsx("p",{className:"text-red-600 mb-4 text-lg",children:"Cannot find an academy"}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:u instanceof Error?u.message==="Academy not found"||u.message.includes("not found")||u.message.includes("404")?"The academy you're looking for doesn't exist or has been removed.":`Error: ${u.message}`:"The academy you're looking for doesn't exist or has been removed."}),e&&o.jsx("p",{className:"text-gray-500 text-xs mb-6",children:n?`Academy ID: ${s}`:`Academy Slug: ${a}`}),o.jsx(Rr,{to:"/courses",children:o.jsxs(ne,{variant:"default",children:[o.jsx(mm,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})]})})})}):null})})},eVe=()=>{const e=dr();qo();const[t,r]=p.useState(!1),[n,s]=p.useState(1),[a,i]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(""),[g,y]=p.useState(""),[m,v]=p.useState(""),[x,w]=p.useState(!1),[b,_]=p.useState(!1),[S,E]=p.useState(un.find(I=>I.code==="GE")),[k,j]=p.useState(!1),[N,C]=p.useState(!1),[P,R]=p.useState(!1);p.useEffect(()=>{r(!0)},[]);const F=p.useCallback(I=>new Promise((B,T)=>{const M=new Image;M.onload=()=>B(),M.onerror=()=>T(new Error(`Failed to load image: ${I}`)),M.src=I}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([F("/lovable-uploads/Breneo-logo.png"),F("/lovable-uploads/Breneo-logo-dark.png"),F("/lovable-uploads/academy.png")])}catch(B){console.warn("Some images failed to preload:",B),R(!0)}})()},[F]);const z=()=>{if(!a||!l||!u||!f){le.error("Please fill out all fields to continue.");return}s(2)},D=async I=>{if(I.preventDefault(),n!==2||!g||!m){le.error("Please complete all fields to register.");return}_(!0);const B=`${S==null?void 0:S.dial_code}${f}`;try{const T=await fetch("https://breneo.onrender.com/api/academy/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:l,password:u,phone_number:B,description:g,website:m})}),M=T.headers.get("content-type");if(M&&M.indexOf("application/json")!==-1){const Z=await T.json();if(T.ok)le.success("Registration successful! Please verify your email."),sessionStorage.setItem("tempAcademyEmail",l),e("/email-verification",{state:{email:l,isAcademy:!0}});else{const L=Object.values(Z).flat();le.error(L.join(" ")||"Registration failed.")}}else{const Z=await T.text();console.error("Server returned non-JSON response:",Z),le.error("A server error occurred. Please try again later.")}}catch(T){console.error("Registration error:",T),le.error("An unexpected error occurred. Please try again.")}finally{_(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!k&&!P&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(cn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-6 lg:h-5 transition-opacity duration-300 ${k?"opacity-100":"opacity-0"}`,onLoad:()=>j(!0),onError:()=>{R(!0),j(!0)}})]}),o.jsx(Gi,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-4 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!k&&!P&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(cn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-8 transition-opacity duration-300 ${k?"opacity-100":"opacity-0"}`,onLoad:()=>j(!0),onError:()=>{R(!0),j(!0)}})]}),o.jsx(Gi,{})]}),o.jsx("div",{className:"w-full bg-gray-200 dark:bg-secondary rounded-full h-2 mb-8",children:o.jsx("div",{className:"bg-[#00BFFF] h-2 rounded-full transition-all duration-500 ease-in-out",style:{width:n===1?"50%":"100%"}})}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Register Academy"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:n===1?"Start by creating your account credentials.":"Tell us more about your academy."}),o.jsxs("form",{onSubmit:D,className:"space-y-6",children:[n===1&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"name",children:"Academy Name"}),o.jsx(pt,{id:"name",placeholder:"Your academy's name",className:"mt-1 h-[3.2rem]",value:a,onChange:I=>i(I.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"email",children:"Email Address"}),o.jsx(pt,{id:"email",type:"email",placeholder:"Enter contact email",className:"mt-1 h-[3.2rem]",value:l,onChange:I=>c(I.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"phone-input-container mt-1 flex items-center rounded-md border border-input transition-colors focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[o.jsx(aq,{value:S,onChange:E,className:"max-w-fit px-3 h-[3.2rem] border-0 bg-transparent hover:bg-transparent rounded-r-none"}),o.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-border"}),o.jsx(pt,{id:"phone",type:"tel",placeholder:"Phone number",className:"flex-1 h-[3.2rem] border-0 focus-visible:ring-0 focus-visible:ring-offset-0",value:f,onChange:I=>h(I.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(pt,{id:"password",type:x?"text":"password",placeholder:"Create a password",className:"pr-10 h-[3.2rem]",value:u,onChange:I=>d(I.target.value),required:!0}),o.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>w(!x),children:x?o.jsx(lg,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):o.jsx(Tu,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]})]})]}),n===2&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"description",children:"Description"}),o.jsx("textarea",{id:"description",placeholder:"Describe your academy",className:"mt-1 w-full h-24 px-3 py-2 text-base border border-input bg-background text-foreground placeholder:text-muted-foreground rounded-md resize-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:g,onChange:I=>y(I.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"website",children:"Website"}),o.jsx(pt,{id:"website",type:"url",placeholder:"https://your-academy.com",className:"mt-1 h-[3.2rem]",value:m,onChange:I=>v(I.target.value),required:!0})]})]}),o.jsxs("div",{className:"pt-2",children:[n===1&&o.jsx(ne,{type:"button",onClick:z,className:"w-full h-14",children:"Next"}),n===2&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(ne,{type:"button",variant:"outline",className:"w-full h-14",onClick:()=>s(1),children:"Back"}),o.jsx(ne,{type:"submit",className:"w-full h-14",disabled:b,children:b?"Registering...":"Register"})]})]})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Already have an account?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!N&&!P&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(cn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${N?"opacity-100":"opacity-0"}`,style:{backgroundImage:N?"url('/lovable-uploads/academy.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/academy.png",alt:"",className:"hidden",onLoad:()=>C(!0),onError:()=>{R(!0),C(!0)}}),P&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/academy.png",alt:"Academy",className:"w-full h-full object-cover"})})]})})]})]})};function tVe(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var rVe="DismissableLayer",d2="dismissableLayer.update",nVe="dismissableLayer.pointerDownOutside",sVe="dismissableLayer.focusOutside",XF,VX=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),HX=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(VX),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),y=wt(t,k=>f(k)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=oVe(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=lVe(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return tVe(k=>{w===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(XF=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),QF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=XF)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),QF())},[d,u]),p.useEffect(()=>{const k=()=>g({});return document.addEventListener(d2,k),()=>document.removeEventListener(d2,k)},[]),o.jsx(nt.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,S.onPointerDownCapture)})});HX.displayName=rVe;var aVe="DismissableLayerBranch",iVe=p.forwardRef((e,t)=>{const r=p.useContext(VX),n=p.useRef(null),s=wt(t,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(nt.div,{...e,ref:s})});iVe.displayName=aVe;function oVe(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){KX(nVe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function lVe(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!n.current&&KX(sVe,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function QF(){const e=new CustomEvent(d2);document.dispatchEvent(e)}function KX(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?yy(s,a):s.dispatchEvent(a)}var Ij="focusScope.autoFocusOnMount",Lj="focusScope.autoFocusOnUnmount",ZF={bubbles:!1,cancelable:!0},cVe="FocusScope",GX=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=p.useState(null),u=Jt(s),d=Jt(a),f=p.useRef(null),h=wt(t,m=>c(m)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(b){if(g.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:fl(f.current,{select:!0})},v=function(b){if(g.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||fl(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&fl(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,g.paused]),p.useEffect(()=>{if(l){t6.add(g);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(Ij,ZF);l.addEventListener(Ij,u),l.dispatchEvent(x),x.defaultPrevented||(uVe(mVe(JX(l)),{select:!0}),document.activeElement===m&&fl(l))}return()=>{l.removeEventListener(Ij,u),setTimeout(()=>{const x=new CustomEvent(Lj,ZF);l.addEventListener(Lj,d),l.dispatchEvent(x),x.defaultPrevented||fl(m??document.body,{select:!0}),l.removeEventListener(Lj,d),t6.remove(g)},0)}}},[l,u,d,g]);const y=p.useCallback(m=>{if(!r&&!n||g.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const w=m.currentTarget,[b,_]=dVe(w);b&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&fl(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&fl(_,{select:!0})):x===w&&m.preventDefault()}},[r,n,g.paused]);return o.jsx(nt.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});GX.displayName=cVe;function uVe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(fl(n,{select:t}),document.activeElement!==r)return}function dVe(e){const t=JX(e),r=e6(t,e),n=e6(t.reverse(),e);return[r,n]}function JX(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function e6(e,t){for(const r of e)if(!fVe(r,{upTo:t}))return r}function fVe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function hVe(e){return e instanceof HTMLInputElement&&"select"in e}function fl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&hVe(e)&&t&&e.select()}}var t6=pVe();function pVe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=r6(e,t),e.unshift(t)},remove(t){var r;e=r6(e,t),(r=e[0])==null||r.resume()}}}function r6(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function mVe(e){return e.filter(t=>t.tagName!=="A")}var gVe="Portal",YX=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=p.useState(!1);tn(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?hy.createPortal(o.jsx(nt.div,{...n,ref:t}),i):null});YX.displayName=gVe;var XX=Bw(),Dj=function(){},u_=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Dj,onWheelCapture:Dj,onTouchMoveCapture:Dj}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,y=e.inert,m=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,w=e.gapMode,b=jy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=Fw([r,t]),E=br(br({},b),s);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:XX,removeScrollBar:u,shards:f,noIsolation:g,inert:y,setCallbacks:a,allowPinchZoom:!!m,lockRef:r,gapMode:w}),i?p.cloneElement(p.Children.only(l),br(br({},E),{ref:S})):p.createElement(x,br({},E,{className:c,ref:S}),l))});u_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};u_.classNames={fullWidth:pu,zeroRight:hu};var f2=!1;if(typeof window<"u")try{var c0=Object.defineProperty({},"passive",{get:function(){return f2=!0,!0}});window.addEventListener("test",c0,c0),window.removeEventListener("test",c0,c0)}catch{f2=!1}var yd=f2?{passive:!1}:!1,yVe=function(e){return e.tagName==="TEXTAREA"},QX=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!yVe(e)&&r[t]==="visible")},vVe=function(e){return QX(e,"overflowY")},xVe=function(e){return QX(e,"overflowX")},n6=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=ZX(e,n);if(s){var a=eQ(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},bVe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},wVe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},ZX=function(e,t){return e==="v"?vVe(t):xVe(t)},eQ=function(e,t){return e==="v"?bVe(t):wVe(t)},_Ve=function(e,t){return e==="h"&&t==="rtl"?-1:1},SVe=function(e,t,r,n,s){var a=_Ve(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=eQ(e,l),y=g[0],m=g[1],v=g[2],x=m-v-a*y;(y||x)&&ZX(e,l)&&(f+=x,h+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},u0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},s6=function(e){return[e.deltaX,e.deltaY]},a6=function(e){return e&&"current"in e?e.current:e},jVe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},kVe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},EVe=0,vd=[];function NVe(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(EVe++)[0],a=p.useState(ky)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Dw([e.lockRef.current],(e.shards||[]).map(a6),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var x=u0(m),w=r.current,b="deltaX"in m?m.deltaX:w[0]-x[0],_="deltaY"in m?m.deltaY:w[1]-x[1],S,E=m.target,k=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&E.type==="range")return!1;var j=n6(k,E);if(!j)return!0;if(j?S=k:(S=k==="v"?"h":"v",j=n6(k,E)),!j)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return SVe(N,v,m,N==="h"?b:_,!0)},[]),c=p.useCallback(function(m){var v=m;if(!(!vd.length||vd[vd.length-1]!==a)){var x="deltaY"in v?s6(v):u0(v),w=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&jVe(S.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(i.current.shards||[]).map(a6).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=b.length>0?l(v,b[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=p.useCallback(function(m,v,x,w){var b={name:m,delta:v,target:x,should:w,shadowParent:CVe(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=p.useCallback(function(m){r.current=u0(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,s6(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,u0(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return vd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,yd),document.addEventListener("touchmove",c,yd),document.addEventListener("touchstart",d,yd),function(){vd=vd.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,yd),document.removeEventListener("touchmove",c,yd),document.removeEventListener("touchstart",d,yd)}},[]);var g=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(a,{styles:kVe(s)}):null,g?p.createElement(qw,{gapMode:e.gapMode}):null)}function CVe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const PVe=Uw(XX,NVe);var tQ=p.forwardRef(function(e,t){return p.createElement(u_,br({},e,{ref:t,sideCar:PVe}))});tQ.classNames=u_.classNames;var PO="Dialog",[rQ,nQ]=fa(PO),[AVe,wi]=rQ(PO),sQ=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=p.useRef(null),c=p.useRef(null),[u=!1,d]=pi({prop:n,defaultProp:s,onChange:a});return o.jsx(AVe,{scope:t,triggerRef:l,contentRef:c,contentId:li(),titleId:li(),descriptionId:li(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};sQ.displayName=PO;var aQ="DialogTrigger",iQ=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wi(aQ,r),a=wt(t,s.triggerRef);return o.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":OO(s.open),...n,ref:a,onClick:Le(e.onClick,s.onOpenToggle)})});iQ.displayName=aQ;var AO="DialogPortal",[TVe,oQ]=rQ(AO,{forceMount:void 0}),lQ=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=wi(AO,t);return o.jsx(TVe,{scope:t,forceMount:r,children:p.Children.map(n,i=>o.jsx(Ns,{present:r||a.open,children:o.jsx(YX,{asChild:!0,container:s,children:i})}))})};lQ.displayName=AO;var Jb="DialogOverlay",cQ=p.forwardRef((e,t)=>{const r=oQ(Jb,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=wi(Jb,e.__scopeDialog);return a.modal?o.jsx(Ns,{present:n||a.open,children:o.jsx(OVe,{...s,ref:t})}):null});cQ.displayName=Jb;var OVe=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wi(Jb,r);return o.jsx(tQ,{as:tc,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(nt.div,{"data-state":OO(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Bu="DialogContent",uQ=p.forwardRef((e,t)=>{const r=oQ(Bu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=wi(Bu,e.__scopeDialog);return o.jsx(Ns,{present:n||a.open,children:a.modal?o.jsx($Ve,{...s,ref:t}):o.jsx(RVe,{...s,ref:t})})});uQ.displayName=Bu;var $Ve=p.forwardRef((e,t)=>{const r=wi(Bu,e.__scopeDialog),n=p.useRef(null),s=wt(t,r.contentRef,n);return p.useEffect(()=>{const a=n.current;if(a)return Ww(a)},[]),o.jsx(dQ,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Le(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:Le(e.onFocusOutside,a=>a.preventDefault())})}),RVe=p.forwardRef((e,t)=>{const r=wi(Bu,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return o.jsx(dQ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),dQ=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=wi(Bu,r),c=p.useRef(null),u=wt(t,c);return oO(),o.jsxs(o.Fragment,{children:[o.jsx(GX,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(HX,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":OO(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(IVe,{titleId:l.titleId}),o.jsx(DVe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),TO="DialogTitle",fQ=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wi(TO,r);return o.jsx(nt.h2,{id:s.titleId,...n,ref:t})});fQ.displayName=TO;var hQ="DialogDescription",pQ=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wi(hQ,r);return o.jsx(nt.p,{id:s.descriptionId,...n,ref:t})});pQ.displayName=hQ;var mQ="DialogClose",gQ=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wi(mQ,r);return o.jsx(nt.button,{type:"button",...n,ref:t,onClick:Le(e.onClick,()=>s.onOpenChange(!1))})});gQ.displayName=mQ;function OO(e){return e?"open":"closed"}var yQ="DialogTitleWarning",[MVe,vQ]=Dse(yQ,{contentName:Bu,titleName:TO,docsSlug:"dialog"}),IVe=({titleId:e})=>{const t=vQ(yQ),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},LVe="DialogDescriptionWarning",DVe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vQ(LVe).contentName}}.`;return p.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},FVe=sQ,BVe=iQ,UVe=lQ,zVe=cQ,qVe=uQ,WVe=fQ,VVe=pQ,xQ=gQ,bQ="AlertDialog",[HVe,dKe]=fa(bQ,[nQ]),Jo=nQ(),wQ=e=>{const{__scopeAlertDialog:t,...r}=e,n=Jo(t);return o.jsx(FVe,{...n,...r,modal:!0})};wQ.displayName=bQ;var KVe="AlertDialogTrigger",_Q=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Jo(r);return o.jsx(BVe,{...s,...n,ref:t})});_Q.displayName=KVe;var GVe="AlertDialogPortal",SQ=e=>{const{__scopeAlertDialog:t,...r}=e,n=Jo(t);return o.jsx(UVe,{...n,...r})};SQ.displayName=GVe;var JVe="AlertDialogOverlay",jQ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Jo(r);return o.jsx(zVe,{...s,...n,ref:t})});jQ.displayName=JVe;var cf="AlertDialogContent",[YVe,XVe]=HVe(cf),kQ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=Jo(r),i=p.useRef(null),l=wt(t,i),c=p.useRef(null);return o.jsx(MVe,{contentName:cf,titleName:EQ,docsSlug:"alert-dialog",children:o.jsx(YVe,{scope:r,cancelRef:c,children:o.jsxs(qVe,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:Le(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(wP,{children:n}),o.jsx(ZVe,{contentRef:i})]})})})});kQ.displayName=cf;var EQ="AlertDialogTitle",NQ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Jo(r);return o.jsx(WVe,{...s,...n,ref:t})});NQ.displayName=EQ;var CQ="AlertDialogDescription",PQ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Jo(r);return o.jsx(VVe,{...s,...n,ref:t})});PQ.displayName=CQ;var QVe="AlertDialogAction",AQ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Jo(r);return o.jsx(xQ,{...s,...n,ref:t})});AQ.displayName=QVe;var TQ="AlertDialogCancel",OQ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=XVe(TQ,r),a=Jo(r),i=wt(t,s);return o.jsx(xQ,{...a,...n,ref:i})});OQ.displayName=TQ;var ZVe=({contentRef:e})=>{const t=`\`${cf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${cf}\` by passing a \`${CQ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${cf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},eHe=wQ,tHe=_Q,rHe=SQ,$Q=jQ,RQ=kQ,MQ=AQ,IQ=OQ,LQ=NQ,DQ=PQ;const nHe=eHe,sHe=tHe,aHe=rHe,FQ=p.forwardRef(({className:e,...t},r)=>o.jsx($Q,{className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));FQ.displayName=$Q.displayName;const BQ=p.forwardRef(({className:e,...t},r)=>o.jsxs(aHe,{children:[o.jsx(FQ,{}),o.jsx(RQ,{ref:r,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));BQ.displayName=RQ.displayName;const UQ=({className:e,...t})=>o.jsx("div",{className:ue("flex flex-col space-y-2 text-center sm:text-left",e),...t});UQ.displayName="AlertDialogHeader";const zQ=({className:e,...t})=>o.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});zQ.displayName="AlertDialogFooter";const qQ=p.forwardRef(({className:e,...t},r)=>o.jsx(LQ,{ref:r,className:ue("text-lg font-semibold",e),...t}));qQ.displayName=LQ.displayName;const WQ=p.forwardRef(({className:e,...t},r)=>o.jsx(DQ,{ref:r,className:ue("text-sm text-muted-foreground",e),...t}));WQ.displayName=DQ.displayName;const VQ=p.forwardRef(({className:e,...t},r)=>o.jsx(MQ,{ref:r,className:ue(JP(),e),...t}));VQ.displayName=MQ.displayName;const HQ=p.forwardRef(({className:e,...t},r)=>o.jsx(IQ,{ref:r,className:ue(JP({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));HQ.displayName=IQ.displayName;const i6=()=>{const{courseId:e}=Sh(),t=dr(),{user:r}=_r(),[n,s]=p.useState(null),[a,i]=p.useState(!0),[l,c]=p.useState(!1),[u,d]=p.useState({title:"",description:"",category:"",level:"",duration:"",required_skills:"",topics:"",registration_link:""}),[f,h]=p.useState(null),[g,y]=p.useState(null),m=p.useRef(null),v=!!e,x=async()=>{var j;if(r)try{const N=await Ae.get(gt.ACADEMY.PROFILE);if(N.data){const C=N.data,P={id:C.id||C.academy_id||String(r.id),academy_name:C.academy_name||"",first_name:C.first_name||C.firstName||r.first_name||C.academy_name||"",description:C.description||"",website_url:C.website_url||"",contact_email:C.contact_email||r.email||"",is_verified:C.is_verified||!1,logo_url:C.profile_photo_url||C.logo_url||null};s(P)}}catch(N){console.error("Failed to load academy profile:",N),((j=N.response)==null?void 0:j.status)===404?(le.error("Please set up your academy profile first"),t("/academy/profile")):le.error("Failed to load academy profile")}finally{i(!1)}},w=async j=>{try{const{data:N,error:C}=await Vt.from("courses").select("*").eq("id",j).single();if(C)throw C;N&&(d({title:N.title||"",description:N.description||"",category:N.category||"",level:N.level||"",duration:N.duration||"",required_skills:(N.required_skills||[]).join(", "),topics:(N.topics||[]).join(", "),registration_link:N.registration_link||""}),y(N.image||null))}catch(N){console.error("Error fetching course:",N),le.error(N.message||"Failed to load course"),t("/academy/dashboard")}};p.useEffect(()=>{x()},[r]),p.useEffect(()=>{e&&n&&w(e)},[e,n]);const b=j=>{if(j&&j[0]){const N=j[0],C=10*1024*1024;if(N.size>C){le.error("Image size must be less than 10MB"),m.current&&(m.current.value="");return}if(!N.type.startsWith("image/")){le.error("Please select a valid image file"),m.current&&(m.current.value="");return}h(N),y(URL.createObjectURL(N))}else h(null),y(null),m.current&&(m.current.value="")},_=async()=>{v&&e?await E():await S()},S=async()=>{var j,N,C,P;if(!n||!n.id){le.error("Academy profile ID is missing");return}c(!0);try{const R=u.required_skills.split(",").map(T=>T.trim()).filter(T=>T),F=u.topics.split(",").map(T=>T.trim()).filter(T=>T);let z="/lovable-uploads/no_photo.png";if(f)try{const T=f.name.split(".").pop(),M=`${n.id}/${Date.now()}.${T}`,{data:Z,error:L}=await Vt.storage.from("course-images").upload(M,f,{cacheControl:"3600",upsert:!1});if(L)throw console.error(" Image upload error:",L),(j=L.message)!=null&&j.includes("Bucket not found")||(N=L.message)!=null&&N.includes("does not exist")?(le.error("Storage bucket 'course-images' not found. Please contact support to set it up."),new Error("Storage bucket not configured")):(C=L.message)!=null&&C.includes("permission")||(P=L.message)!=null&&P.includes("policy")||L.statusCode===403?(le.error("Permission denied. Please check storage bucket policies."),new Error("Storage permission denied")):(le.error(`Failed to upload image: ${L.message||"Unknown error"}`),L);const{data:G}=Vt.storage.from("course-images").getPublicUrl(M);z=G.publicUrl}catch(T){throw console.error(" Image upload failed:",T),T}const D=n.academy_name||"",{data:I,error:B}=await Vt.from("courses").insert({title:u.title,description:u.description,category:u.category,level:u.level,duration:u.duration,provider:D,required_skills:R,topics:F,image:z,registration_link:u.registration_link,enrolled:!1,popular:!1,academy_id:n.id,is_academy_course:!0}).select().single();if(B)throw B;le.success("Course added successfully"),t("/academy/dashboard")}catch(R){console.error("Error adding course:",R),le.error(R.message||"Failed to add course")}finally{c(!1)}},E=async()=>{var j,N,C,P;if(!(!e||!n||!n.id)){c(!0);try{const R=u.required_skills.split(",").map(B=>B.trim()).filter(B=>B),F=u.topics.split(",").map(B=>B.trim()).filter(B=>B);let z=g||"/lovable-uploads/no_photo.png";if(f)try{const B=f.name.split(".").pop(),T=`${n.id}/${Date.now()}.${B}`,{data:M,error:Z}=await Vt.storage.from("course-images").upload(T,f,{cacheControl:"3600",upsert:!1});if(Z)throw console.error(" Image upload error:",Z),(j=Z.message)!=null&&j.includes("Bucket not found")||(N=Z.message)!=null&&N.includes("does not exist")?(le.error("Storage bucket 'course-images' not found. Please contact support to set it up."),new Error("Storage bucket not configured")):(C=Z.message)!=null&&C.includes("permission")||(P=Z.message)!=null&&P.includes("policy")||Z.statusCode===403?(le.error("Permission denied. Please check storage bucket policies."),new Error("Storage permission denied")):(le.error(`Failed to upload image: ${Z.message||"Unknown error"}`),Z);const{data:L}=Vt.storage.from("course-images").getPublicUrl(T);z=L.publicUrl}catch(B){throw console.error(" Image upload failed:",B),B}const D=n.academy_name||"",{error:I}=await Vt.from("courses").update({title:u.title,description:u.description,category:u.category,level:u.level,duration:u.duration,required_skills:R,topics:F,image:z,provider:D,registration_link:u.registration_link}).eq("id",e);if(I)throw I;le.success("Course updated successfully"),t("/academy/dashboard")}catch(R){console.error("Error updating course:",R),le.error(R.message||"Failed to update course")}finally{c(!1)}}},k=async()=>{if(e)try{const{error:j}=await Vt.from("courses").delete().eq("id",e);if(j)throw j;le.success("Course deleted successfully"),t("/academy/dashboard")}catch(j){console.error("Error deleting course:",j),le.error(j.message||"Failed to delete course")}};return a?o.jsx(Ot,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-lg",children:"Loading..."})})}):n?o.jsx(Ot,{children:o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"Cover Image"}),o.jsx("div",{className:"mt-1 w-full",children:g?o.jsxs("div",{className:"relative w-full",children:[o.jsx("img",{src:g,alt:"Preview",className:"w-full h-auto max-h-96 object-contain rounded-md"}),o.jsx("button",{onClick:()=>b(null),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:o.jsx(yn,{className:"h-4 w-4"})})]}):o.jsx("div",{className:"flex justify-center px-6 pt-5 pb-6 rounded-md bg-muted/50",children:o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx(tde,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsxs("div",{className:"flex text-sm text-gray-600",children:[o.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-breneo-blue hover:text-breneo-blue/80 focus-within:outline-none",children:[o.jsx("span",{children:"Upload a file"}),o.jsx("input",{ref:m,id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:j=>b(j.target.files),accept:"image/*"})]}),o.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"title",children:"Title"}),o.jsx(pt,{id:"title",value:u.title,onChange:j=>d({...u,title:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"description",children:"Description"}),o.jsx(ch,{id:"description",value:u.description,onChange:j=>d({...u,description:j.target.value}),className:"mt-1",rows:4})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"category",children:"Category"}),o.jsxs(si,{value:u.category,onValueChange:j=>d({...u,category:j}),children:[o.jsx(Ca,{className:"mt-1",children:o.jsx(ai,{placeholder:"Select category"})}),o.jsxs(Pa,{children:[o.jsx(hr,{value:"programming",children:"Programming"}),o.jsx(hr,{value:"design",children:"Design"}),o.jsx(hr,{value:"marketing",children:"Marketing"}),o.jsx(hr,{value:"business",children:"Business"}),o.jsx(hr,{value:"data-science",children:"Data Science"}),o.jsx(hr,{value:"cybersecurity",children:"Cybersecurity"})]})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"level",children:"Level"}),o.jsxs(si,{value:u.level,onValueChange:j=>d({...u,level:j}),children:[o.jsx(Ca,{className:"mt-1",children:o.jsx(ai,{placeholder:"Select level"})}),o.jsxs(Pa,{children:[o.jsx(hr,{value:"beginner",children:"Beginner"}),o.jsx(hr,{value:"intermediate",children:"Intermediate"}),o.jsx(hr,{value:"advanced",children:"Advanced"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"skills",children:"Required Skills"}),o.jsx(pt,{id:"skills",placeholder:"Comma separated skills",value:u.required_skills,onChange:j=>d({...u,required_skills:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"topics",children:"Topics"}),o.jsx(pt,{id:"topics",placeholder:"Comma separated topics",value:u.topics,onChange:j=>d({...u,topics:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"duration",children:"Duration"}),o.jsx(pt,{id:"duration",placeholder:"e.g., 8 weeks",value:u.duration,onChange:j=>d({...u,duration:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"registration_link",children:"Registration Link"}),o.jsx(pt,{id:"registration_link",type:"url",placeholder:"https://example.com/register",value:u.registration_link,onChange:j=>d({...u,registration_link:j.target.value}),className:"mt-1"})]})]}),o.jsxs("div",{className:"flex justify-between items-center mt-6 pt-6",children:[v?o.jsxs(nHe,{children:[o.jsx(sHe,{asChild:!0,children:o.jsxs(ne,{variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(fu,{className:"w-4 h-4 mr-2"}),"Delete Course"]})}),o.jsxs(BQ,{children:[o.jsxs(UQ,{children:[o.jsx(qQ,{children:"Are you sure?"}),o.jsx(WQ,{children:"This action cannot be undone. This will permanently delete the course."})]}),o.jsxs(zQ,{children:[o.jsx(HQ,{children:"Cancel"}),o.jsx(VQ,{onClick:k,children:"Continue"})]})]})]}):o.jsx("div",{}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(ne,{variant:"outline",onClick:()=>t("/academy/dashboard"),children:"Cancel"}),o.jsx(ne,{onClick:_,disabled:l||!u.title||!u.description,className:"bg-breneo-blue hover:bg-breneo-blue/90",children:l?"Saving...":v?"Save Changes":"Add Course"})]})]})]})})}):o.jsx(Ot,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})})},iHe=()=>{const[e,t]=p.useState(!1),r=()=>{t(n=>!n)};return o.jsxs("div",{className:"h-screen bg-breneo-lightgray overflow-hidden",children:[o.jsx(fA,{collapsed:e,toggleSidebar:r}),o.jsx("main",{className:`h-full overflow-y-auto transition-all duration-300 ${e?"md:ml-24":"md:ml-[17rem]"} pt-24 pb-32 md:pt-24 md:pb-0 px-3 md:px-6`,children:o.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[o.jsx("h1",{className:"text-2xl font-bold mb-8 text-left",children:" "}),o.jsxs("div",{className:"prose prose-lg max-w-none space-y-6 text-gray-700 leading-relaxed",children:[o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"1.  "}),o.jsx("p",{children:"Breneo    ,         .  :"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"     ,"}),o.jsx("li",{children:"  ,"}),o.jsx("li",{children:"    ,"}),o.jsx("li",{children:"   ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"2.    "}),o.jsx("p",{children:"         ."}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"              ."}),o.jsx("li",{children:"Breneo-        ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"3.   "}),o.jsx("p",{children:"Breneo         . AI-              ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"4.   "}),o.jsx("p",{children:"   Breneo     . :"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"      ,"}),o.jsx("li",{children:"     ,"}),o.jsx("li",{children:"        ,"}),o.jsx("li",{children:"  ,    Breneo-  ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"5.  "}),o.jsx("p",{children:"Breneo-       , , ,  ,      Breneo-    .     Breneo-  ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"6.    "}),o.jsx("p",{children:"Breneo         GDPR-  .         ,   ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"7.   "}),o.jsx("p",{children:"             .         ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"8.  "}),o.jsx("p",{children:'Breneo    " ("as is") .'}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"     ,        ."}),o.jsx("li",{children:"Breneo   ,         ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"9.   "}),o.jsx("p",{children:"     .          . ,     ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"10.    "}),o.jsx("p",{children:"Breneo     ,           ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"11.  "}),o.jsx("p",{children:"    .      Breneo-  ,        ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"12.  "}),o.jsx("p",{children:"  ,   ,  :"}),o.jsxs("div",{className:"space-y-2 text-lg",children:[o.jsx("p",{children:" support@breneo.app"}),o.jsx("p",{children:" www.breneo.app"})]})]})]}),o.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200 text-center text-gray-500",children:o.jsxs("p",{children:[" : ",new Date().toLocaleDateString("ka-GE")]})})]})})]})};var $O="Collapsible",[oHe,KQ]=fa($O),[lHe,RO]=oHe($O),GQ=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:i,...l}=e,[c=!1,u]=pi({prop:n,defaultProp:s,onChange:i});return o.jsx(lHe,{scope:r,disabled:a,contentId:li(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:o.jsx(nt.div,{"data-state":IO(c),"data-disabled":a?"":void 0,...l,ref:t})})});GQ.displayName=$O;var JQ="CollapsibleTrigger",YQ=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=RO(JQ,r);return o.jsx(nt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":IO(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Le(e.onClick,s.onOpenToggle)})});YQ.displayName=JQ;var MO="CollapsibleContent",XQ=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=RO(MO,e.__scopeCollapsible);return o.jsx(Ns,{present:r||s.open,children:({present:a})=>o.jsx(cHe,{...n,ref:t,present:a})})});XQ.displayName=MO;var cHe=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,i=RO(MO,r),[l,c]=p.useState(n),u=p.useRef(null),d=wt(t,u),f=p.useRef(0),h=f.current,g=p.useRef(0),y=g.current,m=i.open||l,v=p.useRef(m),x=p.useRef();return p.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),tn(()=>{const w=u.current;if(w){x.current=x.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const b=w.getBoundingClientRect();f.current=b.height,g.current=b.width,v.current||(w.style.transitionDuration=x.current.transitionDuration,w.style.animationName=x.current.animationName),c(n)}},[i.open,n]),o.jsx(nt.div,{"data-state":IO(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!m,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:m&&s})});function IO(e){return e?"open":"closed"}var uHe=GQ,dHe=YQ,fHe=XQ,Yo="Accordion",hHe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[LO,pHe,mHe]=qy(Yo),[d_,fKe]=fa(Yo,[mHe,KQ]),DO=KQ(),QQ=O.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,a=n;return o.jsx(LO.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?o.jsx(xHe,{...a,ref:t}):o.jsx(vHe,{...s,ref:t})})});QQ.displayName=Yo;var[ZQ,gHe]=d_(Yo),[eZ,yHe]=d_(Yo,{collapsible:!1}),vHe=O.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...i}=e,[l,c]=pi({prop:r,defaultProp:n,onChange:s});return o.jsx(ZQ,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:O.useCallback(()=>a&&c(""),[a,c]),children:o.jsx(eZ,{scope:e.__scopeAccordion,collapsible:a,children:o.jsx(tZ,{...i,ref:t})})})}),xHe=O.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[i=[],l]=pi({prop:r,defaultProp:n,onChange:s}),c=O.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=O.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return o.jsx(ZQ,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:o.jsx(eZ,{scope:e.__scopeAccordion,collapsible:!0,children:o.jsx(tZ,{...a,ref:t})})})}),[bHe,f_]=d_(Yo),tZ=O.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:a="vertical",...i}=e,l=O.useRef(null),c=wt(l,t),u=pHe(r),f=Ch(s)==="ltr",h=Le(e.onKeyDown,g=>{var j;if(!hHe.includes(g.key))return;const y=g.target,m=u().filter(N=>{var C;return!((C=N.ref.current)!=null&&C.disabled)}),v=m.findIndex(N=>N.ref.current===y),x=m.length;if(v===-1)return;g.preventDefault();let w=v;const b=0,_=x-1,S=()=>{w=v+1,w>_&&(w=b)},E=()=>{w=v-1,w<b&&(w=_)};switch(g.key){case"Home":w=b;break;case"End":w=_;break;case"ArrowRight":a==="horizontal"&&(f?S():E());break;case"ArrowDown":a==="vertical"&&S();break;case"ArrowLeft":a==="horizontal"&&(f?E():S());break;case"ArrowUp":a==="vertical"&&E();break}const k=w%x;(j=m[k].ref.current)==null||j.focus()});return o.jsx(bHe,{scope:r,disabled:n,direction:s,orientation:a,children:o.jsx(LO.Slot,{scope:r,children:o.jsx(nt.div,{...i,"data-orientation":a,ref:c,onKeyDown:n?void 0:h})})})}),Yb="AccordionItem",[wHe,FO]=d_(Yb),rZ=O.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,a=f_(Yb,r),i=gHe(Yb,r),l=DO(r),c=li(),u=n&&i.value.includes(n)||!1,d=a.disabled||e.disabled;return o.jsx(wHe,{scope:r,open:u,disabled:d,triggerId:c,children:o.jsx(uHe,{"data-orientation":a.orientation,"data-state":lZ(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});rZ.displayName=Yb;var nZ="AccordionHeader",sZ=O.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=f_(Yo,r),a=FO(nZ,r);return o.jsx(nt.h3,{"data-orientation":s.orientation,"data-state":lZ(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});sZ.displayName=nZ;var h2="AccordionTrigger",aZ=O.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=f_(Yo,r),a=FO(h2,r),i=yHe(h2,r),l=DO(r);return o.jsx(LO.ItemSlot,{scope:r,children:o.jsx(dHe,{"aria-disabled":a.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...n,ref:t})})});aZ.displayName=h2;var iZ="AccordionContent",oZ=O.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=f_(Yo,r),a=FO(iZ,r),i=DO(r);return o.jsx(fHe,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});oZ.displayName=iZ;function lZ(e){return e?"open":"closed"}var _He=QQ,SHe=rZ,jHe=sZ,cZ=aZ,uZ=oZ;const kHe=_He,dZ=p.forwardRef(({className:e,...t},r)=>o.jsx(SHe,{ref:r,className:ue("border-b",e),...t}));dZ.displayName="AccordionItem";const fZ=p.forwardRef(({className:e,children:t,...r},n)=>o.jsx(jHe,{className:"flex",children:o.jsxs(cZ,{ref:n,className:ue("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,o.jsx(If,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));fZ.displayName=cZ.displayName;const hZ=p.forwardRef(({className:e,children:t,...r},n)=>o.jsx(uZ,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:o.jsx("div",{className:ue("pb-4 pt-0",e),children:t})}));hZ.displayName=uZ.displayName;const EHe=()=>{const[e,t]=p.useState(!1),[r,n]=p.useState(""),s=()=>{t(l=>!l)},i=[{title:"Getting Started",icon:Rl,questions:[{q:"  Breneo- ?",a:'  ,    .  ""     .  ,   ,      .'},{q:"  ?",a:' ,     -  ,   "Profile".      ,      .'},{q:"   ?",a:"  -    ,        .   ,       ."}]},{title:"Account & Profile",icon:L9,questions:[{q:"  ?",a:'   Settings  ( Settings   ).   "Change Email" .     .'},{q:"  ?",a:'  ,    "Forgot Password" .        .'},{q:"  ?",a:'   Settings    "Account Settings" .   "Delete Account" . , ,    .'}]},{title:"Jobs & Career",icon:ln,questions:[{q:"  ?",a:'   "Jobs" .      , ,     .      ,     .'},{q:"   ?",a:' ,     .      "Apply Now" .      .'},{q:"   ?",a:' ,      "Save" .       "Saved Jobs" .'}]},{title:"Settings & Customization",icon:Mw,questions:[{q:"   ?",a:"    Settings .    ,  (/),    ."},{q:"  ?",a:'   Settings    "Notifications" .      .'},{q:"   ?",a:"  ,         .      ."}]}].map(l=>({...l,questions:l.questions.filter(c=>c.q.toLowerCase().includes(r.toLowerCase())||c.a.toLowerCase().includes(r.toLowerCase()))}));return o.jsxs("div",{className:"h-screen bg-breneo-lightgray overflow-hidden",children:[o.jsx(fA,{collapsed:e,toggleSidebar:s}),o.jsx("main",{className:`h-full overflow-y-auto transition-all duration-300 ${e?"md:ml-24":"md:ml-[17rem]"} pt-24 pb-32 md:pt-24 md:pb-0 px-3 md:px-6`,children:o.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Help Center"}),o.jsx("p",{className:"text-gray-600",children:"     "})]}),o.jsxs("div",{className:"relative mb-8",children:[o.jsx(Lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),o.jsx(pt,{type:"text",placeholder:"  ...",value:r,onChange:l=>n(l.target.value),className:"pl-10 pr-4 py-6 text-lg"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[o.jsx(ke,{className:"hover:shadow-soft transition-shadow cursor-pointer",children:o.jsxs(vt,{className:"pb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:o.jsx($u,{className:"text-breneo-blue",size:24})}),o.jsx(Pt,{className:"text-base",children:"Email Support"}),o.jsx(Xr,{children:"support@breneo.app"})]})}),o.jsx(ke,{className:"hover:shadow-soft transition-shadow cursor-pointer",children:o.jsxs(vt,{className:"pb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:o.jsx(ug,{className:"text-breneo-blue",size:24})}),o.jsx(Pt,{className:"text-base",children:"Phone Support"}),o.jsx(Xr,{children:"Available 24/7"})]})}),o.jsx(ke,{className:"hover:shadow-soft transition-shadow cursor-pointer",children:o.jsxs(vt,{className:"pb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:o.jsx(ade,{className:"text-breneo-blue",size:24})}),o.jsx(Pt,{className:"text-base",children:"Live Chat"}),o.jsx(Xr,{children:"Get instant help"})]})})]}),o.jsx("div",{className:"space-y-6",children:i.map((l,c)=>l.questions.length>0&&o.jsxs(ke,{className:"bg-white",children:[o.jsx(vt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-breneo-blue/10 rounded-3xl flex items-center justify-center",children:o.jsx(l.icon,{className:"text-breneo-blue",size:20})}),o.jsx(Pt,{children:l.title})]})}),o.jsx(Ce,{children:o.jsx(kHe,{type:"multiple",className:"w-full",children:l.questions.map((u,d)=>o.jsxs(dZ,{value:`${c}-${d}`,className:"border-gray-200",children:[o.jsx(fZ,{className:"text-left font-semibold hover:no-underline",children:u.q}),o.jsx(hZ,{className:"text-gray-600 leading-relaxed",children:u.a})]},d))})})]},c))}),o.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:o.jsx(ke,{className:"bg-gradient-to-r from-breneo-blue/5 to-breneo-blue/10",children:o.jsxs(Ce,{className:"py-8 text-center",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"   ?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"     "}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("a",{href:"mailto:support@breneo.app",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-breneo-blue text-white rounded-3xl hover:bg-breneo-blue/90 transition-colors",children:[o.jsx($u,{size:18}),"Email Support"]}),o.jsxs("a",{href:"tel:+995500992990",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white border border-breneo-blue text-breneo-blue rounded-3xl hover:bg-breneo-blue/5 transition-colors",children:[o.jsx(ug,{size:18}),"Call Us"]})]})]})})})]})})]})};function NHe(){const e=[{name:"Free",price:"$0",period:"forever",features:["Access to basic courses","Limited skill tests","Basic profile features","Community support"],popular:!1},{name:"Pro",price:"$9.99",period:"per month",features:["All free features","Unlimited courses","Unlimited skill tests","Advanced profile features","Priority support","Certificates"],popular:!0},{name:"Enterprise",price:"Custom",period:"contact us",features:["All Pro features","Custom integrations","Dedicated support","Team management","Analytics dashboard","Custom branding"],popular:!1}];return o.jsx(Ot,{children:o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Choose Your Plan"}),o.jsx("p",{className:"text-muted-foreground text-lg",children:"Select the plan that best fits your learning journey"})]}),o.jsx("div",{className:"grid gap-6 md:grid-cols-3 mt-12",children:e.map(t=>o.jsxs(ke,{className:`relative ${t.popular?"border-primary shadow-lg scale-105":"border-border"}`,children:[t.popular&&o.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:o.jsx("span",{className:"bg-primary text-primary-foreground px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"})}),o.jsxs(vt,{children:[o.jsx(Pt,{className:"text-2xl",children:t.name}),o.jsxs("div",{className:"mt-4",children:[o.jsx("span",{className:"text-4xl font-bold",children:t.price}),t.period!=="forever"&&t.period!=="contact us"&&o.jsxs("span",{className:"text-muted-foreground",children:["/",t.period]}),t.period==="contact us"&&o.jsx("span",{className:"text-muted-foreground block text-sm mt-1",children:t.period})]}),o.jsxs(Xr,{className:"mt-4",children:[t.name==="Free"&&"Perfect for getting started",t.name==="Pro"&&"Best for serious learners",t.name==="Enterprise"&&"For teams and organizations"]})]}),o.jsxs(Ce,{children:[o.jsx("ul",{className:"space-y-3 mb-6",children:t.features.map((r,n)=>o.jsxs("li",{className:"flex items-start",children:[o.jsx($w,{className:"h-5 w-5 text-primary mr-2 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:r})]},n))}),o.jsx(ne,{className:"w-full",variant:t.popular?"default":"outline",children:t.name==="Enterprise"?"Contact Sales":"Get Started"})]})]},t.name))})]})})}const CHe=()=>{const e=Hs(),{user:t,loading:r}=_r(),n=Zi(),[s,a]=p.useState(!1),[i,l]=p.useState(!1),[c,u]=p.useState(!1),d=p.useCallback(f=>new Promise((h,g)=>{const y=new Image;y.onload=()=>h(),y.onerror=()=>g(new Error(`Failed to load image: ${f}`)),y.src=f}),[]);return p.useEffect(()=>{(async()=>{try{await Promise.all([d("/lovable-uploads/Breneo-logo.png"),d("/lovable-uploads/Breneo-logo-dark.png"),d("/lovable-uploads/full-shot-student-library.jpg")])}catch(h){console.warn("Some images failed to preload:",h),u(!0)}})()},[d]),p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 relative",children:[!i&&!c&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse z-0"}),o.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:i?"url('/lovable-uploads/full-shot-student-library.jpg')":"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:i?1:0,transition:"opacity 0.5s ease-in-out"}}),o.jsx("img",{src:"/lovable-uploads/full-shot-student-library.jpg",alt:"",className:"hidden",onLoad:()=>l(!0),onError:()=>{u(!0),l(!0)}}),c&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] z-0"}),o.jsx("div",{className:"z-10 relative",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg p-8 text-center max-w-md mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[!s&&!c&&o.jsx("div",{className:"h-10 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center mx-auto",children:o.jsx(cn,{className:"h-6 w-6 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-12 md:h-10 mx-auto block transition-opacity duration-300 ${s?"opacity-100":"opacity-0"}`,onLoad:()=>a(!0),onError:()=>{u(!0),a(!0)}}),c&&o.jsx("div",{className:"h-10 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center mx-auto",children:o.jsx("span",{className:"text-sm text-muted-foreground font-semibold",children:"Breneo"})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"}),o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n.errors.pageNotFound}),o.jsx("p",{className:"text-muted-foreground mb-6",children:n.errors.pageNotFoundDescription})]}),o.jsxs("div",{className:"space-y-4",children:[!r&&t?o.jsxs(Rr,{to:t.user_type==="academy"||localStorage.getItem("userRole")==="academy"?"/academy/dashboard":"/dashboard",className:"inline-block bg-primary text-primary-foreground px-6 py-3 rounded-3xl font-medium hover:bg-primary/90 transition-colors",children:[n.common.view," ",n.nav.home]}):o.jsx(Rr,{to:"/auth/login",className:"inline-block bg-primary text-primary-foreground px-6 py-3 rounded-3xl font-medium hover:bg-primary/90 transition-colors",children:n.auth.login}),!r&&!t&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Rr,{to:"/auth/login",className:"hover:text-primary transition-colors",children:n.auth.login}),o.jsx("span",{className:"mx-2",children:""}),o.jsx(Rr,{to:"/auth/signup",className:"hover:text-primary transition-colors",children:n.auth.signup})]})]})]})})]})},PHe=()=>{const e=Zi();return o.jsx(Ot,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-12rem)]",children:o.jsxs("div",{className:"text-center px-4",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-calender-front-color.png",alt:"Notebook",className:"h-40 w-40 mx-auto mb-6"}),o.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:e.webinars.comingsoon}),o.jsx("p",{className:"text-m text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:e.webinars.comingsoondescription})]})})})},vr=(e,t)=>e.startsWith("/auth")||e==="/"?o.jsx($s,{path:e,element:t},e):o.jsxs(O.Fragment,{children:[o.jsx($s,{path:`/en${e}`,element:t}),o.jsx($s,{path:`/ka${e}`,element:t}),o.jsx($s,{path:e,element:t})]},e),AHe=()=>o.jsxs(Ule,{children:[o.jsx($s,{path:"/",element:o.jsx(aI,{})}),o.jsx($s,{path:"/auth/login",element:o.jsx(aI,{})}),o.jsx($s,{path:"/auth/signup",element:o.jsx(spe,{})}),o.jsx($s,{path:"/auth/reset-password",element:o.jsx(ape,{})}),o.jsx($s,{path:"/email-verification",element:o.jsx(ipe,{})}),o.jsx($s,{path:"/email-confirmed",element:o.jsx(lpe,{})}),o.jsx($s,{path:"/auth",element:o.jsx(C0,{to:"/auth/login",replace:!0})}),vr("/home",o.jsx(yr,{requiredRole:"user",children:o.jsx(XI,{})})),vr("/dashboard",o.jsx(yr,{requiredRole:"user",children:o.jsx(XI,{})})),vr("/profile",o.jsx(yr,{requiredRole:"user",children:o.jsx(v7e,{})})),vr("/saved",o.jsx(yr,{requiredRole:"user",children:o.jsx(x7e,{})})),vr("/settings",o.jsx(yr,{requiredRole:"user",children:o.jsx(A7e,{})})),vr("/notifications",o.jsx(yr,{requiredRole:"user",children:o.jsx(RWe,{})})),vr("/interests",o.jsx(yr,{requiredRole:"user",children:o.jsx(kWe,{})})),vr("/skill-test",o.jsx(yr,{requiredRole:"user",children:o.jsx(pWe,{})})),vr("/skill-path/:skillName",o.jsx(yr,{requiredRole:"user",children:o.jsx(SWe,{})})),vr("/skill-path",o.jsx(yr,{requiredRole:"user",children:o.jsx(vWe,{})})),vr("/jobs",o.jsx(yr,{requiredRole:"user",children:o.jsx(O9e,{})})),vr("/jobs/search",o.jsx(yr,{requiredRole:"user",children:o.jsx(R9e,{})})),vr("/jobs/:jobId",o.jsx(yr,{requiredRole:"user",children:o.jsx(Dqe,{})})),vr("/jobs/company/:companyName",o.jsx(yr,{requiredRole:"user",children:o.jsx(Hqe,{})})),vr("/courses",o.jsx(yr,{requiredRole:"user",children:o.jsx(eWe,{})})),vr("/course/:courseId",o.jsx(yr,{requiredRole:"user",children:o.jsx(tWe,{})})),vr("/webinars",o.jsx(yr,{requiredRole:"user",children:o.jsx(PHe,{})})),o.jsx($s,{path:"/academy/register",element:o.jsx(eVe,{})}),vr("/academy/home",o.jsx(yr,{requiredRole:"academy",children:o.jsx(YF,{})})),vr("/academy/dashboard",o.jsx(yr,{requiredRole:"academy",children:o.jsx(YF,{})})),vr("/academy/courses",o.jsx(yr,{requiredRole:"academy",children:o.jsx(LWe,{})})),vr("/academy/profile",o.jsx(yr,{requiredRole:"academy",children:o.jsx(WWe,{})})),vr("/academy/settings",o.jsx(yr,{requiredRole:"academy",children:o.jsx(VWe,{})})),vr("/academy/courses/add",o.jsx(yr,{requiredRole:"academy",children:o.jsx(i6,{})})),vr("/academy/courses/edit/:courseId",o.jsx(yr,{requiredRole:"academy",children:o.jsx(i6,{})})),vr("/academy/:academySlug",o.jsx(yr,{children:o.jsx(ZWe,{})})),vr("/terms-of-use",o.jsx(yr,{children:o.jsx(iHe,{})})),vr("/help",o.jsx(yr,{children:o.jsx(EHe,{})})),vr("/subscription",o.jsx(yr,{children:o.jsx(NHe,{})})),o.jsx($s,{path:"*",element:o.jsx(CHe,{})})]}),THe=new Ioe,OHe=()=>o.jsx(Uoe,{client:THe,children:o.jsxs(boe,{children:[o.jsx(Ise,{position:"top-right",richColors:!0,closeButton:!0}),o.jsx(Jle,{children:o.jsx(Lue,{children:o.jsx(Iue,{children:o.jsx(Oue,{children:o.jsx(AHe,{})})})})})]})});Fj.createRoot(document.getElementById("root")).render(o.jsx(O.StrictMode,{children:o.jsx(lse,{apiKey:"phc_heJ8MRT32luP8nFytb5ZIhQrsWepHqsCZBUjUegWais",options:{api_host:"https://eu.i.posthog.com",defaults:"2025-05-24",capture_exceptions:!0,debug:!1},children:o.jsx(qte,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:o.jsx("div",{suppressHydrationWarning:!0,children:o.jsx(OHe,{})})})})}));
