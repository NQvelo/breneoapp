var _N=e=>{throw TypeError(e)};var fx=(e,t,r)=>t.has(e)||_N("Cannot "+r);var Q=(e,t,r)=>(fx(e,t,"read from private field"),r?r.call(e):t.get(e)),ft=(e,t,r)=>t.has(e)?_N("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ve=(e,t,r,n)=>(fx(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),St=(e,t,r)=>(fx(e,t,"access private method"),r);var Fm=(e,t,r,n)=>({set _(a){Ve(e,t,a,r)},get _(){return Q(e,t,n)}});function F9(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function B9(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var zR={exports:{}},iv={},qR={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om=Symbol.for("react.element"),U9=Symbol.for("react.portal"),z9=Symbol.for("react.fragment"),q9=Symbol.for("react.strict_mode"),W9=Symbol.for("react.profiler"),H9=Symbol.for("react.provider"),V9=Symbol.for("react.context"),K9=Symbol.for("react.forward_ref"),G9=Symbol.for("react.suspense"),J9=Symbol.for("react.memo"),Y9=Symbol.for("react.lazy"),kN=Symbol.iterator;function X9(e){return e===null||typeof e!="object"?null:(e=kN&&e[kN]||e["@@iterator"],typeof e=="function"?e:null)}var WR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HR=Object.assign,VR={};function ad(e,t,r){this.props=e,this.context=t,this.refs=VR,this.updater=r||WR}ad.prototype.isReactComponent={};ad.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ad.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function KR(){}KR.prototype=ad.prototype;function Uj(e,t,r){this.props=e,this.context=t,this.refs=VR,this.updater=r||WR}var zj=Uj.prototype=new KR;zj.constructor=Uj;HR(zj,ad.prototype);zj.isPureReactComponent=!0;var NN=Array.isArray,GR=Object.prototype.hasOwnProperty,qj={current:null},JR={key:!0,ref:!0,__self:!0,__source:!0};function YR(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)GR.call(t,n)&&!JR.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:om,type:e,key:o,ref:i,props:a,_owner:qj.current}}function Q9(e,t){return{$$typeof:om,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wj(e){return typeof e=="object"&&e!==null&&e.$$typeof===om}function Z9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var EN=/\/+/g;function hx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Z9(""+e.key):t.toString(36)}function Kp(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case om:case U9:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+hx(i,0):n,NN(a)?(r="",e!=null&&(r=e.replace(EN,"$&/")+"/"),Kp(a,t,r,"",function(u){return u})):a!=null&&(Wj(a)&&(a=Q9(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(EN,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",NN(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+hx(o,l);i+=Kp(o,t,r,c,a)}else if(c=X9(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+hx(o,l++),i+=Kp(o,t,r,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Bm(e,t,r){if(e==null)return e;var n=[],a=0;return Kp(e,n,"","",function(o){return t.call(r,o,a++)}),n}function ez(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rn={current:null},Gp={transition:null},tz={ReactCurrentDispatcher:Rn,ReactCurrentBatchConfig:Gp,ReactCurrentOwner:qj};function XR(){throw Error("act(...) is not supported in production builds of React.")}kt.Children={map:Bm,forEach:function(e,t,r){Bm(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bm(e,function(){t++}),t},toArray:function(e){return Bm(e,function(t){return t})||[]},only:function(e){if(!Wj(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};kt.Component=ad;kt.Fragment=z9;kt.Profiler=W9;kt.PureComponent=Uj;kt.StrictMode=q9;kt.Suspense=G9;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tz;kt.act=XR;kt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=HR({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=qj.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)GR.call(t,c)&&!JR.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:om,type:e.type,key:a,ref:o,props:n,_owner:i}};kt.createContext=function(e){return e={$$typeof:V9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:H9,_context:e},e.Consumer=e};kt.createElement=YR;kt.createFactory=function(e){var t=YR.bind(null,e);return t.type=e,t};kt.createRef=function(){return{current:null}};kt.forwardRef=function(e){return{$$typeof:K9,render:e}};kt.isValidElement=Wj;kt.lazy=function(e){return{$$typeof:Y9,_payload:{_status:-1,_result:e},_init:ez}};kt.memo=function(e,t){return{$$typeof:J9,type:e,compare:t===void 0?null:t}};kt.startTransition=function(e){var t=Gp.transition;Gp.transition={};try{e()}finally{Gp.transition=t}};kt.unstable_act=XR;kt.useCallback=function(e,t){return Rn.current.useCallback(e,t)};kt.useContext=function(e){return Rn.current.useContext(e)};kt.useDebugValue=function(){};kt.useDeferredValue=function(e){return Rn.current.useDeferredValue(e)};kt.useEffect=function(e,t){return Rn.current.useEffect(e,t)};kt.useId=function(){return Rn.current.useId()};kt.useImperativeHandle=function(e,t,r){return Rn.current.useImperativeHandle(e,t,r)};kt.useInsertionEffect=function(e,t){return Rn.current.useInsertionEffect(e,t)};kt.useLayoutEffect=function(e,t){return Rn.current.useLayoutEffect(e,t)};kt.useMemo=function(e,t){return Rn.current.useMemo(e,t)};kt.useReducer=function(e,t,r){return Rn.current.useReducer(e,t,r)};kt.useRef=function(e){return Rn.current.useRef(e)};kt.useState=function(e){return Rn.current.useState(e)};kt.useSyncExternalStore=function(e,t,r){return Rn.current.useSyncExternalStore(e,t,r)};kt.useTransition=function(){return Rn.current.useTransition()};kt.version="18.3.1";qR.exports=kt;var m=qR.exports;const I=Gt(m),lv=F9({__proto__:null,default:I},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rz=m,nz=Symbol.for("react.element"),az=Symbol.for("react.fragment"),oz=Object.prototype.hasOwnProperty,sz=rz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iz={key:!0,ref:!0,__self:!0,__source:!0};function QR(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)oz.call(t,n)&&!iz.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:nz,type:e,key:o,ref:i,props:a,_owner:sz.current}}iv.Fragment=az;iv.jsx=QR;iv.jsxs=QR;zR.exports=iv;var s=zR.exports,nw={},ZR={exports:{}},ua={},e$={exports:{}},t$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,M){var W=P.length;P.push(M);e:for(;0<W;){var R=W-1>>>1,q=P[R];if(0<a(q,M))P[R]=M,P[W]=q,W=R;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var M=P[0],W=P.pop();if(W!==M){P[0]=W;e:for(var R=0,q=P.length,ee=q>>>1;R<ee;){var ne=2*(R+1)-1,ce=P[ne],ue=ne+1,ie=P[ue];if(0>a(ce,W))ue<q&&0>a(ie,ce)?(P[R]=ie,P[ue]=W,R=ue):(P[R]=ce,P[ne]=W,R=ne);else if(ue<q&&0>a(ie,W))P[R]=ie,P[ue]=W,R=ue;else break e}}return M}function a(P,M){var W=P.sortIndex-M.sortIndex;return W!==0?W:P.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],f=1,d=null,h=3,y=!1,v=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=P)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function S(P){if(p=!1,w(P),!v)if(r(c)!==null)v=!0,$(j);else{var M=r(u);M!==null&&U(S,M.startTime-P)}}function j(P,M){v=!1,p&&(p=!1,x(N),N=-1),y=!0;var W=h;try{for(w(M),d=r(c);d!==null&&(!(d.expirationTime>M)||P&&!T());){var R=d.callback;if(typeof R=="function"){d.callback=null,h=d.priorityLevel;var q=R(d.expirationTime<=M);M=e.unstable_now(),typeof q=="function"?d.callback=q:d===r(c)&&n(c),w(M)}else n(c);d=r(c)}if(d!==null)var ee=!0;else{var ne=r(u);ne!==null&&U(S,ne.startTime-M),ee=!1}return ee}finally{d=null,h=W,y=!1}}var k=!1,_=null,N=-1,E=5,A=-1;function T(){return!(e.unstable_now()-A<E)}function D(){if(_!==null){var P=e.unstable_now();A=P;var M=!0;try{M=_(!0,P)}finally{M?B():(k=!1,_=null)}}else k=!1}var B;if(typeof b=="function")B=function(){b(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=D,B=function(){F.postMessage(null)}}else B=function(){g(D,0)};function $(P){_=P,k||(k=!0,B())}function U(P,M){N=g(function(){P(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,$(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var W=h;h=M;try{return P()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,M){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var W=h;h=P;try{return M()}finally{h=W}},e.unstable_scheduleCallback=function(P,M,W){var R=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?R+W:R):W=R,P){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,P={id:f++,callback:M,priorityLevel:P,startTime:W,expirationTime:q,sortIndex:-1},W>R?(P.sortIndex=W,t(u,P),r(c)===null&&P===r(u)&&(p?(x(N),N=-1):p=!0,U(S,W-R))):(P.sortIndex=q,t(c,P),v||y||(v=!0,$(j))),P},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(P){var M=h;return function(){var W=h;h=M;try{return P.apply(this,arguments)}finally{h=W}}}})(t$);e$.exports=t$;var lz=e$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cz=m,la=lz;function Oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r$=new Set,qf={};function Kl(e,t){ju(e,t),ju(e+"Capture",t)}function ju(e,t){for(qf[e]=t,e=0;e<t.length;e++)r$.add(t[e])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aw=Object.prototype.hasOwnProperty,uz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,CN={},PN={};function dz(e){return aw.call(PN,e)?!0:aw.call(CN,e)?!1:uz.test(e)?PN[e]=!0:(CN[e]=!0,!1)}function fz(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hz(e,t,r,n){if(t===null||typeof t>"u"||fz(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $n(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){un[e]=new $n(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];un[t]=new $n(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){un[e]=new $n(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){un[e]=new $n(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){un[e]=new $n(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){un[e]=new $n(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){un[e]=new $n(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){un[e]=new $n(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){un[e]=new $n(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hj=/[\-:]([a-z])/g;function Vj(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hj,Vj);un[t]=new $n(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hj,Vj);un[t]=new $n(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hj,Vj);un[t]=new $n(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){un[e]=new $n(e,1,!1,e.toLowerCase(),null,!1,!1)});un.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){un[e]=new $n(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kj(e,t,r,n){var a=un.hasOwnProperty(t)?un[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hz(t,r,a,n)&&(r=null),n||a===null?dz(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ks=cz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Um=Symbol.for("react.element"),Cc=Symbol.for("react.portal"),Pc=Symbol.for("react.fragment"),Gj=Symbol.for("react.strict_mode"),ow=Symbol.for("react.profiler"),n$=Symbol.for("react.provider"),a$=Symbol.for("react.context"),Jj=Symbol.for("react.forward_ref"),sw=Symbol.for("react.suspense"),iw=Symbol.for("react.suspense_list"),Yj=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),o$=Symbol.for("react.offscreen"),AN=Symbol.iterator;function Ld(e){return e===null||typeof e!="object"?null:(e=AN&&e[AN]||e["@@iterator"],typeof e=="function"?e:null)}var yr=Object.assign,mx;function ff(e){if(mx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mx=t&&t[1]||""}return`
`+mx+e}var px=!1;function gx(e,t){if(!e||px)return"";px=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{px=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ff(e):""}function mz(e){switch(e.tag){case 5:return ff(e.type);case 16:return ff("Lazy");case 13:return ff("Suspense");case 19:return ff("SuspenseList");case 0:case 2:case 15:return e=gx(e.type,!1),e;case 11:return e=gx(e.type.render,!1),e;case 1:return e=gx(e.type,!0),e;default:return""}}function lw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pc:return"Fragment";case Cc:return"Portal";case ow:return"Profiler";case Gj:return"StrictMode";case sw:return"Suspense";case iw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case a$:return(e.displayName||"Context")+".Consumer";case n$:return(e._context.displayName||"Context")+".Provider";case Jj:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yj:return t=e.displayName||null,t!==null?t:lw(e.type)||"Memo";case qs:t=e._payload,e=e._init;try{return lw(e(t))}catch{}}return null}function pz(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lw(t);case 8:return t===Gj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ki(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function s$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gz(e){var t=s$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zm(e){e._valueTracker||(e._valueTracker=gz(e))}function i$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=s$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cw(e,t){var r=t.checked;return yr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function TN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ki(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function l$(e,t){t=t.checked,t!=null&&Kj(e,"checked",t,!1)}function uw(e,t){l$(e,t);var r=ki(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dw(e,t.type,r):t.hasOwnProperty("defaultValue")&&dw(e,t.type,ki(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ON(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dw(e,t,r){(t!=="number"||fg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var hf=Array.isArray;function Hc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ki(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function fw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return yr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function RN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Oe(92));if(hf(r)){if(1<r.length)throw Error(Oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ki(r)}}function c$(e,t){var r=ki(t.value),n=ki(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function $N(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function u$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?u$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qm,d$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qm=qm||document.createElement("div"),qm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yz=["Webkit","ms","Moz","O"];Object.keys(wf).forEach(function(e){yz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wf[t]=wf[e]})});function f$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wf.hasOwnProperty(e)&&wf[e]?(""+t).trim():t+"px"}function h$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=f$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var vz=yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mw(e,t){if(t){if(vz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Oe(62))}}function pw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gw=null;function Xj(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yw=null,Vc=null,Kc=null;function MN(e){if(e=lm(e)){if(typeof yw!="function")throw Error(Oe(280));var t=e.stateNode;t&&(t=hv(t),yw(e.stateNode,e.type,t))}}function m$(e){Vc?Kc?Kc.push(e):Kc=[e]:Vc=e}function p$(){if(Vc){var e=Vc,t=Kc;if(Kc=Vc=null,MN(e),t)for(e=0;e<t.length;e++)MN(t[e])}}function g$(e,t){return e(t)}function y$(){}var yx=!1;function v$(e,t,r){if(yx)return e(t,r);yx=!0;try{return g$(e,t,r)}finally{yx=!1,(Vc!==null||Kc!==null)&&(y$(),p$())}}function Hf(e,t){var r=e.stateNode;if(r===null)return null;var n=hv(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Oe(231,t,typeof r));return r}var vw=!1;if(gs)try{var Dd={};Object.defineProperty(Dd,"passive",{get:function(){vw=!0}}),window.addEventListener("test",Dd,Dd),window.removeEventListener("test",Dd,Dd)}catch{vw=!1}function xz(e,t,r,n,a,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Sf=!1,hg=null,mg=!1,xw=null,bz={onError:function(e){Sf=!0,hg=e}};function wz(e,t,r,n,a,o,i,l,c){Sf=!1,hg=null,xz.apply(bz,arguments)}function Sz(e,t,r,n,a,o,i,l,c){if(wz.apply(this,arguments),Sf){if(Sf){var u=hg;Sf=!1,hg=null}else throw Error(Oe(198));mg||(mg=!0,xw=u)}}function Gl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function x$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function IN(e){if(Gl(e)!==e)throw Error(Oe(188))}function jz(e){var t=e.alternate;if(!t){if(t=Gl(e),t===null)throw Error(Oe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return IN(a),e;if(o===n)return IN(a),t;o=o.sibling}throw Error(Oe(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(Oe(189))}}if(r.alternate!==n)throw Error(Oe(190))}if(r.tag!==3)throw Error(Oe(188));return r.stateNode.current===r?e:t}function b$(e){return e=jz(e),e!==null?w$(e):null}function w$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=w$(e);if(t!==null)return t;e=e.sibling}return null}var S$=la.unstable_scheduleCallback,LN=la.unstable_cancelCallback,_z=la.unstable_shouldYield,kz=la.unstable_requestPaint,kr=la.unstable_now,Nz=la.unstable_getCurrentPriorityLevel,Qj=la.unstable_ImmediatePriority,j$=la.unstable_UserBlockingPriority,pg=la.unstable_NormalPriority,Ez=la.unstable_LowPriority,_$=la.unstable_IdlePriority,cv=null,Mo=null;function Cz(e){if(Mo&&typeof Mo.onCommitFiberRoot=="function")try{Mo.onCommitFiberRoot(cv,e,void 0,(e.current.flags&128)===128)}catch{}}var no=Math.clz32?Math.clz32:Tz,Pz=Math.log,Az=Math.LN2;function Tz(e){return e>>>=0,e===0?32:31-(Pz(e)/Az|0)|0}var Wm=64,Hm=4194304;function mf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gg(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=mf(l):(o&=i,o!==0&&(n=mf(o)))}else i=r&~a,i!==0?n=mf(i):o!==0&&(n=mf(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-no(t),a=1<<r,n|=e[r],t&=~a;return n}function Oz(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rz(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-no(o),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=Oz(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function bw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function k$(){var e=Wm;return Wm<<=1,!(Wm&4194240)&&(Wm=64),e}function vx(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function sm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-no(t),e[t]=r}function $z(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-no(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Zj(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-no(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Wt=0;function N$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var E$,e_,C$,P$,A$,ww=!1,Vm=[],ui=null,di=null,fi=null,Vf=new Map,Kf=new Map,Ks=[],Mz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DN(e,t){switch(e){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":Vf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kf.delete(t.pointerId)}}function Fd(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=lm(t),t!==null&&e_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Iz(e,t,r,n,a){switch(t){case"focusin":return ui=Fd(ui,e,t,r,n,a),!0;case"dragenter":return di=Fd(di,e,t,r,n,a),!0;case"mouseover":return fi=Fd(fi,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Vf.set(o,Fd(Vf.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Kf.set(o,Fd(Kf.get(o)||null,e,t,r,n,a)),!0}return!1}function T$(e){var t=sl(e.target);if(t!==null){var r=Gl(t);if(r!==null){if(t=r.tag,t===13){if(t=x$(r),t!==null){e.blockedOn=t,A$(e.priority,function(){C$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Sw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);gw=n,r.target.dispatchEvent(n),gw=null}else return t=lm(r),t!==null&&e_(t),e.blockedOn=r,!1;t.shift()}return!0}function FN(e,t,r){Jp(e)&&r.delete(t)}function Lz(){ww=!1,ui!==null&&Jp(ui)&&(ui=null),di!==null&&Jp(di)&&(di=null),fi!==null&&Jp(fi)&&(fi=null),Vf.forEach(FN),Kf.forEach(FN)}function Bd(e,t){e.blockedOn===t&&(e.blockedOn=null,ww||(ww=!0,la.unstable_scheduleCallback(la.unstable_NormalPriority,Lz)))}function Gf(e){function t(a){return Bd(a,e)}if(0<Vm.length){Bd(Vm[0],e);for(var r=1;r<Vm.length;r++){var n=Vm[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ui!==null&&Bd(ui,e),di!==null&&Bd(di,e),fi!==null&&Bd(fi,e),Vf.forEach(t),Kf.forEach(t),r=0;r<Ks.length;r++)n=Ks[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ks.length&&(r=Ks[0],r.blockedOn===null);)T$(r),r.blockedOn===null&&Ks.shift()}var Gc=ks.ReactCurrentBatchConfig,yg=!0;function Dz(e,t,r,n){var a=Wt,o=Gc.transition;Gc.transition=null;try{Wt=1,t_(e,t,r,n)}finally{Wt=a,Gc.transition=o}}function Fz(e,t,r,n){var a=Wt,o=Gc.transition;Gc.transition=null;try{Wt=4,t_(e,t,r,n)}finally{Wt=a,Gc.transition=o}}function t_(e,t,r,n){if(yg){var a=Sw(e,t,r,n);if(a===null)Cx(e,t,n,vg,r),DN(e,n);else if(Iz(a,e,t,r,n))n.stopPropagation();else if(DN(e,n),t&4&&-1<Mz.indexOf(e)){for(;a!==null;){var o=lm(a);if(o!==null&&E$(o),o=Sw(e,t,r,n),o===null&&Cx(e,t,n,vg,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else Cx(e,t,n,null,r)}}var vg=null;function Sw(e,t,r,n){if(vg=null,e=Xj(n),e=sl(e),e!==null)if(t=Gl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=x$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vg=e,null}function O$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nz()){case Qj:return 1;case j$:return 4;case pg:case Ez:return 16;case _$:return 536870912;default:return 16}default:return 16}}var si=null,r_=null,Yp=null;function R$(){if(Yp)return Yp;var e,t=r_,r=t.length,n,a="value"in si?si.value:si.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Yp=a.slice(e,1<n?1-n:void 0)}function Xp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Km(){return!0}function BN(){return!1}function da(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Km:BN,this.isPropagationStopped=BN,this}return yr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Km)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Km)},persist:function(){},isPersistent:Km}),t}var od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n_=da(od),im=yr({},od,{view:0,detail:0}),Bz=da(im),xx,bx,Ud,uv=yr({},im,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ud&&(Ud&&e.type==="mousemove"?(xx=e.screenX-Ud.screenX,bx=e.screenY-Ud.screenY):bx=xx=0,Ud=e),xx)},movementY:function(e){return"movementY"in e?e.movementY:bx}}),UN=da(uv),Uz=yr({},uv,{dataTransfer:0}),zz=da(Uz),qz=yr({},im,{relatedTarget:0}),wx=da(qz),Wz=yr({},od,{animationName:0,elapsedTime:0,pseudoElement:0}),Hz=da(Wz),Vz=yr({},od,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kz=da(Vz),Gz=yr({},od,{data:0}),zN=da(Gz),Jz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xz[e])?!!t[e]:!1}function a_(){return Qz}var Zz=yr({},im,{key:function(e){if(e.key){var t=Jz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a_,charCode:function(e){return e.type==="keypress"?Xp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eq=da(Zz),tq=yr({},uv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qN=da(tq),rq=yr({},im,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a_}),nq=da(rq),aq=yr({},od,{propertyName:0,elapsedTime:0,pseudoElement:0}),oq=da(aq),sq=yr({},uv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iq=da(sq),lq=[9,13,27,32],o_=gs&&"CompositionEvent"in window,jf=null;gs&&"documentMode"in document&&(jf=document.documentMode);var cq=gs&&"TextEvent"in window&&!jf,$$=gs&&(!o_||jf&&8<jf&&11>=jf),WN=" ",HN=!1;function M$(e,t){switch(e){case"keyup":return lq.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ac=!1;function uq(e,t){switch(e){case"compositionend":return I$(t);case"keypress":return t.which!==32?null:(HN=!0,WN);case"textInput":return e=t.data,e===WN&&HN?null:e;default:return null}}function dq(e,t){if(Ac)return e==="compositionend"||!o_&&M$(e,t)?(e=R$(),Yp=r_=si=null,Ac=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $$&&t.locale!=="ko"?null:t.data;default:return null}}var fq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fq[e.type]:t==="textarea"}function L$(e,t,r,n){m$(n),t=xg(t,"onChange"),0<t.length&&(r=new n_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var _f=null,Jf=null;function hq(e){G$(e,0)}function dv(e){var t=Rc(e);if(i$(t))return e}function mq(e,t){if(e==="change")return t}var D$=!1;if(gs){var Sx;if(gs){var jx="oninput"in document;if(!jx){var KN=document.createElement("div");KN.setAttribute("oninput","return;"),jx=typeof KN.oninput=="function"}Sx=jx}else Sx=!1;D$=Sx&&(!document.documentMode||9<document.documentMode)}function GN(){_f&&(_f.detachEvent("onpropertychange",F$),Jf=_f=null)}function F$(e){if(e.propertyName==="value"&&dv(Jf)){var t=[];L$(t,Jf,e,Xj(e)),v$(hq,t)}}function pq(e,t,r){e==="focusin"?(GN(),_f=t,Jf=r,_f.attachEvent("onpropertychange",F$)):e==="focusout"&&GN()}function gq(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dv(Jf)}function yq(e,t){if(e==="click")return dv(t)}function vq(e,t){if(e==="input"||e==="change")return dv(t)}function xq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var co=typeof Object.is=="function"?Object.is:xq;function Yf(e,t){if(co(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!aw.call(t,a)||!co(e[a],t[a]))return!1}return!0}function JN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function YN(e,t){var r=JN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=JN(r)}}function B$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?B$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function U$(){for(var e=window,t=fg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fg(e.document)}return t}function s_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bq(e){var t=U$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&B$(r.ownerDocument.documentElement,r)){if(n!==null&&s_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=YN(r,o);var i=YN(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wq=gs&&"documentMode"in document&&11>=document.documentMode,Tc=null,jw=null,kf=null,_w=!1;function XN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_w||Tc==null||Tc!==fg(n)||(n=Tc,"selectionStart"in n&&s_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kf&&Yf(kf,n)||(kf=n,n=xg(jw,"onSelect"),0<n.length&&(t=new n_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Tc)))}function Gm(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Oc={animationend:Gm("Animation","AnimationEnd"),animationiteration:Gm("Animation","AnimationIteration"),animationstart:Gm("Animation","AnimationStart"),transitionend:Gm("Transition","TransitionEnd")},_x={},z$={};gs&&(z$=document.createElement("div").style,"AnimationEvent"in window||(delete Oc.animationend.animation,delete Oc.animationiteration.animation,delete Oc.animationstart.animation),"TransitionEvent"in window||delete Oc.transitionend.transition);function fv(e){if(_x[e])return _x[e];if(!Oc[e])return e;var t=Oc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in z$)return _x[e]=t[r];return e}var q$=fv("animationend"),W$=fv("animationiteration"),H$=fv("animationstart"),V$=fv("transitionend"),K$=new Map,QN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(e,t){K$.set(e,t),Kl(t,[e])}for(var kx=0;kx<QN.length;kx++){var Nx=QN[kx],Sq=Nx.toLowerCase(),jq=Nx[0].toUpperCase()+Nx.slice(1);Ri(Sq,"on"+jq)}Ri(q$,"onAnimationEnd");Ri(W$,"onAnimationIteration");Ri(H$,"onAnimationStart");Ri("dblclick","onDoubleClick");Ri("focusin","onFocus");Ri("focusout","onBlur");Ri(V$,"onTransitionEnd");ju("onMouseEnter",["mouseout","mouseover"]);ju("onMouseLeave",["mouseout","mouseover"]);ju("onPointerEnter",["pointerout","pointerover"]);ju("onPointerLeave",["pointerout","pointerover"]);Kl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_q=new Set("cancel close invalid load scroll toggle".split(" ").concat(pf));function ZN(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Sz(n,t,void 0,e),e.currentTarget=null}function G$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;ZN(a,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;ZN(a,l,u),o=c}}}if(mg)throw e=xw,mg=!1,xw=null,e}function ar(e,t){var r=t[Pw];r===void 0&&(r=t[Pw]=new Set);var n=e+"__bubble";r.has(n)||(J$(t,e,2,!1),r.add(n))}function Ex(e,t,r){var n=0;t&&(n|=4),J$(r,e,n,t)}var Jm="_reactListening"+Math.random().toString(36).slice(2);function Xf(e){if(!e[Jm]){e[Jm]=!0,r$.forEach(function(r){r!=="selectionchange"&&(_q.has(r)||Ex(r,!1,e),Ex(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jm]||(t[Jm]=!0,Ex("selectionchange",!1,t))}}function J$(e,t,r,n){switch(O$(t)){case 1:var a=Dz;break;case 4:a=Fz;break;default:a=t_}r=a.bind(null,t,r,e),a=void 0,!vw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Cx(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=sl(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}v$(function(){var u=o,f=Xj(r),d=[];e:{var h=K$.get(e);if(h!==void 0){var y=n_,v=e;switch(e){case"keypress":if(Xp(r)===0)break e;case"keydown":case"keyup":y=eq;break;case"focusin":v="focus",y=wx;break;case"focusout":v="blur",y=wx;break;case"beforeblur":case"afterblur":y=wx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=UN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=zz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=nq;break;case q$:case W$:case H$:y=Hz;break;case V$:y=oq;break;case"scroll":y=Bz;break;case"wheel":y=iq;break;case"copy":case"cut":case"paste":y=Kz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=qN}var p=(t&4)!==0,g=!p&&e==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var b=u,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=Hf(b,x),S!=null&&p.push(Qf(b,S,w)))),g)break;b=b.return}0<p.length&&(h=new y(h,v,null,r,f),d.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&r!==gw&&(v=r.relatedTarget||r.fromElement)&&(sl(v)||v[ys]))break e;if((y||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?sl(v):null,v!==null&&(g=Gl(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(p=UN,S="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=qN,S="onPointerLeave",x="onPointerEnter",b="pointer"),g=y==null?h:Rc(y),w=v==null?h:Rc(v),h=new p(S,b+"leave",y,r,f),h.target=g,h.relatedTarget=w,S=null,sl(f)===u&&(p=new p(x,b+"enter",v,r,f),p.target=w,p.relatedTarget=g,S=p),g=S,y&&v)t:{for(p=y,x=v,b=0,w=p;w;w=sc(w))b++;for(w=0,S=x;S;S=sc(S))w++;for(;0<b-w;)p=sc(p),b--;for(;0<w-b;)x=sc(x),w--;for(;b--;){if(p===x||x!==null&&p===x.alternate)break t;p=sc(p),x=sc(x)}p=null}else p=null;y!==null&&eE(d,h,y,p,!1),v!==null&&g!==null&&eE(d,g,v,p,!0)}}e:{if(h=u?Rc(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var j=mq;else if(VN(h))if(D$)j=vq;else{j=gq;var k=pq}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=yq);if(j&&(j=j(e,u))){L$(d,j,r,f);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&dw(h,"number",h.value)}switch(k=u?Rc(u):window,e){case"focusin":(VN(k)||k.contentEditable==="true")&&(Tc=k,jw=u,kf=null);break;case"focusout":kf=jw=Tc=null;break;case"mousedown":_w=!0;break;case"contextmenu":case"mouseup":case"dragend":_w=!1,XN(d,r,f);break;case"selectionchange":if(wq)break;case"keydown":case"keyup":XN(d,r,f)}var _;if(o_)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ac?M$(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&($$&&r.locale!=="ko"&&(Ac||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ac&&(_=R$()):(si=f,r_="value"in si?si.value:si.textContent,Ac=!0)),k=xg(u,N),0<k.length&&(N=new zN(N,e,null,r,f),d.push({event:N,listeners:k}),_?N.data=_:(_=I$(r),_!==null&&(N.data=_)))),(_=cq?uq(e,r):dq(e,r))&&(u=xg(u,"onBeforeInput"),0<u.length&&(f=new zN("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=_))}G$(d,t)})}function Qf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xg(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Hf(e,r),o!=null&&n.unshift(Qf(e,o,a)),o=Hf(e,t),o!=null&&n.push(Qf(e,o,a))),e=e.return}return n}function sc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eE(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Hf(r,o),c!=null&&i.unshift(Qf(r,c,l))):a||(c=Hf(r,o),c!=null&&i.push(Qf(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var kq=/\r\n?/g,Nq=/\u0000|\uFFFD/g;function tE(e){return(typeof e=="string"?e:""+e).replace(kq,`
`).replace(Nq,"")}function Ym(e,t,r){if(t=tE(t),tE(e)!==t&&r)throw Error(Oe(425))}function bg(){}var kw=null,Nw=null;function Ew(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cw=typeof setTimeout=="function"?setTimeout:void 0,Eq=typeof clearTimeout=="function"?clearTimeout:void 0,rE=typeof Promise=="function"?Promise:void 0,Cq=typeof queueMicrotask=="function"?queueMicrotask:typeof rE<"u"?function(e){return rE.resolve(null).then(e).catch(Pq)}:Cw;function Pq(e){setTimeout(function(){throw e})}function Px(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Gf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Gf(t)}function hi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sd=Math.random().toString(36).slice(2),To="__reactFiber$"+sd,Zf="__reactProps$"+sd,ys="__reactContainer$"+sd,Pw="__reactEvents$"+sd,Aq="__reactListeners$"+sd,Tq="__reactHandles$"+sd;function sl(e){var t=e[To];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ys]||r[To]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=nE(e);e!==null;){if(r=e[To])return r;e=nE(e)}return t}e=r,r=e.parentNode}return null}function lm(e){return e=e[To]||e[ys],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Oe(33))}function hv(e){return e[Zf]||null}var Aw=[],$c=-1;function $i(e){return{current:e}}function ir(e){0>$c||(e.current=Aw[$c],Aw[$c]=null,$c--)}function er(e,t){$c++,Aw[$c]=e.current,e.current=t}var Ni={},Sn=$i(Ni),Hn=$i(!1),Pl=Ni;function _u(e,t){var r=e.type.contextTypes;if(!r)return Ni;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Vn(e){return e=e.childContextTypes,e!=null}function wg(){ir(Hn),ir(Sn)}function aE(e,t,r){if(Sn.current!==Ni)throw Error(Oe(168));er(Sn,t),er(Hn,r)}function Y$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Oe(108,pz(e)||"Unknown",a));return yr({},r,n)}function Sg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,Pl=Sn.current,er(Sn,e),er(Hn,Hn.current),!0}function oE(e,t,r){var n=e.stateNode;if(!n)throw Error(Oe(169));r?(e=Y$(e,t,Pl),n.__reactInternalMemoizedMergedChildContext=e,ir(Hn),ir(Sn),er(Sn,e)):ir(Hn),er(Hn,r)}var rs=null,mv=!1,Ax=!1;function X$(e){rs===null?rs=[e]:rs.push(e)}function Oq(e){mv=!0,X$(e)}function Mi(){if(!Ax&&rs!==null){Ax=!0;var e=0,t=Wt;try{var r=rs;for(Wt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}rs=null,mv=!1}catch(a){throw rs!==null&&(rs=rs.slice(e+1)),S$(Qj,Mi),a}finally{Wt=t,Ax=!1}}return null}var Mc=[],Ic=0,jg=null,_g=0,wa=[],Sa=0,Al=null,as=1,os="";function Yi(e,t){Mc[Ic++]=_g,Mc[Ic++]=jg,jg=e,_g=t}function Q$(e,t,r){wa[Sa++]=as,wa[Sa++]=os,wa[Sa++]=Al,Al=e;var n=as;e=os;var a=32-no(n)-1;n&=~(1<<a),r+=1;var o=32-no(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,as=1<<32-no(t)+a|r<<a|n,os=o+e}else as=1<<o|r<<a|n,os=e}function i_(e){e.return!==null&&(Yi(e,1),Q$(e,1,0))}function l_(e){for(;e===jg;)jg=Mc[--Ic],Mc[Ic]=null,_g=Mc[--Ic],Mc[Ic]=null;for(;e===Al;)Al=wa[--Sa],wa[Sa]=null,os=wa[--Sa],wa[Sa]=null,as=wa[--Sa],wa[Sa]=null}var sa=null,oa=null,dr=!1,Xa=null;function Z$(e,t){var r=_a(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function sE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sa=e,oa=hi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sa=e,oa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Al!==null?{id:as,overflow:os}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_a(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,sa=e,oa=null,!0):!1;default:return!1}}function Tw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ow(e){if(dr){var t=oa;if(t){var r=t;if(!sE(e,t)){if(Tw(e))throw Error(Oe(418));t=hi(r.nextSibling);var n=sa;t&&sE(e,t)?Z$(n,r):(e.flags=e.flags&-4097|2,dr=!1,sa=e)}}else{if(Tw(e))throw Error(Oe(418));e.flags=e.flags&-4097|2,dr=!1,sa=e}}}function iE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sa=e}function Xm(e){if(e!==sa)return!1;if(!dr)return iE(e),dr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ew(e.type,e.memoizedProps)),t&&(t=oa)){if(Tw(e))throw eM(),Error(Oe(418));for(;t;)Z$(e,t),t=hi(t.nextSibling)}if(iE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){oa=hi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}oa=null}}else oa=sa?hi(e.stateNode.nextSibling):null;return!0}function eM(){for(var e=oa;e;)e=hi(e.nextSibling)}function ku(){oa=sa=null,dr=!1}function c_(e){Xa===null?Xa=[e]:Xa.push(e)}var Rq=ks.ReactCurrentBatchConfig;function zd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Oe(309));var n=r.stateNode}if(!n)throw Error(Oe(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(Oe(284));if(!r._owner)throw Error(Oe(290,e))}return e}function Qm(e,t){throw e=Object.prototype.toString.call(t),Error(Oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lE(e){var t=e._init;return t(e._payload)}function tM(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=yi(x,b),x.index=0,x.sibling=null,x}function o(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,w,S){return b===null||b.tag!==6?(b=Lx(w,x.mode,S),b.return=x,b):(b=a(b,w),b.return=x,b)}function c(x,b,w,S){var j=w.type;return j===Pc?f(x,b,w.props.children,S,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===qs&&lE(j)===b.type)?(S=a(b,w.props),S.ref=zd(x,b,w),S.return=x,S):(S=ag(w.type,w.key,w.props,null,x.mode,S),S.ref=zd(x,b,w),S.return=x,S)}function u(x,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Dx(w,x.mode,S),b.return=x,b):(b=a(b,w.children||[]),b.return=x,b)}function f(x,b,w,S,j){return b===null||b.tag!==7?(b=Sl(w,x.mode,S,j),b.return=x,b):(b=a(b,w),b.return=x,b)}function d(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Lx(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Um:return w=ag(b.type,b.key,b.props,null,x.mode,w),w.ref=zd(x,null,b),w.return=x,w;case Cc:return b=Dx(b,x.mode,w),b.return=x,b;case qs:var S=b._init;return d(x,S(b._payload),w)}if(hf(b)||Ld(b))return b=Sl(b,x.mode,w,null),b.return=x,b;Qm(x,b)}return null}function h(x,b,w,S){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(x,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Um:return w.key===j?c(x,b,w,S):null;case Cc:return w.key===j?u(x,b,w,S):null;case qs:return j=w._init,h(x,b,j(w._payload),S)}if(hf(w)||Ld(w))return j!==null?null:f(x,b,w,S,null);Qm(x,w)}return null}function y(x,b,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,l(b,x,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Um:return x=x.get(S.key===null?w:S.key)||null,c(b,x,S,j);case Cc:return x=x.get(S.key===null?w:S.key)||null,u(b,x,S,j);case qs:var k=S._init;return y(x,b,w,k(S._payload),j)}if(hf(S)||Ld(S))return x=x.get(w)||null,f(b,x,S,j,null);Qm(b,S)}return null}function v(x,b,w,S){for(var j=null,k=null,_=b,N=b=0,E=null;_!==null&&N<w.length;N++){_.index>N?(E=_,_=null):E=_.sibling;var A=h(x,_,w[N],S);if(A===null){_===null&&(_=E);break}e&&_&&A.alternate===null&&t(x,_),b=o(A,b,N),k===null?j=A:k.sibling=A,k=A,_=E}if(N===w.length)return r(x,_),dr&&Yi(x,N),j;if(_===null){for(;N<w.length;N++)_=d(x,w[N],S),_!==null&&(b=o(_,b,N),k===null?j=_:k.sibling=_,k=_);return dr&&Yi(x,N),j}for(_=n(x,_);N<w.length;N++)E=y(_,x,N,w[N],S),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?N:E.key),b=o(E,b,N),k===null?j=E:k.sibling=E,k=E);return e&&_.forEach(function(T){return t(x,T)}),dr&&Yi(x,N),j}function p(x,b,w,S){var j=Ld(w);if(typeof j!="function")throw Error(Oe(150));if(w=j.call(w),w==null)throw Error(Oe(151));for(var k=j=null,_=b,N=b=0,E=null,A=w.next();_!==null&&!A.done;N++,A=w.next()){_.index>N?(E=_,_=null):E=_.sibling;var T=h(x,_,A.value,S);if(T===null){_===null&&(_=E);break}e&&_&&T.alternate===null&&t(x,_),b=o(T,b,N),k===null?j=T:k.sibling=T,k=T,_=E}if(A.done)return r(x,_),dr&&Yi(x,N),j;if(_===null){for(;!A.done;N++,A=w.next())A=d(x,A.value,S),A!==null&&(b=o(A,b,N),k===null?j=A:k.sibling=A,k=A);return dr&&Yi(x,N),j}for(_=n(x,_);!A.done;N++,A=w.next())A=y(_,x,N,A.value,S),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?N:A.key),b=o(A,b,N),k===null?j=A:k.sibling=A,k=A);return e&&_.forEach(function(D){return t(x,D)}),dr&&Yi(x,N),j}function g(x,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Pc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Um:e:{for(var j=w.key,k=b;k!==null;){if(k.key===j){if(j=w.type,j===Pc){if(k.tag===7){r(x,k.sibling),b=a(k,w.props.children),b.return=x,x=b;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===qs&&lE(j)===k.type){r(x,k.sibling),b=a(k,w.props),b.ref=zd(x,k,w),b.return=x,x=b;break e}r(x,k);break}else t(x,k);k=k.sibling}w.type===Pc?(b=Sl(w.props.children,x.mode,S,w.key),b.return=x,x=b):(S=ag(w.type,w.key,w.props,null,x.mode,S),S.ref=zd(x,b,w),S.return=x,x=S)}return i(x);case Cc:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(x,b.sibling),b=a(b,w.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=Dx(w,x.mode,S),b.return=x,x=b}return i(x);case qs:return k=w._init,g(x,b,k(w._payload),S)}if(hf(w))return v(x,b,w,S);if(Ld(w))return p(x,b,w,S);Qm(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(x,b.sibling),b=a(b,w),b.return=x,x=b):(r(x,b),b=Lx(w,x.mode,S),b.return=x,x=b),i(x)):r(x,b)}return g}var Nu=tM(!0),rM=tM(!1),kg=$i(null),Ng=null,Lc=null,u_=null;function d_(){u_=Lc=Ng=null}function f_(e){var t=kg.current;ir(kg),e._currentValue=t}function Rw(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Jc(e,t){Ng=e,u_=Lc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qn=!0),e.firstContext=null)}function Oa(e){var t=e._currentValue;if(u_!==e)if(e={context:e,memoizedValue:t,next:null},Lc===null){if(Ng===null)throw Error(Oe(308));Lc=e,Ng.dependencies={lanes:0,firstContext:e}}else Lc=Lc.next=e;return t}var il=null;function h_(e){il===null?il=[e]:il.push(e)}function nM(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,h_(t)):(r.next=a.next,a.next=r),t.interleaved=r,vs(e,n)}function vs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ws=!1;function m_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Tt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,vs(e,r)}return a=n.interleaved,a===null?(t.next=t,h_(n)):(t.next=a.next,a.next=t),n.interleaved=t,vs(e,r)}function Qp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zj(e,r)}}function cE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Eg(e,t,r,n){var a=e.updateQueue;Ws=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==i&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(o!==null){var d=a.baseState;i=0,f=u=c=null,l=o;do{var h=l.lane,y=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,p=l;switch(h=t,y=r,p.tag){case 1:if(v=p.payload,typeof v=="function"){d=v.call(y,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(y,d,h):v,h==null)break e;d=yr({},d,h);break e;case 2:Ws=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else y={eventTime:y,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=y,c=d):f=f.next=y,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Ol|=i,e.lanes=i,e.memoizedState=d}}function uE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Oe(191,a));a.call(n)}}}var cm={},Io=$i(cm),eh=$i(cm),th=$i(cm);function ll(e){if(e===cm)throw Error(Oe(174));return e}function p_(e,t){switch(er(th,t),er(eh,e),er(Io,cm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hw(t,e)}ir(Io),er(Io,t)}function Eu(){ir(Io),ir(eh),ir(th)}function oM(e){ll(th.current);var t=ll(Io.current),r=hw(t,e.type);t!==r&&(er(eh,e),er(Io,r))}function g_(e){eh.current===e&&(ir(Io),ir(eh))}var pr=$i(0);function Cg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tx=[];function y_(){for(var e=0;e<Tx.length;e++)Tx[e]._workInProgressVersionPrimary=null;Tx.length=0}var Zp=ks.ReactCurrentDispatcher,Ox=ks.ReactCurrentBatchConfig,Tl=0,gr=null,Lr=null,Vr=null,Pg=!1,Nf=!1,rh=0,$q=0;function dn(){throw Error(Oe(321))}function v_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!co(e[r],t[r]))return!1;return!0}function x_(e,t,r,n,a,o){if(Tl=o,gr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zp.current=e===null||e.memoizedState===null?Dq:Fq,e=r(n,a),Nf){o=0;do{if(Nf=!1,rh=0,25<=o)throw Error(Oe(301));o+=1,Vr=Lr=null,t.updateQueue=null,Zp.current=Bq,e=r(n,a)}while(Nf)}if(Zp.current=Ag,t=Lr!==null&&Lr.next!==null,Tl=0,Vr=Lr=gr=null,Pg=!1,t)throw Error(Oe(300));return e}function b_(){var e=rh!==0;return rh=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?gr.memoizedState=Vr=e:Vr=Vr.next=e,Vr}function Ra(){if(Lr===null){var e=gr.alternate;e=e!==null?e.memoizedState:null}else e=Lr.next;var t=Vr===null?gr.memoizedState:Vr.next;if(t!==null)Vr=t,Lr=e;else{if(e===null)throw Error(Oe(310));Lr=e,e={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Vr===null?gr.memoizedState=Vr=e:Vr=Vr.next=e}return Vr}function nh(e,t){return typeof t=="function"?t(e):t}function Rx(e){var t=Ra(),r=t.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=e;var n=Lr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=i=null,c=null,u=o;do{var f=u.lane;if((Tl&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,i=n):c=c.next=d,gr.lanes|=f,Ol|=f}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,co(n,t.memoizedState)||(qn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,gr.lanes|=o,Ol|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $x(e){var t=Ra(),r=t.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);co(o,t.memoizedState)||(qn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function sM(){}function iM(e,t){var r=gr,n=Ra(),a=t(),o=!co(n.memoizedState,a);if(o&&(n.memoizedState=a,qn=!0),n=n.queue,w_(uM.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Vr!==null&&Vr.memoizedState.tag&1){if(r.flags|=2048,ah(9,cM.bind(null,r,n,a,t),void 0,null),Zr===null)throw Error(Oe(349));Tl&30||lM(r,t,a)}return a}function lM(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cM(e,t,r,n){t.value=r,t.getSnapshot=n,dM(t)&&fM(e)}function uM(e,t,r){return r(function(){dM(t)&&fM(e)})}function dM(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!co(e,r)}catch{return!0}}function fM(e){var t=vs(e,1);t!==null&&ao(t,e,1,-1)}function dE(e){var t=_o();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nh,lastRenderedState:e},t.queue=e,e=e.dispatch=Lq.bind(null,gr,e),[t.memoizedState,e]}function ah(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hM(){return Ra().memoizedState}function eg(e,t,r,n){var a=_o();gr.flags|=e,a.memoizedState=ah(1|t,r,void 0,n===void 0?null:n)}function pv(e,t,r,n){var a=Ra();n=n===void 0?null:n;var o=void 0;if(Lr!==null){var i=Lr.memoizedState;if(o=i.destroy,n!==null&&v_(n,i.deps)){a.memoizedState=ah(t,r,o,n);return}}gr.flags|=e,a.memoizedState=ah(1|t,r,o,n)}function fE(e,t){return eg(8390656,8,e,t)}function w_(e,t){return pv(2048,8,e,t)}function mM(e,t){return pv(4,2,e,t)}function pM(e,t){return pv(4,4,e,t)}function gM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yM(e,t,r){return r=r!=null?r.concat([e]):null,pv(4,4,gM.bind(null,t,e),r)}function S_(){}function vM(e,t){var r=Ra();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&v_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xM(e,t){var r=Ra();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&v_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bM(e,t,r){return Tl&21?(co(r,t)||(r=k$(),gr.lanes|=r,Ol|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qn=!0),e.memoizedState=r)}function Mq(e,t){var r=Wt;Wt=r!==0&&4>r?r:4,e(!0);var n=Ox.transition;Ox.transition={};try{e(!1),t()}finally{Wt=r,Ox.transition=n}}function wM(){return Ra().memoizedState}function Iq(e,t,r){var n=gi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},SM(e))jM(t,r);else if(r=nM(e,t,r,n),r!==null){var a=Tn();ao(r,e,n,a),_M(r,t,n)}}function Lq(e,t,r){var n=gi(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(SM(e))jM(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(a.hasEagerState=!0,a.eagerState=l,co(l,i)){var c=t.interleaved;c===null?(a.next=a,h_(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=nM(e,t,a,n),r!==null&&(a=Tn(),ao(r,e,n,a),_M(r,t,n))}}function SM(e){var t=e.alternate;return e===gr||t!==null&&t===gr}function jM(e,t){Nf=Pg=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _M(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zj(e,r)}}var Ag={readContext:Oa,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},Dq={readContext:Oa,useCallback:function(e,t){return _o().memoizedState=[e,t===void 0?null:t],e},useContext:Oa,useEffect:fE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,eg(4194308,4,gM.bind(null,t,e),r)},useLayoutEffect:function(e,t){return eg(4194308,4,e,t)},useInsertionEffect:function(e,t){return eg(4,2,e,t)},useMemo:function(e,t){var r=_o();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=_o();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Iq.bind(null,gr,e),[n.memoizedState,e]},useRef:function(e){var t=_o();return e={current:e},t.memoizedState=e},useState:dE,useDebugValue:S_,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=dE(!1),t=e[0];return e=Mq.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=gr,a=_o();if(dr){if(r===void 0)throw Error(Oe(407));r=r()}else{if(r=t(),Zr===null)throw Error(Oe(349));Tl&30||lM(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,fE(uM.bind(null,n,o,e),[e]),n.flags|=2048,ah(9,cM.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=_o(),t=Zr.identifierPrefix;if(dr){var r=os,n=as;r=(n&~(1<<32-no(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=rh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$q++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fq={readContext:Oa,useCallback:vM,useContext:Oa,useEffect:w_,useImperativeHandle:yM,useInsertionEffect:mM,useLayoutEffect:pM,useMemo:xM,useReducer:Rx,useRef:hM,useState:function(){return Rx(nh)},useDebugValue:S_,useDeferredValue:function(e){var t=Ra();return bM(t,Lr.memoizedState,e)},useTransition:function(){var e=Rx(nh)[0],t=Ra().memoizedState;return[e,t]},useMutableSource:sM,useSyncExternalStore:iM,useId:wM,unstable_isNewReconciler:!1},Bq={readContext:Oa,useCallback:vM,useContext:Oa,useEffect:w_,useImperativeHandle:yM,useInsertionEffect:mM,useLayoutEffect:pM,useMemo:xM,useReducer:$x,useRef:hM,useState:function(){return $x(nh)},useDebugValue:S_,useDeferredValue:function(e){var t=Ra();return Lr===null?t.memoizedState=e:bM(t,Lr.memoizedState,e)},useTransition:function(){var e=$x(nh)[0],t=Ra().memoizedState;return[e,t]},useMutableSource:sM,useSyncExternalStore:iM,useId:wM,unstable_isNewReconciler:!1};function Va(e,t){if(e&&e.defaultProps){t=yr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $w(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:yr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gv={isMounted:function(e){return(e=e._reactInternals)?Gl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Tn(),a=gi(e),o=us(n,a);o.payload=t,r!=null&&(o.callback=r),t=mi(e,o,a),t!==null&&(ao(t,e,a,n),Qp(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Tn(),a=gi(e),o=us(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=mi(e,o,a),t!==null&&(ao(t,e,a,n),Qp(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Tn(),n=gi(e),a=us(r,n);a.tag=2,t!=null&&(a.callback=t),t=mi(e,a,n),t!==null&&(ao(t,e,n,r),Qp(t,e,n))}};function hE(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Yf(r,n)||!Yf(a,o):!0}function kM(e,t,r){var n=!1,a=Ni,o=t.contextType;return typeof o=="object"&&o!==null?o=Oa(o):(a=Vn(t)?Pl:Sn.current,n=t.contextTypes,o=(n=n!=null)?_u(e,a):Ni),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gv,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function mE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&gv.enqueueReplaceState(t,t.state,null)}function Mw(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},m_(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Oa(o):(o=Vn(t)?Pl:Sn.current,a.context=_u(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&($w(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&gv.enqueueReplaceState(a,a.state,null),Eg(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Cu(e,t){try{var r="",n=t;do r+=mz(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Mx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Iw(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Uq=typeof WeakMap=="function"?WeakMap:Map;function NM(e,t,r){r=us(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Og||(Og=!0,Vw=n),Iw(e,t)},r}function EM(e,t,r){r=us(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Iw(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Iw(e,t),typeof n!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function pE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Uq;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=tW.bind(null,e,t,r),t.then(e,e))}function gE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yE(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=us(-1,1),t.tag=2,mi(r,t,1))),r.lanes|=1),e)}var zq=ks.ReactCurrentOwner,qn=!1;function Pn(e,t,r,n){t.child=e===null?rM(t,null,r,n):Nu(t,e.child,r,n)}function vE(e,t,r,n,a){r=r.render;var o=t.ref;return Jc(t,a),n=x_(e,t,r,n,o,a),r=b_(),e!==null&&!qn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xs(e,t,a)):(dr&&r&&i_(t),t.flags|=1,Pn(e,t,n,a),t.child)}function xE(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!A_(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,CM(e,t,o,n,a)):(e=ag(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Yf,r(i,n)&&e.ref===t.ref)return xs(e,t,a)}return t.flags|=1,e=yi(o,n),e.ref=t.ref,e.return=t,t.child=e}function CM(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Yf(o,n)&&e.ref===t.ref)if(qn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(qn=!0);else return t.lanes=e.lanes,xs(e,t,a)}return Lw(e,t,r,n,a)}function PM(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},er(Fc,ta),ta|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,er(Fc,ta),ta|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,er(Fc,ta),ta|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,er(Fc,ta),ta|=n;return Pn(e,t,a,r),t.child}function AM(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Lw(e,t,r,n,a){var o=Vn(r)?Pl:Sn.current;return o=_u(t,o),Jc(t,a),r=x_(e,t,r,n,o,a),n=b_(),e!==null&&!qn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xs(e,t,a)):(dr&&n&&i_(t),t.flags|=1,Pn(e,t,r,a),t.child)}function bE(e,t,r,n,a){if(Vn(r)){var o=!0;Sg(t)}else o=!1;if(Jc(t,a),t.stateNode===null)tg(e,t),kM(t,r,n),Mw(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Oa(u):(u=Vn(r)?Pl:Sn.current,u=_u(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&mE(t,i,n,u),Ws=!1;var h=t.memoizedState;i.state=h,Eg(t,n,i,a),c=t.memoizedState,l!==n||h!==c||Hn.current||Ws?(typeof f=="function"&&($w(t,r,f,n),c=t.memoizedState),(l=Ws||hE(t,r,l,n,h,c,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,aM(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Va(t.type,l),i.props=u,d=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Oa(c):(c=Vn(r)?Pl:Sn.current,c=_u(t,c));var y=r.getDerivedStateFromProps;(f=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||h!==c)&&mE(t,i,n,c),Ws=!1,h=t.memoizedState,i.state=h,Eg(t,n,i,a);var v=t.memoizedState;l!==d||h!==v||Hn.current||Ws?(typeof y=="function"&&($w(t,r,y,n),v=t.memoizedState),(u=Ws||hE(t,r,u,n,h,v,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Dw(e,t,r,n,o,a)}function Dw(e,t,r,n,a,o){AM(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&oE(t,r,!1),xs(e,t,o);n=t.stateNode,zq.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Nu(t,e.child,null,o),t.child=Nu(t,null,l,o)):Pn(e,t,l,o),t.memoizedState=n.state,a&&oE(t,r,!0),t.child}function TM(e){var t=e.stateNode;t.pendingContext?aE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&aE(e,t.context,!1),p_(e,t.containerInfo)}function wE(e,t,r,n,a){return ku(),c_(a),t.flags|=256,Pn(e,t,r,n),t.child}var Fw={dehydrated:null,treeContext:null,retryLane:0};function Bw(e){return{baseLanes:e,cachePool:null,transitions:null}}function OM(e,t,r){var n=t.pendingProps,a=pr.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),er(pr,a&1),e===null)return Ow(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=xv(i,n,0,null),e=Sl(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Bw(r),t.memoizedState=Fw,e):j_(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return qq(e,t,i,n,l,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=yi(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=yi(l,o):(o=Sl(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Bw(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=Fw,n}return o=e.child,e=o.sibling,n=yi(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function j_(e,t){return t=xv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zm(e,t,r,n){return n!==null&&c_(n),Nu(t,e.child,null,r),e=j_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qq(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Mx(Error(Oe(422))),Zm(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=xv({mode:"visible",children:n.children},a,0,null),o=Sl(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Nu(t,e.child,null,i),t.child.memoizedState=Bw(i),t.memoizedState=Fw,o);if(!(t.mode&1))return Zm(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(Oe(419)),n=Mx(o,n,void 0),Zm(e,t,i,n)}if(l=(i&e.childLanes)!==0,qn||l){if(n=Zr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,vs(e,a),ao(n,e,a,-1))}return P_(),n=Mx(Error(Oe(421))),Zm(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=rW.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,oa=hi(a.nextSibling),sa=t,dr=!0,Xa=null,e!==null&&(wa[Sa++]=as,wa[Sa++]=os,wa[Sa++]=Al,as=e.id,os=e.overflow,Al=t),t=j_(t,n.children),t.flags|=4096,t)}function SE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Rw(e.return,t,r)}function Ix(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function RM(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Pn(e,t,n.children,r),n=pr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&SE(e,r,t);else if(e.tag===19)SE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(er(pr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Cg(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ix(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Cg(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ix(t,!0,r,null,o);break;case"together":Ix(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ol|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Oe(153));if(t.child!==null){for(e=t.child,r=yi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Wq(e,t,r){switch(t.tag){case 3:TM(t),ku();break;case 5:oM(t);break;case 1:Vn(t.type)&&Sg(t);break;case 4:p_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;er(kg,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(er(pr,pr.current&1),t.flags|=128,null):r&t.child.childLanes?OM(e,t,r):(er(pr,pr.current&1),e=xs(e,t,r),e!==null?e.sibling:null);er(pr,pr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return RM(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),er(pr,pr.current),n)break;return null;case 22:case 23:return t.lanes=0,PM(e,t,r)}return xs(e,t,r)}var $M,Uw,MM,IM;$M=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Uw=function(){};MM=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ll(Io.current);var o=null;switch(r){case"input":a=cw(e,a),n=cw(e,n),o=[];break;case"select":a=yr({},a,{value:void 0}),n=yr({},n,{value:void 0}),o=[];break;case"textarea":a=fw(e,a),n=fw(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=bg)}mw(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qf.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ar("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};IM=function(e,t,r,n){r!==n&&(t.flags|=4)};function qd(e,t){if(!dr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Hq(e,t,r){var n=t.pendingProps;switch(l_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(t),null;case 1:return Vn(t.type)&&wg(),fn(t),null;case 3:return n=t.stateNode,Eu(),ir(Hn),ir(Sn),y_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xa!==null&&(Jw(Xa),Xa=null))),Uw(e,t),fn(t),null;case 5:g_(t);var a=ll(th.current);if(r=t.type,e!==null&&t.stateNode!=null)MM(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Oe(166));return fn(t),null}if(e=ll(Io.current),Xm(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[To]=t,n[Zf]=o,e=(t.mode&1)!==0,r){case"dialog":ar("cancel",n),ar("close",n);break;case"iframe":case"object":case"embed":ar("load",n);break;case"video":case"audio":for(a=0;a<pf.length;a++)ar(pf[a],n);break;case"source":ar("error",n);break;case"img":case"image":case"link":ar("error",n),ar("load",n);break;case"details":ar("toggle",n);break;case"input":TN(n,o),ar("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ar("invalid",n);break;case"textarea":RN(n,o),ar("invalid",n)}mw(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ym(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ym(n.textContent,l,e),a=["children",""+l]):qf.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ar("scroll",n)}switch(r){case"input":zm(n),ON(n,o,!0);break;case"textarea":zm(n),$N(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=bg)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=u$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[To]=t,e[Zf]=n,$M(e,t,!1,!1),t.stateNode=e;e:{switch(i=pw(r,n),r){case"dialog":ar("cancel",e),ar("close",e),a=n;break;case"iframe":case"object":case"embed":ar("load",e),a=n;break;case"video":case"audio":for(a=0;a<pf.length;a++)ar(pf[a],e);a=n;break;case"source":ar("error",e),a=n;break;case"img":case"image":case"link":ar("error",e),ar("load",e),a=n;break;case"details":ar("toggle",e),a=n;break;case"input":TN(e,n),a=cw(e,n),ar("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=yr({},n,{value:void 0}),ar("invalid",e);break;case"textarea":RN(e,n),a=fw(e,n),ar("invalid",e);break;default:a=n}mw(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?h$(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&d$(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Wf(e,c):typeof c=="number"&&Wf(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qf.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ar("scroll",e):c!=null&&Kj(e,o,c,i))}switch(r){case"input":zm(e),ON(e,n,!1);break;case"textarea":zm(e),$N(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ki(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Hc(e,!!n.multiple,o,!1):n.defaultValue!=null&&Hc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=bg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fn(t),null;case 6:if(e&&t.stateNode!=null)IM(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Oe(166));if(r=ll(th.current),ll(Io.current),Xm(t)){if(n=t.stateNode,r=t.memoizedProps,n[To]=t,(o=n.nodeValue!==r)&&(e=sa,e!==null))switch(e.tag){case 3:Ym(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ym(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[To]=t,t.stateNode=n}return fn(t),null;case 13:if(ir(pr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dr&&oa!==null&&t.mode&1&&!(t.flags&128))eM(),ku(),t.flags|=98560,o=!1;else if(o=Xm(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(Oe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Oe(317));o[To]=t}else ku(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fn(t),o=!1}else Xa!==null&&(Jw(Xa),Xa=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pr.current&1?Br===0&&(Br=3):P_())),t.updateQueue!==null&&(t.flags|=4),fn(t),null);case 4:return Eu(),Uw(e,t),e===null&&Xf(t.stateNode.containerInfo),fn(t),null;case 10:return f_(t.type._context),fn(t),null;case 17:return Vn(t.type)&&wg(),fn(t),null;case 19:if(ir(pr),o=t.memoizedState,o===null)return fn(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)qd(o,!1);else{if(Br!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Cg(e),i!==null){for(t.flags|=128,qd(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return er(pr,pr.current&1|2),t.child}e=e.sibling}o.tail!==null&&kr()>Pu&&(t.flags|=128,n=!0,qd(o,!1),t.lanes=4194304)}else{if(!n)if(e=Cg(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qd(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!dr)return fn(t),null}else 2*kr()-o.renderingStartTime>Pu&&r!==1073741824&&(t.flags|=128,n=!0,qd(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=kr(),t.sibling=null,r=pr.current,er(pr,n?r&1|2:r&1),t):(fn(t),null);case 22:case 23:return C_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ta&1073741824&&(fn(t),t.subtreeFlags&6&&(t.flags|=8192)):fn(t),null;case 24:return null;case 25:return null}throw Error(Oe(156,t.tag))}function Vq(e,t){switch(l_(t),t.tag){case 1:return Vn(t.type)&&wg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Eu(),ir(Hn),ir(Sn),y_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return g_(t),null;case 13:if(ir(pr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Oe(340));ku()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ir(pr),null;case 4:return Eu(),null;case 10:return f_(t.type._context),null;case 22:case 23:return C_(),null;case 24:return null;default:return null}}var ep=!1,pn=!1,Kq=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Dc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xr(e,t,n)}else r.current=null}function zw(e,t,r){try{r()}catch(n){xr(e,t,n)}}var jE=!1;function Gq(e,t){if(kw=yg,e=U$(),s_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var y;d!==r||a!==0&&d.nodeType!==3||(l=i+a),d!==o||n!==0&&d.nodeType!==3||(c=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(y=d.firstChild)!==null;)h=d,d=y;for(;;){if(d===e)break t;if(h===r&&++u===a&&(l=i),h===o&&++f===n&&(c=i),(y=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Nw={focusedElem:e,selectionRange:r},yg=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){t=Ye;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,g=v.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:Va(t.type,p),g);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(S){xr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}return v=jE,jE=!1,v}function Ef(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&zw(t,r,o)}a=a.next}while(a!==n)}}function yv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qw(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function LM(e){var t=e.alternate;t!==null&&(e.alternate=null,LM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[To],delete t[Zf],delete t[Pw],delete t[Aq],delete t[Tq])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function DM(e){return e.tag===5||e.tag===3||e.tag===4}function _E(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||DM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ww(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=bg));else if(n!==4&&(e=e.child,e!==null))for(Ww(e,t,r),e=e.sibling;e!==null;)Ww(e,t,r),e=e.sibling}function Hw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Hw(e,t,r),e=e.sibling;e!==null;)Hw(e,t,r),e=e.sibling}var nn=null,Ga=!1;function Rs(e,t,r){for(r=r.child;r!==null;)FM(e,t,r),r=r.sibling}function FM(e,t,r){if(Mo&&typeof Mo.onCommitFiberUnmount=="function")try{Mo.onCommitFiberUnmount(cv,r)}catch{}switch(r.tag){case 5:pn||Dc(r,t);case 6:var n=nn,a=Ga;nn=null,Rs(e,t,r),nn=n,Ga=a,nn!==null&&(Ga?(e=nn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):nn.removeChild(r.stateNode));break;case 18:nn!==null&&(Ga?(e=nn,r=r.stateNode,e.nodeType===8?Px(e.parentNode,r):e.nodeType===1&&Px(e,r),Gf(e)):Px(nn,r.stateNode));break;case 4:n=nn,a=Ga,nn=r.stateNode.containerInfo,Ga=!0,Rs(e,t,r),nn=n,Ga=a;break;case 0:case 11:case 14:case 15:if(!pn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&zw(r,t,i),a=a.next}while(a!==n)}Rs(e,t,r);break;case 1:if(!pn&&(Dc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xr(r,t,l)}Rs(e,t,r);break;case 21:Rs(e,t,r);break;case 22:r.mode&1?(pn=(n=pn)||r.memoizedState!==null,Rs(e,t,r),pn=n):Rs(e,t,r);break;default:Rs(e,t,r)}}function kE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Kq),t.forEach(function(n){var a=nW.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function za(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:nn=l.stateNode,Ga=!1;break e;case 3:nn=l.stateNode.containerInfo,Ga=!0;break e;case 4:nn=l.stateNode.containerInfo,Ga=!0;break e}l=l.return}if(nn===null)throw Error(Oe(160));FM(o,i,a),nn=null,Ga=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){xr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)BM(t,e),t=t.sibling}function BM(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(za(t,e),wo(e),n&4){try{Ef(3,e,e.return),yv(3,e)}catch(p){xr(e,e.return,p)}try{Ef(5,e,e.return)}catch(p){xr(e,e.return,p)}}break;case 1:za(t,e),wo(e),n&512&&r!==null&&Dc(r,r.return);break;case 5:if(za(t,e),wo(e),n&512&&r!==null&&Dc(r,r.return),e.flags&32){var a=e.stateNode;try{Wf(a,"")}catch(p){xr(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&l$(a,o),pw(l,i);var u=pw(l,o);for(i=0;i<c.length;i+=2){var f=c[i],d=c[i+1];f==="style"?h$(a,d):f==="dangerouslySetInnerHTML"?d$(a,d):f==="children"?Wf(a,d):Kj(a,f,d,u)}switch(l){case"input":uw(a,o);break;case"textarea":c$(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Hc(a,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?Hc(a,!!o.multiple,o.defaultValue,!0):Hc(a,!!o.multiple,o.multiple?[]:"",!1))}a[Zf]=o}catch(p){xr(e,e.return,p)}}break;case 6:if(za(t,e),wo(e),n&4){if(e.stateNode===null)throw Error(Oe(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(p){xr(e,e.return,p)}}break;case 3:if(za(t,e),wo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gf(t.containerInfo)}catch(p){xr(e,e.return,p)}break;case 4:za(t,e),wo(e);break;case 13:za(t,e),wo(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(N_=kr())),n&4&&kE(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(pn=(u=pn)||f,za(t,e),pn=u):za(t,e),wo(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Ye=e,f=e.child;f!==null;){for(d=Ye=f;Ye!==null;){switch(h=Ye,y=h.child,h.tag){case 0:case 11:case 14:case 15:Ef(4,h,h.return);break;case 1:Dc(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){xr(n,r,p)}}break;case 5:Dc(h,h.return);break;case 22:if(h.memoizedState!==null){EE(d);continue}}y!==null?(y.return=h,Ye=y):EE(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=f$("display",i))}catch(p){xr(e,e.return,p)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){xr(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:za(t,e),wo(e),n&4&&kE(e);break;case 21:break;default:za(t,e),wo(e)}}function wo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(DM(r)){var n=r;break e}r=r.return}throw Error(Oe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Wf(a,""),n.flags&=-33);var o=_E(e);Hw(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=_E(e);Ww(e,l,i);break;default:throw Error(Oe(161))}}catch(c){xr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jq(e,t,r){Ye=e,UM(e)}function UM(e,t,r){for(var n=(e.mode&1)!==0;Ye!==null;){var a=Ye,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||ep;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||pn;l=ep;var u=pn;if(ep=i,(pn=c)&&!u)for(Ye=a;Ye!==null;)i=Ye,c=i.child,i.tag===22&&i.memoizedState!==null?CE(a):c!==null?(c.return=i,Ye=c):CE(a);for(;o!==null;)Ye=o,UM(o),o=o.sibling;Ye=a,ep=l,pn=u}NE(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Ye=o):NE(e)}}function NE(e){for(;Ye!==null;){var t=Ye;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pn||yv(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Va(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&uE(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}uE(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Gf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}pn||t.flags&512&&qw(t)}catch(h){xr(t,t.return,h)}}if(t===e){Ye=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ye=r;break}Ye=t.return}}function EE(e){for(;Ye!==null;){var t=Ye;if(t===e){Ye=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ye=r;break}Ye=t.return}}function CE(e){for(;Ye!==null;){var t=Ye;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{yv(4,t)}catch(c){xr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){xr(t,a,c)}}var o=t.return;try{qw(t)}catch(c){xr(t,o,c)}break;case 5:var i=t.return;try{qw(t)}catch(c){xr(t,i,c)}}}catch(c){xr(t,t.return,c)}if(t===e){Ye=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ye=l;break}Ye=t.return}}var Yq=Math.ceil,Tg=ks.ReactCurrentDispatcher,__=ks.ReactCurrentOwner,Pa=ks.ReactCurrentBatchConfig,Tt=0,Zr=null,Ar=null,cn=0,ta=0,Fc=$i(0),Br=0,oh=null,Ol=0,vv=0,k_=0,Cf=null,Un=null,N_=0,Pu=1/0,es=null,Og=!1,Vw=null,pi=null,tp=!1,ii=null,Rg=0,Pf=0,Kw=null,rg=-1,ng=0;function Tn(){return Tt&6?kr():rg!==-1?rg:rg=kr()}function gi(e){return e.mode&1?Tt&2&&cn!==0?cn&-cn:Rq.transition!==null?(ng===0&&(ng=k$()),ng):(e=Wt,e!==0||(e=window.event,e=e===void 0?16:O$(e.type)),e):1}function ao(e,t,r,n){if(50<Pf)throw Pf=0,Kw=null,Error(Oe(185));sm(e,r,n),(!(Tt&2)||e!==Zr)&&(e===Zr&&(!(Tt&2)&&(vv|=r),Br===4&&Gs(e,cn)),Kn(e,n),r===1&&Tt===0&&!(t.mode&1)&&(Pu=kr()+500,mv&&Mi()))}function Kn(e,t){var r=e.callbackNode;Rz(e,t);var n=gg(e,e===Zr?cn:0);if(n===0)r!==null&&LN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&LN(r),t===1)e.tag===0?Oq(PE.bind(null,e)):X$(PE.bind(null,e)),Cq(function(){!(Tt&6)&&Mi()}),r=null;else{switch(N$(n)){case 1:r=Qj;break;case 4:r=j$;break;case 16:r=pg;break;case 536870912:r=_$;break;default:r=pg}r=JM(r,zM.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zM(e,t){if(rg=-1,ng=0,Tt&6)throw Error(Oe(327));var r=e.callbackNode;if(Yc()&&e.callbackNode!==r)return null;var n=gg(e,e===Zr?cn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=$g(e,n);else{t=n;var a=Tt;Tt|=2;var o=WM();(Zr!==e||cn!==t)&&(es=null,Pu=kr()+500,wl(e,t));do try{Zq();break}catch(l){qM(e,l)}while(!0);d_(),Tg.current=o,Tt=a,Ar!==null?t=0:(Zr=null,cn=0,t=Br)}if(t!==0){if(t===2&&(a=bw(e),a!==0&&(n=a,t=Gw(e,a))),t===1)throw r=oh,wl(e,0),Gs(e,n),Kn(e,kr()),r;if(t===6)Gs(e,n);else{if(a=e.current.alternate,!(n&30)&&!Xq(a)&&(t=$g(e,n),t===2&&(o=bw(e),o!==0&&(n=o,t=Gw(e,o))),t===1))throw r=oh,wl(e,0),Gs(e,n),Kn(e,kr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Oe(345));case 2:Xi(e,Un,es);break;case 3:if(Gs(e,n),(n&130023424)===n&&(t=N_+500-kr(),10<t)){if(gg(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Tn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Cw(Xi.bind(null,e,Un,es),t);break}Xi(e,Un,es);break;case 4:if(Gs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-no(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=kr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Yq(n/1960))-n,10<n){e.timeoutHandle=Cw(Xi.bind(null,e,Un,es),n);break}Xi(e,Un,es);break;case 5:Xi(e,Un,es);break;default:throw Error(Oe(329))}}}return Kn(e,kr()),e.callbackNode===r?zM.bind(null,e):null}function Gw(e,t){var r=Cf;return e.current.memoizedState.isDehydrated&&(wl(e,t).flags|=256),e=$g(e,t),e!==2&&(t=Un,Un=r,t!==null&&Jw(t)),e}function Jw(e){Un===null?Un=e:Un.push.apply(Un,e)}function Xq(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!co(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gs(e,t){for(t&=~k_,t&=~vv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-no(t),n=1<<r;e[r]=-1,t&=~n}}function PE(e){if(Tt&6)throw Error(Oe(327));Yc();var t=gg(e,0);if(!(t&1))return Kn(e,kr()),null;var r=$g(e,t);if(e.tag!==0&&r===2){var n=bw(e);n!==0&&(t=n,r=Gw(e,n))}if(r===1)throw r=oh,wl(e,0),Gs(e,t),Kn(e,kr()),r;if(r===6)throw Error(Oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xi(e,Un,es),Kn(e,kr()),null}function E_(e,t){var r=Tt;Tt|=1;try{return e(t)}finally{Tt=r,Tt===0&&(Pu=kr()+500,mv&&Mi())}}function Rl(e){ii!==null&&ii.tag===0&&!(Tt&6)&&Yc();var t=Tt;Tt|=1;var r=Pa.transition,n=Wt;try{if(Pa.transition=null,Wt=1,e)return e()}finally{Wt=n,Pa.transition=r,Tt=t,!(Tt&6)&&Mi()}}function C_(){ta=Fc.current,ir(Fc)}function wl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Eq(r)),Ar!==null)for(r=Ar.return;r!==null;){var n=r;switch(l_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wg();break;case 3:Eu(),ir(Hn),ir(Sn),y_();break;case 5:g_(n);break;case 4:Eu();break;case 13:ir(pr);break;case 19:ir(pr);break;case 10:f_(n.type._context);break;case 22:case 23:C_()}r=r.return}if(Zr=e,Ar=e=yi(e.current,null),cn=ta=t,Br=0,oh=null,k_=vv=Ol=0,Un=Cf=null,il!==null){for(t=0;t<il.length;t++)if(r=il[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}il=null}return e}function qM(e,t){do{var r=Ar;try{if(d_(),Zp.current=Ag,Pg){for(var n=gr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Pg=!1}if(Tl=0,Vr=Lr=gr=null,Nf=!1,rh=0,__.current=null,r===null||r.return===null){Br=1,oh=t,Ar=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=cn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=gE(i);if(y!==null){y.flags&=-257,yE(y,i,l,o,t),y.mode&1&&pE(o,u,t),t=y,c=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(c),t.updateQueue=p}else v.add(c);break e}else{if(!(t&1)){pE(o,u,t),P_();break e}c=Error(Oe(426))}}else if(dr&&l.mode&1){var g=gE(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),yE(g,i,l,o,t),c_(Cu(c,l));break e}}o=c=Cu(c,l),Br!==4&&(Br=2),Cf===null?Cf=[o]:Cf.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=NM(o,c,t);cE(o,x);break e;case 1:l=c;var b=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(pi===null||!pi.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=EM(o,l,t);cE(o,S);break e}}o=o.return}while(o!==null)}VM(r)}catch(j){t=j,Ar===r&&r!==null&&(Ar=r=r.return);continue}break}while(!0)}function WM(){var e=Tg.current;return Tg.current=Ag,e===null?Ag:e}function P_(){(Br===0||Br===3||Br===2)&&(Br=4),Zr===null||!(Ol&268435455)&&!(vv&268435455)||Gs(Zr,cn)}function $g(e,t){var r=Tt;Tt|=2;var n=WM();(Zr!==e||cn!==t)&&(es=null,wl(e,t));do try{Qq();break}catch(a){qM(e,a)}while(!0);if(d_(),Tt=r,Tg.current=n,Ar!==null)throw Error(Oe(261));return Zr=null,cn=0,Br}function Qq(){for(;Ar!==null;)HM(Ar)}function Zq(){for(;Ar!==null&&!_z();)HM(Ar)}function HM(e){var t=GM(e.alternate,e,ta);e.memoizedProps=e.pendingProps,t===null?VM(e):Ar=t,__.current=null}function VM(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Vq(r,t),r!==null){r.flags&=32767,Ar=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Br=6,Ar=null;return}}else if(r=Hq(r,t,ta),r!==null){Ar=r;return}if(t=t.sibling,t!==null){Ar=t;return}Ar=t=e}while(t!==null);Br===0&&(Br=5)}function Xi(e,t,r){var n=Wt,a=Pa.transition;try{Pa.transition=null,Wt=1,eW(e,t,r,n)}finally{Pa.transition=a,Wt=n}return null}function eW(e,t,r,n){do Yc();while(ii!==null);if(Tt&6)throw Error(Oe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Oe(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if($z(e,o),e===Zr&&(Ar=Zr=null,cn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tp||(tp=!0,JM(pg,function(){return Yc(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Pa.transition,Pa.transition=null;var i=Wt;Wt=1;var l=Tt;Tt|=4,__.current=null,Gq(e,r),BM(r,e),bq(Nw),yg=!!kw,Nw=kw=null,e.current=r,Jq(r),kz(),Tt=l,Wt=i,Pa.transition=o}else e.current=r;if(tp&&(tp=!1,ii=e,Rg=a),o=e.pendingLanes,o===0&&(pi=null),Cz(r.stateNode),Kn(e,kr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Og)throw Og=!1,e=Vw,Vw=null,e;return Rg&1&&e.tag!==0&&Yc(),o=e.pendingLanes,o&1?e===Kw?Pf++:(Pf=0,Kw=e):Pf=0,Mi(),null}function Yc(){if(ii!==null){var e=N$(Rg),t=Pa.transition,r=Wt;try{if(Pa.transition=null,Wt=16>e?16:e,ii===null)var n=!1;else{if(e=ii,ii=null,Rg=0,Tt&6)throw Error(Oe(331));var a=Tt;for(Tt|=4,Ye=e.current;Ye!==null;){var o=Ye,i=o.child;if(Ye.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ye=u;Ye!==null;){var f=Ye;switch(f.tag){case 0:case 11:case 15:Ef(8,f,o)}var d=f.child;if(d!==null)d.return=f,Ye=d;else for(;Ye!==null;){f=Ye;var h=f.sibling,y=f.return;if(LM(f),f===u){Ye=null;break}if(h!==null){h.return=y,Ye=h;break}Ye=y}}}var v=o.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}Ye=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Ye=i;else e:for(;Ye!==null;){if(o=Ye,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ef(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,Ye=x;break e}Ye=o.return}}var b=e.current;for(Ye=b;Ye!==null;){i=Ye;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,Ye=w;else e:for(i=b;Ye!==null;){if(l=Ye,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yv(9,l)}}catch(j){xr(l,l.return,j)}if(l===i){Ye=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Ye=S;break e}Ye=l.return}}if(Tt=a,Mi(),Mo&&typeof Mo.onPostCommitFiberRoot=="function")try{Mo.onPostCommitFiberRoot(cv,e)}catch{}n=!0}return n}finally{Wt=r,Pa.transition=t}}return!1}function AE(e,t,r){t=Cu(r,t),t=NM(e,t,1),e=mi(e,t,1),t=Tn(),e!==null&&(sm(e,1,t),Kn(e,t))}function xr(e,t,r){if(e.tag===3)AE(e,e,r);else for(;t!==null;){if(t.tag===3){AE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pi===null||!pi.has(n))){e=Cu(r,e),e=EM(t,e,1),t=mi(t,e,1),e=Tn(),t!==null&&(sm(t,1,e),Kn(t,e));break}}t=t.return}}function tW(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Tn(),e.pingedLanes|=e.suspendedLanes&r,Zr===e&&(cn&r)===r&&(Br===4||Br===3&&(cn&130023424)===cn&&500>kr()-N_?wl(e,0):k_|=r),Kn(e,t)}function KM(e,t){t===0&&(e.mode&1?(t=Hm,Hm<<=1,!(Hm&130023424)&&(Hm=4194304)):t=1);var r=Tn();e=vs(e,t),e!==null&&(sm(e,t,r),Kn(e,r))}function rW(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),KM(e,r)}function nW(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Oe(314))}n!==null&&n.delete(t),KM(e,r)}var GM;GM=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Hn.current)qn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qn=!1,Wq(e,t,r);qn=!!(e.flags&131072)}else qn=!1,dr&&t.flags&1048576&&Q$(t,_g,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;tg(e,t),e=t.pendingProps;var a=_u(t,Sn.current);Jc(t,r),a=x_(null,t,n,e,a,r);var o=b_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vn(n)?(o=!0,Sg(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,m_(t),a.updater=gv,t.stateNode=a,a._reactInternals=t,Mw(t,n,e,r),t=Dw(null,t,n,!0,o,r)):(t.tag=0,dr&&o&&i_(t),Pn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(tg(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=oW(n),e=Va(n,e),a){case 0:t=Lw(null,t,n,e,r);break e;case 1:t=bE(null,t,n,e,r);break e;case 11:t=vE(null,t,n,e,r);break e;case 14:t=xE(null,t,n,Va(n.type,e),r);break e}throw Error(Oe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Va(n,a),Lw(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Va(n,a),bE(e,t,n,a,r);case 3:e:{if(TM(t),e===null)throw Error(Oe(387));n=t.pendingProps,o=t.memoizedState,a=o.element,aM(e,t),Eg(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Cu(Error(Oe(423)),t),t=wE(e,t,n,r,a);break e}else if(n!==a){a=Cu(Error(Oe(424)),t),t=wE(e,t,n,r,a);break e}else for(oa=hi(t.stateNode.containerInfo.firstChild),sa=t,dr=!0,Xa=null,r=rM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ku(),n===a){t=xs(e,t,r);break e}Pn(e,t,n,r)}t=t.child}return t;case 5:return oM(t),e===null&&Ow(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,Ew(n,a)?i=null:o!==null&&Ew(n,o)&&(t.flags|=32),AM(e,t),Pn(e,t,i,r),t.child;case 6:return e===null&&Ow(t),null;case 13:return OM(e,t,r);case 4:return p_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Nu(t,null,n,r):Pn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Va(n,a),vE(e,t,n,a,r);case 7:return Pn(e,t,t.pendingProps,r),t.child;case 8:return Pn(e,t,t.pendingProps.children,r),t.child;case 12:return Pn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,er(kg,n._currentValue),n._currentValue=i,o!==null)if(co(o.value,i)){if(o.children===a.children&&!Hn.current){t=xs(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=us(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Rw(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(Oe(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Rw(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Pn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Jc(t,r),a=Oa(a),n=n(a),t.flags|=1,Pn(e,t,n,r),t.child;case 14:return n=t.type,a=Va(n,t.pendingProps),a=Va(n.type,a),xE(e,t,n,a,r);case 15:return CM(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Va(n,a),tg(e,t),t.tag=1,Vn(n)?(e=!0,Sg(t)):e=!1,Jc(t,r),kM(t,n,a),Mw(t,n,a,r),Dw(null,t,n,!0,e,r);case 19:return RM(e,t,r);case 22:return PM(e,t,r)}throw Error(Oe(156,t.tag))};function JM(e,t){return S$(e,t)}function aW(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(e,t,r,n){return new aW(e,t,r,n)}function A_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oW(e){if(typeof e=="function")return A_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jj)return 11;if(e===Yj)return 14}return 2}function yi(e,t){var r=e.alternate;return r===null?(r=_a(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ag(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")A_(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Pc:return Sl(r.children,a,o,t);case Gj:i=8,a|=8;break;case ow:return e=_a(12,r,t,a|2),e.elementType=ow,e.lanes=o,e;case sw:return e=_a(13,r,t,a),e.elementType=sw,e.lanes=o,e;case iw:return e=_a(19,r,t,a),e.elementType=iw,e.lanes=o,e;case o$:return xv(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case n$:i=10;break e;case a$:i=9;break e;case Jj:i=11;break e;case Yj:i=14;break e;case qs:i=16,n=null;break e}throw Error(Oe(130,e==null?e:typeof e,""))}return t=_a(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function Sl(e,t,r,n){return e=_a(7,e,n,t),e.lanes=r,e}function xv(e,t,r,n){return e=_a(22,e,n,t),e.elementType=o$,e.lanes=r,e.stateNode={isHidden:!1},e}function Lx(e,t,r){return e=_a(6,e,null,t),e.lanes=r,e}function Dx(e,t,r){return t=_a(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sW(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vx(0),this.expirationTimes=vx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vx(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function T_(e,t,r,n,a,o,i,l,c){return e=new sW(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=_a(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},m_(o),e}function iW(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function YM(e){if(!e)return Ni;e=e._reactInternals;e:{if(Gl(e)!==e||e.tag!==1)throw Error(Oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Oe(171))}if(e.tag===1){var r=e.type;if(Vn(r))return Y$(e,r,t)}return t}function XM(e,t,r,n,a,o,i,l,c){return e=T_(r,n,!0,e,a,o,i,l,c),e.context=YM(null),r=e.current,n=Tn(),a=gi(r),o=us(n,a),o.callback=t??null,mi(r,o,a),e.current.lanes=a,sm(e,a,n),Kn(e,n),e}function bv(e,t,r,n){var a=t.current,o=Tn(),i=gi(a);return r=YM(r),t.context===null?t.context=r:t.pendingContext=r,t=us(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=mi(a,t,i),e!==null&&(ao(e,a,i,o),Qp(e,a,i)),i}function Mg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function TE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function O_(e,t){TE(e,t),(e=e.alternate)&&TE(e,t)}function lW(){return null}var QM=typeof reportError=="function"?reportError:function(e){console.error(e)};function R_(e){this._internalRoot=e}wv.prototype.render=R_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Oe(409));bv(e,t,null,null)};wv.prototype.unmount=R_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rl(function(){bv(null,e,null,null)}),t[ys]=null}};function wv(e){this._internalRoot=e}wv.prototype.unstable_scheduleHydration=function(e){if(e){var t=P$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ks.length&&t!==0&&t<Ks[r].priority;r++);Ks.splice(r,0,e),r===0&&T$(e)}};function $_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function OE(){}function cW(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var u=Mg(i);o.call(u)}}var i=XM(t,n,e,0,null,!1,!1,"",OE);return e._reactRootContainer=i,e[ys]=i.current,Xf(e.nodeType===8?e.parentNode:e),Rl(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Mg(c);l.call(u)}}var c=T_(e,0,!1,null,null,!1,!1,"",OE);return e._reactRootContainer=c,e[ys]=c.current,Xf(e.nodeType===8?e.parentNode:e),Rl(function(){bv(t,c,r,n)}),c}function jv(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=Mg(i);l.call(c)}}bv(t,i,e,a)}else i=cW(r,t,e,a,n);return Mg(i)}E$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=mf(t.pendingLanes);r!==0&&(Zj(t,r|1),Kn(t,kr()),!(Tt&6)&&(Pu=kr()+500,Mi()))}break;case 13:Rl(function(){var n=vs(e,1);if(n!==null){var a=Tn();ao(n,e,1,a)}}),O_(e,1)}};e_=function(e){if(e.tag===13){var t=vs(e,134217728);if(t!==null){var r=Tn();ao(t,e,134217728,r)}O_(e,134217728)}};C$=function(e){if(e.tag===13){var t=gi(e),r=vs(e,t);if(r!==null){var n=Tn();ao(r,e,t,n)}O_(e,t)}};P$=function(){return Wt};A$=function(e,t){var r=Wt;try{return Wt=e,t()}finally{Wt=r}};yw=function(e,t,r){switch(t){case"input":if(uw(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=hv(n);if(!a)throw Error(Oe(90));i$(n),uw(n,a)}}}break;case"textarea":c$(e,r);break;case"select":t=r.value,t!=null&&Hc(e,!!r.multiple,t,!1)}};g$=E_;y$=Rl;var uW={usingClientEntryPoint:!1,Events:[lm,Rc,hv,m$,p$,E_]},Wd={findFiberByHostInstance:sl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dW={bundleType:Wd.bundleType,version:Wd.version,rendererPackageName:Wd.rendererPackageName,rendererConfig:Wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=b$(e),e===null?null:e.stateNode},findFiberByHostInstance:Wd.findFiberByHostInstance||lW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rp.isDisabled&&rp.supportsFiber)try{cv=rp.inject(dW),Mo=rp}catch{}}ua.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uW;ua.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$_(t))throw Error(Oe(200));return iW(e,t,null,r)};ua.createRoot=function(e,t){if(!$_(e))throw Error(Oe(299));var r=!1,n="",a=QM;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=T_(e,1,!1,null,null,r,!1,n,a),e[ys]=t.current,Xf(e.nodeType===8?e.parentNode:e),new R_(t)};ua.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Oe(188)):(e=Object.keys(e).join(","),Error(Oe(268,e)));return e=b$(t),e=e===null?null:e.stateNode,e};ua.flushSync=function(e){return Rl(e)};ua.hydrate=function(e,t,r){if(!Sv(t))throw Error(Oe(200));return jv(null,e,t,!0,r)};ua.hydrateRoot=function(e,t,r){if(!$_(e))throw Error(Oe(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=QM;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=XM(t,null,e,1,r??null,a,!1,o,i),e[ys]=t.current,Xf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new wv(t)};ua.render=function(e,t,r){if(!Sv(t))throw Error(Oe(200));return jv(null,e,t,!1,r)};ua.unmountComponentAtNode=function(e){if(!Sv(e))throw Error(Oe(40));return e._reactRootContainer?(Rl(function(){jv(null,null,e,!1,function(){e._reactRootContainer=null,e[ys]=null})}),!0):!1};ua.unstable_batchedUpdates=E_;ua.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Sv(r))throw Error(Oe(200));if(e==null||e._reactInternals===void 0)throw Error(Oe(38));return jv(e,t,r,!1,n)};ua.version="18.3.1-next-f1338f8080-20240426";function ZM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZM)}catch(e){console.error(e)}}ZM(),ZR.exports=ua;var Jl=ZR.exports;const um=Gt(Jl);var RE=Jl;nw.createRoot=RE.createRoot,nw.hydrateRoot=RE.hydrateRoot;var Ig=["light","dark"],M_="(prefers-color-scheme: dark)",fW=typeof window>"u",I_=m.createContext(void 0),hW={setTheme:e=>{},themes:[]},Ii=()=>{var e;return(e=m.useContext(I_))!=null?e:hW},mW=e=>m.useContext(I_)?e.children:m.createElement(gW,{...e}),pW=["light","dark"],gW=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:o=pW,defaultTheme:i=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:f})=>{let[d,h]=m.useState(()=>$E(a,i)),[y,v]=m.useState(()=>$E(a)),p=c?Object.values(c):o,g=m.useCallback(S=>{let j=S;if(!j)return;S==="system"&&r&&(j=ME());let k=c?c[j]:j,_=t?vW():null,N=document.documentElement;if(l==="class"?(N.classList.remove(...p),k&&N.classList.add(k)):k?N.setAttribute(l,k):N.removeAttribute(l),n){let E=Ig.includes(i)?i:null,A=Ig.includes(j)?j:E;N.style.colorScheme=A}_==null||_()},[]),x=m.useCallback(S=>{let j=typeof S=="function"?S(S):S;h(j);try{localStorage.setItem(a,j)}catch{}},[e]),b=m.useCallback(S=>{let j=ME(S);v(j),d==="system"&&r&&!e&&g("system")},[d,e]);m.useEffect(()=>{let S=window.matchMedia(M_);return S.addListener(b),b(S),()=>S.removeListener(b)},[b]),m.useEffect(()=>{let S=j=>{if(j.key!==a)return;let k=j.newValue||i;x(k)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[x]),m.useEffect(()=>{g(e??d)},[e,d]);let w=m.useMemo(()=>({theme:d,setTheme:x,forcedTheme:e,resolvedTheme:d==="system"?y:d,themes:r?[...o,"system"]:o,systemTheme:r?y:void 0}),[d,x,e,y,r,o]);return m.createElement(I_.Provider,{value:w},m.createElement(yW,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:o,defaultTheme:i,attribute:l,value:c,children:u,attrs:p,nonce:f}),u)},yW=m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=a?Ig.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,p=!1,g=!0)=>{let x=i?i[v]:v,b=p?v+"|| ''":`'${x}'`,w="";return a&&g&&!p&&Ig.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?p||x?w+=`c.add(${b})`:w+="null":x&&(w+=`d[s](n,${b})`),w},y=e?`!function(){${f}${h(e)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${M_}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(o,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${d}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:y}})}),$E=(e,t)=>{if(fW)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},vW=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},ME=e=>(e||(e=window.matchMedia(M_)),e.matches?"dark":"light"),xW=e=>{switch(e){case"success":return SW;case"info":return _W;case"warning":return jW;case"error":return kW;default:return null}},bW=Array(12).fill(0),wW=({visible:e})=>I.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},I.createElement("div",{className:"sonner-spinner"},bW.map((t,r)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),SW=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jW=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_W=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kW=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),NW=()=>{let[e,t]=I.useState(document.hidden);return I.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Yw=1,EW=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Yw++,o=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0;return n.then(async o=>{if(PW(o)&&!o.ok){a=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){a=!1;let i=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async o=>{if(t.error!==void 0){a=!1;let i=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var o;a&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Yw++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},ea=new EW,CW=(e,t)=>{let r=(t==null?void 0:t.id)||Yw++;return ea.addToast({title:e,...t,id:r}),r},PW=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",AW=CW,TW=()=>ea.toasts,se=Object.assign(AW,{success:ea.success,info:ea.info,warning:ea.warning,error:ea.error,custom:ea.custom,message:ea.message,promise:ea.promise,dismiss:ea.dismiss,loading:ea.loading},{getHistory:TW});function OW(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}OW(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function np(e){return e.label!==void 0}var RW=3,$W="32px",MW=4e3,IW=356,LW=14,DW=20,FW=200;function BW(...e){return e.filter(Boolean).join(" ")}var UW=e=>{var t,r,n,a,o,i,l,c,u,f;let{invert:d,toast:h,unstyled:y,interacting:v,setHeights:p,visibleToasts:g,heights:x,index:b,toasts:w,expanded:S,removeToast:j,defaultRichColors:k,closeButton:_,style:N,cancelButtonStyle:E,actionButtonStyle:A,className:T="",descriptionClassName:D="",duration:B,position:z,gap:F,loadingIcon:$,expandByDefault:U,classNames:P,icons:M,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:R,cn:q}=e,[ee,ne]=I.useState(!1),[ce,ue]=I.useState(!1),[ie,O]=I.useState(!1),[L,H]=I.useState(!1),[X,V]=I.useState(0),[ae,Z]=I.useState(0),de=I.useRef(null),oe=I.useRef(null),ye=b===0,be=b+1<=g,Be=h.type,it=h.dismissible!==!1,ge=h.className||"",xe=h.descriptionClassName||"",qe=I.useMemo(()=>x.findIndex(he=>he.toastId===h.id)||0,[x,h.id]),rt=I.useMemo(()=>{var he;return(he=h.closeButton)!=null?he:_},[h.closeButton,_]),nt=I.useMemo(()=>h.duration||B||MW,[h.duration,B]),yt=I.useRef(0),at=I.useRef(0),We=I.useRef(0),J=I.useRef(null),[K,re]=z.split("-"),we=I.useMemo(()=>x.reduce((he,Me,Re)=>Re>=qe?he:he+Me.height,0),[x,qe]),Pe=NW(),Te=h.invert||d,Je=Be==="loading";at.current=I.useMemo(()=>qe*F+we,[qe,we]),I.useEffect(()=>{ne(!0)},[]),I.useLayoutEffect(()=>{if(!ee)return;let he=oe.current,Me=he.style.height;he.style.height="auto";let Re=he.getBoundingClientRect().height;he.style.height=Me,Z(Re),p(C=>C.find(Y=>Y.toastId===h.id)?C.map(Y=>Y.toastId===h.id?{...Y,height:Re}:Y):[{toastId:h.id,height:Re,position:h.position},...C])},[ee,h.title,h.description,p,h.id]);let $e=I.useCallback(()=>{ue(!0),V(at.current),p(he=>he.filter(Me=>Me.toastId!==h.id)),setTimeout(()=>{j(h)},FW)},[h,j,p,at]);I.useEffect(()=>{if(h.promise&&Be==="loading"||h.duration===1/0||h.type==="loading")return;let he,Me=nt;return S||v||R&&Pe?(()=>{if(We.current<yt.current){let Re=new Date().getTime()-yt.current;Me=Me-Re}We.current=new Date().getTime()})():Me!==1/0&&(yt.current=new Date().getTime(),he=setTimeout(()=>{var Re;(Re=h.onAutoClose)==null||Re.call(h,h),$e()},Me)),()=>clearTimeout(he)},[S,v,U,h,nt,$e,h.promise,Be,R,Pe]),I.useEffect(()=>{let he=oe.current;if(he){let Me=he.getBoundingClientRect().height;return Z(Me),p(Re=>[{toastId:h.id,height:Me,position:h.position},...Re]),()=>p(Re=>Re.filter(C=>C.toastId!==h.id))}},[p,h.id]),I.useEffect(()=>{h.delete&&$e()},[$e,h.delete]);function Ze(){return M!=null&&M.loading?I.createElement("div",{className:"sonner-loader","data-visible":Be==="loading"},M.loading):$?I.createElement("div",{className:"sonner-loader","data-visible":Be==="loading"},$):I.createElement(wW,{visible:Be==="loading"})}return I.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:oe,className:q(T,ge,P==null?void 0:P.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[Be],(r=h==null?void 0:h.classNames)==null?void 0:r[Be]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:k,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":ee,"data-promise":!!h.promise,"data-removed":ce,"data-visible":be,"data-y-position":K,"data-x-position":re,"data-index":b,"data-front":ye,"data-swiping":ie,"data-dismissible":it,"data-type":Be,"data-invert":Te,"data-swipe-out":L,"data-expanded":!!(S||U&&ee),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${ce?X:at.current}px`,"--initial-height":U?"auto":`${ae}px`,...N,...h.style},onPointerDown:he=>{Je||!it||(de.current=new Date,V(at.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(O(!0),J.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,Me,Re,C;if(L||!it)return;J.current=null;let Y=Number(((he=oe.current)==null?void 0:he.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ee=new Date().getTime()-((Me=de.current)==null?void 0:Me.getTime()),ze=Math.abs(Y)/Ee;if(Math.abs(Y)>=DW||ze>.11){V(at.current),(Re=h.onDismiss)==null||Re.call(h,h),$e(),H(!0);return}(C=oe.current)==null||C.style.setProperty("--swipe-amount","0px"),O(!1)},onPointerMove:he=>{var Me;if(!J.current||!it)return;let Re=he.clientY-J.current.y,C=he.clientX-J.current.x,Y=(K==="top"?Math.min:Math.max)(0,Re),Ee=he.pointerType==="touch"?10:2;Math.abs(Y)>Ee?(Me=oe.current)==null||Me.style.setProperty("--swipe-amount",`${Re}px`):Math.abs(C)>Ee&&(J.current=null)}},rt&&!h.jsx?I.createElement("button",{"aria-label":W,"data-disabled":Je,"data-close-button":!0,onClick:Je||!it?()=>{}:()=>{var he;$e(),(he=h.onDismiss)==null||he.call(h,h)},className:q(P==null?void 0:P.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||I.isValidElement(h.title)?h.jsx||h.title:I.createElement(I.Fragment,null,Be||h.icon||h.promise?I.createElement("div",{"data-icon":"",className:q(P==null?void 0:P.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ze():null,h.type!=="loading"?h.icon||(M==null?void 0:M[Be])||xW(Be):null):null,I.createElement("div",{"data-content":"",className:q(P==null?void 0:P.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},I.createElement("div",{"data-title":"",className:q(P==null?void 0:P.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?I.createElement("div",{"data-description":"",className:q(D,xe,P==null?void 0:P.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),I.isValidElement(h.cancel)?h.cancel:h.cancel&&np(h.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:he=>{var Me,Re;np(h.cancel)&&it&&((Re=(Me=h.cancel).onClick)==null||Re.call(Me,he),$e())},className:q(P==null?void 0:P.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,I.isValidElement(h.action)?h.action:h.action&&np(h.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||A,onClick:he=>{var Me,Re;np(h.action)&&(he.defaultPrevented||((Re=(Me=h.action).onClick)==null||Re.call(Me,he),$e()))},className:q(P==null?void 0:P.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function IE(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var zW=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:o,className:i,offset:l,theme:c="light",richColors:u,duration:f,style:d,visibleToasts:h=RW,toastOptions:y,dir:v=IE(),gap:p=LW,loadingIcon:g,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w,cn:S=BW}=e,[j,k]=I.useState([]),_=I.useMemo(()=>Array.from(new Set([r].concat(j.filter(R=>R.position).map(R=>R.position)))),[j,r]),[N,E]=I.useState([]),[A,T]=I.useState(!1),[D,B]=I.useState(!1),[z,F]=I.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=I.useRef(null),U=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=I.useRef(null),M=I.useRef(!1),W=I.useCallback(R=>{var q;(q=j.find(ee=>ee.id===R.id))!=null&&q.delete||ea.dismiss(R.id),k(ee=>ee.filter(({id:ne})=>ne!==R.id))},[j]);return I.useEffect(()=>ea.subscribe(R=>{if(R.dismiss){k(q=>q.map(ee=>ee.id===R.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{um.flushSync(()=>{k(q=>{let ee=q.findIndex(ne=>ne.id===R.id);return ee!==-1?[...q.slice(0,ee),{...q[ee],...R},...q.slice(ee+1)]:[R,...q]})})})}),[]),I.useEffect(()=>{if(c!=="system"){F(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:R})=>{F(R?"dark":"light")})},[c]),I.useEffect(()=>{j.length<=1&&T(!1)},[j]),I.useEffect(()=>{let R=q=>{var ee,ne;n.every(ce=>q[ce]||q.code===ce)&&(T(!0),(ee=$.current)==null||ee.focus()),q.code==="Escape"&&(document.activeElement===$.current||(ne=$.current)!=null&&ne.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[n]),I.useEffect(()=>{if($.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,M.current=!1)}},[$.current]),j.length?I.createElement("section",{"aria-label":`${b} ${U}`,tabIndex:-1},_.map((R,q)=>{var ee;let[ne,ce]=R.split("-");return I.createElement("ol",{key:R,dir:v==="auto"?IE():v,tabIndex:-1,ref:$,className:i,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":ne,"data-x-position":ce,style:{"--front-toast-height":`${((ee=N[0])==null?void 0:ee.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||$W,"--width":`${IW}px`,"--gap":`${p}px`,...d},onBlur:ue=>{M.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(M.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||M.current||(M.current=!0,P.current=ue.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{D||T(!1)},onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},j.filter(ue=>!ue.position&&q===0||ue.position===R).map((ue,ie)=>{var O,L;return I.createElement(UW,{key:ue.id,icons:x,index:ie,toast:ue,defaultRichColors:u,duration:(O=y==null?void 0:y.duration)!=null?O:f,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:t,visibleToasts:h,closeButton:(L=y==null?void 0:y.closeButton)!=null?L:o,interacting:D,position:R,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:W,toasts:j.filter(H=>H.position==ue.position),heights:N.filter(H=>H.position==ue.position),setHeights:E,expandByDefault:a,gap:p,loadingIcon:g,expanded:A,pauseWhenPageIsHidden:w,cn:S})}))})):null};const qW=({...e})=>{const{theme:t="light"}=Ii();return s.jsx(zW,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg group-[.toaster]:rounded-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground group-[.toast]:rounded-md",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground group-[.toast]:rounded-md"}},...e})};function Ie(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function WW(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function _v(...e){return t=>e.forEach(r=>WW(r,t))}function ct(...e){return m.useCallback(_v(...e),e)}function HW(e,t){const r=m.createContext(t),n=o=>{const{children:i,...l}=o,c=m.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(o){const i=m.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,a]}function fa(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=d=>{var x;const{scope:h,children:y,...v}=d,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,g=m.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:g,children:y})};u.displayName=o+"Provider";function f(d,h){var p;const y=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=m.useContext(y);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,f]}const a=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,VW(a,...t)]}function VW(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Ei=m.forwardRef((e,t)=>{const{children:r,...n}=e,a=m.Children.toArray(r),o=a.find(KW);if(o){const i=o.props.children,l=a.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return s.jsx(Xw,{...n,ref:t,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return s.jsx(Xw,{...n,ref:t,children:r})});Ei.displayName="Slot";var Xw=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const a=JW(r);return m.cloneElement(r,{...GW(n,r.props),ref:t?_v(t,a):a})}return m.Children.count(r)>1?m.Children.only(null):null});Xw.displayName="SlotClone";var L_=({children:e})=>s.jsx(s.Fragment,{children:e});function KW(e){return m.isValidElement(e)&&e.type===L_}function GW(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...l)=>{o(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function JW(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var YW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ke=YW.reduce((e,t)=>{const r=m.forwardRef((n,a)=>{const{asChild:o,...i}=n,l=o?Ei:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...i,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function dm(e,t){e&&Jl.flushSync(()=>e.dispatchEvent(t))}function Ot(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function XW(e,t=globalThis==null?void 0:globalThis.document){const r=Ot(e);m.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var QW="DismissableLayer",Qw="dismissableLayer.update",ZW="dismissableLayer.pointerDownOutside",eH="dismissableLayer.focusOutside",LE,eI=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tI=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(eI),[f,d]=m.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),v=ct(t,_=>d(_)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(g),b=f?p.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=x,j=nH(_=>{const N=_.target,E=[...u.branches].some(A=>A.contains(N));!S||E||(a==null||a(_),i==null||i(_),_.defaultPrevented||l==null||l())},h),k=aH(_=>{const N=_.target;[...u.branches].some(A=>A.contains(N))||(o==null||o(_),i==null||i(_),_.defaultPrevented||l==null||l())},h);return XW(_=>{b===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(LE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),DE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=LE)}},[f,h,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),DE())},[f,u]),m.useEffect(()=>{const _=()=>y({});return document.addEventListener(Qw,_),()=>document.removeEventListener(Qw,_)},[]),s.jsx(Ke.div,{...c,ref:v,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,j.onPointerDownCapture)})});tI.displayName=QW;var tH="DismissableLayerBranch",rH=m.forwardRef((e,t)=>{const r=m.useContext(eI),n=m.useRef(null),a=ct(t,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),s.jsx(Ke.div,{...e,ref:a})});rH.displayName=tH;function nH(e,t=globalThis==null?void 0:globalThis.document){const r=Ot(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){rI(ZW,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function aH(e,t=globalThis==null?void 0:globalThis.document){const r=Ot(e),n=m.useRef(!1);return m.useEffect(()=>{const a=o=>{o.target&&!n.current&&rI(eH,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function DE(){const e=new CustomEvent(Qw);document.dispatchEvent(e)}function rI(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?dm(a,o):a.dispatchEvent(o)}var Er=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},oH=lv.useId||(()=>{}),sH=0;function oo(e){const[t,r]=m.useState(oH());return Er(()=>{r(n=>n??String(sH++))},[e]),t?`radix-${t}`:""}const iH=["top","right","bottom","left"],Ci=Math.min,na=Math.max,Lg=Math.round,ap=Math.floor,Lo=e=>({x:e,y:e}),lH={left:"right",right:"left",bottom:"top",top:"bottom"},cH={start:"end",end:"start"};function Zw(e,t,r){return na(e,Ci(t,r))}function bs(e,t){return typeof e=="function"?e(t):e}function ws(e){return e.split("-")[0]}function id(e){return e.split("-")[1]}function D_(e){return e==="x"?"y":"x"}function F_(e){return e==="y"?"height":"width"}const uH=new Set(["top","bottom"]);function Ro(e){return uH.has(ws(e))?"y":"x"}function B_(e){return D_(Ro(e))}function dH(e,t,r){r===void 0&&(r=!1);const n=id(e),a=B_(e),o=F_(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Dg(i)),[i,Dg(i)]}function fH(e){const t=Dg(e);return[e1(e),t,e1(t)]}function e1(e){return e.replace(/start|end/g,t=>cH[t])}const FE=["left","right"],BE=["right","left"],hH=["top","bottom"],mH=["bottom","top"];function pH(e,t,r){switch(e){case"top":case"bottom":return r?t?BE:FE:t?FE:BE;case"left":case"right":return t?hH:mH;default:return[]}}function gH(e,t,r,n){const a=id(e);let o=pH(ws(e),r==="start",n);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(e1)))),o}function Dg(e){return e.replace(/left|right|bottom|top/g,t=>lH[t])}function yH(e){return{top:0,right:0,bottom:0,left:0,...e}}function nI(e){return typeof e!="number"?yH(e):{top:e,right:e,bottom:e,left:e}}function Fg(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function UE(e,t,r){let{reference:n,floating:a}=e;const o=Ro(t),i=B_(t),l=F_(i),c=ws(t),u=o==="y",f=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let y;switch(c){case"top":y={x:f,y:n.y-a.height};break;case"bottom":y={x:f,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:d};break;case"left":y={x:n.x-a.width,y:d};break;default:y={x:n.x,y:n.y}}switch(id(t)){case"start":y[i]-=h*(r&&u?-1:1);break;case"end":y[i]+=h*(r&&u?-1:1);break}return y}const vH=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:d}=UE(u,n,c),h=n,y={},v=0;for(let p=0;p<l.length;p++){const{name:g,fn:x}=l[p],{x:b,y:w,data:S,reset:j}=await x({x:f,y:d,initialPlacement:n,placement:h,strategy:a,middlewareData:y,rects:u,platform:i,elements:{reference:e,floating:t}});f=b??f,d=w??d,y={...y,[g]:{...y[g],...S}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:f,y:d}=UE(u,h,c)),p=-1)}return{x:f,y:d,placement:h,strategy:a,middlewareData:y}};async function sh(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:y=0}=bs(t,e),v=nI(y),g=l[h?d==="floating"?"reference":"floating":d],x=Fg(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(g)))==null||r?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),b=d==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Fg(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-j.top+v.top)/S.y,bottom:(j.bottom-x.bottom+v.bottom)/S.y,left:(x.left-j.left+v.left)/S.x,right:(j.right-x.right+v.right)/S.x}}const xH=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=bs(e,t)||{};if(u==null)return{};const d=nI(f),h={x:r,y:n},y=B_(a),v=F_(y),p=await i.getDimensions(u),g=y==="y",x=g?"top":"left",b=g?"bottom":"right",w=g?"clientHeight":"clientWidth",S=o.reference[v]+o.reference[y]-h[y]-o.floating[v],j=h[y]-o.reference[y],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=k?k[w]:0;(!_||!await(i.isElement==null?void 0:i.isElement(k)))&&(_=l.floating[w]||o.floating[v]);const N=S/2-j/2,E=_/2-p[v]/2-1,A=Ci(d[x],E),T=Ci(d[b],E),D=A,B=_-p[v]-T,z=_/2-p[v]/2+N,F=Zw(D,z,B),$=!c.arrow&&id(a)!=null&&z!==F&&o.reference[v]/2-(z<D?A:T)-p[v]/2<0,U=$?z<D?z-D:z-B:0;return{[y]:h[y]+U,data:{[y]:F,centerOffset:z-F-U,...$&&{alignmentOffset:U}},reset:$}}}),bH=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...g}=bs(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const x=ws(a),b=Ro(l),w=ws(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!p?[Dg(l)]:fH(l)),k=v!=="none";!h&&k&&j.push(...gH(l,p,v,S));const _=[l,...j],N=await sh(t,g),E=[];let A=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&E.push(N[x]),d){const z=dH(a,i,S);E.push(N[z[0]],N[z[1]])}if(A=[...A,{placement:a,overflows:E}],!E.every(z=>z<=0)){var T,D;const z=(((T=o.flip)==null?void 0:T.index)||0)+1,F=_[z];if(F&&(!(d==="alignment"?b!==Ro(F):!1)||A.every(P=>Ro(P.placement)===b?P.overflows[0]>0:!0)))return{data:{index:z,overflows:A},reset:{placement:F}};let $=(D=A.filter(U=>U.overflows[0]<=0).sort((U,P)=>U.overflows[1]-P.overflows[1])[0])==null?void 0:D.placement;if(!$)switch(y){case"bestFit":{var B;const U=(B=A.filter(P=>{if(k){const M=Ro(P.placement);return M===b||M==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(M=>M>0).reduce((M,W)=>M+W,0)]).sort((P,M)=>P[1]-M[1])[0])==null?void 0:B[0];U&&($=U);break}case"initialPlacement":$=l;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function zE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qE(e){return iH.some(t=>e[t]>=0)}const wH=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=bs(e,t);switch(n){case"referenceHidden":{const o=await sh(t,{...a,elementContext:"reference"}),i=zE(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:qE(i)}}}case"escaped":{const o=await sh(t,{...a,altBoundary:!0}),i=zE(o,r.floating);return{data:{escapedOffsets:i,escaped:qE(i)}}}default:return{}}}}},aI=new Set(["left","top"]);async function SH(e,t){const{placement:r,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=ws(r),l=id(r),c=Ro(r)==="y",u=aI.has(i)?-1:1,f=o&&c?-1:1,d=bs(t,e);let{mainAxis:h,crossAxis:y,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof v=="number"&&(y=l==="end"?v*-1:v),c?{x:y*f,y:h*u}:{x:h*u,y:y*f}}const jH=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await SH(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},_H=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:g=>{let{x,y:b}=g;return{x,y:b}}},...c}=bs(e,t),u={x:r,y:n},f=await sh(t,c),d=Ro(ws(a)),h=D_(d);let y=u[h],v=u[d];if(o){const g=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=y+f[g],w=y-f[x];y=Zw(b,y,w)}if(i){const g=d==="y"?"top":"left",x=d==="y"?"bottom":"right",b=v+f[g],w=v-f[x];v=Zw(b,v,w)}const p=l.fn({...t,[h]:y,[d]:v});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:o,[d]:i}}}}}},kH=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=bs(e,t),f={x:r,y:n},d=Ro(a),h=D_(d);let y=f[h],v=f[d];const p=bs(l,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",S=o.reference[h]-o.floating[w]+g.mainAxis,j=o.reference[h]+o.reference[w]-g.mainAxis;y<S?y=S:y>j&&(y=j)}if(u){var x,b;const w=h==="y"?"width":"height",S=aI.has(ws(a)),j=o.reference[d]-o.floating[w]+(S&&((x=i.offset)==null?void 0:x[d])||0)+(S?0:g.crossAxis),k=o.reference[d]+o.reference[w]+(S?0:((b=i.offset)==null?void 0:b[d])||0)-(S?g.crossAxis:0);v<j?v=j:v>k&&(v=k)}return{[h]:y,[d]:v}}}},NH=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=bs(e,t),f=await sh(t,u),d=ws(a),h=id(a),y=Ro(a)==="y",{width:v,height:p}=o.floating;let g,x;d==="top"||d==="bottom"?(g=d,x=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=d,g=h==="end"?"top":"bottom");const b=p-f.top-f.bottom,w=v-f.left-f.right,S=Ci(p-f[g],b),j=Ci(v-f[x],w),k=!t.middlewareData.shift;let _=S,N=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=b),k&&!h){const A=na(f.left,0),T=na(f.right,0),D=na(f.top,0),B=na(f.bottom,0);y?N=v-2*(A!==0||T!==0?A+T:na(f.left,f.right)):_=p-2*(D!==0||B!==0?D+B:na(f.top,f.bottom))}await c({...t,availableWidth:N,availableHeight:_});const E=await i.getDimensions(l.floating);return v!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function kv(){return typeof window<"u"}function ld(e){return oI(e)?(e.nodeName||"").toLowerCase():"#document"}function ia(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vo(e){var t;return(t=(oI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function oI(e){return kv()?e instanceof Node||e instanceof ia(e).Node:!1}function uo(e){return kv()?e instanceof Element||e instanceof ia(e).Element:!1}function Uo(e){return kv()?e instanceof HTMLElement||e instanceof ia(e).HTMLElement:!1}function WE(e){return!kv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ia(e).ShadowRoot}const EH=new Set(["inline","contents"]);function fm(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=fo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!EH.has(a)}const CH=new Set(["table","td","th"]);function PH(e){return CH.has(ld(e))}const AH=[":popover-open",":modal"];function Nv(e){return AH.some(t=>{try{return e.matches(t)}catch{return!1}})}const TH=["transform","translate","scale","rotate","perspective"],OH=["transform","translate","scale","rotate","perspective","filter"],RH=["paint","layout","strict","content"];function U_(e){const t=z_(),r=uo(e)?fo(e):e;return TH.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||OH.some(n=>(r.willChange||"").includes(n))||RH.some(n=>(r.contain||"").includes(n))}function $H(e){let t=Pi(e);for(;Uo(t)&&!Au(t);){if(U_(t))return t;if(Nv(t))return null;t=Pi(t)}return null}function z_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MH=new Set(["html","body","#document"]);function Au(e){return MH.has(ld(e))}function fo(e){return ia(e).getComputedStyle(e)}function Ev(e){return uo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pi(e){if(ld(e)==="html")return e;const t=e.assignedSlot||e.parentNode||WE(e)&&e.host||Vo(e);return WE(t)?t.host:t}function sI(e){const t=Pi(e);return Au(t)?e.ownerDocument?e.ownerDocument.body:e.body:Uo(t)&&fm(t)?t:sI(t)}function ih(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=sI(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),i=ia(a);if(o){const l=t1(i);return t.concat(i,i.visualViewport||[],fm(a)?a:[],l&&r?ih(l):[])}return t.concat(a,ih(a,[],r))}function t1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function iI(e){const t=fo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Uo(e),o=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=Lg(r)!==o||Lg(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function q_(e){return uo(e)?e:e.contextElement}function Xc(e){const t=q_(e);if(!Uo(t))return Lo(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:o}=iI(t);let i=(o?Lg(r.width):r.width)/n,l=(o?Lg(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const IH=Lo(0);function lI(e){const t=ia(e);return!z_()||!t.visualViewport?IH:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function LH(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ia(e)?!1:t}function $l(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),o=q_(e);let i=Lo(1);t&&(n?uo(n)&&(i=Xc(n)):i=Xc(e));const l=LH(o,r,n)?lI(o):Lo(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,f=a.width/i.x,d=a.height/i.y;if(o){const h=ia(o),y=n&&uo(n)?ia(n):n;let v=h,p=t1(v);for(;p&&n&&y!==v;){const g=Xc(p),x=p.getBoundingClientRect(),b=fo(p),w=x.left+(p.clientLeft+parseFloat(b.paddingLeft))*g.x,S=x.top+(p.clientTop+parseFloat(b.paddingTop))*g.y;c*=g.x,u*=g.y,f*=g.x,d*=g.y,c+=w,u+=S,v=ia(p),p=t1(v)}}return Fg({width:f,height:d,x:c,y:u})}function Cv(e,t){const r=Ev(e).scrollLeft;return t?t.left+r:$l(Vo(e)).left+r}function cI(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Cv(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function DH(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const o=a==="fixed",i=Vo(n),l=t?Nv(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Lo(1);const f=Lo(0),d=Uo(n);if((d||!d&&!o)&&((ld(n)!=="body"||fm(i))&&(c=Ev(n)),Uo(n))){const y=$l(n);u=Xc(n),f.x=y.x+n.clientLeft,f.y=y.y+n.clientTop}const h=i&&!d&&!o?cI(i,c):Lo(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+h.x,y:r.y*u.y-c.scrollTop*u.y+f.y+h.y}}function FH(e){return Array.from(e.getClientRects())}function BH(e){const t=Vo(e),r=Ev(e),n=e.ownerDocument.body,a=na(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=na(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Cv(e);const l=-r.scrollTop;return fo(n).direction==="rtl"&&(i+=na(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:i,y:l}}const HE=25;function UH(e,t){const r=ia(e),n=Vo(e),a=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const f=z_();(!f||f&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=Cv(n);if(u<=0){const f=n.ownerDocument,d=f.body,h=getComputedStyle(d),y=f.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(n.clientWidth-d.clientWidth-y);v<=HE&&(o-=v)}else u<=HE&&(o+=u);return{width:o,height:i,x:l,y:c}}const zH=new Set(["absolute","fixed"]);function qH(e,t){const r=$l(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,o=Uo(e)?Xc(e):Lo(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function VE(e,t,r){let n;if(t==="viewport")n=UH(e,r);else if(t==="document")n=BH(Vo(e));else if(uo(t))n=qH(t,r);else{const a=lI(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Fg(n)}function uI(e,t){const r=Pi(e);return r===t||!uo(r)||Au(r)?!1:fo(r).position==="fixed"||uI(r,t)}function WH(e,t){const r=t.get(e);if(r)return r;let n=ih(e,[],!1).filter(l=>uo(l)&&ld(l)!=="body"),a=null;const o=fo(e).position==="fixed";let i=o?Pi(e):e;for(;uo(i)&&!Au(i);){const l=fo(i),c=U_(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&zH.has(a.position)||fm(i)&&!c&&uI(e,i))?n=n.filter(f=>f!==i):a=l,i=Pi(i)}return t.set(e,n),n}function HH(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?Nv(t)?[]:WH(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,f)=>{const d=VE(t,f,a);return u.top=na(d.top,u.top),u.right=Ci(d.right,u.right),u.bottom=Ci(d.bottom,u.bottom),u.left=na(d.left,u.left),u},VE(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function VH(e){const{width:t,height:r}=iI(e);return{width:t,height:r}}function KH(e,t,r){const n=Uo(t),a=Vo(t),o=r==="fixed",i=$l(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Lo(0);function u(){c.x=Cv(a)}if(n||!n&&!o)if((ld(t)!=="body"||fm(a))&&(l=Ev(t)),n){const y=$l(t,!0,o,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else a&&u();o&&!n&&a&&u();const f=a&&!n&&!o?cI(a,l):Lo(0),d=i.left+l.scrollLeft-c.x-f.x,h=i.top+l.scrollTop-c.y-f.y;return{x:d,y:h,width:i.width,height:i.height}}function Fx(e){return fo(e).position==="static"}function KE(e,t){if(!Uo(e)||fo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Vo(e)===r&&(r=r.ownerDocument.body),r}function dI(e,t){const r=ia(e);if(Nv(e))return r;if(!Uo(e)){let a=Pi(e);for(;a&&!Au(a);){if(uo(a)&&!Fx(a))return a;a=Pi(a)}return r}let n=KE(e,t);for(;n&&PH(n)&&Fx(n);)n=KE(n,t);return n&&Au(n)&&Fx(n)&&!U_(n)?r:n||$H(e)||r}const GH=async function(e){const t=this.getOffsetParent||dI,r=this.getDimensions,n=await r(e.floating);return{reference:KH(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function JH(e){return fo(e).direction==="rtl"}const YH={convertOffsetParentRelativeRectToViewportRelativeRect:DH,getDocumentElement:Vo,getClippingRect:HH,getOffsetParent:dI,getElementRects:GH,getClientRects:FH,getDimensions:VH,getScale:Xc,isElement:uo,isRTL:JH};function fI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function XH(e,t){let r=null,n;const a=Vo(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:f,top:d,width:h,height:y}=u;if(l||t(),!h||!y)return;const v=ap(d),p=ap(a.clientWidth-(f+h)),g=ap(a.clientHeight-(d+y)),x=ap(f),w={rootMargin:-v+"px "+-p+"px "+-g+"px "+-x+"px",threshold:na(0,Ci(1,c))||1};let S=!0;function j(k){const _=k[0].intersectionRatio;if(_!==c){if(!S)return i();_?i(!1,_):n=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!fI(u,e.getBoundingClientRect())&&i(),S=!1}try{r=new IntersectionObserver(j,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return i(!0),o}function QH(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=q_(e),f=a||o?[...u?ih(u):[],...ih(t)]:[];f.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),o&&x.addEventListener("resize",r)});const d=u&&l?XH(u,r):null;let h=-1,y=null;i&&(y=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=y)==null||w.observe(t)})),r()}),u&&!c&&y.observe(u),y.observe(t));let v,p=c?$l(e):null;c&&g();function g(){const x=$l(e);p&&!fI(p,x)&&r(),p=x,v=requestAnimationFrame(g)}return r(),()=>{var x;f.forEach(b=>{a&&b.removeEventListener("scroll",r),o&&b.removeEventListener("resize",r)}),d==null||d(),(x=y)==null||x.disconnect(),y=null,c&&cancelAnimationFrame(v)}}const ZH=jH,eV=_H,tV=bH,rV=NH,nV=wH,GE=xH,aV=kH,oV=(e,t,r)=>{const n=new Map,a={platform:YH,...r},o={...a.platform,_c:n};return vH(e,t,{...a,platform:o})};var sV=typeof document<"u",iV=function(){},og=sV?m.useLayoutEffect:iV;function Bg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Bg(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!Bg(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function hI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function JE(e,t){const r=hI(e);return Math.round(t*r)/r}function Bx(e){const t=m.useRef(e);return og(()=>{t.current=e}),t}function lV(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,y]=m.useState(n);Bg(h,n)||y(n);const[v,p]=m.useState(null),[g,x]=m.useState(null),b=m.useCallback(P=>{P!==k.current&&(k.current=P,p(P))},[]),w=m.useCallback(P=>{P!==_.current&&(_.current=P,x(P))},[]),S=o||v,j=i||g,k=m.useRef(null),_=m.useRef(null),N=m.useRef(f),E=c!=null,A=Bx(c),T=Bx(a),D=Bx(u),B=m.useCallback(()=>{if(!k.current||!_.current)return;const P={placement:t,strategy:r,middleware:h};T.current&&(P.platform=T.current),oV(k.current,_.current,P).then(M=>{const W={...M,isPositioned:D.current!==!1};z.current&&!Bg(N.current,W)&&(N.current=W,Jl.flushSync(()=>{d(W)}))})},[h,t,r,T,D]);og(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,d(P=>({...P,isPositioned:!1})))},[u]);const z=m.useRef(!1);og(()=>(z.current=!0,()=>{z.current=!1}),[]),og(()=>{if(S&&(k.current=S),j&&(_.current=j),S&&j){if(A.current)return A.current(S,j,B);B()}},[S,j,B,A,E]);const F=m.useMemo(()=>({reference:k,floating:_,setReference:b,setFloating:w}),[b,w]),$=m.useMemo(()=>({reference:S,floating:j}),[S,j]),U=m.useMemo(()=>{const P={position:r,left:0,top:0};if(!$.floating)return P;const M=JE($.floating,f.x),W=JE($.floating,f.y);return l?{...P,transform:"translate("+M+"px, "+W+"px)",...hI($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:W}},[r,l,$.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:B,refs:F,elements:$,floatingStyles:U}),[f,B,F,$,U])}const cV=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?GE({element:n.current,padding:a}).fn(r):{}:n?GE({element:n,padding:a}).fn(r):{}}}},uV=(e,t)=>({...ZH(e),options:[e,t]}),dV=(e,t)=>({...eV(e),options:[e,t]}),fV=(e,t)=>({...aV(e),options:[e,t]}),hV=(e,t)=>({...tV(e),options:[e,t]}),mV=(e,t)=>({...rV(e),options:[e,t]}),pV=(e,t)=>({...nV(e),options:[e,t]}),gV=(e,t)=>({...cV(e),options:[e,t]});var yV="Arrow",mI=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...o}=e;return s.jsx(Ke.svg,{...o,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});mI.displayName=yV;var vV=mI;function xV(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(d){const{scope:h,children:y,...v}=d,p=(h==null?void 0:h[e][c])||l,g=m.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:g,children:y})}function f(d,h){const y=(h==null?void 0:h[e][c])||l,v=m.useContext(y);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const a=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,bV(a,...t)]}function bV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Pv(e){const[t,r]=m.useState(void 0);return Er(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var W_="Popper",[pI,cd]=xV(W_),[wV,gI]=pI(W_),yI=e=>{const{__scopePopper:t,children:r}=e,[n,a]=m.useState(null);return s.jsx(wV,{scope:t,anchor:n,onAnchorChange:a,children:r})};yI.displayName=W_;var vI="PopperAnchor",xI=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,o=gI(vI,r),i=m.useRef(null),l=ct(t,i);return m.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:s.jsx(Ke.div,{...a,ref:l})});xI.displayName=vI;var H_="PopperContent",[SV,jV]=pI(H_),bI=m.forwardRef((e,t)=>{var ie,O,L,H,X,V;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:v,...p}=e,g=gI(H_,r),[x,b]=m.useState(null),w=ct(t,ae=>b(ae)),[S,j]=m.useState(null),k=Pv(S),_=(k==null?void 0:k.width)??0,N=(k==null?void 0:k.height)??0,E=n+(o!=="center"?"-"+o:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},T=Array.isArray(u)?u:[u],D=T.length>0,B={padding:A,boundary:T.filter(kV),altBoundary:D},{refs:z,floatingStyles:F,placement:$,isPositioned:U,middlewareData:P}=lV({strategy:"fixed",placement:E,whileElementsMounted:(...ae)=>QH(...ae,{animationFrame:y==="always"}),elements:{reference:g.anchor},middleware:[uV({mainAxis:a+N,alignmentAxis:i}),c&&dV({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?fV():void 0,...B}),c&&hV({...B}),mV({...B,apply:({elements:ae,rects:Z,availableWidth:de,availableHeight:oe})=>{const{width:ye,height:be}=Z.reference,Be=ae.floating.style;Be.setProperty("--radix-popper-available-width",`${de}px`),Be.setProperty("--radix-popper-available-height",`${oe}px`),Be.setProperty("--radix-popper-anchor-width",`${ye}px`),Be.setProperty("--radix-popper-anchor-height",`${be}px`)}}),S&&gV({element:S,padding:l}),NV({arrowWidth:_,arrowHeight:N}),h&&pV({strategy:"referenceHidden",...B})]}),[M,W]=jI($),R=Ot(v);Er(()=>{U&&(R==null||R())},[U,R]);const q=(ie=P.arrow)==null?void 0:ie.x,ee=(O=P.arrow)==null?void 0:O.y,ne=((L=P.arrow)==null?void 0:L.centerOffset)!==0,[ce,ue]=m.useState();return Er(()=>{x&&ue(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:U?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(H=P.transformOrigin)==null?void 0:H.x,(X=P.transformOrigin)==null?void 0:X.y].join(" "),...((V=P.hide)==null?void 0:V.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(SV,{scope:r,placedSide:M,onArrowChange:j,arrowX:q,arrowY:ee,shouldHideArrow:ne,children:s.jsx(Ke.div,{"data-side":M,"data-align":W,...p,ref:w,style:{...p.style,animation:U?void 0:"none"}})})})});bI.displayName=H_;var wI="PopperArrow",_V={top:"bottom",right:"left",bottom:"top",left:"right"},SI=m.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,o=jV(wI,n),i=_V[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(vV,{...a,ref:r,style:{...a.style,display:"block"}})})});SI.displayName=wI;function kV(e){return e!==null}var NV=e=>({name:"transformOrigin",options:e,fn(t){var g,x,b;const{placement:r,rects:n,middlewareData:a}=t,i=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=jI(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,y=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=i?d:`${h}px`,p=`${-c}px`):u==="top"?(v=i?d:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=i?d:`${y}px`):u==="left"&&(v=`${n.floating.width+c}px`,p=i?d:`${y}px`),{data:{x:v,y:p}}}});function jI(e){const[t,r="center"]=e.split("-");return[t,r]}var _I=yI,V_=xI,K_=bI,G_=SI;function EV(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Mn=e=>{const{present:t,children:r}=e,n=CV(t),a=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),o=ct(n.ref,PV(a));return typeof r=="function"||n.isPresent?m.cloneElement(a,{ref:o}):null};Mn.displayName="Presence";function CV(e){const[t,r]=m.useState(),n=m.useRef({}),a=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=EV(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=op(n.current);o.current=l==="mounted"?u:"none"},[l]),Er(()=>{const u=n.current,f=a.current;if(f!==e){const h=o.current,y=op(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Er(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=y=>{const p=op(n.current).includes(y.animationName);if(y.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=y=>{y.target===t&&(o.current=op(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function op(e){return(e==null?void 0:e.animationName)||"none"}function PV(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ho({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=AV({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,l=Ot(r),c=m.useCallback(u=>{if(o){const d=typeof u=="function"?u(e):u;d!==e&&l(d)}else a(u)},[o,e,a,l]);return[i,c]}function AV({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,a=m.useRef(n),o=Ot(t);return m.useEffect(()=>{a.current!==n&&(o(n),a.current=n)},[n,a,o]),r}var TV="VisuallyHidden",J_=m.forwardRef((e,t)=>s.jsx(Ke.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));J_.displayName=TV;var OV=J_,[Av,XRe]=fa("Tooltip",[cd]),Y_=cd(),kI="TooltipProvider",RV=700,YE="tooltip.open",[$V,NI]=Av(kI),EI=e=>{const{__scopeTooltip:t,delayDuration:r=RV,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:o}=e,[i,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),s.jsx($V,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(f=>{c.current=f},[]),disableHoverableContent:a,children:o})};EI.displayName=kI;var CI="Tooltip",[QRe,Tv]=Av(CI),r1="TooltipTrigger",MV=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Tv(r1,r),o=NI(r1,r),i=Y_(r),l=m.useRef(null),c=ct(t,l,a.onTriggerChange),u=m.useRef(!1),f=m.useRef(!1),d=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),s.jsx(V_,{asChild:!0,...i,children:s.jsx(Ke.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ie(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ie(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ie(e.onBlur,a.onClose),onClick:Ie(e.onClick,a.onClose)})})});MV.displayName=r1;var IV="TooltipPortal",[ZRe,LV]=Av(IV,{forceMount:void 0}),Tu="TooltipContent",PI=m.forwardRef((e,t)=>{const r=LV(Tu,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...o}=e,i=Tv(Tu,e.__scopeTooltip);return s.jsx(Mn,{present:n||i.open,children:i.disableHoverableContent?s.jsx(AI,{side:a,...o,ref:t}):s.jsx(DV,{side:a,...o,ref:t})})}),DV=m.forwardRef((e,t)=>{const r=Tv(Tu,e.__scopeTooltip),n=NI(Tu,e.__scopeTooltip),a=m.useRef(null),o=ct(t,a),[i,l]=m.useState(null),{trigger:c,onClose:u}=r,f=a.current,{onPointerInTransitChange:d}=n,h=m.useCallback(()=>{l(null),d(!1)},[d]),y=m.useCallback((v,p)=>{const g=v.currentTarget,x={x:v.clientX,y:v.clientY},b=zV(x,g.getBoundingClientRect()),w=qV(x,b),S=WV(p.getBoundingClientRect()),j=VV([...w,...S]);l(j),d(!0)},[d]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&f){const v=g=>y(g,f),p=g=>y(g,c);return c.addEventListener("pointerleave",v),f.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",p)}}},[c,f,y,h]),m.useEffect(()=>{if(i){const v=p=>{const g=p.target,x={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(g))||(f==null?void 0:f.contains(g)),w=!HV(x,i);b?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,f,i,u,h]),s.jsx(AI,{...e,ref:o})}),[FV,BV]=Av(CI,{isInside:!1}),AI=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=Tv(Tu,r),u=Y_(r),{onClose:f}=c;return m.useEffect(()=>(document.addEventListener(YE,f),()=>document.removeEventListener(YE,f)),[f]),m.useEffect(()=>{if(c.trigger){const d=h=>{const y=h.target;y!=null&&y.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),s.jsx(tI,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:s.jsxs(K_,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(L_,{children:n}),s.jsx(FV,{scope:r,isInside:!0,children:s.jsx(OV,{id:c.contentId,role:"tooltip",children:a||n})})]})})});PI.displayName=Tu;var TI="TooltipArrow",UV=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Y_(r);return BV(TI,r).isInside?null:s.jsx(G_,{...a,...n,ref:t})});UV.displayName=TI;function zV(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,a,o)){case o:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function qV(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function WV(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function HV(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,f=t[i].y;c>n!=f>n&&r<(u-l)*(n-c)/(f-c)+l&&(a=!a)}return a}function VV(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),KV(t)}function KV(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var GV=EI,OI=PI;function RI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=RI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $t(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=RI(e))&&(n&&(n+=" "),n+=t);return n}const X_="-",JV=e=>{const t=XV(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(X_);return l[0]===""&&l.length!==1&&l.shift(),$I(l,t)||YV(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},$I=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?$I(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(X_);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},XE=/^\[(.+)\]$/,YV=e=>{if(XE.test(e)){const t=XE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},XV=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return ZV(Object.entries(e.classGroups),r).forEach(([o,i])=>{n1(i,n,o,t)}),n},n1=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:QE(t,a);o.classGroupId=r;return}if(typeof a=="function"){if(QV(a)){n1(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,i])=>{n1(i,QE(t,o),r,n)})})},QE=(e,t)=>{let r=e;return t.split(X_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},QV=e=>e.isThemeGetter,ZV=(e,t)=>t?e.map(([r,n])=>{const a=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,a]}):e,eK=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return a(o,i),i},set(o,i){r.has(o)?r.set(o,i):a(o,i)}}},MI="!",tK=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let u=0,f=0,d;for(let g=0;g<l.length;g++){let x=l[g];if(u===0){if(x===a&&(n||l.slice(g,g+o)===t)){c.push(l.slice(f,g)),f=g+o;continue}if(x==="/"){d=g;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(f),y=h.startsWith(MI),v=y?h.substring(1):h,p=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:i}):i},rK=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},nK=e=>({cache:eK(e.cacheSize),parseClassName:tK(e),...JV(e)}),aK=/\s+/,oK=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(aK);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:y}=r(u);let v=!!y,p=n(v?h.substring(0,y):h);if(!p){if(!v){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}v=!1}const g=rK(f).join(":"),x=d?g+MI:g,b=x+p;if(o.includes(b))continue;o.push(b);const w=a(p,v);for(let S=0;S<w.length;++S){const j=w[S];o.push(x+j)}l=u+(l.length>0?" "+l:l)}return l};function sK(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=II(t))&&(n&&(n+=" "),n+=r);return n}const II=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=II(e[n]))&&(r&&(r+=" "),r+=t);return r};function iK(e,...t){let r,n,a,o=i;function i(c){const u=t.reduce((f,d)=>d(f),e());return r=nK(u),n=r.cache.get,a=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=oK(c,r);return a(c,f),f}return function(){return o(sK.apply(null,arguments))}}const nr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},LI=/^\[(?:([a-z-]+):)?(.+)\]$/i,lK=/^\d+\/\d+$/,cK=new Set(["px","full","screen"]),uK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yo=e=>Qc(e)||cK.has(e)||lK.test(e),$s=e=>ud(e,"length",SK),Qc=e=>!!e&&!Number.isNaN(Number(e)),Ux=e=>ud(e,"number",Qc),Hd=e=>!!e&&Number.isInteger(Number(e)),pK=e=>e.endsWith("%")&&Qc(e.slice(0,-1)),wt=e=>LI.test(e),Ms=e=>uK.test(e),gK=new Set(["length","size","percentage"]),yK=e=>ud(e,gK,DI),vK=e=>ud(e,"position",DI),xK=new Set(["image","url"]),bK=e=>ud(e,xK,_K),wK=e=>ud(e,"",jK),Vd=()=>!0,ud=(e,t,r)=>{const n=LI.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},SK=e=>dK.test(e)&&!fK.test(e),DI=()=>!1,jK=e=>hK.test(e),_K=e=>mK.test(e),kK=()=>{const e=nr("colors"),t=nr("spacing"),r=nr("blur"),n=nr("brightness"),a=nr("borderColor"),o=nr("borderRadius"),i=nr("borderSpacing"),l=nr("borderWidth"),c=nr("contrast"),u=nr("grayscale"),f=nr("hueRotate"),d=nr("invert"),h=nr("gap"),y=nr("gradientColorStops"),v=nr("gradientColorStopPositions"),p=nr("inset"),g=nr("margin"),x=nr("opacity"),b=nr("padding"),w=nr("saturate"),S=nr("scale"),j=nr("sepia"),k=nr("skew"),_=nr("space"),N=nr("translate"),E=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",wt,t],D=()=>[wt,t],B=()=>["",Yo,$s],z=()=>["auto",Qc,wt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",wt],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[Qc,wt];return{cacheSize:500,separator:":",theme:{colors:[Vd],spacing:[Yo,$s],blur:["none","",Ms,wt],brightness:R(),borderColor:[e],borderRadius:["none","","full",Ms,wt],borderSpacing:D(),borderWidth:B(),contrast:R(),grayscale:M(),hueRotate:R(),invert:M(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[pK,$s],inset:T(),margin:T(),opacity:R(),padding:D(),saturate:R(),scale:R(),sepia:M(),skew:R(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",wt]}],container:["container"],columns:[{columns:[Ms]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),wt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hd,wt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wt]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Hd,wt]}],"grid-cols":[{"grid-cols":[Vd]}],"col-start-end":[{col:["auto",{span:["full",Hd,wt]},wt]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Vd]}],"row-start-end":[{row:["auto",{span:[Hd,wt]},wt]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wt,t]}],"min-w":[{"min-w":[wt,t,"min","max","fit"]}],"max-w":[{"max-w":[wt,t,"none","full","min","max","fit","prose",{screen:[Ms]},Ms]}],h:[{h:[wt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ms,$s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ux]}],"font-family":[{font:[Vd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wt]}],"line-clamp":[{"line-clamp":["none",Qc,Ux]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yo,wt]}],"list-image":[{"list-image":["none",wt]}],"list-style-type":[{list:["none","disc","decimal",wt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yo,$s]}],"underline-offset":[{"underline-offset":["auto",Yo,wt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),vK]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yK]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bK]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:$()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Yo,wt]}],"outline-w":[{outline:[Yo,$s]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Yo,$s]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ms,wK]}],"shadow-color":[{shadow:[Vd]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ms,wt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wt]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",wt]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",wt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Hd,wt]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yo,$s,Ux]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NK=iK(kK);function fe(...e){return NK($t(e))}function Af(e){const t=String(e),n=parseInt(t,10).toString(16).padStart(8,"0").toLowerCase(),a=n.slice(0,8),o=n.slice(0,4),i="4"+n.slice(1,4),l="8"+n.slice(2,5),c=n+n+n+n;return`${a}-${o}-${i}-${l}-${c.slice(0,12)}`}const EK=GV,CK=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(OI,{ref:n,sideOffset:t,className:fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));CK.displayName=OI.displayName;var dd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ml=typeof window>"u"||"Deno"in globalThis;function xa(){}function PK(e,t){return typeof e=="function"?e(t):e}function a1(e){return typeof e=="number"&&e>=0&&e!==1/0}function FI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zc(e,t){return typeof e=="function"?e(t):e}function Qa(e,t){return typeof e=="function"?e(t):e}function ZE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Q_(i,t.options))return!1}else if(!lh(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||o&&!o(t))}function eC(e,t){const{exact:r,status:n,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Il(t.options.mutationKey)!==Il(o))return!1}else if(!lh(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Q_(e,t){return((t==null?void 0:t.queryKeyHashFn)||Il)(e)}function Il(e){return JSON.stringify(e,(t,r)=>o1(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function lh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!lh(e[r],t[r])):!1}function BI(e,t){if(e===t)return e;const r=tC(e)&&tC(t);if(r||o1(e)&&o1(t)){const n=r?e:Object.keys(e),a=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const f=r?u:o[u];(!r&&n.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=BI(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return a===i&&c===a?e:l}return t}function Ug(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function tC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function o1(e){if(!rC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!rC(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rC(e){return Object.prototype.toString.call(e)==="[object Object]"}function AK(e){return new Promise(t=>{setTimeout(t,e)})}function s1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?BI(e,t):t}function TK(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function OK(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Z_=Symbol();function UI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Z_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ml,Xs,uu,OR,RK=(OR=class extends dd{constructor(){super();ft(this,ml);ft(this,Xs);ft(this,uu);Ve(this,uu,t=>{if(!Ml&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Q(this,Xs)||this.setEventListener(Q(this,uu))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Xs))==null||t.call(this),Ve(this,Xs,void 0))}setEventListener(t){var r;Ve(this,uu,t),(r=Q(this,Xs))==null||r.call(this),Ve(this,Xs,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Q(this,ml)!==t&&(Ve(this,ml,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Q(this,ml)=="boolean"?Q(this,ml):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ml=new WeakMap,Xs=new WeakMap,uu=new WeakMap,OR),ek=new RK,du,Qs,fu,RR,$K=(RR=class extends dd{constructor(){super();ft(this,du,!0);ft(this,Qs);ft(this,fu);Ve(this,fu,t=>{if(!Ml&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Q(this,Qs)||this.setEventListener(Q(this,fu))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Qs))==null||t.call(this),Ve(this,Qs,void 0))}setEventListener(t){var r;Ve(this,fu,t),(r=Q(this,Qs))==null||r.call(this),Ve(this,Qs,t(this.setOnline.bind(this)))}setOnline(t){Q(this,du)!==t&&(Ve(this,du,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Q(this,du)}},du=new WeakMap,Qs=new WeakMap,fu=new WeakMap,RR),zg=new $K;function i1(){let e,t;const r=new Promise((a,o)=>{e=a,t=o});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function MK(e){return Math.min(1e3*2**e,3e4)}function zI(e){return(e??"online")==="online"?zg.isOnline():!0}var qI=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function zx(e){return e instanceof qI}function WI(e){let t=!1,r=0,n=!1,a;const o=i1(),i=p=>{var g;n||(h(new qI(p)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>ek.isFocused()&&(e.networkMode==="always"||zg.isOnline())&&e.canRun(),f=()=>zI(e.networkMode)&&e.canRun(),d=p=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,p),a==null||a(),o.resolve(p))},h=p=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,p),a==null||a(),o.reject(p))},y=()=>new Promise(p=>{var g;a=x=>{(n||u())&&p(x)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(n)return;let p;const g=r===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(d).catch(x=>{var k;if(n)return;const b=e.retry??(Ml?0:3),w=e.retryDelay??MK,S=typeof w=="function"?w(r,x):w,j=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,x);if(t||!j){h(x);return}r++,(k=e.onFail)==null||k.call(e,r,x),AK(S).then(()=>u()?void 0:y()).then(()=>{t?h(x):v()})})};return{promise:o,cancel:i,continue:()=>(a==null||a(),o),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?v():y().then(v),o)}}function IK(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const o=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Dr=IK(),pl,$R,HI=($R=class{constructor(){ft(this,pl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),a1(this.gcTime)&&Ve(this,pl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ml?1/0:5*60*1e3))}clearGcTimeout(){Q(this,pl)&&(clearTimeout(Q(this,pl)),Ve(this,pl,void 0))}},pl=new WeakMap,$R),hu,mu,va,hn,tm,gl,Ka,Qo,MR,LK=(MR=class extends HI{constructor(t){super();ft(this,Ka);ft(this,hu);ft(this,mu);ft(this,va);ft(this,hn);ft(this,tm);ft(this,gl);Ve(this,gl,!1),Ve(this,tm,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ve(this,va,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ve(this,hu,DK(this.options)),this.state=t.state??Q(this,hu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Q(this,hn))==null?void 0:t.promise}setOptions(t){this.options={...Q(this,tm),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,va).remove(this)}setData(t,r){const n=s1(this.state.data,t,this.options);return St(this,Ka,Qo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){St(this,Ka,Qo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=Q(this,hn))==null?void 0:n.promise;return(a=Q(this,hn))==null||a.cancel(t),r?r.then(xa).catch(xa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,hu))}isActive(){return this.observers.some(t=>Qa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Z_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!FI(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Q(this,hn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Q(this,hn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Q(this,va).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Q(this,hn)&&(Q(this,gl)?Q(this,hn).cancel({revert:!0}):Q(this,hn).cancelRetry()),this.scheduleGc()),Q(this,va).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||St(this,Ka,Qo).call(this,{type:"invalidate"})}fetch(t,r){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Q(this,hn))return Q(this,hn).continueRetry(),Q(this,hn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Ve(this,gl,!0),n.signal)})},o=()=>{const d=UI(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),Ve(this,gl,!1),this.options.persister?this.options.persister(d,h,this):d(h)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(i),(c=this.options.behavior)==null||c.onFetch(i,this),Ve(this,mu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&St(this,Ka,Qo).call(this,{type:"fetch",meta:(f=i.fetchOptions)==null?void 0:f.meta});const l=d=>{var h,y,v,p;zx(d)&&d.silent||St(this,Ka,Qo).call(this,{type:"error",error:d}),zx(d)||((y=(h=Q(this,va).config).onError)==null||y.call(h,d,this),(p=(v=Q(this,va).config).onSettled)==null||p.call(v,this.state.data,d,this)),this.scheduleGc()};return Ve(this,hn,WI({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var h,y,v,p;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(g){l(g);return}(y=(h=Q(this,va).config).onSuccess)==null||y.call(h,d,this),(p=(v=Q(this,va).config).onSettled)==null||p.call(v,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,h)=>{St(this,Ka,Qo).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{St(this,Ka,Qo).call(this,{type:"pause"})},onContinue:()=>{St(this,Ka,Qo).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),Q(this,hn).start()}},hu=new WeakMap,mu=new WeakMap,va=new WeakMap,hn=new WeakMap,tm=new WeakMap,gl=new WeakMap,Ka=new WeakSet,Qo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...VI(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return zx(a)&&a.revert&&Q(this,mu)?{...Q(this,mu),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Dr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Q(this,va).notify({query:this,type:"updated",action:t})})},MR);function VI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function DK(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var No,IR,FK=(IR=class extends dd{constructor(t={}){super();ft(this,No);this.config=t,Ve(this,No,new Map)}build(t,r,n){const a=r.queryKey,o=r.queryHash??Q_(a,r);let i=this.get(o);return i||(i=new LK({cache:this,queryKey:a,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){Q(this,No).has(t.queryHash)||(Q(this,No).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Q(this,No).get(t.queryHash);r&&(t.destroy(),r===t&&Q(this,No).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Dr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Q(this,No).get(t)}getAll(){return[...Q(this,No).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ZE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>ZE(t,n)):r}notify(t){Dr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Dr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Dr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},No=new WeakMap,IR),Eo,Nn,yl,Co,Ls,LR,BK=(LR=class extends HI{constructor(t){super();ft(this,Co);ft(this,Eo);ft(this,Nn);ft(this,yl);this.mutationId=t.mutationId,Ve(this,Nn,t.mutationCache),Ve(this,Eo,[]),this.state=t.state||KI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Q(this,Eo).includes(t)||(Q(this,Eo).push(t),this.clearGcTimeout(),Q(this,Nn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ve(this,Eo,Q(this,Eo).filter(r=>r!==t)),this.scheduleGc(),Q(this,Nn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Q(this,Eo).length||(this.state.status==="pending"?this.scheduleGc():Q(this,Nn).remove(this))}continue(){var t;return((t=Q(this,yl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,i,l,c,u,f,d,h,y,v,p,g,x,b,w,S,j,k,_;Ve(this,yl,WI({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,E)=>{St(this,Co,Ls).call(this,{type:"failed",failureCount:N,error:E})},onPause:()=>{St(this,Co,Ls).call(this,{type:"pause"})},onContinue:()=>{St(this,Co,Ls).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,Nn).canRun(this)}));const r=this.state.status==="pending",n=!Q(this,yl).canStart();try{if(!r){St(this,Co,Ls).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(a=Q(this,Nn).config).onMutate)==null?void 0:o.call(a,t,this));const E=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));E!==this.state.context&&St(this,Co,Ls).call(this,{type:"pending",context:E,variables:t,isPaused:n})}const N=await Q(this,yl).start();return await((u=(c=Q(this,Nn).config).onSuccess)==null?void 0:u.call(c,N,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,N,t,this.state.context)),await((y=(h=Q(this,Nn).config).onSettled)==null?void 0:y.call(h,N,null,this.state.variables,this.state.context,this)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,N,null,t,this.state.context)),St(this,Co,Ls).call(this,{type:"success",data:N}),N}catch(N){try{throw await((x=(g=Q(this,Nn).config).onError)==null?void 0:x.call(g,N,t,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,N,t,this.state.context)),await((j=(S=Q(this,Nn).config).onSettled)==null?void 0:j.call(S,void 0,N,this.state.variables,this.state.context,this)),await((_=(k=this.options).onSettled)==null?void 0:_.call(k,void 0,N,t,this.state.context)),N}finally{St(this,Co,Ls).call(this,{type:"error",error:N})}}finally{Q(this,Nn).runNext(this)}}},Eo=new WeakMap,Nn=new WeakMap,yl=new WeakMap,Co=new WeakSet,Ls=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Dr.batch(()=>{Q(this,Eo).forEach(n=>{n.onMutationUpdate(t)}),Q(this,Nn).notify({mutation:this,type:"updated",action:t})})},LR);function KI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zn,rm,DR,UK=(DR=class extends dd{constructor(t={}){super();ft(this,Zn);ft(this,rm);this.config=t,Ve(this,Zn,new Map),Ve(this,rm,Date.now())}build(t,r,n){const a=new BK({mutationCache:this,mutationId:++Fm(this,rm)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=sp(t),n=Q(this,Zn).get(r)??[];n.push(t),Q(this,Zn).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=sp(t);if(Q(this,Zn).has(r)){const a=(n=Q(this,Zn).get(r))==null?void 0:n.filter(o=>o!==t);a&&(a.length===0?Q(this,Zn).delete(r):Q(this,Zn).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=Q(this,Zn).get(sp(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=Q(this,Zn).get(sp(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Dr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Q(this,Zn).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>eC(r,n))}findAll(t={}){return this.getAll().filter(r=>eC(t,r))}notify(t){Dr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Dr.batch(()=>Promise.all(t.map(r=>r.continue().catch(xa))))}},Zn=new WeakMap,rm=new WeakMap,DR);function sp(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function nC(e){return{onFetch:(t,r)=>{var f,d,h,y,v;const n=t.options,a=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,o=((y=t.state.data)==null?void 0:y.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},x=UI(t.options,t.fetchOptions),b=async(w,S,j)=>{if(p)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const k={queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};g(k);const _=await x(k),{maxPages:N}=t.options,E=j?OK:TK;return{pages:E(w.pages,_,N),pageParams:E(w.pageParams,S,N)}};if(a&&o.length){const w=a==="backward",S=w?zK:aC,j={pages:o,pageParams:i},k=S(n,j);l=await b(j,k,w)}else{const w=e??o.length;do{const S=c===0?i[0]??n.initialPageParam:aC(n,l);if(c>0&&S==null)break;l=await b(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function aC(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function zK(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var vr,Zs,ei,pu,gu,ti,yu,vu,FR,qK=(FR=class{constructor(e={}){ft(this,vr);ft(this,Zs);ft(this,ei);ft(this,pu);ft(this,gu);ft(this,ti);ft(this,yu);ft(this,vu);Ve(this,vr,e.queryCache||new FK),Ve(this,Zs,e.mutationCache||new UK),Ve(this,ei,e.defaultOptions||{}),Ve(this,pu,new Map),Ve(this,gu,new Map),Ve(this,ti,0)}mount(){Fm(this,ti)._++,Q(this,ti)===1&&(Ve(this,yu,ek.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,vr).onFocus())})),Ve(this,vu,zg.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,vr).onOnline())})))}unmount(){var e,t;Fm(this,ti)._--,Q(this,ti)===0&&((e=Q(this,yu))==null||e.call(this),Ve(this,yu,void 0),(t=Q(this,vu))==null||t.call(this),Ve(this,vu,void 0))}isFetching(e){return Q(this,vr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Q(this,Zs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Q(this,vr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=Q(this,vr).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Zc(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return Q(this,vr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=Q(this,vr).get(n.queryHash),o=a==null?void 0:a.state.data,i=PK(t,o);if(i!==void 0)return Q(this,vr).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Dr.batch(()=>Q(this,vr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Q(this,vr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Q(this,vr);Dr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Q(this,vr),n={type:"active",...e};return Dr.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Dr.batch(()=>Q(this,vr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(xa).catch(xa)}invalidateQueries(e={},t={}){return Dr.batch(()=>{if(Q(this,vr).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Dr.batch(()=>Q(this,vr).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(xa)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(xa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Q(this,vr).build(this,t);return r.isStaleByTime(Zc(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xa).catch(xa)}fetchInfiniteQuery(e){return e.behavior=nC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xa).catch(xa)}ensureInfiniteQueryData(e){return e.behavior=nC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return zg.isOnline()?Q(this,Zs).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,vr)}getMutationCache(){return Q(this,Zs)}getDefaultOptions(){return Q(this,ei)}setDefaultOptions(e){Ve(this,ei,e)}setQueryDefaults(e,t){Q(this,pu).set(Il(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Q(this,pu).values()];let r={};return t.forEach(n=>{lh(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){Q(this,gu).set(Il(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Q(this,gu).values()];let r={};return t.forEach(n=>{lh(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Q(this,ei).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Q_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Z_&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Q(this,ei).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Q(this,vr).clear(),Q(this,Zs).clear()}},vr=new WeakMap,Zs=new WeakMap,ei=new WeakMap,pu=new WeakMap,gu=new WeakMap,ti=new WeakMap,yu=new WeakMap,vu=new WeakMap,FR),Dn,Ct,nm,En,vl,xu,ri,Po,am,bu,wu,xl,bl,ni,Su,Ut,gf,l1,c1,u1,d1,f1,h1,m1,GI,BR,WK=(BR=class extends dd{constructor(t,r){super();ft(this,Ut);ft(this,Dn);ft(this,Ct);ft(this,nm);ft(this,En);ft(this,vl);ft(this,xu);ft(this,ri);ft(this,Po);ft(this,am);ft(this,bu);ft(this,wu);ft(this,xl);ft(this,bl);ft(this,ni);ft(this,Su,new Set);this.options=r,Ve(this,Dn,t),Ve(this,Po,null),Ve(this,ri,i1()),this.options.experimental_prefetchInRender||Q(this,ri).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,Ct).addObserver(this),oC(Q(this,Ct),this.options)?St(this,Ut,gf).call(this):this.updateResult(),St(this,Ut,d1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return p1(Q(this,Ct),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return p1(Q(this,Ct),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,St(this,Ut,f1).call(this),St(this,Ut,h1).call(this),Q(this,Ct).removeObserver(this)}setOptions(t,r){const n=this.options,a=Q(this,Ct);if(this.options=Q(this,Dn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Qa(this.options.enabled,Q(this,Ct))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");St(this,Ut,m1).call(this),Q(this,Ct).setOptions(this.options),n._defaulted&&!Ug(this.options,n)&&Q(this,Dn).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,Ct),observer:this});const o=this.hasListeners();o&&sC(Q(this,Ct),a,this.options,n)&&St(this,Ut,gf).call(this),this.updateResult(r),o&&(Q(this,Ct)!==a||Qa(this.options.enabled,Q(this,Ct))!==Qa(n.enabled,Q(this,Ct))||Zc(this.options.staleTime,Q(this,Ct))!==Zc(n.staleTime,Q(this,Ct)))&&St(this,Ut,l1).call(this);const i=St(this,Ut,c1).call(this);o&&(Q(this,Ct)!==a||Qa(this.options.enabled,Q(this,Ct))!==Qa(n.enabled,Q(this,Ct))||i!==Q(this,ni))&&St(this,Ut,u1).call(this,i)}getOptimisticResult(t){const r=Q(this,Dn).getQueryCache().build(Q(this,Dn),t),n=this.createResult(r,t);return VK(this,n)&&(Ve(this,En,n),Ve(this,xu,this.options),Ve(this,vl,Q(this,Ct).state)),n}getCurrentResult(){return Q(this,En)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){Q(this,Su).add(t)}getCurrentQuery(){return Q(this,Ct)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Q(this,Dn).defaultQueryOptions(t),n=Q(this,Dn).getQueryCache().build(Q(this,Dn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return St(this,Ut,gf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,En)))}createResult(t,r){var N;const n=Q(this,Ct),a=this.options,o=Q(this,En),i=Q(this,vl),l=Q(this,xu),u=t!==n?t.state:Q(this,nm),{state:f}=t;let d={...f},h=!1,y;if(r._optimisticResults){const E=this.hasListeners(),A=!E&&oC(t,r),T=E&&sC(t,n,r,a);(A||T)&&(d={...d,...VI(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:p,status:g}=d;if(r.select&&d.data!==void 0)if(o&&d.data===(i==null?void 0:i.data)&&r.select===Q(this,am))y=Q(this,bu);else try{Ve(this,am,r.select),y=r.select(d.data),y=s1(o==null?void 0:o.data,y,r),Ve(this,bu,y),Ve(this,Po,null)}catch(E){Ve(this,Po,E)}else y=d.data;if(r.placeholderData!==void 0&&y===void 0&&g==="pending"){let E;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))E=o.data;else if(E=typeof r.placeholderData=="function"?r.placeholderData((N=Q(this,wu))==null?void 0:N.state.data,Q(this,wu)):r.placeholderData,r.select&&E!==void 0)try{E=r.select(E),Ve(this,Po,null)}catch(A){Ve(this,Po,A)}E!==void 0&&(g="success",y=s1(o==null?void 0:o.data,E,r),h=!0)}Q(this,Po)&&(v=Q(this,Po),y=Q(this,bu),p=Date.now(),g="error");const x=d.fetchStatus==="fetching",b=g==="pending",w=g==="error",S=b&&x,j=y!==void 0,_={status:g,fetchStatus:d.fetchStatus,isPending:b,isSuccess:g==="success",isError:w,isInitialLoading:S,isLoading:S,data:y,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:w&&!j,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&j,isStale:tk(t,r),refetch:this.refetch,promise:Q(this,ri)};if(this.options.experimental_prefetchInRender){const E=D=>{_.status==="error"?D.reject(_.error):_.data!==void 0&&D.resolve(_.data)},A=()=>{const D=Ve(this,ri,_.promise=i1());E(D)},T=Q(this,ri);switch(T.status){case"pending":t.queryHash===n.queryHash&&E(T);break;case"fulfilled":(_.status==="error"||_.data!==T.value)&&A();break;case"rejected":(_.status!=="error"||_.error!==T.reason)&&A();break}}return _}updateResult(t){const r=Q(this,En),n=this.createResult(Q(this,Ct),this.options);if(Ve(this,vl,Q(this,Ct).state),Ve(this,xu,this.options),Q(this,vl).data!==void 0&&Ve(this,wu,Q(this,Ct)),Ug(n,r))return;Ve(this,En,n);const a={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!Q(this,Su).size)return!0;const c=new Set(l??Q(this,Su));return this.options.throwOnError&&c.add("error"),Object.keys(Q(this,En)).some(u=>{const f=u;return Q(this,En)[f]!==r[f]&&c.has(f)})};(t==null?void 0:t.listeners)!==!1&&o()&&(a.listeners=!0),St(this,Ut,GI).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&St(this,Ut,d1).call(this)}},Dn=new WeakMap,Ct=new WeakMap,nm=new WeakMap,En=new WeakMap,vl=new WeakMap,xu=new WeakMap,ri=new WeakMap,Po=new WeakMap,am=new WeakMap,bu=new WeakMap,wu=new WeakMap,xl=new WeakMap,bl=new WeakMap,ni=new WeakMap,Su=new WeakMap,Ut=new WeakSet,gf=function(t){St(this,Ut,m1).call(this);let r=Q(this,Ct).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(xa)),r},l1=function(){St(this,Ut,f1).call(this);const t=Zc(this.options.staleTime,Q(this,Ct));if(Ml||Q(this,En).isStale||!a1(t))return;const n=FI(Q(this,En).dataUpdatedAt,t)+1;Ve(this,xl,setTimeout(()=>{Q(this,En).isStale||this.updateResult()},n))},c1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,Ct)):this.options.refetchInterval)??!1},u1=function(t){St(this,Ut,h1).call(this),Ve(this,ni,t),!(Ml||Qa(this.options.enabled,Q(this,Ct))===!1||!a1(Q(this,ni))||Q(this,ni)===0)&&Ve(this,bl,setInterval(()=>{(this.options.refetchIntervalInBackground||ek.isFocused())&&St(this,Ut,gf).call(this)},Q(this,ni)))},d1=function(){St(this,Ut,l1).call(this),St(this,Ut,u1).call(this,St(this,Ut,c1).call(this))},f1=function(){Q(this,xl)&&(clearTimeout(Q(this,xl)),Ve(this,xl,void 0))},h1=function(){Q(this,bl)&&(clearInterval(Q(this,bl)),Ve(this,bl,void 0))},m1=function(){const t=Q(this,Dn).getQueryCache().build(Q(this,Dn),this.options);if(t===Q(this,Ct))return;const r=Q(this,Ct);Ve(this,Ct,t),Ve(this,nm,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},GI=function(t){Dr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Q(this,En))}),Q(this,Dn).getQueryCache().notify({query:Q(this,Ct),type:"observerResultsUpdated"})})},BR);function HK(e,t){return Qa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function oC(e,t){return HK(e,t)||e.state.data!==void 0&&p1(e,t,t.refetchOnMount)}function p1(e,t,r){if(Qa(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&tk(e,t)}return!1}function sC(e,t,r,n){return(e!==t||Qa(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&tk(e,r)}function tk(e,t){return Qa(t.enabled,e)!==!1&&e.isStaleByTime(Zc(t.staleTime,e))}function VK(e,t){return!Ug(e.getCurrentResult(),t)}var ai,oi,Fn,ns,ps,sg,g1,UR,KK=(UR=class extends dd{constructor(r,n){super();ft(this,ps);ft(this,ai);ft(this,oi);ft(this,Fn);ft(this,ns);Ve(this,ai,r),this.setOptions(n),this.bindMethods(),St(this,ps,sg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=Q(this,ai).defaultMutationOptions(r),Ug(this.options,n)||Q(this,ai).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Q(this,Fn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Il(n.mutationKey)!==Il(this.options.mutationKey)?this.reset():((a=Q(this,Fn))==null?void 0:a.state.status)==="pending"&&Q(this,Fn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Q(this,Fn))==null||r.removeObserver(this)}onMutationUpdate(r){St(this,ps,sg).call(this),St(this,ps,g1).call(this,r)}getCurrentResult(){return Q(this,oi)}reset(){var r;(r=Q(this,Fn))==null||r.removeObserver(this),Ve(this,Fn,void 0),St(this,ps,sg).call(this),St(this,ps,g1).call(this)}mutate(r,n){var a;return Ve(this,ns,n),(a=Q(this,Fn))==null||a.removeObserver(this),Ve(this,Fn,Q(this,ai).getMutationCache().build(Q(this,ai),this.options)),Q(this,Fn).addObserver(this),Q(this,Fn).execute(r)}},ai=new WeakMap,oi=new WeakMap,Fn=new WeakMap,ns=new WeakMap,ps=new WeakSet,sg=function(){var n;const r=((n=Q(this,Fn))==null?void 0:n.state)??KI();Ve(this,oi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},g1=function(r){Dr.batch(()=>{var n,a,o,i,l,c,u,f;if(Q(this,ns)&&this.hasListeners()){const d=Q(this,oi).variables,h=Q(this,oi).context;(r==null?void 0:r.type)==="success"?((a=(n=Q(this,ns)).onSuccess)==null||a.call(n,r.data,d,h),(i=(o=Q(this,ns)).onSettled)==null||i.call(o,r.data,null,d,h)):(r==null?void 0:r.type)==="error"&&((c=(l=Q(this,ns)).onError)==null||c.call(l,r.error,d,h),(f=(u=Q(this,ns)).onSettled)==null||f.call(u,void 0,r.error,d,h))}this.listeners.forEach(d=>{d(Q(this,oi))})})},UR),JI=m.createContext(void 0),ca=e=>{const t=m.useContext(JI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},GK=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(JI.Provider,{value:e,children:t})),YI=m.createContext(!1),JK=()=>m.useContext(YI);YI.Provider;function YK(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var XK=m.createContext(YK()),QK=()=>m.useContext(XK);function XI(e,t){return typeof e=="function"?e(...t):!!e}function QI(){}var ZK=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},eG=e=>{m.useEffect(()=>{e.clearReset()},[e])},tG=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&XI(r,[e.error,n]),rG=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},nG=(e,t)=>e.isLoading&&e.isFetching&&!t,aG=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,iC=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function oG(e,t,r){var f,d,h,y,v;const n=ca(),a=JK(),o=QK(),i=n.defaultQueryOptions(e);(d=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||d.call(f,i),i._optimisticResults=a?"isRestoring":"optimistic",rG(i),ZK(i,o),eG(o);const l=!n.getQueryCache().get(i.queryHash),[c]=m.useState(()=>new t(n,i)),u=c.getOptimisticResult(i);if(m.useSyncExternalStore(m.useCallback(p=>{const g=a?()=>{}:c.subscribe(Dr.batchCalls(p));return c.updateResult(),g},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),aG(i,u))throw iC(i,c,o);if(tG({result:u,errorResetBoundary:o,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw u.error;if((y=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||y.call(h,i,u),i.experimental_prefetchInRender&&!Ml&&nG(u,a)){const p=l?iC(i,c,o):(v=n.getQueryCache().get(i.queryHash))==null?void 0:v.promise;p==null||p.catch(QI).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Yt(e,t){return oG(e,WK)}function mo(e,t){const r=ca(),[n]=m.useState(()=>new KK(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const a=m.useSyncExternalStore(m.useCallback(i=>n.subscribe(Dr.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=m.useCallback((i,l)=>{n.mutate(i,l).catch(QI)},[n]);if(a.error&&XI(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(this,arguments)}var li;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(li||(li={}));const lC="popstate";function sG(e){e===void 0&&(e={});function t(n,a){let{pathname:o,search:i,hash:l}=n.location;return y1("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:qg(a)}return lG(t,r,null,e)}function Nr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ZI(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iG(){return Math.random().toString(36).substr(2,8)}function cC(e,t){return{usr:e.state,key:e.key,idx:t}}function y1(e,t,r,n){return r===void 0&&(r=null),ch({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fd(t):t,{state:r,key:t&&t.key||n||iG()})}function qg(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function lG(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,l=li.Pop,c=null,u=f();u==null&&(u=0,i.replaceState(ch({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function d(){l=li.Pop;let g=f(),x=g==null?null:g-u;u=g,c&&c({action:l,location:p.location,delta:x})}function h(g,x){l=li.Push;let b=y1(p.location,g,x);u=f()+1;let w=cC(b,u),S=p.createHref(b);try{i.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(S)}o&&c&&c({action:l,location:p.location,delta:1})}function y(g,x){l=li.Replace;let b=y1(p.location,g,x);u=f();let w=cC(b,u),S=p.createHref(b);i.replaceState(w,"",S),o&&c&&c({action:l,location:p.location,delta:0})}function v(g){let x=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof g=="string"?g:qg(g);return b=b.replace(/ $/,"%20"),Nr(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let p={get action(){return l},get location(){return e(a,i)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(lC,d),c=g,()=>{a.removeEventListener(lC,d),c=null}},createHref(g){return t(a,g)},createURL:v,encodeLocation(g){let x=v(g);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:y,go(g){return i.go(g)}};return p}var uC;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uC||(uC={}));function cG(e,t,r){return r===void 0&&(r="/"),uG(e,t,r,!1)}function uG(e,t,r,n){let a=typeof t=="string"?fd(t):t,o=rk(a.pathname||"/",r);if(o==null)return null;let i=e3(e);dG(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=SG(o);l=bG(i[c],u,n)}return l}function e3(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Nr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=vi([n,c.relativePath]),f=r.concat(c);o.children&&o.children.length>0&&(Nr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),e3(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:vG(u,o.index),routesMeta:f})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of t3(o.path))a(o,i,c)}),t}function t3(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=t3(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function dG(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xG(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const fG=/^:[\w-]+$/,hG=3,mG=2,pG=1,gG=10,yG=-2,dC=e=>e==="*";function vG(e,t){let r=e.split("/"),n=r.length;return r.some(dC)&&(n+=yG),t&&(n+=mG),r.filter(a=>!dC(a)).reduce((a,o)=>a+(fG.test(o)?hG:o===""?pG:gG),n)}function xG(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function bG(e,t,r){let{routesMeta:n}=e,a={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=o==="/"?t:t.slice(o.length)||"/",d=fC({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=fC({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:vi([o,d.pathname]),pathnameBase:NG(vi([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=vi([o,d.pathnameBase]))}return i}function fC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=wG(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:y}=f;if(h==="*"){let p=l[d]||"";i=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const v=l[d];return y&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function wG(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ZI(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function SG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ZI(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rk(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function jG(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?fd(e):e;return{pathname:r?r.startsWith("/")?r:_G(r,t):t,search:EG(n),hash:CG(a)}}function _G(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function qx(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kG(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function nk(e,t){let r=kG(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ak(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=fd(e):(a=ch({},e),Nr(!a.pathname||!a.pathname.includes("?"),qx("?","pathname","search",a)),Nr(!a.pathname||!a.pathname.includes("#"),qx("#","pathname","hash",a)),Nr(!a.search||!a.search.includes("#"),qx("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=r;else{let d=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=jG(a,l),u=i&&i!=="/"&&i.endsWith("/"),f=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const vi=e=>e.join("/").replace(/\/\/+/g,"/"),NG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function PG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const r3=["post","put","patch","delete"];new Set(r3);const AG=["get",...r3];new Set(AG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uh.apply(this,arguments)}const ok=m.createContext(null),TG=m.createContext(null),Li=m.createContext(null),Ov=m.createContext(null),Ns=m.createContext({outlet:null,matches:[],isDataRoute:!1}),n3=m.createContext(null);function OG(e,t){let{relative:r}=t===void 0?{}:t;hd()||Nr(!1);let{basename:n,navigator:a}=m.useContext(Li),{hash:o,pathname:i,search:l}=o3(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:vi([n,i])),a.createHref({pathname:c,search:l,hash:o})}function hd(){return m.useContext(Ov)!=null}function ha(){return hd()||Nr(!1),m.useContext(Ov).location}function a3(e){m.useContext(Li).static||m.useLayoutEffect(e)}function tr(){let{isDataRoute:e}=m.useContext(Ns);return e?HG():RG()}function RG(){hd()||Nr(!1);let e=m.useContext(ok),{basename:t,future:r,navigator:n}=m.useContext(Li),{matches:a}=m.useContext(Ns),{pathname:o}=ha(),i=JSON.stringify(nk(a,r.v7_relativeSplatPath)),l=m.useRef(!1);return a3(()=>{l.current=!0}),m.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=ak(u,JSON.parse(i),o,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:vi([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,i,o,e])}function hm(){let{matches:e}=m.useContext(Ns),t=e[e.length-1];return t?t.params:{}}function o3(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(Li),{matches:a}=m.useContext(Ns),{pathname:o}=ha(),i=JSON.stringify(nk(a,n.v7_relativeSplatPath));return m.useMemo(()=>ak(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function $G(e,t){return MG(e,t)}function MG(e,t,r,n){hd()||Nr(!1);let{navigator:a}=m.useContext(Li),{matches:o}=m.useContext(Ns),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=ha(),f;if(t){var d;let g=typeof t=="string"?fd(t):t;c==="/"||(d=g.pathname)!=null&&d.startsWith(c)||Nr(!1),f=g}else f=u;let h=f.pathname||"/",y=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=cG(e,{pathname:y}),p=BG(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:vi([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:vi([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,r,n);return t&&p?m.createElement(Ov.Provider,{value:{location:uh({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:li.Pop}},p):p}function IG(){let e=WG(),t=PG(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:a},r):null,null)}const LG=m.createElement(IG,null);class DG extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Ns.Provider,{value:this.props.routeContext},m.createElement(n3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FG(e){let{routeContext:t,match:r,children:n}=e,a=m.useContext(ok);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Ns.Provider,{value:t},n)}function BG(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let f=i.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||Nr(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:y}=r,v=d.route.loader&&h[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||v){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,d,h)=>{let y,v=!1,p=null,g=null;r&&(y=l&&d.route.id?l[d.route.id]:void 0,p=d.route.errorElement||LG,c&&(u<0&&h===0?(v=!0,g=null):u===h&&(v=!0,g=d.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,h+1)),b=()=>{let w;return y?w=p:v?w=g:d.route.Component?w=m.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=f,m.createElement(FG,{match:d,routeContext:{outlet:f,matches:x,isDataRoute:r!=null},children:w})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?m.createElement(DG,{location:r.location,revalidation:r.revalidation,component:p,error:y,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var s3=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(s3||{}),Wg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wg||{});function UG(e){let t=m.useContext(ok);return t||Nr(!1),t}function zG(e){let t=m.useContext(TG);return t||Nr(!1),t}function qG(e){let t=m.useContext(Ns);return t||Nr(!1),t}function i3(e){let t=qG(),r=t.matches[t.matches.length-1];return r.route.id||Nr(!1),r.route.id}function WG(){var e;let t=m.useContext(n3),r=zG(Wg.UseRouteError),n=i3(Wg.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function HG(){let{router:e}=UG(s3.UseNavigateStable),t=i3(Wg.UseNavigateStable),r=m.useRef(!1);return a3(()=>{r.current=!0}),m.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,uh({fromRouteId:t},o)))},[e,t])}function VG(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ig(e){let{to:t,replace:r,state:n,relative:a}=e;hd()||Nr(!1);let{future:o,static:i}=m.useContext(Li),{matches:l}=m.useContext(Ns),{pathname:c}=ha(),u=tr(),f=ak(t,nk(l,o.v7_relativeSplatPath),c,a==="path"),d=JSON.stringify(f);return m.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:a}),[u,d,a,r,n]),null}function Bn(e){Nr(!1)}function KG(e){let{basename:t="/",children:r=null,location:n,navigationType:a=li.Pop,navigator:o,static:i=!1,future:l}=e;hd()&&Nr(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:uh({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=fd(n));let{pathname:f="/",search:d="",hash:h="",state:y=null,key:v="default"}=n,p=m.useMemo(()=>{let g=rk(f,c);return g==null?null:{location:{pathname:g,search:d,hash:h,state:y,key:v},navigationType:a}},[c,f,d,h,y,v,a]);return p==null?null:m.createElement(Li.Provider,{value:u},m.createElement(Ov.Provider,{children:r,value:p}))}function GG(e){let{children:t,location:r}=e;return $G(v1(t),r)}new Promise(()=>{});function v1(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,a)=>{if(!m.isValidElement(n))return;let o=[...t,a];if(n.type===m.Fragment){r.push.apply(r,v1(n.props.children,o));return}n.type!==Bn&&Nr(!1),!n.props.index||!n.props.children||Nr(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=v1(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x1.apply(this,arguments)}function JG(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function YG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XG(e,t){return e.button===0&&(!t||t==="_self")&&!YG(e)}function b1(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function QG(e,t){let r=b1(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(o=>{r.append(a,o)})}),r}const ZG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eJ="6";try{window.__reactRouterVersion=eJ}catch{}const tJ="startTransition",hC=lv[tJ];function rJ(e){let{basename:t,children:r,future:n,window:a}=e,o=m.useRef();o.current==null&&(o.current=sG({window:a,v5Compat:!0}));let i=o.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},f=m.useCallback(d=>{u&&hC?hC(()=>c(d)):c(d)},[c,u]);return m.useLayoutEffect(()=>i.listen(f),[i,f]),m.useEffect(()=>VG(n),[n]),m.createElement(KG,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const nJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wr=m.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=JG(t,ZG),{basename:y}=m.useContext(Li),v,p=!1;if(typeof u=="string"&&aJ.test(u)&&(v=u,nJ))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=rk(S.pathname,y);S.origin===w.origin&&j!=null?u=j+S.search+S.hash:p=!0}catch{}let g=OG(u,{relative:a}),x=oJ(u,{replace:i,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:d});function b(w){n&&n(w),w.defaultPrevented||x(w)}return m.createElement("a",x1({},h,{href:v||g,onClick:p||o?n:b,ref:r,target:c}))});var mC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mC||(mC={}));var pC;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pC||(pC={}));function oJ(e,t){let{target:r,replace:n,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=tr(),u=ha(),f=o3(e,{relative:i});return m.useCallback(d=>{if(XG(d,r)){d.preventDefault();let h=n!==void 0?n:qg(u)===qg(f);c(e,{replace:h,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,f,n,a,r,e,o,i,l])}function Rv(e){let t=m.useRef(b1(e)),r=m.useRef(!1),n=ha(),a=m.useMemo(()=>QG(n.search,r.current?null:t.current),[n.search]),o=tr(),i=m.useCallback((l,c)=>{const u=b1(typeof l=="function"?l(a):l);r.current=!0,o("?"+u,c)},[o,a]);return[a,i]}function l3(e,t){return function(){return e.apply(t,arguments)}}const{toString:sJ}=Object.prototype,{getPrototypeOf:sk}=Object,{iterator:$v,toStringTag:c3}=Symbol,Mv=(e=>t=>{const r=sJ.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),go=e=>(e=e.toLowerCase(),t=>Mv(t)===e),Iv=e=>t=>typeof t===e,{isArray:md}=Array,Ou=Iv("undefined");function mm(e){return e!==null&&!Ou(e)&&e.constructor!==null&&!Ou(e.constructor)&&Gn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const u3=go("ArrayBuffer");function iJ(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&u3(e.buffer),t}const lJ=Iv("string"),Gn=Iv("function"),d3=Iv("number"),pm=e=>e!==null&&typeof e=="object",cJ=e=>e===!0||e===!1,lg=e=>{if(Mv(e)!=="object")return!1;const t=sk(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(c3 in e)&&!($v in e)},uJ=e=>{if(!pm(e)||mm(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},dJ=go("Date"),fJ=go("File"),hJ=go("Blob"),mJ=go("FileList"),pJ=e=>pm(e)&&Gn(e.pipe),gJ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Gn(e.append)&&((t=Mv(e))==="formdata"||t==="object"&&Gn(e.toString)&&e.toString()==="[object FormData]"))},yJ=go("URLSearchParams"),[vJ,xJ,bJ,wJ]=["ReadableStream","Request","Response","Headers"].map(go),SJ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gm(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),md(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(mm(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(n=0;n<i;n++)l=o[n],t.call(null,e[l],l,e)}}function f3(e,t){if(mm(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const cl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,h3=e=>!Ou(e)&&e!==cl;function w1(){const{caseless:e,skipUndefined:t}=h3(this)&&this||{},r={},n=(a,o)=>{const i=e&&f3(r,o)||o;lg(r[i])&&lg(a)?r[i]=w1(r[i],a):lg(a)?r[i]=w1({},a):md(a)?r[i]=a.slice():(!t||!Ou(a))&&(r[i]=a)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&gm(arguments[a],n);return r}const jJ=(e,t,r,{allOwnKeys:n}={})=>(gm(t,(a,o)=>{r&&Gn(a)?e[o]=l3(a,r):e[o]=a},{allOwnKeys:n}),e),_J=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),kJ=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},NJ=(e,t,r,n)=>{let a,o,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&sk(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},EJ=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},CJ=e=>{if(!e)return null;if(md(e))return e;let t=e.length;if(!d3(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},PJ=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&sk(Uint8Array)),AJ=(e,t)=>{const n=(e&&e[$v]).call(e);let a;for(;(a=n.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},TJ=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},OJ=go("HTMLFormElement"),RJ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),gC=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),$J=go("RegExp"),m3=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};gm(r,(a,o)=>{let i;(i=t(a,o,e))!==!1&&(n[o]=i||a)}),Object.defineProperties(e,n)},MJ=e=>{m3(e,(t,r)=>{if(Gn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Gn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},IJ=(e,t)=>{const r={},n=a=>{a.forEach(o=>{r[o]=!0})};return md(e)?n(e):n(String(e).split(t)),r},LJ=()=>{},DJ=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function FJ(e){return!!(e&&Gn(e.append)&&e[c3]==="FormData"&&e[$v])}const BJ=e=>{const t=new Array(10),r=(n,a)=>{if(pm(n)){if(t.indexOf(n)>=0)return;if(mm(n))return n;if(!("toJSON"in n)){t[a]=n;const o=md(n)?[]:{};return gm(n,(i,l)=>{const c=r(i,a+1);!Ou(c)&&(o[l]=c)}),t[a]=void 0,o}}return n};return r(e,0)},UJ=go("AsyncFunction"),zJ=e=>e&&(pm(e)||Gn(e))&&Gn(e.then)&&Gn(e.catch),p3=((e,t)=>e?setImmediate:t?((r,n)=>(cl.addEventListener("message",({source:a,data:o})=>{a===cl&&o===r&&n.length&&n.shift()()},!1),a=>{n.push(a),cl.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Gn(cl.postMessage)),qJ=typeof queueMicrotask<"u"?queueMicrotask.bind(cl):typeof process<"u"&&process.nextTick||p3,WJ=e=>e!=null&&Gn(e[$v]),me={isArray:md,isArrayBuffer:u3,isBuffer:mm,isFormData:gJ,isArrayBufferView:iJ,isString:lJ,isNumber:d3,isBoolean:cJ,isObject:pm,isPlainObject:lg,isEmptyObject:uJ,isReadableStream:vJ,isRequest:xJ,isResponse:bJ,isHeaders:wJ,isUndefined:Ou,isDate:dJ,isFile:fJ,isBlob:hJ,isRegExp:$J,isFunction:Gn,isStream:pJ,isURLSearchParams:yJ,isTypedArray:PJ,isFileList:mJ,forEach:gm,merge:w1,extend:jJ,trim:SJ,stripBOM:_J,inherits:kJ,toFlatObject:NJ,kindOf:Mv,kindOfTest:go,endsWith:EJ,toArray:CJ,forEachEntry:AJ,matchAll:TJ,isHTMLForm:OJ,hasOwnProperty:gC,hasOwnProp:gC,reduceDescriptors:m3,freezeMethods:MJ,toObjectSet:IJ,toCamelCase:RJ,noop:LJ,toFiniteNumber:DJ,findKey:f3,global:cl,isContextDefined:h3,isSpecCompliantForm:FJ,toJSONObject:BJ,isAsyncFn:UJ,isThenable:zJ,setImmediate:p3,asap:qJ,isIterable:WJ};function bt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}me.inherits(bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const g3=bt.prototype,y3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{y3[e]={value:e}});Object.defineProperties(bt,y3);Object.defineProperty(g3,"isAxiosError",{value:!0});bt.from=(e,t,r,n,a,o)=>{const i=Object.create(g3);me.toFlatObject(e,i,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return bt.call(i,l,c,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const HJ=null;function S1(e){return me.isPlainObject(e)||me.isArray(e)}function v3(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function yC(e,t,r){return e?e.concat(t).map(function(a,o){return a=v3(a),!r&&o?"["+a+"]":a}).join(r?".":""):t}function VJ(e){return me.isArray(e)&&!e.some(S1)}const KJ=me.toFlatObject(me,{},null,function(t){return/^is[A-Z]/.test(t)});function Lv(e,t,r){if(!me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=me.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,g){return!me.isUndefined(g[p])});const n=r.metaTokens,a=r.visitor||f,o=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(t);if(!me.isFunction(a))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(me.isDate(v))return v.toISOString();if(me.isBoolean(v))return v.toString();if(!c&&me.isBlob(v))throw new bt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(v)||me.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,p,g){let x=v;if(v&&!g&&typeof v=="object"){if(me.endsWith(p,"{}"))p=n?p:p.slice(0,-2),v=JSON.stringify(v);else if(me.isArray(v)&&VJ(v)||(me.isFileList(v)||me.endsWith(p,"[]"))&&(x=me.toArray(v)))return p=v3(p),x.forEach(function(w,S){!(me.isUndefined(w)||w===null)&&t.append(i===!0?yC([p],S,o):i===null?p:p+"[]",u(w))}),!1}return S1(v)?!0:(t.append(yC(g,p,o),u(v)),!1)}const d=[],h=Object.assign(KJ,{defaultVisitor:f,convertValue:u,isVisitable:S1});function y(v,p){if(!me.isUndefined(v)){if(d.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(v),me.forEach(v,function(x,b){(!(me.isUndefined(x)||x===null)&&a.call(t,x,me.isString(b)?b.trim():b,p,h))===!0&&y(x,p?p.concat(b):[b])}),d.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return y(e),t}function vC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function ik(e,t){this._pairs=[],e&&Lv(e,this,t)}const x3=ik.prototype;x3.append=function(t,r){this._pairs.push([t,r])};x3.toString=function(t){const r=t?function(n){return t.call(this,n,vC)}:vC;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function GJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function b3(e,t,r){if(!t)return e;const n=r&&r.encode||GJ;me.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let o;if(a?o=a(t,r):o=me.isURLSearchParams(t)?t.toString():new ik(t,r).toString(n),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class xC{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){me.forEach(this.handlers,function(n){n!==null&&t(n)})}}const w3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JJ=typeof URLSearchParams<"u"?URLSearchParams:ik,YJ=typeof FormData<"u"?FormData:null,XJ=typeof Blob<"u"?Blob:null,QJ={isBrowser:!0,classes:{URLSearchParams:JJ,FormData:YJ,Blob:XJ},protocols:["http","https","file","blob","url","data"]},lk=typeof window<"u"&&typeof document<"u",j1=typeof navigator=="object"&&navigator||void 0,ZJ=lk&&(!j1||["ReactNative","NativeScript","NS"].indexOf(j1.product)<0),eY=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tY=lk&&window.location.href||"http://localhost",rY=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lk,hasStandardBrowserEnv:ZJ,hasStandardBrowserWebWorkerEnv:eY,navigator:j1,origin:tY},Symbol.toStringTag,{value:"Module"})),vn={...rY,...QJ};function nY(e,t){return Lv(e,new vn.classes.URLSearchParams,{visitor:function(r,n,a,o){return vn.isNode&&me.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function aY(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function oY(e){const t={},r=Object.keys(e);let n;const a=r.length;let o;for(n=0;n<a;n++)o=r[n],t[o]=e[o];return t}function S3(e){function t(r,n,a,o){let i=r[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=r.length;return i=!i&&me.isArray(a)?a.length:i,c?(me.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!me.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],o)&&me.isArray(a[i])&&(a[i]=oY(a[i])),!l)}if(me.isFormData(e)&&me.isFunction(e.entries)){const r={};return me.forEachEntry(e,(n,a)=>{t(aY(n),a,r,0)}),r}return null}function sY(e,t,r){if(me.isString(e))try{return(t||JSON.parse)(e),me.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const ym={transitional:w3,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,o=me.isObject(t);if(o&&me.isHTMLForm(t)&&(t=new FormData(t)),me.isFormData(t))return a?JSON.stringify(S3(t)):t;if(me.isArrayBuffer(t)||me.isBuffer(t)||me.isStream(t)||me.isFile(t)||me.isBlob(t)||me.isReadableStream(t))return t;if(me.isArrayBufferView(t))return t.buffer;if(me.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return nY(t,this.formSerializer).toString();if((l=me.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Lv(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),sY(t)):t}],transformResponse:[function(t){const r=this.transitional||ym.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(me.isResponse(t)||me.isReadableStream(t))return t;if(t&&me.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?bt.from(l,bt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vn.classes.FormData,Blob:vn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{ym.headers[e]={}});const iY=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lY=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&iY[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},bC=Symbol("internals");function Kd(e){return e&&String(e).trim().toLowerCase()}function cg(e){return e===!1||e==null?e:me.isArray(e)?e.map(cg):String(e)}function cY(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const uY=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wx(e,t,r,n,a){if(me.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!me.isString(t)){if(me.isString(n))return t.indexOf(n)!==-1;if(me.isRegExp(n))return n.test(t)}}function dY(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function fY(e,t){const r=me.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,o,i){return this[n].call(this,t,a,o,i)},configurable:!0})})}class Jn{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function o(l,c,u){const f=Kd(c);if(!f)throw new Error("header name must be a non-empty string");const d=me.findKey(a,f);(!d||a[d]===void 0||u===!0||u===void 0&&a[d]!==!1)&&(a[d||c]=cg(l))}const i=(l,c)=>me.forEach(l,(u,f)=>o(u,f,c));if(me.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(me.isString(t)&&(t=t.trim())&&!uY(t))i(lY(t),r);else if(me.isObject(t)&&me.isIterable(t)){let l={},c,u;for(const f of t){if(!me.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[u=f[0]]=(c=l[u])?me.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}i(l,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=Kd(t),t){const n=me.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return cY(a);if(me.isFunction(r))return r.call(this,a,n);if(me.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Kd(t),t){const n=me.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Wx(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function o(i){if(i=Kd(i),i){const l=me.findKey(n,i);l&&(!r||Wx(n,n[l],l,r))&&(delete n[l],a=!0)}}return me.isArray(t)?t.forEach(o):o(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const o=r[n];(!t||Wx(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const r=this,n={};return me.forEach(this,(a,o)=>{const i=me.findKey(n,o);if(i){r[i]=cg(a),delete r[o];return}const l=t?dY(o):String(o).trim();l!==o&&delete r[o],r[l]=cg(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return me.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&me.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[bC]=this[bC]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=Kd(i);n[l]||(fY(a,i),n[l]=!0)}return me.isArray(t)?t.forEach(o):o(t),this}}Jn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(Jn.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});me.freezeMethods(Jn);function Hx(e,t){const r=this||ym,n=t||r,a=Jn.from(n.headers);let o=n.data;return me.forEach(e,function(l){o=l.call(r,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function j3(e){return!!(e&&e.__CANCEL__)}function pd(e,t,r){bt.call(this,e??"canceled",bt.ERR_CANCELED,t,r),this.name="CanceledError"}me.inherits(pd,bt,{__CANCEL__:!0});function _3(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new bt("Request failed with status code "+r.status,[bt.ERR_BAD_REQUEST,bt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function hY(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mY(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),f=n[o];i||(i=u),r[a]=c,n[a]=u;let d=o,h=0;for(;d!==a;)h+=r[d++],d=d%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),u-i<t)return;const y=f&&u-f;return y?Math.round(h*1e3/y):void 0}}function pY(e,t){let r=0,n=1e3/t,a,o;const i=(u,f=Date.now())=>{r=f,a=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const f=Date.now(),d=f-r;d>=n?i(u,f):(a=u,o||(o=setTimeout(()=>{o=null,i(a)},n-d)))},()=>a&&i(a)]}const Hg=(e,t,r=3)=>{let n=0;const a=mY(50,250);return pY(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-n,u=a(c),f=i<=l;n=i;const d={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&f?(l-i)/u:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(d)},r)},wC=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},SC=e=>(...t)=>me.asap(()=>e(...t)),gY=vn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,vn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(vn.origin),vn.navigator&&/(msie|trident)/i.test(vn.navigator.userAgent)):()=>!0,yY=vn.hasStandardBrowserEnv?{write(e,t,r,n,a,o){const i=[e+"="+encodeURIComponent(t)];me.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),me.isString(n)&&i.push("path="+n),me.isString(a)&&i.push("domain="+a),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vY(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xY(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function k3(e,t,r){let n=!vY(t);return e&&(n||r==!1)?xY(e,t):t}const jC=e=>e instanceof Jn?{...e}:e;function Ll(e,t){t=t||{};const r={};function n(u,f,d,h){return me.isPlainObject(u)&&me.isPlainObject(f)?me.merge.call({caseless:h},u,f):me.isPlainObject(f)?me.merge({},f):me.isArray(f)?f.slice():f}function a(u,f,d,h){if(me.isUndefined(f)){if(!me.isUndefined(u))return n(void 0,u,d,h)}else return n(u,f,d,h)}function o(u,f){if(!me.isUndefined(f))return n(void 0,f)}function i(u,f){if(me.isUndefined(f)){if(!me.isUndefined(u))return n(void 0,u)}else return n(void 0,f)}function l(u,f,d){if(d in t)return n(u,f);if(d in e)return n(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,f,d)=>a(jC(u),jC(f),d,!0)};return me.forEach(Object.keys({...e,...t}),function(f){const d=c[f]||a,h=d(e[f],t[f],f);me.isUndefined(h)&&d!==l||(r[f]=h)}),r}const N3=e=>{const t=Ll({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=Jn.from(i),t.url=b3(k3(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),me.isFormData(r)){if(vn.hasStandardBrowserEnv||vn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(me.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([f,d])=>{u.includes(f.toLowerCase())&&i.set(f,d)})}}if(vn.hasStandardBrowserEnv&&(n&&me.isFunction(n)&&(n=n(t)),n||n!==!1&&gY(t.url))){const c=a&&o&&yY.read(o);c&&i.set(a,c)}return t},bY=typeof XMLHttpRequest<"u",wY=bY&&function(e){return new Promise(function(r,n){const a=N3(e);let o=a.data;const i=Jn.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,f,d,h,y,v;function p(){y&&y(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function x(){if(!g)return;const w=Jn.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:e,request:g};_3(function(_){r(_),p()},function(_){n(_),p()},j),g=null}"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(x)},g.onabort=function(){g&&(n(new bt("Request aborted",bt.ECONNABORTED,e,g)),g=null)},g.onerror=function(S){const j=S&&S.message?S.message:"Network Error",k=new bt(j,bt.ERR_NETWORK,e,g);k.event=S||null,n(k),g=null},g.ontimeout=function(){let S=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const j=a.transitional||w3;a.timeoutErrorMessage&&(S=a.timeoutErrorMessage),n(new bt(S,j.clarifyTimeoutError?bt.ETIMEDOUT:bt.ECONNABORTED,e,g)),g=null},o===void 0&&i.setContentType(null),"setRequestHeader"in g&&me.forEach(i.toJSON(),function(S,j){g.setRequestHeader(j,S)}),me.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),l&&l!=="json"&&(g.responseType=a.responseType),u&&([h,v]=Hg(u,!0),g.addEventListener("progress",h)),c&&g.upload&&([d,y]=Hg(c),g.upload.addEventListener("progress",d),g.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(f=w=>{g&&(n(!w||w.type?new pd(null,e,g):w),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const b=hY(a.url);if(b&&vn.protocols.indexOf(b)===-1){n(new bt("Unsupported protocol "+b+":",bt.ERR_BAD_REQUEST,e));return}g.send(o||null)})},SY=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const o=function(u){if(!a){a=!0,l();const f=u instanceof Error?u:this.reason;n.abort(f instanceof bt?f:new pd(f instanceof Error?f.message:f))}};let i=t&&setTimeout(()=>{i=null,o(new bt(`timeout ${t} of ms exceeded`,bt.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=n;return c.unsubscribe=()=>me.asap(l),c}},jY=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},_Y=async function*(e,t){for await(const r of kY(e))yield*jY(r,t)},kY=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},_C=(e,t,r,n)=>{const a=_Y(e,t);let o=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:f}=await a.next();if(u){l(),c.close();return}let d=f.byteLength;if(r){let h=o+=d;r(h)}c.enqueue(new Uint8Array(f))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},kC=64*1024,{isFunction:ip}=me,NY=(({Request:e,Response:t})=>({Request:e,Response:t}))(me.global),{ReadableStream:NC,TextEncoder:EC}=me.global,CC=(e,...t)=>{try{return!!e(...t)}catch{return!1}},EY=e=>{e=me.merge.call({skipUndefined:!0},NY,e);const{fetch:t,Request:r,Response:n}=e,a=t?ip(t):typeof fetch=="function",o=ip(r),i=ip(n);if(!a)return!1;const l=a&&ip(NC),c=a&&(typeof EC=="function"?(v=>p=>v.encode(p))(new EC):async v=>new Uint8Array(await new r(v).arrayBuffer())),u=o&&l&&CC(()=>{let v=!1;const p=new r(vn.origin,{body:new NC,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!p}),f=i&&l&&CC(()=>me.isReadableStream(new n("").body)),d={stream:f&&(v=>v.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!d[v]&&(d[v]=(p,g)=>{let x=p&&p[v];if(x)return x.call(p);throw new bt(`Response type '${v}' is not supported`,bt.ERR_NOT_SUPPORT,g)})});const h=async v=>{if(v==null)return 0;if(me.isBlob(v))return v.size;if(me.isSpecCompliantForm(v))return(await new r(vn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(me.isArrayBufferView(v)||me.isArrayBuffer(v))return v.byteLength;if(me.isURLSearchParams(v)&&(v=v+""),me.isString(v))return(await c(v)).byteLength},y=async(v,p)=>{const g=me.toFiniteNumber(v.getContentLength());return g??h(p)};return async v=>{let{url:p,method:g,data:x,signal:b,cancelToken:w,timeout:S,onDownloadProgress:j,onUploadProgress:k,responseType:_,headers:N,withCredentials:E="same-origin",fetchOptions:A}=N3(v),T=t||fetch;_=_?(_+"").toLowerCase():"text";let D=SY([b,w&&w.toAbortSignal()],S),B=null;const z=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let F;try{if(k&&u&&g!=="get"&&g!=="head"&&(F=await y(N,x))!==0){let R=new r(p,{method:"POST",body:x,duplex:"half"}),q;if(me.isFormData(x)&&(q=R.headers.get("content-type"))&&N.setContentType(q),R.body){const[ee,ne]=wC(F,Hg(SC(k)));x=_C(R.body,kC,ee,ne)}}me.isString(E)||(E=E?"include":"omit");const $=o&&"credentials"in r.prototype,U={...A,signal:D,method:g.toUpperCase(),headers:N.normalize().toJSON(),body:x,duplex:"half",credentials:$?E:void 0};B=o&&new r(p,U);let P=await(o?T(B,A):T(p,U));const M=f&&(_==="stream"||_==="response");if(f&&(j||M&&z)){const R={};["status","statusText","headers"].forEach(ce=>{R[ce]=P[ce]});const q=me.toFiniteNumber(P.headers.get("content-length")),[ee,ne]=j&&wC(q,Hg(SC(j),!0))||[];P=new n(_C(P.body,kC,ee,()=>{ne&&ne(),z&&z()}),R)}_=_||"text";let W=await d[me.findKey(d,_)||"text"](P,v);return!M&&z&&z(),await new Promise((R,q)=>{_3(R,q,{data:W,headers:Jn.from(P.headers),status:P.status,statusText:P.statusText,config:v,request:B})})}catch($){throw z&&z(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new bt("Network Error",bt.ERR_NETWORK,v,B),{cause:$.cause||$}):bt.from($,$&&$.code,v,B)}}},CY=new Map,E3=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:a}=t,o=[n,a,r];let i=o.length,l=i,c,u,f=CY;for(;l--;)c=o[l],u=f.get(c),u===void 0&&f.set(c,u=l?new Map:EY(t)),f=u;return u};E3();const _1={http:HJ,xhr:wY,fetch:{get:E3}};me.forEach(_1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const PC=e=>`- ${e}`,PY=e=>me.isFunction(e)||e===null||e===!1,C3={getAdapter:(e,t)=>{e=me.isArray(e)?e:[e];const{length:r}=e;let n,a;const o={};for(let i=0;i<r;i++){n=e[i];let l;if(a=n,!PY(n)&&(a=_1[(l=String(n)).toLowerCase()],a===void 0))throw new bt(`Unknown adapter '${l}'`);if(a&&(me.isFunction(a)||(a=a.get(t))))break;o[l||"#"+i]=a}if(!a){const i=Object.entries(o).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(PC).join(`
`):" "+PC(i[0]):"as no adapter specified";throw new bt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:_1};function Vx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pd(null,e)}function AC(e){return Vx(e),e.headers=Jn.from(e.headers),e.data=Hx.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),C3.getAdapter(e.adapter||ym.adapter,e)(e).then(function(n){return Vx(e),n.data=Hx.call(e,e.transformResponse,n),n.headers=Jn.from(n.headers),n},function(n){return j3(n)||(Vx(e),n&&n.response&&(n.response.data=Hx.call(e,e.transformResponse,n.response),n.response.headers=Jn.from(n.response.headers))),Promise.reject(n)})}const P3="1.12.2",Dv={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Dv[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const TC={};Dv.transitional=function(t,r,n){function a(o,i){return"[Axios v"+P3+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,l)=>{if(t===!1)throw new bt(a(i," has been removed"+(r?" in "+r:"")),bt.ERR_DEPRECATED);return r&&!TC[i]&&(TC[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,i,l):!0}};Dv.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function AY(e,t,r){if(typeof e!="object")throw new bt("options must be an object",bt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const o=n[a],i=t[o];if(i){const l=e[o],c=l===void 0||i(l,o,e);if(c!==!0)throw new bt("option "+o+" must be "+c,bt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new bt("Unknown option "+o,bt.ERR_BAD_OPTION)}}const ug={assertOptions:AY,validators:Dv},So=ug.validators;class jl{constructor(t){this.defaults=t||{},this.interceptors={request:new xC,response:new xC}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ll(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:o}=r;n!==void 0&&ug.assertOptions(n,{silentJSONParsing:So.transitional(So.boolean),forcedJSONParsing:So.transitional(So.boolean),clarifyTimeoutError:So.transitional(So.boolean)},!1),a!=null&&(me.isFunction(a)?r.paramsSerializer={serialize:a}:ug.assertOptions(a,{encode:So.function,serialize:So.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ug.assertOptions(r,{baseUrl:So.spelling("baseURL"),withXsrfToken:So.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&me.merge(o.common,o[r.method]);o&&me.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),r.headers=Jn.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let f,d=0,h;if(!c){const v=[AC.bind(this),void 0];for(v.unshift(...l),v.push(...u),h=v.length,f=Promise.resolve(r);d<h;)f=f.then(v[d++],v[d++]);return f}h=l.length;let y=r;for(;d<h;){const v=l[d++],p=l[d++];try{y=v(y)}catch(g){p.call(this,g);break}}try{f=AC.call(this,y)}catch(v){return Promise.reject(v)}for(d=0,h=u.length;d<h;)f=f.then(u[d++],u[d++]);return f}getUri(t){t=Ll(this.defaults,t);const r=k3(t.baseURL,t.url,t.allowAbsoluteUrls);return b3(r,t.params,t.paramsSerializer)}}me.forEach(["delete","get","head","options"],function(t){jl.prototype[t]=function(r,n){return this.request(Ll(n||{},{method:t,url:r,data:(n||{}).data}))}});me.forEach(["post","put","patch"],function(t){function r(n){return function(o,i,l){return this.request(Ll(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}jl.prototype[t]=r(),jl.prototype[t+"Form"]=r(!0)});class ck{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{n.subscribe(l),o=l}).then(a);return i.cancel=function(){n.unsubscribe(o)},i},t(function(o,i,l){n.reason||(n.reason=new pd(o,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new ck(function(a){t=a}),cancel:t}}}function TY(e){return function(r){return e.apply(null,r)}}function OY(e){return me.isObject(e)&&e.isAxiosError===!0}const k1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(k1).forEach(([e,t])=>{k1[t]=e});function A3(e){const t=new jl(e),r=l3(jl.prototype.request,t);return me.extend(r,jl.prototype,t,{allOwnKeys:!0}),me.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return A3(Ll(e,a))},r}const Rt=A3(ym);Rt.Axios=jl;Rt.CanceledError=pd;Rt.CancelToken=ck;Rt.isCancel=j3;Rt.VERSION=P3;Rt.toFormData=Lv;Rt.AxiosError=bt;Rt.Cancel=Rt.CanceledError;Rt.all=function(t){return Promise.all(t)};Rt.spread=TY;Rt.isAxiosError=OY;Rt.mergeConfig=Ll;Rt.AxiosHeaders=Jn;Rt.formToJSON=e=>S3(me.isHTMLForm(e)?new FormData(e):e);Rt.getAdapter=C3.getAdapter;Rt.HttpStatusCode=k1;Rt.default=Rt;const RY="https://breneo.onrender.com";let lp=!1;const Fr={setTokens:(e,t)=>{const r=e.length>30?`${e.substring(0,20)}...${e.substring(e.length-10)}`:e.substring(0,20)+"...";console.log(" TokenManager.setTokens(): Storing tokens",{accessToken:{length:e.length,preview:r,full:e},refreshToken:t?"present":"missing",refreshTokenLength:(t==null?void 0:t.length)||0}),localStorage.setItem("authToken",e),localStorage.setItem("refreshToken",t);const n=localStorage.getItem("authToken");console.log(" TokenManager.setTokens(): Verification",{stored:n?"success":"failed",matches:n===e})},getAccessToken:()=>{const e=localStorage.getItem("authToken");if(e){const t=e.length>30?`${e.substring(0,20)}...${e.substring(e.length-10)}`:e.substring(0,20)+"...";console.log(" TokenManager.getAccessToken(): Token found",{length:e.length,preview:t,full:e})}else console.log(" TokenManager.getAccessToken(): No token found");return e},getRefreshToken:()=>localStorage.getItem("refreshToken"),clearTokens:(e=!1)=>{const t=!!localStorage.getItem("authToken"),r=!!localStorage.getItem("refreshToken"),n=!!localStorage.getItem("userRole");console.log(" TokenManager.clearTokens(): Clearing tokens",{hadToken:t,hadRefreshToken:r,hadRole:n,preserveRole:e,willClearRole:!e}),localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),e||localStorage.removeItem("userRole"),console.log(" TokenManager.clearTokens(): Tokens cleared",{authToken:localStorage.getItem("authToken")?"still exists":"cleared",refreshToken:localStorage.getItem("refreshToken")?"still exists":"cleared",userRole:localStorage.getItem("userRole")||"cleared"})},isTokenExpired:e=>{try{const t=JSON.parse(atob(e.split(".")[1])),r=Math.floor(Date.now()/1e3);return t.exp<r}catch{return!0}},refreshAccessToken:async()=>{var t;const e=Fr.getRefreshToken();if(!e)return console.log(" No refresh token available"),null;try{const n=(await Rt.post(`${RY}/api/refresh/`,{refresh:e})).data.access;if(n)return console.log(" Token refresh succeeded"),localStorage.setItem("authToken",n),n;console.log(" Token refresh response missing access token")}catch(r){const n=(t=r==null?void 0:r.response)==null?void 0:t.status,a=n>=500,o=n===401||n===403;console.error("Token refresh failed:",{status:n,isServerError:a,isAuthError:o,error:r==null?void 0:r.message}),!lp&&o?(console.log(" Token refresh returned auth error (401/403), clearing tokens"),Fr.clearTokens(!1)):a?console.log(" Token refresh failed due to server error (500+), preserving tokens"):lp?(console.log(" Token refresh failed during session restoration, preserving tokens and role"),Fr.clearTokens(!0)):console.log(" Token refresh failed with unknown error, preserving tokens")}return null},setSessionRestoration:e=>{lp=e},isInSessionRestoration:()=>lp},$Y="https://breneo.onrender.com",Ae=Rt.create({baseURL:$Y,timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});Ae.interceptors.request.use(async e=>{var r,n,a,o,i,l,c,u,f,d,h,y,v,p,g,x,b,w;const t=Fr.getAccessToken();if(console.log(" Request Interceptor Debug:",{url:e.url,hasToken:!!t,tokenPreview:t?t.substring(0,20)+"...":"none",isExcludedEndpoint:((r=e.url)==null?void 0:r.includes("/api/login/"))||((n=e.url)==null?void 0:n.includes("/api/academy/login/"))||((a=e.url)==null?void 0:a.includes("/api/register/"))||((o=e.url)==null?void 0:o.includes("/api/refresh/"))||((i=e.url)==null?void 0:i.includes("/api/verify-code/")),hasExistingAuth:!!((l=e.headers)!=null&&l.Authorization)}),t&&!((c=e.url)!=null&&c.includes("/api/login/"))&&!((u=e.url)!=null&&u.includes("/api/academy/login/"))&&!((f=e.url)!=null&&f.includes("/api/register/"))&&!((d=e.url)!=null&&d.includes("/api/refresh/"))&&!((h=e.url)!=null&&h.includes("/api/verify-code/"))&&!((y=e.headers)!=null&&y.Authorization))if(console.log(" Adding Bearer token to request"),Fr.isTokenExpired(t)){console.log(" Token expired, attempting refresh...");const S=await Fr.refreshAccessToken();S?(e.headers.Authorization=`Bearer ${S}`,console.log(" Token refreshed successfully")):(e.headers.Authorization=`Bearer ${t}`,console.log(" Token refresh failed, using old token"))}else e.headers.Authorization=`Bearer ${t}`,console.log(" Using existing valid token");else console.log(" Not adding token:",{noToken:!t,excludedEndpoint:((v=e.url)==null?void 0:v.includes("/api/login/"))||((p=e.url)==null?void 0:p.includes("/api/academy/login/"))||((g=e.url)==null?void 0:g.includes("/api/register/"))||((x=e.url)==null?void 0:x.includes("/api/refresh/"))||((b=e.url)==null?void 0:b.includes("/api/verify-code/")),hasExistingAuth:!!((w=e.headers)!=null&&w.Authorization)});return e},e=>Promise.reject(e));Ae.interceptors.response.use(e=>e,async e=>{var r,n,a,o,i,l,c,u,f;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if((n=t.url)!=null&&n.includes("/api/login/")||(a=t.url)!=null&&a.includes("/api/academy/login/")||(o=t.url)!=null&&o.includes("/api/register/")||(i=t.url)!=null&&i.includes("/api/refresh/"))return Promise.reject(e);t._retry=!0;const d=Fr.isInSessionRestoration(),h=(l=t.url)==null?void 0:l.includes("/api/academy/profile/"),y=(c=t.url)==null?void 0:c.includes("/api/academy/");try{console.log(" Attempting token refresh for 401 error...");const v=await Fr.refreshAccessToken(),p=Fr.getAccessToken();if(v){console.log(" Token refreshed successfully, retrying request"),t.headers.Authorization=`Bearer ${v}`;try{const g=await Ae(t);return console.log(" Retry request succeeded"),g}catch(g){const x=(u=g.response)==null?void 0:u.status;if(console.log(` Retry request failed with status: ${x}`),x===401&&y)return console.log(" Academy endpoint returned 401 after token refresh - not logging out, letting component handle it"),Promise.reject(g);throw g}}else if(p){if(console.log(" Token refresh returned null but original token still exists - might be server error"),y&&!d)return console.log(" Token refresh failed for academy endpoint but token preserved - not logging out, letting component handle it"),Promise.reject(e);console.log(" Retrying with original token"),t.headers.Authorization=`Bearer ${p}`;try{return await Ae(t)}catch(g){return Promise.reject(g)}}else if(console.log(" Token refresh returned null and token was cleared - refresh token may be expired"),y&&!d)return console.log(" Token refresh failed for academy endpoint - not logging out, letting component handle it"),Promise.reject(e)}catch(v){if(console.error(" Token refresh threw an error:",v),Fr.getAccessToken()&&y)return console.log(" Token still exists after refresh error - preserving for academy endpoint"),Promise.reject(e);if(y&&!d)return console.log(" Token refresh error for academy endpoint - not logging out, letting component handle it"),Promise.reject(e)}if(!d&&!y){const v=(f=e.response)==null?void 0:f.status;v===401?(Fr.clearTokens(!1),window.location.pathname.includes("/auth/")||(window.location.href="/auth/login")):console.log(`API error ${v} - not logging out user`)}else if(h)return console.log(" Academy profile endpoint returned 401 - not logging out, letting component handle it"),Promise.reject(e)}return Promise.reject(e)});const ht={AUTH:{LOGIN:"/api/login/",ACADEMY_LOGIN:"/api/academy/login/",REGISTER:"/api/register/",PROFILE:"/api/profile/",VERIFY_CODE:"/api/verify-code/",VERIFY_ACADEMY_EMAIL:"/api/verify-academy-email/",PASSWORD_RESET:"/password-reset/request/",PASSWORD_RESET_VERIFY:"/password-reset/verify/",PASSWORD_RESET_CONFIRM:"/password-reset/set-new/",TOKEN_REFRESH:"/api/refresh/"},USER:{PROFILE:"/api/user/profile/",SKILLS:"/api/user/skills/",TESTS:"/api/user/tests/"},ACADEMY:{PROFILE:"/api/academy/profile/",DETAIL:"/api/academy/",COURSES:"/api/academy/courses/",STUDENTS:"/api/academy/students/"},PAYMENTS:{BOG_AUTH:"/api/payments/bog/auth/",BOG_CREATE_ORDER:"/api/payments/bog/orders/"},JOBS:{SAVE_JOB:"/api/save-job/"}};var uk="Avatar",[MY,t$e]=fa(uk),[IY,T3]=MY(uk),O3=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,o]=m.useState("idle");return s.jsx(IY,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:s.jsx(Ke.span,{...n,ref:t})})});O3.displayName=uk;var R3="AvatarImage",$3=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...o}=e,i=T3(R3,r),l=LY(n,o.referrerPolicy),c=Ot(u=>{a(u),i.onImageLoadingStatusChange(u)});return Er(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ke.img,{...o,ref:t,src:n}):null});$3.displayName=R3;var M3="AvatarFallback",I3=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,o=T3(M3,r),[i,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?s.jsx(Ke.span,{...a,ref:t}):null});I3.displayName=M3;function LY(e,t){const[r,n]=m.useState("idle");return Er(()=>{if(!e){n("error");return}let a=!0;const o=new window.Image,i=l=>()=>{a&&n(l)};return n("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var L3=O3,D3=$3,F3=I3;const B3=m.forwardRef(({className:e,...t},r)=>s.jsx(L3,{ref:r,className:fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));B3.displayName=L3.displayName;const U3=m.forwardRef(({className:e,...t},r)=>s.jsx(D3,{ref:r,className:fe("aspect-square h-full w-full",e),...t}));U3.displayName=D3.displayName;const z3=m.forwardRef(({className:e,...t},r)=>s.jsx(F3,{ref:r,className:fe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));z3.displayName=F3.displayName;const DY={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-16 w-16",xl:"h-32 w-32"},OC=new Map,dh=({src:e,alt:t="Profile photo",fallback:r="U",className:n,size:a="md",loading:o="lazy"})=>s.jsxs(B3,{className:fe(DY[a],n,"rounded-3xl"),children:[e&&s.jsx(U3,{src:e,alt:t,className:"aspect-square h-full w-full rounded-3xl",loading:o}),s.jsx(z3,{className:"bg-[#AAF0FF] text-[#099DBC] text-2xl font-semibold rounded-3xl",children:r})]}),q3=()=>{const e=m.useCallback(r=>new Promise((n,a)=>{if(OC.has(r)){n();return}const o=new Image;o.onload=()=>{OC.set(r,!0),n()},o.onerror=a,!r.includes("supabase.co")&&!r.includes(window.location.origin)&&(o.crossOrigin="anonymous"),o.src=r}),[]),t=m.useCallback(async r=>{const n=r.map(a=>e(a));await Promise.allSettled(n)},[e]);return{preloadImage:e,preloadImages:t}};function RC(e){return e==="ka"?"ka":"en"}function _l(e){const r=e.split("/").filter(Boolean)[0];if(r==="ka"||r==="en")return r;if(typeof window<"u"){const n=localStorage.getItem("appLanguage");if(n==="en"||n==="ka")return n}return"en"}function fh(e){const t=e.split("/").filter(Boolean),r=t[0];return r==="ka"||r==="en"?"/"+t.slice(1).join("/"):e}function N1(e,t){return e.startsWith("/auth/")||e==="/auth"||e.startsWith("/en/")||e.startsWith("/ka/")?e:e==="/"?`/${RC(t)}`:`/${RC(t)}${e}`}function ba(e,t){return N1(e,t)}const W3=m.createContext(void 0),cp=e=>{if(e&&typeof e=="object"){const t=e,r=n=>{if(n.user_type)return String(n.user_type);if(n.role)return String(n.role);if(n.user_role)return String(n.user_role);if(Array.isArray(n.roles)&&n.roles.length>0){const a=n.roles.find(o=>typeof o=="string"&&(o==="academy"||o.toLowerCase()==="academy"));return String(a||n.roles[0])}};if(t.user&&typeof t.user=="object"){const n=t.user,a=r(n);return a&&!n.user_type&&!n.role&&(n.user_type=a),n}if(t.profile&&typeof t.profile=="object"){const n=t.profile,a=r(n);return a&&!n.user_type&&!n.role&&(n.user_type=a),n}if(t.email||t.username||t.id||t.user_type||t.role||t.name){const n={};t.id&&(n.id=typeof t.id=="string"||typeof t.id=="number"?t.id:String(t.id)),t.email&&(n.email=t.email),t.username&&(n.username=t.username),t.first_name&&(n.first_name=t.first_name),t.last_name&&(n.last_name=t.last_name),t.name&&!t.first_name&&(n.first_name=t.name),t.phone_number&&(n.phone_number=t.phone_number),t.profile_image!==void 0&&(n.profile_image=t.profile_image);const a=r(t);return a&&(n.user_type=a,console.log(" Extracted role/user_type:",a,"from fields:",{user_type:t.user_type,role:t.role,user_role:t.user_role,roles:t.roles})),n}}return null},$C=e=>{try{const t=e.split(".");if(t.length!==3)return null;const r=JSON.parse(atob(t[1]));return r.user_id||r.sub||r.id||null}catch(t){return console.error("Failed to decode JWT token:",t),null}},FY=({children:e})=>{const[t,r]=m.useState(null),[n,a]=m.useState(!0),o=tr(),{preloadImage:i}=q3(),l=m.useRef(i);m.useEffect(()=>{l.current=i},[i]),m.useEffect(()=>{(async()=>{var v;Fr.setSessionRestoration(!0);try{const p=Fr.getAccessToken();if(console.log(" authToken from TokenManager:",p),console.log(" authToken from localStorage:",typeof window<"u"?localStorage.getItem("authToken"):"N/A (SSR)"),!p){console.log(" No authToken found - ending session restoration"),a(!1),Fr.setSessionRestoration(!1);return}console.log(" Starting session restoration with token");const g=localStorage.getItem("userRole");g&&console.log(" Found stored role in localStorage:",g);let x=null;try{const j=p.split(".");if(j.length===3){const k=JSON.parse(atob(j[1]));console.log(" JWT Token payload:",JSON.stringify(k,null,2));const _=k.user_id||k.sub||k.id||"";let E=k.user_type||k.role||k.user_role;!E&&Array.isArray(k.roles)&&(E=k.roles.find(T=>typeof T=="string"&&(T==="academy"||T.toLowerCase()==="academy"))||k.roles[0]),x={id:_||String(k.username)||"",email:k.email||k.username||"",username:k.username||k.email||"",first_name:k.first_name||k.name||"",user_type:E||"user",profile_image:k.profile_image||null},console.log(" Created user from JWT token:",x,{extractedRole:E,payloadFields:{user_type:k.user_type,role:k.role,user_role:k.user_role,roles:k.roles}})}}catch(j){console.error("Failed to decode JWT token:",j),console.warn(" JWT decode failed, but preserving token and attempting API call"),x=null}let b=null;try{const j=await Ae.get(ht.AUTH.PROFILE);console.log(" Profile response raw data:",JSON.stringify(j.data,null,2));const k=j.data;if(k.user_roles&&Array.isArray(k.user_roles)){console.log(" Found user_roles array in response:",k.user_roles);const _=k.user_roles.find(N=>N.role==="academy"||N.role==="academy");_&&(console.log(" Found academy role in user_roles:",_),!k.user_type&&!k.role&&(k.user_type="academy",console.log(" Set user_type to 'academy' from user_roles")))}if(b=cp(j.data),console.log(" Restored user data after extraction:",b,{user_type:b==null?void 0:b.user_type,hasUserData:!!b}),b){const _=$C(p);_?(b.id=_,console.log("Using user ID from JWT token:",_)):!b.id&&b.email&&(b.id=b.email,console.log("Using email as ID fallback:",b.email))}}catch(j){console.warn(" Profile API call failed, using JWT data:",j),b=x}b||(b=x);const w=localStorage.getItem("userRole");let S=!1;if(!(b!=null&&b.user_type)&&!w)try{const j=await Ae.get(ht.ACADEMY.PROFILE);j.data&&j.status!==404&&(S=!0,console.log(" User has academy profile but no role - treating as academy user"))}catch(j){console.log(" No academy profile found (or error checking):",(v=j==null?void 0:j.response)==null?void 0:v.status)}if(w){const j=b==null?void 0:b.user_type;w==="user"&&j&&j!=="user"?(b.user_type=j,localStorage.setItem("userRole",j),console.log(" Upgrading stored 'user' role to:",j)):(b.user_type=w,console.log(" Using stored role from localStorage:",w))}else b!=null&&b.user_type?(localStorage.setItem("userRole",b.user_type),console.log(" Storing user_type from API response:",b.user_type)):S?(b.user_type="academy",localStorage.setItem("userRole","academy"),console.log(" User has academy profile but no role in API - setting to 'academy'")):x!=null&&x.user_type&&x.user_type!=="user"?(b.user_type=x.user_type,localStorage.setItem("userRole",x.user_type),console.log(" Using user_type from JWT token:",x.user_type)):(b.user_type=b.user_type||"user",localStorage.setItem("userRole",b.user_type),console.log(" No user_type found, defaulting to:",b.user_type));if(b&&(b.id||b.email)){if(!b.id&&b.email&&(b.id=b.email),b.user_type){const j=localStorage.getItem("userRole");!j||j!==b.user_type?(localStorage.setItem("userRole",b.user_type),console.log(" Stored/Updated user_type in localStorage during restoration:",b.user_type,j?`(was: ${j})`:"(new)")):console.log(" User type already correctly stored in localStorage:",b.user_type)}r(b),console.log(" Session restored successfully for user:",b.id,"type:",b.user_type||"unknown")}else console.error(" Cannot restore user - missing required data (email or id)"),r(null)}catch(p){console.error(" Failed to restore session:",p),r(null)}finally{Fr.setSessionRestoration(!1),a(!1)}})()},[]),m.useEffect(()=>{t!=null&&t.profile_image&&l.current(t.profile_image).catch(console.error)},[t==null?void 0:t.profile_image]),m.useEffect(()=>{if(!n&&t){const y=window.location.pathname,v=_l(y)||localStorage.getItem("appLanguage")||"en",p=localStorage.getItem("userRole")||t.user_type||"user",x=["/auth/login","/auth/signup","/auth/reset-password","/email-verification","/email-confirmed"].includes(y),w=["/terms-of-use","/help"].includes(y);if(y==="/"||x){if(p==="academy"){console.log(" Redirecting academy user from public route to /academy/dashboard");const N=ba("/academy/dashboard",v);o(N,{replace:!0})}else{console.log(" Redirecting user from public route to /home");const N=ba("/home",v);o(N,{replace:!0})}return}if(w)return;const S=fh(y),j=S.startsWith("/academy/"),k=/^\/academy\/[^/]+$/.test(S)&&S!=="/academy/dashboard"&&S!=="/academy/profile"&&S!=="/academy/settings"&&S!=="/academy/register";console.log(" Route detection:",{currentPath:y,pathWithoutLang:S,userRole:p,isAcademyRoute:j,isAcademyPublicRoute:k,shouldPreserve:p==="academy"&&j&&!k});const _=!j&&!w&&(S==="/dashboard"||S==="/home"||S.startsWith("/profile")||S.startsWith("/settings")||S.startsWith("/notifications")||S.startsWith("/jobs")||S.startsWith("/courses")||S.startsWith("/skill")||S.startsWith("/interests"));if(k){console.log(` User is on public academy route: ${y}`);return}if(p==="academy"&&j&&!k){console.log(` Academy user on valid academy route: ${y}`);return}if(p==="academy"&&j||p==="user"&&_){console.log(` User is on valid route for their role (${p}): ${y} (pathWithoutLang: ${S})`);return}if(S==="/dashboard"||S==="/home"||y.includes("/dashboard")||y.includes("/home")){console.log(` User is on dashboard/home route: ${y}, not redirecting`);return}if(j&&p!=="academy"&&!k){console.log(" Non-academy user on academy-only route, redirecting to /home");const N=ba("/home",v);o(N,{replace:!0})}else if(p==="academy"&&(S==="/dashboard"||S==="/home"||_)){console.log(" Academy user on user-only route, redirecting to /academy/dashboard");const N=ba("/academy/dashboard",v);o(N,{replace:!0})}else if(p==="academy"&&!j&&!w){console.log(` Academy user on unmatched route (${y}), redirecting to /academy/dashboard`);const N=ba("/academy/dashboard",v);o(N,{replace:!0})}}},[t,n,o]);const c=async(y,v)=>{var p;a(!0);try{const g=await Ae.post(ht.AUTH.LOGIN,{username:y,password:v}),x=g.data.access||g.data.token,b=g.data.refresh;if(console.log(" Login response - access token:",x),console.log(" Login response - refresh token:",b?"present":"missing"),console.log(" Login response - full data keys:",Object.keys(g.data)),!x)throw new Error("Login succeeded but did not return the required token (access or token field).");b?(Fr.setTokens(x,b),console.log(" Stored tokens via TokenManager.setTokens")):(localStorage.setItem("authToken",x),console.log(" Stored authToken directly in localStorage (no refresh token)"));const w=typeof window<"u"?localStorage.getItem("authToken"):null;console.log(" Verified stored authToken:",w?"present":"missing"),await new Promise(N=>setTimeout(N,100));let S=null;const j=cp(g.data);if(j&&j.email)console.log("User data found in login response:",j),S=j;else{console.log("No user data in login response, fetching from profile endpoint...");try{const N=await Ae.get(ht.AUTH.PROFILE);S=cp(N.data),console.log("Logged in user data (from /api/profile/):",S)}catch(N){console.error("Failed to fetch profile:",N)}}if(!S)throw new Error("Failed to fetch user profile.");const k=$C(x);if(k?(S.id=k,console.log("Using user ID from JWT token:",k)):!S.id&&S.email&&(S.id=S.email,console.log("Using email as ID fallback:",S.email)),S.user_type)console.log(" User type from profile:",S.user_type);else{let N=!1;try{const E=await Ae.get(ht.ACADEMY.PROFILE);E.data&&E.status!==404&&(N=!0,console.log(" User has academy profile but no role - treating as academy user"))}catch(E){console.log(" No academy profile found (or error checking):",(p=E==null?void 0:E.response)==null?void 0:p.status)}N?(S.user_type="academy",console.log(" Setting user_type to 'academy' based on academy profile check")):(S.user_type="user",console.log(" user_type not found in profile and no academy profile - defaulting to 'user'"))}S.user_type&&(localStorage.setItem("userRole",S.user_type),console.log(" Stored user_type in localStorage:",S.user_type)),r(S),S!=null&&S.profile_image&&l.current(S.profile_image).catch(console.error);const _=_l(window.location.pathname)||localStorage.getItem("appLanguage")||"en";if(S.user_type==="academy"){const N=ba("/academy/dashboard",_);o(N)}else{const N=ba("/home",_);o(N)}}catch(g){throw console.error("Login failed:",g),g}finally{a(!1)}},u=async(y,v)=>{try{await Ae.post(ht.AUTH.REGISTER,{email:y,password:v}),o("/auth/email-verification")}catch(p){throw console.error("Registration failed:",p),p}},f=()=>{Fr.clearTokens(),r(null),o("/auth/login")},d=y=>{t&&r({...t,...y})},h=async()=>{try{const y=await Ae.get(ht.AUTH.PROFILE),v=cp(y.data);v&&r(v)}catch(y){console.error("Failed to refresh user:",y)}};return s.jsx(W3.Provider,{value:{user:t,loading:n,login:c,logout:f,register:u,updateUser:d,refreshUser:h},children:e})},lr=()=>{const e=m.useContext(W3);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},BY={nav:{home:"Home",jobs:"Vacancies",courses:"Courses",webinars:"Webinars",profile:"Profile",settings:"Settings",help:"Help Center",notifications:"Notifications"},common:{loading:"Loading...",error:"Error",success:"Success",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",back:"Back",next:"Next",previous:"Previous",submit:"Submit",search:"Search",filter:"Filter",clear:"Clear",apply:"Apply",close:"Close",yes:"Yes",no:"No",ok:"OK",view:"View",more:"More",less:"Less"},auth:{login:"Login",signup:"Sign Up",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm Password",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",rememberMe:"Remember me",createAccount:"Create Account",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",firstName:"First Name",lastName:"Last Name",phone:"Phone",welcome:"Welcome",welcomeBack:"Welcome Back"},dashboard:{welcome:"Welcome",jobOffers:"Job Offers",courses:"Courses",skillTest:"Skill Test",skillPath:"Skill Path",interests:"Interests"},jobs:{title:"Vacancies",noJobs:"No jobs found",apply:"Apply",applied:"Applied",save:"Save",saved:"Saved",location:"Location",salary:"Salary",salaryRange:"Salary Range",minimum:"Minimum",maximum:"Maximum",byAgreement:"By Agreement",workType:"Work Type",country:"Country",interests:"Interests / Skills",type:"Type",posted:"Posted",deadline:"Deadline",description:"Description",requirements:"Requirements",benefits:"Benefits",company:"Company",fullTime:"Full Time",partTime:"Part Time",contract:"Contract",remote:"Remote",hybrid:"Hybrid",filter:"Filter Jobs",clearFilters:"Clear Filters",search:"Search",searchPlaceholder:"Search",filters:"Filters",vacancy:"vacancy",vacancies:"vacancies",dateDescending:"Date Descending",dateAscending:"Date Ascending",dateDescendingFull:"Date Descending",dateAscendingFull:"Date Ascending",tryAdjustingFilters:"Try adjusting your search terms or filters",showing:"Showing",of:"of",page:"Page",previous:"Previous",next:"Next",errorLoading:"Error loading jobs. Please try again."},courses:{title:"Courses",noCourses:"No courses found",enroll:"Enroll",enrolled:"Enrolled",save:"Save",saved:"Saved",duration:"Duration",level:"Level",instructor:"Instructor",academy:"Academy",description:"Description",curriculum:"Curriculum",reviews:"Reviews",price:"Price",free:"Free",filter:"Filter Courses",clearFilters:"Clear Filters"},profile:{title:"Profile",editProfile:"Edit Profile",personalInfo:"Personal Information",contactInfo:"Contact Information",skills:"Skills",experience:"Experience",education:"Education",bio:"Bio",saveChanges:"Save Changes"},settings:{title:"Settings",account:"Account",preferences:"Preferences",notifications:"Notifications",privacy:"Privacy",language:"Language",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode"},notifications:{title:"Notifications",noNotifications:"No notifications",markAsRead:"Mark as read",markAllAsRead:"Mark all as read",browserNotifications:"Browser Notifications",enableBrowserNotifications:"Enable Browser Notifications",browserNotificationsDescription:"Get notified when new jobs matching your skills are posted. You'll receive browser notifications even when you're not on the site.",notificationPermissionGranted:"Browser notifications are enabled",notificationPermissionDenied:"Browser notifications are blocked. Please enable them in your browser settings.",notificationPermissionDefault:"Click the button below to enable browser notifications for new job matches.",requestPermission:"Enable Notifications",checkingForJobs:"Checking for new jobs...",notificationsEnabled:"Notifications Enabled",notificationsDisabled:"Notifications Disabled"},subscription:{title:"Subscription",upgrade:"Upgrade to Breneo Pro",currentPlan:"Current Plan",features:"Features",subscribe:"Subscribe"},help:{title:"Help Center",faq:"FAQ",contact:"Contact Support"},terms:{title:"Terms of Use",lastUpdated:"Last updated"},skillTest:{title:"Skill Test",start:"Start Test",next:"Next",previous:"Previous",finish:"Finish",results:"Results"},skillPath:{title:"Your Personalized Skill Path"},home:{skillTestTitle:"Begin Your Skill Assessment Journey",skillTestSubtitle:"Take our skill test to unlock personalized recommendations.",skillPathTitle:"Explore your personalized career path",skillPathSubtitle:"Get personalized recommendations for your career."},errors:{somethingWentWrong:"Something went wrong",tryAgain:"Try again",notFound:"Not found",pageNotFound:"Page Not Found",pageNotFoundDescription:"The page you're looking for doesn't exist or has been moved."},webinars:{title:"Webinars",noWebinars:"No webinars found",upcoming:"Upcoming",past:"Past",register:"Register",registered:"Registered"}},UY={nav:{home:"",jobs:"",courses:"",webinars:"",profile:"",settings:"",help:" ",notifications:""},common:{loading:"...",error:"",success:"",save:"",cancel:"",delete:"",edit:"",back:"",next:"",previous:"",submit:"",search:"",filter:"",clear:"",apply:"",close:"",yes:"",no:"",ok:"",view:"",more:"",less:""},auth:{login:"",signup:"",logout:"",email:"",password:"",confirmPassword:" ",forgotPassword:" ?",resetPassword:" ",rememberMe:"",createAccount:" ",alreadyHaveAccount:"  ?",dontHaveAccount:"  ?",firstName:"",lastName:"",phone:"",welcome:"",welcomeBack:"   "},dashboard:{welcome:"",jobOffers:"",courses:"",skillTest:" ",skillPath:" ",interests:""},jobs:{title:"",noJobs:"  ",apply:"",applied:" ",save:"",saved:"",location:"",salary:"",salaryRange:" ",minimum:"",maximum:"",byAgreement:"",workType:" ",country:"",interests:" / ",type:"",posted:"",deadline:"",description:"",requirements:"",benefits:"",company:"",fullTime:" ",partTime:" ",contract:"",remote:"",hybrid:"",filter:" ",clearFilters:" ",search:"",searchPlaceholder:"",filters:"",vacancy:"",vacancies:"",dateDescending:" ",dateAscending:" ",dateDescendingFull:" ",dateAscendingFull:" ",tryAdjustingFilters:"     ",showing:"",of:"",page:"",previous:"",next:"",errorLoading:"  . ,  ."},courses:{title:"",noCourses:"  ",enroll:"",enrolled:"",save:"",saved:"",duration:"",level:"",instructor:"",academy:"",description:"",curriculum:" ",reviews:"",price:"",free:"",filter:" ",clearFilters:" "},profile:{title:"",editProfile:" ",personalInfo:" ",contactInfo:" ",skills:"",experience:"",education:"",bio:"",saveChanges:" "},settings:{title:"",account:"",preferences:"",notifications:"",privacy:"",language:"",theme:"",darkMode:" ",lightMode:" "},notifications:{title:"",noNotifications:"  ",markAsRead:" ",markAllAsRead:"  ",browserNotifications:" ",enableBrowserNotifications:"  ",browserNotificationsDescription:" ,    ,    .    ,  ,    .",notificationPermissionGranted:"  ",notificationPermissionDenied:"  . ,     .",notificationPermissionDefault:"   ,       .",requestPermission:" ",checkingForJobs:"  ...",notificationsEnabled:" ",notificationsDisabled:" "},subscription:{title:"",upgrade:"Breneo Pro- ",currentPlan:" ",features:"",subscribe:""},help:{title:" ",faq:"  ",contact:" "},terms:{title:" ",lastUpdated:" "},skillTest:{title:" ",start:" ",next:"",previous:"",finish:"",results:""},skillPath:{title:"   "},home:{skillTestTitle:"    ",skillTestSubtitle:"      .",skillPathTitle:"    ",skillPathSubtitle:"    ."},errors:{somethingWentWrong:"  ",tryAgain:" ",notFound:" ",pageNotFound:"  ",pageNotFoundDescription:",  ,    ."},webinars:{title:"",noWebinars:"  ",upcoming:"",past:"",register:"",registered:""}},H3=m.createContext(void 0),zY={en:BY,ka:UY};function qY({children:e}){const t=ha(),r=tr(),[n,a]=m.useState(()=>{if(typeof window<"u"){const u=_l(t.pathname);if(u)return u;const f=localStorage.getItem("appLanguage");if(f==="en"||f==="ka")return f}return"en"}),[o,i]=m.useState(!1);m.useEffect(()=>{i(!0)},[]),m.useEffect(()=>{if(!o||typeof window>"u")return;const u=_l(t.pathname);u&&u!==n&&(a(u),localStorage.setItem("appLanguage",u),document.documentElement.lang=u)},[t.pathname,o,n]);const l=u=>{if(a(u),typeof window<"u"){localStorage.setItem("appLanguage",u),document.documentElement.lang=u;const f=fh(t.pathname),d=N1(f,u);d!==t.pathname&&r(d,{replace:!0})}};m.useEffect(()=>{if(o&&typeof window<"u"){document.documentElement.lang=n;const u=setTimeout(()=>{if(!t.pathname.startsWith("/auth/")&&t.pathname!=="/auth"&&t.pathname!=="/"&&_l(t.pathname)!==n){const d=fh(t.pathname),h=N1(d,n);h!==t.pathname&&!t.pathname.includes("undefined")&&r(h,{replace:!0})}},100);return()=>clearTimeout(u)}},[n,o,t.pathname,r]);const c=m.useMemo(()=>zY[n],[n]);return s.jsx(H3.Provider,{value:{language:n,setLanguage:l,t:c},children:e})}function Di(){const e=m.useContext(H3);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}function Yl(){const{t:e}=Di();return e}const V3=m.createContext(void 0),MC="breneo-font-size",IC={small:.875,medium:1,big:1.125};function WY({children:e}){const[t,r]=m.useState(()=>{const o=localStorage.getItem(MC)||"medium",i=IC[o];return typeof document<"u"&&document.documentElement.style.setProperty("--font-size-base",`${i}rem`),o});m.useEffect(()=>{const a=IC[t];document.documentElement.style.setProperty("--font-size-base",`${a}rem`),localStorage.setItem(MC,t)},[t]);const n=a=>{r(a)};return s.jsx(V3.Provider,{value:{fontSize:t,setFontSize:n},children:e})}function HY(){const e=m.useContext(V3);if(e===void 0)throw new Error("useFontSize must be used within a FontSizeProvider");return e}const VY=Fr,KY=()=>{try{const e=VY.getAccessToken();if(!e)return null;const t=e.split(".");if(t.length!==3)return null;const r=JSON.parse(atob(t[1]));return r.user_type||r.role||null}catch(e){return console.error("Error extracting role from token:",e),null}},GY=()=>{try{return localStorage.getItem("userRole")}catch(e){return console.error("Error getting role from storage:",e),null}},JY=()=>{const e=GY();if(e)return e;const t=KY();return t||null};function cr({children:e,requiredRole:t,redirectTo:r="/auth/login"}){const{user:n,loading:a}=lr(),o=_l(window.location.pathname)||localStorage.getItem("appLanguage")||"en",i=typeof window<"u"&&!!localStorage.getItem("authToken");if(console.log(" ProtectedRoute check:",{loading:a,hasUser:!!n,hasApiToken:i,requiredRole:t,userRole:(n==null?void 0:n.user_type)||localStorage.getItem("userRole")}),a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-breneo-lightgray dark:bg-[#181818]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading..."})]})});if(!n&&!i)return s.jsx(ig,{to:r,replace:!0});if(t){const l=(n==null?void 0:n.user_type)||localStorage.getItem("userRole")||JY()||"user";if(console.log(" ProtectedRoute role check:",{requiredRole:t,userRole:l,matches:l===t}),l!==t)if(l==="academy"){console.log(" ProtectedRoute: Academy user accessing user route, redirecting to /academy/dashboard");const c=ba("/academy/dashboard",o);return s.jsx(ig,{to:c,replace:!0})}else{console.log(` ProtectedRoute: User role '${l}' doesn't match required '${t}', redirecting to /home`);const c=ba("/home",o);return s.jsx(ig,{to:c,replace:!0})}}return console.log(" ProtectedRoute: Allowing access to route"),s.jsx(s.Fragment,{children:e})}const LC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,DC=$t,Fv=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return DC(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(u=>{const f=r==null?void 0:r[u],d=o==null?void 0:o[u];if(f===null)return null;const h=LC(f)||LC(d);return a[u][h]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...y}=f;return Object.entries(y).every(v=>{let[p,g]=v;return Array.isArray(g)?g.includes({...o,...l}[p]):{...o,...l}[p]===g})?[...u,d,h]:u},[]);return DC(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},dk=Fv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[14px] font-normal ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-60 dark:focus-visible:ring-primary/40 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90 active:bg-primary/80 dark:bg-primary dark:hover:bg-primary/90 dark:active:bg-primary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-transparent text-breneo-blue hover:bg-breneo-blue/10 dark:border-white/20 dark:text-breneo-blue-dark dark:hover:bg-breneo-blue-dark/10",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"text-breneo-blue hover:bg-breneo-blue/10 hover:text-breneo-blue dark:text-breneo-blue-dark dark:hover:bg-breneo-blue-dark/10 dark:hover:text-breneo-blue-dark",link:"text-breneo-blue underline-offset-4 hover:underline dark:text-breneo-blue-dark"},size:{default:"h-12 px-8 text-[15px] leading-[22px]",sm:"h-10 px-6 text-sm leading-[20px] [&_svg]:size-4",xs:"h-11 px-5 text-sm leading-[20px] [&_svg]:size-4",lg:"h-14 px-10 text-lg leading-[26px] [&_svg]:size-6",icon:"h-12 w-12 p-0 [&_svg]:size-5"}},defaultVariants:{variant:"default",size:"default"}}),te=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},o)=>{const i=n?Ei:"button";return s.jsx(i,{className:fe(dk({variant:t,size:r,className:e})),ref:o,...a})});te.displayName="Button";const st=m.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));st.displayName="Input";var YY="Label",K3=m.forwardRef((e,t)=>s.jsx(Ke.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));K3.displayName=YY;var G3=K3;const XY=Fv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=m.forwardRef(({className:e,...t},r)=>s.jsx(G3,{ref:r,className:fe(XY(),e),...t}));Fe.displayName=G3.displayName;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J3=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...ZY,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:J3("lucide",a),...l},[...i.map(([u,f])=>m.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(e,t)=>{const r=m.forwardRef(({className:n,...a},o)=>m.createElement(eX,{ref:o,iconNode:t,className:J3(`lucide-${QY(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=Ne("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=Ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=Ne("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Ne("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=Ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Ne("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=Ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Ne("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=Ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=Ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=Ne("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=Ne("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=Ne("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=Ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=Ne("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=Ne("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=Ne("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=Ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=Ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=Ne("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=Ne("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Ne("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=Ne("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=Ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=Ne("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=Ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=Ne("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=Ne("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Ne("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=Ne("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=Ne("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=Ne("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Ne("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=Ne("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=Ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=Ne("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=Ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=Ne("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=Ne("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=Ne("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=Ne("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=Ne("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=Ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=Ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=Ne("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=Ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=Ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=Ne("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=Ne("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=Ne("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=Ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=Ne("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=Ne("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=Ne("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=Ne("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=Ne("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=Ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=Ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=Ne("Ship",[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=Ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=Ne("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=Ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=Ne("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=Ne("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=Ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=Ne("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=Ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=Ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=Ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=Ne("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=Ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=Ne("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=Ne("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=Ne("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=Ne("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=Ne("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function qo(){const{theme:e,setTheme:t}=Ii(),[r,n]=m.useState(!1);if(m.useEffect(()=>{n(!0)},[]),!r)return s.jsx(te,{variant:"ghost",size:"icon",className:"h-10 w-10",children:s.jsx(Jg,{size:22})});const a=e==="dark";return s.jsx(te,{variant:"ghost",size:"icon",className:"h-10 w-10",onClick:()=>t(a?"light":"dark"),children:a?s.jsx(yk,{size:22}):s.jsx(Jg,{size:22})})}const HC=()=>{const e=tr(),{login:t,loading:r,user:n}=lr(),[a,o]=m.useState(""),[i,l]=m.useState(""),[c,u]=m.useState(!1),[f,d]=m.useState(!1),[h,y]=m.useState(!1),[v,p]=m.useState(!1),g=m.useCallback(w=>new Promise((S,j)=>{const k=new Image;k.onload=()=>S(),k.onerror=()=>j(new Error(`Failed to load image: ${w}`)),k.src=w}),[]);m.useEffect(()=>{(async()=>{try{await Promise.all([g("/lovable-uploads/breneo_logo.png"),g("/lovable-uploads/future.png")])}catch(S){console.warn("Some images failed to preload:",S),p(!0)}})()},[g]),m.useEffect(()=>{if(!r&&n){const w=n.user_type||localStorage.getItem("userRole")||"user",S=_l(window.location.pathname)||localStorage.getItem("appLanguage")||"en";if(w==="academy"){const j=ba("/academy/dashboard",S);e(j,{replace:!0})}else{const j=ba("/home",S);e(j,{replace:!0})}}},[n,r,e]),m.useEffect(()=>{document.title="Login | Breneo",(document.querySelector('meta[name="description"]')||(()=>{const j=document.createElement("meta");return j.setAttribute("name","description"),document.head.appendChild(j),j})()).setAttribute("content","Log in to your Breneo account."),(document.querySelector('link[rel="canonical"]')||(()=>{const j=document.createElement("link");return j.setAttribute("rel","canonical"),document.head.appendChild(j),j})()).setAttribute("href",`${window.location.origin}/auth/login`)},[]);const x=async w=>{w.preventDefault();let S=!1;try{const j=await Ae.post(ht.AUTH.ACADEMY_LOGIN,{email:a,password:i}),k=j.data.access||j.data.token,_=j.data.refresh;if(!k)throw new Error("Login succeeded but did not return the required token.");_?Fr.setTokens(k,_):localStorage.setItem("authToken",k),localStorage.setItem("userRole","academy"),window.location.href="/academy/dashboard";return}catch{console.log("Academy login failed, trying regular login..."),S=!0}if(S)try{await t(a,i)}catch(j){let k="Login failed. Please try again.",_=!1;if(Rt.isAxiosError(j)&&j.response&&j.response.data){const N=j.response.data;let E="";if(typeof N.detail=="string"?E=N.detail:typeof N.message=="string"?E=N.message:typeof N.error=="string"?E=N.error:Array.isArray(N.non_field_errors)&&N.non_field_errors.length>0&&typeof N.non_field_errors[0]=="string"&&(E=N.non_field_errors[0]),E){k=E;const A=E.toLowerCase();(A.includes("email not verified")||A.includes("account not active")||A.includes("please verify your email")||A.includes("e-mail address not verified")||A.includes("user is inactive"))&&(_=!0)}else console.error("Unknown error format from server:",N)}_?(se.info("Your account is not verified. Redirecting to verification..."),sessionStorage.setItem("tempEmail",a),sessionStorage.setItem("tempPassword",i),e("/auth/email-verification")):(se.error(k),console.error("Login page caught error (see details below):",j instanceof Error?j.message:String(j)),Rt.isAxiosError(j)&&j.response&&console.error("Server response data:",j.response.data))}},b=r;return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[s.jsxs("div",{className:"flex items-center",children:[!f&&!v&&s.jsx("div",{className:"h-7 w-20 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:s.jsx(Tr,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-7 transition-opacity duration-300 ${f?"opacity-100":"opacity-0"}`,onLoad:()=>d(!0),onError:()=>{p(!0),d(!0)}}),v&&s.jsx("div",{className:"h-7 w-20 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-border rounded flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-gray-500 dark:text-muted-foreground",children:"Breneo"})})]}),s.jsx(qo,{})]}),s.jsxs("div",{className:"flex flex-1",children:[s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[!f&&!v&&s.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:s.jsx(Tr,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-10 transition-opacity duration-300 ${f?"opacity-100":"opacity-0"}`,onLoad:()=>d(!0),onError:()=>{p(!0),d(!0)}}),v&&s.jsx("div",{className:"h-10 w-32 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-border rounded flex items-center justify-center",children:s.jsx("span",{className:"text-sm text-gray-500 dark:text-muted-foreground",children:"Breneo"})})]}),s.jsx(qo,{})]}),s.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Sign In"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Welcome back to your Breneo account"}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"emailOrUsername",children:"Email or Username"}),s.jsx(st,{id:"emailOrUsername",type:"text",placeholder:"Enter your email or username",className:"mt-1 h-12",value:a,onChange:w=>o(w.target.value),required:!0,disabled:b})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(st,{id:"password",type:c?"text":"password",placeholder:"Enter your password",className:"pr-10 h-12",value:i,onChange:w=>l(w.target.value),required:!0,disabled:b}),s.jsx(te,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),disabled:b,children:c?s.jsx(mh,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):s.jsx(Ai,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]}),s.jsx("div",{className:"flex justify-end mt-2",children:s.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",onClick:()=>e("/auth/reset-password"),children:"Forgot Password?"})})]}),s.jsx(te,{type:"submit",className:"w-full h-14",disabled:b,children:b?"Signing In...":"Sign In"})]}),s.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Don't have an account?"," ",s.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/signup"),children:"Sign Up"})]})]})}),s.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:s.jsxs("div",{className:"relative w-full h-full rounded-xl overflow-hidden",children:[!h&&!v&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:s.jsx(Tr,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),s.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${h?"opacity-100":"opacity-0"}`,style:{backgroundImage:h?"url('/lovable-uploads/future.png')":"none"}}),s.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>y(!0),onError:()=>{p(!0),y(!0)}}),v&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[s.jsx(Tr,{className:"h-16 w-16 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})};function Rf(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function VC(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function c5(...e){return t=>{let r=!1;const n=e.map(a=>{const o=VC(a,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():VC(e[a],null)}}}}function zv(...e){return m.useCallback(c5(...e),e)}function FX(e,t){const r=m.createContext(t),n=o=>{const{children:i,...l}=o,c=m.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(o){const i=m.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,a]}function BX(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=d=>{var x;const{scope:h,children:y,...v}=d,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,g=m.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:g,children:y})};u.displayName=o+"Provider";function f(d,h){var p;const y=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=m.useContext(y);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,f]}const a=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,UX(a,...t)]}function UX(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Xg=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},zX=lv[" useId ".trim().toString()]||(()=>{}),qX=0;function Kx(e){const[t,r]=m.useState(zX());return Xg(()=>{e||r(n=>n??String(qX++))},[e]),e||(t?`radix-${t}`:"")}var WX=lv[" useInsertionEffect ".trim().toString()]||Xg;function HX({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,o,i]=VX({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const f=m.useRef(e!==void 0);m.useEffect(()=>{const d=f.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=m.useCallback(f=>{var d;if(l){const h=KX(f)?f(e):f;h!==e&&((d=i.current)==null||d.call(i,h))}else o(f)},[l,e,o,i]);return[c,u]}function VX({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),a=m.useRef(r),o=m.useRef(t);return WX(()=>{o.current=t},[t]),m.useEffect(()=>{var i;a.current!==r&&((i=o.current)==null||i.call(o,r),a.current=r)},[r,a]),[r,n,o]}function KX(e){return typeof e=="function"}function Gx(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function KC(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function u5(...e){return t=>{let r=!1;const n=e.map(a=>{const o=KC(a,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():KC(e[a],null)}}}}function d5(...e){return m.useCallback(u5(...e),e)}function GX(e){const t=JX(e),r=m.forwardRef((n,a)=>{const{children:o,...i}=n,l=m.Children.toArray(o),c=l.find(XX);if(c){const u=c.props.children,f=l.map(d=>d===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...i,ref:a,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return s.jsx(t,{...i,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}function JX(e){const t=m.forwardRef((r,n)=>{const{children:a,...o}=r;if(m.isValidElement(a)){const i=ZX(a),l=QX(o,a.props);return a.type!==m.Fragment&&(l.ref=n?u5(n,i):i),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var YX=Symbol("radix.slottable");function XX(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YX}function QX(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function ZX(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var eQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],f5=eQ.reduce((e,t)=>{const r=GX(`Primitive.${t}`),n=m.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function tQ(e,t){e&&Jl.flushSync(()=>e.dispatchEvent(t))}function h5(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function rQ(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function nQ(e,t=globalThis==null?void 0:globalThis.document){const r=rQ(e);m.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var aQ="DismissableLayer",T1="dismissableLayer.update",oQ="dismissableLayer.pointerDownOutside",sQ="dismissableLayer.focusOutside",GC,m5=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),p5=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(m5),[f,d]=m.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),v=d5(t,_=>d(_)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(g),b=f?p.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=x,j=cQ(_=>{const N=_.target,E=[...u.branches].some(A=>A.contains(N));!S||E||(a==null||a(_),i==null||i(_),_.defaultPrevented||l==null||l())},h),k=uQ(_=>{const N=_.target;[...u.branches].some(A=>A.contains(N))||(o==null||o(_),i==null||i(_),_.defaultPrevented||l==null||l())},h);return nQ(_=>{b===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(GC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),JC(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=GC)}},[f,h,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),JC())},[f,u]),m.useEffect(()=>{const _=()=>y({});return document.addEventListener(T1,_),()=>document.removeEventListener(T1,_)},[]),s.jsx(f5.div,{...c,ref:v,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Gx(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Gx(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Gx(e.onPointerDownCapture,j.onPointerDownCapture)})});p5.displayName=aQ;var iQ="DismissableLayerBranch",lQ=m.forwardRef((e,t)=>{const r=m.useContext(m5),n=m.useRef(null),a=d5(t,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),s.jsx(f5.div,{...e,ref:a})});lQ.displayName=iQ;function cQ(e,t=globalThis==null?void 0:globalThis.document){const r=h5(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){g5(oQ,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function uQ(e,t=globalThis==null?void 0:globalThis.document){const r=h5(e),n=m.useRef(!1);return m.useEffect(()=>{const a=o=>{o.target&&!n.current&&g5(sQ,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function JC(){const e=new CustomEvent(T1);document.dispatchEvent(e)}function g5(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?tQ(a,o):a.dispatchEvent(o)}function YC(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function y5(...e){return t=>{let r=!1;const n=e.map(a=>{const o=YC(a,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():YC(e[a],null)}}}}function dQ(...e){return m.useCallback(y5(...e),e)}function fQ(e){const t=hQ(e),r=m.forwardRef((n,a)=>{const{children:o,...i}=n,l=m.Children.toArray(o),c=l.find(pQ);if(c){const u=c.props.children,f=l.map(d=>d===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...i,ref:a,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return s.jsx(t,{...i,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}function hQ(e){const t=m.forwardRef((r,n)=>{const{children:a,...o}=r;if(m.isValidElement(a)){const i=yQ(a),l=gQ(o,a.props);return a.type!==m.Fragment&&(l.ref=n?y5(n,i):i),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mQ=Symbol("radix.slottable");function pQ(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mQ}function gQ(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function yQ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xQ=vQ.reduce((e,t)=>{const r=fQ(`Primitive.${t}`),n=m.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function XC(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var Jx="focusScope.autoFocusOnMount",Yx="focusScope.autoFocusOnUnmount",QC={bubbles:!1,cancelable:!0},bQ="FocusScope",v5=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=m.useState(null),u=XC(a),f=XC(o),d=m.useRef(null),h=dQ(t,p=>c(p)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let p=function(w){if(y.paused||!l)return;const S=w.target;l.contains(S)?d.current=S:Ds(d.current,{select:!0})},g=function(w){if(y.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||Ds(d.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Ds(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),b.disconnect()}}},[n,l,y.paused]),m.useEffect(()=>{if(l){eP.add(y);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(Jx,QC);l.addEventListener(Jx,u),l.dispatchEvent(x),x.defaultPrevented||(wQ(NQ(x5(l)),{select:!0}),document.activeElement===p&&Ds(l))}return()=>{l.removeEventListener(Jx,u),setTimeout(()=>{const x=new CustomEvent(Yx,QC);l.addEventListener(Yx,f),l.dispatchEvent(x),x.defaultPrevented||Ds(p??document.body,{select:!0}),l.removeEventListener(Yx,f),eP.remove(y)},0)}}},[l,u,f,y]);const v=m.useCallback(p=>{if(!r&&!n||y.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(g&&x){const b=p.currentTarget,[w,S]=SQ(b);w&&S?!p.shiftKey&&x===S?(p.preventDefault(),r&&Ds(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&Ds(S,{select:!0})):x===b&&p.preventDefault()}},[r,n,y.paused]);return s.jsx(xQ.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});v5.displayName=bQ;function wQ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ds(n,{select:t}),document.activeElement!==r)return}function SQ(e){const t=x5(e),r=ZC(t,e),n=ZC(t.reverse(),e);return[r,n]}function x5(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ZC(e,t){for(const r of e)if(!jQ(r,{upTo:t}))return r}function jQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _Q(e){return e instanceof HTMLInputElement&&"select"in e}function Ds(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&_Q(e)&&t&&e.select()}}var eP=kQ();function kQ(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=tP(e,t),e.unshift(t)},remove(t){var r;e=tP(e,t),(r=e[0])==null||r.resume()}}}function tP(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function NQ(e){return e.filter(t=>t.tagName!=="A")}function rP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function EQ(...e){return t=>{let r=!1;const n=e.map(a=>{const o=rP(a,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():rP(e[a],null)}}}}function CQ(e){const t=PQ(e),r=m.forwardRef((n,a)=>{const{children:o,...i}=n,l=m.Children.toArray(o),c=l.find(TQ);if(c){const u=c.props.children,f=l.map(d=>d===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...i,ref:a,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return s.jsx(t,{...i,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}function PQ(e){const t=m.forwardRef((r,n)=>{const{children:a,...o}=r;if(m.isValidElement(a)){const i=RQ(a),l=OQ(o,a.props);return a.type!==m.Fragment&&(l.ref=n?EQ(n,i):i),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AQ=Symbol("radix.slottable");function TQ(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AQ}function OQ(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function RQ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $Q=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],MQ=$Q.reduce((e,t)=>{const r=CQ(`Primitive.${t}`),n=m.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),IQ=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},LQ="Portal",b5=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,o]=m.useState(!1);IQ(()=>o(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?um.createPortal(s.jsx(MQ.div,{...n,ref:t}),i):null});b5.displayName=LQ;function DQ(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var qv=e=>{const{present:t,children:r}=e,n=FQ(t),a=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),o=zv(n.ref,BQ(a));return typeof r=="function"||n.isPresent?m.cloneElement(a,{ref:o}):null};qv.displayName="Presence";function FQ(e){const[t,r]=m.useState(),n=m.useRef(null),a=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=DQ(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=dp(n.current);o.current=l==="mounted"?u:"none"},[l]),Xg(()=>{const u=n.current,f=a.current;if(f!==e){const h=o.current,y=dp(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Xg(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=y=>{const p=dp(n.current).includes(CSS.escape(y.animationName));if(y.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=y=>{y.target===t&&(o.current=dp(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function dp(e){return(e==null?void 0:e.animationName)||"none"}function BQ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function w5(e){const t=UQ(e),r=m.forwardRef((n,a)=>{const{children:o,...i}=n,l=m.Children.toArray(o),c=l.find(qQ);if(c){const u=c.props.children,f=l.map(d=>d===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...i,ref:a,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return s.jsx(t,{...i,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}function UQ(e){const t=m.forwardRef((r,n)=>{const{children:a,...o}=r;if(m.isValidElement(a)){const i=HQ(a),l=WQ(o,a.props);return a.type!==m.Fragment&&(l.ref=n?c5(n,i):i),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zQ=Symbol("radix.slottable");function qQ(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zQ}function WQ(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function HQ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var VQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bm=VQ.reduce((e,t)=>{const r=w5(`Primitive.${t}`),n=m.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Xx=0;function KQ(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nP()),document.body.insertAdjacentElement("beforeend",e[1]??nP()),Xx++,()=>{Xx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Xx--}},[])}function nP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Kt=function(){return Kt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Kt.apply(this,arguments)};function wm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Wv(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var kl="right-scroll-bar-position",Nl="width-before-scroll-bar",GQ="with-scroll-bars-hidden",JQ="--removed-body-scroll-bar-size";function Qx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function YQ(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var XQ=typeof window<"u"?m.useLayoutEffect:m.useEffect,aP=new WeakMap;function Hv(e,t){var r=YQ(null,function(n){return e.forEach(function(a){return Qx(a,n)})});return XQ(function(){var n=aP.get(r);if(n){var a=new Set(n),o=new Set(e),i=r.current;a.forEach(function(l){o.has(l)||Qx(l,null)}),o.forEach(function(l){a.has(l)||Qx(l,i)})}aP.set(r,e)},[e]),r}function QQ(e){return e}function ZQ(e,t){t===void 0&&(t=QQ);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var f=i;i=[],f.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),r}}}};return a}function Vv(e){e===void 0&&(e={});var t=ZQ(null);return t.options=Kt({async:!0,ssr:!1},e),t}var S5=function(e){var t=e.sideCar,r=wm(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Kt({},r))};S5.isSideCarExport=!0;function Kv(e,t){return e.useMedium(t),S5}var j5=Vv(),Zx=function(){},Gv=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Zx,onWheelCapture:Zx,onTouchMoveCapture:Zx}),a=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,y=e.noRelative,v=e.noIsolation,p=e.inert,g=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,w=e.gapMode,S=wm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,k=Hv([r,t]),_=Kt(Kt({},S),a);return m.createElement(m.Fragment,null,f&&m.createElement(j,{sideCar:j5,removeScrollBar:u,shards:d,noRelative:y,noIsolation:v,inert:p,setCallbacks:o,allowPinchZoom:!!g,lockRef:r,gapMode:w}),i?m.cloneElement(m.Children.only(l),Kt(Kt({},_),{ref:k})):m.createElement(b,Kt({},_,{className:c,ref:k}),l))});Gv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gv.classNames={fullWidth:Nl,zeroRight:kl};var eZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tZ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=eZ();return t&&e.setAttribute("nonce",t),e}function rZ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function nZ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var aZ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=tZ())&&(rZ(t,r),nZ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},oZ=function(){var e=aZ();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Sm=function(){var e=oZ(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},sZ={left:0,top:0,right:0,gap:0},eb=function(e){return parseInt(e||"",10)||0},iZ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[eb(r),eb(n),eb(a)]},lZ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return sZ;var t=iZ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},cZ=Sm(),tu="data-scroll-locked",uZ=function(e,t,r,n){var a=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(GQ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(tu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kl,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Nl,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(kl," .").concat(kl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Nl," .").concat(Nl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(tu,`] {
    `).concat(JQ,": ").concat(l,`px;
  }
`)},oP=function(){var e=parseInt(document.body.getAttribute(tu)||"0",10);return isFinite(e)?e:0},dZ=function(){m.useEffect(function(){return document.body.setAttribute(tu,(oP()+1).toString()),function(){var e=oP()-1;e<=0?document.body.removeAttribute(tu):document.body.setAttribute(tu,e.toString())}},[])},Jv=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;dZ();var o=m.useMemo(function(){return lZ(a)},[a]);return m.createElement(cZ,{styles:uZ(o,!t,a,r?"":"!important")})},O1=!1;if(typeof window<"u")try{var fp=Object.defineProperty({},"passive",{get:function(){return O1=!0,!0}});window.addEventListener("test",fp,fp),window.removeEventListener("test",fp,fp)}catch{O1=!1}var ic=O1?{passive:!1}:!1,fZ=function(e){return e.tagName==="TEXTAREA"},_5=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!fZ(e)&&r[t]==="visible")},hZ=function(e){return _5(e,"overflowY")},mZ=function(e){return _5(e,"overflowX")},sP=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=k5(e,n);if(a){var o=N5(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},pZ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},gZ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},k5=function(e,t){return e==="v"?hZ(t):mZ(t)},N5=function(e,t){return e==="v"?pZ(t):gZ(t)},yZ=function(e,t){return e==="h"&&t==="rtl"?-1:1},vZ=function(e,t,r,n,a){var o=yZ(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,f=i>0,d=0,h=0;do{if(!l)break;var y=N5(e,l),v=y[0],p=y[1],g=y[2],x=p-g-o*v;(v||x)&&k5(e,l)&&(d+=x,h+=v);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(d)<1||!a)||!f&&(Math.abs(h)<1||!a))&&(u=!0),u},hp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},iP=function(e){return[e.deltaX,e.deltaY]},lP=function(e){return e&&"current"in e?e.current:e},xZ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},bZ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wZ=0,lc=[];function SZ(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),a=m.useState(wZ++)[0],o=m.useState(Sm)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Wv([e.lockRef.current],(e.shards||[]).map(lP),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=hp(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-x[0],S="deltaY"in p?p.deltaY:b[1]-x[1],j,k=p.target,_=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&_==="h"&&k.type==="range")return!1;var N=sP(_,k);if(!N)return!0;if(N?j=_:(j=_==="v"?"h":"v",N=sP(_,k)),!N)return!1;if(!n.current&&"changedTouches"in p&&(w||S)&&(n.current=j),!j)return!0;var E=n.current||j;return vZ(E,g,p,E==="h"?w:S,!0)},[]),c=m.useCallback(function(p){var g=p;if(!(!lc.length||lc[lc.length-1]!==o)){var x="deltaY"in g?iP(g):hp(g),b=t.current.filter(function(j){return j.name===g.type&&(j.target===g.target||g.target===j.shadowParent)&&xZ(j.delta,x)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(lP).filter(Boolean).filter(function(j){return j.contains(g.target)}),S=w.length>0?l(g,w[0]):!i.current.noIsolation;S&&g.cancelable&&g.preventDefault()}}},[]),u=m.useCallback(function(p,g,x,b){var w={name:p,delta:g,target:x,should:b,shadowParent:jZ(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),f=m.useCallback(function(p){r.current=hp(p),n.current=void 0},[]),d=m.useCallback(function(p){u(p.type,iP(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,hp(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return lc.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ic),document.addEventListener("touchmove",c,ic),document.addEventListener("touchstart",f,ic),function(){lc=lc.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,ic),document.removeEventListener("touchmove",c,ic),document.removeEventListener("touchstart",f,ic)}},[]);var y=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(o,{styles:bZ(a)}):null,y?m.createElement(Jv,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function jZ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _Z=Kv(j5,SZ);var E5=m.forwardRef(function(e,t){return m.createElement(Gv,Kt({},e,{ref:t,sideCar:_Z}))});E5.classNames=Gv.classNames;var kZ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},cc=new WeakMap,mp=new WeakMap,pp={},tb=0,C5=function(e){return e&&(e.host||C5(e.parentNode))},NZ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=C5(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},EZ=function(e,t,r,n){var a=NZ(t,Array.isArray(e)?e:[e]);pp[r]||(pp[r]=new WeakMap);var o=pp[r],i=[],l=new Set,c=new Set(a),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};a.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var y=h.getAttribute(n),v=y!==null&&y!=="false",p=(cc.get(h)||0)+1,g=(o.get(h)||0)+1;cc.set(h,p),o.set(h,g),i.push(h),p===1&&v&&mp.set(h,!0),g===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return f(t),l.clear(),tb++,function(){i.forEach(function(d){var h=cc.get(d)-1,y=o.get(d)-1;cc.set(d,h),o.set(d,y),h||(mp.has(d)||d.removeAttribute(n),mp.delete(d)),y||d.removeAttribute(r)}),tb--,tb||(cc=new WeakMap,cc=new WeakMap,mp=new WeakMap,pp={})}},Yv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=kZ(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),EZ(n,a,r,"aria-hidden")):function(){return null}},Xv="Dialog",[P5,r$e]=BX(Xv),[CZ,yo]=P5(Xv),A5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,f]=HX({prop:n,defaultProp:a??!1,onChange:o,caller:Xv});return s.jsx(CZ,{scope:t,triggerRef:l,contentRef:c,contentId:Kx(),titleId:Kx(),descriptionId:Kx(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(d=>!d),[f]),modal:i,children:r})};A5.displayName=Xv;var T5="DialogTrigger",O5=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=yo(T5,r),o=zv(t,a.triggerRef);return s.jsx(bm.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":wk(a.open),...n,ref:o,onClick:Rf(e.onClick,a.onOpenToggle)})});O5.displayName=T5;var xk="DialogPortal",[PZ,R5]=P5(xk,{forceMount:void 0}),$5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,o=yo(xk,t);return s.jsx(PZ,{scope:t,forceMount:r,children:m.Children.map(n,i=>s.jsx(qv,{present:r||o.open,children:s.jsx(b5,{asChild:!0,container:a,children:i})}))})};$5.displayName=xk;var Qg="DialogOverlay",M5=m.forwardRef((e,t)=>{const r=R5(Qg,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=yo(Qg,e.__scopeDialog);return o.modal?s.jsx(qv,{present:n||o.open,children:s.jsx(TZ,{...a,ref:t})}):null});M5.displayName=Qg;var AZ=w5("DialogOverlay.RemoveScroll"),TZ=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=yo(Qg,r);return s.jsx(E5,{as:AZ,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(bm.div,{"data-state":wk(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Bl="DialogContent",I5=m.forwardRef((e,t)=>{const r=R5(Bl,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=yo(Bl,e.__scopeDialog);return s.jsx(qv,{present:n||o.open,children:o.modal?s.jsx(OZ,{...a,ref:t}):s.jsx(RZ,{...a,ref:t})})});I5.displayName=Bl;var OZ=m.forwardRef((e,t)=>{const r=yo(Bl,e.__scopeDialog),n=m.useRef(null),a=zv(t,r.contentRef,n);return m.useEffect(()=>{const o=n.current;if(o)return Yv(o)},[]),s.jsx(L5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Rf(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Rf(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:Rf(e.onFocusOutside,o=>o.preventDefault())})}),RZ=m.forwardRef((e,t)=>{const r=yo(Bl,e.__scopeDialog),n=m.useRef(!1),a=m.useRef(!1);return s.jsx(L5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),L5=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=yo(Bl,r),c=m.useRef(null),u=zv(t,c);return KQ(),s.jsxs(s.Fragment,{children:[s.jsx(v5,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(p5,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":wk(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx($Z,{titleId:l.titleId}),s.jsx(IZ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),bk="DialogTitle",D5=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=yo(bk,r);return s.jsx(bm.h2,{id:a.titleId,...n,ref:t})});D5.displayName=bk;var F5="DialogDescription",B5=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=yo(F5,r);return s.jsx(bm.p,{id:a.descriptionId,...n,ref:t})});B5.displayName=F5;var U5="DialogClose",z5=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=yo(U5,r);return s.jsx(bm.button,{type:"button",...n,ref:t,onClick:Rf(e.onClick,()=>a.onOpenChange(!1))})});z5.displayName=U5;function wk(e){return e?"open":"closed"}var q5="DialogTitleWarning",[n$e,W5]=FX(q5,{contentName:Bl,titleName:bk,docsSlug:"dialog"}),$Z=({titleId:e})=>{const t=W5(q5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},MZ="DialogDescriptionWarning",IZ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${W5(MZ).contentName}}.`;return m.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},H5=A5,V5=O5,K5=$5,Sk=M5,jk=I5,_k=D5,kk=B5,G5=z5;const xn=H5,LZ=V5,DZ=K5,J5=m.forwardRef(({className:e,...t},r)=>s.jsx(Sk,{ref:r,className:fe("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));J5.displayName=Sk.displayName;const an=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(DZ,{children:[s.jsx(J5,{}),s.jsxs(jk,{ref:n,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background/90 backdrop-blur-md p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-[36px]",e),...r,children:[t,s.jsxs(G5,{className:"absolute right-6 top-6 rounded-full bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 h-7 w-7 flex items-center justify-center shrink-0 transition-colors p-0",children:[s.jsx(po,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));an.displayName=jk.displayName;const on=({className:e,...t})=>s.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});on.displayName="DialogHeader";const bn=({className:e,...t})=>s.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});bn.displayName="DialogFooter";const sn=m.forwardRef(({className:e,...t},r)=>s.jsx(_k,{ref:r,className:fe("text-lg font-semibold leading-none tracking-tight",e),...t}));sn.displayName=_k.displayName;const ru=m.forwardRef(({className:e,...t},r)=>s.jsx(kk,{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));ru.displayName=kk.displayName;function FZ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Y5=I.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),gd=()=>{const e=I.useContext(Y5);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};FZ(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const BZ=24,UZ=typeof window<"u"?m.useLayoutEffect:m.useEffect;function cP(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function zZ(){return Nk(/^Mac/)}function qZ(){return Nk(/^iPhone/)}function uP(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function WZ(){return Nk(/^iPad/)||zZ()&&navigator.maxTouchPoints>1}function X5(){return qZ()||WZ()}function Nk(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const rb=typeof document<"u"&&window.visualViewport;function dP(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Q5(e){for(dP(e)&&(e=e.parentElement);e&&!dP(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const HZ=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let gp=0,nb;function VZ(e={}){let{isDisabled:t}=e;UZ(()=>{if(!t)return gp++,gp===1&&X5()&&(nb=KZ()),()=>{gp--,gp===0&&(nb==null||nb())}},[t])}function KZ(){let e,t=0,r=d=>{e=Q5(d.target),!(e===document.documentElement&&e===document.body)&&(t=d.changedTouches[0].pageY)},n=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}let h=d.changedTouches[0].pageY,y=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((y<=0&&h>t||y>=v&&h<t)&&d.preventDefault(),t=h)},a=d=>{let h=d.target;R1(h)&&h!==document.activeElement&&(d.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},o=d=>{let h=d.target;R1(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",rb&&(rb.height<window.innerHeight?requestAnimationFrame(()=>{fP(h)}):rb.addEventListener("resize",()=>fP(h),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=cP(GZ(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let f=cP(Gd(document,"touchstart",r,{passive:!1,capture:!0}),Gd(document,"touchmove",n,{passive:!1,capture:!0}),Gd(document,"touchend",a,{passive:!1,capture:!0}),Gd(document,"focus",o,!0),Gd(window,"scroll",i));return()=>{u(),f(),window.scrollTo(l,c)}}function GZ(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function Gd(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function fP(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=Q5(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const i=r.getBoundingClientRect().bottom+BZ;o>i&&(r.scrollTop+=a-n)}e=r.parentElement}}function R1(e){return e instanceof HTMLInputElement&&!HZ.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function JZ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function YZ(...e){return t=>e.forEach(r=>JZ(r,t))}function Z5(...e){return m.useCallback(YZ(...e),e)}const eL=new WeakMap;function Mr(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}n[a]=e.style[a],e.style[a]=o}),!r&&eL.set(e,n)}function XZ(e,t){if(!e||!(e instanceof HTMLElement))return;let r=eL.get(e);r&&(e.style[t]=r[t])}const Ir=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function yp(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let a=n.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[Ir(t)?13:12]):(a=n.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[Ir(t)?5:4]):null)}function QZ(e){return 8*(Math.log(e+1)-2)}function ab(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function ZZ(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const mr={DURATION:.5,EASE:[.32,.72,0,1]},tL=.4,eee=.25,tee=100,rL=8,Ki=16,$1=26,ob="vaul-dragging";function nL(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function ree({defaultProp:e,onChange:t}){const r=I.useState(e),[n]=r,a=I.useRef(n),o=nL(t);return I.useEffect(()=>{a.current!==n&&(o(n),a.current=n)},[n,a,o]),r}function aL({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=ree({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,l=nL(r),c=I.useCallback(u=>{if(o){const d=typeof u=="function"?u(e):u;d!==e&&l(d)}else a(u)},[o,e,a,l]);return[i,c]}function nee({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:a,fadeFromIndex:o,onSnapPointChange:i,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[f,d]=aL({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[h,y]=I.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);I.useEffect(()=>{function _(){y({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]);const v=I.useMemo(()=>f===(r==null?void 0:r[r.length-1])||null,[r,f]),p=I.useMemo(()=>r==null?void 0:r.findIndex(_=>_===f),[r,f]),g=r&&r.length>0&&(o||o===0)&&!Number.isNaN(o)&&r[o]===f||!r,x=I.useMemo(()=>{const _=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var N;return(N=r==null?void 0:r.map(E=>{const A=typeof E=="string";let T=0;if(A&&(T=parseInt(E,10)),Ir(l)){const B=A?T:h?E*_.height:0;return h?l==="bottom"?_.height-B:-_.height+B:B}const D=A?T:h?E*_.width:0;return h?l==="right"?_.width-D:-_.width+D:D}))!=null?N:[]},[r,h,c]),b=I.useMemo(()=>p!==null?x==null?void 0:x[p]:null,[x,p]),w=I.useCallback(_=>{var N;const E=(N=x==null?void 0:x.findIndex(A=>A===_))!=null?N:null;i(E),Mr(n.current,{transition:`transform ${mr.DURATION}s cubic-bezier(${mr.EASE.join(",")})`,transform:Ir(l)?`translate3d(0, ${_}px, 0)`:`translate3d(${_}px, 0, 0)`}),x&&E!==x.length-1&&E!==o&&E<o?Mr(a.current,{transition:`opacity ${mr.DURATION}s cubic-bezier(${mr.EASE.join(",")})`,opacity:"0"}):Mr(a.current,{transition:`opacity ${mr.DURATION}s cubic-bezier(${mr.EASE.join(",")})`,opacity:"1"}),d(r==null?void 0:r[Math.max(E,0)])},[n.current,r,x,o,a,d]);I.useEffect(()=>{if(f||e){var _;const N=(_=r==null?void 0:r.findIndex(E=>E===e||E===f))!=null?_:-1;x&&N!==-1&&typeof x[N]=="number"&&w(x[N])}},[f,e,r,x,w]);function S({draggedDistance:_,closeDrawer:N,velocity:E,dismissible:A}){if(o===void 0)return;const T=l==="bottom"||l==="right"?(b??0)-_:(b??0)+_,D=p===o-1,B=p===0,z=_>0;if(D&&Mr(a.current,{transition:`opacity ${mr.DURATION}s cubic-bezier(${mr.EASE.join(",")})`}),!u&&E>2&&!z){A?N():w(x[0]);return}if(!u&&E>2&&z&&x&&r){w(x[r.length-1]);return}const F=x==null?void 0:x.reduce((U,P)=>typeof U!="number"||typeof P!="number"?U:Math.abs(P-T)<Math.abs(U-T)?P:U),$=Ir(l)?window.innerHeight:window.innerWidth;if(E>tL&&Math.abs(_)<$*.4){const U=z?1:-1;if(U>0&&v){w(x[r.length-1]);return}if(B&&U<0&&A&&N(),p===null)return;w(x[p+U]);return}w(F)}function j({draggedDistance:_}){if(b===null)return;const N=l==="bottom"||l==="right"?b-_:b+_;(l==="bottom"||l==="right")&&N<x[x.length-1]||(l==="top"||l==="left")&&N>x[x.length-1]||Mr(n.current,{transform:Ir(l)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`})}function k(_,N){if(!r||typeof p!="number"||!x||o===void 0)return null;const E=p===o-1;if(p>=o&&N)return 0;if(E&&!N)return 1;if(!g&&!E)return null;const T=E?p+1:p-1,D=E?x[T]-x[T-1]:x[T+1]-x[T],B=_/Math.abs(D);return E?1-B:B}return{isLastSnapPoint:v,activeSnapPoint:f,shouldFade:g,getPercentageDragged:k,setActiveSnapPoint:d,activeSnapPointIndex:p,onRelease:S,onDrag:j,snapPointsOffset:x}}const aee=()=>()=>{};function oee(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:a}=gd(),o=I.useRef(null),i=m.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-$1)/window.innerWidth}I.useEffect(()=>{if(t&&r){o.current&&clearTimeout(o.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;ZZ(n&&!a?ab(document.body,{background:"black"}):aee,ab(c,{transformOrigin:Ir(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${mr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${mr.EASE.join(",")})`}));const u=ab(c,{borderRadius:`${rL}px`,overflow:"hidden",...Ir(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),o.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},mr.DURATION*1e3)}}},[t,r,i])}let Jd=null;function see({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:a,noBodyStyles:o}){const[i,l]=I.useState(()=>typeof window<"u"?window.location.href:""),c=I.useRef(0),u=I.useCallback(()=>{if(uP()&&Jd===null&&e&&!o){Jd={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:d,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-d}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const y=h-window.innerHeight;y&&c.current>=h&&(document.body.style.top=`${-(c.current+y)}px`)}),300)}},[e]),f=I.useCallback(()=>{if(uP()&&Jd!==null&&!o){const d=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Jd),window.requestAnimationFrame(()=>{if(a&&i!==window.location.href){l(window.location.href);return}window.scrollTo(h,d)}),Jd=null}},[i]);return I.useEffect(()=>{function d(){c.current=window.scrollY}return d(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),I.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{f()},500)):f())},[e,n,i,t,r,u,f]),{restorePositionSetting:f}}function oL({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:a,snapPoints:o,shouldScaleBackground:i=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=eee,scrollLockTimeout:u=tee,dismissible:f=!0,handleOnly:d=!1,fadeFromIndex:h=o&&o.length-1,activeSnapPoint:y,setActiveSnapPoint:v,fixed:p,modal:g=!0,onClose:x,nested:b,noBodyStyles:w,direction:S="bottom",defaultOpen:j=!1,disablePreventScroll:k=!0,snapToSequentialPoint:_=!1,preventScrollRestoration:N=!1,repositionInputs:E=!0,onAnimationEnd:A,container:T,autoFocus:D=!1}){var B,z;const[F=!1,$]=aL({defaultProp:j,prop:e,onChange:he=>{t==null||t(he),!he&&!b&&yt(),setTimeout(()=>{A==null||A(he)},mr.DURATION*1e3),he&&!g&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),he||(document.body.style.pointerEvents="auto")}}),[U,P]=I.useState(!1),[M,W]=I.useState(!1),[R,q]=I.useState(!1),ee=I.useRef(null),ne=I.useRef(null),ce=I.useRef(null),ue=I.useRef(null),ie=I.useRef(null),O=I.useRef(!1),L=I.useRef(null),H=I.useRef(0),X=I.useRef(!1),V=I.useRef(0),ae=I.useRef(null),Z=I.useRef(((B=ae.current)==null?void 0:B.getBoundingClientRect().height)||0),de=I.useRef(((z=ae.current)==null?void 0:z.getBoundingClientRect().width)||0),oe=I.useRef(0),ye=I.useCallback(he=>{o&&he===xe.length-1&&(ne.current=new Date)},[]),{activeSnapPoint:be,activeSnapPointIndex:Be,setActiveSnapPoint:it,onRelease:ge,snapPointsOffset:xe,onDrag:qe,shouldFade:rt,getPercentageDragged:nt}=nee({snapPoints:o,activeSnapPointProp:y,setActiveSnapPointProp:v,drawerRef:ae,fadeFromIndex:h,overlayRef:ee,onSnapPointChange:ye,direction:S,container:T,snapToSequentialPoint:_});VZ({isDisabled:!F||M||!g||R||!U||!E||!k});const{restorePositionSetting:yt}=see({isOpen:F,modal:g,nested:b,hasBeenOpened:U,preventScrollRestoration:N,noBodyStyles:w});function at(){return(window.innerWidth-$1)/window.innerWidth}function We(he){var Me,Re;!f&&!o||ae.current&&!ae.current.contains(he.target)||(Z.current=((Me=ae.current)==null?void 0:Me.getBoundingClientRect().height)||0,de.current=((Re=ae.current)==null?void 0:Re.getBoundingClientRect().width)||0,W(!0),ce.current=new Date,X5()&&window.addEventListener("touchend",()=>O.current=!1,{once:!0}),he.target.setPointerCapture(he.pointerId),H.current=Ir(S)?he.pageY:he.pageX)}function J(he,Me){var Re,C;let Y=he;const Ee=(Re=window.getSelection())==null?void 0:Re.toString(),ze=ae.current?yp(ae.current,S):null,pe=new Date;if(Y.hasAttribute("data-vaul-no-drag")||Y.closest("[data-vaul-no-drag]"))return!1;if(S==="right"||S==="left")return!0;if(ne.current&&pe.getTime()-ne.current.getTime()<500)return!1;if(ze!==null&&(S==="bottom"?ze>0:ze<0))return!0;if(Ee&&Ee.length>0)return!1;if(pe.getTime()-((C=ie.current)==null?void 0:C.getTime())<u&&ze===0||Me)return ie.current=pe,!1;for(;Y;){if(Y.scrollHeight>Y.clientHeight){if(Y.scrollTop!==0)return ie.current=new Date,!1;if(Y.getAttribute("role")==="dialog")return!0}Y=Y.parentNode}return!0}function K(he){if(ae.current&&M){const Me=S==="bottom"||S==="right"?1:-1,Re=(H.current-(Ir(S)?he.pageY:he.pageX))*Me,C=Re>0,Y=o&&!f&&!C;if(Y&&Be===0)return;const Ee=Math.abs(Re),ze=document.querySelector("[data-vaul-drawer-wrapper]"),pe=S==="bottom"||S==="top"?Z.current:de.current;let Ce=Ee/pe;const lt=nt(Ee,C);if(lt!==null&&(Ce=lt),Y&&Ce>=1||!O.current&&!J(he.target,C))return;if(ae.current.classList.add(ob),O.current=!0,Mr(ae.current,{transition:"none"}),Mr(ee.current,{transition:"none"}),o&&qe({draggedDistance:Re}),C&&!o){const It=QZ(Re),_r=Math.min(It*-1,0)*Me;Mr(ae.current,{transform:Ir(S)?`translate3d(0, ${_r}px, 0)`:`translate3d(${_r}px, 0, 0)`});return}const tt=1-Ce;if((rt||h&&Be===h-1)&&(n==null||n(he,Ce),Mr(ee.current,{opacity:`${tt}`,transition:"none"},!0)),ze&&ee.current&&i){const It=Math.min(at()+Ce*(1-at()),1),_r=8-Ce*8,G=Math.max(0,14-Ce*14);Mr(ze,{borderRadius:`${_r}px`,transform:Ir(S)?`scale(${It}) translate3d(0, ${G}px, 0)`:`scale(${It}) translate3d(${G}px, 0, 0)`,transition:"none"},!0)}if(!o){const It=Ee*Me;Mr(ae.current,{transform:Ir(S)?`translate3d(0, ${It}px, 0)`:`translate3d(${It}px, 0, 0)`})}}}I.useEffect(()=>{var he;function Me(){if(!ae.current||!E)return;const Re=document.activeElement;if(R1(Re)||X.current){var C;const Y=((C=window.visualViewport)==null?void 0:C.height)||0,Ee=window.innerHeight;let ze=Ee-Y;const pe=ae.current.getBoundingClientRect().height||0,Ce=pe>Ee*.8;oe.current||(oe.current=pe);const lt=ae.current.getBoundingClientRect().top;if(Math.abs(V.current-ze)>60&&(X.current=!X.current),o&&o.length>0&&xe&&Be){const tt=xe[Be]||0;ze+=tt}if(V.current=ze,pe>Y||X.current){const tt=ae.current.getBoundingClientRect().height;let It=tt;tt>Y&&(It=Y-(Ce?lt:$1)),p?ae.current.style.height=`${tt-Math.max(ze,0)}px`:ae.current.style.height=`${Math.max(It,Y-lt)}px`}else ae.current.style.height=`${oe.current}px`;o&&o.length>0&&!X.current?ae.current.style.bottom="0px":ae.current.style.bottom=`${Math.max(ze,0)}px`}}return(he=window.visualViewport)==null||he.addEventListener("resize",Me),()=>{var Re;return(Re=window.visualViewport)==null?void 0:Re.removeEventListener("resize",Me)}},[Be,o,xe]);function re(he){Pe(),x==null||x(),he||$(!1),setTimeout(()=>{o&&it(o[0])},mr.DURATION*1e3)}function we(){if(!ae.current)return;const he=document.querySelector("[data-vaul-drawer-wrapper]"),Me=yp(ae.current,S);Mr(ae.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${mr.DURATION}s cubic-bezier(${mr.EASE.join(",")})`}),Mr(ee.current,{transition:`opacity ${mr.DURATION}s cubic-bezier(${mr.EASE.join(",")})`,opacity:"1"}),i&&Me&&Me>0&&F&&Mr(he,{borderRadius:`${rL}px`,overflow:"hidden",...Ir(S)?{transform:`scale(${at()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${at()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${mr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${mr.EASE.join(",")})`},!0)}function Pe(){!M||!ae.current||(ae.current.classList.remove(ob),O.current=!1,W(!1),ue.current=new Date)}function Te(he){if(!M||!ae.current)return;ae.current.classList.remove(ob),O.current=!1,W(!1),ue.current=new Date;const Me=yp(ae.current,S);if(!J(he.target,!1)||!Me||Number.isNaN(Me)||ce.current===null)return;const Re=ue.current.getTime()-ce.current.getTime(),C=H.current-(Ir(S)?he.pageY:he.pageX),Y=Math.abs(C)/Re;if(Y>.05&&(q(!0),setTimeout(()=>{q(!1)},200)),o){ge({draggedDistance:C*(S==="bottom"||S==="right"?1:-1),closeDrawer:re,velocity:Y,dismissible:f}),a==null||a(he,!0);return}if(S==="bottom"||S==="right"?C>0:C<0){we(),a==null||a(he,!0);return}if(Y>tL){re(),a==null||a(he,!1);return}var Ee;const ze=Math.min((Ee=ae.current.getBoundingClientRect().height)!=null?Ee:0,window.innerHeight);var pe;const Ce=Math.min((pe=ae.current.getBoundingClientRect().width)!=null?pe:0,window.innerWidth),lt=S==="left"||S==="right";if(Math.abs(Me)>=(lt?Ce:ze)*c){re(),a==null||a(he,!1);return}a==null||a(he,!0),we()}I.useEffect(()=>(F&&(Mr(document.documentElement,{scrollBehavior:"auto"}),ne.current=new Date),()=>{XZ(document.documentElement,"scrollBehavior")}),[F]);function Je(he){const Me=he?(window.innerWidth-Ki)/window.innerWidth:1,Re=he?-Ki:0;L.current&&window.clearTimeout(L.current),Mr(ae.current,{transition:`transform ${mr.DURATION}s cubic-bezier(${mr.EASE.join(",")})`,transform:`scale(${Me}) translate3d(0, ${Re}px, 0)`}),!he&&ae.current&&(L.current=setTimeout(()=>{const C=yp(ae.current,S);Mr(ae.current,{transition:"none",transform:Ir(S)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`})},500))}function $e(he,Me){if(Me<0)return;const Re=(window.innerWidth-Ki)/window.innerWidth,C=Re+Me*(1-Re),Y=-Ki+Me*Ki;Mr(ae.current,{transform:Ir(S)?`scale(${C}) translate3d(0, ${Y}px, 0)`:`scale(${C}) translate3d(${Y}px, 0, 0)`,transition:"none"})}function Ze(he,Me){const Re=Ir(S)?window.innerHeight:window.innerWidth,C=Me?(Re-Ki)/Re:1,Y=Me?-Ki:0;Me&&Mr(ae.current,{transition:`transform ${mr.DURATION}s cubic-bezier(${mr.EASE.join(",")})`,transform:Ir(S)?`scale(${C}) translate3d(0, ${Y}px, 0)`:`scale(${C}) translate3d(${Y}px, 0, 0)`})}return I.createElement(H5,{defaultOpen:j,onOpenChange:he=>{!f&&!he||(he?P(!0):re(!0),$(he))},open:F},I.createElement(Y5.Provider,{value:{activeSnapPoint:be,snapPoints:o,setActiveSnapPoint:it,drawerRef:ae,overlayRef:ee,onOpenChange:t,onPress:We,onRelease:Te,onDrag:K,dismissible:f,handleOnly:d,isOpen:F,isDragging:M,shouldFade:rt,closeDrawer:re,onNestedDrag:$e,onNestedOpenChange:Je,onNestedRelease:Ze,keyboardIsOpen:X,modal:g,snapPointsOffset:xe,direction:S,shouldScaleBackground:i,setBackgroundColorOnScale:l,noBodyStyles:w,container:T,autoFocus:D}},r))}const sL=I.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:a,shouldFade:o,isOpen:i,modal:l}=gd(),c=Z5(t,r),u=n&&n.length>0;return l?I.createElement(Sk,{onMouseUp:a,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":i&&u?"true":"false","data-vaul-snap-points-overlay":i&&o?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});sL.displayName="Drawer.Overlay";const iL=I.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},a){const{drawerRef:o,onPress:i,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:f,modal:d,isOpen:h,direction:y,snapPoints:v,container:p,handleOnly:g,autoFocus:x}=gd(),[b,w]=I.useState(!1),S=Z5(a,o),j=I.useRef(null),k=I.useRef(null),_=I.useRef(!1),N=v&&v.length>0;oee();const E=(T,D,B=0)=>{if(_.current)return!0;const z=Math.abs(T.y),F=Math.abs(T.x),$=F>z,U=["bottom","right"].includes(D)?1:-1;if(D==="left"||D==="right"){if(!(T.x*U<0)&&F>=0&&F<=B)return $}else if(!(T.y*U<0)&&z>=0&&z<=B)return!$;return _.current=!0,!0};I.useEffect(()=>{N&&window.requestAnimationFrame(()=>{w(!0)})},[]);function A(T){j.current=null,_.current=!1,l(T)}return I.createElement(jk,{"data-vaul-drawer-direction":y,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":h&&N?"true":"false","data-vaul-custom-container":p?"true":"false",...n,ref:S,style:f&&f.length>0?{"--snap-point-height":`${f[0]}px`,...t}:t,onPointerDown:T=>{g||(n.onPointerDown==null||n.onPointerDown.call(n,T),j.current={x:T.pageX,y:T.pageY},i(T))},onOpenAutoFocus:T=>{r==null||r(T),x||T.preventDefault()},onPointerDownOutside:T=>{if(e==null||e(T),!d||T.defaultPrevented){T.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:T=>{if(!d){T.preventDefault();return}},onPointerMove:T=>{if(k.current=T,g||(n.onPointerMove==null||n.onPointerMove.call(n,T),!j.current))return;const D=T.pageY-j.current.y,B=T.pageX-j.current.x,z=T.pointerType==="touch"?10:2;E({x:B,y:D},y,z)?c(T):(Math.abs(B)>z||Math.abs(D)>z)&&(j.current=null)},onPointerUp:T=>{n.onPointerUp==null||n.onPointerUp.call(n,T),j.current=null,_.current=!1,l(T)},onPointerOut:T=>{n.onPointerOut==null||n.onPointerOut.call(n,T),A(k.current)},onContextMenu:T=>{n.onContextMenu==null||n.onContextMenu.call(n,T),A(k.current)}})});iL.displayName="Drawer.Content";const iee=250,lee=120,lL=I.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:a,isDragging:o,snapPoints:i,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:f,isOpen:d,onPress:h,onDrag:y}=gd(),v=I.useRef(null),p=I.useRef(!1);function g(){if(p.current){w();return}window.setTimeout(()=>{x()},lee)}function x(){if(o||e||p.current){w();return}if(w(),(!i||i.length===0)&&u){a();return}if(l===i[i.length-1]&&u){a();return}const j=i.findIndex(_=>_===l);if(j===-1)return;const k=i[j+1];c(k)}function b(){v.current=window.setTimeout(()=>{p.current=!0},iee)}function w(){window.clearTimeout(v.current),p.current=!1}return I.createElement("div",{onClick:g,onPointerCancel:w,onPointerDown:S=>{f&&h(S),b()},onPointerMove:S=>{f&&y(S)},ref:n,"data-vaul-drawer-visible":d?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},I.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});lL.displayName="Drawer.Handle";function cee({onDrag:e,onOpenChange:t,...r}){const{onNestedDrag:n,onNestedOpenChange:a,onNestedRelease:o}=gd();if(!n)throw new Error("Drawer.NestedRoot must be placed in another drawer");return I.createElement(oL,{nested:!0,onClose:()=>{a(!1)},onDrag:(i,l)=>{n(i,l),e==null||e(i,l)},onOpenChange:i=>{i&&a(i)},onRelease:o,...r})}function uee(e){const t=gd(),{container:r=t.container,...n}=e;return I.createElement(K5,{container:r,...n})}const vo={Root:oL,NestedRoot:cee,Content:iL,Overlay:sL,Trigger:V5,Portal:uee,Handle:lL,Close:G5,Title:_k,Description:kk},Kr=({shouldScaleBackground:e=!0,...t})=>s.jsx(vo.Root,{shouldScaleBackground:e,...t});Kr.displayName="Drawer";const dee=vo.Trigger,fee=vo.Portal,ss=vo.Close,cL=m.forwardRef(({className:e,...t},r)=>s.jsx(vo.Overlay,{ref:r,className:fe("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm",e),...t}));cL.displayName=vo.Overlay.displayName;const Gr=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(fee,{children:[s.jsx(cL,{}),s.jsx(vo.Content,{ref:n,className:fe("fixed left-2 right-2 bottom-4 z-50 mt-24 flex h-auto flex-col rounded-[36px] border-t border-l border-r bg-background/90 backdrop-blur-md",e),...r,children:t})]}));Gr.displayName="DrawerContent";const Jr=({className:e,children:t,...r})=>s.jsxs("div",{className:fe("flex items-center justify-between gap-4 px-6 pt-6 pb-4",e),...r,children:[s.jsx("div",{className:"flex-1",children:t}),s.jsx(ss,{asChild:!0,children:s.jsx("button",{className:"rounded-full bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 h-7 w-7 flex items-center justify-center shrink-0 transition-colors p-0","aria-label":"Close",children:s.jsx(po,{className:"h-3.5 w-3.5"})})})]});Jr.displayName="DrawerHeader";const ka=({className:e,...t})=>s.jsx("div",{className:fe("mt-auto flex flex-col gap-3 px-6 pt-4 pb-6",e),...t});ka.displayName="DrawerFooter";const Yr=m.forwardRef(({className:e,...t},r)=>s.jsx(vo.Title,{ref:r,className:fe("text-lg font-semibold leading-none tracking-tight",e),...t}));Yr.displayName=vo.Title.displayName;const uL=m.forwardRef(({className:e,...t},r)=>s.jsx(vo.Description,{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));uL.displayName=vo.Description.displayName;var hee=m.createContext(void 0);function yd(e){const t=m.useContext(hee);return e||t||"ltr"}function gh(e,[t,r]){return Math.min(r,Math.max(t,e))}function mee(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Ek="ScrollArea",[dL,a$e]=fa(Ek),[pee,Ia]=dL(Ek),fL=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:o=600,...i}=e,[l,c]=m.useState(null),[u,f]=m.useState(null),[d,h]=m.useState(null),[y,v]=m.useState(null),[p,g]=m.useState(null),[x,b]=m.useState(0),[w,S]=m.useState(0),[j,k]=m.useState(!1),[_,N]=m.useState(!1),E=ct(t,T=>c(T)),A=yd(a);return s.jsx(pee,{scope:r,type:n,dir:A,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:f,content:d,onContentChange:h,scrollbarX:y,onScrollbarXChange:v,scrollbarXEnabled:j,onScrollbarXEnabledChange:k,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:_,onScrollbarYEnabledChange:N,onCornerWidthChange:b,onCornerHeightChange:S,children:s.jsx(Ke.div,{dir:A,...i,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});fL.displayName=Ek;var hL="ScrollAreaViewport",mL=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:a,nonce:o,...i}=e,l=Ia(hL,r),c=m.useRef(null),u=ct(t,c,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),s.jsx(Ke.div,{"data-radix-scroll-area-viewport":"",...i,asChild:a,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:kee({asChild:a,children:n},f=>s.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});mL.displayName=hL;var Ko="ScrollAreaScrollbar",Ck=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ia(Ko,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return m.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),a.type==="hover"?s.jsx(gee,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(yee,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(pL,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(Pk,{...n,ref:t}):null});Ck.displayName=Ko;var gee=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ia(Ko,e.__scopeScrollArea),[o,i]=m.useState(!1);return m.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},f=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Mn,{present:r||o,children:s.jsx(pL,{"data-state":o?"visible":"hidden",...n,ref:t})})}),yee=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ia(Ko,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Zv(()=>c("SCROLL_END"),100),[l,c]=mee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),m.useEffect(()=>{const u=a.viewport,f=o?"scrollLeft":"scrollTop";if(u){let d=u[f];const h=()=>{const y=u[f];d!==y&&(c("SCROLL"),i()),d=y};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,o,c,i]),s.jsx(Mn,{present:r||l!=="hidden",children:s.jsx(Pk,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ie(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ie(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),pL=m.forwardRef((e,t)=>{const r=Ia(Ko,e.__scopeScrollArea),{forceMount:n,...a}=e,[o,i]=m.useState(!1),l=e.orientation==="horizontal",c=Zv(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:f)}},10);return $u(r.viewport,c),$u(r.content,c),s.jsx(Mn,{present:n||o,children:s.jsx(Pk,{"data-state":o?"visible":"hidden",...a,ref:t})})}),Pk=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ia(Ko,e.__scopeScrollArea),o=m.useRef(null),i=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=bL(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function d(h,y){return jee(h,i.current,l,y)}return r==="horizontal"?s.jsx(vee,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollLeft,y=hP(h,l,a.dir);o.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=d(h,a.dir))}}):r==="vertical"?s.jsx(xee,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollTop,y=hP(h,l);o.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=d(h))}}):null}),vee=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,o=Ia(Ko,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=ct(t,c,o.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(yL,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Qv(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),SL(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ey(i.paddingLeft),paddingEnd:ey(i.paddingRight)}})}})}),xee=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,o=Ia(Ko,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=ct(t,c,o.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(yL,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Qv(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),SL(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ey(i.paddingTop),paddingEnd:ey(i.paddingBottom)}})}})}),[bee,gL]=dL(Ko),yL=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:d,...h}=e,y=Ia(Ko,r),[v,p]=m.useState(null),g=ct(t,E=>p(E)),x=m.useRef(null),b=m.useRef(""),w=y.viewport,S=n.content-n.viewport,j=Ot(f),k=Ot(c),_=Zv(d,10);function N(E){if(x.current){const A=E.clientX-x.current.left,T=E.clientY-x.current.top;u({x:A,y:T})}}return m.useEffect(()=>{const E=A=>{const T=A.target;(v==null?void 0:v.contains(T))&&j(A,S)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,v,S,j]),m.useEffect(k,[n,k]),$u(v,_),$u(y.content,_),s.jsx(bee,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:Ot(o),onThumbPointerUp:Ot(i),onThumbPositionChange:k,onThumbPointerDown:Ot(l),children:s.jsx(Ke.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:Ie(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),x.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),N(E))}),onPointerMove:Ie(e.onPointerMove,N),onPointerUp:Ie(e.onPointerUp,E=>{const A=E.target;A.hasPointerCapture(E.pointerId)&&A.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=b.current,y.viewport&&(y.viewport.style.scrollBehavior=""),x.current=null})})})}),Zg="ScrollAreaThumb",vL=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=gL(Zg,e.__scopeScrollArea);return s.jsx(Mn,{present:r||a.hasThumb,children:s.jsx(wee,{ref:t,...n})})}),wee=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,o=Ia(Zg,r),i=gL(Zg,r),{onThumbPositionChange:l}=i,c=ct(t,d=>i.onThumbChange(d)),u=m.useRef(),f=Zv(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const d=o.viewport;if(d){const h=()=>{if(f(),!u.current){const y=_ee(d,l);u.current=y,l()}};return l(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[o.viewport,f,l]),s.jsx(Ke.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ie(e.onPointerDownCapture,d=>{const y=d.target.getBoundingClientRect(),v=d.clientX-y.left,p=d.clientY-y.top;i.onThumbPointerDown({x:v,y:p})}),onPointerUp:Ie(e.onPointerUp,i.onThumbPointerUp)})});vL.displayName=Zg;var Ak="ScrollAreaCorner",xL=m.forwardRef((e,t)=>{const r=Ia(Ak,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(See,{...e,ref:t}):null});xL.displayName=Ak;var See=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ia(Ak,r),[o,i]=m.useState(0),[l,c]=m.useState(0),u=!!(o&&l);return $u(a.scrollbarX,()=>{var d;const f=((d=a.scrollbarX)==null?void 0:d.offsetHeight)||0;a.onCornerHeightChange(f),c(f)}),$u(a.scrollbarY,()=>{var d;const f=((d=a.scrollbarY)==null?void 0:d.offsetWidth)||0;a.onCornerWidthChange(f),i(f)}),u?s.jsx(Ke.div,{...n,ref:t,style:{width:o,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ey(e){return e?parseInt(e,10):0}function bL(e,t){const r=e/t;return isNaN(r)?0:r}function Qv(e){const t=bL(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function jee(e,t,r,n="ltr"){const a=Qv(r),o=a/2,i=t||o,l=a-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,d=n==="ltr"?[0,f]:[f*-1,0];return wL([c,u],d)(e)}function hP(e,t,r="ltr"){const n=Qv(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,l=o-n,c=r==="ltr"?[0,i]:[i*-1,0],u=gh(e,c);return wL([0,i],[0,l])(u)}function wL(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function SL(e,t){return e>0&&e<t}var _ee=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&t(),r=o,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Zv(e,t){const r=Ot(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function $u(e,t){const r=Ot(t);Er(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}function kee(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const a=m.Children.only(n);return m.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var jL=fL,Nee=mL,Eee=xL;const ty=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(jL,{ref:n,className:fe("relative overflow-hidden",e),...r,children:[s.jsx(Nee,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(_L,{}),s.jsx(Eee,{})]}));ty.displayName=jL.displayName;const _L=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(Ck,{ref:n,orientation:t,className:fe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(vL,{className:"relative flex-1 rounded-full bg-border"})}));_L.displayName=Ck.displayName;const mP=768;function ma(){const[e,t]=m.useState(window.innerWidth<mP);return m.useEffect(()=>{function r(){t(window.innerWidth<mP)}return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e}const Qr=[{name:"Afghanistan",flag:"",code:"AF",dial_code:"+93"},{name:"land Islands",flag:"",code:"AX",dial_code:"+358"},{name:"Albania",flag:"",code:"AL",dial_code:"+355"},{name:"Algeria",flag:"",code:"DZ",dial_code:"+213"},{name:"American Samoa",flag:"",code:"AS",dial_code:"+1684"},{name:"Andorra",flag:"",code:"AD",dial_code:"+376"},{name:"Angola",flag:"",code:"AO",dial_code:"+244"},{name:"Anguilla",flag:"",code:"AI",dial_code:"+1264"},{name:"Antarctica",flag:"",code:"AQ",dial_code:"+672"},{name:"Antigua and Barbuda",flag:"",code:"AG",dial_code:"+1268"},{name:"Argentina",flag:"",code:"AR",dial_code:"+54"},{name:"Armenia",flag:"",code:"AM",dial_code:"+374"},{name:"Aruba",flag:"",code:"AW",dial_code:"+297"},{name:"Australia",flag:"",code:"AU",dial_code:"+61"},{name:"Austria",flag:"",code:"AT",dial_code:"+43"},{name:"Azerbaijan",flag:"",code:"AZ",dial_code:"+994"},{name:"Bahamas",flag:"",code:"BS",dial_code:"+1242"},{name:"Bahrain",flag:"",code:"BH",dial_code:"+973"},{name:"Bangladesh",flag:"",code:"BD",dial_code:"+880"},{name:"Barbados",flag:"",code:"BB",dial_code:"+1246"},{name:"Belarus",flag:"",code:"BY",dial_code:"+375"},{name:"Belgium",flag:"",code:"BE",dial_code:"+32"},{name:"Belize",flag:"",code:"BZ",dial_code:"+501"},{name:"Benin",flag:"",code:"BJ",dial_code:"+229"},{name:"Bermuda",flag:"",code:"BM",dial_code:"+1441"},{name:"Bhutan",flag:"",code:"BT",dial_code:"+975"},{name:"Bolivia",flag:"",code:"BO",dial_code:"+591"},{name:"Bosnia and Herzegovina",flag:"",code:"BA",dial_code:"+387"},{name:"Botswana",flag:"",code:"BW",dial_code:"+267"},{name:"Bouvet Island",flag:"",code:"BV",dial_code:"+47"},{name:"Brazil",flag:"",code:"BR",dial_code:"+55"},{name:"British Indian Ocean Territory",flag:"",code:"IO",dial_code:"+246"},{name:"Brunei Darussalam",flag:"",code:"BN",dial_code:"+673"},{name:"Bulgaria",flag:"",code:"BG",dial_code:"+359"},{name:"Burkina Faso",flag:"",code:"BF",dial_code:"+226"},{name:"Burundi",flag:"",code:"BI",dial_code:"+257"},{name:"Cambodia",flag:"",code:"KH",dial_code:"+855"},{name:"Cameroon",flag:"",code:"CM",dial_code:"+237"},{name:"Canada",flag:"",code:"CA",dial_code:"+1"},{name:"Cape Verde",flag:"",code:"CV",dial_code:"+238"},{name:"Cayman Islands",flag:"",code:"KY",dial_code:"+345"},{name:"Central African Republic",flag:"",code:"CF",dial_code:"+236"},{name:"Chad",flag:"",code:"TD",dial_code:"+235"},{name:"Chile",flag:"",code:"CL",dial_code:"+56"},{name:"China",flag:"",code:"CN",dial_code:"+86"},{name:"Christmas Island",flag:"",code:"CX",dial_code:"+61"},{name:"Cocos (Keeling) Islands",flag:"",code:"CC",dial_code:"+61"},{name:"Colombia",flag:"",code:"CO",dial_code:"+57"},{name:"Comoros",flag:"",code:"KM",dial_code:"+269"},{name:"Congo",flag:"",code:"CG",dial_code:"+242"},{name:"Congo, The Democratic Republic of the",flag:"",code:"CD",dial_code:"+243"},{name:"Cook Islands",flag:"",code:"CK",dial_code:"+682"},{name:"Costa Rica",flag:"",code:"CR",dial_code:"+506"},{name:"Cote d'Ivoire",flag:"",code:"CI",dial_code:"+225"},{name:"Croatia",flag:"",code:"HR",dial_code:"+385"},{name:"Cuba",flag:"",code:"CU",dial_code:"+53"},{name:"Cyprus",flag:"",code:"CY",dial_code:"+357"},{name:"Czech Republic",flag:"",code:"CZ",dial_code:"+420"},{name:"Denmark",flag:"",code:"DK",dial_code:"+45"},{name:"Djibouti",flag:"",code:"DJ",dial_code:"+253"},{name:"Dominica",flag:"",code:"DM",dial_code:"+1767"},{name:"Dominican Republic",flag:"",code:"DO",dial_code:"+1849"},{name:"Ecuador",flag:"",code:"EC",dial_code:"+593"},{name:"Egypt",flag:"",code:"EG",dial_code:"+20"},{name:"El Salvador",flag:"",code:"SV",dial_code:"+503"},{name:"Equatorial Guinea",flag:"",code:"GQ",dial_code:"+240"},{name:"Eritrea",flag:"",code:"ER",dial_code:"+291"},{name:"Estonia",flag:"",code:"EE",dial_code:"+372"},{name:"Ethiopia",flag:"",code:"ET",dial_code:"+251"},{name:"Falkland Islands (Malvinas)",flag:"",code:"FK",dial_code:"+500"},{name:"Faroe Islands",flag:"",code:"FO",dial_code:"+298"},{name:"Fiji",flag:"",code:"FJ",dial_code:"+679"},{name:"Finland",flag:"",code:"FI",dial_code:"+358"},{name:"France",flag:"",code:"FR",dial_code:"+33"},{name:"French Guiana",flag:"",code:"GF",dial_code:"+594"},{name:"French Polynesia",flag:"",code:"PF",dial_code:"+689"},{name:"French Southern Territories",flag:"",code:"TF",dial_code:"+262"},{name:"Gabon",flag:"",code:"GA",dial_code:"+241"},{name:"Gambia",flag:"",code:"GM",dial_code:"+220"},{name:"Georgia",flag:"",code:"GE",dial_code:"+995"},{name:"Germany",flag:"",code:"DE",dial_code:"+49"},{name:"Ghana",flag:"",code:"GH",dial_code:"+233"},{name:"Gibraltar",flag:"",code:"GI",dial_code:"+350"},{name:"Greece",flag:"",code:"GR",dial_code:"+30"},{name:"Greenland",flag:"",code:"GL",dial_code:"+299"},{name:"Grenada",flag:"",code:"GD",dial_code:"+1473"},{name:"Guadeloupe",flag:"",code:"GP",dial_code:"+590"},{name:"Guam",flag:"",code:"GU",dial_code:"+1671"},{name:"Guatemala",flag:"",code:"GT",dial_code:"+502"},{name:"Guernsey",flag:"",code:"GG",dial_code:"+44"},{name:"Guinea",flag:"",code:"GN",dial_code:"+224"},{name:"Guinea-Bissau",flag:"",code:"GW",dial_code:"+245"},{name:"Guyana",flag:"",code:"GY",dial_code:"+592"},{name:"Haiti",flag:"",code:"HT",dial_code:"+509"},{name:"Heard Island and Mcdonald Islands",flag:"",code:"HM",dial_code:"+672"},{name:"Holy See (Vatican City State)",flag:"",code:"VA",dial_code:"+379"},{name:"Honduras",flag:"",code:"HN",dial_code:"+504"},{name:"Hong Kong",flag:"",code:"HK",dial_code:"+852"},{name:"Hungary",flag:"",code:"HU",dial_code:"+36"},{name:"Iceland",flag:"",code:"IS",dial_code:"+354"},{name:"India",flag:"",code:"IN",dial_code:"+91"},{name:"Indonesia",flag:"",code:"ID",dial_code:"+62"},{name:"Iran, Islamic Republic of",flag:"",code:"IR",dial_code:"+98"},{name:"Iraq",flag:"",code:"IQ",dial_code:"+964"},{name:"Ireland",flag:"",code:"IE",dial_code:"+353"},{name:"Isle of Man",flag:"",code:"IM",dial_code:"+44"},{name:"Israel",flag:"",code:"IL",dial_code:"+972"},{name:"Italy",flag:"",code:"IT",dial_code:"+39"},{name:"Jamaica",flag:"",code:"JM",dial_code:"+1876"},{name:"Japan",flag:"",code:"JP",dial_code:"+81"},{name:"Jersey",flag:"",code:"JE",dial_code:"+44"},{name:"Jordan",flag:"",code:"JO",dial_code:"+962"},{name:"Kazakhstan",flag:"",code:"KZ",dial_code:"+7"},{name:"Kenya",flag:"",code:"KE",dial_code:"+254"},{name:"Kiribati",flag:"",code:"KI",dial_code:"+686"},{name:"Korea, Democratic People's Republic of",flag:"",code:"KP",dial_code:"+850"},{name:"Korea, Republic of",flag:"",code:"KR",dial_code:"+82"},{name:"Kuwait",flag:"",code:"KW",dial_code:"+965"},{name:"Kyrgyzstan",flag:"",code:"KG",dial_code:"+996"},{name:"Lao People's Democratic Republic",flag:"",code:"LA",dial_code:"+856"},{name:"Latvia",flag:"",code:"LV",dial_code:"+371"},{name:"Lebanon",flag:"",code:"LB",dial_code:"+961"},{name:"Lesotho",flag:"",code:"LS",dial_code:"+266"},{name:"Liberia",flag:"",code:"LR",dial_code:"+231"},{name:"Libyan Arab Jamahiriya",flag:"",code:"LY",dial_code:"+218"},{name:"Liechtenstein",flag:"",code:"LI",dial_code:"+423"},{name:"Lithuania",flag:"",code:"LT",dial_code:"+370"},{name:"Luxembourg",flag:"",code:"LU",dial_code:"+352"},{name:"Macao",flag:"",code:"MO",dial_code:"+853"},{name:"Macedonia, The Former Yugoslav Republic of",flag:"",code:"MK",dial_code:"+389"},{name:"Madagascar",flag:"",code:"MG",dial_code:"+261"},{name:"Malawi",flag:"",code:"MW",dial_code:"+265"},{name:"Malaysia",flag:"",code:"MY",dial_code:"+60"},{name:"Maldives",flag:"",code:"MV",dial_code:"+960"},{name:"Mali",flag:"",code:"ML",dial_code:"+223"},{name:"Malta",flag:"",code:"MT",dial_code:"+356"},{name:"Marshall Islands",flag:"",code:"MH",dial_code:"+692"},{name:"Martinique",flag:"",code:"MQ",dial_code:"+596"},{name:"Mauritania",flag:"",code:"MR",dial_code:"+222"},{name:"Mauritius",flag:"",code:"MU",dial_code:"+230"},{name:"Mayotte",flag:"",code:"YT",dial_code:"+262"},{name:"Mexico",flag:"",code:"MX",dial_code:"+52"},{name:"Micronesia, Federated States of",flag:"",code:"FM",dial_code:"+691"},{name:"Moldova, Republic of",flag:"",code:"MD",dial_code:"+373"},{name:"Monaco",flag:"",code:"MC",dial_code:"+377"},{name:"Mongolia",flag:"",code:"MN",dial_code:"+976"},{name:"Montserrat",flag:"",code:"MS",dial_code:"+1664"},{name:"Morocco",flag:"",code:"MA",dial_code:"+212"},{name:"Mozambique",flag:"",code:"MZ",dial_code:"+258"},{name:"Myanmar",flag:"",code:"MM",dial_code:"+95"},{name:"Namibia",flag:"",code:"NA",dial_code:"+264"},{name:"Nauru",flag:"",code:"NR",dial_code:"+674"},{name:"Nepal",flag:"",code:"NP",dial_code:"+977"},{name:"Netherlands",flag:"",code:"NL",dial_code:"+31"},{name:"Netherlands Antilles",flag:"",code:"AN",dial_code:"+599"},{name:"New Caledonia",flag:"",code:"NC",dial_code:"+687"},{name:"New Zealand",flag:"",code:"NZ",dial_code:"+64"},{name:"Nicaragua",flag:"",code:"NI",dial_code:"+505"},{name:"Niger",flag:"",code:"NE",dial_code:"+227"},{name:"Nigeria",flag:"",code:"NG",dial_code:"+234"},{name:"Niue",flag:"",code:"NU",dial_code:"+683"},{name:"Norfolk Island",flag:"",code:"NF",dial_code:"+672"},{name:"Northern Mariana Islands",flag:"",code:"MP",dial_code:"+1670"},{name:"Norway",flag:"",code:"NO",dial_code:"+47"},{name:"Oman",flag:"",code:"OM",dial_code:"+968"},{name:"Pakistan",flag:"",code:"PK",dial_code:"+92"},{name:"Palau",flag:"",code:"PW",dial_code:"+680"},{name:"Palestinian Territory, Occupied",flag:"",code:"PS",dial_code:"+970"},{name:"Panama",flag:"",code:"PA",dial_code:"+507"},{name:"Papua New Guinea",flag:"",code:"PG",dial_code:"+675"},{name:"Paraguay",flag:"",code:"PY",dial_code:"+595"},{name:"Peru",flag:"",code:"PE",dial_code:"+51"},{name:"Philippines",flag:"",code:"PH",dial_code:"+63"},{name:"Pitcairn",flag:"",code:"PN",dial_code:"+870"},{name:"Poland",flag:"",code:"PL",dial_code:"+48"},{name:"Portugal",flag:"",code:"PT",dial_code:"+351"},{name:"Puerto Rico",flag:"",code:"PR",dial_code:"+1939"},{name:"Qatar",flag:"",code:"QA",dial_code:"+974"},{name:"Reunion",flag:"",code:"RE",dial_code:"+262"},{name:"Romania",flag:"",code:"RO",dial_code:"+40"},{name:"Russia",flag:"",code:"RU",dial_code:"+7"},{name:"Rwanda",flag:"",code:"RW",dial_code:"+250"},{name:"Saint Helena",flag:"",code:"SH",dial_code:"+290"},{name:"Saint Kitts and Nevis",flag:"",code:"KN",dial_code:"+1869"},{name:"Saint Lucia",flag:"",code:"LC",dial_code:"+1758"},{name:"Saint Pierre and Miquelon",flag:"",code:"PM",dial_code:"+508"},{name:"Saint Vincent and the Grenadines",flag:"",code:"VC",dial_code:"+1784"},{name:"Samoa",flag:"",code:"WS",dial_code:"+685"},{name:"San Marino",flag:"",code:"SM",dial_code:"+378"},{name:"Sao Tome and Principe",flag:"",code:"ST",dial_code:"+239"},{name:"Saudi Arabia",flag:"",code:"SA",dial_code:"+966"},{name:"Senegal",flag:"",code:"SN",dial_code:"+221"},{name:"Serbia and Montenegro",flag:"",code:"CS",dial_code:"+381"},{name:"Seychelles",flag:"",code:"SC",dial_code:"+248"},{name:"Sierra Leone",flag:"",code:"SL",dial_code:"+232"},{name:"Singapore",flag:"",code:"SG",dial_code:"+65"},{name:"Slovakia",flag:"",code:"SK",dial_code:"+421"},{name:"Slovenia",flag:"",code:"SI",dial_code:"+386"},{name:"Solomon Islands",flag:"",code:"SB",dial_code:"+677"},{name:"Somalia",flag:"",code:"SO",dial_code:"+252"},{name:"South Africa",flag:"",code:"ZA",dial_code:"+27"},{name:"South Georgia and the South Sandwich Islands",flag:"",code:"GS",dial_code:"+500"},{name:"Spain",flag:"",code:"ES",dial_code:"+34"},{name:"Sri Lanka",flag:"",code:"LK",dial_code:"+94"},{name:"Sudan",flag:"",code:"SD",dial_code:"+249"},{name:"Suriname",flag:"",code:"SR",dial_code:"+597"},{name:"Svalbard and Jan Mayen",flag:"",code:"SJ",dial_code:"+47"},{name:"Swaziland",flag:"",code:"SZ",dial_code:"+268"},{name:"Sweden",flag:"",code:"SE",dial_code:"+46"},{name:"Switzerland",flag:"",code:"CH",dial_code:"+41"},{name:"Syrian Arab Republic",flag:"",code:"SY",dial_code:"+963"},{name:"Taiwan, Province of China",flag:"",code:"TW",dial_code:"+886"},{name:"Tajikistan",flag:"",code:"TJ",dial_code:"+992"},{name:"Tanzania, United Republic of",flag:"",code:"TZ",dial_code:"+255"},{name:"Thailand",flag:"",code:"TH",dial_code:"+66"},{name:"Timor-Leste",flag:"",code:"TL",dial_code:"+670"},{name:"Togo",flag:"",code:"TG",dial_code:"+228"},{name:"Tokelau",flag:"",code:"TK",dial_code:"+690"},{name:"Tonga",flag:"",code:"TO",dial_code:"+676"},{name:"Trinidad and Tobago",flag:"",code:"TT",dial_code:"+1868"},{name:"Tunisia",flag:"",code:"TN",dial_code:"+216"},{name:"Turkey",flag:"",code:"TR",dial_code:"+90"},{name:"Turkmenistan",flag:"",code:"TM",dial_code:"+993"},{name:"Turks and Caicos Islands",flag:"",code:"TC",dial_code:"+1649"},{name:"Tuvalu",flag:"",code:"TV",dial_code:"+688"},{name:"Uganda",flag:"",code:"UG",dial_code:"+256"},{name:"Ukraine",flag:"",code:"UA",dial_code:"+380"},{name:"United Arab Emirates",flag:"",code:"AE",dial_code:"+971"},{name:"United Kingdom",flag:"",code:"GB",dial_code:"+44"},{name:"United States",flag:"",code:"US",dial_code:"+1"},{name:"United States Minor Outlying Islands",flag:"",code:"UM",dial_code:"+1"},{name:"Uruguay",flag:"",code:"UY",dial_code:"+598"},{name:"Uzbekistan",flag:"",code:"UZ",dial_code:"+998"},{name:"Vanuatu",flag:"",code:"VU",dial_code:"+678"},{name:"Venezuela",flag:"",code:"VE",dial_code:"+58"},{name:"Viet Nam",flag:"",code:"VN",dial_code:"+84"},{name:"Virgin Islands, British",flag:"",code:"VG",dial_code:"+1284"},{name:"Virgin Islands, U.S.",flag:"",code:"VI",dial_code:"+1340"},{name:"Wallis and Futuna",flag:"",code:"WF",dial_code:"+681"},{name:"Western Sahara",flag:"",code:"EH",dial_code:"+212"},{name:"Yemen",flag:"",code:"YE",dial_code:"+967"},{name:"Zambia",flag:"",code:"ZM",dial_code:"+260"},{name:"Zimbabwe",flag:"",code:"ZW",dial_code:"+263"}],pP=({countries:e,onSelect:t,selectedCountry:r})=>s.jsx("div",{className:"space-y-1",children:e.map(n=>s.jsxs("button",{onClick:()=>t(n),className:`w-full text-left px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors flex items-center gap-3 ${(r==null?void 0:r.code)===n.code?"bg-primary/10 text-primary":""}`,children:[s.jsx("span",{className:"text-lg",children:n.flag}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:n.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:n.dial_code})]})]},n.code))}),Cee=({isOpen:e,onClose:t,onSelect:r,selectedCountry:n})=>{const a=ma(),[o,i]=m.useState(""),l=m.useMemo(()=>{if(!o)return Qr;const f=o.toLowerCase();return Qr.filter(d=>d.name.toLowerCase().includes(f)||d.dial_code.includes(o)||d.code.toLowerCase().includes(f))},[o]),c=f=>{r(f),t()},u=()=>{i("")};return a?s.jsx(Kr,{open:e,onOpenChange:t,children:s.jsxs(Gr,{className:"h-[85vh]",children:[s.jsx(Jr,{children:s.jsx(Yr,{children:"Select Country"})}),s.jsx("div",{className:"px-4 pb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(st,{placeholder:"Search countries or dial codes...",value:o,onChange:f=>i(f.target.value),className:"pl-10 pr-10 w-full"}),o&&s.jsx(te,{variant:"ghost",size:"sm",onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:s.jsx(po,{className:"h-4 w-4"})})]})}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx(ty,{className:"h-full px-4",children:s.jsx(pP,{countries:l,onSelect:c,selectedCountry:n})})}),s.jsx("div",{className:"p-4 border-t",children:s.jsx(ss,{asChild:!0,children:s.jsx(te,{variant:"outline",className:"w-full",children:"Cancel"})})})]})}):s.jsx(xn,{open:e,onOpenChange:t,children:s.jsxs(an,{className:"max-w-md max-h-[80vh]",children:[s.jsx(on,{children:s.jsx(sn,{children:"Select Country"})}),s.jsx("div",{className:"mt-4 pb-4",children:s.jsxs("div",{className:"relative w-full",children:[s.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(st,{placeholder:"Search countries or dial codes...",value:o,onChange:f=>i(f.target.value),className:"pl-10 pr-10 w-full"}),o&&s.jsx(te,{variant:"ghost",size:"sm",onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:s.jsx(po,{className:"h-4 w-4"})})]})}),s.jsx("div",{className:"overflow-hidden",children:s.jsx(ty,{className:"h-[400px]",children:s.jsx(pP,{countries:l,onSelect:c,selectedCountry:n})})})]})})},kL=({value:e,onChange:t,placeholder:r="Select country",className:n=""})=>{const[a,o]=m.useState(!1),i=Qr.find(c=>c.code==="GE"),l=e||i;return s.jsxs(s.Fragment,{children:[s.jsxs(te,{variant:"outline",role:"combobox","aria-expanded":a,className:`justify-between shrink-0 ${n}`,onClick:()=>o(!0),children:[l?s.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[s.jsx("span",{className:"text-lg shrink-0",children:l.flag}),s.jsx("span",{className:"text-muted-foreground whitespace-nowrap",children:l.dial_code})]}):r,s.jsx(sX,{className:"ml-1.5 h-4 w-4 shrink-0 opacity-50 text-muted-foreground"})]}),s.jsx(Cee,{isOpen:a,onClose:()=>o(!1),onSelect:t,selectedCountry:l})]})},Pee=()=>{const e=tr(),[t,r]=m.useState(!1),[n,a]=m.useState(Qr.find(E=>E.code==="GE")),[o,i]=m.useState(""),[l,c]=m.useState(""),[u,f]=m.useState(""),[d,h]=m.useState(""),[y,v]=m.useState(""),[p,g]=m.useState(!1),[x,b]=m.useState(!1),[w,S]=m.useState(!1),[j,k]=m.useState(!1),_=m.useCallback(E=>new Promise((A,T)=>{const D=new Image;D.onload=()=>A(),D.onerror=()=>T(new Error(`Failed to load image: ${E}`)),D.src=E}),[]);m.useEffect(()=>{(async()=>{try{await Promise.all([_("/lovable-uploads/breneo_logo.png"),_("/lovable-uploads/way.png")])}catch(A){console.warn("Some images failed to preload:",A),k(!0)}})()},[_]);const N=async E=>{E.preventDefault(),g(!0);const A=`${n==null?void 0:n.dial_code}${d}`;try{await Ae.post(ht.AUTH.REGISTER,{first_name:o,last_name:l,email:u,phone_number:A,password:y}),sessionStorage.setItem("tempEmail",u),sessionStorage.setItem("tempPassword",y),e("/email-verification"),se.success("Registration successful! Verify your email.")}catch(T){let D="Registration failed. Please try again.";Rt.isAxiosError(T)&&T.response&&(D=T.response.data.detail||T.response.data.message||T.response.data.error||D),se.error(D)}finally{g(!1)}};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[s.jsxs("div",{className:"flex items-center",children:[!x&&!j&&s.jsx("div",{className:"h-7 w-20 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:s.jsx(Tr,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-7 transition-opacity duration-300 ${x?"opacity-100":"opacity-0"}`,onLoad:()=>b(!0),onError:()=>{k(!0),b(!0)}}),j&&s.jsx("div",{className:"h-7 w-20 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),s.jsx(qo,{})]}),s.jsxs("div",{className:"flex flex-1",children:[s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[!x&&!j&&s.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:s.jsx(Tr,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-10 transition-opacity duration-300 ${x?"opacity-100":"opacity-0"}`,onLoad:()=>b(!0),onError:()=>{k(!0),b(!0)}}),j&&s.jsx("div",{className:"h-10 w-32 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),s.jsx(qo,{})]}),s.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Create Account"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Sign up for your Breneo account"}),s.jsxs("form",{onSubmit:N,className:"space-y-6",children:[s.jsxs("div",{className:"mt-1 flex gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Fe,{htmlFor:"firstName",children:"First Name"}),s.jsx(st,{id:"firstName",placeholder:"John",className:"mt-1 h-12",value:o,onChange:E=>i(E.target.value),required:!0})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Fe,{htmlFor:"lastName",children:"Last Name"}),s.jsx(st,{id:"lastName",placeholder:"Doe",className:"mt-1 h-12",value:l,onChange:E=>c(E.target.value),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"email",children:"Email Address"}),s.jsx(st,{id:"email",type:"email",placeholder:"Enter your email",className:"mt-1 h-12",value:u,onChange:E=>f(E.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"phone",children:"Phone Number"}),s.jsxs("div",{className:"phone-input-container mt-1 flex items-center rounded-md border border-input focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[s.jsx(kL,{value:n,onChange:a,className:"max-w-fit px-3 h-12 border-0 bg-transparent hover:bg-transparent rounded-r-none"}),s.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-border"}),s.jsx(st,{id:"phone",type:"tel",placeholder:"Phone number",className:"flex-1 h-12 border-0 focus-visible:ring-0 focus-visible:ring-offset-0",value:d,onChange:E=>h(E.target.value),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(st,{id:"password",type:t?"text":"password",placeholder:"Create a password",className:"pr-10 h-12",value:y,onChange:E=>v(E.target.value),required:!0}),s.jsx(te,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!t),children:t?s.jsx(mh,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):s.jsx(Ai,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]})]}),s.jsx(te,{type:"submit",className:"w-full h-14",disabled:p,children:p?"Signing Up...":"Sign Up"})]}),s.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Already have an account?"," ",s.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),s.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:s.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!w&&!j&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:s.jsx(Tr,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),s.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${w?"opacity-100":"opacity-0"}`,style:{backgroundImage:w?"url('/lovable-uploads/way.png')":"none"}}),s.jsx("img",{src:"/lovable-uploads/way.png",alt:"",className:"hidden",onLoad:()=>S(!0),onError:()=>{k(!0),S(!0)}}),j&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[s.jsx(Tr,{className:"h-16 w-16 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"Way"})]})})]})})]})]})},sb="https://breneo.onrender.com",Aee=()=>{const e=tr(),[t,r]=m.useState(1),[n,a]=m.useState(""),[o,i]=m.useState(["","","","","",""]),[l,c]=m.useState(""),[u,f]=m.useState(""),[d,h]=m.useState(!1),[y,v]=m.useState(!1),[p,g]=m.useState(!1),x=m.useRef([]),[b,w]=m.useState(!1),[S,j]=m.useState(!1),[k,_]=m.useState(!1),N=m.useCallback(z=>new Promise((F,$)=>{const U=new Image;U.onload=()=>F(),U.onerror=()=>$(new Error(`Failed to load image: ${z}`)),U.src=z}),[]);m.useEffect(()=>{(async()=>{try{await Promise.all([N("/lovable-uploads/breneo_logo.png"),N("/lovable-uploads/future.png")])}catch(F){console.warn("Some images failed to preload:",F),_(!0)}})()},[N]),m.useEffect(()=>{document.title="Reset Password | Breneo"},[]);const E=async z=>{var F,$;z.preventDefault(),g(!0);try{const U=await Rt.post(`${sb}/password-reset/request/`,{email:n});se.success(U.data.message||"Code sent to your email!"),r(2)}catch(U){se.error((($=(F=U.response)==null?void 0:F.data)==null?void 0:$.error)||"Error sending code")}finally{g(!1)}},A=async z=>{var $,U;z.preventDefault();const F=o.join("");if(F.length!==6){se.error("Please enter a 6-digit code.");return}g(!0);try{const P=await Rt.post(`${sb}/password-reset/verify/`,{email:n,code:F});se.success(P.data.message||"Code verified!"),r(3)}catch(P){se.error(((U=($=P.response)==null?void 0:$.data)==null?void 0:U.error)||"Invalid code")}finally{g(!1)}},T=(z,F)=>{var U;if(F&&!/^\d$/.test(F))return;const $=[...o];$[z]=F,i($),F&&z<5&&((U=x.current[z+1])==null||U.focus())},D=(z,F)=>{var $;F.key==="Backspace"&&!o[z]&&z>0&&(($=x.current[z-1])==null||$.focus())},B=async z=>{var F,$;if(z.preventDefault(),l!==u){se.error("Passwords do not match");return}g(!0);try{const U=o.join(""),P=await Rt.post(`${sb}/password-reset/set-new/`,{email:n,code:U,new_password:l,confirm_password:u});se.success(P.data.message||"Password reset successfully!"),e("/auth/login")}catch(U){se.error((($=(F=U.response)==null?void 0:F.data)==null?void 0:$.error)||"Error setting new password")}finally{g(!1)}};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[s.jsxs("div",{className:"flex items-center",children:[!b&&!k&&s.jsx("div",{className:"h-7 w-20 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:s.jsx(Tr,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-7 transition-opacity duration-300 ${b?"opacity-100":"opacity-0"}`,onLoad:()=>w(!0),onError:()=>{_(!0),w(!0)}}),k&&s.jsx("div",{className:"h-7 w-20 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),s.jsx(qo,{})]}),s.jsxs("div",{className:"flex flex-1",children:[s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[!b&&!k&&s.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:s.jsx(Tr,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-10 transition-opacity duration-300 ${b?"opacity-100":"opacity-0"}`,onLoad:()=>w(!0),onError:()=>{_(!0),w(!0)}}),k&&s.jsx("div",{className:"h-10 w-32 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),s.jsx(qo,{})]}),s.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Reset Password"}),t===1&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-muted-foreground mb-8",children:"Enter your email to receive a verification code."}),s.jsxs("form",{onSubmit:E,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"email",children:"Email Address"}),s.jsx(st,{id:"email",type:"email",placeholder:"Enter your email",className:"mt-1 h-12",value:n,onChange:z=>a(z.target.value),required:!0,disabled:p})]}),s.jsx(te,{type:"submit",className:"w-full h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:p,children:p?"Sending Code...":"Send Code"})]})]}),t===2&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-muted-foreground mb-8",children:["A code was sent to ",n,". Please enter it below."]}),s.jsxs("form",{onSubmit:A,className:"space-y-6",children:[s.jsx("div",{className:"w-full sm:w-[23.5rem]",children:s.jsx("div",{className:"flex gap-2 sm:gap-2",children:o.map((z,F)=>s.jsx(st,{ref:$=>x.current[F]=$,type:"text",inputMode:"numeric",className:"flex-1 sm:flex-none h-12 sm:h-14 w-0 sm:w-14 text-center text-xl sm:text-2xl font-semibold",value:z,onChange:$=>T(F,$.target.value),onKeyDown:$=>D(F,$),maxLength:1,required:!0,disabled:p,autoFocus:F===0},F))})}),s.jsx(te,{type:"submit",className:"w-full sm:w-[23.5rem] h-12 sm:h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:p,children:p?"Verifying...":"Verify Code"})]})]}),t===3&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-muted-foreground mb-8",children:"Enter your new password."}),s.jsxs("form",{onSubmit:B,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"newPassword",children:"New Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(st,{id:"newPassword",type:d?"text":"password",placeholder:"Enter new password",className:"pr-10 h-12",value:l,onChange:z=>c(z.target.value),required:!0,disabled:p}),s.jsx(te,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>h(!d),disabled:p,children:d?s.jsx(mh,{className:"h-4 w-4 text-gray-500"}):s.jsx(Ai,{className:"h-4 w-4 text-gray-500"})})]})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(st,{id:"confirmPassword",type:y?"text":"password",placeholder:"Confirm new password",className:"pr-10 h-12",value:u,onChange:z=>f(z.target.value),required:!0,disabled:p}),s.jsx(te,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>v(!y),disabled:p,children:y?s.jsx(mh,{className:"h-4 w-4 text-gray-500"}):s.jsx(Ai,{className:"h-4 w-4 text-gray-500"})})]})]}),s.jsx(te,{type:"submit",className:"w-full h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:p,children:p?"Setting...":"Set New Password"})]})]}),s.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Remembered your password?"," ",s.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),s.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:s.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!S&&!k&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:s.jsx(Tr,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),s.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${S?"opacity-100":"opacity-0"}`,style:{backgroundImage:S?"url('/lovable-uploads/future.png')":"none"}}),s.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>j(!0),onError:()=>{_(!0),j(!0)}}),k&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[s.jsx(Tr,{className:"h-16 w-16 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})},Tee=()=>{var k,_;const e=tr(),t=ha(),{login:r}=lr(),[n,a]=m.useState(["","","","","",""]),[o,i]=m.useState(!1),l=m.useRef([]),[c,u]=m.useState(!1),[f,d]=m.useState(!1),[h,y]=m.useState(!1),v=((k=t.state)==null?void 0:k.email)||sessionStorage.getItem("tempEmail")||sessionStorage.getItem("tempAcademyEmail"),p=sessionStorage.getItem("tempPassword"),g=((_=t.state)==null?void 0:_.isAcademy)||!1,x=m.useCallback(N=>new Promise((E,A)=>{const T=new Image;T.onload=()=>E(),T.onerror=()=>A(new Error(`Failed to load image: ${N}`)),T.src=N}),[]);m.useEffect(()=>{(async()=>{try{await Promise.all([x("/lovable-uploads/breneo_logo.png"),x("/lovable-uploads/future.png")])}catch(E){console.warn("Some images failed to preload:",E),y(!0)}})()},[x]),m.useEffect(()=>{document.title="Email Verification | Breneo"},[]);const b=async()=>{var N,E,A,T,D;if(!v||!p){se.error("Session expired. Please log in manually."),e("/auth/login");return}try{console.log("Attempting auto-login with:",{email:v,passwordLength:p.length}),await r(v,p),se.success("Email verified and logged in!"),sessionStorage.removeItem("tempEmail"),sessionStorage.removeItem("tempPassword")}catch(B){console.error("Auto-login failed:",B),Rt.isAxiosError(B)&&console.error("Login error details:",{status:(N=B.response)==null?void 0:N.status,statusText:(E=B.response)==null?void 0:E.statusText,data:(A=B.response)==null?void 0:A.data,url:(T=B.config)==null?void 0:T.url,method:(D=B.config)==null?void 0:D.method}),se.error("Verification successful, but auto-login failed. Please log in manually."),e("/auth/login")}},w=(N,E)=>{var T;if(E&&!/^\d$/.test(E))return;const A=[...n];A[N]=E,a(A),E&&N<5&&((T=l.current[N+1])==null||T.focus())},S=(N,E)=>{var A;E.key==="Backspace"&&!n[N]&&N>0&&((A=l.current[N-1])==null||A.focus())},j=async N=>{if(N.preventDefault(),!v){se.error("Email missing. Please register again."),e("/auth/signup");return}const E=n.join("");if(E.length!==6){se.error("Please enter a 6-digit code.");return}i(!0);try{const A=g?ht.AUTH.VERIFY_ACADEMY_EMAIL:ht.AUTH.VERIFY_CODE;await Ae.post(A,{email:v,code:E}),g?(se.success("Email verified successfully!"),sessionStorage.removeItem("tempAcademyEmail"),e("/auth/login")):p?await b():(se.success("Email verified successfully!"),sessionStorage.removeItem("tempEmail"),e("/auth/login"))}catch(A){let T="Verification failed. Please try again.",D=!1;if(Rt.isAxiosError(A)&&A.response){const B=A.response.data,z=B.detail||B.message||B.error||Array.isArray(B.email)&&B.email[0]||"";T=typeof z=="string"?z:T,A.response.status===400&&T.toLowerCase().includes("user with this email already exists")&&(D=!0)}D&&!g&&p?(se.info("Verification processed, attempting login..."),await b()):se.error(T)}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[s.jsxs("div",{className:"flex items-center",children:[!c&&!h&&s.jsx("div",{className:"h-7 w-20 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:s.jsx(Tr,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-7 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>{y(!0),u(!0)}}),h&&s.jsx("div",{className:"h-7 w-20 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),s.jsx(qo,{})]}),s.jsxs("div",{className:"flex flex-1",children:[s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[!c&&!h&&s.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:s.jsx(Tr,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-10 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>{y(!0),u(!0)}}),h&&s.jsx("div",{className:"h-10 w-32 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),s.jsx(qo,{})]}),s.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Verify Your Email"}),s.jsxs("p",{className:"text-muted-foreground mb-8",children:["Enter the 6-digit code sent to your email"," ",g&&"(academy registration)"," (",v||"your-email",")"]}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsx("div",{className:"w-full sm:w-[23.5rem]",children:s.jsx("div",{className:"flex gap-2 sm:gap-2",children:n.map((N,E)=>s.jsx(st,{ref:A=>l.current[E]=A,type:"text",inputMode:"numeric",className:"flex-1 sm:flex-none h-12 sm:h-14 w-0 sm:w-14 text-center text-xl sm:text-2xl font-semibold",value:N,onChange:A=>w(E,A.target.value),onKeyDown:A=>S(E,A),maxLength:1,required:!0,disabled:o,autoFocus:E===0},E))})}),s.jsx(te,{type:"submit",className:"w-full sm:w-[23.5rem] h-12 sm:h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:o,children:o?"Verifying...":"Verify Email"})]}),s.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Didn't receive a code?"," ",s.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Back to Login"})]})]})}),s.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:s.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!f&&!h&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:s.jsx(Tr,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),s.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${f?"opacity-100":"opacity-0"}`,style:{backgroundImage:f?"url('/lovable-uploads/future.png')":"none"}}),s.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>d(!0),onError:()=>{y(!0),d(!0)}}),h&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[s.jsx(Tr,{className:"h-16 w-16 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})},je=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fe("rounded-lg border bg-card text-card-foreground",e),...t}));je.displayName="Card";const ot=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fe("flex flex-col space-y-1.5 p-6",e),...t}));ot.displayName="CardHeader";const vt=m.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:fe("text-2xl font-semibold leading-none tracking-tight",e),...t}));vt.displayName="CardTitle";const Cr=m.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));Cr.displayName="CardDescription";const ke=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fe("p-6 pt-0",e),...t}));ke.displayName="CardContent";const Oee=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fe("flex items-center p-6 pt-0",e),...t}));Oee.displayName="CardFooter";const Ree=()=>(m.useEffect(()=>{const e="Email Confirmed | Breneo",t="Your email has been confirmed. You can now log in to your Breneo account.";document.title=e;let r=document.querySelector('meta[name="description"]');r||(r=document.createElement("meta"),r.setAttribute("name","description"),document.head.appendChild(r)),r.setAttribute("content",t);let n=document.querySelector('link[rel="canonical"]');n||(n=document.createElement("link"),n.setAttribute("rel","canonical"),document.head.appendChild(n)),n.setAttribute("href",`${window.location.origin}/email-confirmed`)},[]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("main",{className:"w-full max-w-md px-4",children:[s.jsx("h1",{className:"sr-only",children:"Email confirmation successful"}),s.jsxs(je,{className:"shadow-md",children:[s.jsxs(ot,{className:"text-center pt-8",children:[s.jsx("div",{className:"mx-auto mb-4 rounded-full bg-primary/10 p-3 text-primary",children:s.jsx(eu,{className:"h-8 w-8","aria-hidden":"true"})}),s.jsx("p",{className:"text-xl font-semibold text-foreground",children:"Your email is confirmed"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Thank you! Your account is now verified."})]}),s.jsx(ke,{className:"pb-8 pt-2",children:s.jsx("div",{className:"mt-6",children:s.jsx(te,{asChild:!0,className:"w-full",children:s.jsx(wr,{to:"/auth/login","aria-label":"Go to login page",children:"Go to Login"})})})})]})]})}));function jo({to:e,...t}){const{language:r}=Di(),n=typeof e=="string"?e:e.pathname||"",a=n.startsWith("/auth")||n==="/auth"?e:ba(n,r);return s.jsx(wr,{to:a,...t})}function Tk({collapsed:e,toggleSidebar:t}){const r=ha(),{loading:n,user:a}=lr(),{theme:o,setTheme:i}=Ii(),{language:l,setLanguage:c}=Di(),u=Yl(),[f,d]=I.useState(!1),h=fh(r.pathname),y=l==="ka"?"GEO":"EN",v=r.pathname,p=(a==null?void 0:a.user_type)==="academy"||typeof window<"u"&&localStorage.getItem("userRole")==="academy";if(I.useEffect(()=>{d(!0)},[]),n)return null;const g=()=>{if(!a)return"Member";const{first_name:_,last_name:N,email:E}=a;if(_&&N){const A=T=>T?T.charAt(0).toUpperCase()+T.slice(1).toLowerCase():"";return`${A(_)} ${A(N)}`}return E??"Member"},x=()=>a!=null&&a.first_name&&(a!=null&&a.last_name)?`${a.first_name.charAt(0)}${a.last_name.charAt(0)}`.toUpperCase():a!=null&&a.email?a.email.charAt(0).toUpperCase():"U",b=p?[{icon:P1,label:u.nav.home,href:"/academy/home"}]:[{icon:P1,label:u.nav.home,href:"/home"},{icon:Sr,label:u.nav.jobs,href:"/jobs"},{icon:vX,label:u.nav.courses,href:"/courses"},{icon:l5,label:u.nav.webinars,href:"/webinars"}],w=p?"/academy/profile":"/profile",S=p?"/academy/settings":"/settings",j=p?"/academy/home":"/home",k=[...b,{icon:X3,label:u.nav.profile,href:w}];return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-50 bg-[#F6F9F9]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 border-b border-black/[0.03] dark:border-white/[0.03] px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(jo,{to:j,className:"flex items-center",children:s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:"h-7"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(te,{variant:"ghost",onClick:()=>c(l==="en"?"ka":"en"),className:`relative h-10 px-3 rounded-full !text-gray-500 hover:!text-gray-700 dark:!text-gray-400 dark:hover:!text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:!bg-black/[0.08] dark:hover:!bg-white/[0.05] transition-colors
                         text-sm font-medium flex items-center gap-2`,children:[s.jsx(Ti,{className:"h-4 w-4"}),s.jsx("span",{children:y})]}),s.jsx("button",{onClick:()=>i(o==="dark"?"light":"dark"),className:`h-10 w-10 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:bg-black/[0.08] dark:hover:bg-white/[0.05] transition-colors rounded-full`,children:f&&o==="dark"?s.jsx(yk,{size:20}):s.jsx(Jg,{size:20})}),s.jsx(jo,{to:"/notifications",className:`h-10 w-10 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:bg-black/[0.08] dark:hover:bg-white/[0.05] transition-colors rounded-full`,children:s.jsx(fk,{size:20})})]})]})}),s.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-[#F6F9F9]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 border-t border-black/[0.03] dark:border-white/[0.03]",children:s.jsx("nav",{className:"flex justify-around items-center py-2",children:k.map((_,N)=>{let E=h===_.href;return _.href==="/home"?E=h==="/home"||h==="/dashboard"||v.includes("/home")||v.includes("/dashboard"):_.href==="/academy/home"?E=h==="/academy/home"||h==="/academy/dashboard"||v.includes("/academy/home")||v.includes("/academy/dashboard"):E=h===_.href||v.endsWith(_.href),s.jsxs(jo,{to:_.href,className:fe("flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-200 min-w-0 flex-1 mx-1",E?"text-gray-600":"text-gray-600 hover:text-breneo-blue"),children:[s.jsx(_.icon,{size:20,className:fe("transition-colors duration-200 mb-1",E?"text-breneo-blue":"text-gray-600 group-hover:text-breneo-blue")}),s.jsx("span",{className:fe("text-xs font-medium transition-colors duration-200 text-center",E?"text-gray-600":"text-gray-600 group-hover:text-breneo-blue"),children:_.label})]},N)})})}),s.jsxs("div",{className:fe("hidden md:flex fixed top-4 left-4 bottom-4 z-40 bg-[#FFFFFF] dark:bg-card border border-gray-200 dark:border-border transition-all duration-300 flex-col rounded-2xl",e?"w-20":"w-64"),children:[s.jsx("div",{className:"p-4 flex items-center justify-between border-b border-gray-100 dark:border-border",children:e?s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:"h-5 w-10 object-cover object-left"}):s.jsx(jo,{to:j,className:"flex items-center space-x-2",children:s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:"h-8"})})}),s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx("div",{className:"flex-1 overflow-y-auto pt-8",children:s.jsx("nav",{className:"space-y-2 px-4",children:b.map((_,N)=>{let E=h===_.href;return _.href==="/home"?E=h==="/home"||h==="/dashboard"||v.includes("/home")||v.includes("/dashboard"):_.href==="/academy/home"?E=h==="/academy/home"||h==="/academy/dashboard"||v.includes("/academy/home")||v.includes("/academy/dashboard"):E=h===_.href||v.endsWith(_.href),s.jsxs(jo,{to:_.href,className:fe("flex items-center space-x-4 px-4 py-4 rounded-xl transition-all duration-200 group",E?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[s.jsx(_.icon,{size:22,className:fe("transition-colors duration-200 flex-shrink-0",E?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&s.jsx("span",{className:fe("font-medium text-base transition-colors duration-200",E?"text-breneo-blue":"text-gray-600 group-hover:text-breneo-blue"),children:_.label})]},N)})})}),s.jsxs("div",{className:"px-4 pb-4",children:[s.jsx("div",{className:"border-t border-gray-200 dark:border-border mb-4"}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs(jo,{to:S,className:fe("flex items-center space-x-4 px-4 py-4 rounded-xl transition-all duration-200 group",h===S?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[s.jsx(xm,{size:22,className:fe("flex-shrink-0 transition-colors duration-200",h===S?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&s.jsx("span",{className:"font-medium text-base",children:u.nav.settings})]}),s.jsxs(jo,{to:"/help",className:fe("flex items-center space-x-4 px-4 py-4 rounded-xl transition-all duration-200 group",h==="/help"?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[s.jsx(iX,{size:22,className:fe("flex-shrink-0 transition-colors duration-200",h==="/help"?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&s.jsx("span",{className:"font-medium text-base",children:u.nav.help})]}),!p&&s.jsx(jo,{to:"/subscription",className:fe("flex items-center justify-between px-3 py-2 rounded-md transition-all duration-200 group","bg-gradient-to-r from-breneo-blue/10 to-purple-500/10 dark:from-breneo-blue/20 dark:to-purple-500/20","border border-breneo-blue/20 dark:border-breneo-blue/30","hover:from-breneo-blue/15 hover:to-purple-500/15 dark:hover:from-breneo-blue/25 dark:hover:to-purple-500/25",e&&"justify-center px-2"),children:e?s.jsx(Gg,{size:14,className:"text-breneo-blue"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[s.jsx(Gg,{size:14,className:"text-breneo-blue flex-shrink-0"}),s.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-200 truncate",children:u.subscription.upgrade})]}),s.jsx(ja,{size:14,className:"text-breneo-blue flex-shrink-0 group-hover:translate-x-0.5 transition-transform"})]})})]}),s.jsx("div",{className:"border-t border-gray-200 dark:border-border mt-4 pt-4",children:s.jsxs(jo,{to:w,className:"flex items-center space-x-4 px-4 py-2 rounded-xl hover:bg-gray-50 transition-all duration-200 group",children:[s.jsx("div",{className:fe("flex items-center justify-center w-8 h-8 rounded-[12px] text-sm font-semibold shrink-0",a!=null&&a.profile_image?"overflow-hidden":"bg-[#AAF0FF] text-[#099DBC]"),children:a!=null&&a.profile_image?s.jsx("img",{src:a.profile_image,alt:"Profile",className:"w-full h-full object-cover rounded-[12px]"}):x()}),!e&&s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-sm text-gray-700",children:g()}),s.jsx("p",{className:"text-xs text-gray-400",children:a==null?void 0:a.email})]})]})})]})]})]})]})}const NL=e=>/^(\/(en|ka))?\/jobs\/[^/]+$/.test(e),EL=e=>/^(\/(en|ka))?\/course\/[^/]+$/.test(e),$ee=e=>e.includes("/skill-path"),Mee=(e,t,r)=>r?NL(e)||EL(e)?null:e.startsWith("/home")||e.startsWith("/academy/home")?s.jsxs(s.Fragment,{children:[r.dashboard.welcome,","," ",s.jsx("span",{className:"font-bold",children:t||"User"}),"!"]}):e.startsWith("/dashboard")||e.startsWith("/academy/dashboard")?s.jsxs(s.Fragment,{children:[r.dashboard.welcome,","," ",s.jsx("span",{className:"font-bold",children:t||"User"}),"!"]}):e.startsWith("/jobs")?r.jobs.title:e.startsWith("/courses")?r.courses.title:e.startsWith("/settings")||e.startsWith("/academy/settings")?r.settings.title:e.startsWith("/profile")||e.startsWith("/academy/profile")?r.profile.title:e.startsWith("/notifications")?r.notifications.title:e.startsWith("/skill-test")?r.skillTest.title:e.startsWith("/skill-path")?null:r.nav.home:"Home";function Iee({sidebarCollapsed:e,isVisible:t}){var w;const r=ha(),n=tr(),{user:a}=lr(),{theme:o,setTheme:i}=Ii(),{language:l,setLanguage:c}=Di(),u=Yl(),[f,d]=I.useState(!1),h=(a==null?void 0:a.first_name)||((w=a==null?void 0:a.email)==null?void 0:w.split("@")[0])||"User",y=fh(r.pathname),v=Mee(y,h,u),p=NL(y),g=EL(y),x=$ee(y),b=l==="ka"?"GEO":"EN";return I.useEffect(()=>{d(!0)},[]),s.jsx("header",{className:fe("fixed top-0 right-0 z-30","bg-gradient-to-b from-breneo-lightgray dark:from-background to-transparent","transition-opacity duration-300 ease-in-out",e?"md:left-24":"md:left-[17rem]","left-0",t?"opacity-100":"opacity-0 pointer-events-none"),children:s.jsxs("div",{className:"flex items-center justify-between px-5 sm:px-9 md:px-12 lg:px-14 pt-6 pb-4",children:[s.jsx("div",{className:"hidden md:flex items-center space-x-3",children:p||g||x?s.jsxs(te,{variant:"ghost",onClick:()=>n(-1),className:`relative h-10 px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                         text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200
                         text-sm font-medium flex items-center gap-2 transition-colors`,children:[s.jsx(Tf,{className:"h-4 w-4"}),s.jsx("span",{children:u.common.back})]}):v&&s.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:v})}),s.jsx("div",{className:"md:hidden"}),s.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[s.jsxs(te,{variant:"ghost",onClick:()=>c(l==="en"?"ka":"en"),className:`relative h-10 px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                       text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200
                       text-sm font-medium flex items-center gap-2 transition-colors`,children:[s.jsx(Ti,{className:"h-4 w-4"}),s.jsx("span",{children:b})]}),s.jsxs(te,{variant:"ghost",size:"icon",onClick:()=>i(o==="dark"?"light":"dark"),className:`relative h-10 w-10 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                       text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors`,children:[f&&o==="dark"?s.jsx(yk,{className:"h-5 w-5"}):s.jsx(Jg,{className:"h-5 w-5"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),s.jsx(jo,{to:"/notifications",children:s.jsxs(te,{variant:"ghost",size:"icon",className:`relative h-10 w-10 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                         text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors`,children:[s.jsx(fk,{className:"h-5 w-5"}),s.jsx("span",{className:"sr-only",children:"Notifications"})]})})]})]})})}function At({children:e,showSidebar:t=!0,showHeader:r=!0,background:n="default"}){const[a,o]=m.useState(!1),[i,l]=m.useState(!0),c=m.useRef(null),u=()=>{o(f=>!f)};return m.useEffect(()=>{const f=c.current;if(!f)return;const d=()=>{f.scrollTop>50?l(!1):l(!0)};return f.addEventListener("scroll",d),()=>{f.removeEventListener("scroll",d)}},[]),s.jsxs("div",{className:fe("h-screen overflow-hidden",n==="white"?"bg-white":"bg-breneo-lightgray"),children:[t&&s.jsx(Tk,{collapsed:a,toggleSidebar:u}),r&&s.jsx(Iee,{sidebarCollapsed:a,isVisible:i}),s.jsx("main",{ref:c,className:fe("h-full overflow-y-auto transition-all duration-300",t&&(a?"md:ml-24":"md:ml-[17rem]"),r&&"pt-24 pb-32 md:pt-24 md:pb-0",(t||r)&&"px-3 md:px-6"),children:s.jsx("div",{className:"h-full",children:e})})]})}function Pt({className:e,...t}){return s.jsx("div",{className:fe("animate-pulse rounded-md bg-muted",e),...t})}const Lee=Fv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jr({className:e,variant:t,...r}){return s.jsx("div",{className:fe(Lee({variant:t}),e),...r})}const Dee="modulepreload",Fee=function(e){return"/"+e},gP={},jm=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Fee(c),c in gP)return;gP[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Dee,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,y)=>{d.addEventListener("load",h),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},Bee=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>jm(async()=>{const{default:n}=await Promise.resolve().then(()=>vd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ok extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Uee extends Ok{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zee extends Ok{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class qee extends Ok{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var M1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(M1||(M1={}));var Wee=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Hee{constructor(t,{headers:r={},customFetch:n,region:a=M1.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Bee(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Wee(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const f=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new Uee(v)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new zee(f);if(!f.ok)throw new qee(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return h==="application/json"?y=yield f.json():h==="application/octet-stream"?y=yield f.blob():h==="text/event-stream"?y=f:h==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null}}catch(a){return{data:null,error:a}}})}}var zn={},Rk={},e0={},_m={},t0={},r0={},Vee=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mu=Vee();const Kee=Mu.fetch,CL=Mu.fetch.bind(Mu),PL=Mu.Headers,Gee=Mu.Request,Jee=Mu.Response,vd=Object.freeze(Object.defineProperty({__proto__:null,Headers:PL,Request:Gee,Response:Jee,default:CL,fetch:Kee},Symbol.toStringTag,{value:"Module"})),Yee=B9(vd);var n0={};Object.defineProperty(n0,"__esModule",{value:!0});let Xee=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};n0.default=Xee;var AL=wn&&wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r0,"__esModule",{value:!0});const Qee=AL(Yee),Zee=AL(n0);let ete=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Qee.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,f=null,d=null,h=o.status,y=o.statusText;if(o.ok){if(this.method!=="HEAD"){const x=await o.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=x:f=JSON.parse(x))}const p=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),g=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&g&&g.length>1&&(d=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const p=await o.text();try{u=JSON.parse(p),Array.isArray(u)&&o.status===404&&(f=[],u=null,h=200,y="OK")}catch{o.status===404&&p===""?(h=204,y="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,y="OK"),u&&this.shouldThrowOnError)throw new Zee.default(u)}return{error:u,data:f,count:d,status:h,statusText:y}});return this.shouldThrowOnError||(a=a.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};r0.default=ete;var tte=wn&&wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t0,"__esModule",{value:!0});const rte=tte(r0);let nte=class extends rte.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:o=a}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const o=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};t0.default=nte;var ate=wn&&wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_m,"__esModule",{value:!0});const ote=ate(t0);let ste=class extends ote.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};_m.default=ste;var ite=wn&&wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e0,"__esModule",{value:!0});const Yd=ite(_m);let lte=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Yd.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Yd.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new Yd.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Yd.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Yd.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};e0.default=lte;var a0={},o0={};Object.defineProperty(o0,"__esModule",{value:!0});o0.version=void 0;o0.version="0.0.0-automated";Object.defineProperty(a0,"__esModule",{value:!0});a0.DEFAULT_HEADERS=void 0;const cte=o0;a0.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${cte.version}`};var TL=wn&&wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rk,"__esModule",{value:!0});const ute=TL(e0),dte=TL(_m),fte=a0;let hte=class OL{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},fte.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new ute.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new OL(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(i=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new dte.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Rk.default=hte;var xd=wn&&wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zn,"__esModule",{value:!0});zn.PostgrestError=zn.PostgrestBuilder=zn.PostgrestTransformBuilder=zn.PostgrestFilterBuilder=zn.PostgrestQueryBuilder=zn.PostgrestClient=void 0;const RL=xd(Rk);zn.PostgrestClient=RL.default;const $L=xd(e0);zn.PostgrestQueryBuilder=$L.default;const ML=xd(_m);zn.PostgrestFilterBuilder=ML.default;const IL=xd(t0);zn.PostgrestTransformBuilder=IL.default;const LL=xd(r0);zn.PostgrestBuilder=LL.default;const DL=xd(n0);zn.PostgrestError=DL.default;var mte=zn.default={PostgrestClient:RL.default,PostgrestQueryBuilder:$L.default,PostgrestFilterBuilder:ML.default,PostgrestTransformBuilder:IL.default,PostgrestBuilder:LL.default,PostgrestError:DL.default};const{PostgrestClient:pte,PostgrestQueryBuilder:u$e,PostgrestFilterBuilder:d$e,PostgrestTransformBuilder:f$e,PostgrestBuilder:h$e,PostgrestError:m$e}=mte;let I1;typeof window>"u"?I1=require("ws"):I1=window.WebSocket;const gte=I1,yte="2.11.10",vte={"X-Client-Info":`realtime-js/${yte}`},xte="1.0.0",FL=1e4,bte=1e3;var nu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(nu||(nu={}));var kn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kn||(kn={}));var Ja;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ja||(Ja={}));var L1;(function(e){e.websocket="websocket"})(L1||(L1={}));var ol;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ol||(ol={}));class wte{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+a));i=i+a;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class BL{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Qt||(Qt={}));const yP=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=Ste(i,e,t,a),o),{})},Ste=(e,t,r,n)=>{const a=t.find(l=>l.name===e),o=a==null?void 0:a.type,i=r[e];return o&&!n.includes(o)?UL(o,i):D1(i)},UL=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Nte(t,r)}switch(e){case Qt.bool:return jte(t);case Qt.float4:case Qt.float8:case Qt.int2:case Qt.int4:case Qt.int8:case Qt.numeric:case Qt.oid:return _te(t);case Qt.json:case Qt.jsonb:return kte(t);case Qt.timestamp:return Ete(t);case Qt.abstime:case Qt.date:case Qt.daterange:case Qt.int4range:case Qt.int8range:case Qt.money:case Qt.reltime:case Qt.text:case Qt.time:case Qt.timestamptz:case Qt.timetz:case Qt.tsrange:case Qt.tstzrange:return D1(t);default:return D1(t)}},D1=e=>e,jte=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},_te=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kte=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Nte=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>UL(t,l))}return e},Ete=e=>typeof e=="string"?e.replace(" ","T"):e,zL=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ib{constructor(t,r,n={},a=FL){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vP||(vP={}));class $f{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$f.syncState(this.state,a,o,i),this.pendingDiffs.forEach(c=>{this.state=$f.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=$f.syncDiff(this.state,a,o,i),l())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,f)=>{i[u]||(c[u]=f)}),this.map(i,(u,f)=>{const d=o[u];if(d){const h=f.map(g=>g.presence_ref),y=d.map(g=>g.presence_ref),v=f.filter(g=>y.indexOf(g.presence_ref)<0),p=d.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(l[u]=v),p.length>0&&(c[u]=p)}else l[u]=f}),this.syncDiff(o,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(o,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(y=>y.presence_ref),h=f.filter(y=>d.indexOf(y.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xP||(xP={}));var bP;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(bP||(bP={}));var ts;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ts||(ts={}));class $k{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=kn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ib(this,Ja.join,this.params,this.timeout),this.rejoinTimer=new BL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ja.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new $f(this),this.broadcastEndpointURL=zL(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(f=>t==null?void 0:t(ts.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(ts.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(ts.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,y=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,v=[];for(let p=0;p<y;p++){const g=h[p],{filter:{event:x,schema:b,table:w,filter:S}}=g,j=f&&f[p];if(j&&j.event===x&&j.schema===b&&j.table===w&&j.filter===S)v.push(Object.assign(Object.assign({},g),{id:j.id}));else{this.unsubscribe(),this.state=kn.errored,t==null||t(ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(ts.SUBSCRIBED);return}}).receive("error",f=>{this.state=kn.errored,t==null||t(ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ja.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const a=new ib(this,Ja.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const a=new AbortController,o=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ib(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Ja;if(n&&[l,c,u,f].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var v,p,g;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(p=y.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(y=>y.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(y=>{var v,p,g,x,b,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in y){const S=y.id,j=(v=y.filter)===null||v===void 0?void 0:v.event;return S&&((p=r.ids)===null||p===void 0?void 0:p.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const S=(b=(x=y==null?void 0:y.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===i}).map(y=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:p,table:g,commit_timestamp:x,type:b,errors:w}=v;h=Object.assign(Object.assign({},{schema:p,table:g,commit_timestamp:x,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(v))}y.callback(h,n)})}_isClosed(){return this.state===kn.closed}_isJoined(){return this.state===kn.joined}_isJoining(){return this.state===kn.joining}_isLeaving(){return this.state===kn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),o={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&$k.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ja.close,{},t)}_onError(t){this._on(Ja.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=yP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=yP(t.columns,t.old_record)),r}}const wP=()=>{},Cte=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Pte{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=vte,this.params={},this.timeout=FL,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wP,this.ref=0,this.logger=wP,this.conn=null,this.sendBuffer=[],this.serializer=new wte,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>jm(async()=>{const{default:c}=await Promise.resolve().then(()=>vd);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${L1.websocket}`,this.httpEndpoint=zL(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new BL(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=gte),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Ate(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xte}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case nu.connecting:return ol.Connecting;case nu.open:return ol.Open;case nu.closing:return ol.Closing;default:return ol.Closed}}isConnected(){return this.connectionState()===ol.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(o=>o.topic===n);if(a)return a;{const o=new $k(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:a,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Ja.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(bte,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:o,ref:i}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${a} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ja.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Cte],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Ate{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=nu.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Mk extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Wr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Tte extends Mk{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class F1 extends Mk{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Ote=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const qL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>jm(async()=>{const{default:n}=await Promise.resolve().then(()=>vd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Rte=()=>Ote(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield jm(()=>Promise.resolve().then(()=>vd),void 0)).Response:Response}),B1=e=>{if(Array.isArray(e))return e.map(r=>B1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=B1(n)}),t};var Xl=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const lb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$te=(e,t,r)=>Xl(void 0,void 0,void 0,function*(){const n=yield Rte();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new Tte(lb(a),e.status||500))}).catch(a=>{t(new F1(lb(a),a))}):t(new F1(lb(e),e))}),Mte=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function km(e,t,r,n,a,o){return Xl(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,Mte(t,n,a,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>$te(c,l,n))})})}function ry(e,t,r,n){return Xl(this,void 0,void 0,function*(){return km(e,"GET",t,r,n)})}function Hs(e,t,r,n,a){return Xl(this,void 0,void 0,function*(){return km(e,"POST",t,n,a,r)})}function Ite(e,t,r,n,a){return Xl(this,void 0,void 0,function*(){return km(e,"PUT",t,n,a,r)})}function Lte(e,t,r,n){return Xl(this,void 0,void 0,function*(){return km(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function WL(e,t,r,n,a){return Xl(this,void 0,void 0,function*(){return km(e,"DELETE",t,n,a,r)})}var Ln=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Dte={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},SP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fte{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=qL(a)}uploadOrUpdate(t,r,n,a){return Ln(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},SP),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(Wr(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ln(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:SP.upsert},a),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),h=yield d.json();return d.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Wr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ln(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const o=yield Hs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Mk("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(Wr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ln(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Wr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ln(this,void 0,void 0,function*(){try{return{data:{path:(yield Hs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Wr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ln(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield Hs(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(Wr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ln(this,void 0,void 0,function*(){try{const a=yield Hs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(Wr(a))return{data:null,error:a};throw a}})}download(t,r){return Ln(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ry(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Wr(l))return{data:null,error:l};throw l}})}info(t){return Ln(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ry(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:B1(n),error:null}}catch(n){if(Wr(n))return{data:null,error:n};throw n}})}exists(t){return Ln(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Lte(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Wr(n)&&n instanceof F1){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&a.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ln(this,void 0,void 0,function*(){try{return{data:yield WL(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Wr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ln(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Dte),r),{prefix:t||""});return{data:yield Hs(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Wr(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Bte="2.7.1",Ute={"X-Client-Info":`storage-js/${Bte}`};var uc=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class zte{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Ute),r),this.fetch=qL(n)}listBuckets(){return uc(this,void 0,void 0,function*(){try{return{data:yield ry(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Wr(t))return{data:null,error:t};throw t}})}getBucket(t){return uc(this,void 0,void 0,function*(){try{return{data:yield ry(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Wr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return uc(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Wr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return uc(this,void 0,void 0,function*(){try{return{data:yield Ite(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Wr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return uc(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Wr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return uc(this,void 0,void 0,function*(){try{return{data:yield WL(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Wr(r))return{data:null,error:r};throw r}})}}class qte extends zte{constructor(t,r={},n){super(t,r,n)}from(t){return new Fte(this.url,this.headers,t,this.fetch)}}const Wte="2.50.0";let yf="";typeof Deno<"u"?yf="deno":typeof document<"u"?yf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yf="react-native":yf="node";const Hte={"X-Client-Info":`supabase-js-${yf}/${Wte}`},Vte={headers:Hte},Kte={schema:"public"},Gte={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jte={};var Yte=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Xte=e=>{let t;return e?t=e:typeof fetch>"u"?t=CL:t=fetch,(...r)=>t(...r)},Qte=()=>typeof Headers>"u"?PL:Headers,Zte=(e,t,r)=>{const n=Xte(r),a=Qte();return(o,i)=>Yte(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var ere=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function tre(e){return e.endsWith("/")?e:e+"/"}function rre(e,t){var r,n;const{db:a,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},f),i),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>ere(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const HL="2.70.0",Ec=30*1e3,U1=3,cb=U1*Ec,nre="http://localhost:9999",are="supabase.auth.token",ore={"X-Client-Info":`gotrue-js/${HL}`},z1="X-Supabase-Api-Version",VL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sre=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ire=6e5;class Ik extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function xt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lre extends Ik{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function cre(e){return xt(e)&&e.name==="AuthApiError"}class KL extends Ik{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Fi extends Ik{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Fs extends Fi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ure(e){return xt(e)&&e.name==="AuthSessionMissingError"}class vp extends Fi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xp extends Fi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bp extends Fi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dre(e){return xt(e)&&e.name==="AuthImplicitGrantRedirectError"}class jP extends Fi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class q1 extends Fi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ub(e){return xt(e)&&e.name==="AuthRetryableFetchError"}class _P extends Fi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Mf extends Fi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ny="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kP=` 	
\r=`.split(""),fre=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kP.length;t+=1)e[kP[t].charCodeAt(0)]=-2;for(let t=0;t<ny.length;t+=1)e[ny[t].charCodeAt(0)]=t;return e})();function NP(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ny[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ny[n]),t.queuedBits-=6}}function GL(e,t,r){const n=fre[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function EP(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=i=>{pre(i,n,r)};for(let i=0;i<e.length;i+=1)GL(e.charCodeAt(i),a,o);return t.join("")}function hre(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mre(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}hre(n,t)}}function pre(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function gre(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)GL(e.charCodeAt(a),r,n);return new Uint8Array(t)}function yre(e){const t=[];return mre(e,r=>t.push(r)),new Uint8Array(t)}function vre(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>NP(a,r,n)),NP(null,r,n),t.join("")}function xre(e){return Math.round(Date.now()/1e3)+e}function bre(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Wa=()=>typeof window<"u"&&typeof document<"u",Gi={tested:!1,writable:!1},If=()=>{if(!Wa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gi.tested)return Gi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Gi.tested=!0,Gi.writable=!0}catch{Gi.tested=!0,Gi.writable=!1}return Gi.writable};function wre(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const JL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>jm(async()=>{const{default:n}=await Promise.resolve().then(()=>vd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Sre=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",YL=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},wp=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Sp=async(e,t)=>{await e.removeItem(t)};class s0{constructor(){this.promise=new s0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}s0.promiseConstructor=Promise;function db(e){const t=e.split(".");if(t.length!==3)throw new Mf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!sre.test(t[n]))throw new Mf("JWT not in base64url format");return{header:JSON.parse(EP(t[0])),payload:JSON.parse(EP(t[1])),signature:gre(t[2]),raw:{header:t[0],payload:t[1]}}}async function jre(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _re(e,t){return new Promise((n,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){a(i);return}}})()})}function kre(e){return("0"+e.toString(16)).substr(-2)}function Nre(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,kre).join("")}async function Ere(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function Cre(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Ere(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dc(e,t,r=!1){const n=Nre();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await YL(e,`${t}-code-verifier`,a);const o=await Cre(n);return[o,n===o?"plain":"s256"]}const Pre=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Are(e){const t=e.headers.get(z1);if(!t||!t.match(Pre))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Tre(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ore(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rre=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fc(e){if(!Rre.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var $re=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Qi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Mre=[502,503,504];async function CP(e){var t;if(!Sre(e))throw new q1(Qi(e),0);if(Mre.includes(e.status))throw new q1(Qi(e),e.status);let r;try{r=await e.json()}catch(o){throw new KL(Qi(o),o)}let n;const a=Are(e);if(a&&a.getTime()>=VL["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _P(Qi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Fs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new _P(Qi(r),e.status,r.weak_password.reasons);throw new lre(Qi(r),e.status||500,n)}const Ire=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function _t(e,t,r,n){var a;const o=Object.assign({},n==null?void 0:n.headers);o[z1]||(o[z1]=VL["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await Lre(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Lre(e,t,r,n,a,o){const i=Ire(t,n,a,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new q1(Qi(c),0)}if(l.ok||await CP(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await CP(c)}}function Zo(e){var t;let r=null;Ure(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=xre(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function PP(e){const t=Zo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Js(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Dre(e){return{data:e,error:null}}function Fre(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o}=e,i=$re(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Bre(e){return e}function Ure(e){return e.access_token&&e.refresh_token&&e.expires_in}const fb=["global","local","others"];var zre=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class qre{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=JL(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=fb[0]){if(fb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fb.join(", ")}`);try{return await _t(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await _t(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Js})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=zre(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await _t(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Fre,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(xt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await _t(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Js})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await _t(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Bre});if(f.error)throw f.error;const d=await f.json(),h=(i=f.headers.get("x-total-count"))!==null&&i!==void 0?i:0,y=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(xt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){fc(t);try{return await _t(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Js})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){fc(t);try{return await _t(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Js})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){fc(t);try{return await _t(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Js})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){fc(t.userId);try{const{data:r,error:n}=await _t(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){fc(t.userId),fc(t.id);try{return{data:await _t(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}}}const Wre={getItem:e=>If()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{If()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{If()&&globalThis.localStorage.removeItem(e)}};function AP(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Hre(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hc={debug:!!(globalThis&&If()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class XL extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Vre extends XL{}async function Kre(e,t,r){hc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),hc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){hc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{hc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw hc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Vre(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(hc.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Hre();const Gre={url:nre,storageKey:are,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ore,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function TP(e,t,r){return await r()}class yh{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yh.nextInstanceID,yh.nextInstanceID+=1,this.instanceID>0&&Wa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Gre),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new qre({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=JL(a.fetch),this.lock=a.lock||TP,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Wa()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Kre:this.lock=TP,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:If()?this.storage=Wre:(this.memoryStorage={},this.storage=AP(this.memoryStorage)):(this.memoryStorage={},this.storage=AP(this.memoryStorage)),Wa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${HL}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=wre(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Wa()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),dre(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return xt(r)?{error:r}:{error:new KL("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const o=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Zo}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(xt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,a;try{let o;if("email"in t){const{email:f,password:d,options:h}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await dc(this.storage,this.storageKey)),o=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:y,code_challenge_method:v},xform:Zo})}else if("phone"in t){const{phone:f,password:d,options:h}=t;o=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Zo})}else throw new xp("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(xt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:PP})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:PP})}else throw new xp("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new vp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,o,i,l,c,u,f,d,h,y;let v,p;if("message"in t)v=t.message,p=t.signature;else{const{chain:g,wallet:x,statement:b,options:w}=t;let S;if(Wa())if(typeof x=="object")S=x;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))S=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const k=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),b?{statement:b}:null));let _;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")_=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)_=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)v=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),p=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(f=w==null?void 0:w.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const k=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=k}}try{const{data:g,error:x}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:vre(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Zo});if(x)throw x;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new vp}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:x})}catch(g){if(xt(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const r=await wp(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:o,error:i}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Zo});if(await Sp(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new vp}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:i})}catch(o){if(xt(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:o,nonce:i}=t,l=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Zo}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new vp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await dc(this.storage,this.storageKey));const{error:d}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new xp("You must provide either an email or phone number.")}catch(l){if(xt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,o;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await _t(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Zo});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(xt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await dc(this.storage,this.storageKey)),await _t(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Dre})}catch(o){if(xt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Fs;const{error:a}=await _t(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(xt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:o}=t,{error:i}=await _t(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:a,options:o}=t,{data:i,error:l}=await _t(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new xp("You must provide either an email or phone number and a type")}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await wp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<cb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Js}):await this._useSession(async r=>{var n,a,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fs}:await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Js})})}catch(r){if(xt(r))return ure(r)&&(await this._removeSession(),await Sp(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new Fs;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await dc(this.storage,this.storageKey));const{data:u,error:f}=await _t(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Js});if(f)throw f;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Fs;const r=Date.now()/1e3;let n=r,a=!0,o=null;const{payload:i}=db(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(xt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Fs;const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Wa())throw new bp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jP("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new bp("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const y=h-f;y*1e3<=Ec&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${d}s`);const v=h-d;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,f);const{data:p,error:g}=await this._getUser(o);if(g)throw g;const x={provider_token:n,provider_refresh_token:a,access_token:o,expires_in:d,expires_at:h,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(xt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await wp(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{error:o};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(cre(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Sp(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=bre(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await dc(this.storage,this.storageKey,!0));try{return await _t(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(xt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async o=>{var i,l,c,u,f;const{data:d,error:h}=o;if(h)throw h;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await _t(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(a)throw a;return Wa()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(xt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:i}=r;if(i)throw i;return await _t(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _re(async a=>(a>0&&await jre(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await _t(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zo})),(a,o)=>{const i=200*Math.pow(2,a);return o&&ub(o)&&Date.now()+i-n<Ec})}catch(n){if(this._debug(r,"error",n),xt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Wa()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await wp(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<cb;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${cb}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),ub(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Fs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new s0;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Fs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(a,"error",o),xt(o)){const i={session:null,error:o};return ub(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await YL(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Sp(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Wa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ec);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Ec);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ec}ms, refresh threshold is ${U1} ticks`),a<=U1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof XL)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await dc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);a.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await _t(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await _t(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await _t(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(xt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await _t(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(xt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:o}=t;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=db(a.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+ire>Date.now()))return n;const{data:a,error:o}=await _t(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!a.keys||a.keys.length===0)throw new Mf("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(i=>i.kid===t),!n)throw new Mf("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};n=y.session.access_token}const{header:a,payload:o,signature:i,raw:{header:l,payload:c}}=db(n);if(Tre(o.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:o,header:a,signature:i},error:null}}const u=Ore(a.alg),f=await this.fetchJwk(a.kid,r),d=await crypto.subtle.importKey("jwk",f,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,i,yre(`${l}.${c}`)))throw new Mf("Invalid JWT signature");return{data:{claims:o,header:a,signature:i},error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}}}yh.nextInstanceID=0;const Jre=yh;class Yre extends Jre{constructor(t){super(t)}}var Xre=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Qre{constructor(t,r,n){var a,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=tre(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:Kte,realtime:Jte,auth:Object.assign(Object.assign({},Gte),{storageKey:u}),global:Vte},d=rre(n??{},f);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=Zte(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new pte(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Hee(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qte(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Xre(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:o,flowType:i,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yre({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:i,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Pte(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zre=(e,t,r)=>new Qre(e,t,r),ene="https://kwvpfetgerukuglqeuzl.supabase.co",tne="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt3dnBmZXRnZXJ1a3VnbHFldXpsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNDYzNjEsImV4cCI6MjA2NTgyMjM2MX0.oQNRxz5hNqp_YVkIJ0KOtVSgAksQ0km6iESqiWI8wHw",Lt=Zre(ene,tne),Ql=async e=>{const t=String(e),r=[Af(t),t],n=parseInt(t,10);!isNaN(n)&&n.toString()===t&&r.push(Af(n)),console.log(" getUserTestAnswers - Trying variants:",{originalUserId:e,userIdStr:t,variants:r});for(const a of r)try{const{data:o,error:i}=await Lt.from("usertestanswers").select("*").eq("userid",a).order("answeredat",{ascending:!0});if(i){console.warn(` Error fetching with variant ${a}:`,i.message);continue}if(o&&o.length>0)return console.log(` Found ${o.length} test answers for user ${a}`),o;console.log(` No answers found for variant ${a}`)}catch(o){console.warn(` Exception with variant ${a}:`,o);continue}try{const{data:{user:a}}=await Lt.auth.getUser();if(a){console.log(" Trying with auth user ID:",a.id);const{data:o,error:i}=await Lt.from("usertestanswers").select("*").eq("userid",a.id).order("answeredat",{ascending:!0});if(!i&&o&&o.length>0)return console.log(` Found ${o.length} test answers using auth user ID`),o}}catch(a){console.warn(" Could not get auth user:",a)}return console.log(" No test answers found with any variant"),[]},Zl=e=>{const t={};return!e||!Array.isArray(e)?(console.error("Invalid answers array:",e),t):(e.forEach(r=>{const n=r.relatedSkills||r.relatedskills||[];Array.isArray(n)&&n.forEach(a=>{a&&typeof a=="string"&&(t[a]=(t[a]||0)+1)})}),t)},i0=(e,t=3)=>Object.entries(e).sort(([,r],[,n])=>n-r).slice(0,t).map(([r,n])=>({skill:r,score:n})),Bc=e=>{const t=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"];return e.filter(r=>{const n=r.toLowerCase().trim();return!t.some(a=>n.includes(a)||a.includes(n))})},QL="329754c88fmsh45bf2cd651b0e37p1ad384jsnab7fd582cddb",ZL="https://jsearch.p.rapidapi.com",eD="jsearch.p.rapidapi.com";let OP=0;const RP=1e3,tD=async(e,t)=>{const n=Date.now()-OP;if(n<RP){const a=RP-n;await new Promise(o=>setTimeout(o,a))}return OP=Date.now(),fetch(e,t)},Lk=async e=>{const{query:t,filters:r,page:n=1}=e,a=new URLSearchParams;t&&t.trim()?a.append("query",t.trim()):a.append("query","jobs");const o=(n-1)*3+1;if(a.append("page",String(o)),a.append("num_pages","3"),r.countries.length>0){const d=r.countries[0].toLowerCase();a.append("country",d)}if(r.datePosted&&r.datePosted!=="all"?a.append("date_posted",r.datePosted):a.append("date_posted","all"),r.isRemote&&a.append("remote_jobs_only","true"),r.jobTypes.length>0){const d=r.jobTypes.map(h=>{const y=h.toUpperCase();return y==="FULLTIME"?"FULLTIME":y==="PARTTIME"?"PARTTIME":y==="CONTRACTOR"?"CONTRACTOR":y==="INTERN"?"INTERN":y});d.length>0&&a.append("employment_types",d.join(","))}const i=a.toString(),l=`${ZL}/search?${i}`;console.log(" JSearch API Request:",{url:l,filters:{countries:r.countries,jobTypes:r.jobTypes,isRemote:r.isRemote,datePosted:r.datePosted||"all",skills:r.skills},query:t,page:n});const c=await tD(l,{method:"GET",headers:{"x-rapidapi-key":QL,"x-rapidapi-host":eD}});if(c.status===429)throw new Error("You have exceeded your API request limit. Please try again later.");if(!c.ok){let d=`Failed to fetch jobs: ${c.status} ${c.statusText}`;try{const h=await c.text();if(console.error("API Error Response:",h),h)try{const y=JSON.parse(h);y.message?d=y.message:y.error&&(d=y.error),console.error("API Error Details:",y)}catch{d=`${d} - ${h}`}}catch(h){console.error("Could not read error response body:",h)}throw new Error(d)}const u=await c.json();let f=[];if(u&&typeof u=="object"){const d=u;Array.isArray(d.data)?f=d.data:Array.isArray(d.jobs)?f=d.jobs:Array.isArray(d.results)&&(f=d.results)}else Array.isArray(u)&&(f=u);return console.log("JSearch API Response structure:",{isArray:Array.isArray(u),keys:u&&typeof u=="object"?Object.keys(u):[],firstJob:f.length>0?f[0]:null}),f},rD=async e=>{if(!e)throw new Error("Job ID is required");const t=`${ZL}/job-details?job_id=${encodeURIComponent(e)}`,r=await tD(t,{method:"GET",headers:{"x-rapidapi-key":QL,"x-rapidapi-host":eD}});if(r.status===429)throw new Error("You have exceeded your API request limit. Please try again later.");if(!r.ok){let l=`Failed to fetch job details: ${r.status} ${r.statusText}`;try{const c=await r.text();if(console.error("API Error Response:",c),c)try{const u=JSON.parse(c);if(u.errors&&Array.isArray(u.errors)&&u.errors.length>0){const f=u.errors[0];l=f.message||f.error||l,console.error("API Error Details:",f)}else l=u.message||u.error||l}catch{l=`${l} - ${c}`}}catch(c){console.error("Could not read error response body:",c)}throw new Error(l)}const n=await r.json();console.log("Raw API Response:",JSON.stringify(n,null,2));let a=null;if(n&&typeof n=="object"){const l=n;if(l.data)if(Array.isArray(l.data))if(l.data.length>0)a=l.data[0];else throw console.warn("API returned empty data array for job ID:",e),new Error(`No job found with ID: ${e}`);else typeof l.data=="object"&&l.data!==null&&(a=l.data);else l.job&&typeof l.job=="object"?a=l.job:l.results&&Array.isArray(l.results)&&l.results.length>0?a=l.results[0]:(l.job_title||l.title||l.job_id||l.id)&&(a=n)}if(!a)throw console.error("Failed to extract job data from response:",JSON.stringify(n,null,2)),new Error(`Invalid response format from API. No job data found for ID: ${e}`);if(!(a.job_title||a.title||a.job_id||a.id||a.employer_name||a.company_name||a.company))throw console.error("Job data exists but has no recognizable fields:",a),new Error(`Job data received but appears to be empty for ID: ${e}`);const i={...a};if(!i.title&&a.job_title&&(i.title=a.job_title),!i.job_title&&i.title&&(i.job_title=i.title),!i.location&&!i.job_location){const l=a.job_city,c=a.job_state,u=a.job_country;if(l||c||u){const f=[l,c,u].filter(Boolean);i.location=f.join(", "),i.job_location=i.location,l&&(i.city=l),c&&(i.state=c),u&&(i.country=u)}}if(!i.description&&!i.job_description){const l=a.job_description;l&&(i.description=l,i.job_description=l)}if(!i.apply_url&&!i.job_apply_link&&!i.url){const l=a.job_apply_link;l&&(i.apply_url=l,i.job_apply_link=l,i.url=l)}if(!i.employment_type&&!i.job_employment_type){const l=a.job_employment_type;l&&(i.employment_type=l,i.job_employment_type=l)}if(i.is_remote===void 0&&i.remote===void 0){const l=a.job_is_remote;l!==void 0&&(i.is_remote=l,i.remote=l)}if(!i.min_salary&&!i.max_salary){const l=a.job_min_salary,c=a.job_max_salary,u=a.job_salary_currency,f=a.job_salary_period;l!==void 0&&(i.min_salary=l),c!==void 0&&(i.max_salary=c),u&&(i.salary_currency=u),f&&(i.salary_period=f)}if(!i.company_name&&!i.employer_name){const l=a.employer_name;l&&(i.employer_name=l,i.company_name=l,typeof i.company=="string"&&(i.company=l))}if(!i.company_logo&&!i.employer_logo&&!i.logo_url){const l=a.employer_logo;l&&(i.employer_logo=l,i.company_logo=l,i.logo_url=l)}if(a=i,a.company&&typeof a.company=="object"){const l=a.company;l.name&&!a.company_name&&!a.employer_name&&(a.company_name=l.name),l.company_name&&!a.company_name&&(a.company_name=l.company_name),l.employer_name&&!a.employer_name&&!a.company_name&&(a.employer_name=l.employer_name),!a.company_logo&&!a.employer_logo&&!a.logo_url&&(l.logo?a.company_logo=l.logo:l.company_logo?a.company_logo=l.company_logo:l.employer_logo?a.employer_logo=l.employer_logo:l.logo_url&&(a.logo_url=l.logo_url)),l.website&&!a.company_url&&(a.company_url=l.website),a.company_info=l}if(a.employer&&typeof a.employer=="object"){const l=a.employer;l.name&&!a.company_name&&!a.employer_name&&(a.company_name=l.name),l.company_name&&!a.company_name&&(a.company_name=l.company_name),l.employer_name&&!a.employer_name&&!a.company_name&&(a.employer_name=l.employer_name),!a.company_logo&&!a.employer_logo&&!a.logo_url&&(l.logo?a.company_logo=l.logo:l.company_logo?a.company_logo=l.company_logo:l.employer_logo?a.employer_logo=l.employer_logo:l.logo_url&&(a.logo_url=l.logo_url)),a.company_info?a.company_info={...a.company_info,...l}:a.company_info=l}return console.log("Processed job detail:",a),a},Dk=async e=>{try{const t=[];e.query&&e.query.trim()&&t.push(e.query.trim()),e.filters.skills.length>0&&t.push(...e.filters.skills);const r=t.length>0?t.join(" "):"jobs",n={...e.filters,datePosted:e.filters.datePosted||void 0},a=await Lk({...e,query:r,filters:n}),o=new Set,i=[];for(const u of a){const f=u.job_id||u.id||"";if(f&&!o.has(f))o.add(f),i.push(u);else if(!f){const d=`${u.job_title||u.title||""}_${u.employer_name||u.company_name||u.company||""}`;o.has(d)||(o.add(d),i.push(u))}}console.log(`Fetched ${i.length} unique jobs`),i.length>0&&console.log("Sample job structure:",i[0]);const l=e.pageSize||12,c=i.length>=l;return{jobs:i,page:e.page||1,pageSize:l,hasMore:c}}catch(t){throw console.error("Error fetching jobs:",t),t}},rne=async e=>Lk(e),nne=async e=>{throw new Error("Adzuna API not yet implemented")},ane=async e=>{try{return await Dk(e)}catch(t){throw console.error("Primary job source failed:",t),t}},$a={fetchActiveJobs:Dk,fetchJobDetail:rD,fetchJobsFromJSearchAPI:Lk,fetchJobsFromJSearch:rne,fetchJobsFromAdzuna:nne,fetchJobsFromMultipleSources:ane},$P=["javascript","typescript","python","java","c++","c#","go","rust","php","ruby","swift","kotlin","scala","r","dart","perl","react","angular","vue","node.js","nodejs","express","django","flask","spring","laravel","rails","next.js","nuxt","svelte","html","css","sass","scss","tailwind","bootstrap","webpack","vite","sql","mysql","postgresql","mongodb","redis","cassandra","elasticsearch","database","dba","aws","azure","gcp","google cloud","docker","kubernetes","k8s","terraform","ansible","jenkins","ci/cd","devops","sre","cloud","software engineer","software developer","programmer","developer","programming","coding","coder","full stack","fullstack","frontend","front-end","backend","back-end","web developer","mobile developer","ios developer","android developer","react native","flutter","data scientist","data engineer","data analyst","machine learning","ml engineer","ai engineer","artificial intelligence","deep learning","neural network","computer vision","nlp","natural language processing","cybersecurity","security engineer","penetration testing","ethical hacker","information security","qa engineer","test engineer","automation engineer","sdet","quality assurance","testing","test automation","system administrator","sysadmin","network engineer","infrastructure engineer","site reliability","product manager","technical product manager","ux designer","ui designer","product designer","interaction designer","api","rest api","graphql","microservices","agile","scrum","git","github","gitlab","bitbucket","jira","confluence","code review","version control","tech","technology","software","saas","platform","startup","fintech","edtech","healthtech"],one=["sales","marketing","accountant","accounting","finance","banking","insurance","real estate","retail","cashier","waiter","waitress","chef","cook","nurse","doctor","physician","teacher","instructor","tutor","lawyer","attorney","legal","driver","delivery","warehouse","factory","manufacturing","construction","plumber","electrician","mechanic","barber","hairdresser","beauty","fitness","trainer","coach","therapist","counselor","social worker","customer service","call center","receptionist","administrative","secretary","reception","cleaning","janitor","maintenance","security guard","guard","officer"],sne=e=>{const t=[e.job_title||e.title||"",e.description||"",e.job_description||"",e.job_required_experience||e.required_experience||"",e.employer_name||e.company_name||"",typeof e.company=="string"?e.company:""].join(" ").toLowerCase();return one.some(a=>t.includes(a.toLowerCase()))?!!$P.some(o=>{const i=o.toLowerCase(),l=(e.job_title||e.title||"").length,c=typeof e.description=="string"?e.description.length:0,u=typeof e.job_description=="string"?e.job_description.length:0;return t.includes(i)&&t.indexOf(i)<l+c+u}):$P.some(a=>t.includes(a.toLowerCase()))},Lf=e=>e.filter(sne),MP=["ashby","bamboohr","breezy","breezyhr","careerplug","comeet","cornerstoneondemand","csod","dayforce","eightfold","freshteam","gohire","greenhouse","hirehive","hiringthing","icims","jazzhr","jobvite","join.com","lever","lever.co","oraclecloud","oracle","paycom","paylocity","personio","phenompeople","phenom","pinpoint","polymer","recooty","recruitee","rippling","smartrecruiters","successfactors","taleo","teamtailor","trakstar","workable","workday","ziprecruiter","zohorecruit","zoho"],ine=e=>{const t=[];return[e.job_apply_link,e.apply_link,e.url,e.apply_url,e.applyUrl,e.applyLink,e.application_url,e.application_link,e.link,e.company_url,e.website_url,e.jobUrl].forEach(n=>{n&&typeof n=="string"&&n.trim()&&t.push(n.trim().toLowerCase())}),t},lne=e=>{if(!e||typeof e!="string")return!1;try{let t="";if(e.startsWith("http://")||e.startsWith("https://"))t=new URL(e).hostname.toLowerCase();else{const o=e.match(/(?:https?:\/\/)?(?:www\.)?([^/\s]+)/);o?t=o[1].toLowerCase():t=e.toLowerCase()}return t=t.replace(/^www\./,""),MP.some(o=>t.includes(o.toLowerCase()))?!0:[/\/careers?/i,/\/jobs?/i,/careers?\./i,/jobs?\./i,/\/apply/i,/\/openings/i,/\/positions/i].some(o=>e.match(o))}catch{const r=e.toLowerCase();return MP.some(n=>r.includes(n.toLowerCase()))}},cne=e=>{const t=ine(e);return t.length===0?!1:t.some(r=>lne(r))},Do=e=>e.filter(cne),une=e=>{const t=[],r=[e.job_title||e.title||"",e.description||"",e.job_description||"",e.job_required_experience||e.required_experience||""].join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]};return Object.keys(n).forEach(a=>{n[a].some(i=>r.includes(i))&&t.push(a)}),[...new Set(t)]},IP=(e,t)=>{if(!t||t.length===0)return 1;const r=une(e);if(r.length===0)return .1;const n=c=>c.toLowerCase().trim().replace(/\s+/g," "),a=t.map(n),o=r.map(n);let i=0;return o.forEach(c=>{a.forEach(u=>{u===c?i+=2:(c.includes(u)||u.includes(c))&&(i+=1)})}),i>0?i/o.length*(i/a.length)*10:.1},hb=e=>{const t=[e.job_title||e.title||"",e.description||"",e.job_description||"",e.job_required_experience||e.required_experience||""].join(" ").toLowerCase();return["developer","programmer","engineer","software","coding","programming","javascript","python","java","react","node","sql","database","frontend","backend","full stack","web developer","mobile developer","devops","cloud","aws","azure","docker","kubernetes","api","machine learning","ai","data science","analytics","cybersecurity"].some(n=>t.includes(n))},dne=async(e=[])=>{try{const t={country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:e.length>0?e:[]};return(await $a.fetchActiveJobs({query:e.length>0?"":"developer",filters:t,page:1,pageSize:50})).jobs||[]}catch(t){throw console.error("Error fetching jobs:",t),t}},LP=()=>{var U;const{user:e,loading:t}=lr(),r=tr(),n=ca(),a=ma(),o=Yl(),[i,l]=m.useState([]),[c,u]=m.useState([]),[f,d]=m.useState(!0),[h,y]=m.useState(!1),v=m.useRef(null),p=m.useRef(null),[g,x]=m.useState(!1),[b,w]=m.useState(!1);m.useEffect(()=>{(async()=>{if(!e){d(!1),y(!1);return}try{d(!0);try{const W=await Ae.get(`/api/skilltest/results/?user=${e.id}`);console.log(" Checking Django API skill test results:",W.data);let R=null;if(Array.isArray(W.data)&&W.data.length>0?R=W.data[0]:W.data&&typeof W.data=="object"&&(R=W.data),R&&(R.final_role||R.skills_json)){console.log(" Found skill test results from Django API"),y(!0);const q=R.skills_json||{},ee=Object.keys(q.tech||{}),ne=Object.keys(q.soft||{}),ce=[...ee,...ne].slice(0,5);l(ce),u(ee),d(!1);return}}catch{console.log("Django API endpoint not available, trying other methods...")}try{const W=await Ae.get(`/api/user/${e.id}/skills`);if(W.data&&W.data.skills){const R=W.data.skills.slice(0,5);l(R),u(R),y(R.length>0),d(!1);return}}catch{console.log("User skills API endpoint not available, trying Supabase...")}const M=await Ql(String(e.id));if(console.log(" Checking test completion:",{userId:e.id,answersCount:(M==null?void 0:M.length)||0,hasAnswers:M&&M.length>0}),M&&M.length>0){console.log(" User has completed skill test (from Supabase)"),y(!0);const W=Zl(M),q=i0(W,5).map(ce=>ce.skill);l(q);const ee=["javascript","python","java","c++","c#","go","rust","php","ruby","swift","kotlin","typescript","html","css","sql","react","vue","angular","node.js","express","django","flask","spring","laravel","rails","git","docker","kubernetes","aws","azure","gcp","linux","machine learning","data science","ai","blockchain","devops","testing"],ne=q.filter(ce=>ee.some(ue=>ce.toLowerCase().includes(ue.toLowerCase())||ue.toLowerCase().includes(ce.toLowerCase())));u(ne.length>0?ne:q)}else console.log(" User has not completed skill test"),y(!1)}catch(M){console.error("Error fetching user skills:",M),y(!1)}finally{d(!1)}})()},[e]);const{data:S=[]}=Yt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var P;if(!e)return[];try{return(((P=(await Ae.get(ht.AUTH.PROFILE)).data)==null?void 0:P.saved_jobs)||[]).map(R=>String(R))}catch(M){return console.error("Error fetching saved jobs:",M),[]}},enabled:!!e}),{data:j=[]}=Yt({queryKey:["savedCourses",e==null?void 0:e.id],queryFn:async()=>{var P;if(!e)return[];try{return(((P=(await Ae.get(ht.AUTH.PROFILE)).data)==null?void 0:P.saved_courses)||[]).map(R=>String(R))}catch(M){return console.error("Error fetching saved courses:",M),[]}},enabled:!!e}),{data:k=[],isLoading:_,error:N}=Yt({queryKey:["home-jobs",c.join(",")],queryFn:()=>dne(c),enabled:!!e&&!f,staleTime:5*60*1e3,retry:1});m.useEffect(()=>{N&&console.error("Error fetching jobs:",N)},[N]);const E=mo({mutationFn:async P=>{if(!e)throw new Error("User not logged in");if(!P.id)throw new Error("Job ID is required");const M=String(P.id);P.is_saved;try{const W=`${ht.JOBS.SAVE_JOB}${M}/`;await Ae.post(W)}catch(W){const R=W instanceof Error?W.message:"Failed to save job. Please try again.";throw new Error(R)}},onSuccess:(P,M)=>{n.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),n.invalidateQueries({queryKey:["profile"]}),se.success(M.is_saved?"Job Unsaved":"Job Saved")},onError:P=>{console.error("Error saving job:",P);const M=P instanceof Error?P.message:"Failed to save job";se.error(M)}}),{data:A=[],isLoading:T}=Yt({queryKey:["home-courses"],queryFn:async()=>{const{data:P,error:M}=await Lt.from("courses").select("*").order("created_at",{ascending:!1});return M?(console.error("Error fetching courses:",M),[]):P||[]},enabled:!!e}),D=mo({mutationFn:async P=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Ae.post(`/api/save-course/${P}/`)},onMutate:async P=>{await n.cancelQueries({queryKey:["savedCourses",e==null?void 0:e.id]});const M=n.getQueryData(["savedCourses",e==null?void 0:e.id]);let W=!1;return n.setQueryData(["savedCourses",e==null?void 0:e.id],R=>{if(!R)return R;const q=String(P);return W=R.includes(q),W?R.filter(ee=>ee!==q):[...R,q]}),{previousSavedCourses:M,wasSaved:W}},onError:(P,M,W)=>{W!=null&&W.previousSavedCourses&&(e!=null&&e.id)&&n.setQueryData(["savedCourses",e.id],W.previousSavedCourses),console.error("Error updating saved courses:",P),se.error("Failed to update saved courses. Please try again.")},onSuccess:(P,M,W)=>{n.invalidateQueries({queryKey:["savedCourses",e==null?void 0:e.id]}),n.invalidateQueries({queryKey:["home-courses"]}),n.invalidateQueries({queryKey:["profile"]});const R=(W==null?void 0:W.wasSaved)??!1;se.success(R?"Removed from saved courses.":"Course saved to your profile.")}}),z=m.useMemo(()=>{let P=Do(k||[]);c.length>0&&(P=P.filter(R=>hb(R)||IP(R,c)>.1));const M=P.map(R=>({job:R,score:IP(R,c)}));return M.sort((R,q)=>{if(Math.abs(R.score-q.score)>.1)return q.score-R.score;const ee=hb(R.job),ne=hb(q.job);return ee&&!ne?-1:!ee&&ne?1:0}),M.slice(0,10).map(R=>R.job).map(R=>{const q=R.job_id||R.id||"";if(!q)return console.warn("Skipping job without valid ID:",R),null;const ee=R.job_title||R.title||R.position||"Untitled Position",ne=R.employer_name||R.company_name||(typeof R.company=="string"?R.company:null)||"Unknown Company",ce=R.job_city||R.city||"",ue=R.job_state||R.state||"",ie=R.job_country||R.country||"",O=R.job_location||R.location||[ce,ue,ie].filter(Boolean).join(", ")||"Location not specified",L=R.employer_logo||R.company_logo||R.logo_url||(typeof R.company=="object"&&R.company?R.company.logo||R.company.company_logo:void 0),H=R.date_posted||R.posted_date||R.job_posted_at_datetime_utc||void 0;let X="By agreement";const V=R.job_min_salary||R.min_salary,ae=R.job_max_salary||R.max_salary,Z=R.job_salary_currency||R.salary_currency||"$",de=R.job_salary_period||R.salary_period||"yearly";if(V&&ae&&typeof V=="number"&&typeof ae=="number"){const xe=de==="monthly"?"Monthly":"",qe=V.toLocaleString(),rt=ae.toLocaleString();["$","","","","",""].some(at=>Z.includes(at))?X=`${Z}${qe} - ${Z}${rt}${xe?`/${xe}`:""}`:X=`${qe} - ${rt} ${Z}${xe?`/${xe}`:""}`}else if(V&&typeof V=="number"){const xe=V.toLocaleString();X=["$","","","","",""].some(nt=>Z.includes(nt))?`${Z}${xe}+`:`${xe}+ ${Z}`}else R.salary&&typeof R.salary=="string"&&(X=R.salary);const oe=R.job_employment_type||R.employment_type||R.type||"FULLTIME",be={FULLTIME:"Full time",PARTTIME:"Part time",CONTRACTOR:"Contract",INTERN:"Internship"}[oe]||oe||"Full time";let Be="On-site";return R.job_is_remote||R.is_remote||R.remote===!0?Be="Remote":ee!=null&&ee.toLowerCase().includes("hybrid")&&(Be="Hybrid"),{id:q,title:ee,company:ne,location:typeof O=="string"?O:"Location not specified",logo:L,company_logo:L,salary:X,employment_type:be,work_arrangement:Be,is_saved:S==null?void 0:S.includes(String(q)),date:H?new Date(H).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}}).filter(R=>R!==null).slice(0,10)},[k,S,c]),F=P=>{if(v.current){const W=P==="left"?v.current.scrollLeft-400:v.current.scrollLeft+400;v.current.scrollTo({left:W,behavior:"smooth"})}},$=P=>{if(p.current){const W=P==="left"?p.current.scrollLeft-400:p.current.scrollLeft+400;p.current.scrollTo({left:W,behavior:"smooth"})}};return console.log(" UserHome render:",{user:!!e,userId:e==null?void 0:e.id,loadingSkills:f,hasCompletedTest:h,jobsCount:z.length,coursesCount:A.length}),t?s.jsx(At,{children:s.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading dashboard..."})]})})})}):e?s.jsxs(At,{children:[a&&s.jsx("div",{className:"mb-4 px-4 md:hidden",children:s.jsxs("h1",{className:"text-xl font-semibold text-foreground",children:["Welcome,"," ",s.jsx("span",{className:"font-bold",children:(e==null?void 0:e.first_name)||((U=e==null?void 0:e.email)==null?void 0:U.split("@")[0])||"User"}),"! "]})}),s.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[!h&&!f&&s.jsx(je,{className:"bg-white transition-all w-auto flex-shrink-0 max-w-sm md:max-w-md rounded-3xl border-0 animate-shrink-in",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)",transform:g?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease-in-out"},onMouseDown:()=>x(!0),onMouseUp:()=>x(!1),onMouseLeave:()=>x(!1),onTouchStart:()=>x(!0),onTouchEnd:()=>x(!1),children:s.jsx(ke,{className:"p-4 md:p-4",children:s.jsx(wr,{to:"/skill-test",className:"block cursor-pointer group",children:s.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[s.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[s.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:o.home.skillTestTitle}),s.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:o.home.skillTestSubtitle})]}),s.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:s.jsx("img",{src:"/lovable-uploads/3dicons-target-front-color.png",alt:"Skill test target",className:"w-full h-full object-contain"})})]})})})}),h&&!f&&s.jsx(je,{className:"bg-white transition-all w-auto flex-shrink-0 max-w-sm md:max-w-md rounded-3xl border-0 animate-shrink-in",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)",transform:b?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease-in-out"},onMouseDown:()=>w(!0),onMouseUp:()=>w(!1),onMouseLeave:()=>w(!1),onTouchStart:()=>w(!0),onTouchEnd:()=>w(!1),children:s.jsx(ke,{className:"p-4 md:p-4",children:s.jsx(wr,{to:"/skill-path",className:"block cursor-pointer group",children:s.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[s.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[s.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:o.home.skillPathTitle}),s.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:o.home.skillPathSubtitle})]}),s.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:s.jsx("img",{src:"/lovable-uploads/3dicons-explorer-front-color.png",alt:"Coding A Website",className:"w-full h-full object-contain",onError:P=>{P.target.style.display="none"}})})]})})})})]}),s.jsxs("div",{className:"space-y-6 pt-6 md:pt-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:"Top job picks for you"}),!_&&!N&&z.length>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(te,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>F("left"),"aria-label":"Scroll left",children:s.jsx(Kg,{className:"h-4 w-4"})}),s.jsx(te,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>F("right"),"aria-label":"Scroll right",children:s.jsx(ja,{className:"h-4 w-4"})})]})]}),_?s.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory",children:[...Array(3)].map((P,M)=>s.jsx(je,{className:"relative flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px]",children:s.jsxs(ke,{className:"p-4",children:[s.jsx(Pt,{className:"h-4 w-20 mb-2"}),s.jsx(Pt,{className:"h-6 w-3/4 mb-4"}),s.jsx(Pt,{className:"h-4 w-1/2"})]})},M))}):N?s.jsx(je,{children:s.jsxs(ke,{className:"p-6 text-center",children:[s.jsx("p",{className:"text-gray-500 mb-2",children:"Unable to load jobs at the moment."}),s.jsx("p",{className:"text-sm text-gray-400",children:"Please try again later."})]})}):z.length===0?s.jsx(je,{children:s.jsx(ke,{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No jobs found. Try adjusting your search criteria."})})}):s.jsx("div",{ref:v,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:z.map(P=>s.jsx(je,{className:"group flex flex-col transition-all duration-200 border border-gray-200 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600 overflow-hidden flex-shrink-0 snap-start cursor-pointer rounded-3xl w-[calc((100%-2rem)/3)] min-w-[280px]",onClick:()=>{P.id&&r(`/jobs/${encodeURIComponent(P.id)}`)},children:s.jsxs(ke,{className:"p-4 flex flex-col flex-grow relative",children:[s.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[s.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[P.company_logo?s.jsx("img",{src:P.company_logo,alt:`${P.company} logo`,className:"w-10 h-10 rounded-full object-cover border border-gray-200 absolute inset-0 z-10",loading:"lazy",onError:M=>{var q,ee;const W=M.target;W.onerror=null,W.style.display="none";const R=(q=W.parentElement)==null?void 0:q.querySelector(".clearbit-logo");if(R)R.style.display="block",R.style.zIndex="10";else{const ne=(ee=W.parentElement)==null?void 0:ee.querySelector(".logo-fallback");ne&&(ne.style.display="flex",ne.style.zIndex="10")}}}):null,P.company&&!P.company_logo?s.jsx("img",{src:`https://logo.clearbit.com/${encodeURIComponent(P.company)}`,alt:`${P.company} logo`,className:"w-10 h-10 rounded-full object-cover border border-gray-200 absolute inset-0 clearbit-logo",style:{zIndex:10},loading:"lazy",onError:M=>{var q;const W=M.target;W.onerror=null,W.style.display="none";const R=(q=W.parentElement)==null?void 0:q.querySelector(".logo-fallback");R&&(R.style.display="flex",R.style.zIndex="10")}}):null,s.jsx("div",{className:`w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center logo-fallback absolute inset-0 ${P.company_logo||P.company&&!P.company_logo?"hidden":"flex"}`,style:{zIndex:P.company_logo||P.company&&!P.company_logo?0:10},children:s.jsx(Sr,{className:"h-5 w-5 text-white"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-sm mb-0.5 truncate",children:P.company}),s.jsxs("p",{className:"text-xs text-gray-500 truncate flex items-center gap-1",children:[s.jsx(vm,{className:"h-3 w-3"}),P.location]})]})]}),s.jsx("div",{className:"border-t border-gray-100 dark:border-gray-200 mt-2 mb-3 -mx-4"}),s.jsx("h4",{className:"font-bold text-base mb-3 line-clamp-2 min-h-[3rem]",children:P.title}),s.jsx("div",{className:"flex-grow"}),s.jsxs("div",{className:"space-y-1.5 mt-auto pb-16 md:pb-0",children:[P.salary&&s.jsxs("div",{className:"flex items-center gap-1.5 text-base",children:[s.jsx(Dl,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700 break-words font-medium",children:P.salary})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[P.employment_type&&s.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[s.jsx(zo,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:P.employment_type})]}),P.work_arrangement&&s.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[s.jsx(Sr,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:P.work_arrangement})]})]})]}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 bg-card/95 backdrop-blur-sm flex items-center gap-2 transform translate-y-0 md:translate-y-full md:group-hover:translate-y-0 transition-transform duration-200 ease-in-out shadow-lg z-10",children:[s.jsx(te,{onClick:M=>{M.stopPropagation(),P.id&&r(`/jobs/${encodeURIComponent(P.id)}`)},variant:"default",size:"xs",className:"flex-1 h-10",children:"View Details"}),s.jsx(te,{variant:"secondary",size:"icon",onClick:M=>{M.stopPropagation(),E.mutate(P)},"aria-label":P.is_saved?"Unsave job":"Save job",className:"bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 h-10 w-10",children:s.jsx(On,{className:`h-4 w-4 transition-colors ${P.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black"}`})})]})]})},P.id))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Top courses picked for you"})}),!T&&A.length>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(te,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>$("left"),"aria-label":"Scroll courses left",children:s.jsx(Kg,{className:"h-4 w-4"})}),s.jsx(te,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>$("right"),"aria-label":"Scroll courses right",children:s.jsx(ja,{className:"h-4 w-4"})})]})]}),T?s.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:[...Array(3)].map((P,M)=>s.jsx(je,{className:"relative flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px]",children:s.jsxs(ke,{className:"p-0",children:[s.jsx(Pt,{className:"h-40 w-full rounded-t-3xl"}),s.jsxs("div",{className:"p-4",children:[s.jsx(Pt,{className:"h-5 w-3/4 mb-2"}),s.jsx(Pt,{className:"h-4 w-1/2 mb-3"}),s.jsx(Pt,{className:"h-3 w-full"})]})]})},M))}):A.length===0?s.jsx(je,{children:s.jsxs(ke,{className:"p-8 text-center",children:[s.jsx(bi,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"No courses available at the moment."})]})}):s.jsx("div",{ref:p,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:A.map(P=>{const M=j.includes(String(P.id));return s.jsx(wr,{to:`/course/${P.id}`,className:"flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px] block",children:s.jsx(je,{className:"relative transition-all duration-200 cursor-pointer group border border-gray-200 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600 rounded-3xl w-full flex flex-col",children:s.jsxs(ke,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[s.jsxs("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:[s.jsx("img",{src:P.image||"/placeholder.svg",alt:P.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200 origin-center",style:{transformOrigin:"center center"},onError:W=>{W.target.src="/placeholder.svg"}}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(te,{variant:"secondary",size:"icon",onClick:W=>{W.preventDefault(),W.stopPropagation(),D.mutate(String(P.id))},"aria-label":M?"Unsave course":"Save course",className:"bg-[#E6E7EB]/80 hover:bg-[#E6E7EB]/90 h-9 w-9 backdrop-blur-sm",children:s.jsx(On,{className:`h-4 w-4 transition-colors ${M?"text-red-500 fill-red-500 animate-heart-pop":"text-black/80"}`})})})]}),s.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[s.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:P.title}),s.jsxs("div",{className:"flex items-center gap-3 mt-auto flex-wrap",children:[P.duration&&s.jsxs(jr,{variant:"outline",className:"text-sm border-gray-300 dark:border-gray-700 px-2.5 py-1",children:[s.jsx(zo,{className:"h-4 w-4 mr-1.5"}),P.duration]}),P.level&&s.jsxs(jr,{variant:"outline",className:"text-sm border-gray-300 dark:border-gray-700 px-2.5 py-1",children:[s.jsx(xi,{className:"h-4 w-4 mr-1.5"}),P.level]})]})]})]})})},P.id)})})]})]})]})})]}):s.jsx(At,{children:s.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-gray-600",children:"Please wait while we load your dashboard..."})})})})})};var fne=Array.isArray,Yn=fne,hne=typeof wn=="object"&&wn&&wn.Object===Object&&wn,nD=hne,mne=nD,pne=typeof self=="object"&&self&&self.Object===Object&&self,gne=mne||pne||Function("return this")(),Go=gne,yne=Go,vne=yne.Symbol,Nm=vne,DP=Nm,aD=Object.prototype,xne=aD.hasOwnProperty,bne=aD.toString,Xd=DP?DP.toStringTag:void 0;function wne(e){var t=xne.call(e,Xd),r=e[Xd];try{e[Xd]=void 0;var n=!0}catch{}var a=bne.call(e);return n&&(t?e[Xd]=r:delete e[Xd]),a}var Sne=wne,jne=Object.prototype,_ne=jne.toString;function kne(e){return _ne.call(e)}var Nne=kne,FP=Nm,Ene=Sne,Cne=Nne,Pne="[object Null]",Ane="[object Undefined]",BP=FP?FP.toStringTag:void 0;function Tne(e){return e==null?e===void 0?Ane:Pne:BP&&BP in Object(e)?Ene(e):Cne(e)}var Es=Tne;function One(e){return e!=null&&typeof e=="object"}var Cs=One,Rne=Es,$ne=Cs,Mne="[object Symbol]";function Ine(e){return typeof e=="symbol"||$ne(e)&&Rne(e)==Mne}var bd=Ine,Lne=Yn,Dne=bd,Fne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bne=/^\w*$/;function Une(e,t){if(Lne(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Dne(e)?!0:Bne.test(e)||!Fne.test(e)||t!=null&&e in Object(t)}var Fk=Une;function zne(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Bi=zne;const wd=Gt(Bi);var qne=Es,Wne=Bi,Hne="[object AsyncFunction]",Vne="[object Function]",Kne="[object GeneratorFunction]",Gne="[object Proxy]";function Jne(e){if(!Wne(e))return!1;var t=qne(e);return t==Vne||t==Kne||t==Hne||t==Gne}var Bk=Jne;const Et=Gt(Bk);var Yne=Go,Xne=Yne["__core-js_shared__"],Qne=Xne,mb=Qne,UP=function(){var e=/[^.]+$/.exec(mb&&mb.keys&&mb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Zne(e){return!!UP&&UP in e}var eae=Zne,tae=Function.prototype,rae=tae.toString;function nae(e){if(e!=null){try{return rae.call(e)}catch{}try{return e+""}catch{}}return""}var oD=nae,aae=Bk,oae=eae,sae=Bi,iae=oD,lae=/[\\^$.*+?()[\]{}|]/g,cae=/^\[object .+?Constructor\]$/,uae=Function.prototype,dae=Object.prototype,fae=uae.toString,hae=dae.hasOwnProperty,mae=RegExp("^"+fae.call(hae).replace(lae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pae(e){if(!sae(e)||oae(e))return!1;var t=aae(e)?mae:cae;return t.test(iae(e))}var gae=pae;function yae(e,t){return e==null?void 0:e[t]}var vae=yae,xae=gae,bae=vae;function wae(e,t){var r=bae(e,t);return xae(r)?r:void 0}var ec=wae,Sae=ec,jae=Sae(Object,"create"),l0=jae,zP=l0;function _ae(){this.__data__=zP?zP(null):{},this.size=0}var kae=_ae;function Nae(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Eae=Nae,Cae=l0,Pae="__lodash_hash_undefined__",Aae=Object.prototype,Tae=Aae.hasOwnProperty;function Oae(e){var t=this.__data__;if(Cae){var r=t[e];return r===Pae?void 0:r}return Tae.call(t,e)?t[e]:void 0}var Rae=Oae,$ae=l0,Mae=Object.prototype,Iae=Mae.hasOwnProperty;function Lae(e){var t=this.__data__;return $ae?t[e]!==void 0:Iae.call(t,e)}var Dae=Lae,Fae=l0,Bae="__lodash_hash_undefined__";function Uae(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Fae&&t===void 0?Bae:t,this}var zae=Uae,qae=kae,Wae=Eae,Hae=Rae,Vae=Dae,Kae=zae;function Sd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sd.prototype.clear=qae;Sd.prototype.delete=Wae;Sd.prototype.get=Hae;Sd.prototype.has=Vae;Sd.prototype.set=Kae;var Gae=Sd;function Jae(){this.__data__=[],this.size=0}var Yae=Jae;function Xae(e,t){return e===t||e!==e&&t!==t}var Uk=Xae,Qae=Uk;function Zae(e,t){for(var r=e.length;r--;)if(Qae(e[r][0],t))return r;return-1}var c0=Zae,eoe=c0,toe=Array.prototype,roe=toe.splice;function noe(e){var t=this.__data__,r=eoe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():roe.call(t,r,1),--this.size,!0}var aoe=noe,ooe=c0;function soe(e){var t=this.__data__,r=ooe(t,e);return r<0?void 0:t[r][1]}var ioe=soe,loe=c0;function coe(e){return loe(this.__data__,e)>-1}var uoe=coe,doe=c0;function foe(e,t){var r=this.__data__,n=doe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var hoe=foe,moe=Yae,poe=aoe,goe=ioe,yoe=uoe,voe=hoe;function jd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jd.prototype.clear=moe;jd.prototype.delete=poe;jd.prototype.get=goe;jd.prototype.has=yoe;jd.prototype.set=voe;var u0=jd,xoe=ec,boe=Go,woe=xoe(boe,"Map"),zk=woe,qP=Gae,Soe=u0,joe=zk;function _oe(){this.size=0,this.__data__={hash:new qP,map:new(joe||Soe),string:new qP}}var koe=_oe;function Noe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Eoe=Noe,Coe=Eoe;function Poe(e,t){var r=e.__data__;return Coe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var d0=Poe,Aoe=d0;function Toe(e){var t=Aoe(this,e).delete(e);return this.size-=t?1:0,t}var Ooe=Toe,Roe=d0;function $oe(e){return Roe(this,e).get(e)}var Moe=$oe,Ioe=d0;function Loe(e){return Ioe(this,e).has(e)}var Doe=Loe,Foe=d0;function Boe(e,t){var r=Foe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Uoe=Boe,zoe=koe,qoe=Ooe,Woe=Moe,Hoe=Doe,Voe=Uoe;function _d(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_d.prototype.clear=zoe;_d.prototype.delete=qoe;_d.prototype.get=Woe;_d.prototype.has=Hoe;_d.prototype.set=Voe;var qk=_d,sD=qk,Koe="Expected a function";function Wk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Koe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(Wk.Cache||sD),r}Wk.Cache=sD;var iD=Wk;const Goe=Gt(iD);var Joe=iD,Yoe=500;function Xoe(e){var t=Joe(e,function(n){return r.size===Yoe&&r.clear(),n}),r=t.cache;return t}var Qoe=Xoe,Zoe=Qoe,ese=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tse=/\\(\\)?/g,rse=Zoe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ese,function(r,n,a,o){t.push(a?o.replace(tse,"$1"):n||r)}),t}),nse=rse;function ase(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Hk=ase,WP=Nm,ose=Hk,sse=Yn,ise=bd,lse=1/0,HP=WP?WP.prototype:void 0,VP=HP?HP.toString:void 0;function lD(e){if(typeof e=="string")return e;if(sse(e))return ose(e,lD)+"";if(ise(e))return VP?VP.call(e):"";var t=e+"";return t=="0"&&1/e==-lse?"-0":t}var cse=lD,use=cse;function dse(e){return e==null?"":use(e)}var cD=dse,fse=Yn,hse=Fk,mse=nse,pse=cD;function gse(e,t){return fse(e)?e:hse(e,t)?[e]:mse(pse(e))}var uD=gse,yse=bd,vse=1/0;function xse(e){if(typeof e=="string"||yse(e))return e;var t=e+"";return t=="0"&&1/e==-vse?"-0":t}var f0=xse,bse=uD,wse=f0;function Sse(e,t){t=bse(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[wse(t[r++])];return r&&r==n?e:void 0}var Vk=Sse,jse=Vk;function _se(e,t,r){var n=e==null?void 0:jse(e,t);return n===void 0?r:n}var dD=_se;const Aa=Gt(dD);function kse(e){return e==null}var Nse=kse;const Bt=Gt(Nse);var Ese=Es,Cse=Yn,Pse=Cs,Ase="[object String]";function Tse(e){return typeof e=="string"||!Cse(e)&&Pse(e)&&Ese(e)==Ase}var Ose=Tse;const Em=Gt(Ose);var fD={exports:{}},Ht={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kk=Symbol.for("react.element"),Gk=Symbol.for("react.portal"),h0=Symbol.for("react.fragment"),m0=Symbol.for("react.strict_mode"),p0=Symbol.for("react.profiler"),g0=Symbol.for("react.provider"),y0=Symbol.for("react.context"),Rse=Symbol.for("react.server_context"),v0=Symbol.for("react.forward_ref"),x0=Symbol.for("react.suspense"),b0=Symbol.for("react.suspense_list"),w0=Symbol.for("react.memo"),S0=Symbol.for("react.lazy"),$se=Symbol.for("react.offscreen"),hD;hD=Symbol.for("react.module.reference");function La(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Kk:switch(e=e.type,e){case h0:case p0:case m0:case x0:case b0:return e;default:switch(e=e&&e.$$typeof,e){case Rse:case y0:case v0:case S0:case w0:case g0:return e;default:return t}}case Gk:return t}}}Ht.ContextConsumer=y0;Ht.ContextProvider=g0;Ht.Element=Kk;Ht.ForwardRef=v0;Ht.Fragment=h0;Ht.Lazy=S0;Ht.Memo=w0;Ht.Portal=Gk;Ht.Profiler=p0;Ht.StrictMode=m0;Ht.Suspense=x0;Ht.SuspenseList=b0;Ht.isAsyncMode=function(){return!1};Ht.isConcurrentMode=function(){return!1};Ht.isContextConsumer=function(e){return La(e)===y0};Ht.isContextProvider=function(e){return La(e)===g0};Ht.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kk};Ht.isForwardRef=function(e){return La(e)===v0};Ht.isFragment=function(e){return La(e)===h0};Ht.isLazy=function(e){return La(e)===S0};Ht.isMemo=function(e){return La(e)===w0};Ht.isPortal=function(e){return La(e)===Gk};Ht.isProfiler=function(e){return La(e)===p0};Ht.isStrictMode=function(e){return La(e)===m0};Ht.isSuspense=function(e){return La(e)===x0};Ht.isSuspenseList=function(e){return La(e)===b0};Ht.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===h0||e===p0||e===m0||e===x0||e===b0||e===$se||typeof e=="object"&&e!==null&&(e.$$typeof===S0||e.$$typeof===w0||e.$$typeof===g0||e.$$typeof===y0||e.$$typeof===v0||e.$$typeof===hD||e.getModuleId!==void 0)};Ht.typeOf=La;fD.exports=Ht;var mD=fD.exports,Mse=Es,Ise=Cs,Lse="[object Number]";function Dse(e){return typeof e=="number"||Ise(e)&&Mse(e)==Lse}var pD=Dse;const Fse=Gt(pD);var Bse=pD;function Use(e){return Bse(e)&&e!=+e}var zse=Use;const Cm=Gt(zse);var eo=function(t){return t===0?0:t>0?1:-1},ul=function(t){return Em(t)&&t.indexOf("%")===t.length-1},Ue=function(t){return Fse(t)&&!Cm(t)},Ur=function(t){return Ue(t)||Em(t)},qse=0,j0=function(t){var r=++qse;return"".concat(t||"").concat(r)},Ul=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(t)&&!Em(t))return n;var o;if(ul(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return Cm(o)&&(o=n),a&&o>r&&(o=r),o},Ys=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Wse=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},mc=function(t,r){return Ue(t)&&Ue(r)?function(n){return t+n*(r-t)}:function(){return r}};function W1(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Aa(n,t))===r})}function au(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function H1(e){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H1(e)}var Hse=["viewBox","children"],Vse=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KP=["points","pathLength"],pb={svg:Hse,polygon:KP,polyline:KP},Jk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ay=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(m.isValidElement(t)&&(n=t.props),!wd(n))return null;var a={};return Object.keys(n).forEach(function(o){Jk.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},Kse=function(t,r,n){return function(a){return t(r,n,a),null}},oy=function(t,r,n){if(!wd(t)||H1(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];Jk.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=Kse(i,r,n))}),a},Gse=["children"],Jse=["children"];function GP(e,t){if(e==null)return{};var r=Yse(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var JP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},fs=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},YP=null,gb=null,Yk=function e(t){if(t===YP&&Array.isArray(gb))return gb;var r=[];return m.Children.forEach(t,function(n){Bt(n)||(mD.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),gb=r,YP=t,r};function so(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return fs(a)}):n=[fs(t)],Yk(e).forEach(function(a){var o=Aa(a,"type.displayName")||Aa(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function ra(e,t){var r=so(e,t);return r&&r[0]}var XP=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ue(n)||n<=0||!Ue(a)||a<=0)},Xse=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Qse=function(t){return t&&t.type&&Em(t.type)&&Xse.indexOf(t.type)>=0},Zse=function(t,r,n,a){var o,i=(o=pb==null?void 0:pb[a])!==null&&o!==void 0?o:[];return!Et(t)&&(a&&i.includes(r)||Vse.includes(r))||n&&Jk.includes(r)},Dt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(m.isValidElement(t)&&(a=t.props),!wd(a))return null;var o={};return Object.keys(a).forEach(function(i){var l;Zse((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(o[i]=a[i])}),o},V1=function e(t,r){if(t===r)return!0;var n=m.Children.count(t);if(n!==m.Children.count(r))return!1;if(n===0)return!0;if(n===1)return QP(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!QP(o,i))return!1}return!0},QP=function(t,r){if(Bt(t)&&Bt(r))return!0;if(!Bt(t)&&!Bt(r)){var n=t.props||{},a=n.children,o=GP(n,Gse),i=r.props||{},l=i.children,c=GP(i,Jse);return a&&l?au(o,c)&&V1(a,l):!a&&!l?au(o,c):!1}return!1},ZP=function(t,r){var n=[],a={};return Yk(t).forEach(function(o,i){if(Qse(o))n.push(o);else if(o){var l=fs(o.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var d=u(o,l,i);n.push(d),a[l]=!0}}}),n},eie=function(t){var r=t&&t.type;return r&&JP[r]?JP[r]:null},tie=function(t,r){return Yk(r).indexOf(t)},rie=["children","width","height","viewBox","className","style","title","desc"];function K1(){return K1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K1.apply(this,arguments)}function nie(e,t){if(e==null)return{};var r=aie(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function G1(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,l=e.title,c=e.desc,u=nie(e,rie),f=a||{width:r,height:n,x:0,y:0},d=$t("recharts-surface",o);return I.createElement("svg",K1({},Dt(u,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),I.createElement("title",null,l),I.createElement("desc",null,c),t)}var oie=["children","className"];function J1(){return J1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J1.apply(this,arguments)}function sie(e,t){if(e==null)return{};var r=iie(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Xr=I.forwardRef(function(e,t){var r=e.children,n=e.className,a=sie(e,oie),o=$t("recharts-layer",n);return I.createElement("g",J1({className:o},Dt(a,!0),{ref:t}),r)}),hs=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function lie(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var cie=lie,uie=cie;function die(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:uie(e,t,r)}var fie=die,hie="\\ud800-\\udfff",mie="\\u0300-\\u036f",pie="\\ufe20-\\ufe2f",gie="\\u20d0-\\u20ff",yie=mie+pie+gie,vie="\\ufe0e\\ufe0f",xie="\\u200d",bie=RegExp("["+xie+hie+yie+vie+"]");function wie(e){return bie.test(e)}var gD=wie;function Sie(e){return e.split("")}var jie=Sie,yD="\\ud800-\\udfff",_ie="\\u0300-\\u036f",kie="\\ufe20-\\ufe2f",Nie="\\u20d0-\\u20ff",Eie=_ie+kie+Nie,Cie="\\ufe0e\\ufe0f",Pie="["+yD+"]",Y1="["+Eie+"]",X1="\\ud83c[\\udffb-\\udfff]",Aie="(?:"+Y1+"|"+X1+")",vD="[^"+yD+"]",xD="(?:\\ud83c[\\udde6-\\uddff]){2}",bD="[\\ud800-\\udbff][\\udc00-\\udfff]",Tie="\\u200d",wD=Aie+"?",SD="["+Cie+"]?",Oie="(?:"+Tie+"(?:"+[vD,xD,bD].join("|")+")"+SD+wD+")*",Rie=SD+wD+Oie,$ie="(?:"+[vD+Y1+"?",Y1,xD,bD,Pie].join("|")+")",Mie=RegExp(X1+"(?="+X1+")|"+$ie+Rie,"g");function Iie(e){return e.match(Mie)||[]}var Lie=Iie,Die=jie,Fie=gD,Bie=Lie;function Uie(e){return Fie(e)?Bie(e):Die(e)}var zie=Uie,qie=fie,Wie=gD,Hie=zie,Vie=cD;function Kie(e){return function(t){t=Vie(t);var r=Wie(t)?Hie(t):void 0,n=r?r[0]:t.charAt(0),a=r?qie(r,1).join(""):t.slice(1);return n[e]()+a}}var Gie=Kie,Jie=Gie,Yie=Jie("toUpperCase"),Xie=Yie;const _0=Gt(Xie);function Zt(e){return function(){return e}}const jD=Math.cos,sy=Math.sin,xo=Math.sqrt,iy=Math.PI,k0=2*iy,Q1=Math.PI,Z1=2*Q1,Zi=1e-6,Qie=Z1-Zi;function _D(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Zie(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _D;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class ele{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_D:Zie(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,f=i-t,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Zi)if(!(Math.abs(d*c-u*f)>Zi)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-i,v=a-l,p=c*c+u*u,g=y*y+v*v,x=Math.sqrt(p),b=Math.sqrt(h),w=o*Math.tan((Q1-Math.acos((p+h-g)/(2*x*b)))/2),S=w/b,j=w/x;Math.abs(S-1)>Zi&&this._append`L${t+S*f},${r+S*d}`,this._append`A${o},${o},0,0,${+(d*y>f*v)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,f=r+c,d=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Zi||Math.abs(this._y1-f)>Zi)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%Z1+Z1),h>Qie?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>Zi&&this._append`A${n},${n},0,${+(h>=Q1)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Xk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new ele(t)}function Qk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kD(e){this._context=e}kD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function N0(e){return new kD(e)}function ND(e){return e[0]}function ED(e){return e[1]}function CD(e,t){var r=Zt(!0),n=null,a=N0,o=null,i=Xk(l);e=typeof e=="function"?e:e===void 0?ND:Zt(e),t=typeof t=="function"?t:t===void 0?ED:Zt(t);function l(c){var u,f=(c=Qk(c)).length,d,h=!1,y;for(n==null&&(o=a(y=i())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,u,c),+t(d,u,c));if(y)return o=null,y+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Zt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Zt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Zt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(o=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=o=null:o=a(n=c),l):n},l}function jp(e,t,r){var n=null,a=Zt(!0),o=null,i=N0,l=null,c=Xk(u);e=typeof e=="function"?e:e===void 0?ND:Zt(+e),t=typeof t=="function"?t:Zt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ED:Zt(+r);function u(d){var h,y,v,p=(d=Qk(d)).length,g,x=!1,b,w=new Array(p),S=new Array(p);for(o==null&&(l=i(b=c())),h=0;h<=p;++h){if(!(h<p&&a(g=d[h],h,d))===x)if(x=!x)y=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=y;--v)l.point(w[v],S[v]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(g,h,d),S[h]=+t(g,h,d),l.point(n?+n(g,h,d):w[h],r?+r(g,h,d):S[h]))}if(b)return l=null,b+""||null}function f(){return CD().defined(a).curve(i).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Zt(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Zt(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Zt(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Zt(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Zt(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Zt(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Zt(!!d),u):a},u.curve=function(d){return arguments.length?(i=d,o!=null&&(l=i(o)),u):i},u.context=function(d){return arguments.length?(d==null?o=l=null:l=i(o=d),u):o},u}class PD{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function tle(e){return new PD(e,!0)}function rle(e){return new PD(e,!1)}const Zk={draw(e,t){const r=xo(t/iy);e.moveTo(r,0),e.arc(0,0,r,0,k0)}},nle={draw(e,t){const r=xo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},AD=xo(1/3),ale=AD*2,ole={draw(e,t){const r=xo(t/ale),n=r*AD;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},sle={draw(e,t){const r=xo(t),n=-r/2;e.rect(n,n,r,r)}},ile=.8908130915292852,TD=sy(iy/10)/sy(7*iy/10),lle=sy(k0/10)*TD,cle=-jD(k0/10)*TD,ule={draw(e,t){const r=xo(t*ile),n=lle*r,a=cle*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=k0*o/5,l=jD(i),c=sy(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},yb=xo(3),dle={draw(e,t){const r=-xo(t/(yb*3));e.moveTo(0,r*2),e.lineTo(-yb*r,-r),e.lineTo(yb*r,-r),e.closePath()}},pa=-.5,ga=xo(3)/2,eS=1/xo(12),fle=(eS/2+1)*3,hle={draw(e,t){const r=xo(t/fle),n=r/2,a=r*eS,o=n,i=r*eS+r,l=-o,c=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(l,c),e.lineTo(pa*n-ga*a,ga*n+pa*a),e.lineTo(pa*o-ga*i,ga*o+pa*i),e.lineTo(pa*l-ga*c,ga*l+pa*c),e.lineTo(pa*n+ga*a,pa*a-ga*n),e.lineTo(pa*o+ga*i,pa*i-ga*o),e.lineTo(pa*l+ga*c,pa*c-ga*l),e.closePath()}};function mle(e,t){let r=null,n=Xk(a);e=typeof e=="function"?e:Zt(e||Zk),t=typeof t=="function"?t:Zt(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Zt(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Zt(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function ly(){}function cy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function OD(e){this._context=e}OD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ple(e){return new OD(e)}function RD(e){this._context=e}RD.prototype={areaStart:ly,areaEnd:ly,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gle(e){return new RD(e)}function $D(e){this._context=e}$D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:cy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yle(e){return new $D(e)}function MD(e){this._context=e}MD.prototype={areaStart:ly,areaEnd:ly,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vle(e){return new MD(e)}function eA(e){return e<0?-1:1}function tA(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(o*a+i*n)/(n+a);return(eA(o)+eA(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(l))||0}function rA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function vb(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,l=(o-n)/3;e._context.bezierCurveTo(n+l,a+l*t,o-l,i-l*r,o,i)}function uy(e){this._context=e}uy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vb(this,this._t0,rA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,vb(this,rA(this,r=tA(this,e,t)),r);break;default:vb(this,this._t0,r=tA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ID(e){this._context=new LD(e)}(ID.prototype=Object.create(uy.prototype)).point=function(e,t){uy.prototype.point.call(this,t,e)};function LD(e){this._context=e}LD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function xle(e){return new uy(e)}function ble(e){return new ID(e)}function DD(e){this._context=e}DD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=nA(e),a=nA(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function nA(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function wle(e){return new DD(e)}function E0(e,t){this._context=e,this._t=t}E0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Sle(e){return new E0(e,.5)}function jle(e){return new E0(e,0)}function _le(e){return new E0(e,1)}function Iu(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,l=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function tS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function kle(e,t){return e[t]}function Nle(e){const t=[];return t.key=e,t}function Ele(){var e=Zt([]),t=tS,r=Iu,n=kle;function a(o){var i=Array.from(e.apply(this,arguments),Nle),l,c=i.length,u=-1,f;for(const d of o)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(d,i[l].key,u,o)]).data=d;for(l=0,f=Qk(t(i));l<c;++l)i[f[l]].index=l;return r(i,f),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Zt(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Zt(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?tS:typeof o=="function"?o:Zt(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??Iu,a):r},a}function Cle(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Iu(e,t)}}function Ple(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Iu(e,t)}}function Ale(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var l=0,c=0,u=0;l<i;++l){for(var f=e[t[l]],d=f[n][1]||0,h=f[n-1][1]||0,y=(d-h)/2,v=0;v<l;++v){var p=e[t[v]],g=p[n][1]||0,x=p[n-1][1]||0;y+=g-x}c+=d,u+=y*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Iu(e,t)}}function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}var Tle=["type","size","sizeType"];function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rS.apply(this,arguments)}function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){Ole(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ole(e,t,r){return t=Rle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rle(e){var t=$le(e,"string");return vh(t)=="symbol"?t:t+""}function $le(e,t){if(vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mle(e,t){if(e==null)return{};var r=Ile(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ile(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var FD={symbolCircle:Zk,symbolCross:nle,symbolDiamond:ole,symbolSquare:sle,symbolStar:ule,symbolTriangle:dle,symbolWye:hle},Lle=Math.PI/180,Dle=function(t){var r="symbol".concat(_0(t));return FD[r]||Zk},Fle=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Lle;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Ble=function(t,r){FD["symbol".concat(_0(t))]=r},e2=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,l=i===void 0?"area":i,c=Mle(t,Tle),u=oA(oA({},c),{},{type:n,size:o,sizeType:l}),f=function(){var g=Dle(n),x=mle().type(g).size(Fle(o,l,n));return x()},d=u.className,h=u.cx,y=u.cy,v=Dt(u,!0);return h===+h&&y===+y&&o===+o?I.createElement("path",rS({},v,{className:$t("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(y,")"),d:f()})):null};e2.registerSymbol=Ble;function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function nS(){return nS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nS.apply(this,arguments)}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ule(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){xh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UD(n.key),n)}}function Wle(e,t,r){return t&&qle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hle(e,t,r){return t=dy(t),Vle(e,BD()?Reflect.construct(t,r||[],dy(e).constructor):t.apply(e,r))}function Vle(e,t){if(t&&(Lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kle(e)}function Kle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BD=function(){return!!e})()}function dy(e){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dy(e)}function Gle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aS(e,t)}function aS(e,t){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aS(e,t)}function xh(e,t,r){return t=UD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UD(e){var t=Jle(e,"string");return Lu(t)=="symbol"?t:t+""}function Jle(e,t){if(Lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ya=32,t2=function(e){function t(){return zle(this,t),Hle(this,t,arguments)}return Gle(t,e),Wle(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=ya/2,i=ya/6,l=ya/3,c=n.inactive?a:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:ya,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(ya,"M").concat(2*l,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ya/8,"h").concat(ya,"v").concat(ya*3/4,"h").concat(-ya,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var u=Ule({},n);return delete u.legendIcon,I.cloneElement(n.legendIcon,u)}return I.createElement(e2,{fill:c,cx:o,cy:o,size:ya,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:ya,height:ya},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,v){var p=y.formatter||c,g=$t(xh(xh({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",y.inactive));if(y.type==="none")return null;var x=Et(y.value)?null:y.value;hs(!Et(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=y.inactive?u:y.color;return I.createElement("li",nS({className:g,style:d,key:"legend-item-".concat(v)},oy(n.props,y,v)),I.createElement(G1,{width:i,height:i,viewBox:f,style:h},n.renderIcon(y)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(x,y,v):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(m.PureComponent);xh(t2,"displayName","Legend");xh(t2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Yle=u0;function Xle(){this.__data__=new Yle,this.size=0}var Qle=Xle;function Zle(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var ece=Zle;function tce(e){return this.__data__.get(e)}var rce=tce;function nce(e){return this.__data__.has(e)}var ace=nce,oce=u0,sce=zk,ice=qk,lce=200;function cce(e,t){var r=this.__data__;if(r instanceof oce){var n=r.__data__;if(!sce||n.length<lce-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ice(n)}return r.set(e,t),this.size=r.size,this}var uce=cce,dce=u0,fce=Qle,hce=ece,mce=rce,pce=ace,gce=uce;function kd(e){var t=this.__data__=new dce(e);this.size=t.size}kd.prototype.clear=fce;kd.prototype.delete=hce;kd.prototype.get=mce;kd.prototype.has=pce;kd.prototype.set=gce;var zD=kd,yce="__lodash_hash_undefined__";function vce(e){return this.__data__.set(e,yce),this}var xce=vce;function bce(e){return this.__data__.has(e)}var wce=bce,Sce=qk,jce=xce,_ce=wce;function fy(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Sce;++t<r;)this.add(e[t])}fy.prototype.add=fy.prototype.push=jce;fy.prototype.has=_ce;var qD=fy;function kce(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var WD=kce;function Nce(e,t){return e.has(t)}var HD=Nce,Ece=qD,Cce=WD,Pce=HD,Ace=1,Tce=2;function Oce(e,t,r,n,a,o){var i=r&Ace,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=o.get(e),f=o.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,y=r&Tce?new Ece:void 0;for(o.set(e,t),o.set(t,e);++d<l;){var v=e[d],p=t[d];if(n)var g=i?n(p,v,d,t,e,o):n(v,p,d,e,t,o);if(g!==void 0){if(g)continue;h=!1;break}if(y){if(!Cce(t,function(x,b){if(!Pce(y,b)&&(v===x||a(v,x,r,n,o)))return y.push(b)})){h=!1;break}}else if(!(v===p||a(v,p,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var VD=Oce,Rce=Go,$ce=Rce.Uint8Array,Mce=$ce;function Ice(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Lce=Ice;function Dce(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var r2=Dce,iA=Nm,lA=Mce,Fce=Uk,Bce=VD,Uce=Lce,zce=r2,qce=1,Wce=2,Hce="[object Boolean]",Vce="[object Date]",Kce="[object Error]",Gce="[object Map]",Jce="[object Number]",Yce="[object RegExp]",Xce="[object Set]",Qce="[object String]",Zce="[object Symbol]",eue="[object ArrayBuffer]",tue="[object DataView]",cA=iA?iA.prototype:void 0,xb=cA?cA.valueOf:void 0;function rue(e,t,r,n,a,o,i){switch(r){case tue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case eue:return!(e.byteLength!=t.byteLength||!o(new lA(e),new lA(t)));case Hce:case Vce:case Jce:return Fce(+e,+t);case Kce:return e.name==t.name&&e.message==t.message;case Yce:case Qce:return e==t+"";case Gce:var l=Uce;case Xce:var c=n&qce;if(l||(l=zce),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=Wce,i.set(e,t);var f=Bce(l(e),l(t),n,a,o,i);return i.delete(e),f;case Zce:if(xb)return xb.call(e)==xb.call(t)}return!1}var nue=rue;function aue(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var KD=aue,oue=KD,sue=Yn;function iue(e,t,r){var n=t(e);return sue(e)?n:oue(n,r(e))}var lue=iue;function cue(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var uue=cue;function due(){return[]}var fue=due,hue=uue,mue=fue,pue=Object.prototype,gue=pue.propertyIsEnumerable,uA=Object.getOwnPropertySymbols,yue=uA?function(e){return e==null?[]:(e=Object(e),hue(uA(e),function(t){return gue.call(e,t)}))}:mue,vue=yue;function xue(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var bue=xue,wue=Es,Sue=Cs,jue="[object Arguments]";function _ue(e){return Sue(e)&&wue(e)==jue}var kue=_ue,dA=kue,Nue=Cs,GD=Object.prototype,Eue=GD.hasOwnProperty,Cue=GD.propertyIsEnumerable,Pue=dA(function(){return arguments}())?dA:function(e){return Nue(e)&&Eue.call(e,"callee")&&!Cue.call(e,"callee")},n2=Pue,hy={exports:{}};function Aue(){return!1}var Tue=Aue;hy.exports;(function(e,t){var r=Go,n=Tue,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(hy,hy.exports);var JD=hy.exports,Oue=9007199254740991,Rue=/^(?:0|[1-9]\d*)$/;function $ue(e,t){var r=typeof e;return t=t??Oue,!!t&&(r=="number"||r!="symbol"&&Rue.test(e))&&e>-1&&e%1==0&&e<t}var a2=$ue,Mue=9007199254740991;function Iue(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Mue}var o2=Iue,Lue=Es,Due=o2,Fue=Cs,Bue="[object Arguments]",Uue="[object Array]",zue="[object Boolean]",que="[object Date]",Wue="[object Error]",Hue="[object Function]",Vue="[object Map]",Kue="[object Number]",Gue="[object Object]",Jue="[object RegExp]",Yue="[object Set]",Xue="[object String]",Que="[object WeakMap]",Zue="[object ArrayBuffer]",ede="[object DataView]",tde="[object Float32Array]",rde="[object Float64Array]",nde="[object Int8Array]",ade="[object Int16Array]",ode="[object Int32Array]",sde="[object Uint8Array]",ide="[object Uint8ClampedArray]",lde="[object Uint16Array]",cde="[object Uint32Array]",or={};or[tde]=or[rde]=or[nde]=or[ade]=or[ode]=or[sde]=or[ide]=or[lde]=or[cde]=!0;or[Bue]=or[Uue]=or[Zue]=or[zue]=or[ede]=or[que]=or[Wue]=or[Hue]=or[Vue]=or[Kue]=or[Gue]=or[Jue]=or[Yue]=or[Xue]=or[Que]=!1;function ude(e){return Fue(e)&&Due(e.length)&&!!or[Lue(e)]}var dde=ude;function fde(e){return function(t){return e(t)}}var YD=fde,my={exports:{}};my.exports;(function(e,t){var r=nD,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(my,my.exports);var hde=my.exports,mde=dde,pde=YD,fA=hde,hA=fA&&fA.isTypedArray,gde=hA?pde(hA):mde,XD=gde,yde=bue,vde=n2,xde=Yn,bde=JD,wde=a2,Sde=XD,jde=Object.prototype,_de=jde.hasOwnProperty;function kde(e,t){var r=xde(e),n=!r&&vde(e),a=!r&&!n&&bde(e),o=!r&&!n&&!a&&Sde(e),i=r||n||a||o,l=i?yde(e.length,String):[],c=l.length;for(var u in e)(t||_de.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||wde(u,c)))&&l.push(u);return l}var Nde=kde,Ede=Object.prototype;function Cde(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ede;return e===r}var Pde=Cde;function Ade(e,t){return function(r){return e(t(r))}}var QD=Ade,Tde=QD,Ode=Tde(Object.keys,Object),Rde=Ode,$de=Pde,Mde=Rde,Ide=Object.prototype,Lde=Ide.hasOwnProperty;function Dde(e){if(!$de(e))return Mde(e);var t=[];for(var r in Object(e))Lde.call(e,r)&&r!="constructor"&&t.push(r);return t}var Fde=Dde,Bde=Bk,Ude=o2;function zde(e){return e!=null&&Ude(e.length)&&!Bde(e)}var Pm=zde,qde=Nde,Wde=Fde,Hde=Pm;function Vde(e){return Hde(e)?qde(e):Wde(e)}var C0=Vde,Kde=lue,Gde=vue,Jde=C0;function Yde(e){return Kde(e,Jde,Gde)}var Xde=Yde,mA=Xde,Qde=1,Zde=Object.prototype,efe=Zde.hasOwnProperty;function tfe(e,t,r,n,a,o){var i=r&Qde,l=mA(e),c=l.length,u=mA(t),f=u.length;if(c!=f&&!i)return!1;for(var d=c;d--;){var h=l[d];if(!(i?h in t:efe.call(t,h)))return!1}var y=o.get(e),v=o.get(t);if(y&&v)return y==t&&v==e;var p=!0;o.set(e,t),o.set(t,e);for(var g=i;++d<c;){h=l[d];var x=e[h],b=t[h];if(n)var w=i?n(b,x,h,t,e,o):n(x,b,h,e,t,o);if(!(w===void 0?x===b||a(x,b,r,n,o):w)){p=!1;break}g||(g=h=="constructor")}if(p&&!g){var S=e.constructor,j=t.constructor;S!=j&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(p=!1)}return o.delete(e),o.delete(t),p}var rfe=tfe,nfe=ec,afe=Go,ofe=nfe(afe,"DataView"),sfe=ofe,ife=ec,lfe=Go,cfe=ife(lfe,"Promise"),ufe=cfe,dfe=ec,ffe=Go,hfe=dfe(ffe,"Set"),ZD=hfe,mfe=ec,pfe=Go,gfe=mfe(pfe,"WeakMap"),yfe=gfe,oS=sfe,sS=zk,iS=ufe,lS=ZD,cS=yfe,e6=Es,Nd=oD,pA="[object Map]",vfe="[object Object]",gA="[object Promise]",yA="[object Set]",vA="[object WeakMap]",xA="[object DataView]",xfe=Nd(oS),bfe=Nd(sS),wfe=Nd(iS),Sfe=Nd(lS),jfe=Nd(cS),el=e6;(oS&&el(new oS(new ArrayBuffer(1)))!=xA||sS&&el(new sS)!=pA||iS&&el(iS.resolve())!=gA||lS&&el(new lS)!=yA||cS&&el(new cS)!=vA)&&(el=function(e){var t=e6(e),r=t==vfe?e.constructor:void 0,n=r?Nd(r):"";if(n)switch(n){case xfe:return xA;case bfe:return pA;case wfe:return gA;case Sfe:return yA;case jfe:return vA}return t});var _fe=el,bb=zD,kfe=VD,Nfe=nue,Efe=rfe,bA=_fe,wA=Yn,SA=JD,Cfe=XD,Pfe=1,jA="[object Arguments]",_A="[object Array]",_p="[object Object]",Afe=Object.prototype,kA=Afe.hasOwnProperty;function Tfe(e,t,r,n,a,o){var i=wA(e),l=wA(t),c=i?_A:bA(e),u=l?_A:bA(t);c=c==jA?_p:c,u=u==jA?_p:u;var f=c==_p,d=u==_p,h=c==u;if(h&&SA(e)){if(!SA(t))return!1;i=!0,f=!1}if(h&&!f)return o||(o=new bb),i||Cfe(e)?kfe(e,t,r,n,a,o):Nfe(e,t,c,r,n,a,o);if(!(r&Pfe)){var y=f&&kA.call(e,"__wrapped__"),v=d&&kA.call(t,"__wrapped__");if(y||v){var p=y?e.value():e,g=v?t.value():t;return o||(o=new bb),a(p,g,r,n,o)}}return h?(o||(o=new bb),Efe(e,t,r,n,a,o)):!1}var Ofe=Tfe,Rfe=Ofe,NA=Cs;function t6(e,t,r,n,a){return e===t?!0:e==null||t==null||!NA(e)&&!NA(t)?e!==e&&t!==t:Rfe(e,t,r,n,t6,a)}var s2=t6,$fe=zD,Mfe=s2,Ife=1,Lfe=2;function Dfe(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var l=r[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){l=r[a];var c=l[0],u=e[c],f=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new $fe;if(n)var h=n(u,f,c,e,t,d);if(!(h===void 0?Mfe(f,u,Ife|Lfe,n,d):h))return!1}}return!0}var Ffe=Dfe,Bfe=Bi;function Ufe(e){return e===e&&!Bfe(e)}var r6=Ufe,zfe=r6,qfe=C0;function Wfe(e){for(var t=qfe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,zfe(a)]}return t}var Hfe=Wfe;function Vfe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var n6=Vfe,Kfe=Ffe,Gfe=Hfe,Jfe=n6;function Yfe(e){var t=Gfe(e);return t.length==1&&t[0][2]?Jfe(t[0][0],t[0][1]):function(r){return r===e||Kfe(r,e,t)}}var Xfe=Yfe;function Qfe(e,t){return e!=null&&t in Object(e)}var Zfe=Qfe,ehe=uD,the=n2,rhe=Yn,nhe=a2,ahe=o2,ohe=f0;function she(e,t,r){t=ehe(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=ohe(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&ahe(a)&&nhe(i,a)&&(rhe(e)||the(e)))}var ihe=she,lhe=Zfe,che=ihe;function uhe(e,t){return e!=null&&che(e,t,lhe)}var dhe=uhe,fhe=s2,hhe=dD,mhe=dhe,phe=Fk,ghe=r6,yhe=n6,vhe=f0,xhe=1,bhe=2;function whe(e,t){return phe(e)&&ghe(t)?yhe(vhe(e),t):function(r){var n=hhe(r,e);return n===void 0&&n===t?mhe(r,e):fhe(t,n,xhe|bhe)}}var She=whe;function jhe(e){return e}var Ed=jhe;function _he(e){return function(t){return t==null?void 0:t[e]}}var khe=_he,Nhe=Vk;function Ehe(e){return function(t){return Nhe(t,e)}}var Che=Ehe,Phe=khe,Ahe=Che,The=Fk,Ohe=f0;function Rhe(e){return The(e)?Phe(Ohe(e)):Ahe(e)}var $he=Rhe,Mhe=Xfe,Ihe=She,Lhe=Ed,Dhe=Yn,Fhe=$he;function Bhe(e){return typeof e=="function"?e:e==null?Lhe:typeof e=="object"?Dhe(e)?Ihe(e[0],e[1]):Mhe(e):Fhe(e)}var Ui=Bhe;function Uhe(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var a6=Uhe;function zhe(e){return e!==e}var qhe=zhe;function Whe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Hhe=Whe,Vhe=a6,Khe=qhe,Ghe=Hhe;function Jhe(e,t,r){return t===t?Ghe(e,t,r):Vhe(e,Khe,r)}var Yhe=Jhe,Xhe=Yhe;function Qhe(e,t){var r=e==null?0:e.length;return!!r&&Xhe(e,t,0)>-1}var Zhe=Qhe;function eme(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var tme=eme;function rme(){}var nme=rme,wb=ZD,ame=nme,ome=r2,sme=1/0,ime=wb&&1/ome(new wb([,-0]))[1]==sme?function(e){return new wb(e)}:ame,lme=ime,cme=qD,ume=Zhe,dme=tme,fme=HD,hme=lme,mme=r2,pme=200;function gme(e,t,r){var n=-1,a=ume,o=e.length,i=!0,l=[],c=l;if(r)i=!1,a=dme;else if(o>=pme){var u=t?null:hme(e);if(u)return mme(u);i=!1,a=fme,c=new cme}else c=t?[]:l;e:for(;++n<o;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,i&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(f)}else a(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var yme=gme,vme=Ui,xme=yme;function bme(e,t){return e&&e.length?xme(e,vme(t)):[]}var wme=bme;const EA=Gt(wme);function o6(e,t,r){return t===!0?EA(e,r):Et(t)?EA(e,t):e}function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}var Sme=["ref"];function CA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(r),!0).forEach(function(n){P0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i6(n.key),n)}}function _me(e,t,r){return t&&PA(e.prototype,t),r&&PA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kme(e,t,r){return t=py(t),Nme(e,s6()?Reflect.construct(t,r||[],py(e).constructor):t.apply(e,r))}function Nme(e,t){if(t&&(Du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eme(e)}function Eme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s6=function(){return!!e})()}function py(e){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},py(e)}function Cme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uS(e,t)}function uS(e,t){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uS(e,t)}function P0(e,t,r){return t=i6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i6(e){var t=Pme(e,"string");return Du(t)=="symbol"?t:t+""}function Pme(e,t){if(Du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ame(e,t){if(e==null)return{};var r=Tme(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ome(e){return e.value}function Rme(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=Ame(t,Sme);return I.createElement(t2,r)}var AA=1,ou=function(e){function t(){var r;jme(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=kme(this,t,[].concat(a)),P0(r,"lastBoundingBox",{width:-1,height:-1}),r}return Cme(t,e),_me(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>AA||Math.abs(a.height-this.lastBoundingBox.height)>AA)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Xo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();d={left:((u||0)-y.width)/2}}else d=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((f||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Xo(Xo({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,d=Xo(Xo({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return I.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(y){n.wrapperNode=y}},Rme(o,Xo(Xo({},this.props),{},{payload:o6(f,u,Ome)})))}}],[{key:"getWithHeight",value:function(n,a){var o=Xo(Xo({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&Ue(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(m.PureComponent);P0(ou,"displayName","Legend");P0(ou,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var TA=Nm,$me=n2,Mme=Yn,OA=TA?TA.isConcatSpreadable:void 0;function Ime(e){return Mme(e)||$me(e)||!!(OA&&e&&e[OA])}var Lme=Ime,Dme=KD,Fme=Lme;function l6(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=Fme),a||(a=[]);++o<i;){var l=e[o];t>0&&r(l)?t>1?l6(l,t-1,r,n,a):Dme(a,l):n||(a[a.length]=l)}return a}var c6=l6;function Bme(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++a];if(r(o[c],c,o)===!1)break}return t}}var Ume=Bme,zme=Ume,qme=zme(),Wme=qme,Hme=Wme,Vme=C0;function Kme(e,t){return e&&Hme(e,t,Vme)}var u6=Kme,Gme=Pm;function Jme(e,t){return function(r,n){if(r==null)return r;if(!Gme(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var Yme=Jme,Xme=u6,Qme=Yme,Zme=Qme(Xme),i2=Zme,epe=i2,tpe=Pm;function rpe(e,t){var r=-1,n=tpe(e)?Array(e.length):[];return epe(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var d6=rpe;function npe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var ape=npe,RA=bd;function ope(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=RA(e),i=t!==void 0,l=t===null,c=t===t,u=RA(t);if(!l&&!u&&!o&&e>t||o&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!o&&!u&&e<t||u&&r&&a&&!n&&!o||l&&r&&a||!i&&a||!c)return-1}return 0}var spe=ope,ipe=spe;function lpe(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,l=r.length;++n<i;){var c=ipe(a[n],o[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var cpe=lpe,Sb=Hk,upe=Vk,dpe=Ui,fpe=d6,hpe=ape,mpe=YD,ppe=cpe,gpe=Ed,ype=Yn;function vpe(e,t,r){t.length?t=Sb(t,function(o){return ype(o)?function(i){return upe(i,o.length===1?o[0]:o)}:o}):t=[gpe];var n=-1;t=Sb(t,mpe(dpe));var a=fpe(e,function(o,i,l){var c=Sb(t,function(u){return u(o)});return{criteria:c,index:++n,value:o}});return hpe(a,function(o,i){return ppe(o,i,r)})}var xpe=vpe;function bpe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var wpe=bpe,Spe=wpe,$A=Math.max;function jpe(e,t,r){return t=$A(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=$A(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(i),Spe(e,this,l)}}var _pe=jpe;function kpe(e){return function(){return e}}var Npe=kpe,Epe=ec,Cpe=function(){try{var e=Epe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),f6=Cpe,Ppe=Npe,MA=f6,Ape=Ed,Tpe=MA?function(e,t){return MA(e,"toString",{configurable:!0,enumerable:!1,value:Ppe(t),writable:!0})}:Ape,Ope=Tpe,Rpe=800,$pe=16,Mpe=Date.now;function Ipe(e){var t=0,r=0;return function(){var n=Mpe(),a=$pe-(n-r);if(r=n,a>0){if(++t>=Rpe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Lpe=Ipe,Dpe=Ope,Fpe=Lpe,Bpe=Fpe(Dpe),Upe=Bpe,zpe=Ed,qpe=_pe,Wpe=Upe;function Hpe(e,t){return Wpe(qpe(e,t,zpe),e+"")}var Vpe=Hpe,Kpe=Uk,Gpe=Pm,Jpe=a2,Ype=Bi;function Xpe(e,t,r){if(!Ype(r))return!1;var n=typeof t;return(n=="number"?Gpe(r)&&Jpe(t,r.length):n=="string"&&t in r)?Kpe(r[t],e):!1}var A0=Xpe,Qpe=c6,Zpe=xpe,ege=Vpe,IA=A0,tge=ege(function(e,t){if(e==null)return[];var r=t.length;return r>1&&IA(e,t[0],t[1])?t=[]:r>2&&IA(t[0],t[1],t[2])&&(t=[t[0]]),Zpe(e,Qpe(t,1),[])}),rge=tge;const l2=Gt(rge);function bh(e){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(e)}function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dS.apply(this,arguments)}function nge(e,t){return ige(e)||sge(e,t)||oge(e,t)||age()}function age(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oge(e,t){if(e){if(typeof e=="string")return LA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LA(e,t)}}function LA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function ige(e){if(Array.isArray(e))return e}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(n){lge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lge(e,t,r){return t=cge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cge(e){var t=uge(e,"string");return bh(t)=="symbol"?t:t+""}function uge(e,t){if(bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dge(e){return Array.isArray(e)&&Ur(e[0])&&Ur(e[1])?e.join(" ~ "):e}var fge=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,y=t.wrapperClassName,v=t.labelClassName,p=t.label,g=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(f&&f.length){var D={padding:0,margin:0},B=(h?l2(f,h):f).map(function(z,F){if(z.type==="none")return null;var $=jb({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),U=z.formatter||d||dge,P=z.value,M=z.name,W=P,R=M;if(U&&W!=null&&R!=null){var q=U(P,M,z,F,f);if(Array.isArray(q)){var ee=nge(q,2);W=ee[0],R=ee[1]}else W=q}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:$},Ur(R)?I.createElement("span",{className:"recharts-tooltip-item-name"},R):null,Ur(R)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},W),I.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:D},B)}return null},S=jb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),j=jb({margin:0},u),k=!Bt(p),_=k?p:"",N=$t("recharts-default-tooltip",y),E=$t("recharts-tooltip-label",v);k&&g&&f!==void 0&&f!==null&&(_=g(p,f));var A=b?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",dS({className:N,style:S},A),I.createElement("p",{className:E,style:j},I.isValidElement(_)?_:"".concat(_)),w())};function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}function kp(e,t,r){return t=hge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hge(e){var t=mge(e,"string");return wh(t)=="symbol"?t:t+""}function mge(e,t){if(wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qd="recharts-tooltip-wrapper",pge={visibility:"hidden"};function gge(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return $t(Qd,kp(kp(kp(kp({},"".concat(Qd,"-right"),Ue(r)&&t&&Ue(t.x)&&r>=t.x),"".concat(Qd,"-left"),Ue(r)&&t&&Ue(t.x)&&r<t.x),"".concat(Qd,"-bottom"),Ue(n)&&t&&Ue(t.y)&&n>=t.y),"".concat(Qd,"-top"),Ue(n)&&t&&Ue(t.y)&&n<t.y))}function FA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(o&&Ue(o[n]))return o[n];var f=r[n]-l-a,d=r[n]+a;if(t[n])return i[n]?f:d;if(i[n]){var h=f,y=c[n];return h<y?Math.max(d,c[n]):Math.max(f,c[n])}var v=d+l,p=c[n]+u;return v>p?Math.max(f,c[n]):Math.max(d,c[n])}function yge(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function vge(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return i.height>0&&i.width>0&&r?(f=FA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),d=FA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=yge({translateX:f,translateY:d,useTranslate3d:l})):u=pge,{cssProperties:u,cssClasses:gge({translateX:f,translateY:d,coordinate:r})}}function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){hS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m6(n.key),n)}}function wge(e,t,r){return t&&bge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sge(e,t,r){return t=gy(t),jge(e,h6()?Reflect.construct(t,r||[],gy(e).constructor):t.apply(e,r))}function jge(e,t){if(t&&(Fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ge(e)}function _ge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h6=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(e)}function kge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}function fS(e,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fS(e,t)}function hS(e,t,r){return t=m6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m6(e){var t=Nge(e,"string");return Fu(t)=="symbol"?t:t+""}function Nge(e,t){if(Fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zA=1,Ege=function(e){function t(){var r;xge(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Sge(this,t,[].concat(a)),hS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),hS(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return kge(t,e),wge(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>zA||Math.abs(n.height-this.state.lastBoundingBox.height)>zA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,y=a.offset,v=a.position,p=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,b=a.wrapperStyle,w=vge({allowEscapeViewBox:i,coordinate:f,offsetTopLeft:y,position:v,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:x}),S=w.cssClasses,j=w.cssProperties,k=UA(UA({transition:h&&o?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return I.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(N){n.wrapperNode=N}},u)}}])}(m.PureComponent),Cge=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Si={isSsr:Cge(),get:function(t){return Si[t]},set:function(t,r){if(typeof t=="string")Si[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Si[a]=t[a]})}}};function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function qA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(r),!0).forEach(function(n){c2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Age(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g6(n.key),n)}}function Tge(e,t,r){return t&&Age(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oge(e,t,r){return t=yy(t),Rge(e,p6()?Reflect.construct(t,r||[],yy(e).constructor):t.apply(e,r))}function Rge(e,t){if(t&&(Bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ge(e)}function $ge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p6=function(){return!!e})()}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yy(e)}function Mge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mS(e,t)}function c2(e,t,r){return t=g6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g6(e){var t=Ige(e,"string");return Bu(t)=="symbol"?t:t+""}function Ige(e,t){if(Bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lge(e){return e.dataKey}function Dge(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(fge,t)}var ko=function(e){function t(){return Pge(this,t),Oge(this,t,arguments)}return Mge(t,e),Tge(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,y=a.offset,v=a.payload,p=a.payloadUniqBy,g=a.position,x=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,S=a.wrapperStyle,j=v??[];d&&j.length&&(j=o6(v.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),p,Lge));var k=j.length>0;return I.createElement(Ege,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:o,coordinate:f,hasPayload:k,offset:y,position:g,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:S},Dge(u,WA(WA({},this.props),{},{payload:j})))}}])}(m.PureComponent);c2(ko,"displayName","Tooltip");c2(ko,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Si.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Fge=Go,Bge=function(){return Fge.Date.now()},Uge=Bge,zge=/\s/;function qge(e){for(var t=e.length;t--&&zge.test(e.charAt(t)););return t}var Wge=qge,Hge=Wge,Vge=/^\s+/;function Kge(e){return e&&e.slice(0,Hge(e)+1).replace(Vge,"")}var Gge=Kge,Jge=Gge,HA=Bi,Yge=bd,VA=NaN,Xge=/^[-+]0x[0-9a-f]+$/i,Qge=/^0b[01]+$/i,Zge=/^0o[0-7]+$/i,eye=parseInt;function tye(e){if(typeof e=="number")return e;if(Yge(e))return VA;if(HA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=HA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Jge(e);var r=Qge.test(e);return r||Zge.test(e)?eye(e.slice(2),r?2:8):Xge.test(e)?VA:+e}var y6=tye,rye=Bi,_b=Uge,KA=y6,nye="Expected a function",aye=Math.max,oye=Math.min;function sye(e,t,r){var n,a,o,i,l,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(nye);t=KA(t)||0,rye(r)&&(f=!!r.leading,d="maxWait"in r,o=d?aye(KA(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function y(k){var _=n,N=a;return n=a=void 0,u=k,i=e.apply(N,_),i}function v(k){return u=k,l=setTimeout(x,t),f?y(k):i}function p(k){var _=k-c,N=k-u,E=t-_;return d?oye(E,o-N):E}function g(k){var _=k-c,N=k-u;return c===void 0||_>=t||_<0||d&&N>=o}function x(){var k=_b();if(g(k))return b(k);l=setTimeout(x,p(k))}function b(k){return l=void 0,h&&n?y(k):(n=a=void 0,i)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function S(){return l===void 0?i:b(_b())}function j(){var k=_b(),_=g(k);if(n=arguments,a=this,c=k,_){if(l===void 0)return v(c);if(d)return clearTimeout(l),l=setTimeout(x,t),y(c)}return l===void 0&&(l=setTimeout(x,t)),i}return j.cancel=w,j.flush=S,j}var iye=sye,lye=iye,cye=Bi,uye="Expected a function";function dye(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(uye);return cye(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),lye(e,t,{leading:n,maxWait:t,trailing:a})}var fye=dye;const v6=Gt(fye);function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}function GA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Np(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(r),!0).forEach(function(n){hye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hye(e,t,r){return t=mye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mye(e){var t=pye(e,"string");return Sh(t)=="symbol"?t:t+""}function pye(e,t){if(Sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gye(e,t){return bye(e)||xye(e,t)||vye(e,t)||yye()}function yye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vye(e,t){if(e){if(typeof e=="string")return JA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JA(e,t)}}function JA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function bye(e){if(Array.isArray(e))return e}var wye=m.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,y=e.children,v=e.debounce,p=v===void 0?0:v,g=e.id,x=e.className,b=e.onResize,w=e.style,S=w===void 0?{}:w,j=m.useRef(null),k=m.useRef();k.current=b,m.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var _=m.useState({containerWidth:a.width,containerHeight:a.height}),N=gye(_,2),E=N[0],A=N[1],T=m.useCallback(function(B,z){A(function(F){var $=Math.round(B),U=Math.round(z);return F.containerWidth===$&&F.containerHeight===U?F:{containerWidth:$,containerHeight:U}})},[]);m.useEffect(function(){var B=function(M){var W,R=M[0].contentRect,q=R.width,ee=R.height;T(q,ee),(W=k.current)===null||W===void 0||W.call(k,q,ee)};p>0&&(B=v6(B,p,{trailing:!0,leading:!1}));var z=new ResizeObserver(B),F=j.current.getBoundingClientRect(),$=F.width,U=F.height;return T($,U),z.observe(j.current),function(){z.disconnect()}},[T,p]);var D=m.useMemo(function(){var B=E.containerWidth,z=E.containerHeight;if(B<0||z<0)return null;hs(ul(i)||ul(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),hs(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=ul(i)?B:i,$=ul(c)?z:c;r&&r>0&&(F?$=F/r:$&&(F=$*r),h&&$>h&&($=h)),hs(F>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,$,i,c,f,d,r);var U=!Array.isArray(y)&&fs(y.type).endsWith("Chart");return I.Children.map(y,function(P){return mD.isElement(P)?m.cloneElement(P,Np({width:F,height:$},U?{style:Np({height:"100%",width:"100%",maxHeight:$,maxWidth:F},P.props.style)}:{})):P})},[r,y,c,h,d,f,E,i]);return I.createElement("div",{id:g?"".concat(g):void 0,className:$t("recharts-responsive-container",x),style:Np(Np({},S),{},{width:i,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:j},D)}),Am=function(t){return null};Am.displayName="Cell";function jh(e){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(e)}function YA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(r),!0).forEach(function(n){Sye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sye(e,t,r){return t=jye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jye(e){var t=_ye(e,"string");return jh(t)=="symbol"?t:t+""}function _ye(e,t){if(jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pc={widthCache:{},cacheCount:0},kye=2e3,Nye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XA="recharts_measurement_span";function Eye(e){var t=pS({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Df=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Si.isSsr)return{width:0,height:0};var n=Eye(r),a=JSON.stringify({text:t,copyStyle:n});if(pc.widthCache[a])return pc.widthCache[a];try{var o=document.getElementById(XA);o||(o=document.createElement("span"),o.setAttribute("id",XA),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=pS(pS({},Nye),n);Object.assign(o.style,i),o.textContent="".concat(t);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return pc.widthCache[a]=c,++pc.cacheCount>kye&&(pc.cacheCount=0,pc.widthCache={}),c}catch{return{width:0,height:0}}},Cye=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function vy(e,t){return Oye(e)||Tye(e,t)||Aye(e,t)||Pye()}function Pye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aye(e,t){if(e){if(typeof e=="string")return QA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QA(e,t)}}function QA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Oye(e){if(Array.isArray(e))return e}function Rye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mye(n.key),n)}}function $ye(e,t,r){return t&&ZA(e.prototype,t),r&&ZA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mye(e){var t=Iye(e,"string");return _h(t)=="symbol"?t:t+""}function Iye(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Dye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,x6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Fye=Object.keys(x6),Uc="NaN";function Bye(e,t){return e*x6[t]}var Ep=function(){function e(t,r){Rye(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Lye.test(r)&&(this.num=NaN,this.unit=""),Fye.includes(r)&&(this.num=Bye(t,r),this.unit="px")}return $ye(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Dye.exec(r))!==null&&n!==void 0?n:[],o=vy(a,3),i=o[1],l=o[2];return new e(parseFloat(i),l??"")}}])}();function b6(e){if(e.includes(Uc))return Uc;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=eT.exec(t))!==null&&r!==void 0?r:[],a=vy(n,4),o=a[1],i=a[2],l=a[3],c=Ep.parse(o??""),u=Ep.parse(l??""),f=i==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Uc;t=t.replace(eT,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=tT.exec(t))!==null&&d!==void 0?d:[],y=vy(h,4),v=y[1],p=y[2],g=y[3],x=Ep.parse(v??""),b=Ep.parse(g??""),w=p==="+"?x.add(b):x.subtract(b);if(w.isNaN())return Uc;t=t.replace(tT,w.toString())}return t}var rT=/\(([^()]*)\)/;function Uye(e){for(var t=e;t.includes("(");){var r=rT.exec(t),n=vy(r,2),a=n[1];t=t.replace(rT,b6(a))}return t}function zye(e){var t=e.replace(/\s+/g,"");return t=Uye(t),t=b6(t),t}function qye(e){try{return zye(e)}catch{return Uc}}function kb(e){var t=qye(e.slice(5,-1));return t===Uc?"":t}var Wye=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hye=["dx","dy","angle","className","breakAll"];function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gS.apply(this,arguments)}function nT(e,t){if(e==null)return{};var r=Vye(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aT(e,t){return Yye(e)||Jye(e,t)||Gye(e,t)||Kye()}function Kye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gye(e,t){if(e){if(typeof e=="string")return oT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oT(e,t)}}function oT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Yye(e){if(Array.isArray(e))return e}var w6=/[ \f\n\r\t\v\u2028\u2029]+/,S6=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];Bt(r)||(n?o=r.toString().split(""):o=r.toString().split(w6));var i=o.map(function(c){return{word:c,width:Df(c,a).width}}),l=n?0:Df("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},Xye=function(t,r,n,a,o){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=Ue(i),d=l,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function($,U){var P=U.word,M=U.width,W=$[$.length-1];if(W&&(a==null||o||W.width+M+n<Number(a)))W.words.push(P),W.width+=M+n;else{var R={words:[P],width:M};$.push(R)}return $},[])},y=h(r),v=function(F){return F.reduce(function($,U){return $.width>U.width?$:U})};if(!f)return y;for(var p="",g=function(F){var $=d.slice(0,F),U=S6({breakAll:u,style:c,children:$+p}).wordsWithComputedWidth,P=h(U),M=P.length>i||v(P).width>Number(a);return[M,P]},x=0,b=d.length-1,w=0,S;x<=b&&w<=d.length-1;){var j=Math.floor((x+b)/2),k=j-1,_=g(k),N=aT(_,2),E=N[0],A=N[1],T=g(j),D=aT(T,1),B=D[0];if(!E&&!B&&(x=j+1),E&&B&&(b=j-1),!E&&B){S=A;break}w++}return S||y},sT=function(t){var r=Bt(t)?[]:t.toString().split(w6);return[{words:r}]},Qye=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!Si.isSsr){var c,u,f=S6({breakAll:i,children:a,style:o});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return sT(a);return Xye({breakAll:i,children:a,maxLines:l,style:o},c,u,r,n)}return sT(a)},iT="#808080",xy=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,y=h===void 0?"start":h,v=t.verticalAnchor,p=v===void 0?"end":v,g=t.fill,x=g===void 0?iT:g,b=nT(t,Wye),w=m.useMemo(function(){return Qye({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),S=b.dx,j=b.dy,k=b.angle,_=b.className,N=b.breakAll,E=nT(b,Hye);if(!Ur(n)||!Ur(o))return null;var A=n+(Ue(S)?S:0),T=o+(Ue(j)?j:0),D;switch(p){case"start":D=kb("calc(".concat(u,")"));break;case"middle":D=kb("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:D=kb("calc(".concat(w.length-1," * -").concat(l,")"));break}var B=[];if(d){var z=w[0].width,F=b.width;B.push("scale(".concat((Ue(F)?F/z:1)/z,")"))}return k&&B.push("rotate(".concat(k,", ").concat(A,", ").concat(T,")")),B.length&&(E.transform=B.join(" ")),I.createElement("text",gS({},Dt(E,!0),{x:A,y:T,className:$t("recharts-text",_),textAnchor:y,fill:x.includes("url")?iT:x}),w.map(function($,U){var P=$.words.join(N?"":" ");return I.createElement("tspan",{x:A,dy:U===0?D:l,key:"".concat(P,"-").concat(U)},P)}))};function ji(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zye(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function u2(e){let t,r,n;e.length!==2?(t=ji,r=(l,c)=>ji(e(l),c),n=(l,c)=>e(l)-c):(t=e===ji||e===Zye?e:eve,r=e,n=e);function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function i(l,c,u=0,f=l.length){const d=a(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:a,center:i,right:o}}function eve(){return 0}function j6(e){return e===null?NaN:+e}function*tve(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const rve=u2(ji),Tm=rve.right;u2(j6).center;class lT extends Map{constructor(t,r=ove){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(cT(this,t))}has(t){return super.has(cT(this,t))}set(t,r){return super.set(nve(this,t),r)}delete(t){return super.delete(ave(this,t))}}function cT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function nve({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ave({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function ove(e){return e!==null&&typeof e=="object"?e.valueOf():e}function sve(e=ji){if(e===ji)return _6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function _6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ive=Math.sqrt(50),lve=Math.sqrt(10),cve=Math.sqrt(2);function by(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=ive?10:o>=lve?5:o>=cve?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?by(e,t,r*2):[l,c,u]}function yS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?by(t,e,r):by(e,t,r);if(!(o>=a))return[];const l=o-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(o-u)/-i;else for(let u=0;u<l;++u)c[u]=(o-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function vS(e,t,r){return t=+t,e=+e,r=+r,by(e,t,r)[2]}function xS(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?vS(t,e,r):vS(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function uT(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function dT(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function k6(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?_6:sve(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),y=Math.max(r,Math.floor(t-u*d/c+h)),v=Math.min(n,Math.floor(t+(c-u)*d/c+h));k6(e,t,y,v,a)}const o=e[t];let i=r,l=n;for(Zd(e,r,t),a(e[n],o)>0&&Zd(e,r,n);i<l;){for(Zd(e,i,l),++i,--l;a(e[i],o)<0;)++i;for(;a(e[l],o)>0;)--l}a(e[r],o)===0?Zd(e,r,l):(++l,Zd(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Zd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function uve(e,t,r){if(e=Float64Array.from(tve(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return dT(e);if(t>=1)return uT(e);var n,a=(n-1)*t,o=Math.floor(a),i=uT(k6(e,o).subarray(0,o+1)),l=dT(e.subarray(o+1));return i+(l-i)*(a-o)}}function dve(e,t,r=j6){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),l=+r(e[o+1],o+1,e);return i+(l-i)*(a-o)}}function fve(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function Da(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ps(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const bS=Symbol("implicit");function d2(){var e=new lT,t=[],r=[],n=bS;function a(o){let i=e.get(o);if(i===void 0){if(n!==bS)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new lT;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return d2(t,r).unknown(n)},Da.apply(a,arguments),a}function kh(){var e=d2().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,y=a<n,v=y?a:n,p=y?n:a;o=(p-v)/Math.max(1,h-c+u*2),l&&(o=Math.floor(o)),v+=(p-v-o*(h-c))*f,i=o*(1-c),l&&(v=Math.round(v),i=Math.round(i));var g=fve(h).map(function(x){return v+o*x});return r(y?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return kh(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},Da.apply(d(),arguments)}function N6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return N6(t())},e}function Ff(){return N6(kh.apply(null,arguments).paddingInner(1))}function f2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function E6(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Om(){}var Nh=.7,wy=1/Nh,su="\\s*([+-]?\\d+)\\s*",Eh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hve=/^#([0-9a-f]{3,8})$/,mve=new RegExp(`^rgb\\(${su},${su},${su}\\)$`),pve=new RegExp(`^rgb\\(${Fo},${Fo},${Fo}\\)$`),gve=new RegExp(`^rgba\\(${su},${su},${su},${Eh}\\)$`),yve=new RegExp(`^rgba\\(${Fo},${Fo},${Fo},${Eh}\\)$`),vve=new RegExp(`^hsl\\(${Eh},${Fo},${Fo}\\)$`),xve=new RegExp(`^hsla\\(${Eh},${Fo},${Fo},${Eh}\\)$`),fT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};f2(Om,Ch,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hT,formatHex:hT,formatHex8:bve,formatHsl:wve,formatRgb:mT,toString:mT});function hT(){return this.rgb().formatHex()}function bve(){return this.rgb().formatHex8()}function wve(){return C6(this).formatHsl()}function mT(){return this.rgb().formatRgb()}function Ch(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hve.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?pT(t):r===3?new Wn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Cp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Cp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mve.exec(e))?new Wn(t[1],t[2],t[3],1):(t=pve.exec(e))?new Wn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gve.exec(e))?Cp(t[1],t[2],t[3],t[4]):(t=yve.exec(e))?Cp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vve.exec(e))?vT(t[1],t[2]/100,t[3]/100,1):(t=xve.exec(e))?vT(t[1],t[2]/100,t[3]/100,t[4]):fT.hasOwnProperty(e)?pT(fT[e]):e==="transparent"?new Wn(NaN,NaN,NaN,0):null}function pT(e){return new Wn(e>>16&255,e>>8&255,e&255,1)}function Cp(e,t,r,n){return n<=0&&(e=t=r=NaN),new Wn(e,t,r,n)}function Sve(e){return e instanceof Om||(e=Ch(e)),e?(e=e.rgb(),new Wn(e.r,e.g,e.b,e.opacity)):new Wn}function wS(e,t,r,n){return arguments.length===1?Sve(e):new Wn(e,t,r,n??1)}function Wn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}f2(Wn,wS,E6(Om,{brighter(e){return e=e==null?wy:Math.pow(wy,e),new Wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nh:Math.pow(Nh,e),new Wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wn(El(this.r),El(this.g),El(this.b),Sy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gT,formatHex:gT,formatHex8:jve,formatRgb:yT,toString:yT}));function gT(){return`#${dl(this.r)}${dl(this.g)}${dl(this.b)}`}function jve(){return`#${dl(this.r)}${dl(this.g)}${dl(this.b)}${dl((isNaN(this.opacity)?1:this.opacity)*255)}`}function yT(){const e=Sy(this.opacity);return`${e===1?"rgb(":"rgba("}${El(this.r)}, ${El(this.g)}, ${El(this.b)}${e===1?")":`, ${e})`}`}function Sy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function El(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dl(e){return e=El(e),(e<16?"0":"")+e.toString(16)}function vT(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Za(e,t,r,n)}function C6(e){if(e instanceof Za)return new Za(e.h,e.s,e.l,e.opacity);if(e instanceof Om||(e=Ch(e)),!e)return new Za;if(e instanceof Za)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,l=o-a,c=(o+a)/2;return l?(t===o?i=(r-n)/l+(r<n)*6:r===o?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?o+a:2-o-a,i*=60):l=c>0&&c<1?0:i,new Za(i,l,c,e.opacity)}function _ve(e,t,r,n){return arguments.length===1?C6(e):new Za(e,t,r,n??1)}function Za(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}f2(Za,_ve,E6(Om,{brighter(e){return e=e==null?wy:Math.pow(wy,e),new Za(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nh:Math.pow(Nh,e),new Za(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Wn(Nb(e>=240?e-240:e+120,a,n),Nb(e,a,n),Nb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Za(xT(this.h),Pp(this.s),Pp(this.l),Sy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sy(this.opacity);return`${e===1?"hsl(":"hsla("}${xT(this.h)}, ${Pp(this.s)*100}%, ${Pp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xT(e){return e=(e||0)%360,e<0?e+360:e}function Pp(e){return Math.max(0,Math.min(1,e||0))}function Nb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const h2=e=>()=>e;function kve(e,t){return function(r){return e+r*t}}function Nve(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Eve(e){return(e=+e)==1?P6:function(t,r){return r-t?Nve(t,r,e):h2(isNaN(t)?r:t)}}function P6(e,t){var r=t-e;return r?kve(e,r):h2(isNaN(e)?t:e)}const bT=function e(t){var r=Eve(t);function n(a,o){var i=r((a=wS(a)).r,(o=wS(o)).r),l=r(a.g,o.g),c=r(a.b,o.b),u=P6(a.opacity,o.opacity);return function(f){return a.r=i(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);function Cve(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function Pve(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ave(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=Cd(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(l){for(i=0;i<n;++i)o[i]=a[i](l);return o}}function Tve(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function jy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Ove(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Cd(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var SS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Eb=new RegExp(SS.source,"g");function Rve(e){return function(){return e}}function $ve(e){return function(t){return e(t)+""}}function Mve(e,t){var r=SS.lastIndex=Eb.lastIndex=0,n,a,o,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=SS.exec(e))&&(a=Eb.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),l[i]?l[i]+=o:l[++i]=o),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:jy(n,a)})),r=Eb.lastIndex;return r<t.length&&(o=t.slice(r),l[i]?l[i]+=o:l[++i]=o),l.length<2?c[0]?$ve(c[0].x):Rve(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function Cd(e,t){var r=typeof t,n;return t==null||r==="boolean"?h2(t):(r==="number"?jy:r==="string"?(n=Ch(t))?(t=n,bT):Mve:t instanceof Ch?bT:t instanceof Date?Tve:Pve(t)?Cve:Array.isArray(t)?Ave:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ove:jy)(e,t)}function m2(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ive(e,t){t===void 0&&(t=e,e=Cd);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[l](i-l)}}function Lve(e){return function(){return e}}function _y(e){return+e}var wT=[0,1];function An(e){return e}function jS(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Lve(isNaN(t)?NaN:.5)}function Dve(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Fve(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=jS(a,n),o=r(i,o)):(n=jS(n,a),o=r(o,i)),function(l){return o(n(l))}}function Bve(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=jS(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(l){var c=Tm(e,l,1,n)-1;return o[c](a[c](l))}}function Rm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function T0(){var e=wT,t=wT,r=Cd,n,a,o,i=An,l,c,u;function f(){var h=Math.min(e.length,t.length);return i!==An&&(i=Dve(e[0],e[h-1])),l=h>2?Bve:Fve,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((u||(u=l(t,e.map(n),jy)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,_y),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=m2,f()},d.clamp=function(h){return arguments.length?(i=h?!0:An,f()):i!==An},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,y){return n=h,a=y,f()}}function p2(){return T0()(An,An)}function Uve(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ky(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Uu(e){return e=ky(Math.abs(e)),e?e[1]:NaN}function zve(e,t){return function(r,n){for(var a=r.length,o=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),o.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return o.reverse().join(t)}}function qve(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Wve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ph(e){if(!(t=Wve.exec(e)))throw new Error("invalid format: "+e);var t;return new g2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ph.prototype=g2.prototype;function g2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}g2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hve(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var A6;function Vve(e,t){var r=ky(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(A6=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+ky(e,Math.max(0,t+o-1))[0]}function ST(e,t){var r=ky(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const jT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Uve,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ST(e*100,t),r:ST,s:Vve,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _T(e){return e}var kT=Array.prototype.map,NT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Kve(e){var t=e.grouping===void 0||e.thousands===void 0?_T:zve(kT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?_T:qve(kT.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Ph(d);var h=d.fill,y=d.align,v=d.sign,p=d.symbol,g=d.zero,x=d.width,b=d.comma,w=d.precision,S=d.trim,j=d.type;j==="n"?(b=!0,j="g"):jT[j]||(w===void 0&&(w=12),S=!0,j="g"),(g||h==="0"&&y==="=")&&(g=!0,h="0",y="=");var k=p==="$"?r:p==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",_=p==="$"?n:/[%p]/.test(j)?i:"",N=jT[j],E=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(T){var D=k,B=_,z,F,$;if(j==="c")B=N(T)+B,T="";else{T=+T;var U=T<0||1/T<0;if(T=isNaN(T)?c:N(Math.abs(T),w),S&&(T=Hve(T)),U&&+T==0&&v!=="+"&&(U=!1),D=(U?v==="("?v:l:v==="-"||v==="("?"":v)+D,B=(j==="s"?NT[8+A6/3]:"")+B+(U&&v==="("?")":""),E){for(z=-1,F=T.length;++z<F;)if($=T.charCodeAt(z),48>$||$>57){B=($===46?a+T.slice(z+1):T.slice(z))+B,T=T.slice(0,z);break}}}b&&!g&&(T=t(T,1/0));var P=D.length+T.length+B.length,M=P<x?new Array(x-P+1).join(h):"";switch(b&&g&&(T=t(M+T,M.length?x-B.length:1/0),M=""),y){case"<":T=D+T+B+M;break;case"=":T=D+M+T+B;break;case"^":T=M.slice(0,P=M.length>>1)+D+T+B+M.slice(P);break;default:T=M+D+T+B;break}return o(T)}return A.toString=function(){return d+""},A}function f(d,h){var y=u((d=Ph(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Uu(h)/3)))*3,p=Math.pow(10,-v),g=NT[8+v/3];return function(x){return y(p*x)+g}}return{format:u,formatPrefix:f}}var Ap,y2,T6;Gve({thousands:",",grouping:[3],currency:["$",""]});function Gve(e){return Ap=Kve(e),y2=Ap.format,T6=Ap.formatPrefix,Ap}function Jve(e){return Math.max(0,-Uu(Math.abs(e)))}function Yve(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uu(t)/3)))*3-Uu(Math.abs(e)))}function Xve(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Uu(t)-Uu(e))+1}function O6(e,t,r,n){var a=xS(e,t,r),o;switch(n=Ph(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=Yve(a,i))&&(n.precision=o),T6(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=Xve(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Jve(a))&&(n.precision=o-(n.type==="%")*2);break}}return y2(n)}function zi(e){var t=e.domain;return e.ticks=function(r){var n=t();return yS(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return O6(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],l=n[o],c,u,f=10;for(l<i&&(u=i,i=l,l=u,u=a,a=o,o=u);f-- >0;){if(u=vS(i,l,r),u===c)return n[a]=i,n[o]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Ny(){var e=p2();return e.copy=function(){return Rm(e,Ny())},Da.apply(e,arguments),zi(e)}function R6(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,_y),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return R6(e).unknown(t)},e=arguments.length?Array.from(e,_y):[0,1],zi(r)}function $6(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function ET(e){return Math.log(e)}function CT(e){return Math.exp(e)}function Qve(e){return-Math.log(-e)}function Zve(e){return-Math.exp(-e)}function e0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function t0e(e){return e===10?e0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function r0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function PT(e){return(t,r)=>-e(-t,r)}function v2(e){const t=e(ET,CT),r=t.domain;let n=10,a,o;function i(){return a=r0e(n),o=t0e(n),r()[0]<0?(a=PT(a),o=PT(o),e(Qve,Zve)):e(ET,CT),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=a(u),y=a(f),v,p;const g=l==null?10:+l;let x=[];if(!(n%1)&&y-h<g){if(h=Math.floor(h),y=Math.ceil(y),u>0){for(;h<=y;++h)for(v=1;v<n;++v)if(p=h<0?v/o(-h):v*o(h),!(p<u)){if(p>f)break;x.push(p)}}else for(;h<=y;++h)for(v=n-1;v>=1;--v)if(p=h>0?v/o(-h):v*o(h),!(p<u)){if(p>f)break;x.push(p)}x.length*2<g&&(x=yS(u,f,g))}else x=yS(h,y,Math.min(y-h,g)).map(o);return d?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ph(c)).precision==null&&(c.trim=!0),c=y2(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/o(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r($6(r(),{floor:l=>o(Math.floor(a(l))),ceil:l=>o(Math.ceil(a(l)))})),t}function M6(){const e=v2(T0()).domain([1,10]);return e.copy=()=>Rm(e,M6()).base(e.base()),Da.apply(e,arguments),e}function AT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function TT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function x2(e){var t=1,r=e(AT(t),TT(t));return r.constant=function(n){return arguments.length?e(AT(t=+n),TT(t)):t},zi(r)}function I6(){var e=x2(T0());return e.copy=function(){return Rm(e,I6()).constant(e.constant())},Da.apply(e,arguments)}function OT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function n0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function a0e(e){return e<0?-e*e:e*e}function b2(e){var t=e(An,An),r=1;function n(){return r===1?e(An,An):r===.5?e(n0e,a0e):e(OT(r),OT(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},zi(t)}function w2(){var e=b2(T0());return e.copy=function(){return Rm(e,w2()).exponent(e.exponent())},Da.apply(e,arguments),e}function o0e(){return w2.apply(null,arguments).exponent(.5)}function RT(e){return Math.sign(e)*e*e}function s0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function L6(){var e=p2(),t=[0,1],r=!1,n;function a(o){var i=s0e(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(RT(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,_y)).map(RT)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return L6(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Da.apply(a,arguments),zi(a)}function D6(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=dve(e,i/l);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Tm(r,i)]}return o.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ji),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return D6().domain(e).range(t).unknown(n)},Da.apply(o,arguments)}function F6(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(c){return c!=null&&c<=c?a[Tm(n,c,0,r)]:o}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(o=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return F6().domain([e,t]).range(a).unknown(o)},Da.apply(zi(i),arguments)}function B6(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[Tm(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return B6().domain(e).range(t).unknown(r)},Da.apply(a,arguments)}const Cb=new Date,Pb=new Date;function zr(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),l=a.ceil(o);return o-i<l-o?i:l},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,l)=>{const c=[];if(o=a.ceil(o),l=l==null?1:Math.floor(l),!(o<i)||!(l>0))return c;let u;do c.push(u=new Date(+o)),t(o,l),e(o);while(u<o&&o<i);return c},a.filter=o=>zr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!o(i););else for(;--l>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(Cb.setTime(+o),Pb.setTime(+i),e(Cb),e(Pb),Math.floor(r(Cb,Pb))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Ey=zr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ey.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ey);Ey.range;const is=1e3,Na=is*60,ls=Na*60,Ss=ls*24,S2=Ss*7,$T=Ss*30,Ab=Ss*365,fl=zr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*is)},(e,t)=>(t-e)/is,e=>e.getUTCSeconds());fl.range;const j2=zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*is)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getMinutes());j2.range;const _2=zr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getUTCMinutes());_2.range;const k2=zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*is-e.getMinutes()*Na)},(e,t)=>{e.setTime(+e+t*ls)},(e,t)=>(t-e)/ls,e=>e.getHours());k2.range;const N2=zr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ls)},(e,t)=>(t-e)/ls,e=>e.getUTCHours());N2.range;const $m=zr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Na)/Ss,e=>e.getDate()-1);$m.range;const O0=zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ss,e=>e.getUTCDate()-1);O0.range;const U6=zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ss,e=>Math.floor(e/Ss));U6.range;function tc(e){return zr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Na)/S2)}const R0=tc(0),Cy=tc(1),i0e=tc(2),l0e=tc(3),zu=tc(4),c0e=tc(5),u0e=tc(6);R0.range;Cy.range;i0e.range;l0e.range;zu.range;c0e.range;u0e.range;function rc(e){return zr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/S2)}const $0=rc(0),Py=rc(1),d0e=rc(2),f0e=rc(3),qu=rc(4),h0e=rc(5),m0e=rc(6);$0.range;Py.range;d0e.range;f0e.range;qu.range;h0e.range;m0e.range;const E2=zr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());E2.range;const C2=zr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());C2.range;const js=zr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());js.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});js.range;const _s=zr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_s.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});_s.range;function z6(e,t,r,n,a,o){const i=[[fl,1,is],[fl,5,5*is],[fl,15,15*is],[fl,30,30*is],[o,1,Na],[o,5,5*Na],[o,15,15*Na],[o,30,30*Na],[a,1,ls],[a,3,3*ls],[a,6,6*ls],[a,12,12*ls],[n,1,Ss],[n,2,2*Ss],[r,1,S2],[t,1,$T],[t,3,3*$T],[e,1,Ab]];function l(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const y=d&&typeof d.range=="function"?d:c(u,f,d),v=y?y.range(u,+f+1):[];return h?v.reverse():v}function c(u,f,d){const h=Math.abs(f-u)/d,y=u2(([,,g])=>g).right(i,h);if(y===i.length)return e.every(xS(u/Ab,f/Ab,d));if(y===0)return Ey.every(Math.max(xS(u,f,d),1));const[v,p]=i[h/i[y-1][2]<i[y][2]/h?y-1:y];return v.every(p)}return[l,c]}const[p0e,g0e]=z6(_s,C2,$0,U6,N2,_2),[y0e,v0e]=z6(js,E2,R0,$m,k2,j2);function Tb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ob(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ef(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function x0e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=tf(a),f=rf(a),d=tf(o),h=rf(o),y=tf(i),v=rf(i),p=tf(l),g=rf(l),x=tf(c),b=rf(c),w={a:U,A:P,b:M,B:W,c:null,d:BT,e:BT,f:z0e,g:Q0e,G:exe,H:F0e,I:B0e,j:U0e,L:q6,m:q0e,M:W0e,p:R,q,Q:qT,s:WT,S:H0e,u:V0e,U:K0e,V:G0e,w:J0e,W:Y0e,x:null,X:null,y:X0e,Y:Z0e,Z:txe,"%":zT},S={a:ee,A:ne,b:ce,B:ue,c:null,d:UT,e:UT,f:oxe,g:pxe,G:yxe,H:rxe,I:nxe,j:axe,L:H6,m:sxe,M:ixe,p:ie,q:O,Q:qT,s:WT,S:lxe,u:cxe,U:uxe,V:dxe,w:fxe,W:hxe,x:null,X:null,y:mxe,Y:gxe,Z:vxe,"%":zT},j={a:A,A:T,b:D,B,c:z,d:DT,e:DT,f:M0e,g:LT,G:IT,H:FT,I:FT,j:T0e,L:$0e,m:A0e,M:O0e,p:E,q:P0e,Q:L0e,s:D0e,S:R0e,u:_0e,U:k0e,V:N0e,w:j0e,W:E0e,x:F,X:$,y:LT,Y:IT,Z:C0e,"%":I0e};w.x=k(r,w),w.X=k(n,w),w.c=k(t,w),S.x=k(r,S),S.X=k(n,S),S.c=k(t,S);function k(L,H){return function(X){var V=[],ae=-1,Z=0,de=L.length,oe,ye,be;for(X instanceof Date||(X=new Date(+X));++ae<de;)L.charCodeAt(ae)===37&&(V.push(L.slice(Z,ae)),(ye=MT[oe=L.charAt(++ae)])!=null?oe=L.charAt(++ae):ye=oe==="e"?" ":"0",(be=H[oe])&&(oe=be(X,ye)),V.push(oe),Z=ae+1);return V.push(L.slice(Z,ae)),V.join("")}}function _(L,H){return function(X){var V=ef(1900,void 0,1),ae=N(V,L,X+="",0),Z,de;if(ae!=X.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(H&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(Z=Ob(ef(V.y,0,1)),de=Z.getUTCDay(),Z=de>4||de===0?Py.ceil(Z):Py(Z),Z=O0.offset(Z,(V.V-1)*7),V.y=Z.getUTCFullYear(),V.m=Z.getUTCMonth(),V.d=Z.getUTCDate()+(V.w+6)%7):(Z=Tb(ef(V.y,0,1)),de=Z.getDay(),Z=de>4||de===0?Cy.ceil(Z):Cy(Z),Z=$m.offset(Z,(V.V-1)*7),V.y=Z.getFullYear(),V.m=Z.getMonth(),V.d=Z.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),de="Z"in V?Ob(ef(V.y,0,1)).getUTCDay():Tb(ef(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(de+5)%7:V.w+V.U*7-(de+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,Ob(V)):Tb(V)}}function N(L,H,X,V){for(var ae=0,Z=H.length,de=X.length,oe,ye;ae<Z;){if(V>=de)return-1;if(oe=H.charCodeAt(ae++),oe===37){if(oe=H.charAt(ae++),ye=j[oe in MT?H.charAt(ae++):oe],!ye||(V=ye(L,X,V))<0)return-1}else if(oe!=X.charCodeAt(V++))return-1}return V}function E(L,H,X){var V=u.exec(H.slice(X));return V?(L.p=f.get(V[0].toLowerCase()),X+V[0].length):-1}function A(L,H,X){var V=y.exec(H.slice(X));return V?(L.w=v.get(V[0].toLowerCase()),X+V[0].length):-1}function T(L,H,X){var V=d.exec(H.slice(X));return V?(L.w=h.get(V[0].toLowerCase()),X+V[0].length):-1}function D(L,H,X){var V=x.exec(H.slice(X));return V?(L.m=b.get(V[0].toLowerCase()),X+V[0].length):-1}function B(L,H,X){var V=p.exec(H.slice(X));return V?(L.m=g.get(V[0].toLowerCase()),X+V[0].length):-1}function z(L,H,X){return N(L,t,H,X)}function F(L,H,X){return N(L,r,H,X)}function $(L,H,X){return N(L,n,H,X)}function U(L){return i[L.getDay()]}function P(L){return o[L.getDay()]}function M(L){return c[L.getMonth()]}function W(L){return l[L.getMonth()]}function R(L){return a[+(L.getHours()>=12)]}function q(L){return 1+~~(L.getMonth()/3)}function ee(L){return i[L.getUTCDay()]}function ne(L){return o[L.getUTCDay()]}function ce(L){return c[L.getUTCMonth()]}function ue(L){return l[L.getUTCMonth()]}function ie(L){return a[+(L.getUTCHours()>=12)]}function O(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var H=k(L+="",w);return H.toString=function(){return L},H},parse:function(L){var H=_(L+="",!1);return H.toString=function(){return L},H},utcFormat:function(L){var H=k(L+="",S);return H.toString=function(){return L},H},utcParse:function(L){var H=_(L+="",!0);return H.toString=function(){return L},H}}}var MT={"-":"",_:" ",0:"0"},en=/^\s*\d+/,b0e=/^%/,w0e=/[\\^$*+?|[\]().{}]/g;function Mt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function S0e(e){return e.replace(w0e,"\\$&")}function tf(e){return new RegExp("^(?:"+e.map(S0e).join("|")+")","i")}function rf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function j0e(e,t,r){var n=en.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function _0e(e,t,r){var n=en.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function k0e(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function N0e(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function E0e(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function IT(e,t,r){var n=en.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function LT(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function C0e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function P0e(e,t,r){var n=en.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function A0e(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function DT(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function T0e(e,t,r){var n=en.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function FT(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function O0e(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function R0e(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function $0e(e,t,r){var n=en.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function M0e(e,t,r){var n=en.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function I0e(e,t,r){var n=b0e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function L0e(e,t,r){var n=en.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function D0e(e,t,r){var n=en.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function BT(e,t){return Mt(e.getDate(),t,2)}function F0e(e,t){return Mt(e.getHours(),t,2)}function B0e(e,t){return Mt(e.getHours()%12||12,t,2)}function U0e(e,t){return Mt(1+$m.count(js(e),e),t,3)}function q6(e,t){return Mt(e.getMilliseconds(),t,3)}function z0e(e,t){return q6(e,t)+"000"}function q0e(e,t){return Mt(e.getMonth()+1,t,2)}function W0e(e,t){return Mt(e.getMinutes(),t,2)}function H0e(e,t){return Mt(e.getSeconds(),t,2)}function V0e(e){var t=e.getDay();return t===0?7:t}function K0e(e,t){return Mt(R0.count(js(e)-1,e),t,2)}function W6(e){var t=e.getDay();return t>=4||t===0?zu(e):zu.ceil(e)}function G0e(e,t){return e=W6(e),Mt(zu.count(js(e),e)+(js(e).getDay()===4),t,2)}function J0e(e){return e.getDay()}function Y0e(e,t){return Mt(Cy.count(js(e)-1,e),t,2)}function X0e(e,t){return Mt(e.getFullYear()%100,t,2)}function Q0e(e,t){return e=W6(e),Mt(e.getFullYear()%100,t,2)}function Z0e(e,t){return Mt(e.getFullYear()%1e4,t,4)}function exe(e,t){var r=e.getDay();return e=r>=4||r===0?zu(e):zu.ceil(e),Mt(e.getFullYear()%1e4,t,4)}function txe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mt(t/60|0,"0",2)+Mt(t%60,"0",2)}function UT(e,t){return Mt(e.getUTCDate(),t,2)}function rxe(e,t){return Mt(e.getUTCHours(),t,2)}function nxe(e,t){return Mt(e.getUTCHours()%12||12,t,2)}function axe(e,t){return Mt(1+O0.count(_s(e),e),t,3)}function H6(e,t){return Mt(e.getUTCMilliseconds(),t,3)}function oxe(e,t){return H6(e,t)+"000"}function sxe(e,t){return Mt(e.getUTCMonth()+1,t,2)}function ixe(e,t){return Mt(e.getUTCMinutes(),t,2)}function lxe(e,t){return Mt(e.getUTCSeconds(),t,2)}function cxe(e){var t=e.getUTCDay();return t===0?7:t}function uxe(e,t){return Mt($0.count(_s(e)-1,e),t,2)}function V6(e){var t=e.getUTCDay();return t>=4||t===0?qu(e):qu.ceil(e)}function dxe(e,t){return e=V6(e),Mt(qu.count(_s(e),e)+(_s(e).getUTCDay()===4),t,2)}function fxe(e){return e.getUTCDay()}function hxe(e,t){return Mt(Py.count(_s(e)-1,e),t,2)}function mxe(e,t){return Mt(e.getUTCFullYear()%100,t,2)}function pxe(e,t){return e=V6(e),Mt(e.getUTCFullYear()%100,t,2)}function gxe(e,t){return Mt(e.getUTCFullYear()%1e4,t,4)}function yxe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?qu(e):qu.ceil(e),Mt(e.getUTCFullYear()%1e4,t,4)}function vxe(){return"+0000"}function zT(){return"%"}function qT(e){return+e}function WT(e){return Math.floor(+e/1e3)}var gc,K6,G6;xxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xxe(e){return gc=x0e(e),K6=gc.format,gc.parse,G6=gc.utcFormat,gc.utcParse,gc}function bxe(e){return new Date(e)}function wxe(e){return e instanceof Date?+e:+new Date(+e)}function P2(e,t,r,n,a,o,i,l,c,u){var f=p2(),d=f.invert,h=f.domain,y=u(".%L"),v=u(":%S"),p=u("%I:%M"),g=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),S=u("%Y");function j(k){return(c(k)<k?y:l(k)<k?v:i(k)<k?p:o(k)<k?g:n(k)<k?a(k)<k?x:b:r(k)<k?w:S)(k)}return f.invert=function(k){return new Date(d(k))},f.domain=function(k){return arguments.length?h(Array.from(k,wxe)):h().map(bxe)},f.ticks=function(k){var _=h();return e(_[0],_[_.length-1],k??10)},f.tickFormat=function(k,_){return _==null?j:u(_)},f.nice=function(k){var _=h();return(!k||typeof k.range!="function")&&(k=t(_[0],_[_.length-1],k??10)),k?h($6(_,k)):f},f.copy=function(){return Rm(f,P2(e,t,r,n,a,o,i,l,c,u))},f}function Sxe(){return Da.apply(P2(y0e,v0e,js,E2,R0,$m,k2,j2,fl,K6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jxe(){return Da.apply(P2(p0e,g0e,_s,C2,$0,O0,N2,_2,fl,G6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function M0(){var e=0,t=1,r,n,a,o,i=An,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:i(a===0?.5:(d=(o(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(i=d,u):i};function f(d){return function(h){var y,v;return arguments.length?([y,v]=h,i=d(y,v),u):[i(0),i(1)]}}return u.range=f(Cd),u.rangeRound=f(m2),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),u}}function qi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function J6(){var e=zi(M0()(An));return e.copy=function(){return qi(e,J6())},Ps.apply(e,arguments)}function Y6(){var e=v2(M0()).domain([1,10]);return e.copy=function(){return qi(e,Y6()).base(e.base())},Ps.apply(e,arguments)}function X6(){var e=x2(M0());return e.copy=function(){return qi(e,X6()).constant(e.constant())},Ps.apply(e,arguments)}function A2(){var e=b2(M0());return e.copy=function(){return qi(e,A2()).exponent(e.exponent())},Ps.apply(e,arguments)}function _xe(){return A2.apply(null,arguments).exponent(.5)}function Q6(){var e=[],t=An;function r(n){if(n!=null&&!isNaN(n=+n))return t((Tm(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ji),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>uve(e,o/n))},r.copy=function(){return Q6(t).domain(e)},Ps.apply(r,arguments)}function I0(){var e=0,t=.5,r=1,n=1,a,o,i,l,c,u=An,f,d=!1,h;function y(p){return isNaN(p=+p)?h:(p=.5+((p=+f(p))-o)*(n*p<n*o?l:c),u(d?Math.max(0,Math.min(1,p)):p))}y.domain=function(p){return arguments.length?([e,t,r]=p,a=f(e=+e),o=f(t=+t),i=f(r=+r),l=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),n=o<a?-1:1,y):[e,t,r]},y.clamp=function(p){return arguments.length?(d=!!p,y):d},y.interpolator=function(p){return arguments.length?(u=p,y):u};function v(p){return function(g){var x,b,w;return arguments.length?([x,b,w]=g,u=Ive(p,[x,b,w]),y):[u(0),u(.5),u(1)]}}return y.range=v(Cd),y.rangeRound=v(m2),y.unknown=function(p){return arguments.length?(h=p,y):h},function(p){return f=p,a=p(e),o=p(t),i=p(r),l=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),n=o<a?-1:1,y}}function Z6(){var e=zi(I0()(An));return e.copy=function(){return qi(e,Z6())},Ps.apply(e,arguments)}function e8(){var e=v2(I0()).domain([.1,1,10]);return e.copy=function(){return qi(e,e8()).base(e.base())},Ps.apply(e,arguments)}function t8(){var e=x2(I0());return e.copy=function(){return qi(e,t8()).constant(e.constant())},Ps.apply(e,arguments)}function T2(){var e=b2(I0());return e.copy=function(){return qi(e,T2()).exponent(e.exponent())},Ps.apply(e,arguments)}function kxe(){return T2.apply(null,arguments).exponent(.5)}const HT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kh,scaleDiverging:Z6,scaleDivergingLog:e8,scaleDivergingPow:T2,scaleDivergingSqrt:kxe,scaleDivergingSymlog:t8,scaleIdentity:R6,scaleImplicit:bS,scaleLinear:Ny,scaleLog:M6,scaleOrdinal:d2,scalePoint:Ff,scalePow:w2,scaleQuantile:D6,scaleQuantize:F6,scaleRadial:L6,scaleSequential:J6,scaleSequentialLog:Y6,scaleSequentialPow:A2,scaleSequentialQuantile:Q6,scaleSequentialSqrt:_xe,scaleSequentialSymlog:X6,scaleSqrt:o0e,scaleSymlog:I6,scaleThreshold:B6,scaleTime:Sxe,scaleUtc:jxe,tickFormat:O6},Symbol.toStringTag,{value:"Module"}));var Nxe=bd;function Exe(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(l===void 0?i===i&&!Nxe(i):r(i,l)))var l=i,c=o}return c}var r8=Exe;function Cxe(e,t){return e>t}var Pxe=Cxe,Axe=r8,Txe=Pxe,Oxe=Ed;function Rxe(e){return e&&e.length?Axe(e,Oxe,Txe):void 0}var $xe=Rxe;const L0=Gt($xe);function Mxe(e,t){return e<t}var Ixe=Mxe,Lxe=r8,Dxe=Ixe,Fxe=Ed;function Bxe(e){return e&&e.length?Lxe(e,Fxe,Dxe):void 0}var Uxe=Bxe;const D0=Gt(Uxe);var zxe=Hk,qxe=Ui,Wxe=d6,Hxe=Yn;function Vxe(e,t){var r=Hxe(e)?zxe:Wxe;return r(e,qxe(t))}var Kxe=Vxe,Gxe=c6,Jxe=Kxe;function Yxe(e,t){return Gxe(Jxe(e,t),1)}var Xxe=Yxe;const Qxe=Gt(Xxe);var Zxe=s2;function ebe(e,t){return Zxe(e,t)}var tbe=ebe;const O2=Gt(tbe);var Pd=1e9,rbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$2,fr=!0,Ma="[DecimalError] ",Cl=Ma+"Invalid argument: ",R2=Ma+"Exponent out of range: ",Ad=Math.floor,tl=Math.pow,nbe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,aa,Hr=1e7,sr=7,n8=9007199254740991,Ay=Ad(n8/sr),Xe={};Xe.absoluteValue=Xe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Xe.comparedTo=Xe.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};Xe.decimalPlaces=Xe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*sr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Xe.dividedBy=Xe.div=function(e){return ms(this,new this.constructor(e))};Xe.dividedToIntegerBy=Xe.idiv=function(e){var t=this,r=t.constructor;return Xt(ms(t,new r(e),0,1),r.precision)};Xe.equals=Xe.eq=function(e){return!this.cmp(e)};Xe.exponent=function(){return Or(this)};Xe.greaterThan=Xe.gt=function(e){return this.cmp(e)>0};Xe.greaterThanOrEqualTo=Xe.gte=function(e){return this.cmp(e)>=0};Xe.isInteger=Xe.isint=function(){return this.e>this.d.length-2};Xe.isNegative=Xe.isneg=function(){return this.s<0};Xe.isPositive=Xe.ispos=function(){return this.s>0};Xe.isZero=function(){return this.s===0};Xe.lessThan=Xe.lt=function(e){return this.cmp(e)<0};Xe.lessThanOrEqualTo=Xe.lte=function(e){return this.cmp(e)<1};Xe.logarithm=Xe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(aa))throw Error(Ma+"NaN");if(r.s<1)throw Error(Ma+(r.s?"NaN":"-Infinity"));return r.eq(aa)?new n(0):(fr=!1,t=ms(Ah(r,o),Ah(e,o),o),fr=!0,Xt(t,a))};Xe.minus=Xe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?s8(t,e):a8(t,(e.s=-e.s,e))};Xe.modulo=Xe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ma+"NaN");return r.s?(fr=!1,t=ms(r,e,0,1).times(e),fr=!0,r.minus(t)):Xt(new n(r),a)};Xe.naturalExponential=Xe.exp=function(){return o8(this)};Xe.naturalLogarithm=Xe.ln=function(){return Ah(this)};Xe.negated=Xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Xe.plus=Xe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?a8(t,e):s8(t,(e.s=-e.s,e))};Xe.precision=Xe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Cl+e);if(t=Or(a)+1,n=a.d.length-1,r=n*sr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Xe.squareRoot=Xe.sqrt=function(){var e,t,r,n,a,o,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ma+"NaN")}for(e=Or(l),fr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=$o(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ad((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(o=n,n=o.plus(ms(l,o,i+2)).times(.5),$o(o.d).slice(0,i)===(t=$o(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Xt(o,r+1,0),o.times(o).eq(l)){n=o;break}}else if(t!="9999")break;i+=4}return fr=!0,Xt(n,r)};Xe.times=Xe.mul=function(e){var t,r,n,a,o,i,l,c,u,f=this,d=f.constructor,h=f.d,y=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=y.length,c<u&&(o=h,h=y,y=o,i=c,c=u,u=i),o=[],i=c+u,n=i;n--;)o.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=o[a]+y[n]*h[a-n-1]+t,o[a--]=l%Hr|0,t=l/Hr|0;o[a]=(o[a]+t)%Hr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,fr?Xt(e,d.precision):e};Xe.toDecimalPlaces=Xe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Wo(e,0,Pd),t===void 0?t=n.rounding:Wo(t,0,8),Xt(r,e+Or(r)+1,t))};Xe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=zl(n,!0):(Wo(e,0,Pd),t===void 0?t=a.rounding:Wo(t,0,8),n=Xt(new a(n),e+1,t),r=zl(n,!0,e+1)),r};Xe.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?zl(a):(Wo(e,0,Pd),t===void 0?t=o.rounding:Wo(t,0,8),n=Xt(new o(a),e+Or(a)+1,t),r=zl(n.abs(),!1,e+Or(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Xe.toInteger=Xe.toint=function(){var e=this,t=e.constructor;return Xt(new t(e),Or(e)+1,t.rounding)};Xe.toNumber=function(){return+this};Xe.toPower=Xe.pow=function(e){var t,r,n,a,o,i,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(aa);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ma+"Infinity");return l}if(l.eq(aa))return l;if(n=c.precision,e.eq(aa))return Xt(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=l.s,i){if((r=f<0?-f:f)<=n8){for(a=new c(aa),t=Math.ceil(n/sr+4),fr=!1;r%2&&(a=a.times(l),KT(a.d,t)),r=Ad(r/2),r!==0;)l=l.times(l),KT(l.d,t);return fr=!0,e.s<0?new c(aa).div(a):Xt(a,n)}}else if(o<0)throw Error(Ma+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,fr=!1,a=e.times(Ah(l,n+u)),fr=!0,a=o8(a),a.s=o,a};Xe.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=Or(a),n=zl(a,r<=o.toExpNeg||r>=o.toExpPos)):(Wo(e,1,Pd),t===void 0?t=o.rounding:Wo(t,0,8),a=Xt(new o(a),e,t),r=Or(a),n=zl(a,e<=r||r<=o.toExpNeg,e)),n};Xe.toSignificantDigits=Xe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Wo(e,1,Pd),t===void 0?t=n.rounding:Wo(t,0,8)),Xt(new n(r),e,t)};Xe.toString=Xe.valueOf=Xe.val=Xe.toJSON=Xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Or(e),r=e.constructor;return zl(e,t<=r.toExpNeg||t>=r.toExpPos)};function a8(e,t){var r,n,a,o,i,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),fr?Xt(t,d):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),o=i-a,o){for(o<0?(n=c,o=-o,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(d/sr),l=i>l?i+1:l+1,o>l&&(o=l,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(l=c.length,o=u.length,l-o<0&&(o=l,n=u,u=c,c=n),r=0;o;)r=(c[--o]=c[o]+u[o]+r)/Hr|0,c[o]%=Hr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,fr?Xt(t,d):t}function Wo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Cl+e)}function $o(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=sr-n.length,r&&(o+=Vs(r)),o+=n;i=e[t],n=i+"",r=sr-n.length,r&&(o+=Vs(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var ms=function(){function e(n,a){var o,i=0,l=n.length;for(n=n.slice();l--;)o=n[l]*a+i,n[l]=o%Hr|0,i=o/Hr|0;return i&&n.unshift(i),n}function t(n,a,o,i){var l,c;if(o!=i)c=o>i?1:-1;else for(l=c=0;l<o;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Hr+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var l,c,u,f,d,h,y,v,p,g,x,b,w,S,j,k,_,N,E=n.constructor,A=n.s==a.s?1:-1,T=n.d,D=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(Ma+"Division by zero");for(c=n.e-a.e,_=D.length,j=T.length,y=new E(A),v=y.d=[],u=0;D[u]==(T[u]||0);)++u;if(D[u]>(T[u]||0)&&--c,o==null?b=o=E.precision:i?b=o+(Or(n)-Or(a))+1:b=o,b<0)return new E(0);if(b=b/sr+2|0,u=0,_==1)for(f=0,D=D[0],b++;(u<j||f)&&b--;u++)w=f*Hr+(T[u]||0),v[u]=w/D|0,f=w%D|0;else{for(f=Hr/(D[0]+1)|0,f>1&&(D=e(D,f),T=e(T,f),_=D.length,j=T.length),S=_,p=T.slice(0,_),g=p.length;g<_;)p[g++]=0;N=D.slice(),N.unshift(0),k=D[0],D[1]>=Hr/2&&++k;do f=0,l=t(D,p,_,g),l<0?(x=p[0],_!=g&&(x=x*Hr+(p[1]||0)),f=x/k|0,f>1?(f>=Hr&&(f=Hr-1),d=e(D,f),h=d.length,g=p.length,l=t(d,p,h,g),l==1&&(f--,r(d,_<h?N:D,h))):(f==0&&(l=f=1),d=D.slice()),h=d.length,h<g&&d.unshift(0),r(p,d,g),l==-1&&(g=p.length,l=t(D,p,_,g),l<1&&(f++,r(p,_<g?N:D,g))),g=p.length):l===0&&(f++,p=[0]),v[u++]=f,l&&p[0]?p[g++]=T[S]||0:(p=[T[S]],g=1);while((S++<j||p[0]!==void 0)&&b--)}return v[0]||v.shift(),y.e=c,Xt(y,i?o+Or(y)+1:o)}}();function o8(e,t){var r,n,a,o,i,l,c=0,u=0,f=e.constructor,d=f.precision;if(Or(e)>16)throw Error(R2+Or(e));if(!e.s)return new f(aa);for(t==null?(fr=!1,l=d):l=t,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(tl(2,u))/Math.LN10*2+5|0,l+=n,r=a=o=new f(aa),f.precision=l;;){if(a=Xt(a.times(e),l),r=r.times(++c),i=o.plus(ms(a,r,l)),$o(i.d).slice(0,l)===$o(o.d).slice(0,l)){for(;u--;)o=Xt(o.times(o),l);return f.precision=d,t==null?(fr=!0,Xt(o,d)):o}o=i}}function Or(e){for(var t=e.e*sr,r=e.d[0];r>=10;r/=10)t++;return t}function Rb(e,t,r){if(t>e.LN10.sd())throw fr=!0,r&&(e.precision=r),Error(Ma+"LN10 precision limit exceeded");return Xt(new e(e.LN10),t)}function Vs(e){for(var t="";e--;)t+="0";return t}function Ah(e,t){var r,n,a,o,i,l,c,u,f,d=1,h=10,y=e,v=y.d,p=y.constructor,g=p.precision;if(y.s<1)throw Error(Ma+(y.s?"NaN":"-Infinity"));if(y.eq(aa))return new p(0);if(t==null?(fr=!1,u=g):u=t,y.eq(10))return t==null&&(fr=!0),Rb(p,u);if(u+=h,p.precision=u,r=$o(v),n=r.charAt(0),o=Or(y),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=$o(y.d),n=r.charAt(0),d++;o=Or(y),n>1?(y=new p("0."+r),o++):y=new p(n+"."+r.slice(1))}else return c=Rb(p,u+2,g).times(o+""),y=Ah(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=g,t==null?(fr=!0,Xt(y,g)):y;for(l=i=y=ms(y.minus(aa),y.plus(aa),u),f=Xt(y.times(y),u),a=3;;){if(i=Xt(i.times(f),u),c=l.plus(ms(i,new p(a),u)),$o(c.d).slice(0,u)===$o(l.d).slice(0,u))return l=l.times(2),o!==0&&(l=l.plus(Rb(p,u+2,g).times(o+""))),l=ms(l,new p(d),u),p.precision=g,t==null?(fr=!0,Xt(l,g)):l;l=c,a+=2}}function VT(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ad(r/sr),e.d=[],n=(r+1)%sr,r<0&&(n+=sr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=sr;n<a;)e.d.push(+t.slice(n,n+=sr));t=t.slice(n),n=sr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),fr&&(e.e>Ay||e.e<-Ay))throw Error(R2+r)}else e.s=0,e.e=0,e.d=[0];return e}function Xt(e,t,r){var n,a,o,i,l,c,u,f,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=sr,a=t,u=d[f=0];else{if(f=Math.ceil((n+1)/sr),o=d.length,f>=o)return e;for(u=o=d[f],i=1;o>=10;o/=10)i++;n%=sr,a=n-sr+i}if(r!==void 0&&(o=tl(10,i-a-1),l=u/o%10|0,c=t<0||d[f+1]!==void 0||u%o,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/tl(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(o=Or(e),d.length=1,t=t-o-1,d[0]=tl(10,(sr-t%sr)%sr),e.e=Ad(-t/sr)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,o=1,f--):(d.length=f+1,o=tl(10,sr-n),d[f]=a>0?(u/tl(10,i-a)%tl(10,a)|0)*o:0),c)for(;;)if(f==0){(d[0]+=o)==Hr&&(d[0]=1,++e.e);break}else{if(d[f]+=o,d[f]!=Hr)break;d[f--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(fr&&(e.e>Ay||e.e<-Ay))throw Error(R2+Or(e));return e}function s8(e,t){var r,n,a,o,i,l,c,u,f,d,h=e.constructor,y=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),fr?Xt(t,y):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(f=i<0,f?(r=c,i=-i,l=d.length):(r=d,n=u,l=c.length),a=Math.max(Math.ceil(y/sr),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=d.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=d[a]){f=c[a]<d[a];break}i=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,a=d.length-l;a>0;--a)c[l++]=0;for(a=d.length;a>i;){if(c[--a]<d[a]){for(o=a;o&&c[--o]===0;)c[o]=Hr-1;--c[o],c[a]+=Hr}c[a]-=d[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,fr?Xt(t,y):t):new h(0)}function zl(e,t,r){var n,a=Or(e),o=$o(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+Vs(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Vs(-a-1)+o,r&&(n=r-i)>0&&(o+=Vs(n))):a>=i?(o+=Vs(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+Vs(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=Vs(n))),e.s<0?"-"+o:o}function KT(e,t){if(e.length>t)return e.length=t,!0}function i8(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Cl+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return VT(i,o.toString())}else if(typeof o!="string")throw Error(Cl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,nbe.test(o))VT(i,o);else throw Error(Cl+o)}if(a.prototype=Xe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=i8,a.config=a.set=abe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function abe(e){if(!e||typeof e!="object")throw Error(Ma+"Object expected");var t,r,n,a=["precision",1,Pd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ad(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Cl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Cl+r+": "+n);return this}var $2=i8(rbe);aa=new $2(1);const Vt=$2;function obe(e){return cbe(e)||lbe(e)||ibe(e)||sbe()}function sbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ibe(e,t){if(e){if(typeof e=="string")return _S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _S(e,t)}}function lbe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cbe(e){if(Array.isArray(e))return _S(e)}function _S(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ube=function(t){return t},l8={"@@functional/placeholder":!0},c8=function(t){return t===l8},GT=function(t){return function r(){return arguments.length===0||arguments.length===1&&c8(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},dbe=function e(t,r){return t===1?r:GT(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(l){return l!==l8}).length;return i>=t?r.apply(void 0,a):e(t-i,GT(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(d){return c8(d)?c.shift():d});return r.apply(void 0,obe(f).concat(c))}))})},F0=function(t){return dbe(t.length,t)},kS=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},fbe=F0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),hbe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return ube;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},NS=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},u8=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(l,c){return l===r[c]})||(r=o,n=t.apply(void 0,o)),n}};function mbe(e){var t;return e===0?t=1:t=Math.floor(new Vt(e).abs().log(10).toNumber())+1,t}function pbe(e,t,r){for(var n=new Vt(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var gbe=F0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),ybe=F0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),vbe=F0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const B0={rangeStep:pbe,getDigitCount:mbe,interpolateNumber:gbe,uninterpolateNumber:ybe,uninterpolateTruncation:vbe};function ES(e){return wbe(e)||bbe(e)||d8(e)||xbe()}function xbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bbe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function wbe(e){if(Array.isArray(e))return CS(e)}function Th(e,t){return _be(e)||jbe(e,t)||d8(e,t)||Sbe()}function Sbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8(e,t){if(e){if(typeof e=="string")return CS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CS(e,t)}}function CS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jbe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,o=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function _be(e){if(Array.isArray(e))return e}function f8(e){var t=Th(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function h8(e,t,r){if(e.lte(0))return new Vt(0);var n=B0.getDigitCount(e.toNumber()),a=new Vt(10).pow(n),o=e.div(a),i=n!==1?.05:.1,l=new Vt(Math.ceil(o.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?c:new Vt(Math.ceil(c))}function kbe(e,t,r){var n=1,a=new Vt(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new Vt(10).pow(B0.getDigitCount(e)-1),a=new Vt(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Vt(Math.floor(e)))}else e===0?a=new Vt(Math.floor((t-1)/2)):r||(a=new Vt(Math.floor(e)));var i=Math.floor((t-1)/2),l=hbe(fbe(function(c){return a.add(new Vt(c-i).mul(n)).toNumber()}),kS);return l(0,t)}function m8(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Vt(0),tickMin:new Vt(0),tickMax:new Vt(0)};var o=h8(new Vt(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new Vt(0):(i=new Vt(e).add(t).div(2),i=i.sub(new Vt(i).mod(o)));var l=Math.ceil(i.sub(e).div(o).toNumber()),c=Math.ceil(new Vt(t).sub(i).div(o).toNumber()),u=l+c+1;return u>r?m8(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:o,tickMin:i.sub(new Vt(l).mul(o)),tickMax:i.add(new Vt(c).mul(o))})}function Nbe(e){var t=Th(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=f8([r,n]),c=Th(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(ES(kS(0,a-1).map(function(){return 1/0}))):[].concat(ES(kS(0,a-1).map(function(){return-1/0})),[f]);return r>n?NS(d):d}if(u===f)return kbe(u,a,o);var h=m8(u,f,i,o),y=h.step,v=h.tickMin,p=h.tickMax,g=B0.rangeStep(v,p.add(new Vt(.1).mul(y)),y);return r>n?NS(g):g}function Ebe(e,t){var r=Th(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=f8([n,a]),l=Th(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(t,2),d=h8(new Vt(u).sub(c).div(f-1),o,0),h=[].concat(ES(B0.rangeStep(new Vt(c),new Vt(u).sub(new Vt(.99).mul(d)),d)),[u]);return n>a?NS(h):h}var Cbe=u8(Nbe),Pbe=u8(Ebe),Abe="Invariant failed";function ql(e,t){throw new Error(Abe)}var Tbe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(this,arguments)}function Obe(e,t){return Ibe(e)||Mbe(e,t)||$be(e,t)||Rbe()}function Rbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $be(e,t){if(e){if(typeof e=="string")return JT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JT(e,t)}}function JT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Ibe(e){if(Array.isArray(e))return e}function Lbe(e,t){if(e==null)return{};var r=Dbe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y8(n.key),n)}}function Ube(e,t,r){return t&&Bbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zbe(e,t,r){return t=Oy(t),qbe(e,p8()?Reflect.construct(t,r||[],Oy(e).constructor):t.apply(e,r))}function qbe(e,t){if(t&&(Wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wbe(e)}function Wbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p8=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(e)}function Hbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PS(e,t)}function PS(e,t){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PS(e,t)}function g8(e,t,r){return t=y8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y8(e){var t=Vbe(e,"string");return Wu(t)=="symbol"?t:t+""}function Vbe(e,t){if(Wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U0=function(e){function t(){return Fbe(this,t),zbe(this,t,arguments)}return Hbe(t,e),Ube(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=Lbe(n,Tbe),y=Dt(h,!1);this.props.direction==="x"&&f.type!=="number"&&ql();var v=c.map(function(p){var g=u(p,l),x=g.x,b=g.y,w=g.value,S=g.errorVal;if(!S)return null;var j=[],k,_;if(Array.isArray(S)){var N=Obe(S,2);k=N[0],_=N[1]}else k=_=S;if(o==="vertical"){var E=f.scale,A=b+a,T=A+i,D=A-i,B=E(w-k),z=E(w+_);j.push({x1:z,y1:T,x2:z,y2:D}),j.push({x1:B,y1:A,x2:z,y2:A}),j.push({x1:B,y1:T,x2:B,y2:D})}else if(o==="horizontal"){var F=d.scale,$=x+a,U=$-i,P=$+i,M=F(w-k),W=F(w+_);j.push({x1:U,y1:W,x2:P,y2:W}),j.push({x1:$,y1:M,x2:$,y2:W}),j.push({x1:U,y1:M,x2:P,y2:M})}return I.createElement(Xr,Ty({className:"recharts-errorBar",key:"bar-".concat(j.map(function(R){return"".concat(R.x1,"-").concat(R.x2,"-").concat(R.y1,"-").concat(R.y2)}))},y),j.map(function(R){return I.createElement("line",Ty({},R,{key:"line-".concat(R.x1,"-").concat(R.x2,"-").concat(R.y1,"-").concat(R.y2)}))}))});return I.createElement(Xr,{className:"recharts-errorBars"},v)}}])}(I.Component);g8(U0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});g8(U0,"displayName","ErrorBar");function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function YT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(r),!0).forEach(function(n){Kbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kbe(e,t,r){return t=Gbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gbe(e){var t=Jbe(e,"string");return Oh(t)=="symbol"?t:t+""}function Jbe(e,t){if(Oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v8=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=ra(r,ou);if(!i)return null;var l=ou.defaultProps,c=l!==void 0?Ji(Ji({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:o==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,y=d.props,v=y.sectors||y.data||[];return f.concat(v.map(function(p){return{type:i.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,y=h!==void 0?Ji(Ji({},h),d.props):{},v=y.dataKey,p=y.name,g=y.legendType,x=y.hide;return{inactive:x,dataKey:v,type:c.iconType||g||"square",color:M2(d),value:p||v,payload:y}}),Ji(Ji(Ji({},c),ou.getWithHeight(i,a)),{},{payload:u,item:i})};function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}function XT(e){return Zbe(e)||Qbe(e)||Xbe(e)||Ybe()}function Ybe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xbe(e,t){if(e){if(typeof e=="string")return AS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AS(e,t)}}function Qbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zbe(e){if(Array.isArray(e))return AS(e)}function AS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){iu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iu(e,t,r){return t=ewe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ewe(e){var t=twe(e,"string");return Rh(t)=="symbol"?t:t+""}function twe(e,t){if(Rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ho(e,t,r){return Bt(e)||Bt(t)?r:Ur(t)?Aa(e,t,r):Et(t)?t(e):r}function Bf(e,t,r,n){var a=Qxe(e,function(l){return Ho(l,t)});if(r==="number"){var o=a.filter(function(l){return Ue(l)||parseFloat(l)});return o.length?[D0(o),L0(o)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Bt(l)}):a;return i.map(function(l){return Ur(l)||l instanceof Date?l:""})}var rwe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,d=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,y=void 0;if(eo(d-f)!==eo(h-d)){var v=[];if(eo(h-d)===eo(c[1]-c[0])){y=h;var p=d+c[1]-c[0];v[0]=Math.min(p,(p+f)/2),v[1]=Math.max(p,(p+f)/2)}else{y=f;var g=h+c[1]-c[0];v[0]=Math.min(d,(g+d)/2),v[1]=Math.max(d,(g+d)/2)}var x=[Math.min(d,(y+d)/2),Math.max(d,(y+d)/2)];if(t>x[0]&&t<=x[1]||t>=v[0]&&t<=v[1]){i=a[u].index;break}}else{var b=Math.min(f,h),w=Math.max(f,h);if(t>(b+d)/2&&t<=(w+d)/2){i=a[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},M2=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?br(br({},t.type.defaultProps),t.props):t.props,i=o.stroke,l=o.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},nwe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},l=Object.keys(o),c=0,u=l.length;c<u;c++)for(var f=o[l[c]].stackGroups,d=Object.keys(f),h=0,y=d.length;h<y;h++){var v=f[d[h]],p=v.items,g=v.cateAxisId,x=p.filter(function(_){return fs(_.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?br(br({},b),x[0].props):x[0].props,S=w.barSize,j=w[g];i[j]||(i[j]=[]);var k=Bt(S)?r:S;i[j].push({item:x[0],stackList:x.slice(1),barSize:Bt(k)?void 0:Ul(k,n,0)})}}return i},awe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=Ul(r,a,0,!0),f,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,y=a/c,v=i.reduce(function(S,j){return S+j.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&y>0&&(h=!0,y*=.9,v=c*y);var p=(a-v)/2>>0,g={offset:p-u,size:0};f=i.reduce(function(S,j){var k={item:j.item,position:{offset:g.offset+g.size+u,size:h?y:j.barSize}},_=[].concat(XT(S),[k]);return g=_[_.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){_.push({item:N,position:g})}),_},d)}else{var x=Ul(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var b=(a-2*x-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;f=i.reduce(function(S,j,k){var _=[].concat(XT(S),[{item:j.item,position:{offset:x+(b+u)*k+(b-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){_.push({item:N,position:_[_.length-1].position})}),_},d)}return f},owe=function(t,r,n,a){var o=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=v8({children:o,legendWidth:c});if(u){var f=a||{},d=f.width,h=f.height,y=u.align,v=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&v==="middle")&&y!=="center"&&Ue(t[y]))return br(br({},t),{},iu({},y,t[y]+(d||0)));if((p==="horizontal"||p==="vertical"&&y==="center")&&v!=="middle"&&Ue(t[v]))return br(br({},t),{},iu({},v,t[v]+(h||0)))}return t},swe=function(t,r,n){return Bt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},x8=function(t,r,n,a,o){var i=r.props.children,l=so(i,U0).filter(function(u){return swe(a,o,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=Ho(f,n);if(Bt(d))return u;var h=Array.isArray(d)?[D0(d),L0(d)]:[d,d],y=c.reduce(function(v,p){var g=Ho(f,p,0),x=h[0]-Math.abs(Array.isArray(g)?g[0]:g),b=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(x,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},iwe=function(t,r,n,a,o){var i=r.map(function(l){return x8(t,l,n,o,a)}).filter(function(l){return!Bt(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},b8=function(t,r,n,a,o){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&x8(t,c,u,a)||Bf(t,u,n,o)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},w8=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},S8=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var o,i,l=t.map(function(c){return c.coordinate===r&&(o=!0),c.coordinate===n&&(i=!0),c.coordinate});return o||l.push(r),i||l.push(n),l},cs=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?eo(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:a(h)+u,value:d,offset:u}});return f.filter(function(d){return!Cm(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+u,value:d,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+u,value:d,offset:u}}):a.domain().map(function(d,h){return{coordinate:a(d)+u,value:o?o[d]:d,index:h,offset:u}})},$b=new WeakMap,Tp=function(t,r){if(typeof r!="function")return t;$b.has(t)||$b.set(t,new WeakMap);var n=$b.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},lwe=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,l=t.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:kh(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:Ny(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ff(),realScaleType:"point"}:o==="category"?{scale:kh(),realScaleType:"band"}:{scale:Ny(),realScaleType:"linear"};if(Em(a)){var c="scale".concat(_0(a));return{scale:(HT[c]||Ff)(),realScaleType:HT[c]?c:"point"}}return Et(a)?{scale:a}:{scale:Ff(),realScaleType:"point"}},ZT=1e-4,cwe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-ZT,i=Math.max(a[0],a[1])+ZT,l=t(r[0]),c=t(r[n-1]);(l<o||l>i||c<o||c>i)&&t.domain([r[0],r[n-1]])}},uwe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},dwe=function(t,r){if(!r||r.length!==2||!Ue(r[0])||!Ue(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!Ue(t[0])||t[0]<n)&&(o[0]=n),(!Ue(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},fwe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,l=0;l<r;++l){var c=Cm(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},hwe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var l=Cm(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=o,t[i][n][1]=o+l,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},mwe={sign:fwe,expand:Cle,none:Iu,silhouette:Ple,wiggle:Ale,positive:hwe},pwe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),o=mwe[n],i=Ele().keys(a).value(function(l,c){return+Ho(l,c,0)}).order(tS).offset(o);return i(t)},gwe=function(t,r,n,a,o,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(d,h){var y,v=(y=h.type)!==null&&y!==void 0&&y.defaultProps?br(br({},h.type.defaultProps),h.props):h.props,p=v.stackId,g=v.hide;if(g)return d;var x=v[n],b=d[x]||{hasStack:!1,stackGroups:{}};if(Ur(p)){var w=b.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[p]=w}else b.stackGroups[j0("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return br(br({},d),{},iu({},x,b))},c),f={};return Object.keys(u).reduce(function(d,h){var y=u[h];if(y.hasStack){var v={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(p,g){var x=y.stackGroups[g];return br(br({},p),{},iu({},g,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:pwe(t,x.items,o)}))},v)}return br(br({},d),{},iu({},h,y))},f)},ywe=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=Cbe(u,o,l);return t.domain([D0(f),L0(f)]),{niceTicks:f}}if(o&&a==="number"){var d=t.domain(),h=Pbe(d,o,l);return{niceTicks:h}}return null},eO=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Ho(i,r.dataKey,r.domain[l]);return Bt(c)?null:r.scale(c)-o/2+a},vwe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},xwe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?br(br({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(Ur(o)){var i=r[o];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},bwe=function(t){return t.reduce(function(r,n){return[D0(n.concat([r[0]]).filter(Ue)),L0(n.concat([r[1]]).filter(Ue))]},[1/0,-1/0])},j8=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],l=i.stackedData,c=l.reduce(function(u,f){var d=bwe(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},tO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TS=function(t,r,n){if(Et(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ue(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(tO.test(t[0])){var o=+tO.exec(t[0])[1];a[0]=r[0]-o}else Et(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ue(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(rO.test(t[1])){var i=+rO.exec(t[1])[1];a[1]=r[1]+i}else Et(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Ry=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=l2(r,function(d){return d.coordinate}),i=1/0,l=1,c=o.length;l<c;l++){var u=o[l],f=o[l-1];i=Math.min((u.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},nO=function(t,r,n){return!t||!t.length||O2(t,Aa(n,"type.defaultProps.domain"))?r:t},_8=function(t,r){var n=t.type.defaultProps?br(br({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return br(br({},Dt(t,!1)),{},{dataKey:a,unit:i,formatter:l,name:o||a,color:M2(t),value:Ho(r,a),type:c,payload:r,chartType:u,hide:f})};function $h(e){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$h(e)}function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(n){wwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wwe(e,t,r){return t=Swe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Swe(e){var t=jwe(e,"string");return $h(t)=="symbol"?t:t+""}function jwe(e,t){if($h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $y=Math.PI/180,_we=function(t){return t*180/Math.PI},ln=function(t,r,n,a){return{x:t+Math.cos(-$y*a)*n,y:r+Math.sin(-$y*a)*n}},kwe=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},Nwe=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,l=kwe({x:n,y:a},{x:o,y:i});if(l<=0)return{radius:l};var c=(n-o)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:_we(u),angleInRadian:u}},Ewe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},Cwe=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(o,i);return t+l*360},sO=function(t,r){var n=t.x,a=t.y,o=Nwe({x:n,y:a},r),i=o.radius,l=o.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var f=Ewe(r),d=f.startAngle,h=f.endAngle,y=l,v;if(d<=h){for(;y>h;)y-=360;for(;y<d;)y+=360;v=y>=d&&y<=h}else{for(;y>d;)y-=360;for(;y<h;)y+=360;v=y>=h&&y<=d}return v?oO(oO({},r),{},{radius:i,angle:Cwe(y,r)}):null};function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}var Pwe=["offset"];function Awe(e){return $we(e)||Rwe(e)||Owe(e)||Twe()}function Twe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Owe(e,t){if(e){if(typeof e=="string")return OS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OS(e,t)}}function Rwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $we(e){if(Array.isArray(e))return OS(e)}function OS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mwe(e,t){if(e==null)return{};var r=Iwe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Iwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){Lwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lwe(e,t,r){return t=Dwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dwe(e){var t=Fwe(e,"string");return Mh(t)=="symbol"?t:t+""}function Fwe(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(this,arguments)}var Bwe=function(t){var r=t.value,n=t.formatter,a=Bt(t.children)?r:t.children;return Et(n)?n(a):a},Uwe=function(t,r){var n=eo(r-t),a=Math.min(Math.abs(r-t),360);return n*a},zwe=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,l=t.className,c=o,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,y=c.startAngle,v=c.endAngle,p=c.clockWise,g=(d+h)/2,x=Uwe(y,v),b=x>=0?1:-1,w,S;a==="insideStart"?(w=y+b*i,S=p):a==="insideEnd"?(w=v-b*i,S=!p):a==="end"&&(w=v+b*i,S=p),S=x<=0?S:!S;var j=ln(u,f,g,w),k=ln(u,f,g,w+(S?1:-1)*359),_="M".concat(j.x,",").concat(j.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),N=Bt(t.id)?j0("recharts-radial-line-"):t.id;return I.createElement("text",Ih({},n,{dominantBaseline:"central",className:$t("recharts-radial-bar-label",l)}),I.createElement("defs",null,I.createElement("path",{id:N,d:_})),I.createElement("textPath",{xlinkHref:"#".concat(N)},r))},qwe=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,l=o.cy,c=o.innerRadius,u=o.outerRadius,f=o.startAngle,d=o.endAngle,h=(f+d)/2;if(a==="outside"){var y=ln(i,l,u+n,h),v=y.x,p=y.y;return{x:v,y:p,textAnchor:v>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,x=ln(i,l,g,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Wwe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,l=i.x,c=i.y,u=i.width,f=i.height,d=f>=0?1:-1,h=d*a,y=d>0?"end":"start",v=d>0?"start":"end",p=u>=0?1:-1,g=p*a,x=p>0?"end":"start",b=p>0?"start":"end";if(o==="top"){var w={x:l+u/2,y:c-d*a,textAnchor:"middle",verticalAnchor:y};return $r($r({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(o==="bottom"){var S={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:v};return $r($r({},S),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(o==="left"){var j={x:l-g,y:c+f/2,textAnchor:x,verticalAnchor:"middle"};return $r($r({},j),n?{width:Math.max(j.x-n.x,0),height:f}:{})}if(o==="right"){var k={x:l+u+g,y:c+f/2,textAnchor:b,verticalAnchor:"middle"};return $r($r({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:f}:{})}var _=n?{width:u,height:f}:{};return o==="insideLeft"?$r({x:l+g,y:c+f/2,textAnchor:b,verticalAnchor:"middle"},_):o==="insideRight"?$r({x:l+u-g,y:c+f/2,textAnchor:x,verticalAnchor:"middle"},_):o==="insideTop"?$r({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},_):o==="insideBottom"?$r({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:y},_):o==="insideTopLeft"?$r({x:l+g,y:c+h,textAnchor:b,verticalAnchor:v},_):o==="insideTopRight"?$r({x:l+u-g,y:c+h,textAnchor:x,verticalAnchor:v},_):o==="insideBottomLeft"?$r({x:l+g,y:c+f-h,textAnchor:b,verticalAnchor:y},_):o==="insideBottomRight"?$r({x:l+u-g,y:c+f-h,textAnchor:x,verticalAnchor:y},_):wd(o)&&(Ue(o.x)||ul(o.x))&&(Ue(o.y)||ul(o.y))?$r({x:l+Ul(o.x,u),y:c+Ul(o.y,f),textAnchor:"end",verticalAnchor:"end"},_):$r({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Hwe=function(t){return"cx"in t&&Ue(t.cx)};function gn(e){var t=e.offset,r=t===void 0?5:t,n=Mwe(e,Pwe),a=$r({offset:r},n),o=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!o||Bt(l)&&Bt(c)&&!m.isValidElement(u)&&!Et(u))return null;if(m.isValidElement(u))return m.cloneElement(u,a);var y;if(Et(u)){if(y=m.createElement(u,a),m.isValidElement(y))return y}else y=Bwe(a);var v=Hwe(o),p=Dt(a,!0);if(v&&(i==="insideStart"||i==="insideEnd"||i==="end"))return zwe(a,y,p);var g=v?qwe(a):Wwe(a);return I.createElement(xy,Ih({className:$t("recharts-label",d)},p,g,{breakAll:h}),y)}gn.displayName="Label";var k8=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,y=t.top,v=t.left,p=t.width,g=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(Ue(p)&&Ue(g)){if(Ue(d)&&Ue(h))return{x:d,y:h,width:p,height:g};if(Ue(y)&&Ue(v))return{x:y,y:v,width:p,height:g}}return Ue(d)&&Ue(h)?{x:d,y:h,width:0,height:0}:Ue(r)&&Ue(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},Vwe=function(t,r){return t?t===!0?I.createElement(gn,{key:"label-implicit",viewBox:r}):Ur(t)?I.createElement(gn,{key:"label-implicit",viewBox:r,value:t}):m.isValidElement(t)?t.type===gn?m.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(gn,{key:"label-implicit",content:t,viewBox:r}):Et(t)?I.createElement(gn,{key:"label-implicit",content:t,viewBox:r}):wd(t)?I.createElement(gn,Ih({viewBox:r},t,{key:"label-implicit"})):null:null},Kwe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=k8(t),i=so(a,gn).map(function(c,u){return m.cloneElement(c,{viewBox:r||o,key:"label-".concat(u)})});if(!n)return i;var l=Vwe(t.label,r||o);return[l].concat(Awe(i))};gn.parseViewBox=k8;gn.renderCallByParent=Kwe;function Gwe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Jwe=Gwe;const Ywe=Gt(Jwe);function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}var Xwe=["valueAccessor"],Qwe=["data","dataKey","clockWise","id","textBreakAll"];function Zwe(e){return n1e(e)||r1e(e)||t1e(e)||e1e()}function e1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t1e(e,t){if(e){if(typeof e=="string")return RS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RS(e,t)}}function r1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function n1e(e){if(Array.isArray(e))return RS(e)}function RS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(this,arguments)}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){a1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a1e(e,t,r){return t=o1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o1e(e){var t=s1e(e,"string");return Lh(t)=="symbol"?t:t+""}function s1e(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uO(e,t){if(e==null)return{};var r=i1e(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var l1e=function(t){return Array.isArray(t.value)?Ywe(t.value):t.value};function io(e){var t=e.valueAccessor,r=t===void 0?l1e:t,n=uO(e,Xwe),a=n.data,o=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=uO(n,Qwe);return!a||!a.length?null:I.createElement(Xr,{className:"recharts-label-list"},a.map(function(f,d){var h=Bt(o)?r(f,d):Ho(f&&f.payload,o),y=Bt(l)?{}:{id:"".concat(l,"-").concat(d)};return I.createElement(gn,My({},Dt(f,!0),u,y,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:gn.parseViewBox(Bt(i)?f:cO(cO({},f),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}io.displayName="LabelList";function c1e(e,t){return e?e===!0?I.createElement(io,{key:"labelList-implicit",data:t}):I.isValidElement(e)||Et(e)?I.createElement(io,{key:"labelList-implicit",data:t,content:e}):wd(e)?I.createElement(io,My({data:t},e,{key:"labelList-implicit"})):null:null}function u1e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=so(n,io).map(function(i,l){return m.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var o=c1e(e.label,t);return[o].concat(Zwe(a))}io.renderCallByParent=u1e;function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function $S(){return $S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$S.apply(this,arguments)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){d1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d1e(e,t,r){return t=f1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f1e(e){var t=h1e(e,"string");return Dh(t)=="symbol"?t:t+""}function h1e(e,t){if(Dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m1e=function(t,r){var n=eo(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Op=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+a,d=Math.asin(c/f)/$y,h=u?o:o+i*d,y=ln(r,n,f,h),v=ln(r,n,a,h),p=u?o-i*d:o,g=ln(r,n,f*Math.cos(d*$y),p);return{center:y,circleTangency:v,lineTangency:g,theta:d}},N8=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,l=t.endAngle,c=m1e(i,l),u=i+c,f=ln(r,n,o,i),d=ln(r,n,o,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var y=ln(r,n,a,i),v=ln(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},p1e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=eo(f-u),h=Op({cx:r,cy:n,radius:o,angle:u,sign:d,cornerRadius:i,cornerIsExternal:c}),y=h.circleTangency,v=h.lineTangency,p=h.theta,g=Op({cx:r,cy:n,radius:o,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:c}),x=g.circleTangency,b=g.lineTangency,w=g.theta,S=c?Math.abs(u-f):Math.abs(u-f)-p-w;if(S<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):N8({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f});var j="M ".concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var k=Op({cx:r,cy:n,radius:a,angle:u,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),_=k.circleTangency,N=k.lineTangency,E=k.theta,A=Op({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),T=A.circleTangency,D=A.lineTangency,B=A.theta,z=c?Math.abs(u-f):Math.abs(u-f)-E-B;if(z<0&&i===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},g1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},E8=function(t){var r=fO(fO({},g1e),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(i<o||f===d)return null;var y=$t("recharts-sector",h),v=i-o,p=Ul(l,v,0,!0),g;return p>0&&Math.abs(f-d)<360?g=p1e({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(p,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):g=N8({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:f,endAngle:d}),I.createElement("path",$S({},Dt(r,!0),{className:y,d:g,role:"img"}))};function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MS.apply(this,arguments)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){y1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y1e(e,t,r){return t=v1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v1e(e){var t=x1e(e,"string");return Fh(t)=="symbol"?t:t+""}function x1e(e,t){if(Fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pO={curveBasisClosed:gle,curveBasisOpen:yle,curveBasis:ple,curveBumpX:tle,curveBumpY:rle,curveLinearClosed:vle,curveLinear:N0,curveMonotoneX:xle,curveMonotoneY:ble,curveNatural:wle,curveStep:Sle,curveStepAfter:_le,curveStepBefore:jle},Rp=function(t){return t.x===+t.x&&t.y===+t.y},nf=function(t){return t.x},af=function(t){return t.y},b1e=function(t,r){if(Et(t))return t;var n="curve".concat(_0(t));return(n==="curveMonotone"||n==="curveBump")&&r?pO["".concat(n).concat(r==="vertical"?"Y":"X")]:pO[n]||N0},w1e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=b1e(n,l),d=u?o.filter(function(p){return Rp(p)}):o,h;if(Array.isArray(i)){var y=u?i.filter(function(p){return Rp(p)}):i,v=d.map(function(p,g){return mO(mO({},p),{},{base:y[g]})});return l==="vertical"?h=jp().y(af).x1(nf).x0(function(p){return p.base.x}):h=jp().x(nf).y1(af).y0(function(p){return p.base.y}),h.defined(Rp).curve(f),h(v)}return l==="vertical"&&Ue(i)?h=jp().y(af).x1(nf).x0(i):Ue(i)?h=jp().x(nf).y1(af).y0(i):h=CD().x(nf).y(af),h.defined(Rp).curve(f),h(d)},gO=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?w1e(t):a;return I.createElement("path",MS({},Dt(t,!1),ay(t),{className:$t("recharts-curve",r),d:i,ref:o}))},C8={exports:{}},S1e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",j1e=S1e,_1e=j1e;function P8(){}function A8(){}A8.resetWarningCache=P8;var k1e=function(){function e(n,a,o,i,l,c){if(c!==_1e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:A8,resetWarningCache:P8};return r.PropTypes=r,r};C8.exports=k1e();var N1e=C8.exports;const Ft=Gt(N1e);var E1e=Object.getOwnPropertyNames,C1e=Object.getOwnPropertySymbols,P1e=Object.prototype.hasOwnProperty;function yO(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function $p(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var o=a.cache,i=o.get(r),l=o.get(n);if(i&&l)return i===n&&l===r;o.set(r,n),o.set(n,r);var c=e(r,n,a);return o.delete(r),o.delete(n),c}}function vO(e){return E1e(e).concat(C1e(e))}var A1e=Object.hasOwn||function(e,t){return P1e.call(e,t)};function nc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var T1e="__v",O1e="__o",R1e="_owner",xO=Object.getOwnPropertyDescriptor,bO=Object.keys;function $1e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function M1e(e,t){return nc(e.getTime(),t.getTime())}function I1e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function L1e(e,t){return e===t}function wO(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),o=e.entries(),i,l,c=0;(i=o.next())&&!i.done;){for(var u=t.entries(),f=!1,d=0;(l=u.next())&&!l.done;){if(a[d]){d++;continue}var h=i.value,y=l.value;if(r.equals(h[0],y[0],c,d,e,t,r)&&r.equals(h[1],y[1],h[0],y[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;c++}return!0}var D1e=nc;function F1e(e,t,r){var n=bO(e),a=n.length;if(bO(t).length!==a)return!1;for(;a-- >0;)if(!T8(e,t,r,n[a]))return!1;return!0}function of(e,t,r){var n=vO(e),a=n.length;if(vO(t).length!==a)return!1;for(var o,i,l;a-- >0;)if(o=n[a],!T8(e,t,r,o)||(i=xO(e,o),l=xO(t,o),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function B1e(e,t){return nc(e.valueOf(),t.valueOf())}function U1e(e,t){return e.source===t.source&&e.flags===t.flags}function SO(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),o=e.values(),i,l;(i=o.next())&&!i.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!a[f]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function z1e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function q1e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function T8(e,t,r,n){return(n===R1e||n===O1e||n===T1e)&&(e.$$typeof||t.$$typeof)?!0:A1e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var W1e="[object Arguments]",H1e="[object Boolean]",V1e="[object Date]",K1e="[object Error]",G1e="[object Map]",J1e="[object Number]",Y1e="[object Object]",X1e="[object RegExp]",Q1e="[object Set]",Z1e="[object String]",eSe="[object URL]",tSe=Array.isArray,jO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,_O=Object.assign,rSe=Object.prototype.toString.call.bind(Object.prototype.toString);function nSe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,o=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,p,g){if(v===p)return!0;if(v==null||p==null)return!1;var x=typeof v;if(x!==typeof p)return!1;if(x!=="object")return x==="number"?i(v,p,g):x==="function"?a(v,p,g):!1;var b=v.constructor;if(b!==p.constructor)return!1;if(b===Object)return l(v,p,g);if(tSe(v))return t(v,p,g);if(jO!=null&&jO(v))return d(v,p,g);if(b===Date)return r(v,p,g);if(b===RegExp)return u(v,p,g);if(b===Map)return o(v,p,g);if(b===Set)return f(v,p,g);var w=rSe(v);return w===V1e?r(v,p,g):w===X1e?u(v,p,g):w===G1e?o(v,p,g):w===Q1e?f(v,p,g):w===Y1e?typeof v.then!="function"&&typeof p.then!="function"&&l(v,p,g):w===eSe?h(v,p,g):w===K1e?n(v,p,g):w===W1e?l(v,p,g):w===H1e||w===J1e||w===Z1e?c(v,p,g):!1}}function aSe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?of:$1e,areDatesEqual:M1e,areErrorsEqual:I1e,areFunctionsEqual:L1e,areMapsEqual:n?yO(wO,of):wO,areNumbersEqual:D1e,areObjectsEqual:n?of:F1e,arePrimitiveWrappersEqual:B1e,areRegExpsEqual:U1e,areSetsEqual:n?yO(SO,of):SO,areTypedArraysEqual:n?of:z1e,areUrlsEqual:q1e};if(r&&(a=_O({},a,r(a))),t){var o=$p(a.areArraysEqual),i=$p(a.areMapsEqual),l=$p(a.areObjectsEqual),c=$p(a.areSetsEqual);a=_O({},a,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function oSe(e){return function(t,r,n,a,o,i,l){return e(t,r,l)}}function sSe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,o=e.strict;if(n)return function(c,u){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,y=f.meta;return r(c,u,{cache:h,equals:a,meta:y,strict:o})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var i={cache:void 0,equals:a,meta:void 0,strict:o};return function(c,u){return r(c,u,i)}}var iSe=Wi();Wi({strict:!0});Wi({circular:!0});Wi({circular:!0,strict:!0});Wi({createInternalComparator:function(){return nc}});Wi({strict:!0,createInternalComparator:function(){return nc}});Wi({circular:!0,createInternalComparator:function(){return nc}});Wi({circular:!0,createInternalComparator:function(){return nc},strict:!0});function Wi(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,o=e.strict,i=o===void 0?!1:o,l=aSe(e),c=nSe(l),u=n?n(c):oSe(c);return sSe({circular:r,comparator:c,createState:a,equals:u,strict:i})}function lSe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function kO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):lSe(a)};requestAnimationFrame(n)}function IS(e){"@babel/helpers - typeof";return IS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IS(e)}function cSe(e){return hSe(e)||fSe(e)||dSe(e)||uSe()}function uSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dSe(e,t){if(e){if(typeof e=="string")return NO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NO(e,t)}}function NO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hSe(e){if(Array.isArray(e))return e}function mSe(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,l=cSe(i),c=l[0],u=l.slice(1);if(typeof c=="number"){kO(a.bind(null,u),c);return}a(c),kO(a.bind(null,u));return}IS(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){O8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O8(e,t,r){return t=pSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pSe(e){var t=gSe(e,"string");return Bh(t)==="symbol"?t:String(t)}function gSe(e,t){if(Bh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ySe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},vSe=function(t){return t},xSe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Uf=function(t,r){return Object.keys(r).reduce(function(n,a){return CO(CO({},n),{},O8({},a,t(a,r[a])))},{})},PO=function(t,r,n){return t.map(function(a){return"".concat(xSe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function bSe(e,t){return jSe(e)||SSe(e,t)||R8(e,t)||wSe()}function wSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function jSe(e){if(Array.isArray(e))return e}function _Se(e){return ESe(e)||NSe(e)||R8(e)||kSe()}function kSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R8(e,t){if(e){if(typeof e=="string")return LS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LS(e,t)}}function NSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ESe(e){if(Array.isArray(e))return LS(e)}function LS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Iy=1e-4,$8=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},M8=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},AO=function(t,r){return function(n){var a=$8(t,r);return M8(a,n)}},CSe=function(t,r){return function(n){var a=$8(t,r),o=[].concat(_Se(a.map(function(i,l){return i*l}).slice(1)),[0]);return M8(o,n)}},TO=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,l=1;break;case"ease":a=.25,o=.1,i=.25,l=1;break;case"ease-in":a=.42,o=0,i=1,l=1;break;case"ease-out":a=.42,o=0,i=.58,l=1;break;case"ease-in-out":a=0,o=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),f=bSe(u,4);a=f[0],o=f[1],i=f[2],l=f[3]}}}var d=AO(a,i),h=AO(o,l),y=CSe(a,i),v=function(x){return x>1?1:x<0?0:x},p=function(x){for(var b=x>1?1:x,w=b,S=0;S<8;++S){var j=d(w)-b,k=y(w);if(Math.abs(j-b)<Iy||k<Iy)return h(w);w=v(w-j/k)}return h(w)};return p.isStepper=!1,p},PSe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,l=i===void 0?17:i,c=function(f,d,h){var y=-(f-d)*n,v=h*o,p=h+(y-v)*l/1e3,g=h*l/1e3+f;return Math.abs(g-d)<Iy&&Math.abs(p)<Iy?[d,0]:[g,p]};return c.isStepper=!0,c.dt=l,c},ASe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TO(a);case"spring":return PSe();default:if(a.split("(")[0]==="cubic-bezier")return TO(a)}return typeof a=="function"?a:null};function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function OO(e){return RSe(e)||OSe(e)||I8(e)||TSe()}function TSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RSe(e){if(Array.isArray(e))return FS(e)}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){DS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DS(e,t,r){return t=$Se(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Se(e){var t=MSe(e,"string");return Uh(t)==="symbol"?t:String(t)}function MSe(e,t){if(Uh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ISe(e,t){return FSe(e)||DSe(e,t)||I8(e,t)||LSe()}function LSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I8(e,t){if(e){if(typeof e=="string")return FS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FS(e,t)}}function FS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function FSe(e){if(Array.isArray(e))return e}var Ly=function(t,r,n){return t+(r-t)*n},BS=function(t){var r=t.from,n=t.to;return r!==n},BSe=function e(t,r,n){var a=Uf(function(o,i){if(BS(i)){var l=t(i.from,i.to,i.velocity),c=ISe(l,2),u=c[0],f=c[1];return rn(rn({},i),{},{from:u,velocity:f})}return i},r);return n<1?Uf(function(o,i){return BS(i)?rn(rn({},i),{},{velocity:Ly(i.velocity,a[o].velocity,n),from:Ly(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const USe=function(e,t,r,n,a){var o=ySe(e,t),i=o.reduce(function(g,x){return rn(rn({},g),{},DS({},x,[e[x],t[x]]))},{}),l=o.reduce(function(g,x){return rn(rn({},g),{},DS({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return Uf(function(x,b){return b.from},l)},y=function(){return!Object.values(l).filter(BS).length},v=function(x){u||(u=x);var b=x-u,w=b/r.dt;l=BSe(r,l,w),a(rn(rn(rn({},e),t),h())),u=x,y()||(c=requestAnimationFrame(d))},p=function(x){f||(f=x);var b=(x-f)/n,w=Uf(function(j,k){return Ly.apply(void 0,OO(k).concat([r(b)]))},i);if(a(rn(rn(rn({},e),t),w)),b<1)c=requestAnimationFrame(d);else{var S=Uf(function(j,k){return Ly.apply(void 0,OO(k).concat([r(1)]))},i);a(rn(rn(rn({},e),t),S))}};return d=r.isStepper?v:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}var zSe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qSe(e,t){if(e==null)return{};var r=WSe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WSe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Mb(e){return GSe(e)||KSe(e)||VSe(e)||HSe()}function HSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VSe(e,t){if(e){if(typeof e=="string")return US(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return US(e,t)}}function KSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GSe(e){if(Array.isArray(e))return US(e)}function US(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){vf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vf(e,t,r){return t=L8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L8(n.key),n)}}function XSe(e,t,r){return t&&YSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L8(e){var t=QSe(e,"string");return Hu(t)==="symbol"?t:String(t)}function QSe(e,t){if(Hu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zS(e,t)}function zS(e,t){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zS(e,t)}function eje(e){var t=tje();return function(){var n=Dy(e),a;if(t){var o=Dy(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return qS(this,a)}}function qS(e,t){if(t&&(Hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WS(e)}function WS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tje(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dy(e)}var Oi=function(e){ZSe(r,e);var t=eje(r);function r(n,a){var o;JSe(this,r),o=t.call(this,n,a);var i=o.props,l=i.isActive,c=i.attributeName,u=i.from,f=i.to,d=i.steps,h=i.children,y=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(WS(o)),o.changeStyle=o.changeStyle.bind(WS(o)),!l||y<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:f}),qS(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},qS(o);o.state={style:c?vf({},c,u):u}}else o.state={style:{}};return o}return XSe(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,l=o.canBegin,c=o.attributeName,u=o.shouldReAnimate,f=o.to,d=o.from,h=this.state.style;if(l){if(!i){var y={style:c?vf({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(y);return}if(!(iSe(a.to,f)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=v||u?d:a.to;if(this.state&&h){var g={style:c?vf({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(g)}this.runAnimation(qa(qa({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,y=USe(i,l,ASe(u),c,this.changeStyle),v=function(){o.stopJSAnimation=y()};this.manager.start([h,f,v,c,d])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],f=u.style,d=u.duration,h=d===void 0?0:d,y=function(p,g,x){if(x===0)return p;var b=g.duration,w=g.easing,S=w===void 0?"ease":w,j=g.style,k=g.properties,_=g.onAnimationEnd,N=x>0?i[x-1]:g,E=k||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(Mb(p),[o.runJSAnimation.bind(o,{from:N.style,to:j,duration:b,easing:S}),b]);var A=PO(E,b,S),T=qa(qa(qa({},N.style),j),{},{transition:A});return[].concat(Mb(p),[T,b,_]).filter(vSe)};return this.manager.start([c].concat(Mb(i.reduce(y,[f,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=mSe());var o=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,y=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?vf({},l,c):c,g=PO(Object.keys(p),i,u);v.start([f,o,qa(qa({},p),{},{transition:g}),i,d])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=qSe(a,zSe),u=m.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!l||u===0||i<=0)return o;var d=function(y){var v=y.props,p=v.style,g=p===void 0?{}:p,x=v.className,b=m.cloneElement(y,qa(qa({},c),{},{style:qa(qa({},g),f),className:x}));return b};return u===1?d(m.Children.only(o)):I.createElement("div",null,m.Children.map(o,function(h){return d(h)}))}}]),r}(m.PureComponent);Oi.displayName="Animate";Oi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Oi.propTypes={from:Ft.oneOfType([Ft.object,Ft.string]),to:Ft.oneOfType([Ft.object,Ft.string]),attributeName:Ft.string,duration:Ft.number,begin:Ft.number,easing:Ft.oneOfType([Ft.string,Ft.func]),steps:Ft.arrayOf(Ft.shape({duration:Ft.number.isRequired,style:Ft.object.isRequired,easing:Ft.oneOfType([Ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ft.func]),properties:Ft.arrayOf("string"),onAnimationEnd:Ft.func})),children:Ft.oneOfType([Ft.node,Ft.func]),isActive:Ft.bool,canBegin:Ft.bool,onAnimationEnd:Ft.func,shouldReAnimate:Ft.bool,onAnimationStart:Ft.func,onAnimationReStart:Ft.func};function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(this,arguments)}function rje(e,t){return sje(e)||oje(e,t)||aje(e,t)||nje()}function nje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aje(e,t){if(e){if(typeof e=="string")return MO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MO(e,t)}}function MO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function sje(e){if(Array.isArray(e))return e}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){ije(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ije(e,t,r){return t=lje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lje(e){var t=cje(e,"string");return zh(t)=="symbol"?t:t+""}function cje(e,t){if(zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DO=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(i>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,y=4;h<y;h++)d[h]=o[h]>i?i:o[h];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+a-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+a)),f+="L ".concat(t+c*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*d[3])),f+="Z"}else if(i>0&&o===+o&&o>0){var v=Math.min(i,o);f="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*v," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},uje=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(o,o+l),f=Math.max(o,o+l),d=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=f&&a>=d&&a<=h}return!1},dje={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},I2=function(t){var r=LO(LO({},dje),t),n=m.useRef(),a=m.useState(-1),o=rje(a,2),i=o[0],l=o[1];m.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,y=r.className,v=r.animationEasing,p=r.animationDuration,g=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var w=$t("recharts-rectangle",y);return b?I.createElement(Oi,{canBegin:i>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:p,animationEasing:v,isActive:b},function(S){var j=S.width,k=S.height,_=S.x,N=S.y;return I.createElement(Oi,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:x,easing:v},I.createElement("path",Fy({},Dt(r,!0),{className:w,d:DO(_,N,j,k,h),ref:n})))}):I.createElement("path",Fy({},Dt(r,!0),{className:w,d:DO(c,u,f,d,h)}))};function HS(){return HS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HS.apply(this,arguments)}var D8=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=$t("recharts-dot",o);return r===+r&&n===+n&&a===+a?I.createElement("circle",HS({},Dt(t,!1),ay(t),{className:i,cx:r,cy:n,r:a})):null};function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}var fje=["x","y","top","left","width","height","className"];function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VS.apply(this,arguments)}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hje(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){mje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mje(e,t,r){return t=pje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pje(e){var t=gje(e,"string");return qh(t)=="symbol"?t:t+""}function gje(e,t){if(qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yje(e,t){if(e==null)return{};var r=vje(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xje=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},bje=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,y=h===void 0?0:h,v=t.className,p=yje(t,fje),g=hje({x:n,y:o,top:l,left:u,width:d,height:y},p);return!Ue(n)||!Ue(o)||!Ue(d)||!Ue(y)||!Ue(l)||!Ue(u)?null:I.createElement("path",VS({},Dt(g,!0),{className:$t("recharts-cross",v),d:xje(n,o,d,y,l,u)}))},wje=QD,Sje=wje(Object.getPrototypeOf,Object),jje=Sje,_je=Es,kje=jje,Nje=Cs,Eje="[object Object]",Cje=Function.prototype,Pje=Object.prototype,F8=Cje.toString,Aje=Pje.hasOwnProperty,Tje=F8.call(Object);function Oje(e){if(!Nje(e)||_je(e)!=Eje)return!1;var t=kje(e);if(t===null)return!0;var r=Aje.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&F8.call(r)==Tje}var Rje=Oje;const $je=Gt(Rje);var Mje=Es,Ije=Cs,Lje="[object Boolean]";function Dje(e){return e===!0||e===!1||Ije(e)&&Mje(e)==Lje}var Fje=Dje;const Bje=Gt(Fje);function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(this,arguments)}function Uje(e,t){return Hje(e)||Wje(e,t)||qje(e,t)||zje()}function zje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qje(e,t){if(e){if(typeof e=="string")return BO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BO(e,t)}}function BO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Hje(e){if(Array.isArray(e))return e}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){Vje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vje(e,t,r){return t=Kje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kje(e){var t=Gje(e,"string");return Wh(t)=="symbol"?t:t+""}function Gje(e,t){if(Wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qO=function(t,r,n,a,o){var i=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+o),l+="L ".concat(t+n-i/2-a,",").concat(r+o),l+="L ".concat(t,",").concat(r," Z"),l},Jje={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yje=function(t){var r=zO(zO({},Jje),t),n=m.useRef(),a=m.useState(-1),o=Uje(a,2),i=o[0],l=o[1];m.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,y=r.className,v=r.animationEasing,p=r.animationDuration,g=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var b=$t("recharts-trapezoid",y);return x?I.createElement(Oi,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:p,animationEasing:v,isActive:x},function(w){var S=w.upperWidth,j=w.lowerWidth,k=w.height,_=w.x,N=w.y;return I.createElement(Oi,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:v},I.createElement("path",By({},Dt(r,!0),{className:b,d:qO(_,N,S,j,k),ref:n})))}):I.createElement("g",null,I.createElement("path",By({},Dt(r,!0),{className:b,d:qO(c,u,f,d,h)})))},Xje=["option","shapeType","propTransformer","activeClassName","isActive"];function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function Qje(e,t){if(e==null)return{};var r=Zje(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){e_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e_e(e,t,r){return t=t_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t_e(e){var t=r_e(e,"string");return Hh(t)=="symbol"?t:t+""}function r_e(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n_e(e,t){return Uy(Uy({},t),e)}function a_e(e,t){return e==="symbols"}function HO(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(I2,r);case"trapezoid":return I.createElement(Yje,r);case"sector":return I.createElement(E8,r);case"symbols":if(a_e(t))return I.createElement(e2,r);break;default:return null}}function o_e(e){return m.isValidElement(e)?e.props:e}function s_e(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?n_e:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,l=e.isActive,c=Qje(e,Xje),u;if(m.isValidElement(t))u=m.cloneElement(t,Uy(Uy({},c),o_e(t)));else if(Et(t))u=t(c);else if($je(t)&&!Bje(t)){var f=a(t,c);u=I.createElement(HO,{shapeType:r,elementProps:f})}else{var d=c;u=I.createElement(HO,{shapeType:r,elementProps:d})}return l?I.createElement(Xr,{className:i},u):u}function z0(e,t){return t!=null&&"trapezoids"in e.props}function q0(e,t){return t!=null&&"sectors"in e.props}function Vh(e,t){return t!=null&&"points"in e.props}function i_e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function l_e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function c_e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function u_e(e,t){var r;return z0(e,t)?r=i_e:q0(e,t)?r=l_e:Vh(e,t)&&(r=c_e),r}function d_e(e,t){var r;return z0(e,t)?r="trapezoids":q0(e,t)?r="sectors":Vh(e,t)&&(r="points"),r}function f_e(e,t){if(z0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(q0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Vh(e,t)?t.payload:{}}function h_e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=d_e(r,t),o=f_e(r,t),i=n.filter(function(c,u){var f=O2(o,c),d=r.props[a].filter(function(v){var p=u_e(r,t);return p(v,t)}),h=r.props[a].indexOf(d[d.length-1]),y=u===h;return f&&y}),l=n.indexOf(i[i.length-1]);return l}var m_e=Math.ceil,p_e=Math.max;function g_e(e,t,r,n){for(var a=-1,o=p_e(m_e((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var y_e=g_e,v_e=y6,VO=1/0,x_e=17976931348623157e292;function b_e(e){if(!e)return e===0?e:0;if(e=v_e(e),e===VO||e===-VO){var t=e<0?-1:1;return t*x_e}return e===e?e:0}var B8=b_e,w_e=y_e,S_e=A0,Ib=B8;function j_e(e){return function(t,r,n){return n&&typeof n!="number"&&S_e(t,r,n)&&(r=n=void 0),t=Ib(t),r===void 0?(r=t,t=0):r=Ib(r),n=n===void 0?t<r?1:-1:Ib(n),w_e(t,r,n,e)}}var __e=j_e,k_e=__e,N_e=k_e(),E_e=N_e;const zy=Gt(E_e);function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){U8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U8(e,t,r){return t=C_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C_e(e){var t=P_e(e,"string");return Kh(t)=="symbol"?t:t+""}function P_e(e,t){if(Kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A_e=["Webkit","Moz","O","ms"],T_e=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=A_e.reduce(function(o,i){return GO(GO({},o),{},U8({},i+n,r))},{});return a[t]=r,a};function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(this,arguments)}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){Qn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q8(n.key),n)}}function R_e(e,t,r){return t&&YO(e.prototype,t),r&&YO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $_e(e,t,r){return t=Wy(t),M_e(e,z8()?Reflect.construct(t,r||[],Wy(e).constructor):t.apply(e,r))}function M_e(e,t){if(t&&(Vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I_e(e)}function I_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z8=function(){return!!e})()}function Wy(e){return Wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wy(e)}function L_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KS(e,t)}function KS(e,t){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KS(e,t)}function Qn(e,t,r){return t=q8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q8(e){var t=D_e(e,"string");return Vu(t)=="symbol"?t:t+""}function D_e(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F_e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Ff().domain(zy(0,c)).range([o,o+i-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},XO=function(t){return t.changedTouches&&!!t.changedTouches.length},Ku=function(e){function t(r){var n;return O_e(this,t),n=$_e(this,t,[r]),Qn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Qn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Qn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:o,startIndex:l})}),n.detachDragEndListener()}),Qn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Qn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Qn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Qn(n,"handleSlideDragStart",function(a){var o=XO(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return L_e(t,e),R_e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(a,o),h=Math.max(a,o),y=t.getIndexInRange(i,d),v=t.getIndexInRange(i,h);return{startIndex:y-y%c,endIndex:v===f?f:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,l=a.dataKey,c=Ho(o[n],l,n);return Et(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,y=c.endIndex,v=c.onChange,p=n.pageX-o;p>0?p=Math.min(p,u+f-d-l,u+f-d-i):p<0&&(p=Math.max(p,u-i,u-l));var g=this.getIndex({startX:i+p,endX:l+p});(g.startIndex!==h||g.endIndex!==y)&&v&&v(g),this.setState({startX:i+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=XO(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],f=this.props,d=f.x,h=f.width,y=f.travellerWidth,v=f.onChange,p=f.gap,g=f.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-o;b>0?b=Math.min(b,d+h-y-u):b<0&&(b=Math.max(b,d-u)),x[i]=u+b;var w=this.getIndex(x),S=w.startIndex,j=w.endIndex,k=function(){var N=g.length-1;return i==="startX"&&(l>c?S%p===0:j%p===0)||l<c&&j===N||i==="endX"&&(l>c?j%p===0:S%p===0)||l>c&&j===N};this.setState(Qn(Qn({},i,u+b),"brushMoveStartX",n.pageX),function(){v&&k()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,f=this.state[a],d=l.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var y=l[h];a==="startX"&&y>=u||a==="endX"&&y<=c||this.setState(Qn({},a,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return I.createElement("rect",{stroke:u,fill:c,x:a,y:o,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=m.Children.only(u);return d?I.cloneElement(d,{x:a,y:o,width:i,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,y=c.ariaLabel,v=c.data,p=c.startIndex,g=c.endIndex,x=Math.max(n,this.props.x),b=Lb(Lb({},Dt(this.props,!1)),{},{x,y:u,width:f,height:d}),w=y||"Min value: ".concat((o=v[p])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=v[g])===null||i===void 0?void 0:i.name);return I.createElement(Xr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,l=o.height,c=o.stroke,u=o.travellerWidth,f=Math.min(n,a)+u,d=Math.max(Math.abs(a-n)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:i,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,y=5,v={pointerEvents:"none",fill:u};return I.createElement(Xr,{className:"recharts-brush-texts"},I.createElement(xy,qy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-y,y:i+l/2},v),this.getTextOfTick(a)),I.createElement(xy,qy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+y,y:i+l/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,y=h.startX,v=h.endX,p=h.isTextActive,g=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Ue(l)||!Ue(c)||!Ue(u)||!Ue(f)||u<=0||f<=0)return null;var w=$t("recharts-brush",o),S=I.Children.count(i)===1,j=T_e("userSelect","none");return I.createElement(Xr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(y,v),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(v,"endX"),(p||g||x||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(o+l/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:a,y:o,width:i,height:l,fill:c,stroke:"none"}),I.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return I.isValidElement(n)?o=I.cloneElement(n,a):Et(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(o!==a.prevData||u!==a.prevUpdateId)return Lb({prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},o&&o.length?F_e({data:o,width:i,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var h=a.scale.domain().map(function(y){return a.scale(y)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,l=o-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(m.PureComponent);Qn(Ku,"displayName","Brush");Qn(Ku,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var B_e=i2;function U_e(e,t){var r;return B_e(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var z_e=U_e,q_e=WD,W_e=Ui,H_e=z_e,V_e=Yn,K_e=A0;function G_e(e,t,r){var n=V_e(e)?q_e:H_e;return r&&K_e(e,t,r)&&(t=void 0),n(e,W_e(t))}var J_e=G_e;const Y_e=Gt(J_e);var Bo=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},QO=f6;function X_e(e,t,r){t=="__proto__"&&QO?QO(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Q_e=X_e,Z_e=Q_e,eke=u6,tke=Ui;function rke(e,t){var r={};return t=tke(t),eke(e,function(n,a,o){Z_e(r,a,t(n,a,o))}),r}var nke=rke;const ake=Gt(nke);function oke(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var ske=oke,ike=i2;function lke(e,t){var r=!0;return ike(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var cke=lke,uke=ske,dke=cke,fke=Ui,hke=Yn,mke=A0;function pke(e,t,r){var n=hke(e)?uke:dke;return r&&mke(e,t,r)&&(t=void 0),n(e,fke(t))}var gke=pke;const W8=Gt(gke);var yke=["x","y"];function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function GS(){return GS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GS.apply(this,arguments)}function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(n){vke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vke(e,t,r){return t=xke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xke(e){var t=bke(e,"string");return Gh(t)=="symbol"?t:t+""}function bke(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wke(e,t){if(e==null)return{};var r=Ske(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ske(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jke(e,t){var r=e.x,n=e.y,a=wke(e,yke),o="".concat(r),i=parseInt(o,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),f=parseInt(u,10),d="".concat(t.width||a.width),h=parseInt(d,10);return sf(sf(sf(sf(sf({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function e4(e){return I.createElement(s_e,GS({shapeType:"rectangle",propTransformer:jke,activeClassName:"recharts-active-bar"},e))}var _ke=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=typeof n=="number";return o?t(n,a):(o||ql(),r)}},kke=["value","background"],H8;function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function Nke(e,t){if(e==null)return{};var r=Eke(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(this,arguments)}function t4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(r),!0).forEach(function(n){ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K8(n.key),n)}}function Pke(e,t,r){return t&&r4(e.prototype,t),r&&r4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ake(e,t,r){return t=Vy(t),Tke(e,V8()?Reflect.construct(t,r||[],Vy(e).constructor):t.apply(e,r))}function Tke(e,t){if(t&&(Gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oke(e)}function Oke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V8=function(){return!!e})()}function Vy(e){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vy(e)}function Rke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JS(e,t)}function JS(e,t){return JS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JS(e,t)}function ci(e,t,r){return t=K8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K8(e){var t=$ke(e,"string");return Gu(t)=="symbol"?t:t+""}function $ke(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var As=function(e){function t(){var r;Cke(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Ake(this,t,[].concat(a)),ci(r,"state",{isAnimationFinished:!1}),ci(r,"id",j0("recharts-bar-")),ci(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),ci(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return Rke(t,e),Pke(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,l=o.dataKey,c=o.activeIndex,u=o.activeBar,f=Dt(this.props,!1);return n&&n.map(function(d,h){var y=h===c,v=y?u:i,p=Pr(Pr(Pr({},f),d),{},{isActive:y,option:v,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return I.createElement(Xr,Hy({className:"recharts-bar-rectangle"},oy(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),I.createElement(e4,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return I.createElement(Oi,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t,p=o.map(function(g,x){var b=h&&h[x];if(b){var w=mc(b.x,g.x),S=mc(b.y,g.y),j=mc(b.width,g.width),k=mc(b.height,g.height);return Pr(Pr({},g),{},{x:w(v),y:S(v),width:j(v),height:k(v)})}if(i==="horizontal"){var _=mc(0,g.height),N=_(v);return Pr(Pr({},g),{},{y:g.y+g.height-N,height:N})}var E=mc(0,g.width),A=E(v);return Pr(Pr({},g),{},{width:A})});return I.createElement(Xr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!O2(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,l=a.activeIndex,c=Dt(this.props.background,!1);return o.map(function(u,f){u.value;var d=u.background,h=Nke(u,kke);if(!d)return null;var y=Pr(Pr(Pr(Pr(Pr({},h),{},{fill:"#eee"},d),c),oy(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:f,className:"recharts-bar-background-rectangle"});return I.createElement(e4,Hy({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},y))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,l=o.xAxis,c=o.yAxis,u=o.layout,f=o.children,d=so(f,U0);if(!d)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,y=function(g,x){var b=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:b,errorVal:Ho(g,x)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return I.createElement(Xr,v,d.map(function(p){return I.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,y=n.isAnimationActive,v=n.background,p=n.id;if(a||!o||!o.length)return null;var g=this.state.isAnimationFinished,x=$t("recharts-bar",i),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,S=b||w,j=Bt(p)?this.id:p;return I.createElement(Xr,{className:x},b||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(j)},I.createElement("rect",{x:b?u:u-d/2,y:w?f:f-h/2,width:b?d:d*2,height:w?h:h*2}))):null,I.createElement(Xr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!y||g)&&io.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(m.PureComponent);H8=As;ci(As,"displayName","Bar");ci(As,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Si.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ci(As,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,y=uwe(n,r);if(!y)return null;var v=t.layout,p=r.type.defaultProps,g=p!==void 0?Pr(Pr({},p),r.props):r.props,x=g.dataKey,b=g.children,w=g.minPointSize,S=v==="horizontal"?i:o,j=u?S.scale.domain():null,k=vwe({numericAxis:S}),_=so(b,Am),N=d.map(function(E,A){var T,D,B,z,F,$;u?T=dwe(u[f+A],j):(T=Ho(E,x),Array.isArray(T)||(T=[k,T]));var U=_ke(w,H8.defaultProps.minPointSize)(T[1],A);if(v==="horizontal"){var P,M=[i.scale(T[0]),i.scale(T[1])],W=M[0],R=M[1];D=eO({axis:o,ticks:l,bandSize:a,offset:y.offset,entry:E,index:A}),B=(P=R??W)!==null&&P!==void 0?P:void 0,z=y.size;var q=W-R;if(F=Number.isNaN(q)?0:q,$={x:D,y:i.y,width:z,height:i.height},Math.abs(U)>0&&Math.abs(F)<Math.abs(U)){var ee=eo(F||U)*(Math.abs(U)-Math.abs(F));B-=ee,F+=ee}}else{var ne=[o.scale(T[0]),o.scale(T[1])],ce=ne[0],ue=ne[1];if(D=ce,B=eO({axis:i,ticks:c,bandSize:a,offset:y.offset,entry:E,index:A}),z=ue-ce,F=y.size,$={x:o.x,y:B,width:o.width,height:F},Math.abs(U)>0&&Math.abs(z)<Math.abs(U)){var ie=eo(z||U)*(Math.abs(U)-Math.abs(z));z+=ie}}return Pr(Pr(Pr({},E),{},{x:D,y:B,width:z,height:F,value:u?T:T[1],payload:E,background:$},_&&_[A]&&_[A].props),{},{tooltipPayload:[_8(r,E)],tooltipPosition:{x:D+z/2,y:B+F/2}})});return Pr({data:N,layout:v},h)});function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function Mke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G8(n.key),n)}}function Ike(e,t,r){return t&&n4(e.prototype,t),r&&n4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(r),!0).forEach(function(n){W0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W0(e,t,r){return t=G8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G8(e){var t=Lke(e,"string");return Jh(t)=="symbol"?t:t+""}function Lke(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dke=function(t,r,n,a,o){var i=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ra(u,As);return f.reduce(function(y,v){var p=r[v],g=p.orientation,x=p.domain,b=p.padding,w=b===void 0?{}:b,S=p.mirror,j=p.reversed,k="".concat(g).concat(S?"Mirror":""),_,N,E,A,T;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var D=x[1]-x[0],B=1/0,z=p.categoricalDomain.sort();if(z.forEach(function(ne,ce){ce>0&&(B=Math.min((ne||0)-(z[ce-1]||0),B))}),Number.isFinite(B)){var F=B/D,$=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(_=F*$/2),p.padding==="no-gap"){var U=Ul(t.barCategoryGap,F*$),P=F*$/2;_=P-U-(P-U)/$*U}}}a==="xAxis"?N=[n.left+(w.left||0)+(_||0),n.left+n.width-(w.right||0)-(_||0)]:a==="yAxis"?N=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(_||0),n.top+n.height-(w.bottom||0)-(_||0)]:N=p.range,j&&(N=[N[1],N[0]]);var M=lwe(p,o,h),W=M.scale,R=M.realScaleType;W.domain(x).range(N),cwe(W);var q=ywe(W,Ya(Ya({},p),{},{realScaleType:R}));a==="xAxis"?(T=g==="top"&&!S||g==="bottom"&&S,E=n.left,A=d[k]-T*p.height):a==="yAxis"&&(T=g==="left"&&!S||g==="right"&&S,E=d[k]-T*p.width,A=n.top);var ee=Ya(Ya(Ya({},p),q),{},{realScaleType:R,x:E,y:A,scale:W,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return ee.bandSize=Ry(ee,q),!p.hide&&a==="xAxis"?d[k]+=(T?-1:1)*ee.height:p.hide||(d[k]+=(T?-1:1)*ee.width),Ya(Ya({},y),{},W0({},v,ee))},{})},J8=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},Fke=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return J8({x:r,y:n},{x:a,y:o})},Y8=function(){function e(t){Mke(this,e),this.scale=t}return Ike(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();W0(Y8,"EPS",1e-4);var L2=function(t){var r=Object.keys(t).reduce(function(n,a){return Ya(Ya({},n),{},W0({},a,Y8.create(t[a])))},{});return Ya(Ya({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,l=o.position;return ake(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return W8(a,function(o,i){return r[i].isInRange(o)})}})};function Bke(e){return(e%180+180)%180}var Uke=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Bke(a),i=o*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},zke=Ui,qke=Pm,Wke=C0;function Hke(e){return function(t,r,n){var a=Object(t);if(!qke(t)){var o=zke(r);t=Wke(t),r=function(l){return o(a[l],l,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var Vke=Hke,Kke=B8;function Gke(e){var t=Kke(e),r=t%1;return t===t?r?t-r:t:0}var Jke=Gke,Yke=a6,Xke=Ui,Qke=Jke,Zke=Math.max;function e2e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Qke(r);return a<0&&(a=Zke(n+a,0)),Yke(e,Xke(t),a)}var t2e=e2e,r2e=Vke,n2e=t2e,a2e=r2e(n2e),o2e=a2e;const s2e=Gt(o2e);var i2e=Goe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),D2=m.createContext(void 0),F2=m.createContext(void 0),X8=m.createContext(void 0),Q8=m.createContext({}),Z8=m.createContext(void 0),eF=m.createContext(0),tF=m.createContext(0),o4=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,f=i2e(o);return I.createElement(D2.Provider,{value:n},I.createElement(F2.Provider,{value:a},I.createElement(Q8.Provider,{value:o},I.createElement(X8.Provider,{value:f},I.createElement(Z8.Provider,{value:i},I.createElement(eF.Provider,{value:u},I.createElement(tF.Provider,{value:c},l)))))))},l2e=function(){return m.useContext(Z8)},rF=function(t){var r=m.useContext(D2);r==null&&ql();var n=r[t];return n==null&&ql(),n},c2e=function(){var t=m.useContext(D2);return Ys(t)},u2e=function(){var t=m.useContext(F2),r=s2e(t,function(n){return W8(n.domain,Number.isFinite)});return r||Ys(t)},nF=function(t){var r=m.useContext(F2);r==null&&ql();var n=r[t];return n==null&&ql(),n},d2e=function(){var t=m.useContext(X8);return t},f2e=function(){return m.useContext(Q8)},B2=function(){return m.useContext(tF)},U2=function(){return m.useContext(eF)};function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function h2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oF(n.key),n)}}function p2e(e,t,r){return t&&m2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g2e(e,t,r){return t=Ky(t),y2e(e,aF()?Reflect.construct(t,r||[],Ky(e).constructor):t.apply(e,r))}function y2e(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v2e(e)}function v2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aF=function(){return!!e})()}function Ky(e){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ky(e)}function x2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YS(e,t)}function YS(e,t){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YS(e,t)}function s4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s4(Object(r),!0).forEach(function(n){z2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z2(e,t,r){return t=oF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oF(e){var t=b2e(e,"string");return Ju(t)=="symbol"?t:t+""}function b2e(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w2e(e,t){return k2e(e)||_2e(e,t)||j2e(e,t)||S2e()}function S2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j2e(e,t){if(e){if(typeof e=="string")return l4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l4(e,t)}}function l4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function k2e(e){if(Array.isArray(e))return e}function XS(){return XS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XS.apply(this,arguments)}var N2e=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):Et(t)?n=t(r):n=I.createElement("line",XS({},r,{className:"recharts-reference-line-line"})),n},E2e=function(t,r,n,a,o,i,l,c,u){var f=o.x,d=o.y,h=o.width,y=o.height;if(n){var v=u.y,p=t.y.apply(v,{position:i});if(Bo(u,"discard")&&!t.y.isInRange(p))return null;var g=[{x:f+h,y:p},{x:f,y:p}];return c==="left"?g.reverse():g}if(r){var x=u.x,b=t.x.apply(x,{position:i});if(Bo(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:d+y},{x:b,y:d}];return l==="top"?w.reverse():w}if(a){var S=u.segment,j=S.map(function(k){return t.apply(k,{position:i})});return Bo(u,"discard")&&Y_e(j,function(k){return!t.isInRange(k)})?null:j}return null};function C2e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=l2e(),f=rF(a),d=nF(o),h=d2e();if(!u||!h)return null;hs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=L2({x:f.scale,y:d.scale}),v=Ur(t),p=Ur(r),g=n&&n.length===2,x=E2e(y,v,p,g,h,e.position,f.orientation,d.orientation,e);if(!x)return null;var b=w2e(x,2),w=b[0],S=w.x,j=w.y,k=b[1],_=k.x,N=k.y,E=Bo(e,"hidden")?"url(#".concat(u,")"):void 0,A=i4(i4({clipPath:E},Dt(e,!0)),{},{x1:S,y1:j,x2:_,y2:N});return I.createElement(Xr,{className:$t("recharts-reference-line",l)},N2e(i,A),gn.renderCallByParent(e,Fke({x1:S,y1:j,x2:_,y2:N})))}var q2=function(e){function t(){return h2e(this,t),g2e(this,t,arguments)}return x2e(t,e),p2e(t,[{key:"render",value:function(){return I.createElement(C2e,this.props)}}])}(I.Component);z2(q2,"displayName","ReferenceLine");z2(q2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function QS(){return QS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QS.apply(this,arguments)}function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function c4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c4(Object(r),!0).forEach(function(n){H0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iF(n.key),n)}}function T2e(e,t,r){return t&&A2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O2e(e,t,r){return t=Gy(t),R2e(e,sF()?Reflect.construct(t,r||[],Gy(e).constructor):t.apply(e,r))}function R2e(e,t){if(t&&(Yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $2e(e)}function $2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!e})()}function Gy(e){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(e)}function M2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZS(e,t)}function ZS(e,t){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZS(e,t)}function H0(e,t,r){return t=iF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iF(e){var t=I2e(e,"string");return Yu(t)=="symbol"?t:t+""}function I2e(e,t){if(Yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L2e=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=L2({x:a.scale,y:o.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Bo(t,"discard")&&!i.isInRange(l)?null:l},V0=function(e){function t(){return P2e(this,t),O2e(this,t,arguments)}return M2e(t,e),T2e(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=Ur(a),f=Ur(o);if(hs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=L2e(this.props);if(!d)return null;var h=d.x,y=d.y,v=this.props,p=v.shape,g=v.className,x=Bo(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=u4(u4({clipPath:x},Dt(this.props,!0)),{},{cx:h,cy:y});return I.createElement(Xr,{className:$t("recharts-reference-dot",g)},t.renderDot(p,b),gn.renderCallByParent(this.props,{x:h-i,y:y-i,width:2*i,height:2*i}))}}])}(I.Component);H0(V0,"displayName","ReferenceDot");H0(V0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});H0(V0,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Et(e)?r=e(t):r=I.createElement(D8,QS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function ej(){return ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ej.apply(this,arguments)}function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function d4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(r),!0).forEach(function(n){K0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cF(n.key),n)}}function B2e(e,t,r){return t&&F2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U2e(e,t,r){return t=Jy(t),z2e(e,lF()?Reflect.construct(t,r||[],Jy(e).constructor):t.apply(e,r))}function z2e(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q2e(e)}function q2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lF=function(){return!!e})()}function Jy(e){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jy(e)}function W2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tj(e,t)}function tj(e,t){return tj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tj(e,t)}function K0(e,t,r){return t=cF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cF(e){var t=H2e(e,"string");return Xu(t)=="symbol"?t:t+""}function H2e(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V2e=function(t,r,n,a,o){var i=o.x1,l=o.x2,c=o.y1,u=o.y2,f=o.xAxis,d=o.yAxis;if(!f||!d)return null;var h=L2({x:f.scale,y:d.scale}),y={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Bo(o,"discard")&&(!h.isInRange(y)||!h.isInRange(v))?null:J8(y,v)},G0=function(e){function t(){return D2e(this,t),U2e(this,t,arguments)}return W2e(t,e),B2e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;hs(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Ur(a),h=Ur(o),y=Ur(i),v=Ur(l),p=this.props.shape;if(!d&&!h&&!y&&!v&&!p)return null;var g=V2e(d,h,y,v,this.props);if(!g&&!p)return null;var x=Bo(this.props,"hidden")?"url(#".concat(f,")"):void 0;return I.createElement(Xr,{className:$t("recharts-reference-area",c)},t.renderRect(p,f4(f4({clipPath:x},Dt(this.props,!0)),g)),gn.renderCallByParent(this.props,g))}}])}(I.Component);K0(G0,"displayName","ReferenceArea");K0(G0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});K0(G0,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Et(e)?r=e(t):r=I.createElement(I2,ej({},t,{className:"recharts-reference-area-rect"})),r});function uF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function K2e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Uke(n,r)}function G2e(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,l=e.height;return t===1?{start:n?a:o,end:n?a+i:o+l}:{start:n?a+i:o+l,end:n?a:o}}function Yy(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function J2e(e,t){return uF(e,t+1)}function Y2e(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,f=i,d=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:uF(n,u)};var p=c,g,x=function(){return g===void 0&&(g=r(v,p)),g},b=v.coordinate,w=c===0||Yy(e,b,x,f,l);w||(c=0,f=i,u+=1),w&&(f=b+e*(x()/2+a),c+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function h4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h4(Object(r),!0).forEach(function(n){X2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X2e(e,t,r){return t=Q2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q2e(e){var t=Z2e(e,"string");return Yh(t)=="symbol"?t:t+""}function Z2e(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eNe(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,l=t.start,c=t.end,u=function(h){var y=o[h],v,p=function(){return v===void 0&&(v=r(y,h)),v};if(h===i-1){var g=e*(y.coordinate+e*p()/2-c);o[h]=y=mn(mn({},y),{},{tickCoord:g>0?y.coordinate-g*e:y.coordinate})}else o[h]=y=mn(mn({},y),{},{tickCoord:y.coordinate});var x=Yy(e,y.tickCoord,p,l,c);x&&(c=y.tickCoord-e*(p()/2+a),o[h]=mn(mn({},y),{},{isShow:!0}))},f=i-1;f>=0;f--)u(f);return o}function tNe(e,t,r,n,a,o){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(o){var f=n[l-1],d=r(f,l-1),h=e*(f.coordinate+e*d/2-u);i[l-1]=f=mn(mn({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var y=Yy(e,f.tickCoord,function(){return d},c,u);y&&(u=f.tickCoord-e*(d/2+a),i[l-1]=mn(mn({},f),{},{isShow:!0}))}for(var v=o?l-1:l,p=function(b){var w=i[b],S,j=function(){return S===void 0&&(S=r(w,b)),S};if(b===0){var k=e*(w.coordinate-e*j()/2-c);i[b]=w=mn(mn({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else i[b]=w=mn(mn({},w),{},{tickCoord:w.coordinate});var _=Yy(e,w.tickCoord,j,c,u);_&&(c=w.tickCoord+e*(j()/2+a),i[b]=mn(mn({},w),{},{isShow:!0}))},g=0;g<v;g++)p(g);return i}function W2(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(Ue(c)||Si.isSsr)return J2e(a,typeof c=="number"&&Ue(c)?c:0);var h=[],y=l==="top"||l==="bottom"?"width":"height",v=f&&y==="width"?Df(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,S){var j=Et(u)?u(w.value,S):w.value;return y==="width"?K2e(Df(j,{fontSize:t,letterSpacing:r}),v,d):Df(j,{fontSize:t,letterSpacing:r})[y]},g=a.length>=2?eo(a[1].coordinate-a[0].coordinate):1,x=G2e(o,g,y);return c==="equidistantPreserveStart"?Y2e(g,x,p,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=tNe(g,x,p,a,i,c==="preserveStartEnd"):h=eNe(g,x,p,a,i),h.filter(function(b){return b.isShow}))}var rNe=["viewBox"],nNe=["viewBox"],aNe=["ticks"];function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zc.apply(this,arguments)}function m4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m4(Object(r),!0).forEach(function(n){H2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Db(e,t){if(e==null)return{};var r=oNe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fF(n.key),n)}}function iNe(e,t,r){return t&&p4(e.prototype,t),r&&p4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lNe(e,t,r){return t=Xy(t),cNe(e,dF()?Reflect.construct(t,r||[],Xy(e).constructor):t.apply(e,r))}function cNe(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uNe(e)}function uNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dF=function(){return!!e})()}function Xy(e){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(e)}function dNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rj(e,t)}function rj(e,t){return rj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rj(e,t)}function H2(e,t,r){return t=fF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fF(e){var t=fNe(e,"string");return Qu(t)=="symbol"?t:t+""}function fNe(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Td=function(e){function t(r){var n;return sNe(this,t),n=lNe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return dNe(t,e),iNe(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=Db(n,rNe),l=this.props,c=l.viewBox,u=Db(l,nNe);return!au(o,c)||!au(i,u)||!au(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,y,v,p,g,x,b,w=d?-1:1,S=n.tickSize||f,j=Ue(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":y=v=n.coordinate,g=i+ +!d*c,p=g-w*S,b=p-w*h,x=j;break;case"left":p=g=n.coordinate,v=o+ +!d*l,y=v-w*S,x=y-w*h,b=j;break;case"right":p=g=n.coordinate,v=o+ +d*l,y=v+w*S,x=y+w*h,b=j;break;default:y=v=n.coordinate,g=i+ +d*c,p=g+w*S,b=p+w*h,x=j;break}return{line:{x1:y,y1:p,x2:v,y2:g},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=_n(_n(_n({},Dt(this.props,!1)),Dt(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=_n(_n({},d),{},{x1:a,y1:o+h*l,x2:a+i,y2:o+h*l})}else{var y=+(c==="left"&&!u||c==="right"&&u);d=_n(_n({},d),{},{x1:a+y*i,y1:o,x2:a+y*i,y2:o+l})}return I.createElement("line",zc({},d,{className:$t("recharts-cartesian-axis-line",Aa(f,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,h=l.unit,y=W2(_n(_n({},this.props),{},{ticks:n}),a,o),v=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=Dt(this.props,!1),x=Dt(f,!1),b=_n(_n({},g),{},{fill:"none"},Dt(c,!1)),w=y.map(function(S,j){var k=i.getTickLineCoord(S),_=k.line,N=k.tick,E=_n(_n(_n(_n({textAnchor:v,verticalAnchor:p},g),{},{stroke:"none",fill:u},x),N),{},{index:j,payload:S,visibleTicksCount:y.length,tickFormatter:d});return I.createElement(Xr,zc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},oy(i.props,S,j)),c&&I.createElement("line",zc({},b,_,{className:$t("recharts-cartesian-axis-tick-line",Aa(c,"className"))})),f&&t.renderTickItem(f,E,"".concat(Et(d)?d(S.value,j):S.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,y=Db(d,aNe),v=h;return Et(c)&&(v=h&&h.length>0?c(this.props):c(y)),i<=0||l<=0||!v||!v.length?null:I.createElement(Xr,{className:$t("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),gn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i;return I.isValidElement(n)?i=I.cloneElement(n,a):Et(n)?i=n(a):i=I.createElement(xy,zc({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(m.Component);H2(Td,"displayName","CartesianAxis");H2(Td,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hNe=["x1","y1","x2","y2","key"],mNe=["offset"];function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){pNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pNe(e,t,r){return t=gNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gNe(e){var t=yNe(e,"string");return Wl(t)=="symbol"?t:t+""}function yNe(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hl.apply(this,arguments)}function y4(e,t){if(e==null)return{};var r=vNe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xNe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,l=t.height,c=t.ry;return I.createElement("rect",{x:a,y:o,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function hF(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Et(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,l=t.key,c=y4(t,hNe),u=Dt(c,!1);u.offset;var f=y4(u,mNe);r=I.createElement("line",hl({},f,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:l}))}return r}function bNe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(l,c){var u=yn(yn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return hF(a,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function wNe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(l,c){var u=yn(yn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return hF(a,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function SNe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,y){return h-y});a!==f[0]&&f.unshift(0);var d=f.map(function(h,y){var v=!f[y+1],p=v?a+i-h:f[y+1]-h;if(p<=0)return null;var g=y%t.length;return I.createElement("rect",{key:"react-".concat(y),y:h,x:n,height:p,width:o,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function jNe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,y){return h-y});o!==f[0]&&f.unshift(0);var d=f.map(function(h,y){var v=!f[y+1],p=v?o+l-h:f[y+1]-h;if(p<=0)return null;var g=y%n.length;return I.createElement("rect",{key:"react-".concat(y),x:h,y:i,width:p,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var _Ne=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return S8(W2(yn(yn(yn({},Td.defaultProps),n),{},{ticks:cs(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},kNe=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return S8(W2(yn(yn(yn({},Td.defaultProps),n),{},{ticks:cs(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},yc={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function mF(e){var t,r,n,a,o,i,l=B2(),c=U2(),u=f2e(),f=yn(yn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:yc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:yc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:yc.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:yc.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:yc.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:yc.verticalFill,x:Ue(e.x)?e.x:u.left,y:Ue(e.y)?e.y:u.top,width:Ue(e.width)?e.width:u.width,height:Ue(e.height)?e.height:u.height}),d=f.x,h=f.y,y=f.width,v=f.height,p=f.syncWithTicks,g=f.horizontalValues,x=f.verticalValues,b=c2e(),w=u2e();if(!Ue(y)||y<=0||!Ue(v)||v<=0||!Ue(d)||d!==+d||!Ue(h)||h!==+h)return null;var S=f.verticalCoordinatesGenerator||_Ne,j=f.horizontalCoordinatesGenerator||kNe,k=f.horizontalPoints,_=f.verticalPoints;if((!k||!k.length)&&Et(j)){var N=g&&g.length,E=j({yAxis:w?yn(yn({},w),{},{ticks:N?g:w.ticks}):void 0,width:l,height:c,offset:u},N?!0:p);hs(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wl(E),"]")),Array.isArray(E)&&(k=E)}if((!_||!_.length)&&Et(S)){var A=x&&x.length,T=S({xAxis:b?yn(yn({},b),{},{ticks:A?x:b.ticks}):void 0,width:l,height:c,offset:u},A?!0:p);hs(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wl(T),"]")),Array.isArray(T)&&(_=T)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(xNe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),I.createElement(bNe,hl({},f,{offset:u,horizontalPoints:k,xAxis:b,yAxis:w})),I.createElement(wNe,hl({},f,{offset:u,verticalPoints:_,xAxis:b,yAxis:w})),I.createElement(SNe,hl({},f,{horizontalPoints:k})),I.createElement(jNe,hl({},f,{verticalPoints:_})))}mF.displayName="CartesianGrid";function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function NNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ENe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yF(n.key),n)}}function CNe(e,t,r){return t&&ENe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PNe(e,t,r){return t=Qy(t),ANe(e,pF()?Reflect.construct(t,r||[],Qy(e).constructor):t.apply(e,r))}function ANe(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TNe(e)}function TNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pF=function(){return!!e})()}function Qy(e){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qy(e)}function ONe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nj(e,t)}function nj(e,t){return nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nj(e,t)}function gF(e,t,r){return t=yF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yF(e){var t=RNe(e,"string");return Zu(t)=="symbol"?t:t+""}function RNe(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aj(){return aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aj.apply(this,arguments)}function $Ne(e){var t=e.xAxisId,r=B2(),n=U2(),a=rF(t);return a==null?null:I.createElement(Td,aj({},a,{className:$t("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return cs(i,!0)}}))}var Od=function(e){function t(){return NNe(this,t),PNe(this,t,arguments)}return ONe(t,e),CNe(t,[{key:"render",value:function(){return I.createElement($Ne,this.props)}}])}(I.Component);gF(Od,"displayName","XAxis");gF(Od,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function MNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function INe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bF(n.key),n)}}function LNe(e,t,r){return t&&INe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DNe(e,t,r){return t=Zy(t),FNe(e,vF()?Reflect.construct(t,r||[],Zy(e).constructor):t.apply(e,r))}function FNe(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BNe(e)}function BNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vF=function(){return!!e})()}function Zy(e){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zy(e)}function UNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oj(e,t)}function oj(e,t){return oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oj(e,t)}function xF(e,t,r){return t=bF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bF(e){var t=zNe(e,"string");return ed(t)=="symbol"?t:t+""}function zNe(e,t){if(ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sj(){return sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sj.apply(this,arguments)}var qNe=function(t){var r=t.yAxisId,n=B2(),a=U2(),o=nF(r);return o==null?null:I.createElement(Td,sj({},o,{className:$t("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return cs(l,!0)}}))},Rd=function(e){function t(){return MNe(this,t),DNe(this,t,arguments)}return UNe(t,e),LNe(t,[{key:"render",value:function(){return I.createElement(qNe,this.props)}}])}(I.Component);xF(Rd,"displayName","YAxis");xF(Rd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function v4(e){return KNe(e)||VNe(e)||HNe(e)||WNe()}function WNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HNe(e,t){if(e){if(typeof e=="string")return ij(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ij(e,t)}}function VNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KNe(e){if(Array.isArray(e))return ij(e)}function ij(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var lj=function(t,r,n,a,o){var i=so(t,q2),l=so(t,V0),c=[].concat(v4(i),v4(l)),u=so(t,G0),f="".concat(a,"Id"),d=a[0],h=r;if(c.length&&(h=c.reduce(function(p,g){if(g.props[f]===n&&Bo(g.props,"extendDomain")&&Ue(g.props[d])){var x=g.props[d];return[Math.min(p[0],x),Math.max(p[1],x)]}return p},h)),u.length){var y="".concat(d,"1"),v="".concat(d,"2");h=u.reduce(function(p,g){if(g.props[f]===n&&Bo(g.props,"extendDomain")&&Ue(g.props[y])&&Ue(g.props[v])){var x=g.props[y],b=g.props[v];return[Math.min(p[0],x,b),Math.max(p[1],x,b)]}return p},h)}return o&&o.length&&(h=o.reduce(function(p,g){return Ue(g)?[Math.min(p[0],g),Math.max(p[1],g)]:p},h)),h},wF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function o(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new a(f,d||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],y]:c._events[v].push(y):(c._events[v]=y,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,y=d.length,v=new Array(y);h<y;h++)v[h]=d[h].fn;return v},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,y,v){var p=r?r+u:u;if(!this._events[p])return!1;var g=this._events[p],x=arguments.length,b,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,d),!0;case 4:return g.fn.call(g.context,f,d,h),!0;case 5:return g.fn.call(g.context,f,d,h,y),!0;case 6:return g.fn.call(g.context,f,d,h,y,v),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];g.fn.apply(g.context,b)}else{var S=g.length,j;for(w=0;w<S;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),x){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,f);break;case 3:g[w].fn.call(g[w].context,f,d);break;case 4:g[w].fn.call(g[w].context,f,d,h);break;default:if(!b)for(j=1,b=new Array(x-1);j<x;j++)b[j-1]=arguments[j];g[w].fn.apply(g[w].context,b)}}return!0},l.prototype.on=function(u,f,d){return o(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return o(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var y=r?r+u:u;if(!this._events[y])return this;if(!f)return i(this,y),this;var v=this._events[y];if(v.fn)v.fn===f&&(!h||v.once)&&(!d||v.context===d)&&i(this,y);else{for(var p=0,g=[],x=v.length;p<x;p++)(v[p].fn!==f||h&&!v[p].once||d&&v[p].context!==d)&&g.push(v[p]);g.length?this._events[y]=g.length===1?g[0]:g:i(this,y)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&i(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(wF);var GNe=wF.exports;const JNe=Gt(GNe);var Fb=new JNe,Bb="recharts.syncMouseEvents";function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function YNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SF(n.key),n)}}function QNe(e,t,r){return t&&XNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ub(e,t,r){return t=SF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SF(e){var t=ZNe(e,"string");return Xh(t)=="symbol"?t:t+""}function ZNe(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eEe=function(){function e(){YNe(this,e),Ub(this,"activeIndex",0),Ub(this,"coordinateList",[]),Ub(this,"layout","horizontal")}return QNe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,y=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+c+u,h=i+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function tEe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ue(n)&&Ue(a))return!0}return!1}function rEe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function jF(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=ln(t,r,n,a),l=ln(t,r,n,o);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function nEe(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=ln(l,c,u,d),y=ln(l,c,f,d);n=h.x,a=h.y,o=y.x,i=y.y}else return jF(t);return[{x:n,y:a},{x:o,y:i}]}function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function x4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(r),!0).forEach(function(n){aEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aEe(e,t,r){return t=oEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oEe(e){var t=sEe(e,"string");return Qh(t)=="symbol"?t:t+""}function sEe(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iEe(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,y=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var v,p=gO;if(h==="ScatterChart")v=i,p=bje;else if(h==="BarChart")v=rEe(d,i,c,f),p=I2;else if(d==="radial"){var g=jF(i),x=g.cx,b=g.cy,w=g.radius,S=g.startAngle,j=g.endAngle;v={cx:x,cy:b,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},p=E8}else v={points:nEe(d,i,c)},p=gO;var k=Mp(Mp(Mp(Mp({stroke:"#ccc",pointerEvents:"none"},c),v),Dt(y,!1)),{},{payload:l,payloadIndex:u,className:$t("recharts-tooltip-cursor",y.className)});return m.isValidElement(y)?m.cloneElement(y,k):m.createElement(p,k)}var lEe=["item"],cEe=["children","className","width","height","style","compact","title","desc"];function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zf.apply(this,arguments)}function b4(e,t){return fEe(e)||dEe(e,t)||kF(e,t)||uEe()}function uEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function fEe(e){if(Array.isArray(e))return e}function w4(e,t){if(e==null)return{};var r=hEe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NF(n.key),n)}}function gEe(e,t,r){return t&&pEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yEe(e,t,r){return t=ev(t),vEe(e,_F()?Reflect.construct(t,r||[],ev(e).constructor):t.apply(e,r))}function vEe(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xEe(e)}function xEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!e})()}function ev(e){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ev(e)}function bEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cj(e,t)}function cj(e,t){return cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cj(e,t)}function rd(e){return jEe(e)||SEe(e)||kF(e)||wEe()}function wEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kF(e,t){if(e){if(typeof e=="string")return uj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uj(e,t)}}function SEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jEe(e){if(Array.isArray(e))return uj(e)}function uj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(r),!0).forEach(function(n){mt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mt(e,t,r){return t=NF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NF(e){var t=_Ee(e,"string");return td(t)=="symbol"?t:t+""}function _Ee(e,t){if(td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kEe={xAxis:["bottom","top"],yAxis:["left","right"]},NEe={width:"100%",height:"100%"},EF={x:0,y:0};function Ip(e){return e}var EEe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},CEe=function(t,r,n,a){var o=r.find(function(f){return f&&f.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,l=a.radius;return ve(ve(ve({},a),ln(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=o.coordinate,u=a.angle;return ve(ve(ve({},a),ln(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return EF},J0=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(rd(l),rd(u)):l},[]);return i.length>0?i:t&&t.length&&Ue(a)&&Ue(o)?t.slice(a,o+1):[]};function CF(e){return e==="number"?[0,"auto"]:void 0}var dj=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,l=J0(r,t);return n<0||!o||!o.length||n>=l.length?null:o.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var y=d===void 0?l:d;h=W1(y,i.dataKey,a)}else h=d&&d[n]||l[n];return h?[].concat(rd(c),[_8(u,h)]):c},[])},j4=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=EEe(o,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=rwe(i,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=dj(t,r,f,d),y=CEe(n,l,f,o);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:y}}return null},PEe=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,y=w8(f,o);return n.reduce(function(v,p){var g,x=p.type.defaultProps!==void 0?ve(ve({},p.type.defaultProps),p.props):p.props,b=x.type,w=x.dataKey,S=x.allowDataOverflow,j=x.allowDuplicatedCategory,k=x.scale,_=x.ticks,N=x.includeHidden,E=x[i];if(v[E])return v;var A=J0(t.data,{graphicalItems:a.filter(function(q){var ee,ne=i in q.props?q.props[i]:(ee=q.type.defaultProps)===null||ee===void 0?void 0:ee[i];return ne===E}),dataStartIndex:c,dataEndIndex:u}),T=A.length,D,B,z;tEe(x.domain,S,b)&&(D=TS(x.domain,null,S),y&&(b==="number"||k!=="auto")&&(z=Bf(A,w,"category")));var F=CF(b);if(!D||D.length===0){var $,U=($=x.domain)!==null&&$!==void 0?$:F;if(w){if(D=Bf(A,w,b),b==="category"&&y){var P=Wse(D);j&&P?(B=D,D=zy(0,T)):j||(D=nO(U,D,p).reduce(function(q,ee){return q.indexOf(ee)>=0?q:[].concat(rd(q),[ee])},[]))}else if(b==="category")j?D=D.filter(function(q){return q!==""&&!Bt(q)}):D=nO(U,D,p).reduce(function(q,ee){return q.indexOf(ee)>=0||ee===""||Bt(ee)?q:[].concat(rd(q),[ee])},[]);else if(b==="number"){var M=iwe(A,a.filter(function(q){var ee,ne,ce=i in q.props?q.props[i]:(ee=q.type.defaultProps)===null||ee===void 0?void 0:ee[i],ue="hide"in q.props?q.props.hide:(ne=q.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return ce===E&&(N||!ue)}),w,o,f);M&&(D=M)}y&&(b==="number"||k!=="auto")&&(z=Bf(A,w,"category"))}else y?D=zy(0,T):l&&l[E]&&l[E].hasStack&&b==="number"?D=h==="expand"?[0,1]:j8(l[E].stackGroups,c,u):D=b8(A,a.filter(function(q){var ee=i in q.props?q.props[i]:q.type.defaultProps[i],ne="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return ee===E&&(N||!ne)}),b,f,!0);if(b==="number")D=lj(d,D,E,o,_),U&&(D=TS(U,D,S));else if(b==="category"&&U){var W=U,R=D.every(function(q){return W.indexOf(q)>=0});R&&(D=W)}}return ve(ve({},v),{},mt({},E,ve(ve({},x),{},{axisType:o,domain:D,categoricalDomain:z,duplicateDomain:B,originalDomain:(g=x.domain)!==null&&g!==void 0?g:F,isCategorical:y,layout:f})))},{})},AEe=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=J0(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),y=h.length,v=w8(f,o),p=-1;return n.reduce(function(g,x){var b=x.type.defaultProps!==void 0?ve(ve({},x.type.defaultProps),x.props):x.props,w=b[i],S=CF("number");if(!g[w]){p++;var j;return v?j=zy(0,y):l&&l[w]&&l[w].hasStack?(j=j8(l[w].stackGroups,c,u),j=lj(d,j,w,o)):(j=TS(S,b8(h,n.filter(function(k){var _,N,E=i in k.props?k.props[i]:(_=k.type.defaultProps)===null||_===void 0?void 0:_[i],A="hide"in k.props?k.props.hide:(N=k.type.defaultProps)===null||N===void 0?void 0:N.hide;return E===w&&!A}),"number",f),a.defaultProps.allowDataOverflow),j=lj(d,j,w,o)),ve(ve({},g),{},mt({},w,ve(ve({axisType:o},a.defaultProps),{},{hide:!0,orientation:Aa(kEe,"".concat(o,".").concat(p%2),null),domain:j,originalDomain:S,isCategorical:v,layout:f})))}return g},{})},TEe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=so(f,o),y={};return h&&h.length?y=PEe(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(y=AEe(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),y},OEe=function(t){var r=Ys(t),n=cs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:l2(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ry(r,n)}},_4=function(t){var r=t.children,n=t.defaultShowTooltip,a=ra(r,Ku),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},REe=function(t){return!t||!t.length?!1:t.some(function(r){var n=fs(r&&r.type);return n&&n.indexOf("Bar")>=0})},k4=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$Ee=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,h=n.margin||{},y=ra(d,Ku),v=ra(d,ou),p=Object.keys(c).reduce(function(j,k){var _=c[k],N=_.orientation;return!_.mirror&&!_.hide?ve(ve({},j),{},mt({},N,j[N]+_.width)):j},{left:h.left||0,right:h.right||0}),g=Object.keys(i).reduce(function(j,k){var _=i[k],N=_.orientation;return!_.mirror&&!_.hide?ve(ve({},j),{},mt({},N,Aa(j,"".concat(N))+_.height)):j},{top:h.top||0,bottom:h.bottom||0}),x=ve(ve({},g),p),b=x.bottom;y&&(x.bottom+=y.props.height||Ku.defaultProps.height),v&&r&&(x=owe(x,a,n,r));var w=u-x.left-x.right,S=f-x.top-x.bottom;return ve(ve({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(S,0)})},MEe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},IEe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(g,x){var b=x.graphicalItems,w=x.stackGroups,S=x.offset,j=x.updateId,k=x.dataStartIndex,_=x.dataEndIndex,N=g.barSize,E=g.layout,A=g.barGap,T=g.barCategoryGap,D=g.maxBarSize,B=k4(E),z=B.numericAxisName,F=B.cateAxisName,$=REe(b),U=[];return b.forEach(function(P,M){var W=J0(g.data,{graphicalItems:[P],dataStartIndex:k,dataEndIndex:_}),R=P.type.defaultProps!==void 0?ve(ve({},P.type.defaultProps),P.props):P.props,q=R.dataKey,ee=R.maxBarSize,ne=R["".concat(z,"Id")],ce=R["".concat(F,"Id")],ue={},ie=c.reduce(function(it,ge){var xe=x["".concat(ge.axisType,"Map")],qe=R["".concat(ge.axisType,"Id")];xe&&xe[qe]||ge.axisType==="zAxis"||ql();var rt=xe[qe];return ve(ve({},it),{},mt(mt({},ge.axisType,rt),"".concat(ge.axisType,"Ticks"),cs(rt)))},ue),O=ie[F],L=ie["".concat(F,"Ticks")],H=w&&w[ne]&&w[ne].hasStack&&xwe(P,w[ne].stackGroups),X=fs(P.type).indexOf("Bar")>=0,V=Ry(O,L),ae=[],Z=$&&nwe({barSize:N,stackGroups:w,totalSize:MEe(ie,F)});if(X){var de,oe,ye=Bt(ee)?D:ee,be=(de=(oe=Ry(O,L,!0))!==null&&oe!==void 0?oe:ye)!==null&&de!==void 0?de:0;ae=awe({barGap:A,barCategoryGap:T,bandSize:be!==V?be:V,sizeList:Z[ce],maxBarSize:ye}),be!==V&&(ae=ae.map(function(it){return ve(ve({},it),{},{position:ve(ve({},it.position),{},{offset:it.position.offset-be/2})})}))}var Be=P&&P.type&&P.type.getComposedData;Be&&U.push({props:ve(ve({},Be(ve(ve({},ie),{},{displayedData:W,props:g,dataKey:q,item:P,bandSize:V,barPosition:ae,offset:S,stackedData:H,layout:E,dataStartIndex:k,dataEndIndex:_}))),{},mt(mt(mt({key:P.key||"item-".concat(M)},z,ie[z]),F,ie[F]),"animationId",j)),childIndex:tie(P,g.children),item:P})}),U},y=function(g,x){var b=g.props,w=g.dataStartIndex,S=g.dataEndIndex,j=g.updateId;if(!XP({props:b}))return null;var k=b.children,_=b.layout,N=b.stackOffset,E=b.data,A=b.reverseStackOrder,T=k4(_),D=T.numericAxisName,B=T.cateAxisName,z=so(k,n),F=gwe(E,z,"".concat(D,"Id"),"".concat(B,"Id"),N,A),$=c.reduce(function(R,q){var ee="".concat(q.axisType,"Map");return ve(ve({},R),{},mt({},ee,TEe(b,ve(ve({},q),{},{graphicalItems:z,stackGroups:q.axisType===D&&F,dataStartIndex:w,dataEndIndex:S}))))},{}),U=$Ee(ve(ve({},$),{},{props:b,graphicalItems:z}),x==null?void 0:x.legendBBox);Object.keys($).forEach(function(R){$[R]=f(b,$[R],U,R.replace("Map",""),r)});var P=$["".concat(B,"Map")],M=OEe(P),W=h(b,ve(ve({},$),{},{dataStartIndex:w,dataEndIndex:S,updateId:j,graphicalItems:z,stackGroups:F,offset:U}));return ve(ve({formattedGraphicalItems:W,graphicalItems:z,offset:U,stackGroups:F},M),$)},v=function(p){function g(x){var b,w,S;return mEe(this,g),S=yEe(this,g,[x]),mt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),mt(S,"accessibilityManager",new eEe),mt(S,"handleLegendBBoxUpdate",function(j){if(j){var k=S.state,_=k.dataStartIndex,N=k.dataEndIndex,E=k.updateId;S.setState(ve({legendBBox:j},y({props:S.props,dataStartIndex:_,dataEndIndex:N,updateId:E},ve(ve({},S.state),{},{legendBBox:j}))))}}),mt(S,"handleReceiveSyncEvent",function(j,k,_){if(S.props.syncId===j){if(_===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),mt(S,"handleBrushChange",function(j){var k=j.startIndex,_=j.endIndex;if(k!==S.state.dataStartIndex||_!==S.state.dataEndIndex){var N=S.state.updateId;S.setState(function(){return ve({dataStartIndex:k,dataEndIndex:_},y({props:S.props,dataStartIndex:k,dataEndIndex:_,updateId:N},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:_})}}),mt(S,"handleMouseEnter",function(j){var k=S.getMouseInfo(j);if(k){var _=ve(ve({},k),{},{isTooltipActive:!0});S.setState(_),S.triggerSyncEvent(_);var N=S.props.onMouseEnter;Et(N)&&N(_,j)}}),mt(S,"triggeredAfterMouseMove",function(j){var k=S.getMouseInfo(j),_=k?ve(ve({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(_),S.triggerSyncEvent(_);var N=S.props.onMouseMove;Et(N)&&N(_,j)}),mt(S,"handleItemMouseEnter",function(j){S.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),mt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),mt(S,"handleMouseMove",function(j){j.persist(),S.throttleTriggeredAfterMouseMove(j)}),mt(S,"handleMouseLeave",function(j){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var _=S.props.onMouseLeave;Et(_)&&_(k,j)}),mt(S,"handleOuterEvent",function(j){var k=eie(j),_=Aa(S.props,"".concat(k));if(k&&Et(_)){var N,E;/.*touch.*/i.test(k)?E=S.getMouseInfo(j.changedTouches[0]):E=S.getMouseInfo(j),_((N=E)!==null&&N!==void 0?N:{},j)}}),mt(S,"handleClick",function(j){var k=S.getMouseInfo(j);if(k){var _=ve(ve({},k),{},{isTooltipActive:!0});S.setState(_),S.triggerSyncEvent(_);var N=S.props.onClick;Et(N)&&N(_,j)}}),mt(S,"handleMouseDown",function(j){var k=S.props.onMouseDown;if(Et(k)){var _=S.getMouseInfo(j);k(_,j)}}),mt(S,"handleMouseUp",function(j){var k=S.props.onMouseUp;if(Et(k)){var _=S.getMouseInfo(j);k(_,j)}}),mt(S,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),mt(S,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseDown(j.changedTouches[0])}),mt(S,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseUp(j.changedTouches[0])}),mt(S,"triggerSyncEvent",function(j){S.props.syncId!==void 0&&Fb.emit(Bb,S.props.syncId,j,S.eventEmitterSymbol)}),mt(S,"applySyncEvent",function(j){var k=S.props,_=k.layout,N=k.syncMethod,E=S.state.updateId,A=j.dataStartIndex,T=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)S.setState(ve({dataStartIndex:A,dataEndIndex:T},y({props:S.props,dataStartIndex:A,dataEndIndex:T,updateId:E},S.state)));else if(j.activeTooltipIndex!==void 0){var D=j.chartX,B=j.chartY,z=j.activeTooltipIndex,F=S.state,$=F.offset,U=F.tooltipTicks;if(!$)return;if(typeof N=="function")z=N(U,j);else if(N==="value"){z=-1;for(var P=0;P<U.length;P++)if(U[P].value===j.activeLabel){z=P;break}}var M=ve(ve({},$),{},{x:$.left,y:$.top}),W=Math.min(D,M.x+M.width),R=Math.min(B,M.y+M.height),q=U[z]&&U[z].value,ee=dj(S.state,S.props.data,z),ne=U[z]?{x:_==="horizontal"?U[z].coordinate:W,y:_==="horizontal"?R:U[z].coordinate}:EF;S.setState(ve(ve({},j),{},{activeLabel:q,activeCoordinate:ne,activePayload:ee,activeTooltipIndex:z}))}else S.setState(j)}),mt(S,"renderCursor",function(j){var k,_=S.state,N=_.isTooltipActive,E=_.activeCoordinate,A=_.activePayload,T=_.offset,D=_.activeTooltipIndex,B=_.tooltipAxisBandSize,z=S.getTooltipEventType(),F=(k=j.props.active)!==null&&k!==void 0?k:N,$=S.props.layout,U=j.key||"_recharts-cursor";return I.createElement(iEe,{key:U,activeCoordinate:E,activePayload:A,activeTooltipIndex:D,chartName:r,element:j,isActive:F,layout:$,offset:T,tooltipAxisBandSize:B,tooltipEventType:z})}),mt(S,"renderPolarAxis",function(j,k,_){var N=Aa(j,"type.axisType"),E=Aa(S.state,"".concat(N,"Map")),A=j.type.defaultProps,T=A!==void 0?ve(ve({},A),j.props):j.props,D=E&&E[T["".concat(N,"Id")]];return m.cloneElement(j,ve(ve({},D),{},{className:$t(N,D.className),key:j.key||"".concat(k,"-").concat(_),ticks:cs(D,!0)}))}),mt(S,"renderPolarGrid",function(j){var k=j.props,_=k.radialLines,N=k.polarAngles,E=k.polarRadius,A=S.state,T=A.radiusAxisMap,D=A.angleAxisMap,B=Ys(T),z=Ys(D),F=z.cx,$=z.cy,U=z.innerRadius,P=z.outerRadius;return m.cloneElement(j,{polarAngles:Array.isArray(N)?N:cs(z,!0).map(function(M){return M.coordinate}),polarRadius:Array.isArray(E)?E:cs(B,!0).map(function(M){return M.coordinate}),cx:F,cy:$,innerRadius:U,outerRadius:P,key:j.key||"polar-grid",radialLines:_})}),mt(S,"renderLegend",function(){var j=S.state.formattedGraphicalItems,k=S.props,_=k.children,N=k.width,E=k.height,A=S.props.margin||{},T=N-(A.left||0)-(A.right||0),D=v8({children:_,formattedGraphicalItems:j,legendWidth:T,legendContent:u});if(!D)return null;var B=D.item,z=w4(D,lEe);return m.cloneElement(B,ve(ve({},z),{},{chartWidth:N,chartHeight:E,margin:A,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),mt(S,"renderTooltip",function(){var j,k=S.props,_=k.children,N=k.accessibilityLayer,E=ra(_,ko);if(!E)return null;var A=S.state,T=A.isTooltipActive,D=A.activeCoordinate,B=A.activePayload,z=A.activeLabel,F=A.offset,$=(j=E.props.active)!==null&&j!==void 0?j:T;return m.cloneElement(E,{viewBox:ve(ve({},F),{},{x:F.left,y:F.top}),active:$,label:z,payload:$?B:[],coordinate:D,accessibilityLayer:N})}),mt(S,"renderBrush",function(j){var k=S.props,_=k.margin,N=k.data,E=S.state,A=E.offset,T=E.dataStartIndex,D=E.dataEndIndex,B=E.updateId;return m.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Tp(S.handleBrushChange,j.props.onChange),data:N,x:Ue(j.props.x)?j.props.x:A.left,y:Ue(j.props.y)?j.props.y:A.top+A.height+A.brushBottom-(_.bottom||0),width:Ue(j.props.width)?j.props.width:A.width,startIndex:T,endIndex:D,updateId:"brush-".concat(B)})}),mt(S,"renderReferenceElement",function(j,k,_){if(!j)return null;var N=S,E=N.clipPathId,A=S.state,T=A.xAxisMap,D=A.yAxisMap,B=A.offset,z=j.type.defaultProps||{},F=j.props,$=F.xAxisId,U=$===void 0?z.xAxisId:$,P=F.yAxisId,M=P===void 0?z.yAxisId:P;return m.cloneElement(j,{key:j.key||"".concat(k,"-").concat(_),xAxis:T[U],yAxis:D[M],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:E})}),mt(S,"renderActivePoints",function(j){var k=j.item,_=j.activePoint,N=j.basePoint,E=j.childIndex,A=j.isRange,T=[],D=k.props.key,B=k.item.type.defaultProps!==void 0?ve(ve({},k.item.type.defaultProps),k.item.props):k.item.props,z=B.activeDot,F=B.dataKey,$=ve(ve({index:E,dataKey:F,cx:_.x,cy:_.y,r:4,fill:M2(k.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Dt(z,!1)),ay(z));return T.push(g.renderActiveDot(z,$,"".concat(D,"-activePoint-").concat(E))),N?T.push(g.renderActiveDot(z,ve(ve({},$),{},{cx:N.x,cy:N.y}),"".concat(D,"-basePoint-").concat(E))):A&&T.push(null),T}),mt(S,"renderGraphicChild",function(j,k,_){var N=S.filterFormatItem(j,k,_);if(!N)return null;var E=S.getTooltipEventType(),A=S.state,T=A.isTooltipActive,D=A.tooltipAxis,B=A.activeTooltipIndex,z=A.activeLabel,F=S.props.children,$=ra(F,ko),U=N.props,P=U.points,M=U.isRange,W=U.baseLine,R=N.item.type.defaultProps!==void 0?ve(ve({},N.item.type.defaultProps),N.item.props):N.item.props,q=R.activeDot,ee=R.hide,ne=R.activeBar,ce=R.activeShape,ue=!!(!ee&&T&&$&&(q||ne||ce)),ie={};E!=="axis"&&$&&$.props.trigger==="click"?ie={onClick:Tp(S.handleItemMouseEnter,j.props.onClick)}:E!=="axis"&&(ie={onMouseLeave:Tp(S.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Tp(S.handleItemMouseEnter,j.props.onMouseEnter)});var O=m.cloneElement(j,ve(ve({},N.props),ie));function L(ge){return typeof D.dataKey=="function"?D.dataKey(ge.payload):null}if(ue)if(B>=0){var H,X;if(D.dataKey&&!D.allowDuplicatedCategory){var V=typeof D.dataKey=="function"?L:"payload.".concat(D.dataKey.toString());H=W1(P,V,z),X=M&&W&&W1(W,V,z)}else H=P==null?void 0:P[B],X=M&&W&&W[B];if(ce||ne){var ae=j.props.activeIndex!==void 0?j.props.activeIndex:B;return[m.cloneElement(j,ve(ve(ve({},N.props),ie),{},{activeIndex:ae})),null,null]}if(!Bt(H))return[O].concat(rd(S.renderActivePoints({item:N,activePoint:H,basePoint:X,childIndex:B,isRange:M})))}else{var Z,de=(Z=S.getItemByXY(S.state.activeCoordinate))!==null&&Z!==void 0?Z:{graphicalItem:O},oe=de.graphicalItem,ye=oe.item,be=ye===void 0?j:ye,Be=oe.childIndex,it=ve(ve(ve({},N.props),ie),{},{activeIndex:Be});return[m.cloneElement(be,it),null,null]}return M?[O,null,null]:[O,null]}),mt(S,"renderCustomized",function(j,k,_){return m.cloneElement(j,ve(ve({key:"recharts-customized-".concat(_)},S.props),S.state))}),mt(S,"renderMap",{CartesianGrid:{handler:Ip,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Ip},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Ip},YAxis:{handler:Ip},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:j0("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=v6(S.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),S.state={},S}return bEe(g,p),gEe(g,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,S=b.data,j=b.height,k=b.layout,_=ra(w,ko);if(_){var N=_.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,A=dj(this.state,S,N,E),T=this.state.tooltipTicks[N].coordinate,D=(this.state.offset.top+j)/2,B=k==="horizontal",z=B?{x:T,y:D}:{y:T,x:D},F=this.state.formattedGraphicalItems.find(function(U){var P=U.item;return P.type.name==="Scatter"});F&&(z=ve(ve({},z),F.props.points[N].tooltipPosition),A=F.props.points[N].tooltipPayload);var $={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:E,activePayload:A,activeCoordinate:z};this.setState($),this.renderCursor(_),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,j;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(b){V1([ra(b.children,ko)],[ra(this.props.children,ko)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ra(this.props.children,ko);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return l.indexOf(w)>=0?w:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,S=w.getBoundingClientRect(),j=Cye(S),k={chartX:Math.round(b.pageX-j.left),chartY:Math.round(b.pageY-j.top)},_=S.width/w.offsetWidth||1,N=this.inRange(k.chartX,k.chartY,_);if(!N)return null;var E=this.state,A=E.xAxisMap,T=E.yAxisMap,D=this.getTooltipEventType();if(D!=="axis"&&A&&T){var B=Ys(A).scale,z=Ys(T).scale,F=B&&B.invert?B.invert(k.chartX):null,$=z&&z.invert?z.invert(k.chartY):null;return ve(ve({},k),{},{xValue:F,yValue:$})}var U=j4(this.state,this.props.data,this.props.layout,N);return U?ve(ve({},k),U):null}},{key:"inRange",value:function(b,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,k=b/S,_=w/S;if(j==="horizontal"||j==="vertical"){var N=this.state.offset,E=k>=N.left&&k<=N.left+N.width&&_>=N.top&&_<=N.top+N.height;return E?{x:k,y:_}:null}var A=this.state,T=A.angleAxisMap,D=A.radiusAxisMap;if(T&&D){var B=Ys(T);return sO({x:k,y:_},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),S=ra(b,ko),j={};S&&w==="axis"&&(S.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var k=ay(this.props,this.handleOuterEvent);return ve(ve({},k),j)}},{key:"addListener",value:function(){Fb.on(Bb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Fb.removeListener(Bb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,S){for(var j=this.state.formattedGraphicalItems,k=0,_=j.length;k<_;k++){var N=j[k];if(N.item===b||N.props.key===b.key||w===fs(N.item.type)&&S===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,S=w.left,j=w.top,k=w.height,_=w.width;return I.createElement("defs",null,I.createElement("clipPath",{id:b},I.createElement("rect",{x:S,y:j,height:k,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,S){var j=b4(S,2),k=j[0],_=j[1];return ve(ve({},w),{},mt({},k,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,S){var j=b4(S,2),k=j[0],_=j[1];return ve(ve({},w),{},mt({},k,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,S=w.formattedGraphicalItems,j=w.activeItem;if(S&&S.length)for(var k=0,_=S.length;k<_;k++){var N=S[k],E=N.props,A=N.item,T=A.type.defaultProps!==void 0?ve(ve({},A.type.defaultProps),A.props):A.props,D=fs(A.type);if(D==="Bar"){var B=(E.data||[]).find(function(U){return uje(b,U)});if(B)return{graphicalItem:N,payload:B}}else if(D==="RadialBar"){var z=(E.data||[]).find(function(U){return sO(b,U)});if(z)return{graphicalItem:N,payload:z}}else if(z0(N,j)||q0(N,j)||Vh(N,j)){var F=h_e({graphicalItem:N,activeTooltipItem:j,itemData:T.data}),$=T.activeIndex===void 0?F:T.activeIndex;return{graphicalItem:ve(ve({},N),{},{childIndex:$}),payload:Vh(N,j)?T.data[F]:N.props.data[F]}}}return null}},{key:"render",value:function(){var b=this;if(!XP(this))return null;var w=this.props,S=w.children,j=w.className,k=w.width,_=w.height,N=w.style,E=w.compact,A=w.title,T=w.desc,D=w4(w,cEe),B=Dt(D,!1);if(E)return I.createElement(o4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(G1,zf({},B,{width:k,height:_,title:A,desc:T}),this.renderClipPath(),ZP(S,this.renderMap)));if(this.props.accessibilityLayer){var z,F;B.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,B.role=(F=this.props.role)!==null&&F!==void 0?F:"application",B.onKeyDown=function(U){b.accessibilityManager.keyboardEvent(U)},B.onFocus=function(){b.accessibilityManager.focus()}}var $=this.parseEventsOfWrapper();return I.createElement(o4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",zf({className:$t("recharts-wrapper",j),style:ve({position:"relative",cursor:"default",width:k,height:_},N)},$,{ref:function(P){b.container=P}}),I.createElement(G1,zf({},B,{width:k,height:_,title:A,desc:T,style:NEe}),this.renderClipPath(),ZP(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(m.Component);return mt(v,"displayName",r),mt(v,"defaultProps",ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),mt(v,"getDerivedStateFromProps",function(p,g){var x=p.dataKey,b=p.data,w=p.children,S=p.width,j=p.height,k=p.layout,_=p.stackOffset,N=p.margin,E=g.dataStartIndex,A=g.dataEndIndex;if(g.updateId===void 0){var T=_4(p);return ve(ve(ve({},T),{},{updateId:0},y(ve(ve({props:p},T),{},{updateId:0}),g)),{},{prevDataKey:x,prevData:b,prevWidth:S,prevHeight:j,prevLayout:k,prevStackOffset:_,prevMargin:N,prevChildren:w})}if(x!==g.prevDataKey||b!==g.prevData||S!==g.prevWidth||j!==g.prevHeight||k!==g.prevLayout||_!==g.prevStackOffset||!au(N,g.prevMargin)){var D=_4(p),B={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},z=ve(ve({},j4(g,b,k)),{},{updateId:g.updateId+1}),F=ve(ve(ve({},D),B),z);return ve(ve(ve({},F),y(ve({props:p},F),g)),{},{prevDataKey:x,prevData:b,prevWidth:S,prevHeight:j,prevLayout:k,prevStackOffset:_,prevMargin:N,prevChildren:w})}if(!V1(w,g.prevChildren)){var $,U,P,M,W=ra(w,Ku),R=W&&($=(U=W.props)===null||U===void 0?void 0:U.startIndex)!==null&&$!==void 0?$:E,q=W&&(P=(M=W.props)===null||M===void 0?void 0:M.endIndex)!==null&&P!==void 0?P:A,ee=R!==E||q!==A,ne=!Bt(b),ce=ne&&!ee?g.updateId:g.updateId+1;return ve(ve({updateId:ce},y(ve(ve({props:p},g),{},{updateId:ce,dataStartIndex:R,dataEndIndex:q}),g)),{},{prevChildren:w,dataStartIndex:R,dataEndIndex:q})}return null}),mt(v,"renderActiveDot",function(p,g,x){var b;return m.isValidElement(p)?b=m.cloneElement(p,g):Et(p)?b=p(g):b=I.createElement(D8,g),I.createElement(Xr,{className:"recharts-active-dot",key:x},b)}),function(g){return I.createElement(v,g)}},V2=IEe({chartName:"BarChart",GraphicalChild:As,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Od},{axisType:"yAxis",AxisComp:Rd}],formatAxisMap:Dke});const LEe={light:"",dark:".dark"},PF=m.createContext(null);function AF(){const e=m.useContext(PF);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Y0=m.forwardRef(({id:e,className:t,children:r,config:n,...a},o)=>{const i=m.useId(),l=`chart-${e||i.replace(/:/g,"")}`;return s.jsx(PF.Provider,{value:{config:n},children:s.jsxs("div",{"data-chart":l,ref:o,className:fe("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[s.jsx(DEe,{id:l,config:n}),s.jsx(wye,{children:r})]})})});Y0.displayName="Chart";const DEe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?s.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(LEe).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([o,i])=>{var c;const l=((c=i.theme)==null?void 0:c[n])||i.color;return l?`  --color-${o}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},K2=ko,FEe=m.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:o=!1,label:i,labelFormatter:l,labelClassName:c,formatter:u,color:f,nameKey:d,labelKey:h},y)=>{const{config:v}=AF(),p=m.useMemo(()=>{var j;if(a||!(t!=null&&t.length))return null;const[x]=t,b=`${h||x.dataKey||x.name||"value"}`,w=fj(v,x,b),S=!h&&typeof i=="string"?((j=v[i])==null?void 0:j.label)||i:w==null?void 0:w.label;return l?s.jsx("div",{className:fe("font-medium",c),children:l(S,t)}):S?s.jsx("div",{className:fe("font-medium",c),children:S}):null},[i,l,t,a,c,v,h]);if(!e||!(t!=null&&t.length))return null;const g=t.length===1&&n!=="dot";return s.jsxs("div",{ref:y,className:fe("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[g?null:p,s.jsx("div",{className:"grid gap-1.5",children:t.map((x,b)=>{const w=`${d||x.name||x.dataKey||"value"}`,S=fj(v,x,w),j=f||x.payload.fill||x.color;return s.jsx("div",{className:fe("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(x==null?void 0:x.value)!==void 0&&x.name?u(x.value,x.name,x,b,x.payload):s.jsxs(s.Fragment,{children:[S!=null&&S.icon?s.jsx(S.icon,{}):!o&&s.jsx("div",{className:fe("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":g&&n==="dashed"}),style:{"--color-bg":j,"--color-border":j}}),s.jsxs("div",{className:fe("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[s.jsxs("div",{className:"grid gap-1.5",children:[g?p:null,s.jsx("span",{className:"text-muted-foreground",children:(S==null?void 0:S.label)||x.name})]}),x.value&&s.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});FEe.displayName="ChartTooltip";const BEe=m.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},o)=>{const{config:i}=AF();return r!=null&&r.length?s.jsx("div",{ref:o,className:fe("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=fj(i,l,c);return s.jsxs("div",{className:fe("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?s.jsx(u.icon,{}):s.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});BEe.displayName="ChartLegend";function fj(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}const nd=m.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));nd.displayName="Textarea";function UEe(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(d){const{scope:h,children:y,...v}=d,p=(h==null?void 0:h[e][c])||l,g=m.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:g,children:y})}function f(d,h){const y=(h==null?void 0:h[e][c])||l,v=m.useContext(y);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const a=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,zEe(a,...t)]}function zEe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Mm(e){const t=e+"CollectionProvider",[r,n]=UEe(t),[a,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:v,children:p}=y,g=I.useRef(null),x=I.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:x,collectionRef:g,children:p})};i.displayName=t;const l=e+"CollectionSlot",c=I.forwardRef((y,v)=>{const{scope:p,children:g}=y,x=o(l,p),b=ct(v,x.collectionRef);return s.jsx(Ei,{ref:b,children:g})});c.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",d=I.forwardRef((y,v)=>{const{scope:p,children:g,...x}=y,b=I.useRef(null),w=ct(v,b),S=o(u,p);return I.useEffect(()=>(S.itemMap.set(b,{ref:b,...x}),()=>void S.itemMap.delete(b))),s.jsx(Ei,{[f]:"",ref:w,children:g})});d.displayName=u;function h(y){const v=o(e+"CollectionConsumer",y);return I.useCallback(()=>{const g=v.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((S,j)=>x.indexOf(S.ref.current)-x.indexOf(j.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:c,ItemSlot:d},h,n]}function qEe(e,t=globalThis==null?void 0:globalThis.document){const r=Ot(e);m.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var WEe="DismissableLayer",hj="dismissableLayer.update",HEe="dismissableLayer.pointerDownOutside",VEe="dismissableLayer.focusOutside",N4,TF=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),OF=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(TF),[f,d]=m.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),v=ct(t,_=>d(_)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(g),b=f?p.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=x,j=JEe(_=>{const N=_.target,E=[...u.branches].some(A=>A.contains(N));!S||E||(a==null||a(_),i==null||i(_),_.defaultPrevented||l==null||l())},h),k=YEe(_=>{const N=_.target;[...u.branches].some(A=>A.contains(N))||(o==null||o(_),i==null||i(_),_.defaultPrevented||l==null||l())},h);return qEe(_=>{b===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(N4=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),E4(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=N4)}},[f,h,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),E4())},[f,u]),m.useEffect(()=>{const _=()=>y({});return document.addEventListener(hj,_),()=>document.removeEventListener(hj,_)},[]),s.jsx(Ke.div,{...c,ref:v,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,j.onPointerDownCapture)})});OF.displayName=WEe;var KEe="DismissableLayerBranch",GEe=m.forwardRef((e,t)=>{const r=m.useContext(TF),n=m.useRef(null),a=ct(t,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),s.jsx(Ke.div,{...e,ref:a})});GEe.displayName=KEe;function JEe(e,t=globalThis==null?void 0:globalThis.document){const r=Ot(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){RF(HEe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function YEe(e,t=globalThis==null?void 0:globalThis.document){const r=Ot(e),n=m.useRef(!1);return m.useEffect(()=>{const a=o=>{o.target&&!n.current&&RF(VEe,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function E4(){const e=new CustomEvent(hj);document.dispatchEvent(e)}function RF(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?dm(a,o):a.dispatchEvent(o)}var zb=0;function G2(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??C4()),document.body.insertAdjacentElement("beforeend",e[1]??C4()),zb++,()=>{zb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),zb--}},[])}function C4(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qb="focusScope.autoFocusOnMount",Wb="focusScope.autoFocusOnUnmount",P4={bubbles:!1,cancelable:!0},XEe="FocusScope",$F=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=m.useState(null),u=Ot(a),f=Ot(o),d=m.useRef(null),h=ct(t,p=>c(p)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let p=function(w){if(y.paused||!l)return;const S=w.target;l.contains(S)?d.current=S:Bs(d.current,{select:!0})},g=function(w){if(y.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||Bs(d.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Bs(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),b.disconnect()}}},[n,l,y.paused]),m.useEffect(()=>{if(l){T4.add(y);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(qb,P4);l.addEventListener(qb,u),l.dispatchEvent(x),x.defaultPrevented||(QEe(nCe(MF(l)),{select:!0}),document.activeElement===p&&Bs(l))}return()=>{l.removeEventListener(qb,u),setTimeout(()=>{const x=new CustomEvent(Wb,P4);l.addEventListener(Wb,f),l.dispatchEvent(x),x.defaultPrevented||Bs(p??document.body,{select:!0}),l.removeEventListener(Wb,f),T4.remove(y)},0)}}},[l,u,f,y]);const v=m.useCallback(p=>{if(!r&&!n||y.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(g&&x){const b=p.currentTarget,[w,S]=ZEe(b);w&&S?!p.shiftKey&&x===S?(p.preventDefault(),r&&Bs(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&Bs(S,{select:!0})):x===b&&p.preventDefault()}},[r,n,y.paused]);return s.jsx(Ke.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});$F.displayName=XEe;function QEe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Bs(n,{select:t}),document.activeElement!==r)return}function ZEe(e){const t=MF(e),r=A4(t,e),n=A4(t.reverse(),e);return[r,n]}function MF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function A4(e,t){for(const r of e)if(!eCe(r,{upTo:t}))return r}function eCe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tCe(e){return e instanceof HTMLInputElement&&"select"in e}function Bs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&tCe(e)&&t&&e.select()}}var T4=rCe();function rCe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=O4(e,t),e.unshift(t)},remove(t){var r;e=O4(e,t),(r=e[0])==null||r.resume()}}}function O4(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function nCe(e){return e.filter(t=>t.tagName!=="A")}var aCe="Portal",IF=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,o]=m.useState(!1);Er(()=>o(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?um.createPortal(s.jsx(Ke.div,{...n,ref:t}),i):null});IF.displayName=aCe;function X0(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var LF=Vv(),Hb=function(){},Q0=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Hb,onWheelCapture:Hb,onTouchMoveCapture:Hb}),a=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,y=e.noIsolation,v=e.inert,p=e.allowPinchZoom,g=e.as,x=g===void 0?"div":g,b=e.gapMode,w=wm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,j=Hv([r,t]),k=Kt(Kt({},w),a);return m.createElement(m.Fragment,null,f&&m.createElement(S,{sideCar:LF,removeScrollBar:u,shards:d,noIsolation:y,inert:v,setCallbacks:o,allowPinchZoom:!!p,lockRef:r,gapMode:b}),i?m.cloneElement(m.Children.only(l),Kt(Kt({},k),{ref:j})):m.createElement(x,Kt({},k,{className:c,ref:j}),l))});Q0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Q0.classNames={fullWidth:Nl,zeroRight:kl};var mj=!1;if(typeof window<"u")try{var Lp=Object.defineProperty({},"passive",{get:function(){return mj=!0,!0}});window.addEventListener("test",Lp,Lp),window.removeEventListener("test",Lp,Lp)}catch{mj=!1}var vc=mj?{passive:!1}:!1,oCe=function(e){return e.tagName==="TEXTAREA"},DF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!oCe(e)&&r[t]==="visible")},sCe=function(e){return DF(e,"overflowY")},iCe=function(e){return DF(e,"overflowX")},R4=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=FF(e,n);if(a){var o=BF(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},lCe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},cCe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},FF=function(e,t){return e==="v"?sCe(t):iCe(t)},BF=function(e,t){return e==="v"?lCe(t):cCe(t)},uCe=function(e,t){return e==="h"&&t==="rtl"?-1:1},dCe=function(e,t,r,n,a){var o=uCe(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,f=i>0,d=0,h=0;do{var y=BF(e,l),v=y[0],p=y[1],g=y[2],x=p-g-o*v;(v||x)&&FF(e,l)&&(d+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(d)<1||!a)||!f&&(Math.abs(h)<1||!a))&&(u=!0),u},Dp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$4=function(e){return[e.deltaX,e.deltaY]},M4=function(e){return e&&"current"in e?e.current:e},fCe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hCe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mCe=0,xc=[];function pCe(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),a=m.useState(mCe++)[0],o=m.useState(Sm)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Wv([e.lockRef.current],(e.shards||[]).map(M4),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=Dp(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-x[0],S="deltaY"in p?p.deltaY:b[1]-x[1],j,k=p.target,_=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&_==="h"&&k.type==="range")return!1;var N=R4(_,k);if(!N)return!0;if(N?j=_:(j=_==="v"?"h":"v",N=R4(_,k)),!N)return!1;if(!n.current&&"changedTouches"in p&&(w||S)&&(n.current=j),!j)return!0;var E=n.current||j;return dCe(E,g,p,E==="h"?w:S,!0)},[]),c=m.useCallback(function(p){var g=p;if(!(!xc.length||xc[xc.length-1]!==o)){var x="deltaY"in g?$4(g):Dp(g),b=t.current.filter(function(j){return j.name===g.type&&(j.target===g.target||g.target===j.shadowParent)&&fCe(j.delta,x)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(M4).filter(Boolean).filter(function(j){return j.contains(g.target)}),S=w.length>0?l(g,w[0]):!i.current.noIsolation;S&&g.cancelable&&g.preventDefault()}}},[]),u=m.useCallback(function(p,g,x,b){var w={name:p,delta:g,target:x,should:b,shadowParent:gCe(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),f=m.useCallback(function(p){r.current=Dp(p),n.current=void 0},[]),d=m.useCallback(function(p){u(p.type,$4(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,Dp(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return xc.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,vc),document.addEventListener("touchmove",c,vc),document.addEventListener("touchstart",f,vc),function(){xc=xc.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,vc),document.removeEventListener("touchmove",c,vc),document.removeEventListener("touchstart",f,vc)}},[]);var y=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(o,{styles:hCe(a)}):null,y?m.createElement(Jv,{gapMode:e.gapMode}):null)}function gCe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yCe=Kv(LF,pCe);var UF=m.forwardRef(function(e,t){return m.createElement(Q0,Kt({},e,{ref:t,sideCar:yCe}))});UF.classNames=Q0.classNames;var vCe=[" ","Enter","ArrowUp","ArrowDown"],xCe=[" ","Enter"],Im="Select",[Z0,ex,bCe]=Mm(Im),[$d,p$e]=fa(Im,[bCe,cd]),tx=cd(),[wCe,Hi]=$d(Im),[SCe,jCe]=$d(Im),zF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:y,form:v}=e,p=tx(t),[g,x]=m.useState(null),[b,w]=m.useState(null),[S,j]=m.useState(!1),k=yd(u),[_=!1,N]=ho({prop:n,defaultProp:a,onChange:o}),[E,A]=ho({prop:i,defaultProp:l,onChange:c}),T=m.useRef(null),D=g?v||!!g.closest("form"):!0,[B,z]=m.useState(new Set),F=Array.from(B).map($=>$.props.value).join(";");return s.jsx(_I,{...p,children:s.jsxs(wCe,{required:y,scope:t,trigger:g,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:oo(),value:E,onValueChange:A,open:_,onOpenChange:N,dir:k,triggerPointerDownPosRef:T,disabled:h,children:[s.jsx(Z0.Provider,{scope:t,children:s.jsx(SCe,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback($=>{z(U=>new Set(U).add($))},[]),onNativeOptionRemove:m.useCallback($=>{z(U=>{const P=new Set(U);return P.delete($),P})},[]),children:r})}),D?s.jsxs(h7,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:d,value:E,onChange:$=>A($.target.value),disabled:h,form:v,children:[E===void 0?s.jsx("option",{value:""}):null,Array.from(B)]},F):null]})})};zF.displayName=Im;var qF="SelectTrigger",WF=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,o=tx(r),i=Hi(qF,r),l=i.disabled||n,c=ct(t,i.onTriggerChange),u=ex(r),f=m.useRef("touch"),[d,h,y]=m7(p=>{const g=u().filter(w=>!w.disabled),x=g.find(w=>w.value===i.value),b=p7(g,p,x);b!==void 0&&i.onValueChange(b.value)}),v=p=>{l||(i.onOpenChange(!0),y()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(V_,{asChild:!0,...o,children:s.jsx(Ke.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":f7(i.value)?"":void 0,...a,ref:c,onClick:Ie(a.onClick,p=>{p.currentTarget.focus(),f.current!=="mouse"&&v(p)}),onPointerDown:Ie(a.onPointerDown,p=>{f.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:Ie(a.onKeyDown,p=>{const g=d.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(g&&p.key===" ")&&vCe.includes(p.key)&&(v(),p.preventDefault())})})})});WF.displayName=qF;var HF="SelectValue",VF=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:i="",...l}=e,c=Hi(HF,r),{onValueNodeHasChildrenChange:u}=c,f=o!==void 0,d=ct(t,c.onValueNodeChange);return Er(()=>{u(f)},[u,f]),s.jsx(Ke.span,{...l,ref:d,style:{pointerEvents:"none"},children:f7(c.value)?s.jsx(s.Fragment,{children:i}):o})});VF.displayName=HF;var _Ce="SelectIcon",KF=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Ke.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});KF.displayName=_Ce;var kCe="SelectPortal",GF=e=>s.jsx(IF,{asChild:!0,...e});GF.displayName=kCe;var Hl="SelectContent",JF=m.forwardRef((e,t)=>{const r=Hi(Hl,e.__scopeSelect),[n,a]=m.useState();if(Er(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?Jl.createPortal(s.jsx(YF,{scope:e.__scopeSelect,children:s.jsx(Z0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),o):null}return s.jsx(XF,{...e,ref:t})});JF.displayName=Hl;var Ha=10,[YF,Vi]=$d(Hl),NCe="SelectContentImpl",XF=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:y,sticky:v,hideWhenDetached:p,avoidCollisions:g,...x}=e,b=Hi(Hl,r),[w,S]=m.useState(null),[j,k]=m.useState(null),_=ct(t,ie=>S(ie)),[N,E]=m.useState(null),[A,T]=m.useState(null),D=ex(r),[B,z]=m.useState(!1),F=m.useRef(!1);m.useEffect(()=>{if(w)return Yv(w)},[w]),G2();const $=m.useCallback(ie=>{const[O,...L]=D().map(V=>V.ref.current),[H]=L.slice(-1),X=document.activeElement;for(const V of ie)if(V===X||(V==null||V.scrollIntoView({block:"nearest"}),V===O&&j&&(j.scrollTop=0),V===H&&j&&(j.scrollTop=j.scrollHeight),V==null||V.focus(),document.activeElement!==X))return},[D,j]),U=m.useCallback(()=>$([N,w]),[$,N,w]);m.useEffect(()=>{B&&U()},[B,U]);const{onOpenChange:P,triggerPointerDownPosRef:M}=b;m.useEffect(()=>{if(w){let ie={x:0,y:0};const O=H=>{var X,V;ie={x:Math.abs(Math.round(H.pageX)-(((X=M.current)==null?void 0:X.x)??0)),y:Math.abs(Math.round(H.pageY)-(((V=M.current)==null?void 0:V.y)??0))}},L=H=>{ie.x<=10&&ie.y<=10?H.preventDefault():w.contains(H.target)||P(!1),document.removeEventListener("pointermove",O),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",O),document.addEventListener("pointerup",L,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",L,{capture:!0})}}},[w,P,M]),m.useEffect(()=>{const ie=()=>P(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[P]);const[W,R]=m7(ie=>{const O=D().filter(X=>!X.disabled),L=O.find(X=>X.ref.current===document.activeElement),H=p7(O,ie,L);H&&setTimeout(()=>H.ref.current.focus())}),q=m.useCallback((ie,O,L)=>{const H=!F.current&&!L;(b.value!==void 0&&b.value===O||H)&&(E(ie),H&&(F.current=!0))},[b.value]),ee=m.useCallback(()=>w==null?void 0:w.focus(),[w]),ne=m.useCallback((ie,O,L)=>{const H=!F.current&&!L;(b.value!==void 0&&b.value===O||H)&&T(ie)},[b.value]),ce=n==="popper"?pj:QF,ue=ce===pj?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:y,sticky:v,hideWhenDetached:p,avoidCollisions:g}:{};return s.jsx(YF,{scope:r,content:w,viewport:j,onViewportChange:k,itemRefCallback:q,selectedItem:N,onItemLeave:ee,itemTextRefCallback:ne,focusSelectedItem:U,selectedItemText:A,position:n,isPositioned:B,searchRef:W,children:s.jsx(UF,{as:Ei,allowPinchZoom:!0,children:s.jsx($F,{asChild:!0,trapped:b.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Ie(a,ie=>{var O;(O=b.trigger)==null||O.focus({preventScroll:!0}),ie.preventDefault()}),children:s.jsx(OF,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(ce,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ie=>ie.preventDefault(),...x,...ue,onPlaced:()=>z(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Ie(x.onKeyDown,ie=>{const O=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!O&&ie.key.length===1&&R(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let H=D().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const X=ie.target,V=H.indexOf(X);H=H.slice(V+1)}setTimeout(()=>$(H)),ie.preventDefault()}})})})})})})});XF.displayName=NCe;var ECe="SelectItemAlignedPosition",QF=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,o=Hi(Hl,r),i=Vi(Hl,r),[l,c]=m.useState(null),[u,f]=m.useState(null),d=ct(t,_=>f(_)),h=ex(r),y=m.useRef(!1),v=m.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:x,focusSelectedItem:b}=i,w=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&p&&g&&x){const _=o.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(o.dir!=="rtl"){const X=A.left-N.left,V=E.left-X,ae=_.left-V,Z=_.width+ae,de=Math.max(Z,N.width),oe=window.innerWidth-Ha,ye=gh(V,[Ha,Math.max(Ha,oe-de)]);l.style.minWidth=Z+"px",l.style.left=ye+"px"}else{const X=N.right-A.right,V=window.innerWidth-E.right-X,ae=window.innerWidth-_.right-V,Z=_.width+ae,de=Math.max(Z,N.width),oe=window.innerWidth-Ha,ye=gh(V,[Ha,Math.max(Ha,oe-de)]);l.style.minWidth=Z+"px",l.style.right=ye+"px"}const T=h(),D=window.innerHeight-Ha*2,B=p.scrollHeight,z=window.getComputedStyle(u),F=parseInt(z.borderTopWidth,10),$=parseInt(z.paddingTop,10),U=parseInt(z.borderBottomWidth,10),P=parseInt(z.paddingBottom,10),M=F+$+B+P+U,W=Math.min(g.offsetHeight*5,M),R=window.getComputedStyle(p),q=parseInt(R.paddingTop,10),ee=parseInt(R.paddingBottom,10),ne=_.top+_.height/2-Ha,ce=D-ne,ue=g.offsetHeight/2,ie=g.offsetTop+ue,O=F+$+ie,L=M-O;if(O<=ne){const X=T.length>0&&g===T[T.length-1].ref.current;l.style.bottom="0px";const V=u.clientHeight-p.offsetTop-p.offsetHeight,ae=Math.max(ce,ue+(X?ee:0)+V+U),Z=O+ae;l.style.height=Z+"px"}else{const X=T.length>0&&g===T[0].ref.current;l.style.top="0px";const ae=Math.max(ne,F+p.offsetTop+(X?q:0)+ue)+L;l.style.height=ae+"px",p.scrollTop=O-ne+p.offsetTop}l.style.margin=`${Ha}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[h,o.trigger,o.valueNode,l,u,p,g,x,o.dir,n]);Er(()=>w(),[w]);const[S,j]=m.useState();Er(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const k=m.useCallback(_=>{_&&v.current===!0&&(w(),b==null||b(),v.current=!1)},[w,b]);return s.jsx(PCe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:k,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:s.jsx(Ke.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});QF.displayName=ECe;var CCe="SelectPopperPosition",pj=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ha,...o}=e,i=tx(r);return s.jsx(K_,{...i,...o,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});pj.displayName=CCe;var[PCe,J2]=$d(Hl,{}),gj="SelectViewport",ZF=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,o=Vi(gj,r),i=J2(gj,r),l=ct(t,o.onViewportChange),c=m.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Z0.Slot,{scope:r,children:s.jsx(Ke.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ie(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&d){const y=Math.abs(c.current-f.scrollTop);if(y>0){const v=window.innerHeight-Ha*2,p=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),x=Math.max(p,g);if(x<v){const b=x+y,w=Math.min(v,b),S=b-w;d.style.height=w+"px",d.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});ZF.displayName=gj;var e7="SelectGroup",[ACe,TCe]=$d(e7),OCe=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=oo();return s.jsx(ACe,{scope:r,id:a,children:s.jsx(Ke.div,{role:"group","aria-labelledby":a,...n,ref:t})})});OCe.displayName=e7;var t7="SelectLabel",r7=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=TCe(t7,r);return s.jsx(Ke.div,{id:a.id,...n,ref:t})});r7.displayName=t7;var tv="SelectItem",[RCe,n7]=$d(tv),a7=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...i}=e,l=Hi(tv,r),c=Vi(tv,r),u=l.value===n,[f,d]=m.useState(o??""),[h,y]=m.useState(!1),v=ct(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,a)}),p=oo(),g=m.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(RCe,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:m.useCallback(b=>{d(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(Z0.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:s.jsx(Ke.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:v,onFocus:Ie(i.onFocus,()=>y(!0)),onBlur:Ie(i.onBlur,()=>y(!1)),onClick:Ie(i.onClick,()=>{g.current!=="mouse"&&x()}),onPointerUp:Ie(i.onPointerUp,()=>{g.current==="mouse"&&x()}),onPointerDown:Ie(i.onPointerDown,b=>{g.current=b.pointerType}),onPointerMove:Ie(i.onPointerMove,b=>{var w;g.current=b.pointerType,a?(w=c.onItemLeave)==null||w.call(c):g.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(i.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ie(i.onKeyDown,b=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(xCe.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});a7.displayName=tv;var xf="SelectItemText",o7=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...o}=e,i=Hi(xf,r),l=Vi(xf,r),c=n7(xf,r),u=jCe(xf,r),[f,d]=m.useState(null),h=ct(t,x=>d(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),y=f==null?void 0:f.textContent,v=m.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=u;return Er(()=>(p(v),()=>g(v)),[p,g,v]),s.jsxs(s.Fragment,{children:[s.jsx(Ke.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Jl.createPortal(o.children,i.valueNode):null]})});o7.displayName=xf;var s7="SelectItemIndicator",i7=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return n7(s7,r).isSelected?s.jsx(Ke.span,{"aria-hidden":!0,...n,ref:t}):null});i7.displayName=s7;var yj="SelectScrollUpButton",l7=m.forwardRef((e,t)=>{const r=Vi(yj,e.__scopeSelect),n=J2(yj,e.__scopeSelect),[a,o]=m.useState(!1),i=ct(t,n.onScrollButtonChange);return Er(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(u7,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});l7.displayName=yj;var vj="SelectScrollDownButton",c7=m.forwardRef((e,t)=>{const r=Vi(vj,e.__scopeSelect),n=J2(vj,e.__scopeSelect),[a,o]=m.useState(!1),i=ct(t,n.onScrollButtonChange);return Er(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;o(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(u7,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});c7.displayName=vj;var u7=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,o=Vi("SelectScrollButton",r),i=m.useRef(null),l=ex(r),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Er(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ke.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ie(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Ie(a.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Ie(a.onPointerLeave,()=>{c()})})}),$Ce="SelectSeparator",d7=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ke.div,{"aria-hidden":!0,...n,ref:t})});d7.displayName=$Ce;var xj="SelectArrow",MCe=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=tx(r),o=Hi(xj,r),i=Vi(xj,r);return o.open&&i.position==="popper"?s.jsx(G_,{...a,...n,ref:t}):null});MCe.displayName=xj;function f7(e){return e===""||e===void 0}var h7=m.forwardRef((e,t)=>{const{value:r,...n}=e,a=m.useRef(null),o=ct(t,a),i=X0(r);return m.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&f){const d=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(d)}},[i,r]),s.jsx(J_,{asChild:!0,children:s.jsx("select",{...n,ref:o,defaultValue:r})})});h7.displayName="BubbleSelect";function m7(e){const t=Ot(e),r=m.useRef(""),n=m.useRef(0),a=m.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function p7(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=ICe(e,Math.max(o,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function ICe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var LCe=zF,g7=WF,DCe=VF,FCe=KF,BCe=GF,y7=JF,UCe=ZF,v7=r7,x7=a7,zCe=o7,qCe=i7,b7=l7,w7=c7,S7=d7;const to=LCe,ro=DCe,Ea=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(g7,{ref:n,className:fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(FCe,{asChild:!0,children:s.jsx(mk,{className:"h-4 w-4 opacity-50"})})]}));Ea.displayName=g7.displayName;const j7=m.forwardRef(({className:e,...t},r)=>s.jsx(b7,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(oX,{className:"h-4 w-4"})}));j7.displayName=b7.displayName;const _7=m.forwardRef(({className:e,...t},r)=>s.jsx(w7,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(mk,{className:"h-4 w-4"})}));_7.displayName=w7.displayName;const Ca=m.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(BCe,{children:s.jsxs(y7,{ref:a,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(j7,{}),s.jsx(UCe,{className:fe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(_7,{})]})}));Ca.displayName=y7.displayName;const WCe=m.forwardRef(({className:e,...t},r)=>s.jsx(v7,{ref:r,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));WCe.displayName=v7.displayName;const qt=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(x7,{ref:n,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(qCe,{children:s.jsx(Bv,{className:"h-4 w-4"})})}),s.jsx(zCe,{children:t})]}));qt.displayName=x7.displayName;const HCe=m.forwardRef(({className:e,...t},r)=>s.jsx(S7,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",e),...t}));HCe.displayName=S7.displayName;const VCe=async({phoneNumber:e,code:t,sender:r="Breneo"})=>{throw new Error("SMS API key is not configured.")},KCe="breneo:phoneVerified",lf=typeof window<"u",GCe=e=>e?e.toLowerCase():"user",JCe=(e,t,r)=>{const n=GCe(r);return`${KCe}:${n}:${t??e??"unknown"}`},k7=e=>{const{phoneNumber:t,ownerId:r,role:n,initiallyVerified:a,sender:o="Breneo",resendDelaySeconds:i=60}=e,l=m.useMemo(()=>JCe(t??void 0,r,n),[r,t,n]),[c,u]=m.useState(()=>a?!0:lf?localStorage.getItem(l)==="true":!1),[f,d]=m.useState(null),[h,y]=m.useState(!1),[v,p]=m.useState(""),[g,x]=m.useState(!1),[b,w]=m.useState(!1),[S,j]=m.useState(0);m.useEffect(()=>{typeof a=="boolean"&&a&&(u(!0),lf&&localStorage.setItem(l,"true"))},[a,l]),m.useEffect(()=>{if(!t){u(!1),d(null),y(!1),p("");return}if(!a&&lf){const A=localStorage.getItem(l);u(A==="true")}},[a,t,l]),m.useEffect(()=>{if(S<=0)return;const A=window.setInterval(()=>{j(T=>{const D=T-1;return D>=0?D:0})},1e3);return()=>window.clearInterval(A)},[S]);const k=()=>Math.floor(1e5+Math.random()*9e5).toString(),_=m.useCallback(async()=>{if(!t)throw new Error("Phone number is missing. Please add it before verifying.");if(S>0)throw new Error(`Please wait ${S} second${S===1?"":"s"} before requesting a new code.`);x(!0);try{const A=k();await VCe({phoneNumber:t,code:A,sender:o}),d(A),y(!0),j(i)}finally{x(!1)}},[t,S,i,o]),N=m.useCallback(async()=>{if(!h||!f)throw new Error("No verification code has been sent yet.");const A=v.replace(/\D/g,"");if(A.length!==6)throw new Error("Please enter the 6-digit verification code.");w(!0);try{if(A!==f)throw new Error("The verification code you entered is incorrect.");return u(!0),y(!1),d(null),p(""),lf&&localStorage.setItem(l,"true"),!0}finally{w(!1)}},[v,h,f,l]),E=m.useCallback(()=>{u(!1),d(null),y(!1),p(""),j(0),lf&&localStorage.removeItem(l)},[l]);return{isPhoneVerified:c,isSendingCode:g,isVerifyingCode:b,codeSent:h,codeInput:v,resendCooldown:S,sendCode:_,verifyCode:N,setCodeInput:p,resetVerification:E}},I4=e=>e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:`/${e}`:"/lovable-uploads/no_photo.png",YCe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),XCe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),QCe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})}),ZCe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})}),ePe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),tPe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.921h-6.466v-14.921h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.015zm-3.466-8.921h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"})}),Vb=(e,t)=>{const r={className:t||"h-5 w-5"};switch(e){case"github":return s.jsx(YCe,{...r});case"linkedin":return s.jsx(XCe,{...r});case"facebook":return s.jsx(QCe,{...r});case"instagram":return s.jsx(ZCe,{...r});case"dribbble":return s.jsx(ePe,{...r});case"behance":return s.jsx(tPe,{...r});default:return s.jsx(gk,{className:t||"h-5 w-5"})}},cf={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram",dribbble:"Dribbble",behance:"Behance"},rPe=()=>{const{user:e,loading:t,logout:r}=lr(),n=ma(),a=tr(),o=ca(),[i,l]=m.useState(null),[c,u]=m.useState(!1),[f,d]=m.useState(null),[h,y]=m.useState(!1),[v,p]=m.useState(null),[g,x]=m.useState(null),[b,w]=m.useState(!1),[S,j]=m.useState(Date.now());m.useEffect(()=>{e!=null&&e.profile_image&&x(e.profile_image)},[e==null?void 0:e.profile_image]);const[k,_]=m.useState(!1),[N,E]=m.useState(""),[A,T]=m.useState(!1),[D,B]=m.useState(!1),[z,F]=m.useState(!1),[$,U]=m.useState(""),[P,M]=m.useState(""),[W,R]=m.useState(!1),[q,ee]=m.useState({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}),[ne,ce]=m.useState(!1),[ue,ie]=m.useState(!1),[O,L]=m.useState(null),[H,X]=m.useState({platform:"",url:""}),[V,ae]=m.useState(!1),[Z,de]=m.useState(!1),oe=m.useRef(!1),ye=m.useRef(null),{data:be=[]}=Yt({queryKey:["savedCourseIds",e==null?void 0:e.id],queryFn:async()=>{var G;if(!(e!=null&&e.id))return[];try{return(((G=(await Ae.get(ht.AUTH.PROFILE)).data)==null?void 0:G.saved_courses)||[]).map(Se=>String(Se))}catch(le){return console.error("Error fetching saved course IDs:",le),[]}},enabled:!!(e!=null&&e.id)}),{data:Be=[],isLoading:it}=Yt({queryKey:["savedCourses",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];try{const G=await Ae.get(ht.AUTH.PROFILE);let le=[];if(G.data&&typeof G.data=="object"){const et=G.data;if(Array.isArray(et.saved_courses))le=et.saved_courses.map(He=>String(He));else if(et.profile&&typeof et.profile=="object"){const He=et.profile;Array.isArray(He.saved_courses)&&(le=He.saved_courses.map(De=>String(De)))}else if(et.user&&typeof et.user=="object"){const He=et.user;Array.isArray(He.saved_courses)&&(le=He.saved_courses.map(De=>String(De)))}}if(!le||le.length===0)return[];const _e=le.slice(0,6),{data:Se,error:Le}=await Lt.from("courses").select("id, title, provider, category, level, duration, image, description").in("id",_e);return Le?(console.error("Error fetching course details from Supabase:",Le),[]):(Se||[]).map(et=>({id:et.id,title:et.title||"",provider:et.provider||"",category:et.category||"",level:et.level||"",duration:et.duration||"",image:I4(et.image),description:et.description||""}))}catch(G){return console.error("Error fetching saved courses from API profile:",G),[]}},enabled:!!(e!=null&&e.id)}),{data:ge=[],isLoading:xe}=Yt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];try{const G=await Ae.get(ht.AUTH.PROFILE);let le=[];if(G.data&&typeof G.data=="object"){const He=G.data;if(Array.isArray(He.saved_jobs))le=He.saved_jobs.map(De=>String(De));else if(He.profile&&typeof He.profile=="object"){const De=He.profile;Array.isArray(De.saved_jobs)&&(le=De.saved_jobs.map(ut=>String(ut)))}else if(He.user&&typeof He.user=="object"){const De=He.user;Array.isArray(De.saved_jobs)&&(le=De.saved_jobs.map(ut=>String(ut)))}}if(console.log(" ProfilePage - Saved job IDs from API:",le),!le||le.length===0)return console.log(" ProfilePage - No saved jobs found"),[];const Se=le.slice(0,6).map(async He=>{try{console.log(` ProfilePage - Fetching job detail for ID: ${He}`);const De=await rD(He);return console.log(` ProfilePage - Successfully fetched job: ${He}`,De),{id:He,title:De.job_title||De.title||"Untitled Job",company:De.company_name||De.employer_name||De.company||"Unknown Company",location:De.location||De.job_location||[De.city,De.state,De.country].filter(Boolean).join(", ")||"Location not specified",url:De.job_apply_link||De.url||De.apply_url||"",company_logo:De.company_logo||De.employer_logo||De.logo_url||void 0,salary:De.min_salary&&De.max_salary?`${De.min_salary}-${De.max_salary} ${De.salary_currency||""}`:De.salary||void 0,employment_type:De.employment_type||De.job_employment_type||void 0,work_arrangement:De.is_remote?"Remote":void 0}}catch(De){console.error(` ProfilePage - Error fetching job detail for ID ${He}:`,De);try{console.log(` ProfilePage - Trying fallback batch fetch for ${He}`);const ut=await $a.fetchActiveJobs({query:"",filters:{country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[]},page:1,pageSize:100}),Qe=Do(ut.jobs).find(jt=>String(jt.job_id||jt.id||"")===String(He));if(Qe)return console.log(` ProfilePage - Found job ${He} in batch`),{id:String(Qe.job_id||Qe.id||""),title:Qe.job_title||Qe.title||"Untitled Job",company:Qe.company_name||Qe.employer_name||Qe.company||"Unknown Company",location:Qe.location||[Qe.job_city,Qe.job_state,Qe.job_country].filter(Boolean).join(", ")||"Location not specified",url:Qe.job_apply_link||Qe.url||Qe.apply_url||"",company_logo:Qe.company_logo||Qe.employer_logo||Qe.logo_url||void 0,salary:Qe.job_min_salary&&Qe.job_max_salary?`${Qe.job_min_salary}-${Qe.job_max_salary} ${Qe.job_salary_currency||""}`:Qe.salary||void 0,employment_type:Qe.employment_type||Qe.job_employment_type||void 0,work_arrangement:Qe.job_is_remote||Qe.is_remote?"Remote":void 0}}catch(ut){console.error(` ProfilePage - Fallback also failed for ${He}:`,ut)}return{id:He,title:`Job ${He}`,company:"Details unavailable",location:"",url:""}}}),Le=await Promise.all(Se),et=Le.filter(He=>He.title&&He.title!==`Job ${He.id}`);return console.log(` ProfilePage - Returning ${et.length} valid jobs out of ${Le.length} total`),et}catch(G){return console.error(" ProfilePage - Error fetching saved jobs from API profile:",G),[]}},enabled:!!(e!=null&&e.id)}),qe=mo({mutationFn:async G=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Ae.post(`/api/save-course/${G}/`)},onMutate:async G=>{await o.cancelQueries({queryKey:["savedCourses",e==null?void 0:e.id]});const le=o.getQueryData(["savedCourses",e==null?void 0:e.id]);return o.setQueryData(["savedCourses",e==null?void 0:e.id],_e=>{if(!_e)return _e;const Se=String(G);return _e.includes(Se)?_e.filter(Le=>Le!==Se):[..._e,Se]}),{previousSavedCourses:le}},onError:(G,le,_e)=>{_e!=null&&_e.previousSavedCourses&&(e!=null&&e.id)&&o.setQueryData(["savedCourses",e==null?void 0:e.id],_e.previousSavedCourses),console.error("Error updating saved courses:",G),se.error("Failed to update saved courses. Please try again.")},onSuccess:(G,le)=>{o.invalidateQueries({queryKey:["savedCourses",e==null?void 0:e.id]}),o.invalidateQueries({queryKey:["profile"]});const _e=o.getQueryData(["savedCourses",e==null?void 0:e.id]),Se=_e==null?void 0:_e.includes(String(le));se.success(Se?"Removed from saved courses.":"Course saved to your profile.")}}),{data:rt=[]}=Yt({queryKey:["savedJobIds",e==null?void 0:e.id],queryFn:async()=>{var G;if(!(e!=null&&e.id))return[];try{return(((G=(await Ae.get(ht.AUTH.PROFILE)).data)==null?void 0:G.saved_jobs)||[]).map(Se=>String(Se))}catch(le){return console.error("Error fetching saved job IDs:",le),[]}},enabled:!!(e!=null&&e.id)}),nt=mo({mutationFn:async G=>{if(!(e!=null&&e.id))throw new Error("Please log in to save jobs.");const le=`${ht.JOBS.SAVE_JOB}${G}/`;await Ae.post(le)},onMutate:async G=>{await o.cancelQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),await o.cancelQueries({queryKey:["savedJobIds",e==null?void 0:e.id]});const le=o.getQueryData(["savedJobs",e==null?void 0:e.id]),_e=o.getQueryData(["savedJobIds",e==null?void 0:e.id]);return o.setQueryData(["savedJobIds",e==null?void 0:e.id],Se=>{if(!Se)return Se;const Le=String(G);return Se.includes(Le)?Se.filter(et=>et!==Le):[...Se,Le]}),{previousSavedJobs:le,previousSavedJobIds:_e}},onError:(G,le,_e)=>{_e!=null&&_e.previousSavedJobIds&&(e!=null&&e.id)&&o.setQueryData(["savedJobIds",e==null?void 0:e.id],_e.previousSavedJobIds),console.error("Error updating saved jobs:",G),se.error("Failed to update saved jobs. Please try again.")},onSuccess:(G,le)=>{o.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),o.invalidateQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),o.invalidateQueries({queryKey:["profile"]});const _e=o.getQueryData(["savedJobIds",e==null?void 0:e.id]),Se=_e==null?void 0:_e.includes(String(le));se.success(Se?"Removed from saved jobs.":"Job saved to your profile.")}}),yt=I.useMemo(()=>{const G=(Se,Le)=>{if(Se&&typeof Se=="object")return Se[Le]},le=f;return[G(le,"phone_verified"),G(le,"is_phone_verified"),G(G(le,"profile"),"phone_verified"),G(G(le,"profile"),"is_phone_verified"),G(G(le,"user"),"phone_verified"),G(G(le,"user"),"is_phone_verified"),G(e,"phone_verified"),G(e,"is_phone_verified")].some(Se=>Se===!0||Se==="true")},[f,e]);m.useEffect(()=>{(async()=>{if(e){u(!0);try{const le=await Ae.get(`/api/skilltest/results/?user=${e.id}`);console.log(" Skill test results response:",le.data),console.log(" Response type:",typeof le.data),console.log(" Is array?",Array.isArray(le.data)),Array.isArray(le.data)&&le.data.length>0?(console.log(" Got array with length:",le.data.length),l(le.data[0])):le.data&&typeof le.data=="object"?(console.log(" Got object response"),l(le.data)):console.log(" Unexpected response structure")}catch(le){console.error(" Error fetching skill test results:",le),l(null)}finally{u(!1)}}})()},[e]),m.useEffect(()=>{i&&(console.log(" SkillResults updated:",i),console.log(" Final role:",i.final_role),console.log(" Skills JSON:",i.skills_json))},[i]),m.useEffect(()=>{(async()=>{var _e,Se,Le,et,He,De,ut,pt,Qe,jt,dt,Ge,gt,Jt,qr,hr,rr,zt,Fa,tn,jn,Id;if(!e)return;y(!0);const le=localStorage.getItem("authToken");console.log(" Access token exists:",!!le),le&&console.log(" Token preview:",le.substring(0,50)+"...");try{const Ba=le?{Authorization:`Bearer ${le}`}:{};console.log(" Making authenticated request to /api/profile/"),console.log(" Request URL: https://breneo.onrender.com/api/profile/"),console.log(" Request Method: GET"),console.log(" Request Headers:",Ba),console.log(" Bearer Token being sent:",le?" YES":" NO"),console.log(" Token length:",(le==null?void 0:le.length)||0);const Nt=await Ae.get("/api/profile/",{headers:Ba});if(console.log(" API Request successful!"),console.log(" Raw API Response:",Nt),console.log(" API Response Status:",Nt.status),console.log(" API Response Headers:",Nt.headers),console.log(" API Response Data:",Nt.data),!Nt.data){console.warn(" No data in response"),d(null),p(null),x(null);return}console.log(" Full Profile Data Structure:",JSON.stringify(Nt.data,null,2)),d(Nt.data),console.log(" All available keys in response.data:",Object.keys(Nt.data||{})),(_e=Nt.data)!=null&&_e.profile&&(console.log(" Profile object keys:",Object.keys(Nt.data.profile)),console.log(" Profile object:",Nt.data.profile)),(Se=Nt.data)!=null&&Se.user&&(console.log(" User object keys:",Object.keys(Nt.data.user)),console.log(" User object:",Nt.data.user));const Rr=((Le=Nt.data)==null?void 0:Le.about_me)||((He=(et=Nt.data)==null?void 0:et.profile)==null?void 0:He.about_me)||((ut=(De=Nt.data)==null?void 0:De.user)==null?void 0:ut.about_me)||null;p(Rr),console.log(" Extracted about_me value:",Rr),E(Rr||"");const Ua=((pt=Nt.data)==null?void 0:pt.profile_image)||((jt=(Qe=Nt.data)==null?void 0:Qe.profile)==null?void 0:jt.profile_image)||((Ge=(dt=Nt.data)==null?void 0:dt.user)==null?void 0:Ge.profile_image)||null;x(Ua),console.log(" Extracted profile_image value:",Ua);const Jo=((gt=Nt.data)==null?void 0:gt.social_links)||((qr=(Jt=Nt.data)==null?void 0:Jt.profile)==null?void 0:qr.social_links)||((rr=(hr=Nt.data)==null?void 0:hr.user)==null?void 0:rr.social_links)||((zt=Nt.data)==null?void 0:zt.social_networks)||((tn=(Fa=Nt.data)==null?void 0:Fa.profile)==null?void 0:tn.social_networks)||null;Jo&&typeof Jo=="object"&&(console.log(" Found social links in profile response:",Jo),ee({github:Jo.github||"",linkedin:Jo.linkedin||"",facebook:Jo.facebook||"",instagram:Jo.instagram||"",dribbble:Jo.dribbble||"",behance:Jo.behance||""})),console.log(" Available profile fields:"),Object.entries(Nt.data||{}).forEach(([dx,D9])=>{dx!=="profile"&&dx!=="user"&&console.log(`  - ${dx}:`,D9)}),console.log(""),console.log(" SUMMARY: API Response from /api/profile/"),console.log(""),console.log(" Authentication: Bearer Token "),console.log(" Response Status:",Nt.status),console.log(" Response Headers:",Nt.headers),console.log(" Full Response Data:",Nt.data),console.log(" All Top-Level Keys:",Object.keys(Nt.data||{})),console.log(" About Me:",Rr),console.log(" Profile Image:",Ua),console.log(" User ID from context:",e.id),console.log(""),console.log(" SUCCESS: Protected endpoint accessed with Bearer token!"),console.log(" Full user profile data retrieved from /api/profile/"),console.log("")}catch(Ba){if(console.error(" Error fetching profile data:",Ba),Ba&&typeof Ba=="object"&&"response"in Ba){const Nt=Ba;console.error(" Error response:",(jn=Nt.response)==null?void 0:jn.data),console.error(" Error status:",(Id=Nt.response)==null?void 0:Id.status),console.error(" Error message:",Nt.message)}d(null),p(null),x(null)}finally{y(!1)}})()},[e]),m.useEffect(()=>{var G,le,_e;if(e){if(oe.current){console.log(" Skipping social links extraction - manual update in progress");return}ce(!0);try{if(f){console.log(" Extracting social links from profileData:",f);const Se=(f==null?void 0:f.social_links)||((G=f.profile)==null?void 0:G.social_links)||((le=f.user)==null?void 0:le.social_links)||(f==null?void 0:f.social_networks)||((_e=f.profile)==null?void 0:_e.social_networks)||null;if(console.log(" Extracted socialLinksFromProfile:",Se),Se&&typeof Se=="object"){console.log(" Using social links from profile data:",Se);const Le={github:Se.github||"",linkedin:Se.linkedin||"",facebook:Se.facebook||"",instagram:Se.instagram||"",dribbble:Se.dribbble||"",behance:Se.behance||""};console.log(" Setting social links to:",Le),ee(Le)}else console.log(" No social links found in profile data"),ee(Le=>Object.values(Le).some(He=>He&&He.trim()!=="")?(console.log(" Keeping existing social links:",Le),Le):{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}else console.log(" Profile data not loaded yet"),ee(Se=>Object.values(Se).some(et=>et&&et.trim()!=="")?Se:{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}catch(Se){console.error(" Error extracting social links from profile:",Se),ee(Le=>Object.values(Le).some(He=>He&&He.trim()!=="")?Le:{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}finally{ce(!1)}}},[e,f]),m.useEffect(()=>()=>{ye.current&&clearTimeout(ye.current)},[]);const{first_name:at,last_name:We,email:J,phone_number:K}=e||{};if(k7({phoneNumber:K||"",ownerId:e==null?void 0:e.id,role:e==null?void 0:e.user_type,initiallyVerified:yt}),t)return s.jsx(At,{children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("p",{children:"Loading profile..."})})});if(!e)return s.jsx(At,{children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("p",{children:"Could not load user data. Please try logging in again."})})});const re=()=>{de(!0)},we=()=>{de(!1),r()},Pe=()=>{de(!1)},Te=async G=>{var _e,Se,Le,et,He,De;const le=(_e=G.target.files)==null?void 0:_e[0];if(le){if(!le.type.startsWith("image/")){alert("Please select an image file");return}if(le.size>5*1024*1024){alert("Image size should be less than 5MB");return}w(!0),x(null);try{const ut=new FormData;ut.append("profile_image",le);const pt=localStorage.getItem("authToken"),Qe=await Ae.patch("/api/profile/",ut,{headers:{Authorization:pt?`Bearer ${pt}`:void 0,"Content-Type":"multipart/form-data"}});console.log(" Image upload response:",Qe.data);const jt=((Se=Qe.data)==null?void 0:Se.profile_image)||((et=(Le=Qe.data)==null?void 0:Le.profile)==null?void 0:et.profile_image)||((De=(He=Qe.data)==null?void 0:He.user)==null?void 0:De.profile_image)||null;x(jt),j(Date.now()),se.success("Profile image has been updated successfully."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image uploaded successfully")}catch(ut){console.error(" Error uploading profile image:",ut),alert("Failed to upload profile image. Please try again.")}finally{w(!1)}}},Je=()=>{B(!0)},$e=()=>{var G;(G=document.getElementById("profile-image-input"))==null||G.click(),B(!1)},Ze=async()=>{if(e){if(!confirm("Are you sure you want to remove your profile image?")){B(!1);return}w(!0),B(!1);try{const G=localStorage.getItem("authToken"),le=await Ae.patch("/api/profile/",{profile_image:null},{headers:{Authorization:G?`Bearer ${G}`:void 0}});console.log(" Image removal response:",le.data),x(null),j(Date.now());const _e=await Ae.get("/api/profile/",{headers:{Authorization:G?`Bearer ${G}`:void 0}});d(_e.data),se.success("Profile image has been removed."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image removed successfully")}catch(G){console.error(" Error removing profile image:",G),se.error("Failed to remove profile image. Please try again.")}finally{w(!1)}}},he=()=>{E(v||""),_(!0)},Me=()=>{L(null),X({platform:"",url:""}),ie(!0)},Re=G=>{L(G),X({platform:G,url:q[G]||""}),ie(!0)},C=G=>{const le=G.trim();return!le||le.startsWith("http://")||le.startsWith("https://")?le:`https://${le}`},Y=G=>{try{const le=new URL(C(G));return le.protocol==="http:"||le.protocol==="https:"}catch{return!1}},Ee=async()=>{var G,le,_e,Se,Le,et,He,De,ut,pt,Qe;if(console.log(" handleSaveSocialLink called"),console.log(" Form data:",H),console.log(" User:",e),console.log(" Current social links:",q),!e){console.error(" No user found"),se.error("Please log in to save social links.");return}if(!H.platform||!H.url.trim()){console.error(" Missing platform or URL"),se.error("Please select a platform and provide a URL.");return}if(!Y(H.url)){console.error(" Invalid URL:",H.url),se.error("Please enter a valid URL (e.g., https://example.com or example.com).");return}console.log(" Validation passed, starting save..."),ae(!0);try{const jt=H.platform,dt=localStorage.getItem("authToken"),Ge=C(H.url.trim()),gt={...q,[jt]:Ge},Jt={};Object.entries(gt).forEach(([hr,rr])=>{rr&&rr.trim()!==""&&(Jt[hr]=rr)}),console.log(" Sending social links to API:",Jt),console.log(" Platform:",jt),console.log(" Normalized URL:",Ge),console.log(" Full payload:",JSON.stringify({social_links:Jt},null,2)),oe.current=!0,ye.current&&clearTimeout(ye.current),console.log(" Manual update flag set to true"),ee(gt),console.log(" Updated local state immediately:",gt);let qr;try{console.log(" Attempting PATCH with social_links object..."),qr=await Ae.patch(ht.AUTH.PROFILE,{social_links:Jt},{headers:{Authorization:dt?`Bearer ${dt}`:void 0,"Content-Type":"application/json"}}),console.log(" PATCH successful with social_links object")}catch(hr){if(console.error(" PATCH with social_links object failed, error:",hr),((G=hr.response)==null?void 0:G.status)===400){console.log(" Trying alternative format - sending individual fields...");try{const zt={};Object.entries(Jt).forEach(([Fa,tn])=>{zt[Fa]=tn}),console.log(" Trying individual fields payload:",zt),qr=await Ae.patch(ht.AUTH.PROFILE,zt,{headers:{Authorization:dt?`Bearer ${dt}`:void 0,"Content-Type":"application/json"}}),console.log(" PATCH successful with individual fields")}catch(zt){throw console.error(" PATCH with individual fields also failed:",zt),oe.current=!1,hr}}else throw oe.current=!1,hr}console.log(" Response status:",qr.status),console.log(" Response data:",JSON.stringify(qr.data,null,2)),console.log(" Response headers:",qr.headers);try{console.log(" Refetching profile data to verify save...");const hr=await Ae.get(ht.AUTH.PROFILE,{headers:{Authorization:dt?`Bearer ${dt}`:void 0}});if(console.log(" Refreshed profile data:",JSON.stringify(hr.data,null,2)),hr.data){const rr=hr.data;d(hr.data);const zt=(rr==null?void 0:rr.social_links)||((le=rr==null?void 0:rr.profile)==null?void 0:le.social_links)||((_e=rr==null?void 0:rr.user)==null?void 0:_e.social_links)||null;if(console.log(" Social links from refreshed profile:",zt),zt&&typeof zt=="object"&&!Array.isArray(zt)){const Fa={github:zt.github||"",linkedin:zt.linkedin||"",facebook:zt.facebook||"",instagram:zt.instagram||"",dribbble:zt.dribbble||"",behance:zt.behance||""};console.log(" Setting social links from refreshed data:",Fa),ee(Fa)}else console.log(" No social links in refreshed data, checking if our update was saved..."),console.log(" Keeping local update:",gt)}}catch(hr){console.error(" Error refreshing profile after save:",hr),console.log(" Keeping local update due to refresh error")}ye.current&&clearTimeout(ye.current),ye.current=setTimeout(()=>{oe.current=!1,console.log(" Manual update flag reset after timeout")},3e3),ie(!1),X({platform:"",url:""}),L(null),se.success(O?"Social link updated successfully.":"Social link added successfully.")}catch(jt){console.error(" Error saving social link:",jt);let dt="Failed to save social link. Please try again.";if(jt&&typeof jt=="object"&&"response"in jt){const Ge=jt;if(console.error(" Full error object:",{status:(Se=Ge.response)==null?void 0:Se.status,statusText:(Le=Ge.response)==null?void 0:Le.statusText,data:(et=Ge.response)==null?void 0:et.data,message:Ge.message,request:Ge.request}),(He=Ge.response)!=null&&He.data){const gt=Ge.response.data;gt.social_links?dt=typeof gt.social_links=="string"?gt.social_links:"Invalid social links format. Please check your input.":dt=gt.detail||gt.message||dt,console.error(" Error response data:",JSON.stringify(gt,null,2))}((De=Ge.response)==null?void 0:De.status)===400?dt="Invalid request. Please check the URL format and try again.":((ut=Ge.response)==null?void 0:ut.status)===401?dt="Authentication failed. Please log in again.":((pt=Ge.response)==null?void 0:pt.status)===403?dt="You don't have permission to update social links.":((Qe=Ge.response)==null?void 0:Qe.status)===500&&(dt="Server error. Please try again later or contact support.")}else jt instanceof Error&&(console.error(" Error message:",jt.message),dt=jt.message||dt);se.error(dt)}finally{ae(!1)}},ze=async G=>{var le,_e,Se,Le,et,He;if(!(!e||!confirm("Are you sure you want to remove this social link?")))try{const De=localStorage.getItem("authToken"),ut={...q};delete ut[G];const pt={};Object.entries(ut).forEach(([dt,Ge])=>{Ge&&Ge.trim()!==""&&(pt[dt]=Ge)}),console.log(" Removing social link, sending:",pt),console.log(" Full payload:",JSON.stringify({social_links:pt},null,2)),oe.current=!0,ye.current&&clearTimeout(ye.current),console.log(" Manual update flag set to true (delete)");const Qe={...q,[G]:""};ee(Qe),console.log(" Updated local state immediately:",Qe);let jt;try{jt=await Ae.patch(ht.AUTH.PROFILE,{social_links:pt},{headers:{Authorization:De?`Bearer ${De}`:void 0,"Content-Type":"application/json"}})}catch(dt){throw oe.current=!1,dt}console.log(" Response status:",jt.status),console.log(" Response data:",JSON.stringify(jt.data,null,2)),console.log(" Response headers:",jt.headers);try{console.log(" Refetching profile data to verify delete...");const dt=await Ae.get(ht.AUTH.PROFILE,{headers:{Authorization:De?`Bearer ${De}`:void 0}});if(console.log(" Refreshed profile data (delete):",JSON.stringify(dt.data,null,2)),dt.data){const Ge=dt.data;d(dt.data);const gt=(Ge==null?void 0:Ge.social_links)||((le=Ge==null?void 0:Ge.profile)==null?void 0:le.social_links)||((_e=Ge==null?void 0:Ge.user)==null?void 0:_e.social_links)||null;if(console.log(" Social links from refreshed profile (delete):",gt),gt&&typeof gt=="object"&&!Array.isArray(gt)){const Jt={github:gt.github||"",linkedin:gt.linkedin||"",facebook:gt.facebook||"",instagram:gt.instagram||"",dribbble:gt.dribbble||"",behance:gt.behance||""};console.log(" Setting social links from refreshed data (delete):",Jt),ee(Jt)}else console.log(" No social links in refreshed data after delete"),console.log(" Keeping local update (platform removed):",Qe)}}catch(dt){console.error(" Error refreshing profile after delete:",dt)}ye.current&&clearTimeout(ye.current),ye.current=setTimeout(()=>{oe.current=!1,console.log(" Manual update flag reset after timeout (delete)")},3e3),se.success("Social link removed successfully.")}catch(De){console.error(" Error deleting social link:",De);let ut="Failed to remove social link. Please try again.";if(De&&typeof De=="object"&&"response"in De){const pt=De;if(console.error(" Full error object:",{status:(Se=pt.response)==null?void 0:Se.status,statusText:(Le=pt.response)==null?void 0:Le.statusText,data:(et=pt.response)==null?void 0:et.data,message:pt.message}),(He=pt.response)!=null&&He.data){const Qe=pt.response.data;ut=Qe.detail||Qe.message||ut,console.error(" Error response data:",JSON.stringify(Qe,null,2))}}se.error(ut)}},pe=async()=>{if(e){T(!0);try{const G=localStorage.getItem("authToken"),le=await Ae.patch("/api/profile/",{about_me:N},{headers:{Authorization:G?`Bearer ${G}`:void 0}});console.log(" About Me updated:",le.data),p(N);const _e=await Ae.get("/api/profile/",{headers:{Authorization:G?`Bearer ${G}`:void 0}});d(_e.data),_(!1),se.success("About Me has been updated successfully.")}catch(G){console.error(" Error updating about me:",G),se.error("Failed to update About Me. Please try again.")}finally{T(!1)}}},Ce=()=>{U(K||""),M(J||""),F(!0)},lt=async()=>{var le,_e;if(!e)return;if(!P.trim()){se.error("Email cannot be empty.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P.trim())){se.error("Please enter a valid email address.");return}R(!0);try{const Se=localStorage.getItem("authToken"),Le={email:P.trim()};$.trim()&&(Le.phone_number=$.trim());const et=await Ae.patch(ht.AUTH.PROFILE,Le,{headers:{Authorization:Se?`Bearer ${Se}`:void 0}});console.log(" Contact information updated:",et.data);const He=await Ae.get(ht.AUTH.PROFILE,{headers:{Authorization:Se?`Bearer ${Se}`:void 0}});d(He.data),setTimeout(()=>{window.location.reload()},500),F(!1),se.success("Contact information has been updated successfully.")}catch(Se){console.error(" Error updating contact information:",Se);const Le=Se&&typeof Se=="object"&&"response"in Se&&((_e=(le=Se.response)==null?void 0:le.data)==null?void 0:_e.detail)||"Failed to update contact information. Please try again.";se.error(Le)}finally{R(!1)}},tt=g||(e==null?void 0:e.profile_image),It=()=>{if(!(i!=null&&i.skills_json))return console.log(" No skills_json in results"),[];const G=i.skills_json.tech||{},le=i.skills_json.soft||{};console.log(" Tech skills:",G),console.log(" Soft skills:",le);const _e=[...Object.entries(G).map(([Le,et])=>({name:Le,percentage:parseFloat(String(et).replace("%","")),type:"tech"})),...Object.entries(le).map(([Le,et])=>({name:Le,percentage:parseFloat(String(et).replace("%","")),type:"soft"}))];console.log(" All skills before filtering:",_e);const Se=_e.filter(Le=>Le.percentage>0).sort((Le,et)=>et.percentage-Le.percentage).slice(0,5);return console.log(" Top 5 skills:",Se),Se},_r=(G,le)=>{const _e="#19B5FE",Se=Object.entries(G).filter(([De,ut])=>parseFloat(String(ut).replace("%",""))>0).map(([De,ut])=>{const pt=parseFloat(String(ut).replace("%",""));let Qe;pt>=40?Qe=1:Qe=.3+pt/40*.7;const jt=`gradient-primary-${Math.round(Qe*100)}`;return{skill:De,percentage:pt,displayPct:ut,fill:_e,opacity:Qe,gradientId:jt}}).sort((De,ut)=>ut.percentage-De.percentage);if(Se.length===0)return s.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No skills data available"});const Le={percentage:{label:"Percentage"}},et=De=>{const{x:ut,y:pt,width:Qe,height:jt,payload:dt,value:Ge}=De,gt=(dt==null?void 0:dt.skill)||Ge||"";if(!ut||!pt||!Qe||!jt||!gt)return null;const Jt=ut+Qe/2,rr=250-80+25,zt=Math.max(8,Math.floor(Qe/6)),Fa=gt.split(" "),tn=[];let jn="";for(const Rr of Fa)if(Rr.length>zt){jn&&(tn.push(jn),jn="");for(let Ua=0;Ua<Rr.length;Ua+=zt)tn.push(Rr.slice(Ua,Ua+zt))}else(jn+" "+Rr).length<=zt?jn=jn?jn+" "+Rr:Rr:(jn&&tn.push(jn),jn=Rr);if(jn&&tn.push(jn),tn.length===0||tn.length===1&&tn[0].length>zt*1.5){tn.length=0;for(let Rr=0;Rr<gt.length;Rr+=zt)tn.push(gt.slice(Rr,Rr+zt))}const Id=tn.slice(0,2),Ba=14,Nt=rr-(Id.length-1)*(Ba/2);return s.jsx("text",{x:Jt,y:Nt,fill:"#374151",textAnchor:"middle",fontSize:12,fontWeight:600,className:"dark:fill-gray-200",children:Id.map((Rr,Ua)=>s.jsx("tspan",{x:Jt,dy:Ua===0?0:Ba,children:Rr},Ua))})},He=De=>{const{x:ut,y:pt,width:Qe,height:jt,value:dt,payload:Ge}=De,gt=dt||0,Jt=(Ge==null?void 0:Ge.skill)||"";if(!ut||!pt||!Qe||!jt)return null;const qr=ut+Qe/2,hr=250,rr=80,zt=Math.max(8,Math.floor(Qe/6)),Fa=Jt.length>zt*1.2,tn=hr-rr+(Fa?70:60);return s.jsx("text",{x:qr,y:tn,fill:"#374151",textAnchor:"middle",fontSize:13,fontWeight:700,className:"dark:fill-gray-200",children:`${gt.toFixed(0)}%`})};return s.jsx("div",{className:"w-full -mb-4",children:s.jsx(Y0,{config:Le,className:"h-[250px] w-full",children:s.jsxs(V2,{data:Se,margin:{top:20,right:10,left:10,bottom:80},barCategoryGap:"25%",children:[s.jsx("defs",{children:Se.map(De=>s.jsxs("linearGradient",{id:De.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:De.fill,stopOpacity:De.opacity}),s.jsx("stop",{offset:"100%",stopColor:"#0EA5E9",stopOpacity:De.opacity})]},De.gradientId))}),s.jsx(Od,{dataKey:"skill",hide:!0}),s.jsx(Rd,{type:"number",domain:[0,100],hide:!0}),s.jsx(K2,{content:({active:De,payload:ut})=>{if(De&&ut&&ut.length){const pt=ut[0].payload;return s.jsx("div",{className:"rounded-3xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:pt.skill}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:_e,opacity:pt.opacity}}),s.jsxs("span",{className:"font-bold text-lg",style:{color:_e,opacity:pt.opacity},children:[pt.percentage.toFixed(1),"%"]})]})]})})}return null}}),s.jsxs(As,{dataKey:"percentage",radius:[8,8,8,8],animationDuration:1e3,animationEasing:"ease-out",children:[Se.map((De,ut)=>s.jsx(Am,{fill:`url(#${De.gradientId})`,style:{transition:"all 0.3s ease"}},`cell-${ut}`)),s.jsx(io,{content:et,dataKey:"skill"}),s.jsx(io,{content:He,dataKey:"percentage"})]})]})})})};return s.jsxs(At,{children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 pb-32 md:pb-0",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[s.jsx(je,{className:"bg-transparent border-0 md:bg-card md:border",children:s.jsx(ke,{className:"pb-4 pt-6 px-6 md:pb-6",children:s.jsxs("div",{className:"flex flex-col md:items-center",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4 md:flex-col md:items-center md:mb-4",children:[s.jsx("div",{className:"relative flex-shrink-0 order-2 md:relative md:order-1",children:s.jsxs("div",{className:"relative group cursor-pointer rounded-full overflow-hidden",onClick:Je,children:[s.jsx(dh,{src:tt||void 0,alt:"Profile photo",fallback:at?at.charAt(0).toUpperCase():"U",size:"lg",loading:"eager",className:"h-16 w-16 md:h-28 md:w-28 rounded-full"},`avatar-${S}`),b?s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full z-10",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})}):s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10",children:s.jsx(hk,{className:"h-5 w-5 md:h-7 md:w-7 text-white"})})]})}),s.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:Te,className:"hidden",disabled:b}),s.jsxs("div",{className:"flex-1 min-w-0 order-1 md:text-center md:flex-none md:mb-4 md:order-2",children:[s.jsxs("h1",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-1",children:[at," ",We]}),(e==null?void 0:e.job_title)&&s.jsx("p",{className:"text-sm font-semibold md:font-normal text-gray-900 dark:text-gray-100 md:text-gray-600 md:dark:text-gray-400 mb-1",children:e.job_title}),e!=null&&e.city?s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.city,(e==null?void 0:e.country)&&`, ${e.country}`]}):s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:K||"Location not specified"})]})]}),(e==null?void 0:e.is_profile_hidden)&&s.jsx("div",{className:"mb-4 md:text-center",children:s.jsxs(jr,{className:"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300 border-0",children:[s.jsx(Ai,{size:12,className:"mr-1"}),"Hidden Profile"]})}),s.jsxs("div",{className:"flex items-center gap-2 w-full pt-3 md:mt-2 md:pt-0",children:[s.jsxs(te,{variant:"outline",className:"flex-[5] md:flex-1 flex items-center justify-center gap-2 h-12 px-6 bg-breneo-blue/10 text-breneo-blue border-0 hover:bg-breneo-blue/20 dark:hover:bg-breneo-blue/30",onClick:()=>a("/settings"),children:[s.jsx(xm,{size:16}),s.jsx("span",{children:"Settings"})]}),s.jsx(te,{variant:"default",size:"icon",onClick:re,className:"h-12 w-12 bg-red-100 text-red-600 hover:bg-red-200 active:bg-red-300 dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/50 dark:active:bg-red-900/70",children:s.jsx(r5,{size:16})})]})]})})}),s.jsxs(je,{children:[s.jsxs(ot,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Contact Information"}),s.jsx(te,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:Ce,children:"Edit"})]}),s.jsxs(ke,{className:"space-y-0 p-0",children:[s.jsx("div",{className:"px-6 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2 flex-shrink-0",children:s.jsx(ph,{size:18,className:"text-breneo-blue"})}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:K||"Not provided"})]})}),s.jsx("div",{className:"px-6 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2 flex-shrink-0",children:s.jsx(Ru,{size:18,className:"text-breneo-blue"})}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:J})]})})]})]}),s.jsxs(je,{children:[s.jsxs(ot,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Social Networks"}),s.jsx(te,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:Me,children:"Add"})]}),s.jsx(ke,{className:"p-0",children:ne?s.jsx("div",{className:"text-center py-4 text-gray-500 text-sm px-6",children:"Loading..."}):Object.entries(q).some(([G,le])=>le&&le.trim()!=="")?s.jsx("div",{children:Object.entries(q).filter(([G,le])=>le&&le.trim()!=="").map(([G,le],_e,Se)=>s.jsx("div",{className:`px-6 py-4 ${_e<Se.length-1?"border-b border-gray-200 dark:border-gray-700":""} group hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("a",{href:le,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2 flex-shrink-0",children:Vb(G,"h-[18px] w-[18px] text-breneo-blue")}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:cf[G]}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:le.replace(/^https?:\/\//,"").replace(/^www\./,"")})]})]}),s.jsxs("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[s.jsx("button",{type:"button",className:"h-8 w-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-200 dark:hover:bg-gray-700",onClick:Le=>{Le.stopPropagation(),Re(G)},children:s.jsx(Of,{size:14,className:"text-gray-600 dark:text-gray-400"})}),s.jsx("button",{type:"button",className:"h-8 w-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-primary/10 dark:hover:bg-primary/20",onClick:Le=>{Le.stopPropagation(),ze(G)},children:s.jsx(wi,{size:14,className:"text-gray-600 dark:text-gray-400"})})]})]})},G))}):s.jsx("div",{className:"text-center py-4 text-gray-500 text-sm px-6",children:'No social links added yet. Click "Add" to add your social media profiles.'})})]})]})}),s.jsxs("div",{className:"lg:col-span-2 space-y-4 md:space-y-6",children:[s.jsxs(je,{children:[s.jsxs(ot,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"About Me"}),s.jsx(te,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:he,children:"Edit"})]}),s.jsx(ke,{className:"px-6 py-4",children:h?s.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading..."}):v?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap leading-relaxed",children:v.length>200?`${v.substring(0,200)}...`:v}),v.length>200&&s.jsx(te,{variant:"link",className:"text-breneo-blue p-0 h-auto mt-2 font-normal text-sm hover:underline",onClick:he,children:"View More"})]}):s.jsx("p",{className:"text-sm text-gray-500 italic",children:"No information available. Add some details about yourself!"})})]}),s.jsxs(je,{children:[s.jsx(ot,{className:"p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Personal Skills"})}),s.jsx(ke,{className:"px-6 py-4",children:c?s.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading skill results..."}):i&&(i.final_role||It().length>0)?s.jsxs("div",{className:"space-y-4",children:[i.final_role&&s.jsxs("div",{className:"bg-gradient-to-r from-breneo-blue/10 to-breneo-blue/5 dark:from-breneo-blue/20 dark:to-breneo-blue/10 p-4 rounded-3xl border border-breneo-blue/20 dark:border-breneo-blue/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:s.jsx(xi,{className:"h-5 w-5 text-breneo-blue"})}),s.jsx("span",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100",children:"Recommended Role"})]}),s.jsx(jr,{className:"text-sm px-3 py-1.5 bg-breneo-blue hover:bg-breneo-blue/90 text-white border-0",children:i.final_role})]}),(i==null?void 0:i.skills_json)&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-base text-gray-900 dark:text-gray-100 mb-4",children:"Top Skills"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.skills_json.tech&&Object.keys(i.skills_json.tech).length>0&&s.jsxs(je,{children:[s.jsx(ot,{className:"pb-2",children:s.jsx(vt,{className:"flex items-center gap-2 text-sm",children:"Technical Skills"})}),s.jsx(ke,{className:"p-2 pt-0 pb-4",children:_r(i.skills_json.tech)})]}),i.skills_json.soft&&Object.keys(i.skills_json.soft).length>0&&s.jsxs(je,{children:[s.jsx(ot,{className:"pb-2",children:s.jsx(vt,{className:"flex items-center gap-2 text-sm",children:"Soft Skills"})}),s.jsx(ke,{className:"p-2 pt-0 pb-4",children:_r(i.skills_json.soft)})]})]})]}),It().length===0&&!c&&s.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No skill test results available. Take a skill test to see your results here."})]}):s.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No skill test results available. Take a skill test to see your results here."})})]}),s.jsxs(je,{children:[s.jsxs(ot,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Saved Courses"}),Be.length>0&&s.jsx(te,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:()=>a("/courses"),children:"View All"})]}),s.jsx(ke,{className:"p-0",children:it?s.jsx("div",{className:"px-6 py-4 space-y-4",children:[...Array(3)].map((G,le)=>s.jsxs("div",{className:"flex items-start gap-3 animate-pulse",children:[s.jsx(Pt,{className:"w-12 h-12 rounded-3xl flex-shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Pt,{className:"h-4 w-3/4"}),s.jsx(Pt,{className:"h-3 w-1/2"}),s.jsx(Pt,{className:"h-3 w-2/3"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(Pt,{className:"h-7 w-20"}),s.jsx(Pt,{className:"h-7 w-7 rounded-full"})]})]})]},le))}):Be.length>0?s.jsxs("div",{children:[Be.map((G,le)=>{const _e=(be==null?void 0:be.includes(String(G.id)))??!1;return s.jsx("div",{className:`px-6 py-4 ${le<Be.length-1?"border-b border-gray-200 dark:border-gray-700":""} hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:I4(G.image),alt:G.title,className:"w-12 h-12 rounded-3xl object-cover cursor-pointer",onClick:()=>a(`/course/${G.id}`),onError:Se=>{const Le=Se.target;Le.src="/lovable-uploads/no_photo.png"}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 line-clamp-1 cursor-pointer hover:text-breneo-blue transition-colors flex-1",onClick:()=>a(`/course/${G.id}`),children:G.title}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(te,{size:"sm",variant:"outline",className:"text-xs h-7 border-breneo-blue text-breneo-blue hover:bg-breneo-blue hover:text-white",onClick:Se=>{Se.stopPropagation(),a(`/course/${G.id}`)},children:"View"}),s.jsx(te,{variant:"secondary",size:"sm",className:"bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 h-7 w-7 p-0 rounded-full",onClick:Se=>{Se.stopPropagation(),qe.mutate(G.id)},disabled:qe.isPending,"aria-label":_e?"Unsave course":"Save course",children:qe.isPending?s.jsx(ds,{className:"h-3 w-3 animate-spin"}):s.jsx(On,{className:`h-3 w-3 transition-colors ${_e?"text-red-500 fill-red-500 animate-heart-pop":"text-black"}`})})]})]}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:G.provider}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{children:G.level}),s.jsx("span",{children:""}),s.jsx("span",{children:G.duration})]})]})]})},G.id)}),Be.length>=6&&s.jsx("div",{className:"px-6 py-3 border-t border-gray-200 dark:border-gray-700",children:s.jsx(te,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal text-sm w-full justify-center hover:underline",onClick:()=>a("/courses"),children:"View All Saved Courses"})})]}):s.jsxs("div",{className:"text-center py-4 text-gray-500 text-sm px-6",children:["No saved courses yet. Browse courses and save your favorites!",s.jsx(te,{variant:"link",className:"mt-2 text-breneo-blue font-normal text-sm hover:underline",onClick:()=>a("/courses"),children:"Browse Courses"})]})})]}),s.jsxs(je,{children:[s.jsxs(ot,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Saved Jobs"}),ge.length>0&&s.jsx(te,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:()=>a("/jobs"),children:"View All"})]}),s.jsx(ke,{className:"p-0",children:xe?s.jsx("div",{className:"px-6 py-4 space-y-4",children:[...Array(3)].map((G,le)=>s.jsxs("div",{className:"flex items-start gap-3 animate-pulse",children:[s.jsx(Pt,{className:"w-12 h-12 rounded-3xl flex-shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Pt,{className:"h-4 w-3/4"}),s.jsx(Pt,{className:"h-3 w-1/2"}),s.jsx(Pt,{className:"h-3 w-2/3"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(Pt,{className:"h-7 w-20"}),s.jsx(Pt,{className:"h-7 w-7 rounded-full"})]})]})]},le))}):ge.length>0?s.jsxs("div",{children:[ge.map((G,le)=>{const _e=(rt==null?void 0:rt.includes(String(G.id)))??!1;return s.jsx("div",{className:`px-6 py-4 ${le<ge.length-1?"border-b border-gray-200 dark:border-gray-700":""} hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"flex-shrink-0",children:[G.company_logo?s.jsx("img",{src:G.company_logo,alt:`${G.company} logo`,className:"w-12 h-12 rounded-3xl object-cover border border-gray-200 dark:border-gray-700",onError:Se=>{const Le=Se.target;Le.style.display="none",Le.nextElementSibling&&(Le.nextElementSibling.style.display="flex")}}):null,!G.company_logo&&s.jsx("div",{className:"w-12 h-12 rounded-3xl bg-breneo-blue/10 flex items-center justify-center",children:s.jsx(Sr,{className:"h-6 w-6 text-breneo-blue"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 line-clamp-1 cursor-pointer hover:text-breneo-blue transition-colors flex-1",onClick:()=>a(`/jobs/${encodeURIComponent(G.id)}`),children:G.title}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(te,{size:"sm",variant:"outline",className:"text-xs h-7 border-breneo-blue text-breneo-blue hover:bg-breneo-blue hover:text-white",onClick:Se=>{Se.stopPropagation(),G.url?window.open(G.url,"_blank"):a(`/jobs/${encodeURIComponent(G.id)}`)},children:"View"}),s.jsx(te,{variant:"secondary",size:"sm",className:"bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 h-7 w-7 p-0 rounded-full",onClick:Se=>{Se.stopPropagation(),nt.mutate(G.id)},disabled:nt.isPending,"aria-label":_e?"Unsave job":"Save job",children:nt.isPending?s.jsx(ds,{className:"h-3 w-3 animate-spin"}):s.jsx(On,{className:`h-3 w-3 transition-colors ${_e?"text-red-500 fill-red-500 animate-heart-pop":"text-black"}`})})]})]}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:G.company}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-1",children:[s.jsx(vm,{className:"h-3 w-3"}),s.jsx("span",{className:"line-clamp-1",children:G.location})]}),G.salary&&s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:G.salary})]})]})},G.id)}),ge.length>=6&&s.jsx("div",{className:"px-6 py-3 border-t border-gray-200 dark:border-gray-700",children:s.jsx(te,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal text-sm w-full justify-center hover:underline",onClick:()=>a("/jobs"),children:"View All Saved Jobs"})})]}):s.jsxs("div",{className:"text-center py-4 text-gray-500 text-sm px-6",children:["No saved jobs yet. Browse jobs and save your favorites!",s.jsx(te,{variant:"link",className:"mt-2 text-breneo-blue font-normal text-sm hover:underline",onClick:()=>a("/jobs"),children:"Browse Jobs"})]})})]})]})]}),n?s.jsx(Kr,{open:Z,onOpenChange:de,children:s.jsxs(Gr,{children:[s.jsx(Jr,{children:s.jsx(Yr,{children:"Log out"})}),s.jsx("div",{className:"px-4 pb-4",children:s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Are you sure you want to log out?"})}),s.jsxs(ka,{children:[s.jsx(te,{onClick:we,className:"bg-red-500 text-white hover:bg-red-600 active:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700 dark:active:bg-red-800",children:"Log out"}),s.jsx(ss,{asChild:!0,children:s.jsx(te,{variant:"outline",children:"Cancel"})})]})]})}):s.jsx(xn,{open:Z,onOpenChange:de,children:s.jsxs(an,{children:[s.jsxs(on,{children:[s.jsx(sn,{children:"Log out"}),s.jsx(ru,{children:"Are you sure you want to log out?"})]}),s.jsxs(bn,{children:[s.jsx(te,{variant:"outline",onClick:Pe,children:"Cancel"}),s.jsx(te,{onClick:we,className:"bg-red-500 text-white hover:bg-red-600 active:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700 dark:active:bg-red-800",children:"Log out"})]})]})}),n?s.jsx(Kr,{open:k,onOpenChange:_,children:s.jsxs(Gr,{children:[s.jsx(Jr,{children:s.jsx(Yr,{children:"Edit About Me"})}),s.jsx("div",{className:"px-4 pb-4",children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"about-me",children:"Tell us about yourself"}),s.jsx(nd,{id:"about-me",placeholder:"Share something about yourself...",value:N,onChange:G=>E(G.target.value),className:"mt-2 min-h-[200px]",disabled:A})]})})}),s.jsxs(ka,{children:[s.jsx(te,{onClick:pe,disabled:A,children:A?"Saving...":"Save Changes"}),s.jsx(ss,{asChild:!0,children:s.jsx(te,{variant:"outline",disabled:A,children:"Cancel"})})]})]})}):s.jsx(xn,{open:k,onOpenChange:_,children:s.jsxs(an,{className:"max-w-2xl",children:[s.jsx(on,{children:s.jsx(sn,{children:"Edit About Me"})}),s.jsx("div",{className:"py-4",children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"about-me",children:"Tell us about yourself"}),s.jsx(nd,{id:"about-me",placeholder:"Share something about yourself...",value:N,onChange:G=>E(G.target.value),className:"mt-2 min-h-[200px]",disabled:A})]})})}),s.jsxs(bn,{children:[s.jsx(te,{variant:"outline",onClick:()=>_(!1),disabled:A,children:"Cancel"}),s.jsx(te,{onClick:pe,disabled:A,children:A?"Saving...":"Save Changes"})]})]})}),n?s.jsx(Kr,{open:D,onOpenChange:B,children:s.jsxs(Gr,{children:[s.jsx(Jr,{children:s.jsx(Yr,{children:"Profile Photo"})}),s.jsx("div",{className:"px-4 pb-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{onClick:$e,className:"w-full justify-start gap-3",variant:"ghost",disabled:b,children:[s.jsx(Yg,{className:"h-5 w-5"}),tt?"Update Photo":"Upload Photo"]}),tt&&s.jsxs(te,{onClick:Ze,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:b,children:[s.jsx(wi,{className:"h-5 w-5"}),"Remove Photo"]})]})})]})}):s.jsx(xn,{open:D,onOpenChange:B,children:s.jsxs(an,{children:[s.jsx(on,{children:s.jsx(sn,{children:"Profile Photo"})}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{onClick:$e,className:"w-full justify-start gap-3",variant:"ghost",disabled:b,children:[s.jsx(Yg,{className:"h-5 w-5"}),tt?"Update Photo":"Upload Photo"]}),tt&&s.jsxs(te,{onClick:Ze,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:b,children:[s.jsx(wi,{className:"h-5 w-5"}),"Remove Photo"]})]})}),s.jsx(bn,{children:s.jsx(te,{variant:"outline",onClick:()=>B(!1),children:"Cancel"})})]})}),n?s.jsx(Kr,{open:ue,onOpenChange:ie,children:s.jsxs(Gr,{children:[s.jsx(Jr,{children:s.jsx(Yr,{children:O?"Edit Social Link":"Add Social Link"})}),s.jsx("div",{className:"px-4 pb-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"social-platform",children:"Platform *"}),s.jsxs(to,{value:H.platform,onValueChange:G=>X({...H,platform:G}),disabled:V||!!O,children:[s.jsx(Ea,{className:"mt-2",children:s.jsx(ro,{placeholder:"Select a platform"})}),s.jsx(Ca,{children:Object.keys(cf).map(G=>s.jsx(qt,{value:G,children:s.jsxs("div",{className:"flex items-center gap-2",children:[Vb(G,"h-4 w-4"),s.jsx("span",{children:cf[G]})]})},G))})]})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"social-url",children:"URL *"}),s.jsx(st,{id:"social-url",type:"url",placeholder:"https://...",value:H.url,onChange:G=>X({...H,url:G.target.value}),className:"mt-2",disabled:V,required:!0})]})]})}),s.jsxs(ka,{children:[s.jsx(te,{onClick:Ee,disabled:V,children:V?"Saving...":O?"Update":"Add"}),s.jsx(ss,{asChild:!0,children:s.jsx(te,{variant:"outline",disabled:V,children:"Cancel"})})]})]})}):s.jsx(xn,{open:ue,onOpenChange:ie,children:s.jsxs(an,{children:[s.jsx(on,{children:s.jsx(sn,{children:O?"Edit Social Link":"Add Social Link"})}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"social-platform-desktop",children:"Platform *"}),s.jsxs(to,{value:H.platform,onValueChange:G=>X({...H,platform:G}),disabled:V||!!O,children:[s.jsx(Ea,{className:"mt-2",children:s.jsx(ro,{placeholder:"Select a platform"})}),s.jsx(Ca,{children:Object.keys(cf).map(G=>s.jsx(qt,{value:G,children:s.jsxs("div",{className:"flex items-center gap-2",children:[Vb(G,"h-4 w-4"),s.jsx("span",{children:cf[G]})]})},G))})]})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"social-url-desktop",children:"URL *"}),s.jsx(st,{id:"social-url-desktop",type:"url",placeholder:"https://...",value:H.url,onChange:G=>X({...H,url:G.target.value}),className:"mt-2",disabled:V,required:!0})]})]})}),s.jsxs(bn,{children:[s.jsx(te,{variant:"outline",onClick:()=>{ie(!1),X({platform:"",url:""}),L(null)},disabled:V,children:"Cancel"}),s.jsx(te,{onClick:Ee,disabled:V,children:V?"Saving...":O?"Update":"Add"})]})]})}),n?s.jsx(Kr,{open:z,onOpenChange:F,children:s.jsxs(Gr,{children:[s.jsx(Jr,{children:s.jsx(Yr,{children:"Edit Contact Information"})}),s.jsx("div",{className:"px-4 pb-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"phone-number",children:"Phone Number"}),s.jsx(st,{id:"phone-number",type:"tel",placeholder:"+995591552495",value:$,onChange:G=>U(G.target.value),className:"mt-2",disabled:W})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"email-address",children:"Email Address"}),s.jsx(st,{id:"email-address",type:"email",placeholder:"example@email.com",value:P,onChange:G=>M(G.target.value),className:"mt-2",disabled:W,required:!0})]})]})}),s.jsxs(ka,{children:[s.jsx(te,{onClick:lt,disabled:W||!P.trim(),children:W?"Saving...":"Save Changes"}),s.jsx(ss,{asChild:!0,children:s.jsx(te,{variant:"outline",disabled:W,children:"Cancel"})})]})]})}):s.jsx(xn,{open:z,onOpenChange:F,children:s.jsxs(an,{children:[s.jsx(on,{children:s.jsx(sn,{children:"Edit Contact Information"})}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"phone-number-desktop",children:"Phone Number"}),s.jsx(st,{id:"phone-number-desktop",type:"tel",placeholder:"+995591552495",value:$,onChange:G=>U(G.target.value),className:"mt-2",disabled:W})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"email-address-desktop",children:"Email Address"}),s.jsx(st,{id:"email-address-desktop",type:"email",placeholder:"example@email.com",value:P,onChange:G=>M(G.target.value),className:"mt-2",disabled:W,required:!0})]})]})}),s.jsxs(bn,{children:[s.jsx(te,{variant:"outline",onClick:()=>F(!1),disabled:W,children:"Cancel"}),s.jsx(te,{onClick:lt,disabled:W||!P.trim(),children:W?"Saving...":"Save Changes"})]})]})})]})};var nPe="Separator",L4="horizontal",aPe=["horizontal","vertical"],N7=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=L4,...a}=e,o=oPe(n)?n:L4,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return s.jsx(Ke.div,{"data-orientation":o,...l,...a,ref:t})});N7.displayName=nPe;function oPe(e){return aPe.includes(e)}var E7=N7;const lu=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(E7,{ref:a,decorative:r,orientation:t,className:fe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));lu.displayName=E7.displayName;var Y2="Switch",[sPe,g$e]=fa(Y2),[iPe,lPe]=sPe(Y2),C7=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,y]=m.useState(null),v=ct(t,w=>y(w)),p=m.useRef(!1),g=h?f||!!h.closest("form"):!0,[x=!1,b]=ho({prop:a,defaultProp:o,onChange:u});return s.jsxs(iPe,{scope:r,checked:x,disabled:l,children:[s.jsx(Ke.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":T7(x),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:v,onClick:Ie(e.onClick,w=>{b(S=>!S),g&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),g&&s.jsx(cPe,{control:h,bubbles:!p.current,name:n,value:c,checked:x,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});C7.displayName=Y2;var P7="SwitchThumb",A7=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=lPe(P7,r);return s.jsx(Ke.span,{"data-state":T7(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});A7.displayName=P7;var cPe=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,o=m.useRef(null),i=X0(r),l=Pv(t);return m.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&d){const h=new Event("click",{bubbles:n});d.call(c,r),c.dispatchEvent(h)}},[i,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function T7(e){return e?"checked":"unchecked"}var O7=C7,uPe=A7;const Cn=m.forwardRef(({className:e,...t},r)=>s.jsx(O7,{className:fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(uPe,{className:fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Cn.displayName=O7.displayName;const dPe=Fv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),X2=m.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:fe(dPe({variant:t}),e),...r}));X2.displayName="Alert";const Q2=m.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:fe("mb-1 font-medium leading-none tracking-tight",e),...t}));Q2.displayName="AlertTitle";const Z2=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fe("text-sm [&_p]:leading-relaxed",e),...t}));Z2.displayName="AlertDescription";const bj=({compact:e=!1})=>{Ii();const[t,r]=m.useState(!1),[n,a]=m.useState(null),[o,i]=m.useState(!1),[l,c]=m.useState(!1),[u,f]=m.useState(!1);m.useEffect(()=>{r(!0)},[]),m.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}if(window.navigator.standalone===!0){i(!0);return}const y=localStorage.getItem("pwa-install-card-dismissed");if(y){const x=parseInt(y,10);if((Date.now()-x)/(1e3*60*60*24)<30){c(!0);return}}const v=x=>{x.preventDefault(),a(x)};window.addEventListener("beforeinstallprompt",v);const p=async()=>{try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.ready}}catch(x){console.log("Service worker check:",x)}},g=setTimeout(()=>{p()},1e3);return()=>{window.removeEventListener("beforeinstallprompt",v),clearTimeout(g)}},[]);const d=async()=>{if(f(!0),n){try{await n.prompt();const{outcome:x}=await n.userChoice;x==="accepted"?(i(!0),a(null),se.success("App installation started!")):se.info("Installation cancelled. You can try again later.")}catch(x){console.error("Error installing PWA:",x),se.error("Failed to trigger installation. Please try using your browser menu.")}finally{f(!1)}return}let y=!1;const p=await new Promise(x=>{const b=w=>{w.preventDefault(),y=!0;const S=w;a(S),x(S)};window.addEventListener("beforeinstallprompt",b,{once:!0}),setTimeout(()=>{y||(window.removeEventListener("beforeinstallprompt",b),x(null))},2e3)});if(p){try{await p.prompt();const{outcome:x}=await p.userChoice;x==="accepted"?(i(!0),a(null),se.success("App installation started!")):se.info("Installation cancelled. You can try again later.")}catch(x){console.error("Error installing PWA:",x),se.error("Failed to trigger installation. Please try using your browser menu.")}finally{f(!1)}return}if(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1){se.info("Tap the Share button (square with arrow), then select 'Add to Home Screen'",{duration:4e3}),f(!1);return}try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.ready;se.info("Install prompt not available. Please check your browser's menu for 'Install' or 'Add to Home Screen' option.",{duration:4e3})}}catch(x){console.error("Service worker check failed:",x)}f(!1)};if(o||l||!t)return null;const h=()=>s.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Install App Illustration",className:fe("w-full h-auto object-contain",e?"max-h-24":"max-h-40"),onError:y=>{console.error("Image failed to load:",y)}});return s.jsxs(je,{className:fe(e&&"p-0"),children:[s.jsxs(ot,{className:fe(e&&"pb-3 px-4 pt-4"),children:[s.jsx(vt,{className:"text-lg",children:"Install App"}),s.jsx(Cr,{children:"Download our app for a better experience"})]}),s.jsxs(ke,{className:fe("space-y-4",e&&"space-y-3 px-4 pb-4"),children:[s.jsx(h,{}),s.jsxs("div",{className:fe("space-y-2",e&&"space-y-1.5"),children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(eu,{className:fe("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),s.jsx("span",{children:"Works offline"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(eu,{className:fe("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),s.jsx("span",{children:"Faster loading"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(eu,{className:fe("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),s.jsx("span",{children:"Home screen access"})]})]}),s.jsxs(te,{onClick:d,disabled:u,className:fe("w-full",e&&"h-9"),children:[s.jsx(Z3,{className:fe("mr-2 h-4 w-4",e&&"h-3.5 w-3.5")}),u?"Preparing...":n?"Download & Install Now":"Download App"]})]})]})},fPe=async()=>{var e,t;try{const n=(await Ae.post(ht.PAYMENTS.BOG_AUTH)).data;if(!n.access_token||n.token_type!=="Bearer")throw new Error("Invalid response received from Bank of Georgia auth API.");return n}catch(r){if(r&&typeof r=="object"&&"response"in r&&r.response){const n=r;if(n.response.status===404)throw new Error("Payment authentication endpoint not found. Please ensure the backend payment endpoint is implemented. See BACKEND_PAYMENT_SETUP.md for details.");const a=((e=n.response.data)==null?void 0:e.error)||((t=n.response.data)==null?void 0:t.message)||`Bank of Georgia auth failed (${n.response.status})`;throw new Error(a)}else{if(r&&typeof r=="object"&&"request"in r)throw new Error("Unable to reach payment service. Please check your connection.");{const n=r instanceof Error?r.message:"An error occurred while requesting payment authorization.";throw new Error(n)}}}},D4=[{id:"account",label:"Account Settings"},{id:"notifications",label:"Notifications"},{id:"privacy",label:"Privacy & Security"},{id:"subscription",label:"Subscription & Billing"},{id:"learning",label:"Learning Preferences"},{id:"accessibility",label:"Theme & Accessibility"}];function hPe(){const{user:e,logout:t,refreshUser:r}=lr(),{theme:n,setTheme:a}=Ii(),{fontSize:o,setFontSize:i}=HY(),{language:l,setLanguage:c}=Di(),u=ma(),[f,d]=Rv();tr(),ca();const[h,y]=m.useState(!1),v=m.useRef(null),p=m.useRef(null),g=()=>{const pe=["account","notifications","privacy","subscription","learning","accessibility"];try{const Ce=f.get("section");if(Ce&&pe.includes(Ce))return Ce}catch(Ce){console.error("Error getting initial section:",Ce)}return"account"},[x,b]=m.useState(()=>g());m.useEffect(()=>{const pe=f.get("payment");pe==="success"?(se.success("Payment successful! Your subscription has been activated."),d(Ce=>(Ce.delete("payment"),Ce))):pe==="failed"&&(se.error("Payment failed. Please try again."),d(Ce=>(Ce.delete("payment"),Ce)))},[f,d]),m.useEffect(()=>{if(!u||!v.current)return;const pe=setTimeout(()=>{const Ce=v.current;if(!Ce)return;const lt=Ce.querySelector(`[data-section="${x}"]`);if(!lt)return;const tt=Ce.getBoundingClientRect(),It=lt.getBoundingClientRect(),_r=Ce.scrollLeft,G=It.left-tt.left+_r,le=It.width,_e=tt.width,Se=G-_e/2+le/2;Ce.scrollTo({left:Math.max(0,Se),behavior:"smooth"})},50);return()=>clearTimeout(pe)},[x,u]);const[w,S]=m.useState(""),[j,k]=m.useState(""),[_,N]=m.useState(!1),E=m.useRef(!1),[A,T]=m.useState(1),[D,B]=m.useState(""),[z,F]=m.useState(""),[$,U]=m.useState(""),[P,M]=m.useState(!1),[W,R]=m.useState(!0),[q,ee]=m.useState(!0),[ne,ce]=m.useState(!0),[ue,ie]=m.useState(!0),[O,L]=m.useState(!0),[H,X]=m.useState(!1),[V,ae]=m.useState(!1),[Z,de]=m.useState(!1),[oe,ye]=m.useState(null),[be,Be]=m.useState(null),[it,ge]=m.useState(null),[xe,qe]=m.useState(!0),[rt,nt]=m.useState(!0),[yt,at]=m.useState(!0),[We,J]=m.useState("weekly"),[K,re]=m.useState(o),[we,Pe]=m.useState(l),Te=pe=>{b(pe)};m.useEffect(()=>{e&&!E.current&&(S(e.first_name||""),k(e.last_name||""))},[e==null?void 0:e.id,e==null?void 0:e.first_name,e==null?void 0:e.last_name]),m.useEffect(()=>{re(o)},[o]),m.useEffect(()=>{Pe(l)},[l]),m.useEffect(()=>{y(!0);const pe=(It,_r)=>{try{const G=localStorage.getItem(It);if(G!==null)return JSON.parse(G)}catch(G){console.error(`Error loading preference ${It}:`,G),localStorage.removeItem(It)}return _r};R(pe("notif_email_job_matches",!0)),ee(pe("notif_email_new_courses",!0)),ce(pe("notif_email_skill_updates",!0)),ie(pe("notif_in_app_messages",!0)),L(pe("notif_in_app_progress",!0)),X(pe("notif_newsletter",!1)),ae(pe("notif_push",!1)),qe(pe("privacy_show_skills",!0)),nt(pe("privacy_show_test_results",!0)),at(pe("privacy_show_completed_courses",!0)),J(pe("ai_recommendation_frequency","weekly"));const Ce=pe("breneo-font-size",o),lt=Ce==="large"?"big":Ce;["small","medium","big"].includes(lt)&&(re(lt),i(lt));const tt=pe("accessibility_language","en");Pe(tt==="en"||tt==="ka"?tt:"en")},[]),m.useEffect(()=>{h&&d({section:x},{replace:!1})},[x,h,d]),m.useEffect(()=>{h&&localStorage.setItem("notif_email_job_matches",JSON.stringify(W))},[W,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_email_new_courses",JSON.stringify(q))},[q,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_email_skill_updates",JSON.stringify(ne))},[ne,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_in_app_messages",JSON.stringify(ue))},[ue,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_in_app_progress",JSON.stringify(O))},[O,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_newsletter",JSON.stringify(H))},[H,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_push",JSON.stringify(V))},[V,h]),m.useEffect(()=>{h&&localStorage.setItem("privacy_show_skills",JSON.stringify(xe))},[xe,h]),m.useEffect(()=>{h&&localStorage.setItem("privacy_show_test_results",JSON.stringify(rt))},[rt,h]),m.useEffect(()=>{h&&localStorage.setItem("privacy_show_completed_courses",JSON.stringify(yt))},[yt,h]),m.useEffect(()=>{h&&localStorage.setItem("ai_recommendation_frequency",JSON.stringify(We))},[We,h]);const Je=pe=>{re(pe),i(pe)},$e=pe=>{Pe(pe),c(pe),localStorage.setItem("accessibility_language",JSON.stringify(pe))},Ze=pe=>{a(pe),localStorage.setItem("theme",pe)};m.useEffect(()=>{h&&localStorage.setItem("accessibility_language",JSON.stringify(we))},[we,h]);const he=async pe=>{var Ce,lt;if(pe.preventDefault(),M(!0),!(e!=null&&e.email)){se.error("Email not found. Please log in again."),M(!1);return}try{const tt=await Ae.post(ht.AUTH.PASSWORD_RESET,{email:e.email});se.success(tt.data.message||"Code sent to your email!"),T(2)}catch(tt){Rt.isAxiosError(tt)?se.error(((lt=(Ce=tt.response)==null?void 0:Ce.data)==null?void 0:lt.error)||"Error sending code"):se.error("Error sending code")}finally{M(!1)}},Me=async pe=>{var Ce,lt;pe.preventDefault(),M(!0);try{const tt=await Ae.post(ht.AUTH.PASSWORD_RESET_VERIFY,{email:e==null?void 0:e.email,code:D});se.success(tt.data.message||"Code verified!"),T(3)}catch(tt){Rt.isAxiosError(tt)?se.error(((lt=(Ce=tt.response)==null?void 0:Ce.data)==null?void 0:lt.error)||"Invalid code"):se.error("Invalid code")}finally{M(!1)}},Re=async pe=>{var Ce,lt;if(pe.preventDefault(),z!==$){se.error("Passwords do not match");return}if(z.length<6){se.error("Password must be at least 6 characters long");return}M(!0);try{const tt=await Ae.post(ht.AUTH.PASSWORD_RESET_CONFIRM,{email:e==null?void 0:e.email,code:D,new_password:z,confirm_password:$});se.success(tt.data.message||"Password updated successfully!"),T(1),B(""),F(""),U("")}catch(tt){Rt.isAxiosError(tt)?se.error(((lt=(Ce=tt.response)==null?void 0:Ce.data)==null?void 0:lt.error)||"Error setting new password"):se.error("Error setting new password")}finally{M(!1)}},C=async()=>{se.info("Preparing your data export..."),setTimeout(()=>{se.success("Data export ready! Check your email for the download link.")},2e3)},Y=async()=>{var pe,Ce,lt,tt,It,_r,G;if(!e){se.error("User not found. Please log in again.");return}if(!w.trim()&&!j.trim()){se.error("Please enter at least a first name or last name");return}E.current=!0,N(!0);try{const le=localStorage.getItem("authToken"),_e={};w.trim()&&(_e.first_name=w.trim()),j.trim()&&(_e.last_name=j.trim()),console.log(" Updating profile with PATCH method:"),console.log(" Request payload:",_e);const Se=await Ae.patch(ht.AUTH.PROFILE,_e,{headers:{Authorization:le?`Bearer ${le}`:void 0}});console.log(" Profile update response:",Se.data);const Le=await Ae.get(ht.AUTH.PROFILE,{headers:{Authorization:le?`Bearer ${le}`:void 0}});if(console.log(" Refreshed profile data:",Le.data),Le.data){const et=Le.data,He=et.first_name||((pe=et.user)==null?void 0:pe.first_name)||((Ce=et.profile)==null?void 0:Ce.first_name),De=et.last_name||((lt=et.user)==null?void 0:lt.last_name)||((tt=et.profile)==null?void 0:tt.last_name);He!==void 0&&S(String(He||"")),De!==void 0&&k(String(De||""))}se.success("Profile updated successfully!"),E.current=!1,setTimeout(()=>{window.location.reload()},500)}catch(le){if(console.error(" Error updating profile:",le),E.current=!1,Rt.isAxiosError(le)){const _e=(It=le.response)==null?void 0:It.data,Se=(typeof _e=="object"&&_e!==null?_e.error||_e.message||_e.detail:null)||le.message||"Failed to update profile";console.error(" Error details:",{status:(_r=le.response)==null?void 0:_r.status,statusText:(G=le.response)==null?void 0:G.statusText,data:_e,message:le.message}),se.error(String(Se))}else console.error(" Non-Axios error:",le),se.error("Failed to update profile. Please try again.")}finally{N(!1)}},Ee=n==="dark"?"ON":n==="system"?"AUTO":"OFF",ze=()=>{switch(x){case"account":return s.jsxs("div",{className:"space-y-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Account Settings"}),s.jsxs(je,{children:[s.jsxs(ot,{children:[s.jsx(vt,{children:"Personal Information"}),s.jsx(Cr,{children:"Update your name and contact information"})]}),s.jsx(ke,{className:"space-y-4",children:s.jsxs("form",{onSubmit:pe=>{pe.preventDefault(),Y()},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Fe,{htmlFor:"firstName",children:"First Name"}),s.jsx(st,{id:"firstName",value:w,onChange:pe=>{E.current=!0,S(pe.target.value)},placeholder:"Enter your first name",disabled:_})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Fe,{htmlFor:"lastName",children:"Last Name"}),s.jsx(st,{id:"lastName",value:j,onChange:pe=>{E.current=!0,k(pe.target.value)},placeholder:"Enter your last name",disabled:_})]}),s.jsx(lu,{}),s.jsx(te,{type:"submit",disabled:_,children:_?"Saving...":"Save Changes"})]})})]}),s.jsxs(je,{children:[s.jsxs(ot,{children:[s.jsx(vt,{children:"Email & Password"}),s.jsx(Cr,{children:"Manage your login credentials and security"})]}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Fe,{children:"Email Address"}),s.jsx(st,{value:(e==null?void 0:e.email)||"",disabled:!0,className:"bg-muted/50"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be edited. Contact support if you need to update it."})]}),s.jsx(lu,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Fe,{children:"Change Password"}),A===1&&s.jsx("form",{onSubmit:he,className:"space-y-4",children:s.jsx(te,{type:"submit",disabled:P,children:P?"Sending...":"Send Verification Code"})}),A===2&&s.jsxs("form",{onSubmit:Me,className:"space-y-4",children:[s.jsx(st,{placeholder:"Enter 6-digit code",value:D,onChange:pe=>B(pe.target.value)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(te,{type:"submit",disabled:P,children:P?"Verifying...":"Verify Code"}),s.jsx(te,{type:"button",variant:"outline",onClick:()=>T(1),children:"Back"})]})]}),A===3&&s.jsxs("form",{onSubmit:Re,className:"space-y-4",children:[s.jsx(st,{type:"password",placeholder:"New password",value:z,onChange:pe=>F(pe.target.value)}),s.jsx(st,{type:"password",placeholder:"Confirm new password",value:$,onChange:pe=>U(pe.target.value)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(te,{type:"submit",disabled:P,children:P?"Updating...":"Update Password"}),s.jsx(te,{type:"button",variant:"outline",onClick:()=>T(2),children:"Back"})]})]})]})]})]})]});case"notifications":return s.jsxs("div",{className:"space-y-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Notifications"}),s.jsxs(je,{children:[s.jsxs(ot,{children:[s.jsx(vt,{children:"Email Notifications"}),s.jsx(Cr,{children:"Control how and when you receive email updates"})]}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Fe,{children:"Job Matches"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when new jobs match your profile"})]}),s.jsx(Cn,{checked:W,onCheckedChange:R})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Fe,{children:"New Courses"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates about new courses in your interests"})]}),s.jsx(Cn,{checked:q,onCheckedChange:ee})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Fe,{children:"Skill Updates"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about skill recommendations and updates"})]}),s.jsx(Cn,{checked:ne,onCheckedChange:ce})]}),s.jsx(lu,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Fe,{children:"Newsletter"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Subscribe to our weekly newsletter"})]}),s.jsx(Cn,{checked:H,onCheckedChange:X})]})]})]}),s.jsxs(je,{children:[s.jsxs(ot,{children:[s.jsx(vt,{children:"In-App Notifications"}),s.jsx(Cr,{children:"Manage notifications within the application"})]}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Fe,{children:"Messages"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify me about new messages"})]}),s.jsx(Cn,{checked:ue,onCheckedChange:ie})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Fe,{children:"Progress Reminders"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get reminders about your learning progress"})]}),s.jsx(Cn,{checked:O,onCheckedChange:L})]})]})]}),s.jsxs(je,{children:[s.jsxs(ot,{children:[s.jsx(vt,{children:"Push Notifications"}),s.jsx(Cr,{children:"Receive notifications even when you're not on the site"})]}),s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Fe,{children:"Enable Push Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow Breneo to send you push notifications"})]}),s.jsx(Cn,{checked:V,onCheckedChange:ae})]})})]})]});case"privacy":return s.jsxs("div",{className:"space-y-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Privacy & Security"}),s.jsxs(je,{children:[s.jsxs(ot,{children:[s.jsx(vt,{children:"Data Visibility"}),s.jsx(Cr,{children:"Manage what information is visible on your profile"})]}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Fe,{children:"Show Skills"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your skills on your profile"})]}),s.jsx(Cn,{checked:xe,onCheckedChange:qe})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Fe,{children:"Show Test Results"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your skill test results"})]}),s.jsx(Cn,{checked:rt,onCheckedChange:nt})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Fe,{children:"Show Completed Courses"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display courses you've completed"})]}),s.jsx(Cn,{checked:yt,onCheckedChange:at})]})]})]}),s.jsxs(je,{children:[s.jsxs(ot,{children:[s.jsx(vt,{children:"Data Management"}),s.jsx(Cr,{children:"Download or export your data (GDPR compliance)"})]}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs(te,{onClick:C,variant:"outline",children:[s.jsx(Z3,{className:"h-4 w-4 mr-2"}),"Download My Data"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Request a copy of all your data. You'll receive an email with a download link."})]})]})]});case"subscription":return s.jsxs("div",{className:"space-y-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Subscription & Billing"}),s.jsxs(je,{children:[s.jsxs(ot,{children:[s.jsx(vt,{children:"Current Plan"}),s.jsx(Cr,{children:"Your current subscription plan"})]}),s.jsx(ke,{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Free Plan"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Access to basic features"})]}),s.jsx(wr,{to:"/subscription",children:s.jsx(te,{children:"Upgrade to Pro"})})]})})]}),s.jsxs(je,{children:[s.jsxs(ot,{children:[s.jsx(vt,{children:"Payment Methods"}),s.jsx(Cr,{children:"Manage your payment methods"})]}),s.jsx(ke,{children:s.jsxs("div",{className:"space-y-3",children:[!be&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Authenticate with Bank of Georgia to add a payment method."}),be&&s.jsxs("div",{className:"rounded-3xl border border-primary/40 bg-primary/5 p-4 text-sm",children:[s.jsx("p",{className:"font-medium text-primary",children:"Bank of Georgia authorization ready"}),s.jsxs("p",{className:"text-muted-foreground",children:["Token type: ",be.token_type]}),s.jsxs("p",{className:"text-muted-foreground",children:["Expires in: ",be.expires_in," seconds"]}),s.jsxs("p",{className:"text-muted-foreground break-all",children:["Access token: ",be.access_token]})]}),oe&&s.jsxs(X2,{variant:oe.includes("not found")||oe.includes("endpoint")?"default":"destructive",children:[oe.includes("not found")||oe.includes("endpoint")?s.jsx(yX,{className:"h-4 w-4"}):s.jsx(Oo,{className:"h-4 w-4"}),s.jsx(Q2,{children:oe.includes("not found")||oe.includes("endpoint")?"Backend Setup Required":"Payment Error"}),s.jsx(Z2,{className:"text-sm",children:oe.includes("not found")||oe.includes("endpoint")?s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:"The payment backend endpoint is not yet implemented. To enable payments:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[s.jsxs("li",{children:["Implement"," ",s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"POST /api/payments/bog/orders/"})," ","on your backend server"]}),s.jsxs("li",{children:["See"," ",s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"BACKEND_PAYMENT_SETUP.md"})," ","for implementation details"]})]})]}):oe})]}),s.jsx(te,{variant:"outline",onClick:async()=>{ge(null),ye(null);try{de(!0);const pe=await fPe();Be(pe),se.success("Bank of Georgia authentication successful.")}catch(pe){const Ce=pe instanceof Error?pe.message:"Authentication failed with Bank of Georgia.";ye(Ce),se.error("Unable to authenticate with Bank of Georgia.")}finally{de(!1)}},disabled:Z,children:Z&&!it?"Authorizing...":"Refresh Authorization"})]})})]}),s.jsxs(je,{children:[s.jsxs(ot,{children:[s.jsx(vt,{children:"Billing History"}),s.jsx(Cr,{children:"View and download your invoices"})]}),s.jsx(ke,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"No billing history available"})})]})]});case"learning":return s.jsxs("div",{className:"space-y-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Learning Preferences"}),s.jsxs(je,{children:[s.jsxs(ot,{children:[s.jsx(vt,{children:"AI Recommendations"}),s.jsx(Cr,{children:"How often would you like AI recommendations?"})]}),s.jsx(ke,{children:s.jsxs(to,{value:We,onValueChange:pe=>J(pe),children:[s.jsx(Ea,{children:s.jsx(ro,{})}),s.jsxs(Ca,{children:[s.jsx(qt,{value:"daily",children:"Daily"}),s.jsx(qt,{value:"weekly",children:"Weekly"}),s.jsx(qt,{value:"monthly",children:"Monthly"})]})]})})]}),s.jsxs(je,{children:[s.jsxs(ot,{children:[s.jsx(vt,{children:"Interests & Career Paths"}),s.jsx(Cr,{children:"Manage your interests and preferred career paths"})]}),s.jsx(ke,{children:s.jsx(wr,{to:"/interests",children:s.jsx(te,{variant:"outline",children:"Manage Interests"})})})]})]});case"accessibility":return s.jsxs("div",{className:"space-y-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Theme & Accessibility"}),s.jsxs(je,{children:[s.jsxs(ot,{children:[s.jsx(vt,{children:"Appearance"}),s.jsx(Cr,{children:"Customize the look and feel of the application"})]}),s.jsx(ke,{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{children:"Theme"}),s.jsxs(to,{value:n||"light",onValueChange:pe=>Ze(pe),children:[s.jsx(Ea,{className:"w-32",children:s.jsx(ro,{children:Ee})}),s.jsxs(Ca,{children:[s.jsx(qt,{value:"light",children:"Light"}),s.jsx(qt,{value:"dark",children:"Dark"}),s.jsx(qt,{value:"system",children:"Auto"})]})]})]})})]}),s.jsxs(je,{children:[s.jsxs(ot,{children:[s.jsx(vt,{children:"Accessibility"}),s.jsx(Cr,{children:"Adjust settings for better accessibility"})]}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Fe,{children:"Font Size"}),s.jsxs(to,{value:K,onValueChange:Je,children:[s.jsx(Ea,{children:s.jsx(ro,{})}),s.jsxs(Ca,{children:[s.jsx(qt,{value:"small",children:"Small"}),s.jsx(qt,{value:"medium",children:"Medium"}),s.jsx(qt,{value:"big",children:"Big"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Fe,{children:"Language"}),s.jsxs(to,{value:we,onValueChange:$e,children:[s.jsx(Ea,{children:s.jsx(ro,{})}),s.jsxs(Ca,{children:[s.jsx(qt,{value:"en",children:"English"}),s.jsx(qt,{value:"ka",children:"Georgian ()"})]})]})]})]})]})]});default:return s.jsxs("div",{className:"space-y-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Section not found"})]})}};return s.jsxs(At,{children:[u&&s.jsx("div",{className:"fixed top-[53px] left-0 right-0 z-40 bg-[#F8F9FA]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 border-b border-black/[0.03] dark:border-white/[0.03] md:hidden",children:s.jsx("div",{ref:v,className:"overflow-x-auto scrollbar-hide touch-pan-x",style:{WebkitOverflowScrolling:"touch"},children:s.jsx("div",{className:"flex gap-4 px-6 py-4 min-w-max",children:D4.map(pe=>s.jsx("button",{type:"button","data-section":pe.id,ref:x===pe.id?p:null,onClick:Ce=>{Ce.preventDefault(),Ce.stopPropagation(),Te(pe.id)},onTouchStart:Ce=>{Ce.stopPropagation()},className:fe("text-sm whitespace-nowrap transition-colors py-1 cursor-pointer touch-manipulation",x===pe.id?"text-primary font-medium border-b-2 border-primary":"text-muted-foreground hover:text-foreground active:text-foreground"),children:pe.label},pe.id))})})}),s.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:s.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_400px]",children:[s.jsxs("div",{className:fe(u&&"mt-12 min-h-screen pb-12"),children:[ze(),u&&s.jsx("div",{className:"mt-8",children:s.jsx(bj,{compact:!0})})]}),!u&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs(je,{children:[s.jsx(ot,{children:s.jsx(vt,{className:"text-lg",children:"Settings"})}),s.jsx(ke,{className:"space-y-2",children:D4.map(pe=>s.jsx("button",{type:"button",onClick:Ce=>{Ce.preventDefault(),Ce.stopPropagation(),Te(pe.id)},className:fe("w-full text-left text-sm transition-colors",x===pe.id?"text-primary font-medium":"text-foreground hover:text-primary"),children:pe.label},pe.id))})]}),s.jsx(bj,{})]})]})})]})}var eN="Checkbox",[mPe,y$e]=fa(eN),[pPe,gPe]=mPe(eN),R7=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,y]=m.useState(null),v=ct(t,S=>y(S)),p=m.useRef(!1),g=h?f||!!h.closest("form"):!0,[x=!1,b]=ho({prop:a,defaultProp:o,onChange:u}),w=m.useRef(x);return m.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const j=()=>b(w.current);return S.addEventListener("reset",j),()=>S.removeEventListener("reset",j)}},[h,b]),s.jsxs(pPe,{scope:r,state:x,disabled:l,children:[s.jsx(Ke.button,{type:"button",role:"checkbox","aria-checked":_i(x)?"mixed":x,"aria-required":i,"data-state":I7(x),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:v,onKeyDown:Ie(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Ie(e.onClick,S=>{b(j=>_i(j)?!0:!j),g&&(p.current=S.isPropagationStopped(),p.current||S.stopPropagation())})}),g&&s.jsx(yPe,{control:h,bubbles:!p.current,name:n,value:c,checked:x,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:_i(o)?!1:o})]})});R7.displayName=eN;var $7="CheckboxIndicator",M7=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,o=gPe($7,r);return s.jsx(Mn,{present:n||_i(o.state)||o.state===!0,children:s.jsx(Ke.span,{"data-state":I7(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});M7.displayName=$7;var yPe=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...o}=e,i=m.useRef(null),l=X0(r),c=Pv(t);m.useEffect(()=>{const f=i.current,d=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&y){const v=new Event("click",{bubbles:n});f.indeterminate=_i(r),y.call(f,_i(r)?!1:r),f.dispatchEvent(v)}},[l,r,n]);const u=m.useRef(_i(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function _i(e){return e==="indeterminate"}function I7(e){return _i(e)?"indeterminate":e?"checked":"unchecked"}var L7=R7,vPe=M7;const lo=m.forwardRef(({className:e,...t},r)=>s.jsx(L7,{ref:r,className:fe("peer h-4 w-4 shrink-0 rounded-[2px] border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:border-primary dark:data-[state=checked]:bg-primary dark:data-[state=checked]:border-primary",e),...t,children:s.jsx(vPe,{className:fe("flex items-center justify-center text-white"),children:s.jsx(Bv,{className:"h-4 w-4 text-white"})})}));lo.displayName=L7.displayName;const rx=({selectedLocations:e,onLocationsChange:t,placeholder:r="Location"})=>{const[n,a]=m.useState(!1),[o,i]=m.useState(""),l=m.useRef(null);m.useEffect(()=>{const g=b=>{l.current&&!l.current.contains(b.target)&&a(!1)},x=b=>{b.key==="Escape"&&a(!1)};return n&&(document.addEventListener("mousedown",g),document.addEventListener("keydown",x)),()=>{document.removeEventListener("mousedown",g),document.removeEventListener("keydown",x)}},[n]);const c=m.useMemo(()=>{if(!o.trim())return Qr;const g=o.toLowerCase();return Qr.filter(x=>x.name.toLowerCase().includes(g)||x.code.toLowerCase().includes(g))},[o]),u=g=>{e.includes(g)?t(e.filter(x=>x!==g)):t([...e,g])},f=()=>{e.length===c.length?t([]):t(c.map(g=>g.code))},d=c.length>0&&c.every(g=>e.includes(g.code)),h=m.useMemo(()=>{var x;return e.length===0?r:e.length===1?((x=Qr.find(b=>b.code===e[0]))==null?void 0:x.name)||r:e.length>3?`${e.length} countries selected`:e.slice(0,3).map(b=>{var w;return((w=Qr.find(S=>S.code===b))==null?void 0:w.name)||b}).join(", ")},[e,r]),y=e.length===0,v=(g,x)=>{g.stopPropagation(),t(e.filter(b=>b!==x))},p=g=>{g.stopPropagation(),t([])};return s.jsxs("div",{className:"relative w-full max-w-full",ref:l,children:[s.jsxs("div",{className:"flex items-center gap-2 w-full min-w-0",children:[s.jsxs("button",{type:"button",onClick:()=>a(!n),className:fe("flex items-center flex-1 min-w-0 h-auto py-0 px-0 text-sm text-left bg-transparent border-0 focus:outline-none focus:ring-0","transition-colors cursor-pointer hover:opacity-80 overflow-hidden",y?"text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-gray-100"),children:[s.jsx(vm,{className:"h-4 w-4 md:h-5 md:w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2"}),e.length===0?s.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:r}):s.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:h})]}),e.length>0&&s.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),e.length===1?v(g,e[0]):p(g)},className:"flex-shrink-0 p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded ml-1 transition-all duration-200 animate-in fade-in-0 zoom-in-95","aria-label":e.length===1?"Remove location":"Remove all locations",children:s.jsx(po,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 hover:scale-110"})})]}),n&&s.jsxs("div",{className:fe("absolute top-full mt-2 w-[calc(100vw-2rem)] md:w-[400px] rounded-lg shadow-lg border z-[9999] max-h-[500px] flex flex-col","bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","min-w-[320px]","left-0 md:right-0 md:left-auto"),children:[s.jsxs("div",{className:fe("flex items-center justify-between px-4 py-3 border-b","border-gray-200 dark:border-gray-700"),children:[s.jsx("h3",{className:fe("font-bold text-base","text-gray-900 dark:text-gray-100"),children:"Countries"}),s.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),a(!1),i("")},className:fe("p-1 rounded transition-colors","hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Close",children:s.jsx(po,{className:fe("h-5 w-5","text-gray-900 dark:text-gray-100")})})]}),s.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(st,{type:"text",placeholder:"Search countries...",value:o,onChange:g=>i(g.target.value),onClick:g=>g.stopPropagation(),className:fe("pl-9 pr-3 h-9 text-sm","bg-white dark:bg-gray-800","border-gray-200 dark:border-gray-700","focus-visible:ring-1 focus-visible:ring-breneo-accent")})]})}),s.jsxs("div",{className:"overflow-y-auto max-h-[350px]",children:[c.length>0&&s.jsxs("div",{className:fe("flex items-center px-4 py-3 cursor-pointer transition-colors border-b","hover:bg-gray-50 dark:hover:bg-gray-700/50","border-gray-100 dark:border-gray-700"),onClick:g=>{g.stopPropagation(),f()},children:[s.jsx(lo,{checked:d,onCheckedChange:g=>{if(g)t(c.map(x=>x.code));else{const x=c.map(b=>b.code);t(e.filter(b=>!x.includes(b)))}},className:"mr-3"}),s.jsx("span",{className:fe("text-sm","text-gray-900 dark:text-gray-100"),children:"Select All"})]}),c.length===0?s.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):c.map(g=>{const x=e.includes(g.code);return s.jsxs("div",{className:fe("flex items-center px-4 py-2.5 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:b=>{b.stopPropagation(),u(g.code)},children:[s.jsx(lo,{checked:x,onCheckedChange:b=>{t(b?[...e,g.code]:e.filter(w=>w!==g.code))},className:"mr-3"}),s.jsx("span",{className:fe("text-sm flex-1","text-gray-900 dark:text-gray-100"),children:g.name})]},g.code)})]})]})]})},Is=[{id:"FULLTIME",label:"Full Time"},{id:"PARTTIME",label:"Part Time"},{id:"CONTRACTOR",label:"Contractor"},{id:"INTERN",label:"Intern"}],tN=({selectedWorkTypes:e,onWorkTypesChange:t,placeholder:r="Work types",isRemote:n=!1,onRemoteChange:a})=>{var p;const[o,i]=m.useState(!1),l=m.useRef(null);m.useEffect(()=>{const g=b=>{l.current&&!l.current.contains(b.target)&&i(!1)},x=b=>{b.key==="Escape"&&i(!1)};return o&&(document.addEventListener("mousedown",g),document.addEventListener("keydown",x)),()=>{document.removeEventListener("mousedown",g),document.removeEventListener("keydown",x)}},[o]);const c=g=>{e.includes(g)?t(e.filter(x=>x!==g)):t([...e,g])},u=()=>{e.length===Is.length?t([]):t(Is.map(g=>g.id))},f=e.length===Is.length,d=e.length===0?r:e.length===1?((p=Is.find(g=>g.id===e[0]))==null?void 0:p.label)||r:e.length===Is.length?"All work types":e.map(g=>{var x;return((x=Is.find(b=>b.id===g))==null?void 0:x.label)||g}).join(", "),h=e.length===0,y=(g,x)=>{g.stopPropagation();const b=e.filter(w=>w!==x);t(b)},v=g=>{g.stopPropagation(),t([])};return s.jsxs("div",{className:"relative w-full max-w-full",ref:l,children:[s.jsxs("div",{className:"flex items-center gap-2 w-full min-w-0",children:[s.jsxs("button",{type:"button",onClick:()=>i(!o),className:fe("flex items-center flex-1 min-w-0 h-auto py-0 px-0 text-sm text-left bg-transparent border-0 focus:outline-none focus:ring-0","transition-colors cursor-pointer hover:opacity-80 overflow-hidden",h?"text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-gray-100"),children:[s.jsx(n5,{className:"h-4 w-4 md:h-5 md:w-5 text-breneo-accent flex-shrink-0 mr-2"}),e.length===0?s.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:r}):s.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:d})]}),e.length>0&&s.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),e.length===1?y(g,e[0]):v(g)},className:"flex-shrink-0 p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded ml-1 transition-all duration-200 animate-in fade-in-0 zoom-in-95","aria-label":e.length===1?"Remove work type":"Remove all work types",children:s.jsx(po,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 hover:scale-110"})})]}),o&&s.jsxs("div",{className:fe("absolute top-full left-0 mt-2 w-[calc(100vw-2rem)] md:w-[320px] rounded-lg shadow-lg border z-[9999] max-h-[400px] flex flex-col","bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","min-w-[280px]"),children:[s.jsxs("div",{className:fe("flex items-center justify-between px-4 py-3 border-b","border-gray-200 dark:border-gray-700"),children:[s.jsx("h3",{className:fe("font-bold text-base","text-gray-900 dark:text-gray-100"),children:"Work Types"}),s.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),i(!1)},className:fe("p-1 rounded transition-colors","hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Close",children:s.jsx(po,{className:fe("h-5 w-5","text-gray-900 dark:text-gray-100")})})]}),s.jsxs("div",{className:"overflow-y-auto max-h-[320px]",children:[s.jsxs("div",{className:fe("flex items-center px-4 py-3 cursor-pointer transition-colors border-b","hover:bg-gray-50 dark:hover:bg-gray-700/50","border-gray-100 dark:border-gray-700"),onClick:g=>{g.stopPropagation(),u()},children:[s.jsx(lo,{checked:f,onCheckedChange:g=>{t(g?Is.map(x=>x.id):[])},className:"mr-3"}),s.jsx("span",{className:fe("text-sm","text-gray-900 dark:text-gray-100"),children:"Select All"})]}),Is.map(g=>{const x=e.includes(g.id);return s.jsxs("div",{className:fe("flex items-center px-4 py-3 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:b=>{b.stopPropagation(),c(g.id)},children:[s.jsx(lo,{checked:x,onCheckedChange:b=>{t(b?[...e,g.id]:e.filter(w=>w!==g.id))},className:"mr-3"}),s.jsx("span",{className:fe("text-sm","text-gray-900 dark:text-gray-100"),children:g.label})]},g.id)}),a&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:fe("border-t","border-gray-100 dark:border-gray-700")}),s.jsxs("div",{className:fe("flex items-center px-4 py-3 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:g=>{g.stopPropagation(),a(!n)},children:[s.jsx(lo,{checked:n,onCheckedChange:g=>{a(!!g)},className:"mr-3"}),s.jsx("span",{className:fe("text-sm","text-gray-900 dark:text-gray-100"),children:"Remote Jobs Only"})]})]})]})]})]})};var D7=["PageUp","PageDown"],F7=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],B7={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Md="Slider",[wj,xPe,bPe]=Mm(Md),[U7,v$e]=fa(Md,[bPe]),[wPe,nx]=U7(Md),z7=m.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:f,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:y=!1,form:v,...p}=e,g=m.useRef(new Set),x=m.useRef(0),w=i==="horizontal"?SPe:jPe,[S=[],j]=ho({prop:f,defaultProp:u,onChange:T=>{var B;(B=[...g.current][x.current])==null||B.focus(),d(T)}}),k=m.useRef(S);function _(T){const D=CPe(S,T);A(T,D)}function N(T){A(T,x.current)}function E(){const T=k.current[x.current];S[x.current]!==T&&h(S)}function A(T,D,{commit:B}={commit:!1}){const z=OPe(o),F=RPe(Math.round((T-n)/o)*o+n,z),$=gh(F,[n,a]);j((U=[])=>{const P=NPe(U,$,D);if(TPe(P,c*o)){x.current=P.indexOf($);const M=String(P)!==String(U);return M&&B&&h(P),M?P:U}else return U})}return s.jsx(wPe,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:x,thumbs:g.current,values:S,orientation:i,form:v,children:s.jsx(wj.Provider,{scope:e.__scopeSlider,children:s.jsx(wj.Slot,{scope:e.__scopeSlider,children:s.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:Ie(p.onPointerDown,()=>{l||(k.current=S)}),min:n,max:a,inverted:y,onSlideStart:l?void 0:_,onSlideMove:l?void 0:N,onSlideEnd:l?void 0:E,onHomeKeyDown:()=>!l&&A(n,0,{commit:!0}),onEndKeyDown:()=>!l&&A(a,S.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:D})=>{if(!l){const F=D7.includes(T.key)||T.shiftKey&&F7.includes(T.key)?10:1,$=x.current,U=S[$],P=o*F*D;A(U+P,$,{commit:!0})}}})})})})});z7.displayName=Md;var[q7,W7]=U7(Md,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SPe=m.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...f}=e,[d,h]=m.useState(null),y=ct(t,w=>h(w)),v=m.useRef(),p=yd(a),g=p==="ltr",x=g&&!o||!g&&o;function b(w){const S=v.current||d.getBoundingClientRect(),j=[0,S.width],_=rN(j,x?[r,n]:[n,r]);return v.current=S,_(w-S.left)}return s.jsx(q7,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:s.jsx(H7,{dir:p,"data-orientation":"horizontal",...f,ref:y,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const S=b(w.clientX);i==null||i(S)},onSlideMove:w=>{const S=b(w.clientX);l==null||l(S)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:w=>{const j=B7[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:j?-1:1})}})})}),jPe=m.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,f=m.useRef(null),d=ct(t,f),h=m.useRef(),y=!a;function v(p){const g=h.current||f.current.getBoundingClientRect(),x=[0,g.height],w=rN(x,y?[n,r]:[r,n]);return h.current=g,w(p-g.top)}return s.jsx(q7,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:s.jsx(H7,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const g=v(p.clientY);o==null||o(g)},onSlideMove:p=>{const g=v(p.clientY);i==null||i(g)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const x=B7[y?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:x?-1:1})}})})}),H7=m.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,f=nx(Md,r);return s.jsx(Ke.span,{...u,ref:t,onKeyDown:Ie(e.onKeyDown,d=>{d.key==="Home"?(i(d),d.preventDefault()):d.key==="End"?(l(d),d.preventDefault()):D7.concat(F7).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:Ie(e.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),f.thumbs.has(h)?h.focus():n(d)}),onPointerMove:Ie(e.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&a(d)}),onPointerUp:Ie(e.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),o(d))})})}),V7="SliderTrack",K7=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=nx(V7,r);return s.jsx(Ke.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});K7.displayName=V7;var Sj="SliderRange",G7=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=nx(Sj,r),o=W7(Sj,r),i=m.useRef(null),l=ct(t,i),c=a.values.length,u=a.values.map(h=>Y7(h,a.min,a.max)),f=c>1?Math.min(...u):0,d=100-Math.max(...u);return s.jsx(Ke.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[o.startEdge]:f+"%",[o.endEdge]:d+"%"}})});G7.displayName=Sj;var jj="SliderThumb",J7=m.forwardRef((e,t)=>{const r=xPe(e.__scopeSlider),[n,a]=m.useState(null),o=ct(t,l=>a(l)),i=m.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(_Pe,{...e,ref:o,index:i})}),_Pe=m.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...o}=e,i=nx(jj,r),l=W7(jj,r),[c,u]=m.useState(null),f=ct(t,b=>u(b)),d=c?i.form||!!c.closest("form"):!0,h=Pv(c),y=i.values[n],v=y===void 0?0:Y7(y,i.min,i.max),p=EPe(n,i.values.length),g=h==null?void 0:h[l.size],x=g?PPe(g,v,l.direction):0;return m.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${x}px)`},children:[s.jsx(wj.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Ke.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":i.min,"aria-valuenow":y,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:f,style:y===void 0?{display:"none"}:e.style,onFocus:Ie(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),d&&s.jsx(kPe,{name:a??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:y},n)]})});J7.displayName=jj;var kPe=e=>{const{value:t,...r}=e,n=m.useRef(null),a=X0(t);return m.useEffect(()=>{const o=n.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(a!==t&&c){const u=new Event("input",{bubbles:!0});c.call(o,t),o.dispatchEvent(u)}},[a,t]),s.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function NPe(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,o)=>a-o)}function Y7(e,t,r){const o=100/(r-t)*(e-t);return gh(o,[0,100])}function EPe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function CPe(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function PPe(e,t,r){const n=e/2,o=rN([0,50],[0,n]);return(n-o(t)*r)*r}function APe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function TPe(e,t){if(t>0){const r=APe(e);return Math.min(...r)>=t}return!0}function rN(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function OPe(e){return(String(e).split(".")[1]||"").length}function RPe(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var X7=z7,$Pe=K7,MPe=G7,IPe=J7;const Q7=m.forwardRef(({className:e,...t},r)=>{const n=t.value||t.defaultValue||[0],a=Array.isArray(n)?n.length:1;return s.jsxs(X7,{ref:r,className:fe("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx($Pe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",children:s.jsx(MPe,{className:"absolute h-full bg-breneo-blue dark:bg-breneo-blue"})}),Array.from({length:a}).map((o,i)=>s.jsx(IPe,{className:"block h-5 w-5 rounded-full border-2 border-breneo-blue dark:border-breneo-blue bg-white dark:bg-gray-800 ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-breneo-blue focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},i))]})});Q7.displayName=X7.displayName;const LPe=(e,t,r=20)=>{const n=[];for(let a=0;a<r;a++){const o=Math.exp(-a*.15)*100;n.push(Math.max(5,Math.min(100,o)))}return n},F4=({minSalary:e,maxSalary:t,salaryMin:r=e,salaryMax:n=t,salaryByAgreement:a=!1,onSalaryChange:o})=>{const{t:i}=Di(),[l,c]=m.useState(r??e),[u,f]=m.useState(n??t),[d,h]=m.useState(a),y=LPe(e,t,20),v=Math.max(...y);m.useEffect(()=>{c(r??e),f(n??t),h(a??!1)},[r,n,a,e,t]);const p=w=>{const[S,j]=w;c(S),f(j),o(S===e?void 0:S,j===t?void 0:j,d)},g=w=>{const S=parseInt(w.target.value)||e,j=Math.max(e,Math.min(S,u));c(j),o(j===e?void 0:j,u===t?void 0:u,d)},x=w=>{const S=parseInt(w.target.value)||t,j=Math.min(t,Math.max(S,l));f(j),o(l===e?void 0:l,j===t?void 0:j,d)},b=w=>{h(w),o(l===e?void 0:l,u===t?void 0:u,w)};return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-base font-medium text-left text-gray-900 dark:text-gray-100",children:i.jobs.salaryRange}),s.jsx("div",{className:"relative h-16 flex items-end justify-between gap-0.5 px-1",children:y.map((w,S)=>{const j=w/v*100,k=e+S*(t-e)/y.length,_=e+(S+1)*(t-e)/y.length,N=k>=l&&_<=u;return s.jsx("div",{className:"flex-1 bg-gray-900 dark:bg-gray-200 transition-opacity rounded-md",style:{height:`${j}%`,minHeight:"4px",opacity:N?1:.3}},S)})}),s.jsx("div",{className:"px-2",children:s.jsx(Q7,{value:[l,u],onValueChange:p,min:e,max:t,step:100,className:"w-full"})}),s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Fe,{htmlFor:"salary-min",className:"text-xs text-gray-600 dark:text-gray-300 mb-1 block",children:i.jobs.minimum}),s.jsx(st,{id:"salary-min",type:"number",value:l,onChange:g,min:e,max:u,className:"h-10"})]}),s.jsx("div",{className:"pb-2.5",children:s.jsx("span",{className:"text-gray-400 dark:text-gray-400",children:"-"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Fe,{htmlFor:"salary-max",className:"text-xs text-gray-600 dark:text-gray-300 mb-1 block",children:i.jobs.maximum}),s.jsx(st,{id:"salary-max",type:"number",value:u,onChange:x,min:l,max:t,className:"h-10"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[s.jsx(lo,{id:"salary-by-agreement",checked:d,onCheckedChange:b}),s.jsx(Fe,{htmlFor:"salary-by-agreement",className:"text-sm font-normal cursor-pointer text-gray-900 dark:text-gray-100",children:i.jobs.byAgreement})]})]})},DPe=["FULLTIME","PARTTIME","CONTRACTOR","INTERN"],Kb="",FPe="",_j={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern"},B4=({filters:e,onFiltersChange:t,isMobile:r=!1,onWorkTypeClick:n,onLocationClick:a,userTopSkills:o=[]})=>{const{t:i}=Di(),l=()=>e.jobTypes.length===0?Kb:e.jobTypes.length===1?_j[e.jobTypes[0]]||e.jobTypes[0]:e.jobTypes.map(g=>_j[g]||g).join(", "),c=()=>{if(e.countries.length===0)return"Choose";if(e.countries.length===1){const g=Qr.find(x=>x.code===e.countries[0]);return(g==null?void 0:g.name)||"Choose"}return e.countries.length>3?`${e.countries.length} countries selected`:e.countries.slice(0,3).map(g=>{const x=Qr.find(b=>b.code===g);return(x==null?void 0:x.name)||g}).join(", ")},u=g=>{const x=e.skills.includes(g)?e.skills.filter(b=>b!==g):[...e.skills,g];t({...e,skills:x,countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},f=()=>{if(o.length===0)return;const g=o.every(x=>e.skills.includes(x));t(g?{...e,skills:[],countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement}:{...e,skills:o,countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},d=o.length>0&&o.every(g=>e.skills.includes(g)),h=(g,x,b)=>{t({...e,salaryMin:g,salaryMax:x,salaryByAgreement:b})};if(r)return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"space-y-3",children:s.jsx(F4,{minSalary:0,maxSalary:2e4,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement,onSalaryChange:h})}),s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 cursor-pointer",onClick:n,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:i.jobs.workType}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:l()}),s.jsx(ja,{className:"h-4 w-4 text-gray-400"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 cursor-pointer",onClick:a,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:i.jobs.country}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:c()}),s.jsx(ja,{className:"h-4 w-4 text-gray-400"})]})]})}),o.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:i.jobs.interests}),s.jsx("button",{type:"button",onClick:f,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:d?"Remove All":"Select All"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(g=>{const x=e.skills.includes(g);return s.jsx("button",{type:"button",onClick:()=>u(g),className:`
                      px-4 py-2 rounded-full text-sm font-medium transition-colors border
                      ${x?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                    `,children:g},g)})})]})]});const y=g=>{t({...e,countries:g,datePosted:e.datePosted,skills:e.skills||[],salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},v=g=>{t({...e,jobTypes:g,countries:e.countries||[],datePosted:e.datePosted,skills:e.skills||[],salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},p=g=>{t({...e,isRemote:g,countries:e.countries||[],datePosted:e.datePosted,skills:e.skills||[],salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"space-y-3",children:s.jsx(F4,{minSalary:0,maxSalary:2e4,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement,onSalaryChange:h})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Fe,{className:"text-base font-medium dark:text-gray-100",children:i.jobs.workType}),s.jsx("div",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 items-center focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:s.jsx(tN,{selectedWorkTypes:e.jobTypes||[],onWorkTypesChange:v,placeholder:Kb,isRemote:e.isRemote||!1,onRemoteChange:p})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Fe,{className:"text-base font-medium dark:text-gray-100",children:i.jobs.country}),s.jsx("div",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 items-center focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:s.jsx(rx,{selectedLocations:e.countries||[],onLocationsChange:y,placeholder:Kb})})]}),o.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{className:"text-base font-medium dark:text-gray-100",children:i.jobs.interests}),s.jsx("button",{type:"button",onClick:f,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:d?"Remove All":"Select All"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(g=>{const x=e.skills.includes(g);return s.jsx("button",{type:"button",onClick:()=>u(g),className:`
                    px-4 py-2 rounded-full text-sm font-medium transition-colors border
                    ${x?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                  `,children:g},g)})})]})]})},Z7=({isOpen:e,onClose:t,filters:r,onFiltersChange:n,onApply:a,onClear:o,userTopSkills:i=[]})=>{const{t:l}=Di(),c=ma(),[u,f]=m.useState(!1),[d,h]=m.useState(!1),[y,v]=m.useState(""),p=I.useMemo(()=>{if(!y.trim())return Qr;const w=y.toLowerCase();return Qr.filter(S=>S.name.toLowerCase().includes(w)||S.code.toLowerCase().includes(w))},[y]),g=w=>{n({...r,jobTypes:w,countries:r.countries||[],datePosted:r.datePosted,skills:r.skills||[],salaryMin:r.salaryMin,salaryMax:r.salaryMax,salaryByAgreement:r.salaryByAgreement})},x=w=>{n({...r,countries:w,datePosted:r.datePosted,skills:r.skills||[],salaryMin:r.salaryMin,salaryMax:r.salaryMax,salaryByAgreement:r.salaryByAgreement})},b=w=>{n({...r,isRemote:w,countries:r.countries||[],datePosted:r.datePosted,skills:r.skills||[],salaryMin:r.salaryMin,salaryMax:r.salaryMax,salaryByAgreement:r.salaryByAgreement})};return m.useEffect(()=>{e||(f(!1),h(!1))},[e]),c?u?s.jsx(Kr,{open:e,onOpenChange:w=>{w||(f(!1),t())},children:s.jsxs(Gr,{className:"max-h-[90vh] flex flex-col",children:[s.jsx(Jr,{className:"flex-shrink-0",children:s.jsx(Yr,{children:l.jobs.workType})}),s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto -mx-6 px-6",children:s.jsxs("div",{className:"py-4 space-y-3",children:[DPe.map(w=>{const S=r.jobTypes.includes(w);return s.jsxs(Fe,{htmlFor:w,className:"flex items-center justify-between p-4 bg-white rounded-xl border border-gray-200 cursor-pointer min-h-[48px] active:bg-gray-50 transition-colors select-none",children:[s.jsx("span",{className:"flex-1 text-sm font-medium",children:_j[w]||w}),s.jsx(lo,{id:w,checked:S,onCheckedChange:j=>{const k=j?[...r.jobTypes,w]:r.jobTypes.filter(_=>_!==w);g(k)}})]},w)}),s.jsx("div",{className:"border-t border-gray-200 my-3"}),s.jsxs(Fe,{htmlFor:"remote-mobile",className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200 cursor-pointer min-h-[48px] active:bg-gray-50 transition-colors select-none",children:[s.jsx("span",{className:"flex-1 text-sm font-medium",children:"Remote Jobs Only"}),s.jsx(lo,{id:"remote-mobile",checked:r.isRemote,onCheckedChange:w=>{b(!!w)}})]})]})})]})}):d?s.jsx(Kr,{open:e,onOpenChange:w=>{w||(h(!1),v(""),t())},children:s.jsxs(Gr,{className:"max-h-[90vh] flex flex-col",children:[s.jsx(Jr,{className:"flex-shrink-0",children:s.jsx(Yr,{children:"Countries"})}),s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:s.jsxs("div",{className:"relative",children:[s.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(st,{type:"text",placeholder:"Search countries...",value:y,onChange:w=>v(w.target.value),className:"pl-9 pr-3 h-9 text-sm"})]})}),s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto -mx-4 px-4",children:s.jsx("div",{className:"py-4 space-y-2",children:p.length===0?s.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500",children:"No countries found"}):p.map(w=>{const S=r.countries.includes(w.code);return s.jsxs(Fe,{htmlFor:w.code,className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 cursor-pointer min-h-[48px] active:bg-gray-50 dark:active:bg-gray-700 transition-colors select-none",children:[s.jsx("span",{className:"flex-1 text-sm font-medium",children:w.name}),s.jsx(lo,{id:w.code,checked:S,onCheckedChange:j=>{const k=j?[...r.countries,w.code]:r.countries.filter(_=>_!==w.code);x(k)}})]},w.code)})})})]})}):s.jsx(Kr,{open:e,onOpenChange:t,children:s.jsxs(Gr,{className:"max-h-[90vh]",children:[s.jsx(Jr,{children:s.jsx(Yr,{className:"text-xl font-bold",children:FPe})}),s.jsx("div",{className:"px-6 py-6 flex-1 overflow-y-auto",children:s.jsx(B4,{filters:r,onFiltersChange:n,isMobile:!0,onWorkTypeClick:()=>f(!0),onLocationClick:()=>h(!0),userTopSkills:i})}),s.jsx(ka,{children:s.jsxs("div",{className:`flex gap-3 w-full ${o?"justify-between":"justify-end"}`,children:[o&&s.jsx(te,{onClick:()=>{o(),f(!1),h(!1)},variant:"ghost",className:"h-12 px-6 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0 rounded-[18px]",children:l.common.clear}),s.jsx(te,{onClick:()=>{a(),f(!1),h(!1)},className:"h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:l.common.apply})]})})]})}):s.jsx(xn,{open:e,onOpenChange:t,children:s.jsxs(an,{className:"max-w-3xl",children:[s.jsx(on,{children:s.jsx(sn,{children:"Filter Jobs"})}),s.jsx("div",{className:"py-4",children:s.jsx(B4,{filters:r,onFiltersChange:n,isMobile:!1,userTopSkills:i})}),s.jsx(bn,{children:s.jsxs("div",{className:`flex gap-3 w-full ${o?"justify-between":"justify-end"}`,children:[o&&s.jsx(te,{onClick:()=>{o()},variant:"ghost",className:"w-auto h-10 px-4 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0",children:l.common.clear}),s.jsx(te,{onClick:a,className:"w-auto h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90",children:l.common.apply})]})})]})})},bc={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern",INTERNSHIP:"Internship"},Fp=e=>{const t=[],r=[e.job_title||e.title||"",e.description||"",e.job_description||"",e.job_required_experience||e.required_experience||""].join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]};return Object.keys(n).forEach(a=>{n[a].some(i=>r.includes(i))&&t.push(a)}),[...new Set(t)]},Bp=(e,t)=>{if(t.length===0)return 50;if(e.length===0)return 0;const r=l=>l.toLowerCase().trim().replace(/\s+/g," "),n=e.map(r),a=t.map(r),o=n.filter(l=>a.some(c=>!!(l===c||l.includes(c)||c.includes(l)))),i=Math.round(o.length/a.length*100);return Math.min(i,100)},BPe=e=>{const t=e.toLowerCase();return t.includes("javascript")||t.includes("js")||t.includes("react")||t.includes("node")||t.includes("python")||t.includes("django")||t.includes("flask")||t.includes("java")||t.includes("kotlin")||t.includes("c++")||t.includes("c#")||t.includes("csharp")||t.includes("php")||t.includes("ruby")||t.includes("go")||t.includes("rust")?Nc:t.includes("database")||t.includes("sql")||t.includes("mysql")||t.includes("postgresql")||t.includes("mongodb")?fX:t.includes("cloud")||t.includes("aws")||t.includes("azure")||t.includes("gcp")?uX:t.includes("network")||t.includes("devops")||t.includes("docker")||t.includes("kubernetes")?n5:t.includes("mobile")||t.includes("ios")||t.includes("android")||t.includes("flutter")||t.includes("react native")?TX:t.includes("web")||t.includes("html")||t.includes("css")?Ti:t.includes("security")||t.includes("cyber")||t.includes("encryption")?CX:t.includes("ai")||t.includes("machine learning")||t.includes("data science")||t.includes("analytics")?dX:t.includes("ui")||t.includes("ux")||t.includes("design")||t.includes("figma")||t.includes("sketch")?_X:t.includes("graphic")||t.includes("illustration")||t.includes("photoshop")||t.includes("illustrator")?jX:t.includes("sales")||t.includes("marketing")||t.includes("business")?Uv:t.includes("finance")||t.includes("accounting")||t.includes("banking")?a5:t.includes("management")||t.includes("leadership")||t.includes("project")?aX:t.includes("communication")||t.includes("presentation")||t.includes("public speaking")?wX:t.includes("customer service")||t.includes("support")?WC:t.includes("music")||t.includes("audio")||t.includes("sound")?SX:t.includes("video")||t.includes("editing")||t.includes("film")||t.includes("production")?l5:t.includes("photography")||t.includes("photo")?hk:t.includes("writing")||t.includes("content")||t.includes("copywriting")?kX:t.includes("game")||t.includes("gaming")?pX:t.includes("teaching")||t.includes("education")||t.includes("training")||t.includes("tutor")?bi:t.includes("language")||t.includes("translation")||t.includes("interpreter")?t5:t.includes("health")||t.includes("medical")||t.includes("nursing")||t.includes("care")?s5:t.includes("legal")||t.includes("law")||t.includes("attorney")?EX:t.includes("hospitality")||t.includes("hotel")||t.includes("restaurant")||t.includes("cooking")||t.includes("chef")?LX:t.includes("coffee")||t.includes("barista")?Q3:t.includes("construction")||t.includes("carpentry")||t.includes("plumbing")||t.includes("electrician")?gX:t.includes("automotive")||t.includes("mechanic")||t.includes("car")?Y3:t.includes("logistics")||t.includes("warehouse")||t.includes("shipping")?MX:t.includes("aviation")||t.includes("pilot")||t.includes("airline")?NX:t.includes("maritime")||t.includes("sailor")||t.includes("ship")?PX:t.includes("retail")||t.includes("sales")||t.includes("store")?AX:t.includes("manufacturing")||t.includes("production")||t.includes("factory")?e5:t.includes("engineering")||t.includes("mechanical")||t.includes("electrical")?xm:t.includes("problem solving")||t.includes("analytical")||t.includes("critical thinking")?xX:t.includes("teamwork")||t.includes("collaboration")?WC:t.includes("creativity")||t.includes("innovation")?o5:t.includes("organization")||t.includes("planning")?i5:t.includes("time management")||t.includes("efficiency")?DX:Sr},UPe=(e,t)=>{const r=["text-blue-500","text-breneo-accent","text-orange-500","text-teal-500","text-purple-500","text-green-500","text-red-500","text-yellow-500","text-pink-500","text-indigo-500"];return r[t%r.length]},zPe=async(e=1)=>{try{console.log(` fetchInternshipJobs called - fetching internship jobs page ${e}`);const t=await $a.fetchActiveJobs({query:"intern intern internship",filters:{country:void 0,countries:[],jobTypes:["INTERN"],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:e,pageSize:12});if(!t||!Array.isArray(t.jobs))return console.warn("Invalid response format from job service:",t),{jobs:[],hasMore:!1,total:0};const r=t.jobs.filter(n=>{const a=n.job_id||n.id;return a&&a.trim()!==""});return{jobs:r,hasMore:t.hasMore??!1,total:r.length}}catch(t){return console.error("Error fetching internship jobs:",t),{jobs:[],hasMore:!1,total:0}}},qPe=async(e=1,t,r=[])=>{try{console.log(` fetchLatestJobs called - fetching regular jobs page ${e} with filters:`,t);const n=r.length>0&&t.skills.length>0&&r.every(l=>t.skills.includes(l))&&t.skills.length===r.length,a={...t,skills:n?[]:t.skills},o=await $a.fetchActiveJobs({query:"",filters:a,page:e,pageSize:12});if(!o||!Array.isArray(o.jobs))return console.warn("Invalid response format from job service:",o),{jobs:[],hasMore:!1,total:0};let i=o.jobs.filter(l=>{const c=l.job_id||l.id;return c&&c.trim()!==""});return(t.salaryMin!==void 0||t.salaryMax!==void 0||t.salaryByAgreement)&&(i=i.filter(l=>{const c=l.job_min_salary||l.min_salary,u=l.job_max_salary||l.max_salary;return t.salaryByAgreement&&!c&&!u?!0:!c&&!u&&!t.salaryByAgreement?!(t.salaryMin!==void 0||t.salaryMax!==void 0):!(t.salaryMin!==void 0&&u&&u<t.salaryMin||t.salaryMax!==void 0&&c&&c>t.salaryMax)})),t.isRemote&&(i=i.filter(l=>l.job_is_remote||l.is_remote||l.remote===!0)),console.log(` fetchLatestJobs: ${i.length} jobs found after filtering`),{jobs:i,hasMore:o.hasMore??!1,total:i.length}}catch(n){return console.error("Error fetching latest jobs:",n),{jobs:[],hasMore:!1,total:0}}},WPe=async(e=1,t=[])=>{var r,n;try{console.log(` fetchRemoteJobs called - fetching remote jobs page ${e} with skills:`,t);const a=t.length>0?"":"remote",o=await $a.fetchActiveJobs({query:a,filters:{country:void 0,countries:[],jobTypes:[],isRemote:!0,datePosted:void 0,skills:t.length>0?t:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:e,pageSize:12});if(console.log(" fetchRemoteJobs response:",{totalJobs:((r=o.jobs)==null?void 0:r.length)||0,hasMore:o.hasMore,sampleJob:((n=o.jobs)==null?void 0:n[0])||null}),!o||!Array.isArray(o.jobs))return console.warn("Invalid response format from job service:",o),{jobs:[],hasMore:!1,total:0};const i=o.jobs.filter(l=>{const c=l.job_id||l.id;return c&&c.trim()!==""});return console.log(` fetchRemoteJobs: ${i.length} valid remote jobs found`),{jobs:i,hasMore:o.hasMore??!1,total:i.length}}catch(a){return console.error(" Error fetching remote jobs:",a),{jobs:[],hasMore:!1,total:0}}},U4="jobsFilters",HPe=(e,t,r)=>{try{sessionStorage.setItem(e,JSON.stringify({filters:t,search:r}))}catch(n){console.error("Error saving filters to session storage:",n)}},VPe=e=>{try{const t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading filters from session storage:",t)}return null},KPe=()=>{const{user:e}=lr(),t=ca(),r=ma(),n=tr(),[a,o]=Rv(),[i,l]=m.useState(!1),[c,u]=m.useState([]),[f,d]=m.useState(!0),h=I.useRef(!1),[y,v]=m.useState(1),[p,g]=m.useState([]),[x,b]=m.useState(!1),[w,S]=m.useState(!1),[j,k]=m.useState(1),[_,N]=m.useState([]),[E,A]=m.useState(!1),[T,D]=m.useState(!1),[B,z]=m.useState(1),[F,$]=m.useState([]),[U,P]=m.useState(!1),[M,W]=m.useState(!1);m.useCallback((C,Y,Ee)=>{const ze=new URLSearchParams;Y&&ze.set("search",Y),C.countries.length>0&&ze.set("countries",C.countries.join(",")),C.skills.length>0&&ze.set("skills",C.skills.join(",")),C.jobTypes.length>0&&ze.set("jobTypes",C.jobTypes.join(",")),C.isRemote&&ze.set("isRemote","true"),C.datePosted&&C.datePosted!=="all"&&ze.set("datePosted",C.datePosted),Ee>1&&ze.set("page",String(Ee)),o(ze,{replace:!0}),HPe(U4,C,Y)},[o]);const[R,q]=m.useState(()=>({country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1})),[ee,ne]=m.useState(()=>{const C=a.get("search");if(C)return C;const Y=VPe(U4);return Y&&Y.search?Y.search:""}),[ce,ue]=m.useState(R),ie=C=>{let Y=0;return C.countries.length>0&&(Y+=C.countries.length),C.jobTypes.length>0&&(Y+=C.jobTypes.length),C.isRemote&&(Y+=1),C.datePosted&&(Y+=1),C.skills.length>0&&(Y+=C.skills.length),(C.salaryMin!==void 0||C.salaryMax!==void 0)&&(Y+=1),C.salaryByAgreement&&(Y+=1),Y};m.useEffect(()=>{i&&ue(R)},[i,R]),m.useEffect(()=>{const C=new URLSearchParams(a);C.delete("countries"),C.delete("country"),C.delete("skills"),C.delete("jobTypes"),C.delete("isRemote"),C.delete("datePosted"),C.delete("page"),C.toString()!==a.toString()&&o(C,{replace:!0})},[]),m.useEffect(()=>{(async()=>{if(!e){d(!1);return}try{d(!0);try{const Ee=await Ae.get("/api/skilltest/results/");if(Ee.data&&Array.isArray(Ee.data)&&Ee.data.length>0){const pe=Ee.data[0].skills_json,Ce=[];pe!=null&&pe.tech&&Ce.push(...Object.keys(pe.tech));const tt=Bc(Ce).slice(0,5);u(tt),d(!1);return}}catch{console.log("API endpoint not available, trying Supabase...")}const Y=await Ql(String(e.id));if(Y&&Y.length>0){const Ee=Zl(Y),pe=i0(Ee,10).map(tt=>tt.skill),lt=Bc(pe).slice(0,5);u(lt)}}catch(Y){console.error("Error fetching user skills:",Y)}finally{d(!1)}})()},[e]),m.useEffect(()=>{h.current=!1},[e==null?void 0:e.id]),m.useEffect(()=>{!f&&c.length>0&&!h.current&&(q(C=>({...C,skills:[...c]})),ue(C=>({...C,skills:[...c]})),h.current=!0)},[f,c,e==null?void 0:e.id]);const{data:O=[]}=Yt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var C;if(!e)return[];try{return(((C=(await Ae.get(ht.AUTH.PROFILE)).data)==null?void 0:C.saved_jobs)||[]).map(ze=>String(ze))}catch(Y){return console.error("Error fetching saved jobs from profile API:",Y),[]}},enabled:!!e}),L=m.useMemo(()=>Bc(R.skills||[]),[R.skills]),H=m.useMemo(()=>JSON.stringify({countries:R.countries.sort(),skills:R.skills.sort(),jobTypes:R.jobTypes.sort(),isRemote:R.isRemote,datePosted:R.datePosted,salaryMin:R.salaryMin,salaryMax:R.salaryMax,salaryByAgreement:R.salaryByAgreement}),[R]),{data:X={jobs:[],hasMore:!1,total:0},isLoading:V,error:ae}=Yt({queryKey:["latestJobs",y,H,c.join(",")],queryFn:()=>qPe(y,R,c),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!0}),{data:Z={jobs:[],hasMore:!1,total:0},isLoading:de,error:oe}=Yt({queryKey:["internshipJobs",j],queryFn:()=>zPe(j),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!0}),{data:ye={jobs:[],hasMore:!1,total:0},isLoading:be,error:Be}=Yt({queryKey:["remoteJobs",B,c.join(",")],queryFn:()=>WPe(B,c),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!f});m.useEffect(()=>{if(X.jobs&&X.jobs.length>0){const C=Lf(X.jobs),Y=Do(C);g(y===1?Y:Ee=>{const ze=new Set(Ee.map(Ce=>Ce.job_id||Ce.id)),pe=Y.filter(Ce=>!ze.has(Ce.job_id||Ce.id));return[...Ee,...pe]}),b(X.hasMore),S(!1)}else y===1&&(g([]),b(!1))},[X,y]),m.useEffect(()=>{if(Z.jobs&&Z.jobs.length>0){const C=Lf(Z.jobs),Y=Do(C);N(j===1?Y:Ee=>{const ze=new Set(Ee.map(Ce=>Ce.job_id||Ce.id)),pe=Y.filter(Ce=>!ze.has(Ce.job_id||Ce.id));return[...Ee,...pe]}),A(Z.hasMore),D(!1)}else j===1&&(N([]),A(!1))},[Z,j]),m.useEffect(()=>{if(ye.jobs&&ye.jobs.length>0){const C=Lf(ye.jobs),Y=Do(C);$(B===1?Y:Ee=>{const ze=new Set(Ee.map(Ce=>Ce.job_id||Ce.id)),pe=Y.filter(Ce=>!ze.has(Ce.job_id||Ce.id));return[...Ee,...pe]}),P(ye.hasMore),W(!1)}else B===1&&($([]),P(!1))},[ye,B]);const it=p,ge=_;m.useCallback(()=>{S(!0),v(C=>C+1)},[]);const xe=m.useCallback(()=>{D(!0),k(C=>C+1)},[]),qe=m.useCallback(()=>{W(!0),z(C=>C+1)},[]),rt=m.useCallback(()=>{const C=new URLSearchParams;ee.trim()&&C.set("search",ee.trim()),R.countries.length>0&&C.set("countries",R.countries.join(",")),R.skills.length>0&&C.set("skills",R.skills.join(",")),R.jobTypes.length>0&&C.set("jobTypes",R.jobTypes.join(",")),R.isRemote&&C.set("isRemote","true"),R.datePosted&&C.set("datePosted",R.datePosted),R.salaryMin!==void 0&&C.set("salaryMin",String(R.salaryMin)),R.salaryMax!==void 0&&C.set("salaryMax",String(R.salaryMax)),R.salaryByAgreement&&C.set("salaryByAgreement","true"),n(`/jobs/search?${C.toString()}`)},[ee,R,n]),nt=C=>{ne(C)},yt=C=>{C.key==="Enter"&&rt()},at=mo({mutationFn:async C=>{if(!e)throw new Error("User not logged in");if(!C.id)throw new Error("Job ID is required");const Y=String(C.id);C.is_saved;try{const Ee=`${ht.JOBS.SAVE_JOB}${Y}/`;await Ae.post(Ee)}catch(Ee){const ze=Ee instanceof Error?Ee.message:"Failed to save job. Please try again.";throw new Error(ze)}},onSuccess:(C,Y)=>{t.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),t.invalidateQueries({queryKey:["profile"]}),se.success(Y.is_saved?"Job Unsaved":"Job Saved")},onError:C=>{console.error("Error saving job:",C);const Y=C instanceof Error?C.message:"Failed to save job";se.error(Y)}}),We=I.useMemo(()=>{if(!it||it.length===0)return[];try{return(it||[]).map(C=>{const Y=C.company&&typeof C.company=="object"?C.company:null,Ee=C.job_id||C.id||"";if(!Ee||Ee.trim()==="")return console.warn("Skipping job without valid ID:",C),null;const ze=C.job_title||C.title||C.position||"Untitled Position",pe=(Y==null?void 0:Y.name)||(Y==null?void 0:Y.company_name)||C.companyName||C.employer_name||C.company_name||(typeof C.company=="string"?C.company:null)||"Unknown Company",Ce=C.job_city||C.city||(Y==null?void 0:Y.city)||"",lt=C.job_state||C.state||(Y==null?void 0:Y.state)||"",tt=C.job_country||C.country||(Y==null?void 0:Y.country)||"",It=C.jobLocation||C.location||(Y==null?void 0:Y.location)||[Ce,lt,tt].filter(Boolean).join(", ")||"Location not specified",_r=C.applyUrl||C.jobUrl||C.job_apply_link||C.apply_link||C.url||C.apply_url||C.company_url||(Y==null?void 0:Y.url)||"";let G;if(C.companyLogo&&(G=C.companyLogo),!G&&C.employer_logo&&(G=C.employer_logo),!G&&C.company_logo&&(G=C.company_logo),!G&&C.logo&&(G=C.logo),!G&&C.logo_url&&(G=C.logo_url),!G&&Y&&(Y.logo&&(G=Y.logo),!G&&Y.logo_url&&(G=Y.logo_url),!G&&Y.company_logo&&(G=Y.company_logo),!G&&Y.employer_logo&&(G=Y.employer_logo)),!G&&C.employer&&typeof C.employer=="object"){const Ge=C.employer;Ge.logo&&(G=Ge.logo),!G&&Ge.logo_url&&(G=Ge.logo_url),!G&&Ge.company_logo&&(G=Ge.company_logo),!G&&Ge.employer_logo&&(G=Ge.employer_logo)}if(G)try{new URL(G).protocol.startsWith("http")||(G=void 0)}catch{G=void 0}let le="By agreement";const _e=C.job_min_salary||C.min_salary,Se=C.job_max_salary||C.max_salary,Le=C.job_salary_currency||C.salary_currency||"$",et=C.job_salary_period||C.salary_period||"yearly";if(_e&&Se&&typeof _e=="number"&&typeof Se=="number"){const Ge=et==="monthly"?"Monthly":"",gt=_e.toLocaleString(),Jt=Se.toLocaleString();["$","","","","",""].some(rr=>Le.includes(rr))?le=`${Le}${gt} - ${Le}${Jt}${Ge?`/${Ge}`:""}`:le=`${gt} - ${Jt} ${Le}${Ge?`/${Ge}`:""}`}else if(_e&&typeof _e=="number"){const Ge=_e.toLocaleString();le=["$","","","","",""].some(qr=>Le.includes(qr))?`${Le}${Ge}+`:`${Ge}+ ${Le}`}else C.salary&&typeof C.salary=="string"&&(le=C.salary);const He=C.job_employment_type||C.employment_type||C.type||"FULLTIME",De=He.toUpperCase(),ut=bc[De]||bc[He]||He||"Full time";let pt="On-site";C.job_is_remote||C.is_remote||C.remote===!0?pt="Remote":ze!=null&&ze.toLowerCase().includes("hybrid")&&(pt="Hybrid");const jt=Fp(C),dt=Bp(c,jt);return{id:Ee,title:ze,company:pe,location:It,url:_r,company_logo:G,is_saved:O==null?void 0:O.includes(String(Ee)),salary:le,employment_type:ut,work_arrangement:pt,matchPercentage:dt}}).filter(C=>C!==null)}catch(C){return console.error("Error transforming jobs:",C),[]}},[it,O,c]),J=m.useMemo(()=>We.map(pe=>{const Ce=p.find(G=>(G.job_id||G.id)===pe.id);if(!Ce)return null;const lt=Fp(Ce),tt=Bc(lt);if(tt.length===0)return null;const It=L.length>0?Bp(L,tt):50;return{...pe,matchPercentage:It}}).filter(pe=>pe!==null).sort((pe,Ce)=>{const lt=pe.matchPercentage??0,tt=Ce.matchPercentage??0;return tt!==lt?tt-lt:(pe.id||"").localeCompare(Ce.id||"")}).slice(0,6),[We,p,L]),K=I.useMemo(()=>{if(!ge||ge.length===0)return[];try{return(ge||[]).map(C=>{const Y=C.company&&typeof C.company=="object"?C.company:null,Ee=C.job_id||C.id||"";if(!Ee||Ee.trim()==="")return console.warn("Skipping internship job without valid ID:",C),null;const ze=C.job_title||C.title||C.position||"Untitled Position",pe=(Y==null?void 0:Y.name)||(Y==null?void 0:Y.company_name)||C.companyName||C.employer_name||C.company_name||(typeof C.company=="string"?C.company:null)||"Unknown Company",Ce=C.job_city||C.city||(Y==null?void 0:Y.city)||"",lt=C.job_state||C.state||(Y==null?void 0:Y.state)||"",tt=C.job_country||C.country||(Y==null?void 0:Y.country)||"",It=C.jobLocation||C.location||(Y==null?void 0:Y.location)||[Ce,lt,tt].filter(Boolean).join(", ")||"Location not specified",_r=C.applyUrl||C.jobUrl||C.job_apply_link||C.apply_link||C.url||C.apply_url||C.company_url||(Y==null?void 0:Y.url)||"";let G;if(C.companyLogo&&(G=C.companyLogo),!G&&C.employer_logo&&(G=C.employer_logo),!G&&C.company_logo&&(G=C.company_logo),!G&&C.logo&&(G=C.logo),!G&&C.logo_url&&(G=C.logo_url),!G&&Y&&(Y.logo&&(G=Y.logo),!G&&Y.logo_url&&(G=Y.logo_url),!G&&Y.company_logo&&(G=Y.company_logo),!G&&Y.employer_logo&&(G=Y.employer_logo)),G)try{new URL(G).protocol.startsWith("http")||(G=void 0)}catch{G=void 0}let le="By agreement";const _e=C.job_min_salary||C.min_salary,Se=C.job_max_salary||C.max_salary,Le=C.job_salary_currency||C.salary_currency||"$",et=C.job_salary_period||C.salary_period||"yearly";if(_e&&Se&&typeof _e=="number"&&typeof Se=="number"){const Ge=et==="monthly"?"Monthly":"",gt=_e.toLocaleString(),Jt=Se.toLocaleString();["$","","","","",""].some(rr=>Le.includes(rr))?le=`${Le}${gt} - ${Le}${Jt}${Ge?`/${Ge}`:""}`:le=`${gt} - ${Jt} ${Le}${Ge?`/${Ge}`:""}`}else if(_e&&typeof _e=="number"){const Ge=_e.toLocaleString();le=["$","","","","",""].some(qr=>Le.includes(qr))?`${Le}${Ge}+`:`${Ge}+ ${Le}`}else C.salary&&typeof C.salary=="string"&&(le=C.salary);const He=C.job_employment_type||C.employment_type||C.type||"INTERN",De=He.toUpperCase(),ut=bc[De]||bc[He]||He||"Intern";let pt="On-site";C.job_is_remote||C.is_remote||C.remote===!0?pt="Remote":ze!=null&&ze.toLowerCase().includes("hybrid")&&(pt="Hybrid");const jt=Fp(C),dt=Bp(c,jt);return{id:Ee,title:ze,company:pe,location:It,url:_r,company_logo:G,is_saved:O==null?void 0:O.includes(String(Ee)),salary:le,employment_type:ut,work_arrangement:pt,matchPercentage:dt}}).filter(C=>C!==null)}catch(C){return console.error("Error transforming internship jobs:",C),[]}},[ge,O,c]),re=m.useMemo(()=>K,[K]),we=I.useMemo(()=>{if(!F||F.length===0)return[];try{return(F||[]).map(C=>{const Y=C.company&&typeof C.company=="object"?C.company:null,Ee=C.job_id||C.id||"";if(!Ee||Ee.trim()==="")return console.warn("Skipping remote job without valid ID:",C),null;const ze=C.job_title||C.title||C.position||"Untitled Position",pe=(Y==null?void 0:Y.name)||(Y==null?void 0:Y.company_name)||C.companyName||C.employer_name||C.company_name||(typeof C.company=="string"?C.company:null)||"Unknown Company",Ce=C.job_city||C.city||(Y==null?void 0:Y.city)||"",lt=C.job_state||C.state||(Y==null?void 0:Y.state)||"",tt=C.job_country||C.country||(Y==null?void 0:Y.country)||"",It=C.jobLocation||C.location||(Y==null?void 0:Y.location)||[Ce,lt,tt].filter(Boolean).join(", ")||"Remote",_r=C.applyUrl||C.jobUrl||C.job_apply_link||C.apply_link||C.url||C.apply_url||C.company_url||(Y==null?void 0:Y.url)||"";let G;if(C.companyLogo&&(G=C.companyLogo),!G&&C.employer_logo&&(G=C.employer_logo),!G&&C.company_logo&&(G=C.company_logo),!G&&C.logo&&(G=C.logo),!G&&C.logo_url&&(G=C.logo_url),!G&&Y&&(Y.logo&&(G=Y.logo),!G&&Y.logo_url&&(G=Y.logo_url),!G&&Y.company_logo&&(G=Y.company_logo),!G&&Y.employer_logo&&(G=Y.employer_logo)),G)try{new URL(G).protocol.startsWith("http")||(G=void 0)}catch{G=void 0}let le="By agreement";const _e=C.job_min_salary||C.min_salary,Se=C.job_max_salary||C.max_salary,Le=C.job_salary_currency||C.salary_currency||"$",et=C.job_salary_period||C.salary_period||"yearly";if(_e&&Se&&typeof _e=="number"&&typeof Se=="number"){const dt=et==="monthly"?"Monthly":"",Ge=_e.toLocaleString(),gt=Se.toLocaleString();["$","","","","",""].some(hr=>Le.includes(hr))?le=`${Le}${Ge} - ${Le}${gt}${dt?`/${dt}`:""}`:le=`${Ge} - ${gt} ${Le}${dt?`/${dt}`:""}`}else if(_e&&typeof _e=="number"){const dt=_e.toLocaleString();le=["$","","","","",""].some(Jt=>Le.includes(Jt))?`${Le}${dt}+`:`${dt}+ ${Le}`}else C.salary&&typeof C.salary=="string"&&(le=C.salary);const He=C.job_employment_type||C.employment_type||C.type||"FULLTIME",De=He.toUpperCase(),ut=bc[De]||bc[He]||He||"Full time",pt="Remote",Qe=Fp(C),jt=Bp(c,Qe);return{id:Ee,title:ze,company:pe,location:It,url:_r,company_logo:G,is_saved:O==null?void 0:O.includes(String(Ee)),salary:le,employment_type:ut,work_arrangement:pt,matchPercentage:jt}}).filter(C=>C!==null)}catch(C){return console.error("Error transforming remote jobs:",C),[]}},[F,O,c]),Pe=m.useMemo(()=>we.filter(C=>{var Y,Ee;return((Y=C.employment_type)==null?void 0:Y.toLowerCase())!=="intern"&&((Ee=C.employment_type)==null?void 0:Ee.toLowerCase())!=="internship"}),[we]);m.useEffect(()=>{console.log(" JobsPage State:",{isLoading:V,isLoadingInternships:de,isLoadingRemote:be,error:ae==null?void 0:ae.message,internshipError:oe==null?void 0:oe.message,remoteError:Be==null?void 0:Be.message,jobsCount:it.length,internshipJobsRawCount:ge.length,transformedJobsCount:We.length,transformedInternshipJobsCount:K.length,transformedRemoteJobsCount:we.length,regularJobsCount:J.length,internJobsCount:re.length,remoteJobsCount:Pe.length,regularJobsPage:y,internshipJobsPage:j,remoteJobsPage:B,hasMoreRegularJobs:x,hasMoreInternshipJobs:E,hasMoreRemoteJobs:U,isLoadingMoreRegular:w,isLoadingMoreInternship:T,isLoadingMoreRemote:M})},[V,de,be,ae,oe,Be,it.length,ge.length,We.length,K.length,we.length,J.length,re.length,Pe.length,y,j,B,x,E,U,w,T,M]);const Te=m.useCallback((C,Y)=>{const Ee=new URLSearchParams;Y&&Ee.set("search",Y),C.countries.length>0&&Ee.set("countries",C.countries.join(",")),C.skills.length>0&&Ee.set("skills",C.skills.join(",")),C.jobTypes.length>0&&Ee.set("jobTypes",C.jobTypes.join(",")),C.isRemote&&Ee.set("isRemote","true"),C.datePosted&&Ee.set("datePosted",C.datePosted),n(`/jobs/search?${Ee.toString()}`)},[n]),Je=C=>{const Y={...R,jobTypes:C};q(Y),ue(Y)},$e=C=>{const Y={...R,isRemote:C};q(Y),ue(Y)},Ze=()=>{console.log(" Applying filters:",ce),q(ce),l(!1),Te(ce,ee)},he=()=>{const C={country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1};ue(C),q(C),l(!1)},Me=async C=>{try{return(await $a.fetchActiveJobs({query:C,filters:{country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[C]},page:1,pageSize:50})).jobs.length}catch(Y){return console.error(`Error fetching job count for skill ${C}:`,Y),0}},Re=Yt({queryKey:["skillJobCounts",c.join(",")],queryFn:async()=>{const C={};return await Promise.all(c.map(async Y=>{C[Y]=await Me(Y)})),C},enabled:c.length>0&&!f,staleTime:5*60*1e3,refetchOnWindowFocus:!1});return s.jsxs(At,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:s.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] border-2 border-breneo-accent dark:border-gray-600 rounded-3xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-2.5 md:py-3 overflow-visible min-h-[3rem]",children:[s.jsx(Sr,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),s.jsx(st,{placeholder:"",value:ee,onChange:C=>nt(C.target.value),onKeyDown:yt,className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),s.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:s.jsx(tN,{selectedWorkTypes:R.jobTypes,onWorkTypesChange:Je,isRemote:R.isRemote,onRemoteChange:$e,placeholder:" "})})]}),(()=>{const C=ie(R);return s.jsxs(te,{variant:"outline",size:"icon",onClick:()=>l(!0),className:"h-10 w-10 flex-shrink-0 bg-gray-100 dark:bg-gray-700 border-0 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md ml-2 relative","aria-label":"Filter jobs",children:[s.jsx(vk,{className:"h-4 w-4",strokeWidth:2}),C>0&&s.jsx(jr,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:C})]})})(),s.jsx(te,{variant:"default",size:"icon",onClick:rt,className:"h-10 w-10 flex-shrink-0 bg-breneo-blue hover:bg-breneo-blue/90 rounded-md ml-2","aria-label":"Search",children:s.jsx(Fl,{className:"h-5 w-5 text-white"})})]})}),f?s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-bold mb-4",children:"Your Skills"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[...Array(5)].map((C,Y)=>s.jsx(je,{className:"border border-gray-200",children:s.jsxs(ke,{className:"p-4 flex flex-col items-start",children:[s.jsx(Pt,{className:"h-8 w-8 mb-3 rounded"}),s.jsx(Pt,{className:"h-4 w-24 mb-1"}),s.jsx(Pt,{className:"h-3 w-16"})]})},Y))})]}):c.length>0?s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-bold mb-4",children:"Your Skills"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:c.map((C,Y)=>{var lt;const Ee=BPe(C),ze=UPe(C,Y),pe=((lt=Re.data)==null?void 0:lt[C])!==void 0?Re.data[C]:null,Ce=Re.isLoading;return s.jsx(je,{className:"cursor-pointer transition-all duration-200 border border-gray-200 hover:border-gray-400 rounded-3xl",onClick:()=>{if(!R.skills.includes(C)){const tt={...R,skills:[...R.skills,C]};q(tt),ue(tt),Te(tt,ee)}},children:s.jsxs(ke,{className:"p-4 flex flex-col items-start",children:[s.jsx(Ee,{className:`h-8 w-8 ${ze} mb-3`}),s.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:C}),s.jsx("p",{className:"text-xs text-gray-500",children:Ce?"Loading...":pe!==null?`${pe}${pe>=20?"+":""} Job${pe!==1?"s":""}`:"Click to filter"})]})},C)})})]}):null,(oe||Be)&&s.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-md flex items-center gap-3 mb-6",children:[s.jsx(Oo,{className:"h-5 w-5"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Error:"})," ",(oe==null?void 0:oe.message)||(Be==null?void 0:Be.message)]})]}),(de||be)&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((C,Y)=>s.jsx(je,{children:s.jsx(ke,{className:"p-5",children:s.jsx(Pt,{className:"h-32 w-full"})})},Y))}),!de&&!be&&re.length===0&&Pe.length===0&&s.jsxs("div",{className:"text-center p-10 border border-dashed rounded-3xl text-muted-foreground",children:[s.jsx("img",{src:"/lovable-uploads/3dicons-travel-front-color.png",alt:"No data found",className:"mx-auto h-48 w-48 mb-4 object-contain"}),s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No Jobs Found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search terms or filters"})]}),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 mt-12 pt-8 border-t border-gray-200 dark:border-gray-700",children:[s.jsx(Ti,{className:"h-6 w-6 text-breneo-blue"}),s.jsx("h2",{className:"text-lg font-bold",children:"Remote Jobs"})]}),be&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((C,Y)=>s.jsx(je,{children:s.jsx(ke,{className:"p-5",children:s.jsx(Pt,{className:"h-32 w-full"})})},Y))}),Be&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 p-4 rounded-md flex items-center gap-3 mb-6",children:[s.jsx(Oo,{className:"h-5 w-5"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Error loading remote jobs:"})," ",(Be==null?void 0:Be.message)||"Unknown error occurred"]})]}),!be&&!Be&&Pe.length===0&&s.jsxs("div",{className:"text-center p-10 border border-dashed rounded-3xl text-muted-foreground mb-8",children:[s.jsx(Ti,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No Remote Jobs Found"}),s.jsx("p",{className:"text-sm",children:c.length>0?"No remote jobs match your skills. Try adjusting your filters or check back later.":"Complete the skill test to see remote jobs matching your skills, or check back later for available remote positions."})]}),!be&&Pe.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-8",children:Pe.map(C=>s.jsx(je,{className:"group flex flex-col transition-all duration-200 border border-gray-200 hover:border-gray-400 overflow-hidden rounded-3xl",children:s.jsxs(ke,{className:"p-5 flex flex-col flex-grow relative",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[C.company_logo?s.jsx("img",{src:C.company_logo,alt:`${C.company} logo`,className:"w-12 h-12 rounded-full object-cover border border-gray-200 absolute inset-0 z-10",loading:"lazy",onError:Y=>{var pe,Ce;const Ee=Y.target;Ee.onerror=null,Ee.style.display="none";const ze=(pe=Ee.parentElement)==null?void 0:pe.querySelector(".clearbit-logo");if(ze)ze.style.display="block",ze.style.zIndex="10";else{const lt=(Ce=Ee.parentElement)==null?void 0:Ce.querySelector(".logo-fallback");lt&&(lt.style.display="flex",lt.style.zIndex="10")}}}):null,C.company&&!C.company_logo?s.jsx("img",{src:`https://logo.clearbit.com/${encodeURIComponent(C.company)}`,alt:`${C.company} logo`,className:"w-12 h-12 rounded-full object-cover border border-gray-200 absolute inset-0 clearbit-logo",style:{zIndex:10},loading:"lazy",onError:Y=>{var pe;const Ee=Y.target;Ee.onerror=null,Ee.style.display="none";const ze=(pe=Ee.parentElement)==null?void 0:pe.querySelector(".logo-fallback");ze&&(ze.style.display="flex",ze.style.zIndex="10")}}):null,s.jsx("div",{className:`w-12 h-12 rounded-full bg-breneo-accent flex items-center justify-center logo-fallback absolute inset-0 ${C.company_logo||C.company&&!C.company_logo?"hidden":"flex"}`,style:{zIndex:C.company_logo||C.company&&!C.company_logo?0:10},children:s.jsx(Sr,{className:"h-6 w-6 text-white"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-base truncate",children:C.company}),C.matchPercentage!==void 0&&s.jsxs(jr,{variant:"secondary",className:"flex-shrink-0 bg-breneo-blue/10 text-breneo-blue border-breneo-blue/20 text-xs font-semibold",children:[C.matchPercentage,"% Match"]})]}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:C.location})]})]}),s.jsx("h4",{className:"font-bold text-lg mb-4 line-clamp-2",children:C.title}),s.jsxs("div",{className:"space-y-2 mb-4 md:mb-4 flex-grow pb-20 md:pb-0",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Dl,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:C.salary})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(zo,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:C.employment_type})]}),C.work_arrangement&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Sr,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:C.work_arrangement})]}),C.benefits&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(qC,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:C.benefits})]})]}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 bg-card flex items-center gap-2 shadow-lg",children:[s.jsx(te,{variant:"default",onClick:()=>{if(!C.id||C.id.trim()===""){se.error("Cannot open job: Invalid job ID"),console.error("Attempted to navigate to job with invalid ID:",C);return}const Y=encodeURIComponent(C.id);n(`/jobs/${Y}`)},className:"flex-1",disabled:!C.id||C.id.trim()==="",children:"View"}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>at.mutate(C),"aria-label":C.is_saved?"Unsave job":"Save job",className:fe("h-9 w-9 p-0 rounded-full border border-gray-300 text-gray-600 hover:bg-gray-50",C.is_saved?"text-red-500 border-red-200 bg-red-50":""),children:s.jsx(On,{className:`h-5 w-5 transition-colors ${C.is_saved?"text-red-500 fill-red-500 animate-heart-pop":""}`})})]})]})},C.id))}),U&&s.jsx("div",{className:"flex justify-center mt-6 mb-8",children:s.jsx(te,{onClick:qe,disabled:M,variant:"outline",className:"min-w-[200px]",children:M?s.jsxs(s.Fragment,{children:[s.jsx(ds,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Load More Remote Jobs"})})]})]}),!de&&re.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 mt-12 pt-8 border-t border-gray-200 dark:border-gray-700",children:[s.jsx(bi,{className:"h-6 w-6 text-breneo-blue"}),s.jsx("h2",{className:"text-lg font-bold",children:"Internship Opportunities"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-8",children:re.map(C=>s.jsx(je,{className:"group flex flex-col transition-all duration-200 border border-gray-200 hover:border-gray-400 overflow-hidden rounded-3xl",children:s.jsxs(ke,{className:"p-5 flex flex-col flex-grow relative",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[C.company_logo?s.jsx("img",{src:C.company_logo,alt:`${C.company} logo`,className:"w-12 h-12 rounded-full object-cover border border-gray-200 absolute inset-0 z-10",loading:"lazy",onError:Y=>{var pe,Ce;const Ee=Y.target;Ee.onerror=null,Ee.style.display="none";const ze=(pe=Ee.parentElement)==null?void 0:pe.querySelector(".clearbit-logo");if(ze)ze.style.display="block",ze.style.zIndex="10";else{const lt=(Ce=Ee.parentElement)==null?void 0:Ce.querySelector(".logo-fallback");lt&&(lt.style.display="flex",lt.style.zIndex="10")}}}):null,C.company&&!C.company_logo?s.jsx("img",{src:`https://logo.clearbit.com/${encodeURIComponent(C.company)}`,alt:`${C.company} logo`,className:"w-12 h-12 rounded-full object-cover border border-gray-200 absolute inset-0 clearbit-logo",style:{zIndex:10},loading:"lazy",onError:Y=>{var pe;const Ee=Y.target;Ee.onerror=null,Ee.style.display="none";const ze=(pe=Ee.parentElement)==null?void 0:pe.querySelector(".logo-fallback");ze&&(ze.style.display="flex",ze.style.zIndex="10")}}):null,s.jsx("div",{className:`w-12 h-12 rounded-full bg-breneo-accent flex items-center justify-center logo-fallback absolute inset-0 ${C.company_logo||C.company&&!C.company_logo?"hidden":"flex"}`,style:{zIndex:C.company_logo||C.company&&!C.company_logo?0:10},children:s.jsx(Sr,{className:"h-6 w-6 text-white"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-base truncate",children:C.company}),C.matchPercentage!==void 0&&s.jsxs(jr,{variant:"secondary",className:"flex-shrink-0 bg-breneo-blue/10 text-breneo-blue border-breneo-blue/20 text-xs font-semibold",children:[C.matchPercentage,"% Match"]})]}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:C.location})]})]}),s.jsx("h4",{className:"font-bold text-lg mb-4 line-clamp-2",children:C.title}),s.jsxs("div",{className:"space-y-2 mb-4 md:mb-4 flex-grow pb-20 md:pb-0",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Dl,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:C.salary})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(zo,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:C.employment_type})]}),C.work_arrangement&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Sr,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:C.work_arrangement})]}),C.benefits&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(qC,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:C.benefits})]})]}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 bg-card flex items-center gap-2 shadow-lg",children:[s.jsx(te,{variant:"default",onClick:()=>{if(!C.id||C.id.trim()===""){se.error("Cannot open job: Invalid job ID"),console.error("Attempted to navigate to job with invalid ID:",C);return}const Y=encodeURIComponent(C.id);n(`/jobs/${Y}`)},className:"flex-1",disabled:!C.id||C.id.trim()==="",children:"View"}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>at.mutate(C),"aria-label":C.is_saved?"Unsave job":"Save job",className:fe("h-9 w-9 p-0 rounded-full border border-gray-300 text-gray-600 hover:bg-gray-50",C.is_saved?"text-red-500 border-red-200 bg-red-50":""),children:s.jsx(On,{className:`h-5 w-5 transition-colors ${C.is_saved?"text-red-500 fill-red-500 animate-heart-pop":""}`})})]})]})},C.id))}),E&&s.jsx("div",{className:"flex justify-center mt-6 mb-8",children:s.jsx(te,{onClick:xe,disabled:T,variant:"outline",className:"min-w-[200px]",children:T?s.jsxs(s.Fragment,{children:[s.jsx(ds,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Load More Internships"})})]})]}),s.jsx(Z7,{isOpen:i,onClose:()=>l(!1),filters:ce,onFiltersChange:ue,onApply:Ze,onClear:he,userTopSkills:c})]})},eB=m.forwardRef(({value:e,size:t=60,strokeWidth:r=3,className:n,showLabel:a=!0,matchLabel:o,percentageTextSize:i="lg"},l)=>{const c=(t-r)/2,u=2*Math.PI*c,f=u-e/100*u,d=o||(e>=70?"GOOD MATCH":"FAIR MATCH"),h={sm:"text-xs",md:"text-sm",lg:"text-lg",xl:"text-xl"};return s.jsxs("div",{ref:l,className:fe("flex items-center gap-2",n),children:[a&&s.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:d}),s.jsxs("div",{className:"relative",style:{width:t,height:t},children:[s.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[s.jsx("circle",{cx:t/2,cy:t/2,r:c,fill:"none",stroke:"currentColor",strokeWidth:r,className:"text-gray-200/30 dark:text-gray-700/30"}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:`gradient-${t}-${Math.round(e)}`,x1:"0%",y1:"50%",x2:"100%",y2:"50%",gradientUnits:"objectBoundingBox",children:[s.jsx("stop",{offset:"0%",stopColor:"currentColor",stopOpacity:"1"}),s.jsx("stop",{offset:`${Math.min(100,Math.round(e))}%`,stopColor:"currentColor",stopOpacity:"1"}),s.jsx("stop",{offset:`${Math.min(100,Math.round(e)+5)}%`,stopColor:"currentColor",stopOpacity:"0"}),s.jsx("stop",{offset:"100%",stopColor:"currentColor",stopOpacity:"0"})]})}),s.jsx("circle",{cx:t/2,cy:t/2,r:c,fill:"none",stroke:`url(#gradient-${t}-${Math.round(e)})`,strokeWidth:r,strokeDasharray:u,strokeDashoffset:f,strokeLinecap:"round",className:"transition-all duration-500"})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("span",{className:fe("font-bold text-gray-700 dark:text-gray-300",h[i]),children:[Math.round(e),"%"]})})]})]})});eB.displayName="RadialProgress";const GPe={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern"},JPe=e=>{const t=[],r=[e.job_title||e.title||"",e.description||"",e.job_description||"",e.job_required_experience||e.required_experience||""].join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]};return Object.keys(n).forEach(a=>{n[a].some(i=>r.includes(i))&&t.push(a)}),[...new Set(t)]},YPe=(e,t)=>{if(t.length===0)return 50;if(e.length===0)return 0;const r=l=>l.toLowerCase().trim().replace(/\s+/g," "),n=e.map(r),a=t.map(r),o=n.filter(l=>a.some(c=>!!(l===c||l.includes(c)||c.includes(l)))),i=Math.round(o.length/a.length*100);return Math.min(i,100)},z4=e=>{if(!e)return new Date().toLocaleDateString("ka-GE");try{const t=new Date(e);return isNaN(t.getTime())?new Date().toLocaleDateString("ka-GE"):t.toLocaleDateString("ka-GE")}catch(t){return console.warn("Error parsing date:",e,t),new Date().toLocaleDateString("ka-GE")}},XPe=()=>{const{user:e}=lr(),t=tr(),r=ca(),[n,a]=Rv(),o=ma(),[i,l]=m.useState(!1),[c,u]=m.useState([]),[f,d]=m.useState("desc"),h=Yl(),y=n.get("search")||"",v=parseInt(n.get("page")||"1",10);m.useEffect(()=>{console.log(" JobSearchResultsPage loaded:",{searchTerm:y,page:v,searchParams:n.toString()})},[y,v,n]);const[p,g]=m.useState(()=>{const O=n.get("countries"),L=n.get("skills"),H=n.get("jobTypes"),X=n.get("isRemote"),V=n.get("datePosted"),ae=n.get("salaryMin"),Z=n.get("salaryMax"),de=n.get("salaryByAgreement");return{country:"Georgia",countries:O?O.split(",").filter(Boolean):[],jobTypes:H?H.split(",").filter(Boolean):[],isRemote:X==="true",datePosted:V||void 0,skills:L?L.split(",").filter(Boolean):[],salaryMin:ae?parseInt(ae,10):void 0,salaryMax:Z?parseInt(Z,10):void 0,salaryByAgreement:de==="true"}});m.useEffect(()=>{const O=n.get("countries"),L=n.get("skills"),H=n.get("jobTypes"),X=n.get("isRemote"),V=n.get("datePosted"),ae=n.get("salaryMin"),Z=n.get("salaryMax"),de=n.get("salaryByAgreement");g({country:"Georgia",countries:O?O.split(",").filter(Boolean):[],jobTypes:H?H.split(",").filter(Boolean):[],isRemote:X==="true",datePosted:V||void 0,skills:L?L.split(",").filter(Boolean):[],salaryMin:ae?parseInt(ae,10):void 0,salaryMax:Z?parseInt(Z,10):void 0,salaryByAgreement:de==="true"})},[n]);const[x,b]=m.useState(p),w=O=>{let L=0;return O.countries.length>0&&(L+=O.countries.length),O.jobTypes.length>0&&(L+=O.jobTypes.length),O.isRemote&&(L+=1),O.datePosted&&(L+=1),O.skills.length>0&&(L+=O.skills.length),(O.salaryMin!==void 0||O.salaryMax!==void 0)&&(L+=1),O.salaryByAgreement&&(L+=1),L},{data:S=[]}=Yt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var O;if(!e)return[];try{return(((O=(await Ae.get(ht.AUTH.PROFILE)).data)==null?void 0:O.saved_jobs)||[]).map(X=>String(X))}catch(L){return console.error("Error fetching saved jobs:",L),[]}},enabled:!!e});m.useEffect(()=>{(async()=>{if(e)try{try{const H=await Ae.get("/api/skilltest/results/");if(H.data&&Array.isArray(H.data)&&H.data.length>0){const V=H.data[0].skills_json,ae=[];V!=null&&V.tech&&ae.push(...Object.keys(V.tech)),V!=null&&V.soft&&ae.push(...Object.keys(V.soft));const Z=ae.slice(0,5);u(Z);return}}catch{console.log("API endpoint not available, trying Supabase...")}const L=await Ql(String(e.id));if(L&&L.length>0){const H=Zl(L),V=i0(H,5).map(ae=>ae.skill);u(V)}}catch(L){console.error("Error fetching user skills:",L)}})()},[e]);const j=async(O,L,H,X)=>{try{const V=X.length>0&&L.skills.length>0&&X.every(oe=>L.skills.includes(oe))&&L.skills.length===X.length,ae={...L,skills:V?[]:L.skills},Z=await $a.fetchActiveJobs({query:O||"",filters:ae,page:H,pageSize:12});if(!Z||!Array.isArray(Z.jobs))return{jobs:[],hasMore:!1,total:0};let de=Z.jobs.filter(oe=>{const ye=oe.job_id||oe.id;return ye&&ye.trim()!==""});return(L.salaryMin!==void 0||L.salaryMax!==void 0||L.salaryByAgreement)&&(de=de.filter(oe=>{const ye=oe.job_min_salary||oe.min_salary,be=oe.job_max_salary||oe.max_salary;return L.salaryByAgreement&&!ye&&!be?!0:!ye&&!be&&!L.salaryByAgreement?!(L.salaryMin!==void 0||L.salaryMax!==void 0):!(L.salaryMin!==void 0&&be&&be<L.salaryMin||L.salaryMax!==void 0&&ye&&ye>L.salaryMax)})),L.isRemote&&(de=de.filter(oe=>oe.job_is_remote||oe.is_remote||oe.remote===!0)),{jobs:de,hasMore:Z.hasMore??!1,total:Z.total??de.length}}catch(V){throw console.error("Error fetching jobs:",V),V}},k=m.useMemo(()=>JSON.stringify({countries:p.countries.sort(),skills:p.skills.sort(),jobTypes:p.jobTypes.sort(),isRemote:p.isRemote,datePosted:p.datePosted,salaryMin:p.salaryMin,salaryMax:p.salaryMax,salaryByAgreement:p.salaryByAgreement}),[p]),{data:_={jobs:[],hasMore:!1,total:0},isLoading:N,error:E}=Yt({queryKey:["job-search",y,k,v,c.join(",")],queryFn:()=>j(y,p,v,c),enabled:!!e,staleTime:5*60*1e3,retry:1}),A=m.useMemo(()=>{const O=_.jobs||[],L=Lf(O);return Do(L)},[_.jobs]),T=_.hasMore||!1,D=A.length,B=m.useMemo(()=>!A||A.length===0?[]:A.map(O=>{const L=O.job_id||O.id||"";if(!L||L.trim()==="")return null;const H=O.job_title||O.title||O.position||"Untitled Position",X=O.employer_name||O.company_name||(typeof O.company=="string"?O.company:null)||"Unknown Company",V=O.job_city||O.city||"",ae=O.job_state||O.state||"",Z=O.job_country||O.country||"",de=O.job_location||O.location||[V,ae,Z].filter(Boolean).join(", ")||"Location not specified",oe=O.job_apply_link||O.apply_link||O.url||O.apply_url||"";let ye=O.employer_logo||O.company_logo||O.logo||O.logo_url;if(ye)try{new URL(ye).protocol.startsWith("http")||(ye=void 0)}catch{ye=void 0}let be="By agreement";const Be=O.job_min_salary||O.min_salary,it=O.job_max_salary||O.max_salary,ge=O.job_salary_currency||O.salary_currency||"$",xe=O.job_salary_period||O.salary_period||"yearly";if(Be&&it&&typeof Be=="number"&&typeof it=="number"){const re=xe==="monthly"?"Monthly":"",we=Be.toLocaleString(),Pe=it.toLocaleString();["$","","","","",""].some($e=>ge.includes($e))?be=`${ge}${we} - ${ge}${Pe}${re?`/${re}`:""}`:be=`${we} - ${Pe} ${ge}${re?`/${re}`:""}`}else if(Be&&typeof Be=="number"){const re=Be.toLocaleString();be=["$","","","","",""].some(Te=>ge.includes(Te))?`${ge}${re}+`:`${re}+ ${ge}`}else O.salary&&typeof O.salary=="string"&&(be=O.salary);const qe=O.job_employment_type||O.employment_type||O.type||"FULLTIME",rt=GPe[qe]||qe||"Full time";let nt="On-site";O.job_is_remote||O.is_remote||O.remote===!0?nt="Remote":H!=null&&H.toLowerCase().includes("hybrid")&&(nt="Hybrid");const at=JPe(O),We=YPe(c,at),J=O,K=O.job_posted_at_datetime_utc||O.date_posted||O.posted_date||O.postedAt||O.job_posted_at||J.job_publish_timestamp||J.publish_time||O.created_at||O.published_at||void 0;return{id:L,title:H,company:X,location:String(de),url:oe,company_logo:ye,is_saved:S==null?void 0:S.includes(String(L)),salary:be,employment_type:rt,work_arrangement:nt,matchPercentage:We,datePosted:K,jobSkills:at}}).filter(O=>O!==null),[A,S,c]),z=m.useMemo(()=>[...B].sort((L,H)=>{if(!L.datePosted&&!H.datePosted)return 0;if(!L.datePosted)return 1;if(!H.datePosted)return-1;const X=new Date(L.datePosted).getTime(),V=new Date(H.datePosted).getTime();return f==="desc"?V-X:X-V}),[B,f]),F=mo({mutationFn:async O=>{if(!e)throw new Error("User not logged in");if(!O.id)throw new Error("Job ID is required");const L=String(O.id);O.is_saved;try{const H=`${ht.JOBS.SAVE_JOB}${L}/`;await Ae.post(H)}catch(H){const X=H instanceof Error?H.message:"Failed to save job. Please try again.";throw new Error(X)}},onSuccess:(O,L)=>{r.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile"]}),se.success(L.is_saved?"Job Unsaved":"Job Saved")},onError:O=>{console.error("Error saving job:",O);const L=O instanceof Error?O.message:"Failed to save job";se.error(L)}}),$=(O,L,H)=>{const X=new URLSearchParams;L&&X.set("search",L),H>1&&X.set("page",String(H)),O.countries.length>0&&X.set("countries",O.countries.join(",")),O.skills.length>0&&X.set("skills",O.skills.join(",")),O.jobTypes.length>0&&X.set("jobTypes",O.jobTypes.join(",")),O.isRemote&&X.set("isRemote","true"),O.datePosted&&X.set("datePosted",O.datePosted),O.salaryMin!==void 0&&X.set("salaryMin",String(O.salaryMin)),O.salaryMax!==void 0&&X.set("salaryMax",String(O.salaryMax)),O.salaryByAgreement&&X.set("salaryByAgreement","true"),a(X,{replace:!0})},U=O=>{$(p,O,1)},P=()=>{g(x),$(x,y,1),l(!1)},M=()=>{const O={country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},L=1;b(O),g(O),$(O,y,L),l(!1)},W=()=>{const O=v+1;$(p,y,O),window.scrollTo({top:0,behavior:"smooth"})},R=()=>{const O=Math.max(1,v-1);$(p,y,O),window.scrollTo({top:0,behavior:"smooth"})},q=T&&B.length>0,ee=v>1,ne=B.length;let ce=1,ue=ne;if(D>0&&ne>0){const O=(v-1)*ne;ce=Math.min(O+1,D),ue=Math.min(O+ne,D)}else ne>0&&(ce=1,ue=ne);let ie=null;return D>0&&ne>0?ie=Math.ceil(D/ne):T?ie=v+1:B.length>0&&(ie=v),s.jsx(At,{children:s.jsxs("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] border border-gray-300 dark:border-gray-600 rounded-xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-3 md:py-4 overflow-visible min-h-[3.5rem] flex-1",children:[s.jsx(Sr,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),s.jsx(st,{type:"text",placeholder:h.jobs.searchPlaceholder,value:y,onChange:O=>U(O.target.value),className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!o&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),s.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:s.jsx(tN,{selectedWorkTypes:p.jobTypes,onWorkTypesChange:O=>{const L={...p,jobTypes:O};g(L),b(L),$(L,y,1)},isRemote:p.isRemote,onRemoteChange:O=>{const L={...p,isRemote:O};g(L),b(L),$(L,y,1)}})}),s.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),s.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:s.jsx(rx,{selectedLocations:p.countries,onLocationsChange:O=>{const L={...p,countries:O};g(L),b(L),$(L,y,1)}})})]})]}),(()=>{const O=w(p);return s.jsxs(te,{variant:"outline",onClick:()=>l(!0),className:"group flex items-center gap-2 bg-transparent border border-breneo-blue rounded-xl px-4 py-3 md:py-4 hover:bg-breneo-blue hover:text-white text-gray-900 dark:text-gray-100 whitespace-nowrap h-auto relative min-h-[3.5rem] transition-colors","aria-label":"Filter jobs",children:[s.jsx(vk,{className:"h-4 w-4 group-hover:text-white",strokeWidth:2}),s.jsx("span",{className:"hidden md:inline text-sm font-medium",children:h.jobs.filters}),O>0&&s.jsx(jr,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:O})]})})()]})}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:D>0?`${D} ${h.jobs.vacancies}`:`${B.length} ${h.jobs.vacancies}`})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(te,{variant:"outline",size:"sm",className:"h-9 px-2 md:px-3",onClick:()=>{d(O=>O==="desc"?"asc":"desc")},children:[s.jsx("span",{className:"text-xs md:text-sm whitespace-nowrap",children:o?f==="desc"?h.jobs.dateDescending:h.jobs.dateAscending:f==="desc"?h.jobs.dateDescendingFull:h.jobs.dateAscendingFull}),f==="desc"?s.jsx(tX,{className:"h-4 w-4 ml-1 md:ml-2"}):s.jsx(rX,{className:"h-4 w-4 ml-1 md:ml-2"})]})})]}),N?s.jsx("div",{className:"space-y-4",children:[...Array(6)].map((O,L)=>s.jsx(je,{className:"border border-gray-200",children:s.jsx(ke,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})})},L))}):E?s.jsx(je,{className:"border border-red-200",children:s.jsx(ke,{className:"p-6 text-center",children:s.jsx("p",{className:"text-red-600",children:h.jobs.errorLoading})})}):B.length===0?s.jsxs("div",{className:"text-center p-10 border border-dashed rounded-3xl text-muted-foreground",children:[s.jsx("img",{src:"/lovable-uploads/3dicons-travel-front-color.png",alt:"No data found",className:"mx-auto h-48 w-48 mb-4 object-contain"}),s.jsx("h4",{className:"text-lg font-semibold mb-2",children:h.jobs.noJobs}),s.jsx("p",{className:"text-sm",children:h.jobs.tryAdjustingFilters})]}):s.jsx("div",{className:"space-y-4",children:z.map(O=>s.jsx("div",{className:"group cursor-pointer",onClick:()=>t(`/jobs/${encodeURIComponent(O.id)}`),children:s.jsx(je,{className:"border border-gray-200 hover:shadow-md transition-shadow overflow-hidden rounded-lg",children:s.jsx(ke,{className:"p-0",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-1 p-4 pr-2 rounded-l-lg",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[O.company_logo?s.jsx("img",{src:O.company_logo,alt:O.company,className:"w-12 h-12 rounded-md object-cover border border-gray-300 absolute inset-0 z-10",onError:L=>{var V;const H=L.target;H.style.display="none";const X=(V=H.parentElement)==null?void 0:V.querySelector(".logo-fallback");X&&(X.style.display="flex",X.style.zIndex="10")}}):null,s.jsx("div",{className:`w-12 h-12 rounded-md bg-breneo-blue/10 flex items-center justify-center border border-gray-300 logo-fallback absolute inset-0 ${O.company_logo?"z-0":"z-10"}`,style:{display:O.company_logo?"none":"flex"},children:s.jsx(Sr,{className:"h-6 w-6 text-breneo-blue"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"mb-1 md:mb-2",children:[s.jsx("h3",{className:"font-normal text-sm text-gray-600 mb-1 line-clamp-1",children:O.company}),s.jsx("h4",{className:"font-bold text-base md:text-lg mb-1 md:mb-2 line-clamp-2 md:line-clamp-3",children:O.title})]}),o?s.jsxs("div",{className:"space-y-2 mt-1",children:[s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:"text-sm text-gray-600",children:O.location}),s.jsx("span",{className:"text-xs text-gray-500",children:z4(O.datePosted)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(te,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),F.mutate(O)},className:fe("h-9 w-9 p-0 rounded-full border border-gray-300 text-gray-600 hover:bg-gray-50 flex-shrink-0",O.is_saved?"text-red-500 border-red-200 bg-red-50":""),children:s.jsx(On,{className:`h-4 w-4 ${O.is_saved?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),s.jsxs(te,{variant:"default",size:"sm",onClick:L=>{L.stopPropagation(),O.url?window.open(O.url,"_blank"):t(`/jobs/${encodeURIComponent(O.id)}`)},className:"flex-1",children:["Apply Now",s.jsx(hh,{className:"h-4 w-4 ml-2"})]})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(vm,{className:"h-4 w-4"}),s.jsx("span",{children:O.location})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(zo,{className:"h-4 w-4"}),s.jsx("span",{children:O.employment_type})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Sr,{className:"h-4 w-4"}),s.jsx("span",{children:O.work_arrangement})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:z4(O.datePosted)}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(te,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),F.mutate(O)},className:fe("h-9 w-9 p-0 rounded-full border border-gray-300 text-gray-600 hover:bg-gray-50",O.is_saved?"text-red-500 border-red-200 bg-red-50":""),children:s.jsx(On,{className:`h-4 w-4 ${O.is_saved?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),s.jsxs(te,{variant:"default",size:"sm",onClick:L=>{L.stopPropagation(),O.url?window.open(O.url,"_blank"):t(`/jobs/${encodeURIComponent(O.id)}`)},children:["Apply Now",s.jsx(hh,{className:"h-4 w-4 ml-2"})]})]})]})]})]})]})}),O.matchPercentage!==void 0&&O.matchPercentage>0&&s.jsxs("div",{className:"w-56 flex-shrink-0 p-4 flex flex-col items-center justify-center relative rounded-2xl bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-gray-100",children:[s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("button",{onClick:L=>{L.stopPropagation()},className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:s.jsx("span",{className:"text-lg",children:""})})}),s.jsx("div",{className:"mb-3",children:s.jsx(eB,{value:O.matchPercentage,size:60,strokeWidth:3,showLabel:!1,percentageTextSize:"lg",className:"justify-center text-green-600"})}),s.jsx("div",{children:s.jsx("p",{className:"text-base font-bold text-center text-gray-800 dark:text-gray-200",children:O.matchPercentage>=70?"GOOD MATCH":O.matchPercentage>=40?"FAIR MATCH":"POOR MATCH"})})]})]})})})},O.id))}),!N&&B.length>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8 pt-6 border-t border-gray-200",children:[s.jsx("div",{className:"text-sm text-gray-600",children:D>0?s.jsxs(s.Fragment,{children:[h.jobs.showing," ",ce,"-",Math.min(ue,D)," ",h.jobs.of," ",D," ",h.jobs.vacancies]}):s.jsxs(s.Fragment,{children:[h.jobs.showing," ",B.length," ",h.jobs.vacancies]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(te,{variant:"outline",size:"sm",className:"h-9 px-4",onClick:R,disabled:!ee||N,children:[s.jsx(Kg,{className:"h-4 w-4 mr-1"}),h.jobs.previous]}),s.jsxs("div",{className:"flex items-center gap-1 px-2",children:[s.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[h.jobs.page," ",v]}),ie&&s.jsxs("span",{className:"text-sm text-gray-400",children:["/ ",ie]})]}),s.jsxs(te,{variant:"outline",size:"sm",className:"h-9 px-4",onClick:W,disabled:!q||N,children:[h.jobs.next,s.jsx(ja,{className:"h-4 w-4 ml-1"})]})]})]}),s.jsx(Z7,{isOpen:i,onClose:()=>l(!1),filters:x,onFiltersChange:b,onApply:P,onClear:M,userTopSkills:c})]})})};async function QPe(e){try{const t=e.trim().replace(/\s+/g," ");if(t.length<50)return{skills:[]};const r=6e3;let n=t;if(t.length>r){const o=t.lastIndexOf(" ",r);n=o>0?t.substring(0,o)+"...":t.substring(0,r)}try{const o=await ZPe(n);if(o&&o.length>0)return{skills:o}}catch(o){console.log("API skill extraction failed:",o)}return{skills:q4(n)}}catch(t){return console.error("Error extracting skills:",t),{skills:q4(e)}}}async function ZPe(e){var t,r,n;try{const a=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are an expert job analyst. Your task is to carefully analyze the job description and extract ONLY the skills that are ACTUALLY REQUIRED for this position.

IMPORTANT GUIDELINES:
1. Only extract skills that are explicitly stated as required, necessary, or essential
2. Look for keywords like: "required", "must have", "essential", "necessary", "proficiency in", "experience with", "knowledge of", "familiarity with"
3. DO NOT extract skills that are:
   - Only mentioned in passing or as examples
   - Listed as "nice to have" or "preferred" (unless they're also required)
   - Mentioned in company description or benefits section
   - Generic terms like "communication" unless explicitly required
   - Skills mentioned in "what we offer" or similar sections

4. Extract both technical skills (programming languages, frameworks, tools, technologies) AND soft skills (if explicitly required)
5. Use standard, professional skill names (e.g., "JavaScript" not "JS", "React" not "React.js")
6. Group related skills appropriately (e.g., "Node.js" not separate "Node" and "js")
7. Return ONLY a JSON array of skill names, nothing else

Think carefully: Is this skill truly required, or just mentioned? Only include skills that candidates MUST have to qualify for this job.

Example output: ["JavaScript", "React", "Node.js", "TypeScript", "REST APIs", "Git", "Team Leadership"]`},{role:"user",content:`Analyze this job description and extract ONLY the required skills:

${e.substring(0,6e3)}`}],max_tokens:800,temperature:.2})});if(a.ok){const i=((n=(r=(t=(await a.json()).choices)==null?void 0:t[0])==null?void 0:r.message)==null?void 0:n.content)||"";try{const l=i.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),c=JSON.parse(l);if(Array.isArray(c))return c.filter(u=>typeof u=="string"&&u.trim().length>0)}catch{const c=i.split(`
`).map(f=>f.trim()).filter(Boolean),u=[];for(const f of c){const d=f.replace(/^[-*]\s*/,"").replace(/^\d+\.\s*/,"").trim();d&&d.length<50&&u.push(d)}if(u.length>0)return u}}return null}catch{return null}}function q4(e){const t=e.toLowerCase(),r=new Set,n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi","pandas","numpy"],java:["java","spring","spring boot","maven","gradle"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net","asp.net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony","wordpress"],ruby:["ruby","rails","ruby on rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind","bootstrap"],sql:["sql","mysql","postgresql","mongodb","database","nosql"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],"machine learning":["machine learning","ml","deep learning","neural networks"],"data science":["data science","data analysis","data analytics"],"project management":["project management","agile","scrum","kanban"],"ui/ux":["ui/ux","ui design","ux design","user interface","user experience"],figma:["figma"],photoshop:["photoshop","adobe photoshop"],illustrator:["illustrator","adobe illustrator"],communication:["communication","communication skills","verbal communication"],leadership:["leadership","team leadership","lead"],teamwork:["teamwork","collaboration","team player"],"problem solving":["problem solving","problem-solving","analytical"],"time management":["time management","organizational skills"]};for(const[a,o]of Object.entries(n))for(const i of o)if(t.includes(i)){r.add(a);break}return Array.from(r).sort()}async function eAe(e){try{const t=e.trim().replace(/\s+/g," ");if(t.length<50)return{content:"No responsibilities information available."};try{const n=await rAe(t);if(n&&n.trim())return{content:V4(n.trim())}}catch(n){console.log("API extraction failed:",n)}const r=W4(t);return{content:V4(r)}}catch(t){return console.error("Error extracting responsibilities:",t),{content:W4(e),error:t instanceof Error?t.message:"Unknown error"}}}async function tAe(e){try{const t=e.trim().replace(/\s+/g," ");if(t.length<50)return{content:"No qualifications information available."};try{const n=await nAe(t);if(n&&n.trim())return{content:K4(n.trim())}}catch(n){console.log("API extraction failed:",n)}const r=H4(t);return{content:K4(r)}}catch(t){return console.error("Error extracting qualifications:",t),{content:H4(e),error:t instanceof Error?t.message:"Unknown error"}}}async function rAe(e){var t,r,n;try{const a=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are a job description analyzer. Extract and summarize ONLY the RESPONSIBILITIES, DUTIES, and DAILY TASKS from the job description.

CRITICAL FORMATTING REQUIREMENTS:
- Each responsibility MUST start on a NEW LINE
- Use bullet points () for each item
- Start each bullet point with " " (bullet space)
- Write complete, grammatically correct sentences
- Ensure 100% accuracy - do not add information not in the source text
- Be precise and exact - use the exact wording from the job description when possible

Focus on:
- What the person will do on a daily basis
- Key responsibilities and duties
- Main tasks and activities
- What the role entails

EXCLUDE:
- Qualifications, requirements, skills, education, and experience requirements
- Company information, mission, values
- Only include what the person will DO, not what they need to HAVE

Output format example:
 [First responsibility - complete sentence]
 [Second responsibility - complete sentence]
 [Third responsibility - complete sentence]

If no clear responsibilities are found, return "No specific responsibilities listed."`},{role:"user",content:e.substring(0,6e3)}],max_tokens:800,temperature:.3})});return a.ok&&((n=(r=(t=(await a.json()).choices)==null?void 0:t[0])==null?void 0:r.message)==null?void 0:n.content)||null}catch{return null}}async function nAe(e){var t,r,n;try{const a=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are a job description analyzer. Extract and summarize ONLY the QUALIFICATIONS, REQUIREMENTS, and WHAT CANDIDATES NEED TO HAVE from the job description.

CRITICAL FORMATTING REQUIREMENTS:
- Each qualification MUST start on a NEW LINE
- Use bullet points () for each item
- Start each bullet point with " " (bullet space)
- Write complete, grammatically correct sentences
- Ensure 100% accuracy - do not add information not in the source text
- Be precise and exact - use the exact wording from the job description when possible

Focus on:
- Required skills (technical and soft skills)
- Required experience (years, type)
- Education requirements (degree, certifications)
- Required qualifications and credentials
- What candidates must have or should have

EXCLUDE:
- Responsibilities, duties, and daily tasks
- Company information, mission, values
- Only include what the person needs to HAVE, not what they will DO

Output format example:
 [First qualification - complete sentence]
 [Second qualification - complete sentence]
 [Third qualification - complete sentence]

If no clear qualifications are found, return "No specific qualifications listed."`},{role:"user",content:e.substring(0,6e3)}],max_tokens:800,temperature:.3})});return a.ok&&((n=(r=(t=(await a.json()).choices)==null?void 0:t[0])==null?void 0:r.message)==null?void 0:n.content)||null}catch{return null}}function W4(e){const t=e.match(/[^.!?]+[.!?]+/g)||[e],r=["responsibilities","duties","will","will be","will have","primary","main","develop","design","manage","create","implement","analyze","collaborate","lead","work with","handle","ensure","maintain","build","deliver","support","coordinate","oversee","execute","perform","conduct","provide","assist","participate"],n=t.map((a,o)=>{const i=a.toLowerCase();let l=0;return r.forEach(c=>{const u=new RegExp(`\\b${c}\\b`,"gi"),f=i.match(u);f&&(l+=f.length*5)}),/required|must have|qualification|experience|years|degree|education|certification|skill|proficient/i.test(i)&&!/will|responsibilities|duties/i.test(i)&&(l-=5),/company|organization|founded|established|mission|vision|values|culture|opportunity to|join us/i.test(i)&&(l-=3),{sentence:a.trim(),score:l,index:o}}).filter(a=>a.score>0).sort((a,o)=>o.score-a.score).slice(0,10);return n.sort((a,o)=>a.index-o.index),n.length===0?"No specific responsibilities listed in the job description.":n.map(a=>a.sentence).join(" ")}function H4(e){const t=e.match(/[^.!?]+[.!?]+/g)||[e],r=["required","must have","must","need","should have","qualifications","requirements","experience","years of","degree","education","certification","certified","skills","proficient","expert","knowledge","familiar","expect","looking for","candidate","applicant","ideal candidate","minimum","at least","preferred","bachelor","master","phd","diploma"],n=t.map((a,o)=>{const i=a.toLowerCase();let l=0;return r.forEach(c=>{const u=new RegExp(`\\b${c}\\b`,"gi"),f=i.match(u);f&&(l+=f.length*8)}),/\d+\s*(year|years|yr|yrs|month|months)\s*(of|experience)/i.test(a)&&(l+=10),/javascript|python|java|react|node|sql|typescript|html|css|angular|vue|spring|django|flask|express|mongodb|postgresql|mysql|aws|azure|docker|kubernetes|git|agile|scrum/i.test(a)&&(l+=6),/will|responsibilities|duties|develop|design|manage|create|implement|handle|ensure/i.test(i)&&!/required|must|qualification|experience|skill/i.test(i)&&(l-=5),/company|organization|founded|established|mission|vision|values|culture|opportunity to|join us/i.test(i)&&(l-=3),{sentence:a.trim(),score:l,index:o}}).filter(a=>a.score>0).sort((a,o)=>o.score-a.score).slice(0,10);return n.sort((a,o)=>a.index-o.index),n.length===0?"No specific qualifications listed in the job description.":n.map(a=>a.sentence).join(" ")}function aAe(e){if(!e||e.length<10)return[];const t=new Set,r=e.toLowerCase(),n=["javascript","typescript","python","java","react","angular","vue","node.js","nodejs","express","django","flask","spring","sql","mongodb","postgresql","mysql","aws","azure","docker","kubernetes","git","html","css","sass","scss","tailwind","bootstrap","redux","graphql","rest api","agile","scrum","ci/cd","terraform","jenkins","linux","unix","php","ruby","go","rust","swift","kotlin","c++","c#",".net","machine learning","ai","data science","tableau","power bi","excel","salesforce","figma","adobe","photoshop","illustrator"];return n.forEach(i=>{if(new RegExp(`\\b${i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"gi").test(r)){const c=i.charAt(0).toUpperCase()+i.slice(1).replace(/\b\w/g,u=>u.toUpperCase());t.add(c)}}),[/(?:proficient|experienced|skilled|knowledge|expertise|familiar|strong)\s+(?:in|with|using)?\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)/gi,/(?:experience|knowledge)\s+(?:with|in|of)\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)/gi,/(?:must|should|required)\s+(?:have|be)\s+(?:experience|knowledge|skills?)\s+(?:in|with|using)?\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)/gi].forEach(i=>{const l=e.matchAll(i);for(const c of l)c[1]&&c[1].length>2&&c[1].length<50&&t.add(c[1].trim())}),e.split(/[\-*]\s*/).forEach(i=>{const l=i.trim();n.forEach(c=>{if(new RegExp(`\\b${c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"gi").test(l)){const f=c.charAt(0).toUpperCase()+c.slice(1).replace(/\b\w/g,d=>d.toUpperCase());t.add(f)}})}),Array.from(t).sort()}function V4(e){e=e.replace(/([^\n])([\-*]\s+)/g,`$1
$2`),e=e.replace(/^[\s]*[-*]\s+/gm," "),e=e.replace(/([.!?])\s*([]\s+)/g,`$1
$2`),e=e.replace(/(:)\s*([]\s+)/g,`$1
$2`),e=e.replace(/([]\s+[^\n]+?)(\s+[]\s+)/g,`$1
$2`),e=e.replace(/\n{3,}/g,`

`);const t=e.split(`
`),r=[];for(let n=0;n<t.length;n++){const a=t[n].trim();if(a)if(/^[]\s+/.test(a))r.push(a);else if(r.length>0&&!/^[]/.test(r[r.length-1])){const o=r[r.length-1];/[.!?]$/.test(o)?r.push(a):r[r.length-1]=o+" "+a}else r.push(a)}return r.join(`
`).trim()}function K4(e){e=e.replace(/([^\n])([\-*]\s+)/g,`$1
$2`),e=e.replace(/^[\s]*[-*]\s+/gm," "),e=e.replace(/([.!?])\s*([]\s+)/g,`$1
$2`),e=e.replace(/(:)\s*([]\s+)/g,`$1
$2`),e=e.replace(/([]\s+[^\n]+?)(\s+[]\s+)/g,`$1
$2`),e=e.replace(/\n{3,}/g,`

`);const t=e.split(`
`),r=[];for(let n=0;n<t.length;n++){const a=t[n].trim();if(a)if(/^[]\s+/.test(a))r.push(a);else if(r.length>0&&!/^[]/.test(r[r.length-1])){const o=r[r.length-1];/[.!?]$/.test(o)?r.push(a):r[r.length-1]=o+" "+a}else r.push(a)}return r.join(`
`).trim()}function oAe(e,t=globalThis==null?void 0:globalThis.document){const r=Ot(e);m.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var sAe="DismissableLayer",kj="dismissableLayer.update",iAe="dismissableLayer.pointerDownOutside",lAe="dismissableLayer.focusOutside",G4,tB=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rB=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(tB),[f,d]=m.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),v=ct(t,_=>d(_)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(g),b=f?p.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=x,j=dAe(_=>{const N=_.target,E=[...u.branches].some(A=>A.contains(N));!S||E||(a==null||a(_),i==null||i(_),_.defaultPrevented||l==null||l())},h),k=fAe(_=>{const N=_.target;[...u.branches].some(A=>A.contains(N))||(o==null||o(_),i==null||i(_),_.defaultPrevented||l==null||l())},h);return oAe(_=>{b===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(G4=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),J4(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=G4)}},[f,h,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),J4())},[f,u]),m.useEffect(()=>{const _=()=>y({});return document.addEventListener(kj,_),()=>document.removeEventListener(kj,_)},[]),s.jsx(Ke.div,{...c,ref:v,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,j.onPointerDownCapture)})});rB.displayName=sAe;var cAe="DismissableLayerBranch",uAe=m.forwardRef((e,t)=>{const r=m.useContext(tB),n=m.useRef(null),a=ct(t,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),s.jsx(Ke.div,{...e,ref:a})});uAe.displayName=cAe;function dAe(e,t=globalThis==null?void 0:globalThis.document){const r=Ot(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){nB(iAe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function fAe(e,t=globalThis==null?void 0:globalThis.document){const r=Ot(e),n=m.useRef(!1);return m.useEffect(()=>{const a=o=>{o.target&&!n.current&&nB(lAe,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function J4(){const e=new CustomEvent(kj);document.dispatchEvent(e)}function nB(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?dm(a,o):a.dispatchEvent(o)}var Gb="focusScope.autoFocusOnMount",Jb="focusScope.autoFocusOnUnmount",Y4={bubbles:!1,cancelable:!0},hAe="FocusScope",aB=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=m.useState(null),u=Ot(a),f=Ot(o),d=m.useRef(null),h=ct(t,p=>c(p)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let p=function(w){if(y.paused||!l)return;const S=w.target;l.contains(S)?d.current=S:Us(d.current,{select:!0})},g=function(w){if(y.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||Us(d.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Us(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),b.disconnect()}}},[n,l,y.paused]),m.useEffect(()=>{if(l){Q4.add(y);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(Gb,Y4);l.addEventListener(Gb,u),l.dispatchEvent(x),x.defaultPrevented||(mAe(xAe(oB(l)),{select:!0}),document.activeElement===p&&Us(l))}return()=>{l.removeEventListener(Gb,u),setTimeout(()=>{const x=new CustomEvent(Jb,Y4);l.addEventListener(Jb,f),l.dispatchEvent(x),x.defaultPrevented||Us(p??document.body,{select:!0}),l.removeEventListener(Jb,f),Q4.remove(y)},0)}}},[l,u,f,y]);const v=m.useCallback(p=>{if(!r&&!n||y.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(g&&x){const b=p.currentTarget,[w,S]=pAe(b);w&&S?!p.shiftKey&&x===S?(p.preventDefault(),r&&Us(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&Us(S,{select:!0})):x===b&&p.preventDefault()}},[r,n,y.paused]);return s.jsx(Ke.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});aB.displayName=hAe;function mAe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Us(n,{select:t}),document.activeElement!==r)return}function pAe(e){const t=oB(e),r=X4(t,e),n=X4(t.reverse(),e);return[r,n]}function oB(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function X4(e,t){for(const r of e)if(!gAe(r,{upTo:t}))return r}function gAe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function yAe(e){return e instanceof HTMLInputElement&&"select"in e}function Us(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&yAe(e)&&t&&e.select()}}var Q4=vAe();function vAe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Z4(e,t),e.unshift(t)},remove(t){var r;e=Z4(e,t),(r=e[0])==null||r.resume()}}}function Z4(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function xAe(e){return e.filter(t=>t.tagName!=="A")}var bAe="Portal",sB=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,o]=m.useState(!1);Er(()=>o(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?um.createPortal(s.jsx(Ke.div,{...n,ref:t}),i):null});sB.displayName=bAe;function wAe(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(d){const{scope:h,children:y,...v}=d,p=(h==null?void 0:h[e][c])||l,g=m.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:g,children:y})}function f(d,h){const y=(h==null?void 0:h[e][c])||l,v=m.useContext(y);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const a=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,SAe(a,...t)]}function SAe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Yb="rovingFocusGroup.onEntryFocus",jAe={bubbles:!1,cancelable:!0},ax="RovingFocusGroup",[Nj,iB,_Ae]=Mm(ax),[kAe,lB]=wAe(ax,[_Ae]),[NAe,EAe]=kAe(ax),cB=m.forwardRef((e,t)=>s.jsx(Nj.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Nj.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(CAe,{...e,ref:t})})}));cB.displayName=ax;var CAe=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=m.useRef(null),y=ct(t,h),v=yd(o),[p=null,g]=ho({prop:i,defaultProp:l,onChange:c}),[x,b]=m.useState(!1),w=Ot(u),S=iB(r),j=m.useRef(!1),[k,_]=m.useState(0);return m.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(Yb,w),()=>N.removeEventListener(Yb,w)},[w]),s.jsx(NAe,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:p,onItemFocus:m.useCallback(N=>g(N),[g]),onItemShiftTab:m.useCallback(()=>b(!0),[]),onFocusableItemAdd:m.useCallback(()=>_(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>_(N=>N-1),[]),children:s.jsx(Ke.div,{tabIndex:x||k===0?-1:0,"data-orientation":n,...d,ref:y,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{j.current=!0}),onFocus:Ie(e.onFocus,N=>{const E=!j.current;if(N.target===N.currentTarget&&E&&!x){const A=new CustomEvent(Yb,jAe);if(N.currentTarget.dispatchEvent(A),!A.defaultPrevented){const T=S().filter($=>$.focusable),D=T.find($=>$.active),B=T.find($=>$.id===p),F=[D,B,...T].filter(Boolean).map($=>$.ref.current);fB(F,f)}}j.current=!1}),onBlur:Ie(e.onBlur,()=>b(!1))})})}),uB="RovingFocusGroupItem",dB=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:o,...i}=e,l=oo(),c=o||l,u=EAe(uB,r),f=u.currentTabStopId===c,d=iB(r),{onFocusableItemAdd:h,onFocusableItemRemove:y}=u;return m.useEffect(()=>{if(n)return h(),()=>y()},[n,h,y]),s.jsx(Nj.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:s.jsx(Ke.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:Ie(e.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:Ie(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ie(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const p=TAe(v,u.orientation,u.dir);if(p!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=d().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")x.reverse();else if(p==="prev"||p==="next"){p==="prev"&&x.reverse();const b=x.indexOf(v.currentTarget);x=u.loop?OAe(x,b+1):x.slice(b+1)}setTimeout(()=>fB(x))}})})})});dB.displayName=uB;var PAe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function AAe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function TAe(e,t,r){const n=AAe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return PAe[n]}function fB(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function OAe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var RAe=cB,$Ae=dB,hB=Vv(),Xb=function(){},ox=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Xb,onWheelCapture:Xb,onTouchMoveCapture:Xb}),a=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,y=e.noIsolation,v=e.inert,p=e.allowPinchZoom,g=e.as,x=g===void 0?"div":g,b=e.gapMode,w=wm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,j=Hv([r,t]),k=Kt(Kt({},w),a);return m.createElement(m.Fragment,null,f&&m.createElement(S,{sideCar:hB,removeScrollBar:u,shards:d,noIsolation:y,inert:v,setCallbacks:o,allowPinchZoom:!!p,lockRef:r,gapMode:b}),i?m.cloneElement(m.Children.only(l),Kt(Kt({},k),{ref:j})):m.createElement(x,Kt({},k,{className:c,ref:j}),l))});ox.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ox.classNames={fullWidth:Nl,zeroRight:kl};var Ej=!1;if(typeof window<"u")try{var Up=Object.defineProperty({},"passive",{get:function(){return Ej=!0,!0}});window.addEventListener("test",Up,Up),window.removeEventListener("test",Up,Up)}catch{Ej=!1}var wc=Ej?{passive:!1}:!1,MAe=function(e){return e.tagName==="TEXTAREA"},mB=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!MAe(e)&&r[t]==="visible")},IAe=function(e){return mB(e,"overflowY")},LAe=function(e){return mB(e,"overflowX")},eR=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=pB(e,n);if(a){var o=gB(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},DAe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},FAe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},pB=function(e,t){return e==="v"?IAe(t):LAe(t)},gB=function(e,t){return e==="v"?DAe(t):FAe(t)},BAe=function(e,t){return e==="h"&&t==="rtl"?-1:1},UAe=function(e,t,r,n,a){var o=BAe(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,f=i>0,d=0,h=0;do{var y=gB(e,l),v=y[0],p=y[1],g=y[2],x=p-g-o*v;(v||x)&&pB(e,l)&&(d+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(d)<1||!a)||!f&&(Math.abs(h)<1||!a))&&(u=!0),u},zp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tR=function(e){return[e.deltaX,e.deltaY]},rR=function(e){return e&&"current"in e?e.current:e},zAe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},qAe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},WAe=0,Sc=[];function HAe(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),a=m.useState(WAe++)[0],o=m.useState(Sm)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Wv([e.lockRef.current],(e.shards||[]).map(rR),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=zp(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-x[0],S="deltaY"in p?p.deltaY:b[1]-x[1],j,k=p.target,_=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&_==="h"&&k.type==="range")return!1;var N=eR(_,k);if(!N)return!0;if(N?j=_:(j=_==="v"?"h":"v",N=eR(_,k)),!N)return!1;if(!n.current&&"changedTouches"in p&&(w||S)&&(n.current=j),!j)return!0;var E=n.current||j;return UAe(E,g,p,E==="h"?w:S,!0)},[]),c=m.useCallback(function(p){var g=p;if(!(!Sc.length||Sc[Sc.length-1]!==o)){var x="deltaY"in g?tR(g):zp(g),b=t.current.filter(function(j){return j.name===g.type&&(j.target===g.target||g.target===j.shadowParent)&&zAe(j.delta,x)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(rR).filter(Boolean).filter(function(j){return j.contains(g.target)}),S=w.length>0?l(g,w[0]):!i.current.noIsolation;S&&g.cancelable&&g.preventDefault()}}},[]),u=m.useCallback(function(p,g,x,b){var w={name:p,delta:g,target:x,should:b,shadowParent:VAe(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),f=m.useCallback(function(p){r.current=zp(p),n.current=void 0},[]),d=m.useCallback(function(p){u(p.type,tR(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,zp(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return Sc.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,wc),document.addEventListener("touchmove",c,wc),document.addEventListener("touchstart",f,wc),function(){Sc=Sc.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,wc),document.removeEventListener("touchmove",c,wc),document.removeEventListener("touchstart",f,wc)}},[]);var y=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(o,{styles:qAe(a)}):null,y?m.createElement(Jv,{gapMode:e.gapMode}):null)}function VAe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const KAe=Kv(hB,HAe);var yB=m.forwardRef(function(e,t){return m.createElement(ox,Kt({},e,{ref:t,sideCar:KAe}))});yB.classNames=ox.classNames;var Cj=["Enter"," "],GAe=["ArrowDown","PageUp","Home"],vB=["ArrowUp","PageDown","End"],JAe=[...GAe,...vB],YAe={ltr:[...Cj,"ArrowRight"],rtl:[...Cj,"ArrowLeft"]},XAe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lm="Menu",[Zh,QAe,ZAe]=Mm(Lm),[ac,xB]=fa(Lm,[ZAe,cd,lB]),sx=cd(),bB=lB(),[eTe,oc]=ac(Lm),[tTe,Dm]=ac(Lm),wB=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:o,modal:i=!0}=e,l=sx(t),[c,u]=m.useState(null),f=m.useRef(!1),d=Ot(o),h=yd(a);return m.useEffect(()=>{const y=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(_I,{...l,children:s.jsx(eTe,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:s.jsx(tTe,{scope:t,onClose:m.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:i,children:n})})})};wB.displayName=Lm;var rTe="MenuAnchor",nN=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=sx(r);return s.jsx(V_,{...a,...n,ref:t})});nN.displayName=rTe;var aN="MenuPortal",[nTe,SB]=ac(aN,{forceMount:void 0}),jB=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,o=oc(aN,t);return s.jsx(nTe,{scope:t,forceMount:r,children:s.jsx(Mn,{present:r||o.open,children:s.jsx(sB,{asChild:!0,container:a,children:n})})})};jB.displayName=aN;var Ta="MenuContent",[aTe,oN]=ac(Ta),_B=m.forwardRef((e,t)=>{const r=SB(Ta,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=oc(Ta,e.__scopeMenu),i=Dm(Ta,e.__scopeMenu);return s.jsx(Zh.Provider,{scope:e.__scopeMenu,children:s.jsx(Mn,{present:n||o.open,children:s.jsx(Zh.Slot,{scope:e.__scopeMenu,children:i.modal?s.jsx(oTe,{...a,ref:t}):s.jsx(sTe,{...a,ref:t})})})})}),oTe=m.forwardRef((e,t)=>{const r=oc(Ta,e.__scopeMenu),n=m.useRef(null),a=ct(t,n);return m.useEffect(()=>{const o=n.current;if(o)return Yv(o)},[]),s.jsx(sN,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ie(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),sTe=m.forwardRef((e,t)=>{const r=oc(Ta,e.__scopeMenu);return s.jsx(sN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),sN=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:y,disableOutsideScroll:v,...p}=e,g=oc(Ta,r),x=Dm(Ta,r),b=sx(r),w=bB(r),S=QAe(r),[j,k]=m.useState(null),_=m.useRef(null),N=ct(t,_,g.onContentChange),E=m.useRef(0),A=m.useRef(""),T=m.useRef(0),D=m.useRef(null),B=m.useRef("right"),z=m.useRef(0),F=v?yB:m.Fragment,$=v?{as:Ei,allowPinchZoom:!0}:void 0,U=M=>{var ie,O;const W=A.current+M,R=S().filter(L=>!L.disabled),q=document.activeElement,ee=(ie=R.find(L=>L.ref.current===q))==null?void 0:ie.textValue,ne=R.map(L=>L.textValue),ce=vTe(ne,W,ee),ue=(O=R.find(L=>L.textValue===ce))==null?void 0:O.ref.current;(function L(H){A.current=H,window.clearTimeout(E.current),H!==""&&(E.current=window.setTimeout(()=>L(""),1e3))})(W),ue&&setTimeout(()=>ue.focus())};m.useEffect(()=>()=>window.clearTimeout(E.current),[]),G2();const P=m.useCallback(M=>{var R,q;return B.current===((R=D.current)==null?void 0:R.side)&&bTe(M,(q=D.current)==null?void 0:q.area)},[]);return s.jsx(aTe,{scope:r,searchRef:A,onItemEnter:m.useCallback(M=>{P(M)&&M.preventDefault()},[P]),onItemLeave:m.useCallback(M=>{var W;P(M)||((W=_.current)==null||W.focus(),k(null))},[P]),onTriggerLeave:m.useCallback(M=>{P(M)&&M.preventDefault()},[P]),pointerGraceTimerRef:T,onPointerGraceIntentChange:m.useCallback(M=>{D.current=M},[]),children:s.jsx(F,{...$,children:s.jsx(aB,{asChild:!0,trapped:a,onMountAutoFocus:Ie(o,M=>{var W;M.preventDefault(),(W=_.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:s.jsx(rB,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:y,children:s.jsx(RAe,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:k,onEntryFocus:Ie(c,M=>{x.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(K_,{role:"menu","aria-orientation":"vertical","data-state":BB(g.open),"data-radix-menu-content":"",dir:x.dir,...b,...p,ref:N,style:{outline:"none",...p.style},onKeyDown:Ie(p.onKeyDown,M=>{const R=M.target.closest("[data-radix-menu-content]")===M.currentTarget,q=M.ctrlKey||M.altKey||M.metaKey,ee=M.key.length===1;R&&(M.key==="Tab"&&M.preventDefault(),!q&&ee&&U(M.key));const ne=_.current;if(M.target!==ne||!JAe.includes(M.key))return;M.preventDefault();const ue=S().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);vB.includes(M.key)&&ue.reverse(),gTe(ue)}),onBlur:Ie(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(E.current),A.current="")}),onPointerMove:Ie(e.onPointerMove,em(M=>{const W=M.target,R=z.current!==M.clientX;if(M.currentTarget.contains(W)&&R){const q=M.clientX>z.current?"right":"left";B.current=q,z.current=M.clientX}}))})})})})})})});_B.displayName=Ta;var iTe="MenuGroup",iN=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ke.div,{role:"group",...n,ref:t})});iN.displayName=iTe;var lTe="MenuLabel",kB=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ke.div,{...n,ref:t})});kB.displayName=lTe;var rv="MenuItem",nR="menu.itemSelect",ix=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,o=m.useRef(null),i=Dm(rv,e.__scopeMenu),l=oN(rv,e.__scopeMenu),c=ct(t,o),u=m.useRef(!1),f=()=>{const d=o.current;if(!r&&d){const h=new CustomEvent(nR,{bubbles:!0,cancelable:!0});d.addEventListener(nR,y=>n==null?void 0:n(y),{once:!0}),dm(d,h),h.defaultPrevented?u.current=!1:i.onClose()}};return s.jsx(NB,{...a,ref:c,disabled:r,onClick:Ie(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:Ie(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:Ie(e.onKeyDown,d=>{const h=l.searchRef.current!=="";r||h&&d.key===" "||Cj.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});ix.displayName=rv;var NB=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...o}=e,i=oN(rv,r),l=bB(r),c=m.useRef(null),u=ct(t,c),[f,d]=m.useState(!1),[h,y]=m.useState("");return m.useEffect(()=>{const v=c.current;v&&y((v.textContent??"").trim())},[o.children]),s.jsx(Zh.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx($Ae,{asChild:!0,...l,focusable:!n,children:s.jsx(Ke.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:Ie(e.onPointerMove,em(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ie(e.onPointerLeave,em(v=>i.onItemLeave(v))),onFocus:Ie(e.onFocus,()=>d(!0)),onBlur:Ie(e.onBlur,()=>d(!1))})})})}),cTe="MenuCheckboxItem",EB=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(OB,{scope:e.__scopeMenu,checked:r,children:s.jsx(ix,{role:"menuitemcheckbox","aria-checked":nv(r)?"mixed":r,...a,ref:t,"data-state":cN(r),onSelect:Ie(a.onSelect,()=>n==null?void 0:n(nv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});EB.displayName=cTe;var CB="MenuRadioGroup",[uTe,dTe]=ac(CB,{value:void 0,onValueChange:()=>{}}),PB=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,o=Ot(n);return s.jsx(uTe,{scope:e.__scopeMenu,value:r,onValueChange:o,children:s.jsx(iN,{...a,ref:t})})});PB.displayName=CB;var AB="MenuRadioItem",TB=m.forwardRef((e,t)=>{const{value:r,...n}=e,a=dTe(AB,e.__scopeMenu),o=r===a.value;return s.jsx(OB,{scope:e.__scopeMenu,checked:o,children:s.jsx(ix,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":cN(o),onSelect:Ie(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});TB.displayName=AB;var lN="MenuItemIndicator",[OB,fTe]=ac(lN,{checked:!1}),RB=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,o=fTe(lN,r);return s.jsx(Mn,{present:n||nv(o.checked)||o.checked===!0,children:s.jsx(Ke.span,{...a,ref:t,"data-state":cN(o.checked)})})});RB.displayName=lN;var hTe="MenuSeparator",$B=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ke.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});$B.displayName=hTe;var mTe="MenuArrow",MB=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=sx(r);return s.jsx(G_,{...a,...n,ref:t})});MB.displayName=mTe;var pTe="MenuSub",[x$e,IB]=ac(pTe),bf="MenuSubTrigger",LB=m.forwardRef((e,t)=>{const r=oc(bf,e.__scopeMenu),n=Dm(bf,e.__scopeMenu),a=IB(bf,e.__scopeMenu),o=oN(bf,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},f=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>f,[f]),m.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),s.jsx(nN,{asChild:!0,...u,children:s.jsx(NB,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":BB(r.open),...e,ref:_v(t,a.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ie(e.onPointerMove,em(d=>{o.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Ie(e.onPointerLeave,em(d=>{var y,v;f();const h=(y=r.content)==null?void 0:y.getBoundingClientRect();if(h){const p=(v=r.content)==null?void 0:v.dataset.side,g=p==="right",x=g?-5:5,b=h[g?"left":"right"],w=h[g?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+x,y:d.clientY},{x:b,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:b,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(e.onKeyDown,d=>{var y;const h=o.searchRef.current!=="";e.disabled||h&&d.key===" "||YAe[n.dir].includes(d.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),d.preventDefault())})})})});LB.displayName=bf;var DB="MenuSubContent",FB=m.forwardRef((e,t)=>{const r=SB(Ta,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=oc(Ta,e.__scopeMenu),i=Dm(Ta,e.__scopeMenu),l=IB(DB,e.__scopeMenu),c=m.useRef(null),u=ct(t,c);return s.jsx(Zh.Provider,{scope:e.__scopeMenu,children:s.jsx(Mn,{present:n||o.open,children:s.jsx(Zh.Slot,{scope:e.__scopeMenu,children:s.jsx(sN,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;i.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ie(e.onFocusOutside,f=>{f.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ie(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:Ie(e.onKeyDown,f=>{var y;const d=f.currentTarget.contains(f.target),h=XAe[i.dir].includes(f.key);d&&h&&(o.onOpenChange(!1),(y=l.trigger)==null||y.focus(),f.preventDefault())})})})})})});FB.displayName=DB;function BB(e){return e?"open":"closed"}function nv(e){return e==="indeterminate"}function cN(e){return nv(e)?"indeterminate":e?"checked":"unchecked"}function gTe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function yTe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function vTe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=yTe(e,Math.max(o,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function xTe(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,f=t[i].y;c>n!=f>n&&r<(u-l)*(n-c)/(f-c)+l&&(a=!a)}return a}function bTe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return xTe(r,t)}function em(e){return t=>t.pointerType==="mouse"?e(t):void 0}var wTe=wB,STe=nN,jTe=jB,_Te=_B,kTe=iN,NTe=kB,ETe=ix,CTe=EB,PTe=PB,ATe=TB,TTe=RB,OTe=$B,RTe=MB,$Te=LB,MTe=FB,uN="DropdownMenu",[ITe,b$e]=fa(uN,[xB]),In=xB(),[LTe,UB]=ITe(uN),zB=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=In(t),u=m.useRef(null),[f=!1,d]=ho({prop:a,defaultProp:o,onChange:i});return s.jsx(LTe,{scope:t,triggerId:oo(),triggerRef:u,contentId:oo(),open:f,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:l,children:s.jsx(wTe,{...c,open:f,onOpenChange:d,dir:n,modal:l,children:r})})};zB.displayName=uN;var qB="DropdownMenuTrigger",WB=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,o=UB(qB,r),i=In(r);return s.jsx(STe,{asChild:!0,...i,children:s.jsx(Ke.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:_v(t,o.triggerRef),onPointerDown:Ie(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:Ie(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});WB.displayName=qB;var DTe="DropdownMenuPortal",HB=e=>{const{__scopeDropdownMenu:t,...r}=e,n=In(t);return s.jsx(jTe,{...n,...r})};HB.displayName=DTe;var VB="DropdownMenuContent",KB=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=UB(VB,r),o=In(r),i=m.useRef(!1);return s.jsx(_Te,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...n,ref:t,onCloseAutoFocus:Ie(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Ie(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!a.modal||f)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});KB.displayName=VB;var FTe="DropdownMenuGroup",BTe=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=In(r);return s.jsx(kTe,{...a,...n,ref:t})});BTe.displayName=FTe;var UTe="DropdownMenuLabel",GB=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=In(r);return s.jsx(NTe,{...a,...n,ref:t})});GB.displayName=UTe;var zTe="DropdownMenuItem",JB=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=In(r);return s.jsx(ETe,{...a,...n,ref:t})});JB.displayName=zTe;var qTe="DropdownMenuCheckboxItem",YB=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=In(r);return s.jsx(CTe,{...a,...n,ref:t})});YB.displayName=qTe;var WTe="DropdownMenuRadioGroup",HTe=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=In(r);return s.jsx(PTe,{...a,...n,ref:t})});HTe.displayName=WTe;var VTe="DropdownMenuRadioItem",XB=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=In(r);return s.jsx(ATe,{...a,...n,ref:t})});XB.displayName=VTe;var KTe="DropdownMenuItemIndicator",QB=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=In(r);return s.jsx(TTe,{...a,...n,ref:t})});QB.displayName=KTe;var GTe="DropdownMenuSeparator",ZB=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=In(r);return s.jsx(OTe,{...a,...n,ref:t})});ZB.displayName=GTe;var JTe="DropdownMenuArrow",YTe=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=In(r);return s.jsx(RTe,{...a,...n,ref:t})});YTe.displayName=JTe;var XTe="DropdownMenuSubTrigger",eU=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=In(r);return s.jsx($Te,{...a,...n,ref:t})});eU.displayName=XTe;var QTe="DropdownMenuSubContent",tU=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=In(r);return s.jsx(MTe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tU.displayName=QTe;var ZTe=zB,eOe=WB,tOe=HB,rU=KB,nU=GB,aU=JB,oU=YB,sU=XB,iU=QB,lU=ZB,cU=eU,uU=tU;const aR=ZTe,oR=eOe,rOe=m.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(cU,{ref:a,className:fe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(ja,{className:"ml-auto h-4 w-4"})]}));rOe.displayName=cU.displayName;const nOe=m.forwardRef(({className:e,...t},r)=>s.jsx(uU,{ref:r,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));nOe.displayName=uU.displayName;const Pj=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(tOe,{children:s.jsx(rU,{ref:n,sideOffset:t,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Pj.displayName=rU.displayName;const rl=m.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(aU,{ref:n,className:fe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));rl.displayName=aU.displayName;const aOe=m.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(oU,{ref:a,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(iU,{children:s.jsx(Bv,{className:"h-4 w-4"})})}),t]}));aOe.displayName=oU.displayName;const oOe=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(sU,{ref:n,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(iU,{children:s.jsx(lX,{className:"h-2 w-2 fill-current"})})}),t]}));oOe.displayName=sU.displayName;const sOe=m.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(nU,{ref:n,className:fe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));sOe.displayName=nU.displayName;const iOe=m.forwardRef(({className:e,...t},r)=>s.jsx(lU,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",e),...t}));iOe.displayName=lU.displayName;const lOe=()=>{const{jobId:e}=hm(),t=e?decodeURIComponent(e):void 0,{user:r}=lr(),n=ca(),a=tr(),o=ma(),[i,l]=m.useState(!1),[c,u]=m.useState(!1),f=I.useRef(null),{data:d,isLoading:h,error:y}=Yt({queryKey:["jobDetail",t],queryFn:async()=>{var J,K;if(!t)throw new Error("Job ID is required");console.log(" Fetching job details for ID:",t);try{const re=await $a.fetchJobDetail(t);return console.log(" Job details fetched successfully"),console.log(" Job Title:",re.title||re.job_title),console.log(" Company:",re.company_name||re.employer_name),console.log(" Location:",re.location||re.job_location),console.log(" Description length:",((J=re.description)==null?void 0:J.length)||((K=re.job_description)==null?void 0:K.length)||0),re}catch(re){throw console.error(" Error fetching job details:",re),re}},enabled:!!t,retry:1,retryDelay:1e3}),{data:v=[]}=Yt({queryKey:["savedJobs",r==null?void 0:r.id],queryFn:async()=>{var J;if(!r)return[];try{return(((J=(await Ae.get(ht.AUTH.PROFILE)).data)==null?void 0:J.saved_jobs)||[]).map(we=>String(we))}catch(K){return console.error("Error fetching saved jobs from profile API:",K),[]}},enabled:!!r}),p=(d==null?void 0:d.id)||(d==null?void 0:d.job_id)||t||"",g=v==null?void 0:v.includes(String(p)),[x,b]=m.useState(null),[w,S]=m.useState(!1),[j,k]=m.useState(null),[_,N]=m.useState(null),[E,A]=m.useState(!1),[T,D]=m.useState(null),[B,z]=m.useState([]),[F,$]=m.useState([]),[U,P]=m.useState(new Set),[M,W]=m.useState(!1),[R,q]=m.useState(!1);m.useEffect(()=>{b(null),k(null),S(!1),N(null),D(null),A(!1)},[t]),m.useEffect(()=>{(async()=>{if(!d){b(null),N(null);return}const K=X();if(!K||K.length<50){b(null),N(null);return}S(!0),k(null);try{const re=await eAe(K);re.error?(k(re.error),b(null)):b(re.content)}catch(re){console.error("Error extracting responsibilities:",re),k(re instanceof Error?re.message:"Failed to extract responsibilities"),b(null)}finally{S(!1)}A(!0),D(null);try{const re=await tAe(K);if(re.error)D(re.error),N(null),$([]);else{N(re.content);const we=aAe(re.content);$(we),we.length>0&&z(we)}}catch(re){console.error("Error extracting qualifications:",re),D(re instanceof Error?re.message:"Failed to extract qualifications"),N(null),$([])}finally{A(!1)}})()},[d]),m.useEffect(()=>{(async()=>{if(!r){P(new Set);return}q(!0);try{try{const re=await Ae.get(`/api/skilltest/results/?user=${r.id}`);let we=null;if(Array.isArray(re.data)&&re.data.length>0?we=re.data[0]:re.data&&typeof re.data=="object"&&(we=re.data),we&&(we.final_role||we.skills_json)){const Pe=we.skills_json||{},Te=Object.keys(Pe.tech||{}),Je=Object.keys(Pe.soft||{}),$e=[...Te,...Je];P(new Set($e.map(Ze=>Ze.toLowerCase()))),q(!1);return}}catch{console.log("Django API not available, trying Supabase...")}const K=await Ql(r.id);if(K&&K.length>0){const re=Zl(K),we=Object.keys(re).filter(Pe=>re[Pe]>0);P(new Set(we.map(Pe=>Pe.toLowerCase())))}else P(new Set)}catch(K){console.error("Error fetching user skills:",K),P(new Set)}finally{q(!1)}})()},[r]),m.useEffect(()=>{(async()=>{if(!d){z([]);return}W(!0);try{const K=new Set;Z().forEach($e=>{K.add($e.toLowerCase())});const we=X(),Pe=V();let Te="";if(we&&we.length>50&&(Te+=we+`

`),Pe&&Pe.length>50&&(Te+=`Requirements:
`+Pe),Te.length>50){const $e=await QPe(Te);$e.skills&&$e.skills.length>0&&$e.skills.forEach(Ze=>{const he=Ze.toLowerCase().trim();he.length>0&&K.add(he)})}const Je=Array.from(K).map($e=>$e.split(/[\s-]+/).map(Ze=>Ze.charAt(0).toUpperCase()+Ze.slice(1)).join(" ")).filter($e=>$e.length>0).sort();z(Je)}catch(K){console.error("Error extracting job skills:",K);const re=Z();z(re)}finally{W(!1)}})()},[d]),m.useEffect(()=>{if(!d){l(!1);return}let J=null,K=null;const re=()=>{const Je=['main[class*="overflow-y-auto"]','main[class*="overflow"]',"main"];for(const $e of Je){const Ze=document.querySelector($e);if(Ze)return Ze}return null},we=()=>{if(J){const $e=J.scrollTop>100;if(l($e),o){const Me=Array.from(document.querySelectorAll(".fixed.bottom-0")).find(Re=>{const C=Re;return C.classList.contains("md:hidden")&&C.classList.contains("z-50")&&C.querySelector("nav.flex.justify-around")!==null});Me&&($e?(Me.style.transform="translateY(100%)",Me.style.opacity="0"):(Me.style.transform="translateY(0)",Me.style.opacity="1"),Me.style.transition="transform 0.3s ease-in-out, opacity 0.3s ease-in-out")}const Ze=J.closest("main");if(Ze){const he=window.getComputedStyle(Ze),Me=parseInt(he.marginLeft)||0;u(Me<=100)}}else{const $e=(window.scrollY||document.documentElement.scrollTop)>100;l($e)}},Pe=()=>{J=re(),J?(J.addEventListener("scroll",we,{passive:!0}),we(),K=()=>{J==null||J.removeEventListener("scroll",we)}):(window.addEventListener("scroll",we,{passive:!0}),we(),K=()=>{window.removeEventListener("scroll",we)})};Pe();const Te=setTimeout(()=>{J||Pe()},300);return()=>{if(clearTimeout(Te),K&&K(),o){const $e=Array.from(document.querySelectorAll(".fixed.bottom-0")).find(Ze=>{const he=Ze;return he.classList.contains("md:hidden")&&he.classList.contains("z-50")&&he.querySelector("nav.flex.justify-around")!==null});$e&&($e.style.transform="",$e.style.opacity="",$e.style.transition="")}}},[d,o]);const ee=mo({mutationFn:async()=>{if(!r)throw new Error("User not logged in");if(!d)throw new Error("Job details not available");try{const J=String(p),K=`${ht.JOBS.SAVE_JOB}${J}/`;await Ae.post(K)}catch(J){const K=J instanceof Error?J.message:"Failed to save job. Please try again.";throw new Error(K)}},onSuccess:()=>{n.invalidateQueries({queryKey:["savedJobs",r==null?void 0:r.id]}),n.invalidateQueries({queryKey:["profile"]}),se.success(g?"Job Unsaved":"Job Saved")},onError:J=>{console.error("Error saving job:",J);const K=J instanceof Error?J.message:"Failed to save job";se.error(K)}}),ne=()=>{if(!d)return"By agreement";if(d.salary&&typeof d.salary=="string")return d.salary;const J=d.min_salary,K=d.max_salary,re=d.salary_currency||"$",we=d.salary_period||"yearly";if(J&&K&&typeof J=="number"&&typeof K=="number"){const Pe=we==="monthly"?"Monthly":"",Te=J.toLocaleString(),Je=K.toLocaleString();return["$","","","","",""].some(he=>re.includes(he))?`${re}${Te} - ${re}${Je}${Pe?`/${Pe}`:""}`:`${Te} - ${Je} ${re}${Pe?`/${Pe}`:""}`}else if(J&&typeof J=="number"){const Pe=J.toLocaleString();return["$","","","","",""].some($e=>re.includes($e))?`${re}${Pe}+`:`${Pe}+ ${re}`}return"By agreement"},ce=()=>{if(!d)return"";const J=d;if(J.job_apply_link&&typeof J.job_apply_link=="string")return J.job_apply_link;const K=d.apply_url||d.job_apply_link||d.url||d.applyUrl||d.applyLink||d.application_url||d.application_link||d.link||"";if(!K&&d.company_info){const re=d.company_info;if(re.apply_url&&typeof re.apply_url=="string")return re.apply_url;if(re.url&&typeof re.url=="string")return re.url}if(!K&&d.company&&typeof d.company=="object"){const re=d.company;if(re.apply_url&&typeof re.apply_url=="string")return re.apply_url;if(re.url&&typeof re.url=="string")return re.url}if(!K&&d.employer&&typeof d.employer=="object"){const re=d.employer;if(re.apply_url&&typeof re.apply_url=="string")return re.apply_url;if(re.url&&typeof re.url=="string")return re.url}return K},ue=()=>{if(!d)return"";const J=d;if(J.employer_name&&typeof J.employer_name=="string")return J.employer_name.trim();if(typeof d.company=="string"&&d.company.trim())return d.company.trim();if(d.company_info){const K=d.company_info;if(K.name&&K.name.trim())return K.name.trim();if(K.company_name&&K.company_name.trim())return K.company_name.trim();if(K.employer_name&&K.employer_name.trim())return K.employer_name.trim()}if(d.company_name&&d.company_name.trim())return d.company_name.trim();if(d.employer_name&&d.employer_name.trim())return d.employer_name.trim();if(d.company&&typeof d.company=="object"){const K=d.company;if(K.name&&K.name.trim())return K.name.trim();if(K.company_name&&K.company_name.trim())return K.company_name.trim();if(K.employer_name&&K.employer_name.trim())return K.employer_name.trim()}if(d.employer&&typeof d.employer=="object"){const K=d.employer;if(K.name&&K.name.trim())return K.name.trim();if(K.company_name&&K.company_name.trim())return K.company_name.trim();if(K.employer_name&&K.employer_name.trim())return K.employer_name.trim()}return""},ie=()=>{if(!d)return"Untitled Position";const J=d;return d.title||d.job_title||J.job_title||"Untitled Position"},O=()=>{if(!d)return"Location not specified";const J=d;if(d.location||d.job_location)return d.location||d.job_location||"Location not specified";const K=J.job_city||d.city,re=J.job_state||d.state,we=J.job_country||d.country;return K||re||we?[K,re,we].filter(Boolean).join(", ")||"Location not specified":`${d.city||""} ${d.state||""} ${d.country||""}`.trim()||"Location not specified"},L=()=>{if(!d)return"Full Time";const J=d;return d.employment_type||d.job_employment_type||J.job_employment_type||"Full Time"},H=()=>{if(!d)return"On-site";const J=d;return d.is_remote||d.remote===!0||J.job_is_remote===!0||J.remote===!0?"Remote":ie().toLowerCase().includes("hybrid")?"Hybrid":"On-site"},X=()=>{if(!d)return"No description available.";const J=d,K=d.description||d.job_description||J.job_description||void 0;return K?typeof K=="string"?K:Array.isArray(K)?K.map(re=>String(re)).join(`
`):typeof K=="object"?JSON.stringify(K,null,2):String(K):"No description available."},V=()=>{if(!d)return;const J=d.requirements||d.job_requirements||d.qualifications||void 0;if(J)return typeof J=="string"?J:Array.isArray(J)?J.map(K=>String(K)).join(`
`):typeof J=="object"?JSON.stringify(J,null,2):String(J)},ae=()=>{if(d)return d.required_experience||d.job_required_experience||d.experience||void 0},Z=()=>{if(!d)return[];const J=d.required_skills||d.skills||d.job_skills||void 0;return typeof J=="string"?J.split(/[,\n]/).map(K=>K.trim()).filter(Boolean):Array.isArray(J)?J.filter(Boolean):[]},de=()=>{if(d)return d.education||d.education_required||d.required_education||void 0},oe=()=>{if(!d)return[];const J=d.benefits||d.job_benefits||d.perks||void 0;if(!J)return[];if(Array.isArray(J))return J.map(K=>String(K)).filter(Boolean);if(typeof J=="string")return J.split(/[\n,;]/).map(K=>K.trim()).filter(Boolean);if(typeof J=="object"){const K=Object.entries(J);return K.every(([re,we])=>typeof we=="boolean")?K.filter(([re,we])=>we===!0).map(([re])=>re):Object.keys(J)}return[]},ye=J=>{const K=J.toLowerCase().replace(/[_\s-]/g,"");return K.includes("health")||K.includes("medical")||K.includes("insurance")?s.jsx(s5,{className:"h-5 w-5"}):K.includes("dental")?s.jsx(OX,{className:"h-5 w-5"}):K.includes("vision")||K.includes("eye")?s.jsx(Ai,{className:"h-5 w-5"}):K.includes("pto")||K.includes("paidtimeoff")||K.includes("vacation")||K.includes("holiday")?s.jsx(dg,{className:"h-5 w-5"}):K.includes("sick")||K.includes("leave")?s.jsx(On,{className:"h-5 w-5"}):K.includes("salary")||K.includes("pay")||K.includes("compensation")||K.includes("bonus")?s.jsx(Dl,{className:"h-5 w-5"}):K.includes("401k")||K.includes("retirement")||K.includes("pension")?s.jsx(Sr,{className:"h-5 w-5"}):K.includes("stock")||K.includes("equity")||K.includes("options")?s.jsx(Uv,{className:"h-5 w-5"}):K.includes("remote")||K.includes("workfromhome")||K.includes("wfh")?s.jsx(P1,{className:"h-5 w-5"}):K.includes("flexible")||K.includes("flex")?s.jsx(zo,{className:"h-5 w-5"}):K.includes("training")||K.includes("learning")||K.includes("education")||K.includes("development")?s.jsx(bi,{className:"h-5 w-5"}):K.includes("conference")||K.includes("certification")?s.jsx(xi,{className:"h-5 w-5"}):K.includes("gym")||K.includes("fitness")||K.includes("wellness")?s.jsx(mX,{className:"h-5 w-5"}):K.includes("food")||K.includes("meal")||K.includes("snack")||K.includes("catering")?s.jsx(IX,{className:"h-5 w-5"}):K.includes("coffee")||K.includes("drink")||K.includes("beverage")?s.jsx(Q3,{className:"h-5 w-5"}):K.includes("parking")||K.includes("transport")||K.includes("commute")?s.jsx(Y3,{className:"h-5 w-5"}):s.jsx(Gg,{className:"h-5 w-5"})},be=J=>J.replace(/[_-]/g," ").split(" ").map(K=>K.charAt(0).toUpperCase()+K.slice(1).toLowerCase()).join(" "),Be=()=>{if(d)return d.application_deadline||d.deadline||d.expires_at||d.expiration_date||void 0},it=J=>{if(J)try{const K=new Date(J);return isNaN(K.getTime())?J:K.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return J}},ge=()=>{if(d)return d.job_category||d.category||d.industry||d.job_industry||void 0},xe=()=>window.location.href,qe=()=>{if(!d)return"Check out this job!";const J=ie(),K=ue();return`Check out this ${J} position at ${K}!`},rt=async()=>{if(!navigator.share)return!1;try{return await navigator.share({title:ie(),text:qe(),url:xe()}),se.success("Shared successfully!"),!0}catch(J){return J.name!=="AbortError"&&console.error("Error sharing:",J),!1}},nt=async()=>{try{await navigator.clipboard.writeText(xe()),se.success("Link copied to clipboard!")}catch(J){console.error("Error copying link:",J),se.error("Failed to copy link")}},yt=()=>{const K=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(xe())}`;window.open(K,"_blank","width=600,height=400")},at=()=>{const J=encodeURIComponent(xe()),K=encodeURIComponent(ie()),re=encodeURIComponent(qe()),we=`https://www.linkedin.com/sharing/share-offsite/?url=${J}&title=${K}&summary=${re}`;window.open(we,"_blank","width=600,height=400")},We=async()=>{navigator.share&&await rt()};return s.jsxs(At,{children:[s.jsxs("div",{ref:f,className:"max-w-5xl mx-auto pt-0 sm:pt-4 pb-40 sm:pb-32 md:pb-24 px-1 sm:px-4 md:px-6",children:[y&&s.jsx(je,{className:"mb-6 border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-900",children:s.jsx(ke,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3 text-red-700 dark:text-red-400",children:[s.jsx(Oo,{className:"h-5 w-5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Error loading job details"}),s.jsx("p",{className:"text-sm",children:y.message})]})]})})}),h&&s.jsx("div",{className:"space-y-6",children:s.jsx(je,{children:s.jsxs(ke,{className:"p-6",children:[s.jsx(Pt,{className:"h-8 w-3/4 mb-4"}),s.jsx(Pt,{className:"h-4 w-1/2 mb-6"}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(Pt,{className:"h-16 w-16 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Pt,{className:"h-5 w-1/3 mb-2"}),s.jsx(Pt,{className:"h-4 w-1/4"})]})]}),s.jsx(Pt,{className:"h-32 w-full"})]})})}),!h&&d&&s.jsx(je,{className:"md:bg-card md:border md:shadow-sm bg-transparent border-0 shadow-none",children:s.jsxs(ke,{className:"p-3 sm:p-6 space-y-8",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-6",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-col gap-1 mb-3",children:[ue()&&s.jsx("p",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400",children:ue()}),s.jsx("h1",{className:"text-lg md:text-2xl font-semibold text-gray-900 dark:text-white",children:ie()})]}),s.jsx("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(vm,{className:"h-4 w-4"}),s.jsx("span",{children:O()})]})}),s.jsxs("div",{className:"flex flex-nowrap md:flex-wrap gap-2 md:gap-4 mb-6 text-sm md:text-base font-medium text-gray-700 dark:text-gray-200 overflow-x-auto",children:[s.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[s.jsx(a5,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),s.jsx("span",{children:ne()})]}),s.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[s.jsx(zo,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),s.jsx("span",{children:L()})]}),s.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[s.jsx(Sr,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),s.jsx("span",{children:H()})]}),d.date_posted||d.posted_date?s.jsxs(jr,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(dg,{className:"h-3 w-3"}),"Posted:"," ",it(d.date_posted||d.posted_date)||d.date_posted||d.posted_date]}):null]})]}),s.jsxs("div",{className:"flex flex-row items-start gap-2 md:pt-0",children:[ce()?s.jsx(te,{variant:"default",size:"sm",onClick:()=>window.open(ce(),"_blank"),children:"Apply Now"}):s.jsx(te,{disabled:!0,variant:"outline",size:"sm",className:"flex items-center gap-2",children:"Apply Link Not Available"}),s.jsxs("div",{className:"flex flex-row items-start gap-2 ml-auto",children:[r&&s.jsx(te,{variant:"secondary",size:"icon",onClick:()=>ee.mutate(),disabled:ee.isPending,"aria-label":g?"Unsave job":"Save job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:s.jsx(On,{className:`h-4 w-4 ${g?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),o&&navigator.share?s.jsx(te,{variant:"secondary",size:"icon",onClick:We,"aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:s.jsx(up,{className:"h-4 w-4"})}):s.jsxs(aR,{children:[s.jsx(oR,{asChild:!0,children:s.jsx(te,{variant:"secondary",size:"icon","aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:s.jsx(up,{className:"h-4 w-4"})})}),s.jsxs(Pj,{align:"end",children:[s.jsxs(rl,{onClick:nt,children:[s.jsx(BC,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Copy Link"})]}),s.jsxs(rl,{onClick:yt,children:[s.jsx(UC,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Share on Facebook"})]}),s.jsxs(rl,{onClick:at,children:[s.jsx(zC,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Share on LinkedIn"})]})]})]})]})]})]})}),s.jsxs("div",{className:"pt-8",children:[s.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Sr,{className:"h-5 w-5"}),"Responsibilities"]})}),w?s.jsx(je,{children:s.jsx(ke,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[s.jsx(ds,{className:"h-5 w-5 animate-spin text-breneo-accent"}),s.jsx("p",{className:"text-sm",children:"AI is extracting responsibilities from the job description..."})]})})}):j?s.jsx(je,{className:"border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-900",children:s.jsx(ke,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3 text-red-600 dark:text-red-400",children:[s.jsx(Oo,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Failed to extract responsibilities"}),s.jsx("p",{className:"text-xs",children:j})]})]})})}):x?s.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",style:{whiteSpace:"pre-line"},children:x.split(`
`).map((J,K)=>{const re=J.trim();return re?/^[\-*]\s/.test(re)?s.jsx("div",{className:"mb-2 ml-4",children:re},K):s.jsx("p",{className:"mb-2",children:re},K):null})}):s.jsx(je,{children:s.jsx(ke,{className:"p-6",children:s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No responsibilities information available for this job."})})})]}),s.jsxs("div",{className:"pt-8",children:[s.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5"}),"Qualifications"]})}),E?s.jsx(je,{children:s.jsx(ke,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[s.jsx(ds,{className:"h-5 w-5 animate-spin text-breneo-accent"}),s.jsx("p",{className:"text-sm",children:"AI is extracting qualifications from the job description..."})]})})}):T?s.jsx(je,{className:"border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-900",children:s.jsx(ke,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3 text-red-600 dark:text-red-400",children:[s.jsx(Oo,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Failed to extract qualifications"}),s.jsx("p",{className:"text-xs",children:T})]})]})})}):_?s.jsxs("div",{className:"space-y-4",children:[r&&(F.length>0||B.length>0)&&s.jsx(je,{children:s.jsxs(ke,{className:"p-6",children:[s.jsx("div",{className:"flex items-center gap-3 mb-4",children:s.jsx("h3",{className:"text-base font-semibold",children:"Skills Match"})}),R?s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-4",children:[s.jsx(ds,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading your skills..."})]}):U.size===0?s.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400 mb-4",children:[s.jsx(Oo,{className:"h-4 w-4"}),s.jsxs("span",{children:["You haven't taken the skill test yet."," ",s.jsx("button",{onClick:()=>a("/skill-test"),className:"underline hover:no-underline font-medium",children:"Take the skill test"})," ","to see your skill match."]})]}):null,s.jsx("div",{className:"flex flex-wrap gap-2",children:(F.length>0?F:B).map((J,K)=>{const re=U.has(J.toLowerCase());return s.jsxs("div",{className:`flex items-center gap-2 px-4 py-2.5 rounded-[14px] transition-colors ${re?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[s.jsx("div",{className:"flex-shrink-0",children:re?s.jsx(RX,{className:"h-4 w-4 text-white"}):s.jsx(pk,{className:"h-4 w-4"})}),s.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:J})]},K)})})]})}),s.jsx("div",{children:s.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",style:{whiteSpace:"pre-line"},children:_.split(`
`).map((J,K)=>{const re=J.trim();return re?/^[\-*]\s/.test(re)?s.jsx("div",{className:"mb-2 ml-4",children:re},K):s.jsx("p",{className:"mb-2",children:re},K):null})})})]}):s.jsx(je,{children:s.jsx(ke,{className:"p-6",children:s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No qualifications information available for this job."})})})]}),V()&&s.jsxs("div",{className:"pt-8",children:[s.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold mb-4",children:[s.jsx(i5,{className:"h-5 w-5"}),"Requirements & Qualifications"]}),s.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:(V()||"").toString().replace(/\n/g,"<br />")}})]}),(ae()||de()||Z().length>0||ge()||Be())&&s.jsxs("div",{className:"pt-8",children:[s.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold mb-4",children:[s.jsx(eu,{className:"h-5 w-5"}),"Job Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ae()&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Sr,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Required Experience"}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:ae()})]})]}),de()&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(bi,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Education Required"}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:de()})]})]}),ge()&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(e5,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Category/Industry"}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:ge()})]})]}),Be()&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(dg,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Application Deadline"}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:it(Be())||Be()})]})]})]}),Z().length>0&&s.jsxs("div",{className:"mt-6 pt-6",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Required Skills"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Z().map((J,K)=>s.jsxs(jr,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(xi,{className:"h-3 w-3"}),J]},K))})]})]}),oe().length>0&&s.jsxs("div",{className:"pt-8",children:[s.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold mb-4",children:[s.jsx(Gg,{className:"h-5 w-5"}),"Benefits & Perks"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:oe().map((J,K)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-3xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0 text-breneo-accent",children:ye(J)}),s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:be(J)})]},K))})]})]})}),!h&&!d&&!y&&s.jsx(je,{children:s.jsx(ke,{className:"p-6",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(Oo,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"font-semibold mb-2",children:"No job details found"}),s.jsxs("p",{className:"text-sm",children:["Job ID: ",t||"Not provided"]}),s.jsx("p",{className:"text-sm mt-2",children:"The API may not have returned data for this job."}),s.jsx(te,{onClick:()=>{n.invalidateQueries({queryKey:["jobDetail",t]})},variant:"outline",className:"mt-4",children:"Retry"})]})})})]}),d&&s.jsx("div",{className:fe("fixed bottom-0 right-0 z-[60]","bg-[#F8F9FA] dark:bg-[#181818]","border-t border-black/[0.03] dark:border-white/[0.03]","shadow-lg transition-all duration-300 ease-in-out",c?"md:left-24":"md:left-[17rem]","left-0",i?"opacity-100 translate-y-0":"opacity-0 translate-y-full pointer-events-none"),children:s.jsx("div",{className:"px-5 sm:px-9 md:px-12 lg:px-14 py-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:ie()}),ue()&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:ue()})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r&&s.jsx(te,{variant:"secondary",size:"icon",onClick:()=>ee.mutate(),disabled:ee.isPending,"aria-label":g?"Unsave job":"Save job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:s.jsx(On,{className:`h-4 w-4 ${g?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),o&&navigator.share?s.jsx(te,{variant:"secondary",size:"icon",onClick:We,"aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:s.jsx(up,{className:"h-4 w-4"})}):s.jsxs(aR,{children:[s.jsx(oR,{asChild:!0,children:s.jsx(te,{variant:"secondary",size:"icon","aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:s.jsx(up,{className:"h-4 w-4"})})}),s.jsxs(Pj,{align:"end",children:[s.jsxs(rl,{onClick:nt,children:[s.jsx(BC,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Copy Link"})]}),s.jsxs(rl,{onClick:yt,children:[s.jsx(UC,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Share on Facebook"})]}),s.jsxs(rl,{onClick:at,children:[s.jsx(zC,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Share on LinkedIn"})]})]})]}),ce()?s.jsx(te,{variant:"default",size:"sm",onClick:()=>window.open(ce(),"_blank"),className:"whitespace-nowrap",children:"Apply Now"}):s.jsx(te,{disabled:!0,variant:"outline",size:"sm",className:"whitespace-nowrap",children:"Apply Unavailable"})]})]})})})]})},sR={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern",INTERNSHIP:"Internship"},cOe=async(e,t=1)=>{var r;try{console.log(` fetchCompanyJobs called - fetching jobs for company: ${e}, page ${t}`);const n=await $a.fetchActiveJobs({query:e,filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:t,pageSize:50});if(console.log(" fetchCompanyJobs response:",{totalJobs:((r=n.jobs)==null?void 0:r.length)||0,hasMore:n.hasMore,searchCompany:e}),!n||!Array.isArray(n.jobs))return console.warn("Invalid response format from job service:",n),{jobs:[],hasMore:!1,total:0};const a=n.jobs.filter(i=>{const l=i.company&&typeof i.company=="object"?i.company:null,c=(l==null?void 0:l.name)||(l==null?void 0:l.company_name)||i.companyName||i.employer_name||i.company_name||(typeof i.company=="string"?i.company:null)||"";if(!c||c.trim()==="")return!1;const u=c.trim().toLowerCase(),f=e.trim().toLowerCase();return u===f||u.includes(f)||f.includes(u)||u.replace(/\s+/g,"")===f.replace(/\s+/g,"")});console.log(" Filtered company jobs:",{beforeFilter:n.jobs.length,afterCompanyFilter:a.length,searchCompany:e,sampleCompanies:a.slice(0,3).map(i=>{const l=i.company&&typeof i.company=="object"?i.company:null;return(l==null?void 0:l.name)||i.employer_name||i.company_name||(typeof i.company=="string"?i.company:null)||"Unknown"})});const o=a.filter(i=>{const l=i.job_id||i.id;return l&&l.trim()!==""});if(console.log(` Final valid jobs for ${e}:`,o.length),o.length===0&&t===1){console.log(" No jobs found with company name search, trying broader search...");try{const i=await $a.fetchActiveJobs({query:"",filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:1,pageSize:100});if(i&&Array.isArray(i.jobs)){const c=i.jobs.filter(u=>{const f=u.company&&typeof u.company=="object"?u.company:null,d=(f==null?void 0:f.name)||(f==null?void 0:f.company_name)||u.companyName||u.employer_name||u.company_name||(typeof u.company=="string"?u.company:null)||"";if(!d||d.trim()==="")return!1;const h=d.trim().toLowerCase(),y=e.trim().toLowerCase();return h===y||h.includes(y)||y.includes(h)||h.replace(/\s+/g,"")===y.replace(/\s+/g,"")}).filter(u=>{const f=u.job_id||u.id;return f&&f.trim()!==""});return console.log(` Broader search found ${c.length} jobs for ${e}`),{jobs:c,hasMore:!1,total:c.length}}}catch(i){console.error("Error in broader search:",i)}}return{jobs:o,hasMore:n.hasMore??!1,total:o.length}}catch(n){return console.error("Error fetching company jobs:",n),{jobs:[],hasMore:!1,total:0}}},uOe=()=>{var k,_;const{companyName:e}=hm(),{user:t}=lr(),r=ca(),n=tr(),[a,o]=m.useState(1),[i,l]=m.useState([]),[c,u]=m.useState(!1),[f,d]=m.useState(!1),h=e?decodeURIComponent(e):"",{data:y=[]}=Yt({queryKey:["savedJobs",t==null?void 0:t.id],queryFn:async()=>{var N;if(!t)return[];try{return(((N=(await Ae.get(ht.AUTH.PROFILE)).data)==null?void 0:N.saved_jobs)||[]).map(T=>String(T))}catch(E){return console.error("Error fetching saved jobs:",E),[]}},enabled:!!t}),{data:v={jobs:[],hasMore:!1,total:0},isLoading:p,error:g}=Yt({queryKey:["companyJobs",h,a],queryFn:()=>cOe(h,a),enabled:!!h,refetchOnWindowFocus:!1,staleTime:5*60*1e3});m.useEffect(()=>{if(v.jobs&&v.jobs.length>0){const N=Do(v.jobs),E=Lf(N);l(a===1?E:A=>{const T=new Set(A.map(B=>B.job_id||B.id)),D=E.filter(B=>!T.has(B.job_id||B.id));return[...A,...D]}),u(v.hasMore),d(!1)}else a===1&&(l([]),u(!1))},[v,a]);const x=mo({mutationFn:async N=>{if(!t)throw new Error("User not logged in");if(!N.id)throw new Error("Job ID is required");const E=String(N.id),A=`${ht.JOBS.SAVE_JOB}${E}/`;await Ae.post(A)},onSuccess:(N,E)=>{r.invalidateQueries({queryKey:["savedJobs",t==null?void 0:t.id]}),r.invalidateQueries({queryKey:["profile"]}),se.success(E.is_saved?"Job Unsaved":"Job Saved")},onError:N=>{console.error("Error saving job:",N),se.error("Failed to save job")}}),b=m.useMemo(()=>!i||i.length===0?[]:i.map(N=>{const E=N.company&&typeof N.company=="object"?N.company:null,A=N.job_id||N.id||"";if(!A||A.trim()==="")return null;const T=N.job_title||N.title||N.position||"Untitled Position",D=(E==null?void 0:E.name)||(E==null?void 0:E.company_name)||N.companyName||N.employer_name||N.company_name||(typeof N.company=="string"?N.company:null)||"Unknown Company",B=N.job_city||N.city||(E==null?void 0:E.city)||"",z=N.job_state||N.state||(E==null?void 0:E.state)||"",F=N.job_country||N.country||(E==null?void 0:E.country)||"",$=N.jobLocation||N.location||(E==null?void 0:E.location)||[B,z,F].filter(Boolean).join(", ")||"Location not specified",U=N.applyUrl||N.jobUrl||N.job_apply_link||N.apply_link||N.url||N.apply_url||N.company_url||(E==null?void 0:E.url)||"";let P;if(N.companyLogo&&(P=N.companyLogo),!P&&N.employer_logo&&(P=N.employer_logo),!P&&N.company_logo&&(P=N.company_logo),!P&&N.logo&&(P=N.logo),!P&&N.logo_url&&(P=N.logo_url),!P&&E&&(E.logo&&(P=E.logo),!P&&E.logo_url&&(P=E.logo_url),!P&&E.company_logo&&(P=E.company_logo)),P)try{new URL(P).protocol.startsWith("http")||(P=void 0)}catch{P=void 0}let M="By agreement";const W=N.job_min_salary||N.min_salary,R=N.job_max_salary||N.max_salary,q=N.job_salary_currency||N.salary_currency||"$",ee=N.job_salary_period||N.salary_period||"yearly";if(W&&R&&typeof W=="number"&&typeof R=="number"){const L=ee==="monthly"?"Monthly":"",H=W.toLocaleString(),X=R.toLocaleString();["$","","","","",""].some(Z=>q.includes(Z))?M=`${q}${H} - ${q}${X}${L?`/${L}`:""}`:M=`${H} - ${X} ${q}${L?`/${L}`:""}`}else if(W&&typeof W=="number"){const L=W.toLocaleString();M=["$","","","","",""].some(V=>q.includes(V))?`${q}${L}+`:`${L}+ ${q}`}else N.salary&&typeof N.salary=="string"&&(M=N.salary);const ne=N.job_employment_type||N.employment_type||N.type||"FULLTIME",ce=ne.toUpperCase(),ue=sR[ce]||sR[ne]||ne||"Full time";let ie="On-site";return N.job_is_remote||N.is_remote||N.remote===!0?ie="Remote":T!=null&&T.toLowerCase().includes("hybrid")&&(ie="Hybrid"),{id:A,title:T,company:D,location:$,url:U,company_logo:P,is_saved:y==null?void 0:y.includes(String(A)),salary:M,employment_type:ue,work_arrangement:ie}}).filter(N=>N!==null),[i,y]),w=()=>{d(!0),o(N=>N+1)},S=(k=b[0])==null?void 0:k.company_logo,j=((_=b[0])==null?void 0:_.company)||h;return s.jsx(At,{children:s.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(te,{variant:"ghost",onClick:()=>n("/jobs"),className:"mb-4",children:[s.jsx(Tf,{className:"h-4 w-4 mr-2"}),"Back to Jobs"]}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[S?s.jsx("img",{src:S,alt:`${j} logo`,className:"w-16 h-16 rounded-full object-cover border border-gray-200",onError:N=>{const E=N.target;E.style.display="none"}}):s.jsx("div",{className:"w-16 h-16 rounded-full bg-breneo-accent flex items-center justify-center",children:s.jsx(FC,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:j}),s.jsxs("p",{className:"text-gray-500",children:[b.length," Job",b.length!==1?"s":""," Available"]})]})]})]}),g&&s.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-md flex items-center gap-3 mb-6",children:[s.jsx(Oo,{className:"h-5 w-5"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Error:"})," ",g==null?void 0:g.message]})]}),p&&a===1&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((N,E)=>s.jsx(je,{children:s.jsx(ke,{className:"p-5",children:s.jsx(Pt,{className:"h-32 w-full"})})},E))}),!p&&b.length===0&&s.jsxs("div",{className:"text-center p-10 border border-dashed rounded-3xl text-muted-foreground",children:[s.jsx(FC,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No Jobs Found"}),s.jsxs("p",{className:"text-sm",children:["No job openings found for ",j," at this time."]})]}),b.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-8",children:b.map(N=>s.jsx(je,{className:"group flex flex-col transition-all duration-200 border border-gray-200 hover:border-gray-400 overflow-hidden rounded-3xl",children:s.jsxs(ke,{className:"p-5 flex flex-col flex-grow relative",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[N.company_logo?s.jsx("img",{src:N.company_logo,alt:`${N.company} logo`,className:"w-12 h-12 rounded-full object-cover border border-gray-200 absolute inset-0 z-10",loading:"lazy",onError:E=>{var D;const A=E.target;A.onerror=null,A.style.display="none";const T=(D=A.parentElement)==null?void 0:D.querySelector(".logo-fallback");T&&(T.style.display="flex",T.style.zIndex="10")}}):null,N.company&&!N.company_logo?s.jsx("img",{src:`https://logo.clearbit.com/${encodeURIComponent(N.company)}`,alt:`${N.company} logo`,className:"w-12 h-12 rounded-full object-cover border border-gray-200 absolute inset-0 clearbit-logo",style:{zIndex:10},loading:"lazy",onError:E=>{var D;const A=E.target;A.onerror=null,A.style.display="none";const T=(D=A.parentElement)==null?void 0:D.querySelector(".logo-fallback");T&&(T.style.display="flex",T.style.zIndex="10")}}):null,s.jsx("div",{className:`w-12 h-12 rounded-full bg-breneo-accent flex items-center justify-center logo-fallback absolute inset-0 ${N.company_logo||N.company&&!N.company_logo?"hidden":"flex"}`,style:{zIndex:N.company_logo||N.company&&!N.company_logo?0:10},children:s.jsx(Sr,{className:"h-6 w-6 text-white"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-base truncate",children:N.company}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:N.location})]})]}),s.jsx("h4",{className:"font-bold text-lg mb-4 line-clamp-2",children:N.title}),s.jsxs("div",{className:"space-y-2 mb-4 md:mb-4 flex-grow pb-20 md:pb-0",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Dl,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:N.salary})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(zo,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:N.employment_type})]}),N.work_arrangement&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Sr,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:N.work_arrangement})]})]}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 bg-card flex items-center gap-2 transform translate-y-0 md:translate-y-full md:group-hover:translate-y-0 transition-transform duration-200 ease-in-out shadow-lg",children:[s.jsx(te,{variant:"default",onClick:()=>{if(!N.id||N.id.trim()===""){se.error("Cannot open job: Invalid job ID");return}const E=encodeURIComponent(N.id);n(`/jobs/${E}`)},className:"flex-1",disabled:!N.id||N.id.trim()==="",children:"View"}),s.jsx(te,{variant:"default",size:"icon",onClick:()=>x.mutate(N),"aria-label":N.is_saved?"Unsave job":"Save job",className:N.is_saved?"bg-primary/90":"",children:s.jsx(On,{className:`h-5 w-5 transition-colors ${N.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-white"}`})})]})]})},N.id))}),c&&s.jsx("div",{className:"flex justify-center mt-6 mb-8",children:s.jsx(te,{onClick:w,disabled:f,variant:"outline",className:"min-w-[200px]",children:f?s.jsxs(s.Fragment,{children:[s.jsx(ds,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Load More Jobs"})})]})]})})},qc=e=>e.toLowerCase().trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").replace(/_+/g,"_").replace(/^_|_$/g,""),dOe=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),iR="",fOe="",hOe="",mOe="",lR="",pOe="",gOe="Interests / Skills",cR=({filters:e,onFiltersChange:t,isMobile:r=!1,onLocationClick:n,userTopSkills:a=[]})=>{const o=()=>{if(e.countries.length===0)return"Choose";if(e.countries.length===1){const f=Qr.find(d=>d.code===e.countries[0]);return(f==null?void 0:f.name)||"Choose"}return`${e.countries.length} selected`},i=f=>{const d=e.skills.includes(f)?e.skills.filter(h=>h!==f):[...e.skills,f];t({...e,skills:d,countries:e.countries||[]})},l=()=>{if(a.length===0)return;const f=a.every(d=>e.skills.includes(d));t(f?{...e,skills:[],countries:e.countries||[]}:{...e,skills:a,countries:e.countries||[]})},c=a.length>0&&a.every(f=>e.skills.includes(f));if(r)return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 cursor-pointer",onClick:n,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:iR}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:o()}),s.jsx(Kg,{className:"h-4 w-4 text-gray-400 rotate-180"})]})]})}),a.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:pOe}),s.jsx("button",{type:"button",onClick:l,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:c?"Remove All":"Select All"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(f=>{const d=e.skills.includes(f);return s.jsx("button",{type:"button",onClick:()=>i(f),className:`
                      px-4 py-2 rounded-full text-sm font-medium transition-colors border
                      ${d?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                    `,children:f},f)})})]})]});const u=f=>{t({...e,countries:f,skills:e.skills||[]})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Fe,{className:"text-base font-medium dark:text-gray-100",children:iR}),s.jsx(rx,{selectedLocations:e.countries||[],onLocationsChange:u,placeholder:fOe})]}),a.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{className:"text-base font-medium dark:text-gray-100",children:gOe}),s.jsx("button",{type:"button",onClick:l,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:c?"Remove All":"Select All"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(f=>{const d=e.skills.includes(f);return s.jsx("button",{type:"button",onClick:()=>i(f),className:`
                    px-4 py-2 rounded-full text-sm font-medium transition-colors border
                    ${d?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                  `,children:f},f)})})]})]})},yOe=({isOpen:e,onClose:t,filters:r,onFiltersChange:n,onApply:a,onClear:o,userTopSkills:i=[]})=>{const l=ma(),[c,u]=m.useState(!1),[f,d]=m.useState(""),h=I.useMemo(()=>{if(!f.trim())return Qr;const v=f.toLowerCase();return Qr.filter(p=>p.name.toLowerCase().includes(v)||p.code.toLowerCase().includes(v))},[f]),y=v=>{n({...r,countries:v,skills:r.skills||[]})};return m.useEffect(()=>{e||u(!1)},[e]),l?c?s.jsx(Kr,{open:e,onOpenChange:v=>{v||(u(!1),t())},children:s.jsxs(Gr,{className:"max-h-[90vh] flex flex-col",children:[s.jsx(Jr,{className:"flex-shrink-0",children:s.jsx(Yr,{children:"Countries"})}),s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:s.jsxs("div",{className:"relative",children:[s.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(st,{type:"text",placeholder:"Search countries...",value:f,onChange:v=>d(v.target.value),className:"pl-9 pr-3 h-9 text-sm"})]})}),s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto -mx-6 px-6",children:s.jsx("div",{className:"py-4 space-y-2",children:h.length===0?s.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500",children:"No countries found"}):h.map(v=>{const p=r.countries.includes(v.code);return s.jsxs(Fe,{htmlFor:v.code,className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 cursor-pointer min-h-[48px] active:bg-gray-50 dark:active:bg-gray-700 transition-colors select-none",children:[s.jsx("span",{className:"flex-1 text-sm font-medium",children:v.name}),s.jsx(lo,{id:v.code,checked:p,onCheckedChange:g=>{const x=g?[...r.countries,v.code]:r.countries.filter(b=>b!==v.code);y(x)}})]},v.code)})})})]})}):s.jsx(Kr,{open:e,onOpenChange:t,children:s.jsxs(Gr,{className:"max-h-[90vh]",children:[s.jsx(Jr,{children:s.jsx(Yr,{className:"text-xl font-bold",children:hOe})}),s.jsx("div",{className:"px-6 py-6 flex-1 overflow-y-auto",children:s.jsx(cR,{filters:r,onFiltersChange:n,isMobile:!0,onLocationClick:()=>u(!0),userTopSkills:i})}),s.jsx(ka,{children:s.jsxs("div",{className:"flex gap-3 w-full",children:[o&&s.jsx(te,{onClick:()=>{o(),u(!1)},variant:"ghost",className:"flex-1 h-12 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0 rounded-[18px]",children:lR}),s.jsx(te,{onClick:()=>{a(),u(!1)},className:"flex-1 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] h-12 text-base font-medium font-semibold",children:mOe})]})})]})}):s.jsx(xn,{open:e,onOpenChange:t,children:s.jsxs(an,{children:[s.jsx(on,{children:s.jsx(sn,{children:"Filter Courses"})}),s.jsx("div",{className:"py-4",children:s.jsx(cR,{filters:r,onFiltersChange:n,isMobile:!1,userTopSkills:i})}),s.jsx(bn,{children:s.jsxs("div",{className:"flex gap-3 w-full",children:[o&&s.jsx(te,{onClick:()=>{o()},variant:"ghost",className:"flex-1 h-10 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0",children:lR}),s.jsx(te,{onClick:a,className:"flex-1 bg-breneo-blue text-white hover:bg-breneo-blue/90",children:"Apply Filters"})]})})]})})},jc="coursesFilters",dU="coursesFilteredResults",qp=(e,t,r)=>{try{sessionStorage.setItem(e,JSON.stringify({filters:t,search:r}))}catch(n){console.error("Error saving filters to session storage:",n)}},uR=e=>{try{const t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading filters from session storage:",t)}return null},vOe=e=>{try{sessionStorage.setItem(dU,JSON.stringify(e))}catch(t){console.error("Error saving filtered courses to session storage:",t)}},xOe=()=>{try{const e=sessionStorage.getItem(dU);if(e)return JSON.parse(e)}catch(e){console.error("Error loading filtered courses from session storage:",e)}return[]},bOe=()=>{const{user:e}=lr(),t=ca(),r=ma(),n=tr(),[a,o]=Rv(),[i,l]=m.useState(!1),[c,u]=m.useState([]),[f,d]=m.useState(!0),[h,y]=m.useState(()=>xOe()),v=m.useCallback((O,L)=>{if(E.current)return;const H=new URLSearchParams;L&&H.set("search",L),O.countries.length>0&&H.set("countries",O.countries.join(",")),O.skills.length>0&&H.set("skills",O.skills.join(",")),o(H,{replace:!0}),qp(jc,O,L)},[o]),[p,g]=m.useState(()=>{const O=a.get("countries"),L=a.get("skills"),H=a.get("country");if(O||L||H)return{country:H||"Georgia",countries:O?O.split(",").filter(Boolean):[],skills:L?L.split(",").filter(Boolean):[]};const X=uR(jc);return X&&X.filters?X.filters:{country:"Georgia",countries:[],skills:[]}}),[x,b]=m.useState(()=>{const O=a.get("search");if(O)return O;const L=uR(jc);return L&&L.search?L.search:""}),[w,S]=m.useState(x),[j,k]=m.useState(p),_=O=>{let L=0;return O.countries.length>0&&(L+=O.countries.length),O.skills.length>0&&(L+=O.skills.length),L};m.useEffect(()=>{i&&k(p)},[i,p]);const N=I.useMemo(()=>JSON.stringify({countries:p.countries.sort(),skills:p.skills.sort()}),[p]),E=I.useRef(!1);m.useEffect(()=>{const O=a.get("countries"),L=a.get("skills"),H=a.get("country"),X=a.get("search")||"",V={country:H||"Georgia",countries:O?O.split(",").filter(Boolean):[],skills:L?L.split(",").filter(Boolean):[]},ae=JSON.stringify(V)!==JSON.stringify(p),Z=X!==x;(ae||Z)&&(E.current=!0,g(V),k(V),Z&&b(X),setTimeout(()=>{E.current=!1},0))},[a]),m.useEffect(()=>{const O=a.get("country"),L=a.get("countries");if(O&&!L){const H=new URLSearchParams(a);H.delete("country"),o(H,{replace:!0})}},[]),m.useEffect(()=>{(async()=>{if(!e){d(!1);return}const L=a.get("skills")!==null;try{d(!0);try{const X=await Ae.get("/api/skilltest/results/");if(X.data&&Array.isArray(X.data)&&X.data.length>0){const ae=X.data[0].skills_json,Z=[];ae!=null&&ae.tech&&Z.push(...Object.keys(ae.tech));const oe=Bc(Z).slice(0,5);u(oe),L||(g(ye=>{const be={...ye,skills:ye.skills.length===0?oe:ye.skills};return qp(jc,be,x),be}),k(ye=>({...ye,skills:ye.skills.length===0?oe:ye.skills}))),d(!1);return}}catch{console.log("API endpoint not available, trying Supabase...")}const H=await Ql(String(e.id));if(H&&H.length>0){const X=Zl(H),ae=i0(X,10).map(oe=>oe.skill),de=Bc(ae).slice(0,5);u(de),L||(g(oe=>{const ye={...oe,skills:oe.skills.length===0?de:oe.skills};return qp(jc,ye,x),ye}),k(oe=>({...oe,skills:oe.skills.length===0?de:oe.skills})))}}catch(H){console.error("Error fetching user skills:",H)}finally{d(!1)}})()},[e]),m.useEffect(()=>{const O=sessionStorage.getItem("locationToastShown");a.get("countries")||navigator.geolocation.getCurrentPosition(async L=>{try{const{latitude:H,longitude:X}=L.coords,ae=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${H}&longitude=${X}&localityLanguage=en`)).json();if(ae.countryName){const Z=Qr.find(de=>de.name===ae.countryName);g(de=>{const oe={...de,country:ae.countryName,countries:Z?[Z.code]:de.countries};return setTimeout(()=>{if(!E.current){const ye=new URLSearchParams(a);oe.countries.length>0?ye.set("countries",oe.countries.join(",")):ye.delete("countries"),oe.country&&oe.country!=="Georgia"?ye.set("country",oe.country):ye.delete("country"),o(ye,{replace:!0})}},0),oe}),k(de=>({...de,country:ae.countryName,countries:Z?[Z.code]:de.countries})),O||(se.info(`Showing courses in ${ae.countryName}.`),sessionStorage.setItem("locationToastShown","true"))}}catch{O||(se.error("Could not determine your location."),sessionStorage.setItem("locationToastShown","true"))}},()=>{O||(se.info("Location permission denied. Defaulting to Georgia."),sessionStorage.setItem("locationToastShown","true"))})},[]),I.useCallback(O=>typeof O!="string"?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(O),[]);const A=e!=null&&e.id?String(e.id):null,T=I.useMemo(()=>!!A&&A.length>0,[A]),{data:D=[]}=Yt({queryKey:["savedCourses",A],queryFn:async()=>{var O;if(!A||!T)return[];try{return(((O=(await Ae.get(ht.AUTH.PROFILE,{timeout:3e4})).data)==null?void 0:O.saved_courses)||[]).map(X=>String(X))}catch(L){return console.error("Error fetching saved courses from profile API:",L),[]}},enabled:T}),{data:B,isLoading:z}=Yt({queryKey:["courses",D,w,N],queryFn:async()=>{let O=Lt.from("courses").select("*");w&&(O=O.or(`title.ilike.%${w}%,provider.ilike.%${w}%,category.ilike.%${w}%,description.ilike.%${w}%`));const{data:L,error:H}=await O.order("created_at",{ascending:!1});if(H)return console.error("Error fetching courses:",H),[];const X=(L==null?void 0:L.map(Z=>{let de=Z.image||"/lovable-uploads/no_photo.png";return de&&!de.startsWith("/")&&!de.startsWith("http")&&(de=`/${de}`),{...Z,image:de,match:0,topics:Z.topics||[],required_skills:Z.required_skills||[],is_saved:D==null?void 0:D.includes(String(Z.id))}}))||[],V=[...new Set(X.map(Z=>Z.academy_id).filter(Z=>Z?String(Z).length>0:!1).map(Z=>String(Z)))],ae=new Map;return V.length>0&&await Promise.all(V.map(async Z=>{try{const de=await Ae.get(`${ht.ACADEMY.DETAIL}${Z}/`);if(de.data){const oe=de.data,ye=oe.profile_data||oe,be=(We,J=ye)=>{const K=J[We];return typeof K=="string"?K:void 0},Be=be("id",ye)||be("academy_id",ye)||be("id",oe)||be("academy_id",oe)||Z,it=be("academy_name",ye)||be("name",ye)||be("academy_name",oe)||be("name",oe)||be("first_name",ye)||be("firstName",ye),ge=be("description",ye)||be("description",oe),xe=be("website_url",ye)||be("websiteUrl",ye)||be("website_url",oe),qe=be("contact_email",ye)||be("contactEmail",ye)||be("email",ye)||be("contact_email",oe),rt=be("logo_url",ye)||be("logoUrl",ye)||be("logo",ye)||be("logo_url",oe)||be("logoUrl",oe),nt=be("profile_photo_url",ye)||be("profilePhotoUrl",ye)||be("profile_photo",ye)||be("profilePhoto",ye)||be("profile_photo_url",oe),yt=be("profile_image_url",ye)||be("profileImageUrl",ye)||be("profile_image",ye)||be("profileImage",ye)||be("image_url",ye)||be("imageUrl",ye)||be("profile_image_url",oe)||be("profileImageUrl",oe)||nt,at=be("slug",ye)||be("slug",oe);ae.set(Z,{id:Be||Z,academy_name:it||"",description:ge||"",website_url:xe,contact_email:qe,logo_url:rt,profile_photo_url:nt,profile_image_url:yt||nt,slug:at||qc(it||"")})}}catch{console.debug(`Could not fetch academy profile for ${Z} from Django API`)}})),X.map(Z=>{const de=Z.academy_id?ae.get(Z.academy_id):null;let oe=null;return de?oe=de:oe=null,{...Z,academy_profile_data:oe}})},enabled:!!D,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:3*60*1e3,gcTime:10*60*1e3}),F=I.useMemo(()=>{if(!B)return[];let O=B;return p.skills.length>0&&(O=B.filter(L=>L.required_skills.some(H=>p.skills.some(X=>H.toLowerCase().includes(X.toLowerCase())||X.toLowerCase().includes(H.toLowerCase()))))),!c||c.length===0?O.map(L=>({...L,match:50})):O.map(L=>{const H=L.required_skills.filter(V=>c.some(ae=>ae.toLowerCase().includes(V.toLowerCase())||V.toLowerCase().includes(ae.toLowerCase()))),X=L.required_skills.length>0?Math.round(H.length/L.required_skills.length*100):50;return{...L,match:Math.max(X,25)}}).sort((L,H)=>H.match-L.match)},[c,B,p.skills]),$=I.useMemo(()=>{let O=F;if(p.countries.length>0){const L=p.countries.map(H=>{var X;return(X=Qr.find(V=>V.code===H))==null?void 0:X.name}).filter(Boolean);O=O.filter(H=>{var V;const X=((V=H.academy_profile_data)==null?void 0:V.academy_name)||H.provider||"";return L.some(ae=>X.toLowerCase().includes(ae.toLowerCase()))})}return O},[F,p.countries]);m.useEffect(()=>{z||(vOe($),y($))},[$,z]);const U=({course:O})=>{const L=ca(),H=mo({mutationFn:async X=>{if(!A)throw new Error("Please log in to save courses.");await Ae.post(`/api/save-course/${X}/`)},onMutate:async X=>{await L.cancelQueries({queryKey:["savedCourses",A]});const V=L.getQueryData(["savedCourses",A]);let ae=!1;return L.setQueryData(["savedCourses",A],Z=>{if(!Z)return Z;const de=String(X);return ae=Z.includes(de),ae?Z.filter(oe=>oe!==de):[...Z,de]}),{previousSavedCourses:V,wasSaved:ae}},onError:(X,V,ae)=>{ae!=null&&ae.previousSavedCourses&&A&&L.setQueryData(["savedCourses",A],ae.previousSavedCourses),console.error("Error updating saved courses:",X),se.error("Failed to update saved courses. Please try again.")},onSuccess:(X,V,ae)=>{L.invalidateQueries({queryKey:["savedCourses",A]}),L.invalidateQueries({queryKey:["courses"]}),L.invalidateQueries({queryKey:["profile"]});const Z=(ae==null?void 0:ae.wasSaved)??!1;se.success(Z?"Removed from saved courses.":"Course saved to your profile.")}});return s.jsx(te,{size:"icon",variant:"outline",className:"h-10 w-10 rounded-3xl border-gray-300",onClick:()=>H.mutate(String(O.id)),disabled:H.isPending,"aria-label":O.is_saved?"Unsave course":"Save course",children:s.jsx(On,{className:`h-5 w-5 transition-colors ${O.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-gray-400 hover:text-black"}`})})},P=O=>{const L={...p,countries:O};g(L),k(L),v(L,x),t.invalidateQueries({queryKey:["courses"]})},M=m.useCallback(()=>{S(x),v(p,x),t.invalidateQueries({queryKey:["courses"]})},[x,p,v,t]),W=O=>{O.key==="Enter"&&M()},R=O=>{b(O)};m.useEffect(()=>{if(x===w)return;const O=setTimeout(()=>{S(x),v(p,x),t.invalidateQueries({queryKey:["courses"]})},300);return()=>{clearTimeout(O)}},[x,p,v,t,w]);const q=()=>{g(j),v(j,x),l(!1),t.invalidateQueries({queryKey:["courses"]})},ee=()=>{const O={country:"Georgia",countries:[],skills:[]};k(O),g(O);const L=new URLSearchParams;x&&L.set("search",x),o(L,{replace:!0}),qp(jc,O,x),l(!1),t.invalidateQueries({queryKey:["courses"]})},ne=O=>{var ae;const H=((ae=O.academy_profile_data)==null?void 0:ae.academy_name)||""||O.provider||"Unknown Academy",X=O.academy_id,V=X?`/academy/${X}`:`/academy/${qc(H)}`;return s.jsx(je,{className:"flex flex-col transition-all duration-200 border border-gray-200 hover:border-gray-400 h-full rounded-3xl",children:s.jsxs(ke,{className:"p-5 flex flex-col flex-grow",children:[s.jsxs("div",{className:"relative h-40 overflow-hidden rounded-3xl mb-4 bg-gradient-to-br from-gray-100 to-gray-200",children:[s.jsx("img",{src:O.image&&!O.image.startsWith("http")&&!O.image.startsWith("/")?`/${O.image}`:O.image||"/lovable-uploads/no_photo.png",alt:O.title,className:"w-full h-full object-cover",onError:Z=>{const de=Z.target;de.src.includes("/lovable-uploads/no_photo.png")?de.onerror=null:(de.onerror=null,de.src="/lovable-uploads/no_photo.png")}}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsxs(jr,{variant:"secondary",className:"bg-white/90 backdrop-blur-sm text-gray-900 font-semibold shadow-md",children:[O.match,"% Match"]})})]}),s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center",children:s.jsx(bi,{className:"h-5 w-5 text-white"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(wr,{to:V,className:"block group/link",onClick:Z=>Z.stopPropagation(),children:s.jsx("h3",{className:"font-semibold text-sm mb-1 truncate group-hover/link:text-breneo-accent transition-colors",children:H})}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:O.category})]})]}),s.jsx("h4",{className:"font-bold text-lg mb-3 line-clamp-2 cursor-pointer hover:text-breneo-accent transition-colors",onClick:()=>n(`/course/${O.id}`),children:O.title}),s.jsxs("div",{className:"space-y-2 mb-4 flex-grow",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Uv,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:O.level})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(zo,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:O.duration})]}),O.required_skills&&O.required_skills.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[O.required_skills.slice(0,3).map(Z=>s.jsx(jr,{variant:"secondary",className:"text-xs",children:Z},Z)),O.required_skills.length>3&&s.jsxs(jr,{variant:"secondary",className:"text-xs",children:["+",O.required_skills.length-3]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-4 border-t border-gray-100",children:[s.jsx(te,{onClick:()=>n(`/course/${O.id}`),className:"flex-1 bg-black text-white hover:bg-gray-800 rounded-3xl",children:"View Course"}),s.jsx(U,{course:O})]})]})})},ce=z&&h.length>0,ue=ce?h:$,ie=ce?h.length:$.length;return s.jsxs(At,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] border border-gray-300 dark:border-gray-600 rounded-xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-3 md:py-4 overflow-visible min-h-[3.5rem] flex-1",children:[s.jsx(Sr,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),s.jsx(st,{placeholder:"",value:x,onChange:O=>R(O.target.value),onKeyDown:W,className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),s.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:s.jsx(rx,{selectedLocations:p.countries,onLocationsChange:P,placeholder:"Location"})})]})]}),(()=>{const O=_(p);return s.jsxs(te,{variant:"outline",onClick:()=>l(!0),className:"group flex items-center gap-2 bg-transparent border border-breneo-blue rounded-xl px-4 py-3 md:py-4 hover:bg-breneo-blue hover:text-white text-gray-900 dark:text-gray-100 whitespace-nowrap h-auto relative min-h-[3.5rem] transition-colors","aria-label":"Filter courses",children:[s.jsx(vk,{className:"h-4 w-4 group-hover:text-white",strokeWidth:2}),s.jsx("span",{className:"hidden md:inline text-sm font-medium",children:""}),O>0&&s.jsx(jr,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:O})]})})()]})}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(bi,{className:"h-6 w-6 text-breneo-accent"}),s.jsx("h2",{className:"text-lg font-bold",children:"Latest Courses"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("span",{className:"text-sm text-gray-600",children:[ie," course",ie!==1?"s":""]})})]}),z&&!ce&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((O,L)=>s.jsx(je,{className:"w-full",children:s.jsxs(ke,{className:"p-5",children:[s.jsx(Pt,{className:"h-48 w-full mb-4"}),s.jsx(Pt,{className:"h-6 w-full mb-2"}),s.jsx(Pt,{className:"h-4 w-2/3"})]})},L))}),!z&&$.length===0&&s.jsxs("div",{className:"text-center p-10 border border-dashed rounded-3xl text-muted-foreground",children:[s.jsx("img",{src:"/lovable-uploads/3dicons-puzzle-dynamic-color.png",alt:"No data found",className:"mx-auto h-48 w-48 mb-4 object-contain"}),s.jsx("h4",{className:"text-lg font-semibold",children:"No Courses Found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search terms or filters."})]}),(ce||!z&&ue.length>0)&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:ue.map(O=>s.jsx("div",{className:"w-full",children:ne(O)},O.id))})]}),s.jsx(yOe,{isOpen:i,onClose:()=>l(!1),filters:j,onFiltersChange:k,onApply:q,onClear:ee,userTopSkills:c})]})},wOe=()=>{var b,w;const{courseId:e}=hm(),{user:t}=lr(),r=ca(),[n,a]=m.useState(!1),{data:o,isLoading:i}=Yt({queryKey:["course",e],queryFn:async()=>{const{data:S,error:j}=await Lt.from("courses").select("*").eq("id",e).single();return j?(console.error("Error fetching course details:",j),null):S},enabled:!!e}),{data:l=[]}=Yt({queryKey:["savedCourses",t==null?void 0:t.id],queryFn:async()=>{var S;if(!(t!=null&&t.id))return[];try{return(((S=(await Ae.get(ht.AUTH.PROFILE)).data)==null?void 0:S.saved_courses)||[]).map(_=>String(_))}catch(j){return console.error("Error fetching saved courses:",j),[]}},enabled:!!(t!=null&&t.id)}),c=l==null?void 0:l.includes(String((o==null?void 0:o.id)||"")),{data:u}=Yt({queryKey:["academy-profile",o==null?void 0:o.academy_id],queryFn:async()=>{if(!(o!=null&&o.academy_id))return null;try{const S=await Ae.get(`/api/academy/${o.academy_id}/`);if(S.data){const k=S.data.profile_data||S.data,_=B=>{for(const z of B){const F=k[z];if(F!=null&&typeof F=="string")return F}},N=_(["academy_name","name","first_name","firstName"])||o.provider||"",E=_(["profile_photo_url","profilePhotoUrl","profile_image_url","profileImageUrl","profile_photo","profilePhoto"]),A=_(["logo_url","logoUrl","logo","image"]),T=_(["description","desc","about"]),D={id:o.academy_id,academy_name:N,slug:_(["slug"])||(N?qc(N):void 0),profile_photo_url:E&&E.trim()!==""?E:null,logo_url:A&&A.trim()!==""?A:null,description:T&&T.trim()!==""?T:null};return console.log(" Academy profile fetched from API:",{academyId:o.academy_id,rawData:k,profileData:D,logoUrl:A}),D}}catch(S){console.debug("Could not fetch academy profile from API, trying Supabase",S)}try{const{data:S,error:j}=await Lt.from("academy_profiles").select("id, academy_name, logo_url, description").eq("id",o.academy_id).single();if(!j&&S){const k={id:S.id,academy_name:S.academy_name||o.provider||"",slug:S.academy_name?qc(S.academy_name):void 0,profile_photo_url:null,logo_url:S.logo_url&&S.logo_url.trim()!==""?S.logo_url:null,description:S.description&&S.description.trim()!==""?S.description:null};return console.log(" Academy profile fetched from Supabase:",{academyId:o.academy_id,supabaseData:S,profile:k}),k}}catch(S){console.debug("Could not fetch academy profile from Supabase",S)}return{id:o.academy_id,academy_name:o.provider||"",slug:o.provider?qc(o.provider):void 0,profile_photo_url:null,logo_url:null,description:null}},enabled:!!(o!=null&&o.academy_id)}),f=mo({mutationFn:async S=>{if(!(t!=null&&t.id))throw new Error("User not logged in");a(!0);try{await Ae.post(`/api/save-course/${S}/`)}catch(j){console.error("Error saving course:",j);let k="Failed to save course. Please try again.";if(j&&typeof j=="object"&&"response"in j&&j.response&&typeof j.response=="object"&&"data"in j.response){const _=j.response.data;k=_.detail||_.message||_.error||k}else j instanceof Error&&(k=j.message);throw new Error(k)}finally{a(!1)}},onMutate:async S=>{await r.cancelQueries({queryKey:["savedCourses",t==null?void 0:t.id]});const j=r.getQueryData(["savedCourses",t==null?void 0:t.id]);return r.setQueryData(["savedCourses",t==null?void 0:t.id],k=>{if(!k)return k;const _=String(S);return k.includes(_)?k.filter(N=>N!==_):[...k,_]}),{previousSavedCourses:j}},onError:(S,j,k)=>{k!=null&&k.previousSavedCourses&&r.setQueryData(["savedCourses",t==null?void 0:t.id],k.previousSavedCourses);let _="Failed to save course. Please try again.";if(S&&typeof S=="object"&&"response"in S&&S.response&&typeof S.response=="object"&&"data"in S.response){const N=S.response.data;_=N.detail||N.message||N.error||_}else S instanceof Error&&(_=S.message);se.error(_)},onSuccess:(S,j,k)=>{var E;r.invalidateQueries({queryKey:["savedCourses",t==null?void 0:t.id]}),r.invalidateQueries({queryKey:["courses"]}),r.invalidateQueries({queryKey:["profile"]});const _=String(j),N=((E=k==null?void 0:k.previousSavedCourses)==null?void 0:E.includes(_))||!1;se.success(`"${o==null?void 0:o.title}" has been ${N?"unsaved":"saved"} successfully.`)}}),d=()=>{if(!t||!o){se.error("Please log in to save courses.");return}const S=String(o.id);f.mutate(S)};if(i)return s.jsx(At,{children:s.jsx("div",{className:"p-8",children:"Loading..."})});if(!o)return s.jsx(At,{children:s.jsx("div",{className:"p-8",children:"Course not found."})});const y=o.academy_id?`/academy/${o.academy_id}`:`/academy/${(u==null?void 0:u.slug)||qc(o.provider)}`,v=(u==null?void 0:u.academy_name)||o.provider,p=(u==null?void 0:u.profile_photo_url)||(u==null?void 0:u.logo_url)||null;console.log(" CoursePage Debug:",{courseId:e,courseAcademyId:o==null?void 0:o.academy_id,academyProfile:u,profilePhotoUrl:u==null?void 0:u.profile_photo_url,logoUrl:u==null?void 0:u.logo_url,academyImageUrl:p,academyName:v});const g=()=>o.duration.toLowerCase().includes("hour")?o.duration:"3 Hours Estimation",x=((b=o.topics)==null?void 0:b.slice(0,3))||((w=o.required_skills)==null?void 0:w.slice(0,3))||[];return s.jsx(At,{children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx(je,{className:"rounded-3xl mb-6",children:s.jsx(ke,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-stretch",children:[s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx(vt,{className:"text-3xl font-bold mb-4 text-black",children:o.title}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[x.slice(0,3).map((S,j)=>s.jsx("div",{className:"h-5 bg-gray-200 rounded px-2 text-xs text-gray-500 flex items-center min-w-[60px]",children:S},j)),x.length===0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-5 bg-gray-200 rounded px-2 w-16"}),s.jsx("div",{className:"h-5 bg-gray-200 rounded px-2 w-16"}),s.jsx("div",{className:"h-5 bg-gray-200 rounded px-2 w-16"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(dh,{src:p||void 0,alt:v,fallback:v?v.charAt(0).toUpperCase():"A",size:"sm",className:"flex-shrink-0 !h-10 !w-10 !rounded-full"}),s.jsx("span",{className:"text-gray-600 text-base font-medium",children:v})]}),s.jsxs("div",{className:"flex gap-3 mt-auto",children:[s.jsx(te,{onClick:d,disabled:n||!t,variant:c?"outline":"default",className:"flex items-center gap-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx(ds,{className:"h-4 w-4 animate-spin"}),c?"Unsaving...":"Saving..."]}):c?s.jsxs(s.Fragment,{children:[s.jsx(On,{className:"h-4 w-4 text-red-500 fill-red-500 animate-heart-pop"}),"Saved"]}):s.jsxs(s.Fragment,{children:[s.jsx(On,{className:"h-4 w-4"}),"Save Course"]})}),s.jsx(te,{children:"Enroll Now"})]})]}),s.jsx("div",{className:"w-full h-[300px] flex items-center justify-center overflow-hidden rounded-3xl",children:s.jsx("img",{src:o.image,alt:o.title,className:"w-full h-[300px] object-cover rounded-3xl"})})]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Description"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:o.description||"description here"})]}),s.jsxs(je,{className:"rounded-3xl",children:[s.jsx(ot,{className:"pb-4",children:s.jsx(vt,{className:"text-xl font-semibold mb-4 text-gray-900",children:"Details content"})}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zo,{className:"h-5 w-5 text-gray-600 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:g()})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(hX,{className:"h-5 w-5 text-gray-600 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:"100 Points"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(t5,{className:"h-5 w-5 text-gray-600 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:"English"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xi,{className:"h-5 w-5 text-gray-600 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:"Certificate of Completion"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dg,{className:"h-5 w-5 text-gray-600 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:"No due date for this content"})]})]})]})]}),s.jsxs(je,{className:"rounded-3xl mb-6",children:[s.jsx(ot,{children:s.jsx(vt,{className:"text-xl font-semibold text-gray-900",children:"Obtain a career. Certificates"})}),s.jsx(ke,{children:s.jsx("p",{className:"text-gray-600",children:"Complete this course to earn a certificate that demonstrates your skills and knowledge."})})]}),u&&s.jsxs(je,{className:"rounded-3xl",children:[s.jsx(ot,{children:s.jsx(vt,{className:"text-xl font-semibold text-gray-900 mb-4",children:"About Academy"})}),s.jsx(ke,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(dh,{src:p||void 0,alt:v,fallback:v?v.charAt(0).toUpperCase():"A",size:"lg",className:"!h-16 !w-16 !rounded-full"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:v}),u.description?s.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:u.description}):s.jsx("p",{className:"text-gray-500 italic mb-4",children:"No description available."}),s.jsx(wr,{to:y,children:s.jsxs(te,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(Ai,{className:"h-4 w-4"}),"View Academy"]})})]})]})})]})]})})};function SOe(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(d){const{scope:h,children:y,...v}=d,p=(h==null?void 0:h[e][c])||l,g=m.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:g,children:y})}function f(d,h){const y=(h==null?void 0:h[e][c])||l,v=m.useContext(y);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const a=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,jOe(a,...t)]}function jOe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var dN="Progress",fN=100,[_Oe,w$e]=SOe(dN),[kOe,NOe]=_Oe(dN),fU=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:o=EOe,...i}=e;(a||a===0)&&!dR(a)&&console.error(COe(`${a}`,"Progress"));const l=dR(a)?a:fN;n!==null&&!fR(n,l)&&console.error(POe(`${n}`,"Progress"));const c=fR(n,l)?n:null,u=av(c)?o(c,l):void 0;return s.jsx(kOe,{scope:r,value:c,max:l,children:s.jsx(Ke.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":av(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":pU(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});fU.displayName=dN;var hU="ProgressIndicator",mU=m.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=NOe(hU,r);return s.jsx(Ke.div,{"data-state":pU(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});mU.displayName=hU;function EOe(e,t){return`${Math.round(e/t*100)}%`}function pU(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function av(e){return typeof e=="number"}function dR(e){return av(e)&&!isNaN(e)&&e>0}function fR(e,t){return av(e)&&!isNaN(e)&&e<=t&&e>=0}function COe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${fN}\`.`}function POe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${fN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var gU=fU,AOe=mU;const yU=m.forwardRef(({className:e,value:t,...r},n)=>s.jsx(gU,{ref:n,className:fe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(AOe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));yU.displayName=gU.displayName;function TOe({onPhaseChange:e,onTechQChange:t,onSoftQChange:r}={}){const{user:n}=lr(),a=tr(),[o,i]=m.useState("career"),[l,c]=m.useState([]),[u,f]=m.useState(0),[d,h]=m.useState([]),[y,v]=m.useState(null),[p,g]=m.useState(null),[x,b]=m.useState(null),[w,S]=m.useState(null),[j,k]=m.useState(null),[_,N]=m.useState(null),[E,A]=m.useState(!1),[T,D]=m.useState(!1),[B,z]=m.useState(null),[F,$]=m.useState(!1),[U,P]=m.useState(0),[M,W]=m.useState(null),[R,q]=m.useState(null),[ee,ne]=m.useState(0),[ce,ue]=m.useState(!1),[ie,O]=m.useState(!1),L=5,H=["   ...","  ...","  ...","   ...","  ..."];m.useEffect(()=>{if(F){const ge=setInterval(()=>{P(xe=>(xe+1)%5)},1e3);return()=>clearInterval(ge)}},[F]),m.useEffect(()=>{e&&e(o)},[o,e]),m.useEffect(()=>{t&&t(j)},[j,t]),m.useEffect(()=>{r&&r(_)},[_,r]),m.useEffect(()=>{o==="career"&&Ae.get(`/api/career-questions-random/?limit=${L}`).then(ge=>c(ge.data)).catch(ge=>console.error(ge))},[o]);const X=async ge=>{if(!n){console.warn("No user found, cannot save test results");return}try{console.log(" Saving test results for user:",n.id),console.log(" Raw test results data:",ge);const xe=Number(ge.total_score),qe=Number(ge.total_questions);console.log(" Validation check:"),console.log("  - Total Score (raw):",ge.total_score,"Type:",typeof ge.total_score),console.log("  - Total Questions (raw):",ge.total_questions,"Type:",typeof ge.total_questions),console.log("  - Total Score (converted):",xe,"isNaN:",isNaN(xe)),console.log("  - Total Questions (converted):",qe,"isNaN:",isNaN(qe)),(isNaN(xe)||isNaN(qe))&&(console.error(" Invalid score values detected!"),console.error("  - total_score:",ge.total_score,"",xe),console.error("  - total_questions:",ge.total_questions,"",qe));const rt={tech:ge.tech_score_per_skill||{},soft:ge.soft_score_per_skill||{}},nt={user:n.id,total_score:xe,total_questions:qe,final_role:ge.final_role||"N/A",skills_json:rt,career_answers:ge.career_answers||[]};console.log(" Final payload being sent:",JSON.stringify(nt,null,2)),console.log(" Payload types:",{user:typeof nt.user,total_score:typeof nt.total_score,total_questions:typeof nt.total_questions,final_role:typeof nt.final_role});const yt=await Ae.post("/api/skilltest/save/",nt);console.log(" Test results saved successfully!"),console.log(" Response:",yt.data),console.log(" Saved total_score:",nt.total_score),console.log(" Saved total_questions:",nt.total_questions),a("/skill-path")}catch(xe){console.error(" Error saving test results:"),console.error("Full error object:",xe),xe.response?(console.error(" Response status:",xe.response.status),console.error(" Response data:",JSON.stringify(xe.response.data,null,2)),console.error(" Response headers:",xe.response.headers)):xe.request?console.error(" No response received:",xe.request):console.error(" Error setting up request:",xe.message)}},V=ge=>{g(ge.text),y||v(ge.RoleMapping)},ae=()=>{if(!p)return;const ge=l[u];h(xe=>[...xe,{questionId:ge.id,answer:p}]),g(null),u+1<l.length?(f(u+1),ne(xe=>xe+1)):(ue(!0),ne(xe=>xe+1))},Z=()=>{ue(!1),i("assessment"),de(),ne(ge=>ge+1)},de=async()=>{var ge,xe,qe,rt,nt,yt,at,We,J,K,re,we;try{console.log(" Starting assessments..."),console.log(" Starting tech assessment with params:",{num_questions:L,RoleMapping:y});const Pe=await Ae.post("/api/start-assessment/",{num_questions:L,RoleMapping:y});console.log(" Tech Response:",Pe.data),b(Pe.data),k(Pe.data.questions[0]),ne(Ze=>Ze+1),console.log(" Starting SOFT SKILLS assessment with params:",{num_questions:L});const Te=await Ae.post("/api/soft/start/",{num_questions:L});console.log(" SOFT SKILLS API Response - Full Data:",Te.data),console.log(" SOFT SKILLS Response Keys:",Object.keys(Te.data)),S(Te.data),console.log(" SOFT SKILLS - Response Details:",{session_id:(ge=Te.data)==null?void 0:ge.session_id,first_question:(xe=Te.data)==null?void 0:xe.first_question,questions:(qe=Te.data)==null?void 0:qe.questions,question:(rt=Te.data)==null?void 0:rt.question,text:(nt=Te.data)==null?void 0:nt.text,option1:(yt=Te.data)==null?void 0:yt.option1,option2:(at=Te.data)==null?void 0:at.option2,option3:(We=Te.data)==null?void 0:We.option3,option4:(J=Te.data)==null?void 0:J.option4,hasQuestionsArray:Array.isArray((K=Te.data)==null?void 0:K.questions),questionsLength:(we=(re=Te.data)==null?void 0:re.questions)==null?void 0:we.length});let Je=null;Te.data.first_question?(console.log(" Found first_question field:",Te.data.first_question),Je=Te.data.first_question):Te.data.questions&&Te.data.questions[0]?(console.log(" Found questions array, using first item:",Te.data.questions[0]),Je=Te.data.questions[0]):Te.data.question?(console.log(" Found question field:",Te.data.question),Je=Te.data.question):(console.log(" No question found in expected fields, using full response:",Te.data),Je=Te.data),console.log(" Setting soft question to:",Je),console.log(" Soft question has keys:",Object.keys(Je||{}));const $e={...Te.data,first_question:Je};S($e),console.log(" Assessments started successfully")}catch(Pe){console.error(" Error starting assessments:",Pe),Pe instanceof Error&&console.error("Error message:",Pe.message)}},oe=async()=>{if(!(!x||!j||!M))try{const ge=await Ae.post("/api/submit-answer/",{session_id:x.session_id,question_text:j.text,answer:M});W(null),ge.data.next_question?(k(ge.data.next_question),ne(xe=>xe+1)):(A(!0),k(null),O(!0),ne(xe=>xe+1))}catch(ge){console.error(ge)}},ye=async()=>{if(!(!w||!_||!R))try{console.log(" Submitting soft answer:",{session:w,sessionId:w==null?void 0:w.session_id,currentQuestion:_,currentQuestionKeys:_?Object.keys(_):[],answer:R});const ge=_.questiontext||_.text||_.question||"";console.log(" Question text being sent:",ge);const xe={session_id:w.session_id,question_text:ge,answer:R};console.log(" Request payload:",xe);const qe=await Ae.post("/api/soft/submit/",xe);console.log(" Soft answer response:",qe.data),q(null),qe.data.next_question?(console.log(" Got next question:",qe.data.next_question),N(qe.data.next_question),ne(rt=>rt+1)):(console.log(" Soft questions completed"),D(!0),N(null),it())}catch(ge){console.error(" Error submitting soft answer:",ge),ge instanceof Error&&console.error("Error details:",ge.message)}},be=async()=>{if(O(!1),await Be(),w)try{let ge=null;if(w.first_question)ge=w.first_question;else if(w.questions&&w.questions[0])ge=w.questions[0];else if(w.question)ge=w.question;else{const xe=await Ae.post("/api/soft/next/",{session_id:w.session_id});xe.data.next_question?ge=xe.data.next_question:xe.data.question?ge=xe.data.question:xe.data.first_question?ge=xe.data.first_question:ge=xe.data}ge?(N(ge),ne(xe=>xe+1)):console.error(" No soft question found")}catch(ge){console.error(" Error getting first soft question:",ge)}},Be=async()=>{if(x)try{console.log(" Finishing tech assessment with session:",x.session_id);const ge=await Ae.post("/api/finish-assessment/",{session_id:x.session_id});console.log(" Tech assessment finish response:",ge.data),console.log(" Tech response keys:",Object.keys(ge.data)),console.log(" Tech total_score:",ge.data.total_score),console.log(" Tech total_questions:",ge.data.total_questions),z(xe=>({...xe,tech:ge.data}))}catch(ge){console.error(" Error finishing tech assessment:",ge)}},it=async()=>{if(w)try{console.log(" Finishing soft assessment with session:",w.session_id);const ge=await Ae.post("/api/soft/finish/",{session_id:w.session_id});console.log(" Soft assessment finish response:",ge.data),console.log(" Soft response keys:",Object.keys(ge.data)),console.log(" Soft total_score:",ge.data.total_score),console.log(" Soft total_questions:",ge.data.total_questions),z(xe=>({...xe,soft:ge.data}))}catch(ge){console.error(" Error finishing soft assessment:",ge)}};if(m.useEffect(()=>{var ge,xe,qe,rt,nt,yt,at,We,J,K;if(E&&T&&B&&n){$(!0),P(0),console.log(" Full results object:",B),console.log(" Tech results:",B.tech),console.log(" Soft results:",B.soft);let re=(ge=B.tech)==null?void 0:ge.total_score,we=(xe=B.soft)==null?void 0:xe.total_score,Pe=(qe=B.tech)==null?void 0:qe.total_questions,Te=(rt=B.soft)==null?void 0:rt.total_questions;if(!re&&((nt=B.tech)!=null&&nt.score_per_skill)){console.log(" Calculating tech score from skill percentages");const Me=Object.values(B.tech.score_per_skill).map(C=>parseFloat(C.replace("%",""))),Re=Me.reduce((C,Y)=>C+Y,0)/Me.length;re=Math.round(Re*L/100),Pe=L,console.log(" Calculated tech score:",re,"from avg percentage:",Re)}if(!we&&((yt=B.soft)!=null&&yt.score_per_skill)){console.log(" Calculating soft score from skill percentages");const Me=Object.values(B.soft.score_per_skill).map(C=>parseFloat(C.replace("%",""))),Re=Me.reduce((C,Y)=>C+Y,0)/Me.length;we=Math.round(Re*L/100),Te=L,console.log(" Calculated soft score:",we,"from avg percentage:",Re)}re=re||0,we=we||0,Pe=Pe||0,Te=Te||0,console.log(" Final score extraction:"),console.log("  - Tech Score:",re,"Questions:",Pe),console.log("  - Soft Score:",we,"Questions:",Te);const Je=re+we,$e=Pe+Te;if(console.log(" Calculated totals:"),console.log("  - Total Score:",Je),console.log("  - Total Questions:",$e),isNaN(Je)||isNaN($e)||$e===0){console.error(" Invalid calculated values:",{totalScore:Je,totalQuestions:$e}),console.error(" Trying to save with numQuestions:",L*2);const Me=L*2;console.log(" Using fallback values:",{fallbackScore:Je||0,fallbackQuestions:Me})}const Ze=((at=B.soft)==null?void 0:at.final_role)||((We=B.tech)==null?void 0:We.final_role)||"N/A",he={total_score:Je||0,total_questions:$e||L*2,final_role:Ze,tech_score_per_skill:((J=B.tech)==null?void 0:J.score_per_skill)||{},soft_score_per_skill:((K=B.soft)==null?void 0:K.score_per_skill)||{},career_answers:d};console.log(" Final results to save:",he),console.log(" Type check:",{total_score_type:typeof he.total_score,total_questions_type:typeof he.total_questions,total_score_value:he.total_score,total_questions_value:he.total_questions}),setTimeout(()=>{console.log(" 5 seconds passed, saving results now"),$(!1),i("finished"),X(he)},5e3)}},[E,T,B,n]),ce)return s.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-8 flex items-center justify-center",children:s.jsx(xi,{className:"w-32 h-32 md:w-40 md:h-40 text-[#01bfff] dark:text-[#5AC9F8]"})}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Great Job! "}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed mb-2",children:"You've completed the interest assessment. Now let's evaluate your technical skills."}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Take your time and answer honestly - this helps us find the perfect role for you."})]}),s.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:s.jsxs(te,{onClick:Z,className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",children:["Continue",s.jsx(ja,{className:"h-4 w-4 ml-2"})]})})]},ee);if(ie)return s.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-8 flex items-center justify-center",children:s.jsx(eu,{className:"w-32 h-32 md:w-40 md:h-40 text-green-500 dark:text-green-400"})}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Excellent Progress! "}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed mb-2",children:"You've finished the technical skills assessment. Well done!"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Just one more section - let's explore your soft skills and communication abilities."})]}),s.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:s.jsxs(te,{onClick:be,className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",children:["Continue",s.jsx(ja,{className:"h-4 w-4 ml-2"})]})})]},ee);if(o==="career"&&l.length>0){const ge=l[u];return s.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"mt-2 mb-4 text-xl font-semibold text-gray-800 dark:text-foreground",children:ge.text}),s.jsx("div",{className:"space-y-3",children:ge.options.map((xe,qe)=>{const rt=String.fromCharCode(65+qe),nt=p===xe.text;return s.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${nt?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-[rgba(26,38,51,0.3)] border-blue-200 dark:border-gray-700 hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>V(xe),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${nt?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:s.jsx("span",{className:`text-xs font-medium ${nt?"text-white":"text-gray-600 dark:text-gray-300"}`,children:rt})}),s.jsx("span",{className:`flex-1 text-left ${nt?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:xe.text})]})},xe.id)})})]}),s.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:s.jsxs(te,{onClick:ae,disabled:!p,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",s.jsx(ja,{className:"h-4 w-4"})]})})]},ee)}if(!x||!w)return console.log(" Waiting for sessions...",{hasTechSession:!!x,hasSoftSession:!!w,techSession:x,softSession:w}),s.jsx("div",{className:"p-8 max-w-xl mx-auto mb-8 bg-white dark:bg-card rounded-md  text-center dark:text-foreground",children:"Loading assessments..."});if(console.log(" Render State:",{hasCurrentTechQ:!!j,hasCurrentSoftQ:!!_,techDone:E,softDone:T,currentTechQData:j,currentSoftQData:_}),j)return s.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-foreground mb-4",children:j.text}),s.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(ge=>{const xe=j[`option${ge}`];if(xe){const qe=String.fromCharCode(64+ge),rt=M===xe;return s.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${rt?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-muted border-blue-200 dark:border-border hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>W(xe),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${rt?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:s.jsx("span",{className:`text-xs font-medium ${rt?"text-white":"text-gray-600 dark:text-gray-300"}`,children:qe})}),s.jsx("span",{className:`flex-1 text-left ${rt?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:xe})]})},ge)}return null})})]}),s.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:s.jsxs(te,{onClick:oe,disabled:!M,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",s.jsx(ja,{className:"h-4 w-4"})]})})]},ee);if(_){console.log(" RENDERING SOFT QUESTION - Raw Data:",_),console.log(" RENDERING SOFT QUESTION - Has Keys:",Object.keys(_)),console.log(" RENDERING SOFT QUESTION - Values:",{questiontext:_.questiontext,text:_.text,question:_.question,option1:_.option1,option2:_.option2,option3:_.option3,option4:_.option4,hasQuestiontext:!!_.questiontext,hasText:!!_.text,hasQuestion:!!_.question,hasOptions:!!(_.option1||_.option2||_.option3||_.option4)});const ge=_.questiontext||_.text||_.question||"Question text unavailable";return _.option1||_.option2||_.option3||_.option4?s.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-foreground mb-4",children:ge}),s.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(qe=>{const rt=_[`option${qe}`];if(rt){const nt=String.fromCharCode(64+qe),yt=R===rt;return s.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${yt?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-muted border-blue-200 dark:border-border hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>q(rt),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${yt?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:s.jsx("span",{className:`text-xs font-medium ${yt?"text-white":"text-gray-600 dark:text-gray-300"}`,children:nt})}),s.jsx("span",{className:`flex-1 text-left ${yt?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:rt})]})},qe)}return null})})]}),s.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:s.jsxs(te,{onClick:ye,disabled:!R,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",s.jsx(ja,{className:"h-4 w-4"})]})})]},ee):s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xl font-bold mb-2 dark:text-foreground",children:" Error Loading Question"}),s.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:"The question data structure is incomplete."}),s.jsx("pre",{className:"text-xs bg-gray-100 dark:bg-muted text-gray-800 dark:text-foreground p-4 overflow-auto",children:JSON.stringify(_,null,2)})]})}return F?s.jsx("div",{className:"w-full flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"h-32 w-32 rounded-full bg-gradient-to-r from-blue-500 to-[#01bfff] animate-spin"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:s.jsx(xi,{className:"h-12 w-12 text-white"})})]}),s.jsx("h2",{className:"text-3xl font-bold text-[#00afea] mb-4 text-center",children:H[U]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center max-w-md",children:"      "}),s.jsx("div",{className:"mt-8 w-full max-w-md",children:s.jsx(yU,{value:(U+1)/H.length*100,className:"h-2"})})]})}):o==="finished"?s.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-32 h-32 mx-auto mb-8 flex items-center justify-center",children:s.jsx(xi,{className:"w-32 h-32 text-green-500 dark:text-green-400 animate-pulse"})}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Test Completed! "}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground",children:"Redirecting to your skill path..."})]})}):s.jsx("div",{className:"p-8 max-w-xl mx-auto mb-8 bg-white dark:bg-card rounded-md border border-gray-200 dark:border-border text-center dark:text-foreground",children:"Loading..."})}const OOe=({phase:e,currentTechQ:t,currentSoftQ:r})=>{const n=e==="career"?1:e==="assessment"&&t?2:3,a=[{index:1,name:"Interests"},{index:2,name:"Tech Skills"},{index:3,name:"Soft Skills"}],o=i=>{const l=n>=i.index,c=n>i.index;return s.jsxs("div",{className:"flex-1 flex flex-col items-center min-w-[80px] md:min-w-[120px]",children:[s.jsx("div",{className:`h-2 md:h-3 w-full rounded-full transition-all duration-500 flex items-center justify-center ${c?"bg-green-500 dark:bg-green-600":l?"bg-[#01bfff]":"bg-gray-200 dark:bg-gray-700"}`}),s.jsx("span",{className:`mt-2 text-xs md:text-sm font-semibold transition-colors duration-500 ${c?"text-green-600 dark:text-green-400":l?"text-[#01bfff] dark:text-[#5AC9F8]":"text-gray-500 dark:text-gray-400"}`,children:i.name})]})};return s.jsx("div",{className:"w-full max-w-[200px] md:max-w-[600px]",children:s.jsx("div",{className:"flex items-center justify-center gap-1.5 md:gap-2",children:a.map(i=>o(i))})})},ROe=({onStart:e})=>s.jsxs("div",{className:"flex flex-col h-full md:h-auto w-full",children:[s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"w-40 h-40 md:w-56 md:h-56 mx-auto mb-8 flex items-center justify-center transition-all duration-500",children:s.jsx("img",{src:"/lovable-uploads/3dicons-target-dynamic-color.png",alt:"Target",className:"w-40 h-40 md:w-56 md:h-56 object-contain transition-transform duration-500 hover:scale-105"})}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4 transition-opacity duration-500",children:"Skill Assessment Test"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed transition-opacity duration-500",children:"Discover your strengths and unlock personalized career opportunities. Our comprehensive assessment evaluates your technical skills, soft skills, and career interests to provide tailored recommendations."})]}),s.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:s.jsx(te,{className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",onClick:e,children:"Start the Test"})})]}),$Oe=()=>{const e=tr(),t=Yl(),[r,n]=m.useState(!1),[a,o]=m.useState("career"),[i,l]=m.useState(null),[c,u]=m.useState(null),[f,d]=m.useState(!1),[h,y]=m.useState(!1),[v,p]=m.useState(!1),g=ma(),x=()=>{p(!0)},b=()=>{p(!1),e(-1)},w=()=>{p(!1)},S={showSidebar:!1,showHeader:!1,background:"white"};return r?s.jsxs(At,{...S,children:[s.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F8F9FA] dark:bg-[#181818] animate-in fade-in duration-500",children:[s.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto_1fr] md:grid-cols-3 items-center px-6 py-6 md:px-8 md:py-6 transition-all duration-300",children:[s.jsxs("div",{className:"flex justify-start items-center",children:[!f&&!h&&s.jsx("div",{className:"h-8 w-8 md:w-28 bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-gray-400 hidden md:inline",children:"Loading..."})}),s.jsx("img",{src:"/lovable-uploads/breneo-only-logo.png",alt:"Breneo Logo",className:`h-8 w-8 md:hidden transition-opacity duration-300 ${f?"opacity-100":"opacity-0"}`,onLoad:()=>d(!0),onError:()=>{y(!0),d(!0)}}),s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`hidden md:block h-8 transition-opacity duration-300 ${f?"opacity-100":"opacity-0"}`,onLoad:()=>d(!0),onError:()=>{y(!0),d(!0)}}),h&&s.jsx("div",{className:"h-8 w-8 md:w-28 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 hidden md:inline",children:"Breneo"})})]}),s.jsx("div",{className:"flex justify-center items-center",children:s.jsx(OOe,{phase:a,currentTechQ:i,currentSoftQ:c})}),s.jsx("div",{className:"flex justify-end items-center",children:s.jsxs(te,{variant:"ghost",onClick:x,className:"h-10 w-10 md:h-10 md:w-auto md:px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium flex items-center justify-center gap-2 transition-colors p-0",children:[s.jsx(po,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden md:inline",children:t.common.cancel})]})})]}),s.jsx("div",{className:"flex-1 w-full overflow-y-auto px-[15px] pb-[15px] pt-2",children:s.jsx("div",{className:"h-full w-full rounded-lg bg-white dark:bg-[#242424] p-8 md:py-8 md:px-[15rem] flex flex-col justify-center md:justify-center transition-opacity duration-500",children:s.jsx("div",{className:"max-w-xl mx-auto w-full h-full md:h-auto flex flex-col transition-all duration-500",children:s.jsx(TOe,{onPhaseChange:o,onTechQChange:l,onSoftQChange:u})})})})]}),g?s.jsx(Kr,{open:v,onOpenChange:p,children:s.jsxs(Gr,{children:[s.jsx(Jr,{children:s.jsx(Yr,{children:"Are you sure?"})}),s.jsx("div",{className:"px-6 pb-4",children:s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."})}),s.jsxs(ka,{className:"flex flex-col gap-2",children:[s.jsx(te,{onClick:w,className:"w-full bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90",children:"Stay Here"}),s.jsx(te,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})}):s.jsx(xn,{open:v,onOpenChange:p,children:s.jsxs(an,{children:[s.jsx(on,{children:s.jsx(sn,{className:"text-center",children:"Are you sure?"})}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 text-center",children:"Your progress will be lost if you exit the test."}),s.jsxs(bn,{className:"flex flex-col gap-2",children:[s.jsx(te,{onClick:w,className:"w-full bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90",children:"Stay Here"}),s.jsx(te,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})})]}):s.jsxs(At,{...S,children:[s.jsxs("div",{className:"flex flex-col h-full w-full bg-[#efefef] dark:bg-[#181818] animate-in fade-in duration-500",children:[s.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto_1fr] md:grid-cols-3 items-center px-6 py-6 md:px-8 md:py-6 transition-all duration-300",children:[s.jsxs("div",{className:"flex justify-start items-center",children:[!f&&!h&&s.jsx("div",{className:"h-8 w-8 md:w-28 bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-gray-400 hidden md:inline",children:"Loading..."})}),s.jsx("img",{src:"/lovable-uploads/breneo-only-logo.png",alt:"Breneo Logo",className:`h-8 w-8 md:hidden transition-opacity duration-300 ${f?"opacity-100":"opacity-0"}`,onLoad:()=>d(!0),onError:()=>{y(!0),d(!0)}}),s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`hidden md:block h-8 transition-opacity duration-300 ${f?"opacity-100":"opacity-0"}`,onLoad:()=>d(!0),onError:()=>{y(!0),d(!0)}}),h&&s.jsx("div",{className:"h-8 w-8 md:w-28 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 hidden md:inline",children:"Breneo"})})]}),s.jsx("div",{className:"flex justify-center items-center"}),s.jsx("div",{className:"flex justify-end items-center",children:s.jsxs(te,{variant:"ghost",onClick:x,className:"h-10 w-10 md:h-10 md:w-auto md:px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium flex items-center justify-center gap-2 transition-colors p-0",children:[s.jsx(po,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden md:inline",children:t.common.cancel})]})})]}),s.jsx("div",{className:"flex-1 w-full overflow-y-auto px-[15px] pb-[15px] pt-2",children:s.jsx("div",{className:"h-full w-full rounded-lg bg-white dark:bg-[#242424] p-8 md:py-8 md:px-[15rem] flex flex-col justify-center md:justify-center transition-opacity duration-500",children:s.jsx("div",{className:"max-w-xl mx-auto w-full h-full md:h-auto flex flex-col",children:s.jsx(ROe,{onStart:()=>n(!0)})})})})]}),g?s.jsx(Kr,{open:v,onOpenChange:p,children:s.jsxs(Gr,{children:[s.jsx(Jr,{children:s.jsx(Yr,{children:"Are you sure?"})}),s.jsx("div",{className:"px-6 pb-4",children:s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."})}),s.jsxs(ka,{className:"flex flex-col gap-2",children:[s.jsx(te,{onClick:w,className:"w-full bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90",children:"Stay Here"}),s.jsx(te,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})}):s.jsx(xn,{open:v,onOpenChange:p,children:s.jsxs(an,{children:[s.jsx(on,{children:s.jsx(sn,{children:"Are you sure?"})}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."}),s.jsxs(bn,{className:"flex flex-col gap-2",children:[s.jsx(te,{onClick:w,className:"w-full bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90",children:"Stay Here"}),s.jsx(te,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})})]})};async function hR(e,t,r){var l,c,u;const n=t&&t.length>0?`The user has strong skills in: ${t.slice(0,5).join(", ")}. `:"",a=r?`The user's skills match this role at about ${Math.round(r)}%. `:"",o=3;let i=null;for(let f=1;f<=o;f++)try{const d=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are a friendly career advisor. Write a personalized, engaging EXPANDED summary about the **${e}** role in a conversational, encouraging tone similar to "Your Recommended Career Path" explanations.

CRITICAL: You MUST write a very detailed, expanded summary with 6-8 sentences. Do NOT write a short summary.

Style guidelines:
- Use simple, human-friendly language (like talking to a friend)
- Be encouraging and positive
- Use **bold** for the role name when first mentioned
- Write 6-8 detailed, comprehensive sentences (minimum 6 sentences)
- Make it feel personalized and relevant
- Be very specific about what the role involves
- Provide extensive detail about responsibilities, opportunities, and career growth

Include:
1. What makes **${e}** a great career path
2. What the role involves and why it's exciting
3. How it allows people to use their skills and grow
4. The opportunities and stability this career offers
5. Why it's a rewarding path

${n}${a}Write in a warm, friendly tone that makes the reader excited about this career path. Make sure your response is at least 4 sentences long.`},{role:"user",content:`Write a friendly, personalized VERY EXPANDED summary (6-8 sentences, minimum 6) about the **${e}** role that matches the style of "Your Recommended Career Path" explanations. Make it engaging, encouraging, and very detailed with extensive information.`}],max_tokens:800,temperature:.8})});if(d.ok){const v=(((u=(c=(l=(await d.json()).choices)==null?void 0:l[0])==null?void 0:c.message)==null?void 0:u.content)||"").trim();if(v&&v.length>200&&(v.match(/[.!?]/g)||[]).length>=4)return v;if(f<o){console.warn(`Summary too short for ${e}, attempt ${f}/${o}, retrying...`),await new Promise(p=>setTimeout(p,1e3*f));continue}if(v)return v}else{const h=await d.text().catch(()=>"Unknown error");if(i=new Error(`API error: ${d.status} - ${h}`),f<o){console.warn(`API error for ${e}, attempt ${f}/${o}, retrying...`),await new Promise(y=>setTimeout(y,1e3*f));continue}}}catch(d){if(i=d instanceof Error?d:new Error(String(d)),console.error(`Error generating role summary (attempt ${f}):`,d),f<o){await new Promise(h=>setTimeout(h,1e3*f));continue}}return console.warn(`Failed to generate summary for ${e} after ${o} attempts, using expanded fallback`),`**${e}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${e.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities. Whether you're working on innovative projects, building user experiences, or solving complex problems, this career path offers both stability and the excitement of working at the forefront of your industry.`}async function mR(e){var r,n,a;try{const o=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are an expert job market analyst and career advisor. Generate a comprehensive list of the most important required skills for a ${e} position.

Requirements:
1. Include 15-20 comprehensive skills that are truly required for this role
2. Mix of technical/hard skills (60-70%) and soft/interpersonal skills (30-40%)
3. Use standard, professional skill names (e.g., "JavaScript" not "JS", "React" not "React.js")
4. Include both foundational skills and advanced/specialized skills relevant to ${e}
5. Make skills specific to this role - different roles should have different skill sets
6. Include industry-standard tools, technologies, and methodologies
7. Consider both entry-level and mid-level requirements
8. Include ALL important skills - be comprehensive and thorough

Return ONLY a JSON array of skill names, nothing else. No explanations, no markdown, just the array.

Example output format: ["JavaScript", "React", "Node.js", "TypeScript", "REST APIs", "Git", "Problem Solving", "Team Collaboration", "Agile Methodologies", "Code Review"]`},{role:"user",content:`Generate a comprehensive list of required skills for a ${e} role. Include both technical and soft skills that are essential for success in this position. Return only a JSON array.`}],max_tokens:800,temperature:.4})});if(o.ok){const l=((a=(n=(r=(await o.json()).choices)==null?void 0:r[0])==null?void 0:n.message)==null?void 0:a.content)||"";try{const c=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),u=JSON.parse(c);if(Array.isArray(u))return u.filter(f=>typeof f=="string"&&f.trim().length>0)}catch{const u=l.split(`
`).map(d=>d.trim()).filter(Boolean),f=[];for(const d of u){const h=d.replace(/^[-*]\s*/,"").replace(/^\d+\.\s*/,"").trim();h&&h.length<50&&f.push(h)}if(f.length>0)return f}}}catch(o){console.error("Error generating required skills:",o)}const t=e.toLowerCase();return t.includes("developer")||t.includes("engineer")?["Programming","Problem Solving","Version Control","Testing"]:t.includes("designer")||t.includes("design")?["Design Thinking","Prototyping","User Research","Visual Design"]:t.includes("analyst")||t.includes("data")?["Data Analysis","SQL","Statistics","Data Visualization"]:t.includes("manager")||t.includes("product")?["Project Management","Strategic Thinking","Communication","Agile"]:[]}const Xn={"software engineer":{min:7e4,max:15e4},"software developer":{min:65e3,max:14e4},"full stack developer":{min:75e3,max:16e4},"frontend developer":{min:6e4,max:13e4},"backend developer":{min:7e4,max:15e4},javascript:{min:65e3,max:14e4},"javascript developer":{min:65e3,max:14e4},python:{min:7e4,max:15e4},"python developer":{min:7e4,max:15e4},react:{min:7e4,max:15e4},"react developer":{min:7e4,max:15e4},"node.js":{min:75e3,max:16e4},typescript:{min:75e3,max:16e4},java:{min:8e4,max:17e4},"java developer":{min:8e4,max:17e4},"data analyst":{min:55e3,max:1e5},"data scientist":{min:9e4,max:18e4},"data engineer":{min:85e3,max:16e4},"data analysis":{min:55e3,max:1e5},"data analytics":{min:6e4,max:11e4},"business analyst":{min:6e4,max:11e4},"ux designer":{min:6e4,max:12e4},"ui designer":{min:55e3,max:11e4},"ui/ux designer":{min:6e4,max:12e4},"ui/ux design":{min:6e4,max:12e4},"product designer":{min:8e4,max:15e4},"graphic designer":{min:4e4,max:8e4},"product manager":{min:9e4,max:18e4},"product management":{min:9e4,max:18e4},"project manager":{min:7e4,max:13e4},"scrum master":{min:75e3,max:14e4},"devops engineer":{min:9e4,max:16e4},devops:{min:9e4,max:16e4},"cloud engineer":{min:95e3,max:17e4},aws:{min:1e5,max:18e4},kubernetes:{min:11e4,max:19e4},docker:{min:9e4,max:16e4},"mobile developer":{min:7e4,max:14e4},"ios developer":{min:8e4,max:15e4},"android developer":{min:75e3,max:14e4},"react native":{min:75e3,max:145e3},flutter:{min:7e4,max:135e3},cybersecurity:{min:85e3,max:16e4},"cybersecurity specialist":{min:85e3,max:16e4},"security engineer":{min:9e4,max:17e4},"penetration tester":{min:8e4,max:15e4},"qa engineer":{min:6e4,max:11e4},"quality assurance":{min:6e4,max:11e4},"test engineer":{min:65e3,max:12e4},"automation engineer":{min:7e4,max:13e4},"machine learning":{min:1e5,max:2e5},"ml engineer":{min:1e5,max:2e5},"ai engineer":{min:11e4,max:21e4},blockchain:{min:9e4,max:18e4},web3:{min:9e4,max:18e4},"vue.js":{min:7e4,max:15e4},vue:{min:7e4,max:15e4},angular:{min:75e3,max:16e4},"c#":{min:8e4,max:17e4},"c++":{min:85e3,max:18e4},go:{min:9e4,max:18e4},golang:{min:9e4,max:18e4},rust:{min:95e3,max:19e4},php:{min:6e4,max:13e4},ruby:{min:75e3,max:15e4},swift:{min:85e3,max:17e4},kotlin:{min:8e4,max:16e4},sql:{min:65e3,max:13e4},mongodb:{min:75e3,max:15e4},postgresql:{min:75e3,max:15e4},mysql:{min:7e4,max:14e4},redis:{min:8e4,max:16e4},elasticsearch:{min:9e4,max:18e4},git:{min:7e4,max:14e4},linux:{min:8e4,max:16e4},"3d modeling":{min:5e4,max:1e5},"3d modeler":{min:5e4,max:1e5},blender:{min:55e3,max:11e4},unity:{min:7e4,max:14e4},"unreal engine":{min:8e4,max:16e4}},Qb={"ai engineer":1.15,"machine learning":1.15,"ml engineer":1.15,"data scientist":1.1,cybersecurity:1.12,"security engineer":1.12,"cloud engineer":1.1,aws:1.1,kubernetes:1.12,"devops engineer":1.08,devops:1.08,rust:1.1,go:1.08,golang:1.08,javascript:1.05,"javascript developer":1.05,python:1.05,"python developer":1.05,react:1.05,"react developer":1.05,java:1.03,"java developer":1.03,php:.98,ruby:.95},pR={"United States":1,USA:1,US:1,Canada:.85,"United Kingdom":.75,UK:.75,Germany:.7,France:.65,Netherlands:.75,Switzerland:1.1,Australia:.8,Singapore:.85,Japan:.7,Georgia:.25,Poland:.4,Romania:.35,Ukraine:.3,India:.2,Brazil:.25,Mexico:.3,Argentina:.25},vU=e=>e.toLowerCase().trim().replace(/[^\w\s]/g,""),MOe=e=>{const t=vU(e);if(Qb[t])return Qb[t];for(const[r,n]of Object.entries(Qb))if(t.includes(r)||r.includes(t))return n;return 1.02},IOe=e=>{const t=vU(e);if(Xn[t])return Xn[t];const r=t.split(/\s+/);for(const o of r)if(Xn[o])return Xn[o];let n=null,a=0;for(const[o,i]of Object.entries(Xn))(t.includes(o)||o.includes(t))&&o.length>a&&(n=i,a=o.length);return n||(t.includes("full stack")||t.includes("fullstack")?Xn["full stack developer"]:t.includes("frontend")||t.includes("front end")?Xn["frontend developer"]:t.includes("backend")||t.includes("back end")?Xn["backend developer"]:t.includes("developer")||t.includes("programmer")?Xn["software developer"]:t.includes("engineer")?Xn["software engineer"]:t.includes("designer")||t.includes("design")?Xn["ui/ux designer"]:t.includes("analyst")||t.includes("analysis")?Xn["data analyst"]:t.includes("manager")||t.includes("management")?Xn["product manager"]:{min:6e4,max:12e4})},LOe=e=>{const t=e.trim();return pR[t]||pR[t.toLowerCase()]||.3},Ao=(e,t="Georgia",r="ALL")=>{try{if(!e||e.trim()==="")return console.warn("Empty job title provided, using default"),uf({min:6e4,max:12e4},"software developer",t,r);const n=IOe(e);if(!n||typeof n.min!="number"||typeof n.max!="number"||n.min<=0||n.max<=0)return console.warn(`Invalid base range for "${e}", using default`),uf({min:6e4,max:12e4},e,t,r);const a=uf(n,e,t,r);return!a.min_salary||!a.max_salary||a.min_salary<=0||a.max_salary<=0?(console.warn(`Invalid salary result for "${e}" in ${t}, using default`),uf({min:6e4,max:12e4},"software developer",t,r)):a}catch(n){return console.error("Error calculating AI salary:",n,{jobTitle:e,country:t}),uf({min:6e4,max:12e4},"software developer",t,r)}},uf=(e,t,r,n)=>{const a=MOe(t),o=Math.round(e.min*a),i=Math.round(e.max*a),l=LOe(r);let c=Math.round(o*l),u=Math.round(i*l);if(n!=="ALL"){const h=parseInt(n);h<=2?(c=Math.round(c*.8),u=Math.round(u*.85)):h>=6&&(c=Math.round(c*1.3),u=Math.round(u*1.35))}c=Math.max(5e3,c),u=Math.max(c+5e3,u);const f=Math.round((c+u)/2);let d="USD";return r.toLowerCase().includes("georgia")?(d="GEL",c=Math.round(c*2.7),u=Math.round(u*2.7)):r.toLowerCase().includes("uk")||r.toLowerCase().includes("united kingdom")?(d="GBP",c=Math.round(c*.8),u=Math.round(u*.8)):(r.toLowerCase().includes("euro")||["germany","france","netherlands","poland","romania"].some(h=>r.toLowerCase().includes(h)))&&(d="EUR",c=Math.round(c*.9),u=Math.round(u*.9)),(!c||!u||c<=0||u<=0)&&(console.warn(`Invalid salary calculation for "${t}" in ${r}, using defaults`),c=5e4,u=1e5,d=r.toLowerCase().includes("georgia")?"GEL":"USD",d==="GEL"&&(c=Math.round(c*2.7),u=Math.round(u*2.7))),{min_salary:c,max_salary:u,median_salary:f,salary_period:"YEARLY",currency:d}},Wc=e=>{if(!e)return"Salary data not available";const{min_salary:t,max_salary:r,currency:n,salary_period:a}=e;if(!t&&!r)return"Salary data not available";const o=n==="USD"?"$":n==="EUR"?"":n==="GBP"?"":n==="GEL"?"":n||"$",i=a==="YEARLY"?"year":a==="MONTHLY"?"month":"";if(t&&r){const l=Math.round(t).toLocaleString(),c=Math.round(r).toLocaleString();return`${o}${l} - ${o}${c}${i?`/${i}`:""}`}else if(t){const l=Math.round(t).toLocaleString();return`${o}${l}+${i?`/${i}`:""}`}else if(r){const l=Math.round(r).toLocaleString();return`Up to ${o}${l}${i?`/${i}`:""}`}return"Salary data not available"},gR=(e,t,r,n,a)=>{const o=Object.entries(t).sort((u,f)=>{const d=parseFloat(String(u[1]).replace("%",""))||0;return(parseFloat(String(f[1]).replace("%",""))||0)-d}).slice(0,3).map(([u])=>u),i=Object.entries(r).sort((u,f)=>{const d=parseFloat(String(u[1]).replace("%",""))||0;return(parseFloat(String(f[1]).replace("%",""))||0)-d}).slice(0,2).map(([u])=>u),l=a.length>0?a.reduce((u,f)=>u+f.matchPercentage,0)/a.length:75;let c=`We think **${e}** is the perfect career path for you. `;return c+="You're really good at ",o.length>0?(c+=o.join(", "),i.length>0&&(c+=`, and you also have great ${i.join(" and ")} skills`)):i.length>0?c+=i.join(" and "):c+="many important skills",c+=`. Your skills match really well with what ${e} jobs need - about ${Math.round(l)}% match! `,c+="This role is great for you because it lets you use your best skills every day. ",c+="You'll get to learn new things and grow in your career. ",c+="Your mix of technical skills and people skills means you'll do really well in this job. ",c+=`There are lots of opportunities for ${e.toLowerCase()}s, so you'll have a stable and exciting career path ahead.`,c},yR=e=>{const t=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"],r=e.filter(o=>{const i=o.skill.toLowerCase().trim();return!t.some(l=>i.includes(l)||l.includes(i))});return r.length===0?(console.warn("No hard/tech skills found for job path generation"),[]):r.sort((o,i)=>i.score-o.score).slice(0,5).map(o=>{const i=o.skill,c=Math.min(95,Math.max(60,Math.round(o.score/5*100))),u=`Build your career using your ${i} skills. This path is tailored to your expertise in ${i}.`,f=[i],d=[`Advanced ${i}`,`${i} Best Practices`,`${i} Professional Development`],h=[`${i} Professional Certificate`,`${i} Specialist`];return{title:i,description:u,matchPercentage:c,requiredSkills:f,suggestedCourses:d,certifications:h,salaryRange:"",timeToReady:"3-6 months"}})},DOe=()=>{const{user:e}=lr(),t=tr(),[r,n]=m.useState(!0),[a,o]=m.useState(!1),[i,l]=m.useState({}),[c,u]=m.useState([]),[f,d]=m.useState({}),[h,y]=m.useState({}),[v,p]=m.useState([]),[g,x]=m.useState([]),[b,w]=m.useState([]),[S,j]=m.useState(null),[k,_]=m.useState("Georgia"),[N,E]=m.useState(""),[A,T]=m.useState("skills"),[D,B]=m.useState(new Set),z=m.useCallback(async()=>{try{const q=(await Ae.get(ht.AUTH.PROFILE)).data,ee=(q==null?void 0:q.country)||(e==null?void 0:e.country)||"Georgia";return _(ee),ee}catch(R){return console.error("Error fetching user country:",R),_("Georgia"),"Georgia"}},[e]),F=m.useCallback((R,q)=>{const ee={"Software Engineer":"software engineer","UX/UI Designer":"ux designer","Data Analyst":"data analyst","Product Manager":"product manager"};return R.map(ne=>{try{const ce=ne.title.toLowerCase().trim();let ue=ee[ne.title]||ce,ie=Ao(ue,q);if(!ie.min_salary&&!ie.max_salary&&!ue.includes("developer")){const H=`${ue} developer`;ie=Ao(H,q),(ie.min_salary||ie.max_salary)&&(ue=H)}if(!ie.min_salary&&!ie.max_salary&&!ue.includes("engineer")){const H=`${ue} engineer`;ie=Ao(H,q),(ie.min_salary||ie.max_salary)&&(ue=H)}if(ie&&(ie.min_salary||ie.max_salary)&&(ie.min_salary>0||ie.max_salary>0)){const H=Wc(ie);if(H&&H!=="Salary data not available")return{...ne,salaryRange:H}}const O=ce.includes("design")?"ui/ux designer":ce.includes("data")||ce.includes("analyst")?"data analyst":ce.includes("manager")?"product manager":"software developer",L=Ao(O,q);if(L.min_salary&&L.max_salary){const H=Wc(L);return{...ne,salaryRange:H}}return console.warn(`Could not calculate salary for "${ne.title}" (${ue})`),{...ne,salaryRange:"Salary data not available"}}catch(ce){return console.error(`Error calculating salary for ${ne.title}:`,ce),{...ne,salaryRange:"Salary data not available"}}})},[]),$=m.useCallback(async(R,q,ee)=>await Promise.all(R.map(async ce=>{try{const ue=q.length>0?q.join(" "):ce.title.toLowerCase(),ie={country:ee,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:q,salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},O=await $a.fetchActiveJobs({query:ue,filters:ie,page:1,pageSize:5}),L=Do(O.jobs);return{...ce,jobs:L.slice(0,5)}}catch(ue){return console.error(`Error fetching jobs for ${ce.title}:`,ue),{...ce,jobs:[]}}})),[]),U=m.useCallback(async()=>{try{console.log(" Starting loadSkillData"),n(!0);try{console.log(" Attempting Django API call...");const Z=await Ae.get(`/api/skilltest/results/?user=${e.id}`);console.log(" SkillPathPage - Checking Django API:",Z.data);let de=null;if(Array.isArray(Z.data)&&Z.data.length>0?de=Z.data[0]:Z.data&&typeof Z.data=="object"&&(de=Z.data),de&&(de.final_role||de.skills_json)){console.log(" Found skill test results from Django API"),o(!0),de.final_role&&j(de.final_role);const oe=de.skills_json||{};d(oe.tech||{}),y(oe.soft||{});const ye=Object.entries(oe.tech||{}).map(([We,J])=>({skill:We,score:parseFloat(String(J).replace("%",""))||0})),be=Object.entries(oe.soft||{}).map(([We,J])=>({skill:We,score:parseFloat(String(J).replace("%",""))||0})),Be=ye.sort((We,J)=>J.score-We.score),it=be.sort((We,J)=>J.score-We.score),xe=[...Be,...it].slice(0,5);u(xe);const qe=yR(Be),rt=Object.keys(oe.tech||{}),nt=await z(),yt=F(qe,nt),at=[...ye,...be].map(We=>We.skill.toLowerCase());if(B(new Set(at)),p(yt),de.final_role){const We=gR(de.final_role,oe.tech||{},oe.soft||{},xe,yt);E(We)}n(!1),Promise.all(yt.map(async We=>{try{const J=xe.map(Pe=>Pe.skill),[K,re]=await Promise.all([hR(We.title,J,We.matchPercentage),mR(We.title)]),we=K&&K.length>100?K:`**${We.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${We.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`;return{...We,summary:we,aiGeneratedSkills:re.length>0?re:We.requiredSkills}}catch(J){return console.error(`Error generating data for ${We.title}:`,J),{...We,summary:`**${We.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${We.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`,aiGeneratedSkills:We.requiredSkills}}})).then(We=>{p(J=>{const K=new Map(We.map(re=>[re.title,re]));return J.map(re=>K.get(re.title)||re)})}),Promise.all([(async()=>{const We=await $(yt,rt,nt);p(We);const J=await M(Object.keys(oe.tech||{}),Object.keys(oe.soft||{}),We);w(J)})(),(async()=>{const We=await P(rt);x(We)})()]).catch(We=>{console.error("Error in background operations:",We)});return}}catch{console.log("Django API not available, trying Supabase...")}const R=await Ql(e.id);if(console.log(" SkillPathPage - Checking Supabase test answers:",{userId:e.id,answersCount:(R==null?void 0:R.length)||0,hasAnswers:R&&R.length>0}),!R||R.length===0){console.log(" No test answers found for user"),o(!1),n(!1);return}console.log(" Test answers found, loading skill path data"),o(!0);const q=Zl(R);l(q);const ee=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"],ne=[],ce=[];Object.entries(q).forEach(([Z,de])=>{const oe=Z.toLowerCase().trim();ee.some(be=>oe.includes(be)||be.includes(oe))?ce.push({skill:Z,score:de}):ne.push({skill:Z,score:de})});const ue=ne.sort((Z,de)=>de.score-Z.score),ie=ce.sort((Z,de)=>de.score-Z.score),O=[...ue,...ie].slice(0,5);u(O);const L=yR(ue),H=ue.map(Z=>Z.skill),X=await z(),V=F(L,X),ae=[...ue,...ie].map(Z=>Z.skill.toLowerCase());if(B(new Set(ae)),p(V),V.length>0){const Z=V[0].title,de={},oe={};ue.forEach(be=>{de[be.skill]=`${be.score}%`}),ie.forEach(be=>{oe[be.skill]=`${be.score}%`});const ye=gR(Z,de,oe,O,V);E(ye),j(Z)}n(!1),Promise.all(V.map(async Z=>{try{const de=O.map(Be=>Be.skill),[oe,ye]=await Promise.all([hR(Z.title,de,Z.matchPercentage),mR(Z.title)]),be=oe&&oe.length>100?oe:`**${Z.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${Z.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`;return{...Z,summary:be,aiGeneratedSkills:ye.length>0?ye:Z.requiredSkills}}catch(de){return console.error(`Error generating data for ${Z.title}:`,de),{...Z,summary:`**${Z.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${Z.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`,aiGeneratedSkills:Z.requiredSkills}}})).then(Z=>{p(de=>{const oe=new Map(Z.map(ye=>[ye.title,ye]));return de.map(ye=>oe.get(ye.title)||ye)})}),Promise.all([(async()=>{const Z=await $(V,H,X);p(Z);const de=await M(H,[],Z);w(de)})(),(async()=>{const Z=await P(H);x(Z)})()]).catch(Z=>{console.error("Error in background operations:",Z)})}catch(R){console.error(" Error loading skill data:",R),console.error("Error details:",R instanceof Error?R.message:String(R)),o(!1)}finally{console.log(" loadSkillData finished - setting loading to false"),n(!1)}},[e,z,F,$]);m.useEffect(()=>{if(console.log(" SkillPathPage useEffect - User:",e==null?void 0:e.id),!e){console.log(" No user, redirecting to login"),t("/auth/login");return}console.log(" User found, loading skill data"),U(),z()},[e,t,U,z]);const P=async R=>{try{if(R.length===0)return[];const{data:q,error:ee}=await Lt.from("courses").select("*").or(R.map(ne=>`required_skills.cs.{${ne}}`).join(",")).limit(6);if(ee)throw ee;return(q==null?void 0:q.map(ne=>({id:ne.id,title:ne.title,provider:ne.provider,level:ne.level,duration:ne.duration,description:ne.description,relevantSkills:ne.required_skills||[]})))||[]}catch(q){return console.error("Error fetching course recommendations:",q),[]}},M=async(R,q,ee)=>{const ne=[...R,...q].map(H=>H.toLowerCase().trim()),ce=new Map;if(ee.forEach(H=>{H.requiredSkills.forEach(X=>{const V=X.toLowerCase().trim();if(!ne.includes(V)){ce.has(V)||ce.set(V,{jobs:[],count:0});const ae=ce.get(V);ae.jobs.push(H.title),ae.count++}})}),ce.size===0)return[];const{data:ue,error:ie}=await Lt.from("courses").select("*").limit(100),O=new Map;return!ie&&ue&&ue.forEach(H=>{(H.required_skills||[]).map(V=>V.toLowerCase().trim()).forEach(V=>{ce.has(V)&&(O.has(V)||O.set(V,[]),O.get(V).push({id:H.id,title:H.title,provider:H.provider||"Unknown",level:H.level||"Beginner",duration:H.duration||"N/A",description:H.description||"",relevantSkills:H.required_skills||[]}))})}),Array.from(ce.entries()).map(([H,X])=>{const ae=["programming","code","sql","testing","version control","data","api","framework","database","algorithm","software","technical"].some(de=>H.includes(de));let Z="medium";return X.count>=3?Z="high":X.count===1&&(Z="low"),{skill:H.charAt(0).toUpperCase()+H.slice(1),category:ae?"tech":"soft",importance:Z,requiredByJobs:[...new Set(X.jobs)],recommendedCourses:O.get(H)||[],frequency:X.count}}).sort((H,X)=>{const V={high:3,medium:2,low:1};return V[X.importance]!==V[H.importance]?V[X.importance]-V[H.importance]:X.frequency-H.frequency})},W=(R,q)=>{const ee="#19B5FE",ne=Object.entries(R).filter(([O,L])=>parseFloat(String(L).replace("%",""))>0).map(([O,L])=>{const H=parseFloat(String(L).replace("%",""));let X;H>=40?X=1:X=.3+H/40*.7;const V=`gradient-primary-${Math.round(X*100)}`;return{skill:O,percentage:H,displayPct:L,fill:ee,opacity:X,gradientId:V}}).sort((O,L)=>L.percentage-O.percentage);if(ne.length===0)return s.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No skills data available"});const ce={percentage:{label:"Percentage"}},ue=O=>{const{x:L,y:H,width:X,height:V,payload:ae,value:Z}=O,de=(ae==null?void 0:ae.skill)||Z||"";if(!L||!H||!X||!V||!de)return null;const oe=L+X/2,Be=250-80+25,it=Math.max(8,Math.floor(X/6)),ge=de.split(" "),xe=[];let qe="";for(const at of ge)if(at.length>it){qe&&(xe.push(qe),qe="");for(let We=0;We<at.length;We+=it)xe.push(at.slice(We,We+it))}else(qe+" "+at).length<=it?qe=qe?qe+" "+at:at:(qe&&xe.push(qe),qe=at);if(qe&&xe.push(qe),xe.length===0||xe.length===1&&xe[0].length>it*1.5){xe.length=0;for(let at=0;at<de.length;at+=it)xe.push(de.slice(at,at+it))}const rt=xe.slice(0,2),nt=14,yt=Be-(rt.length-1)*(nt/2);return s.jsx("text",{x:oe,y:yt,fill:"#374151",textAnchor:"middle",fontSize:12,fontWeight:600,className:"dark:fill-gray-200",children:rt.map((at,We)=>s.jsx("tspan",{x:oe,dy:We===0?0:nt,children:at},We))})},ie=O=>{const{x:L,y:H,width:X,height:V,value:ae,payload:Z}=O,de=ae||0,oe=(Z==null?void 0:Z.skill)||"";if(!L||!H||!X||!V)return null;const ye=L+X/2,be=250,Be=80,it=Math.max(8,Math.floor(X/6)),ge=oe.length>it*1.2,xe=be-Be+(ge?70:60);return s.jsx("text",{x:ye,y:xe,fill:"#374151",textAnchor:"middle",fontSize:13,fontWeight:700,className:"dark:fill-gray-200",children:`${de.toFixed(0)}%`})};return s.jsx("div",{className:"w-full -mb-4",children:s.jsx(Y0,{config:ce,className:"h-[250px] w-full",children:s.jsxs(V2,{data:ne,margin:{top:20,right:10,left:10,bottom:80},barCategoryGap:"25%",children:[s.jsx("defs",{children:ne.map(O=>s.jsxs("linearGradient",{id:O.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:O.fill,stopOpacity:O.opacity}),s.jsx("stop",{offset:"100%",stopColor:"#0EA5E9",stopOpacity:O.opacity})]},O.gradientId))}),s.jsx(Od,{dataKey:"skill",hide:!0}),s.jsx(Rd,{type:"number",domain:[0,100],hide:!0}),s.jsx(K2,{content:({active:O,payload:L})=>{if(O&&L&&L.length){const H=L[0].payload;return s.jsx("div",{className:"rounded-3xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:H.skill}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ee,opacity:H.opacity}}),s.jsxs("span",{className:"font-bold text-lg",style:{color:ee,opacity:H.opacity},children:[H.percentage.toFixed(1),"%"]})]})]})})}return null}}),s.jsxs(As,{dataKey:"percentage",radius:[8,8,8,8],animationDuration:1e3,animationEasing:"ease-out",children:[ne.map((O,L)=>s.jsx(Am,{fill:`url(#${O.gradientId})`,style:{transition:"all 0.3s ease"}},`cell-${L}`)),s.jsx(io,{content:ue,dataKey:"skill"}),s.jsx(io,{content:ie,dataKey:"percentage"})]})]})})})};return console.log(" SkillPathPage Render - Loading:",r,"HasTestAnswers:",a,"User:",e==null?void 0:e.id),r?(console.log(" Rendering loading state"),s.jsx(At,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{children:"Analyzing your skills..."}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Loading skill data..."})]})})})):a?(console.log(" Rendering main SkillPathPage content"),console.log(" Data summary:",{topSkills:c.length,jobPaths:v.length,courseRecommendations:g.length,missingSkills:b.length,techSkills:Object.keys(f).length,softSkills:Object.keys(h).length,finalRole:S}),s.jsx(At,{children:s.jsxs("div",{className:"space-y-4 md:space-y-6 pb-20 md:pb-6",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsxs("div",{className:"relative inline-flex items-center bg-gray-100 dark:bg-gray-800 rounded-full p-1",children:[s.jsx("button",{onClick:()=>T("skills"),className:`relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 ${A==="skills"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-bold shadow-sm":"text-gray-500 dark:text-gray-400 font-medium"}`,children:"Your Skills"}),s.jsx("button",{onClick:()=>T("matchedRoles"),className:`relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 ${A==="matchedRoles"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-bold shadow-sm":"text-gray-500 dark:text-gray-400 font-medium"}`,children:"Matched Roles"})]})}),A==="skills"&&s.jsxs(s.Fragment,{children:[S&&N&&s.jsxs(je,{className:"border-primary/20 bg-gradient-to-br from-primary/5 to-primary/10",children:[s.jsx(ot,{children:s.jsxs(vt,{className:"flex items-center gap-2 text-xl",children:[s.jsx(o5,{className:"h-5 w-5 text-primary"}),"Your Recommended Career Path: ",S]})}),s.jsx(ke,{children:s.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:s.jsx("p",{className:"text-base leading-relaxed text-gray-700 dark:text-gray-300 whitespace-pre-line",children:N.split("**").map((R,q)=>q%2===1?s.jsx("strong",{className:"text-primary font-semibold",children:R},q):R)})})})]}),(Object.keys(f).length>0||Object.keys(h).length>0)&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.keys(f).length>0&&s.jsxs(je,{children:[s.jsx(ot,{children:s.jsx(vt,{className:"flex items-center gap-2",children:"Technical Skills"})}),s.jsx(ke,{className:"p-6",children:W(f)})]}),Object.keys(h).length>0&&s.jsxs(je,{children:[s.jsx(ot,{children:s.jsx(vt,{className:"flex items-center gap-2",children:"Soft Skills"})}),s.jsx(ke,{className:"p-6",children:W(h)})]})]})]}),A==="matchedRoles"&&s.jsx("div",{className:"space-y-4",children:v.length>0?v.map((R,q)=>s.jsx(je,{className:q===0?"border-primary":"",children:s.jsx(ke,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx(vt,{className:"text-xl flex-1",children:R.title}),s.jsxs(te,{size:"sm",onClick:()=>{t(`/skill-path/${encodeURIComponent(R.title)}`,{state:{jobPath:R}})},children:["View Details",s.jsx(E1,{className:"h-4 w-4 ml-2"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(je,{className:"border-primary/20 bg-gray-50 dark:bg-gray-800/50",children:[s.jsx(ot,{className:"pb-3",children:s.jsxs(vt,{className:"text-base flex items-center gap-2",children:[s.jsx(Dl,{className:"h-4 w-4 text-primary"}),"Salary Information"]})}),s.jsx(ke,{className:"pt-0",children:s.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-lg font-bold text-primary mb-2",children:R.salaryRange||"Salary data not available"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Average salary range based on current market data"})]})})]}),s.jsxs(je,{className:"border-primary/20 bg-gray-50 dark:bg-gray-800/50",children:[s.jsx(ot,{className:"pb-3",children:s.jsx(vt,{className:"text-base flex items-center gap-2",children:"Role Brief"})}),s.jsx(ke,{className:"pt-0",children:s.jsx("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-4 rounded-lg",children:s.jsx("div",{className:"text-base text-gray-700 dark:text-gray-300 leading-relaxed",children:R.summary?R.summary.split("**").map((ee,ne)=>ne%2===1?s.jsx("strong",{className:"text-primary font-semibold",children:ee},ne):ee):s.jsx("span",{className:"text-muted-foreground italic",children:"Generating role brief..."})})})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Required Skills"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(R.aiGeneratedSkills||R.requiredSkills).map((ee,ne)=>{const ce=D.has(ee.toLowerCase());return s.jsxs("div",{className:`flex items-center gap-2 px-4 py-2.5 rounded-[14px] transition-colors ${ce?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[s.jsx("div",{className:"flex-shrink-0",children:ce?s.jsx(C1,{className:"h-4 w-4 text-white"}):s.jsx(pk,{className:"h-4 w-4"})}),s.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:ee})]},ne)})})]})]})})},R.title)):s.jsx(je,{children:s.jsxs(ke,{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"Complete a skill assessment to see personalized job recommendations."}),s.jsx(te,{onClick:()=>t("/skill-test"),className:"mt-4",children:"Take Skill Assessment"})]})})})]})})):(console.log(" Rendering 'no test answers' state"),s.jsx(At,{children:s.jsx("div",{className:"p-6",children:s.jsx(je,{children:s.jsxs(ke,{className:"text-center py-12",children:[s.jsx(nX,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-lg font-bold mb-2",children:"Complete Your Skill Assessment"}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Take our skill assessment to get personalized job recommendations and a custom learning path tailored to your strengths."}),s.jsxs(te,{onClick:()=>t("/skill-test"),size:"lg",children:["Take Skill Assessment",s.jsx(E1,{className:"h-4 w-4 ml-2"})]})]})})})}))},FOe="329754c88fmsh45bf2cd651b0e37p1ad384jsnab7fd582cddb",BOe="jsearch.p.rapidapi.com",UOe=async(e,t="Georgia")=>{try{const r=new URL("https://jsearch.p.rapidapi.com/search");r.searchParams.append("query",e),r.searchParams.append("page","1"),r.searchParams.append("num_pages","3");const n=await fetch(r.toString(),{method:"GET",headers:{"x-rapidapi-host":BOe,"x-rapidapi-key":FOe}});if(!n.ok)return console.error(`Market Stats API error: ${n.status}`),null;const a=await n.json();if(a.status!=="OK"||!a.data)return null;const o=a.data.length,i=new Date;i.setDate(i.getDate()-30);const l=a.data.filter(d=>d.job_posted_at_datetime_utc?new Date(d.job_posted_at_datetime_utc)>=i:!1).length,c=o>0?l/o*100:0;let u="medium";o>100&&c>30?u="high":(o<20||c<10)&&(u="low");const f=Math.max(0,Math.min(100,c*2));return{totalJobs:o,recentJobs:l,growthPercentage:Math.round(f),demandLevel:u,trending:c>25}}catch(r){return console.error("Error fetching job market stats:",r),null}},zOe=async(e,t)=>{try{const r=new Date().getFullYear();let n="",a="",o="";if(t){const{totalJobs:u,recentJobs:f,growthPercentage:d,demandLevel:h,trending:y}=t,v=f,p=v>0?v/(u-f+1)*100:0;h==="high"?(n=`${e} is experiencing exceptional demand in today's job market. Our analysis shows ${u} active job listings, with ${f} new positions posted in the last 30 days alone. The field demonstrates strong momentum with an estimated ${d}% growth rate, making it one of the most sought-after skills in the current market.`,y?a=`The demand for ${e} professionals is at an all-time high. Companies across technology, finance, healthcare, and e-commerce sectors are actively recruiting talent. With ${f} new postings in just the past month, this skill is currently trending and presents excellent opportunities for both entry-level and experienced professionals. The market shows no signs of slowing down, making it an ideal time to invest in this career path.`:a=`The demand for ${e} professionals remains exceptionally strong. Organizations are prioritizing this skill set, with consistent hiring activity throughout the year. The high number of active listings (${u}) indicates sustained market demand. This field offers competitive salaries and strong career growth prospects for qualified candidates.`):h==="medium"?(n=`${e} maintains healthy demand in the job market with ${u} active listings. We've tracked ${f} new positions in the past 30 days, indicating steady hiring activity. The field shows stable growth with moderate competition, creating balanced opportunities for skilled professionals.`,a=`The market for ${e} professionals is well-established with consistent demand. While competition exists, there are ample opportunities for candidates with the right skill set and experience. The field benefits from steady industry adoption, making it a reliable career choice with good long-term prospects.`):(n=`${e} represents a specialized field with ${u} current listings. While the absolute number may be lower, this indicates a niche market where specialized skills are highly valued. The field offers unique opportunities for professionals who can distinguish themselves.`,a=`While ${e} has a smaller market presence, it offers distinct advantages for specialized professionals. Companies actively seeking this skill often offer competitive compensation and value deep expertise. Success in this field typically requires strong foundational skills, continuous learning, and building a network within the specialized community.`),d>60?o="experiencing explosive growth":d>40?o="rapidly growing":d>20?o="growing steadily":d>5?o="stable with positive growth":o="stable"}else n=`${e} professionals continue to be in demand across various industries. The field has demonstrated consistent growth, with expanding opportunities in technology, business, and creative sectors. Job postings have maintained an upward trajectory, reflecting strong market confidence in this skill set.`,a=`The demand for ${e} skills remains robust as businesses adapt to evolving market needs. This field offers diverse career paths and opportunities for professional development. As organizations invest in digital transformation and innovation, professionals with ${e} expertise are well-positioned for long-term career success.`,o="growing steadily";const i=t?Math.max(35,Math.min(95,Math.round(t.totalJobs/15+t.growthPercentage/2))):60,l=[],c=(t==null?void 0:t.growthPercentage)||15;for(let u=0;u<5;u++){const f=r-4+u,d=4-u,h=c/10*d,y=Math.max(25,Math.min(100,Math.round(i-h)));l.push({year:String(f),popularity:y})}return{popularityText:n,demandText:a,growthTrend:o,chartData:l}}catch(r){return console.error("Error generating AI market insights:",r),null}},qOe=async(e,t="Georgia")=>{try{const r=await UOe(e,t),n=await zOe(e,r);return{stats:r,insights:n}}catch(r){return console.error("Error getting complete market data:",r),{stats:null,insights:null}}},WOe=()=>{var z;const{skillName:e}=hm(),t=tr(),r=ha(),{user:n}=lr(),[a,o]=m.useState(!0),[i,l]=m.useState(""),[c,u]=m.useState(""),[f,d]=m.useState(""),[h,y]=m.useState([]),[v,p]=m.useState([]),[g,x]=m.useState([]),[b,w]=m.useState([]),[S,j]=m.useState("Georgia"),k=e?decodeURIComponent(e):"";(z=r.state)==null||z.jobPath,m.useEffect(()=>{if(!n){t("/auth/login");return}if(!k){t("/skill-path");return}(async()=>{try{o(!0),N(),D();const $=`${k} professionals are in high demand. Loading real-time market data...`;d($);const U=new Date().getFullYear(),M=[50,55,60,65,70].map((R,q)=>({year:String(U-4+q),popularity:R}));y(M),E("Georgia"),o(!1);const W=await _();W!=="Georgia"&&E(W),Promise.all([A(W),T(),B(W)]).catch(R=>{console.error("Error in background operations:",R)})}catch($){console.error("Error loading skill path details:",$),o(!1)}})()},[k,n]);const _=async()=>{try{const $=(await Ae.get(ht.AUTH.PROFILE)).data,U=($==null?void 0:$.country)||(n==null?void 0:n.country)||"Georgia";return j(U),U}catch(F){return console.error("Error fetching user country:",F),"Georgia"}},N=()=>{const F={JavaScript:"JavaScript developers are responsible for building interactive web applications and dynamic user interfaces. They work with modern frameworks like React, Vue, and Angular to create responsive and engaging web experiences.",Python:"Python developers specialize in backend development, data science, and automation. They build scalable server applications, analyze data, and create machine learning models using Python's extensive library ecosystem.",React:"React developers focus on building user interfaces using the React library. They create reusable components, manage application state, and implement modern UI patterns for web and mobile applications.","UI/UX Design":"UI/UX designers create intuitive and visually appealing user interfaces. They conduct user research, design wireframes and prototypes, and ensure optimal user experiences across different platforms.","Data Analysis":"Data analysts transform raw data into actionable insights. They use statistical methods, visualization tools, and programming languages to help organizations make data-driven decisions."},$=`${k} professionals are in high demand across various industries. This role involves working with ${k} technologies to solve complex problems and deliver innovative solutions.`,U=F[k]||$;l(U)},E=F=>{try{const $={javascript:"javascript developer",python:"python developer",react:"react developer","ui/ux design":"ux designer","ui/ux":"ux designer","data analysis":"data analyst","data analytics":"data analyst","software development":"software developer","web development":"web developer","mobile development":"mobile developer",devops:"devops engineer",cybersecurity:"cybersecurity specialist","quality assurance":"qa engineer","product management":"product manager","3d modeler":"3d artist"},U=k.toLowerCase();let P=$[U]||U,M=Ao(P,F);if(!M.min_salary&&!M.max_salary&&!P.includes("developer")){const q=`${P} developer`;M=Ao(q,F),(M.min_salary||M.max_salary)&&(P=q)}if(!M.min_salary&&!M.max_salary&&!P.includes("engineer")){const q=`${P} engineer`;M=Ao(q,F),(M.min_salary||M.max_salary)&&(P=q)}if(M&&(M.min_salary||M.max_salary)&&(M.min_salary>0||M.max_salary>0)){const q=Wc(M);if(q&&q!=="Salary data not available"){u(q);return}}const W=U.includes("design")||U.includes("ui")||U.includes("ux")?"ui/ux designer":U.includes("data")||U.includes("analyst")||U.includes("analytics")?"data analyst":U.includes("manager")||U.includes("product")?"product manager":U.includes("security")||U.includes("cyber")?"cybersecurity specialist":U.includes("devops")||U.includes("cloud")?"devops engineer":"software developer",R=Ao(W,F);if(R.min_salary&&R.max_salary){const q=Wc(R);u(q)}else{const q=Ao("software developer",F);u(Wc(q))}}catch($){console.error("Error calculating salary:",$);try{const U=Ao("software developer",F);u(Wc(U))}catch{u("Salary data not available")}}},A=async F=>{try{const $=qOe(k,F),U=new Promise(M=>{setTimeout(()=>M(null),3e3)}),P=await Promise.race([$,U]);if(P&&P.insights){const M=`${P.insights.popularityText}

${P.insights.demandText}`;d(M),y(P.insights.chartData)}}catch($){console.error("Error loading popularity data:",$)}},T=async()=>{try{const F=k.toLowerCase().trim(),{data:$,error:U}=await Lt.from("courses").select("id, title, provider, level, duration, description, required_skills, image").or(`title.ilike.%${k}%,description.ilike.%${k}%,title.ilike.%${F}%,description.ilike.%${F}%`).limit(6);if(U){console.error("Supabase query error:",U),p([]);return}let P=[];$&&$.length>0&&(P=$.filter(M=>{const W=(M.title||"").toLowerCase(),R=(M.description||"").toLowerCase(),q=M.required_skills||[],ee=W.includes(F)||R.includes(F)||W.includes(k.toLowerCase())||R.includes(k.toLowerCase()),ne=Array.isArray(q)&&q.some(ce=>ce.toLowerCase().includes(F)||F.includes(ce.toLowerCase()));return ee||ne})),P.length>0?p(P.map(M=>({id:M.id,title:M.title,provider:M.provider||"Unknown",level:M.level||"Beginner",duration:M.duration||"N/A",description:M.description||"",required_skills:M.required_skills||[],image:M.image||void 0}))):p([])}catch(F){console.error("Error loading courses:",F),p([])}},D=()=>{const F={JavaScript:["Build a real-time chat application using WebSockets","Create a task management app with drag-and-drop functionality","Develop a weather dashboard with API integration","Build an e-commerce product catalog with filtering","Create an interactive data visualization dashboard"],Python:["Build a web scraper to analyze market trends","Create a machine learning model for predictions","Develop a REST API with Flask or Django","Build a data analysis tool for business insights","Create an automation script for repetitive tasks"],React:["Build a portfolio website with animations","Create a social media dashboard with real-time updates","Develop a todo app with state management","Build an e-commerce checkout flow","Create an interactive data table with sorting and filtering"],"UI/UX Design":["Design a mobile app interface for a fitness tracker","Create a website redesign for a local business","Design a complete design system and component library","Create wireframes and prototypes for a SaaS product","Design an accessible checkout flow for e-commerce"],"Data Analysis":["Analyze sales data to identify trends and patterns","Create visualizations for a business dashboard","Perform statistical analysis on survey data","Build a predictive model for customer behavior","Analyze social media engagement metrics"]},$=[`Create a ${k} portfolio project`,`Build a real-world application using ${k}`,`Develop a ${k} tool or utility`,`Contribute to an open-source ${k} project`,`Create a ${k} tutorial or course`],U=F[k]||$;x(U)},B=async F=>{try{const $={country:F,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[k],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},U=$a.fetchActiveJobs({query:k,filters:$,page:1,pageSize:5}),P=new Promise(R=>{setTimeout(()=>R({jobs:[]}),5e3)}),M=await Promise.race([U,P]),W=Do(M.jobs);w(W.slice(0,5))}catch($){console.error("Error loading jobs:",$),w([])}};return a?s.jsx(At,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{children:"Loading skill path details..."})]})})}):s.jsx(At,{children:s.jsxs("div",{className:"space-y-6 pb-20 md:pb-6",children:[s.jsxs(je,{children:[s.jsx(ot,{children:s.jsx(vt,{className:"text-3xl font-bold",children:k})}),s.jsx(ke,{children:s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(je,{children:[s.jsx(ot,{children:s.jsxs(vt,{className:"flex items-center gap-2",children:[s.jsx(Dl,{className:"h-5 w-5"}),"Salary Information"]})}),s.jsxs(ke,{children:[s.jsx("div",{className:"text-2xl font-bold text-primary mb-2",children:c}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Average salary range based on current market data"})]})]}),s.jsxs(je,{children:[s.jsx(ot,{children:s.jsxs(vt,{className:"flex items-center gap-2",children:[s.jsx(Uv,{className:"h-5 w-5"}),"Market Popularity"]})}),s.jsxs(ke,{children:[s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4",children:f}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-sm font-medium mb-4",children:"Last 5 Year Popularity"}),s.jsx(Y0,{config:{popularity:{label:"Popularity",color:"#19B5FE"}},className:"h-[300px] w-full",children:s.jsxs(V2,{data:h,margin:{top:5,right:10,left:0,bottom:0},children:[s.jsx(mF,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(Od,{dataKey:"year",tickLine:!1,axisLine:!1,tickMargin:8,className:"text-xs"}),s.jsx(Rd,{tickLine:!1,axisLine:!1,tickMargin:8,className:"text-xs",domain:[0,100],label:{value:"Popularity %",angle:-90,position:"insideLeft"}}),s.jsx(K2,{content:({active:F,payload:$})=>F&&$&&$.length?s.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:s.jsx("div",{className:"grid gap-2",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("span",{className:"text-sm font-medium",children:$[0].payload.year}),s.jsxs("span",{className:"text-sm font-bold",style:{color:"#19B5FE"},children:[$[0].value,"%"]})]})})}):null}),s.jsx(As,{dataKey:"popularity",radius:[8,8,0,0],fill:"#19B5FE",children:h.map((F,$)=>s.jsx(Am,{fill:"#19B5FE"},`cell-${$}`))})]})})]})]})]})]}),s.jsxs(je,{children:[s.jsx(ot,{children:s.jsxs(vt,{className:"flex items-center gap-2",children:[s.jsx(Vg,{className:"h-5 w-5"}),"Relevant Courses"]})}),s.jsxs(ke,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.map(F=>s.jsx(je,{className:"border border-gray-200 dark:border-gray-700 hover:border-primary transition-colors cursor-pointer",onClick:()=>t(`/course/${F.id}`),children:s.jsxs(ke,{className:"p-4",children:[s.jsx("h5",{className:"font-semibold text-sm mb-2",children:F.title}),s.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:F.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jr,{variant:"secondary",className:"text-xs",children:F.level}),s.jsx("span",{className:"text-xs text-muted-foreground",children:F.duration})]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["by ",F.provider]})]})]})},F.id))}),v.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Vg,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("p",{className:"text-muted-foreground font-medium mb-2",children:"No relevant courses available"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["We couldn't find any courses specifically for"," ",k," at the moment. Check back later or explore our general course catalog."]})]})]})]}),s.jsxs(je,{children:[s.jsx(ot,{children:s.jsxs(vt,{className:"flex items-center gap-2",children:[s.jsx(Nc,{className:"h-5 w-5"}),"Project Ideas"]})}),s.jsxs(ke,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Build these projects after completing courses to strengthen your skills:"}),s.jsx("div",{className:"space-y-3",children:g.map((F,$)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-muted rounded-lg",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-medium flex-shrink-0",children:$+1}),s.jsx("p",{className:"text-sm",children:F})]},$))})]})]}),s.jsxs(je,{children:[s.jsx(ot,{children:s.jsxs(vt,{className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"h-5 w-5"}),"Relevant Jobs"]})}),s.jsxs(ke,{children:[b.length>0?s.jsx("div",{className:"space-y-3",children:b.map(F=>{const $=F.job_id||F.id||`job-${Math.random()}`,U=F.job_title||F.title||"Untitled Position",P=F.employer_name||F.company_name||(typeof F.company=="string"?F.company:"Unknown Company"),M=F.job_city&&F.job_state?`${F.job_city}, ${F.job_state}`:F.job_city||F.job_state||F.location||"Location not specified",W=F.job_apply_link||F.apply_link||F.url||"#",R=F.employer_logo||F.company_logo||F.logo_url||"";let q="By agreement";const ee=F.job_min_salary||F.min_salary,ne=F.job_max_salary||F.max_salary,ce=F.job_salary_currency||F.salary_currency||"$";return ee&&ne&&typeof ee=="number"&&typeof ne=="number"?q=`${ce}${ee.toLocaleString()} - ${ce}${ne.toLocaleString()}`:ee&&typeof ee=="number"&&(q=`${ce}${ee.toLocaleString()}+`),s.jsx(je,{className:"border border-gray-200 dark:border-gray-700 hover:border-primary transition-colors cursor-pointer",onClick:()=>t(`/jobs/${$}`),children:s.jsx(ke,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[R&&s.jsx("img",{src:R,alt:P,className:"w-12 h-12 rounded-lg object-contain flex-shrink-0",onError:ue=>{ue.target.style.display="none"}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h5",{className:"font-semibold text-sm mb-1 line-clamp-1",children:U}),s.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[P,"  ",M]}),q&&s.jsx(jr,{variant:"secondary",className:"text-xs",children:q})]}),s.jsx(te,{variant:"outline",size:"sm",onClick:ue=>{ue.stopPropagation(),window.open(W,"_blank")},children:"Apply"})]})})},$)})}):s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No jobs found for this skill. Check back later!"}),b.length>0&&s.jsxs(te,{variant:"outline",className:"w-full mt-4",onClick:()=>{t(`/jobs?search=${encodeURIComponent(k)}`)},children:["View More Jobs",s.jsx(E1,{className:"h-4 w-4 ml-2"})]})]})]})]})})},vR=[{id:1,name:"Marketing",icon:""},{id:2,name:"Tech",icon:""},{id:3,name:"Design",icon:""},{id:4,name:"Business",icon:""},{id:5,name:"Education",icon:""},{id:6,name:"Science",icon:""},{id:7,name:"Healthcare",icon:""},{id:8,name:"Finance",icon:""},{id:9,name:"Arts",icon:""}];function HOe(){const[e,t]=m.useState([]),[r,n]=m.useState(!1),a=tr(),{user:o}=lr(),i=c=>{e.includes(c)?t(e.filter(u=>u!==c)):t([...e,c])},l=async()=>{if(e.length===0){se.error("Please select at least one area of interest");return}if(!o){se.error("Please sign in to save your interests.");return}n(!0);try{const c=e.map(f=>{var d;return(d=vR.find(h=>h.id===f))==null?void 0:d.name}).filter(Boolean),{error:u}=await Lt.from("profiles").update({interests:c,onboarding_completed:!0}).eq("id",o.id);if(u)throw u;se.success("Interests saved! Your personalized experience is ready."),a("/home")}catch(c){se.error(`Failed to save interests: ${c.message}`)}finally{n(!1)}};return s.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-breneo-navy mb-2",children:"What are you interested in?"}),s.jsx("p",{className:"text-gray-600",children:"Select areas you'd like to explore. This helps us personalize your experience."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:vR.map(c=>s.jsx(je,{className:`p-4 cursor-pointer transition-all border-2 ${e.includes(c.id)?"border-breneo-blue bg-breneo-blue/5":"border-transparent hover:border-gray-200"}`,onClick:()=>i(c.id),children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"text-2xl",children:c.icon}),s.jsx("div",{className:"font-medium",children:c.name})]})},c.id))}),s.jsx("div",{className:"mt-8 flex justify-end",children:s.jsx(te,{onClick:l,className:"bg-breneo-blue hover:bg-breneo-blue/90",disabled:r,children:r?"Saving...":"Continue"})})]})}const VOe=()=>s.jsxs("div",{className:"min-h-screen bg-breneo-lightgray flex flex-col",children:[s.jsx("header",{className:"bg-white py-4 px-6 shadow-sm",children:s.jsx("div",{className:"container mx-auto",children:s.jsx("a",{href:"/",className:"flex items-center space-x-2",children:s.jsx("img",{src:"lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:"h-10"})})})}),s.jsx("main",{className:"flex-grow py-12",children:s.jsx(HOe,{})}),s.jsx("footer",{className:"bg-white py-4 px-6 border-t",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("p",{className:"text-sm text-gray-500 text-center",children:[" ",new Date().getFullYear()," Breneo. All rights reserved."]})})})]}),KOe=async e=>{try{const t=await Ql(e);if(!t||t.length===0)return[];const r=Zl(t);return Object.entries(r).sort(([,a],[,o])=>o-a).slice(0,5).map(([a])=>a)}catch(t){return console.error("Error fetching user skills:",t),[]}},GOe=e=>{const t=[],r=[e.job_title||e.title||"",e.description||e.job_description||"",e.job_required_experience||e.required_experience||"",...Array.isArray(e.required_skills)?e.required_skills:[],...Array.isArray(e.skills)?e.skills:[],...Array.isArray(e.job_skills)?e.job_skills:[],...typeof e.required_skills=="string"?e.required_skills.split(",").map(a=>a.trim()):[],...typeof e.skills=="string"?e.skills.split(",").map(a=>a.trim()):[],...typeof e.job_skills=="string"?e.job_skills.split(",").map(a=>a.trim()):[]].filter(Boolean).join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"],developer:["developer","development","programming","coding","software engineer","software developer"],designer:["designer","design","ui","ux","graphic designer","visual designer"],marketer:["marketer","marketing","digital marketing","social media","content marketing"],analyst:["analyst","analysis","data analyst","business analyst","data analytics"],teacher:["teacher","teaching","education","instructor","trainer"],"project manager":["project manager","pm","project management","scrum master","product manager"]};return Object.keys(n).forEach(a=>{n[a].some(i=>r.includes(i))&&t.push(a)}),[...new Set(t)]},JOe=(e,t)=>{if(t.length===0)return!1;const r=GOe(e);if(r.length===0){const l=[e.job_title||e.title||"",e.description||e.job_description||"",e.employer_name||e.company_name||e.company||"",e.job_required_experience||e.required_experience||e.experience||""].filter(Boolean).join(" ").toLowerCase(),c=u=>{const f=u.toLowerCase().trim(),d=[f];return f.includes("developer")&&d.push("development","programming","coding","software"),f.includes("designer")&&d.push("design","ui","ux","graphic"),f.includes("marketer")&&d.push("marketing","digital marketing","social media"),f.includes("analyst")&&d.push("analysis","data","analytics"),f.includes("manager")&&d.push("management","lead","coordinate"),d};return t.some(u=>c(u).some(d=>new RegExp(`\\b${d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"i").test(l)))}const n=l=>l.toLowerCase().trim().replace(/\s+/g," "),a=t.map(n),o=r.map(n);return a.filter(l=>o.some(c=>!!(l===c||l.includes(c)||c.includes(l)))).length>0},YOe=async e=>{try{const{data:t,error:r}=await Lt.from("job_notifications").select("job_id").eq("user_id",e);return r?(console.error("Error fetching notified jobs:",r),new Set):new Set((t||[]).map(n=>n.job_id))}catch(t){return console.error("Error fetching notified jobs:",t),new Set}},XOe=async(e,t)=>{try{const{error:r}=await Lt.from("job_notifications").insert({user_id:e,job_id:t,notified_at:new Date().toISOString()});r&&console.error("Error marking job as notified:",r)}catch(r){console.error("Error marking job as notified:",r)}},QOe=async(e,t)=>{try{const r=t.job_title||t.title||"New Job",n=t.employer_name||t.company_name||t.company||"Company",{error:a}=await Lt.from("notifications").insert({title:"New Job Match! ",message:`${r} at ${n} matches your skills`,type:"info",recipient_id:e,is_read:!1});a&&console.error("Error creating notification:",a)}catch(r){console.error("Error creating notification:",r)}},ZOe=async e=>{try{const t=await KOe(e);if(t.length===0)return console.log("No user skills found, skipping job check"),[];console.log("Checking for jobs matching skills:",t);const n=(await Dk({query:"",filters:{country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:"week",skills:t},page:1,pageSize:50})).jobs||[];console.log(`Found ${n.length} jobs to check`);const a=Do(n);console.log(`Filtered to ${a.length} jobs from allowed ATS platforms`);const o=String(e),i=await YOe(Af(o)),l=[];for(const c of a){const u=c.job_id||c.id||"";u&&(i.has(u)||JOe(c,t)&&l.push(c))}console.log(`Found ${l.length} new matching jobs`);for(const c of l){const u=c.job_id||c.id||"";u&&(await QOe(Af(o),c),await XOe(Af(o),u))}return l}catch(t){return console.error("Error checking for new job matches:",t),[]}},e4e=(e={})=>{const{user:t}=lr(),{enabled:r=!0,checkInterval:n=30*60*1e3}=e,[a,o]=m.useState("default"),[i,l]=m.useState(!1),c=m.useRef(null),u=m.useRef(!1),f=async()=>{if(!("Notification"in window))return console.log("This browser does not support notifications"),!1;if(Notification.permission==="granted")return o("granted"),!0;if(Notification.permission==="denied")return o("denied"),!1;const y=await Notification.requestPermission();return o(y),y==="granted"},d=m.useCallback(y=>{if(a!=="granted"){console.log("Notification permission not granted");return}const v=y.job_title||y.title||"New Job",p=y.employer_name||y.company_name||y.company||"Company",g=y.job_id||y.id||"",x=new Notification("New Job Match! ",{body:`${v} at ${p} matches your skills`,icon:y.employer_logo||y.company_logo||y.logo_url||"/lovable-uploads/breneo_logo.png",badge:"/lovable-uploads/breneo_logo.png",tag:`job-${g}`,requireInteraction:!1});x.onclick=()=>{window.focus(),x.close(),window.location.href="/jobs"},setTimeout(()=>{x.close()},5e3)},[a]),h=m.useCallback(async()=>{if(!(!(t!=null&&t.id)||u.current)){u.current=!0,l(!0);try{const y=await ZOe(t.id);for(const v of y)d(v);y.length>0&&console.log(`Sent ${y.length} job notifications`)}catch(y){console.error("Error checking for new jobs:",y)}finally{l(!1),u.current=!1}}},[t==null?void 0:t.id,d]);return m.useEffect(()=>{"Notification"in window&&o(Notification.permission)},[]),m.useEffect(()=>{!r||!(t!=null&&t.id)||(Notification.permission==="default"?console.log("Notification permission not yet requested"):Notification.permission==="granted"&&h())},[r,t==null?void 0:t.id,h]),m.useEffect(()=>{if(!r||!(t!=null&&t.id)||a!=="granted")return;c.current&&clearInterval(c.current),c.current=setInterval(()=>{h()},n);const y=()=>{document.visibilityState==="visible"&&h()};return document.addEventListener("visibilitychange",y),()=>{c.current&&clearInterval(c.current),document.removeEventListener("visibilitychange",y)}},[r,t==null?void 0:t.id,a,n,h]),{permission:a,requestPermission:f,isChecking:i,checkForNewJobs:h}},t4e=()=>{const{user:e}=lr(),t=Yl(),r=ca(),n=["user-notifications",e==null?void 0:e.id],a=(e==null?void 0:e.user_type)!=="academy";e4e({enabled:a&&!!(e!=null&&e.id),checkInterval:30*60*1e3}),m.useState(!1);const{data:o=[],isLoading:i}=Yt({queryKey:n,queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:u,error:f}=await Lt.from("notifications").select("*").or(`recipient_id.is.null,recipient_id.eq.${e.id}`).order("created_at",{ascending:!1});if(f)throw console.error("Error fetching notifications:",f),new Error("Could not fetch notifications.");return u||[]},enabled:!!(e!=null&&e.id)}),l=mo({mutationFn:async u=>{if(!(e!=null&&e.id))throw new Error("User not authenticated.");const{error:f}=await Lt.from("notifications").update({is_read:!0,updated_at:new Date().toISOString()}).eq("id",u).eq("recipient_id",e.id);if(f)throw f},onMutate:async u=>{await r.cancelQueries({queryKey:n});const f=r.getQueryData(n)||[];return r.setQueryData(n,d=>(d||[]).map(h=>h.id===u?{...h,is_read:!0}:h)),{previousNotifications:f}},onError:(u,f,d)=>{d!=null&&d.previousNotifications&&r.setQueryData(n,d.previousNotifications),se.error("Could not mark notification as read.")},onSettled:()=>{r.invalidateQueries({queryKey:n})}});m.useEffect(()=>{if(!(e!=null&&e.id))return;const u=h=>{if(r.invalidateQueries({queryKey:n}),h.new){const y=h.new,v=`${y.title}: ${y.message}`;switch(y.type){case"success":se.success(v);break;case"error":se.error(v);break;case"warning":se.warning(v);break;default:se.info(v)}}},f=Lt.channel("personal-user-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`recipient_id=eq.${e.id}`},u).subscribe(),d=Lt.channel("broadcast-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"recipient_id=is.null"},u).subscribe();return()=>{Lt.removeChannel(f),Lt.removeChannel(d)}},[r,e==null?void 0:e.id,n]);const c=u=>{switch(u){case"success":return s.jsx("div",{className:"bg-green-100 rounded-full p-2",children:s.jsx(C1,{className:"h-5 w-5 text-green-600"})});case"warning":return s.jsx("div",{className:"bg-yellow-100 rounded-full p-2",children:s.jsx($X,{className:"h-5 w-5 text-yellow-600"})});case"error":return s.jsx("div",{className:"bg-red-100 rounded-full p-2",children:s.jsx(pk,{className:"h-5 w-5 text-red-600"})});default:return s.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:s.jsx(fk,{className:"h-5 w-5 text-blue-600"})})}};return o.filter(u=>!u.is_read&&u.recipient_id===(e==null?void 0:e.id)).length,s.jsx(At,{children:s.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:s.jsx(je,{children:s.jsx(ke,{className:"p-0",children:s.jsx("div",{className:"divide-y divide-gray-200",children:i?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t.common.loading}):o.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx("img",{src:"/lovable-uploads/3dicons-bell-dynamic-color.png",alt:"No notifications",className:"mx-auto h-48 w-48 mb-4 object-contain"}),s.jsx("p",{children:t.notifications.noNotifications})]}):o.map(u=>s.jsxs("div",{className:`flex items-start gap-4 p-4 transition-colors ${!u.is_read&&u.recipient_id===(e==null?void 0:e.id)?"bg-blue-50":"hover:bg-gray-50"}`,children:[c(u.type),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:u.title}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.created_at).toLocaleDateString()})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:u.message}),!u.is_read&&u.recipient_id===(e==null?void 0:e.id)&&s.jsxs("button",{onClick:()=>l.mutate(u.id),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800 mt-2 disabled:opacity-50",disabled:l.isPending,children:[s.jsx(C1,{className:"h-4 w-4"}),t.notifications.markAsRead]})]})]},u.id))})})})})})};function r4e(e,t=globalThis==null?void 0:globalThis.document){const r=Ot(e);m.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var n4e="DismissableLayer",Aj="dismissableLayer.update",a4e="dismissableLayer.pointerDownOutside",o4e="dismissableLayer.focusOutside",xR,xU=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bU=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(xU),[f,d]=m.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),v=ct(t,_=>d(_)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(g),b=f?p.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=x,j=l4e(_=>{const N=_.target,E=[...u.branches].some(A=>A.contains(N));!S||E||(a==null||a(_),i==null||i(_),_.defaultPrevented||l==null||l())},h),k=c4e(_=>{const N=_.target;[...u.branches].some(A=>A.contains(N))||(o==null||o(_),i==null||i(_),_.defaultPrevented||l==null||l())},h);return r4e(_=>{b===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(xR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),bR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=xR)}},[f,h,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),bR())},[f,u]),m.useEffect(()=>{const _=()=>y({});return document.addEventListener(Aj,_),()=>document.removeEventListener(Aj,_)},[]),s.jsx(Ke.div,{...c,ref:v,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,j.onPointerDownCapture)})});bU.displayName=n4e;var s4e="DismissableLayerBranch",i4e=m.forwardRef((e,t)=>{const r=m.useContext(xU),n=m.useRef(null),a=ct(t,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),s.jsx(Ke.div,{...e,ref:a})});i4e.displayName=s4e;function l4e(e,t=globalThis==null?void 0:globalThis.document){const r=Ot(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){wU(a4e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function c4e(e,t=globalThis==null?void 0:globalThis.document){const r=Ot(e),n=m.useRef(!1);return m.useEffect(()=>{const a=o=>{o.target&&!n.current&&wU(o4e,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function bR(){const e=new CustomEvent(Aj);document.dispatchEvent(e)}function wU(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?dm(a,o):a.dispatchEvent(o)}var Zb="focusScope.autoFocusOnMount",ew="focusScope.autoFocusOnUnmount",wR={bubbles:!1,cancelable:!0},u4e="FocusScope",SU=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=m.useState(null),u=Ot(a),f=Ot(o),d=m.useRef(null),h=ct(t,p=>c(p)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let p=function(w){if(y.paused||!l)return;const S=w.target;l.contains(S)?d.current=S:zs(d.current,{select:!0})},g=function(w){if(y.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||zs(d.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&zs(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),b.disconnect()}}},[n,l,y.paused]),m.useEffect(()=>{if(l){jR.add(y);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(Zb,wR);l.addEventListener(Zb,u),l.dispatchEvent(x),x.defaultPrevented||(d4e(g4e(jU(l)),{select:!0}),document.activeElement===p&&zs(l))}return()=>{l.removeEventListener(Zb,u),setTimeout(()=>{const x=new CustomEvent(ew,wR);l.addEventListener(ew,f),l.dispatchEvent(x),x.defaultPrevented||zs(p??document.body,{select:!0}),l.removeEventListener(ew,f),jR.remove(y)},0)}}},[l,u,f,y]);const v=m.useCallback(p=>{if(!r&&!n||y.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(g&&x){const b=p.currentTarget,[w,S]=f4e(b);w&&S?!p.shiftKey&&x===S?(p.preventDefault(),r&&zs(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&zs(S,{select:!0})):x===b&&p.preventDefault()}},[r,n,y.paused]);return s.jsx(Ke.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});SU.displayName=u4e;function d4e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(zs(n,{select:t}),document.activeElement!==r)return}function f4e(e){const t=jU(e),r=SR(t,e),n=SR(t.reverse(),e);return[r,n]}function jU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function SR(e,t){for(const r of e)if(!h4e(r,{upTo:t}))return r}function h4e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function m4e(e){return e instanceof HTMLInputElement&&"select"in e}function zs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&m4e(e)&&t&&e.select()}}var jR=p4e();function p4e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=_R(e,t),e.unshift(t)},remove(t){var r;e=_R(e,t),(r=e[0])==null||r.resume()}}}function _R(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function g4e(e){return e.filter(t=>t.tagName!=="A")}var y4e="Portal",_U=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,o]=m.useState(!1);Er(()=>o(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?um.createPortal(s.jsx(Ke.div,{...n,ref:t}),i):null});_U.displayName=y4e;var kU=Vv(),tw=function(){},lx=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:tw,onWheelCapture:tw,onTouchMoveCapture:tw}),a=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,y=e.noIsolation,v=e.inert,p=e.allowPinchZoom,g=e.as,x=g===void 0?"div":g,b=e.gapMode,w=wm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,j=Hv([r,t]),k=Kt(Kt({},w),a);return m.createElement(m.Fragment,null,f&&m.createElement(S,{sideCar:kU,removeScrollBar:u,shards:d,noIsolation:y,inert:v,setCallbacks:o,allowPinchZoom:!!p,lockRef:r,gapMode:b}),i?m.cloneElement(m.Children.only(l),Kt(Kt({},k),{ref:j})):m.createElement(x,Kt({},k,{className:c,ref:j}),l))});lx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lx.classNames={fullWidth:Nl,zeroRight:kl};var Tj=!1;if(typeof window<"u")try{var Wp=Object.defineProperty({},"passive",{get:function(){return Tj=!0,!0}});window.addEventListener("test",Wp,Wp),window.removeEventListener("test",Wp,Wp)}catch{Tj=!1}var _c=Tj?{passive:!1}:!1,v4e=function(e){return e.tagName==="TEXTAREA"},NU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!v4e(e)&&r[t]==="visible")},x4e=function(e){return NU(e,"overflowY")},b4e=function(e){return NU(e,"overflowX")},kR=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=EU(e,n);if(a){var o=CU(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},w4e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},S4e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},EU=function(e,t){return e==="v"?x4e(t):b4e(t)},CU=function(e,t){return e==="v"?w4e(t):S4e(t)},j4e=function(e,t){return e==="h"&&t==="rtl"?-1:1},_4e=function(e,t,r,n,a){var o=j4e(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,f=i>0,d=0,h=0;do{var y=CU(e,l),v=y[0],p=y[1],g=y[2],x=p-g-o*v;(v||x)&&EU(e,l)&&(d+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(d)<1||!a)||!f&&(Math.abs(h)<1||!a))&&(u=!0),u},Hp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},NR=function(e){return[e.deltaX,e.deltaY]},ER=function(e){return e&&"current"in e?e.current:e},k4e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},N4e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},E4e=0,kc=[];function C4e(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),a=m.useState(E4e++)[0],o=m.useState(Sm)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Wv([e.lockRef.current],(e.shards||[]).map(ER),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=Hp(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-x[0],S="deltaY"in p?p.deltaY:b[1]-x[1],j,k=p.target,_=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&_==="h"&&k.type==="range")return!1;var N=kR(_,k);if(!N)return!0;if(N?j=_:(j=_==="v"?"h":"v",N=kR(_,k)),!N)return!1;if(!n.current&&"changedTouches"in p&&(w||S)&&(n.current=j),!j)return!0;var E=n.current||j;return _4e(E,g,p,E==="h"?w:S,!0)},[]),c=m.useCallback(function(p){var g=p;if(!(!kc.length||kc[kc.length-1]!==o)){var x="deltaY"in g?NR(g):Hp(g),b=t.current.filter(function(j){return j.name===g.type&&(j.target===g.target||g.target===j.shadowParent)&&k4e(j.delta,x)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(ER).filter(Boolean).filter(function(j){return j.contains(g.target)}),S=w.length>0?l(g,w[0]):!i.current.noIsolation;S&&g.cancelable&&g.preventDefault()}}},[]),u=m.useCallback(function(p,g,x,b){var w={name:p,delta:g,target:x,should:b,shadowParent:P4e(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),f=m.useCallback(function(p){r.current=Hp(p),n.current=void 0},[]),d=m.useCallback(function(p){u(p.type,NR(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,Hp(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return kc.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,_c),document.addEventListener("touchmove",c,_c),document.addEventListener("touchstart",f,_c),function(){kc=kc.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,_c),document.removeEventListener("touchmove",c,_c),document.removeEventListener("touchstart",f,_c)}},[]);var y=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(o,{styles:N4e(a)}):null,y?m.createElement(Jv,{gapMode:e.gapMode}):null)}function P4e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const A4e=Kv(kU,C4e);var PU=m.forwardRef(function(e,t){return m.createElement(lx,Kt({},e,{ref:t,sideCar:A4e}))});PU.classNames=lx.classNames;var hN="Dialog",[AU,TU]=fa(hN),[T4e,bo]=AU(hN),OU=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,f]=ho({prop:n,defaultProp:a,onChange:o});return s.jsx(T4e,{scope:t,triggerRef:l,contentRef:c,contentId:oo(),titleId:oo(),descriptionId:oo(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(d=>!d),[f]),modal:i,children:r})};OU.displayName=hN;var RU="DialogTrigger",$U=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bo(RU,r),o=ct(t,a.triggerRef);return s.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":gN(a.open),...n,ref:o,onClick:Ie(e.onClick,a.onOpenToggle)})});$U.displayName=RU;var mN="DialogPortal",[O4e,MU]=AU(mN,{forceMount:void 0}),IU=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,o=bo(mN,t);return s.jsx(O4e,{scope:t,forceMount:r,children:m.Children.map(n,i=>s.jsx(Mn,{present:r||o.open,children:s.jsx(_U,{asChild:!0,container:a,children:i})}))})};IU.displayName=mN;var ov="DialogOverlay",LU=m.forwardRef((e,t)=>{const r=MU(ov,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=bo(ov,e.__scopeDialog);return o.modal?s.jsx(Mn,{present:n||o.open,children:s.jsx(R4e,{...a,ref:t})}):null});LU.displayName=ov;var R4e=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bo(ov,r);return s.jsx(PU,{as:Ei,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ke.div,{"data-state":gN(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Vl="DialogContent",DU=m.forwardRef((e,t)=>{const r=MU(Vl,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=bo(Vl,e.__scopeDialog);return s.jsx(Mn,{present:n||o.open,children:o.modal?s.jsx($4e,{...a,ref:t}):s.jsx(M4e,{...a,ref:t})})});DU.displayName=Vl;var $4e=m.forwardRef((e,t)=>{const r=bo(Vl,e.__scopeDialog),n=m.useRef(null),a=ct(t,r.contentRef,n);return m.useEffect(()=>{const o=n.current;if(o)return Yv(o)},[]),s.jsx(FU,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,o=>o.preventDefault())})}),M4e=m.forwardRef((e,t)=>{const r=bo(Vl,e.__scopeDialog),n=m.useRef(!1),a=m.useRef(!1);return s.jsx(FU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),FU=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=bo(Vl,r),c=m.useRef(null),u=ct(t,c);return G2(),s.jsxs(s.Fragment,{children:[s.jsx(SU,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(bU,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":gN(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(L4e,{titleId:l.titleId}),s.jsx(F4e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),pN="DialogTitle",BU=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bo(pN,r);return s.jsx(Ke.h2,{id:a.titleId,...n,ref:t})});BU.displayName=pN;var UU="DialogDescription",zU=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bo(UU,r);return s.jsx(Ke.p,{id:a.descriptionId,...n,ref:t})});zU.displayName=UU;var qU="DialogClose",WU=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bo(qU,r);return s.jsx(Ke.button,{type:"button",...n,ref:t,onClick:Ie(e.onClick,()=>a.onOpenChange(!1))})});WU.displayName=qU;function gN(e){return e?"open":"closed"}var HU="DialogTitleWarning",[I4e,VU]=HW(HU,{contentName:Vl,titleName:pN,docsSlug:"dialog"}),L4e=({titleId:e})=>{const t=VU(HU),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},D4e="DialogDescriptionWarning",F4e=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VU(D4e).contentName}}.`;return m.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},B4e=OU,U4e=$U,z4e=IU,q4e=LU,W4e=DU,H4e=BU,V4e=zU,KU=WU,GU="AlertDialog",[K4e,S$e]=fa(GU,[TU]),Ts=TU(),JU=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ts(t);return s.jsx(B4e,{...n,...r,modal:!0})};JU.displayName=GU;var G4e="AlertDialogTrigger",YU=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ts(r);return s.jsx(U4e,{...a,...n,ref:t})});YU.displayName=G4e;var J4e="AlertDialogPortal",XU=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ts(t);return s.jsx(z4e,{...n,...r})};XU.displayName=J4e;var Y4e="AlertDialogOverlay",QU=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ts(r);return s.jsx(q4e,{...a,...n,ref:t})});QU.displayName=Y4e;var cu="AlertDialogContent",[X4e,Q4e]=K4e(cu),ZU=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,o=Ts(r),i=m.useRef(null),l=ct(t,i),c=m.useRef(null);return s.jsx(I4e,{contentName:cu,titleName:e9,docsSlug:"alert-dialog",children:s.jsx(X4e,{scope:r,cancelRef:c,children:s.jsxs(W4e,{role:"alertdialog",...o,...a,ref:l,onOpenAutoFocus:Ie(a.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(L_,{children:n}),s.jsx(eRe,{contentRef:i})]})})})});ZU.displayName=cu;var e9="AlertDialogTitle",t9=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ts(r);return s.jsx(H4e,{...a,...n,ref:t})});t9.displayName=e9;var r9="AlertDialogDescription",n9=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ts(r);return s.jsx(V4e,{...a,...n,ref:t})});n9.displayName=r9;var Z4e="AlertDialogAction",a9=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ts(r);return s.jsx(KU,{...a,...n,ref:t})});a9.displayName=Z4e;var o9="AlertDialogCancel",s9=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=Q4e(o9,r),o=Ts(r),i=ct(t,a);return s.jsx(KU,{...o,...n,ref:i})});s9.displayName=o9;var eRe=({contentRef:e})=>{const t=`\`${cu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${cu}\` by passing a \`${r9}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${cu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},tRe=JU,rRe=YU,nRe=XU,i9=QU,l9=ZU,c9=a9,u9=s9,d9=t9,f9=n9;const CR=tRe,PR=rRe,aRe=nRe,h9=m.forwardRef(({className:e,...t},r)=>s.jsx(i9,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));h9.displayName=i9.displayName;const Oj=m.forwardRef(({className:e,...t},r)=>s.jsxs(aRe,{children:[s.jsx(h9,{}),s.jsx(l9,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Oj.displayName=l9.displayName;const Rj=({className:e,...t})=>s.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",e),...t});Rj.displayName="AlertDialogHeader";const $j=({className:e,...t})=>s.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$j.displayName="AlertDialogFooter";const Mj=m.forwardRef(({className:e,...t},r)=>s.jsx(d9,{ref:r,className:fe("text-lg font-semibold",e),...t}));Mj.displayName=d9.displayName;const Ij=m.forwardRef(({className:e,...t},r)=>s.jsx(f9,{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));Ij.displayName=f9.displayName;const Lj=m.forwardRef(({className:e,...t},r)=>s.jsx(c9,{ref:r,className:fe(dk(),e),...t}));Lj.displayName=c9.displayName;const Dj=m.forwardRef(({className:e,...t},r)=>s.jsx(u9,{ref:r,className:fe(dk({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Dj.displayName=u9.displayName;const m9=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:fe("w-full caption-bottom text-sm",e),...t})}));m9.displayName="Table";const p9=m.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:fe("[&_tr]:border-b",e),...t}));p9.displayName="TableHeader";const g9=m.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:fe("[&_tr:last-child]:border-0",e),...t}));g9.displayName="TableBody";const oRe=m.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));oRe.displayName="TableFooter";const Fj=m.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Fj.displayName="TableRow";const nl=m.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));nl.displayName="TableHead";const al=m.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));al.displayName="TableCell";const sRe=m.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:fe("mt-4 text-sm text-muted-foreground",e),...t}));sRe.displayName="TableCaption";const AR=({courseForm:e,setCourseForm:t,handleImageChange:r,imagePreview:n,className:a,fileInputRef:o})=>s.jsx("div",{className:a,children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"title",children:"Title"}),s.jsx(st,{id:"title",value:e.title,onChange:i=>t({...e,title:i.target.value}),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"description",children:"Description"}),s.jsx(nd,{id:"description",value:e.description,onChange:i=>t({...e,description:i.target.value}),className:"mt-1",rows:4})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"category",children:"Category"}),s.jsxs(to,{value:e.category,onValueChange:i=>t({...e,category:i}),children:[s.jsx(Ea,{className:"mt-1",children:s.jsx(ro,{placeholder:"Select category"})}),s.jsxs(Ca,{children:[s.jsx(qt,{value:"programming",children:"Programming"}),s.jsx(qt,{value:"design",children:"Design"}),s.jsx(qt,{value:"marketing",children:"Marketing"}),s.jsx(qt,{value:"business",children:"Business"}),s.jsx(qt,{value:"data-science",children:"Data Science"}),s.jsx(qt,{value:"cybersecurity",children:"Cybersecurity"})]})]})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"level",children:"Level"}),s.jsxs(to,{value:e.level,onValueChange:i=>t({...e,level:i}),children:[s.jsx(Ea,{className:"mt-1",children:s.jsx(ro,{placeholder:"Select level"})}),s.jsxs(Ca,{children:[s.jsx(qt,{value:"beginner",children:"Beginner"}),s.jsx(qt,{value:"intermediate",children:"Intermediate"}),s.jsx(qt,{value:"advanced",children:"Advanced"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"duration",children:"Duration"}),s.jsx(st,{id:"duration",placeholder:"e.g., 8 weeks",value:e.duration,onChange:i=>t({...e,duration:i.target.value}),className:"mt-1"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Fe,{children:"Course Image"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:s.jsx("div",{className:"space-y-1 text-center",children:n?s.jsxs("div",{className:"relative mx-auto",children:[s.jsx("img",{src:n,alt:"Preview",className:"mx-auto h-24 w-auto rounded-md object-cover"}),s.jsx("button",{onClick:()=>r(null),className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded-full",children:s.jsx(po,{className:"h-4 w-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(cX,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-breneo-blue hover:text-breneo-blue/80 focus-within:outline-none",children:[s.jsx("span",{children:"Upload a file"}),s.jsx("input",{ref:o,id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:i=>r(i.target.files),accept:"image/*"})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"skills",children:"Required Skills"}),s.jsx(st,{id:"skills",placeholder:"Comma separated skills",value:e.required_skills,onChange:i=>t({...e,required_skills:i.target.value}),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"topics",children:"Topics"}),s.jsx(st,{id:"topics",placeholder:"Comma separated topics",value:e.topics,onChange:i=>t({...e,topics:i.target.value}),className:"mt-1"})]})]})]})}),TR=()=>{const{user:e}=lr(),[t,r]=m.useState([]),[n,a]=m.useState(null),[o,i]=m.useState(!0),[l,c]=m.useState(!1),[u,f]=m.useState(null),[d,h]=m.useState({title:"",description:"",category:"",level:"",duration:"",required_skills:"",topics:""}),[y,v]=m.useState(null),[p,g]=m.useState(null),[x,b]=m.useState(!1),w=ma(),S=m.useRef(null),j=m.useRef(null),k=()=>{f(null),h({title:"",description:"",category:"",level:"",duration:"",required_skills:"",topics:""}),v(null),g(null),j.current&&(j.current.value="")},_=$=>{$||k(),b($)},N=$=>{f($),h({title:$.title,description:$.description,category:$.category,level:$.level,duration:$.duration,required_skills:$.required_skills.join(", "),topics:$.topics.join(", ")}),g($.image),b(!0)},E=m.useCallback(async()=>{var $;if(e)try{const U=await Ae.get(ht.ACADEMY.PROFILE);if(U.data){const P=U.data,M={id:P.id||P.academy_id||String(e.id),academy_name:P.academy_name||"",first_name:P.first_name||P.firstName||e.first_name||P.academy_name||"",description:P.description||"",website_url:P.website_url||"",contact_email:P.contact_email||e.email||"",is_verified:P.is_verified||!1,logo_url:P.logo_url||P.profile_photo_url||null};a(M),console.log(" Academy profile loaded from API:",M)}}catch(U){console.error("Failed to load academy profile:",U),(($=U.response)==null?void 0:$.status)===404?se.error("Please set up your academy profile first"):se.error("Failed to load academy profile")}finally{i(!1)}},[e]),A=m.useCallback(async()=>{if(n)try{const{data:$,error:U}=await Lt.from("courses").select("*").eq("academy_id",n.id).order("created_at",{ascending:!1});if(U)throw U;const P=($||[]).map(M=>({...M,required_skills:M.required_skills||[],topics:M.topics||[],enrolled:M.enrolled||!1,popular:M.popular||!1,is_academy_course:M.is_academy_course||!1}));r(P)}catch($){console.error("Error fetching courses:",$),se.error($.message||"Failed to load courses")}},[n]);m.useEffect(()=>{E()},[E]),m.useEffect(()=>{n&&n.id&&A()},[n,A]),m.useEffect(()=>{x&&w&&S.current&&S.current.scrollTo({top:0})},[x,w]);const T=$=>{if($&&$[0]){const U=$[0],P=10*1024*1024;if(U.size>P){se.error("Image size must be less than 10MB"),j.current&&(j.current.value="");return}if(!U.type.startsWith("image/")){se.error("Please select a valid image file"),j.current&&(j.current.value="");return}v(U),g(URL.createObjectURL(U))}else v(null),g(null),j.current&&(j.current.value="")},D=async()=>{u?await z():await B()},B=async()=>{var $,U,P,M;if(!n||!n.id){se({title:"Error",description:"Academy profile ID is missing",variant:"destructive"});return}c(!0);try{const W=d.required_skills.split(",").map(ue=>ue.trim()).filter(ue=>ue),R=d.topics.split(",").map(ue=>ue.trim()).filter(ue=>ue);let q="/lovable-uploads/no_photo.png";if(y)try{const ue=y.name.split(".").pop(),ie=`${n.id}/${Date.now()}.${ue}`;console.log(" Uploading image to Supabase storage...",{bucket:"course-images",fileName:ie,fileSize:y.size,fileType:y.type});const{data:O,error:L}=await Lt.storage.from("course-images").upload(ie,y,{cacheControl:"3600",upsert:!1});if(L)throw console.error(" Image upload error:",L),($=L.message)!=null&&$.includes("Bucket not found")||(U=L.message)!=null&&U.includes("does not exist")?(se.error("Storage bucket 'course-images' not found. Please contact support to set it up."),new Error("Storage bucket not configured")):(P=L.message)!=null&&P.includes("permission")||(M=L.message)!=null&&M.includes("policy")||L.statusCode===403?(se.error("Permission denied. Please check storage bucket policies."),new Error("Storage permission denied")):(se.error(`Failed to upload image: ${L.message||"Unknown error"}`),L);console.log(" Image uploaded successfully:",O);const{data:H}=Lt.storage.from("course-images").getPublicUrl(ie);q=H.publicUrl,console.log(" Image URL:",q)}catch(ue){throw console.error(" Image upload failed:",ue),ue}const ee=n.first_name||n.academy_name||"",{data:ne,error:ce}=await Lt.from("courses").insert({title:d.title,description:d.description,category:d.category,level:d.level,duration:d.duration,provider:ee,required_skills:W,topics:R,image:q,enrolled:!1,popular:!1,academy_id:n.id,is_academy_course:!0}).select().single();if(ce)throw ce;se.success("Course added successfully"),A(),_(!1)}catch(W){console.error("Error adding course:",W),se.error(W.message||"Failed to add course")}finally{c(!1)}},z=async()=>{var $,U,P,M;if(!(!u||!n||!n.id)){c(!0);try{const W=d.required_skills.split(",").map(ce=>ce.trim()).filter(ce=>ce),R=d.topics.split(",").map(ce=>ce.trim()).filter(ce=>ce);let q=u.image;if(y)try{const ce=y.name.split(".").pop(),ue=`${n.id}/${Date.now()}.${ce}`;console.log(" Uploading new image to Supabase storage...",{bucket:"course-images",fileName:ue,fileSize:y.size,fileType:y.type});const{data:ie,error:O}=await Lt.storage.from("course-images").upload(ue,y,{cacheControl:"3600",upsert:!1});if(O)throw console.error(" Image upload error:",O),($=O.message)!=null&&$.includes("Bucket not found")||(U=O.message)!=null&&U.includes("does not exist")?(se.error("Storage bucket 'course-images' not found. Please contact support to set it up."),new Error("Storage bucket not configured")):(P=O.message)!=null&&P.includes("permission")||(M=O.message)!=null&&M.includes("policy")||O.statusCode===403?(se.error("Permission denied. Please check storage bucket policies."),new Error("Storage permission denied")):(se.error(`Failed to upload image: ${O.message||"Unknown error"}`),O);console.log(" Image uploaded successfully:",ie);const{data:L}=Lt.storage.from("course-images").getPublicUrl(ue);q=L.publicUrl,console.log(" Image URL:",q)}catch(ce){throw console.error(" Image upload failed:",ce),ce}const ee=n.first_name||n.academy_name||"",{error:ne}=await Lt.from("courses").update({title:d.title,description:d.description,category:d.category,level:d.level,duration:d.duration,required_skills:W,topics:R,image:q,provider:ee}).eq("id",u.id);if(ne)throw ne;se.success("Course updated successfully"),A(),_(!1)}catch(W){console.error("Error updating course:",W),se.error(W.message||"Failed to update course")}finally{c(!1)}}},F=async $=>{try{const{error:U}=await Lt.from("courses").delete().eq("id",$);if(U)throw U;se.success("Course deleted successfully"),A(),_(!1)}catch(U){console.error("Error deleting course:",U),se.error(U.message||"Failed to delete course")}};return o?s.jsx(At,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-lg",children:"Loading..."})})}):n?s.jsx(At,{children:s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("span",{className:"text-md font-semibold",children:["You have ",t.length," Courses"]}),w?s.jsxs(Kr,{open:x,onOpenChange:_,children:[s.jsx(dee,{asChild:!0,children:s.jsxs(te,{children:[s.jsx(A1,{className:"w-4 h-4 mr-2"}),"Add Course"]})}),s.jsxs(Gr,{children:[s.jsxs(ty,{className:"h-[80vh]",ref:S,children:[s.jsxs(Jr,{className:"text-left",children:[s.jsx(Yr,{children:u?"Edit Course":"Create a New Course"}),s.jsx(uL,{children:u?"Update the details below.":"Fill in the details below to add a new course."})]}),s.jsx(AR,{courseForm:d,setCourseForm:h,handleImageChange:T,imagePreview:p,className:"px-4",fileInputRef:j})]}),s.jsxs(ka,{className:"pt-2 sticky bottom-0 bg-background shadow-lg flex-row space-x-2",children:[s.jsx(te,{onClick:D,disabled:l||!d.title||!d.description,className:"bg-breneo-blue hover:bg-breneo-blue/90 w-full",children:l?"Saving...":u?"Save Changes":"Add Course"}),u&&s.jsxs(CR,{children:[s.jsx(PR,{asChild:!0,children:s.jsxs(te,{variant:"destructive",className:"w-full",children:[s.jsx(wi,{className:"w-4 h-4 mr-2"}),"Delete"]})}),s.jsxs(Oj,{children:[s.jsxs(Rj,{children:[s.jsx(Mj,{children:"Are you sure?"}),s.jsx(Ij,{children:"This action cannot be undone. This will permanently delete the course."})]}),s.jsxs($j,{children:[s.jsx(Dj,{children:"Cancel"}),s.jsx(Lj,{onClick:()=>F(u.id),children:"Continue"})]})]})]}),s.jsx(ss,{asChild:!0,children:s.jsx(te,{variant:"outline",className:"w-full",children:"Cancel"})})]})]})]}):s.jsxs(xn,{open:x,onOpenChange:_,children:[s.jsx(LZ,{asChild:!0,children:s.jsxs(te,{children:[s.jsx(A1,{className:"w-4 h-4 mr-2"}),"Add Course"]})}),s.jsxs(an,{className:"sm:max-w-[800px] bg-gray-50",children:[s.jsxs(on,{children:[s.jsx(sn,{className:"text-2xl font-bold text-gray-800",children:u?"Edit Course":"Create a New Course"}),s.jsx(ru,{children:u?"Update the details below for your course.":"Fill in the details below to add a new course to your academy."})]}),s.jsx(AR,{courseForm:d,setCourseForm:h,handleImageChange:T,imagePreview:p,fileInputRef:j}),s.jsxs(bn,{children:[u&&s.jsxs(CR,{children:[s.jsx(PR,{asChild:!0,children:s.jsxs(te,{variant:"destructive",children:[s.jsx(wi,{className:"w-4 h-4 mr-2"}),"Delete Course"]})}),s.jsxs(Oj,{children:[s.jsxs(Rj,{children:[s.jsx(Mj,{children:"Are you sure?"}),s.jsx(Ij,{children:"This action cannot be undone. This will permanently delete the course."})]}),s.jsxs($j,{children:[s.jsx(Dj,{children:"Cancel"}),s.jsx(Lj,{onClick:()=>F(u.id),children:"Continue"})]})]})]}),s.jsx(te,{onClick:D,disabled:l||!d.title||!d.description,className:"bg-breneo-blue hover:bg-breneo-blue/90",children:l?"Saving...":u?"Save Changes":"Add Course"})]})]})]})]}),s.jsx("div",{children:t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Vg,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No courses yet"}),s.jsx("p",{className:"text-muted-foreground",children:"Add your first course to get started"})]}):s.jsxs(m9,{children:[s.jsx(p9,{children:s.jsxs(Fj,{children:[s.jsx(nl,{children:"Image"}),s.jsx(nl,{children:"Title"}),s.jsx(nl,{children:"Category"}),s.jsx(nl,{children:"Level"}),s.jsx(nl,{children:"Duration"}),s.jsx(nl,{})]})}),s.jsx(g9,{children:t.map($=>s.jsxs(Fj,{children:[s.jsx(al,{children:s.jsx("img",{src:$.image,alt:$.title,className:"h-12 w-16 rounded-md object-cover"})}),s.jsx(al,{className:"font-medium",children:$.title}),s.jsx(al,{children:s.jsx(jr,{variant:"outline",children:$.category})}),s.jsx(al,{children:s.jsx(jr,{variant:"secondary",children:$.level})}),s.jsx(al,{children:$.duration}),s.jsx(al,{className:"text-right",children:s.jsx(te,{variant:"outline",size:"sm",onClick:()=>N($),children:s.jsx(Of,{className:"h-4 w-4"})})})]},$.id))})]})})]})})}):s.jsx(At,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),s.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})})},Vp="https://breneo.onrender.com/api/academy/profile/",iRe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),lRe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),cRe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),uRe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),dRe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M12 24C5.385 24 0 18.615 0 12S5.385 0 12 0s12 5.385 12 12-5.385 12-12 12zm10.12-10.358c-.35-.11-3.17-.953-6.384-.438 1.34 3.684 1.887 6.684 1.992 7.308 2.3-1.555 3.936-4.02 4.395-6.87zm-6.115 7.808c-.153-.9-.75-4.032-2.19-7.77l-.066.02c-5.79 2.015-7.86 6.025-8.04 6.4 1.73 1.358 3.92 2.137 6.29 2.137 1.42 0 2.77-.29 4-.816zm-11.62-2.58c.232-.4 3.045-5.055 8.332-6.765.135-.045.27-.084.405-.12-.26-.585-.54-1.167-.832-1.72C7.17 11.775 2.206 11.71 1.756 11.7l-.004.312c0 2.633.998 5.037 2.634 6.855zm-2.42-8.955c.46.008 4.683.026 9.477-1.248-1.698-3.018-3.53-5.558-3.8-5.928-2.868 1.35-5.01 3.99-5.676 7.17zM9.6 2.052c.282.38 2.145 2.914 3.822 6 3.645-1.365 5.19-3.44 5.373-3.702-1.81-1.61-4.19-2.586-6.795-2.586-.825 0-1.63.1-2.4.285zm10.335 3.483c-.218.29-1.935 2.493-5.724 4.04.24.49.47.985.68 1.486.08.18.15.36.22.53 3.41-.43 6.8.26 7.14.33-.02-2.42-.88-4.64-2.31-6.38z"})}),fRe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.921h-6.466v-14.921h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.015zm-3.466-8.921h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"})}),rw=(e,t)=>{const r={className:t||"h-5 w-5"};switch(e){case"github":return s.jsx(iRe,{...r});case"linkedin":return s.jsx(lRe,{...r});case"facebook":return s.jsx(cRe,{...r});case"instagram":return s.jsx(uRe,{...r});case"dribbble":return s.jsx(dRe,{...r});case"behance":return s.jsx(fRe,{...r});default:return s.jsx(gk,{className:t||"h-5 w-5"})}},df={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram",dribbble:"Dribbble",behance:"Behance"},hRe=()=>{const{user:e,logout:t,loading:r}=lr(),n=tr(),a=ma(),[o,i]=m.useState(null),[l,c]=m.useState(null),[u,f]=m.useState(!0),[d,h]=m.useState(!1),[y,v]=m.useState(!1),[p,g]=m.useState(!1),[x,b]=m.useState({contact_email:""}),[w,S]=m.useState({academy_name:"",description:"",website_url:"",contact_email:""}),[j,k]=m.useState({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}),[_,N]=m.useState(!1),[E,A]=m.useState(!1),[T,D]=m.useState(null),[B,z]=m.useState({platform:"",url:""}),[F,$]=m.useState(!1),[U,P]=m.useState(!1),[M,W]=m.useState(!1),[R,q]=m.useState(null),ee=m.useMemo(()=>{const J=(re,we)=>{if(re&&typeof re=="object")return re[we]};return[J(e,"phone_verified"),J(e,"is_phone_verified"),J(l,"phone_verified"),J(l,"is_phone_verified")].some(re=>re===!0||re==="true")},[e,l]),{isPhoneVerified:ne,isSendingCode:ce,isVerifyingCode:ue,codeSent:ie,codeInput:O,resendCooldown:L,sendCode:H,verifyCode:X,setCodeInput:V}=k7({phoneNumber:e==null?void 0:e.phone_number,ownerId:e==null?void 0:e.id,role:(e==null?void 0:e.user_type)??"academy",initiallyVerified:ee}),ae=async()=>{try{await H(),se.info(e!=null&&e.phone_number?`We've sent a 6-digit code to ${e.phone_number}.`:"We've sent a 6-digit code to your phone.")}catch(J){const K=J instanceof Error?J.message:"Failed to send verification code. Please try again.";se.error(K)}},Z=async()=>{try{await X()&&se.success("Your phone number has been verified successfully.")}catch(J){const K=J instanceof Error?J.message:"Verification failed. Please check the code and try again.";se.error(K)}};m.useEffect(()=>{e!=null&&e.profile_image&&q(e.profile_image)},[e==null?void 0:e.profile_image]),m.useEffect(()=>{(async()=>{var re,we,Pe,Te;if(r)return;if(!e){f(!1);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){console.error(" No token available, cannot fetch academy profile"),f(!1),se.error("Please log in again to access your academy profile.");return}f(!0);try{try{const Je=await Ae.get(Vp);if(Je.data){const $e=Je.data;i($e),S({academy_name:$e.academy_name||"",description:$e.description||"",website_url:$e.website_url||"",contact_email:$e.contact_email||""}),b({contact_email:$e.contact_email||""})}}catch(Je){const $e=Je,Ze=(re=$e.response)==null?void 0:re.status,he=(we=$e.response)==null?void 0:we.data;if(console.log(" Academy profile API response:",{status:Ze,url:(Pe=$e.config)==null?void 0:Pe.url,hasToken:!!localStorage.getItem("authToken"),errorData:he}),Ze===404)console.log(" Academy profile not found (404) - user may need to create one"),i(null);else if(Ze===403)console.error("Access forbidden to academy profile"),se.error("You don't have permission to access academy profile.");else if(Ze===401){const Me=(he==null?void 0:he.detail)||(he==null?void 0:he.message)||"";console.warn(" Academy profile returned 401",{errorDetail:Me,url:(Te=$e.config)==null?void 0:Te.url});const Re=String(Me).toLowerCase();if(Re.includes("not found")||Re.includes("does not exist")||Re.includes("no profile")||Re.includes("user not found")){console.log(" Profile not found based on error message - treating as 404, allowing user to create profile"),i(null);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){if(console.error(" Token was cleared - checking if it's a server error or real expiration"),Re.includes("academy")||Re.includes("profile")){console.log(" Error mentions academy/profile - might be missing profile, allowing creation"),i(null);return}se({title:"Authentication Error",description:"Your session has expired. Please log in again.",variant:"destructive"});return}console.log(" Token exists but got 401 - treating as missing profile, allowing user to create profile"),i(null)}else console.error("Error fetching academy profile:",$e),se.error("Could not load academy profile data. Please try again.")}e!=null&&e.profile_image||Ae.get(ht.AUTH.PROFILE).then(Je=>{Je.data&&c(Je.data)}).catch(Je=>{var he;const $e=Je,Ze=(he=$e==null?void 0:$e.response)==null?void 0:he.status;if(Ze&&Ze!==401&&Ze!==403){const Me=($e==null?void 0:$e.message)||String(Je);console.warn("Could not fetch user profile (non-critical):",Ze||Me)}})}catch(Je){const $e=Je instanceof Error?Je.message:"Unknown error";console.error("Unexpected error in fetchProfileData:",$e),se({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{f(!1)}})()},[e,se,r]),m.useEffect(()=>{o&&(async()=>{if(!(!e||!o)){N(!0);try{const K=localStorage.getItem("authToken"),re="academy",we=o.id,Pe=e==null?void 0:e.email,Te=await Ae.get("/api/social-links/",{headers:K?{Authorization:`Bearer ${K}`}:{},params:{role:re,academy:we,user_email:Pe}});Te.data&&typeof Te.data=="object"&&!Array.isArray(Te.data)?k({github:Te.data.github||"",linkedin:Te.data.linkedin||"",facebook:Te.data.facebook||"",instagram:Te.data.instagram||"",dribbble:Te.data.dribbble||"",behance:Te.data.behance||""}):k({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}catch{k({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}finally{N(!1)}}})()},[e,o]);const de=async()=>{var J;if(!e){se({title:"Error",description:"You must be logged in to update your profile.",variant:"destructive"});return}if(!w.academy_name.trim()){se({title:"Validation Error",description:"Academy name is required.",variant:"destructive"});return}g(!0);try{const re=await Ae[o?"patch":"post"](Vp,{academy_name:w.academy_name.trim(),description:w.description.trim()||null,website_url:w.website_url.trim()||null,contact_email:w.contact_email.trim()||null});if(re.data){const we={id:(o==null?void 0:o.id)||re.data.id||"",academy_name:w.academy_name.trim(),description:w.description.trim()||"",website_url:w.website_url.trim()||"",contact_email:w.contact_email.trim()||"",logo_url:(o==null?void 0:o.logo_url)||re.data.logo_url||null};i(we),S({academy_name:we.academy_name,description:we.description,website_url:we.website_url,contact_email:we.contact_email}),se.success(o?"Your academy profile has been updated.":"Your academy profile has been created."),h(!1)}}catch(K){const re=K;let we="Failed to update profile. Please try again.";if((J=re.response)!=null&&J.data){const Pe=re.response.data;we=Pe.detail||Pe.message||we}else K instanceof Error&&(we=K.message);console.error("Error updating academy profile:",we),se.error(we)}finally{g(!1)}},oe=J=>{const{id:K,value:re}=J.target;S(we=>({...we,[K]:re}))},ye=()=>{t(),n("/")},be=()=>{o&&b({contact_email:o.contact_email||""}),v(!0)},Be=async()=>{var J;if(o){g(!0);try{const K=await Ae.patch(Vp,{academy_name:o.academy_name,description:o.description,website_url:o.website_url||null,contact_email:x.contact_email.trim()||null});if(K&&K.data){const re={...o,contact_email:x.contact_email.trim()||""};i(re),S(we=>({...we,contact_email:re.contact_email})),se.success("Contact information has been updated."),v(!1)}else throw new Error("No response data received")}catch(K){const re=K;let we="Failed to update contact information. Please try again.";if((J=re.response)!=null&&J.data){const Pe=re.response.data;we=Pe.detail||Pe.message||we}else K instanceof Error&&(we=K.message);console.error("Error updating contact information:",K),se.error(we)}finally{g(!1)}}},it=()=>{D(null),z({platform:"",url:""}),A(!0)},ge=J=>{D(J),z({platform:J,url:j[J]||""}),A(!0)},xe=J=>{try{const K=new URL(J);return K.protocol==="http:"||K.protocol==="https:"}catch{try{const K=new URL(`https://${J}`);return!0}catch{return!1}}},qe=async()=>{var K,re,we;if(!e||!o||!B.platform||!B.url.trim()){se.error("Please select a platform and provide a URL.");return}const J=B.url.trim();if(!xe(J)){se.error("Please enter a valid URL (e.g., https://example.com).");return}$(!0);try{if(B.platform==="website"){let C=J;!C.startsWith("http://")&&!C.startsWith("https://")&&(C=`https://${C}`);const Y=await Ae.patch(Vp,{academy_name:o.academy_name,description:o.description,website_url:C||null,contact_email:o.contact_email});if(Y&&Y.data){const Ee={...o,website_url:C||""};i(Ee),S(ze=>({...ze,website_url:Ee.website_url})),se.success(T==="website"?"Website updated successfully.":"Website added successfully."),A(!1),z({platform:"",url:""}),D(null)}else throw new Error("No response data received");return}const Pe=localStorage.getItem("authToken");if(!Pe)throw new Error("Authentication token is missing");const Te=B.platform,Je="academy",$e=o.id,Ze=e==null?void 0:e.email;if(!$e||!Ze)throw new Error("Missing required information: academy ID or user email");let he=J;!he.startsWith("http://")&&!he.startsWith("https://")&&(he=`https://${he}`);const Me={[Te]:he,role:Je,academy:$e,user_email:Ze};console.log(" Saving social link:",{platform:Te,url:he,role:Je,academy:$e,user_email:Ze});let Re;try{Re=await Ae.patch("/api/social-links/",Me,{headers:{Authorization:`Bearer ${Pe}`,"Content-Type":"application/json"}}),console.log(" Social link saved via PATCH:",Re.data)}catch(C){const Y=C;if(((K=Y.response)==null?void 0:K.status)===404||((re=Y.response)==null?void 0:re.status)===400){console.log(" PATCH failed, trying POST to create new record...");try{Re=await Ae.post("/api/social-links/",Me,{headers:{Authorization:`Bearer ${Pe}`,"Content-Type":"application/json"}}),console.log(" Social link created via POST:",Re.data)}catch(Ee){throw console.error(" Both PATCH and POST failed:",Ee),C}}else throw C}if(!Re||!Re.data)throw new Error("No response data received from server");k(C=>({...C,[Te]:he}));try{const C=await Ae.get("/api/social-links/",{headers:{Authorization:`Bearer ${Pe}`},params:{role:Je,academy:$e,user_email:Ze}});if(C.data&&typeof C.data=="object"&&!Array.isArray(C.data)){const Y={github:C.data.github||"",linkedin:C.data.linkedin||"",facebook:C.data.facebook||"",instagram:C.data.instagram||"",dribbble:C.data.dribbble||"",behance:C.data.behance||""};k(Y),console.log(" Social links refreshed from server:",Y)}}catch(C){console.warn(" Could not refresh social links from server:",C)}se.success(T?"Social link updated successfully.":"Social link added successfully."),A(!1),z({platform:"",url:""}),D(null)}catch(Pe){const Te=Pe;let Je="Failed to save. Please try again.";if((we=Te.response)!=null&&we.data){const $e=Te.response.data;Je=$e.detail||$e.message||Je}else Pe instanceof Error&&(Je=Pe.message);console.error("Error saving social link/website:",Pe),se.error(Je)}finally{$(!1)}},rt=async J=>{var re,we,Pe,Te,Je,$e,Ze;const K=(re=J.target.files)==null?void 0:re[0];if(K){if(!K.type.startsWith("image/")){se.error("Please select an image file.");return}if(K.size>5*1024*1024){se.error("Image size should be less than 5MB.");return}P(!0),q(null);try{const he=new FormData;he.append("profile_image",K);const Me=localStorage.getItem("authToken"),Re=await Ae.patch(ht.AUTH.PROFILE,he,{headers:{Authorization:Me?`Bearer ${Me}`:void 0,"Content-Type":"multipart/form-data"}});console.log(" Image upload response:",Re.data);const C=((we=Re.data)==null?void 0:we.profile_image)||((Te=(Pe=Re.data)==null?void 0:Pe.profile)==null?void 0:Te.profile_image)||(($e=(Je=Re.data)==null?void 0:Je.user)==null?void 0:$e.profile_image)||null;q(C),se.success("Profile image has been updated successfully."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image uploaded successfully")}catch(he){console.error(" Error uploading profile image:",he);const Me=he;let Re="Failed to upload profile image. Please try again.";if((Ze=Me.response)!=null&&Ze.data){const C=Me.response.data;Re=C.detail||C.message||Re}se.error(Re)}finally{P(!1)}}},nt=()=>{W(!0)},yt=()=>{var J;(J=document.getElementById("profile-image-input"))==null||J.click(),W(!1)},at=async()=>{if(e){if(!confirm("Are you sure you want to remove your profile image?")){W(!1);return}P(!0),W(!1);try{const J=localStorage.getItem("authToken"),K=await Ae.patch(ht.AUTH.PROFILE,{profile_image:null},{headers:{Authorization:J?`Bearer ${J}`:void 0}});console.log(" Image removal response:",K.data),q(null),(await Ae.get(ht.AUTH.PROFILE,{headers:{Authorization:J?`Bearer ${J}`:void 0}})).data,se.success("Profile image has been removed."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image removed successfully")}catch(J){console.error(" Error removing profile image:",J),se.error("Failed to remove profile image. Please try again.")}finally{P(!1)}}},We=async J=>{var K;if(!(!e||!o||!confirm("Are you sure you want to remove this social link?")))try{const re=localStorage.getItem("authToken");if(!re)throw new Error("Authentication token is missing");const we="academy",Pe=o.id,Te=e==null?void 0:e.email;if(!Pe||!Te)throw new Error("Missing required information: academy ID or user email");console.log(" Deleting social link:",{platform:J,role:we,academy:Pe,user_email:Te});const Je={[J]:"",role:we,academy:Pe,user_email:Te},$e=await Ae.patch("/api/social-links/",Je,{headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"}});if(!$e||!$e.data)throw new Error("No response data received from server");console.log(" Social link deleted:",$e.data),k(Ze=>({...Ze,[J]:""}));try{const Ze=await Ae.get("/api/social-links/",{headers:{Authorization:`Bearer ${re}`},params:{role:we,academy:Pe,user_email:Te}});if(Ze.data&&typeof Ze.data=="object"&&!Array.isArray(Ze.data)){const he={github:Ze.data.github||"",linkedin:Ze.data.linkedin||"",facebook:Ze.data.facebook||"",instagram:Ze.data.instagram||"",dribbble:Ze.data.dribbble||"",behance:Ze.data.behance||""};k(he),console.log(" Social links refreshed from server after deletion:",he)}}catch(Ze){console.warn(" Could not refresh social links from server:",Ze)}se.success("Social link removed successfully.")}catch(re){const we=re;let Pe="Failed to remove social link. Please try again.";if((K=we.response)!=null&&K.data){const Te=we.response.data;Pe=Te.detail||Te.message||Pe}else re instanceof Error&&(Pe=re.message);console.error(" Error deleting social link:",re),se.error(Pe)}};return r||u?s.jsx(At,{children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto mb-2"}),s.jsx("p",{children:"Loading profile..."})]})})}):!o&&!u?s.jsxs(At,{children:[s.jsxs("div",{className:"flex flex-col justify-center items-center h-64 space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Academy Profile Not Found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your academy profile hasn't been set up yet."}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(te,{onClick:()=>h(!0),children:"Create Profile"}),s.jsx(te,{variant:"outline",onClick:()=>n("/academy/settings"),children:"Go to Settings"})]})]}),s.jsx(xn,{open:d,onOpenChange:h,children:s.jsxs(an,{children:[s.jsxs(on,{children:[s.jsx(sn,{children:"Create Academy Profile"}),s.jsx(ru,{children:"Enter your academy's information to create your profile. Click save when you're done."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Fe,{htmlFor:"academy_name",className:"text-right",children:"Academy Name *"}),s.jsx(st,{id:"academy_name",value:w.academy_name,onChange:oe,className:"col-span-3",placeholder:"Enter academy name"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Fe,{htmlFor:"description",className:"text-right",children:"Description"}),s.jsx(nd,{id:"description",value:w.description,onChange:oe,className:"col-span-3",placeholder:"Describe your academy"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Fe,{htmlFor:"website_url",className:"text-right",children:"Website URL"}),s.jsx(st,{id:"website_url",value:w.website_url,onChange:oe,className:"col-span-3",placeholder:"https://example.com"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Fe,{htmlFor:"contact_email",className:"text-right",children:"Contact Email"}),s.jsx(st,{id:"contact_email",type:"email",value:w.contact_email,onChange:oe,className:"col-span-3",placeholder:"contact@academy.com"})]})]}),s.jsxs(bn,{children:[s.jsx(te,{variant:"outline",onClick:()=>h(!1),disabled:p,children:"Cancel"}),s.jsx(te,{onClick:de,disabled:p,children:p?"Creating...":"Create Profile"})]})]})})]}):s.jsx(At,{children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsx(je,{children:s.jsxs(ke,{className:"flex flex-col items-center pb-6 pt-6",children:[s.jsxs("div",{className:"relative group cursor-pointer",onClick:nt,children:[s.jsx(dh,{src:R||(e==null?void 0:e.profile_image)||(l==null?void 0:l.profile_image)||void 0,alt:(o==null?void 0:o.academy_name)||"Academy",fallback:o!=null&&o.academy_name?o.academy_name.charAt(0).toUpperCase():e!=null&&e.first_name?e.first_name.charAt(0).toUpperCase():e!=null&&e.email?e.email.charAt(0).toUpperCase():"A",size:"xl",loading:"lazy",className:"h-32 w-32"}),U?s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-3xl z-10",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity z-10 pointer-events-none",children:s.jsx(hk,{className:"h-8 w-8 text-white"})})]}),s.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:rt,disabled:U,className:"hidden"}),((e==null?void 0:e.first_name)||(e==null?void 0:e.last_name))&&s.jsx("h1",{className:"text-2xl font-bold mt-4 text-center",children:`${e.first_name||""} ${e.last_name||""}`.trim()}),(o==null?void 0:o.academy_name)&&s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2 text-center",children:o.academy_name}),s.jsxs("div",{className:"mt-4 flex items-center gap-2 w-full",children:[s.jsxs(te,{variant:"outline",className:"flex-[4] flex items-center justify-center gap-2",onClick:()=>n("/academy/settings"),children:[s.jsx(xm,{size:16}),"Settings"]}),s.jsx(te,{variant:"outline",onClick:ye,className:"flex-[1] flex items-center justify-center border-breneo-danger text-breneo-danger hover:bg-breneo-danger/10",children:s.jsx(r5,{size:16})})]})]})}),s.jsxs(je,{children:[s.jsxs(ot,{className:"flex flex-row items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Contact Information"}),o&&s.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:be,children:s.jsx(Of,{size:16,className:"text-breneo-blue"})})]}),s.jsxs(ke,{className:"space-y-4",children:[(e==null?void 0:e.phone_number)&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:s.jsx(ph,{size:18,className:"text-breneo-blue"})}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[s.jsx("span",{className:"text-sm",children:e.phone_number}),s.jsx(jr,{variant:ne?"secondary":"outline",className:ne?"mt-1 sm:mt-0 bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300":"mt-1 sm:mt-0 border-orange-300 text-orange-600",children:ne?"Verified":"Unverified"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:s.jsx(Ru,{size:18,className:"text-breneo-blue"})}),s.jsx("span",{className:"text-sm",children:(e==null?void 0:e.email)||"Not provided"})]}),(o==null?void 0:o.contact_email)&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:s.jsx(Ru,{size:18,className:"text-breneo-blue"})}),s.jsx("span",{className:"text-sm",children:o.contact_email})]}),!ne&&s.jsx(X2,{className:"border-orange-300 bg-orange-50 dark:border-orange-900/60 dark:bg-orange-950/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Oo,{className:"h-5 w-5 text-orange-600 mt-1"}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{children:[s.jsx(Q2,{children:"Verify your phone number"}),s.jsx(Z2,{children:"Confirm your phone number to ensure students and partners can trust your academy."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[s.jsx(te,{onClick:ae,disabled:!(e!=null&&e.phone_number)||ce||ie&&L>0,children:ce?"Sending...":ie?"Resend code":"Send verification code"}),L>0&&s.jsxs("span",{className:"text-xs text-orange-700 dark:text-orange-300",children:["You can request a new code in ",L,"s"]})]}),ie&&s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[s.jsx(st,{inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"Enter 6-digit code",value:O,onChange:J=>V(J.target.value.replace(/\D/g,"").slice(0,6)),className:"sm:max-w-[200px]"}),s.jsx(te,{onClick:Z,disabled:O.length!==6||ue,children:ue?"Verifying...":"Verify"})]}),!(e!=null&&e.phone_number)&&s.jsx("div",{className:"pt-2",children:s.jsx(te,{variant:"outline",size:"sm",onClick:()=>n("/academy/settings"),children:"Add phone number in settings"})})]})]})]})})]})]}),s.jsxs(je,{children:[s.jsxs(ot,{className:"flex flex-row items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Social Networks"}),o&&s.jsxs(te,{variant:"link",className:"text-breneo-blue p-0 h-auto flex items-center gap-1",onClick:it,children:[s.jsx(A1,{size:16}),"Add"]})]}),s.jsx(ke,{children:_?s.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading..."}):s.jsx("div",{className:"space-y-3",children:Object.entries(j).some(([J,K])=>K&&K.trim()!=="")?Object.entries(j).filter(([J,K])=>K&&K.trim()!=="").map(([J,K])=>s.jsxs("div",{className:"flex items-center justify-between group",children:[s.jsxs("a",{href:K,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 hover:text-breneo-blue transition-colors",children:[s.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:rw(J,"h-[18px] w-[18px] text-breneo-blue")}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:df[J]})}),s.jsx(hh,{size:14,className:"text-gray-400 group-hover:text-breneo-blue"})]}),s.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[s.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>ge(J),children:s.jsx(Of,{size:14})}),s.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",onClick:()=>We(J),children:s.jsx(wi,{size:14})})]})]},J)):s.jsx("div",{className:"text-center py-4 text-gray-500",children:'No social links added yet. Click "Add" to add your social media profiles or website.'})})})]})]}),s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs(je,{children:[s.jsxs(ot,{className:"flex flex-row items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Academy Information"}),o&&s.jsxs(te,{variant:"link",className:"text-breneo-blue p-0 h-auto",onClick:()=>h(!0),children:[s.jsx(Of,{size:16,className:"mr-1"}),"Edit"]})]}),s.jsxs(ke,{className:"space-y-4",children:[(o==null?void 0:o.academy_name)&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"font-semibold",children:"Academy Name"}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:o.academy_name})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"font-semibold",children:"Description"}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:(o==null?void 0:o.description)||"No description provided."})]})]})]})}),s.jsx(xn,{open:d,onOpenChange:h,children:s.jsxs(an,{children:[s.jsxs(on,{children:[s.jsx(sn,{children:"Edit Academy Profile"}),s.jsx(ru,{children:"Make changes to your academy's information here. Click save when you're done."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Fe,{htmlFor:"academy_name",className:"text-right",children:"Academy Name"}),s.jsx(st,{id:"academy_name",value:w.academy_name,onChange:oe,className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Fe,{htmlFor:"description",className:"text-right",children:"Description"}),s.jsx(nd,{id:"description",value:w.description,onChange:oe,className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Fe,{htmlFor:"website_url",className:"text-right",children:"Website URL"}),s.jsx(st,{id:"website_url",value:w.website_url,onChange:oe,className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Fe,{htmlFor:"contact_email",className:"text-right",children:"Contact Email"}),s.jsx(st,{id:"contact_email",type:"email",value:w.contact_email,onChange:oe,className:"col-span-3"})]})]}),s.jsxs(bn,{children:[s.jsx(te,{variant:"outline",onClick:()=>h(!1),disabled:p,children:"Cancel"}),s.jsx(te,{onClick:de,disabled:p,children:p?"Saving...":"Save Changes"})]})]})}),a?s.jsx(Kr,{open:y,onOpenChange:v,children:s.jsxs(Gr,{children:[s.jsx(Jr,{children:s.jsx(Yr,{children:"Edit Contact Information"})}),s.jsx("div",{className:"px-4 pb-4",children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Fe,{htmlFor:"contact_email_mobile",children:"Contact Email"}),s.jsx(st,{id:"contact_email_mobile",type:"email",value:x.contact_email,disabled:!0,className:"bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"contact@academy.com"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed or deleted"})]})})}),s.jsxs(ka,{className:"pt-4",children:[s.jsx(te,{onClick:Be,disabled:p,children:p?"Saving...":"Save Changes"}),s.jsx(ss,{asChild:!0,children:s.jsx(te,{variant:"outline",disabled:p,children:"Cancel"})})]})]})}):s.jsx(xn,{open:y,onOpenChange:v,children:s.jsxs(an,{children:[s.jsxs(on,{children:[s.jsx(sn,{children:"Edit Contact Information"}),s.jsx(ru,{children:"Update your contact information. Email cannot be changed."})]}),s.jsx("div",{className:"py-4",children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Fe,{htmlFor:"contact_email",children:"Contact Email"}),s.jsx(st,{id:"contact_email",type:"email",value:x.contact_email,disabled:!0,className:"bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"contact@academy.com"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed or deleted"})]})})}),s.jsxs(bn,{children:[s.jsx(te,{variant:"outline",onClick:()=>v(!1),disabled:p,children:"Cancel"}),s.jsx(te,{onClick:Be,disabled:p,children:p?"Saving...":"Save Changes"})]})]})}),a?s.jsx(Kr,{open:E,onOpenChange:A,children:s.jsxs(Gr,{children:[s.jsx(Jr,{children:s.jsx(Yr,{children:T==="website"?"Edit Website":T?"Edit Social Link":"Add Link"})}),s.jsx("div",{className:"px-4 pb-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"social-platform-mobile",children:"Platform *"}),s.jsxs(to,{value:B.platform,onValueChange:J=>z({...B,platform:J}),disabled:F||!!T,children:[s.jsx(Ea,{className:"mt-2",children:s.jsx(ro,{placeholder:"Select a platform"})}),s.jsxs(Ca,{children:[s.jsx(qt,{value:"website",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ti,{className:"h-4 w-4"}),s.jsx("span",{children:"Website"})]})}),Object.keys(df).map(J=>s.jsx(qt,{value:J,children:s.jsxs("div",{className:"flex items-center gap-2",children:[rw(J,"h-4 w-4"),s.jsx("span",{children:df[J]})]})},J))]})]})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"social-url-mobile",children:"URL *"}),s.jsx(st,{id:"social-url-mobile",type:"url",placeholder:"https://...",value:B.url,onChange:J=>z({...B,url:J.target.value}),className:"mt-2",disabled:F,required:!0})]})]})}),s.jsxs(ka,{children:[s.jsx(te,{onClick:qe,disabled:F,children:F?"Saving...":T?"Update":"Add"}),s.jsx(ss,{asChild:!0,children:s.jsx(te,{variant:"outline",disabled:F,children:"Cancel"})})]})]})}):s.jsx(xn,{open:E,onOpenChange:A,children:s.jsxs(an,{children:[s.jsx(on,{children:s.jsx(sn,{children:T==="website"?"Edit Website":T?"Edit Social Link":"Add Link"})}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"social-platform-desktop",children:"Platform *"}),s.jsxs(to,{value:B.platform,onValueChange:J=>z({...B,platform:J}),disabled:F||!!T,children:[s.jsx(Ea,{className:"mt-2",children:s.jsx(ro,{placeholder:"Select a platform"})}),s.jsxs(Ca,{children:[s.jsx(qt,{value:"website",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ti,{className:"h-4 w-4"}),s.jsx("span",{children:"Website"})]})}),Object.keys(df).map(J=>s.jsx(qt,{value:J,children:s.jsxs("div",{className:"flex items-center gap-2",children:[rw(J,"h-4 w-4"),s.jsx("span",{children:df[J]})]})},J))]})]})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"social-url-desktop",children:"URL *"}),s.jsx(st,{id:"social-url-desktop",type:"url",placeholder:"https://...",value:B.url,onChange:J=>z({...B,url:J.target.value}),className:"mt-2",disabled:F,required:!0})]})]})}),s.jsxs(bn,{children:[s.jsx(te,{variant:"outline",onClick:()=>{A(!1),z({platform:"",url:""}),D(null)},disabled:F,children:"Cancel"}),s.jsx(te,{onClick:qe,disabled:F,children:F?"Saving...":T?"Update":"Add"})]})]})}),a?s.jsx(Kr,{open:M,onOpenChange:W,children:s.jsxs(Gr,{children:[s.jsx(Jr,{children:s.jsx(Yr,{children:"Profile Photo"})}),s.jsx("div",{className:"px-4 pb-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{onClick:yt,className:"w-full justify-start gap-3",variant:"ghost",disabled:U,children:[s.jsx(Yg,{className:"h-5 w-5"}),R||e!=null&&e.profile_image?"Update Photo":"Upload Photo"]}),R||e!=null&&e.profile_image?s.jsxs(te,{onClick:at,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:U,children:[s.jsx(wi,{className:"h-5 w-5"}),"Remove Photo"]}):null]})})]})}):s.jsx(xn,{open:M,onOpenChange:W,children:s.jsxs(an,{children:[s.jsx(on,{children:s.jsx(sn,{children:"Profile Photo"})}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{onClick:yt,className:"w-full justify-start gap-3",variant:"ghost",disabled:U,children:[s.jsx(Yg,{className:"h-5 w-5"}),R||e!=null&&e.profile_image?"Update Photo":"Upload Photo"]}),R||e!=null&&e.profile_image?s.jsxs(te,{onClick:at,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:U,children:[s.jsx(wi,{className:"h-5 w-5"}),"Remove Photo"]}):null]})}),s.jsx(bn,{children:s.jsx(te,{variant:"outline",onClick:()=>W(!1),children:"Cancel"})})]})})]})})};function mRe(){const{user:e,loading:t,logout:r}=lr(),{theme:n,setTheme:a}=Ii();q3();const o=ha(),[i,l]=m.useState(!1),[c,u]=m.useState(!0),[f,d]=m.useState(!0),[h,y]=m.useState(!0),[v,p]=m.useState(!0),[g,x]=m.useState(!1);m.useState(!1),m.useState(!1);const[b,w]=m.useState(null),[S,j]=m.useState(!0),[k,_]=m.useState(""),[N,E]=m.useState(""),[A,T]=m.useState(""),[D,B]=m.useState(""),[z,F]=m.useState(""),[$,U]=m.useState(null);m.useState(1),m.useState(""),m.useState(""),m.useState(""),m.useState(!1),m.useEffect(()=>{l(!0);const W=localStorage.getItem("pref_sound_effects"),R=localStorage.getItem("pref_animations"),q=localStorage.getItem("pref_motivational_messages"),ee=localStorage.getItem("pref_listening_exercises");W!==null&&u(W==="true"),R!==null&&d(R==="true"),q!==null&&y(q==="true"),ee!==null&&p(ee==="true")},[]),m.useEffect(()=>{i&&localStorage.setItem("pref_sound_effects",String(c))},[c,i]),m.useEffect(()=>{i&&localStorage.setItem("pref_animations",String(f))},[f,i]),m.useEffect(()=>{i&&localStorage.setItem("pref_motivational_messages",String(h))},[h,i]),m.useEffect(()=>{i&&localStorage.setItem("pref_listening_exercises",String(v))},[v,i]),m.useEffect(()=>{(async()=>{var q,ee;if(t)return;if(!e){j(!1);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){console.error(" No token available, cannot fetch academy profile"),j(!1),se.error("Authentication Error: Please log in again to access academy settings.");return}try{E(e.phone_number||"");try{const ne=await Ae.get(ht.ACADEMY.PROFILE);if(ne.data){const ce=ne.data;console.log(" Academy profile data:",ce),U(ce),_(ce.academy_name||""),T(ce.website_url||""),B(ce.contact_email||"")}}catch(ne){const ce=ne,ue=(q=ce.response)==null?void 0:q.status,ie=(ee=ce.response)==null?void 0:ee.data;if(ue===404)console.log(" Academy profile not found (404) - user may need to create one"),U(null);else if(ue===401){const O=(ie==null?void 0:ie.detail)||(ie==null?void 0:ie.message)||"",L=String(O).toLowerCase();L.includes("not found")||L.includes("does not exist")||L.includes("user not found")?(console.log(" Profile not found based on error message - treating as 404"),U(null)):(console.warn(" Academy profile returned 401:",O),U(null))}else ue===403?(console.error("Access forbidden to academy profile"),se.error("Access Denied: You don't have permission to access academy settings.")):(console.error("Error fetching academy profile:",ce),se.error("Error fetching profile: Could not load academy profile data. Please try again."))}}catch(ne){console.error("Unexpected error fetching academy data:",ne),se.error("Failed to load academy data")}finally{j(!1)}})()},[e,t]),m.useEffect(()=>()=>{b&&URL.revokeObjectURL(b)},[b]),m.useEffect(()=>{g||F("")},[g]);const P=()=>{r()};if(S||t)return s.jsx(At,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading academy settings..."})})});const M=n==="dark"?"ON":"OFF";return s.jsx(At,{children:s.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:s.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_400px]",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Preferences"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Lesson experience"}),s.jsx(lu,{})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{htmlFor:"sound-effects",className:"text-base font-normal",children:"Sound effects"}),s.jsx(Cn,{id:"sound-effects",checked:c,onCheckedChange:u})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{htmlFor:"animations",className:"text-base font-normal",children:"Animations"}),s.jsx(Cn,{id:"animations",checked:f,onCheckedChange:d})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{htmlFor:"motivational-messages",className:"text-base font-normal",children:"Motivational messages"}),s.jsx(Cn,{id:"motivational-messages",checked:h,onCheckedChange:y})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{htmlFor:"listening-exercises",className:"text-base font-normal",children:"Listening exercises"}),s.jsx(Cn,{id:"listening-exercises",checked:v,onCheckedChange:p})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Appearance"}),s.jsx(lu,{})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{htmlFor:"dark-mode",className:"text-base font-normal",children:"Dark mode"}),s.jsxs(to,{value:n||"light",onValueChange:W=>a(W),children:[s.jsx(Ea,{id:"dark-mode",className:"w-32",children:s.jsx(ro,{children:M})}),s.jsxs(Ca,{children:[s.jsx(qt,{value:"light",children:"OFF"}),s.jsx(qt,{value:"dark",children:"ON"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(bj,{}),s.jsxs(je,{children:[s.jsx(ot,{children:s.jsx(vt,{className:"text-lg",children:"Account"})}),s.jsxs(ke,{className:"space-y-2",children:[s.jsx(wr,{to:"/academy/settings",className:`block text-sm transition-colors ${o.pathname==="/academy/settings"?"text-primary font-medium":"text-foreground hover:text-primary"}`,children:"Preferences"}),s.jsx(wr,{to:"/academy/profile",className:`block text-sm transition-colors ${o.pathname==="/academy/profile"?"text-primary font-medium":"text-foreground hover:text-primary"}`,children:"Profile"}),s.jsx(wr,{to:"/academy/profile",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Privacy settings"})]})]}),s.jsxs(je,{children:[s.jsx(ot,{children:s.jsx(vt,{className:"text-lg",children:"Subscription"})}),s.jsx(ke,{children:s.jsx(wr,{to:"/subscription",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Choose a plan"})})]}),s.jsxs(je,{children:[s.jsx(ot,{children:s.jsx(vt,{className:"text-lg",children:"Support"})}),s.jsx(ke,{children:s.jsx(wr,{to:"/help",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Help Center"})})]}),s.jsx(te,{variant:"link",onClick:P,className:"w-full text-primary hover:text-primary/80 justify-center",children:"LOG OUT"})]})]})})})}const pRe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),gRe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),yRe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),vRe=({className:e})=>s.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),xRe=(e,t)=>{const r={className:t};switch(e){case"github":return s.jsx(pRe,{...r});case"linkedin":return s.jsx(gRe,{...r});case"facebook":return s.jsx(yRe,{...r});case"instagram":return s.jsx(vRe,{...r});default:return s.jsx(gk,{className:t})}},bRe={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram"},wRe=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),SRe=()=>{const{academySlug:e}=hm();lr();const t=tr(),r=e?/^\d+$/.test(e):!1,n=e?wRe(e)||r:!1,a=n?e:null,o=n?null:e,i=v=>{if(!v)return{id:""};const p=x=>{for(const b of x){const w=v[b];if(w!=null){if(typeof w=="string"&&w.trim())return w;if(typeof w=="number")return String(w)}}};return{id:v.id!==null&&v.id!==void 0?String(v.id):v.academy_id!==null&&v.academy_id!==void 0?String(v.academy_id):"",user_id:v.user_id,academy_name:p(["academy_name","name","academyName","first_name","firstName"])||void 0,description:p(["description","desc"])||void 0,website_url:p(["website_url","website","websiteUrl","url"])||void 0,contact_email:p(["contact_email","email","contactEmail","contact_mail"])||void 0,phone_number:p(["phone_number","phone","phoneNumber"])||void 0,is_verified:v.is_verified||v.isVerified||v.verified||!1,logo_url:p(["logo_url","logoUrl","logo","profile_image_url","profileImageUrl","profile_photo_url","profilePhotoUrl","image"])||void 0,profile_photo_url:p(["profile_image_url","profileImageUrl","profile_photo_url","profilePhotoUrl","profile_photo","profilePhoto","image","logo_url","logoUrl","logo"])||void 0,social_links:v.social_links||void 0}},{data:l,isLoading:c,error:u}=Yt({queryKey:["academy-profile",a||o],queryFn:async()=>{var w,S,j,k,_,N;if(!e)return null;let v=null,p=null;try{let E;if(n&&a)p=a,E=await Ae.get(`/api/academy/${a}/`),console.log(" Academy profile fetched by ID:",{academyId:a,rawData:E.data,hasProfileData:!!((w=E.data)!=null&&w.profile_data)}),(S=E.data)!=null&&S.profile_data?(v=E.data.profile_data,console.log(" Using profile_data from response:",v)):v=E.data;else if(o)E=await Ae.get(`/api/academy/${o}/`),console.log(" Academy profile fetched by slug:",{academySlug:o,rawData:E.data,hasProfileData:!!((j=E.data)!=null&&j.profile_data)}),(k=E.data)!=null&&k.profile_data?(v=E.data.profile_data,console.log(" Using profile_data from response:",v)):v=E.data,(v==null?void 0:v.id)!==null&&(v==null?void 0:v.id)!==void 0?p=String(v.id):v!=null&&v.academy_id&&(p=String(v.academy_id));else return null}catch(E){if(o)try{const A=await Ae.get(`/api/academies/${o}/`);console.log(" Academy profile fetched (plural endpoint):",{academySlug:o,rawData:A.data,hasProfileData:!!((_=A.data)!=null&&_.profile_data)}),(N=A.data)!=null&&N.profile_data?v=A.data.profile_data:v=A.data,(v==null?void 0:v.id)!==null&&(v==null?void 0:v.id)!==void 0?p=String(v.id):v!=null&&v.academy_id&&(p=String(v.academy_id))}catch(A){console.error(" Error fetching academy profile:",{singularError:E,pluralError:A,academySlug:o,endpointsTried:[`/api/academy/${o}/`,`/api/academies/${o}/`]})}else console.error(" Error fetching academy profile by ID:",{error:E,academyId:a,endpoint:`/api/academy/${a}/`})}const g=v?i(v):null;let x=null;if(p||g!=null&&g.id){const E=p||(g==null?void 0:g.id);try{const{data:A,error:T}=await Lt.from("academy_profiles").select("id, academy_name, description, website_url, contact_email, logo_url, is_verified, user_id").eq("id",E).single();T?console.warn(" Error fetching academy profile from Supabase:",T):A&&(x=A,console.log(" Academy profile fetched from Supabase:",x))}catch(A){console.warn(" Error fetching from Supabase:",A)}}if(!g&&!x&&v===null&&!p)throw new Error("Academy not found");const b={id:(g==null?void 0:g.id)||(x==null?void 0:x.id)||p||"",user_id:(g==null?void 0:g.user_id)||(x==null?void 0:x.user_id),academy_name:(g==null?void 0:g.academy_name)||(x==null?void 0:x.academy_name)||void 0,description:(g==null?void 0:g.description)||(x==null?void 0:x.description)||void 0,website_url:(g==null?void 0:g.website_url)||(x==null?void 0:x.website_url)||void 0,contact_email:(g==null?void 0:g.contact_email)||(x==null?void 0:x.contact_email)||void 0,phone_number:(g==null?void 0:g.phone_number)||void 0,is_verified:(g==null?void 0:g.is_verified)??(x==null?void 0:x.is_verified)??!1,logo_url:(g==null?void 0:g.logo_url)||(g==null?void 0:g.profile_photo_url)||(x==null?void 0:x.logo_url)||void 0,profile_photo_url:(g==null?void 0:g.profile_photo_url)||(g==null?void 0:g.logo_url)||(x==null?void 0:x.logo_url)||void 0,social_links:(g==null?void 0:g.social_links)||void 0};if(!b.academy_name&&!b.id)throw new Error("Academy not found");return console.log(" Merged academy profile:",b),b},enabled:!!e,retry:1}),{data:f,isLoading:d,error:h}=Yt({queryKey:["academy-courses",l==null?void 0:l.id,a||o],queryFn:async()=>{const v=(l==null?void 0:l.id)||a;if(!v)return console.warn(" No academy ID available to fetch courses"),[];try{const{data:p,error:g}=await Lt.from("courses").select("*").eq("academy_id",v).order("created_at",{ascending:!1});if(g)throw console.error(" Error fetching courses from Supabase:",g),g;return console.log(" Academy courses fetched from Supabase:",{academyId:v,courseCount:(p==null?void 0:p.length)||0}),Array.isArray(p)?p.map(x=>({...x,topics:x.topics||[],required_skills:x.required_skills||[]})):[]}catch(p){return console.error(" Error fetching courses from Supabase:",p),[]}},enabled:!!(l!=null&&l.id||a),retry:1});if(!e)return s.jsx(At,{children:s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("p",{className:"text-red-500",children:"Academy ID or slug is required"}),s.jsx(wr,{to:"/courses",children:s.jsxs(te,{variant:"outline",className:"mt-4",children:[s.jsx(Tf,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})]})});const y=(l==null?void 0:l.academy_name)||(o?dOe(o):"Loading Academy...");return s.jsx(At,{children:s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-10 w-64 bg-gray-200 rounded"}),s.jsxs(je,{children:[s.jsx(ot,{children:s.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded"})}),s.jsx(ke,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 w-3/4 bg-gray-200 rounded"})]})})]})]})}),s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsx(je,{children:s.jsx(ke,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[s.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-3xl mb-6"}),s.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded"})]})})}),s.jsx(je,{children:s.jsx(ke,{className:"p-4",children:s.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded mx-auto"})})})]})]}):l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsx(je,{children:s.jsxs(ke,{className:"flex flex-col items-center pb-6 pt-6",children:[s.jsx("div",{className:"relative",children:s.jsx(dh,{src:l.profile_photo_url||l.logo_url||void 0,alt:l.academy_name||"Academy",fallback:l.academy_name?l.academy_name.charAt(0).toUpperCase():"A",size:"xl",loading:"lazy",className:"h-32 w-32"})}),l.academy_name&&s.jsx("h1",{className:"text-2xl font-bold mt-4 text-center",children:l.academy_name}),l.is_verified&&s.jsx(jr,{className:"bg-green-100 text-green-800 hover:bg-green-100 mt-2",children:"Verified"}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:(f==null?void 0:f.length)||0}),s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total courses"})]})]})}),s.jsx(je,{children:s.jsx(ke,{className:"p-4 text-center",children:s.jsx(jr,{variant:"outline",className:"text-xs uppercase tracking-wider",children:"ACADEMY"})})}),s.jsxs(je,{children:[s.jsx(ot,{children:s.jsx("h3",{className:"text-lg font-bold",children:"Contact Information"})}),s.jsxs(ke,{className:"space-y-4",children:[l.phone_number&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:s.jsx(ph,{size:18,className:"text-breneo-blue"})}),s.jsx("span",{className:"text-sm",children:l.phone_number})]}),l.contact_email&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:s.jsx(Ru,{size:18,className:"text-breneo-blue"})}),s.jsx("span",{className:"text-sm",children:l.contact_email})]}),l.website_url&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:s.jsx(Ti,{size:18,className:"text-breneo-blue"})}),s.jsxs("a",{href:l.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-breneo-blue hover:underline flex items-center gap-1",children:[l.website_url,s.jsx(hh,{size:14})]})]})]})]}),l.social_links&&(l.social_links.github||l.social_links.linkedin||l.social_links.facebook||l.social_links.instagram)&&s.jsxs(je,{children:[s.jsx(ot,{children:s.jsx("h3",{className:"text-lg font-bold",children:"Social Networks"})}),s.jsx(ke,{children:s.jsx("div",{className:"space-y-3",children:Object.entries(l.social_links).filter(([v,p])=>p&&p.trim()!=="").map(([v,p])=>s.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 hover:text-breneo-blue transition-colors",children:[s.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:xRe(v,"h-[18px] w-[18px] text-breneo-blue")}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:bRe[v]})}),s.jsx(hh,{size:14,className:"text-gray-400"})]},v))})})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(wr,{to:"/courses",children:s.jsxs(te,{variant:"ghost",className:"text-breneo-blue hover:text-breneo-blue/80 mb-4",children:[s.jsx(Tf,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})}),s.jsxs(je,{children:[s.jsx(ot,{children:s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"About me"})}),s.jsx(ke,{children:s.jsx("div",{className:"text-gray-700 leading-relaxed space-y-3",children:l.description?s.jsx("p",{children:l.description}):s.jsx("p",{className:"text-gray-400 italic",children:"No description available"})})})]}),s.jsxs(je,{children:[s.jsx(ot,{children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["My courses (",(f==null?void 0:f.length)||0,")"]})}),s.jsx(ke,{children:d?s.jsx("div",{className:"text-center py-12",children:s.jsx("div",{className:"text-gray-500",children:"Loading courses..."})}):f&&f.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:f.map(v=>s.jsxs(je,{className:"overflow-hidden",children:[s.jsx("div",{className:"h-40 overflow-hidden",children:s.jsx("img",{src:v.image?v.image:"/lovable-uploads/no_photo.png",alt:v.title,className:"w-full h-full object-cover",onError:p=>{const g=p.target;g.src.includes("/lovable-uploads/no_photo.png")||(g.onerror=null,g.src="/lovable-uploads/no_photo.png")}})}),s.jsxs(ke,{className:"p-5",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h3",{className:"font-medium text-lg",children:v.title}),v.popular&&s.jsx(jr,{variant:"outline",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:"Popular"})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-500",children:[s.jsx("span",{children:v.level}),s.jsx("span",{children:""}),s.jsx("span",{children:v.duration}),s.jsx("span",{children:""}),s.jsx("span",{children:v.category})]}),s.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-2",children:v.description}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.topics.slice(0,3).map((p,g)=>s.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:p},g)),v.topics.length>3&&s.jsxs("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:["+",v.topics.length-3," more"]})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.required_skills.slice(0,2).map((p,g)=>s.jsx("span",{className:"bg-breneo-blue/10 text-breneo-blue text-xs px-2 py-1 rounded",children:p},g)),v.required_skills.length>2&&s.jsxs("span",{className:"bg-breneo-blue/10 text-breneo-blue text-xs px-2 py-1 rounded",children:["+",v.required_skills.length-2]})]}),s.jsx(te,{size:"sm",variant:v.enrolled?"outline":"default",className:v.enrolled?"":"bg-breneo-blue hover:bg-breneo-blue/90",onClick:()=>{v.enrolled||t(`/course/${v.id}`)},children:v.enrolled?"Continue":"Enroll"})]})]})]},v.id))}):s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-3xl border",children:[s.jsxs("p",{className:"text-gray-500 mb-4",children:["No courses found for ",y]}),s.jsx(wr,{to:"/courses",children:s.jsx(te,{variant:"outline",children:"Browse All Courses"})})]})})]})]})]}):u||!l?s.jsx("div",{className:"lg:col-span-3",children:s.jsx(je,{className:"border-red-200",children:s.jsx(ke,{className:"p-6 text-center",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-breneo-navy mb-4",children:"Academy Not Found"}),s.jsx("p",{className:"text-red-600 mb-4 text-lg",children:"Cannot find an academy"}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:u instanceof Error?u.message==="Academy not found"||u.message.includes("not found")||u.message.includes("404")?"The academy you're looking for doesn't exist or has been removed.":`Error: ${u.message}`:"The academy you're looking for doesn't exist or has been removed."}),e&&s.jsx("p",{className:"text-gray-500 text-xs mb-6",children:n?`Academy ID: ${a}`:`Academy Slug: ${o}`}),s.jsx(wr,{to:"/courses",children:s.jsxs(te,{variant:"default",children:[s.jsx(Tf,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})]})})})}):null})})},jRe=()=>{const e=tr();Ii();const[t,r]=m.useState(!1),[n,a]=m.useState(1),[o,i]=m.useState(""),[l,c]=m.useState(""),[u,f]=m.useState(""),[d,h]=m.useState(""),[y,v]=m.useState(""),[p,g]=m.useState(""),[x,b]=m.useState(!1),[w,S]=m.useState(!1),[j,k]=m.useState(Qr.find($=>$.code==="GE")),[_,N]=m.useState(!1),[E,A]=m.useState(!1),[T,D]=m.useState(!1);m.useEffect(()=>{r(!0)},[]);const B=m.useCallback($=>new Promise((U,P)=>{const M=new Image;M.onload=()=>U(),M.onerror=()=>P(new Error(`Failed to load image: ${$}`)),M.src=$}),[]);m.useEffect(()=>{(async()=>{try{await Promise.all([B("lovable-uploads/breneo_logo.png"),B("/lovable-uploads/academy.png")])}catch(U){console.warn("Some images failed to preload:",U),D(!0)}})()},[B]);const z=()=>{if(!o||!l||!u||!d){se.error("Please fill out all fields to continue.");return}a(2)},F=async $=>{if($.preventDefault(),n!==2||!y||!p){se.error("Please complete all fields to register.");return}S(!0);const U=`${j==null?void 0:j.dial_code}${d}`;try{const P=await fetch("https://breneo.onrender.com/api/academy/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o,email:l,password:u,phone_number:U,description:y,website:p})}),M=P.headers.get("content-type");if(M&&M.indexOf("application/json")!==-1){const W=await P.json();if(P.ok)se.success("Registration successful! Please verify your email."),sessionStorage.setItem("tempAcademyEmail",l),e("/email-verification",{state:{email:l,isAcademy:!0}});else{const R=Object.values(W).flat();se.error(R.join(" ")||"Registration failed.")}}else{const W=await P.text();console.error("Server returned non-JSON response:",W),se.error("A server error occurred. Please try again later.")}}catch(P){console.error("Registration error:",P),se.error("An unexpected error occurred. Please try again.")}finally{S(!1)}};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[s.jsxs("div",{className:"flex items-center",children:[!_&&!T&&s.jsx("div",{className:"h-7 w-20 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:s.jsx(Tr,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-7 transition-opacity duration-300 ${_?"opacity-100":"opacity-0"}`,onLoad:()=>N(!0),onError:()=>{D(!0),N(!0)}})]}),s.jsx(qo,{})]}),s.jsxs("div",{className:"flex flex-1",children:[s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"mb-4 hidden lg:flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[!_&&!T&&s.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:s.jsx(Tr,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-10 transition-opacity duration-300 ${_?"opacity-100":"opacity-0"}`,onLoad:()=>N(!0),onError:()=>{D(!0),N(!0)}})]}),s.jsx(qo,{})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-secondary rounded-full h-2 mb-8",children:s.jsx("div",{className:"bg-[#00BFFF] h-2 rounded-full transition-all duration-500 ease-in-out",style:{width:n===1?"50%":"100%"}})}),s.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Register Academy"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:n===1?"Start by creating your account credentials.":"Tell us more about your academy."}),s.jsxs("form",{onSubmit:F,className:"space-y-6",children:[n===1&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"name",children:"Academy Name"}),s.jsx(st,{id:"name",placeholder:"Your academy's name",className:"mt-1 h-12",value:o,onChange:$=>i($.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"email",children:"Email Address"}),s.jsx(st,{id:"email",type:"email",placeholder:"Enter contact email",className:"mt-1 h-12",value:l,onChange:$=>c($.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"phone",children:"Phone Number"}),s.jsxs("div",{className:"phone-input-container mt-1 flex items-center rounded-md border border-input transition-colors focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[s.jsx(kL,{value:j,onChange:k,className:"max-w-fit px-3 h-12 border-0 bg-transparent hover:bg-transparent rounded-r-none"}),s.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-border"}),s.jsx(st,{id:"phone",type:"tel",placeholder:"Phone number",className:"flex-1 h-12 border-0 focus-visible:ring-0 focus-visible:ring-offset-0",value:d,onChange:$=>h($.target.value),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(st,{id:"password",type:x?"text":"password",placeholder:"Create a password",className:"pr-10 h-12",value:u,onChange:$=>f($.target.value),required:!0}),s.jsx(te,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!x),children:x?s.jsx(mh,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):s.jsx(Ai,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]})]})]}),n===2&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"description",children:"Description"}),s.jsx("textarea",{id:"description",placeholder:"Describe your academy",className:"mt-1 w-full h-24 px-3 py-2 text-base border border-input bg-background text-foreground placeholder:text-muted-foreground rounded-md resize-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:y,onChange:$=>v($.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"website",children:"Website"}),s.jsx(st,{id:"website",type:"url",placeholder:"https://your-academy.com",className:"mt-1 h-12",value:p,onChange:$=>g($.target.value),required:!0})]})]}),s.jsxs("div",{className:"pt-2",children:[n===1&&s.jsx(te,{type:"button",onClick:z,className:"w-full h-14",children:"Next"}),n===2&&s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(te,{type:"button",variant:"outline",className:"w-full h-14",onClick:()=>a(1),children:"Back"}),s.jsx(te,{type:"submit",className:"w-full h-14",disabled:w,children:w?"Registering...":"Register"})]})]})]}),s.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Already have an account?"," ",s.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),s.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:s.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!E&&!T&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:s.jsx(Tr,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),s.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${E?"opacity-100":"opacity-0"}`,style:{backgroundImage:E?"url('/lovable-uploads/academy.png')":"none"}}),s.jsx("img",{src:"/lovable-uploads/academy.png",alt:"",className:"hidden",onLoad:()=>A(!0),onError:()=>{D(!0),A(!0)}}),T&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("img",{src:"/lovable-uploads/academy.png",alt:"Academy",className:"w-full h-full object-cover"})})]})})]})]})},_Re=()=>{const[e,t]=m.useState(!1),r=()=>{t(n=>!n)};return s.jsxs("div",{className:"h-screen bg-breneo-lightgray overflow-hidden",children:[s.jsx(Tk,{collapsed:e,toggleSidebar:r}),s.jsx("main",{className:`h-full overflow-y-auto transition-all duration-300 ${e?"md:ml-24":"md:ml-[17rem]"} pt-24 pb-32 md:pt-24 md:pb-0 px-3 md:px-6`,children:s.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-8 text-left",children:" "}),s.jsxs("div",{className:"prose prose-lg max-w-none space-y-6 text-gray-700 leading-relaxed",children:[s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"1.  "}),s.jsx("p",{children:"Breneo    ,         .  :"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"     ,"}),s.jsx("li",{children:"  ,"}),s.jsx("li",{children:"    ,"}),s.jsx("li",{children:"   ."})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"2.    "}),s.jsx("p",{children:"         ."}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"              ."}),s.jsx("li",{children:"Breneo-        ."})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"3.   "}),s.jsx("p",{children:"Breneo         . AI-              ."})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"4.   "}),s.jsx("p",{children:"   Breneo     . :"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"      ,"}),s.jsx("li",{children:"     ,"}),s.jsx("li",{children:"        ,"}),s.jsx("li",{children:"  ,    Breneo-  ."})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"5.  "}),s.jsx("p",{children:"Breneo-       , , ,  ,      Breneo-    .     Breneo-  ."})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"6.    "}),s.jsx("p",{children:"Breneo         GDPR-  .         ,   ."})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"7.   "}),s.jsx("p",{children:"             .         ."})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"8.  "}),s.jsx("p",{children:'Breneo    " ("as is") .'}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"     ,        ."}),s.jsx("li",{children:"Breneo   ,         ."})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"9.   "}),s.jsx("p",{children:"     .          . ,     ."})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"10.    "}),s.jsx("p",{children:"Breneo     ,           ."})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"11.  "}),s.jsx("p",{children:"    .      Breneo-  ,        ."})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"12.  "}),s.jsx("p",{children:"  ,   ,  :"}),s.jsxs("div",{className:"space-y-2 text-lg",children:[s.jsx("p",{children:" support@breneo.app"}),s.jsx("p",{children:" www.breneo.app"})]})]})]}),s.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200 text-center text-gray-500",children:s.jsxs("p",{children:[" : ",new Date().toLocaleDateString("ka-GE")]})})]})})]})};var yN="Collapsible",[kRe,y9]=fa(yN),[NRe,vN]=kRe(yN),v9=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:o,onOpenChange:i,...l}=e,[c=!1,u]=ho({prop:n,defaultProp:a,onChange:i});return s.jsx(NRe,{scope:r,disabled:o,contentId:oo(),open:c,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),children:s.jsx(Ke.div,{"data-state":bN(c),"data-disabled":o?"":void 0,...l,ref:t})})});v9.displayName=yN;var x9="CollapsibleTrigger",b9=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=vN(x9,r);return s.jsx(Ke.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":bN(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Ie(e.onClick,a.onOpenToggle)})});b9.displayName=x9;var xN="CollapsibleContent",w9=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=vN(xN,e.__scopeCollapsible);return s.jsx(Mn,{present:r||a.open,children:({present:o})=>s.jsx(ERe,{...n,ref:t,present:o})})});w9.displayName=xN;var ERe=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...o}=e,i=vN(xN,r),[l,c]=m.useState(n),u=m.useRef(null),f=ct(t,u),d=m.useRef(0),h=d.current,y=m.useRef(0),v=y.current,p=i.open||l,g=m.useRef(p),x=m.useRef();return m.useEffect(()=>{const b=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(b)},[]),Er(()=>{const b=u.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();d.current=w.height,y.current=w.width,g.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),c(n)}},[i.open,n]),s.jsx(Ke.div,{"data-state":bN(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...o,ref:f,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:p&&a})});function bN(e){return e?"open":"closed"}var CRe=v9,PRe=b9,ARe=w9,Os="Accordion",TRe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[wN,ORe,RRe]=Mm(Os),[cx,j$e]=fa(Os,[RRe,y9]),SN=y9(),S9=I.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,o=n;return s.jsx(wN.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(LRe,{...o,ref:t}):s.jsx(IRe,{...a,ref:t})})});S9.displayName=Os;var[j9,$Re]=cx(Os),[_9,MRe]=cx(Os,{collapsible:!1}),IRe=I.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:o=!1,...i}=e,[l,c]=ho({prop:r,defaultProp:n,onChange:a});return s.jsx(j9,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:I.useCallback(()=>o&&c(""),[o,c]),children:s.jsx(_9,{scope:e.__scopeAccordion,collapsible:o,children:s.jsx(k9,{...i,ref:t})})})}),LRe=I.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...o}=e,[i=[],l]=ho({prop:r,defaultProp:n,onChange:a}),c=I.useCallback(f=>l((d=[])=>[...d,f]),[l]),u=I.useCallback(f=>l((d=[])=>d.filter(h=>h!==f)),[l]);return s.jsx(j9,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:s.jsx(_9,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(k9,{...o,ref:t})})})}),[DRe,ux]=cx(Os),k9=I.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:o="vertical",...i}=e,l=I.useRef(null),c=ct(l,t),u=ORe(r),d=yd(a)==="ltr",h=Ie(e.onKeyDown,y=>{var N;if(!TRe.includes(y.key))return;const v=y.target,p=u().filter(E=>{var A;return!((A=E.ref.current)!=null&&A.disabled)}),g=p.findIndex(E=>E.ref.current===v),x=p.length;if(g===-1)return;y.preventDefault();let b=g;const w=0,S=x-1,j=()=>{b=g+1,b>S&&(b=w)},k=()=>{b=g-1,b<w&&(b=S)};switch(y.key){case"Home":b=w;break;case"End":b=S;break;case"ArrowRight":o==="horizontal"&&(d?j():k());break;case"ArrowDown":o==="vertical"&&j();break;case"ArrowLeft":o==="horizontal"&&(d?k():j());break;case"ArrowUp":o==="vertical"&&k();break}const _=b%x;(N=p[_].ref.current)==null||N.focus()});return s.jsx(DRe,{scope:r,disabled:n,direction:a,orientation:o,children:s.jsx(wN.Slot,{scope:r,children:s.jsx(Ke.div,{...i,"data-orientation":o,ref:c,onKeyDown:n?void 0:h})})})}),sv="AccordionItem",[FRe,jN]=cx(sv),N9=I.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,o=ux(sv,r),i=$Re(sv,r),l=SN(r),c=oo(),u=n&&i.value.includes(n)||!1,f=o.disabled||e.disabled;return s.jsx(FRe,{scope:r,open:u,disabled:f,triggerId:c,children:s.jsx(CRe,{"data-orientation":o.orientation,"data-state":O9(u),...l,...a,ref:t,disabled:f,open:u,onOpenChange:d=>{d?i.onItemOpen(n):i.onItemClose(n)}})})});N9.displayName=sv;var E9="AccordionHeader",C9=I.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=ux(Os,r),o=jN(E9,r);return s.jsx(Ke.h3,{"data-orientation":a.orientation,"data-state":O9(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:t})});C9.displayName=E9;var Bj="AccordionTrigger",P9=I.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=ux(Os,r),o=jN(Bj,r),i=MRe(Bj,r),l=SN(r);return s.jsx(wN.ItemSlot,{scope:r,children:s.jsx(PRe,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":a.orientation,id:o.triggerId,...l,...n,ref:t})})});P9.displayName=Bj;var A9="AccordionContent",T9=I.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=ux(Os,r),o=jN(A9,r),i=SN(r);return s.jsx(ARe,{role:"region","aria-labelledby":o.triggerId,"data-orientation":a.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});T9.displayName=A9;function O9(e){return e?"open":"closed"}var BRe=S9,URe=N9,zRe=C9,R9=P9,$9=T9;const qRe=BRe,M9=m.forwardRef(({className:e,...t},r)=>s.jsx(URe,{ref:r,className:fe("border-b",e),...t}));M9.displayName="AccordionItem";const I9=m.forwardRef(({className:e,children:t,...r},n)=>s.jsx(zRe,{className:"flex",children:s.jsxs(R9,{ref:n,className:fe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(mk,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));I9.displayName=R9.displayName;const L9=m.forwardRef(({className:e,children:t,...r},n)=>s.jsx($9,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:fe("pb-4 pt-0",e),children:t})}));L9.displayName=$9.displayName;const WRe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(""),a=()=>{t(l=>!l)},i=[{title:"Getting Started",icon:Vg,questions:[{q:"  Breneo- ?",a:'  ,    .  ""     .  ,   ,      .'},{q:"  ?",a:' ,     -  ,   "Profile".      ,      .'},{q:"   ?",a:"  -    ,        .   ,       ."}]},{title:"Account & Profile",icon:X3,questions:[{q:"  ?",a:'   Settings  ( Settings   ).   "Change Email" .     .'},{q:"  ?",a:'  ,    "Forgot Password" .        .'},{q:"  ?",a:'   Settings    "Account Settings" .   "Delete Account" . , ,    .'}]},{title:"Jobs & Career",icon:Sr,questions:[{q:"  ?",a:'   "Jobs" .      , ,     .      ,     .'},{q:"   ?",a:' ,     .      "Apply Now" .      .'},{q:"   ?",a:' ,      "Save" .       "Saved Jobs" .'}]},{title:"Settings & Customization",icon:xm,questions:[{q:"   ?",a:"    Settings .    ,  (/),    ."},{q:"  ?",a:'   Settings    "Notifications" .      .'},{q:"   ?",a:"  ,         .      ."}]}].map(l=>({...l,questions:l.questions.filter(c=>c.q.toLowerCase().includes(r.toLowerCase())||c.a.toLowerCase().includes(r.toLowerCase()))}));return s.jsxs("div",{className:"h-screen bg-breneo-lightgray overflow-hidden",children:[s.jsx(Tk,{collapsed:e,toggleSidebar:a}),s.jsx("main",{className:`h-full overflow-y-auto transition-all duration-300 ${e?"md:ml-24":"md:ml-[17rem]"} pt-24 pb-32 md:pt-24 md:pb-0 px-3 md:px-6`,children:s.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Help Center"}),s.jsx("p",{className:"text-gray-600",children:"     "})]}),s.jsxs("div",{className:"relative mb-8",children:[s.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx(st,{type:"text",placeholder:"  ...",value:r,onChange:l=>n(l.target.value),className:"pl-10 pr-4 py-6 text-lg"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[s.jsx(je,{className:"hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs(ot,{className:"pb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:s.jsx(Ru,{className:"text-breneo-blue",size:24})}),s.jsx(vt,{className:"text-base",children:"Email Support"}),s.jsx(Cr,{children:"support@breneo.app"})]})}),s.jsx(je,{className:"hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs(ot,{className:"pb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:s.jsx(ph,{className:"text-breneo-blue",size:24})}),s.jsx(vt,{className:"text-base",children:"Phone Support"}),s.jsx(Cr,{children:"Available 24/7"})]})}),s.jsx(je,{className:"hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs(ot,{className:"pb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:s.jsx(bX,{className:"text-breneo-blue",size:24})}),s.jsx(vt,{className:"text-base",children:"Live Chat"}),s.jsx(Cr,{children:"Get instant help"})]})})]}),s.jsx("div",{className:"space-y-6",children:i.map((l,c)=>l.questions.length>0&&s.jsxs(je,{className:"bg-white",children:[s.jsx(ot,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-breneo-blue/10 rounded-3xl flex items-center justify-center",children:s.jsx(l.icon,{className:"text-breneo-blue",size:20})}),s.jsx(vt,{children:l.title})]})}),s.jsx(ke,{children:s.jsx(qRe,{type:"multiple",className:"w-full",children:l.questions.map((u,f)=>s.jsxs(M9,{value:`${c}-${f}`,className:"border-gray-200",children:[s.jsx(I9,{className:"text-left font-semibold hover:no-underline",children:u.q}),s.jsx(L9,{className:"text-gray-600 leading-relaxed",children:u.a})]},f))})})]},c))}),s.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:s.jsx(je,{className:"bg-gradient-to-r from-breneo-blue/5 to-breneo-blue/10",children:s.jsxs(ke,{className:"py-8 text-center",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"   ?"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"     "}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs("a",{href:"mailto:support@breneo.app",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-breneo-blue text-white rounded-3xl hover:bg-breneo-blue/90 transition-colors",children:[s.jsx(Ru,{size:18}),"Email Support"]}),s.jsxs("a",{href:"tel:+995500992990",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white border border-breneo-blue text-breneo-blue rounded-3xl hover:bg-breneo-blue/5 transition-colors",children:[s.jsx(ph,{size:18}),"Call Us"]})]})]})})})]})})]})};function HRe(){const e=[{name:"Free",price:"$0",period:"forever",features:["Access to basic courses","Limited skill tests","Basic profile features","Community support"],popular:!1},{name:"Pro",price:"$9.99",period:"per month",features:["All free features","Unlimited courses","Unlimited skill tests","Advanced profile features","Priority support","Certificates"],popular:!0},{name:"Enterprise",price:"Custom",period:"contact us",features:["All Pro features","Custom integrations","Dedicated support","Team management","Analytics dashboard","Custom branding"],popular:!1}];return s.jsx(At,{children:s.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Choose Your Plan"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Select the plan that best fits your learning journey"})]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-3 mt-12",children:e.map(t=>s.jsxs(je,{className:`relative ${t.popular?"border-primary shadow-lg scale-105":"border-border"}`,children:[t.popular&&s.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:s.jsx("span",{className:"bg-primary text-primary-foreground px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"})}),s.jsxs(ot,{children:[s.jsx(vt,{className:"text-2xl",children:t.name}),s.jsxs("div",{className:"mt-4",children:[s.jsx("span",{className:"text-4xl font-bold",children:t.price}),t.period!=="forever"&&t.period!=="contact us"&&s.jsxs("span",{className:"text-muted-foreground",children:["/",t.period]}),t.period==="contact us"&&s.jsx("span",{className:"text-muted-foreground block text-sm mt-1",children:t.period})]}),s.jsxs(Cr,{className:"mt-4",children:[t.name==="Free"&&"Perfect for getting started",t.name==="Pro"&&"Best for serious learners",t.name==="Enterprise"&&"For teams and organizations"]})]}),s.jsxs(ke,{children:[s.jsx("ul",{className:"space-y-3 mb-6",children:t.features.map((r,n)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(Bv,{className:"h-5 w-5 text-primary mr-2 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:r})]},n))}),s.jsx(te,{className:"w-full",variant:t.popular?"default":"outline",children:t.name==="Enterprise"?"Contact Sales":"Get Started"})]})]},t.name))})]})})}const VRe=()=>{const e=ha(),{user:t,loading:r}=lr(),n=Yl(),[a,o]=m.useState(!1),[i,l]=m.useState(!1),[c,u]=m.useState(!1),f=m.useCallback(d=>new Promise((h,y)=>{const v=new Image;v.onload=()=>h(),v.onerror=()=>y(new Error(`Failed to load image: ${d}`)),v.src=d}),[]);return m.useEffect(()=>{(async()=>{try{await Promise.all([f("/lovable-uploads/breneo_logo.png"),f("/lovable-uploads/full-shot-student-library.jpg")])}catch(h){console.warn("Some images failed to preload:",h),u(!0)}})()},[f]),m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 relative",children:[!i&&!c&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse z-0"}),s.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:i?"url('/lovable-uploads/full-shot-student-library.jpg')":"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:i?1:0,transition:"opacity 0.5s ease-in-out"}}),s.jsx("img",{src:"/lovable-uploads/full-shot-student-library.jpg",alt:"",className:"hidden",onLoad:()=>l(!0),onError:()=>{u(!0),l(!0)}}),c&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] z-0"}),s.jsx("div",{className:"z-10 relative",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg p-8 text-center max-w-md mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[!a&&!c&&s.jsx("div",{className:"h-12 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center mx-auto",children:s.jsx(Tr,{className:"h-6 w-6 text-gray-400 dark:text-gray-600"})}),s.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-12 mx-auto transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`,onLoad:()=>o(!0),onError:()=>{u(!0),o(!0)}}),c&&s.jsx("div",{className:"h-12 w-32 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center mx-auto",children:s.jsx("span",{className:"text-sm text-muted-foreground font-semibold",children:"Breneo"})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"}),s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n.errors.pageNotFound}),s.jsx("p",{className:"text-muted-foreground mb-6",children:n.errors.pageNotFoundDescription})]}),s.jsxs("div",{className:"space-y-4",children:[!r&&t?s.jsxs(wr,{to:t.user_type==="academy"||localStorage.getItem("userRole")==="academy"?"/academy/dashboard":"/dashboard",className:"inline-block bg-primary text-primary-foreground px-6 py-3 rounded-3xl font-medium hover:bg-primary/90 transition-colors",children:[n.common.view," ",n.nav.home]}):s.jsx(wr,{to:"/auth/login",className:"inline-block bg-primary text-primary-foreground px-6 py-3 rounded-3xl font-medium hover:bg-primary/90 transition-colors",children:n.auth.login}),!r&&!t&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx(wr,{to:"/auth/login",className:"hover:text-primary transition-colors",children:n.auth.login}),s.jsx("span",{className:"mx-2",children:""}),s.jsx(wr,{to:"/auth/signup",className:"hover:text-primary transition-colors",children:n.auth.signup})]})]})]})})]})},ur=(e,t)=>e.startsWith("/auth")||e==="/"?s.jsx(Bn,{path:e,element:t},e):s.jsxs(I.Fragment,{children:[s.jsx(Bn,{path:`/en${e}`,element:t}),s.jsx(Bn,{path:`/ka${e}`,element:t}),s.jsx(Bn,{path:e,element:t})]},e),KRe=()=>s.jsxs(GG,{children:[s.jsx(Bn,{path:"/",element:s.jsx(HC,{})}),s.jsx(Bn,{path:"/auth/login",element:s.jsx(HC,{})}),s.jsx(Bn,{path:"/auth/signup",element:s.jsx(Pee,{})}),s.jsx(Bn,{path:"/auth/reset-password",element:s.jsx(Aee,{})}),s.jsx(Bn,{path:"/email-verification",element:s.jsx(Tee,{})}),s.jsx(Bn,{path:"/email-confirmed",element:s.jsx(Ree,{})}),s.jsx(Bn,{path:"/auth",element:s.jsx(ig,{to:"/auth/login",replace:!0})}),ur("/home",s.jsx(cr,{requiredRole:"user",children:s.jsx(LP,{})})),ur("/dashboard",s.jsx(cr,{requiredRole:"user",children:s.jsx(LP,{})})),ur("/profile",s.jsx(cr,{requiredRole:"user",children:s.jsx(rPe,{})})),ur("/settings",s.jsx(cr,{requiredRole:"user",children:s.jsx(hPe,{})})),ur("/notifications",s.jsx(cr,{requiredRole:"user",children:s.jsx(t4e,{})})),ur("/interests",s.jsx(cr,{requiredRole:"user",children:s.jsx(VOe,{})})),ur("/skill-test",s.jsx(cr,{requiredRole:"user",children:s.jsx($Oe,{})})),ur("/skill-path/:skillName",s.jsx(cr,{requiredRole:"user",children:s.jsx(WOe,{})})),ur("/skill-path",s.jsx(cr,{requiredRole:"user",children:s.jsx(DOe,{})})),ur("/jobs",s.jsx(cr,{requiredRole:"user",children:s.jsx(KPe,{})})),ur("/jobs/search",s.jsx(cr,{requiredRole:"user",children:s.jsx(XPe,{})})),ur("/jobs/:jobId",s.jsx(cr,{requiredRole:"user",children:s.jsx(lOe,{})})),ur("/jobs/company/:companyName",s.jsx(cr,{requiredRole:"user",children:s.jsx(uOe,{})})),ur("/courses",s.jsx(cr,{requiredRole:"user",children:s.jsx(bOe,{})})),ur("/course/:courseId",s.jsx(cr,{requiredRole:"user",children:s.jsx(wOe,{})})),ur("/webinars",s.jsx(cr,{requiredRole:"user",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Webinars"}),s.jsx("p",{children:"Webinars page coming soon..."})]})})),s.jsx(Bn,{path:"/academy/register",element:s.jsx(jRe,{})}),ur("/academy/home",s.jsx(cr,{requiredRole:"academy",children:s.jsx(TR,{})})),ur("/academy/dashboard",s.jsx(cr,{requiredRole:"academy",children:s.jsx(TR,{})})),ur("/academy/profile",s.jsx(cr,{requiredRole:"academy",children:s.jsx(hRe,{})})),ur("/academy/settings",s.jsx(cr,{requiredRole:"academy",children:s.jsx(mRe,{})})),ur("/academy/:academySlug",s.jsx(cr,{children:s.jsx(SRe,{})})),ur("/terms-of-use",s.jsx(cr,{children:s.jsx(_Re,{})})),ur("/help",s.jsx(cr,{children:s.jsx(WRe,{})})),ur("/subscription",s.jsx(cr,{children:s.jsx(HRe,{})})),s.jsx(Bn,{path:"*",element:s.jsx(VRe,{})})]}),GRe=new qK,JRe=()=>s.jsx(GK,{client:GRe,children:s.jsxs(EK,{children:[s.jsx(qW,{position:"top-right",richColors:!0,closeButton:!0}),s.jsx(rJ,{children:s.jsx(WY,{children:s.jsx(qY,{children:s.jsx(FY,{children:s.jsx(KRe,{})})})})})]})});nw.createRoot(document.getElementById("root")).render(s.jsx(I.StrictMode,{children:s.jsx(mW,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:s.jsx("div",{suppressHydrationWarning:!0,children:s.jsx(JRe,{})})})}));
