var XO=e=>{throw TypeError(e)};var IZ=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var S_=(e,t,r)=>t.has(e)||XO("Cannot "+r);var ie=(e,t,r)=>(S_(e,t,"read from private field"),r?r.call(e):t.get(e)),kt=(e,t,r)=>t.has(e)?XO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),lt=(e,t,r,n)=>(S_(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ft=(e,t,r)=>(S_(e,t,"access private method"),r);var nv=(e,t,r,n)=>({set _(s){lt(e,t,s,r)},get _(){return ie(e,t,n)}});var YKe=IZ((AGe,rv)=>{function LZ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var ns=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function DZ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var D6={exports:{}},lw={},F6={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy=Symbol.for("react.element"),FZ=Symbol.for("react.portal"),BZ=Symbol.for("react.fragment"),UZ=Symbol.for("react.strict_mode"),zZ=Symbol.for("react.profiler"),qZ=Symbol.for("react.provider"),WZ=Symbol.for("react.context"),VZ=Symbol.for("react.forward_ref"),HZ=Symbol.for("react.suspense"),KZ=Symbol.for("react.memo"),GZ=Symbol.for("react.lazy"),QO=Symbol.iterator;function YZ(e){return e===null||typeof e!="object"?null:(e=QO&&e[QO]||e["@@iterator"],typeof e=="function"?e:null)}var B6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U6=Object.assign,z6={};function mh(e,t,r){this.props=e,this.context=t,this.refs=z6,this.updater=r||B6}mh.prototype.isReactComponent={};mh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function q6(){}q6.prototype=mh.prototype;function NC(e,t,r){this.props=e,this.context=t,this.refs=z6,this.updater=r||B6}var CC=NC.prototype=new q6;CC.constructor=NC;U6(CC,mh.prototype);CC.isPureReactComponent=!0;var ZO=Array.isArray,W6=Object.prototype.hasOwnProperty,PC={current:null},V6={key:!0,ref:!0,__self:!0,__source:!0};function H6(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)W6.call(t,n)&&!V6.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:fy,type:e,key:a,ref:i,props:s,_owner:PC.current}}function JZ(e,t){return{$$typeof:fy,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function AC(e){return typeof e=="object"&&e!==null&&e.$$typeof===fy}function XZ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var eR=/\/+/g;function j_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?XZ(""+e.key):t.toString(36)}function b0(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case fy:case FZ:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+j_(i,0):n,ZO(s)?(r="",e!=null&&(r=e.replace(eR,"$&/")+"/"),b0(s,t,r,"",function(u){return u})):s!=null&&(AC(s)&&(s=JZ(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(eR,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",ZO(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+j_(a,l);i+=b0(a,t,r,c,s)}else if(c=YZ(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+j_(a,l++),i+=b0(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function sv(e,t,r){if(e==null)return e;var n=[],s=0;return b0(e,n,"","",function(a){return t.call(r,a,s++)}),n}function QZ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ws={current:null},w0={transition:null},ZZ={ReactCurrentDispatcher:ws,ReactCurrentBatchConfig:w0,ReactCurrentOwner:PC};function K6(){throw Error("act(...) is not supported in production builds of React.")}Vt.Children={map:sv,forEach:function(e,t,r){sv(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return sv(e,function(){t++}),t},toArray:function(e){return sv(e,function(t){return t})||[]},only:function(e){if(!AC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vt.Component=mh;Vt.Fragment=BZ;Vt.Profiler=zZ;Vt.PureComponent=NC;Vt.StrictMode=UZ;Vt.Suspense=HZ;Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZZ;Vt.act=K6;Vt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=U6({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=PC.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)W6.call(t,c)&&!V6.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:fy,type:e.type,key:s,ref:a,props:n,_owner:i}};Vt.createContext=function(e){return e={$$typeof:WZ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qZ,_context:e},e.Consumer=e};Vt.createElement=H6;Vt.createFactory=function(e){var t=H6.bind(null,e);return t.type=e,t};Vt.createRef=function(){return{current:null}};Vt.forwardRef=function(e){return{$$typeof:VZ,render:e}};Vt.isValidElement=AC;Vt.lazy=function(e){return{$$typeof:GZ,_payload:{_status:-1,_result:e},_init:QZ}};Vt.memo=function(e,t){return{$$typeof:KZ,type:e,compare:t===void 0?null:t}};Vt.startTransition=function(e){var t=w0.transition;w0.transition={};try{e()}finally{w0.transition=t}};Vt.unstable_act=K6;Vt.useCallback=function(e,t){return ws.current.useCallback(e,t)};Vt.useContext=function(e){return ws.current.useContext(e)};Vt.useDebugValue=function(){};Vt.useDeferredValue=function(e){return ws.current.useDeferredValue(e)};Vt.useEffect=function(e,t){return ws.current.useEffect(e,t)};Vt.useId=function(){return ws.current.useId()};Vt.useImperativeHandle=function(e,t,r){return ws.current.useImperativeHandle(e,t,r)};Vt.useInsertionEffect=function(e,t){return ws.current.useInsertionEffect(e,t)};Vt.useLayoutEffect=function(e,t){return ws.current.useLayoutEffect(e,t)};Vt.useMemo=function(e,t){return ws.current.useMemo(e,t)};Vt.useReducer=function(e,t,r){return ws.current.useReducer(e,t,r)};Vt.useRef=function(e){return ws.current.useRef(e)};Vt.useState=function(e){return ws.current.useState(e)};Vt.useSyncExternalStore=function(e,t,r){return ws.current.useSyncExternalStore(e,t,r)};Vt.useTransition=function(){return ws.current.useTransition()};Vt.version="18.3.1";F6.exports=Vt;var m=F6.exports;const M=wr(m),gh=LZ({__proto__:null,default:M},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eee=m,tee=Symbol.for("react.element"),ree=Symbol.for("react.fragment"),nee=Object.prototype.hasOwnProperty,see=eee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aee={key:!0,ref:!0,__self:!0,__source:!0};function G6(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)nee.call(t,n)&&!aee.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:tee,type:e,key:a,ref:i,props:s,_owner:see.current}}lw.Fragment=ree;lw.jsx=G6;lw.jsxs=G6;D6.exports=lw;var o=D6.exports,Yj={},Y6={exports:{}},la={},J6={exports:{}},X6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,q){var I=T.length;T.push(q);e:for(;0<I;){var P=I-1>>>1,W=T[P];if(0<s(W,q))T[P]=q,T[I]=W,I=P;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var q=T[0],I=T.pop();if(I!==q){T[0]=I;e:for(var P=0,W=T.length,V=W>>>1;P<V;){var ee=2*(P+1)-1,X=T[ee],ne=ee+1,F=T[ne];if(0>s(X,I))ne<W&&0>s(F,X)?(T[P]=F,T[ne]=I,P=ne):(T[P]=X,T[ee]=I,P=ee);else if(ne<W&&0>s(F,I))T[P]=F,T[ne]=I,P=ne;else break e}}return q}function s(T,q){var I=T.sortIndex-q.sortIndex;return I!==0?I:T.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,v=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var q=r(u);q!==null;){if(q.callback===null)n(u);else if(q.startTime<=T)n(u),q.sortIndex=q.expirationTime,t(c,q);else break;q=r(u)}}function _(T){if(p=!1,w(T),!v)if(r(c)!==null)v=!0,B(S);else{var q=r(u);q!==null&&L(_,q.startTime-T)}}function S(T,q){v=!1,p&&(p=!1,x(j),j=-1),g=!0;var I=h;try{for(w(q),f=r(c);f!==null&&(!(f.expirationTime>q)||T&&!A());){var P=f.callback;if(typeof P=="function"){f.callback=null,h=f.priorityLevel;var W=P(f.expirationTime<=q);q=e.unstable_now(),typeof W=="function"?f.callback=W:f===r(c)&&n(c),w(q)}else n(c);f=r(c)}if(f!==null)var V=!0;else{var ee=r(u);ee!==null&&L(_,ee.startTime-q),V=!1}return V}finally{f=null,h=I,g=!1}}var E=!1,k=null,j=-1,N=5,C=-1;function A(){return!(e.unstable_now()-C<N)}function R(){if(k!==null){var T=e.unstable_now();C=T;var q=!0;try{q=k(!0,T)}finally{q?H():(E=!1,k=null)}}else E=!1}var H;if(typeof b=="function")H=function(){b(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,D=U.port2;U.port1.onmessage=R,H=function(){D.postMessage(null)}}else H=function(){y(R,0)};function B(T){k=T,E||(E=!0,H())}function L(T,q){j=y(function(){T(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,B(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var I=h;h=q;try{return T()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,q){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var I=h;h=T;try{return q()}finally{h=I}},e.unstable_scheduleCallback=function(T,q,I){var P=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?P+I:P):I=P,T){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=I+W,T={id:d++,callback:q,priorityLevel:T,startTime:I,expirationTime:W,sortIndex:-1},I>P?(T.sortIndex=I,t(u,T),r(c)===null&&T===r(u)&&(p?(x(j),j=-1):p=!0,L(_,I-P))):(T.sortIndex=W,t(c,T),v||g||(v=!0,B(S))),T},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(T){var q=h;return function(){var I=h;h=q;try{return T.apply(this,arguments)}finally{h=I}}}})(X6);J6.exports=X6;var iee=J6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oee=m,ia=iee;function ze(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q6=new Set,Mm={};function Hu(e,t){Af(e,t),Af(e+"Capture",t)}function Af(e,t){for(Mm[e]=t,e=0;e<t.length;e++)Q6.add(t[e])}var Ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jj=Object.prototype.hasOwnProperty,lee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tR={},rR={};function cee(e){return Jj.call(rR,e)?!0:Jj.call(tR,e)?!1:lee.test(e)?rR[e]=!0:(tR[e]=!0,!1)}function uee(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dee(e,t,r,n){if(t===null||typeof t>"u"||uee(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _s(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kn[e]=new _s(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Kn[t]=new _s(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kn[e]=new _s(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kn[e]=new _s(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kn[e]=new _s(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kn[e]=new _s(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kn[e]=new _s(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kn[e]=new _s(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kn[e]=new _s(e,5,!1,e.toLowerCase(),null,!1,!1)});var TC=/[\-:]([a-z])/g;function OC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(TC,OC);Kn[t]=new _s(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(TC,OC);Kn[t]=new _s(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(TC,OC);Kn[t]=new _s(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kn[e]=new _s(e,1,!1,e.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new _s("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kn[e]=new _s(e,1,!1,e.toLowerCase(),null,!0,!0)});function RC(e,t,r,n){var s=Kn.hasOwnProperty(t)?Kn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dee(t,r,s,n)&&(r=null),n||s===null?cee(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ho=oee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,av=Symbol.for("react.element"),Nd=Symbol.for("react.portal"),Cd=Symbol.for("react.fragment"),$C=Symbol.for("react.strict_mode"),Xj=Symbol.for("react.profiler"),Z6=Symbol.for("react.provider"),e8=Symbol.for("react.context"),MC=Symbol.for("react.forward_ref"),Qj=Symbol.for("react.suspense"),Zj=Symbol.for("react.suspense_list"),IC=Symbol.for("react.memo"),ml=Symbol.for("react.lazy"),t8=Symbol.for("react.offscreen"),nR=Symbol.iterator;function np(e){return e===null||typeof e!="object"?null:(e=nR&&e[nR]||e["@@iterator"],typeof e=="function"?e:null)}var Gr=Object.assign,k_;function zp(e){if(k_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);k_=t&&t[1]||""}return`
`+k_+e}var E_=!1;function N_(e,t){if(!e||E_)return"";E_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{E_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?zp(e):""}function fee(e){switch(e.tag){case 5:return zp(e.type);case 16:return zp("Lazy");case 13:return zp("Suspense");case 19:return zp("SuspenseList");case 0:case 2:case 15:return e=N_(e.type,!1),e;case 11:return e=N_(e.type.render,!1),e;case 1:return e=N_(e.type,!0),e;default:return""}}function ek(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cd:return"Fragment";case Nd:return"Portal";case Xj:return"Profiler";case $C:return"StrictMode";case Qj:return"Suspense";case Zj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case e8:return(e.displayName||"Context")+".Consumer";case Z6:return(e._context.displayName||"Context")+".Provider";case MC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case IC:return t=e.displayName||null,t!==null?t:ek(e.type)||"Memo";case ml:t=e._payload,e=e._init;try{return ek(e(t))}catch{}}return null}function hee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ek(t);case 8:return t===$C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function r8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pee(e){var t=r8(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function iv(e){e._valueTracker||(e._valueTracker=pee(e))}function n8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=r8(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function V0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tk(e,t){var r=t.checked;return Gr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function sR(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=nc(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function s8(e,t){t=t.checked,t!=null&&RC(e,"checked",t,!1)}function rk(e,t){s8(e,t);var r=nc(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nk(e,t.type,r):t.hasOwnProperty("defaultValue")&&nk(e,t.type,nc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function aR(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function nk(e,t,r){(t!=="number"||V0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var qp=Array.isArray;function Gd(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+nc(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function sk(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ze(91));return Gr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function iR(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ze(92));if(qp(r)){if(1<r.length)throw Error(ze(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:nc(r)}}function a8(e,t){var r=nc(t.value),n=nc(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function oR(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function i8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ak(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?i8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ov,o8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ov=ov||document.createElement("div"),ov.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ov.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Im(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var om={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mee=["Webkit","ms","Moz","O"];Object.keys(om).forEach(function(e){mee.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),om[t]=om[e]})});function l8(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||om.hasOwnProperty(e)&&om[e]?(""+t).trim():t+"px"}function c8(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=l8(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var gee=Gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ik(e,t){if(t){if(gee[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ze(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ze(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ze(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ze(62))}}function ok(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lk=null;function LC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ck=null,Yd=null,Jd=null;function lR(e){if(e=my(e)){if(typeof ck!="function")throw Error(ze(280));var t=e.stateNode;t&&(t=hw(t),ck(e.stateNode,e.type,t))}}function u8(e){Yd?Jd?Jd.push(e):Jd=[e]:Yd=e}function d8(){if(Yd){var e=Yd,t=Jd;if(Jd=Yd=null,lR(e),t)for(e=0;e<t.length;e++)lR(t[e])}}function f8(e,t){return e(t)}function h8(){}var C_=!1;function p8(e,t,r){if(C_)return e(t,r);C_=!0;try{return f8(e,t,r)}finally{C_=!1,(Yd!==null||Jd!==null)&&(h8(),d8())}}function Lm(e,t){var r=e.stateNode;if(r===null)return null;var n=hw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ze(231,t,typeof r));return r}var uk=!1;if(Ro)try{var sp={};Object.defineProperty(sp,"passive",{get:function(){uk=!0}}),window.addEventListener("test",sp,sp),window.removeEventListener("test",sp,sp)}catch{uk=!1}function yee(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var lm=!1,H0=null,K0=!1,dk=null,vee={onError:function(e){lm=!0,H0=e}};function xee(e,t,r,n,s,a,i,l,c){lm=!1,H0=null,yee.apply(vee,arguments)}function bee(e,t,r,n,s,a,i,l,c){if(xee.apply(this,arguments),lm){if(lm){var u=H0;lm=!1,H0=null}else throw Error(ze(198));K0||(K0=!0,dk=u)}}function Ku(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function m8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cR(e){if(Ku(e)!==e)throw Error(ze(188))}function wee(e){var t=e.alternate;if(!t){if(t=Ku(e),t===null)throw Error(ze(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return cR(s),e;if(a===n)return cR(s),t;a=a.sibling}throw Error(ze(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(ze(189))}}if(r.alternate!==n)throw Error(ze(190))}if(r.tag!==3)throw Error(ze(188));return r.stateNode.current===r?e:t}function g8(e){return e=wee(e),e!==null?y8(e):null}function y8(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=y8(e);if(t!==null)return t;e=e.sibling}return null}var v8=ia.unstable_scheduleCallback,uR=ia.unstable_cancelCallback,_ee=ia.unstable_shouldYield,See=ia.unstable_requestPaint,nn=ia.unstable_now,jee=ia.unstable_getCurrentPriorityLevel,DC=ia.unstable_ImmediatePriority,x8=ia.unstable_UserBlockingPriority,G0=ia.unstable_NormalPriority,kee=ia.unstable_LowPriority,b8=ia.unstable_IdlePriority,cw=null,$i=null;function Eee(e){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(cw,e,void 0,(e.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:Pee,Nee=Math.log,Cee=Math.LN2;function Pee(e){return e>>>=0,e===0?32:31-(Nee(e)/Cee|0)|0}var lv=64,cv=4194304;function Wp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Y0(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Wp(l):(a&=i,a!==0&&(n=Wp(a)))}else i=r&~s,i!==0?n=Wp(i):a!==0&&(n=Wp(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ti(t),s=1<<r,n|=e[r],t&=~s;return n}function Aee(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tee(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-ti(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=Aee(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function fk(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function w8(){var e=lv;return lv<<=1,!(lv&4194240)&&(lv=64),e}function P_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hy(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ti(t),e[t]=r}function Oee(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ti(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function FC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ti(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var gr=0;function _8(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var S8,BC,j8,k8,E8,hk=!1,uv=[],Fl=null,Bl=null,Ul=null,Dm=new Map,Fm=new Map,xl=[],Ree="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dR(e,t){switch(e){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":Bl=null;break;case"mouseover":case"mouseout":Ul=null;break;case"pointerover":case"pointerout":Dm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fm.delete(t.pointerId)}}function ap(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=my(t),t!==null&&BC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function $ee(e,t,r,n,s){switch(t){case"focusin":return Fl=ap(Fl,e,t,r,n,s),!0;case"dragenter":return Bl=ap(Bl,e,t,r,n,s),!0;case"mouseover":return Ul=ap(Ul,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Dm.set(a,ap(Dm.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Fm.set(a,ap(Fm.get(a)||null,e,t,r,n,s)),!0}return!1}function N8(e){var t=Vc(e.target);if(t!==null){var r=Ku(t);if(r!==null){if(t=r.tag,t===13){if(t=m8(r),t!==null){e.blockedOn=t,E8(e.priority,function(){j8(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=pk(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);lk=n,r.target.dispatchEvent(n),lk=null}else return t=my(r),t!==null&&BC(t),e.blockedOn=r,!1;t.shift()}return!0}function fR(e,t,r){_0(e)&&r.delete(t)}function Mee(){hk=!1,Fl!==null&&_0(Fl)&&(Fl=null),Bl!==null&&_0(Bl)&&(Bl=null),Ul!==null&&_0(Ul)&&(Ul=null),Dm.forEach(fR),Fm.forEach(fR)}function ip(e,t){e.blockedOn===t&&(e.blockedOn=null,hk||(hk=!0,ia.unstable_scheduleCallback(ia.unstable_NormalPriority,Mee)))}function Bm(e){function t(s){return ip(s,e)}if(0<uv.length){ip(uv[0],e);for(var r=1;r<uv.length;r++){var n=uv[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Fl!==null&&ip(Fl,e),Bl!==null&&ip(Bl,e),Ul!==null&&ip(Ul,e),Dm.forEach(t),Fm.forEach(t),r=0;r<xl.length;r++)n=xl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<xl.length&&(r=xl[0],r.blockedOn===null);)N8(r),r.blockedOn===null&&xl.shift()}var Xd=Ho.ReactCurrentBatchConfig,J0=!0;function Iee(e,t,r,n){var s=gr,a=Xd.transition;Xd.transition=null;try{gr=1,UC(e,t,r,n)}finally{gr=s,Xd.transition=a}}function Lee(e,t,r,n){var s=gr,a=Xd.transition;Xd.transition=null;try{gr=4,UC(e,t,r,n)}finally{gr=s,Xd.transition=a}}function UC(e,t,r,n){if(J0){var s=pk(e,t,r,n);if(s===null)F_(e,t,n,X0,r),dR(e,n);else if($ee(s,e,t,r,n))n.stopPropagation();else if(dR(e,n),t&4&&-1<Ree.indexOf(e)){for(;s!==null;){var a=my(s);if(a!==null&&S8(a),a=pk(e,t,r,n),a===null&&F_(e,t,n,X0,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else F_(e,t,n,null,r)}}var X0=null;function pk(e,t,r,n){if(X0=null,e=LC(n),e=Vc(e),e!==null)if(t=Ku(e),t===null)e=null;else if(r=t.tag,r===13){if(e=m8(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return X0=e,null}function C8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jee()){case DC:return 1;case x8:return 4;case G0:case kee:return 16;case b8:return 536870912;default:return 16}default:return 16}}var Ol=null,zC=null,S0=null;function P8(){if(S0)return S0;var e,t=zC,r=t.length,n,s="value"in Ol?Ol.value:Ol.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return S0=s.slice(e,1<n?1-n:void 0)}function j0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dv(){return!0}function hR(){return!1}function ca(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?dv:hR,this.isPropagationStopped=hR,this}return Gr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dv)},persist:function(){},isPersistent:dv}),t}var yh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qC=ca(yh),py=Gr({},yh,{view:0,detail:0}),Dee=ca(py),A_,T_,op,uw=Gr({},py,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==op&&(op&&e.type==="mousemove"?(A_=e.screenX-op.screenX,T_=e.screenY-op.screenY):T_=A_=0,op=e),A_)},movementY:function(e){return"movementY"in e?e.movementY:T_}}),pR=ca(uw),Fee=Gr({},uw,{dataTransfer:0}),Bee=ca(Fee),Uee=Gr({},py,{relatedTarget:0}),O_=ca(Uee),zee=Gr({},yh,{animationName:0,elapsedTime:0,pseudoElement:0}),qee=ca(zee),Wee=Gr({},yh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vee=ca(Wee),Hee=Gr({},yh,{data:0}),mR=ca(Hee),Kee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jee(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yee[e])?!!t[e]:!1}function WC(){return Jee}var Xee=Gr({},py,{key:function(e){if(e.key){var t=Kee[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=j0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gee[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WC,charCode:function(e){return e.type==="keypress"?j0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?j0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qee=ca(Xee),Zee=Gr({},uw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gR=ca(Zee),ete=Gr({},py,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WC}),tte=ca(ete),rte=Gr({},yh,{propertyName:0,elapsedTime:0,pseudoElement:0}),nte=ca(rte),ste=Gr({},uw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ate=ca(ste),ite=[9,13,27,32],VC=Ro&&"CompositionEvent"in window,cm=null;Ro&&"documentMode"in document&&(cm=document.documentMode);var ote=Ro&&"TextEvent"in window&&!cm,A8=Ro&&(!VC||cm&&8<cm&&11>=cm),yR=" ",vR=!1;function T8(e,t){switch(e){case"keyup":return ite.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pd=!1;function lte(e,t){switch(e){case"compositionend":return O8(t);case"keypress":return t.which!==32?null:(vR=!0,yR);case"textInput":return e=t.data,e===yR&&vR?null:e;default:return null}}function cte(e,t){if(Pd)return e==="compositionend"||!VC&&T8(e,t)?(e=P8(),S0=zC=Ol=null,Pd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return A8&&t.locale!=="ko"?null:t.data;default:return null}}var ute={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xR(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ute[e.type]:t==="textarea"}function R8(e,t,r,n){u8(n),t=Q0(t,"onChange"),0<t.length&&(r=new qC("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var um=null,Um=null;function dte(e){W8(e,0)}function dw(e){var t=Od(e);if(n8(t))return e}function fte(e,t){if(e==="change")return t}var $8=!1;if(Ro){var R_;if(Ro){var $_="oninput"in document;if(!$_){var bR=document.createElement("div");bR.setAttribute("oninput","return;"),$_=typeof bR.oninput=="function"}R_=$_}else R_=!1;$8=R_&&(!document.documentMode||9<document.documentMode)}function wR(){um&&(um.detachEvent("onpropertychange",M8),Um=um=null)}function M8(e){if(e.propertyName==="value"&&dw(Um)){var t=[];R8(t,Um,e,LC(e)),p8(dte,t)}}function hte(e,t,r){e==="focusin"?(wR(),um=t,Um=r,um.attachEvent("onpropertychange",M8)):e==="focusout"&&wR()}function pte(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dw(Um)}function mte(e,t){if(e==="click")return dw(t)}function gte(e,t){if(e==="input"||e==="change")return dw(t)}function yte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ii=typeof Object.is=="function"?Object.is:yte;function zm(e,t){if(ii(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Jj.call(t,s)||!ii(e[s],t[s]))return!1}return!0}function _R(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function SR(e,t){var r=_R(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_R(r)}}function I8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?I8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function L8(){for(var e=window,t=V0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=V0(e.document)}return t}function HC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vte(e){var t=L8(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&I8(r.ownerDocument.documentElement,r)){if(n!==null&&HC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=SR(r,a);var i=SR(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xte=Ro&&"documentMode"in document&&11>=document.documentMode,Ad=null,mk=null,dm=null,gk=!1;function jR(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gk||Ad==null||Ad!==V0(n)||(n=Ad,"selectionStart"in n&&HC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),dm&&zm(dm,n)||(dm=n,n=Q0(mk,"onSelect"),0<n.length&&(t=new qC("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ad)))}function fv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Td={animationend:fv("Animation","AnimationEnd"),animationiteration:fv("Animation","AnimationIteration"),animationstart:fv("Animation","AnimationStart"),transitionend:fv("Transition","TransitionEnd")},M_={},D8={};Ro&&(D8=document.createElement("div").style,"AnimationEvent"in window||(delete Td.animationend.animation,delete Td.animationiteration.animation,delete Td.animationstart.animation),"TransitionEvent"in window||delete Td.transitionend.transition);function fw(e){if(M_[e])return M_[e];if(!Td[e])return e;var t=Td[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in D8)return M_[e]=t[r];return e}var F8=fw("animationend"),B8=fw("animationiteration"),U8=fw("animationstart"),z8=fw("transitionend"),q8=new Map,kR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hc(e,t){q8.set(e,t),Hu(t,[e])}for(var I_=0;I_<kR.length;I_++){var L_=kR[I_],bte=L_.toLowerCase(),wte=L_[0].toUpperCase()+L_.slice(1);hc(bte,"on"+wte)}hc(F8,"onAnimationEnd");hc(B8,"onAnimationIteration");hc(U8,"onAnimationStart");hc("dblclick","onDoubleClick");hc("focusin","onFocus");hc("focusout","onBlur");hc(z8,"onTransitionEnd");Af("onMouseEnter",["mouseout","mouseover"]);Af("onMouseLeave",["mouseout","mouseover"]);Af("onPointerEnter",["pointerout","pointerover"]);Af("onPointerLeave",["pointerout","pointerover"]);Hu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_te=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vp));function ER(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,bee(n,t,void 0,e),e.currentTarget=null}function W8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;ER(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;ER(s,l,u),a=c}}}if(K0)throw e=dk,K0=!1,dk=null,e}function Ar(e,t){var r=t[wk];r===void 0&&(r=t[wk]=new Set);var n=e+"__bubble";r.has(n)||(V8(t,e,2,!1),r.add(n))}function D_(e,t,r){var n=0;t&&(n|=4),V8(r,e,n,t)}var hv="_reactListening"+Math.random().toString(36).slice(2);function qm(e){if(!e[hv]){e[hv]=!0,Q6.forEach(function(r){r!=="selectionchange"&&(_te.has(r)||D_(r,!1,e),D_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hv]||(t[hv]=!0,D_("selectionchange",!1,t))}}function V8(e,t,r,n){switch(C8(t)){case 1:var s=Iee;break;case 4:s=Lee;break;default:s=UC}r=s.bind(null,t,r,e),s=void 0,!uk||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function F_(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Vc(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}p8(function(){var u=a,d=LC(r),f=[];e:{var h=q8.get(e);if(h!==void 0){var g=qC,v=e;switch(e){case"keypress":if(j0(r)===0)break e;case"keydown":case"keyup":g=Qee;break;case"focusin":v="focus",g=O_;break;case"focusout":v="blur",g=O_;break;case"beforeblur":case"afterblur":g=O_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=pR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Bee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=tte;break;case F8:case B8:case U8:g=qee;break;case z8:g=nte;break;case"scroll":g=Dee;break;case"wheel":g=ate;break;case"copy":case"cut":case"paste":g=Vee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=gR}var p=(t&4)!==0,y=!p&&e==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var b=u,w;b!==null;){w=b;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=Lm(b,x),_!=null&&p.push(Wm(b,_,w)))),y)break;b=b.return}0<p.length&&(h=new g(h,v,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==lk&&(v=r.relatedTarget||r.fromElement)&&(Vc(v)||v[$o]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=u,v=v?Vc(v):null,v!==null&&(y=Ku(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(p=pR,_="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=gR,_="onPointerLeave",x="onPointerEnter",b="pointer"),y=g==null?h:Od(g),w=v==null?h:Od(v),h=new p(_,b+"leave",g,r,d),h.target=y,h.relatedTarget=w,_=null,Vc(d)===u&&(p=new p(x,b+"enter",v,r,d),p.target=w,p.relatedTarget=y,_=p),y=_,g&&v)t:{for(p=g,x=v,b=0,w=p;w;w=rd(w))b++;for(w=0,_=x;_;_=rd(_))w++;for(;0<b-w;)p=rd(p),b--;for(;0<w-b;)x=rd(x),w--;for(;b--;){if(p===x||x!==null&&p===x.alternate)break t;p=rd(p),x=rd(x)}p=null}else p=null;g!==null&&NR(f,h,g,p,!1),v!==null&&y!==null&&NR(f,y,v,p,!0)}}e:{if(h=u?Od(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=fte;else if(xR(h))if($8)S=gte;else{S=pte;var E=hte}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=mte);if(S&&(S=S(e,u))){R8(f,S,r,d);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&nk(h,"number",h.value)}switch(E=u?Od(u):window,e){case"focusin":(xR(E)||E.contentEditable==="true")&&(Ad=E,mk=u,dm=null);break;case"focusout":dm=mk=Ad=null;break;case"mousedown":gk=!0;break;case"contextmenu":case"mouseup":case"dragend":gk=!1,jR(f,r,d);break;case"selectionchange":if(xte)break;case"keydown":case"keyup":jR(f,r,d)}var k;if(VC)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Pd?T8(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(A8&&r.locale!=="ko"&&(Pd||j!=="onCompositionStart"?j==="onCompositionEnd"&&Pd&&(k=P8()):(Ol=d,zC="value"in Ol?Ol.value:Ol.textContent,Pd=!0)),E=Q0(u,j),0<E.length&&(j=new mR(j,e,null,r,d),f.push({event:j,listeners:E}),k?j.data=k:(k=O8(r),k!==null&&(j.data=k)))),(k=ote?lte(e,r):cte(e,r))&&(u=Q0(u,"onBeforeInput"),0<u.length&&(d=new mR("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}W8(f,t)})}function Wm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Q0(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Lm(e,r),a!=null&&n.unshift(Wm(e,a,s)),a=Lm(e,t),a!=null&&n.push(Wm(e,a,s))),e=e.return}return n}function rd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function NR(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Lm(r,a),c!=null&&i.unshift(Wm(r,c,l))):s||(c=Lm(r,a),c!=null&&i.push(Wm(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var Ste=/\r\n?/g,jte=/\u0000|\uFFFD/g;function CR(e){return(typeof e=="string"?e:""+e).replace(Ste,`
`).replace(jte,"")}function pv(e,t,r){if(t=CR(t),CR(e)!==t&&r)throw Error(ze(425))}function Z0(){}var yk=null,vk=null;function xk(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bk=typeof setTimeout=="function"?setTimeout:void 0,kte=typeof clearTimeout=="function"?clearTimeout:void 0,PR=typeof Promise=="function"?Promise:void 0,Ete=typeof queueMicrotask=="function"?queueMicrotask:typeof PR<"u"?function(e){return PR.resolve(null).then(e).catch(Nte)}:bk;function Nte(e){setTimeout(function(){throw e})}function B_(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Bm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Bm(t)}function zl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function AR(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vh=Math.random().toString(36).slice(2),Ni="__reactFiber$"+vh,Vm="__reactProps$"+vh,$o="__reactContainer$"+vh,wk="__reactEvents$"+vh,Cte="__reactListeners$"+vh,Pte="__reactHandles$"+vh;function Vc(e){var t=e[Ni];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$o]||r[Ni]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=AR(e);e!==null;){if(r=e[Ni])return r;e=AR(e)}return t}e=r,r=e.parentNode}return null}function my(e){return e=e[Ni]||e[$o],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Od(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ze(33))}function hw(e){return e[Vm]||null}var _k=[],Rd=-1;function pc(e){return{current:e}}function $r(e){0>Rd||(e.current=_k[Rd],_k[Rd]=null,Rd--)}function Cr(e,t){Rd++,_k[Rd]=e.current,e.current=t}var sc={},as=pc(sc),Fs=pc(!1),wu=sc;function Tf(e,t){var r=e.type.contextTypes;if(!r)return sc;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Bs(e){return e=e.childContextTypes,e!=null}function ex(){$r(Fs),$r(as)}function TR(e,t,r){if(as.current!==sc)throw Error(ze(168));Cr(as,t),Cr(Fs,r)}function H8(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ze(108,hee(e)||"Unknown",s));return Gr({},r,n)}function tx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sc,wu=as.current,Cr(as,e),Cr(Fs,Fs.current),!0}function OR(e,t,r){var n=e.stateNode;if(!n)throw Error(ze(169));r?(e=H8(e,t,wu),n.__reactInternalMemoizedMergedChildContext=e,$r(Fs),$r(as),Cr(as,e)):$r(Fs),Cr(Fs,r)}var go=null,pw=!1,U_=!1;function K8(e){go===null?go=[e]:go.push(e)}function Ate(e){pw=!0,K8(e)}function mc(){if(!U_&&go!==null){U_=!0;var e=0,t=gr;try{var r=go;for(gr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}go=null,pw=!1}catch(s){throw go!==null&&(go=go.slice(e+1)),v8(DC,mc),s}finally{gr=t,U_=!1}}return null}var $d=[],Md=0,rx=null,nx=0,xa=[],ba=0,_u=null,bo=1,wo="";function Rc(e,t){$d[Md++]=nx,$d[Md++]=rx,rx=e,nx=t}function G8(e,t,r){xa[ba++]=bo,xa[ba++]=wo,xa[ba++]=_u,_u=e;var n=bo;e=wo;var s=32-ti(n)-1;n&=~(1<<s),r+=1;var a=32-ti(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,bo=1<<32-ti(t)+s|r<<s|n,wo=a+e}else bo=1<<a|r<<s|n,wo=e}function KC(e){e.return!==null&&(Rc(e,1),G8(e,1,0))}function GC(e){for(;e===rx;)rx=$d[--Md],$d[Md]=null,nx=$d[--Md],$d[Md]=null;for(;e===_u;)_u=xa[--ba],xa[ba]=null,wo=xa[--ba],xa[ba]=null,bo=xa[--ba],xa[ba]=null}var sa=null,ta=null,Lr=!1,Ja=null;function Y8(e,t){var r=_a(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function RR(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sa=e,ta=zl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sa=e,ta=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_u!==null?{id:bo,overflow:wo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_a(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,sa=e,ta=null,!0):!1;default:return!1}}function Sk(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jk(e){if(Lr){var t=ta;if(t){var r=t;if(!RR(e,t)){if(Sk(e))throw Error(ze(418));t=zl(r.nextSibling);var n=sa;t&&RR(e,t)?Y8(n,r):(e.flags=e.flags&-4097|2,Lr=!1,sa=e)}}else{if(Sk(e))throw Error(ze(418));e.flags=e.flags&-4097|2,Lr=!1,sa=e}}}function $R(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sa=e}function mv(e){if(e!==sa)return!1;if(!Lr)return $R(e),Lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xk(e.type,e.memoizedProps)),t&&(t=ta)){if(Sk(e))throw J8(),Error(ze(418));for(;t;)Y8(e,t),t=zl(t.nextSibling)}if($R(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ze(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ta=zl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ta=null}}else ta=sa?zl(e.stateNode.nextSibling):null;return!0}function J8(){for(var e=ta;e;)e=zl(e.nextSibling)}function Of(){ta=sa=null,Lr=!1}function YC(e){Ja===null?Ja=[e]:Ja.push(e)}var Tte=Ho.ReactCurrentBatchConfig;function lp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ze(309));var n=r.stateNode}if(!n)throw Error(ze(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(ze(284));if(!r._owner)throw Error(ze(290,e))}return e}function gv(e,t){throw e=Object.prototype.toString.call(t),Error(ze(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function MR(e){var t=e._init;return t(e._payload)}function X8(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=Hl(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,w,_){return b===null||b.tag!==6?(b=G_(w,x.mode,_),b.return=x,b):(b=s(b,w),b.return=x,b)}function c(x,b,w,_){var S=w.type;return S===Cd?d(x,b,w.props.children,_,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ml&&MR(S)===b.type)?(_=s(b,w.props),_.ref=lp(x,b,w),_.return=x,_):(_=T0(w.type,w.key,w.props,null,x.mode,_),_.ref=lp(x,b,w),_.return=x,_)}function u(x,b,w,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Y_(w,x.mode,_),b.return=x,b):(b=s(b,w.children||[]),b.return=x,b)}function d(x,b,w,_,S){return b===null||b.tag!==7?(b=cu(w,x.mode,_,S),b.return=x,b):(b=s(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=G_(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case av:return w=T0(b.type,b.key,b.props,null,x.mode,w),w.ref=lp(x,null,b),w.return=x,w;case Nd:return b=Y_(b,x.mode,w),b.return=x,b;case ml:var _=b._init;return f(x,_(b._payload),w)}if(qp(b)||np(b))return b=cu(b,x.mode,w,null),b.return=x,b;gv(x,b)}return null}function h(x,b,w,_){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(x,b,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case av:return w.key===S?c(x,b,w,_):null;case Nd:return w.key===S?u(x,b,w,_):null;case ml:return S=w._init,h(x,b,S(w._payload),_)}if(qp(w)||np(w))return S!==null?null:d(x,b,w,_,null);gv(x,w)}return null}function g(x,b,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,l(b,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case av:return x=x.get(_.key===null?w:_.key)||null,c(b,x,_,S);case Nd:return x=x.get(_.key===null?w:_.key)||null,u(b,x,_,S);case ml:var E=_._init;return g(x,b,w,E(_._payload),S)}if(qp(_)||np(_))return x=x.get(w)||null,d(b,x,_,S,null);gv(b,_)}return null}function v(x,b,w,_){for(var S=null,E=null,k=b,j=b=0,N=null;k!==null&&j<w.length;j++){k.index>j?(N=k,k=null):N=k.sibling;var C=h(x,k,w[j],_);if(C===null){k===null&&(k=N);break}e&&k&&C.alternate===null&&t(x,k),b=a(C,b,j),E===null?S=C:E.sibling=C,E=C,k=N}if(j===w.length)return r(x,k),Lr&&Rc(x,j),S;if(k===null){for(;j<w.length;j++)k=f(x,w[j],_),k!==null&&(b=a(k,b,j),E===null?S=k:E.sibling=k,E=k);return Lr&&Rc(x,j),S}for(k=n(x,k);j<w.length;j++)N=g(k,x,j,w[j],_),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?j:N.key),b=a(N,b,j),E===null?S=N:E.sibling=N,E=N);return e&&k.forEach(function(A){return t(x,A)}),Lr&&Rc(x,j),S}function p(x,b,w,_){var S=np(w);if(typeof S!="function")throw Error(ze(150));if(w=S.call(w),w==null)throw Error(ze(151));for(var E=S=null,k=b,j=b=0,N=null,C=w.next();k!==null&&!C.done;j++,C=w.next()){k.index>j?(N=k,k=null):N=k.sibling;var A=h(x,k,C.value,_);if(A===null){k===null&&(k=N);break}e&&k&&A.alternate===null&&t(x,k),b=a(A,b,j),E===null?S=A:E.sibling=A,E=A,k=N}if(C.done)return r(x,k),Lr&&Rc(x,j),S;if(k===null){for(;!C.done;j++,C=w.next())C=f(x,C.value,_),C!==null&&(b=a(C,b,j),E===null?S=C:E.sibling=C,E=C);return Lr&&Rc(x,j),S}for(k=n(x,k);!C.done;j++,C=w.next())C=g(k,x,j,C.value,_),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?j:C.key),b=a(C,b,j),E===null?S=C:E.sibling=C,E=C);return e&&k.forEach(function(R){return t(x,R)}),Lr&&Rc(x,j),S}function y(x,b,w,_){if(typeof w=="object"&&w!==null&&w.type===Cd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case av:e:{for(var S=w.key,E=b;E!==null;){if(E.key===S){if(S=w.type,S===Cd){if(E.tag===7){r(x,E.sibling),b=s(E,w.props.children),b.return=x,x=b;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ml&&MR(S)===E.type){r(x,E.sibling),b=s(E,w.props),b.ref=lp(x,E,w),b.return=x,x=b;break e}r(x,E);break}else t(x,E);E=E.sibling}w.type===Cd?(b=cu(w.props.children,x.mode,_,w.key),b.return=x,x=b):(_=T0(w.type,w.key,w.props,null,x.mode,_),_.ref=lp(x,b,w),_.return=x,x=_)}return i(x);case Nd:e:{for(E=w.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(x,b.sibling),b=s(b,w.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=Y_(w,x.mode,_),b.return=x,x=b}return i(x);case ml:return E=w._init,y(x,b,E(w._payload),_)}if(qp(w))return v(x,b,w,_);if(np(w))return p(x,b,w,_);gv(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(x,b.sibling),b=s(b,w),b.return=x,x=b):(r(x,b),b=G_(w,x.mode,_),b.return=x,x=b),i(x)):r(x,b)}return y}var Rf=X8(!0),Q8=X8(!1),sx=pc(null),ax=null,Id=null,JC=null;function XC(){JC=Id=ax=null}function QC(e){var t=sx.current;$r(sx),e._currentValue=t}function kk(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Qd(e,t){ax=e,JC=Id=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Is=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(JC!==e)if(e={context:e,memoizedValue:t,next:null},Id===null){if(ax===null)throw Error(ze(308));Id=e,ax.dependencies={lanes:0,firstContext:e}}else Id=Id.next=e;return t}var Hc=null;function ZC(e){Hc===null?Hc=[e]:Hc.push(e)}function Z8(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ZC(t)):(r.next=s.next,s.next=r),t.interleaved=r,Mo(e,n)}function Mo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var gl=!1;function eP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eB(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function No(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ql(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Xt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Mo(e,r)}return s=n.interleaved,s===null?(t.next=t,ZC(n)):(t.next=s.next,s.next=t),n.interleaved=t,Mo(e,r)}function k0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,FC(e,r)}}function IR(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ix(e,t,r,n){var s=e.updateQueue;gl=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var h=l.lane,g=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,p=l;switch(h=t,g=r,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=Gr({},f,h);break e;case 2:gl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ju|=i,e.lanes=i,e.memoizedState=f}}function LR(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ze(191,s));s.call(n)}}}var gy={},Mi=pc(gy),Hm=pc(gy),Km=pc(gy);function Kc(e){if(e===gy)throw Error(ze(174));return e}function tP(e,t){switch(Cr(Km,t),Cr(Hm,e),Cr(Mi,gy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ak(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ak(t,e)}$r(Mi),Cr(Mi,t)}function $f(){$r(Mi),$r(Hm),$r(Km)}function tB(e){Kc(Km.current);var t=Kc(Mi.current),r=ak(t,e.type);t!==r&&(Cr(Hm,e),Cr(Mi,r))}function rP(e){Hm.current===e&&($r(Mi),$r(Hm))}var zr=pc(0);function ox(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var z_=[];function nP(){for(var e=0;e<z_.length;e++)z_[e]._workInProgressVersionPrimary=null;z_.length=0}var E0=Ho.ReactCurrentDispatcher,q_=Ho.ReactCurrentBatchConfig,Su=0,Kr=null,_n=null,On=null,lx=!1,fm=!1,Gm=0,Ote=0;function Gn(){throw Error(ze(321))}function sP(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ii(e[r],t[r]))return!1;return!0}function aP(e,t,r,n,s,a){if(Su=a,Kr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E0.current=e===null||e.memoizedState===null?Ite:Lte,e=r(n,s),fm){a=0;do{if(fm=!1,Gm=0,25<=a)throw Error(ze(301));a+=1,On=_n=null,t.updateQueue=null,E0.current=Dte,e=r(n,s)}while(fm)}if(E0.current=cx,t=_n!==null&&_n.next!==null,Su=0,On=_n=Kr=null,lx=!1,t)throw Error(ze(300));return e}function iP(){var e=Gm!==0;return Gm=0,e}function bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Kr.memoizedState=On=e:On=On.next=e,On}function Oa(){if(_n===null){var e=Kr.alternate;e=e!==null?e.memoizedState:null}else e=_n.next;var t=On===null?Kr.memoizedState:On.next;if(t!==null)On=t,_n=e;else{if(e===null)throw Error(ze(310));_n=e,e={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},On===null?Kr.memoizedState=On=e:On=On.next=e}return On}function Ym(e,t){return typeof t=="function"?t(e):t}function W_(e){var t=Oa(),r=t.queue;if(r===null)throw Error(ze(311));r.lastRenderedReducer=e;var n=_n,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((Su&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Kr.lanes|=d,ju|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,ii(n,t.memoizedState)||(Is=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Kr.lanes|=a,ju|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function V_(e){var t=Oa(),r=t.queue;if(r===null)throw Error(ze(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);ii(a,t.memoizedState)||(Is=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function rB(){}function nB(e,t){var r=Kr,n=Oa(),s=t(),a=!ii(n.memoizedState,s);if(a&&(n.memoizedState=s,Is=!0),n=n.queue,oP(iB.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||On!==null&&On.memoizedState.tag&1){if(r.flags|=2048,Jm(9,aB.bind(null,r,n,s,t),void 0,null),In===null)throw Error(ze(349));Su&30||sB(r,t,s)}return s}function sB(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Kr.updateQueue,t===null?(t={lastEffect:null,stores:null},Kr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function aB(e,t,r,n){t.value=r,t.getSnapshot=n,oB(t)&&lB(e)}function iB(e,t,r){return r(function(){oB(t)&&lB(e)})}function oB(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ii(e,r)}catch{return!0}}function lB(e){var t=Mo(e,1);t!==null&&ri(t,e,1,-1)}function DR(e){var t=bi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ym,lastRenderedState:e},t.queue=e,e=e.dispatch=Mte.bind(null,Kr,e),[t.memoizedState,e]}function Jm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Kr.updateQueue,t===null?(t={lastEffect:null,stores:null},Kr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function cB(){return Oa().memoizedState}function N0(e,t,r,n){var s=bi();Kr.flags|=e,s.memoizedState=Jm(1|t,r,void 0,n===void 0?null:n)}function mw(e,t,r,n){var s=Oa();n=n===void 0?null:n;var a=void 0;if(_n!==null){var i=_n.memoizedState;if(a=i.destroy,n!==null&&sP(n,i.deps)){s.memoizedState=Jm(t,r,a,n);return}}Kr.flags|=e,s.memoizedState=Jm(1|t,r,a,n)}function FR(e,t){return N0(8390656,8,e,t)}function oP(e,t){return mw(2048,8,e,t)}function uB(e,t){return mw(4,2,e,t)}function dB(e,t){return mw(4,4,e,t)}function fB(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hB(e,t,r){return r=r!=null?r.concat([e]):null,mw(4,4,fB.bind(null,t,e),r)}function lP(){}function pB(e,t){var r=Oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sP(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mB(e,t){var r=Oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sP(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function gB(e,t,r){return Su&21?(ii(r,t)||(r=w8(),Kr.lanes|=r,ju|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Is=!0),e.memoizedState=r)}function Rte(e,t){var r=gr;gr=r!==0&&4>r?r:4,e(!0);var n=q_.transition;q_.transition={};try{e(!1),t()}finally{gr=r,q_.transition=n}}function yB(){return Oa().memoizedState}function $te(e,t,r){var n=Vl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},vB(e))xB(t,r);else if(r=Z8(e,t,r,n),r!==null){var s=xs();ri(r,e,n,s),bB(r,t,n)}}function Mte(e,t,r){var n=Vl(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(vB(e))xB(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,ii(l,i)){var c=t.interleaved;c===null?(s.next=s,ZC(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Z8(e,t,s,n),r!==null&&(s=xs(),ri(r,e,n,s),bB(r,t,n))}}function vB(e){var t=e.alternate;return e===Kr||t!==null&&t===Kr}function xB(e,t){fm=lx=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function bB(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,FC(e,r)}}var cx={readContext:Ta,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},Ite={readContext:Ta,useCallback:function(e,t){return bi().memoizedState=[e,t===void 0?null:t],e},useContext:Ta,useEffect:FR,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,N0(4194308,4,fB.bind(null,t,e),r)},useLayoutEffect:function(e,t){return N0(4194308,4,e,t)},useInsertionEffect:function(e,t){return N0(4,2,e,t)},useMemo:function(e,t){var r=bi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=$te.bind(null,Kr,e),[n.memoizedState,e]},useRef:function(e){var t=bi();return e={current:e},t.memoizedState=e},useState:DR,useDebugValue:lP,useDeferredValue:function(e){return bi().memoizedState=e},useTransition:function(){var e=DR(!1),t=e[0];return e=Rte.bind(null,e[1]),bi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Kr,s=bi();if(Lr){if(r===void 0)throw Error(ze(407));r=r()}else{if(r=t(),In===null)throw Error(ze(349));Su&30||sB(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,FR(iB.bind(null,n,a,e),[e]),n.flags|=2048,Jm(9,aB.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=bi(),t=In.identifierPrefix;if(Lr){var r=wo,n=bo;r=(n&~(1<<32-ti(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Gm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ote++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lte={readContext:Ta,useCallback:pB,useContext:Ta,useEffect:oP,useImperativeHandle:hB,useInsertionEffect:uB,useLayoutEffect:dB,useMemo:mB,useReducer:W_,useRef:cB,useState:function(){return W_(Ym)},useDebugValue:lP,useDeferredValue:function(e){var t=Oa();return gB(t,_n.memoizedState,e)},useTransition:function(){var e=W_(Ym)[0],t=Oa().memoizedState;return[e,t]},useMutableSource:rB,useSyncExternalStore:nB,useId:yB,unstable_isNewReconciler:!1},Dte={readContext:Ta,useCallback:pB,useContext:Ta,useEffect:oP,useImperativeHandle:hB,useInsertionEffect:uB,useLayoutEffect:dB,useMemo:mB,useReducer:V_,useRef:cB,useState:function(){return V_(Ym)},useDebugValue:lP,useDeferredValue:function(e){var t=Oa();return _n===null?t.memoizedState=e:gB(t,_n.memoizedState,e)},useTransition:function(){var e=V_(Ym)[0],t=Oa().memoizedState;return[e,t]},useMutableSource:rB,useSyncExternalStore:nB,useId:yB,unstable_isNewReconciler:!1};function Va(e,t){if(e&&e.defaultProps){t=Gr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ek(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Gr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gw={isMounted:function(e){return(e=e._reactInternals)?Ku(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xs(),s=Vl(e),a=No(n,s);a.payload=t,r!=null&&(a.callback=r),t=ql(e,a,s),t!==null&&(ri(t,e,s,n),k0(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xs(),s=Vl(e),a=No(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ql(e,a,s),t!==null&&(ri(t,e,s,n),k0(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xs(),n=Vl(e),s=No(r,n);s.tag=2,t!=null&&(s.callback=t),t=ql(e,s,n),t!==null&&(ri(t,e,n,r),k0(t,e,n))}};function BR(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!zm(r,n)||!zm(s,a):!0}function wB(e,t,r){var n=!1,s=sc,a=t.contextType;return typeof a=="object"&&a!==null?a=Ta(a):(s=Bs(t)?wu:as.current,n=t.contextTypes,a=(n=n!=null)?Tf(e,s):sc),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function UR(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&gw.enqueueReplaceState(t,t.state,null)}function Nk(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},eP(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Ta(a):(a=Bs(t)?wu:as.current,s.context=Tf(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ek(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&gw.enqueueReplaceState(s,s.state,null),ix(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Mf(e,t){try{var r="",n=t;do r+=fee(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function H_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ck(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Fte=typeof WeakMap=="function"?WeakMap:Map;function _B(e,t,r){r=No(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){dx||(dx=!0,Dk=n),Ck(e,t)},r}function SB(e,t,r){r=No(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Ck(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ck(e,t),typeof n!="function"&&(Wl===null?Wl=new Set([this]):Wl.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function zR(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Fte;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Zte.bind(null,e,t,r),t.then(e,e))}function qR(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function WR(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=No(-1,1),t.tag=2,ql(r,t,1))),r.lanes|=1),e)}var Bte=Ho.ReactCurrentOwner,Is=!1;function ps(e,t,r,n){t.child=e===null?Q8(t,null,r,n):Rf(t,e.child,r,n)}function VR(e,t,r,n,s){r=r.render;var a=t.ref;return Qd(t,s),n=aP(e,t,r,n,a,s),r=iP(),e!==null&&!Is?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Io(e,t,s)):(Lr&&r&&KC(t),t.flags|=1,ps(e,t,n,s),t.child)}function HR(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!gP(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,jB(e,t,a,n,s)):(e=T0(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:zm,r(i,n)&&e.ref===t.ref)return Io(e,t,s)}return t.flags|=1,e=Hl(a,n),e.ref=t.ref,e.return=t,t.child=e}function jB(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(zm(a,n)&&e.ref===t.ref)if(Is=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Is=!0);else return t.lanes=e.lanes,Io(e,t,s)}return Pk(e,t,r,n,s)}function kB(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Dd,Xs),Xs|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(Dd,Xs),Xs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Cr(Dd,Xs),Xs|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Cr(Dd,Xs),Xs|=n;return ps(e,t,s,r),t.child}function EB(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Pk(e,t,r,n,s){var a=Bs(r)?wu:as.current;return a=Tf(t,a),Qd(t,s),r=aP(e,t,r,n,a,s),n=iP(),e!==null&&!Is?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Io(e,t,s)):(Lr&&n&&KC(t),t.flags|=1,ps(e,t,r,s),t.child)}function KR(e,t,r,n,s){if(Bs(r)){var a=!0;tx(t)}else a=!1;if(Qd(t,s),t.stateNode===null)C0(e,t),wB(t,r,n),Nk(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ta(u):(u=Bs(r)?wu:as.current,u=Tf(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&UR(t,i,n,u),gl=!1;var h=t.memoizedState;i.state=h,ix(t,n,i,s),c=t.memoizedState,l!==n||h!==c||Fs.current||gl?(typeof d=="function"&&(Ek(t,r,d,n),c=t.memoizedState),(l=gl||BR(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,eB(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Va(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ta(c):(c=Bs(r)?wu:as.current,c=Tf(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&UR(t,i,n,c),gl=!1,h=t.memoizedState,i.state=h,ix(t,n,i,s);var v=t.memoizedState;l!==f||h!==v||Fs.current||gl?(typeof g=="function"&&(Ek(t,r,g,n),v=t.memoizedState),(u=gl||BR(t,r,u,n,h,v,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ak(e,t,r,n,a,s)}function Ak(e,t,r,n,s,a){EB(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&OR(t,r,!1),Io(e,t,a);n=t.stateNode,Bte.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Rf(t,e.child,null,a),t.child=Rf(t,null,l,a)):ps(e,t,l,a),t.memoizedState=n.state,s&&OR(t,r,!0),t.child}function NB(e){var t=e.stateNode;t.pendingContext?TR(e,t.pendingContext,t.pendingContext!==t.context):t.context&&TR(e,t.context,!1),tP(e,t.containerInfo)}function GR(e,t,r,n,s){return Of(),YC(s),t.flags|=256,ps(e,t,r,n),t.child}var Tk={dehydrated:null,treeContext:null,retryLane:0};function Ok(e){return{baseLanes:e,cachePool:null,transitions:null}}function CB(e,t,r){var n=t.pendingProps,s=zr.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Cr(zr,s&1),e===null)return jk(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=xw(i,n,0,null),e=cu(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ok(r),t.memoizedState=Tk,e):cP(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ute(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Hl(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Hl(l,a):(a=cu(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Ok(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Tk,n}return a=e.child,e=a.sibling,n=Hl(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function cP(e,t){return t=xw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yv(e,t,r,n){return n!==null&&YC(n),Rf(t,e.child,null,r),e=cP(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ute(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=H_(Error(ze(422))),yv(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=xw({mode:"visible",children:n.children},s,0,null),a=cu(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Rf(t,e.child,null,i),t.child.memoizedState=Ok(i),t.memoizedState=Tk,a);if(!(t.mode&1))return yv(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(ze(419)),n=H_(a,n,void 0),yv(e,t,i,n)}if(l=(i&e.childLanes)!==0,Is||l){if(n=In,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Mo(e,s),ri(n,e,s,-1))}return mP(),n=H_(Error(ze(421))),yv(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ere.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ta=zl(s.nextSibling),sa=t,Lr=!0,Ja=null,e!==null&&(xa[ba++]=bo,xa[ba++]=wo,xa[ba++]=_u,bo=e.id,wo=e.overflow,_u=t),t=cP(t,n.children),t.flags|=4096,t)}function YR(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),kk(e.return,t,r)}function K_(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function PB(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(ps(e,t,n.children,r),n=zr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&YR(e,r,t);else if(e.tag===19)YR(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Cr(zr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ox(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),K_(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ox(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}K_(t,!0,r,null,a);break;case"together":K_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function C0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Io(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ju|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ze(153));if(t.child!==null){for(e=t.child,r=Hl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Hl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zte(e,t,r){switch(t.tag){case 3:NB(t),Of();break;case 5:tB(t);break;case 1:Bs(t.type)&&tx(t);break;case 4:tP(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Cr(sx,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Cr(zr,zr.current&1),t.flags|=128,null):r&t.child.childLanes?CB(e,t,r):(Cr(zr,zr.current&1),e=Io(e,t,r),e!==null?e.sibling:null);Cr(zr,zr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return PB(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cr(zr,zr.current),n)break;return null;case 22:case 23:return t.lanes=0,kB(e,t,r)}return Io(e,t,r)}var AB,Rk,TB,OB;AB=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Rk=function(){};TB=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Kc(Mi.current);var a=null;switch(r){case"input":s=tk(e,s),n=tk(e,n),a=[];break;case"select":s=Gr({},s,{value:void 0}),n=Gr({},n,{value:void 0}),a=[];break;case"textarea":s=sk(e,s),n=sk(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Z0)}ik(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mm.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ar("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};OB=function(e,t,r,n){r!==n&&(t.flags|=4)};function cp(e,t){if(!Lr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Yn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function qte(e,t,r){var n=t.pendingProps;switch(GC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(t),null;case 1:return Bs(t.type)&&ex(),Yn(t),null;case 3:return n=t.stateNode,$f(),$r(Fs),$r(as),nP(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(mv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ja!==null&&(Uk(Ja),Ja=null))),Rk(e,t),Yn(t),null;case 5:rP(t);var s=Kc(Km.current);if(r=t.type,e!==null&&t.stateNode!=null)TB(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ze(166));return Yn(t),null}if(e=Kc(Mi.current),mv(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ni]=t,n[Vm]=a,e=(t.mode&1)!==0,r){case"dialog":Ar("cancel",n),Ar("close",n);break;case"iframe":case"object":case"embed":Ar("load",n);break;case"video":case"audio":for(s=0;s<Vp.length;s++)Ar(Vp[s],n);break;case"source":Ar("error",n);break;case"img":case"image":case"link":Ar("error",n),Ar("load",n);break;case"details":Ar("toggle",n);break;case"input":sR(n,a),Ar("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ar("invalid",n);break;case"textarea":iR(n,a),Ar("invalid",n)}ik(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&pv(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&pv(n.textContent,l,e),s=["children",""+l]):Mm.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ar("scroll",n)}switch(r){case"input":iv(n),aR(n,a,!0);break;case"textarea":iv(n),oR(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Z0)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=i8(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Ni]=t,e[Vm]=n,AB(e,t,!1,!1),t.stateNode=e;e:{switch(i=ok(r,n),r){case"dialog":Ar("cancel",e),Ar("close",e),s=n;break;case"iframe":case"object":case"embed":Ar("load",e),s=n;break;case"video":case"audio":for(s=0;s<Vp.length;s++)Ar(Vp[s],e);s=n;break;case"source":Ar("error",e),s=n;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),s=n;break;case"details":Ar("toggle",e),s=n;break;case"input":sR(e,n),s=tk(e,n),Ar("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Gr({},n,{value:void 0}),Ar("invalid",e);break;case"textarea":iR(e,n),s=sk(e,n),Ar("invalid",e);break;default:s=n}ik(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?c8(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&o8(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Im(e,c):typeof c=="number"&&Im(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Mm.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ar("scroll",e):c!=null&&RC(e,a,c,i))}switch(r){case"input":iv(e),aR(e,n,!1);break;case"textarea":iv(e),oR(e);break;case"option":n.value!=null&&e.setAttribute("value",""+nc(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Gd(e,!!n.multiple,a,!1):n.defaultValue!=null&&Gd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Z0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yn(t),null;case 6:if(e&&t.stateNode!=null)OB(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ze(166));if(r=Kc(Km.current),Kc(Mi.current),mv(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ni]=t,(a=n.nodeValue!==r)&&(e=sa,e!==null))switch(e.tag){case 3:pv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pv(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ni]=t,t.stateNode=n}return Yn(t),null;case 13:if($r(zr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Lr&&ta!==null&&t.mode&1&&!(t.flags&128))J8(),Of(),t.flags|=98560,a=!1;else if(a=mv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ze(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ze(317));a[Ni]=t}else Of(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yn(t),a=!1}else Ja!==null&&(Uk(Ja),Ja=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||zr.current&1?kn===0&&(kn=3):mP())),t.updateQueue!==null&&(t.flags|=4),Yn(t),null);case 4:return $f(),Rk(e,t),e===null&&qm(t.stateNode.containerInfo),Yn(t),null;case 10:return QC(t.type._context),Yn(t),null;case 17:return Bs(t.type)&&ex(),Yn(t),null;case 19:if($r(zr),a=t.memoizedState,a===null)return Yn(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)cp(a,!1);else{if(kn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ox(e),i!==null){for(t.flags|=128,cp(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Cr(zr,zr.current&1|2),t.child}e=e.sibling}a.tail!==null&&nn()>If&&(t.flags|=128,n=!0,cp(a,!1),t.lanes=4194304)}else{if(!n)if(e=ox(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),cp(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Lr)return Yn(t),null}else 2*nn()-a.renderingStartTime>If&&r!==1073741824&&(t.flags|=128,n=!0,cp(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=nn(),t.sibling=null,r=zr.current,Cr(zr,n?r&1|2:r&1),t):(Yn(t),null);case 22:case 23:return pP(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Xs&1073741824&&(Yn(t),t.subtreeFlags&6&&(t.flags|=8192)):Yn(t),null;case 24:return null;case 25:return null}throw Error(ze(156,t.tag))}function Wte(e,t){switch(GC(t),t.tag){case 1:return Bs(t.type)&&ex(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $f(),$r(Fs),$r(as),nP(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rP(t),null;case 13:if($r(zr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ze(340));Of()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $r(zr),null;case 4:return $f(),null;case 10:return QC(t.type._context),null;case 22:case 23:return pP(),null;case 24:return null;default:return null}}var vv=!1,Zn=!1,Vte=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Ld(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Zr(e,t,n)}else r.current=null}function $k(e,t,r){try{r()}catch(n){Zr(e,t,n)}}var JR=!1;function Hte(e,t){if(yk=J0,e=L8(),HC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===a&&++d===n&&(c=i),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(vk={focusedElem:e,selectionRange:r},J0=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){t=ht;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,y=v.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:Va(t.type,p),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(_){Zr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}return v=JR,JR=!1,v}function hm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&$k(t,r,a)}s=s.next}while(s!==n)}}function yw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Mk(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function RB(e){var t=e.alternate;t!==null&&(e.alternate=null,RB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ni],delete t[Vm],delete t[wk],delete t[Cte],delete t[Pte])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $B(e){return e.tag===5||e.tag===3||e.tag===4}function XR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$B(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ik(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Z0));else if(n!==4&&(e=e.child,e!==null))for(Ik(e,t,r),e=e.sibling;e!==null;)Ik(e,t,r),e=e.sibling}function Lk(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Lk(e,t,r),e=e.sibling;e!==null;)Lk(e,t,r),e=e.sibling}var Fn=null,Ka=!1;function tl(e,t,r){for(r=r.child;r!==null;)MB(e,t,r),r=r.sibling}function MB(e,t,r){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(cw,r)}catch{}switch(r.tag){case 5:Zn||Ld(r,t);case 6:var n=Fn,s=Ka;Fn=null,tl(e,t,r),Fn=n,Ka=s,Fn!==null&&(Ka?(e=Fn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fn.removeChild(r.stateNode));break;case 18:Fn!==null&&(Ka?(e=Fn,r=r.stateNode,e.nodeType===8?B_(e.parentNode,r):e.nodeType===1&&B_(e,r),Bm(e)):B_(Fn,r.stateNode));break;case 4:n=Fn,s=Ka,Fn=r.stateNode.containerInfo,Ka=!0,tl(e,t,r),Fn=n,Ka=s;break;case 0:case 11:case 14:case 15:if(!Zn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&$k(r,t,i),s=s.next}while(s!==n)}tl(e,t,r);break;case 1:if(!Zn&&(Ld(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Zr(r,t,l)}tl(e,t,r);break;case 21:tl(e,t,r);break;case 22:r.mode&1?(Zn=(n=Zn)||r.memoizedState!==null,tl(e,t,r),Zn=n):tl(e,t,r);break;default:tl(e,t,r)}}function QR(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Vte),t.forEach(function(n){var s=tre.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Da(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Fn=l.stateNode,Ka=!1;break e;case 3:Fn=l.stateNode.containerInfo,Ka=!0;break e;case 4:Fn=l.stateNode.containerInfo,Ka=!0;break e}l=l.return}if(Fn===null)throw Error(ze(160));MB(a,i,s),Fn=null,Ka=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Zr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)IB(t,e),t=t.sibling}function IB(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Da(t,e),vi(e),n&4){try{hm(3,e,e.return),yw(3,e)}catch(p){Zr(e,e.return,p)}try{hm(5,e,e.return)}catch(p){Zr(e,e.return,p)}}break;case 1:Da(t,e),vi(e),n&512&&r!==null&&Ld(r,r.return);break;case 5:if(Da(t,e),vi(e),n&512&&r!==null&&Ld(r,r.return),e.flags&32){var s=e.stateNode;try{Im(s,"")}catch(p){Zr(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&s8(s,a),ok(l,i);var u=ok(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?c8(s,f):d==="dangerouslySetInnerHTML"?o8(s,f):d==="children"?Im(s,f):RC(s,d,f,u)}switch(l){case"input":rk(s,a);break;case"textarea":a8(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Gd(s,!!a.multiple,g,!1):h!==!!a.multiple&&(a.defaultValue!=null?Gd(s,!!a.multiple,a.defaultValue,!0):Gd(s,!!a.multiple,a.multiple?[]:"",!1))}s[Vm]=a}catch(p){Zr(e,e.return,p)}}break;case 6:if(Da(t,e),vi(e),n&4){if(e.stateNode===null)throw Error(ze(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(p){Zr(e,e.return,p)}}break;case 3:if(Da(t,e),vi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Bm(t.containerInfo)}catch(p){Zr(e,e.return,p)}break;case 4:Da(t,e),vi(e);break;case 13:Da(t,e),vi(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(fP=nn())),n&4&&QR(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Zn=(u=Zn)||d,Da(t,e),Zn=u):Da(t,e),vi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ht=e,d=e.child;d!==null;){for(f=ht=d;ht!==null;){switch(h=ht,g=h.child,h.tag){case 0:case 11:case 14:case 15:hm(4,h,h.return);break;case 1:Ld(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){Zr(n,r,p)}}break;case 5:Ld(h,h.return);break;case 22:if(h.memoizedState!==null){e$(f);continue}}g!==null?(g.return=h,ht=g):e$(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=l8("display",i))}catch(p){Zr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Zr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Da(t,e),vi(e),n&4&&QR(e);break;case 21:break;default:Da(t,e),vi(e)}}function vi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($B(r)){var n=r;break e}r=r.return}throw Error(ze(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Im(s,""),n.flags&=-33);var a=XR(e);Lk(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=XR(e);Ik(e,l,i);break;default:throw Error(ze(161))}}catch(c){Zr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kte(e,t,r){ht=e,LB(e)}function LB(e,t,r){for(var n=(e.mode&1)!==0;ht!==null;){var s=ht,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||vv;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Zn;l=vv;var u=Zn;if(vv=i,(Zn=c)&&!u)for(ht=s;ht!==null;)i=ht,c=i.child,i.tag===22&&i.memoizedState!==null?t$(s):c!==null?(c.return=i,ht=c):t$(s);for(;a!==null;)ht=a,LB(a),a=a.sibling;ht=s,vv=l,Zn=u}ZR(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ht=a):ZR(e)}}function ZR(e){for(;ht!==null;){var t=ht;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zn||yw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Zn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Va(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&LR(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}LR(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Bm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}Zn||t.flags&512&&Mk(t)}catch(h){Zr(t,t.return,h)}}if(t===e){ht=null;break}if(r=t.sibling,r!==null){r.return=t.return,ht=r;break}ht=t.return}}function e$(e){for(;ht!==null;){var t=ht;if(t===e){ht=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ht=r;break}ht=t.return}}function t$(e){for(;ht!==null;){var t=ht;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{yw(4,t)}catch(c){Zr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Zr(t,s,c)}}var a=t.return;try{Mk(t)}catch(c){Zr(t,a,c)}break;case 5:var i=t.return;try{Mk(t)}catch(c){Zr(t,i,c)}}}catch(c){Zr(t,t.return,c)}if(t===e){ht=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ht=l;break}ht=t.return}}var Gte=Math.ceil,ux=Ho.ReactCurrentDispatcher,uP=Ho.ReactCurrentOwner,ka=Ho.ReactCurrentBatchConfig,Xt=0,In=null,fn=null,Hn=0,Xs=0,Dd=pc(0),kn=0,Xm=null,ju=0,vw=0,dP=0,pm=null,As=null,fP=0,If=1/0,uo=null,dx=!1,Dk=null,Wl=null,xv=!1,Rl=null,fx=0,mm=0,Fk=null,P0=-1,A0=0;function xs(){return Xt&6?nn():P0!==-1?P0:P0=nn()}function Vl(e){return e.mode&1?Xt&2&&Hn!==0?Hn&-Hn:Tte.transition!==null?(A0===0&&(A0=w8()),A0):(e=gr,e!==0||(e=window.event,e=e===void 0?16:C8(e.type)),e):1}function ri(e,t,r,n){if(50<mm)throw mm=0,Fk=null,Error(ze(185));hy(e,r,n),(!(Xt&2)||e!==In)&&(e===In&&(!(Xt&2)&&(vw|=r),kn===4&&bl(e,Hn)),Us(e,n),r===1&&Xt===0&&!(t.mode&1)&&(If=nn()+500,pw&&mc()))}function Us(e,t){var r=e.callbackNode;Tee(e,t);var n=Y0(e,e===In?Hn:0);if(n===0)r!==null&&uR(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&uR(r),t===1)e.tag===0?Ate(r$.bind(null,e)):K8(r$.bind(null,e)),Ete(function(){!(Xt&6)&&mc()}),r=null;else{switch(_8(n)){case 1:r=DC;break;case 4:r=x8;break;case 16:r=G0;break;case 536870912:r=b8;break;default:r=G0}r=VB(r,DB.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function DB(e,t){if(P0=-1,A0=0,Xt&6)throw Error(ze(327));var r=e.callbackNode;if(Zd()&&e.callbackNode!==r)return null;var n=Y0(e,e===In?Hn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=hx(e,n);else{t=n;var s=Xt;Xt|=2;var a=BB();(In!==e||Hn!==t)&&(uo=null,If=nn()+500,lu(e,t));do try{Xte();break}catch(l){FB(e,l)}while(!0);XC(),ux.current=a,Xt=s,fn!==null?t=0:(In=null,Hn=0,t=kn)}if(t!==0){if(t===2&&(s=fk(e),s!==0&&(n=s,t=Bk(e,s))),t===1)throw r=Xm,lu(e,0),bl(e,n),Us(e,nn()),r;if(t===6)bl(e,n);else{if(s=e.current.alternate,!(n&30)&&!Yte(s)&&(t=hx(e,n),t===2&&(a=fk(e),a!==0&&(n=a,t=Bk(e,a))),t===1))throw r=Xm,lu(e,0),bl(e,n),Us(e,nn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ze(345));case 2:$c(e,As,uo);break;case 3:if(bl(e,n),(n&130023424)===n&&(t=fP+500-nn(),10<t)){if(Y0(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){xs(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=bk($c.bind(null,e,As,uo),t);break}$c(e,As,uo);break;case 4:if(bl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-ti(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=nn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Gte(n/1960))-n,10<n){e.timeoutHandle=bk($c.bind(null,e,As,uo),n);break}$c(e,As,uo);break;case 5:$c(e,As,uo);break;default:throw Error(ze(329))}}}return Us(e,nn()),e.callbackNode===r?DB.bind(null,e):null}function Bk(e,t){var r=pm;return e.current.memoizedState.isDehydrated&&(lu(e,t).flags|=256),e=hx(e,t),e!==2&&(t=As,As=r,t!==null&&Uk(t)),e}function Uk(e){As===null?As=e:As.push.apply(As,e)}function Yte(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!ii(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bl(e,t){for(t&=~dP,t&=~vw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ti(t),n=1<<r;e[r]=-1,t&=~n}}function r$(e){if(Xt&6)throw Error(ze(327));Zd();var t=Y0(e,0);if(!(t&1))return Us(e,nn()),null;var r=hx(e,t);if(e.tag!==0&&r===2){var n=fk(e);n!==0&&(t=n,r=Bk(e,n))}if(r===1)throw r=Xm,lu(e,0),bl(e,t),Us(e,nn()),r;if(r===6)throw Error(ze(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$c(e,As,uo),Us(e,nn()),null}function hP(e,t){var r=Xt;Xt|=1;try{return e(t)}finally{Xt=r,Xt===0&&(If=nn()+500,pw&&mc())}}function ku(e){Rl!==null&&Rl.tag===0&&!(Xt&6)&&Zd();var t=Xt;Xt|=1;var r=ka.transition,n=gr;try{if(ka.transition=null,gr=1,e)return e()}finally{gr=n,ka.transition=r,Xt=t,!(Xt&6)&&mc()}}function pP(){Xs=Dd.current,$r(Dd)}function lu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,kte(r)),fn!==null)for(r=fn.return;r!==null;){var n=r;switch(GC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ex();break;case 3:$f(),$r(Fs),$r(as),nP();break;case 5:rP(n);break;case 4:$f();break;case 13:$r(zr);break;case 19:$r(zr);break;case 10:QC(n.type._context);break;case 22:case 23:pP()}r=r.return}if(In=e,fn=e=Hl(e.current,null),Hn=Xs=t,kn=0,Xm=null,dP=vw=ju=0,As=pm=null,Hc!==null){for(t=0;t<Hc.length;t++)if(r=Hc[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}Hc=null}return e}function FB(e,t){do{var r=fn;try{if(XC(),E0.current=cx,lx){for(var n=Kr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}lx=!1}if(Su=0,On=_n=Kr=null,fm=!1,Gm=0,uP.current=null,r===null||r.return===null){kn=1,Xm=t,fn=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=Hn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=qR(i);if(g!==null){g.flags&=-257,WR(g,i,l,a,t),g.mode&1&&zR(a,u,t),t=g,c=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(c),t.updateQueue=p}else v.add(c);break e}else{if(!(t&1)){zR(a,u,t),mP();break e}c=Error(ze(426))}}else if(Lr&&l.mode&1){var y=qR(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),WR(y,i,l,a,t),YC(Mf(c,l));break e}}a=c=Mf(c,l),kn!==4&&(kn=2),pm===null?pm=[a]:pm.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=_B(a,c,t);IR(a,x);break e;case 1:l=c;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Wl===null||!Wl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=SB(a,l,t);IR(a,_);break e}}a=a.return}while(a!==null)}zB(r)}catch(S){t=S,fn===r&&r!==null&&(fn=r=r.return);continue}break}while(!0)}function BB(){var e=ux.current;return ux.current=cx,e===null?cx:e}function mP(){(kn===0||kn===3||kn===2)&&(kn=4),In===null||!(ju&268435455)&&!(vw&268435455)||bl(In,Hn)}function hx(e,t){var r=Xt;Xt|=2;var n=BB();(In!==e||Hn!==t)&&(uo=null,lu(e,t));do try{Jte();break}catch(s){FB(e,s)}while(!0);if(XC(),Xt=r,ux.current=n,fn!==null)throw Error(ze(261));return In=null,Hn=0,kn}function Jte(){for(;fn!==null;)UB(fn)}function Xte(){for(;fn!==null&&!_ee();)UB(fn)}function UB(e){var t=WB(e.alternate,e,Xs);e.memoizedProps=e.pendingProps,t===null?zB(e):fn=t,uP.current=null}function zB(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Wte(r,t),r!==null){r.flags&=32767,fn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kn=6,fn=null;return}}else if(r=qte(r,t,Xs),r!==null){fn=r;return}if(t=t.sibling,t!==null){fn=t;return}fn=t=e}while(t!==null);kn===0&&(kn=5)}function $c(e,t,r){var n=gr,s=ka.transition;try{ka.transition=null,gr=1,Qte(e,t,r,n)}finally{ka.transition=s,gr=n}return null}function Qte(e,t,r,n){do Zd();while(Rl!==null);if(Xt&6)throw Error(ze(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ze(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Oee(e,a),e===In&&(fn=In=null,Hn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xv||(xv=!0,VB(G0,function(){return Zd(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ka.transition,ka.transition=null;var i=gr;gr=1;var l=Xt;Xt|=4,uP.current=null,Hte(e,r),IB(r,e),vte(vk),J0=!!yk,vk=yk=null,e.current=r,Kte(r),See(),Xt=l,gr=i,ka.transition=a}else e.current=r;if(xv&&(xv=!1,Rl=e,fx=s),a=e.pendingLanes,a===0&&(Wl=null),Eee(r.stateNode),Us(e,nn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(dx)throw dx=!1,e=Dk,Dk=null,e;return fx&1&&e.tag!==0&&Zd(),a=e.pendingLanes,a&1?e===Fk?mm++:(mm=0,Fk=e):mm=0,mc(),null}function Zd(){if(Rl!==null){var e=_8(fx),t=ka.transition,r=gr;try{if(ka.transition=null,gr=16>e?16:e,Rl===null)var n=!1;else{if(e=Rl,Rl=null,fx=0,Xt&6)throw Error(ze(331));var s=Xt;for(Xt|=4,ht=e.current;ht!==null;){var a=ht,i=a.child;if(ht.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ht=u;ht!==null;){var d=ht;switch(d.tag){case 0:case 11:case 15:hm(8,d,a)}var f=d.child;if(f!==null)f.return=d,ht=f;else for(;ht!==null;){d=ht;var h=d.sibling,g=d.return;if(RB(d),d===u){ht=null;break}if(h!==null){h.return=g,ht=h;break}ht=g}}}var v=a.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}ht=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,ht=i;else e:for(;ht!==null;){if(a=ht,a.flags&2048)switch(a.tag){case 0:case 11:case 15:hm(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ht=x;break e}ht=a.return}}var b=e.current;for(ht=b;ht!==null;){i=ht;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,ht=w;else e:for(i=b;ht!==null;){if(l=ht,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yw(9,l)}}catch(S){Zr(l,l.return,S)}if(l===i){ht=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ht=_;break e}ht=l.return}}if(Xt=s,mc(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(cw,e)}catch{}n=!0}return n}finally{gr=r,ka.transition=t}}return!1}function n$(e,t,r){t=Mf(r,t),t=_B(e,t,1),e=ql(e,t,1),t=xs(),e!==null&&(hy(e,1,t),Us(e,t))}function Zr(e,t,r){if(e.tag===3)n$(e,e,r);else for(;t!==null;){if(t.tag===3){n$(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wl===null||!Wl.has(n))){e=Mf(r,e),e=SB(t,e,1),t=ql(t,e,1),e=xs(),t!==null&&(hy(t,1,e),Us(t,e));break}}t=t.return}}function Zte(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=xs(),e.pingedLanes|=e.suspendedLanes&r,In===e&&(Hn&r)===r&&(kn===4||kn===3&&(Hn&130023424)===Hn&&500>nn()-fP?lu(e,0):dP|=r),Us(e,t)}function qB(e,t){t===0&&(e.mode&1?(t=cv,cv<<=1,!(cv&130023424)&&(cv=4194304)):t=1);var r=xs();e=Mo(e,t),e!==null&&(hy(e,t,r),Us(e,r))}function ere(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qB(e,r)}function tre(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ze(314))}n!==null&&n.delete(t),qB(e,r)}var WB;WB=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fs.current)Is=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Is=!1,zte(e,t,r);Is=!!(e.flags&131072)}else Is=!1,Lr&&t.flags&1048576&&G8(t,nx,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;C0(e,t),e=t.pendingProps;var s=Tf(t,as.current);Qd(t,r),s=aP(null,t,n,e,s,r);var a=iP();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bs(n)?(a=!0,tx(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,eP(t),s.updater=gw,t.stateNode=s,s._reactInternals=t,Nk(t,n,e,r),t=Ak(null,t,n,!0,a,r)):(t.tag=0,Lr&&a&&KC(t),ps(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(C0(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=nre(n),e=Va(n,e),s){case 0:t=Pk(null,t,n,e,r);break e;case 1:t=KR(null,t,n,e,r);break e;case 11:t=VR(null,t,n,e,r);break e;case 14:t=HR(null,t,n,Va(n.type,e),r);break e}throw Error(ze(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Va(n,s),Pk(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Va(n,s),KR(e,t,n,s,r);case 3:e:{if(NB(t),e===null)throw Error(ze(387));n=t.pendingProps,a=t.memoizedState,s=a.element,eB(e,t),ix(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Mf(Error(ze(423)),t),t=GR(e,t,n,r,s);break e}else if(n!==s){s=Mf(Error(ze(424)),t),t=GR(e,t,n,r,s);break e}else for(ta=zl(t.stateNode.containerInfo.firstChild),sa=t,Lr=!0,Ja=null,r=Q8(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Of(),n===s){t=Io(e,t,r);break e}ps(e,t,n,r)}t=t.child}return t;case 5:return tB(t),e===null&&jk(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,xk(n,s)?i=null:a!==null&&xk(n,a)&&(t.flags|=32),EB(e,t),ps(e,t,i,r),t.child;case 6:return e===null&&jk(t),null;case 13:return CB(e,t,r);case 4:return tP(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Rf(t,null,n,r):ps(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Va(n,s),VR(e,t,n,s,r);case 7:return ps(e,t,t.pendingProps,r),t.child;case 8:return ps(e,t,t.pendingProps.children,r),t.child;case 12:return ps(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Cr(sx,n._currentValue),n._currentValue=i,a!==null)if(ii(a.value,i)){if(a.children===s.children&&!Fs.current){t=Io(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=No(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),kk(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(ze(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),kk(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}ps(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Qd(t,r),s=Ta(s),n=n(s),t.flags|=1,ps(e,t,n,r),t.child;case 14:return n=t.type,s=Va(n,t.pendingProps),s=Va(n.type,s),HR(e,t,n,s,r);case 15:return jB(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Va(n,s),C0(e,t),t.tag=1,Bs(n)?(e=!0,tx(t)):e=!1,Qd(t,r),wB(t,n,s),Nk(t,n,s,r),Ak(null,t,n,!0,e,r);case 19:return PB(e,t,r);case 22:return kB(e,t,r)}throw Error(ze(156,t.tag))};function VB(e,t){return v8(e,t)}function rre(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(e,t,r,n){return new rre(e,t,r,n)}function gP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nre(e){if(typeof e=="function")return gP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===MC)return 11;if(e===IC)return 14}return 2}function Hl(e,t){var r=e.alternate;return r===null?(r=_a(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function T0(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")gP(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Cd:return cu(r.children,s,a,t);case $C:i=8,s|=8;break;case Xj:return e=_a(12,r,t,s|2),e.elementType=Xj,e.lanes=a,e;case Qj:return e=_a(13,r,t,s),e.elementType=Qj,e.lanes=a,e;case Zj:return e=_a(19,r,t,s),e.elementType=Zj,e.lanes=a,e;case t8:return xw(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z6:i=10;break e;case e8:i=9;break e;case MC:i=11;break e;case IC:i=14;break e;case ml:i=16,n=null;break e}throw Error(ze(130,e==null?e:typeof e,""))}return t=_a(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function cu(e,t,r,n){return e=_a(7,e,n,t),e.lanes=r,e}function xw(e,t,r,n){return e=_a(22,e,n,t),e.elementType=t8,e.lanes=r,e.stateNode={isHidden:!1},e}function G_(e,t,r){return e=_a(6,e,null,t),e.lanes=r,e}function Y_(e,t,r){return t=_a(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sre(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=P_(0),this.expirationTimes=P_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P_(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yP(e,t,r,n,s,a,i,l,c){return e=new sre(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=_a(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},eP(a),e}function are(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function HB(e){if(!e)return sc;e=e._reactInternals;e:{if(Ku(e)!==e||e.tag!==1)throw Error(ze(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ze(171))}if(e.tag===1){var r=e.type;if(Bs(r))return H8(e,r,t)}return t}function KB(e,t,r,n,s,a,i,l,c){return e=yP(r,n,!0,e,s,a,i,l,c),e.context=HB(null),r=e.current,n=xs(),s=Vl(r),a=No(n,s),a.callback=t??null,ql(r,a,s),e.current.lanes=s,hy(e,s,n),Us(e,n),e}function bw(e,t,r,n){var s=t.current,a=xs(),i=Vl(s);return r=HB(r),t.context===null?t.context=r:t.pendingContext=r,t=No(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ql(s,t,i),e!==null&&(ri(e,s,i,a),k0(e,s,i)),i}function px(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function s$(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function vP(e,t){s$(e,t),(e=e.alternate)&&s$(e,t)}function ire(){return null}var GB=typeof reportError=="function"?reportError:function(e){console.error(e)};function xP(e){this._internalRoot=e}ww.prototype.render=xP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ze(409));bw(e,t,null,null)};ww.prototype.unmount=xP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ku(function(){bw(null,e,null,null)}),t[$o]=null}};function ww(e){this._internalRoot=e}ww.prototype.unstable_scheduleHydration=function(e){if(e){var t=k8();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xl.length&&t!==0&&t<xl[r].priority;r++);xl.splice(r,0,e),r===0&&N8(e)}};function bP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _w(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function a$(){}function ore(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=px(i);a.call(u)}}var i=KB(t,n,e,0,null,!1,!1,"",a$);return e._reactRootContainer=i,e[$o]=i.current,qm(e.nodeType===8?e.parentNode:e),ku(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=px(c);l.call(u)}}var c=yP(e,0,!1,null,null,!1,!1,"",a$);return e._reactRootContainer=c,e[$o]=c.current,qm(e.nodeType===8?e.parentNode:e),ku(function(){bw(t,c,r,n)}),c}function Sw(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=px(i);l.call(c)}}bw(t,i,e,s)}else i=ore(r,t,e,s,n);return px(i)}S8=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wp(t.pendingLanes);r!==0&&(FC(t,r|1),Us(t,nn()),!(Xt&6)&&(If=nn()+500,mc()))}break;case 13:ku(function(){var n=Mo(e,1);if(n!==null){var s=xs();ri(n,e,1,s)}}),vP(e,1)}};BC=function(e){if(e.tag===13){var t=Mo(e,134217728);if(t!==null){var r=xs();ri(t,e,134217728,r)}vP(e,134217728)}};j8=function(e){if(e.tag===13){var t=Vl(e),r=Mo(e,t);if(r!==null){var n=xs();ri(r,e,t,n)}vP(e,t)}};k8=function(){return gr};E8=function(e,t){var r=gr;try{return gr=e,t()}finally{gr=r}};ck=function(e,t,r){switch(t){case"input":if(rk(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=hw(n);if(!s)throw Error(ze(90));n8(n),rk(n,s)}}}break;case"textarea":a8(e,r);break;case"select":t=r.value,t!=null&&Gd(e,!!r.multiple,t,!1)}};f8=hP;h8=ku;var lre={usingClientEntryPoint:!1,Events:[my,Od,hw,u8,d8,hP]},up={findFiberByHostInstance:Vc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cre={bundleType:up.bundleType,version:up.version,rendererPackageName:up.rendererPackageName,rendererConfig:up.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ho.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=g8(e),e===null?null:e.stateNode},findFiberByHostInstance:up.findFiberByHostInstance||ire,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bv.isDisabled&&bv.supportsFiber)try{cw=bv.inject(cre),$i=bv}catch{}}la.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lre;la.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bP(t))throw Error(ze(200));return are(e,t,null,r)};la.createRoot=function(e,t){if(!bP(e))throw Error(ze(299));var r=!1,n="",s=GB;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=yP(e,1,!1,null,null,r,!1,n,s),e[$o]=t.current,qm(e.nodeType===8?e.parentNode:e),new xP(t)};la.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ze(188)):(e=Object.keys(e).join(","),Error(ze(268,e)));return e=g8(t),e=e===null?null:e.stateNode,e};la.flushSync=function(e){return ku(e)};la.hydrate=function(e,t,r){if(!_w(t))throw Error(ze(200));return Sw(null,e,t,!0,r)};la.hydrateRoot=function(e,t,r){if(!bP(e))throw Error(ze(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=GB;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=KB(t,null,e,1,r??null,s,!1,a,i),e[$o]=t.current,qm(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ww(t)};la.render=function(e,t,r){if(!_w(t))throw Error(ze(200));return Sw(null,e,t,!1,r)};la.unmountComponentAtNode=function(e){if(!_w(e))throw Error(ze(40));return e._reactRootContainer?(ku(function(){Sw(null,null,e,!1,function(){e._reactRootContainer=null,e[$o]=null})}),!0):!1};la.unstable_batchedUpdates=hP;la.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!_w(r))throw Error(ze(200));if(e==null||e._reactInternals===void 0)throw Error(ze(38));return Sw(e,t,r,!1,n)};la.version="18.3.1-next-f1338f8080-20240426";function YB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YB)}catch(e){console.error(e)}}YB(),Y6.exports=la;var Gu=Y6.exports;const yy=wr(Gu);var i$=Gu;Yj.createRoot=i$.createRoot,Yj.hydrateRoot=i$.hydrateRoot;var mx=["light","dark"],wP="(prefers-color-scheme: dark)",ure=typeof window>"u",_P=m.createContext(void 0),dre={setTheme:e=>{},themes:[]},Ko=()=>{var e;return(e=m.useContext(_P))!=null?e:dre},fre=e=>m.useContext(_P)?e.children:m.createElement(pre,{...e}),hre=["light","dark"],pre=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:a=hre,defaultTheme:i=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=m.useState(()=>o$(s,i)),[g,v]=m.useState(()=>o$(s)),p=c?Object.values(c):a,y=m.useCallback(_=>{let S=_;if(!S)return;_==="system"&&r&&(S=l$());let E=c?c[S]:S,k=t?gre():null,j=document.documentElement;if(l==="class"?(j.classList.remove(...p),E&&j.classList.add(E)):E?j.setAttribute(l,E):j.removeAttribute(l),n){let N=mx.includes(i)?i:null,C=mx.includes(S)?S:N;j.style.colorScheme=C}k==null||k()},[]),x=m.useCallback(_=>{let S=typeof _=="function"?_(_):_;h(S);try{localStorage.setItem(s,S)}catch{}},[e]),b=m.useCallback(_=>{let S=l$(_);v(S),f==="system"&&r&&!e&&y("system")},[f,e]);m.useEffect(()=>{let _=window.matchMedia(wP);return _.addListener(b),b(_),()=>_.removeListener(b)},[b]),m.useEffect(()=>{let _=S=>{if(S.key!==s)return;let E=S.newValue||i;x(E)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[x]),m.useEffect(()=>{y(e??f)},[e,f]);let w=m.useMemo(()=>({theme:f,setTheme:x,forcedTheme:e,resolvedTheme:f==="system"?g:f,themes:r?[...a,"system"]:a,systemTheme:r?g:void 0}),[f,x,e,g,r,a]);return m.createElement(_P.Provider,{value:w},m.createElement(mre,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:s,themes:a,defaultTheme:i,attribute:l,value:c,children:u,attrs:p,nonce:d}),u)},mre=m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?mx.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,p=!1,y=!0)=>{let x=i?i[v]:v,b=p?v+"|| ''":`'${x}'`,w="";return s&&y&&!p&&mx.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?p||x?w+=`c.add(${b})`:w+="null":x&&(w+=`d[s](n,${b})`),w},g=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${wP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})}),o$=(e,t)=>{if(ure)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},gre=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},l$=e=>(e||(e=window.matchMedia(wP)),e.matches?"dark":"light"),ye=typeof window<"u"?window:void 0,Wn=typeof globalThis<"u"?globalThis:ye;typeof self>"u"&&(Wn.self=Wn),typeof File>"u"&&(Wn.File=function(){});var JB=Array.prototype,c$=JB.forEach,u$=JB.indexOf,ra=Wn==null?void 0:Wn.navigator,nt=Wn==null?void 0:Wn.document,Ts=Wn==null?void 0:Wn.location,zk=Wn==null?void 0:Wn.fetch,qk=Wn!=null&&Wn.XMLHttpRequest&&"withCredentials"in new Wn.XMLHttpRequest?Wn.XMLHttpRequest:void 0,d$=Wn==null?void 0:Wn.AbortController,Cs=ra==null?void 0:ra.userAgent,Et=ye??{},fo={DEBUG:!1,LIB_VERSION:"1.307.2"};function f$(e,t,r,n,s,a,i){try{var l=e[a](i),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,s)}function h$(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var a=e.apply(t,r);function i(c){f$(a,n,s,i,l,"next",c)}function l(c){f$(a,n,s,i,l,"throw",c)}i(void 0)})}}function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pt.apply(null,arguments)}function XB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yre=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],p$=function(e,t){if(t===void 0&&(t=[]),!e)return!1;var r=e.toLowerCase();return yre.concat(t).some(n=>{var s=n.toLowerCase();return r.indexOf(s)!==-1})},vre=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function qt(e,t){return e.indexOf(t)!==-1}var jw=function(e){return e.trim()},Wk=function(e){return e.replace(/^\$/,"")},xre=Array.isArray,QB=Object.prototype,ZB=QB.hasOwnProperty,kw=QB.toString,lr=xre||function(e){return kw.call(e)==="[object Array]"},Kl=e=>typeof e=="function",Rn=e=>e===Object(e)&&!lr(e),Fd=e=>{if(Rn(e)){for(var t in e)if(ZB.call(e,t))return!1;return!0}return!1},Qe=e=>e===void 0,jn=e=>kw.call(e)=="[object String]",Vk=e=>jn(e)&&e.trim().length===0,di=e=>e===null,sr=e=>Qe(e)||di(e),Ki=e=>kw.call(e)=="[object Number]",Co=e=>kw.call(e)==="[object Boolean]",bre=e=>e instanceof FormData,wre=e=>qt(vre,e);function Hk(e){return e===null||typeof e!="object"}function gx(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function eU(e){return!Qe(Event)&&function(t,r){try{return t instanceof r}catch{return!1}}(e,Event)}var _re=[!0,"true",1,"1","yes"],J_=e=>qt(_re,e),Sre=[!1,"false",0,"0","no"];function Ci(e,t,r,n,s){return t>r&&(n.warn("min cannot be greater than max."),t=r),Ki(e)?e>r?(n.warn(" cannot be  greater than max: "+r+". Using max value instead."),r):e<t?(n.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(n.warn(" must be a number. using max or fallback. max: "+r+", fallback: "+s),Ci(s||r,t,r,n))}class jre{constructor(t){this.t={},this.i=t.i,this.o=Ci(t.bucketSize,0,100,t.h),this.m=Ci(t.refillRate,0,this.o,t.h),this.S=Ci(t.refillInterval,0,864e5,t.h)}$(t,r){var n=r-t.lastAccess,s=Math.floor(n/this.S);if(s>0){var a=s*this.m;t.tokens=Math.min(t.tokens+a,this.o),t.lastAccess=t.lastAccess+s*this.S}}consumeRateLimit(t){var r,n=Date.now(),s=String(t),a=this.t[s];return a?this.$(a,n):(a={tokens:this.o,lastAccess:n},this.t[s]=a),a.tokens===0||(a.tokens--,a.tokens===0&&((r=this.i)==null||r.call(this,t)),a.tokens===0)}stop(){this.t={}}}var wv,m$,X_,kre=e=>e instanceof Error;function Ere(e){var t=globalThis._posthogChunkIds;if(t){var r=Object.keys(t);return X_&&r.length===m$||(m$=r.length,X_=r.reduce((n,s)=>{wv||(wv={});var a=wv[s];if(a)n[a[0]]=a[1];else for(var i=e(s),l=i.length-1;l>=0;l--){var c=i[l],u=c==null?void 0:c.filename,d=t[s];if(u&&d){n[u]=d,wv[s]=[u,d];break}}return n},{})),X_}}class Nre{constructor(t,r,n){n===void 0&&(n=[]),this.coercers=t,this.stackParser=r,this.modifiers=n}buildFromUnknown(t,r){r===void 0&&(r={});var n=r&&r.mechanism||{handled:!0,type:"generic"},s=this.buildCoercingContext(n,r,0).apply(t),a=this.buildParsingContext(),i=this.parseStacktrace(s,a);return{$exception_list:this.convertToExceptionList(i,n),$exception_level:"error"}}modifyFrames(t){var r=this;return h$(function*(){for(var n of t)n.stacktrace&&n.stacktrace.frames&&lr(n.stacktrace.frames)&&(n.stacktrace.frames=yield r.applyModifiers(n.stacktrace.frames));return t})()}coerceFallback(t){var r;return{type:"Error",value:"Unknown error",stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}}parseStacktrace(t,r){var n,s;return t.cause!=null&&(n=this.parseStacktrace(t.cause,r)),t.stack!=""&&t.stack!=null&&(s=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),r.chunkIdMap)),pt({},t,{cause:n,stack:s})}applyChunkIds(t,r){return t.map(n=>(n.filename&&r&&(n.chunk_id=r[n.filename]),n))}applyCoercers(t,r){for(var n of this.coercers)if(n.match(t))return n.coerce(t,r);return this.coerceFallback(r)}applyModifiers(t){var r=this;return h$(function*(){var n=t;for(var s of r.modifiers)n=yield s(n);return n})()}convertToExceptionList(t,r){var n,s,a,i={type:t.type,value:t.value,mechanism:{type:(n=r.type)!==null&&n!==void 0?n:"generic",handled:(s=r.handled)===null||s===void 0||s,synthetic:(a=t.synthetic)!==null&&a!==void 0&&a}};t.stack&&(i.stacktrace={type:"raw",frames:t.stack});var l=[i];return t.cause!=null&&l.push(...this.convertToExceptionList(t.cause,pt({},r,{handled:!0}))),l}buildParsingContext(){return{chunkIdMap:Ere(this.stackParser)}}buildCoercingContext(t,r,n){n===void 0&&(n=0);var s=(a,i)=>{if(i<=4){var l=this.buildCoercingContext(t,r,i);return this.applyCoercers(a,l)}};return pt({},r,{syntheticException:n==0?r.syntheticException:void 0,mechanism:t,apply:a=>s(a,n),next:a=>s(a,n+1)})}}var Lf="?";function Kk(e,t,r,n,s){var a={platform:e,filename:t,function:r==="<anonymous>"?Lf:r,in_app:!0};return Qe(n)||(a.lineno=n),Qe(s)||(a.colno=s),a}var tU=(e,t)=>{var r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:Lf,r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},Cre=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Pre=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Are=/\((\S*)(?::(\d+))(?::(\d+))\)/,Tre=(e,t)=>{var r=Cre.exec(e);if(r){var[,n,s,a]=r;return Kk(t,n,Lf,+s,+a)}var i=Pre.exec(e);if(i){if(i[2]&&i[2].indexOf("eval")===0){var l=Are.exec(i[2]);l&&(i[2]=l[1],i[3]=l[2],i[4]=l[3])}var[c,u]=tU(i[1]||Lf,i[2]);return Kk(t,u,c,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}},Ore=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Rre=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,$re=(e,t)=>{var r=Ore.exec(e);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){var n=Rre.exec(r[3]);n&&(r[1]=r[1]||"eval",r[3]=n[1],r[4]=n[2],r[5]="")}var s=r[3],a=r[1]||Lf;return[a,s]=tU(a,s),Kk(t,s,a,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}},g$=/\(error: (.*)\)/,y$=50;function Mre(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(s,a){a===void 0&&(a=0);for(var i=[],l=s.split(`
`),c=a;c<l.length;c++){var u=l[c];if(!(u.length>1024)){var d=g$.test(u)?u.replace(g$,"$1"):u;if(!d.match(/\S*Error: /)){for(var f of r){var h=f(d,e);if(h){i.push(h);break}}if(i.length>=y$)break}}}return function(g){if(!g.length)return[];var v=Array.from(g);return v.reverse(),v.slice(0,y$).map(p=>{return pt({},p,{filename:p.filename||(y=v,y[y.length-1]||{}).filename,function:p.function||Lf});var y})}(i)}}class Ire{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,r){var n=jn(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:n?t.stack:void 0,cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?"DOMError":"DOMException"}getValue(t){var r=t.name||(this.isDOMError(t)?"DOMError":"DOMException");return t.message?r+": "+t.message:r}isDOMException(t){return gx(t,"DOMException")}isDOMError(t){return gx(t,"DOMError")}}class Lre{match(t){return(r=>r instanceof Error)(t)}coerce(t,r){return{type:this.getType(t),value:this.getMessage(t,r),stack:this.getStack(t),cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,r){var n=t.message;return n.error&&typeof n.error.message=="string"?String(n.error.message):String(n)}getStack(t){return t.stacktrace||t.stack||void 0}}let Dre=class{constructor(){}match(t){return gx(t,"ErrorEvent")&&t.error!=null}coerce(t,r){var n,s=r.apply(t.error);return s||{type:"ErrorEvent",value:t.message,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}};var Fre=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class Bre{match(t){return typeof t=="string"}coerce(t,r){var n,[s,a]=this.getInfos(t);return{type:s??"Error",value:a??t,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}getInfos(t){var r="Error",n=t,s=t.match(Fre);return s&&(r=s[1],n=s[2]),[r,n]}}var Ure=["fatal","error","warning","log","info","debug"];function rU(e,t){t===void 0&&(t=40);var r=Object.keys(e);if(r.sort(),!r.length)return"[object has no keys]";for(var n=r.length;n>0;n--){var s=r.slice(0,n).join(", ");if(!(s.length>t))return n===r.length||s.length<=t?s:s.slice(0,t)+"..."}return""}class zre{match(t){return typeof t=="object"&&t!==null}coerce(t,r){var n,s=this.getErrorPropertyFromObject(t);return s?r.apply(s):{type:this.getType(t),value:this.getValue(t),stack:(n=r.syntheticException)==null?void 0:n.stack,level:this.isSeverityLevel(t.level)?t.level:"error",synthetic:!0}}getType(t){return eU(t)?t.constructor.name:"Error"}getValue(t){if("name"in t&&typeof t.name=="string"){var r="'"+t.name+"' captured as exception";return"message"in t&&typeof t.message=="string"&&(r+=" with message: '"+t.message+"'"),r}if("message"in t&&typeof t.message=="string")return t.message;var n=this.getObjectClassName(t);return(n&&n!=="Object"?"'"+n+"'":"Object")+" captured as exception with keys: "+rU(t)}isSeverityLevel(t){return jn(t)&&!Vk(t)&&Ure.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];if(kre(n))return n}}getObjectClassName(t){try{var r=Object.getPrototypeOf(t);return r?r.constructor.name:void 0}catch{return}}}class qre{match(t){return eU(t)}coerce(t,r){var n,s=t.constructor.name;return{type:s,value:s+" captured as exception with keys: "+rU(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class Wre{match(t){return Hk(t)}coerce(t,r){var n;return{type:"Error",value:"Primitive value captured as exception: "+String(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}let Vre=class{match(t){return gx(t,"PromiseRejectionEvent")}coerce(t,r){var n,s=this.getUnhandledRejectionReason(t);return Hk(s)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(s),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}:r.apply(s)}getUnhandledRejectionReason(t){if(Hk(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}};var nU=function(e,t){var{debugEnabled:r}=t===void 0?{}:t,n={k:function(s){if(ye&&(fo.DEBUG||Et.POSTHOG_DEBUG||r)&&!Qe(ye.console)&&ye.console){for(var a=("__rrweb_original__"in ye.console[s])?ye.console[s].__rrweb_original__:ye.console[s],i=arguments.length,l=new Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];a(e,...l)}},info:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];n.k("log",...a)},warn:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];n.k("warn",...a)},error:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];n.k("error",...a)},critical:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];console.error(e,...a)},uninitializedWarning:s=>{n.error("You must initialize PostHog before calling "+s)},createLogger:(s,a)=>nU(e+" "+s,a)};return n},st=nU("[PostHog.js]"),ln=st.createLogger,Hre=ln("[ExternalScriptsLoader]"),v$=(e,t,r)=>{if(e.config.disable_external_dependency_loading)return Hre.warn(t+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var n=nt==null?void 0:nt.querySelectorAll("script");if(n){for(var s,a=function(){if(n[i].src===t){var c=n[i];return c.__posthog_loading_callback_fired?{v:r()}:(c.addEventListener("load",u=>{c.__posthog_loading_callback_fired=!0,r(void 0,u)}),c.onerror=u=>r(u),{v:void 0})}},i=0;i<n.length;i++)if(s=a())return s.v}var l=()=>{if(!nt)return r("document not found");var c=nt.createElement("script");if(c.type="text/javascript",c.crossOrigin="anonymous",c.src=t,c.onload=f=>{c.__posthog_loading_callback_fired=!0,r(void 0,f)},c.onerror=f=>r(f),e.config.prepare_external_dependency_script&&(c=e.config.prepare_external_dependency_script(c)),!c)return r("prepare_external_dependency_script returned null");var u,d=nt.querySelectorAll("body > script");d.length>0?(u=d[0].parentNode)==null||u.insertBefore(c,d[0]):nt.body.appendChild(c)};nt!=null&&nt.body?l():nt==null||nt.addEventListener("DOMContentLoaded",l)};Et.__PosthogExtensions__=Et.__PosthogExtensions__||{},Et.__PosthogExtensions__.loadExternalDependency=(e,t,r)=>{var n="/static/"+t+".js?v="+e.version;if(t==="remote-config"&&(n="/array/"+e.config.token+"/config.js"),t==="toolbar"){var s=3e5;n=n+"&t="+Math.floor(Date.now()/s)*s}var a=e.requestRouter.endpointFor("assets",n);v$(e,a,r)},Et.__PosthogExtensions__.loadSiteApp=(e,t,r)=>{var n=e.requestRouter.endpointFor("api",t);v$(e,n,r)};var yx={};function Gl(e,t,r){if(lr(e)){if(c$&&e.forEach===c$)e.forEach(t,r);else if("length"in e&&e.length===+e.length){for(var n=0,s=e.length;n<s;n++)if(n in e&&t.call(r,e[n],n)===yx)return}}}function Er(e,t,r){if(!sr(e)){if(lr(e))return Gl(e,t,r);if(bre(e)){for(var n of e.entries())if(t.call(r,n[1],n[0])===yx)return}else for(var s in e)if(ZB.call(e,s)&&t.call(r,e[s],s)===yx)return}}var rn=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Gl(r,function(s){for(var a in s)s[a]!==void 0&&(e[a]=s[a])}),e},xh=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Gl(r,function(s){Gl(s,function(a){e.push(a)})}),e};function O0(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n}var x$=function(e){try{return e()}catch{return}},Kre=function(e){return function(){try{for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)}catch(s){st.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),st.critical(s)}}},SP=function(e){var t={};return Er(e,function(r,n){(jn(r)&&r.length>0||Ki(r))&&(t[n]=r)}),t};function Gre(e,t){return r=e,n=a=>jn(a)&&!di(t)?a.slice(0,t):a,s=new Set,function a(i,l){return i!==Object(i)?n?n(i,l):i:s.has(i)?void 0:(s.add(i),lr(i)?(c=[],Gl(i,u=>{c.push(a(u))})):(c={},Er(i,(u,d)=>{s.has(u)||(c[d]=a(u,d))})),c);var c}(r);var r,n,s}var Yre=["herokuapp.com","vercel.app","netlify.app"];function Jre(e){var t=e==null?void 0:e.hostname;if(!jn(t))return!1;var r=t.split(".").slice(-2).join(".");for(var n of Yre)if(r===n)return!1;return!0}function sU(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function hn(e,t,r,n){var{capture:s=!1,passive:a=!0}=n??{};e==null||e.addEventListener(t,r,{capture:s,passive:a})}var aU="$people_distinct_id",Hp="__alias",Kp="__timers",b$="$autocapture_disabled_server_side",Gk="$heatmaps_enabled_server_side",w$="$exception_capture_enabled_server_side",Yk="$error_tracking_suppression_rules",_$="$error_tracking_capture_extension_exceptions",S$="$web_vitals_enabled_server_side",iU="$dead_clicks_enabled_server_side",j$="$web_vitals_allowed_metrics",Q_="$session_recording_remote_config",vx="$sesid",oU="$session_is_sampled",Bd="$enabled_feature_flags",Gp="$early_access_features",Jk="$feature_flag_details",Yp="$stored_person_properties",Mc="$stored_group_properties",Xk="$surveys",_v="$surveys_activated",xx="$flag_call_reported",ho="$user_state",Qk="$client_session_props",Zk="$capture_rate_limit",eE="$initial_campaign_params",tE="$initial_referrer_info",bx="$initial_person_info",wx="$epp",lU="__POSTHOG_TOOLBAR__",dp="$posthog_cookieless",Xre=[aU,Hp,"__cmpns",Kp,"$session_recording_enabled_server_side",Gk,vx,Bd,Yk,ho,Gp,Jk,Mc,Yp,Xk,xx,Qk,Zk,eE,tE,wx,bx,"$conversations_widget_session_id","$conversations_ticket_id","$conversations_widget_state","$conversations_user_traits"];function k$(e){return e instanceof Element&&(e.id===lU||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function Ew(e){return!!e&&e.nodeType===1}function Yl(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function cU(e){return!!e&&e.nodeType===3}function uU(e){return!!e&&e.nodeType===11}function jP(e){return e?jw(e).split(/\s+/):[]}function E$(e){var t=ye==null?void 0:ye.location.href;return!!(t&&e&&e.some(r=>t.match(r)))}function _x(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return jP(t)}function dU(e){return sr(e)?null:jw(e).split(/(\s+)/).filter(t=>Qm(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function vy(e){var t="";return rE(e)&&!gU(e)&&e.childNodes&&e.childNodes.length&&Er(e.childNodes,function(r){var n;cU(r)&&r.textContent&&(t+=(n=dU(r.textContent))!==null&&n!==void 0?n:"")}),jw(t)}function fU(e){return Qe(e.target)?e.srcElement||null:(t=e.target)!=null&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var kP=["a","button","form","input","select","textarea","label"];function hU(e,t){if(Qe(t))return!0;var r,n=function(a){if(t.some(i=>a.matches(i)))return{v:!0}};for(var s of e)if(r=n(s))return r.v;return!1}function pU(e){var t=e.parentNode;return!(!t||!Ew(t))&&t}var Qre=["next","previous","prev",">","<"],N$=10,C$=[".ph-no-rageclick",".ph-no-capture"];function Zre(e,t){if(!ye||EP(e))return!1;var r,n,s;if(Co(t)?(r=!!t&&C$,n=void 0):(r=(s=t==null?void 0:t.css_selector_ignorelist)!==null&&s!==void 0?s:C$,n=t==null?void 0:t.content_ignorelist),r===!1)return!1;var{targetElementList:a}=mU(e,!1);return!function(i,l){if(i===!1||Qe(i))return!1;var c;if(i===!0)c=Qre;else{if(!lr(i))return!1;if(i.length>N$)return st.error("[PostHog] content_ignorelist array cannot exceed "+N$+" items. Use css_selector_ignorelist for more complex matching."),!1;c=i.map(u=>u.toLowerCase())}return l.some(u=>{var{safeText:d,ariaLabel:f}=u;return c.some(h=>d.includes(h)||f.includes(h))})}(n,a.map(i=>{var l;return{safeText:vy(i).toLowerCase(),ariaLabel:((l=i.getAttribute("aria-label"))==null?void 0:l.toLowerCase().trim())||""}}))&&!hU(a,r)}var EP=e=>!e||Yl(e,"html")||!Ew(e),mU=(e,t)=>{if(!ye||EP(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,n=[e],s=e;s.parentNode&&!Yl(s,"body");)if(uU(s.parentNode))n.push(s.parentNode.host),s=s.parentNode.host;else{var a=pU(s);if(!a)break;if(t||kP.indexOf(a.tagName.toLowerCase())>-1)r=!0;else{var i=ye.getComputedStyle(a);i&&i.getPropertyValue("cursor")==="pointer"&&(r=!0)}n.push(a),s=a}return{parentIsUsefulElement:r,targetElementList:n}};function ene(e,t,r,n,s){var a,i,l,c;if(r===void 0&&(r=void 0),!ye||EP(e)||(a=r)!=null&&a.url_allowlist&&!E$(r.url_allowlist)||(i=r)!=null&&i.url_ignorelist&&E$(r.url_ignorelist))return!1;if((l=r)!=null&&l.dom_event_allowlist){var u=r.dom_event_allowlist;if(u&&!u.some(v=>t.type===v))return!1}var{parentIsUsefulElement:d,targetElementList:f}=mU(e,n);if(!function(v,p){var y=p==null?void 0:p.element_allowlist;if(Qe(y))return!0;var x,b=function(_){if(y.some(S=>_.tagName.toLowerCase()===S))return{v:!0}};for(var w of v)if(x=b(w))return x.v;return!1}(f,r)||!hU(f,(c=r)==null?void 0:c.css_selector_allowlist))return!1;var h=ye.getComputedStyle(e);if(h&&h.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(s||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(s||["change","click"]).indexOf(t.type)>=0;default:return d?(s||["click"]).indexOf(t.type)>=0:(s||["click"]).indexOf(t.type)>=0&&(kP.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function rE(e){for(var t=e;t.parentNode&&!Yl(t,"body");t=t.parentNode){var r=_x(t);if(qt(r,"ph-sensitive")||qt(r,"ph-no-capture"))return!1}if(qt(_x(e),"ph-include"))return!0;var n=e.type||"";if(jn(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var s=e.name||e.id||"";return!(jn(s)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,"")))}function gU(e){return!!(Yl(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Yl(e,"select")||Yl(e,"textarea")||e.getAttribute("contenteditable")==="true")}var yU="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",tne=new RegExp("^(?:"+yU+")$"),rne=new RegExp(yU),vU="\\d{3}-?\\d{2}-?\\d{4}",nne=new RegExp("^("+vU+")$"),sne=new RegExp("("+vU+")");function Qm(e,t){return t===void 0&&(t=!0),!(sr(e)||jn(e)&&(e=jw(e),(t?tne:rne).test((e||"").replace(/[- ]/g,""))||(t?nne:sne).test(e)))}function xU(e){var t=vy(e);return Qm(t=(t+" "+bU(e)).trim())?t:""}function bU(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Er(e.childNodes,function(r){var n;if(r&&((n=r.tagName)==null?void 0:n.toLowerCase())==="span")try{var s=vy(r);t=(t+" "+s).trim(),r.childNodes&&r.childNodes.length&&(t=(t+" "+bU(r)).trim())}catch(a){st.error("[AutoCapture]",a)}}),t}function ane(e){return function(t){var r=t.map(n=>{var s,a,i="";if(n.tag_name&&(i+=n.tag_name),n.attr_class)for(var l of(n.attr_class.sort(),n.attr_class))i+="."+l.replace(/"/g,"");var c=pt({},n.text?{text:n.text}:{},{"nth-child":(s=n.nth_child)!==null&&s!==void 0?s:0,"nth-of-type":(a=n.nth_of_type)!==null&&a!==void 0?a:0},n.href?{href:n.href}:{},n.attr_id?{attr_id:n.attr_id}:{},n.attributes),u={};return O0(c).sort((d,f)=>{var[h]=d,[g]=f;return h.localeCompare(g)}).forEach(d=>{var[f,h]=d;return u[P$(f.toString())]=P$(h.toString())}),i+=":",i+=O0(u).map(d=>{var[f,h]=d;return f+'="'+h+'"'}).join("")});return r.join(";")}(function(t){return t.map(r=>{var n,s,a={text:(n=r.$el_text)==null?void 0:n.slice(0,400),tag_name:r.tag_name,href:(s=r.attr__href)==null?void 0:s.slice(0,2048),attr_class:ine(r),attr_id:r.attr__id,nth_child:r.nth_child,nth_of_type:r.nth_of_type,attributes:{}};return O0(r).filter(i=>{var[l]=i;return l.indexOf("attr__")===0}).forEach(i=>{var[l,c]=i;return a.attributes[l]=c}),a})}(e))}function P$(e){return e.replace(/"|\\"/g,'\\"')}function ine(e){var t=e.attr__class;return t?lr(t)?t:jP(t):void 0}let wU=class{constructor(t){this.disabled=t===!1;var r=Rn(t)?t:{};this.thresholdPx=r.threshold_px||30,this.timeoutMs=r.timeout_ms||1e3,this.clickCount=r.click_count||3,this.clicks=[]}isRageClick(t,r,n){if(this.disabled)return!1;var s=this.clicks[this.clicks.length-1];if(s&&Math.abs(t-s.x)+Math.abs(r-s.y)<this.thresholdPx&&n-s.timestamp<this.timeoutMs){if(this.clicks.push({x:t,y:r,timestamp:n}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:t,y:r,timestamp:n}];return!1}};var Z_="$copy_autocapture",vo=function(e){return e.GZipJS="gzip-js",e.Base64="base64",e}({}),Sx=e=>{var t=nt==null?void 0:nt.createElement("a");return Qe(t)?null:(t.href=e,t)},one=function(e,t){var r,n;t===void 0&&(t="&");var s=[];return Er(e,function(a,i){Qe(a)||Qe(i)||i==="undefined"||(r=encodeURIComponent((l=>l instanceof File)(a)?a.name:a.toString()),n=encodeURIComponent(i),s[s.length]=n+"="+r)}),s.join(t)},jx=function(e,t){for(var r,n=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),s=0;s<n.length;s++){var a=n[s].split("=");if(a[0]===t){r=a;break}}if(!lr(r)||r.length<2)return"";var i=r[1];try{i=decodeURIComponent(i)}catch{st.error("Skipping decoding for malformed query param: "+i)}return i.replace(/\+/g," ")},xy=function(e,t,r){if(!e||!t||!t.length)return e;for(var n=e.split("#"),s=n[0]||"",a=n[1],i=s.split("?"),l=i[1],c=i[0],u=(l||"").split("&"),d=[],f=0;f<u.length;f++){var h=u[f].split("=");lr(h)&&(t.includes(h[0])?d.push(h[0]+"="+r):d.push(u[f]))}var g=c;return l!=null&&(g+="?"+d.join("&")),a!=null&&(g+="#"+a),g},kx=function(e,t){var r=e.match(new RegExp(t+"=([^&]*)"));return r?r[1]:null},A$=ln("[AutoCapture]");function eS(e,t){return t.length>e?t.slice(0,e)+"...":t}function lne(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!Ew(t));return t}function cne(e,t,r,n){var s=e.tagName.toLowerCase(),a={tag_name:s};kP.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?a.$el_text=eS(1024,xU(e)):a.$el_text=eS(1024,vy(e)));var i=_x(e);i.length>0&&(a.classes=i.filter(function(d){return d!==""})),Er(e.attributes,function(d){var f;if((!gU(e)||["name","id","class","aria-label"].indexOf(d.name)!==-1)&&(n==null||!n.includes(d.name))&&!t&&Qm(d.value)&&(f=d.name,!jn(f)||f.substring(0,10)!=="_ngcontent"&&f.substring(0,7)!=="_nghost")){var h=d.value;d.name==="class"&&(h=jP(h).join(" ")),a["attr__"+d.name]=eS(1024,h)}});for(var l=1,c=1,u=e;u=lne(u);)l++,u.tagName===e.tagName&&c++;return a.nth_child=l,a.nth_of_type=c,a}function une(e,t){for(var r,n,{e:s,maskAllElementAttributes:a,maskAllText:i,elementAttributeIgnoreList:l,elementsChainAsString:c}=t,u=[e],d=e;d.parentNode&&!Yl(d,"body");)uU(d.parentNode)?(u.push(d.parentNode.host),d=d.parentNode.host):(u.push(d.parentNode),d=d.parentNode);var f,h=[],g={},v=!1,p=!1;if(Er(u,_=>{var S=rE(_);_.tagName.toLowerCase()==="a"&&(v=_.getAttribute("href"),v=S&&v&&Qm(v)&&v),qt(_x(_),"ph-no-capture")&&(p=!0),h.push(cne(_,a,i,l));var E=function(k){if(!rE(k))return{};var j={};return Er(k.attributes,function(N){if(N.name&&N.name.indexOf("data-ph-capture-attribute")===0){var C=N.name.replace("data-ph-capture-attribute-",""),A=N.value;C&&A&&Qm(A)&&(j[C]=A)}}),j}(_);rn(g,E)}),p)return{props:{},explicitNoCapture:p};if(i||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?h[0].$el_text=xU(e):h[0].$el_text=vy(e)),v){var y,x;h[0].attr__href=v;var b=(y=Sx(v))==null?void 0:y.host,w=ye==null||(x=ye.location)==null?void 0:x.host;b&&w&&b!==w&&(f=v)}return{props:rn({$event_type:s.type,$ce_version:1},c?{}:{$elements:h},{$elements_chain:ane(h)},(r=h[0])!=null&&r.$el_text?{$el_text:(n=h[0])==null?void 0:n.$el_text}:{},f&&s.type==="click"?{$external_click_url:f}:{},g)}}class dne{constructor(t){this.P=!1,this.T=null,this.C=!1,this.instance=t,this.rageclicks=new wU(t.config.rageclick),this.R=null}get I(){var t,r,n=Rn(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)==null?void 0:t.map(s=>new RegExp(s)),n.url_ignorelist=(r=n.url_ignorelist)==null?void 0:r.map(s=>new RegExp(s)),n}F(){if(this.isBrowserSupported()){if(ye&&nt){var t=n=>{n=n||(ye==null?void 0:ye.event);try{this.M(n)}catch(s){A$.error("Failed to capture event",s)}};if(hn(nt,"submit",t,{capture:!0}),hn(nt,"change",t,{capture:!0}),hn(nt,"click",t,{capture:!0}),this.I.capture_copied_text){var r=n=>{n=n||(ye==null?void 0:ye.event),this.M(n,Z_)};hn(nt,"copy",r,{capture:!0}),hn(nt,"cut",r,{capture:!0})}}}else A$.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.F(),this.P=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.C=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[b$]:!!t.autocapture_opt_out}),this.T=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.R=t}getElementSelectors(t){var r,n=[];return(r=this.R)==null||r.forEach(s=>{var a=nt==null?void 0:nt.querySelectorAll(s);a==null||a.forEach(i=>{t===i&&n.push(s)})}),n}get isEnabled(){var t,r,n=(t=this.instance.persistence)==null?void 0:t.props[b$],s=this.T;if(di(s)&&!Co(n)&&!this.instance.O())return!1;var a=(r=this.T)!==null&&r!==void 0?r:!!n;return!!this.instance.config.autocapture&&!a}M(t,r){if(r===void 0&&(r="$autocapture"),this.isEnabled){var n,s=fU(t);cU(s)&&(s=s.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,t.timeStamp||new Date().getTime())&&Zre(s,this.instance.config.rageclick)&&this.M(t,"$rageclick");var a=r===Z_;if(s&&ene(s,t,this.I,a,a?["copy","cut"]:void 0)){var{props:i,explicitNoCapture:l}=une(s,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.I.element_attribute_ignorelist,elementsChainAsString:this.C});if(l)return!1;var c=this.getElementSelectors(s);if(c&&c.length>0&&(i.$element_selectors=c),r===Z_){var u,d=dU(ye==null||(u=ye.getSelection())==null?void 0:u.toString()),f=t.type||"clipboard";if(!d)return!1;i.$selected_content=d,i.$copy_type=f}return this.instance.capture(r,i),!0}}}isBrowserSupported(){return Kl(nt==null?void 0:nt.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Ki(e)&&isFinite(e)&&Math.floor(e)===e});var T$="0123456789abcdef";class Ex{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,r,n,s){if(!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(s)||t<0||r<0||n<0||s<0||t>0xffffffffffff||r>4095||n>1073741823||s>4294967295)throw new RangeError("invalid field value");var a=new Uint8Array(16);return a[0]=t/Math.pow(2,40),a[1]=t/Math.pow(2,32),a[2]=t/Math.pow(2,24),a[3]=t/Math.pow(2,16),a[4]=t/Math.pow(2,8),a[5]=t,a[6]=112|r>>>8,a[7]=r,a[8]=128|n>>>24,a[9]=n>>>16,a[10]=n>>>8,a[11]=n,a[12]=s>>>24,a[13]=s>>>16,a[14]=s>>>8,a[15]=s,new Ex(a)}toString(){for(var t="",r=0;r<this.bytes.length;r++)t=t+T$.charAt(this.bytes[r]>>>4)+T$.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new Ex(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var r=0;r<16;r++){var n=this.bytes[r]-t.bytes[r];if(n!==0)return Math.sign(n)}return 0}}class fne{constructor(){this.A=0,this.D=0,this.j=new hne}generate(){var t=this.generateOrAbort();if(Qe(t)){this.A=0;var r=this.generateOrAbort();if(Qe(r))throw new Error("Could not generate UUID after timestamp reset");return r}return t}generateOrAbort(){var t=Date.now();if(t>this.A)this.A=t,this.L();else{if(!(t+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return Ex.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var O$,_U=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};ye&&!Qe(ye.crypto)&&crypto.getRandomValues&&(_U=e=>crypto.getRandomValues(e));class hne{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(_U(this.N),this.U=0),this.N[this.U++]}}var $l=()=>pne().toString(),pne=()=>(O$||(O$=new fne)).generate(),fp="",mne=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function gne(e,t){if(t){var r=function(s,a){if(a===void 0&&(a=nt),fp)return fp;if(!a||["localhost","127.0.0.1"].includes(s))return"";for(var i=s.split("."),l=Math.min(i.length,8),c="dmn_chk_"+$l();!fp&&l--;){var u=i.slice(l).join("."),d=c+"=1;domain=."+u+";path=/";a.cookie=d+";max-age=3",a.cookie.includes(c)&&(a.cookie=d+";max-age=0",fp=u)}return fp}(e);if(!r){var n=(s=>{var a=s.match(mne);return a?a[0]:""})(e);n!==r&&st.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var Ii={H:()=>!!nt,B:function(e){st.error("cookieStore error: "+e)},q:function(e){if(nt){try{for(var t=e+"=",r=nt.cookie.split(";").filter(a=>a.length),n=0;n<r.length;n++){for(var s=r[n];s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return decodeURIComponent(s.substring(t.length,s.length))}}catch{}return null}},W:function(e){var t;try{t=JSON.parse(Ii.q(e))||{}}catch{}return t},G:function(e,t,r,n,s){if(nt)try{var a="",i="",l=gne(nt.location.hostname,n);if(r){var c=new Date;c.setTime(c.getTime()+24*r*60*60*1e3),a="; expires="+c.toUTCString()}s&&(i="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+a+"; SameSite=Lax; path=/"+l+i;return u.length>3686.4&&st.warn("cookieStore warning: large cookie, len="+u.length),nt.cookie=u,u}catch{return}},V:function(e,t){if(nt!=null&&nt.cookie)try{Ii.G(e,"",-1,t)}catch{return}}},tS=null,qr={H:function(){if(!di(tS))return tS;var e=!0;if(Qe(ye))e=!1;else try{var t="__mplssupport__";qr.G(t,"xyz"),qr.q(t)!=='"xyz"'&&(e=!1),qr.V(t)}catch{e=!1}return e||st.error("localStorage unsupported; falling back to cookie store"),tS=e,e},B:function(e){st.error("localStorage error: "+e)},q:function(e){try{return ye==null?void 0:ye.localStorage.getItem(e)}catch(t){qr.B(t)}return null},W:function(e){try{return JSON.parse(qr.q(e))||{}}catch{}return null},G:function(e,t){try{ye==null||ye.localStorage.setItem(e,JSON.stringify(t))}catch(r){qr.B(r)}},V:function(e){try{ye==null||ye.localStorage.removeItem(e)}catch(t){qr.B(t)}}},yne=["distinct_id",vx,oU,wx,bx],Sv=pt({},qr,{W:function(e){try{var t={};try{t=Ii.W(e)||{}}catch{}var r=rn(t,JSON.parse(qr.q(e)||"{}"));return qr.G(e,r),r}catch{}return null},G:function(e,t,r,n,s,a){try{qr.G(e,t,void 0,void 0,a);var i={};yne.forEach(l=>{t[l]&&(i[l]=t[l])}),Object.keys(i).length&&Ii.G(e,i,r,n,s,a)}catch(l){qr.B(l)}},V:function(e,t){try{ye==null||ye.localStorage.removeItem(e),Ii.V(e,t)}catch(r){qr.B(r)}}}),jv={},vne={H:function(){return!0},B:function(e){st.error("memoryStorage error: "+e)},q:function(e){return jv[e]||null},W:function(e){return jv[e]||null},G:function(e,t){jv[e]=t},V:function(e){delete jv[e]}},Ec=null,zn={H:function(){if(!di(Ec))return Ec;if(Ec=!0,Qe(ye))Ec=!1;else try{var e="__support__";zn.G(e,"xyz"),zn.q(e)!=='"xyz"'&&(Ec=!1),zn.V(e)}catch{Ec=!1}return Ec},B:function(e){st.error("sessionStorage error: ",e)},q:function(e){try{return ye==null?void 0:ye.sessionStorage.getItem(e)}catch(t){zn.B(t)}return null},W:function(e){try{return JSON.parse(zn.q(e))||null}catch{}return null},G:function(e,t){try{ye==null||ye.sessionStorage.setItem(e,JSON.stringify(t))}catch(r){zn.B(r)}},V:function(e){try{ye==null||ye.sessionStorage.removeItem(e)}catch(t){zn.B(t)}}},po=function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e}({});class xne{constructor(t){this._instance=t}get I(){return this._instance.config}get consent(){return this.J()?po.DENIED:this.K}isOptedOut(){return this.I.cookieless_mode==="always"||this.consent===po.DENIED||this.consent===po.PENDING&&(this.I.opt_out_capturing_by_default||this.I.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===po.DENIED}optInOut(t){this.Y.G(this.X,t?1:0,this.I.cookie_expiration,this.I.cross_subdomain_cookie,this.I.secure_cookie)}reset(){this.Y.V(this.X,this.I.cross_subdomain_cookie)}get X(){var{token:t,opt_out_capturing_cookie_prefix:r,consent_persistence_name:n}=this._instance.config;return n||(r?r+t:"__ph_opt_in_out_"+t)}get K(){var t=this.Y.q(this.X);return J_(t)?po.GRANTED:qt(Sre,t)?po.DENIED:po.PENDING}get Y(){if(!this.Z){var t=this.I.opt_out_capturing_persistence_type;this.Z=t==="localStorage"?qr:Ii;var r=t==="localStorage"?Ii:qr;r.q(this.X)&&(this.Z.q(this.X)||this.optInOut(J_(r.q(this.X))),r.V(this.X,this.I.cross_subdomain_cookie))}return this.Z}J(){return!!this.I.respect_dnt&&!!sU([ra==null?void 0:ra.doNotTrack,ra==null?void 0:ra.msDoNotTrack,Et.doNotTrack],t=>J_(t))}}var kv=ln("[Dead Clicks]"),bne=()=>!0,wne=e=>{var t,r=!((t=e.instance.persistence)==null||!t.get_property(iU)),n=e.instance.config.capture_dead_clicks;return Co(n)?n:!!Rn(n)||r};class SU{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(t,r,n){this.instance=t,this.isEnabled=r,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[iU]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it(()=>{this.et()})}it(t){var r,n;(r=Et.__PosthogExtensions__)!=null&&r.initDeadClicksAutocapture&&t(),(n=Et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",s=>{s?kv.error("failed to load script",s):t()})}et(){var t;if(nt){if(!this.tt&&(t=Et.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture){var r=Rn(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};r.__onCapture=this.onCapture,this.tt=Et.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,r),this.tt.start(nt),kv.info("starting...")}}else kv.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,kv.info("stopping..."))}}var hp=ln("[ExceptionAutocapture]");class _ne{constructor(t){var r,n,s;this.rt=()=>{var a;if(ye&&this.isEnabled&&(a=Et.__PosthogExtensions__)!=null&&a.errorWrappingFunctions){var i=Et.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,l=Et.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,c=Et.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.I.capture_unhandled_errors&&(this.st=i(this.captureException.bind(this))),!this.nt&&this.I.capture_unhandled_rejections&&(this.nt=l(this.captureException.bind(this))),!this.ot&&this.I.capture_console_errors&&(this.ot=c(this.captureException.bind(this)))}catch(u){hp.error("failed to start",u),this.lt()}}},this._instance=t,this.ut=!((r=this._instance.persistence)==null||!r.props[w$]),this.I=this.ht(),this.dt=new jre({refillRate:(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&n!==void 0?n:1,bucketSize:(s=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&s!==void 0?s:10,refillInterval:1e4,h:hp}),this.startIfEnabled()}ht(){var t=this._instance.config.capture_exceptions,r={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return Rn(t)?r=pt({},r,t):(Qe(t)?this.ut:t)&&(r=pt({},r,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),r}get isEnabled(){return this.I.capture_console_errors||this.I.capture_unhandled_errors||this.I.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(hp.info("enabled"),this.it(this.rt))}it(t){var r,n;(r=Et.__PosthogExtensions__)!=null&&r.errorWrappingFunctions&&t(),(n=Et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"exception-autocapture",s=>{if(s)return hp.error("failed to load script",s);t()})}lt(){var t,r,n;(t=this.st)==null||t.call(this),this.st=void 0,(r=this.nt)==null||r.call(this),this.nt=void 0,(n=this.ot)==null||n.call(this),this.ot=void 0}onRemoteConfig(t){var r=t.autocaptureExceptions;this.ut=!!r||!1,this.I=this.ht(),this._instance.persistence&&this._instance.persistence.register({[w$]:this.ut}),this.startIfEnabled()}captureException(t){var r,n,s=(r=t==null||(n=t.$exception_list)==null||(n=n[0])==null?void 0:n.type)!==null&&r!==void 0?r:"Exception";this.dt.consumeRateLimit(s)?hp.info("Skipping exception capture because of client rate limiting.",{exception:s}):this._instance.exceptions.sendExceptionEvent(t)}}function R$(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],s=r(n);return Kl(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=s,()=>{e[t]=n}}catch{return()=>{}}}class Sne{constructor(t){var r;this._instance=t,this.vt=(ye==null||(r=ye.location)==null?void 0:r.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(st.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,st.info("History API monitoring stopped")}monitorHistoryChanges(){var t,r;if(ye&&ye.history){var n=this;(t=ye.history.pushState)!=null&&t.__posthog_wrapped__||R$(ye.history,"pushState",s=>function(a,i,l){s.call(this,a,i,l),n.ft("pushState")}),(r=ye.history.replaceState)!=null&&r.__posthog_wrapped__||R$(ye.history,"replaceState",s=>function(a,i,l){s.call(this,a,i,l),n.ft("replaceState")}),this.gt()}}ft(t){try{var r,n=ye==null||(r=ye.location)==null?void 0:r.pathname;if(!n)return;n!==this.vt&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this.vt=n}catch(s){st.error("Error capturing "+t+" pageview",s)}}gt(){if(!this.ct){var t=()=>{this.ft("popstate")};hn(ye,"popstate",t),this.ct=()=>{ye&&ye.removeEventListener("popstate",t)}}}}var rS=ln("[SegmentIntegration]");function jne(e,t){var r=e.config.segment;if(!r)return t();(function(n,s){var a=n.config.segment;if(!a)return s();var i=c=>{var u=()=>c.anonymousId()||$l();n.config.get_device_id=u,c.id()&&(n.register({distinct_id:c.id(),$device_id:u()}),n.persistence.set_property(ho,"identified")),s()},l=a.user();"then"in l&&Kl(l.then)?l.then(c=>i(c)):i(l)})(e,()=>{r.register((n=>{Promise&&Promise.resolve||rS.warn("This browser does not have Promise support, and can not use the segment integration");var s=(a,i)=>{if(!i)return a;a.event.userId||a.event.anonymousId===n.get_distinct_id()||(rS.info("No userId set, resetting PostHog"),n.reset()),a.event.userId&&a.event.userId!==n.get_distinct_id()&&(rS.info("UserId set, identifying with PostHog"),n.identify(a.event.userId));var l=n.calculateEventProperties(i,a.event.properties);return a.event.properties=Object.assign({},l,a.event.properties),a};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:a=>s(a,a.event.event),page:a=>s(a,"$pageview"),identify:a=>s(a,"$identify"),screen:a=>s(a,"$screen")}})(e)).then(()=>{t()})})}var jU="posthog-js";function kU(e,t){var{organization:r,projectId:n,prefix:s,severityAllowList:a=["error"],sendExceptionsToPostHog:i=!0}=t===void 0?{}:t;return l=>{var c,u,d,f,h;if(!(a==="*"||a.includes(l.level))||!e.__loaded)return l;l.tags||(l.tags={});var g=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());l.tags["PostHog Person URL"]=g,e.sessionRecordingStarted()&&(l.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var v=((c=l.exception)==null?void 0:c.values)||[],p=v.map(x=>pt({},x,{stacktrace:x.stacktrace?pt({},x.stacktrace,{type:"raw",frames:(x.stacktrace.frames||[]).map(b=>pt({},b,{platform:"web:javascript"}))}):void 0})),y={$exception_message:((u=v[0])==null?void 0:u.value)||l.message,$exception_type:(d=v[0])==null?void 0:d.type,$exception_level:l.level,$exception_list:p,$sentry_event_id:l.event_id,$sentry_exception:l.exception,$sentry_exception_message:((f=v[0])==null?void 0:f.value)||l.message,$sentry_exception_type:(h=v[0])==null?void 0:h.type,$sentry_tags:l.tags};return r&&n&&(y.$sentry_url=(s||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+l.event_id),i&&e.exceptions.sendExceptionEvent(y),l}}class kne{constructor(t,r,n,s,a,i){this.name=jU,this.setupOnce=function(l){l(kU(t,{organization:r,projectId:n,prefix:s,severityAllowList:a,sendExceptionsToPostHog:i==null||i}))}}}var Ene=ye!=null&&ye.location?kx(ye.location.hash,"__posthog")||kx(location.hash,"state"):null,$$="_postHogToolbarParams",M$=ln("[Toolbar]"),ol=function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e}(ol||{});class Nne{constructor(t){this.instance=t}_t(t){Et.ph_toolbar_state=t}yt(){var t;return(t=Et.ph_toolbar_state)!==null&&t!==void 0?t:ol.UNINITIALIZED}maybeLoadToolbar(t,r,n){if(t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),!ye||!nt)return!1;t=t??ye.location,n=n??ye.history;try{if(!r){try{ye.localStorage.setItem("test","test"),ye.localStorage.removeItem("test")}catch{return!1}r=ye==null?void 0:ye.localStorage}var s,a=Ene||kx(t.hash,"__posthog")||kx(t.hash,"state"),i=a?x$(()=>JSON.parse(atob(decodeURIComponent(a))))||x$(()=>JSON.parse(decodeURIComponent(a))):null;return i&&i.action==="ph_authorize"?((s=i).source="url",s&&Object.keys(s).length>0&&(i.desiredHash?t.hash=i.desiredHash:n?n.replaceState(n.state,"",t.pathname+t.search):t.hash="")):((s=JSON.parse(r.getItem($$)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch{return!1}}bt(t){var r=Et.ph_load_toolbar||Et.ph_load_editor;!sr(r)&&Kl(r)?r(t,this.instance):M$.warn("No toolbar load function found")}loadToolbar(t){var r=!(nt==null||!nt.getElementById(lU));if(!ye||r)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,s=pt({token:this.instance.config.token},t,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(ye.localStorage.setItem($$,JSON.stringify(pt({},s,{source:void 0}))),this.yt()===ol.LOADED)this.bt(s);else if(this.yt()===ol.UNINITIALIZED){var a;this._t(ol.LOADING),(a=Et.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this.instance,"toolbar",i=>{if(i)return M$.error("[Toolbar] Failed to load",i),void this._t(ol.UNINITIALIZED);this._t(ol.LOADED),this.bt(s)}),hn(ye,"turbolinks:load",()=>{this._t(ol.UNINITIALIZED),this.loadToolbar(s)})}return!0}wt(t){return this.loadToolbar(t)}maybeLoadEditor(t,r,n){return t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(t,r,n)}}var Cne=ln("[TracingHeaders]");class Pne{constructor(t){this.xt=void 0,this.Et=void 0,this.rt=()=>{var r,n;Qe(this.xt)&&((r=Et.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),Qe(this.Et)&&((n=Et.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}it(t){var r,n;(r=Et.__PosthogExtensions__)!=null&&r.tracingHeadersPatchFns&&t(),(n=Et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"tracing-headers",s=>{if(s)return Cne.error("failed to load script",s);t()})}startIfEnabledOrStop(){var t,r;this._instance.config.__add_tracing_headers?this.it(this.rt):((t=this.xt)==null||t.call(this),(r=this.Et)==null||r.call(this),this.xt=void 0,this.Et=void 0)}}var Ea="Mobile",Nx="iOS",Pi="Android",Zm="Tablet",EU=Pi+" "+Zm,NU="iPad",CU="Apple",PU=CU+" Watch",eg="Safari",Df="BlackBerry",AU="Samsung",TU=AU+"Browser",OU=AU+" Internet",Eu="Chrome",Ane=Eu+" OS",RU=Eu+" "+Nx,NP="Internet Explorer",$U=NP+" "+Ea,CP="Opera",Tne=CP+" Mini",PP="Edge",MU="Microsoft "+PP,ef="Firefox",IU=ef+" "+Nx,tg="Nintendo",rg="PlayStation",tf="Xbox",LU=Pi+" "+Ea,DU=Ea+" "+eg,Jp="Windows",nE=Jp+" Phone",I$="Nokia",sE="Ouya",FU="Generic",One=FU+" "+Ea.toLowerCase(),BU=FU+" "+Zm.toLowerCase(),aE="Konqueror",cs="(\\d+(\\.\\d+)?)",nS=new RegExp("Version/"+cs),Rne=new RegExp(tf,"i"),$ne=new RegExp(rg+" \\w+","i"),Mne=new RegExp(tg+" \\w+","i"),AP=new RegExp(Df+"|PlayBook|BB10","i"),Ine={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},Lne=(e,t)=>t&&qt(t,CU)||function(r){return qt(r,eg)&&!qt(r,Eu)&&!qt(r,Pi)}(e),UU=function(e,t){return t=t||"",qt(e," OPR/")&&qt(e,"Mini")?Tne:qt(e," OPR/")?CP:AP.test(e)?Df:qt(e,"IE"+Ea)||qt(e,"WPDesktop")?$U:qt(e,TU)?OU:qt(e,PP)||qt(e,"Edg/")?MU:qt(e,"FBIOS")?"Facebook "+Ea:qt(e,"UCWEB")||qt(e,"UCBrowser")?"UC Browser":qt(e,"CriOS")?RU:qt(e,"CrMo")||qt(e,Eu)?Eu:qt(e,Pi)&&qt(e,eg)?LU:qt(e,"FxiOS")?IU:qt(e.toLowerCase(),aE.toLowerCase())?aE:Lne(e,t)?qt(e,Ea)?DU:eg:qt(e,ef)?ef:qt(e,"MSIE")||qt(e,"Trident/")?NP:qt(e,"Gecko")?ef:""},Dne={[$U]:[new RegExp("rv:"+cs)],[MU]:[new RegExp(PP+"?\\/"+cs)],[Eu]:[new RegExp("("+Eu+"|CrMo)\\/"+cs)],[RU]:[new RegExp("CriOS\\/"+cs)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+cs)],[eg]:[nS],[DU]:[nS],[CP]:[new RegExp("(Opera|OPR)\\/"+cs)],[ef]:[new RegExp(ef+"\\/"+cs)],[IU]:[new RegExp("FxiOS\\/"+cs)],[aE]:[new RegExp("Konqueror[:/]?"+cs,"i")],[Df]:[new RegExp(Df+" "+cs),nS],[LU]:[new RegExp("android\\s"+cs,"i")],[OU]:[new RegExp(TU+"\\/"+cs)],[NP]:[new RegExp("(rv:|MSIE )"+cs)],Mozilla:[new RegExp("rv:"+cs)]},Fne=function(e,t){var r=UU(e,t),n=Dne[r];if(Qe(n))return null;for(var s=0;s<n.length;s++){var a=n[s],i=e.match(a);if(i)return parseFloat(i[i.length-2])}return null},L$=[[new RegExp(tf+"; "+tf+" (.*?)[);]","i"),e=>[tf,e&&e[1]||""]],[new RegExp(tg,"i"),[tg,""]],[new RegExp(rg,"i"),[rg,""]],[AP,[Df,""]],[new RegExp(Jp,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[nE,""];if(new RegExp(Ea).test(t)&&!/IEMobile\b/.test(t))return[Jp+" "+Ea,""];var r=/Windows NT ([0-9.]+)/i.exec(t);if(r&&r[1]){var n=r[1],s=Ine[n]||"";return/arm/i.test(t)&&(s="RT"),[Jp,s]}return[Jp,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Nx,t.join(".")]}return[Nx,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=Qe(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Pi+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Pi+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Pi,t.join(".")]}return[Pi,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var r=[e[1],e[2],e[3]||"0"];t[1]=r.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[Ane,""]],[/Linux|debian/i,["Linux",""]]],D$=function(e){return Mne.test(e)?tg:$ne.test(e)?rg:Rne.test(e)?tf:new RegExp(sE,"i").test(e)?sE:new RegExp("("+nE+"|WPDesktop)","i").test(e)?nE:/iPad/.test(e)?NU:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?PU:AP.test(e)?Df:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(I$,"i").test(e)?I$:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Ea).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Pi:EU:Pi:new RegExp("(pda|"+Ea+")","i").test(e)?One:new RegExp(Zm,"i").test(e)&&!new RegExp(Zm+" pc","i").test(e)?BU:""},Ev="https?://(.*)",bh=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],Bne=xh(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],bh),by="<masked>",Une=["li_fat_id"];function zU(e,t,r){if(!nt)return{};var n,s=t?xh([],bh,r||[]):[],a=qU(xy(nt.URL,s,by),e),i=(n={},Er(Une,function(l){var c=Ii.q(l);n[l]=c||null}),n);return rn(i,a)}function qU(e,t){var r=Bne.concat(t||[]),n={};return Er(r,function(s){var a=jx(e,s);n[s]=a||null}),n}function WU(e){var t=function(a){return a?a.search(Ev+"google.([^/?]*)")===0?"google":a.search(Ev+"bing.com")===0?"bing":a.search(Ev+"yahoo.com")===0?"yahoo":a.search(Ev+"duckduckgo.com")===0?"duckduckgo":null:null}(e),r=t!="yahoo"?"q":"p",n={};if(!di(t)){n.$search_engine=t;var s=nt?jx(nt.referrer,r):"";s.length&&(n.ph_keyword=s)}return n}function F$(){return navigator.language||navigator.userLanguage}function VU(){return(nt==null?void 0:nt.referrer)||"$direct"}function HU(e,t){var r=e?xh([],bh,t||[]):[],n=Ts==null?void 0:Ts.href.substring(0,1e3);return{r:VU().substring(0,1e3),u:n?xy(n,r,by):void 0}}function KU(e){var t,{r,u:n}=e,s={$referrer:r,$referring_domain:r==null?void 0:r=="$direct"?"$direct":(t=Sx(r))==null?void 0:t.host};if(n){s.$current_url=n;var a=Sx(n);s.$host=a==null?void 0:a.host,s.$pathname=a==null?void 0:a.pathname;var i=qU(n);rn(s,i)}if(r){var l=WU(r);rn(s,l)}return s}function GU(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function zne(){try{return new Date().getTimezoneOffset()}catch{return}}function qne(e,t){if(!Cs)return{};var r,n,s,a=e?xh([],bh,t||[]):[],[i,l]=function(c){for(var u=0;u<L$.length;u++){var[d,f]=L$[u],h=d.exec(c),g=h&&(Kl(f)?f(h,c):f);if(g)return g}return["",""]}(Cs);return rn(SP({$os:i,$os_version:l,$browser:UU(Cs,navigator.vendor),$device:D$(Cs),$device_type:(n=Cs,s=D$(n),s===NU||s===EU||s==="Kobo"||s==="Kindle Fire"||s===BU?Zm:s===tg||s===tf||s===rg||s===sE?"Console":s===PU?"Wearable":s?Ea:"Desktop"),$timezone:GU(),$timezone_offset:zne()}),{$current_url:xy(Ts==null?void 0:Ts.href,a,by),$host:Ts==null?void 0:Ts.host,$pathname:Ts==null?void 0:Ts.pathname,$raw_user_agent:Cs.length>1e3?Cs.substring(0,997)+"...":Cs,$browser_version:Fne(Cs,navigator.vendor),$browser_language:F$(),$browser_language_prefix:(r=F$(),typeof r=="string"?r.split("-")[0]:void 0),$screen_height:ye==null?void 0:ye.screen.height,$screen_width:ye==null?void 0:ye.screen.width,$viewport_height:ye==null?void 0:ye.innerHeight,$viewport_width:ye==null?void 0:ye.innerWidth,$lib:"web",$lib_version:fo.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var rl=ln("[Web Vitals]"),B$=9e5;class Wne{constructor(t){var r;this.St=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.$t=()=>{clearTimeout(this.kt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce((n,s)=>pt({},n,{["$web_vitals_"+s.name+"_event"]:pt({},s),["$web_vitals_"+s.name+"_value"]:s.value}),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=n=>{var s,a=(s=this._instance.sessionManager)==null?void 0:s.checkAndGetSessionAndWindowId(!0);if(Qe(a))rl.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var i=this.Tt();Qe(i)||(sr(n==null?void 0:n.name)||sr(n==null?void 0:n.value)?rl.error("Invalid metric received",n):this.Ct&&n.value>=this.Ct?rl.error("Ignoring metric with value >= "+this.Ct,n):(this.N.url!==i&&(this.$t(),this.kt=setTimeout(this.$t,this.flushToCaptureTimeoutMs)),Qe(this.N.url)&&(this.N.url=i),this.N.firstMetricTimestamp=Qe(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,n.attribution&&n.attribution.interactionTargetElement&&(n.attribution.interactionTargetElement=void 0),this.N.metrics.push(pt({},n,{$current_url:i,$session_id:a.sessionId,$window_id:a.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.$t()))}},this.rt=()=>{var n,s,a,i,l=Et.__PosthogExtensions__;Qe(l)||Qe(l.postHogWebVitalsCallbacks)||({onLCP:n,onCLS:s,onFCP:a,onINP:i}=l.postHogWebVitalsCallbacks),n&&s&&a&&i?(this.allowedMetrics.indexOf("LCP")>-1&&n(this.Pt.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&s(this.Pt.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&a(this.Pt.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&i(this.Pt.bind(this)),this.P=!0):rl.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.St=!((r=this._instance.persistence)==null||!r.props[S$]),this.startIfEnabled()}get allowedMetrics(){var t,r,n=Rn(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return Qe(n)?((r=this._instance.persistence)==null?void 0:r.props[j$])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(Rn(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Ct(){var t=Rn(this._instance.config.capture_performance)&&Ki(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:B$;return 0<t&&t<=6e4?B$:t}get isEnabled(){var t=Ts==null?void 0:Ts.protocol;if(t!=="http:"&&t!=="https:")return rl.info("Web Vitals are disabled on non-http/https protocols"),!1;var r=Rn(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Co(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Co(r)?r:this.St}startIfEnabled(){this.isEnabled&&!this.P&&(rl.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(t){var r=Rn(t.capturePerformance)&&!!t.capturePerformance.web_vitals,n=Rn(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[S$]:r}),this._instance.persistence.register({[j$]:n})),this.St=r,this.startIfEnabled()}it(t){var r,n;(r=Et.__PosthogExtensions__)!=null&&r.postHogWebVitalsCallbacks&&t(),(n=Et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"web-vitals",s=>{s?rl.error("failed to load script",s):t()})}Tt(){var t=ye?ye.location.href:void 0;if(t){var r=this._instance.config.mask_personal_data_properties,n=this._instance.config.custom_personal_data_properties,s=r?xh([],bh,n||[]):[];return xy(t,s,by)}rl.error("Could not determine current URL")}}var Vne=ln("[Heatmaps]");function U$(e){return Rn(e)&&"clientX"in e&&"clientY"in e&&Ki(e.clientX)&&Ki(e.clientY)}class Hne{constructor(t){var r;this.St=!1,this.P=!1,this.Rt=null,this.instance=t,this.St=!((r=this.instance.persistence)==null||!r.props[Gk]),this.rageclicks=new wU(t.config.rageclick)}get flushIntervalMilliseconds(){var t=5e3;return Rn(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return Qe(this.instance.config.capture_heatmaps)?Qe(this.instance.config.enable_heatmaps)?this.St:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;Vne.info("starting..."),this.It(),this.Ft()}else{var t;clearInterval((t=this.Rt)!==null&&t!==void 0?t:void 0),this.Mt(),this.getAndClearBuffer()}}onRemoteConfig(t){var r=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Gk]:r}),this.St=r,this.startIfEnabled()}getAndClearBuffer(){var t=this.N;return this.N=void 0,t}Ot(t){this.At(t.originalEvent,"deadclick")}Ft(){this.Rt&&clearInterval(this.Rt),this.Rt=function(t){return(t==null?void 0:t.visibilityState)==="visible"}(nt)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}It(){ye&&nt&&(this.jt=this.Dt.bind(this),hn(ye,"beforeunload",this.jt),this.Lt=t=>this.At(t||(ye==null?void 0:ye.event)),hn(nt,"click",this.Lt,{capture:!0}),this.Nt=t=>this.Ut(t||(ye==null?void 0:ye.event)),hn(nt,"mousemove",this.Nt,{capture:!0}),this.zt=new SU(this.instance,bne,this.Ot.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ft.bind(this),hn(nt,"visibilitychange",this.Ht),this.P=!0)}Mt(){var t;ye&&nt&&(this.jt&&ye.removeEventListener("beforeunload",this.jt),this.Lt&&nt.removeEventListener("click",this.Lt,{capture:!0}),this.Nt&&nt.removeEventListener("mousemove",this.Nt,{capture:!0}),this.Ht&&nt.removeEventListener("visibilitychange",this.Ht),clearTimeout(this.Bt),(t=this.zt)==null||t.stop(),this.P=!1)}qt(t,r){var n=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),a=this.instance.scrollManager.scrollElement(),i=function(l,c,u){for(var d=l;d&&Ew(d)&&!Yl(d,"body");){if(d===u)return!1;if(qt(c,ye==null?void 0:ye.getComputedStyle(d).position))return!0;d=pU(d)}return!1}(fU(t),["fixed","sticky"],a);return{x:t.clientX+(i?0:s),y:t.clientY+(i?0:n),target_fixed:i,type:r}}At(t,r){var n;if(r===void 0&&(r="click"),!k$(t.target)&&U$(t)){var s=this.qt(t,r);(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.Wt(pt({},s,{type:"rageclick"})),this.Wt(s)}}Ut(t){!k$(t.target)&&U$(t)&&(clearTimeout(this.Bt),this.Bt=setTimeout(()=>{this.Wt(this.qt(t,"mousemove"))},500))}Wt(t){if(ye){var r=ye.location.href,n=this.instance.config.mask_personal_data_properties,s=this.instance.config.custom_personal_data_properties,a=n?xh([],bh,s||[]):[],i=xy(r,a,by);this.N=this.N||{},this.N[i]||(this.N[i]=[]),this.N[i].push(t)}}Dt(){this.N&&!Fd(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class Kne{constructor(t){this._instance=t}doPageView(t,r){var n,s=this.Gt(t,r);return this.Vt={pathname:(n=ye==null?void 0:ye.location.pathname)!==null&&n!==void 0?n:"",pageViewId:r,timestamp:t},this._instance.scrollManager.resetContext(),s}doPageLeave(t){var r;return this.Gt(t,(r=this.Vt)==null?void 0:r.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.Vt)==null?void 0:t.pageViewId}}Gt(t,r){var n=this.Vt;if(!n)return{$pageview_id:r};var s={$pageview_id:r,$prev_pageview_id:n.pageViewId},a=this._instance.scrollManager.getContext();if(a&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:i,lastScrollY:l,maxScrollY:c,maxContentHeight:u,lastContentY:d,maxContentY:f}=a;if(!(Qe(i)||Qe(l)||Qe(c)||Qe(u)||Qe(d)||Qe(f))){i=Math.ceil(i),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d),f=Math.ceil(f);var h=i<=1?1:Ci(l/i,0,1,st),g=i<=1?1:Ci(c/i,0,1,st),v=u<=1?1:Ci(d/u,0,1,st),p=u<=1?1:Ci(f/u,0,1,st);s=rn(s,{$prev_pageview_last_scroll:l,$prev_pageview_last_scroll_percentage:h,$prev_pageview_max_scroll:c,$prev_pageview_max_scroll_percentage:g,$prev_pageview_last_content:d,$prev_pageview_last_content_percentage:v,$prev_pageview_max_content:f,$prev_pageview_max_content_percentage:p})}}return n.pathname&&(s.$prev_pageview_pathname=n.pathname),n.timestamp&&(s.$prev_pageview_duration=(t.getTime()-n.timestamp.getTime())/1e3),s}}var Na=Uint8Array,Ls=Uint16Array,Ff=Uint32Array,TP=new Na([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),OP=new Na([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),z$=new Na([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YU=function(e,t){for(var r=new Ls(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var s=new Ff(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)s[a]=a-r[n]<<5|n;return[r,s]},JU=YU(TP,2),Gne=JU[0],iE=JU[1];Gne[28]=258,iE[258]=28;for(var q$=YU(OP,0)[1],XU=new Ls(32768),Rr=0;Rr<32768;++Rr){var Nc=(43690&Rr)>>>1|(21845&Rr)<<1;Nc=(61680&(Nc=(52428&Nc)>>>2|(13107&Nc)<<2))>>>4|(3855&Nc)<<4,XU[Rr]=((65280&Nc)>>>8|(255&Nc)<<8)>>>1}var gm=function(e,t,r){for(var n=e.length,s=0,a=new Ls(t);s<n;++s)++a[e[s]-1];var i,l=new Ls(t);for(s=0;s<t;++s)l[s]=l[s-1]+a[s-1]<<1;for(i=new Ls(n),s=0;s<n;++s)i[s]=XU[l[e[s]-1]++]>>>15-e[s];return i},Nu=new Na(288);for(Rr=0;Rr<144;++Rr)Nu[Rr]=8;for(Rr=144;Rr<256;++Rr)Nu[Rr]=9;for(Rr=256;Rr<280;++Rr)Nu[Rr]=7;for(Rr=280;Rr<288;++Rr)Nu[Rr]=8;var Cx=new Na(32);for(Rr=0;Rr<32;++Rr)Cx[Rr]=5;var Yne=gm(Nu,9),Jne=gm(Cx,5),QU=function(e){return(e/8>>0)+(7&e&&1)},ZU=function(e,t,r){(r==null||r>e.length)&&(r=e.length);var n=new(e instanceof Ls?Ls:e instanceof Ff?Ff:Na)(r-t);return n.set(e.subarray(t,r)),n},no=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},pp=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},sS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,a=r.slice();if(!s)return[new Na(0),0];if(s==1){var i=new Na(r[0].s+1);return i[r[0].s]=1,[i,1]}r.sort(function(S,E){return S.f-E.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};var h=a[0].s;for(n=1;n<s;++n)a[n].s>h&&(h=a[n].s);var g=new Ls(h+1),v=oE(r[d-1],g,0);if(v>t){n=0;var p=0,y=v-t,x=1<<y;for(a.sort(function(S,E){return g[E.s]-g[S.s]||S.f-E.f});n<s;++n){var b=a[n].s;if(!(g[b]>t))break;p+=x-(1<<v-g[b]),g[b]=t}for(p>>>=y;p>0;){var w=a[n].s;g[w]<t?p-=1<<t-g[w]++-1:++n}for(;n>=0&&p;--n){var _=a[n].s;g[_]==t&&(--g[_],++p)}v=t}return[new Na(g),v]},oE=function(e,t,r){return e.s==-1?Math.max(oE(e.l,t,r+1),oE(e.r,t,r+1)):t[e.s]=r},W$=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ls(++t),n=0,s=e[0],a=1,i=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=e[l]}return[r.subarray(0,n),t]},mp=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},lE=function(e,t,r){var n=r.length,s=QU(t+2);e[s]=255&n,e[s+1]=n>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var a=0;a<n;++a)e[s+a+4]=r[a];return 8*(s+4+n)},V$=function(e,t,r,n,s,a,i,l,c,u,d){no(t,d++,r),++s[256];for(var f=sS(s,15),h=f[0],g=f[1],v=sS(a,15),p=v[0],y=v[1],x=W$(h),b=x[0],w=x[1],_=W$(p),S=_[0],E=_[1],k=new Ls(19),j=0;j<b.length;++j)k[31&b[j]]++;for(j=0;j<S.length;++j)k[31&S[j]]++;for(var N=sS(k,7),C=N[0],A=N[1],R=19;R>4&&!C[z$[R-1]];--R);var H,U,D,B,L=u+5<<3,T=mp(s,Nu)+mp(a,Cx)+i,q=mp(s,h)+mp(a,p)+i+14+3*R+mp(k,C)+(2*k[16]+3*k[17]+7*k[18]);if(L<=T&&L<=q)return lE(t,d,e.subarray(c,c+u));if(no(t,d,1+(q<T)),d+=2,q<T){H=gm(h,g),U=h,D=gm(p,y),B=p;var I=gm(C,A);for(no(t,d,w-257),no(t,d+5,E-1),no(t,d+10,R-4),d+=14,j=0;j<R;++j)no(t,d+3*j,C[z$[j]]);d+=3*R;for(var P=[b,S],W=0;W<2;++W){var V=P[W];for(j=0;j<V.length;++j){var ee=31&V[j];no(t,d,I[ee]),d+=C[ee],ee>15&&(no(t,d,V[j]>>>5&127),d+=V[j]>>>12)}}}else H=Yne,U=Nu,D=Jne,B=Cx;for(j=0;j<l;++j)if(n[j]>255){ee=n[j]>>>18&31,pp(t,d,H[ee+257]),d+=U[ee+257],ee>7&&(no(t,d,n[j]>>>23&31),d+=TP[ee]);var X=31&n[j];pp(t,d,D[X]),d+=B[X],X>3&&(pp(t,d,n[j]>>>5&8191),d+=OP[X])}else pp(t,d,H[n[j]]),d+=U[n[j]];return pp(t,d,H[256]),d+U[256]},Xne=new Ff([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Qne=function(){for(var e=new Ff(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&3988292384)^r>>>1;e[t]=r}return e}(),Zne=function(e,t,r,n,s){return function(a,i,l,c,u,d){var f=a.length,h=new Na(c+f+5*(1+Math.floor(f/7e3))+u),g=h.subarray(c,h.length-u),v=0;if(!i||f<8)for(var p=0;p<=f;p+=65535){var y=p+65535;y<f?v=lE(g,v,a.subarray(p,y)):(g[p]=d,v=lE(g,v,a.subarray(p,f)))}else{for(var x=Xne[i-1],b=x>>>13,w=8191&x,_=(1<<l)-1,S=new Ls(32768),E=new Ls(_+1),k=Math.ceil(l/3),j=2*k,N=function(Ie){return(a[Ie]^a[Ie+1]<<k^a[Ie+2]<<j)&_},C=new Ff(25e3),A=new Ls(288),R=new Ls(32),H=0,U=0,D=(p=0,0),B=0,L=0;p<f;++p){var T=N(p),q=32767&p,I=E[T];if(S[q]=I,E[T]=q,B<=p){var P=f-p;if((H>7e3||D>24576)&&P>423){v=V$(a,g,0,C,A,R,U,D,L,p-L,v),D=H=U=0,L=p;for(var W=0;W<286;++W)A[W]=0;for(W=0;W<30;++W)R[W]=0}var V=2,ee=0,X=w,ne=q-I&32767;if(P>2&&T==N(p-ne))for(var F=Math.min(b,P)-1,$=Math.min(32767,p),K=Math.min(258,P);ne<=$&&--X&&q!=I;){if(a[p+V]==a[p+V-ne]){for(var Y=0;Y<K&&a[p+Y]==a[p+Y-ne];++Y);if(Y>V){if(V=Y,ee=ne,Y>F)break;var se=Math.min(ne,Y-2),Q=0;for(W=0;W<se;++W){var ae=p-ne+W+32768&32767,re=ae-S[ae]+32768&32767;re>Q&&(Q=re,I=ae)}}}ne+=(q=I)-(I=S[q])+32768&32767}if(ee){C[D++]=268435456|iE[V]<<18|q$[ee];var pe=31&iE[V],ve=31&q$[ee];U+=TP[pe]+OP[ve],++A[257+pe],++R[ve],B=p+V,++H}else C[D++]=a[p],++A[a[p]]}}v=V$(a,g,d,C,A,R,U,D,L,p-L,v)}return ZU(h,0,c+QU(v)+u)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!0)},aS=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};function ese(e,t){t===void 0&&(t={});var r=function(){var l=4294967295;return{p:function(c){for(var u=l,d=0;d<c.length;++d)u=Qne[255&u^c[d]]^u>>>8;l=u},d:function(){return 4294967295^l}}}(),n=e.length;r.p(e);var s,a=Zne(e,t,10+((s=t).filename&&s.filename.length+1||0),8),i=a.length;return function(l,c){var u=c.filename;if(l[0]=31,l[1]=139,l[2]=8,l[8]=c.level<2?4:c.level==9?2:0,l[9]=3,c.mtime!=0&&aS(l,4,Math.floor(new Date(c.mtime||Date.now())/1e3)),u){l[3]=8;for(var d=0;d<=u.length;++d)l[d+10]=u.charCodeAt(d)}}(a,t),aS(a,i-8,r.d()),aS(a,i-4,n),a}var tse=function(e){var t,r,n,s,a="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,s=0;s<n;s++){var i=e.charCodeAt(s),l=null;i<128?r++:l=i>127&&i<2048?String.fromCharCode(i>>6|192,63&i|128):String.fromCharCode(i>>12|224,i>>6&63|128,63&i|128),di(l)||(r>t&&(a+=e.substring(t,r)),a+=l,t=r=s+1)}return r>t&&(a+=e.substring(t,e.length)),a},rse=!!qk||!!zk,H$="text/plain",Px=function(e,t,r){var n;r===void 0&&(r=!0);var[s,a]=e.split("?"),i=pt({},t),l=(n=a==null?void 0:a.split("&").map(u=>{var d,[f,h]=u.split("="),g=r&&(d=i[f])!==null&&d!==void 0?d:h;return delete i[f],f+"="+g}))!==null&&n!==void 0?n:[],c=one(i);return c&&l.push(c),s+"?"+l.join("&")},Xp=(e,t)=>JSON.stringify(e,(r,n)=>typeof n=="bigint"?n.toString():n,t),iS=e=>{var{data:t,compression:r}=e;if(t){if(r===vo.GZipJS){var n=ese(function(c,u){var d=c.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(c);for(var f=new Na(c.length+(c.length>>>1)),h=0,g=function(x){f[h++]=x},v=0;v<d;++v){if(h+5>f.length){var p=new Na(h+8+(d-v<<1));p.set(f),f=p}var y=c.charCodeAt(v);y<128||u?g(y):y<2048?(g(192|y>>>6),g(128|63&y)):y>55295&&y<57344?(g(240|(y=65536+(1047552&y)|1023&c.charCodeAt(++v))>>>18),g(128|y>>>12&63),g(128|y>>>6&63),g(128|63&y)):(g(224|y>>>12),g(128|y>>>6&63),g(128|63&y))}return ZU(f,0,h)}(Xp(t)),{mtime:0}),s=new Blob([n],{type:H$});return{contentType:H$,body:s,estimatedSize:s.size}}if(r===vo.Base64){var a=function(c){var u,d,f,h,g,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=0,y=0,x="",b=[];if(!c)return c;c=tse(c);do u=(g=c.charCodeAt(p++)<<16|c.charCodeAt(p++)<<8|c.charCodeAt(p++))>>18&63,d=g>>12&63,f=g>>6&63,h=63&g,b[y++]=v.charAt(u)+v.charAt(d)+v.charAt(f)+v.charAt(h);while(p<c.length);switch(x=b.join(""),c.length%3){case 1:x=x.slice(0,-2)+"==";break;case 2:x=x.slice(0,-1)+"="}return x}(Xp(t)),i=(c=>"data="+encodeURIComponent(typeof c=="string"?c:Xp(c)))(a);return{contentType:"application/x-www-form-urlencoded",body:i,estimatedSize:new Blob([i]).size}}var l=Xp(t);return{contentType:"application/json",body:l,estimatedSize:new Blob([l]).size}}},R0=[];zk&&R0.push({transport:"fetch",method:e=>{var t,r,{contentType:n,body:s,estimatedSize:a}=(t=iS(e))!==null&&t!==void 0?t:{},i=new Headers;Er(e.headers,function(d,f){i.append(f,d)}),n&&i.append("Content-Type",n);var l=e.url,c=null;if(d$){var u=new d$;c={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}zk(l,pt({method:(e==null?void 0:e.method)||"GET",headers:i,keepalive:e.method==="POST"&&(a||0)<52428.8,body:s,signal:(r=c)==null?void 0:r.signal},e.fetchOptions)).then(d=>d.text().then(f=>{var h={statusCode:d.status,text:f};if(d.status===200)try{h.json=JSON.parse(f)}catch(g){st.error(g)}e.callback==null||e.callback(h)})).catch(d=>{st.error(d),e.callback==null||e.callback({statusCode:0,text:d})}).finally(()=>c?clearTimeout(c.timeout):null)}}),qk&&R0.push({transport:"XHR",method:e=>{var t,r=new qk;r.open(e.method||"GET",e.url,!0);var{contentType:n,body:s}=(t=iS(e))!==null&&t!==void 0?t:{};Er(e.headers,function(a,i){r.setRequestHeader(i,a)}),n&&r.setRequestHeader("Content-Type",n),e.timeout&&(r.timeout=e.timeout),e.disableXHRCredentials||(r.withCredentials=!0),r.onreadystatechange=()=>{if(r.readyState===4){var a={statusCode:r.status,text:r.responseText};if(r.status===200)try{a.json=JSON.parse(r.responseText)}catch{}e.callback==null||e.callback(a)}},r.send(s)}}),ra!=null&&ra.sendBeacon&&R0.push({transport:"sendBeacon",method:e=>{var t=Px(e.url,{beacon:"1"});try{var r,{contentType:n,body:s}=(r=iS(e))!==null&&r!==void 0?r:{},a=typeof s=="string"?new Blob([s],{type:n}):s;ra.sendBeacon(t,a)}catch{}}});var Ax=function(e,t){if(!function(r){try{new RegExp(r)}catch{return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch{return!1}};function K$(e,t,r){return Xp({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:r})}var e7={exact:(e,t)=>t.some(r=>e.some(n=>r===n)),is_not:(e,t)=>t.every(r=>e.every(n=>r!==n)),regex:(e,t)=>t.some(r=>e.some(n=>Ax(r,n))),not_regex:(e,t)=>t.every(r=>e.every(n=>!Ax(r,n))),icontains:(e,t)=>t.map(Nv).some(r=>e.map(Nv).some(n=>r.includes(n))),not_icontains:(e,t)=>t.map(Nv).every(r=>e.map(Nv).every(n=>!r.includes(n)))},Nv=e=>e.toLowerCase();function t7(e,t){return!e||Object.entries(e).every(r=>{var[n,s]=r,a=t==null?void 0:t[n];if(Qe(a)||di(a))return!1;var i=[String(a)],l=e7[s.operator];return!!l&&l(s.values,i)})}var oS=ln("[Error tracking]");class nse{constructor(t){var r,n;this.Jt=[],this.Kt=new Nre([new Ire,new Vre,new Dre,new Lre,new qre,new zre,new Bre,new Wre],Mre("web:javascript",Tre,$re)),this._instance=t,this.Jt=(r=(n=this._instance.persistence)==null?void 0:n.get_property(Yk))!==null&&r!==void 0?r:[]}onRemoteConfig(t){var r,n,s,a=(r=(n=t.errorTracking)==null?void 0:n.suppressionRules)!==null&&r!==void 0?r:[],i=(s=t.errorTracking)==null?void 0:s.captureExtensionExceptions;this.Jt=a,this._instance.persistence&&this._instance.persistence.register({[Yk]:this.Jt,[_$]:i})}get Yt(){var t,r=!!this._instance.get_property(_$),n=this._instance.config.error_tracking.captureExtensionExceptions;return(t=n??r)!==null&&t!==void 0&&t}buildProperties(t,r){return this.Kt.buildFromUnknown(t,{syntheticException:r==null?void 0:r.syntheticException,mechanism:{handled:r==null?void 0:r.handled}})}sendExceptionEvent(t){var r=t.$exception_list;if(this.Xt(r)){if(this.Qt(r))return void oS.info("Skipping exception capture because a suppression rule matched");if(!this.Yt&&this.Zt(r))return void oS.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(r))return void oS.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}Qt(t){if(t.length===0)return!1;var r=t.reduce((n,s)=>{var{type:a,value:i}=s;return jn(a)&&a.length>0&&n.$exception_types.push(a),jn(i)&&i.length>0&&n.$exception_values.push(i),n},{$exception_types:[],$exception_values:[]});return this.Jt.some(n=>{var s=n.values.map(a=>{var i,l=e7[a.operator],c=lr(a.value)?a.value:[a.value],u=(i=r[a.key])!==null&&i!==void 0?i:[];return c.length>0&&l(c,u)});return n.type==="OR"?s.some(Boolean):s.every(Boolean)})}Zt(t){return t.flatMap(r=>{var n,s;return(n=(s=r.stacktrace)==null?void 0:s.frames)!==null&&n!==void 0?n:[]}).some(r=>r.filename&&r.filename.startsWith("chrome-extension://"))}ti(t){if(t.length>0){var r,n,s,a,i=(r=(n=t[0].stacktrace)==null?void 0:n.frames)!==null&&r!==void 0?r:[],l=i[i.length-1];return(s=l==null||(a=l.filename)==null?void 0:a.includes("posthog.com/static"))!==null&&s!==void 0&&s}return!1}Xt(t){return!sr(t)&&lr(t)}}var Ua=ln("[FeatureFlags]"),gp=ln("[FeatureFlags]",{debugEnabled:!0}),lS="$active_feature_flags",nd="$override_feature_flags",G$="$feature_flag_payloads",yp="$override_feature_flag_payloads",Y$="$feature_flag_request_id",J$="$feature_flag_evaluated_at",X$=e=>{var t={};for(var[r,n]of O0(e||{}))n&&(t[r]=n);return t},sse=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map(r=>{var n;return[r,(n=t[r].variant)!==null&&n!==void 0?n:t[r].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter(r=>t[r].enabled).filter(r=>{var n;return(n=t[r].metadata)==null?void 0:n.payload}).map(r=>{var n;return[r,(n=t[r].metadata)==null?void 0:n.payload]}))):Ua.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},ase=function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e}({});class ise{constructor(t){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=t,this.featureFlagEventHandlers=[]}li(){var t=this._instance.config.evaluation_environments;return t!=null&&t.length?t.filter(r=>{var n=r&&typeof r=="string"&&r.trim().length>0;return n||Ua.error("Invalid evaluation environment found:",r,"Expected non-empty string"),n}):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var t=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.di({disableFlags:t})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(Jk),r=this._instance.get_property(nd),n=this._instance.get_property(yp);if(!n&&!r)return t||{};var s=rn({},t||{}),a=[...new Set([...Object.keys(n||{}),...Object.keys(r||{})])];for(var i of a){var l,c,u=s[i],d=r==null?void 0:r[i],f=Qe(d)?(l=u==null?void 0:u.enabled)!==null&&l!==void 0&&l:!!d,h=Qe(d)?u.variant:typeof d=="string"?d:void 0,g=n==null?void 0:n[i],v=pt({},u,{enabled:f,variant:f?h??(u==null?void 0:u.variant):void 0});f!==(u==null?void 0:u.enabled)&&(v.original_enabled=u==null?void 0:u.enabled),h!==(u==null?void 0:u.variant)&&(v.original_variant=u==null?void 0:u.variant),g&&(v.metadata=pt({},u==null?void 0:u.metadata,{payload:g,original_payload:u==null||(c=u.metadata)==null?void 0:c.payload})),s[i]=v}return this.ii||(Ua.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:n,finalDetails:s}),this.ii=!0),s}getFlagVariants(){var t=this._instance.get_property(Bd),r=this._instance.get_property(nd);if(!r)return t||{};for(var n=rn({},t),s=Object.keys(r),a=0;a<s.length;a++)n[s[a]]=r[s[a]];return this.ii||(Ua.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:r,finalFlags:n}),this.ii=!0),n}getFlagPayloads(){var t=this._instance.get_property(G$),r=this._instance.get_property(yp);if(!r)return t||{};for(var n=rn({},t||{}),s=Object.keys(r),a=0;a<s.length;a++)n[s[a]]=r[s[a]];return this.ii||(Ua.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:r,finalPayloads:n}),this.ii=!0),n}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout(()=>{this.di()},5))}vi(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.si=t}di(t){var r;if(this.vi(),!this._instance.O())if(this.ri)this.ni=!0;else{var n=this._instance.config.token,s=this._instance.get_property("$device_id"),a={token:n,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:pt({},((r=this._instance.persistence)==null?void 0:r.get_initial_props())||{},this._instance.get_property(Yp)||{}),group_properties:this._instance.get_property(Mc)};di(s)||Qe(s)||(a.$device_id=s),(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(a.disable_flags=!0),this.ui()&&(a.evaluation_environments=this.li());var i=this._instance.config.__preview_remote_config,l=i?"/flags/?v=2":"/flags/?v=2&config=true",c=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",u=this._instance.requestRouter.endpointFor("flags",l+c);i&&(a.timezone=GU()),this.ri=!0,this._instance._send_request({method:"POST",url:u,data:a,compression:this._instance.config.disable_compression?void 0:vo.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:d=>{var f,h,g=!0;if(d.statusCode===200&&(this.ni||(this.$anon_distinct_id=void 0),g=!1),this.ri=!1,this.oi||(this.oi=!0,this._instance.ci((h=d.json)!==null&&h!==void 0?h:{})),!a.disable_flags||this.ni)if(this.ai=!g,d.json&&(f=d.json.quotaLimited)!=null&&f.includes(ase.FeatureFlags))Ua.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var v;a.disable_flags||this.receivedFeatureFlags((v=d.json)!==null&&v!==void 0?v:{},g),this.ni&&(this.ni=!1,this.di())}}})}}getFeatureFlag(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[t],s=""+n,a=this._instance.get_property(Y$)||void 0,i=this._instance.get_property(J$)||void 0,l=this._instance.get_property(xx)||{};if((r.send_event||!("send_event"in r))&&(!(t in l)||!l[t].includes(s))){var c,u,d,f,h,g,v,p,y;lr(l[t])?l[t].push(s):l[t]=[s],(c=this._instance.persistence)==null||c.register({[xx]:l});var x=this.getFeatureFlagDetails(t),b={$feature_flag:t,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:a,$feature_flag_evaluated_at:i,$feature_flag_bootstrapped_response:((u=this._instance.config.bootstrap)==null||(u=u.featureFlags)==null?void 0:u[t])||null,$feature_flag_bootstrapped_payload:((d=this._instance.config.bootstrap)==null||(d=d.featureFlagPayloads)==null?void 0:d[t])||null,$used_bootstrap_value:!this.ai};Qe(x==null||(f=x.metadata)==null?void 0:f.version)||(b.$feature_flag_version=x.metadata.version);var w,_=(h=x==null||(g=x.reason)==null?void 0:g.description)!==null&&h!==void 0?h:x==null||(v=x.reason)==null?void 0:v.code;_&&(b.$feature_flag_reason=_),x!=null&&(p=x.metadata)!=null&&p.id&&(b.$feature_flag_id=x.metadata.id),Qe(x==null?void 0:x.original_variant)&&Qe(x==null?void 0:x.original_enabled)||(b.$feature_flag_original_response=Qe(x.original_variant)?x.original_enabled:x.original_variant),x!=null&&(y=x.metadata)!=null&&y.original_payload&&(b.$feature_flag_original_payload=x==null||(w=x.metadata)==null?void 0:w.original_payload),this._instance.capture("$feature_flag_called",b)}return n}Ua.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,r){var n=this._instance.config.token,s={distinct_id:this._instance.get_distinct_id(),token:n};this.ui()&&(s.evaluation_environments=this.li()),this._instance._send_request({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:s,compression:this._instance.config.disable_compression?void 0:vo.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:a=>{var i,l=(i=a.json)==null?void 0:i.featureFlagPayloads;r((l==null?void 0:l[t])||void 0)}})}isFeatureEnabled(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFeatureFlag(t,r);return Qe(n)?void 0:!!n}Ua.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(r=>r!==t)}receivedFeatureFlags(t,r){if(this._instance.persistence){this.ei=!0;var n=this.getFlagVariants(),s=this.getFlagPayloads(),a=this.getFlagsWithDetails();(function(i,l,c,u,d){c===void 0&&(c={}),u===void 0&&(u={}),d===void 0&&(d={});var f=sse(i),h=f.flags,g=f.featureFlags,v=f.featureFlagPayloads;if(g){var p=i.requestId,y=i.evaluatedAt;if(lr(g)){Ua.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var x={};if(g)for(var b=0;b<g.length;b++)x[g[b]]=!0;l&&l.register({[lS]:g,[Bd]:x})}else{var w=g,_=v,S=h;i.errorsWhileComputingFlags&&(w=pt({},c,w),_=pt({},u,_),S=pt({},d,S)),l&&l.register(pt({[lS]:Object.keys(X$(w)),[Bd]:w||{},[G$]:_||{},[Jk]:S||{}},p?{[Y$]:p}:{},y?{[J$]:y}:{}))}}})(t,this._instance.persistence,n,s,a),this.fi(r)}}override(t,r){r===void 0&&(r=!1),Ua.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:r})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return Ua.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(nd),this._instance.persistence.unregister(yp),this.fi(),gp.info("All overrides cleared");if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var r,n=t;if(this.ii=!!((r=n.suppressWarning)!==null&&r!==void 0&&r),"flags"in n){if(n.flags===!1)this._instance.persistence.unregister(nd),gp.info("Flag overrides cleared");else if(n.flags){if(lr(n.flags)){for(var s={},a=0;a<n.flags.length;a++)s[n.flags[a]]=!0;this._instance.persistence.register({[nd]:s})}else this._instance.persistence.register({[nd]:n.flags});gp.info("Flag overrides set",{flags:n.flags})}}return"payloads"in n&&(n.payloads===!1?(this._instance.persistence.unregister(yp),gp.info("Payload overrides cleared")):n.payloads&&(this._instance.persistence.register({[yp]:n.payloads}),gp.info("Payload overrides set",{payloads:n.payloads}))),void this.fi()}this.fi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ei){var{flags:r,flagVariants:n}=this.pi();t(r,n)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,r,n){var s,a=(this._instance.get_property(Gp)||[]).find(u=>u.flagKey===t),i={["$feature_enrollment/"+t]:r},l={$feature_flag:t,$feature_enrollment:r,$set:i};a&&(l.$early_access_feature_name=a.name),n&&(l.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",l),this.setPersonPropertiesForFlags(i,!1);var c=pt({},this.getFlagVariants(),{[t]:r});(s=this._instance.persistence)==null||s.register({[lS]:Object.keys(X$(c)),[Bd]:c}),this.fi()}getEarlyAccessFeatures(t,r,n){r===void 0&&(r=!1);var s=this._instance.get_property(Gp),a=n?"&"+n.map(i=>"stage="+i).join("&"):"";if(s&&!r)return t(s);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+a),method:"GET",callback:i=>{var l,c;if(i.json){var u=i.json.earlyAccessFeatures;return(l=this._instance.persistence)==null||l.unregister(Gp),(c=this._instance.persistence)==null||c.register({[Gp]:u}),t(u)}}})}pi(){var t=this.getFlags(),r=this.getFlagVariants();return{flags:t.filter(n=>r[n]),flagVariants:Object.keys(r).filter(n=>r[n]).reduce((n,s)=>(n[s]=r[s],n),{})}}fi(t){var{flags:r,flagVariants:n}=this.pi();this.featureFlagEventHandlers.forEach(s=>s(r,n,{errorsLoading:t}))}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Yp)||{};this._instance.register({[Yp]:pt({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Yp)}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Mc)||{};Object.keys(n).length!==0&&Object.keys(n).forEach(s=>{n[s]=pt({},n[s],t[s]),delete t[s]}),this._instance.register({[Mc]:pt({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var r=this._instance.get_property(Mc)||{};this._instance.register({[Mc]:pt({},r,{[t]:{}})})}else this._instance.unregister(Mc)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.vi(),this.ii=!1}}var ose=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class cS{constructor(t,r){this.I=t,this.props={},this.gi=!1,this.mi=(n=>{var s="";return n.token&&(s=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+s+"_posthog"})(t),this.Y=this.yi(t),this.load(),t.debug&&st.info("Persistence loaded",t.persistence,pt({},this.props)),this.update_config(t,t,r),this.save()}isDisabled(){return!!this.bi}yi(t){ose.indexOf(t.persistence.toLowerCase())===-1&&(st.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var r=t.persistence.toLowerCase();return r==="localstorage"&&qr.H()?qr:r==="localstorage+cookie"&&Sv.H()?Sv:r==="sessionstorage"&&zn.H()?zn:r==="memory"?vne:r==="cookie"?Ii:Sv.H()?Sv:Ii}properties(){var t={};return Er(this.props,function(r,n){if(n===Bd&&Rn(r))for(var s=Object.keys(r),a=0;a<s.length;a++)t["$feature/"+s[a]]=r[s[a]];else l=n,c=!1,(di(i=Xre)?c:u$&&i.indexOf===u$?i.indexOf(l)!=-1:(Er(i,function(u){if(c||(c=u===l))return yx}),c))||(t[n]=r);var i,l,c}),t}load(){if(!this.bi){var t=this.Y.W(this.mi);t&&(this.props=rn({},t))}}save(){this.bi||this.Y.G(this.mi,this.props,this.wi,this.xi,this.Ei,this.I.debug)}remove(){this.Y.V(this.mi,!1),this.Y.V(this.mi,!0)}clear(){this.remove(),this.props={}}register_once(t,r,n){if(Rn(t)){Qe(r)&&(r="None"),this.wi=Qe(n)?this.Si:n;var s=!1;if(Er(t,(a,i)=>{this.props.hasOwnProperty(i)&&this.props[i]!==r||(this.props[i]=a,s=!0)}),s)return this.save(),!0}return!1}register(t,r){if(Rn(t)){this.wi=Qe(r)?this.Si:r;var n=!1;if(Er(t,(s,a)=>{t.hasOwnProperty(a)&&this.props[a]!==s&&(this.props[a]=s,n=!0)}),n)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.gi){var t=zU(this.I.custom_campaign_params,this.I.mask_personal_data_properties,this.I.custom_personal_data_properties);Fd(SP(t))||this.register(t),this.gi=!0}}update_search_keyword(){var t;this.register((t=nt==null?void 0:nt.referrer)?WU(t):{})}update_referrer_info(){var t;this.register_once({$referrer:VU(),$referring_domain:nt!=null&&nt.referrer&&((t=Sx(nt.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[eE]||this.props[tE]||this.register_once({[bx]:HU(this.I.mask_personal_data_properties,this.I.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};Er([tE,eE],i=>{var l=this.props[i];l&&Er(l,function(c,u){t["$initial_"+Wk(u)]=c})});var r,n,s=this.props[bx];if(s){var a=(r=KU(s),n={},Er(r,function(i,l){n["$initial_"+Wk(l)]=i}),n);rn(t,a)}return t}safe_merge(t){return Er(this.props,function(r,n){n in t||(t[n]=r)}),t}update_config(t,r,n){if(this.Si=this.wi=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!n),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==r.persistence){var s=this.yi(t),a=this.props;this.clear(),this.Y=s,this.props=a,this.save()}}set_disabled(t){this.bi=t,this.bi?this.remove():this.save()}set_cross_subdomain(t){t!==this.xi&&(this.xi=t,this.remove(),this.save())}set_secure(t){t!==this.Ei&&(this.Ei=t,this.remove(),this.save())}set_event_timer(t,r){var n=this.props[Kp]||{};n[t]=r,this.props[Kp]=n,this.save()}remove_event_timer(t){var r=(this.props[Kp]||{})[t];return Qe(r)||(delete this.props[Kp][t],this.save()),r}get_property(t){return this.props[t]}set_property(t,r){this.props[t]=r,this.save()}}var os=ln("[Product Tours]"),uS="ph_product_tours";class lse{constructor(t){this.$i=null,this.ki=null,this.Pi=void 0,this.Ti=!1,this._instance=t}onRemoteConfig(t){if(this._instance.config.disable_product_tours)os.info("Product tours disabled via config");else{var r=t.productTours;sr(r)?os.info("Product tours not enabled in remote config"):(this.Pi=r,os.info("Remote config received, isProductToursEnabled: "+this.Pi),this.loadIfEnabled())}}loadIfEnabled(){var t;if(!this.ki)if(this.Ti)os.info("Already initializing product tours, skipping...");else if(this._instance.config.disable_product_tours)os.info("Product tours disabled via config");else{var r=Et==null?void 0:Et.__PosthogExtensions__;if(r){var n=(t=this._instance.featureFlags)==null?void 0:t.isFeatureEnabled("product-tours-2025");if(!Qe(this.Pi)||n){var s=this.Pi||n;if(s){this.Ti=!0;try{var a=r.generateProductTours;if(a)return void this.Ci(a,s);var i=r.loadExternalDependency;if(!i)return os.error("PostHog loadExternalDependency extension not found."),void(this.Ti=!1);i(this._instance,"product-tours",l=>{l||!r.generateProductTours?os.error("Could not load product tours script",l):this.Ci(r.generateProductTours,s),this.Ti=!1})}catch(l){os.error("Error initializing product tours",l),this.Ti=!1}}else os.info("Product tours not enabled")}else os.info("Waiting for remote config or feature flag to enable product tours")}else os.error("PostHog Extensions not found.")}}Ci(t,r){this.ki=t(this._instance,r)||null,os.info("Product tours loaded successfully")}getProductTours(t,r){if(r===void 0&&(r=!1),!lr(this.$i)||r){var n=this._instance.persistence;if(n){var s=n.props[uS];if(lr(s)&&!r)return this.$i=s,void t(s,{isLoaded:!0})}this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/product_tours/?token="+this._instance.config.token),method:"GET",callback:a=>{var i=a.statusCode;if(i!==200||!a.json){var l="Product Tours API could not be loaded, status: "+i;return os.error(l),void t([],{isLoaded:!1,error:l})}var c=lr(a.json.product_tours)?a.json.product_tours:[];this.$i=c,n&&n.register({[uS]:c}),t(c,{isLoaded:!0})}})}else t(this.$i,{isLoaded:!0})}getActiveProductTours(t){if(sr(this.ki))return os.warn("Product tours not loaded yet"),void t([],{isLoaded:!1,error:"Product tours not loaded"});this.ki.getActiveProductTours(t)}showProductTour(t){var r;os.info("showProductTour("+t+")"),(r=this.ki)==null||r.showTourById(t)}dismissProductTour(){var t;(t=this.ki)==null||t.dismissTour("user_clicked_skip")}nextStep(){var t;(t=this.ki)==null||t.nextStep()}previousStep(){var t;(t=this.ki)==null||t.previousStep()}clearCache(){this.$i=null;var t=this._instance.persistence;t&&t.unregister(uS)}resetTour(t){var r;(r=this.ki)==null||r.resetTour(t)}resetAllTours(){var t;(t=this.ki)==null||t.resetAllTours()}}var vp=function(e){return e.Activation="events",e.Cancellation="cancelEvents",e}({});(function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e})({});(function(e){return e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger",e})({});(function(e){return e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e})({});var dS=function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e}({});(function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e})({});(function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e})({});(function(e){return e.Once="once",e.Recurring="recurring",e.Always="always",e})({});var $0=function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e}({}),Q$=function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e}({}),r7=function(e){return e.Popover="popover",e.Inline="inline",e}({});class RP{constructor(){this.Ri={},this.Ri={}}on(t,r){return this.Ri[t]||(this.Ri[t]=[]),this.Ri[t].push(r),()=>{this.Ri[t]=this.Ri[t].filter(n=>n!==r)}}emit(t,r){for(var n of this.Ri[t]||[])n(r);for(var s of this.Ri["*"]||[])s(t,r)}}function sd(e,t,r){if(sr(e))return!1;switch(r){case"exact":return e===t;case"contains":var n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/_/g,".").replace(/%/g,".*");return new RegExp(n,"i").test(e);case"regex":try{return new RegExp(t).test(e)}catch{return!1}default:return!1}}class cse{constructor(t){this.Ii=new RP,this.Fi=(r,n)=>this.Mi(r,n)&&this.Oi(r,n)&&this.Ai(r,n)&&this.Di(r,n),this.Mi=(r,n)=>n==null||!n.event||(r==null?void 0:r.event)===(n==null?void 0:n.event),this._instance=t,this.ji=new Set,this.Li=new Set}init(){var t;if(!Qe((t=this._instance)==null?void 0:t.Ni)){var r;(r=this._instance)==null||r.Ni((n,s)=>{this.on(n,s)})}}register(t){var r,n;if(!Qe((r=this._instance)==null?void 0:r.Ni)&&(t.forEach(i=>{var l,c;(l=this.Li)==null||l.add(i),(c=i.steps)==null||c.forEach(u=>{var d;(d=this.ji)==null||d.add((u==null?void 0:u.event)||"")})}),(n=this._instance)!=null&&n.autocapture)){var s,a=new Set;t.forEach(i=>{var l;(l=i.steps)==null||l.forEach(c=>{c!=null&&c.selector&&a.add(c==null?void 0:c.selector)})}),(s=this._instance)==null||s.autocapture.setElementSelectors(a)}}on(t,r){var n;r!=null&&t.length!=0&&(this.ji.has(t)||this.ji.has(r==null?void 0:r.event))&&this.Li&&((n=this.Li)==null?void 0:n.size)>0&&this.Li.forEach(s=>{this.Ui(r,s)&&this.Ii.emit("actionCaptured",s.name)})}zi(t){this.onAction("actionCaptured",r=>t(r))}Ui(t,r){if((r==null?void 0:r.steps)==null)return!1;for(var n of r.steps)if(this.Fi(t,n))return!0;return!1}onAction(t,r){return this.Ii.on(t,r)}Oi(t,r){if(r!=null&&r.url){var n,s=t==null||(n=t.properties)==null?void 0:n.$current_url;if(!s||typeof s!="string"||!sd(s,r.url,r.url_matching||"contains"))return!1}return!0}Ai(t,r){return!!this.Hi(t,r)&&!!this.Bi(t,r)&&!!this.qi(t,r)}Hi(t,r){var n;if(r==null||!r.href)return!0;var s=this.Wi(t);if(s.length>0)return s.some(l=>sd(l.href,r.href,r.href_matching||"exact"));var a,i=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!i&&sd((a=i.match(/(?::|")href="(.*?)"/))?a[1]:"",r.href,r.href_matching||"exact")}Bi(t,r){var n;if(r==null||!r.text)return!0;var s=this.Wi(t);if(s.length>0)return s.some(u=>sd(u.text,r.text,r.text_matching||"exact")||sd(u.$el_text,r.text,r.text_matching||"exact"));var a,i,l,c=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!c&&(a=function(u){for(var d,f=[],h=/(?::|")text="(.*?)"/g;!sr(d=h.exec(u));)f.includes(d[1])||f.push(d[1]);return f}(c),i=r.text,l=r.text_matching||"exact",a.some(u=>sd(u,i,l)))}qi(t,r){var n,s;if(r==null||!r.selector)return!0;var a=t==null||(n=t.properties)==null?void 0:n.$element_selectors;if(a!=null&&a.includes(r.selector))return!0;var i=(t==null||(s=t.properties)==null?void 0:s.$elements_chain)||"";if(r.selector_regex&&i)try{return new RegExp(r.selector_regex).test(i)}catch{return!1}return!1}Wi(t){var r;return(t==null||(r=t.properties)==null?void 0:r.$elements)==null?[]:t==null?void 0:t.properties.$elements}Di(t,r){return r==null||!r.properties||r.properties.length===0||t7(r.properties.reduce((n,s)=>{var a=lr(s.value)?s.value.map(String):s.value!=null?[String(s.value)]:[];return n[s.key]={values:a,operator:s.operator||"exact"},n},{}),t==null?void 0:t.properties)}}var mr=ln("[Surveys]"),cE="seenSurvey_",use=(e,t)=>{var r="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(r="$survey_"+t+"/"+e.id+"/"+e.current_iteration),r},Z$=e=>{var t=""+cE+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+cE+e.id+"_"+e.current_iteration),t},dse=[dS.Popover,dS.Widget,dS.API],fse={ignoreConditions:!1,ignoreDelay:!1,displayType:r7.Popover};class hse{constructor(t){this._instance=t,this.Gi=new Map,this.Vi=new Map,this.Ji=new Map}Ki(t,r){return!!t&&t7(t.propertyFilters,r==null?void 0:r.properties)}Yi(t,r){var n=new Map;return t.forEach(s=>{var a;(a=s.conditions)==null||(a=a[r])==null||(a=a.values)==null||a.forEach(i=>{if(i!=null&&i.name){var l=n.get(i.name)||[];l.push(s.id),n.set(i.name,l)}})}),n}Xi(t,r,n){var s,a=(n===vp.Activation?this.Gi:this.Vi).get(t),i=[];return(s=this._instance)==null||s.getSurveys(l=>{i=l.filter(c=>a==null?void 0:a.includes(c.id))}),i.filter(l=>{var c,u=(c=l.conditions)==null||(c=c[n])==null||(c=c.values)==null?void 0:c.find(d=>d.name===t);return this.Ki(u,r)})}register(t){var r;Qe((r=this._instance)==null?void 0:r.Ni)||(this.Qi(t),this.Zi(t))}Zi(t){var r=t.filter(n=>{var s,a;return((s=n.conditions)==null?void 0:s.actions)&&((a=n.conditions)==null||(a=a.actions)==null||(a=a.values)==null?void 0:a.length)>0});r.length!==0&&(this.te==null&&(this.te=new cse(this._instance),this.te.init(),this.te.zi(n=>{this.onAction(n)})),r.forEach(n=>{var s,a,i,l,c;n.conditions&&(s=n.conditions)!=null&&s.actions&&(a=n.conditions)!=null&&(a=a.actions)!=null&&a.values&&((i=n.conditions)==null||(i=i.actions)==null||(i=i.values)==null?void 0:i.length)>0&&((l=this.te)==null||l.register(n.conditions.actions.values),(c=n.conditions)==null||(c=c.actions)==null||(c=c.values)==null||c.forEach(u=>{if(u&&u.name){var d=this.Ji.get(u.name);d&&d.push(n.id),this.Ji.set(u.name,d||[n.id])}}))}))}Qi(t){var r,n=t.filter(a=>{var i,l;return((i=a.conditions)==null?void 0:i.events)&&((l=a.conditions)==null||(l=l.events)==null||(l=l.values)==null?void 0:l.length)>0}),s=t.filter(a=>{var i,l;return((i=a.conditions)==null?void 0:i.cancelEvents)&&((l=a.conditions)==null||(l=l.cancelEvents)==null||(l=l.values)==null?void 0:l.length)>0});(n.length!==0||s.length!==0)&&((r=this._instance)==null||r.Ni((a,i)=>{this.onEvent(a,i)}),this.Gi=this.Yi(t,vp.Activation),this.Vi=this.Yi(t,vp.Cancellation))}onEvent(t,r){var n,s=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[_v])||[];if($0.SHOWN===t&&r&&s.length>0){var a;mr.info("survey event matched, removing survey from activated surveys",{event:t,eventPayload:r,existingActivatedSurveys:s});var i=r==null||(a=r.properties)==null?void 0:a.$survey_id;if(i){var l=s.indexOf(i);l>=0&&(s.splice(l,1),this.ie(s))}}else{if(this.Vi.has(t)){var c=this.Xi(t,r,vp.Cancellation);c.length>0&&(mr.info("cancel event matched, cancelling surveys",{event:t,surveysToCancel:c.map(d=>d.id)}),c.forEach(d=>{var f,h=s.indexOf(d.id);h>=0&&s.splice(h,1),(f=this._instance)==null||f.cancelPendingSurvey(d.id)}),this.ie(s))}if(this.Gi.has(t)){mr.info("survey event name matched",{event:t,eventPayload:r,surveys:this.Gi.get(t)});var u=this.Xi(t,r,vp.Activation);this.ie(s.concat(u.map(d=>d.id)||[]))}}}onAction(t){var r,n=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[_v])||[];this.Ji.has(t)&&this.ie(n.concat(this.Ji.get(t)||[]))}ie(t){var r;mr.info("updating activated surveys",{activatedSurveys:t}),(r=this._instance)==null||(r=r.persistence)==null||r.register({[_v]:[...new Set(t)]})}getSurveys(){var t,r=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[_v];return r||[]}getEventToSurveys(){return this.Gi}ee(){return this.te}}class pse{constructor(t){this.re=void 0,this._surveyManager=null,this.se=!1,this.ne=!1,this.oe=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var r=t.surveys;if(sr(r))return mr.warn("Flags not loaded yet. Not loading surveys.");var n=lr(r);this.re=n?r.length>0:r,mr.info("flags response received, isSurveysEnabled: "+this.re),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);(n!=null&&n.startsWith(cE)||n!=null&&n.startsWith("inProgressSurvey_"))&&t.push(n)}t.forEach(s=>localStorage.removeItem(s))}loadIfEnabled(){if(!this._surveyManager)if(this.ne)mr.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)mr.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())mr.info("Not loading surveys in cookieless mode without consent.");else{var t=Et==null?void 0:Et.__PosthogExtensions__;if(t){if(!Qe(this.re)||this._instance.config.advanced_enable_surveys){var r=this.re||this._instance.config.advanced_enable_surveys;this.ne=!0;try{var n=t.generateSurveys;if(n)return void this.ae(n,r);var s=t.loadExternalDependency;if(!s)return void this.le("PostHog loadExternalDependency extension not found.");s(this._instance,"surveys",a=>{a||!t.generateSurveys?this.le("Could not load surveys script",a):this.ae(t.generateSurveys,r)})}catch(a){throw this.le("Error initializing surveys",a),a}finally{this.ne=!1}}}else mr.error("PostHog Extensions not found.")}}ae(t,r){this._surveyManager=t(this._instance,r),this._surveyEventReceiver=new hse(this._instance),mr.info("Surveys loaded successfully"),this.ue({isLoaded:!0})}le(t,r){mr.error(t,r),this.ue({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.oe.push(t),this._surveyManager&&this.ue({isLoaded:!0}),()=>{this.oe=this.oe.filter(r=>r!==t)}}getSurveys(t,r){if(r===void 0&&(r=!1),this._instance.config.disable_surveys)return mr.info("Disabled. Not loading surveys."),t([]);var n=this._instance.get_property(Xk);if(n&&!r)return t(n,{isLoaded:!0});if(this.se)return t([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.se=!0,this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:s=>{var a;this.se=!1;var i=s.statusCode;if(i!==200||!s.json){var l="Surveys API could not be loaded, status: "+i;return mr.error(l),t([],{isLoaded:!1,error:l})}var c,u=s.json.surveys||[],d=u.filter(f=>function(h){return!(!h.start_date||h.end_date)}(f)&&(function(h){var g;return!((g=h.conditions)==null||(g=g.events)==null||(g=g.values)==null||!g.length)}(f)||function(h){var g;return!((g=h.conditions)==null||(g=g.actions)==null||(g=g.values)==null||!g.length)}(f)));return d.length>0&&((c=this._surveyEventReceiver)==null||c.register(d)),(a=this._instance.persistence)==null||a.register({[Xk]:u}),t(u,{isLoaded:!0})}})}catch(s){throw this.se=!1,s}}ue(t){for(var r of this.oe)try{if(!t.isLoaded)return r([],t);this.getSurveys(r)}catch(n){mr.error("Error in survey callback",n)}}getActiveMatchingSurveys(t,r){if(r===void 0&&(r=!1),!sr(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,r);mr.warn("init was not called")}he(t){var r=null;return this.getSurveys(n=>{var s;r=(s=n.find(a=>a.id===t))!==null&&s!==void 0?s:null}),r}de(t){if(sr(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var r=typeof t=="string"?this.he(t):t;return r?this._surveyManager.checkSurveyEligibility(r):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(sr(this._surveyManager))return mr.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var r=this.de(t);return{visible:r.eligible,disabledReason:r.reason}}canRenderSurveyAsync(t,r){return sr(this._surveyManager)?(mr.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(n=>{this.getSurveys(s=>{var a,i=(a=s.find(c=>c.id===t))!==null&&a!==void 0?a:null;if(i){var l=this.de(i);n({visible:l.eligible,disabledReason:l.reason})}else n({visible:!1,disabledReason:"Survey not found"})},r)})}renderSurvey(t,r){var n;if(sr(this._surveyManager))mr.warn("init was not called");else{var s=typeof t=="string"?this.he(t):t;if(s!=null&&s.id)if(dse.includes(s.type)){var a=nt==null?void 0:nt.querySelector(r);if(a)return(n=s.appearance)!=null&&n.surveyPopupDelaySeconds?(mr.info("Rendering survey "+s.id+" with delay of "+s.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout(()=>{var i,l;mr.info("Rendering survey "+s.id+" with delay of "+((i=s.appearance)==null?void 0:i.surveyPopupDelaySeconds)+" seconds"),(l=this._surveyManager)==null||l.renderSurvey(s,a),mr.info("Survey "+s.id+" rendered")},1e3*s.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(s,a);mr.warn("Survey element not found")}else mr.warn("Surveys of type "+s.type+" cannot be rendered in the app");else mr.warn("Survey not found")}}displaySurvey(t,r){var n;if(sr(this._surveyManager))mr.warn("init was not called");else{var s=this.he(t);if(s){var a=s;if((n=s.appearance)!=null&&n.surveyPopupDelaySeconds&&r.ignoreDelay&&(a=pt({},s,{appearance:pt({},s.appearance,{surveyPopupDelaySeconds:0})})),r.ignoreConditions===!1){var i=this.canRenderSurvey(s);if(!i.visible)return void mr.warn("Survey is not eligible to be displayed: ",i.disabledReason)}r.displayType!==r7.Inline?this._surveyManager.handlePopoverSurvey(a):this.renderSurvey(a,r.selector)}else mr.warn("Survey not found")}}cancelPendingSurvey(t){sr(this._surveyManager)?mr.warn("init was not called"):this._surveyManager.cancelSurvey(t)}}var xp=ln("[Conversations]");class mse{constructor(t){this.ve=void 0,this._conversationsManager=null,this.Ti=!1,this.ce=null,this._instance=t}onRemoteConfig(t){if(!this._instance.config.disable_conversations){var r=t.conversations;sr(r)||(Co(r)?this.ve=r:(this.ve=r.enabled,this.ce=r),this.loadIfEnabled())}}reset(){var t;(t=this._conversationsManager)==null||t.reset(),this._conversationsManager=null,this.ve=void 0,this.ce=null}loadIfEnabled(){if(!this._conversationsManager&&!this.Ti&&!(this._instance.config.disable_conversations||this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())){var t=Et==null?void 0:Et.__PosthogExtensions__;if(t&&!Qe(this.ve)&&this.ve)if(this.ce&&this.ce.token){if(function(s){var a;if(!s||s.length===0)return!0;var i=ye==null||(a=ye.location)==null?void 0:a.hostname;return!i||s.some(l=>{var c=function(d){var f=d.replace(/^https?:\/\//,"");return(f=f.split("/")[0].split("?")[0].split(":")[0])||null}(l);if(!c)return!1;if(c.startsWith("*.")){var u=c.slice(2);return i.endsWith("."+u)||i===u}return i===c})}(this.ce.domains)){this.Ti=!0;try{var r=t.initConversations;if(r)return this.Ci(r),void(this.Ti=!1);var n=t.loadExternalDependency;if(!n)return void this.fe("PostHog loadExternalDependency extension not found.");n(this._instance,"conversations",s=>{s||!t.initConversations?this.fe("Could not load conversations script",s):this.Ci(t.initConversations),this.Ti=!1})}catch(s){this.fe("Error initializing conversations",s),this.Ti=!1}}}else xp.error("Conversations enabled but missing token in remote config.")}}Ci(t){if(this.ce)try{this._conversationsManager=t(this.ce,this._instance),xp.info("Conversations loaded successfully")}catch(r){this.fe("Error completing conversations initialization",r)}else xp.error("Cannot complete initialization: remote config is null")}fe(t,r){xp.error(t,r),this._conversationsManager=null,this.Ti=!1}enable(){this._conversationsManager?this._conversationsManager.enable():xp.warn("Conversations not loaded yet.")}disable(){this._conversationsManager&&this._conversationsManager.disable()}isLoaded(){return!di(this._conversationsManager)}isEnabled(){return this.ve===!0}}var eM=ln("[RateLimiter]");class gse{constructor(t){var r,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=s=>{var a=s.text;if(a&&a.length)try{(JSON.parse(a).quota_limited||[]).forEach(i=>{eM.info((i||"events")+" is quota limited."),this.serverLimits[i]=new Date().getTime()+6e4})}catch(i){return void eM.warn('could not rate limit - continuing. Error: "'+(i==null?void 0:i.message)+'"',{text:a})}},this.instance=t,this.captureEventsPerSecond=((r=t.config.rate_limiting)==null?void 0:r.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((n=t.config.rate_limiting)==null?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var r,n,s;t===void 0&&(t=!1);var a=new Date().getTime(),i=(r=(n=this.instance.persistence)==null?void 0:n.get_property(Zk))!==null&&r!==void 0?r:{tokens:this.captureEventsBurstLimit,last:a};i.tokens+=(a-i.last)/1e3*this.captureEventsPerSecond,i.last=a,i.tokens>this.captureEventsBurstLimit&&(i.tokens=this.captureEventsBurstLimit);var l=i.tokens<1;return l||t||(i.tokens=Math.max(0,i.tokens-1)),!l||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=l,(s=this.instance.persistence)==null||s.set_property(Zk,i),{isRateLimited:l,remainingTokens:i.tokens}}isServerRateLimited(t){var r=this.serverLimits[t||"events"]||!1;return r!==!1&&new Date().getTime()<r}}var Cc=ln("[RemoteConfig]");class yse{constructor(t){this._instance=t}get remoteConfig(){var t;return(t=Et._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.config}pe(t){var r,n;(r=Et.__PosthogExtensions__)!=null&&r.loadExternalDependency?(n=Et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"remote-config",()=>t(this.remoteConfig)):(Cc.error("PostHog Extensions not found. Cannot load remote config."),t())}ge(t){this._instance._send_request({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:r=>{t(r.json)}})}load(){try{if(this.remoteConfig)return Cc.info("Using preloaded remote config",this.remoteConfig),void this.ci(this.remoteConfig);if(this._instance.O())return void Cc.warn("Remote config is disabled. Falling back to local config.");this.pe(t=>{if(!t)return Cc.info("No config found after loading remote JS config. Falling back to JSON."),void this.ge(r=>{this.ci(r)});this.ci(t)})}catch(t){Cc.error("Error loading remote config",t)}}ci(t){t?this._instance.config.__preview_remote_config?(this._instance.ci(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Cc.info("__preview_remote_config is disabled. Logging config instead",t):Cc.error("Failed to fetch remote config from PostHog.")}}var uE=3e3;class vse{constructor(t,r){this._e=!0,this.me=[],this.ye=Ci((r==null?void 0:r.flush_interval_ms)||uE,250,5e3,st.createLogger("flush interval"),uE),this.be=t}enqueue(t){this.me.push(t),this.we||this.xe()}unload(){this.Ee();var t=this.me.length>0?this.Se():{},r=Object.values(t);[...r.filter(n=>n.url.indexOf("/e")===0),...r.filter(n=>n.url.indexOf("/e")!==0)].map(n=>{this.be(pt({},n,{transport:"sendBeacon"}))})}enable(){this._e=!1,this.xe()}xe(){var t=this;this._e||(this.we=setTimeout(()=>{if(this.Ee(),this.me.length>0){var r=this.Se(),n=function(){var a=r[s],i=new Date().getTime();a.data&&lr(a.data)&&Er(a.data,l=>{l.offset=Math.abs(l.timestamp-i),delete l.timestamp}),t.be(a)};for(var s in r)n()}},this.ye))}Ee(){clearTimeout(this.we),this.we=void 0}Se(){var t={};return Er(this.me,r=>{var n,s=r,a=(s?s.batchKey:null)||s.url;Qe(t[a])&&(t[a]=pt({},s,{data:[]})),(n=t[a].data)==null||n.push(s.data)}),this.me=[],t}}var xse=["retriesPerformedSoFar"];class bse{constructor(t){this.$e=!1,this.ke=3e3,this.me=[],this._instance=t,this.me=[],this.Pe=!0,!Qe(ye)&&"onLine"in ye.navigator&&(this.Pe=ye.navigator.onLine,this.Te=()=>{this.Pe=!0,this.Dt()},this.Ce=()=>{this.Pe=!1},hn(ye,"online",this.Te),hn(ye,"offline",this.Ce))}get length(){return this.me.length}retriableRequest(t){var{retriesPerformedSoFar:r}=t,n=XB(t,xse);Ki(r)&&r>0&&(n.url=Px(n.url,{retry_count:r})),this._instance._send_request(pt({},n,{callback:s=>{s.statusCode!==200&&(s.statusCode<400||s.statusCode>=500)&&(r??0)<10?this.Re(pt({retriesPerformedSoFar:r},n)):n.callback==null||n.callback(s)}}))}Re(t){var r=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=r+1;var n=function(i){var l=3e3*Math.pow(2,i),c=l/2,u=Math.min(18e5,l),d=(Math.random()-.5)*(u-c);return Math.ceil(u+d)}(r),s=Date.now()+n;this.me.push({retryAt:s,requestOptions:t});var a="Enqueued failed request for retry in "+n;navigator.onLine||(a+=" (Browser is offline)"),st.warn(a),this.$e||(this.$e=!0,this.Ie())}Ie(){if(this.Fe&&clearTimeout(this.Fe),this.me.length===0)return this.$e=!1,void(this.Fe=void 0);this.Fe=setTimeout(()=>{this.Pe&&this.me.length>0&&this.Dt(),this.Ie()},this.ke)}Dt(){var t=Date.now(),r=[],n=this.me.filter(a=>a.retryAt<t||(r.push(a),!1));if(this.me=r,n.length>0)for(var{requestOptions:s}of n)this.retriableRequest(s)}unload(){for(var{requestOptions:t}of(this.Fe&&(clearTimeout(this.Fe),this.Fe=void 0),this.$e=!1,Qe(ye)||(this.Te&&(ye.removeEventListener("online",this.Te),this.Te=void 0),this.Ce&&(ye.removeEventListener("offline",this.Ce),this.Ce=void 0)),this.me))try{this._instance._send_request(pt({},t,{transport:"sendBeacon"}))}catch(r){st.error(r)}this.me=[]}}class wse{constructor(t){this.Me=()=>{var r,n,s,a;this.Oe||(this.Oe={});var i=this.scrollElement(),l=this.scrollY(),c=i?Math.max(0,i.scrollHeight-i.clientHeight):0,u=l+((i==null?void 0:i.clientHeight)||0),d=(i==null?void 0:i.scrollHeight)||0;this.Oe.lastScrollY=Math.ceil(l),this.Oe.maxScrollY=Math.max(l,(r=this.Oe.maxScrollY)!==null&&r!==void 0?r:0),this.Oe.maxScrollHeight=Math.max(c,(n=this.Oe.maxScrollHeight)!==null&&n!==void 0?n:0),this.Oe.lastContentY=u,this.Oe.maxContentY=Math.max(u,(s=this.Oe.maxContentY)!==null&&s!==void 0?s:0),this.Oe.maxContentHeight=Math.max(d,(a=this.Oe.maxContentHeight)!==null&&a!==void 0?a:0)},this._instance=t}getContext(){return this.Oe}resetContext(){var t=this.Oe;return setTimeout(this.Me,0),t}startMeasuringScrollPosition(){hn(ye,"scroll",this.Me,{capture:!0}),hn(ye,"scrollend",this.Me,{capture:!0}),hn(ye,"resize",this.Me)}scrollElement(){if(!this._instance.config.scroll_root_selector)return ye==null?void 0:ye.document.documentElement;var t=lr(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var r of t){var n=ye==null?void 0:ye.document.querySelector(r);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return ye&&(ye.scrollY||ye.pageYOffset||ye.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return ye&&(ye.scrollX||ye.pageXOffset||ye.document.documentElement.scrollLeft)||0}}var _se=e=>HU(e==null?void 0:e.config.mask_personal_data_properties,e==null?void 0:e.config.custom_personal_data_properties);class tM{constructor(t,r,n,s){this.Ae=a=>{var i=this.De();if(!i||i.sessionId!==a){var l={sessionId:a,props:this.je(this._instance)};this.Le.register({[Qk]:l})}},this._instance=t,this.Ne=r,this.Le=n,this.je=s||_se,this.Ne.onSessionId(this.Ae)}De(){return this.Le.props[Qk]}getSetOnceProps(){var t,r=(t=this.De())==null?void 0:t.props;return r?"r"in r?KU(r):{$referring_domain:r.referringDomain,$pathname:r.initialPathName,utm_source:r.utm_source,utm_campaign:r.utm_campaign,utm_medium:r.utm_medium,utm_content:r.utm_content,utm_term:r.utm_term}:{}}getSessionProps(){var t={};return Er(SP(this.getSetOnceProps()),(r,n)=>{n==="$current_url"&&(n="url"),t["$session_entry_"+Wk(n)]=r}),t}}var fS=ln("[SessionId]");class rM{on(t,r){return this.Ue.on(t,r)}constructor(t,r,n){var s;if(this.ze=[],this.He=void 0,this.Ue=new RP,this.Be=(d,f)=>Math.abs(d-f)>this.sessionTimeoutMs,!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.I=t.config,this.Le=t.persistence,this.qe=void 0,this.We=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Ge=r||$l,this.Ve=n||$l;var a=this.I.persistence_name||this.I.token,i=this.I.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Ci(i,60,36e3,fS.createLogger("session_idle_timeout_seconds"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Je(),this.Ke="ph_"+a+"_window_id",this.Ye="ph_"+a+"_primary_window_exists",this.Xe()){var l=zn.W(this.Ke),c=zn.W(this.Ye);l&&!c?this.qe=l:zn.V(this.Ke),zn.G(this.Ye,!0)}if((s=this.I.bootstrap)!=null&&s.sessionID)try{var u=(d=>{var f=d.replace(/-/g,"");if(f.length!==32)throw new Error("Not a valid UUID");if(f[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(f.substring(0,12),16)})(this.I.bootstrap.sessionID);this.Qe(this.I.bootstrap.sessionID,new Date().getTime(),u)}catch(d){fS.error("Invalid sessionID in bootstrap",d)}this.Ze()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return Qe(this.ze)&&(this.ze=[]),this.ze.push(t),this.We&&t(this.We,this.qe),()=>{this.ze=this.ze.filter(r=>r!==t)}}Xe(){return this.I.persistence!=="memory"&&!this.Le.bi&&zn.H()}tr(t){t!==this.qe&&(this.qe=t,this.Xe()&&zn.G(this.Ke,t))}ir(){return this.qe?this.qe:this.Xe()?zn.W(this.Ke):null}Qe(t,r,n){t===this.We&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this.We=t,this.Le.register({[vx]:[r,t,n]}))}er(){var t=this.Le.props[vx];return lr(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.Qe(null,null,null)}destroy(){clearTimeout(this.rr),this.rr=void 0,this.He&&ye&&(ye.removeEventListener("beforeunload",this.He,{capture:!1}),this.He=void 0),this.ze=[]}Ze(){this.He=()=>{this.Xe()&&zn.V(this.Ye)},hn(ye,"beforeunload",this.He,{capture:!1})}checkAndGetSessionAndWindowId(t,r){if(t===void 0&&(t=!1),r===void 0&&(r=null),this.I.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=r||new Date().getTime(),[s,a,i]=this.er(),l=this.ir(),c=Ki(i)&&i>0&&Math.abs(n-i)>864e5,u=!1,d=!a,f=!d&&!t&&this.Be(n,s);d||f||c?(a=this.Ge(),l=this.Ve(),fS.info("new session ID generated",{sessionId:a,windowId:l,changeReason:{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}}),i=n,u=!0):l||(l=this.Ve(),u=!0);var h=s===0||!t||c?n:s,g=i===0?new Date().getTime():i;return this.tr(l),this.Qe(a,h,g),t||this.Je(),u&&this.ze.forEach(v=>v(a,l,u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}:void 0)),{sessionId:a,windowId:l,sessionStartTimestamp:g,changeReason:u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}:void 0,lastActivityTimestamp:s}}Je(){clearTimeout(this.rr),this.rr=setTimeout(()=>{var[t]=this.er();if(this.Be(new Date().getTime(),t)){var r=this.We;this.resetSessionId(),this.Ue.emit("forcedIdleReset",{idleSessionId:r})}},1.1*this.sessionTimeoutMs)}}var Sse=["$set_once","$set"],nl=ln("[SiteApps]");class jse{constructor(t){this._instance=t,this.sr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}nr(t,r){if(r){var n=this.globalsForEvent(r);this.sr.push(n),this.sr.length>1e3&&(this.sr=this.sr.slice(10))}}get siteAppLoaders(){var t;return(t=Et._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Ni(this.nr.bind(this));this.ar=()=>{t(),this.sr=[],this.ar=void 0}}}globalsForEvent(t){var r,n,s,a,i,l,c;if(!t)throw new Error("Event payload is required");var u={},d=this._instance.get_property("$groups")||[],f=this._instance.get_property("$stored_group_properties")||{};for(var[h,g]of Object.entries(f))u[h]={id:d[h],type:h,properties:g};var{$set_once:v,$set:p}=t;return{event:pt({},XB(t,Sse),{properties:pt({},t.properties,p?{$set:pt({},(r=(n=t.properties)==null?void 0:n.$set)!==null&&r!==void 0?r:{},p)}:{},v?{$set_once:pt({},(s=(a=t.properties)==null?void 0:a.$set_once)!==null&&s!==void 0?s:{},v)}:{}),elements_chain:(i=(l=t.properties)==null?void 0:l.$elements_chain)!==null&&i!==void 0?i:"",distinct_id:(c=t.properties)==null?void 0:c.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:u}}setupSiteApp(t){var r=this.apps[t.id],n=()=>{var l;!r.errored&&this.sr.length&&(nl.info("Processing "+this.sr.length+" events for site app with id "+t.id),this.sr.forEach(c=>r.processEvent==null?void 0:r.processEvent(c)),r.processedBuffer=!0),Object.values(this.apps).every(c=>c.processedBuffer||c.errored)&&((l=this.ar)==null||l.call(this))},s=!1,a=l=>{r.errored=!l,r.loaded=!0,nl.info("Site app with id "+t.id+" "+(l?"loaded":"errored")),s&&n()};try{var{processEvent:i}=t.init({posthog:this._instance,callback:l=>{a(l)}});i&&(r.processEvent=i),s=!0}catch(l){nl.error("Error while initializing PostHog app with config id "+t.id,l),a(!1)}if(s&&r.loaded)try{n()}catch(l){nl.error("Error while processing buffered events PostHog app with config id "+t.id,l),r.errored=!0}}lr(){var t=this.siteAppLoaders||[];for(var r of t)this.apps[r.id]={id:r.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of t)this.setupSiteApp(n)}ur(t){if(Object.keys(this.apps).length!==0){var r=this.globalsForEvent(t);for(var n of Object.values(this.apps))try{n.processEvent==null||n.processEvent(r)}catch(s){nl.error("Error while processing event "+t.event+" for site app "+n.id,s)}}}onRemoteConfig(t){var r,n,s,a=this;if((r=this.siteAppLoaders)!=null&&r.length)return this.isEnabled?(this.lr(),void this._instance.on("eventCaptured",u=>this.ur(u))):void nl.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((n=this.ar)==null||n.call(this),(s=t.siteApps)!=null&&s.length)if(this.isEnabled){var i=function(u){var d;Et["__$$ph_site_app_"+u]=a._instance,(d=Et.__PosthogExtensions__)==null||d.loadSiteApp==null||d.loadSiteApp(a._instance,c,f=>{if(f)return nl.error("Error while initializing PostHog app with config id "+u,f)})};for(var{id:l,url:c}of t.siteApps)i(l)}else nl.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var n7=function(e,t){if(!e)return!1;var r=e.userAgent;if(r&&p$(r,t))return!0;try{var n=e==null?void 0:e.userAgentData;if(n!=null&&n.brands&&n.brands.some(s=>p$(s==null?void 0:s.brand,t)))return!0}catch{}return!!e.webdriver},Qp=function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e}({}),nM="i.posthog.com";class kse{constructor(t){this.hr={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get flagsApiHost(){var t=this.instance.config.flags_api_host;return t?t.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var t,r=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return r||(r=this.apiHost.replace("."+nM,".posthog.com")),r==="https://app.posthog.com"?"https://us.posthog.com":r}get region(){return this.hr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.hr[this.apiHost]=Qp.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.hr[this.apiHost]=Qp.EU:this.hr[this.apiHost]=Qp.CUSTOM),this.hr[this.apiHost]}endpointFor(t,r){if(r===void 0&&(r=""),r&&(r=r[0]==="/"?r:"/"+r),t==="ui")return this.uiHost+r;if(t==="flags")return this.flagsApiHost+r;if(this.region===Qp.CUSTOM)return this.apiHost+r;var n=nM+r;switch(t){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var Ese={icontains:(e,t)=>!!ye&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!ye&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!ye&&Ax(t.href,e),not_regex:(e,t)=>!!ye&&!Ax(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Jn{constructor(t){var r=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(n){n===void 0&&(n=!1),r.getWebExperiments(s=>{Jn.dr("retrieved web experiments from the server"),r.vr=new Map,s.forEach(a=>{if(a.feature_flag_key){var i;r.vr&&(Jn.dr("setting flag key ",a.feature_flag_key," to web experiment ",a),(i=r.vr)==null||i.set(a.feature_flag_key,a));var l=r._instance.getFeatureFlag(a.feature_flag_key);jn(l)&&a.variants[l]&&r.cr(a.name,l,a.variants[l].transforms)}else if(a.variants)for(var c in a.variants){var u=a.variants[c];Jn.pr(u)&&r.cr(a.name,c,u.transforms)}})},n)},this._instance=t,this._instance.onFeatureFlags(n=>{this.onFeatureFlags(n)})}onFeatureFlags(t){if(this._is_bot())Jn.dr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(sr(this.vr))return this.vr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Jn.dr("applying feature flags",t),t.forEach(r=>{var n;if(this.vr&&(n=this.vr)!=null&&n.has(r)){var s,a=this._instance.getFeatureFlag(r),i=(s=this.vr)==null?void 0:s.get(r);a&&i!=null&&i.variants[a]&&this.cr(i.name,a,i.variants[a].transforms)}})}}previewWebExperiment(){var t=Jn.getWindowLocation();if(t!=null&&t.search){var r=jx(t==null?void 0:t.search,"__experiment_id"),n=jx(t==null?void 0:t.search,"__experiment_variant");r&&n&&(Jn.dr("previewing web experiments "+r+" && "+n),this.getWebExperiments(s=>{this.gr(parseInt(r),n,s)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,r,n){if(this._instance.config.disable_web_experiments&&!n)return t([]);var s=this._instance.get_property("$web_experiments");if(s&&!r)return t(s);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:a=>{if(a.statusCode!==200||!a.json)return t([]);var i=a.json.experiments||[];return t(i)}})}gr(t,r,n){var s=n.filter(a=>a.id===t);s&&s.length>0&&(Jn.dr("Previewing web experiment ["+s[0].name+"] with variant ["+r+"]"),this.cr(s[0].name,r,s[0].variants[r].transforms))}static pr(t){return!sr(t.conditions)&&Jn._r(t)&&Jn.mr(t)}static _r(t){var r;if(sr(t.conditions)||sr((r=t.conditions)==null?void 0:r.url))return!0;var n,s,a,i=Jn.getWindowLocation();return!!i&&((n=t.conditions)==null||!n.url||Ese[(s=(a=t.conditions)==null?void 0:a.urlMatchType)!==null&&s!==void 0?s:"icontains"](t.conditions.url,i))}static getWindowLocation(){return ye==null?void 0:ye.location}static mr(t){var r;if(sr(t.conditions)||sr((r=t.conditions)==null?void 0:r.utm))return!0;var n=zU();if(n.utm_source){var s,a,i,l,c,u,d,f,h=(s=t.conditions)==null||(s=s.utm)==null||!s.utm_campaign||((a=t.conditions)==null||(a=a.utm)==null?void 0:a.utm_campaign)==n.utm_campaign,g=(i=t.conditions)==null||(i=i.utm)==null||!i.utm_source||((l=t.conditions)==null||(l=l.utm)==null?void 0:l.utm_source)==n.utm_source,v=(c=t.conditions)==null||(c=c.utm)==null||!c.utm_medium||((u=t.conditions)==null||(u=u.utm)==null?void 0:u.utm_medium)==n.utm_medium,p=(d=t.conditions)==null||(d=d.utm)==null||!d.utm_term||((f=t.conditions)==null||(f=f.utm)==null?void 0:f.utm_term)==n.utm_term;return h&&v&&p&&g}return!1}static dr(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];st.info("[WebExperiments] "+t,n)}cr(t,r,n){this._is_bot()?Jn.dr("Refusing to render web experiment since the viewer is a likely bot"):r!=="control"?n.forEach(s=>{if(s.selector){var a;Jn.dr("applying transform of variant "+r+" for experiment "+t+" ",s);var i=(a=document)==null?void 0:a.querySelectorAll(s.selector);i==null||i.forEach(l=>{var c=l;s.html&&(c.innerHTML=s.html),s.css&&c.setAttribute("style",s.css)})}}):Jn.dr("Control variants leave the page unmodified.")}_is_bot(){return ra&&this._instance?n7(ra,this._instance.config.custom_blocked_useragents):void 0}}var Nse=ln("[PostHog ExternalIntegrations]"),Cse={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class Pse{constructor(t){this._instance=t}it(t,r){var n;(n=Et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,t,s=>{if(s)return Nse.error("failed to load script",s);r()})}startIfEnabledOrStop(){var t=this,r=function(i){var l,c,u;!s||(l=Et.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[i]||t.it(Cse[i],()=>{var d;(d=Et.__PosthogExtensions__)==null||(d=d.integrations)==null||(d=d[i])==null||d.start(t._instance)}),!s&&(c=Et.__PosthogExtensions__)!=null&&(c=c.integrations)!=null&&c[i]&&((u=Et.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[i])==null||u.stop())};for(var[n,s]of Object.entries((a=this._instance.config.integrations)!==null&&a!==void 0?a:{})){var a;r(n)}}}var dE="[SessionRecording]",bp=ln(dE);class sM{get started(){var t;return!((t=this.yr)==null||!t.isStarted)}get status(){return this.yr?this.yr.status:this.br&&!this.wr?"disabled":"lazy_loading"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.br=!1,this.Er=void 0,this._instance=t,!this._instance.sessionManager)throw bp.error("started without valid sessionManager"),new Error(dE+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(dE+' cannot be used with cookieless_mode="always"')}get wr(){var t,r=!((t=this._instance.get_property(Q_))==null||!t.enabled),n=!this._instance.config.disable_session_recording,s=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return ye&&r&&n&&!s}startIfEnabledOrStop(t){var r;if(!this.wr||(r=this.yr)==null||!r.isStarted){var n=!Qe(Object.assign)&&!Qe(Array.from);this.wr&&n?(this.Sr(t),bp.info("starting")):this.stopRecording()}}Sr(t){var r,n,s;this.wr&&(Et!=null&&(r=Et.__PosthogExtensions__)!=null&&(r=r.rrweb)!=null&&r.record&&(n=Et.__PosthogExtensions__)!=null&&n.initSessionRecording?this.$r(t):(s=Et.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,this.kr,a=>{if(a)return bp.error("could not load recorder",a);this.$r(t)}))}stopRecording(){var t,r;(t=this.Er)==null||t.call(this),this.Er=void 0,(r=this.yr)==null||r.stop()}Pr(){var t;(t=this._instance.persistence)==null||t.unregister(oU)}Tr(t){if(this._instance.persistence){var r,n,s=this._instance.persistence,a=()=>{var i=t.sessionRecording===!1?void 0:t.sessionRecording,l=i==null?void 0:i.sampleRate,c=sr(l)?null:parseFloat(l);sr(c)&&this.Pr();var u=i==null?void 0:i.minimumDurationMilliseconds;s.register({[Q_]:pt({enabled:!!i},i,{networkPayloadCapture:pt({capturePerformance:t.capturePerformance},i==null?void 0:i.networkPayloadCapture),canvasRecording:{enabled:i==null?void 0:i.recordCanvas,fps:i==null?void 0:i.canvasFps,quality:i==null?void 0:i.canvasQuality},sampleRate:c,minimumDurationMilliseconds:Qe(u)?null:u,endpoint:i==null?void 0:i.endpoint,triggerMatchType:i==null?void 0:i.triggerMatchType,masking:i==null?void 0:i.masking,urlTriggers:i==null?void 0:i.urlTriggers})})};a(),(r=this.Er)==null||r.call(this),this.Er=(n=this._instance.sessionManager)==null?void 0:n.onSessionId(a)}}onRemoteConfig(t){"sessionRecording"in t?t.sessionRecording!==!1?(this.Tr(t),this.br=!0,this.startIfEnabledOrStop()):this.br=!0:bp.info("skipping remote config with no sessionRecording",t)}log(t,r){var n;r===void 0&&(r="log"),(n=this.yr)!=null&&n.log?this.yr.log(t,r):bp.warn("log called before recorder was ready")}get kr(){var t,r,n=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.get_property(Q_);return(n==null||(r=n.scriptConfig)==null?void 0:r.script)||"lazy-recorder"}$r(t){var r,n;if((r=Et.__PosthogExtensions__)==null||!r.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.yr||(this.yr=(n=Et.__PosthogExtensions__)==null?void 0:n.initSessionRecording(this._instance),this.yr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.yr.start(t)}onRRwebEmit(t){var r;(r=this.yr)==null||r.onRRwebEmit==null||r.onRRwebEmit(t)}overrideLinkedFlag(){var t,r;this.yr||(r=this._instance.persistence)==null||r.register({$replay_override_linked_flag:!0}),(t=this.yr)==null||t.overrideLinkedFlag()}overrideSampling(){var t,r;this.yr||(r=this._instance.persistence)==null||r.register({$replay_override_sampling:!0}),(t=this.yr)==null||t.overrideSampling()}overrideTrigger(t){var r,n;this.yr||(n=this._instance.persistence)==null||n.register({[t==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(r=this.yr)==null||r.overrideTrigger(t)}get sdkDebugProperties(){var t;return((t=this.yr)==null?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,r){var n;return!((n=this.yr)==null||!n.tryAddCustomEvent(t,r))}}var ym={},fE=()=>{},jd="posthog",s7=!rse&&(Cs==null?void 0:Cs.indexOf("MSIE"))===-1&&(Cs==null?void 0:Cs.indexOf("Mozilla"))===-1,aM=e=>{var t;return pt({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:Jre(nt==null?void 0:nt.location),persistence:"localStorage+cookie",persistence_name:"",loaded:fE,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:e??"unset",__preview_deferred_init_extensions:!1,debug:Ts&&jn(Ts==null?void 0:Ts.search)&&Ts.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_conversations:!1,disable_product_tours:!0,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(ye==null||(t=ye.location)==null?void 0:t.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:r=>{var n="Bad HTTP status: "+r.statusCode+" "+r.text;st.error(n)},get_device_id:r=>r,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:uE},error_tracking:{},_onCapture:fE,__preview_eager_load_replay:!1},(r=>({rageclick:!(r&&r>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(r&&r>="2025-05-24")||"history_change",session_recording:r&&r>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(e))},iM=e=>{var t={};Qe(e.process_person)||(t.person_profiles=e.process_person),Qe(e.xhr_headers)||(t.request_headers=e.xhr_headers),Qe(e.cookie_name)||(t.persistence_name=e.cookie_name),Qe(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),Qe(e.store_google)||(t.save_campaign_params=e.store_google),Qe(e.verbose)||(t.debug=e.verbose);var r=rn({},t,e);return lr(e.property_blacklist)&&(Qe(e.property_denylist)?r.property_denylist=e.property_blacklist:lr(e.property_denylist)?r.property_denylist=[...e.property_blacklist,...e.property_denylist]:st.error("Invalid value for property_denylist config: "+e.property_denylist)),r};class Ase{constructor(){this.__forceAllowLocalhost=!1}get Cr(){return this.__forceAllowLocalhost}set Cr(t){st.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class Nw{get decideEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}get flagsEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new Ase,this.Rr=!1,this.version=fo.LIB_VERSION,this.Ir=new RP,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=aM(),this.SentryIntegration=kne,this.sentryIntegration=t=>function(r,n){var s=kU(r,n);return{name:jU,processEvent:a=>s(a)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Fr=!1,this.Mr=null,this.Or=null,this.Ar=null,this.featureFlags=new ise(this),this.toolbar=new Nne(this),this.scrollManager=new wse(this),this.pageViewManager=new Kne(this),this.surveys=new pse(this),this.conversations=new mse(this),this.productTours=new lse(this),this.experiments=new Jn(this),this.exceptions=new nse(this),this.rateLimiter=new gse(this),this.requestRouter=new kse(this),this.consent=new xne(this),this.externalIntegrations=new Pse(this),this.people={set:(t,r,n)=>{var s=jn(t)?{[t]:r}:t;this.setPersonProperties(s),n==null||n({})},set_once:(t,r,n)=>{var s=jn(t)?{[t]:r}:t;this.setPersonProperties(void 0,s),n==null||n({})}},this.on("eventCaptured",t=>st.info('send "'+(t==null?void 0:t.event)+'"',t))}init(t,r,n){if(n&&n!==jd){var s,a=(s=ym[n])!==null&&s!==void 0?s:new Nw;return a._init(t,r,n),ym[n]=a,ym[jd][n]=a,a}return this._init(t,r,n)}_init(t,r,n){var s;if(r===void 0&&(r={}),Qe(t)||Vk(t))return st.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},r.debug=this.Dr(r.debug),this.jr=r,this.Lr=[],r.person_profiles&&(this.Or=r.person_profiles),this.set_config(rn({},aM(r.defaults),iM(r),{name:n,token:t})),this.config.on_xhr_error&&st.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=r.disable_compression?void 0:vo.GZipJS;var a=this.Nr();this.persistence=new cS(this.config,a),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new cS(pt({},this.config,{persistence:"sessionStorage"}),a);var i=pt({},this.persistence.props),l=pt({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Ur=new vse(b=>this.zr(b),this.config.request_queue_config),this.Hr=new bse(this),this.__request_queue=[];var c=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(c||(this.sessionManager=new rM(this),this.sessionPropsManager=new tM(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(st.info("Deferring extension initialization to improve startup performance"),setTimeout(()=>{this.Br(c)},0)):(st.info("Initializing extensions synchronously"),this.Br(c)),fo.DEBUG=fo.DEBUG||this.config.debug,fo.DEBUG&&st.info("Starting in debug mode",{this:this,config:r,thisC:pt({},this.config),p:i,s:l}),((s=r.bootstrap)==null?void 0:s.distinctID)!==void 0){var u,d,f=this.config.get_device_id($l()),h=(u=r.bootstrap)!=null&&u.isIdentifiedID?f:r.bootstrap.distinctID;this.persistence.set_property(ho,(d=r.bootstrap)!=null&&d.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:r.bootstrap.distinctID,$device_id:h})}if(this.qr()){var g,v,p=Object.keys(((g=r.bootstrap)==null?void 0:g.featureFlags)||{}).filter(b=>{var w;return!((w=r.bootstrap)==null||(w=w.featureFlags)==null||!w[b])}).reduce((b,w)=>{var _;return b[w]=((_=r.bootstrap)==null||(_=_.featureFlags)==null?void 0:_[w])||!1,b},{}),y=Object.keys(((v=r.bootstrap)==null?void 0:v.featureFlagPayloads)||{}).filter(b=>p[b]).reduce((b,w)=>{var _,S;return(_=r.bootstrap)!=null&&(_=_.featureFlagPayloads)!=null&&_[w]&&(b[w]=(S=r.bootstrap)==null||(S=S.featureFlagPayloads)==null?void 0:S[w]),b},{});this.featureFlags.receivedFeatureFlags({featureFlags:p,featureFlagPayloads:y})}if(c)this.register_once({distinct_id:dp,$device_id:null},"");else if(!this.get_distinct_id()){var x=this.config.get_device_id($l());this.register_once({distinct_id:x,$device_id:x},""),this.persistence.set_property(ho,"anonymous")}return hn(ye,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),r.segment?jne(this,()=>this.Wr()):this.Wr(),Kl(this.config._onCapture)&&this.config._onCapture!==fE&&(st.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",b=>this.config._onCapture(b.event,b))),this.config.ip&&st.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Br(t){var r=performance.now();this.historyAutocapture=new Sne(this),this.historyAutocapture.startIfEnabled();var n=[];n.push(()=>{new Pne(this).startIfEnabledOrStop()}),n.push(()=>{var s;this.siteApps=new jse(this),(s=this.siteApps)==null||s.init()}),t||n.push(()=>{this.sessionRecording=new sM(this),this.sessionRecording.startIfEnabledOrStop()}),this.config.disable_scroll_properties||n.push(()=>{this.scrollManager.startMeasuringScrollPosition()}),n.push(()=>{this.autocapture=new dne(this),this.autocapture.startIfEnabled()}),n.push(()=>{this.surveys.loadIfEnabled()}),n.push(()=>{this.conversations.loadIfEnabled()}),n.push(()=>{this.productTours.loadIfEnabled()}),n.push(()=>{this.heatmaps=new Hne(this),this.heatmaps.startIfEnabled()}),n.push(()=>{this.webVitalsAutocapture=new Wne(this)}),n.push(()=>{this.exceptionObserver=new _ne(this),this.exceptionObserver.startIfEnabled()}),n.push(()=>{this.deadClicksAutocapture=new SU(this,wne),this.deadClicksAutocapture.startIfEnabled()}),n.push(()=>{if(this.Gr){var s=this.Gr;this.Gr=void 0,this.ci(s)}}),this.Vr(n,r)}Vr(t,r){for(;t.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-r>=30&&t.length>0)return void setTimeout(()=>{this.Vr(t,r)},0);var n=t.shift();if(n)try{n()}catch(a){st.error("Error initializing extension:",a)}}var s=Math.round(performance.now()-r);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:s}),this.config.__preview_deferred_init_extensions&&st.info("PostHog extensions initialized ("+s+"ms)")}ci(t){var r,n,s,a,i,l,c,u;if(!nt||!nt.body)return st.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.ci(t)},500);this.config.__preview_deferred_init_extensions&&(this.Gr=t),this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=qt(t.supportedCompression,vo.GZipJS)?vo.GZipJS:qt(t.supportedCompression,vo.Base64)?vo.Base64:void 0),(r=t.analytics)!=null&&r.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.Or?this.Or:"identified_only"}),(n=this.siteApps)==null||n.onRemoteConfig(t),(s=this.sessionRecording)==null||s.onRemoteConfig(t),(a=this.autocapture)==null||a.onRemoteConfig(t),(i=this.heatmaps)==null||i.onRemoteConfig(t),this.surveys.onRemoteConfig(t),this.conversations.onRemoteConfig(t),this.productTours.onRemoteConfig(t),(l=this.webVitalsAutocapture)==null||l.onRemoteConfig(t),(c=this.exceptionObserver)==null||c.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),(u=this.deadClicksAutocapture)==null||u.onRemoteConfig(t)}Wr(){try{this.config.loaded(this)}catch(t){st.critical("`loaded` function failed",t)}this.Jr(),this.config.capture_pageview&&setTimeout(()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Kr()},1),new yse(this).load(),this.featureFlags.flags()}Jr(){var t;this.is_capturing()&&this.config.request_batching&&((t=this.Ur)==null||t.enable())}_dom_loaded(){this.is_capturing()&&Gl(this.__request_queue,t=>this.zr(t)),this.__request_queue=[],this.Jr()}_handle_unload(){var t,r;this.config.request_batching?(this.Yr()&&this.capture("$pageleave"),(t=this.Ur)==null||t.unload(),(r=this.Hr)==null||r.unload()):this.Yr()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(t){this.__loaded&&(s7?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=Px(t.url,{ip:this.config.ip?1:0}),t.headers=pt({},this.config.request_headers,t.headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=["sendBeacon"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(r=>{var n,s,a,i=pt({},r);i.timeout=i.timeout||6e4,i.url=Px(i.url,{_:new Date().getTime().toString(),ver:fo.LIB_VERSION,compression:i.compression});var l=(n=i.transport)!==null&&n!==void 0?n:"fetch",c=R0.filter(d=>!i.disableTransport||!d.transport||!i.disableTransport.includes(d.transport)),u=(s=(a=sU(c,d=>d.transport===l))==null?void 0:a.method)!==null&&s!==void 0?s:c[0].method;if(!u)throw new Error("No available transport method");u(i)})(pt({},t,{callback:r=>{var n,s;this.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((n=(s=this.config).on_request_error)==null||n.call(s,r)),t.callback==null||t.callback(r)}}))))}zr(t){this.Hr?this.Hr.retriableRequest(t):this._send_request(t)}_execute_array(t){var r,n=[],s=[],a=[];Gl(t,l=>{l&&(r=l[0],lr(r)?a.push(l):Kl(l)?l.call(this):lr(l)&&r==="alias"?n.push(l):lr(l)&&r.indexOf("capture")!==-1&&Kl(this[r])?a.push(l):s.push(l))});var i=function(l,c){Gl(l,function(u){if(lr(u[0])){var d=c;Er(u,function(f){d=d[f[0]].apply(d,f.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};i(n,this),i(s,this),i(a,this)}qr(){var t,r;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((r=this.config.bootstrap)==null?void 0:r.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,r,n){var s;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ur){if(this.is_capturing())if(!Qe(t)&&jn(t)){var a=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(a&&!this.config.__preview_capture_bot_pageviews)){var i=n!=null&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(i==null||!i.isRateLimited){r!=null&&r.$current_url&&!jn(r==null?void 0:r.$current_url)&&(st.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),r==null||delete r.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var l=new Date,c=(n==null?void 0:n.timestamp)||l,u=$l(),d={uuid:u,event:t,properties:this.calculateEventProperties(t,r||{},c,u)};t==="$pageview"&&this.config.__preview_capture_bot_pageviews&&a&&(d.event="$bot_pageview",d.properties.$browser_type="bot"),i&&(d.properties.$lib_rate_limit_remaining_tokens=i.remainingTokens),n!=null&&n.$set&&(d.$set=n==null?void 0:n.$set);var f,h=t!=="$groupidentify",g=this.Xr(n==null?void 0:n.$set_once,h);if(g&&(d.$set_once=g),(d=Gre(d,n!=null&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=c,Qe(n==null?void 0:n.timestamp)||(d.properties.$event_time_override_provided=!0,d.properties.$event_time_override_system_time=l),t===$0.DISMISSED||t===$0.SENT){var v=r==null?void 0:r[Q$.SURVEY_ID],p=r==null?void 0:r[Q$.SURVEY_ITERATION];f={id:v,current_iteration:p},localStorage.getItem(Z$(f))||localStorage.setItem(Z$(f),"true"),d.$set=pt({},d.$set,{[use({id:v,current_iteration:p},t===$0.SENT?"responded":"dismissed")]:!0})}var y=pt({},d.properties.$set,d.$set);if(Fd(y)||this.setPersonPropertiesForFlags(y),!sr(this.config.before_send)){var x=this.Qr(d);if(!x)return;d=x}this.Ir.emit("eventCaptured",d);var b={method:"POST",url:(s=n==null?void 0:n._url)!==null&&s!==void 0?s:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:d,compression:"best-available",batchKey:n==null?void 0:n._batchKey};return!this.config.request_batching||n&&(n==null||!n._batchKey)||n!=null&&n.send_instantly?this.zr(b):this.Ur.enqueue(b),d}st.critical("This capture call is ignored due to client rate limiting.")}}else st.error("No event name provided to posthog.capture")}else st.uninitializedWarning("posthog.capture")}Ni(t){return this.on("eventCaptured",r=>t(r.event,r))}calculateEventProperties(t,r,n,s,a){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return r;var i=a?void 0:this.persistence.remove_event_timer(t),l=pt({},r);if(l.token=this.config.token,l.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(l.$cookieless_mode=!0),t==="$snapshot"){var c=pt({},this.persistence.properties(),this.sessionPersistence.properties());return l.distinct_id=c.distinct_id,(!jn(l.distinct_id)&&!Ki(l.distinct_id)||Vk(l.distinct_id))&&st.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),l}var u,d=qne(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:f,windowId:h}=this.sessionManager.checkAndGetSessionAndWindowId(a,n.getTime());l.$session_id=f,l.$window_id=h}this.sessionPropsManager&&rn(l,this.sessionPropsManager.getSessionProps());try{var g;this.sessionRecording&&rn(l,this.sessionRecording.sdkDebugProperties),l.$sdk_debug_retry_queue_size=(g=this.Hr)==null?void 0:g.length}catch(x){l.$sdk_debug_error_capturing_properties=String(x)}if(this.requestRouter.region===Qp.CUSTOM&&(l.$lib_custom_api_host=this.config.api_host),u=t!=="$pageview"||a?t!=="$pageleave"||a?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,s),l=rn(l,u),t==="$pageview"&&nt&&(l.title=nt.title),!Qe(i)){var v=n.getTime()-i;l.$duration=parseFloat((v/1e3).toFixed(3))}Cs&&this.config.opt_out_useragent_filter&&(l.$browser_type=this._is_bot()?"bot":"browser"),(l=rn({},d,this.persistence.properties(),this.sessionPersistence.properties(),l)).$is_identified=this._isIdentified(),lr(this.config.property_denylist)?Er(this.config.property_denylist,function(x){delete l[x]}):st.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var p=this.config.sanitize_properties;p&&(st.error("sanitize_properties is deprecated. Use before_send instead"),l=p(l,t));var y=this.Zr();return l.$process_person_profile=y,y&&!a&&this.ts("_calculate_event_properties"),l}Xr(t,r){var n;if(r===void 0&&(r=!0),!this.persistence||!this.Zr()||this.Rr)return t;var s=this.persistence.get_initial_props(),a=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),i=rn({},s,a||{},t||{}),l=this.config.sanitize_properties;return l&&(st.error("sanitize_properties is deprecated. Use before_send instead"),i=l(i,"$set_once")),r&&(this.Rr=!0),Fd(i)?void 0:i}register(t,r){var n;(n=this.persistence)==null||n.register(t,r)}register_once(t,r,n){var s;(s=this.persistence)==null||s.register_once(t,r,n)}register_for_session(t){var r;(r=this.sessionPersistence)==null||r.register(t)}unregister(t){var r;(r=this.persistence)==null||r.unregister(t)}unregister_for_session(t){var r;(r=this.sessionPersistence)==null||r.unregister(t)}es(t,r){this.register({[t]:r})}getFeatureFlag(t,r){return this.featureFlags.getFeatureFlag(t,r)}getFeatureFlagPayload(t){var r=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(r)}catch{return r}}isFeatureEnabled(t,r){return this.featureFlags.isFeatureEnabled(t,r)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,r,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,r,n)}getEarlyAccessFeatures(t,r,n){return r===void 0&&(r=!1),this.featureFlags.getEarlyAccessFeatures(t,r,n)}on(t,r){return this.Ir.on(t,r)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var r,n;return(r=(n=this.sessionManager)==null?void 0:n.onSessionId(t))!==null&&r!==void 0?r:()=>{}}getSurveys(t,r){r===void 0&&(r=!1),this.surveys.getSurveys(t,r)}getActiveMatchingSurveys(t,r){r===void 0&&(r=!1),this.surveys.getActiveMatchingSurveys(t,r)}renderSurvey(t,r){this.surveys.renderSurvey(t,r)}displaySurvey(t,r){r===void 0&&(r=fse),this.surveys.displaySurvey(t,r)}cancelPendingSurvey(t){this.surveys.cancelPendingSurvey(t)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,r){return r===void 0&&(r=!1),this.surveys.canRenderSurveyAsync(t,r)}identify(t,r,n){if(!this.__loaded||!this.persistence)return st.uninitializedWarning("posthog.identify");if(Ki(t)&&(t=t.toString(),st.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t)if(["distinct_id","distinctid"].includes(t.toLowerCase()))st.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==dp){if(this.ts("posthog.identify")){var s=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var a=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:a},"")}t!==s&&t!==this.get_property(Hp)&&(this.unregister(Hp),this.register({distinct_id:t}));var i=(this.persistence.get_property(ho)||"anonymous")==="anonymous";t!==s&&i?(this.persistence.set_property(ho,"identified"),this.setPersonPropertiesForFlags(pt({},n||{},r||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:s},{$set:r||{},$set_once:n||{}}),this.Ar=K$(t,r,n),this.featureFlags.setAnonymousDistinctId(s)):(r||n)&&this.setPersonProperties(r,n),t!==s&&(this.reloadFeatureFlags(),this.unregister(xx))}}else st.critical('The string "'+dp+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else st.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,r){if((t||r)&&this.ts("posthog.setPersonProperties")){var n=K$(this.get_distinct_id(),t,r);this.Ar!==n?(this.setPersonPropertiesForFlags(pt({},r||{},t||{})),this.capture("$set",{$set:t||{},$set_once:r||{}}),this.Ar=n):st.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,r,n){if(t&&r){var s=this.getGroups();s[t]!==r&&this.resetGroupPropertiesForFlags(t),this.register({$groups:pt({},s,{[t]:r})}),n&&(this.capture("$groupidentify",{$group_type:t,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags({[t]:n})),s[t]===r||n||this.reloadFeatureFlags()}else st.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0),this.featureFlags.setPersonPropertiesForFlags(t,r)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0),this.ts("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,r)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var r,n,s,a;if(st.info("reset"),!this.__loaded)return st.uninitializedWarning("posthog.reset");var i=this.get_property("$device_id");if(this.consent.reset(),(r=this.persistence)==null||r.clear(),(n=this.sessionPersistence)==null||n.clear(),this.surveys.reset(),this.featureFlags.reset(),(s=this.persistence)==null||s.set_property(ho,"anonymous"),(a=this.sessionManager)==null||a.resetSessionId(),this.Ar=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:dp,$device_id:null},"");else{var l=this.config.get_device_id($l());this.register_once({distinct_id:l,$device_id:t?l:i},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,r;return(t=(r=this.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:r,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),s=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+r);if(t!=null&&t.withTimestamp&&n){var a,i=(a=t.timestampLookBack)!==null&&a!==void 0?a:10;if(!n)return s;s+="?t="+Math.max(Math.floor((new Date().getTime()-n)/1e3)-i,0)}return s}alias(t,r){return t===this.get_property(aU)?(st.critical("Attempting to create alias for existing People user - aborting."),-2):this.ts("posthog.alias")?(Qe(r)&&(r=this.get_distinct_id()),t!==r?(this.es(Hp,t),this.capture("$create_alias",{alias:t,distinct_id:r})):(st.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var r=pt({},this.config);if(Rn(t)){var n,s,a,i,l;rn(this.config,iM(t));var c=this.Nr();(n=this.persistence)==null||n.update_config(this.config,r,c),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new cS(pt({},this.config,{persistence:"sessionStorage"}),c);var u=this.Dr(this.config.debug);Co(u)&&(this.config.debug=u),Co(this.config.debug)&&(this.config.debug?(fo.DEBUG=!0,qr.H()&&qr.G("ph_debug","true"),st.info("set_config",{config:t,oldConfig:r,newConfig:pt({},this.config)})):(fo.DEBUG=!1,qr.H()&&qr.V("ph_debug"))),(s=this.sessionRecording)==null||s.startIfEnabledOrStop(),(a=this.autocapture)==null||a.startIfEnabled(),(i=this.heatmaps)==null||i.startIfEnabled(),this.surveys.loadIfEnabled(),this.rs(),(l=this.externalIntegrations)==null||l.startIfEnabledOrStop()}}startSessionRecording(t){var r=t===!0,n={sampling:r||!(t==null||!t.sampling),linked_flag:r||!(t==null||!t.linked_flag),url_trigger:r||!(t==null||!t.url_trigger),event_trigger:r||!(t==null||!t.event_trigger)};if(Object.values(n).some(Boolean)){var s,a,i,l,c;(s=this.sessionManager)==null||s.checkAndGetSessionAndWindowId(),n.sampling&&((a=this.sessionRecording)==null||a.overrideSampling()),n.linked_flag&&((i=this.sessionRecording)==null||i.overrideLinkedFlag()),n.url_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("url")),n.event_trigger&&((c=this.sessionRecording)==null||c.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,r){var n=new Error("PostHog syntheticException"),s=this.exceptions.buildProperties(t,{handled:!0,syntheticException:n});return this.exceptions.sendExceptionEvent(pt({},s,r))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var r;return(r=this.persistence)==null?void 0:r.props[t]}getSessionProperty(t){var r;return(r=this.sessionPersistence)==null?void 0:r.props[t]}toString(){var t,r=(t=this.config.name)!==null&&t!==void 0?t:jd;return r!==jd&&(r=jd+"."+r),r}_isIdentified(){var t,r;return((t=this.persistence)==null?void 0:t.get_property(ho))==="identified"||((r=this.sessionPersistence)==null?void 0:r.get_property(ho))==="identified"}Zr(){var t,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Fd(this.getGroups())&&((t=this.persistence)==null||(t=t.props)==null||!t[Hp])&&((r=this.persistence)==null||(r=r.props)==null||!r[wx]))}Yr(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Zr()||this.ts("posthog.createPersonProfile")&&this.setPersonProperties({},{})}ts(t){return this.config.person_profiles==="never"?(st.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.es(wx,!0),!0)}Nr(){if(this.config.cookieless_mode==="always")return!0;var t=this.consent.isOptedOut(),r=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||t&&!!r}rs(){var t,r,n,s,a=this.Nr();return((t=this.persistence)==null?void 0:t.bi)!==a&&((n=this.persistence)==null||n.set_disabled(a)),((r=this.sessionPersistence)==null?void 0:r.bi)!==a&&((s=this.sessionPersistence)==null||s.set_disabled(a)),a}opt_in_capturing(t){var r;if(this.config.cookieless_mode!=="always"){var n,s;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(n=this.sessionManager)==null||n.destroy(),this.sessionManager=new rM(this),this.persistence&&(this.sessionPropsManager=new tM(this,this.sessionManager,this.persistence)),this.sessionRecording=new sM(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.rs(),this.Jr(),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(Qe(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((s=t==null?void 0:t.captureEventName)!==null&&s!==void 0?s:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Kr()}else st.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var t,r;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.rs(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:dp,$device_id:null}),(t=this.sessionManager)==null||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(r=this.sessionRecording)==null||r.stopRecording(),this.sessionRecording=void 0,this.Kr())):st.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===po.GRANTED?"granted":t===po.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.rs()}_is_bot(){return ra?n7(ra,this.config.custom_blocked_useragents):void 0}Kr(){nt&&(nt.visibilityState==="visible"?this.Fr||(this.Fr=!0,this.capture("$pageview",{title:nt.title},{send_instantly:!0}),this.Mr&&(nt.removeEventListener("visibilitychange",this.Mr),this.Mr=null)):this.Mr||(this.Mr=this.Kr.bind(this),hn(nt,"visibilitychange",this.Mr)))}debug(t){t===!1?(ye==null||ye.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(ye==null||ye.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}O(){var t,r,n,s,a,i,l,c=this.jr||{};return"advanced_disable_flags"in c?!!c.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(st.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",s=!1,a=st,i=(r="advanced_disable_flags")in(t=c)&&!Qe(t[r]),l=n in t&&!Qe(t[n]),i?t[r]:l?(a&&a.warn("Config field '"+n+"' is deprecated. Please use '"+r+"' instead. The old field will be removed in a future major version."),t[n]):s)}Qr(t){if(sr(this.config.before_send))return t;var r=lr(this.config.before_send)?this.config.before_send:[this.config.before_send],n=t;for(var s of r){if(n=s(n),sr(n)){var a="Event '"+t.event+"' was rejected in beforeSend function";return wre(t.event)?st.warn(a+". This can cause unexpected behavior."):st.info(a),null}n.properties&&!Fd(n.properties)||st.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var t;return(t=this.pageViewManager.Vt)==null?void 0:t.pageViewId}captureTraceFeedback(t,r){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:r})}captureTraceMetric(t,r,n){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:r,$ai_metric_value:String(n)})}Dr(t){var r=Co(t)&&!t,n=qr.H()&&qr.q("ph_debug")==="true";return!r&&(!!n||t)}}(function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=Kre(e.prototype[t[r]])})(Nw,["identify"]);var oM,kd=(oM=ym[jd]=new Nw,function(){function e(){e.done||(e.done=!0,s7=!1,Er(ym,function(t){t._dom_loaded()}))}nt!=null&&nt.addEventListener?nt.readyState==="complete"?e():hn(nt,"DOMContentLoaded",e,{capture:!1}):ye&&st.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),oM),a7=m.createContext({client:kd,bootstrap:void 0});function i7(e,t,r){if(r===void 0&&(r=new WeakMap),e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(r.has(e)&&r.get(e)===t)return!0;r.set(e,t);var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(var a=0,i=n;a<i.length;a++){var l=i[a];if(!s.includes(l)||!i7(e[l],t[l],r))return!1}return!0}function Tse(e){var t,r,n=e.children,s=e.client,a=e.apiKey,i=e.options,l=m.useRef(null),c=m.useMemo(function(){return s?(a&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),i&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),s):(a||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),kd)},[s,a,JSON.stringify(i)]);return m.useEffect(function(){if(!s){var u=l.current;u?(a!==u.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),i&&!i7(i,u.options)&&kd.set_config(i),l.current={apiKey:a,options:i??{}}):(kd.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),kd.init(a,i),l.current={apiKey:a,options:i??{}})}},[s,a,JSON.stringify(i)]),M.createElement(a7.Provider,{value:{client:c,bootstrap:(t=i==null?void 0:i.bootstrap)!==null&&t!==void 0?t:(r=s==null?void 0:s.config)===null||r===void 0?void 0:r.bootstrap}},n)}var hS=function(e){return typeof e=="function"},hE=function(e,t){return hE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},hE(e,t)};function Ose(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");hE(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Rse={componentStack:null,exceptionEvent:null,error:null},$se={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(e){Ose(t,e);function t(r){var n=e.call(this,r)||this;return n.state=Rse,n}return t.prototype.componentDidCatch=function(r,n){var s=this.props.additionalProperties,a;hS(s)?a=s(r):typeof s=="object"&&(a=s);var i=this.context.client,l=i.captureException(r,a),c=n.componentStack;this.setState({error:r,componentStack:c??null,exceptionEvent:l})},t.prototype.render=function(){var r=this.props,n=r.children,s=r.fallback,a=this.state;if(a.componentStack==null)return hS(n)?n():n;var i=hS(s)?M.createElement(s,{error:a.error,componentStack:a.componentStack,exceptionEvent:a.exceptionEvent}):s;return M.isValidElement(i)?i:(console.warn($se.INVALID_FALLBACK),M.createElement(M.Fragment,null))},t.contextType=a7,t})(M.Component);var Mse=e=>{switch(e){case"success":return Dse;case"info":return Bse;case"warning":return Fse;case"error":return Use;default:return null}},Ise=Array(12).fill(0),Lse=({visible:e})=>M.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},M.createElement("div",{className:"sonner-spinner"},Ise.map((t,r)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Dse=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Fse=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Bse=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Use=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zse=()=>{let[e,t]=M.useState(document.hidden);return M.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},pE=1,qse=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:pE++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async a=>{if(Vse(a)&&!a.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async a=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var a;s&&(this.dismiss(r),r=void 0),(a=t.finally)==null||a.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||pE++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Js=new qse,Wse=(e,t)=>{let r=(t==null?void 0:t.id)||pE++;return Js.addToast({title:e,...t,id:r}),r},Vse=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Hse=Wse,Kse=()=>Js.toasts,de=Object.assign(Hse,{success:Js.success,info:Js.info,warning:Js.warning,error:Js.error,custom:Js.custom,message:Js.message,promise:Js.promise,dismiss:Js.dismiss,loading:Js.loading},{getHistory:Kse});function Gse(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Gse(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Cv(e){return e.label!==void 0}var Yse=3,Jse="32px",Xse=4e3,Qse=356,Zse=14,eae=20,tae=200;function rae(...e){return e.filter(Boolean).join(" ")}var nae=e=>{var t,r,n,s,a,i,l,c,u,d;let{invert:f,toast:h,unstyled:g,interacting:v,setHeights:p,visibleToasts:y,heights:x,index:b,toasts:w,expanded:_,removeToast:S,defaultRichColors:E,closeButton:k,style:j,cancelButtonStyle:N,actionButtonStyle:C,className:A="",descriptionClassName:R="",duration:H,position:U,gap:D,loadingIcon:B,expandByDefault:L,classNames:T,icons:q,closeButtonAriaLabel:I="Close toast",pauseWhenPageIsHidden:P,cn:W}=e,[V,ee]=M.useState(!1),[X,ne]=M.useState(!1),[F,$]=M.useState(!1),[K,Y]=M.useState(!1),[se,Q]=M.useState(0),[ae,re]=M.useState(0),pe=M.useRef(null),ve=M.useRef(null),Ie=b===0,et=b+1<=y,Je=h.type,dt=h.dismissible!==!1,Ce=h.className||"",ke=h.descriptionClassName||"",G=M.useMemo(()=>x.findIndex(he=>he.toastId===h.id)||0,[x,h.id]),ce=M.useMemo(()=>{var he;return(he=h.closeButton)!=null?he:k},[h.closeButton,k]),Ne=M.useMemo(()=>h.duration||H||Xse,[h.duration,H]),qe=M.useRef(0),Ve=M.useRef(0),Re=M.useRef(0),it=M.useRef(null),[xe,Pe]=U.split("-"),Z=M.useMemo(()=>x.reduce((he,_e,Be)=>Be>=G?he:he+_e.height,0),[x,G]),J=zse(),fe=h.invert||f,Fe=Je==="loading";Ve.current=M.useMemo(()=>G*D+Z,[G,Z]),M.useEffect(()=>{ee(!0)},[]),M.useLayoutEffect(()=>{if(!V)return;let he=ve.current,_e=he.style.height;he.style.height="auto";let Be=he.getBoundingClientRect().height;he.style.height=_e,re(Be),p(He=>He.find(Ue=>Ue.toastId===h.id)?He.map(Ue=>Ue.toastId===h.id?{...Ue,height:Be}:Ue):[{toastId:h.id,height:Be,position:h.position},...He])},[V,h.title,h.description,p,h.id]);let Ge=M.useCallback(()=>{ne(!0),Q(Ve.current),p(he=>he.filter(_e=>_e.toastId!==h.id)),setTimeout(()=>{S(h)},tae)},[h,S,p,Ve]);M.useEffect(()=>{if(h.promise&&Je==="loading"||h.duration===1/0||h.type==="loading")return;let he,_e=Ne;return _||v||P&&J?(()=>{if(Re.current<qe.current){let Be=new Date().getTime()-qe.current;_e=_e-Be}Re.current=new Date().getTime()})():_e!==1/0&&(qe.current=new Date().getTime(),he=setTimeout(()=>{var Be;(Be=h.onAutoClose)==null||Be.call(h,h),Ge()},_e)),()=>clearTimeout(he)},[_,v,L,h,Ne,Ge,h.promise,Je,P,J]),M.useEffect(()=>{let he=ve.current;if(he){let _e=he.getBoundingClientRect().height;return re(_e),p(Be=>[{toastId:h.id,height:_e,position:h.position},...Be]),()=>p(Be=>Be.filter(He=>He.toastId!==h.id))}},[p,h.id]),M.useEffect(()=>{h.delete&&Ge()},[Ge,h.delete]);function $e(){return q!=null&&q.loading?M.createElement("div",{className:"sonner-loader","data-visible":Je==="loading"},q.loading):B?M.createElement("div",{className:"sonner-loader","data-visible":Je==="loading"},B):M.createElement(Lse,{visible:Je==="loading"})}return M.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ve,className:W(A,Ce,T==null?void 0:T.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[Je],(r=h==null?void 0:h.classNames)==null?void 0:r[Je]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:E,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":V,"data-promise":!!h.promise,"data-removed":X,"data-visible":et,"data-y-position":xe,"data-x-position":Pe,"data-index":b,"data-front":Ie,"data-swiping":F,"data-dismissible":dt,"data-type":Je,"data-invert":fe,"data-swipe-out":K,"data-expanded":!!(_||L&&V),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${X?se:Ve.current}px`,"--initial-height":L?"auto":`${ae}px`,...j,...h.style},onPointerDown:he=>{Fe||!dt||(pe.current=new Date,Q(Ve.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&($(!0),it.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,_e,Be,He;if(K||!dt)return;it.current=null;let Ue=Number(((he=ve.current)==null?void 0:he.style.getPropertyValue("--swipe-amount").replace("px",""))||0),bt=new Date().getTime()-((_e=pe.current)==null?void 0:_e.getTime()),je=Math.abs(Ue)/bt;if(Math.abs(Ue)>=eae||je>.11){Q(Ve.current),(Be=h.onDismiss)==null||Be.call(h,h),Ge(),Y(!0);return}(He=ve.current)==null||He.style.setProperty("--swipe-amount","0px"),$(!1)},onPointerMove:he=>{var _e;if(!it.current||!dt)return;let Be=he.clientY-it.current.y,He=he.clientX-it.current.x,Ue=(xe==="top"?Math.min:Math.max)(0,Be),bt=he.pointerType==="touch"?10:2;Math.abs(Ue)>bt?(_e=ve.current)==null||_e.style.setProperty("--swipe-amount",`${Be}px`):Math.abs(He)>bt&&(it.current=null)}},ce&&!h.jsx?M.createElement("button",{"aria-label":I,"data-disabled":Fe,"data-close-button":!0,onClick:Fe||!dt?()=>{}:()=>{var he;Ge(),(he=h.onDismiss)==null||he.call(h,h)},className:W(T==null?void 0:T.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||M.isValidElement(h.title)?h.jsx||h.title:M.createElement(M.Fragment,null,Je||h.icon||h.promise?M.createElement("div",{"data-icon":"",className:W(T==null?void 0:T.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||$e():null,h.type!=="loading"?h.icon||(q==null?void 0:q[Je])||Mse(Je):null):null,M.createElement("div",{"data-content":"",className:W(T==null?void 0:T.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},M.createElement("div",{"data-title":"",className:W(T==null?void 0:T.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?M.createElement("div",{"data-description":"",className:W(R,ke,T==null?void 0:T.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),M.isValidElement(h.cancel)?h.cancel:h.cancel&&Cv(h.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:he=>{var _e,Be;Cv(h.cancel)&&dt&&((Be=(_e=h.cancel).onClick)==null||Be.call(_e,he),Ge())},className:W(T==null?void 0:T.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,M.isValidElement(h.action)?h.action:h.action&&Cv(h.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||C,onClick:he=>{var _e,Be;Cv(h.action)&&(he.defaultPrevented||((Be=(_e=h.action).onClick)==null||Be.call(_e,he),Ge()))},className:W(T==null?void 0:T.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function lM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var sae=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:i,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=Yse,toastOptions:g,dir:v=lM(),gap:p=Zse,loadingIcon:y,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w,cn:_=rae}=e,[S,E]=M.useState([]),k=M.useMemo(()=>Array.from(new Set([r].concat(S.filter(P=>P.position).map(P=>P.position)))),[S,r]),[j,N]=M.useState([]),[C,A]=M.useState(!1),[R,H]=M.useState(!1),[U,D]=M.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=M.useRef(null),L=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=M.useRef(null),q=M.useRef(!1),I=M.useCallback(P=>{var W;(W=S.find(V=>V.id===P.id))!=null&&W.delete||Js.dismiss(P.id),E(V=>V.filter(({id:ee})=>ee!==P.id))},[S]);return M.useEffect(()=>Js.subscribe(P=>{if(P.dismiss){E(W=>W.map(V=>V.id===P.id?{...V,delete:!0}:V));return}setTimeout(()=>{yy.flushSync(()=>{E(W=>{let V=W.findIndex(ee=>ee.id===P.id);return V!==-1?[...W.slice(0,V),{...W[V],...P},...W.slice(V+1)]:[P,...W]})})})}),[]),M.useEffect(()=>{if(c!=="system"){D(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:P})=>{D(P?"dark":"light")})},[c]),M.useEffect(()=>{S.length<=1&&A(!1)},[S]),M.useEffect(()=>{let P=W=>{var V,ee;n.every(X=>W[X]||W.code===X)&&(A(!0),(V=B.current)==null||V.focus()),W.code==="Escape"&&(document.activeElement===B.current||(ee=B.current)!=null&&ee.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[n]),M.useEffect(()=>{if(B.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,q.current=!1)}},[B.current]),S.length?M.createElement("section",{"aria-label":`${b} ${L}`,tabIndex:-1},k.map((P,W)=>{var V;let[ee,X]=P.split("-");return M.createElement("ol",{key:P,dir:v==="auto"?lM():v,tabIndex:-1,ref:B,className:i,"data-sonner-toaster":!0,"data-theme":U,"data-y-position":ee,"data-x-position":X,style:{"--front-toast-height":`${((V=j[0])==null?void 0:V.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Jse,"--width":`${Qse}px`,"--gap":`${p}px`,...f},onBlur:ne=>{q.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(q.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||q.current||(q.current=!0,T.current=ne.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{R||A(!1)},onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},S.filter(ne=>!ne.position&&W===0||ne.position===P).map((ne,F)=>{var $,K;return M.createElement(nae,{key:ne.id,icons:x,index:F,toast:ne,defaultRichColors:u,duration:($=g==null?void 0:g.duration)!=null?$:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:h,closeButton:(K=g==null?void 0:g.closeButton)!=null?K:a,interacting:R,position:P,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:I,toasts:S.filter(Y=>Y.position==ne.position),heights:j.filter(Y=>Y.position==ne.position),setHeights:N,expandByDefault:s,gap:p,loadingIcon:y,expanded:C,pauseWhenPageIsHidden:w,cn:_})}))})):null};const aae=({...e})=>{const{theme:t="light"}=Ko();return o.jsx(sae,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg group-[.toaster]:rounded-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground group-[.toast]:rounded-md",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground group-[.toast]:rounded-md"}},...e})};function We(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function iae(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Cw(...e){return t=>e.forEach(r=>iae(r,t))}function xt(...e){return m.useCallback(Cw(...e),e)}function oae(e,t){const r=m.createContext(t),n=a=>{const{children:i,...l}=a,c=m.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=m.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function ua(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:g,...v}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=m.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:y,children:g})};u.displayName=a+"Provider";function d(f,h){var p;const g=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=m.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,lae(s,...t)]}function lae(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var ac=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),a=s.find(cae);if(a){const i=a.props.children,l=s.map(c=>c===a?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return o.jsx(mE,{...n,ref:t,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return o.jsx(mE,{...n,ref:t,children:r})});ac.displayName="Slot";var mE=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=dae(r);return m.cloneElement(r,{...uae(n,r.props),ref:t?Cw(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});mE.displayName="SlotClone";var $P=({children:e})=>o.jsx(o.Fragment,{children:e});function cae(e){return m.isValidElement(e)&&e.type===$P}function uae(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function dae(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var fae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ct=fae.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:a,...i}=n,l=a?ac:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function wy(e,t){e&&Gu.flushSync(()=>e.dispatchEvent(t))}function Qt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function hae(e,t=globalThis==null?void 0:globalThis.document){const r=Qt(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var pae="DismissableLayer",gE="dismissableLayer.update",mae="dismissableLayer.pointerDownOutside",gae="dismissableLayer.focusOutside",cM,o7=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),l7=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(o7),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=xt(t,k=>f(k)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=xae(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=bae(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return hae(k=>{b===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(cM=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),uM(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=cM)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),uM())},[d,u]),m.useEffect(()=>{const k=()=>g({});return document.addEventListener(gE,k),()=>document.removeEventListener(gE,k)},[]),o.jsx(ct.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:We(e.onFocusCapture,E.onFocusCapture),onBlurCapture:We(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:We(e.onPointerDownCapture,S.onPointerDownCapture)})});l7.displayName=pae;var yae="DismissableLayerBranch",vae=m.forwardRef((e,t)=>{const r=m.useContext(o7),n=m.useRef(null),s=xt(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(ct.div,{...e,ref:s})});vae.displayName=yae;function xae(e,t=globalThis==null?void 0:globalThis.document){const r=Qt(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){c7(mae,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function bae(e,t=globalThis==null?void 0:globalThis.document){const r=Qt(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&c7(gae,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function uM(){const e=new CustomEvent(gE);document.dispatchEvent(e)}function c7(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?wy(s,a):s.dispatchEvent(a)}var on=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},wae=gh.useId||(()=>{}),_ae=0;function ni(e){const[t,r]=m.useState(wae());return on(()=>{r(n=>n??String(_ae++))},[e]),t?`radix-${t}`:""}const Sae=["top","right","bottom","left"],ic=Math.min,Zs=Math.max,Tx=Math.round,Pv=Math.floor,Li=e=>({x:e,y:e}),jae={left:"right",right:"left",bottom:"top",top:"bottom"},kae={start:"end",end:"start"};function yE(e,t,r){return Zs(e,ic(t,r))}function Lo(e,t){return typeof e=="function"?e(t):e}function Do(e){return e.split("-")[0]}function wh(e){return e.split("-")[1]}function MP(e){return e==="x"?"y":"x"}function IP(e){return e==="y"?"height":"width"}const Eae=new Set(["top","bottom"]);function Ai(e){return Eae.has(Do(e))?"y":"x"}function LP(e){return MP(Ai(e))}function Nae(e,t,r){r===void 0&&(r=!1);const n=wh(e),s=LP(e),a=IP(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Ox(i)),[i,Ox(i)]}function Cae(e){const t=Ox(e);return[vE(e),t,vE(t)]}function vE(e){return e.replace(/start|end/g,t=>kae[t])}const dM=["left","right"],fM=["right","left"],Pae=["top","bottom"],Aae=["bottom","top"];function Tae(e,t,r){switch(e){case"top":case"bottom":return r?t?fM:dM:t?dM:fM;case"left":case"right":return t?Pae:Aae;default:return[]}}function Oae(e,t,r,n){const s=wh(e);let a=Tae(Do(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(vE)))),a}function Ox(e){return e.replace(/left|right|bottom|top/g,t=>jae[t])}function Rae(e){return{top:0,right:0,bottom:0,left:0,...e}}function u7(e){return typeof e!="number"?Rae(e):{top:e,right:e,bottom:e,left:e}}function Rx(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function hM(e,t,r){let{reference:n,floating:s}=e;const a=Ai(t),i=LP(t),l=IP(i),c=Do(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-s.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-s.width,y:f};break;default:g={x:n.x,y:n.y}}switch(wh(t)){case"start":g[i]-=h*(r&&u?-1:1);break;case"end":g[i]+=h*(r&&u?-1:1);break}return g}const $ae=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=hM(u,n,c),h=n,g={},v=0;for(let p=0;p<l.length;p++){const{name:y,fn:x}=l[p],{x:b,y:w,data:_,reset:S}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});d=b??d,f=w??f,g={...g,[y]:{...g[y],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=hM(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:g}};async function ng(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=Lo(t,e),v=u7(g),y=l[h?f==="floating"?"reference":"floating":f],x=Rx(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(y)))==null||r?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Rx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-S.top+v.top)/_.y,bottom:(S.bottom-x.bottom+v.bottom)/_.y,left:(x.left-S.left+v.left)/_.x,right:(S.right-x.right+v.right)/_.x}}const Mae=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Lo(e,t)||{};if(u==null)return{};const f=u7(d),h={x:r,y:n},g=LP(s),v=IP(g),p=await i.getDimensions(u),y=g==="y",x=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",_=a.reference[v]+a.reference[g]-h[g]-a.floating[v],S=h[g]-a.reference[g],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=E?E[w]:0;(!k||!await(i.isElement==null?void 0:i.isElement(E)))&&(k=l.floating[w]||a.floating[v]);const j=_/2-S/2,N=k/2-p[v]/2-1,C=ic(f[x],N),A=ic(f[b],N),R=C,H=k-p[v]-A,U=k/2-p[v]/2+j,D=yE(R,U,H),B=!c.arrow&&wh(s)!=null&&U!==D&&a.reference[v]/2-(U<R?C:A)-p[v]/2<0,L=B?U<R?U-R:U-H:0;return{[g]:h[g]+L,data:{[g]:D,centerOffset:U-D-L,...B&&{alignmentOffset:L}},reset:B}}}),Iae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...y}=Lo(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=Do(s),b=Ai(l),w=Do(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!p?[Ox(l)]:Cae(l)),E=v!=="none";!h&&E&&S.push(...Oae(l,p,v,_));const k=[l,...S],j=await ng(t,y),N=[];let C=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&N.push(j[x]),f){const U=Nae(s,i,_);N.push(j[U[0]],j[U[1]])}if(C=[...C,{placement:s,overflows:N}],!N.every(U=>U<=0)){var A,R;const U=(((A=a.flip)==null?void 0:A.index)||0)+1,D=k[U];if(D&&(!(f==="alignment"?b!==Ai(D):!1)||C.every(T=>Ai(T.placement)===b?T.overflows[0]>0:!0)))return{data:{index:U,overflows:C},reset:{placement:D}};let B=(R=C.filter(L=>L.overflows[0]<=0).sort((L,T)=>L.overflows[1]-T.overflows[1])[0])==null?void 0:R.placement;if(!B)switch(g){case"bestFit":{var H;const L=(H=C.filter(T=>{if(E){const q=Ai(T.placement);return q===b||q==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(q=>q>0).reduce((q,I)=>q+I,0)]).sort((T,q)=>T[1]-q[1])[0])==null?void 0:H[0];L&&(B=L);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function pM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function mM(e){return Sae.some(t=>e[t]>=0)}const Lae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Lo(e,t);switch(n){case"referenceHidden":{const a=await ng(t,{...s,elementContext:"reference"}),i=pM(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:mM(i)}}}case"escaped":{const a=await ng(t,{...s,altBoundary:!0}),i=pM(a,r.floating);return{data:{escapedOffsets:i,escaped:mM(i)}}}default:return{}}}}},d7=new Set(["left","top"]);async function Dae(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Do(r),l=wh(r),c=Ai(r)==="y",u=d7.has(i)?-1:1,d=a&&c?-1:1,f=Lo(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const Fae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await Dae(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},Bae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...c}=Lo(e,t),u={x:r,y:n},d=await ng(t,c),f=Ai(Do(s)),h=MP(f);let g=u[h],v=u[f];if(a){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=g+d[y],w=g-d[x];g=yE(b,g,w)}if(i){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=v+d[y],w=v-d[x];v=yE(b,v,w)}const p=l.fn({...t,[h]:g,[f]:v});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:a,[f]:i}}}}}},Uae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Lo(e,t),d={x:r,y:n},f=Ai(s),h=MP(f);let g=d[h],v=d[f];const p=Lo(l,t),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",_=a.reference[h]-a.floating[w]+y.mainAxis,S=a.reference[h]+a.reference[w]-y.mainAxis;g<_?g=_:g>S&&(g=S)}if(u){var x,b;const w=h==="y"?"width":"height",_=d7.has(Do(s)),S=a.reference[f]-a.floating[w]+(_&&((x=i.offset)==null?void 0:x[f])||0)+(_?0:y.crossAxis),E=a.reference[f]+a.reference[w]+(_?0:((b=i.offset)==null?void 0:b[f])||0)-(_?y.crossAxis:0);v<S?v=S:v>E&&(v=E)}return{[h]:g,[f]:v}}}},zae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Lo(e,t),d=await ng(t,u),f=Do(s),h=wh(s),g=Ai(s)==="y",{width:v,height:p}=a.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,y=h==="end"?"top":"bottom");const b=p-d.top-d.bottom,w=v-d.left-d.right,_=ic(p-d[y],b),S=ic(v-d[x],w),E=!t.middlewareData.shift;let k=_,j=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=b),E&&!h){const C=Zs(d.left,0),A=Zs(d.right,0),R=Zs(d.top,0),H=Zs(d.bottom,0);g?j=v-2*(C!==0||A!==0?C+A:Zs(d.left,d.right)):k=p-2*(R!==0||H!==0?R+H:Zs(d.top,d.bottom))}await c({...t,availableWidth:j,availableHeight:k});const N=await i.getDimensions(l.floating);return v!==N.width||p!==N.height?{reset:{rects:!0}}:{}}}};function Pw(){return typeof window<"u"}function _h(e){return f7(e)?(e.nodeName||"").toLowerCase():"#document"}function aa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zi(e){var t;return(t=(f7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function f7(e){return Pw()?e instanceof Node||e instanceof aa(e).Node:!1}function oi(e){return Pw()?e instanceof Element||e instanceof aa(e).Element:!1}function Gi(e){return Pw()?e instanceof HTMLElement||e instanceof aa(e).HTMLElement:!1}function gM(e){return!Pw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof aa(e).ShadowRoot}const qae=new Set(["inline","contents"]);function _y(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=li(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!qae.has(s)}const Wae=new Set(["table","td","th"]);function Vae(e){return Wae.has(_h(e))}const Hae=[":popover-open",":modal"];function Aw(e){return Hae.some(t=>{try{return e.matches(t)}catch{return!1}})}const Kae=["transform","translate","scale","rotate","perspective"],Gae=["transform","translate","scale","rotate","perspective","filter"],Yae=["paint","layout","strict","content"];function DP(e){const t=FP(),r=oi(e)?li(e):e;return Kae.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Gae.some(n=>(r.willChange||"").includes(n))||Yae.some(n=>(r.contain||"").includes(n))}function Jae(e){let t=oc(e);for(;Gi(t)&&!Bf(t);){if(DP(t))return t;if(Aw(t))return null;t=oc(t)}return null}function FP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Xae=new Set(["html","body","#document"]);function Bf(e){return Xae.has(_h(e))}function li(e){return aa(e).getComputedStyle(e)}function Tw(e){return oi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function oc(e){if(_h(e)==="html")return e;const t=e.assignedSlot||e.parentNode||gM(e)&&e.host||Zi(e);return gM(t)?t.host:t}function h7(e){const t=oc(e);return Bf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gi(t)&&_y(t)?t:h7(t)}function sg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=h7(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=aa(s);if(a){const l=xE(i);return t.concat(i,i.visualViewport||[],_y(s)?s:[],l&&r?sg(l):[])}return t.concat(s,sg(s,[],r))}function xE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function p7(e){const t=li(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Gi(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=Tx(r)!==a||Tx(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function BP(e){return oi(e)?e:e.contextElement}function rf(e){const t=BP(e);if(!Gi(t))return Li(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=p7(t);let i=(a?Tx(r.width):r.width)/n,l=(a?Tx(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Qae=Li(0);function m7(e){const t=aa(e);return!FP()||!t.visualViewport?Qae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Zae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==aa(e)?!1:t}function Cu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=BP(e);let i=Li(1);t&&(n?oi(n)&&(i=rf(n)):i=rf(e));const l=Zae(a,r,n)?m7(a):Li(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(a){const h=aa(a),g=n&&oi(n)?aa(n):n;let v=h,p=xE(v);for(;p&&n&&g!==v;){const y=rf(p),x=p.getBoundingClientRect(),b=li(p),w=x.left+(p.clientLeft+parseFloat(b.paddingLeft))*y.x,_=x.top+(p.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=w,u+=_,v=aa(p),p=xE(v)}}return Rx({width:d,height:f,x:c,y:u})}function Ow(e,t){const r=Tw(e).scrollLeft;return t?t.left+r:Cu(Zi(e)).left+r}function g7(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Ow(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function eie(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=Zi(n),l=t?Aw(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Li(1);const d=Li(0),f=Gi(n);if((f||!f&&!a)&&((_h(n)!=="body"||_y(i))&&(c=Tw(n)),Gi(n))){const g=Cu(n);u=rf(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const h=i&&!f&&!a?g7(i,c):Li(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function tie(e){return Array.from(e.getClientRects())}function rie(e){const t=Zi(e),r=Tw(e),n=e.ownerDocument.body,s=Zs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Zs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Ow(e);const l=-r.scrollTop;return li(n).direction==="rtl"&&(i+=Zs(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:l}}const yM=25;function nie(e,t){const r=aa(e),n=Zi(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const d=FP();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Ow(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),g=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-g);v<=yM&&(a-=v)}else u<=yM&&(a+=u);return{width:a,height:i,x:l,y:c}}const sie=new Set(["absolute","fixed"]);function aie(e,t){const r=Cu(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Gi(e)?rf(e):Li(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function vM(e,t,r){let n;if(t==="viewport")n=nie(e,r);else if(t==="document")n=rie(Zi(e));else if(oi(t))n=aie(t,r);else{const s=m7(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Rx(n)}function y7(e,t){const r=oc(e);return r===t||!oi(r)||Bf(r)?!1:li(r).position==="fixed"||y7(r,t)}function iie(e,t){const r=t.get(e);if(r)return r;let n=sg(e,[],!1).filter(l=>oi(l)&&_h(l)!=="body"),s=null;const a=li(e).position==="fixed";let i=a?oc(e):e;for(;oi(i)&&!Bf(i);){const l=li(i),c=DP(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&sie.has(s.position)||_y(i)&&!c&&y7(e,i))?n=n.filter(d=>d!==i):s=l,i=oc(i)}return t.set(e,n),n}function oie(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Aw(t)?[]:iie(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=vM(t,d,s);return u.top=Zs(f.top,u.top),u.right=ic(f.right,u.right),u.bottom=ic(f.bottom,u.bottom),u.left=Zs(f.left,u.left),u},vM(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function lie(e){const{width:t,height:r}=p7(e);return{width:t,height:r}}function cie(e,t,r){const n=Gi(t),s=Zi(t),a=r==="fixed",i=Cu(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Li(0);function u(){c.x=Ow(s)}if(n||!n&&!a)if((_h(t)!=="body"||_y(s))&&(l=Tw(t)),n){const g=Cu(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?g7(s,l):Li(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function pS(e){return li(e).position==="static"}function xM(e,t){if(!Gi(e)||li(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Zi(e)===r&&(r=r.ownerDocument.body),r}function v7(e,t){const r=aa(e);if(Aw(e))return r;if(!Gi(e)){let s=oc(e);for(;s&&!Bf(s);){if(oi(s)&&!pS(s))return s;s=oc(s)}return r}let n=xM(e,t);for(;n&&Vae(n)&&pS(n);)n=xM(n,t);return n&&Bf(n)&&pS(n)&&!DP(n)?r:n||Jae(e)||r}const uie=async function(e){const t=this.getOffsetParent||v7,r=this.getDimensions,n=await r(e.floating);return{reference:cie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function die(e){return li(e).direction==="rtl"}const fie={convertOffsetParentRelativeRectToViewportRelativeRect:eie,getDocumentElement:Zi,getClippingRect:oie,getOffsetParent:v7,getElementRects:uie,getClientRects:tie,getDimensions:lie,getScale:rf,isElement:oi,isRTL:die};function x7(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hie(e,t){let r=null,n;const s=Zi(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=u;if(l||t(),!h||!g)return;const v=Pv(f),p=Pv(s.clientWidth-(d+h)),y=Pv(s.clientHeight-(f+g)),x=Pv(d),w={rootMargin:-v+"px "+-p+"px "+-y+"px "+-x+"px",threshold:Zs(0,ic(1,c))||1};let _=!0;function S(E){const k=E[0].intersectionRatio;if(k!==c){if(!_)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!x7(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return i(!0),a}function pie(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=BP(e),d=s||a?[...u?sg(u):[],...sg(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const f=u&&l?hie(u,r):null;let h=-1,g=null;i&&(g=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let v,p=c?Cu(e):null;c&&y();function y(){const x=Cu(e);p&&!x7(p,x)&&r(),p=x,v=requestAnimationFrame(y)}return r(),()=>{var x;d.forEach(b=>{s&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const mie=Fae,gie=Bae,yie=Iae,vie=zae,xie=Lae,bM=Mae,bie=Uae,wie=(e,t,r)=>{const n=new Map,s={platform:fie,...r},a={...s.platform,_c:n};return $ae(e,t,{...s,platform:a})};var _ie=typeof document<"u",Sie=function(){},M0=_ie?m.useLayoutEffect:Sie;function $x(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!$x(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!$x(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function b7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function wM(e,t){const r=b7(e);return Math.round(t*r)/r}function mS(e){const t=m.useRef(e);return M0(()=>{t.current=e}),t}function jie(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(n);$x(h,n)||g(n);const[v,p]=m.useState(null),[y,x]=m.useState(null),b=m.useCallback(T=>{T!==E.current&&(E.current=T,p(T))},[]),w=m.useCallback(T=>{T!==k.current&&(k.current=T,x(T))},[]),_=a||v,S=i||y,E=m.useRef(null),k=m.useRef(null),j=m.useRef(d),N=c!=null,C=mS(c),A=mS(s),R=mS(u),H=m.useCallback(()=>{if(!E.current||!k.current)return;const T={placement:t,strategy:r,middleware:h};A.current&&(T.platform=A.current),wie(E.current,k.current,T).then(q=>{const I={...q,isPositioned:R.current!==!1};U.current&&!$x(j.current,I)&&(j.current=I,Gu.flushSync(()=>{f(I)}))})},[h,t,r,A,R]);M0(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const U=m.useRef(!1);M0(()=>(U.current=!0,()=>{U.current=!1}),[]),M0(()=>{if(_&&(E.current=_),S&&(k.current=S),_&&S){if(C.current)return C.current(_,S,H);H()}},[_,S,H,C,N]);const D=m.useMemo(()=>({reference:E,floating:k,setReference:b,setFloating:w}),[b,w]),B=m.useMemo(()=>({reference:_,floating:S}),[_,S]),L=m.useMemo(()=>{const T={position:r,left:0,top:0};if(!B.floating)return T;const q=wM(B.floating,d.x),I=wM(B.floating,d.y);return l?{...T,transform:"translate("+q+"px, "+I+"px)",...b7(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:q,top:I}},[r,l,B.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:H,refs:D,elements:B,floatingStyles:L}),[d,H,D,B,L])}const kie=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?bM({element:n.current,padding:s}).fn(r):{}:n?bM({element:n,padding:s}).fn(r):{}}}},Eie=(e,t)=>({...mie(e),options:[e,t]}),Nie=(e,t)=>({...gie(e),options:[e,t]}),Cie=(e,t)=>({...bie(e),options:[e,t]}),Pie=(e,t)=>({...yie(e),options:[e,t]}),Aie=(e,t)=>({...vie(e),options:[e,t]}),Tie=(e,t)=>({...xie(e),options:[e,t]}),Oie=(e,t)=>({...kie(e),options:[e,t]});var Rie="Arrow",w7=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(ct.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});w7.displayName=Rie;var $ie=w7;function Mie(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...v}=f,p=(h==null?void 0:h[e][c])||l,y=m.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:y,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,v=m.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Iie(s,...t)]}function Iie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Rw(e){const[t,r]=m.useState(void 0);return on(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var UP="Popper",[_7,Sh]=Mie(UP),[Lie,S7]=_7(UP),j7=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return o.jsx(Lie,{scope:t,anchor:n,onAnchorChange:s,children:r})};j7.displayName=UP;var k7="PopperAnchor",E7=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=S7(k7,r),i=m.useRef(null),l=xt(t,i);return m.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(ct.div,{...s,ref:l})});E7.displayName=k7;var zP="PopperContent",[Die,Fie]=_7(zP),N7=m.forwardRef((e,t)=>{var F,$,K,Y,se,Q;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:v,...p}=e,y=S7(zP,r),[x,b]=m.useState(null),w=xt(t,ae=>b(ae)),[_,S]=m.useState(null),E=Rw(_),k=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,N=n+(a!=="center"?"-"+a:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],R=A.length>0,H={padding:C,boundary:A.filter(Uie),altBoundary:R},{refs:U,floatingStyles:D,placement:B,isPositioned:L,middlewareData:T}=jie({strategy:"fixed",placement:N,whileElementsMounted:(...ae)=>pie(...ae,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[Eie({mainAxis:s+j,alignmentAxis:i}),c&&Nie({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Cie():void 0,...H}),c&&Pie({...H}),Aie({...H,apply:({elements:ae,rects:re,availableWidth:pe,availableHeight:ve})=>{const{width:Ie,height:et}=re.reference,Je=ae.floating.style;Je.setProperty("--radix-popper-available-width",`${pe}px`),Je.setProperty("--radix-popper-available-height",`${ve}px`),Je.setProperty("--radix-popper-anchor-width",`${Ie}px`),Je.setProperty("--radix-popper-anchor-height",`${et}px`)}}),_&&Oie({element:_,padding:l}),zie({arrowWidth:k,arrowHeight:j}),h&&Tie({strategy:"referenceHidden",...H})]}),[q,I]=A7(B),P=Qt(v);on(()=>{L&&(P==null||P())},[L,P]);const W=(F=T.arrow)==null?void 0:F.x,V=($=T.arrow)==null?void 0:$.y,ee=((K=T.arrow)==null?void 0:K.centerOffset)!==0,[X,ne]=m.useState();return on(()=>{x&&ne(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:L?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(Y=T.transformOrigin)==null?void 0:Y.x,(se=T.transformOrigin)==null?void 0:se.y].join(" "),...((Q=T.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Die,{scope:r,placedSide:q,onArrowChange:S,arrowX:W,arrowY:V,shouldHideArrow:ee,children:o.jsx(ct.div,{"data-side":q,"data-align":I,...p,ref:w,style:{...p.style,animation:L?void 0:"none"}})})})});N7.displayName=zP;var C7="PopperArrow",Bie={top:"bottom",right:"left",bottom:"top",left:"right"},P7=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=Fie(C7,n),i=Bie[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx($ie,{...s,ref:r,style:{...s.style,display:"block"}})})});P7.displayName=C7;function Uie(e){return e!==null}var zie=e=>({name:"transformOrigin",options:e,fn(t){var y,x,b;const{placement:r,rects:n,middlewareData:s}=t,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=A7(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,g=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=i?f:`${h}px`,p=`${-c}px`):u==="top"?(v=i?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=i?f:`${g}px`):u==="left"&&(v=`${n.floating.width+c}px`,p=i?f:`${g}px`),{data:{x:v,y:p}}}});function A7(e){const[t,r="center"]=e.split("-");return[t,r]}var T7=j7,qP=E7,WP=N7,VP=P7;function qie(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Ss=e=>{const{present:t,children:r}=e,n=Wie(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=xt(n.ref,Vie(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:a}):null};Ss.displayName="Presence";function Wie(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),a=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=qie(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Av(n.current);a.current=l==="mounted"?u:"none"},[l]),on(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,g=Av(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),on(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const p=Av(n.current).includes(g.animationName);if(g.target===t&&p&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=g=>{g.target===t&&(a.current=Av(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Av(e){return(e==null?void 0:e.animationName)||"none"}function Vie(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ci({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Hie({defaultProp:t,onChange:r}),a=e!==void 0,i=a?e:n,l=Qt(r),c=m.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[i,c]}function Hie({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),a=Qt(t);return m.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var Kie="VisuallyHidden",HP=m.forwardRef((e,t)=>o.jsx(ct.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));HP.displayName=Kie;var Gie=HP,[$w,eGe]=ua("Tooltip",[Sh]),KP=Sh(),O7="TooltipProvider",Yie=700,_M="tooltip.open",[Jie,R7]=$w(O7),$7=e=>{const{__scopeTooltip:t,delayDuration:r=Yie,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[i,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),o.jsx(Jie,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};$7.displayName=O7;var M7="Tooltip",[tGe,Mw]=$w(M7),bE="TooltipTrigger",Xie=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Mw(bE,r),a=R7(bE,r),i=KP(r),l=m.useRef(null),c=xt(t,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(qP,{asChild:!0,...i,children:o.jsx(ct.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:We(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:We(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:We(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:We(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:We(e.onBlur,s.onClose),onClick:We(e.onClick,s.onClose)})})});Xie.displayName=bE;var Qie="TooltipPortal",[rGe,Zie]=$w(Qie,{forceMount:void 0}),Uf="TooltipContent",I7=m.forwardRef((e,t)=>{const r=Zie(Uf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=Mw(Uf,e.__scopeTooltip);return o.jsx(Ss,{present:n||i.open,children:i.disableHoverableContent?o.jsx(L7,{side:s,...a,ref:t}):o.jsx(eoe,{side:s,...a,ref:t})})}),eoe=m.forwardRef((e,t)=>{const r=Mw(Uf,e.__scopeTooltip),n=R7(Uf,e.__scopeTooltip),s=m.useRef(null),a=xt(t,s),[i,l]=m.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=m.useCallback(()=>{l(null),f(!1)},[f]),g=m.useCallback((v,p)=>{const y=v.currentTarget,x={x:v.clientX,y:v.clientY},b=soe(x,y.getBoundingClientRect()),w=aoe(x,b),_=ioe(p.getBoundingClientRect()),S=loe([...w,..._]);l(S),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const v=y=>g(y,d),p=y=>g(y,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[c,d,g,h]),m.useEffect(()=>{if(i){const v=p=>{const y=p.target,x={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),w=!ooe(x,i);b?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,i,u,h]),o.jsx(L7,{...e,ref:a})}),[toe,roe]=$w(M7,{isInside:!1}),L7=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=Mw(Uf,r),u=KP(r),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(_M,d),()=>document.removeEventListener(_M,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(l7,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(WP,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx($P,{children:n}),o.jsx(toe,{scope:r,isInside:!0,children:o.jsx(Gie,{id:c.contentId,role:"tooltip",children:s||n})})]})})});I7.displayName=Uf;var D7="TooltipArrow",noe=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=KP(r);return roe(D7,r).isInside?null:o.jsx(VP,{...s,...n,ref:t})});noe.displayName=D7;function soe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function aoe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function ioe(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function ooe(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function loe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),coe(t)}function coe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var uoe=$7,F7=I7;function B7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=B7(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function er(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=B7(e))&&(n&&(n+=" "),n+=t);return n}const GP="-",doe=e=>{const t=hoe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(GP);return l[0]===""&&l.length!==1&&l.shift(),U7(l,t)||foe(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},U7=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?U7(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(GP);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},SM=/^\[(.+)\]$/,foe=e=>{if(SM.test(e)){const t=SM.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},hoe=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return moe(Object.entries(e.classGroups),r).forEach(([a,i])=>{wE(i,n,a,t)}),n},wE=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:jM(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(poe(s)){wE(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{wE(i,jM(t,a),r,n)})})},jM=(e,t)=>{let r=e;return t.split(GP).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},poe=e=>e.isThemeGetter,moe=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,s]}):e,goe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},z7="!",yoe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let x=l[y];if(u===0){if(x===s&&(n||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(x==="/"){f=y;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),g=h.startsWith(z7),v=g?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:i}):i},voe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},xoe=e=>({cache:goe(e.cacheSize),parseClassName:yoe(e),...doe(e)}),boe=/\s+/,woe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(boe);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=r(u);let v=!!g,p=n(v?h.substring(0,g):h);if(!p){if(!v){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}v=!1}const y=voe(d).join(":"),x=f?y+z7:y,b=x+p;if(a.includes(b))continue;a.push(b);const w=s(p,v);for(let _=0;_<w.length;++_){const S=w[_];a.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function _oe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=q7(t))&&(n&&(n+=" "),n+=r);return n}const q7=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=q7(e[n]))&&(r&&(r+=" "),r+=t);return r};function Soe(e,...t){let r,n,s,a=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=xoe(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=woe(c,r);return s(c,d),d}return function(){return a(_oe.apply(null,arguments))}}const Pr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},W7=/^\[(?:([a-z-]+):)?(.+)\]$/i,joe=/^\d+\/\d+$/,koe=new Set(["px","full","screen"]),Eoe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Noe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Coe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Poe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Aoe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,so=e=>nf(e)||koe.has(e)||joe.test(e),sl=e=>jh(e,"length",Doe),nf=e=>!!e&&!Number.isNaN(Number(e)),gS=e=>jh(e,"number",nf),wp=e=>!!e&&Number.isInteger(Number(e)),Toe=e=>e.endsWith("%")&&nf(e.slice(0,-1)),Lt=e=>W7.test(e),al=e=>Eoe.test(e),Ooe=new Set(["length","size","percentage"]),Roe=e=>jh(e,Ooe,V7),$oe=e=>jh(e,"position",V7),Moe=new Set(["image","url"]),Ioe=e=>jh(e,Moe,Boe),Loe=e=>jh(e,"",Foe),_p=()=>!0,jh=(e,t,r)=>{const n=W7.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Doe=e=>Noe.test(e)&&!Coe.test(e),V7=()=>!1,Foe=e=>Poe.test(e),Boe=e=>Aoe.test(e),Uoe=()=>{const e=Pr("colors"),t=Pr("spacing"),r=Pr("blur"),n=Pr("brightness"),s=Pr("borderColor"),a=Pr("borderRadius"),i=Pr("borderSpacing"),l=Pr("borderWidth"),c=Pr("contrast"),u=Pr("grayscale"),d=Pr("hueRotate"),f=Pr("invert"),h=Pr("gap"),g=Pr("gradientColorStops"),v=Pr("gradientColorStopPositions"),p=Pr("inset"),y=Pr("margin"),x=Pr("opacity"),b=Pr("padding"),w=Pr("saturate"),_=Pr("scale"),S=Pr("sepia"),E=Pr("skew"),k=Pr("space"),j=Pr("translate"),N=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Lt,t],R=()=>[Lt,t],H=()=>["",so,sl],U=()=>["auto",nf,Lt],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",Lt],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>[nf,Lt];return{cacheSize:500,separator:":",theme:{colors:[_p],spacing:[so,sl],blur:["none","",al,Lt],brightness:P(),borderColor:[e],borderRadius:["none","","full",al,Lt],borderSpacing:R(),borderWidth:H(),contrast:P(),grayscale:q(),hueRotate:P(),invert:q(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[Toe,sl],inset:A(),margin:A(),opacity:P(),padding:R(),saturate:P(),scale:P(),sepia:q(),skew:P(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Lt]}],container:["container"],columns:[{columns:[al]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),Lt]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wp,Lt]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lt]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",wp,Lt]}],"grid-cols":[{"grid-cols":[_p]}],"col-start-end":[{col:["auto",{span:["full",wp,Lt]},Lt]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[_p]}],"row-start-end":[{row:["auto",{span:[wp,Lt]},Lt]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lt,t]}],"min-w":[{"min-w":[Lt,t,"min","max","fit"]}],"max-w":[{"max-w":[Lt,t,"none","full","min","max","fit","prose",{screen:[al]},al]}],h:[{h:[Lt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",al,sl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gS]}],"font-family":[{font:[_p]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lt]}],"line-clamp":[{"line-clamp":["none",nf,gS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",so,Lt]}],"list-image":[{"list-image":["none",Lt]}],"list-style-type":[{list:["none","disc","decimal",Lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",so,sl]}],"underline-offset":[{"underline-offset":["auto",so,Lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),$oe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Roe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ioe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[so,Lt]}],"outline-w":[{outline:[so,sl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[so,sl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",al,Loe]}],"shadow-color":[{shadow:[_p]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",al,Lt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lt]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",Lt]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[wp,Lt]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[so,sl,gS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zoe=Soe(Uoe);function le(...e){return zoe(er(e))}function vm(e){const t=String(e),n=parseInt(t,10).toString(16).padStart(8,"0").toLowerCase(),s=n.slice(0,8),a=n.slice(0,4),i="4"+n.slice(1,4),l="8"+n.slice(2,5),c=n+n+n+n;return`${s}-${a}-${i}-${l}-${c.slice(0,12)}`}const qoe=uoe,Woe=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(F7,{ref:n,sideOffset:t,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Woe.displayName=F7.displayName;var kh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pu=typeof window>"u"||"Deno"in globalThis;function ya(){}function Voe(e,t){return typeof e=="function"?e(t):e}function _E(e){return typeof e=="number"&&e>=0&&e!==1/0}function H7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sf(e,t){return typeof e=="function"?e(t):e}function Xa(e,t){return typeof e=="function"?e(t):e}function kM(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==YP(i,t.options))return!1}else if(!ag(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function EM(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Au(t.options.mutationKey)!==Au(a))return!1}else if(!ag(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function YP(e,t){return((t==null?void 0:t.queryKeyHashFn)||Au)(e)}function Au(e){return JSON.stringify(e,(t,r)=>SE(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ag(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!ag(e[r],t[r])):!1}function K7(e,t){if(e===t)return e;const r=NM(e)&&NM(t);if(r||SE(e)&&SE(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=K7(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:l}return t}function Mx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function NM(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function SE(e){if(!CM(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!CM(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function CM(e){return Object.prototype.toString.call(e)==="[object Object]"}function Hoe(e){return new Promise(t=>{setTimeout(t,e)})}function jE(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?K7(e,t):t}function Koe(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Goe(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var JP=Symbol();function G7(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===JP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var tu,Sl,yf,C6,Yoe=(C6=class extends kh{constructor(){super();kt(this,tu);kt(this,Sl);kt(this,yf);lt(this,yf,t=>{if(!Pu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ie(this,Sl)||this.setEventListener(ie(this,yf))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,Sl))==null||t.call(this),lt(this,Sl,void 0))}setEventListener(t){var r;lt(this,yf,t),(r=ie(this,Sl))==null||r.call(this),lt(this,Sl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ie(this,tu)!==t&&(lt(this,tu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ie(this,tu)=="boolean"?ie(this,tu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},tu=new WeakMap,Sl=new WeakMap,yf=new WeakMap,C6),XP=new Yoe,vf,jl,xf,P6,Joe=(P6=class extends kh{constructor(){super();kt(this,vf,!0);kt(this,jl);kt(this,xf);lt(this,xf,t=>{if(!Pu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ie(this,jl)||this.setEventListener(ie(this,xf))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,jl))==null||t.call(this),lt(this,jl,void 0))}setEventListener(t){var r;lt(this,xf,t),(r=ie(this,jl))==null||r.call(this),lt(this,jl,t(this.setOnline.bind(this)))}setOnline(t){ie(this,vf)!==t&&(lt(this,vf,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ie(this,vf)}},vf=new WeakMap,jl=new WeakMap,xf=new WeakMap,P6),Ix=new Joe;function kE(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function Xoe(e){return Math.min(1e3*2**e,3e4)}function Y7(e){return(e??"online")==="online"?Ix.isOnline():!0}var J7=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function yS(e){return e instanceof J7}function X7(e){let t=!1,r=0,n=!1,s;const a=kE(),i=p=>{var y;n||(h(new J7(p)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>XP.isFocused()&&(e.networkMode==="always"||Ix.isOnline())&&e.canRun(),d=()=>Y7(e.networkMode)&&e.canRun(),f=p=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,p),s==null||s(),a.resolve(p))},h=p=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,p),s==null||s(),a.reject(p))},g=()=>new Promise(p=>{var y;s=x=>{(n||u())&&p(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var p;s=void 0,n||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(n)return;let p;const y=r===0?e.initialPromise:void 0;try{p=y??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{var E;if(n)return;const b=e.retry??(Pu?0:3),w=e.retryDelay??Xoe,_=typeof w=="function"?w(r,x):w,S=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,x);if(t||!S){h(x);return}r++,(E=e.onFail)==null||E.call(e,r,x),Hoe(_).then(()=>u()?void 0:g()).then(()=>{t?h(x):v()})})};return{promise:a,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():g().then(v),a)}}function Qoe(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Sn=Qoe(),ru,A6,Q7=(A6=class{constructor(){kt(this,ru)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_E(this.gcTime)&&lt(this,ru,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Pu?1/0:5*60*1e3))}clearGcTimeout(){ie(this,ru)&&(clearTimeout(ie(this,ru)),lt(this,ru,void 0))}},ru=new WeakMap,A6),bf,wf,ga,Xn,ly,nu,Ha,oo,T6,Zoe=(T6=class extends Q7{constructor(t){super();kt(this,Ha);kt(this,bf);kt(this,wf);kt(this,ga);kt(this,Xn);kt(this,ly);kt(this,nu);lt(this,nu,!1),lt(this,ly,t.defaultOptions),this.setOptions(t.options),this.observers=[],lt(this,ga,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,lt(this,bf,ele(this.options)),this.state=t.state??ie(this,bf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ie(this,Xn))==null?void 0:t.promise}setOptions(t){this.options={...ie(this,ly),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,ga).remove(this)}setData(t,r){const n=jE(this.state.data,t,this.options);return Ft(this,Ha,oo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ft(this,Ha,oo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=ie(this,Xn))==null?void 0:n.promise;return(s=ie(this,Xn))==null||s.cancel(t),r?r.then(ya).catch(ya):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,bf))}isActive(){return this.observers.some(t=>Xa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===JP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!H7(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ie(this,Xn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ie(this,Xn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ie(this,ga).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ie(this,Xn)&&(ie(this,nu)?ie(this,Xn).cancel({revert:!0}):ie(this,Xn).cancelRetry()),this.scheduleGc()),ie(this,ga).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ft(this,Ha,oo).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ie(this,Xn))return ie(this,Xn).continueRetry(),ie(this,Xn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(lt(this,nu,!0),n.signal)})},a=()=>{const f=G7(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),lt(this,nu,!1),this.options.persister?this.options.persister(f,h,this):f(h)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),lt(this,wf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&Ft(this,Ha,oo).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,g,v,p;yS(f)&&f.silent||Ft(this,Ha,oo).call(this,{type:"error",error:f}),yS(f)||((g=(h=ie(this,ga).config).onError)==null||g.call(h,f,this),(p=(v=ie(this,ga).config).onSettled)==null||p.call(v,this.state.data,f,this)),this.scheduleGc()};return lt(this,Xn,X7({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,g,v,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(g=(h=ie(this,ga).config).onSuccess)==null||g.call(h,f,this),(p=(v=ie(this,ga).config).onSettled)==null||p.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Ft(this,Ha,oo).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Ft(this,Ha,oo).call(this,{type:"pause"})},onContinue:()=>{Ft(this,Ha,oo).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),ie(this,Xn).start()}},bf=new WeakMap,wf=new WeakMap,ga=new WeakMap,Xn=new WeakMap,ly=new WeakMap,nu=new WeakMap,Ha=new WeakSet,oo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Z7(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return yS(s)&&s.revert&&ie(this,wf)?{...ie(this,wf),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Sn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ie(this,ga).notify({query:this,type:"updated",action:t})})},T6);function Z7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Y7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ele(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var _i,O6,tle=(O6=class extends kh{constructor(t={}){super();kt(this,_i);this.config=t,lt(this,_i,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??YP(s,r);let i=this.get(a);return i||(i=new Zoe({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){ie(this,_i).has(t.queryHash)||(ie(this,_i).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ie(this,_i).get(t.queryHash);r&&(t.destroy(),r===t&&ie(this,_i).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ie(this,_i).get(t)}getAll(){return[...ie(this,_i).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>kM(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>kM(t,n)):r}notify(t){Sn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_i=new WeakMap,O6),Si,ds,su,ji,ll,R6,rle=(R6=class extends Q7{constructor(t){super();kt(this,ji);kt(this,Si);kt(this,ds);kt(this,su);this.mutationId=t.mutationId,lt(this,ds,t.mutationCache),lt(this,Si,[]),this.state=t.state||e9(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ie(this,Si).includes(t)||(ie(this,Si).push(t),this.clearGcTimeout(),ie(this,ds).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){lt(this,Si,ie(this,Si).filter(r=>r!==t)),this.scheduleGc(),ie(this,ds).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ie(this,Si).length||(this.state.status==="pending"?this.scheduleGc():ie(this,ds).remove(this))}continue(){var t;return((t=ie(this,su))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,i,l,c,u,d,f,h,g,v,p,y,x,b,w,_,S,E,k;lt(this,su,X7({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,N)=>{Ft(this,ji,ll).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{Ft(this,ji,ll).call(this,{type:"pause"})},onContinue:()=>{Ft(this,ji,ll).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,ds).canRun(this)}));const r=this.state.status==="pending",n=!ie(this,su).canStart();try{if(!r){Ft(this,ji,ll).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(s=ie(this,ds).config).onMutate)==null?void 0:a.call(s,t,this));const N=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));N!==this.state.context&&Ft(this,ji,ll).call(this,{type:"pending",context:N,variables:t,isPaused:n})}const j=await ie(this,su).start();return await((u=(c=ie(this,ds).config).onSuccess)==null?void 0:u.call(c,j,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,j,t,this.state.context)),await((g=(h=ie(this,ds).config).onSettled)==null?void 0:g.call(h,j,null,this.state.variables,this.state.context,this)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,j,null,t,this.state.context)),Ft(this,ji,ll).call(this,{type:"success",data:j}),j}catch(j){try{throw await((x=(y=ie(this,ds).config).onError)==null?void 0:x.call(y,j,t,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,j,t,this.state.context)),await((S=(_=ie(this,ds).config).onSettled)==null?void 0:S.call(_,void 0,j,this.state.variables,this.state.context,this)),await((k=(E=this.options).onSettled)==null?void 0:k.call(E,void 0,j,t,this.state.context)),j}finally{Ft(this,ji,ll).call(this,{type:"error",error:j})}}finally{ie(this,ds).runNext(this)}}},Si=new WeakMap,ds=new WeakMap,su=new WeakMap,ji=new WeakSet,ll=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Sn.batch(()=>{ie(this,Si).forEach(n=>{n.onMutationUpdate(t)}),ie(this,ds).notify({mutation:this,type:"updated",action:t})})},R6);function e9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ys,cy,$6,nle=($6=class extends kh{constructor(t={}){super();kt(this,Ys);kt(this,cy);this.config=t,lt(this,Ys,new Map),lt(this,cy,Date.now())}build(t,r,n){const s=new rle({mutationCache:this,mutationId:++nv(this,cy)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Tv(t),n=ie(this,Ys).get(r)??[];n.push(t),ie(this,Ys).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Tv(t);if(ie(this,Ys).has(r)){const s=(n=ie(this,Ys).get(r))==null?void 0:n.filter(a=>a!==t);s&&(s.length===0?ie(this,Ys).delete(r):ie(this,Ys).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=ie(this,Ys).get(Tv(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=ie(this,Ys).get(Tv(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...ie(this,Ys).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>EM(r,n))}findAll(t={}){return this.getAll().filter(r=>EM(t,r))}notify(t){Sn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Sn.batch(()=>Promise.all(t.map(r=>r.continue().catch(ya))))}},Ys=new WeakMap,cy=new WeakMap,$6);function Tv(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function PM(e){return{onFetch:(t,r)=>{var d,f,h,g,v;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},x=G7(t.options,t.fetchOptions),b=async(w,_,S)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const E={queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};y(E);const k=await x(E),{maxPages:j}=t.options,N=S?Goe:Koe;return{pages:N(w.pages,k,j),pageParams:N(w.pageParams,_,j)}};if(s&&a.length){const w=s==="backward",_=w?sle:AM,S={pages:a,pageParams:i},E=_(n,S);l=await b(S,E,w)}else{const w=e??a.length;do{const _=c===0?i[0]??n.initialPageParam:AM(n,l);if(c>0&&_==null)break;l=await b(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,y;return(y=(p=t.options).persister)==null?void 0:y.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function AM(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function sle(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Qr,kl,El,_f,Sf,Nl,jf,kf,M6,ale=(M6=class{constructor(e={}){kt(this,Qr);kt(this,kl);kt(this,El);kt(this,_f);kt(this,Sf);kt(this,Nl);kt(this,jf);kt(this,kf);lt(this,Qr,e.queryCache||new tle),lt(this,kl,e.mutationCache||new nle),lt(this,El,e.defaultOptions||{}),lt(this,_f,new Map),lt(this,Sf,new Map),lt(this,Nl,0)}mount(){nv(this,Nl)._++,ie(this,Nl)===1&&(lt(this,jf,XP.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,Qr).onFocus())})),lt(this,kf,Ix.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,Qr).onOnline())})))}unmount(){var e,t;nv(this,Nl)._--,ie(this,Nl)===0&&((e=ie(this,jf))==null||e.call(this),lt(this,jf,void 0),(t=ie(this,kf))==null||t.call(this),lt(this,kf,void 0))}isFetching(e){return ie(this,Qr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ie(this,kl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ie(this,Qr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=ie(this,Qr).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(sf(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return ie(this,Qr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=ie(this,Qr).get(n.queryHash),a=s==null?void 0:s.state.data,i=Voe(t,a);if(i!==void 0)return ie(this,Qr).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Sn.batch(()=>ie(this,Qr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ie(this,Qr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ie(this,Qr);Sn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ie(this,Qr),n={type:"active",...e};return Sn.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Sn.batch(()=>ie(this,Qr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ya).catch(ya)}invalidateQueries(e={},t={}){return Sn.batch(()=>{if(ie(this,Qr).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Sn.batch(()=>ie(this,Qr).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(ya)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(ya)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ie(this,Qr).build(this,t);return r.isStaleByTime(sf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ya).catch(ya)}fetchInfiniteQuery(e){return e.behavior=PM(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ya).catch(ya)}ensureInfiniteQueryData(e){return e.behavior=PM(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ix.isOnline()?ie(this,kl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,Qr)}getMutationCache(){return ie(this,kl)}getDefaultOptions(){return ie(this,El)}setDefaultOptions(e){lt(this,El,e)}setQueryDefaults(e,t){ie(this,_f).set(Au(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ie(this,_f).values()];let r={};return t.forEach(n=>{ag(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){ie(this,Sf).set(Au(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ie(this,Sf).values()];let r={};return t.forEach(n=>{ag(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ie(this,El).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=YP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===JP&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ie(this,El).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ie(this,Qr).clear(),ie(this,kl).clear()}},Qr=new WeakMap,kl=new WeakMap,El=new WeakMap,_f=new WeakMap,Sf=new WeakMap,Nl=new WeakMap,jf=new WeakMap,kf=new WeakMap,M6),Es,Gt,uy,fs,au,Ef,Cl,ki,dy,Nf,Cf,iu,ou,Pl,Pf,ur,Zp,EE,NE,CE,PE,AE,TE,OE,t9,I6,ile=(I6=class extends kh{constructor(t,r){super();kt(this,ur);kt(this,Es);kt(this,Gt);kt(this,uy);kt(this,fs);kt(this,au);kt(this,Ef);kt(this,Cl);kt(this,ki);kt(this,dy);kt(this,Nf);kt(this,Cf);kt(this,iu);kt(this,ou);kt(this,Pl);kt(this,Pf,new Set);this.options=r,lt(this,Es,t),lt(this,ki,null),lt(this,Cl,kE()),this.options.experimental_prefetchInRender||ie(this,Cl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ie(this,Gt).addObserver(this),TM(ie(this,Gt),this.options)?Ft(this,ur,Zp).call(this):this.updateResult(),Ft(this,ur,PE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return RE(ie(this,Gt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return RE(ie(this,Gt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ft(this,ur,AE).call(this),Ft(this,ur,TE).call(this),ie(this,Gt).removeObserver(this)}setOptions(t,r){const n=this.options,s=ie(this,Gt);if(this.options=ie(this,Es).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xa(this.options.enabled,ie(this,Gt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ft(this,ur,OE).call(this),ie(this,Gt).setOptions(this.options),n._defaulted&&!Mx(this.options,n)&&ie(this,Es).getQueryCache().notify({type:"observerOptionsUpdated",query:ie(this,Gt),observer:this});const a=this.hasListeners();a&&OM(ie(this,Gt),s,this.options,n)&&Ft(this,ur,Zp).call(this),this.updateResult(r),a&&(ie(this,Gt)!==s||Xa(this.options.enabled,ie(this,Gt))!==Xa(n.enabled,ie(this,Gt))||sf(this.options.staleTime,ie(this,Gt))!==sf(n.staleTime,ie(this,Gt)))&&Ft(this,ur,EE).call(this);const i=Ft(this,ur,NE).call(this);a&&(ie(this,Gt)!==s||Xa(this.options.enabled,ie(this,Gt))!==Xa(n.enabled,ie(this,Gt))||i!==ie(this,Pl))&&Ft(this,ur,CE).call(this,i)}getOptimisticResult(t){const r=ie(this,Es).getQueryCache().build(ie(this,Es),t),n=this.createResult(r,t);return lle(this,n)&&(lt(this,fs,n),lt(this,Ef,this.options),lt(this,au,ie(this,Gt).state)),n}getCurrentResult(){return ie(this,fs)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){ie(this,Pf).add(t)}getCurrentQuery(){return ie(this,Gt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ie(this,Es).defaultQueryOptions(t),n=ie(this,Es).getQueryCache().build(ie(this,Es),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ft(this,ur,Zp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ie(this,fs)))}createResult(t,r){var j;const n=ie(this,Gt),s=this.options,a=ie(this,fs),i=ie(this,au),l=ie(this,Ef),u=t!==n?t.state:ie(this,uy),{state:d}=t;let f={...d},h=!1,g;if(r._optimisticResults){const N=this.hasListeners(),C=!N&&TM(t,r),A=N&&OM(t,n,r,s);(C||A)&&(f={...f,...Z7(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:p,status:y}=f;if(r.select&&f.data!==void 0)if(a&&f.data===(i==null?void 0:i.data)&&r.select===ie(this,dy))g=ie(this,Nf);else try{lt(this,dy,r.select),g=r.select(f.data),g=jE(a==null?void 0:a.data,g,r),lt(this,Nf,g),lt(this,ki,null)}catch(N){lt(this,ki,N)}else g=f.data;if(r.placeholderData!==void 0&&g===void 0&&y==="pending"){let N;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))N=a.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((j=ie(this,Cf))==null?void 0:j.state.data,ie(this,Cf)):r.placeholderData,r.select&&N!==void 0)try{N=r.select(N),lt(this,ki,null)}catch(C){lt(this,ki,C)}N!==void 0&&(y="success",g=jE(a==null?void 0:a.data,N,r),h=!0)}ie(this,ki)&&(v=ie(this,ki),g=ie(this,Nf),p=Date.now(),y="error");const x=f.fetchStatus==="fetching",b=y==="pending",w=y==="error",_=b&&x,S=g!==void 0,k={status:y,fetchStatus:f.fetchStatus,isPending:b,isSuccess:y==="success",isError:w,isInitialLoading:_,isLoading:_,data:g,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:w&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&S,isStale:QP(t,r),refetch:this.refetch,promise:ie(this,Cl)};if(this.options.experimental_prefetchInRender){const N=R=>{k.status==="error"?R.reject(k.error):k.data!==void 0&&R.resolve(k.data)},C=()=>{const R=lt(this,Cl,k.promise=kE());N(R)},A=ie(this,Cl);switch(A.status){case"pending":t.queryHash===n.queryHash&&N(A);break;case"fulfilled":(k.status==="error"||k.data!==A.value)&&C();break;case"rejected":(k.status!=="error"||k.error!==A.reason)&&C();break}}return k}updateResult(t){const r=ie(this,fs),n=this.createResult(ie(this,Gt),this.options);if(lt(this,au,ie(this,Gt).state),lt(this,Ef,this.options),ie(this,au).data!==void 0&&lt(this,Cf,ie(this,Gt)),Mx(n,r))return;lt(this,fs,n);const s={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!ie(this,Pf).size)return!0;const c=new Set(l??ie(this,Pf));return this.options.throwOnError&&c.add("error"),Object.keys(ie(this,fs)).some(u=>{const d=u;return ie(this,fs)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),Ft(this,ur,t9).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ft(this,ur,PE).call(this)}},Es=new WeakMap,Gt=new WeakMap,uy=new WeakMap,fs=new WeakMap,au=new WeakMap,Ef=new WeakMap,Cl=new WeakMap,ki=new WeakMap,dy=new WeakMap,Nf=new WeakMap,Cf=new WeakMap,iu=new WeakMap,ou=new WeakMap,Pl=new WeakMap,Pf=new WeakMap,ur=new WeakSet,Zp=function(t){Ft(this,ur,OE).call(this);let r=ie(this,Gt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ya)),r},EE=function(){Ft(this,ur,AE).call(this);const t=sf(this.options.staleTime,ie(this,Gt));if(Pu||ie(this,fs).isStale||!_E(t))return;const n=H7(ie(this,fs).dataUpdatedAt,t)+1;lt(this,iu,setTimeout(()=>{ie(this,fs).isStale||this.updateResult()},n))},NE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ie(this,Gt)):this.options.refetchInterval)??!1},CE=function(t){Ft(this,ur,TE).call(this),lt(this,Pl,t),!(Pu||Xa(this.options.enabled,ie(this,Gt))===!1||!_E(ie(this,Pl))||ie(this,Pl)===0)&&lt(this,ou,setInterval(()=>{(this.options.refetchIntervalInBackground||XP.isFocused())&&Ft(this,ur,Zp).call(this)},ie(this,Pl)))},PE=function(){Ft(this,ur,EE).call(this),Ft(this,ur,CE).call(this,Ft(this,ur,NE).call(this))},AE=function(){ie(this,iu)&&(clearTimeout(ie(this,iu)),lt(this,iu,void 0))},TE=function(){ie(this,ou)&&(clearInterval(ie(this,ou)),lt(this,ou,void 0))},OE=function(){const t=ie(this,Es).getQueryCache().build(ie(this,Es),this.options);if(t===ie(this,Gt))return;const r=ie(this,Gt);lt(this,Gt,t),lt(this,uy,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},t9=function(t){Sn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ie(this,fs))}),ie(this,Es).getQueryCache().notify({query:ie(this,Gt),type:"observerResultsUpdated"})})},I6);function ole(e,t){return Xa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function TM(e,t){return ole(e,t)||e.state.data!==void 0&&RE(e,t,t.refetchOnMount)}function RE(e,t,r){if(Xa(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&QP(e,t)}return!1}function OM(e,t,r,n){return(e!==t||Xa(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&QP(e,r)}function QP(e,t){return Xa(t.enabled,e)!==!1&&e.isStaleByTime(sf(t.staleTime,e))}function lle(e,t){return!Mx(e.getCurrentResult(),t)}var Al,Tl,Ns,yo,Oo,I0,$E,L6,cle=(L6=class extends kh{constructor(r,n){super();kt(this,Oo);kt(this,Al);kt(this,Tl);kt(this,Ns);kt(this,yo);lt(this,Al,r),this.setOptions(n),this.bindMethods(),Ft(this,Oo,I0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=ie(this,Al).defaultMutationOptions(r),Mx(this.options,n)||ie(this,Al).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ie(this,Ns),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Au(n.mutationKey)!==Au(this.options.mutationKey)?this.reset():((s=ie(this,Ns))==null?void 0:s.state.status)==="pending"&&ie(this,Ns).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ie(this,Ns))==null||r.removeObserver(this)}onMutationUpdate(r){Ft(this,Oo,I0).call(this),Ft(this,Oo,$E).call(this,r)}getCurrentResult(){return ie(this,Tl)}reset(){var r;(r=ie(this,Ns))==null||r.removeObserver(this),lt(this,Ns,void 0),Ft(this,Oo,I0).call(this),Ft(this,Oo,$E).call(this)}mutate(r,n){var s;return lt(this,yo,n),(s=ie(this,Ns))==null||s.removeObserver(this),lt(this,Ns,ie(this,Al).getMutationCache().build(ie(this,Al),this.options)),ie(this,Ns).addObserver(this),ie(this,Ns).execute(r)}},Al=new WeakMap,Tl=new WeakMap,Ns=new WeakMap,yo=new WeakMap,Oo=new WeakSet,I0=function(){var n;const r=((n=ie(this,Ns))==null?void 0:n.state)??e9();lt(this,Tl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},$E=function(r){Sn.batch(()=>{var n,s,a,i,l,c,u,d;if(ie(this,yo)&&this.hasListeners()){const f=ie(this,Tl).variables,h=ie(this,Tl).context;(r==null?void 0:r.type)==="success"?((s=(n=ie(this,yo)).onSuccess)==null||s.call(n,r.data,f,h),(i=(a=ie(this,yo)).onSettled)==null||i.call(a,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=ie(this,yo)).onError)==null||c.call(l,r.error,f,h),(d=(u=ie(this,yo)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(ie(this,Tl))})})},L6),r9=m.createContext(void 0),Ws=e=>{const t=m.useContext(r9);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ule=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(r9.Provider,{value:e,children:t})),n9=m.createContext(!1),dle=()=>m.useContext(n9);n9.Provider;function fle(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var hle=m.createContext(fle()),ple=()=>m.useContext(hle);function s9(e,t){return typeof e=="function"?e(...t):!!e}function a9(){}var mle=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},gle=e=>{m.useEffect(()=>{e.clearReset()},[e])},yle=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&s9(r,[e.error,n]),vle=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},xle=(e,t)=>e.isLoading&&e.isFetching&&!t,ble=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,RM=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function wle(e,t,r){var d,f,h,g,v;const n=Ws(),s=dle(),a=ple(),i=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,i),i._optimisticResults=s?"isRestoring":"optimistic",vle(i),mle(i,a),gle(a);const l=!n.getQueryCache().get(i.queryHash),[c]=m.useState(()=>new t(n,i)),u=c.getOptimisticResult(i);if(m.useSyncExternalStore(m.useCallback(p=>{const y=s?()=>{}:c.subscribe(Sn.batchCalls(p));return c.updateResult(),y},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),ble(i,u))throw RM(i,c,a);if(yle({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw u.error;if((g=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,i,u),i.experimental_prefetchInRender&&!Pu&&xle(u,s)){const p=l?RM(i,c,a):(v=n.getQueryCache().get(i.queryHash))==null?void 0:v.promise;p==null||p.catch(a9).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Wt(e,t){return wle(e,ile)}function oa(e,t){const r=Ws(),[n]=m.useState(()=>new cle(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(i=>n.subscribe(Sn.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=m.useCallback((i,l)=>{n.mutate(i,l).catch(a9)},[n]);if(s.error&&s9(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ig.apply(this,arguments)}var Ml;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ml||(Ml={}));const $M="popstate";function _le(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:i,hash:l}=n.location;return ME("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Lx(s)}return jle(t,r,null,e)}function an(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function i9(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Sle(){return Math.random().toString(36).substr(2,8)}function MM(e,t){return{usr:e.state,key:e.key,idx:t}}function ME(e,t,r,n){return r===void 0&&(r=null),ig({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Eh(t):t,{state:r,key:t&&t.key||n||Sle()})}function Lx(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Eh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function jle(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,l=Ml.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(ig({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Ml.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:l,location:p.location,delta:x})}function h(y,x){l=Ml.Push;let b=ME(p.location,y,x);u=d()+1;let w=MM(b,u),_=p.createHref(b);try{i.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}a&&c&&c({action:l,location:p.location,delta:1})}function g(y,x){l=Ml.Replace;let b=ME(p.location,y,x);u=d();let w=MM(b,u),_=p.createHref(b);i.replaceState(w,"",_),a&&c&&c({action:l,location:p.location,delta:0})}function v(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof y=="string"?y:Lx(y);return b=b.replace(/ $/,"%20"),an(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let p={get action(){return l},get location(){return e(s,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener($M,f),c=y,()=>{s.removeEventListener($M,f),c=null}},createHref(y){return t(s,y)},createURL:v,encodeLocation(y){let x=v(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(y){return i.go(y)}};return p}var IM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(IM||(IM={}));function kle(e,t,r){return r===void 0&&(r="/"),Ele(e,t,r,!1)}function Ele(e,t,r,n){let s=typeof t=="string"?Eh(t):t,a=ZP(s.pathname||"/",r);if(a==null)return null;let i=o9(e);Nle(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=Dle(a);l=Ile(i[c],u,n)}return l}function o9(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(an(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Jl([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(an(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),o9(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:$le(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of l9(a.path))s(a,i,c)}),t}function l9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=l9(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Nle(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Mle(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Cle=/^:[\w-]+$/,Ple=3,Ale=2,Tle=1,Ole=10,Rle=-2,LM=e=>e==="*";function $le(e,t){let r=e.split("/"),n=r.length;return r.some(LM)&&(n+=Rle),t&&(n+=Ale),r.filter(s=>!LM(s)).reduce((s,a)=>s+(Cle.test(a)?Ple:a===""?Tle:Ole),n)}function Mle(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Ile(e,t,r){let{routesMeta:n}=e,s={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=DM({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=DM({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Jl([a,f.pathname]),pathnameBase:zle(Jl([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Jl([a,f.pathnameBase]))}return i}function DM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Lle(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let p=l[f]||"";i=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const v=l[f];return g&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function Lle(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),i9(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Dle(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return i9(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ZP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Fle(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Eh(e):e;return{pathname:r?r.startsWith("/")?r:Ble(r,t):t,search:qle(n),hash:Wle(s)}}function Ble(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function vS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ule(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function eA(e,t){let r=Ule(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function tA(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Eh(e):(s=ig({},e),an(!s.pathname||!s.pathname.includes("?"),vS("?","pathname","search",s)),an(!s.pathname||!s.pathname.includes("#"),vS("#","pathname","hash",s)),an(!s.search||!s.search.includes("#"),vS("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Fle(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Jl=e=>e.join("/").replace(/\/\/+/g,"/"),zle=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qle=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Wle=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Vle(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const c9=["post","put","patch","delete"];new Set(c9);const Hle=["get",...c9];new Set(Hle);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(this,arguments)}const rA=m.createContext(null),Kle=m.createContext(null),gc=m.createContext(null),Iw=m.createContext(null),Go=m.createContext({outlet:null,matches:[],isDataRoute:!1}),u9=m.createContext(null);function Gle(e,t){let{relative:r}=t===void 0?{}:t;Nh()||an(!1);let{basename:n,navigator:s}=m.useContext(gc),{hash:a,pathname:i,search:l}=f9(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Jl([n,i])),s.createHref({pathname:c,search:l,hash:a})}function Nh(){return m.useContext(Iw)!=null}function Vs(){return Nh()||an(!1),m.useContext(Iw).location}function d9(e){m.useContext(gc).static||m.useLayoutEffect(e)}function rr(){let{isDataRoute:e}=m.useContext(Go);return e?oce():Yle()}function Yle(){Nh()||an(!1);let e=m.useContext(rA),{basename:t,future:r,navigator:n}=m.useContext(gc),{matches:s}=m.useContext(Go),{pathname:a}=Vs(),i=JSON.stringify(eA(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return d9(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=tA(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Jl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,a,e])}function Ch(){let{matches:e}=m.useContext(Go),t=e[e.length-1];return t?t.params:{}}function f9(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(gc),{matches:s}=m.useContext(Go),{pathname:a}=Vs(),i=JSON.stringify(eA(s,n.v7_relativeSplatPath));return m.useMemo(()=>tA(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function Jle(e,t){return Xle(e,t)}function Xle(e,t,r,n){Nh()||an(!1);let{navigator:s}=m.useContext(gc),{matches:a}=m.useContext(Go),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Vs(),d;if(t){var f;let y=typeof t=="string"?Eh(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||an(!1),d=y}else d=u;let h=d.pathname||"/",g=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=kle(e,{pathname:g}),p=rce(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Jl([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Jl([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&p?m.createElement(Iw.Provider,{value:{location:og({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ml.Pop}},p):p}function Qle(){let e=ice(),t=Vle(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const Zle=m.createElement(Qle,null);class ece extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Go.Provider,{value:this.props.routeContext},m.createElement(u9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tce(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(rA);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Go.Provider,{value:t},n)}function rce(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||an(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let g,v=!1,p=null,y=null;r&&(g=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||Zle,c&&(u<0&&h===0?(v=!0,y=null):u===h&&(v=!0,y=f.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,h+1)),b=()=>{let w;return g?w=p:v?w=y:f.route.Component?w=m.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,m.createElement(tce,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(ece,{location:r.location,revalidation:r.revalidation,component:p,error:g,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var h9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(h9||{}),Dx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Dx||{});function nce(e){let t=m.useContext(rA);return t||an(!1),t}function sce(e){let t=m.useContext(Kle);return t||an(!1),t}function ace(e){let t=m.useContext(Go);return t||an(!1),t}function p9(e){let t=ace(),r=t.matches[t.matches.length-1];return r.route.id||an(!1),r.route.id}function ice(){var e;let t=m.useContext(u9),r=sce(Dx.UseRouteError),n=p9(Dx.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function oce(){let{router:e}=nce(h9.UseNavigateStable),t=p9(Dx.UseNavigateStable),r=m.useRef(!1);return d9(()=>{r.current=!0}),m.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,og({fromRouteId:t},a)))},[e,t])}function lce(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function L0(e){let{to:t,replace:r,state:n,relative:s}=e;Nh()||an(!1);let{future:a,static:i}=m.useContext(gc),{matches:l}=m.useContext(Go),{pathname:c}=Vs(),u=rr(),d=tA(t,eA(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Ps(e){an(!1)}function cce(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ml.Pop,navigator:a,static:i=!1,future:l}=e;Nh()&&an(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:i,future:og({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=Eh(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:v="default"}=n,p=m.useMemo(()=>{let y=ZP(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:g,key:v},navigationType:s}},[c,d,f,h,g,v,s]);return p==null?null:m.createElement(gc.Provider,{value:u},m.createElement(Iw.Provider,{children:r,value:p}))}function uce(e){let{children:t,location:r}=e;return Jle(IE(t),r)}new Promise(()=>{});function IE(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let a=[...t,s];if(n.type===m.Fragment){r.push.apply(r,IE(n.props.children,a));return}n.type!==Ps&&an(!1),!n.props.index||!n.props.children||an(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=IE(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LE.apply(this,arguments)}function dce(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function fce(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hce(e,t){return e.button===0&&(!t||t==="_self")&&!fce(e)}function DE(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function pce(e,t){let r=DE(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const mce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gce="6";try{window.__reactRouterVersion=gce}catch{}const yce="startTransition",FM=gh[yce];function vce(e){let{basename:t,children:r,future:n,window:s}=e,a=m.useRef();a.current==null&&(a.current=_le({window:s,v5Compat:!0}));let i=a.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&FM?FM(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.useEffect(()=>lce(n),[n]),m.createElement(cce,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const xce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wr=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=dce(t,mce),{basename:g}=m.useContext(gc),v,p=!1;if(typeof u=="string"&&bce.test(u)&&(v=u,xce))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=ZP(_.pathname,g);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:p=!0}catch{}let y=Gle(u,{relative:s}),x=wce(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||x(w)}return m.createElement("a",LE({},h,{href:v||y,onClick:p||a?n:b,ref:r,target:c}))});var BM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(BM||(BM={}));var UM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(UM||(UM={}));function wce(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=rr(),u=Vs(),d=f9(e,{relative:i});return m.useCallback(f=>{if(hce(f,r)){f.preventDefault();let h=n!==void 0?n:Lx(u)===Lx(d);c(e,{replace:h,state:s,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,a,i,l])}function Sy(e){let t=m.useRef(DE(e)),r=m.useRef(!1),n=Vs(),s=m.useMemo(()=>pce(n.search,r.current?null:t.current),[n.search]),a=rr(),i=m.useCallback((l,c)=>{const u=DE(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,i]}function m9(e,t){return function(){return e.apply(t,arguments)}}const{toString:_ce}=Object.prototype,{getPrototypeOf:nA}=Object,{iterator:Lw,toStringTag:g9}=Symbol,Dw=(e=>t=>{const r=_ce.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),fi=e=>(e=e.toLowerCase(),t=>Dw(t)===e),Fw=e=>t=>typeof t===e,{isArray:Ph}=Array,zf=Fw("undefined");function jy(e){return e!==null&&!zf(e)&&e.constructor!==null&&!zf(e.constructor)&&zs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const y9=fi("ArrayBuffer");function Sce(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&y9(e.buffer),t}const jce=Fw("string"),zs=Fw("function"),v9=Fw("number"),ky=e=>e!==null&&typeof e=="object",kce=e=>e===!0||e===!1,D0=e=>{if(Dw(e)!=="object")return!1;const t=nA(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(g9 in e)&&!(Lw in e)},Ece=e=>{if(!ky(e)||jy(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Nce=fi("Date"),Cce=fi("File"),Pce=fi("Blob"),Ace=fi("FileList"),Tce=e=>ky(e)&&zs(e.pipe),Oce=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||zs(e.append)&&((t=Dw(e))==="formdata"||t==="object"&&zs(e.toString)&&e.toString()==="[object FormData]"))},Rce=fi("URLSearchParams"),[$ce,Mce,Ice,Lce]=["ReadableStream","Request","Response","Headers"].map(fi),Dce=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ey(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Ph(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(jy(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(n=0;n<i;n++)l=a[n],t.call(null,e[l],l,e)}}function x9(e,t){if(jy(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Gc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,b9=e=>!zf(e)&&e!==Gc;function FE(){const{caseless:e,skipUndefined:t}=b9(this)&&this||{},r={},n=(s,a)=>{const i=e&&x9(r,a)||a;D0(r[i])&&D0(s)?r[i]=FE(r[i],s):D0(s)?r[i]=FE({},s):Ph(s)?r[i]=s.slice():(!t||!zf(s))&&(r[i]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Ey(arguments[s],n);return r}const Fce=(e,t,r,{allOwnKeys:n}={})=>(Ey(t,(s,a)=>{r&&zs(s)?e[a]=m9(s,r):e[a]=s},{allOwnKeys:n}),e),Bce=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Uce=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},zce=(e,t,r,n)=>{let s,a,i;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&nA(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},qce=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Wce=e=>{if(!e)return null;if(Ph(e))return e;let t=e.length;if(!v9(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Vce=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&nA(Uint8Array)),Hce=(e,t)=>{const n=(e&&e[Lw]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},Kce=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Gce=fi("HTMLFormElement"),Yce=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),zM=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Jce=fi("RegExp"),w9=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ey(r,(s,a)=>{let i;(i=t(s,a,e))!==!1&&(n[a]=i||s)}),Object.defineProperties(e,n)},Xce=e=>{w9(e,(t,r)=>{if(zs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(zs(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Qce=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return Ph(e)?n(e):n(String(e).split(t)),r},Zce=()=>{},eue=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function tue(e){return!!(e&&zs(e.append)&&e[g9]==="FormData"&&e[Lw])}const rue=e=>{const t=new Array(10),r=(n,s)=>{if(ky(n)){if(t.indexOf(n)>=0)return;if(jy(n))return n;if(!("toJSON"in n)){t[s]=n;const a=Ph(n)?[]:{};return Ey(n,(i,l)=>{const c=r(i,s+1);!zf(c)&&(a[l]=c)}),t[s]=void 0,a}}return n};return r(e,0)},nue=fi("AsyncFunction"),sue=e=>e&&(ky(e)||zs(e))&&zs(e.then)&&zs(e.catch),_9=((e,t)=>e?setImmediate:t?((r,n)=>(Gc.addEventListener("message",({source:s,data:a})=>{s===Gc&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Gc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",zs(Gc.postMessage)),aue=typeof queueMicrotask<"u"?queueMicrotask.bind(Gc):typeof process<"u"&&process.nextTick||_9,iue=e=>e!=null&&zs(e[Lw]),me={isArray:Ph,isArrayBuffer:y9,isBuffer:jy,isFormData:Oce,isArrayBufferView:Sce,isString:jce,isNumber:v9,isBoolean:kce,isObject:ky,isPlainObject:D0,isEmptyObject:Ece,isReadableStream:$ce,isRequest:Mce,isResponse:Ice,isHeaders:Lce,isUndefined:zf,isDate:Nce,isFile:Cce,isBlob:Pce,isRegExp:Jce,isFunction:zs,isStream:Tce,isURLSearchParams:Rce,isTypedArray:Vce,isFileList:Ace,forEach:Ey,merge:FE,extend:Fce,trim:Dce,stripBOM:Bce,inherits:Uce,toFlatObject:zce,kindOf:Dw,kindOfTest:fi,endsWith:qce,toArray:Wce,forEachEntry:Hce,matchAll:Kce,isHTMLForm:Gce,hasOwnProperty:zM,hasOwnProp:zM,reduceDescriptors:w9,freezeMethods:Xce,toObjectSet:Qce,toCamelCase:Yce,noop:Zce,toFiniteNumber:eue,findKey:x9,global:Gc,isContextDefined:b9,isSpecCompliantForm:tue,toJSONObject:rue,isAsyncFn:nue,isThenable:sue,setImmediate:_9,asap:aue,isIterable:iue};function Rt(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}me.inherits(Rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const S9=Rt.prototype,j9={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{j9[e]={value:e}});Object.defineProperties(Rt,j9);Object.defineProperty(S9,"isAxiosError",{value:!0});Rt.from=(e,t,r,n,s,a)=>{const i=Object.create(S9);me.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Rt.call(i,l,c,r,n,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const oue=null;function BE(e){return me.isPlainObject(e)||me.isArray(e)}function k9(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function qM(e,t,r){return e?e.concat(t).map(function(s,a){return s=k9(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function lue(e){return me.isArray(e)&&!e.some(BE)}const cue=me.toFlatObject(me,{},null,function(t){return/^is[A-Z]/.test(t)});function Bw(e,t,r){if(!me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=me.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,y){return!me.isUndefined(y[p])});const n=r.metaTokens,s=r.visitor||d,a=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(t);if(!me.isFunction(s))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(me.isDate(v))return v.toISOString();if(me.isBoolean(v))return v.toString();if(!c&&me.isBlob(v))throw new Rt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(v)||me.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,p,y){let x=v;if(v&&!y&&typeof v=="object"){if(me.endsWith(p,"{}"))p=n?p:p.slice(0,-2),v=JSON.stringify(v);else if(me.isArray(v)&&lue(v)||(me.isFileList(v)||me.endsWith(p,"[]"))&&(x=me.toArray(v)))return p=k9(p),x.forEach(function(w,_){!(me.isUndefined(w)||w===null)&&t.append(i===!0?qM([p],_,a):i===null?p:p+"[]",u(w))}),!1}return BE(v)?!0:(t.append(qM(y,p,a),u(v)),!1)}const f=[],h=Object.assign(cue,{defaultVisitor:d,convertValue:u,isVisitable:BE});function g(v,p){if(!me.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(v),me.forEach(v,function(x,b){(!(me.isUndefined(x)||x===null)&&s.call(t,x,me.isString(b)?b.trim():b,p,h))===!0&&g(x,p?p.concat(b):[b])}),f.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return g(e),t}function WM(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function sA(e,t){this._pairs=[],e&&Bw(e,this,t)}const E9=sA.prototype;E9.append=function(t,r){this._pairs.push([t,r])};E9.toString=function(t){const r=t?function(n){return t.call(this,n,WM)}:WM;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function uue(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function N9(e,t,r){if(!t)return e;const n=r&&r.encode||uue;me.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=me.isURLSearchParams(t)?t.toString():new sA(t,r).toString(n),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class VM{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){me.forEach(this.handlers,function(n){n!==null&&t(n)})}}const C9={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},due=typeof URLSearchParams<"u"?URLSearchParams:sA,fue=typeof FormData<"u"?FormData:null,hue=typeof Blob<"u"?Blob:null,pue={isBrowser:!0,classes:{URLSearchParams:due,FormData:fue,Blob:hue},protocols:["http","https","file","blob","url","data"]},aA=typeof window<"u"&&typeof document<"u",UE=typeof navigator=="object"&&navigator||void 0,mue=aA&&(!UE||["ReactNative","NativeScript","NS"].indexOf(UE.product)<0),gue=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yue=aA&&window.location.href||"http://localhost",vue=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:aA,hasStandardBrowserEnv:mue,hasStandardBrowserWebWorkerEnv:gue,navigator:UE,origin:yue},Symbol.toStringTag,{value:"Module"})),rs={...vue,...pue};function xue(e,t){return Bw(e,new rs.classes.URLSearchParams,{visitor:function(r,n,s,a){return rs.isNode&&me.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function bue(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function wue(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function P9(e){function t(r,n,s,a){let i=r[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=a>=r.length;return i=!i&&me.isArray(s)?s.length:i,c?(me.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!l):((!s[i]||!me.isObject(s[i]))&&(s[i]=[]),t(r,n,s[i],a)&&me.isArray(s[i])&&(s[i]=wue(s[i])),!l)}if(me.isFormData(e)&&me.isFunction(e.entries)){const r={};return me.forEachEntry(e,(n,s)=>{t(bue(n),s,r,0)}),r}return null}function _ue(e,t,r){if(me.isString(e))try{return(t||JSON.parse)(e),me.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const Ny={transitional:C9,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=me.isObject(t);if(a&&me.isHTMLForm(t)&&(t=new FormData(t)),me.isFormData(t))return s?JSON.stringify(P9(t)):t;if(me.isArrayBuffer(t)||me.isBuffer(t)||me.isStream(t)||me.isFile(t)||me.isBlob(t)||me.isReadableStream(t))return t;if(me.isArrayBufferView(t))return t.buffer;if(me.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return xue(t,this.formSerializer).toString();if((l=me.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Bw(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),_ue(t)):t}],transformResponse:[function(t){const r=this.transitional||Ny.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(me.isResponse(t)||me.isReadableStream(t))return t;if(t&&me.isString(t)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Rt.from(l,Rt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rs.classes.FormData,Blob:rs.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{Ny.headers[e]={}});const Sue=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jue=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||t[r]&&Sue[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},HM=Symbol("internals");function Sp(e){return e&&String(e).trim().toLowerCase()}function F0(e){return e===!1||e==null?e:me.isArray(e)?e.map(F0):String(e)}function kue(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Eue=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function xS(e,t,r,n,s){if(me.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!me.isString(t)){if(me.isString(n))return t.indexOf(n)!==-1;if(me.isRegExp(n))return n.test(t)}}function Nue(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Cue(e,t){const r=me.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,i){return this[n].call(this,t,s,a,i)},configurable:!0})})}class qs{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(l,c,u){const d=Sp(c);if(!d)throw new Error("header name must be a non-empty string");const f=me.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=F0(l))}const i=(l,c)=>me.forEach(l,(u,d)=>a(u,d,c));if(me.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(me.isString(t)&&(t=t.trim())&&!Eue(t))i(jue(t),r);else if(me.isObject(t)&&me.isIterable(t)){let l={},c,u;for(const d of t){if(!me.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?me.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=Sp(t),t){const n=me.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return kue(s);if(me.isFunction(r))return r.call(this,s,n);if(me.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Sp(t),t){const n=me.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||xS(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(i){if(i=Sp(i),i){const l=me.findKey(n,i);l&&(!r||xS(n,n[l],l,r))&&(delete n[l],s=!0)}}return me.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||xS(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return me.forEach(this,(s,a)=>{const i=me.findKey(n,a);if(i){r[i]=F0(s),delete r[a];return}const l=t?Nue(a):String(a).trim();l!==a&&delete r[a],r[l]=F0(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return me.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&me.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[HM]=this[HM]={accessors:{}}).accessors,s=this.prototype;function a(i){const l=Sp(i);n[l]||(Cue(s,i),n[l]=!0)}return me.isArray(t)?t.forEach(a):a(t),this}}qs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(qs.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});me.freezeMethods(qs);function bS(e,t){const r=this||Ny,n=t||r,s=qs.from(n.headers);let a=n.data;return me.forEach(e,function(l){a=l.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function A9(e){return!!(e&&e.__CANCEL__)}function Ah(e,t,r){Rt.call(this,e??"canceled",Rt.ERR_CANCELED,t,r),this.name="CanceledError"}me.inherits(Ah,Rt,{__CANCEL__:!0});function T9(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Rt("Request failed with status code "+r.status,[Rt.ERR_BAD_REQUEST,Rt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Pue(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Aue(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];i||(i=u),r[s]=c,n[s]=u;let f=a,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-i<t)return;const g=d&&u-d;return g?Math.round(h*1e3/g):void 0}}function Tue(e,t){let r=0,n=1e3/t,s,a;const i=(u,d=Date.now())=>{r=d,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(s=u,a||(a=setTimeout(()=>{a=null,i(s)},n-f)))},()=>s&&i(s)]}const Fx=(e,t,r=3)=>{let n=0;const s=Aue(50,250);return Tue(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,c=i-n,u=s(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},KM=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},GM=e=>(...t)=>me.asap(()=>e(...t)),Oue=rs.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,rs.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(rs.origin),rs.navigator&&/(msie|trident)/i.test(rs.navigator.userAgent)):()=>!0,Rue=rs.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const i=[e+"="+encodeURIComponent(t)];me.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),me.isString(n)&&i.push("path="+n),me.isString(s)&&i.push("domain="+s),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $ue(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Mue(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function O9(e,t,r){let n=!$ue(t);return e&&(n||r==!1)?Mue(e,t):t}const YM=e=>e instanceof qs?{...e}:e;function Tu(e,t){t=t||{};const r={};function n(u,d,f,h){return me.isPlainObject(u)&&me.isPlainObject(d)?me.merge.call({caseless:h},u,d):me.isPlainObject(d)?me.merge({},d):me.isArray(d)?d.slice():d}function s(u,d,f,h){if(me.isUndefined(d)){if(!me.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function a(u,d){if(!me.isUndefined(d))return n(void 0,d)}function i(u,d){if(me.isUndefined(d)){if(!me.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>s(YM(u),YM(d),f,!0)};return me.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,h=f(e[d],t[d],d);me.isUndefined(h)&&f!==l||(r[d]=h)}),r}const R9=e=>{const t=Tu({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=qs.from(i),t.url=N9(O9(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),me.isFormData(r)){if(rs.hasStandardBrowserEnv||rs.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(me.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(rs.hasStandardBrowserEnv&&(n&&me.isFunction(n)&&(n=n(t)),n||n!==!1&&Oue(t.url))){const c=s&&a&&Rue.read(a);c&&i.set(s,c)}return t},Iue=typeof XMLHttpRequest<"u",Lue=Iue&&function(e){return new Promise(function(r,n){const s=R9(e);let a=s.data;const i=qs.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,g,v;function p(){g&&g(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function x(){if(!y)return;const w=qs.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};T9(function(k){r(k),p()},function(k){n(k),p()},S),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(n(new Rt("Request aborted",Rt.ECONNABORTED,e,y)),y=null)},y.onerror=function(_){const S=_&&_.message?_.message:"Network Error",E=new Rt(S,Rt.ERR_NETWORK,e,y);E.event=_||null,n(E),y=null},y.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||C9;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),n(new Rt(_,S.clarifyTimeoutError?Rt.ETIMEDOUT:Rt.ECONNABORTED,e,y)),y=null},a===void 0&&i.setContentType(null),"setRequestHeader"in y&&me.forEach(i.toJSON(),function(_,S){y.setRequestHeader(S,_)}),me.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),u&&([h,v]=Fx(u,!0),y.addEventListener("progress",h)),c&&y.upload&&([f,g]=Fx(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(d=w=>{y&&(n(!w||w.type?new Ah(null,e,y):w),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const b=Pue(s.url);if(b&&rs.protocols.indexOf(b)===-1){n(new Rt("Unsupported protocol "+b+":",Rt.ERR_BAD_REQUEST,e));return}y.send(a||null)})},Due=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Rt?d:new Ah(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,a(new Rt(`timeout ${t} of ms exceeded`,Rt.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>me.asap(l),c}},Fue=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},Bue=async function*(e,t){for await(const r of Uue(e))yield*Fue(r,t)},Uue=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},JM=(e,t,r,n)=>{const s=Bue(e,t);let a=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=a+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},XM=64*1024,{isFunction:Ov}=me,zue=(({Request:e,Response:t})=>({Request:e,Response:t}))(me.global),{ReadableStream:QM,TextEncoder:ZM}=me.global,e4=(e,...t)=>{try{return!!e(...t)}catch{return!1}},que=e=>{e=me.merge.call({skipUndefined:!0},zue,e);const{fetch:t,Request:r,Response:n}=e,s=t?Ov(t):typeof fetch=="function",a=Ov(r),i=Ov(n);if(!s)return!1;const l=s&&Ov(QM),c=s&&(typeof ZM=="function"?(v=>p=>v.encode(p))(new ZM):async v=>new Uint8Array(await new r(v).arrayBuffer())),u=a&&l&&e4(()=>{let v=!1;const p=new r(rs.origin,{body:new QM,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!p}),d=i&&l&&e4(()=>me.isReadableStream(new n("").body)),f={stream:d&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(p,y)=>{let x=p&&p[v];if(x)return x.call(p);throw new Rt(`Response type '${v}' is not supported`,Rt.ERR_NOT_SUPPORT,y)})});const h=async v=>{if(v==null)return 0;if(me.isBlob(v))return v.size;if(me.isSpecCompliantForm(v))return(await new r(rs.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(me.isArrayBufferView(v)||me.isArrayBuffer(v))return v.byteLength;if(me.isURLSearchParams(v)&&(v=v+""),me.isString(v))return(await c(v)).byteLength},g=async(v,p)=>{const y=me.toFiniteNumber(v.getContentLength());return y??h(p)};return async v=>{let{url:p,method:y,data:x,signal:b,cancelToken:w,timeout:_,onDownloadProgress:S,onUploadProgress:E,responseType:k,headers:j,withCredentials:N="same-origin",fetchOptions:C}=R9(v),A=t||fetch;k=k?(k+"").toLowerCase():"text";let R=Due([b,w&&w.toAbortSignal()],_),H=null;const U=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let D;try{if(E&&u&&y!=="get"&&y!=="head"&&(D=await g(j,x))!==0){let P=new r(p,{method:"POST",body:x,duplex:"half"}),W;if(me.isFormData(x)&&(W=P.headers.get("content-type"))&&j.setContentType(W),P.body){const[V,ee]=KM(D,Fx(GM(E)));x=JM(P.body,XM,V,ee)}}me.isString(N)||(N=N?"include":"omit");const B=a&&"credentials"in r.prototype,L={...C,signal:R,method:y.toUpperCase(),headers:j.normalize().toJSON(),body:x,duplex:"half",credentials:B?N:void 0};H=a&&new r(p,L);let T=await(a?A(H,C):A(p,L));const q=d&&(k==="stream"||k==="response");if(d&&(S||q&&U)){const P={};["status","statusText","headers"].forEach(X=>{P[X]=T[X]});const W=me.toFiniteNumber(T.headers.get("content-length")),[V,ee]=S&&KM(W,Fx(GM(S),!0))||[];T=new n(JM(T.body,XM,V,()=>{ee&&ee(),U&&U()}),P)}k=k||"text";let I=await f[me.findKey(f,k)||"text"](T,v);return!q&&U&&U(),await new Promise((P,W)=>{T9(P,W,{data:I,headers:qs.from(T.headers),status:T.status,statusText:T.statusText,config:v,request:H})})}catch(B){throw U&&U(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new Rt("Network Error",Rt.ERR_NETWORK,v,H),{cause:B.cause||B}):Rt.from(B,B&&B.code,v,H)}}},Wue=new Map,$9=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let i=a.length,l=i,c,u,d=Wue;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:que(t)),d=u;return u};$9();const zE={http:oue,xhr:Lue,fetch:{get:$9}};me.forEach(zE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const t4=e=>`- ${e}`,Vue=e=>me.isFunction(e)||e===null||e===!1,M9={getAdapter:(e,t)=>{e=me.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let i=0;i<r;i++){n=e[i];let l;if(s=n,!Vue(n)&&(s=zE[(l=String(n)).toLowerCase()],s===void 0))throw new Rt(`Unknown adapter '${l}'`);if(s&&(me.isFunction(s)||(s=s.get(t))))break;a[l||"#"+i]=s}if(!s){const i=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(t4).join(`
`):" "+t4(i[0]):"as no adapter specified";throw new Rt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:zE};function wS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ah(null,e)}function r4(e){return wS(e),e.headers=qs.from(e.headers),e.data=bS.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),M9.getAdapter(e.adapter||Ny.adapter,e)(e).then(function(n){return wS(e),n.data=bS.call(e,e.transformResponse,n),n.headers=qs.from(n.headers),n},function(n){return A9(n)||(wS(e),n&&n.response&&(n.response.data=bS.call(e,e.transformResponse,n.response),n.response.headers=qs.from(n.response.headers))),Promise.reject(n)})}const I9="1.12.2",Uw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Uw[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const n4={};Uw.transitional=function(t,r,n){function s(a,i){return"[Axios v"+I9+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,l)=>{if(t===!1)throw new Rt(s(i," has been removed"+(r?" in "+r:"")),Rt.ERR_DEPRECATED);return r&&!n4[i]&&(n4[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,l):!0}};Uw.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Hue(e,t,r){if(typeof e!="object")throw new Rt("options must be an object",Rt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],i=t[a];if(i){const l=e[a],c=l===void 0||i(l,a,e);if(c!==!0)throw new Rt("option "+a+" must be "+c,Rt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Rt("Unknown option "+a,Rt.ERR_BAD_OPTION)}}const B0={assertOptions:Hue,validators:Uw},xi=B0.validators;class uu{constructor(t){this.defaults=t||{},this.interceptors={request:new VM,response:new VM}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Tu(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&B0.assertOptions(n,{silentJSONParsing:xi.transitional(xi.boolean),forcedJSONParsing:xi.transitional(xi.boolean),clarifyTimeoutError:xi.transitional(xi.boolean)},!1),s!=null&&(me.isFunction(s)?r.paramsSerializer={serialize:s}:B0.assertOptions(s,{encode:xi.function,serialize:xi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),B0.assertOptions(r,{baseUrl:xi.spelling("baseURL"),withXsrfToken:xi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&me.merge(a.common,a[r.method]);a&&me.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),r.headers=qs.concat(i,a);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,f=0,h;if(!c){const v=[r4.bind(this),void 0];for(v.unshift(...l),v.push(...u),h=v.length,d=Promise.resolve(r);f<h;)d=d.then(v[f++],v[f++]);return d}h=l.length;let g=r;for(;f<h;){const v=l[f++],p=l[f++];try{g=v(g)}catch(y){p.call(this,y);break}}try{d=r4.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Tu(this.defaults,t);const r=O9(t.baseURL,t.url,t.allowAbsoluteUrls);return N9(r,t.params,t.paramsSerializer)}}me.forEach(["delete","get","head","options"],function(t){uu.prototype[t]=function(r,n){return this.request(Tu(n||{},{method:t,url:r,data:(n||{}).data}))}});me.forEach(["post","put","patch"],function(t){function r(n){return function(a,i,l){return this.request(Tu(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}uu.prototype[t]=r(),uu.prototype[t+"Form"]=r(!0)});class iA{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const i=new Promise(l=>{n.subscribe(l),a=l}).then(s);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,l){n.reason||(n.reason=new Ah(a,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new iA(function(s){t=s}),cancel:t}}}function Kue(e){return function(r){return e.apply(null,r)}}function Gue(e){return me.isObject(e)&&e.isAxiosError===!0}const qE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qE).forEach(([e,t])=>{qE[t]=e});function L9(e){const t=new uu(e),r=m9(uu.prototype.request,t);return me.extend(r,uu.prototype,t,{allOwnKeys:!0}),me.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return L9(Tu(e,s))},r}const Zt=L9(Ny);Zt.Axios=uu;Zt.CanceledError=Ah;Zt.CancelToken=iA;Zt.isCancel=A9;Zt.VERSION=I9;Zt.toFormData=Bw;Zt.AxiosError=Rt;Zt.Cancel=Zt.CanceledError;Zt.all=function(t){return Promise.all(t)};Zt.spread=Kue;Zt.isAxiosError=Gue;Zt.mergeConfig=Tu;Zt.AxiosHeaders=qs;Zt.formToJSON=e=>P9(me.isHTMLForm(e)?new FormData(e):e);Zt.getAdapter=M9.getAdapter;Zt.HttpStatusCode=qE;Zt.default=Zt;const af="https://web-production-80ed8.up.railway.app";let s4=!1;const $n={setTokens:(e,t)=>{e.length>30?`${e.substring(0,20)}${e.substring(e.length-10)}`:e.substring(0,20)+"",localStorage.setItem("authToken",e),localStorage.setItem("refreshToken",t),localStorage.getItem("authToken")},getAccessToken:()=>{const e=localStorage.getItem("authToken");if(e&&(typeof localStorage<"u"?localStorage.getItem("userRole"):null)==="academy"){const r=e.length>30?`${e.substring(0,20)}...${e.substring(e.length-10)}`:e.substring(0,20)+"...";console.log(" Academy auth token",{length:e.length,preview:r,full:e})}return e},getRefreshToken:()=>localStorage.getItem("refreshToken"),clearTokens:(e=!1)=>{localStorage.getItem("authToken"),localStorage.getItem("refreshToken"),localStorage.getItem("userRole"),localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),e||localStorage.removeItem("userRole")},isTokenExpired:e=>{try{const t=JSON.parse(atob(e.split(".")[1])),r=Math.floor(Date.now()/1e3);return t.exp<r}catch{return!0}},refreshAccessToken:async()=>{var t;const e=$n.getRefreshToken();if(!e||!e.trim())return null;try{const n=(await Zt.post(`${af}/api/refresh/`,{refresh:e})).data.access;if(n)return localStorage.setItem("authToken",n),n}catch(r){const n=(t=r==null?void 0:r.response)==null?void 0:t.status;console.error("Token refresh failed:",{status:n,error:r==null?void 0:r.message}),$n.clearTokens(!1),typeof window<"u"&&!window.location.pathname.includes("/auth/")&&(window.location.href="/auth/login")}return null},setSessionRestoration:e=>{s4=e},isInSessionRestoration:()=>s4},Se=Zt.create({baseURL:af,timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});Se.interceptors.request.use(async e=>{var r,n,s,a,i,l;const t=$n.getAccessToken();if(t&&!((r=e.url)!=null&&r.includes("/api/login/"))&&!((n=e.url)!=null&&n.includes("/api/academy/login/"))&&!((s=e.url)!=null&&s.includes("/api/register/"))&&!((a=e.url)!=null&&a.includes("/api/refresh/"))&&!((i=e.url)!=null&&i.includes("/api/verify-code/"))&&!((l=e.headers)!=null&&l.Authorization))if($n.isTokenExpired(t)){const c=await $n.refreshAccessToken();c?e.headers.Authorization=`Bearer ${c}`:e.headers.Authorization=`Bearer ${t}`}else e.headers.Authorization=`Bearer ${t}`;return e},e=>Promise.reject(e));Se.interceptors.response.use(e=>e,async e=>{var r,n,s,a,i,l,c,u,d;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if((n=t.url)!=null&&n.includes("/api/login/")||(s=t.url)!=null&&s.includes("/api/academy/login/")||(a=t.url)!=null&&a.includes("/api/register/")||(i=t.url)!=null&&i.includes("/api/refresh/"))return Promise.reject(e);t._retry=!0;const f=$n.isInSessionRestoration(),h=(l=t.url)==null?void 0:l.includes("/api/academy/profile/"),g=(c=t.url)==null?void 0:c.includes("/api/academy/");try{const v=await $n.refreshAccessToken(),p=$n.getAccessToken();if(v){t.headers.Authorization=`Bearer ${v}`;try{return await Se(t)}catch(y){if(((u=y.response)==null?void 0:u.status)===401&&g)return Promise.reject(y);throw y}}else if(p){if(g&&!f)return Promise.reject(e);t.headers.Authorization=`Bearer ${p}`;try{return await Se(t)}catch(y){return Promise.reject(y)}}else if(g&&!f)return Promise.reject(e)}catch(v){if(console.error(" Token refresh threw an error:",v),$n.getAccessToken()&&g||g&&!f)return Promise.reject(e)}if(!f&&!g)((d=e.response)==null?void 0:d.status)===401&&($n.clearTokens(!1),window.location.pathname.includes("/auth/")||(window.location.href="/auth/login"));else if(h)return Promise.reject(e)}return Promise.reject(e)});const Ze={AUTH:{LOGIN:"/api/login/",ACADEMY_LOGIN:"/api/academy/login/",REGISTER:"/api/register/",PROFILE:"/api/profile/",VERIFY_CODE:"/api/verify-code/",VERIFY_ACADEMY_EMAIL:"/api/verify-academy-email/",PASSWORD_RESET:"/password-reset/request/",PASSWORD_RESET_VERIFY:"/password-reset/verify/",PASSWORD_RESET_CONFIRM:"/password-reset/set-new/",TOKEN_REFRESH:"/api/refresh/"},USER:{PROFILE:"/api/user/profile/",SKILLS:"/api/user/skills/",TESTS:"/api/user/tests/"},ME:{PROFILE:"/api/me/profile/",SKILLS:"/api/me/skills/",INDUSTRY_PROFILE:"/api/me/industry-profile/"},EDUCATIONS:"/api/educations/",WORK_EXPERIENCES:"/api/work-experiences/",SKILLS_SEARCH:"/api/skills/",ACADEMY:{PROFILE:"/api/academy/profile/",DETAIL:"/api/academy/",COURSES:"/api/academy/courses/",STUDENTS:"/api/academy/students/"},PAYMENTS:{BOG_AUTH:"/api/payments/bog/auth/",BOG_CREATE_ORDER:"/api/payments/bog/orders/"},JOBS:{SAVE_JOB:"/api/save-job/"}};function lc(e,t){return{id:e.id!=null?String(e.id):t??"",academy_name:e.name??e.academy_name??"",description:e.description??"",website_url:e.website??e.website_url??"",contact_email:e.email??e.contact_email??"",logo_url:e.profile_image??e.logo_url??e.profile_photo_url??null,is_verified:e.is_verified,first_name:e.first_name??e.firstName??e.name??e.academy_name}}function Yue(e){return!e||typeof e!="object"?{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}:{github:e.github??"",linkedin:e.linkedin??"",facebook:e.facebook??"",instagram:e.instagram??"",dribbble:e.dribbble??"",behance:e.behance??""}}var oA="Avatar",[Jue,sGe]=ua(oA),[Xue,D9]=Jue(oA),F9=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=m.useState("idle");return o.jsx(Xue,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(ct.span,{...n,ref:t})})});F9.displayName=oA;var B9="AvatarImage",U9=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,i=D9(B9,r),l=Que(n,a.referrerPolicy),c=Qt(u=>{s(u),i.onImageLoadingStatusChange(u)});return on(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ct.img,{...a,ref:t,src:n}):null});U9.displayName=B9;var z9="AvatarFallback",q9=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=D9(z9,r),[i,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(ct.span,{...s,ref:t}):null});q9.displayName=z9;function Que(e,t){const[r,n]=m.useState("idle");return on(()=>{if(!e){n("error");return}let s=!0;const a=new window.Image,i=l=>()=>{s&&n(l)};return n("loading"),a.onload=i("loaded"),a.onerror=i("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var W9=F9,V9=U9,H9=q9;const K9=m.forwardRef(({className:e,...t},r)=>o.jsx(W9,{ref:r,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));K9.displayName=W9.displayName;const G9=m.forwardRef(({className:e,...t},r)=>o.jsx(V9,{ref:r,className:le("aspect-square h-full w-full",e),...t}));G9.displayName=V9.displayName;const Y9=m.forwardRef(({className:e,...t},r)=>o.jsx(H9,{ref:r,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Y9.displayName=H9.displayName;const Zue={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-16 w-16",xl:"h-32 w-32"},a4=new Map,lg=({src:e,alt:t="Profile photo",fallback:r="U",className:n,size:s="md",loading:a="lazy"})=>o.jsxs(K9,{className:le(Zue[s],"rounded-3xl",n),children:[e&&o.jsx(G9,{src:e,alt:t,className:"aspect-square h-full w-full",loading:a}),o.jsx(Y9,{className:"bg-[#AAF0FF] text-[#099DBC] text-2xl font-semibold rounded-none",children:r})]}),J9=()=>{const e=m.useCallback(r=>new Promise((n,s)=>{if(a4.has(r)){n();return}const a=new Image;a.onload=()=>{a4.set(r,!0),n()},a.onerror=s,!r.includes("supabase.co")&&!r.includes(window.location.origin)&&(a.crossOrigin="anonymous"),a.src=r}),[]),t=m.useCallback(async r=>{const n=r.map(s=>e(s));await Promise.allSettled(n)},[e]);return{preloadImage:e,preloadImages:t}};function i4(e){return e==="ka"?"ka":"en"}function du(e){const r=e.split("/").filter(Boolean)[0];if(r==="ka"||r==="en")return r;if(typeof window<"u"){const n=localStorage.getItem("appLanguage");if(n==="en"||n==="ka")return n}return"en"}function cg(e){const t=e.split("/").filter(Boolean),r=t[0];return r==="ka"||r==="en"?"/"+t.slice(1).join("/"):e}function WE(e,t){return e.startsWith("/auth/")||e==="/auth"||e.startsWith("/en/")||e.startsWith("/ka/")?e:e==="/"?`/${i4(t)}`:`/${i4(t)}${e}`}function va(e,t){return WE(e,t)}const X9=m.createContext(void 0),Rv=e=>{if(e&&typeof e=="object"){const t=e,r=n=>{if(n.user_type)return String(n.user_type);if(n.role)return String(n.role);if(n.user_role)return String(n.user_role);if(Array.isArray(n.roles)&&n.roles.length>0){const s=n.roles.find(a=>typeof a=="string"&&(a==="academy"||a.toLowerCase()==="academy"));return String(s||n.roles[0])}};if(t.user&&typeof t.user=="object"){const n=t.user,s=r(n);return s&&!n.user_type&&!n.role&&(n.user_type=s),n}if(t.profile&&typeof t.profile=="object"){const n=t.profile,s=r(n);return s&&!n.user_type&&!n.role&&(n.user_type=s),n}if(t.email||t.username||t.id||t.user_type||t.role||t.name){const n={};t.id&&(n.id=typeof t.id=="string"||typeof t.id=="number"?t.id:String(t.id)),t.email&&(n.email=t.email),t.username&&(n.username=t.username),t.first_name&&(n.first_name=t.first_name),t.last_name&&(n.last_name=t.last_name),t.name&&!t.first_name&&(n.first_name=t.name),t.phone_number&&(n.phone_number=t.phone_number),t.profile_image!==void 0&&(n.profile_image=t.profile_image);const s=r(t);return s&&(n.user_type=s),n}}return null},o4=e=>{try{const t=e.split(".");if(t.length!==3)return null;const r=JSON.parse(atob(t[1]));return r.user_id||r.sub||r.id||null}catch(t){return console.error("Failed to decode JWT token:",t),null}},ede=({children:e})=>{const[t,r]=m.useState(null),[n,s]=m.useState(!0),[a,i]=m.useState(null),l=rr(),{preloadImage:c}=J9(),u=m.useRef(c);m.useEffect(()=>{u.current=c},[c]),m.useEffect(()=>{(async()=>{$n.setSessionRestoration(!0);try{const y=$n.getAccessToken();if(!y){s(!1),$n.setSessionRestoration(!1);return}const x=localStorage.getItem("userRole");let b=null;try{const j=y.split(".");if(j.length===3){const N=JSON.parse(atob(j[1])),C=N.user_id||N.sub||N.id||"";let R=N.user_type||N.role||N.user_role;!R&&Array.isArray(N.roles)&&(R=N.roles.find(U=>typeof U=="string"&&(U==="academy"||U.toLowerCase()==="academy"))||N.roles[0]),b={id:C||String(N.username)||"",email:N.email||N.username||"",username:N.username||N.email||"",first_name:N.first_name||N.name||"",user_type:R||"user",profile_image:N.profile_image||null}}}catch(j){console.error("Failed to decode JWT token:",j),console.warn(" JWT decode failed, but preserving token and attempting API call"),b=null}const w=x==="academy",_=(b==null?void 0:b.user_type)==="academy";let S=null;if(w||_)S=b;else try{const j=await Se.get(Ze.AUTH.PROFILE),N=j.data;if(N.user_roles&&Array.isArray(N.user_roles)&&N.user_roles.find(A=>A.role==="academy"||A.role==="academy")&&!N.user_type&&!N.role&&(N.user_type="academy"),S=Rv(j.data),S){const C=o4(y);C?S.id=C:!S.id&&S.email&&(S.id=S.email)}}catch(j){console.warn(" Profile API call failed, using JWT data:",j),S=b}S||(S=b);const E=localStorage.getItem("userRole");let k=!1;if(!(S!=null&&S.user_type)&&!E)try{const j=await Se.get(Ze.ACADEMY.PROFILE);j.data&&j.status!==404&&(k=!0)}catch{}if(E){const j=S==null?void 0:S.user_type;E==="user"&&j&&j!=="user"?(S.user_type=j,localStorage.setItem("userRole",j)):S.user_type=E}else S!=null&&S.user_type?localStorage.setItem("userRole",S.user_type):k?(S.user_type="academy",localStorage.setItem("userRole","academy")):b!=null&&b.user_type&&b.user_type!=="user"?(S.user_type=b.user_type,localStorage.setItem("userRole",b.user_type)):(S.user_type=S.user_type||"user",localStorage.setItem("userRole",S.user_type));if(S&&(S.id||S.email)){if(!S.id&&S.email&&(S.id=S.email),S.user_type){const j=localStorage.getItem("userRole");(!j||j!==S.user_type)&&localStorage.setItem("userRole",S.user_type)}r(S),S.user_type==="academy"?Se.get(Ze.ACADEMY.PROFILE).then(j=>{if(j.data){const N=lc(j.data,S.id!=null?String(S.id):void 0);i({name:N.academy_name||"",email:N.contact_email||"",is_verified:N.is_verified??!1})}else i(null)}).catch(()=>i(null)):i(null)}else r(null),i(null)}catch{r(null),i(null)}finally{$n.setSessionRestoration(!1),s(!1)}})()},[]),m.useEffect(()=>{t!=null&&t.profile_image&&u.current(t.profile_image).catch(console.error)},[t==null?void 0:t.profile_image]),m.useEffect(()=>{if(!n&&t){const p=window.location.pathname,y=du(p)||localStorage.getItem("appLanguage")||"en",x=localStorage.getItem("userRole")||t.user_type||"user",w=["/auth/login","/auth/signup","/auth/reset-password","/email-verification","/email-confirmed"].includes(p),S=["/terms-of-use","/help"].includes(p);if(p==="/"||w){if(x==="academy"){const C=va("/academy/dashboard",y);l(C,{replace:!0})}else{const C=va("/home",y);l(C,{replace:!0})}return}if(S)return;const E=cg(p),k=E.startsWith("/academy/"),j=/^\/academy\/[^/]+$/.test(E)&&E!=="/academy/dashboard"&&E!=="/academy/profile"&&E!=="/academy/settings"&&E!=="/academy/register",N=!k&&!S&&(E==="/dashboard"||E==="/home"||E.startsWith("/profile")||E.startsWith("/settings")||E.startsWith("/notifications")||E.startsWith("/jobs")||E.startsWith("/courses")||E.startsWith("/skill")||E.startsWith("/interests"));if(j||x==="academy"&&k&&!j||x==="academy"&&k||x==="user"&&N||E==="/dashboard"||E==="/home"||p.includes("/dashboard")||p.includes("/home"))return;if(k&&x!=="academy"&&!j){const C=va("/home",y);l(C,{replace:!0})}else if(x==="academy"&&(E==="/dashboard"||E==="/home"||N)){const C=va("/academy/dashboard",y);l(C,{replace:!0})}else if(x==="academy"&&!k&&!S){const C=va("/academy/dashboard",y);l(C,{replace:!0})}}},[t,n,l]);const d=async(p,y)=>{s(!0);try{const x=await Se.post(Ze.AUTH.LOGIN,{username:p,password:y}),b=x.data.access||x.data.token,w=x.data.refresh||x.data.refresh_token;if(!b)throw new Error("Login succeeded but did not return the required token (access or token field).");$n.setTokens(b,w||""),w||console.warn("Login: No refresh token in response. Session may expire when access token expires. Backend should return a refresh token for persistent sessions.");const _=typeof window<"u"?localStorage.getItem("authToken"):null;typeof window<"u"&&console.log("User auth token:",b),await new Promise(N=>setTimeout(N,100));let S=null;const E=Rv(x.data);if(E&&E.email)S=E;else try{const N=await Se.get(Ze.AUTH.PROFILE);S=Rv(N.data)}catch{}if(!S)throw new Error("Failed to fetch user profile.");const k=o4(b);if(k?S.id=k:!S.id&&S.email&&(S.id=S.email),!S.user_type){let N=!1;try{const C=await Se.get(Ze.ACADEMY.PROFILE);C.data&&C.status!==404&&(N=!0)}catch{}N?S.user_type="academy":S.user_type="user"}S.user_type&&localStorage.setItem("userRole",S.user_type),r(S),S.user_type==="academy"?Se.get(Ze.ACADEMY.PROFILE).then(N=>{if(N.data){const C=lc(N.data,S.id!=null?String(S.id):void 0);i({name:C.academy_name||"",email:C.contact_email||"",is_verified:C.is_verified??!1})}else i(null)}).catch(()=>i(null)):i(null),S!=null&&S.profile_image&&u.current(S.profile_image).catch(console.error);const j=du(window.location.pathname)||localStorage.getItem("appLanguage")||"en";if(S.user_type==="academy"){const N=va("/academy/dashboard",j);l(N)}else{const N=va("/home",j);l(N)}}catch(x){throw console.error("Login failed:",x),x}finally{s(!1)}},f=async(p,y)=>{try{await Se.post(Ze.AUTH.REGISTER,{email:p,password:y}),l("/auth/email-verification")}catch(x){throw console.error("Registration failed:",x),x}},h=()=>{$n.clearTokens(),r(null),i(null),l("/auth/login")},g=p=>{t&&r({...t,...p})},v=async()=>{try{const p=await Se.get(Ze.AUTH.PROFILE),y=Rv(p.data);y&&r(y)}catch(p){console.error("Failed to refresh user:",p)}};return o.jsx(X9.Provider,{value:{user:t,loading:n,academyDisplay:a,login:d,logout:h,register:f,updateUser:g,refreshUser:v},children:e})},ir=()=>{const e=m.useContext(X9);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},tde={nav:{home:"Home",jobs:"Vacancies",courses:"Courses",webinars:"Webinars",profile:"Profile",settings:"Settings",help:"Help Center",notifications:"Notifications"},common:{loading:"Loading...",error:"Error",success:"Success",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",back:"Back",next:"Next",previous:"Previous",submit:"Submit",search:"Search",filter:"Filter",clear:"Clear",apply:"Apply",close:"Close",yes:"Yes",no:"No",ok:"OK",view:"View",more:"More",less:"Less"},auth:{login:"Login",signup:"Sign Up",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm Password",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",rememberMe:"Remember me",createAccount:"Create Account",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",firstName:"First Name",lastName:"Last Name",phone:"Phone",welcome:"Welcome",welcomeBack:"Welcome Back"},dashboard:{welcome:"Welcome",jobOffers:"Job Offers",courses:"Courses",skillTest:"Skill Test",skillPath:"Skill Path",interests:"Interests"},jobs:{title:"Vacancies",noJobs:"No jobs found",apply:"Apply",applied:"Applied",save:"Save",saved:"Saved",location:"Location",salary:"Salary",salaryRange:"Salary Range",minimum:"Minimum",maximum:"Maximum",byAgreement:"By Agreement",workType:"Work Type",country:"Country",interests:"Interests / Skills",type:"Type",posted:"Posted",deadline:"Deadline",description:"Description",requirements:"Requirements",benefits:"Benefits",company:"Company",fullTime:"Full Time",partTime:"Part Time",contract:"Contract",remote:"Remote",hybrid:"Hybrid",filter:"Filter Jobs",clearFilters:"Clear Filters",search:"Search",searchPlaceholder:"Search",filters:"Filters",vacancy:"vacancy",vacancies:"vacancies",dateDescending:"Date Descending",dateAscending:"Date Ascending",dateDescendingFull:"Date Descending",dateAscendingFull:"Date Ascending",tryAdjustingFilters:"Try adjusting your search terms or filters",showing:"Showing",of:"of",page:"Page",previous:"Previous",next:"Next",errorLoading:"Error loading jobs. Please try again."},courses:{title:"Courses",noCourses:"No courses found",enroll:"Enroll",enrolled:"Enrolled",save:"Save",saved:"Saved",duration:"Duration",level:"Level",instructor:"Instructor",academy:"Academy",description:"Description",curriculum:"Curriculum",reviews:"Reviews",price:"Price",free:"Free",filter:"Filter Courses",clearFilters:"Clear Filters"},profile:{title:"Profile",editProfile:"Edit Profile",personalInfo:"Personal Information",contactInfo:"Contact Information",skills:"Skills",experience:"Experience",education:"Education",bio:"Bio",saveChanges:"Save Changes"},settings:{title:"Settings",account:"Account",preferences:"Preferences",notifications:"Notifications",privacy:"Privacy",language:"Language",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode"},notifications:{title:"Notifications",noNotifications:"No notifications",markAsRead:"Mark as read",markAllAsRead:"Mark all as read",browserNotifications:"Browser Notifications",enableBrowserNotifications:"Enable Browser Notifications",browserNotificationsDescription:"Get notified when new jobs matching your skills are posted. You'll receive browser notifications even when you're not on the site.",notificationPermissionGranted:"Browser notifications are enabled",notificationPermissionDenied:"Browser notifications are blocked. Please enable them in your browser settings.",notificationPermissionDefault:"Click the button below to enable browser notifications for new job matches.",requestPermission:"Enable Notifications",checkingForJobs:"Checking for new jobs...",notificationsEnabled:"Notifications Enabled",notificationsDisabled:"Notifications Disabled"},subscription:{title:"Subscription",upgrade:"Upgrade plan",currentPlan:"Current Plan",features:"Features",subscribe:"Subscribe"},help:{title:"Help Center",faq:"FAQ",contact:"Contact Support"},terms:{title:"Terms of Use",lastUpdated:"Last updated"},skillTest:{title:"Skill Test",start:"Start Test",next:"Next",previous:"Previous",finish:"Finish",results:"Results"},skillPath:{title:"Your Personalized Skill Path"},home:{skillTestTitle:"Begin Your Skill Assessment Journey",skillTestSubtitle:"Take our skill test to unlock personalized recommendations.",skillPathTitle:"Explore your personalized career path",skillPathSubtitle:"Get personalized recommendations for your career."},errors:{somethingWentWrong:"Something went wrong",tryAgain:"Try again",notFound:"Not found",pageNotFound:"Page Not Found",pageNotFoundDescription:"The page you're looking for doesn't exist or has been moved."},jobMatch:{expLevel:"Exp. Level",skill:"Skill",industryExp:"Industry Exp.",overall:"Overall",excellentMatch:"Excellent match",bestMatch:"Best match",goodMatch:"Good match",fairMatch:"Fair match",badMatch:"Bad match",scoreDescription:"This score shows how closely your skills match the job requirements, prioritizing exact and key skill matches."},webinars:{title:"Webinars",noWebinars:"No webinars found",upcoming:"Upcoming",past:"Past",register:"Register",registered:"Registered",comingsoon:"Coming Soon",comingsoondescription:"Were adding a brand new page to Breneo very soon! Stay tuned for fresh features and updates that will make your experience even better."},beta:{title:"Youre using the beta version",message:"Some features may be limited or change as we continue improving the platform. We appreciate your feedback. it helps us build a better experience."}},rde={nav:{home:"",jobs:"",courses:"",webinars:"",profile:"",settings:"",help:" ",notifications:""},common:{loading:"...",error:"",success:"",save:"",cancel:"",delete:"",edit:"",back:"",next:"",previous:"",submit:"",search:"",filter:"",clear:"",apply:"",close:"",yes:"",no:"",ok:"",view:"",more:"",less:""},auth:{login:"",signup:"",logout:"",email:"",password:"",confirmPassword:" ",forgotPassword:" ?",resetPassword:" ",rememberMe:"",createAccount:" ",alreadyHaveAccount:"  ?",dontHaveAccount:"  ?",firstName:"",lastName:"",phone:"",welcome:"",welcomeBack:"   "},dashboard:{welcome:"",jobOffers:"",courses:"",skillTest:" ",skillPath:" ",interests:""},jobs:{title:"",noJobs:"  ",apply:"",applied:" ",save:"",saved:"",location:"",salary:"",salaryRange:" ",minimum:"",maximum:"",byAgreement:"",workType:" ",country:"",interests:" / ",type:"",posted:"",deadline:"",description:"",requirements:"",benefits:"",company:"",fullTime:" ",partTime:" ",contract:"",remote:"",hybrid:"",filter:" ",clearFilters:" ",search:"",searchPlaceholder:"",filters:"",vacancy:"",vacancies:"",dateDescending:" ",dateAscending:" ",dateDescendingFull:" ",dateAscendingFull:" ",tryAdjustingFilters:"     ",showing:"",of:"",page:"",previous:"",next:"",errorLoading:"  . ,  ."},courses:{title:"",noCourses:"  ",enroll:"",enrolled:"",save:"",saved:"",duration:"",level:"",instructor:"",academy:"",description:"",curriculum:" ",reviews:"",price:"",free:"",filter:" ",clearFilters:" "},profile:{title:"",editProfile:" ",personalInfo:" ",contactInfo:" ",skills:"",experience:"",education:"",bio:"",saveChanges:" "},settings:{title:"",account:"",preferences:"",notifications:"",privacy:"",language:"",theme:"",darkMode:" ",lightMode:" "},notifications:{title:"",noNotifications:"  ",markAsRead:" ",markAllAsRead:"  ",browserNotifications:" ",enableBrowserNotifications:"  ",browserNotificationsDescription:" ,    ,    .    ,  ,    .",notificationPermissionGranted:"  ",notificationPermissionDenied:"  . ,     .",notificationPermissionDefault:"   ,       .",requestPermission:" ",checkingForJobs:"  ...",notificationsEnabled:" ",notificationsDisabled:" "},subscription:{title:"",upgrade:" ",currentPlan:" ",features:"",subscribe:""},help:{title:" ",faq:"  ",contact:" "},terms:{title:" ",lastUpdated:" "},skillTest:{title:" ",start:" ",next:"",previous:"",finish:"",results:""},skillPath:{title:"   "},home:{skillTestTitle:"    ",skillTestSubtitle:"      .",skillPathTitle:"    ",skillPathSubtitle:"    ."},errors:{somethingWentWrong:"  ",tryAgain:" ",notFound:" ",pageNotFound:"  ",pageNotFoundDescription:",  ,    ."},jobMatch:{expLevel:"",skill:"",industryExp:"",overall:"",excellentMatch:"!",bestMatch:"!",goodMatch:"!",fairMatch:"!",badMatch:"!",scoreDescription:"  ,       ,       ."},webinars:{title:"",noWebinars:"  ",upcoming:"",past:"",register:"",registered:"",comingsoon:" ",comingsoondescription:"Breneo-    !     ,       ."},beta:{title:"   ",message:"      ,    .      ."}},Q9=m.createContext(void 0),nde={en:tde,ka:rde};function sde({children:e}){const t=Vs(),r=rr(),[n,s]=m.useState(()=>{if(typeof window<"u"){const u=du(t.pathname);if(u)return u;const d=localStorage.getItem("appLanguage");if(d==="en"||d==="ka")return d}return"en"}),[a,i]=m.useState(!1);m.useEffect(()=>{i(!0)},[]),m.useEffect(()=>{if(!a||typeof window>"u")return;const u=du(t.pathname);u&&u!==n&&(s(u),localStorage.setItem("appLanguage",u),document.documentElement.lang=u)},[t.pathname,a,n]);const l=u=>{if(s(u),typeof window<"u"){localStorage.setItem("appLanguage",u),document.documentElement.lang=u;const d=cg(t.pathname),f=WE(d,u);f!==t.pathname&&r(f,{replace:!0})}};m.useEffect(()=>{if(a&&typeof window<"u"){document.documentElement.lang=n;const u=setTimeout(()=>{if(!t.pathname.startsWith("/auth/")&&t.pathname!=="/auth"&&t.pathname!=="/"&&du(t.pathname)!==n){const f=cg(t.pathname),h=WE(f,n);h!==t.pathname&&!t.pathname.includes("undefined")&&r(h,{replace:!0})}},100);return()=>clearTimeout(u)}},[n,a,t.pathname,r]);const c=m.useMemo(()=>nde[n],[n]);return o.jsx(Q9.Provider,{value:{language:n,setLanguage:l,t:c},children:e})}function hi(){const e=m.useContext(Q9);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}function pi(){const{t:e}=hi();return e}const Z9=m.createContext(void 0),l4="breneo-font-size",c4={small:.875,medium:1,big:1.125};function ade({children:e}){const[t,r]=m.useState(()=>{const a=localStorage.getItem(l4)||"medium",i=c4[a];return typeof document<"u"&&document.documentElement.style.setProperty("--font-size-base",`${i}rem`),a});m.useEffect(()=>{const s=c4[t];document.documentElement.style.setProperty("--font-size-base",`${s}rem`),localStorage.setItem(l4,t)},[t]);const n=s=>{r(s)};return o.jsx(Z9.Provider,{value:{fontSize:t,setFontSize:n},children:e})}function ide(){const e=m.useContext(Z9);if(e===void 0)throw new Error("useFontSize must be used within a FontSizeProvider");return e}const ode=$n,lde=()=>{try{const e=ode.getAccessToken();if(!e)return null;const t=e.split(".");if(t.length!==3)return null;const r=JSON.parse(atob(t[1]));return r.user_type||r.role||null}catch(e){return console.error("Error extracting role from token:",e),null}},cde=()=>{try{return localStorage.getItem("userRole")}catch(e){return console.error("Error getting role from storage:",e),null}},ude=()=>{const e=cde();if(e)return e;const t=lde();return t||null};function hr({children:e,requiredRole:t,redirectTo:r="/auth/login"}){const{user:n,loading:s}=ir(),a=du(window.location.pathname)||localStorage.getItem("appLanguage")||"en",i=typeof window<"u"&&!!localStorage.getItem("authToken");if(s)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-breneo-lightgray dark:bg-[#181818]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading..."})]})});if(!n&&!i)return o.jsx(L0,{to:r,replace:!0});if(t){const l=(n==null?void 0:n.user_type)||localStorage.getItem("userRole")||ude()||"user";if(l!==t)if(l==="academy"){const c=va("/academy/dashboard",a);return o.jsx(L0,{to:c,replace:!0})}else{const c=va("/home",a);return o.jsx(L0,{to:c,replace:!0})}}return o.jsx(o.Fragment,{children:e})}const u4=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,d4=er,Cy=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return d4(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=u4(d)||u4(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(v=>{let[p,y]=v;return Array.isArray(y)?y.includes({...a,...l}[p]):{...a,...l}[p]===y})?[...u,f,h]:u},[]);return d4(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},lA=Cy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[14px] font-normal ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-60 dark:focus-visible:ring-primary/40 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90 active:bg-primary/80 dark:bg-primary dark:hover:bg-primary/90 dark:active:bg-primary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-transparent text-breneo-blue hover:bg-breneo-blue/10 dark:border-white/20 dark:text-breneo-blue-dark dark:hover:bg-breneo-blue-dark/10",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"text-breneo-blue hover:bg-breneo-blue/10 hover:text-breneo-blue dark:text-breneo-blue-dark dark:hover:bg-breneo-blue-dark/10 dark:hover:text-breneo-blue-dark",link:"text-breneo-blue underline-offset-4 hover:underline dark:text-breneo-blue-dark"},size:{default:"h-12 px-8 text-[15px] leading-[22px]",sm:"h-10 px-6 text-sm leading-[20px] [&_svg]:size-4",xs:"h-11 px-5 text-sm leading-[20px] [&_svg]:size-4",lg:"h-14 px-10 text-lg leading-[26px] [&_svg]:size-6",icon:"h-12 w-12 p-0 [&_svg]:size-5"}},defaultVariants:{variant:"default",size:"default"}}),oe=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?ac:"button";return o.jsx(i,{className:le(lA({variant:t,size:r,className:e})),ref:a,...s})});oe.displayName="Button";const rt=m.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:le("flex h-[3.2rem] w-full rounded-md border border-input bg-background px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 hover:ring-0 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t==="date"&&"relative pr-10 text-left",e),ref:n,...r}));rt.displayName="Input";var dde="Label",ez=m.forwardRef((e,t)=>o.jsx(ct.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ez.displayName=dde;var tz=ez;const fde=Cy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),De=m.forwardRef(({className:e,...t},r)=>o.jsx(tz,{ref:r,className:le(fde(),e),...t}));De.displayName=tz.displayName;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hde=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rz=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mde=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...pde,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:rz("lucide",s),...l},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(e,t)=>{const r=m.forwardRef(({className:n,...s},a)=>m.createElement(mde,{ref:a,iconNode:t,className:rz(`lucide-${hde(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gde=at("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=at("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=at("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=at("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=at("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=at("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=at("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vde=at("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=at("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=at("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=at("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=at("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=at("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=at("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=at("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=at("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xde=at("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bde=at("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=at("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=at("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=at("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wde=at("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=at("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=at("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _de=at("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=at("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=at("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jde=at("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=at("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=at("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=at("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=at("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=at("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=at("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=at("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=at("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=at("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=at("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=at("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=at("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=at("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=at("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=at("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=at("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=at("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=at("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=at("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=at("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=at("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nde=at("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=at("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=at("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=at("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=at("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=at("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ade=at("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=at("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=at("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=at("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=at("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tde=at("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=at("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=at("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ode=at("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=at("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=at("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=at("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=at("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=at("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=at("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=at("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=at("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Yi(){const{theme:e,setTheme:t}=Ko(),[r,n]=m.useState(!1);if(m.useEffect(()=>{n(!0)},[]),!r)return o.jsx(oe,{variant:"ghost",size:"icon",className:"h-10 w-10",children:o.jsx(Ux,{size:22})});const s=e==="dark";return o.jsx(oe,{variant:"ghost",size:"icon",className:"h-10 w-10",onClick:()=>t(s?"light":"dark"),children:s?o.jsx(fA,{size:22}):o.jsx(Ux,{size:22})})}const $de="/lovable-uploads/Breneo-logo.png",Mde="/lovable-uploads/Breneo-logo-dark.png";function Nn({className:e,...t}){const{theme:r,resolvedTheme:n}=Ko(),[s,a]=M.useState(!1);M.useEffect(()=>{a(!0)},[]);const l=s&&(n??r)==="dark"?Mde:$de;return o.jsx("img",{src:l,alt:"Breneo Logo",className:le("object-contain",e),...t})}const y4=()=>{const e=rr(),{login:t,loading:r,user:n}=ir(),[s,a]=m.useState(""),[i,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,g]=m.useState(!1),[v,p]=m.useState(!1),y=m.useCallback(w=>new Promise((_,S)=>{const E=new Image;E.onload=()=>_(),E.onerror=()=>S(new Error(`Failed to load image: ${w}`)),E.src=w}),[]);m.useEffect(()=>{(async()=>{try{await Promise.all([y("/lovable-uploads/Breneo-logo.png"),y("/lovable-uploads/Breneo-logo-dark.png"),y("/lovable-uploads/future.png")])}catch(_){console.warn("Some images failed to preload:",_),p(!0)}})()},[y]),m.useEffect(()=>{if(!r&&n){const w=n.user_type||localStorage.getItem("userRole")||"user",_=du(window.location.pathname)||localStorage.getItem("appLanguage")||"en";if(w==="academy"){const S=va("/academy/dashboard",_);e(S,{replace:!0})}else{const S=va("/home",_);e(S,{replace:!0})}}},[n,r,e]),m.useEffect(()=>{document.title="Login | Breneo",(document.querySelector('meta[name="description"]')||(()=>{const S=document.createElement("meta");return S.setAttribute("name","description"),document.head.appendChild(S),S})()).setAttribute("content","Log in to your Breneo account."),(document.querySelector('link[rel="canonical"]')||(()=>{const S=document.createElement("link");return S.setAttribute("rel","canonical"),document.head.appendChild(S),S})()).setAttribute("href",`${window.location.origin}/auth/login`)},[]);const x=async w=>{w.preventDefault();let _=!1;try{const S=await Se.post(Ze.AUTH.ACADEMY_LOGIN,{email:s,password:i}),E=S.data.access||S.data.token,k=S.data.refresh;if(!E)throw new Error("Login succeeded but did not return the required token.");k?$n.setTokens(E,k):localStorage.setItem("authToken",E),localStorage.setItem("userRole","academy"),window.location.href="/academy/dashboard";return}catch{console.log("Academy login failed, trying regular login..."),_=!0}if(_)try{await t(s,i)}catch(S){let E="Login failed. Please try again.",k=!1;if(Zt.isAxiosError(S)&&S.response&&S.response.data){const j=S.response.data;let N="";if(typeof j.detail=="string"?N=j.detail:typeof j.message=="string"?N=j.message:typeof j.error=="string"?N=j.error:Array.isArray(j.non_field_errors)&&j.non_field_errors.length>0&&typeof j.non_field_errors[0]=="string"&&(N=j.non_field_errors[0]),N){E=N;const C=N.toLowerCase();(C.includes("email not verified")||C.includes("account not active")||C.includes("please verify your email")||C.includes("e-mail address not verified")||C.includes("user is inactive"))&&(k=!0)}else console.error("Unknown error format from server:",j)}k?(de.info("Your account is not verified. Redirecting to verification..."),sessionStorage.setItem("tempEmail",s),sessionStorage.setItem("tempPassword",i),e("/auth/email-verification")):(de.error(E),console.error("Login page caught error (see details below):",S instanceof Error?S.message:String(S)),Zt.isAxiosError(S)&&S.response&&console.error("Server response data:",S.response.data))}},b=r;return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!d&&!v&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(mn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(Nn,{className:`h-6 lg:h-5 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{p(!0),f(!0)}}),v&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-border rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-muted-foreground",children:"Breneo"})})]}),o.jsx(Yi,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!d&&!v&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(mn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(Nn,{className:`h-8 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{p(!0),f(!0)}}),v&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-border rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-muted-foreground",children:"Breneo"})})]}),o.jsx(Yi,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Sign In"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Welcome back to your Breneo account"}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"emailOrUsername",children:"Email or Username"}),o.jsx(rt,{id:"emailOrUsername",type:"text",placeholder:"Enter your email or username",className:"mt-1 h-[3.2rem]",value:s,onChange:w=>a(w.target.value),required:!0,disabled:b})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(rt,{id:"password",type:c?"text":"password",placeholder:"Enter your password",className:"pr-10 h-[3.2rem]",value:i,onChange:w=>l(w.target.value),required:!0,disabled:b}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),disabled:b,children:c?o.jsx(fg,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):o.jsx(Ru,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]}),o.jsx("div",{className:"flex justify-end mt-2",children:o.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",onClick:()=>e("/auth/reset-password"),children:"Forgot Password?"})})]}),o.jsx(oe,{type:"submit",className:"w-full h-14",disabled:b,children:b?"Signing In...":"Sign In"})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Don't have an account?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/signup"),children:"Sign Up"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!h&&!v&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(mn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${h?"opacity-100":"opacity-0"}`,style:{backgroundImage:h?"url('/lovable-uploads/cover_3.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/cover_3.png",alt:"",className:"hidden",onLoad:()=>g(!0),onError:()=>{p(!0),g(!0)}}),v&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(mn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})};function bm(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function v4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cz(...e){return t=>{let r=!1;const n=e.map(s=>{const a=v4(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():v4(e[s],null)}}}}function Hw(...e){return m.useCallback(cz(...e),e)}function Ide(e,t){const r=m.createContext(t),n=a=>{const{children:i,...l}=a,c=m.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=m.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function Lde(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:g,...v}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=m.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:y,children:g})};u.displayName=a+"Provider";function d(f,h){var p;const g=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=m.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Dde(s,...t)]}function Dde(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var qx=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},Fde=gh[" useId ".trim().toString()]||(()=>{}),Bde=0;function SS(e){const[t,r]=m.useState(Fde());return qx(()=>{e||r(n=>n??String(Bde++))},[e]),e||(t?`radix-${t}`:"")}var Ude=gh[" useInsertionEffect ".trim().toString()]||qx;function zde({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=qde({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{var f;if(l){const h=Wde(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else a(d)},[l,e,a,i]);return[c,u]}function qde({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),a=m.useRef(t);return Ude(()=>{a.current=t},[t]),m.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function Wde(e){return typeof e=="function"}function jS(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function x4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function uz(...e){return t=>{let r=!1;const n=e.map(s=>{const a=x4(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():x4(e[s],null)}}}}function dz(...e){return m.useCallback(uz(...e),e)}function Vde(e){const t=Hde(e),r=m.forwardRef((n,s)=>{const{children:a,...i}=n,l=m.Children.toArray(a),c=l.find(Gde);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function Hde(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const i=Jde(s),l=Yde(a,s.props);return s.type!==m.Fragment&&(l.ref=n?uz(n,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Kde=Symbol("radix.slottable");function Gde(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Kde}function Yde(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function Jde(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Xde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fz=Xde.reduce((e,t)=>{const r=Vde(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Qde(e,t){e&&Gu.flushSync(()=>e.dispatchEvent(t))}function hz(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Zde(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function efe(e,t=globalThis==null?void 0:globalThis.document){const r=Zde(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var tfe="DismissableLayer",YE="dismissableLayer.update",rfe="dismissableLayer.pointerDownOutside",nfe="dismissableLayer.focusOutside",b4,pz=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mz=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(pz),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=dz(t,k=>f(k)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=ife(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=ofe(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return efe(k=>{b===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(b4=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),w4(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=b4)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),w4())},[d,u]),m.useEffect(()=>{const k=()=>g({});return document.addEventListener(YE,k),()=>document.removeEventListener(YE,k)},[]),o.jsx(fz.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:jS(e.onFocusCapture,E.onFocusCapture),onBlurCapture:jS(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:jS(e.onPointerDownCapture,S.onPointerDownCapture)})});mz.displayName=tfe;var sfe="DismissableLayerBranch",afe=m.forwardRef((e,t)=>{const r=m.useContext(pz),n=m.useRef(null),s=dz(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(fz.div,{...e,ref:s})});afe.displayName=sfe;function ife(e,t=globalThis==null?void 0:globalThis.document){const r=hz(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){gz(rfe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function ofe(e,t=globalThis==null?void 0:globalThis.document){const r=hz(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&gz(nfe,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function w4(){const e=new CustomEvent(YE);document.dispatchEvent(e)}function gz(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Qde(s,a):s.dispatchEvent(a)}function _4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function yz(...e){return t=>{let r=!1;const n=e.map(s=>{const a=_4(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():_4(e[s],null)}}}}function lfe(...e){return m.useCallback(yz(...e),e)}function cfe(e){const t=ufe(e),r=m.forwardRef((n,s)=>{const{children:a,...i}=n,l=m.Children.toArray(a),c=l.find(ffe);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function ufe(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const i=pfe(s),l=hfe(a,s.props);return s.type!==m.Fragment&&(l.ref=n?yz(n,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dfe=Symbol("radix.slottable");function ffe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dfe}function hfe(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function pfe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var mfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gfe=mfe.reduce((e,t)=>{const r=cfe(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function S4(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var kS="focusScope.autoFocusOnMount",ES="focusScope.autoFocusOnUnmount",j4={bubbles:!1,cancelable:!0},yfe="FocusScope",vz=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=S4(s),d=S4(a),f=m.useRef(null),h=lfe(t,p=>c(p)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let p=function(w){if(g.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:cl(f.current,{select:!0})},y=function(w){if(g.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||cl(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&cl(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),b.disconnect()}}},[n,l,g.paused]),m.useEffect(()=>{if(l){E4.add(g);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(kS,j4);l.addEventListener(kS,u),l.dispatchEvent(x),x.defaultPrevented||(vfe(Sfe(xz(l)),{select:!0}),document.activeElement===p&&cl(l))}return()=>{l.removeEventListener(kS,u),setTimeout(()=>{const x=new CustomEvent(ES,j4);l.addEventListener(ES,d),l.dispatchEvent(x),x.defaultPrevented||cl(p??document.body,{select:!0}),l.removeEventListener(ES,d),E4.remove(g)},0)}}},[l,u,d,g]);const v=m.useCallback(p=>{if(!r&&!n||g.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const b=p.currentTarget,[w,_]=xfe(b);w&&_?!p.shiftKey&&x===_?(p.preventDefault(),r&&cl(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&cl(_,{select:!0})):x===b&&p.preventDefault()}},[r,n,g.paused]);return o.jsx(gfe.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});vz.displayName=yfe;function vfe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(cl(n,{select:t}),document.activeElement!==r)return}function xfe(e){const t=xz(e),r=k4(t,e),n=k4(t.reverse(),e);return[r,n]}function xz(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function k4(e,t){for(const r of e)if(!bfe(r,{upTo:t}))return r}function bfe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function wfe(e){return e instanceof HTMLInputElement&&"select"in e}function cl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&wfe(e)&&t&&e.select()}}var E4=_fe();function _fe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=N4(e,t),e.unshift(t)},remove(t){var r;e=N4(e,t),(r=e[0])==null||r.resume()}}}function N4(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Sfe(e){return e.filter(t=>t.tagName!=="A")}function C4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jfe(...e){return t=>{let r=!1;const n=e.map(s=>{const a=C4(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():C4(e[s],null)}}}}function kfe(e){const t=Efe(e),r=m.forwardRef((n,s)=>{const{children:a,...i}=n,l=m.Children.toArray(a),c=l.find(Cfe);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function Efe(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const i=Afe(s),l=Pfe(a,s.props);return s.type!==m.Fragment&&(l.ref=n?jfe(n,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Nfe=Symbol("radix.slottable");function Cfe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Nfe}function Pfe(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function Afe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Tfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ofe=Tfe.reduce((e,t)=>{const r=kfe(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Rfe=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},$fe="Portal",bz=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);Rfe(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?yy.createPortal(o.jsx(Ofe.div,{...n,ref:t}),i):null});bz.displayName=$fe;function Mfe(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Kw=e=>{const{present:t,children:r}=e,n=Ife(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=Hw(n.ref,Lfe(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:a}):null};Kw.displayName="Presence";function Ife(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),a=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Mfe(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Mv(n.current);a.current=l==="mounted"?u:"none"},[l]),qx(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,g=Mv(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),qx(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const p=Mv(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&p&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=g=>{g.target===t&&(a.current=Mv(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Mv(e){return(e==null?void 0:e.animationName)||"none"}function Lfe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function wz(e){const t=Dfe(e),r=m.forwardRef((n,s)=>{const{children:a,...i}=n,l=m.Children.toArray(a),c=l.find(Bfe);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function Dfe(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const i=zfe(s),l=Ufe(a,s.props);return s.type!==m.Fragment&&(l.ref=n?cz(n,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ffe=Symbol("radix.slottable");function Bfe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ffe}function Ufe(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function zfe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var qfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Py=qfe.reduce((e,t)=>{const r=wz(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),NS=0;function Wfe(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??P4()),document.body.insertAdjacentElement("beforeend",e[1]??P4()),NS++,()=>{NS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),NS--}},[])}function P4(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var br=function(){return br=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},br.apply(this,arguments)};function Ay(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Gw(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var pu="right-scroll-bar-position",mu="width-before-scroll-bar",Vfe="with-scroll-bars-hidden",Hfe="--removed-body-scroll-bar-size";function CS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Kfe(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var Gfe=typeof window<"u"?m.useLayoutEffect:m.useEffect,A4=new WeakMap;function Yw(e,t){var r=Kfe(null,function(n){return e.forEach(function(s){return CS(s,n)})});return Gfe(function(){var n=A4.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(l){a.has(l)||CS(l,null)}),a.forEach(function(l){s.has(l)||CS(l,i)})}A4.set(r,e)},[e]),r}function Yfe(e){return e}function Jfe(e,t){t===void 0&&(t=Yfe);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function Jw(e){e===void 0&&(e={});var t=Jfe(null);return t.options=br({async:!0,ssr:!1},e),t}var _z=function(e){var t=e.sideCar,r=Ay(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,br({},r))};_z.isSideCarExport=!0;function Xw(e,t){return e.useMedium(t),_z}var Sz=Jw(),PS=function(){},Qw=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:PS,onWheelCapture:PS,onTouchMoveCapture:PS}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noRelative,v=e.noIsolation,p=e.inert,y=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,w=e.gapMode,_=Ay(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=Yw([r,t]),k=br(br({},_),s);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:Sz,removeScrollBar:u,shards:f,noRelative:g,noIsolation:v,inert:p,setCallbacks:a,allowPinchZoom:!!y,lockRef:r,gapMode:w}),i?m.cloneElement(m.Children.only(l),br(br({},k),{ref:E})):m.createElement(b,br({},k,{className:c,ref:E}),l))});Qw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qw.classNames={fullWidth:mu,zeroRight:pu};var Xfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Qfe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Xfe();return t&&e.setAttribute("nonce",t),e}function Zfe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ehe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var the=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Qfe())&&(Zfe(t,r),ehe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rhe=function(){var e=the();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Ty=function(){var e=rhe(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},nhe={left:0,top:0,right:0,gap:0},AS=function(e){return parseInt(e||"",10)||0},she=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[AS(r),AS(n),AS(s)]},ahe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nhe;var t=she(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ihe=Ty(),of="data-scroll-locked",ohe=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Vfe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(of,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(mu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(pu," .").concat(pu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(mu," .").concat(mu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(of,`] {
    `).concat(Hfe,": ").concat(l,`px;
  }
`)},T4=function(){var e=parseInt(document.body.getAttribute(of)||"0",10);return isFinite(e)?e:0},lhe=function(){m.useEffect(function(){return document.body.setAttribute(of,(T4()+1).toString()),function(){var e=T4()-1;e<=0?document.body.removeAttribute(of):document.body.setAttribute(of,e.toString())}},[])},Zw=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;lhe();var a=m.useMemo(function(){return ahe(s)},[s]);return m.createElement(ihe,{styles:ohe(a,!t,s,r?"":"!important")})},JE=!1;if(typeof window<"u")try{var Iv=Object.defineProperty({},"passive",{get:function(){return JE=!0,!0}});window.addEventListener("test",Iv,Iv),window.removeEventListener("test",Iv,Iv)}catch{JE=!1}var ad=JE?{passive:!1}:!1,che=function(e){return e.tagName==="TEXTAREA"},jz=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!che(e)&&r[t]==="visible")},uhe=function(e){return jz(e,"overflowY")},dhe=function(e){return jz(e,"overflowX")},O4=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=kz(e,n);if(s){var a=Ez(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},fhe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},hhe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},kz=function(e,t){return e==="v"?uhe(t):dhe(t)},Ez=function(e,t){return e==="v"?fhe(t):hhe(t)},phe=function(e,t){return e==="h"&&t==="rtl"?-1:1},mhe=function(e,t,r,n,s){var a=phe(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var g=Ez(e,l),v=g[0],p=g[1],y=g[2],x=p-y-a*v;(v||x)&&kz(e,l)&&(f+=x,h+=v);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Lv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},R4=function(e){return[e.deltaX,e.deltaY]},$4=function(e){return e&&"current"in e?e.current:e},ghe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yhe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},vhe=0,id=[];function xhe(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(vhe++)[0],a=m.useState(Ty)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=Gw([e.lockRef.current],(e.shards||[]).map($4),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=Lv(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-x[0],_="deltaY"in p?p.deltaY:b[1]-x[1],S,E=p.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&k==="h"&&E.type==="range")return!1;var j=O4(k,E);if(!j)return!0;if(j?S=k:(S=k==="v"?"h":"v",j=O4(k,E)),!j)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=S),!S)return!0;var N=n.current||S;return mhe(N,y,p,N==="h"?w:_,!0)},[]),c=m.useCallback(function(p){var y=p;if(!(!id.length||id[id.length-1]!==a)){var x="deltaY"in y?R4(y):Lv(y),b=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&ghe(S.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(i.current.shards||[]).map($4).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=w.length>0?l(y,w[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(p,y,x,b){var w={name:p,delta:y,target:x,should:b,shadowParent:bhe(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=m.useCallback(function(p){r.current=Lv(p),n.current=void 0},[]),f=m.useCallback(function(p){u(p.type,R4(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,Lv(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return id.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ad),document.addEventListener("touchmove",c,ad),document.addEventListener("touchstart",d,ad),function(){id=id.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,ad),document.removeEventListener("touchmove",c,ad),document.removeEventListener("touchstart",d,ad)}},[]);var g=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(a,{styles:yhe(s)}):null,g?m.createElement(Zw,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function bhe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const whe=Xw(Sz,xhe);var Nz=m.forwardRef(function(e,t){return m.createElement(Qw,br({},e,{ref:t,sideCar:whe}))});Nz.classNames=Qw.classNames;var _he=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},od=new WeakMap,Dv=new WeakMap,Fv={},TS=0,Cz=function(e){return e&&(e.host||Cz(e.parentNode))},She=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Cz(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},jhe=function(e,t,r,n){var s=She(t,Array.isArray(e)?e:[e]);Fv[r]||(Fv[r]=new WeakMap);var a=Fv[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var g=h.getAttribute(n),v=g!==null&&g!=="false",p=(od.get(h)||0)+1,y=(a.get(h)||0)+1;od.set(h,p),a.set(h,y),i.push(h),p===1&&v&&Dv.set(h,!0),y===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),TS++,function(){i.forEach(function(f){var h=od.get(f)-1,g=a.get(f)-1;od.set(f,h),a.set(f,g),h||(Dv.has(f)||f.removeAttribute(n),Dv.delete(f)),g||f.removeAttribute(r)}),TS--,TS||(od=new WeakMap,od=new WeakMap,Dv=new WeakMap,Fv={})}},e1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=_he(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),jhe(n,s,r,"aria-hidden")):function(){return null}},t1="Dialog",[Pz,aGe]=Lde(t1),[khe,mi]=Pz(t1),Az=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=zde({prop:n,defaultProp:s??!1,onChange:a,caller:t1});return o.jsx(khe,{scope:t,triggerRef:l,contentRef:c,contentId:SS(),titleId:SS(),descriptionId:SS(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};Az.displayName=t1;var Tz="DialogTrigger",Oz=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=mi(Tz,r),a=Hw(t,s.triggerRef);return o.jsx(Py.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":gA(s.open),...n,ref:a,onClick:bm(e.onClick,s.onOpenToggle)})});Oz.displayName=Tz;var pA="DialogPortal",[Ehe,Rz]=Pz(pA,{forceMount:void 0}),$z=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=mi(pA,t);return o.jsx(Ehe,{scope:t,forceMount:r,children:m.Children.map(n,i=>o.jsx(Kw,{present:r||a.open,children:o.jsx(bz,{asChild:!0,container:s,children:i})}))})};$z.displayName=pA;var Wx="DialogOverlay",Mz=m.forwardRef((e,t)=>{const r=Rz(Wx,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=mi(Wx,e.__scopeDialog);return a.modal?o.jsx(Kw,{present:n||a.open,children:o.jsx(Che,{...s,ref:t})}):null});Mz.displayName=Wx;var Nhe=wz("DialogOverlay.RemoveScroll"),Che=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=mi(Wx,r);return o.jsx(Nz,{as:Nhe,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Py.div,{"data-state":gA(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Iu="DialogContent",Iz=m.forwardRef((e,t)=>{const r=Rz(Iu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=mi(Iu,e.__scopeDialog);return o.jsx(Kw,{present:n||a.open,children:a.modal?o.jsx(Phe,{...s,ref:t}):o.jsx(Ahe,{...s,ref:t})})});Iz.displayName=Iu;var Phe=m.forwardRef((e,t)=>{const r=mi(Iu,e.__scopeDialog),n=m.useRef(null),s=Hw(t,r.contentRef,n);return m.useEffect(()=>{const a=n.current;if(a)return e1(a)},[]),o.jsx(Lz,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bm(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:bm(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:bm(e.onFocusOutside,a=>a.preventDefault())})}),Ahe=m.forwardRef((e,t)=>{const r=mi(Iu,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return o.jsx(Lz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Lz=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=mi(Iu,r),c=m.useRef(null),u=Hw(t,c);return Wfe(),o.jsxs(o.Fragment,{children:[o.jsx(vz,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(mz,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":gA(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(The,{titleId:l.titleId}),o.jsx(Rhe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),mA="DialogTitle",Dz=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=mi(mA,r);return o.jsx(Py.h2,{id:s.titleId,...n,ref:t})});Dz.displayName=mA;var Fz="DialogDescription",Bz=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=mi(Fz,r);return o.jsx(Py.p,{id:s.descriptionId,...n,ref:t})});Bz.displayName=Fz;var Uz="DialogClose",zz=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=mi(Uz,r);return o.jsx(Py.button,{type:"button",...n,ref:t,onClick:bm(e.onClick,()=>s.onOpenChange(!1))})});zz.displayName=Uz;function gA(e){return e?"open":"closed"}var qz="DialogTitleWarning",[iGe,Wz]=Ide(qz,{contentName:Iu,titleName:mA,docsSlug:"dialog"}),The=({titleId:e})=>{const t=Wz(qz),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Ohe="DialogDescriptionWarning",Rhe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Wz(Ohe).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},yA=Az,$he=Oz,vA=$z,Th=Mz,Oy=Iz,Ry=Dz,$y=Bz,Vz=zz;const Rs=yA,Hz=vA,xA=m.forwardRef(({className:e,...t},r)=>o.jsx(Th,{ref:r,className:le("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));xA.displayName=Th.displayName;const ms=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Hz,{children:[o.jsx(xA,{}),o.jsxs(Oy,{ref:n,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background/90 backdrop-blur-md p-6 shadow-lg duration-150 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-[36px]",e),...r,children:[t,o.jsxs(Vz,{className:"absolute right-6 top-6 rounded-full bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 h-7 w-7 flex items-center justify-center shrink-0 transition-colors p-0",children:[o.jsx(Nr,{className:"h-3.5 w-3.5"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ms.displayName=Oy.displayName;const $s=({className:e,...t})=>o.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});$s.displayName="DialogHeader";const Qa=({className:e,...t})=>o.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qa.displayName="DialogFooter";const Ms=m.forwardRef(({className:e,...t},r)=>o.jsx(Ry,{ref:r,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));Ms.displayName=Ry.displayName;const lf=m.forwardRef(({className:e,...t},r)=>o.jsx($y,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));lf.displayName=$y.displayName;function Mhe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Kz=M.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Oh=()=>{const e=M.useContext(Kz);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Mhe(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const Ihe=24,Lhe=typeof window<"u"?m.useLayoutEffect:m.useEffect;function M4(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function Dhe(){return bA(/^Mac/)}function Fhe(){return bA(/^iPhone/)}function I4(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Bhe(){return bA(/^iPad/)||Dhe()&&navigator.maxTouchPoints>1}function Gz(){return Fhe()||Bhe()}function bA(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const OS=typeof document<"u"&&window.visualViewport;function L4(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Yz(e){for(L4(e)&&(e=e.parentElement);e&&!L4(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Uhe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Bv=0,RS;function zhe(e={}){let{isDisabled:t}=e;Lhe(()=>{if(!t)return Bv++,Bv===1&&Gz()&&(RS=qhe()),()=>{Bv--,Bv===0&&(RS==null||RS())}},[t])}function qhe(){let e,t=0,r=f=>{e=Yz(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},n=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,g=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((g<=0&&h>t||g>=v&&h<t)&&f.preventDefault(),t=h)},s=f=>{let h=f.target;XE(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},a=f=>{let h=f.target;XE(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",OS&&(OS.height<window.innerHeight?requestAnimationFrame(()=>{D4(h)}):OS.addEventListener("resize",()=>D4(h),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=M4(Whe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=M4(jp(document,"touchstart",r,{passive:!1,capture:!0}),jp(document,"touchmove",n,{passive:!1,capture:!0}),jp(document,"touchend",s,{passive:!1,capture:!0}),jp(document,"focus",a,!0),jp(window,"scroll",i));return()=>{u(),d(),window.scrollTo(l,c)}}function Whe(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function jp(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function D4(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=Yz(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,s=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const i=r.getBoundingClientRect().bottom+Ihe;a>i&&(r.scrollTop+=s-n)}e=r.parentElement}}function XE(e){return e instanceof HTMLInputElement&&!Uhe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Vhe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Hhe(...e){return t=>e.forEach(r=>Vhe(r,t))}function Jz(...e){return m.useCallback(Hhe(...e),e)}const Xz=new WeakMap;function vn(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([s,a])=>{if(s.startsWith("--")){e.style.setProperty(s,a);return}n[s]=e.style[s],e.style[s]=a}),!r&&Xz.set(e,n)}function Khe(e,t){if(!e||!(e instanceof HTMLElement))return;let r=Xz.get(e);r&&(e.style[t]=r[t])}const wn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Uv(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let s=n.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[wn(t)?13:12]):(s=n.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[wn(t)?5:4]):null)}function Ghe(e){return 8*(Math.log(e+1)-2)}function $S(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function Yhe(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const Br={DURATION:.5,EASE:[.32,.72,0,1]},Qz=.4,Jhe=.25,Xhe=100,Zz=8,Pc=16,QE=26,MS="vaul-dragging";function eq(e){const t=M.useRef(e);return M.useEffect(()=>{t.current=e}),M.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function Qhe({defaultProp:e,onChange:t}){const r=M.useState(e),[n]=r,s=M.useRef(n),a=eq(t);return M.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}function tq({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Qhe({defaultProp:t,onChange:r}),a=e!==void 0,i=a?e:n,l=eq(r),c=M.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[i,c]}function Zhe({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:s,fadeFromIndex:a,onSnapPointChange:i,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=tq({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[h,g]=M.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);M.useEffect(()=>{function k(){g({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const v=M.useMemo(()=>d===(r==null?void 0:r[r.length-1])||null,[r,d]),p=M.useMemo(()=>r==null?void 0:r.findIndex(k=>k===d),[r,d]),y=r&&r.length>0&&(a||a===0)&&!Number.isNaN(a)&&r[a]===d||!r,x=M.useMemo(()=>{const k=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var j;return(j=r==null?void 0:r.map(N=>{const C=typeof N=="string";let A=0;if(C&&(A=parseInt(N,10)),wn(l)){const H=C?A:h?N*k.height:0;return h?l==="bottom"?k.height-H:-k.height+H:H}const R=C?A:h?N*k.width:0;return h?l==="right"?k.width-R:-k.width+R:R}))!=null?j:[]},[r,h,c]),b=M.useMemo(()=>p!==null?x==null?void 0:x[p]:null,[x,p]),w=M.useCallback(k=>{var j;const N=(j=x==null?void 0:x.findIndex(C=>C===k))!=null?j:null;i(N),vn(n.current,{transition:`transform ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`,transform:wn(l)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`}),x&&N!==x.length-1&&N!==a&&N<a?vn(s.current,{transition:`opacity ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`,opacity:"0"}):vn(s.current,{transition:`opacity ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`,opacity:"1"}),f(r==null?void 0:r[Math.max(N,0)])},[n.current,r,x,a,s,f]);M.useEffect(()=>{if(d||e){var k;const j=(k=r==null?void 0:r.findIndex(N=>N===e||N===d))!=null?k:-1;x&&j!==-1&&typeof x[j]=="number"&&w(x[j])}},[d,e,r,x,w]);function _({draggedDistance:k,closeDrawer:j,velocity:N,dismissible:C}){if(a===void 0)return;const A=l==="bottom"||l==="right"?(b??0)-k:(b??0)+k,R=p===a-1,H=p===0,U=k>0;if(R&&vn(s.current,{transition:`opacity ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`}),!u&&N>2&&!U){C?j():w(x[0]);return}if(!u&&N>2&&U&&x&&r){w(x[r.length-1]);return}const D=x==null?void 0:x.reduce((L,T)=>typeof L!="number"||typeof T!="number"?L:Math.abs(T-A)<Math.abs(L-A)?T:L),B=wn(l)?window.innerHeight:window.innerWidth;if(N>Qz&&Math.abs(k)<B*.4){const L=U?1:-1;if(L>0&&v){w(x[r.length-1]);return}if(H&&L<0&&C&&j(),p===null)return;w(x[p+L]);return}w(D)}function S({draggedDistance:k}){if(b===null)return;const j=l==="bottom"||l==="right"?b-k:b+k;(l==="bottom"||l==="right")&&j<x[x.length-1]||(l==="top"||l==="left")&&j>x[x.length-1]||vn(n.current,{transform:wn(l)?`translate3d(0, ${j}px, 0)`:`translate3d(${j}px, 0, 0)`})}function E(k,j){if(!r||typeof p!="number"||!x||a===void 0)return null;const N=p===a-1;if(p>=a&&j)return 0;if(N&&!j)return 1;if(!y&&!N)return null;const A=N?p+1:p-1,R=N?x[A]-x[A-1]:x[A+1]-x[A],H=k/Math.abs(R);return N?1-H:H}return{isLastSnapPoint:v,activeSnapPoint:d,shouldFade:y,getPercentageDragged:E,setActiveSnapPoint:f,activeSnapPointIndex:p,onRelease:_,onDrag:S,snapPointsOffset:x}}const epe=()=>()=>{};function tpe(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:s}=Oh(),a=M.useRef(null),i=m.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-QE)/window.innerWidth}M.useEffect(()=>{if(t&&r){a.current&&clearTimeout(a.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;Yhe(n&&!s?$S(document.body,{background:"black"}):epe,$S(c,{transformOrigin:wn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Br.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Br.EASE.join(",")})`}));const u=$S(c,{borderRadius:`${Zz}px`,overflow:"hidden",...wn(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),a.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},Br.DURATION*1e3)}}},[t,r,i])}let kp=null;function rpe({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:s,noBodyStyles:a}){const[i,l]=M.useState(()=>typeof window<"u"?window.location.href:""),c=M.useRef(0),u=M.useCallback(()=>{if(I4()&&kp===null&&e&&!a){kp={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const g=h-window.innerHeight;g&&c.current>=h&&(document.body.style.top=`${-(c.current+g)}px`)}),300)}},[e]),d=M.useCallback(()=>{if(I4()&&kp!==null&&!a){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,kp),window.requestAnimationFrame(()=>{if(s&&i!==window.location.href){l(window.location.href);return}window.scrollTo(h,f)}),kp=null}},[i]);return M.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),M.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,n,i,t,r,u,d]),{restorePositionSetting:d}}function rq({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:s,snapPoints:a,shouldScaleBackground:i=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=Jhe,scrollLockTimeout:u=Xhe,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:h=a&&a.length-1,activeSnapPoint:g,setActiveSnapPoint:v,fixed:p,modal:y=!0,onClose:x,nested:b,noBodyStyles:w,direction:_="bottom",defaultOpen:S=!1,disablePreventScroll:E=!0,snapToSequentialPoint:k=!1,preventScrollRestoration:j=!1,repositionInputs:N=!0,onAnimationEnd:C,container:A,autoFocus:R=!1}){var H,U;const[D=!1,B]=tq({defaultProp:S,prop:e,onChange:he=>{t==null||t(he),!he&&!b&&qe(),setTimeout(()=>{C==null||C(he)},Br.DURATION*1e3),he&&!y&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),he||(document.body.style.pointerEvents="auto")}}),[L,T]=M.useState(!1),[q,I]=M.useState(!1),[P,W]=M.useState(!1),V=M.useRef(null),ee=M.useRef(null),X=M.useRef(null),ne=M.useRef(null),F=M.useRef(null),$=M.useRef(!1),K=M.useRef(null),Y=M.useRef(0),se=M.useRef(!1),Q=M.useRef(0),ae=M.useRef(null),re=M.useRef(((H=ae.current)==null?void 0:H.getBoundingClientRect().height)||0),pe=M.useRef(((U=ae.current)==null?void 0:U.getBoundingClientRect().width)||0),ve=M.useRef(0),Ie=M.useCallback(he=>{a&&he===ke.length-1&&(ee.current=new Date)},[]),{activeSnapPoint:et,activeSnapPointIndex:Je,setActiveSnapPoint:dt,onRelease:Ce,snapPointsOffset:ke,onDrag:G,shouldFade:ce,getPercentageDragged:Ne}=Zhe({snapPoints:a,activeSnapPointProp:g,setActiveSnapPointProp:v,drawerRef:ae,fadeFromIndex:h,overlayRef:V,onSnapPointChange:Ie,direction:_,container:A,snapToSequentialPoint:k});zhe({isDisabled:!D||q||!y||P||!L||!N||!E});const{restorePositionSetting:qe}=rpe({isOpen:D,modal:y,nested:b,hasBeenOpened:L,preventScrollRestoration:j,noBodyStyles:w});function Ve(){return(window.innerWidth-QE)/window.innerWidth}function Re(he){var _e,Be;!d&&!a||ae.current&&!ae.current.contains(he.target)||(re.current=((_e=ae.current)==null?void 0:_e.getBoundingClientRect().height)||0,pe.current=((Be=ae.current)==null?void 0:Be.getBoundingClientRect().width)||0,I(!0),X.current=new Date,Gz()&&window.addEventListener("touchend",()=>$.current=!1,{once:!0}),he.target.setPointerCapture(he.pointerId),Y.current=wn(_)?he.pageY:he.pageX)}function it(he,_e){var Be,He;let Ue=he;const bt=(Be=window.getSelection())==null?void 0:Be.toString(),je=ae.current?Uv(ae.current,_):null,ft=new Date;if(Ue.hasAttribute("data-vaul-no-drag")||Ue.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(ee.current&&ft.getTime()-ee.current.getTime()<500)return!1;if(je!==null&&(_==="bottom"?je>0:je<0))return!0;if(bt&&bt.length>0)return!1;if(ft.getTime()-((He=F.current)==null?void 0:He.getTime())<u&&je===0||_e)return F.current=ft,!1;for(;Ue;){if(Ue.scrollHeight>Ue.clientHeight){if(Ue.scrollTop!==0)return F.current=new Date,!1;if(Ue.getAttribute("role")==="dialog")return!0}Ue=Ue.parentNode}return!0}function xe(he){if(ae.current&&q){const _e=_==="bottom"||_==="right"?1:-1,Be=(Y.current-(wn(_)?he.pageY:he.pageX))*_e,He=Be>0,Ue=a&&!d&&!He;if(Ue&&Je===0)return;const bt=Math.abs(Be),je=document.querySelector("[data-vaul-drawer-wrapper]"),ft=_==="bottom"||_==="top"?re.current:pe.current;let $t=bt/ft;const Ut=Ne(bt,He);if(Ut!==null&&($t=Ut),Ue&&$t>=1||!$.current&&!it(he.target,He))return;if(ae.current.classList.add(MS),$.current=!0,vn(ae.current,{transition:"none"}),vn(V.current,{transition:"none"}),a&&G({draggedDistance:Be}),He&&!a){const Jt=Ghe(Be),O=Math.min(Jt*-1,0)*_e;vn(ae.current,{transform:wn(_)?`translate3d(0, ${O}px, 0)`:`translate3d(${O}px, 0, 0)`});return}const St=1-$t;if((ce||h&&Je===h-1)&&(n==null||n(he,$t),vn(V.current,{opacity:`${St}`,transition:"none"},!0)),je&&V.current&&i){const Jt=Math.min(Ve()+$t*(1-Ve()),1),O=8-$t*8,z=Math.max(0,14-$t*14);vn(je,{borderRadius:`${O}px`,transform:wn(_)?`scale(${Jt}) translate3d(0, ${z}px, 0)`:`scale(${Jt}) translate3d(${z}px, 0, 0)`,transition:"none"},!0)}if(!a){const Jt=bt*_e;vn(ae.current,{transform:wn(_)?`translate3d(0, ${Jt}px, 0)`:`translate3d(${Jt}px, 0, 0)`})}}}M.useEffect(()=>{var he;function _e(){if(!ae.current||!N)return;const Be=document.activeElement;if(XE(Be)||se.current){var He;const Ue=((He=window.visualViewport)==null?void 0:He.height)||0,bt=window.innerHeight;let je=bt-Ue;const ft=ae.current.getBoundingClientRect().height||0,$t=ft>bt*.8;ve.current||(ve.current=ft);const Ut=ae.current.getBoundingClientRect().top;if(Math.abs(Q.current-je)>60&&(se.current=!se.current),a&&a.length>0&&ke&&Je){const St=ke[Je]||0;je+=St}if(Q.current=je,ft>Ue||se.current){const St=ae.current.getBoundingClientRect().height;let Jt=St;St>Ue&&(Jt=Ue-($t?Ut:QE)),p?ae.current.style.height=`${St-Math.max(je,0)}px`:ae.current.style.height=`${Math.max(Jt,Ue-Ut)}px`}else ae.current.style.height=`${ve.current}px`;a&&a.length>0&&!se.current?ae.current.style.bottom="0px":ae.current.style.bottom=`${Math.max(je,0)}px`}}return(he=window.visualViewport)==null||he.addEventListener("resize",_e),()=>{var Be;return(Be=window.visualViewport)==null?void 0:Be.removeEventListener("resize",_e)}},[Je,a,ke]);function Pe(he){J(),x==null||x(),he||B(!1),setTimeout(()=>{a&&dt(a[0])},Br.DURATION*1e3)}function Z(){if(!ae.current)return;const he=document.querySelector("[data-vaul-drawer-wrapper]"),_e=Uv(ae.current,_);vn(ae.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`}),vn(V.current,{transition:`opacity ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`,opacity:"1"}),i&&_e&&_e>0&&D&&vn(he,{borderRadius:`${Zz}px`,overflow:"hidden",...wn(_)?{transform:`scale(${Ve()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ve()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Br.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Br.EASE.join(",")})`},!0)}function J(){!q||!ae.current||(ae.current.classList.remove(MS),$.current=!1,I(!1),ne.current=new Date)}function fe(he){if(!q||!ae.current)return;ae.current.classList.remove(MS),$.current=!1,I(!1),ne.current=new Date;const _e=Uv(ae.current,_);if(!it(he.target,!1)||!_e||Number.isNaN(_e)||X.current===null)return;const Be=ne.current.getTime()-X.current.getTime(),He=Y.current-(wn(_)?he.pageY:he.pageX),Ue=Math.abs(He)/Be;if(Ue>.05&&(W(!0),setTimeout(()=>{W(!1)},200)),a){Ce({draggedDistance:He*(_==="bottom"||_==="right"?1:-1),closeDrawer:Pe,velocity:Ue,dismissible:d}),s==null||s(he,!0);return}if(_==="bottom"||_==="right"?He>0:He<0){Z(),s==null||s(he,!0);return}if(Ue>Qz){Pe(),s==null||s(he,!1);return}var bt;const je=Math.min((bt=ae.current.getBoundingClientRect().height)!=null?bt:0,window.innerHeight);var ft;const $t=Math.min((ft=ae.current.getBoundingClientRect().width)!=null?ft:0,window.innerWidth),Ut=_==="left"||_==="right";if(Math.abs(_e)>=(Ut?$t:je)*c){Pe(),s==null||s(he,!1);return}s==null||s(he,!0),Z()}M.useEffect(()=>(D&&(vn(document.documentElement,{scrollBehavior:"auto"}),ee.current=new Date),()=>{Khe(document.documentElement,"scrollBehavior")}),[D]);function Fe(he){const _e=he?(window.innerWidth-Pc)/window.innerWidth:1,Be=he?-Pc:0;K.current&&window.clearTimeout(K.current),vn(ae.current,{transition:`transform ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`,transform:`scale(${_e}) translate3d(0, ${Be}px, 0)`}),!he&&ae.current&&(K.current=setTimeout(()=>{const He=Uv(ae.current,_);vn(ae.current,{transition:"none",transform:wn(_)?`translate3d(0, ${He}px, 0)`:`translate3d(${He}px, 0, 0)`})},500))}function Ge(he,_e){if(_e<0)return;const Be=(window.innerWidth-Pc)/window.innerWidth,He=Be+_e*(1-Be),Ue=-Pc+_e*Pc;vn(ae.current,{transform:wn(_)?`scale(${He}) translate3d(0, ${Ue}px, 0)`:`scale(${He}) translate3d(${Ue}px, 0, 0)`,transition:"none"})}function $e(he,_e){const Be=wn(_)?window.innerHeight:window.innerWidth,He=_e?(Be-Pc)/Be:1,Ue=_e?-Pc:0;_e&&vn(ae.current,{transition:`transform ${Br.DURATION}s cubic-bezier(${Br.EASE.join(",")})`,transform:wn(_)?`scale(${He}) translate3d(0, ${Ue}px, 0)`:`scale(${He}) translate3d(${Ue}px, 0, 0)`})}return M.createElement(yA,{defaultOpen:S,onOpenChange:he=>{!d&&!he||(he?T(!0):Pe(!0),B(he))},open:D},M.createElement(Kz.Provider,{value:{activeSnapPoint:et,snapPoints:a,setActiveSnapPoint:dt,drawerRef:ae,overlayRef:V,onOpenChange:t,onPress:Re,onRelease:fe,onDrag:xe,dismissible:d,handleOnly:f,isOpen:D,isDragging:q,shouldFade:ce,closeDrawer:Pe,onNestedDrag:Ge,onNestedOpenChange:Fe,onNestedRelease:$e,keyboardIsOpen:se,modal:y,snapPointsOffset:ke,direction:_,shouldScaleBackground:i,setBackgroundColorOnScale:l,noBodyStyles:w,container:A,autoFocus:R}},r))}const nq=M.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:s,shouldFade:a,isOpen:i,modal:l}=Oh(),c=Jz(t,r),u=n&&n.length>0;return l?M.createElement(Th,{onMouseUp:s,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":i&&u?"true":"false","data-vaul-snap-points-overlay":i&&a?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});nq.displayName="Drawer.Overlay";const sq=M.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},s){const{drawerRef:a,onPress:i,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,modal:f,isOpen:h,direction:g,snapPoints:v,container:p,handleOnly:y,autoFocus:x}=Oh(),[b,w]=M.useState(!1),_=Jz(s,a),S=M.useRef(null),E=M.useRef(null),k=M.useRef(!1),j=v&&v.length>0;tpe();const N=(A,R,H=0)=>{if(k.current)return!0;const U=Math.abs(A.y),D=Math.abs(A.x),B=D>U,L=["bottom","right"].includes(R)?1:-1;if(R==="left"||R==="right"){if(!(A.x*L<0)&&D>=0&&D<=H)return B}else if(!(A.y*L<0)&&U>=0&&U<=H)return!B;return k.current=!0,!0};M.useEffect(()=>{j&&window.requestAnimationFrame(()=>{w(!0)})},[]);function C(A){S.current=null,k.current=!1,l(A)}return M.createElement(Oy,{"data-vaul-drawer-direction":g,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":h&&j?"true":"false","data-vaul-custom-container":p?"true":"false",...n,ref:_,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...t}:t,onPointerDown:A=>{y||(n.onPointerDown==null||n.onPointerDown.call(n,A),S.current={x:A.pageX,y:A.pageY},i(A))},onOpenAutoFocus:A=>{r==null||r(A),x||A.preventDefault()},onPointerDownOutside:A=>{if(e==null||e(A),!f||A.defaultPrevented){A.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:A=>{if(!f){A.preventDefault();return}},onPointerMove:A=>{if(E.current=A,y||(n.onPointerMove==null||n.onPointerMove.call(n,A),!S.current))return;const R=A.pageY-S.current.y,H=A.pageX-S.current.x,U=A.pointerType==="touch"?10:2;N({x:H,y:R},g,U)?c(A):(Math.abs(H)>U||Math.abs(R)>U)&&(S.current=null)},onPointerUp:A=>{n.onPointerUp==null||n.onPointerUp.call(n,A),S.current=null,k.current=!1,l(A)},onPointerOut:A=>{n.onPointerOut==null||n.onPointerOut.call(n,A),C(E.current)},onContextMenu:A=>{n.onContextMenu==null||n.onContextMenu.call(n,A),C(E.current)}})});sq.displayName="Drawer.Content";const npe=250,spe=120,aq=M.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:s,isDragging:a,snapPoints:i,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:h,onDrag:g}=Oh(),v=M.useRef(null),p=M.useRef(!1);function y(){if(p.current){w();return}window.setTimeout(()=>{x()},spe)}function x(){if(a||e||p.current){w();return}if(w(),(!i||i.length===0)&&u){s();return}if(l===i[i.length-1]&&u){s();return}const S=i.findIndex(k=>k===l);if(S===-1)return;const E=i[S+1];c(E)}function b(){v.current=window.setTimeout(()=>{p.current=!0},npe)}function w(){window.clearTimeout(v.current),p.current=!1}return M.createElement("div",{onClick:y,onPointerCancel:w,onPointerDown:_=>{d&&h(_),b()},onPointerMove:_=>{d&&g(_)},ref:n,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},M.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});aq.displayName="Drawer.Handle";function ape({onDrag:e,onOpenChange:t,...r}){const{onNestedDrag:n,onNestedOpenChange:s,onNestedRelease:a}=Oh();if(!n)throw new Error("Drawer.NestedRoot must be placed in another drawer");return M.createElement(rq,{nested:!0,onClose:()=>{s(!1)},onDrag:(i,l)=>{n(i,l),e==null||e(i,l)},onOpenChange:i=>{i&&s(i)},onRelease:a,...r})}function ipe(e){const t=Oh(),{container:r=t.container,...n}=e;return M.createElement(vA,{container:r,...n})}const eo={Root:rq,NestedRoot:ape,Content:sq,Overlay:nq,Trigger:$he,Portal:ipe,Handle:aq,Close:Vz,Title:Ry,Description:$y},Fi=({shouldScaleBackground:e=!0,...t})=>o.jsx(eo.Root,{shouldScaleBackground:e,...t});Fi.displayName="Drawer";const ope=eo.Portal,pg=eo.Close,iq=m.forwardRef(({className:e,...t},r)=>o.jsx(eo.Overlay,{ref:r,className:le("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm",e),...t}));iq.displayName=eo.Overlay.displayName;const Bi=m.forwardRef(({className:e,children:t,showOverlay:r=!0,...n},s)=>o.jsxs(ope,{children:[r&&o.jsx(iq,{}),o.jsx(eo.Content,{ref:s,className:le("fixed left-2 right-2 bottom-4 z-50 mt-24 flex h-auto flex-col rounded-[36px] border-t border-l border-r bg-background/90 backdrop-blur-md",e),...n,children:t})]}));Bi.displayName="DrawerContent";const Ui=({className:e,children:t,...r})=>o.jsxs("div",{className:le("flex items-center justify-between gap-4 px-6 pt-6 pb-4",e),...r,children:[o.jsx("div",{className:"flex-1",children:t}),o.jsx(pg,{asChild:!0,children:o.jsx("button",{className:"rounded-full bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 h-7 w-7 flex items-center justify-center shrink-0 transition-colors p-0","aria-label":"Close",children:o.jsx(Nr,{className:"h-3.5 w-3.5"})})})]});Ui.displayName="DrawerHeader";const Uo=({className:e,...t})=>o.jsx("div",{className:le("mt-auto flex flex-col gap-3 px-6 pt-4 pb-6",e),...t});Uo.displayName="DrawerFooter";const zi=m.forwardRef(({className:e,...t},r)=>o.jsx(eo.Title,{ref:r,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));zi.displayName=eo.Title.displayName;const oq=m.forwardRef(({className:e,...t},r)=>o.jsx(eo.Description,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));oq.displayName=eo.Description.displayName;var lpe=m.createContext(void 0);function Rh(e){const t=m.useContext(lpe);return e||t||"ltr"}function mg(e,[t,r]){return Math.min(r,Math.max(t,e))}function cpe(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var wA="ScrollArea",[lq,oGe]=ua(wA),[upe,$a]=lq(wA),cq=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[g,v]=m.useState(null),[p,y]=m.useState(null),[x,b]=m.useState(0),[w,_]=m.useState(0),[S,E]=m.useState(!1),[k,j]=m.useState(!1),N=xt(t,A=>c(A)),C=Rh(s);return o.jsx(upe,{scope:r,type:n,dir:C,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:E,scrollbarY:p,onScrollbarYChange:y,scrollbarYEnabled:k,onScrollbarYEnabledChange:j,onCornerWidthChange:b,onCornerHeightChange:_,children:o.jsx(ct.div,{dir:C,...i,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});cq.displayName=wA;var uq="ScrollAreaViewport",dq=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:a,...i}=e,l=$a(uq,r),c=m.useRef(null),u=xt(t,c,l.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),o.jsx(ct.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:bpe({asChild:s,children:n},d=>o.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});dq.displayName=uq;var to="ScrollAreaScrollbar",_A=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=$a(to,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(dpe,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(fpe,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(fq,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(SA,{...n,ref:t}):null});_A.displayName=to;var dpe=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=$a(to,e.__scopeScrollArea),[a,i]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Ss,{present:r||a,children:o.jsx(fq,{"data-state":a?"visible":"hidden",...n,ref:t})})}),fpe=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=$a(to,e.__scopeScrollArea),a=e.orientation==="horizontal",i=n1(()=>c("SCROLL_END"),100),[l,c]=cpe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const g=u[d];f!==g&&(c("SCROLL"),i()),f=g};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,i]),o.jsx(Ss,{present:r||l!=="hidden",children:o.jsx(SA,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:We(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:We(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),fq=m.forwardRef((e,t)=>{const r=$a(to,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,i]=m.useState(!1),l=e.orientation==="horizontal",c=n1(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return qf(r.viewport,c),qf(r.content,c),o.jsx(Ss,{present:n||a,children:o.jsx(SA,{"data-state":a?"visible":"hidden",...s,ref:t})})}),SA=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=$a(to,e.__scopeScrollArea),a=m.useRef(null),i=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=yq(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,g){return vpe(h,i.current,l,g)}return r==="horizontal"?o.jsx(hpe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,g=F4(h,l,s.dir);a.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?o.jsx(ppe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,g=F4(h,l);a.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),hpe=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=$a(to,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=xt(t,c,a.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(pq,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":r1(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),xq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Hx(i.paddingLeft),paddingEnd:Hx(i.paddingRight)}})}})}),ppe=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=$a(to,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=xt(t,c,a.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(pq,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":r1(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),xq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Hx(i.paddingTop),paddingEnd:Hx(i.paddingBottom)}})}})}),[mpe,hq]=lq(to),pq=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,g=$a(to,r),[v,p]=m.useState(null),y=xt(t,N=>p(N)),x=m.useRef(null),b=m.useRef(""),w=g.viewport,_=n.content-n.viewport,S=Qt(d),E=Qt(c),k=n1(f,10);function j(N){if(x.current){const C=N.clientX-x.current.left,A=N.clientY-x.current.top;u({x:C,y:A})}}return m.useEffect(()=>{const N=C=>{const A=C.target;(v==null?void 0:v.contains(A))&&S(C,_)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[w,v,_,S]),m.useEffect(E,[n,E]),qf(v,k),qf(g.content,k),o.jsx(mpe,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:Qt(a),onThumbPointerUp:Qt(i),onThumbPositionChange:E,onThumbPointerDown:Qt(l),children:o.jsx(ct.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:We(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),j(N))}),onPointerMove:We(e.onPointerMove,j),onPointerUp:We(e.onPointerUp,N=>{const C=N.target;C.hasPointerCapture(N.pointerId)&&C.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=b.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),Vx="ScrollAreaThumb",mq=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=hq(Vx,e.__scopeScrollArea);return o.jsx(Ss,{present:r||s.hasThumb,children:o.jsx(gpe,{ref:t,...n})})}),gpe=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=$a(Vx,r),i=hq(Vx,r),{onThumbPositionChange:l}=i,c=xt(t,f=>i.onThumbChange(f)),u=m.useRef(),d=n1(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const g=xpe(f,l);u.current=g,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),o.jsx(ct.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:We(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),v=f.clientX-g.left,p=f.clientY-g.top;i.onThumbPointerDown({x:v,y:p})}),onPointerUp:We(e.onPointerUp,i.onThumbPointerUp)})});mq.displayName=Vx;var jA="ScrollAreaCorner",gq=m.forwardRef((e,t)=>{const r=$a(jA,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(ype,{...e,ref:t}):null});gq.displayName=jA;var ype=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=$a(jA,r),[a,i]=m.useState(0),[l,c]=m.useState(0),u=!!(a&&l);return qf(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),qf(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?o.jsx(ct.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Hx(e){return e?parseInt(e,10):0}function yq(e,t){const r=e/t;return isNaN(r)?0:r}function r1(e){const t=yq(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function vpe(e,t,r,n="ltr"){const s=r1(r),a=s/2,i=t||a,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return vq([c,u],f)(e)}function F4(e,t,r="ltr"){const n=r1(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],u=mg(e,c);return vq([0,i],[0,l])(u)}function vq(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function xq(e,t){return e>0&&e<t}var xpe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function n1(e,t){const r=Qt(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function qf(e,t){const r=Qt(t);on(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function bpe(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=m.Children.only(n);return m.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var bq=cq,wpe=dq,_pe=gq;const ZE=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(bq,{ref:n,className:le("relative overflow-hidden",e),...r,children:[o.jsx(wpe,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(wq,{}),o.jsx(_pe,{})]}));ZE.displayName=bq.displayName;const wq=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(_A,{ref:n,orientation:t,className:le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(mq,{className:"relative flex-1 rounded-full bg-border"})}));wq.displayName=_A.displayName;const B4=768;function da(){const[e,t]=m.useState(window.innerWidth<B4);return m.useEffect(()=>{function r(){t(window.innerWidth<B4)}return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e}const sn=[{name:"Afghanistan",flag:"",code:"AF",dial_code:"+93"},{name:"land Islands",flag:"",code:"AX",dial_code:"+358"},{name:"Albania",flag:"",code:"AL",dial_code:"+355"},{name:"Algeria",flag:"",code:"DZ",dial_code:"+213"},{name:"American Samoa",flag:"",code:"AS",dial_code:"+1684"},{name:"Andorra",flag:"",code:"AD",dial_code:"+376"},{name:"Angola",flag:"",code:"AO",dial_code:"+244"},{name:"Anguilla",flag:"",code:"AI",dial_code:"+1264"},{name:"Antarctica",flag:"",code:"AQ",dial_code:"+672"},{name:"Antigua and Barbuda",flag:"",code:"AG",dial_code:"+1268"},{name:"Argentina",flag:"",code:"AR",dial_code:"+54"},{name:"Armenia",flag:"",code:"AM",dial_code:"+374"},{name:"Aruba",flag:"",code:"AW",dial_code:"+297"},{name:"Australia",flag:"",code:"AU",dial_code:"+61"},{name:"Austria",flag:"",code:"AT",dial_code:"+43"},{name:"Azerbaijan",flag:"",code:"AZ",dial_code:"+994"},{name:"Bahamas",flag:"",code:"BS",dial_code:"+1242"},{name:"Bahrain",flag:"",code:"BH",dial_code:"+973"},{name:"Bangladesh",flag:"",code:"BD",dial_code:"+880"},{name:"Barbados",flag:"",code:"BB",dial_code:"+1246"},{name:"Belarus",flag:"",code:"BY",dial_code:"+375"},{name:"Belgium",flag:"",code:"BE",dial_code:"+32"},{name:"Belize",flag:"",code:"BZ",dial_code:"+501"},{name:"Benin",flag:"",code:"BJ",dial_code:"+229"},{name:"Bermuda",flag:"",code:"BM",dial_code:"+1441"},{name:"Bhutan",flag:"",code:"BT",dial_code:"+975"},{name:"Bolivia",flag:"",code:"BO",dial_code:"+591"},{name:"Bosnia and Herzegovina",flag:"",code:"BA",dial_code:"+387"},{name:"Botswana",flag:"",code:"BW",dial_code:"+267"},{name:"Bouvet Island",flag:"",code:"BV",dial_code:"+47"},{name:"Brazil",flag:"",code:"BR",dial_code:"+55"},{name:"British Indian Ocean Territory",flag:"",code:"IO",dial_code:"+246"},{name:"Brunei Darussalam",flag:"",code:"BN",dial_code:"+673"},{name:"Bulgaria",flag:"",code:"BG",dial_code:"+359"},{name:"Burkina Faso",flag:"",code:"BF",dial_code:"+226"},{name:"Burundi",flag:"",code:"BI",dial_code:"+257"},{name:"Cambodia",flag:"",code:"KH",dial_code:"+855"},{name:"Cameroon",flag:"",code:"CM",dial_code:"+237"},{name:"Canada",flag:"",code:"CA",dial_code:"+1"},{name:"Cape Verde",flag:"",code:"CV",dial_code:"+238"},{name:"Cayman Islands",flag:"",code:"KY",dial_code:"+345"},{name:"Central African Republic",flag:"",code:"CF",dial_code:"+236"},{name:"Chad",flag:"",code:"TD",dial_code:"+235"},{name:"Chile",flag:"",code:"CL",dial_code:"+56"},{name:"China",flag:"",code:"CN",dial_code:"+86"},{name:"Christmas Island",flag:"",code:"CX",dial_code:"+61"},{name:"Cocos (Keeling) Islands",flag:"",code:"CC",dial_code:"+61"},{name:"Colombia",flag:"",code:"CO",dial_code:"+57"},{name:"Comoros",flag:"",code:"KM",dial_code:"+269"},{name:"Congo",flag:"",code:"CG",dial_code:"+242"},{name:"Congo, The Democratic Republic of the",flag:"",code:"CD",dial_code:"+243"},{name:"Cook Islands",flag:"",code:"CK",dial_code:"+682"},{name:"Costa Rica",flag:"",code:"CR",dial_code:"+506"},{name:"Cote d'Ivoire",flag:"",code:"CI",dial_code:"+225"},{name:"Croatia",flag:"",code:"HR",dial_code:"+385"},{name:"Cuba",flag:"",code:"CU",dial_code:"+53"},{name:"Cyprus",flag:"",code:"CY",dial_code:"+357"},{name:"Czech Republic",flag:"",code:"CZ",dial_code:"+420"},{name:"Denmark",flag:"",code:"DK",dial_code:"+45"},{name:"Djibouti",flag:"",code:"DJ",dial_code:"+253"},{name:"Dominica",flag:"",code:"DM",dial_code:"+1767"},{name:"Dominican Republic",flag:"",code:"DO",dial_code:"+1849"},{name:"Ecuador",flag:"",code:"EC",dial_code:"+593"},{name:"Egypt",flag:"",code:"EG",dial_code:"+20"},{name:"El Salvador",flag:"",code:"SV",dial_code:"+503"},{name:"Equatorial Guinea",flag:"",code:"GQ",dial_code:"+240"},{name:"Eritrea",flag:"",code:"ER",dial_code:"+291"},{name:"Estonia",flag:"",code:"EE",dial_code:"+372"},{name:"Ethiopia",flag:"",code:"ET",dial_code:"+251"},{name:"Falkland Islands (Malvinas)",flag:"",code:"FK",dial_code:"+500"},{name:"Faroe Islands",flag:"",code:"FO",dial_code:"+298"},{name:"Fiji",flag:"",code:"FJ",dial_code:"+679"},{name:"Finland",flag:"",code:"FI",dial_code:"+358"},{name:"France",flag:"",code:"FR",dial_code:"+33"},{name:"French Guiana",flag:"",code:"GF",dial_code:"+594"},{name:"French Polynesia",flag:"",code:"PF",dial_code:"+689"},{name:"French Southern Territories",flag:"",code:"TF",dial_code:"+262"},{name:"Gabon",flag:"",code:"GA",dial_code:"+241"},{name:"Gambia",flag:"",code:"GM",dial_code:"+220"},{name:"Georgia",flag:"",code:"GE",dial_code:"+995"},{name:"Germany",flag:"",code:"DE",dial_code:"+49"},{name:"Ghana",flag:"",code:"GH",dial_code:"+233"},{name:"Gibraltar",flag:"",code:"GI",dial_code:"+350"},{name:"Greece",flag:"",code:"GR",dial_code:"+30"},{name:"Greenland",flag:"",code:"GL",dial_code:"+299"},{name:"Grenada",flag:"",code:"GD",dial_code:"+1473"},{name:"Guadeloupe",flag:"",code:"GP",dial_code:"+590"},{name:"Guam",flag:"",code:"GU",dial_code:"+1671"},{name:"Guatemala",flag:"",code:"GT",dial_code:"+502"},{name:"Guernsey",flag:"",code:"GG",dial_code:"+44"},{name:"Guinea",flag:"",code:"GN",dial_code:"+224"},{name:"Guinea-Bissau",flag:"",code:"GW",dial_code:"+245"},{name:"Guyana",flag:"",code:"GY",dial_code:"+592"},{name:"Haiti",flag:"",code:"HT",dial_code:"+509"},{name:"Heard Island and Mcdonald Islands",flag:"",code:"HM",dial_code:"+672"},{name:"Holy See (Vatican City State)",flag:"",code:"VA",dial_code:"+379"},{name:"Honduras",flag:"",code:"HN",dial_code:"+504"},{name:"Hong Kong",flag:"",code:"HK",dial_code:"+852"},{name:"Hungary",flag:"",code:"HU",dial_code:"+36"},{name:"Iceland",flag:"",code:"IS",dial_code:"+354"},{name:"India",flag:"",code:"IN",dial_code:"+91"},{name:"Indonesia",flag:"",code:"ID",dial_code:"+62"},{name:"Iran, Islamic Republic of",flag:"",code:"IR",dial_code:"+98"},{name:"Iraq",flag:"",code:"IQ",dial_code:"+964"},{name:"Ireland",flag:"",code:"IE",dial_code:"+353"},{name:"Isle of Man",flag:"",code:"IM",dial_code:"+44"},{name:"Israel",flag:"",code:"IL",dial_code:"+972"},{name:"Italy",flag:"",code:"IT",dial_code:"+39"},{name:"Jamaica",flag:"",code:"JM",dial_code:"+1876"},{name:"Japan",flag:"",code:"JP",dial_code:"+81"},{name:"Jersey",flag:"",code:"JE",dial_code:"+44"},{name:"Jordan",flag:"",code:"JO",dial_code:"+962"},{name:"Kazakhstan",flag:"",code:"KZ",dial_code:"+7"},{name:"Kenya",flag:"",code:"KE",dial_code:"+254"},{name:"Kiribati",flag:"",code:"KI",dial_code:"+686"},{name:"Korea, Democratic People's Republic of",flag:"",code:"KP",dial_code:"+850"},{name:"Korea, Republic of",flag:"",code:"KR",dial_code:"+82"},{name:"Kuwait",flag:"",code:"KW",dial_code:"+965"},{name:"Kyrgyzstan",flag:"",code:"KG",dial_code:"+996"},{name:"Lao People's Democratic Republic",flag:"",code:"LA",dial_code:"+856"},{name:"Latvia",flag:"",code:"LV",dial_code:"+371"},{name:"Lebanon",flag:"",code:"LB",dial_code:"+961"},{name:"Lesotho",flag:"",code:"LS",dial_code:"+266"},{name:"Liberia",flag:"",code:"LR",dial_code:"+231"},{name:"Libyan Arab Jamahiriya",flag:"",code:"LY",dial_code:"+218"},{name:"Liechtenstein",flag:"",code:"LI",dial_code:"+423"},{name:"Lithuania",flag:"",code:"LT",dial_code:"+370"},{name:"Luxembourg",flag:"",code:"LU",dial_code:"+352"},{name:"Macao",flag:"",code:"MO",dial_code:"+853"},{name:"Macedonia, The Former Yugoslav Republic of",flag:"",code:"MK",dial_code:"+389"},{name:"Madagascar",flag:"",code:"MG",dial_code:"+261"},{name:"Malawi",flag:"",code:"MW",dial_code:"+265"},{name:"Malaysia",flag:"",code:"MY",dial_code:"+60"},{name:"Maldives",flag:"",code:"MV",dial_code:"+960"},{name:"Mali",flag:"",code:"ML",dial_code:"+223"},{name:"Malta",flag:"",code:"MT",dial_code:"+356"},{name:"Marshall Islands",flag:"",code:"MH",dial_code:"+692"},{name:"Martinique",flag:"",code:"MQ",dial_code:"+596"},{name:"Mauritania",flag:"",code:"MR",dial_code:"+222"},{name:"Mauritius",flag:"",code:"MU",dial_code:"+230"},{name:"Mayotte",flag:"",code:"YT",dial_code:"+262"},{name:"Mexico",flag:"",code:"MX",dial_code:"+52"},{name:"Micronesia, Federated States of",flag:"",code:"FM",dial_code:"+691"},{name:"Moldova, Republic of",flag:"",code:"MD",dial_code:"+373"},{name:"Monaco",flag:"",code:"MC",dial_code:"+377"},{name:"Mongolia",flag:"",code:"MN",dial_code:"+976"},{name:"Montserrat",flag:"",code:"MS",dial_code:"+1664"},{name:"Morocco",flag:"",code:"MA",dial_code:"+212"},{name:"Mozambique",flag:"",code:"MZ",dial_code:"+258"},{name:"Myanmar",flag:"",code:"MM",dial_code:"+95"},{name:"Namibia",flag:"",code:"NA",dial_code:"+264"},{name:"Nauru",flag:"",code:"NR",dial_code:"+674"},{name:"Nepal",flag:"",code:"NP",dial_code:"+977"},{name:"Netherlands",flag:"",code:"NL",dial_code:"+31"},{name:"Netherlands Antilles",flag:"",code:"AN",dial_code:"+599"},{name:"New Caledonia",flag:"",code:"NC",dial_code:"+687"},{name:"New Zealand",flag:"",code:"NZ",dial_code:"+64"},{name:"Nicaragua",flag:"",code:"NI",dial_code:"+505"},{name:"Niger",flag:"",code:"NE",dial_code:"+227"},{name:"Nigeria",flag:"",code:"NG",dial_code:"+234"},{name:"Niue",flag:"",code:"NU",dial_code:"+683"},{name:"Norfolk Island",flag:"",code:"NF",dial_code:"+672"},{name:"Northern Mariana Islands",flag:"",code:"MP",dial_code:"+1670"},{name:"Norway",flag:"",code:"NO",dial_code:"+47"},{name:"Oman",flag:"",code:"OM",dial_code:"+968"},{name:"Pakistan",flag:"",code:"PK",dial_code:"+92"},{name:"Palau",flag:"",code:"PW",dial_code:"+680"},{name:"Palestinian Territory, Occupied",flag:"",code:"PS",dial_code:"+970"},{name:"Panama",flag:"",code:"PA",dial_code:"+507"},{name:"Papua New Guinea",flag:"",code:"PG",dial_code:"+675"},{name:"Paraguay",flag:"",code:"PY",dial_code:"+595"},{name:"Peru",flag:"",code:"PE",dial_code:"+51"},{name:"Philippines",flag:"",code:"PH",dial_code:"+63"},{name:"Pitcairn",flag:"",code:"PN",dial_code:"+870"},{name:"Poland",flag:"",code:"PL",dial_code:"+48"},{name:"Portugal",flag:"",code:"PT",dial_code:"+351"},{name:"Puerto Rico",flag:"",code:"PR",dial_code:"+1939"},{name:"Qatar",flag:"",code:"QA",dial_code:"+974"},{name:"Reunion",flag:"",code:"RE",dial_code:"+262"},{name:"Romania",flag:"",code:"RO",dial_code:"+40"},{name:"Russia",flag:"",code:"RU",dial_code:"+7"},{name:"Rwanda",flag:"",code:"RW",dial_code:"+250"},{name:"Saint Helena",flag:"",code:"SH",dial_code:"+290"},{name:"Saint Kitts and Nevis",flag:"",code:"KN",dial_code:"+1869"},{name:"Saint Lucia",flag:"",code:"LC",dial_code:"+1758"},{name:"Saint Pierre and Miquelon",flag:"",code:"PM",dial_code:"+508"},{name:"Saint Vincent and the Grenadines",flag:"",code:"VC",dial_code:"+1784"},{name:"Samoa",flag:"",code:"WS",dial_code:"+685"},{name:"San Marino",flag:"",code:"SM",dial_code:"+378"},{name:"Sao Tome and Principe",flag:"",code:"ST",dial_code:"+239"},{name:"Saudi Arabia",flag:"",code:"SA",dial_code:"+966"},{name:"Senegal",flag:"",code:"SN",dial_code:"+221"},{name:"Serbia and Montenegro",flag:"",code:"CS",dial_code:"+381"},{name:"Seychelles",flag:"",code:"SC",dial_code:"+248"},{name:"Sierra Leone",flag:"",code:"SL",dial_code:"+232"},{name:"Singapore",flag:"",code:"SG",dial_code:"+65"},{name:"Slovakia",flag:"",code:"SK",dial_code:"+421"},{name:"Slovenia",flag:"",code:"SI",dial_code:"+386"},{name:"Solomon Islands",flag:"",code:"SB",dial_code:"+677"},{name:"Somalia",flag:"",code:"SO",dial_code:"+252"},{name:"South Africa",flag:"",code:"ZA",dial_code:"+27"},{name:"South Georgia and the South Sandwich Islands",flag:"",code:"GS",dial_code:"+500"},{name:"Spain",flag:"",code:"ES",dial_code:"+34"},{name:"Sri Lanka",flag:"",code:"LK",dial_code:"+94"},{name:"Sudan",flag:"",code:"SD",dial_code:"+249"},{name:"Suriname",flag:"",code:"SR",dial_code:"+597"},{name:"Svalbard and Jan Mayen",flag:"",code:"SJ",dial_code:"+47"},{name:"Swaziland",flag:"",code:"SZ",dial_code:"+268"},{name:"Sweden",flag:"",code:"SE",dial_code:"+46"},{name:"Switzerland",flag:"",code:"CH",dial_code:"+41"},{name:"Syrian Arab Republic",flag:"",code:"SY",dial_code:"+963"},{name:"Taiwan, Province of China",flag:"",code:"TW",dial_code:"+886"},{name:"Tajikistan",flag:"",code:"TJ",dial_code:"+992"},{name:"Tanzania, United Republic of",flag:"",code:"TZ",dial_code:"+255"},{name:"Thailand",flag:"",code:"TH",dial_code:"+66"},{name:"Timor-Leste",flag:"",code:"TL",dial_code:"+670"},{name:"Togo",flag:"",code:"TG",dial_code:"+228"},{name:"Tokelau",flag:"",code:"TK",dial_code:"+690"},{name:"Tonga",flag:"",code:"TO",dial_code:"+676"},{name:"Trinidad and Tobago",flag:"",code:"TT",dial_code:"+1868"},{name:"Tunisia",flag:"",code:"TN",dial_code:"+216"},{name:"Turkey",flag:"",code:"TR",dial_code:"+90"},{name:"Turkmenistan",flag:"",code:"TM",dial_code:"+993"},{name:"Turks and Caicos Islands",flag:"",code:"TC",dial_code:"+1649"},{name:"Tuvalu",flag:"",code:"TV",dial_code:"+688"},{name:"Uganda",flag:"",code:"UG",dial_code:"+256"},{name:"Ukraine",flag:"",code:"UA",dial_code:"+380"},{name:"United Arab Emirates",flag:"",code:"AE",dial_code:"+971"},{name:"United Kingdom",flag:"",code:"GB",dial_code:"+44"},{name:"United States",flag:"",code:"US",dial_code:"+1"},{name:"United States Minor Outlying Islands",flag:"",code:"UM",dial_code:"+1"},{name:"Uruguay",flag:"",code:"UY",dial_code:"+598"},{name:"Uzbekistan",flag:"",code:"UZ",dial_code:"+998"},{name:"Vanuatu",flag:"",code:"VU",dial_code:"+678"},{name:"Venezuela",flag:"",code:"VE",dial_code:"+58"},{name:"Viet Nam",flag:"",code:"VN",dial_code:"+84"},{name:"Virgin Islands, British",flag:"",code:"VG",dial_code:"+1284"},{name:"Virgin Islands, U.S.",flag:"",code:"VI",dial_code:"+1340"},{name:"Wallis and Futuna",flag:"",code:"WF",dial_code:"+681"},{name:"Western Sahara",flag:"",code:"EH",dial_code:"+212"},{name:"Yemen",flag:"",code:"YE",dial_code:"+967"},{name:"Zambia",flag:"",code:"ZM",dial_code:"+260"},{name:"Zimbabwe",flag:"",code:"ZW",dial_code:"+263"}],U4=({countries:e,onSelect:t,selectedCountry:r})=>o.jsx("div",{className:"space-y-1",children:e.map(n=>o.jsxs("button",{onClick:()=>t(n),className:`w-full text-left px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors flex items-center gap-3 ${(r==null?void 0:r.code)===n.code?"bg-primary/10 text-primary":""}`,children:[o.jsx("span",{className:"text-lg",children:n.flag}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:n.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:n.dial_code})]})]},n.code))}),Spe=({isOpen:e,onClose:t,onSelect:r,selectedCountry:n})=>{const s=da(),[a,i]=m.useState(""),l=m.useMemo(()=>{if(!a)return sn;const d=a.toLowerCase();return sn.filter(f=>f.name.toLowerCase().includes(d)||f.dial_code.includes(a)||f.code.toLowerCase().includes(d))},[a]),c=d=>{r(d),t()},u=()=>{i("")};return s?o.jsx(Fi,{open:e,onOpenChange:t,children:o.jsxs(Bi,{className:"h-[85vh]",children:[o.jsx(Ui,{children:o.jsx(zi,{children:"Select Country"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(Bo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(rt,{placeholder:"Search countries or dial codes...",value:a,onChange:d=>i(d.target.value),className:"pl-10 pr-10 w-full"}),a&&o.jsx(oe,{variant:"ghost",size:"sm",onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:o.jsx(Nr,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(ZE,{className:"h-full px-4",children:o.jsx(U4,{countries:l,onSelect:c,selectedCountry:n})})}),o.jsx("div",{className:"p-4 border-t",children:o.jsx(pg,{asChild:!0,children:o.jsx(oe,{variant:"outline",className:"w-full",children:"Cancel"})})})]})}):o.jsx(Rs,{open:e,onOpenChange:t,children:o.jsxs(ms,{className:"max-w-md max-h-[80vh]",children:[o.jsx($s,{children:o.jsx(Ms,{children:"Select Country"})}),o.jsx("div",{className:"mt-4 pb-4",children:o.jsxs("div",{className:"relative w-full",children:[o.jsx(Bo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(rt,{placeholder:"Search countries or dial codes...",value:a,onChange:d=>i(d.target.value),className:"pl-10 pr-10 w-full"}),a&&o.jsx(oe,{variant:"ghost",size:"sm",onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:o.jsx(Nr,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"overflow-hidden",children:o.jsx(ZE,{className:"h-[400px]",children:o.jsx(U4,{countries:l,onSelect:c,selectedCountry:n})})})]})})},_q=({value:e,onChange:t,placeholder:r="Select country",className:n=""})=>{const[s,a]=m.useState(!1),i=sn.find(c=>c.code==="GE"),l=e||i;return o.jsxs(o.Fragment,{children:[o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":s,className:`justify-between shrink-0 ${n}`,onClick:()=>a(!0),children:[l?o.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[o.jsx("span",{className:"text-lg shrink-0",children:l.flag}),o.jsx("span",{className:"text-muted-foreground whitespace-nowrap",children:l.dial_code})]}):r,o.jsx(bde,{className:"ml-1.5 h-4 w-4 shrink-0 opacity-50 text-muted-foreground"})]}),o.jsx(Spe,{isOpen:s,onClose:()=>a(!1),onSelect:t,selectedCountry:l})]})},jpe=()=>{const e=rr(),[t,r]=m.useState(!1),[n,s]=m.useState(sn.find(N=>N.code==="GE")),[a,i]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState(""),[g,v]=m.useState(""),[p,y]=m.useState(!1),[x,b]=m.useState(!1),[w,_]=m.useState(!1),[S,E]=m.useState(!1),k=m.useCallback(N=>new Promise((C,A)=>{const R=new Image;R.onload=()=>C(),R.onerror=()=>A(new Error(`Failed to load image: ${N}`)),R.src=N}),[]);m.useEffect(()=>{(async()=>{try{await Promise.all([k("/lovable-uploads/Breneo-logo.png"),k("/lovable-uploads/Breneo-logo-dark.png"),k("/lovable-uploads/way.png")])}catch(C){console.warn("Some images failed to preload:",C),E(!0)}})()},[k]);const j=async N=>{N.preventDefault(),y(!0);const C=`${n==null?void 0:n.dial_code}${f}`;try{await Se.post(Ze.AUTH.REGISTER,{first_name:a,last_name:l,email:u,phone_number:C,password:g}),sessionStorage.setItem("tempEmail",u),sessionStorage.setItem("tempPassword",g),e("/email-verification"),de.success("Registration successful! Verify your email.")}catch(A){let R="Registration failed. Please try again.";Zt.isAxiosError(A)&&A.response&&(R=A.response.data.detail||A.response.data.message||A.response.data.error||R),de.error(R)}finally{y(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!x&&!S&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(mn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(Nn,{className:`h-6 lg:h-5 transition-opacity duration-300 ${x?"opacity-100":"opacity-0"}`,onLoad:()=>b(!0),onError:()=>{E(!0),b(!0)}}),S&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Yi,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!x&&!S&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(mn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(Nn,{className:`h-8 transition-opacity duration-300 ${x?"opacity-100":"opacity-0"}`,onLoad:()=>b(!0),onError:()=>{E(!0),b(!0)}}),S&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Yi,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Create Account"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Sign up for your Breneo account"}),o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{className:"mt-1 flex gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(De,{htmlFor:"firstName",children:"First Name"}),o.jsx(rt,{id:"firstName",placeholder:"John",className:"mt-1 h-[3.2rem]",value:a,onChange:N=>i(N.target.value),required:!0})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(De,{htmlFor:"lastName",children:"Last Name"}),o.jsx(rt,{id:"lastName",placeholder:"Doe",className:"mt-1 h-[3.2rem]",value:l,onChange:N=>c(N.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"email",children:"Email Address"}),o.jsx(rt,{id:"email",type:"email",placeholder:"Enter your email",className:"mt-1 h-[3.2rem]",value:u,onChange:N=>d(N.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"phone-input-container mt-1 flex items-center rounded-md border border-input focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[o.jsx(_q,{value:n,onChange:s,className:"max-w-fit px-3 h-[3.2rem] border-0 bg-transparent hover:bg-transparent rounded-r-none"}),o.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-border"}),o.jsx(rt,{id:"phone",type:"tel",placeholder:"Phone number",className:"flex-1 h-[3.2rem] border-0 focus-visible:ring-0 focus-visible:ring-offset-0",value:f,onChange:N=>h(N.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(rt,{id:"password",type:t?"text":"password",placeholder:"Create a password",className:"pr-10 h-[3.2rem]",value:g,onChange:N=>v(N.target.value),required:!0}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!t),children:t?o.jsx(fg,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):o.jsx(Ru,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]})]}),o.jsx(oe,{type:"submit",className:"w-full h-14",disabled:p,children:p?"Signing Up...":"Sign Up"})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Already have an account?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!w&&!S&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(mn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${w?"opacity-100":"opacity-0"}`,style:{backgroundImage:w?"url('/lovable-uploads/cover_2.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/cover_2.png",alt:"",className:"hidden",onLoad:()=>_(!0),onError:()=>{E(!0),_(!0)}}),S&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(mn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Way"})]})})]})})]})]})},kpe=()=>{const e=rr(),[t,r]=m.useState(1),[n,s]=m.useState(""),[a,i]=m.useState(["","","","","",""]),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState(!1),[g,v]=m.useState(!1),[p,y]=m.useState(!1),x=m.useRef([]),[b,w]=m.useState(!1),[_,S]=m.useState(!1),[E,k]=m.useState(!1),j=m.useCallback(U=>new Promise((D,B)=>{const L=new Image;L.onload=()=>D(),L.onerror=()=>B(new Error(`Failed to load image: ${U}`)),L.src=U}),[]);m.useEffect(()=>{(async()=>{try{await Promise.all([j("/lovable-uploads/Breneo-logo.png"),j("/lovable-uploads/Breneo-logo-dark.png"),j("/lovable-uploads/future.png")])}catch(D){console.warn("Some images failed to preload:",D),k(!0)}})()},[j]),m.useEffect(()=>{document.title="Reset Password | Breneo"},[]);const N=async U=>{var D,B;U.preventDefault(),y(!0);try{const L=await Zt.post(`${af}/password-reset/request/`,{email:n});de.success(L.data.message||"Code sent to your email!"),r(2)}catch(L){de.error(((B=(D=L.response)==null?void 0:D.data)==null?void 0:B.error)||"Error sending code")}finally{y(!1)}},C=async U=>{var B,L;U.preventDefault();const D=a.join("");if(D.length!==6){de.error("Please enter a 6-digit code.");return}y(!0);try{const T=await Zt.post(`${af}/password-reset/verify/`,{email:n,code:D});de.success(T.data.message||"Code verified!"),r(3)}catch(T){de.error(((L=(B=T.response)==null?void 0:B.data)==null?void 0:L.error)||"Invalid code")}finally{y(!1)}},A=(U,D)=>{var L;if(D&&!/^\d$/.test(D))return;const B=[...a];B[U]=D,i(B),D&&U<5&&((L=x.current[U+1])==null||L.focus())},R=(U,D)=>{var B;D.key==="Backspace"&&!a[U]&&U>0&&((B=x.current[U-1])==null||B.focus())},H=async U=>{var D,B;if(U.preventDefault(),l!==u){de.error("Passwords do not match");return}y(!0);try{const L=a.join(""),T=await Zt.post(`${af}/password-reset/set-new/`,{email:n,code:L,new_password:l,confirm_password:u});de.success(T.data.message||"Password reset successfully!"),e("/auth/login")}catch(L){de.error(((B=(D=L.response)==null?void 0:D.data)==null?void 0:B.error)||"Error setting new password")}finally{y(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!b&&!E&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(mn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(Nn,{className:`h-6 lg:h-5 transition-opacity duration-300 ${b?"opacity-100":"opacity-0"}`,onLoad:()=>w(!0),onError:()=>{k(!0),w(!0)}}),E&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Yi,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!b&&!E&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(mn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(Nn,{className:`h-8 transition-opacity duration-300 ${b?"opacity-100":"opacity-0"}`,onLoad:()=>w(!0),onError:()=>{k(!0),w(!0)}}),E&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Yi,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Reset Password"}),t===1&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-muted-foreground mb-8",children:"Enter your email to receive a verification code."}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"email",children:"Email Address"}),o.jsx(rt,{id:"email",type:"email",placeholder:"Enter your email",className:"mt-1 h-[3.2rem]",value:n,onChange:U=>s(U.target.value),required:!0,disabled:p})]}),o.jsx(oe,{type:"submit",className:"w-full h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:p,children:p?"Sending Code...":"Send Code"})]})]}),t===2&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-muted-foreground mb-8",children:["A code was sent to ",n,". Please enter it below."]}),o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[o.jsx("div",{className:"w-full sm:w-[23.5rem]",children:o.jsx("div",{className:"flex gap-2 sm:gap-2",children:a.map((U,D)=>o.jsx(rt,{ref:B=>x.current[D]=B,type:"text",inputMode:"numeric",className:"flex-1 sm:flex-none h-[3.2rem] w-0 sm:w-14 text-center text-xl sm:text-2xl font-semibold",value:U,onChange:B=>A(D,B.target.value),onKeyDown:B=>R(D,B),maxLength:1,required:!0,disabled:p,autoFocus:D===0},D))})}),o.jsx(oe,{type:"submit",className:"w-full sm:w-[23.5rem] h-12 sm:h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:p,children:p?"Verifying...":"Verify Code"})]})]}),t===3&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-muted-foreground mb-8",children:"Enter your new password."}),o.jsxs("form",{onSubmit:H,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"newPassword",children:"New Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(rt,{id:"newPassword",type:f?"text":"password",placeholder:"Enter new password",className:"pr-10 h-[3.2rem]",value:l,onChange:U=>c(U.target.value),required:!0,disabled:p}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>h(!f),disabled:p,children:f?o.jsx(fg,{className:"h-4 w-4 text-gray-500"}):o.jsx(Ru,{className:"h-4 w-4 text-gray-500"})})]})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"confirmPassword",children:"Confirm New Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(rt,{id:"confirmPassword",type:g?"text":"password",placeholder:"Confirm new password",className:"pr-10 h-[3.2rem]",value:u,onChange:U=>d(U.target.value),required:!0,disabled:p}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>v(!g),disabled:p,children:g?o.jsx(fg,{className:"h-4 w-4 text-gray-500"}):o.jsx(Ru,{className:"h-4 w-4 text-gray-500"})})]})]}),o.jsx(oe,{type:"submit",className:"w-full h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:p,children:p?"Setting...":"Set New Password"})]})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Remembered your password?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!_&&!E&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(mn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${_?"opacity-100":"opacity-0"}`,style:{backgroundImage:_?"url('/lovable-uploads/future.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>S(!0),onError:()=>{k(!0),S(!0)}}),E&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(mn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})},Epe=()=>{var E,k;const e=rr(),t=Vs(),{login:r}=ir(),[n,s]=m.useState(["","","","","",""]),[a,i]=m.useState(!1),l=m.useRef([]),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,g]=m.useState(!1),v=((E=t.state)==null?void 0:E.email)||sessionStorage.getItem("tempEmail")||sessionStorage.getItem("tempAcademyEmail"),p=sessionStorage.getItem("tempPassword"),y=((k=t.state)==null?void 0:k.isAcademy)||!1,x=m.useCallback(j=>new Promise((N,C)=>{const A=new Image;A.onload=()=>N(),A.onerror=()=>C(new Error(`Failed to load image: ${j}`)),A.src=j}),[]);m.useEffect(()=>{(async()=>{try{await Promise.all([x("/lovable-uploads/Breneo-logo.png"),x("/lovable-uploads/Breneo-logo-dark.png"),x("/lovable-uploads/future.png")])}catch(N){console.warn("Some images failed to preload:",N),g(!0)}})()},[x]),m.useEffect(()=>{document.title="Email Verification | Breneo"},[]);const b=async()=>{var j,N,C,A,R;if(!v||!p){de.error("Session expired. Please log in manually."),e("/auth/login");return}try{console.log("Attempting auto-login with:",{email:v,passwordLength:p.length}),await r(v,p),de.success("Email verified and logged in!"),sessionStorage.removeItem("tempEmail"),sessionStorage.removeItem("tempPassword")}catch(H){console.error("Auto-login failed:",H),Zt.isAxiosError(H)&&console.error("Login error details:",{status:(j=H.response)==null?void 0:j.status,statusText:(N=H.response)==null?void 0:N.statusText,data:(C=H.response)==null?void 0:C.data,url:(A=H.config)==null?void 0:A.url,method:(R=H.config)==null?void 0:R.method}),de.error("Verification successful, but auto-login failed. Please log in manually."),e("/auth/login")}},w=(j,N)=>{var A;if(N&&!/^\d$/.test(N))return;const C=[...n];C[j]=N,s(C),N&&j<5&&((A=l.current[j+1])==null||A.focus())},_=(j,N)=>{var C;N.key==="Backspace"&&!n[j]&&j>0&&((C=l.current[j-1])==null||C.focus())},S=async j=>{if(j.preventDefault(),!v){de.error("Email missing. Please register again."),e("/auth/signup");return}const N=n.join("");if(N.length!==6){de.error("Please enter a 6-digit code.");return}i(!0);try{const C=y?Ze.AUTH.VERIFY_ACADEMY_EMAIL:Ze.AUTH.VERIFY_CODE;await Se.post(C,{email:v,code:N}),y?(de.success("Email verified successfully!"),sessionStorage.removeItem("tempAcademyEmail"),e("/auth/login")):p?await b():(de.success("Email verified successfully!"),sessionStorage.removeItem("tempEmail"),e("/auth/login"))}catch(C){let A="Verification failed. Please try again.",R=!1;if(Zt.isAxiosError(C)&&C.response){const H=C.response.data,U=H.detail||H.message||H.error||Array.isArray(H.email)&&H.email[0]||"";A=typeof U=="string"?U:A,C.response.status===400&&A.toLowerCase().includes("user with this email already exists")&&(R=!0)}R&&!y&&p?(de.info("Verification processed, attempting login..."),await b()):de.error(A)}finally{i(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!c&&!h&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(mn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(Nn,{className:`h-6 lg:h-5 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>{g(!0),u(!0)}}),h&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Yi,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!c&&!h&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(mn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(Nn,{className:`h-8 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>{g(!0),u(!0)}}),h&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Yi,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Verify Your Email"}),o.jsxs("p",{className:"text-muted-foreground mb-8",children:["Enter the 6-digit code sent to your email"," ",y&&"(academy registration)"," (",v||"your-email",")"]}),o.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o.jsx("div",{className:"w-full sm:w-[23.5rem]",children:o.jsx("div",{className:"flex gap-2 sm:gap-2",children:n.map((j,N)=>o.jsx(rt,{ref:C=>l.current[N]=C,type:"text",inputMode:"numeric",className:"flex-1 sm:flex-none h-12 sm:h-14 w-0 sm:w-14 text-center text-xl sm:text-2xl font-semibold",value:j,onChange:C=>w(N,C.target.value),onKeyDown:C=>_(N,C),maxLength:1,required:!0,disabled:a,autoFocus:N===0},N))})}),o.jsx(oe,{type:"submit",className:"w-full sm:w-[23.5rem] h-12 sm:h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:a,children:a?"Verifying...":"Verify Email"})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Didn't receive a code?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Back to Login"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!d&&!h&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(mn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${d?"opacity-100":"opacity-0"}`,style:{backgroundImage:d?"url('/lovable-uploads/future.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),h&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(mn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})},Oe=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:le("rounded-lg border-0 bg-card text-card-foreground",e),...t}));Oe.displayName="Card";const yt=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:le("flex flex-col space-y-1.5 p-6",e),...t}));yt.displayName="CardHeader";const Nt=m.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:le("text-2xl font-semibold leading-none tracking-tight",e),...t}));Nt.displayName="CardTitle";const Fr=m.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:le("text-sm text-muted-foreground",e),...t}));Fr.displayName="CardDescription";const Me=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:le("p-6 pt-0",e),...t}));Me.displayName="CardContent";const Npe=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:le("flex items-center p-6 pt-0",e),...t}));Npe.displayName="CardFooter";const Cpe=()=>(m.useEffect(()=>{const e="Email Confirmed | Breneo",t="Your email has been confirmed. You can now log in to your Breneo account.";document.title=e;let r=document.querySelector('meta[name="description"]');r||(r=document.createElement("meta"),r.setAttribute("name","description"),document.head.appendChild(r)),r.setAttribute("content",t);let n=document.querySelector('link[rel="canonical"]');n||(n=document.createElement("link"),n.setAttribute("rel","canonical"),document.head.appendChild(n)),n.setAttribute("href",`${window.location.origin}/email-confirmed`)},[]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("main",{className:"w-full max-w-md px-4",children:[o.jsx("h1",{className:"sr-only",children:"Email confirmation successful"}),o.jsxs(Oe,{className:"shadow-md",children:[o.jsxs(yt,{className:"text-center pt-8",children:[o.jsx("div",{className:"mx-auto mb-4 rounded-full bg-primary/10 p-3 text-primary",children:o.jsx(Di,{className:"h-8 w-8","aria-hidden":"true"})}),o.jsx("p",{className:"text-xl font-semibold text-foreground",children:"Your email is confirmed"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Thank you! Your account is now verified."})]}),o.jsx(Me,{className:"pb-8 pt-2",children:o.jsx("div",{className:"mt-6",children:o.jsx(oe,{asChild:!0,className:"w-full",children:o.jsx(Wr,{to:"/auth/login","aria-label":"Go to login page",children:"Go to Login"})})})})]})]})}));function lo({to:e,...t}){const{language:r}=hi(),n=typeof e=="string"?e:e.pathname||"",s=n.startsWith("/auth")||n==="/auth"?e:va(n,r);return o.jsx(Wr,{to:s,...t})}const Ppe=Cy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pt({className:e,variant:t,...r}){return o.jsx("div",{className:le(Ppe({variant:t}),e),...r})}function kA({collapsed:e,toggleSidebar:t,onUpgradeClick:r}){const n=Vs(),{loading:s,user:a,academyDisplay:i}=ir(),{theme:l,setTheme:c}=Ko(),{language:u,setLanguage:d}=hi(),f=pi(),[h,g]=M.useState(!1),v=cg(n.pathname),p=u==="ka"?"GEO":"EN",y=n.pathname,x=(a==null?void 0:a.user_type)==="academy"||typeof window<"u"&&localStorage.getItem("userRole")==="academy";if(M.useEffect(()=>{g(!0)},[]),s)return null;const b=()=>{if(x&&(i!=null&&i.name))return i.name;if(!a)return"Member";const{first_name:C,last_name:A,email:R}=a;if(C&&A){const H=U=>U?U.charAt(0).toUpperCase()+U.slice(1).toLowerCase():"";return`${H(C)} ${H(A)}`}return R??"Member"},w=()=>x&&(i!=null&&i.email)?i.email:(a==null?void 0:a.email)??"",_=()=>x&&(i!=null&&i.name)?i.name.slice(0,2).toUpperCase():a!=null&&a.first_name&&(a!=null&&a.last_name)?`${a.first_name.charAt(0)}${a.last_name.charAt(0)}`.toUpperCase():a!=null&&a.email?a.email.charAt(0).toUpperCase():"U",S=x?[{icon:p4,label:f.nav.home,href:"/academy/home"},{icon:m4,label:f.nav.courses,href:"/academy/courses"}]:[{icon:p4,label:f.nav.home,href:"/home"},{icon:Hr,label:f.nav.jobs,href:"/jobs"},{icon:m4,label:f.nav.courses,href:"/courses"},{icon:lz,label:f.nav.webinars,href:"/webinars"}],E=x?"/academy/profile":"/profile",k=x?"/academy/settings":"/settings",j=x?"/academy/home":"/home",N=[...S,{icon:sz,label:f.nav.profile,href:E}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-50 bg-[#F3F3F4]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(lo,{to:j,className:"flex items-center ml-1",children:o.jsx(Nn,{className:"h-6 md:h-5"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(oe,{variant:"ghost",onClick:()=>d(u==="en"?"ka":"en"),className:`relative h-10 px-3 rounded-full !text-gray-500 hover:!text-gray-700 dark:!text-gray-400 dark:hover:!text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:!bg-black/[0.08] dark:hover:!bg-white/[0.05] transition-colors
                         text-sm font-medium flex items-center gap-2`,children:[o.jsx(cc,{className:"h-4 w-4"}),o.jsx("span",{children:p})]}),o.jsx("button",{onClick:()=>c(l==="dark"?"light":"dark"),className:`h-10 w-10 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:bg-black/[0.08] dark:hover:bg-white/[0.05] transition-colors rounded-full`,children:h&&l==="dark"?o.jsx(fA,{size:20}):o.jsx(Ux,{size:20})}),o.jsx(lo,{to:"/notifications",className:`h-10 w-10 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:bg-black/[0.08] dark:hover:bg-white/[0.05] transition-colors rounded-full`,children:o.jsx(cA,{size:20})})]})]})}),o.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-[#F3F3F4]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 ",children:o.jsx("nav",{className:"flex justify-around items-center py-2",children:N.map((C,A)=>{let R=v===C.href;return C.href==="/home"?R=v==="/home"||v==="/dashboard"||y.includes("/home")||y.includes("/dashboard"):C.href==="/academy/home"?R=v==="/academy/home"||v==="/academy/dashboard"||y.includes("/academy/home")||y.includes("/academy/dashboard"):R=v===C.href||y.endsWith(C.href),o.jsxs(lo,{to:C.href,className:le("flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-200 min-w-0 flex-1 mx-1",R?"text-gray-600":"text-gray-600 hover:text-breneo-blue"),children:[o.jsx(C.icon,{size:20,className:le("transition-colors duration-200 mb-1",R?"text-breneo-blue":"text-gray-600 group-hover:text-breneo-blue")}),o.jsx("span",{className:le("text-xs font-medium transition-colors duration-200 text-center",R?"text-gray-600":"text-gray-600 group-hover:text-breneo-blue"),children:C.label})]},A)})})}),o.jsxs("div",{className:le("hidden md:flex fixed top-4 left-4 bottom-4 z-40 bg-[#FFFFFF] dark:bg-card transition-all duration-300 flex-col rounded-3xl",e?"w-20":"w-64"),children:[o.jsx("div",{className:"p-4 pt-5 flex items-center justify-between",children:e?o.jsx(Nn,{className:"h-4 w-8 object-cover object-left ml-3"}):o.jsx(lo,{to:j,className:"flex items-center space-x-2 ml-3",children:o.jsx(Nn,{className:"h-6"})})}),o.jsxs("div",{className:"flex flex-col flex-1",children:[o.jsx("div",{className:"flex-1 overflow-y-auto pt-8",children:o.jsx("nav",{className:"space-y-1 px-4",children:S.map((C,A)=>{let R=v===C.href;return C.href==="/home"?R=v==="/home"||v==="/dashboard"||y.includes("/home")||y.includes("/dashboard"):C.href==="/academy/home"?R=v==="/academy/home"||v==="/academy/dashboard"||y.includes("/academy/home")||y.includes("/academy/dashboard"):R=v===C.href||y.endsWith(C.href),o.jsxs(lo,{to:C.href,className:le("flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group",R?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[o.jsx(C.icon,{size:22,className:le("transition-colors duration-200 flex-shrink-0",R?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&o.jsxs("span",{className:le("font-medium text-base transition-colors duration-200 flex items-center gap-3",R?"text-breneo-blue":"text-gray-600 group-hover:text-breneo-blue"),children:[C.label,C.href==="/webinars"&&o.jsx(Pt,{className:"bg-breneo-blue text-white border-0 px-3 py-0.8 text-[12px] font-semibold hidden md:inline-flex",children:"Soon"})]})]},A)})})}),o.jsxs("div",{className:"px-4 pb-4",children:[o.jsx("div",{className:"mb-4"}),o.jsxs("div",{className:"space-y-1 mb-4",children:[o.jsxs(lo,{to:k,className:le("flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group",v===k?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[o.jsx(Vw,{size:22,className:le("flex-shrink-0 transition-colors duration-200",v===k?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&o.jsx("span",{className:"font-medium text-base",children:f.nav.settings})]}),o.jsxs(lo,{to:"/help",className:le("flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group",v==="/help"?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[o.jsx(wde,{size:22,className:le("flex-shrink-0 transition-colors duration-200",v==="/help"?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&o.jsx("span",{className:"font-medium text-base",children:f.nav.help})]}),!x&&o.jsxs("button",{onClick:r,className:le("w-full flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group","bg-gradient-to-br from-[#cedcfc] to-[#a0dfee] dark:from-[#6B7BA8]/40 dark:to-[#4A9FB8]/40","hover:from-[#CFD8EE] hover:to-[#97D9E9] dark:hover:from-[#6B7BA8]/50 dark:hover:to-[#4A9FB8]/50 text-left",e&&"justify-center px-4"),children:[o.jsx(Bx,{size:22,className:"text-gray-700 dark:text-gray-200 flex-shrink-0 group-hover:translate-x-0.5 transition-transform"}),!e&&o.jsx("span",{className:"font-medium text-base text-gray-700 dark:text-gray-200 truncate",children:f.subscription.upgrade})]})]}),o.jsx("div",{className:"mt-4 pt-4",children:o.jsxs(lo,{to:E,className:"flex items-center space-x-4 px-4 py-2 rounded-xl hover:bg-gray-50 transition-all duration-200 group",children:[o.jsx("div",{className:le("flex items-center justify-center w-8 h-8 rounded-[50px] text-sm font-semibold shrink-0",a!=null&&a.profile_image?"overflow-hidden":"bg-[#AAF0FF] text-[#099DBC]"),children:a!=null&&a.profile_image?o.jsx("img",{src:a.profile_image,alt:"Profile",className:"w-full h-full object-cover rounded-[12px]"}):_()}),!e&&o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-semibold text-sm text-gray-700 dark:text-gray-200 truncate",children:b()}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 truncate",children:w()})]})]})})]})]})]})]})}const Sq=e=>/^(\/(en|ka))?\/jobs\/[^/]+$/.test(e),jq=e=>/^(\/(en|ka))?\/course\/[^/]+$/.test(e),Ape=e=>e.includes("/skill-path"),Tpe=e=>/^(\/(en|ka))?\/academy\/courses\/(add|edit\/[^/]+)$/.test(e),Ope=(e,t,r)=>r?Sq(e)||jq(e)?null:e.startsWith("/home")||e.startsWith("/academy/home")?o.jsxs(o.Fragment,{children:[r.dashboard.welcome,","," ",o.jsx("span",{className:"font-bold",children:t||"User"}),"!"]}):e.startsWith("/dashboard")||e.startsWith("/academy/dashboard")?o.jsxs(o.Fragment,{children:[r.dashboard.welcome,","," ",o.jsx("span",{className:"font-bold",children:t||"User"}),"!"]}):e.startsWith("/jobs")?r.jobs.title:e.startsWith("/courses")?r.courses.title:e.startsWith("/settings")||e.startsWith("/academy/settings")?r.settings.title:e.startsWith("/profile")||e.startsWith("/academy/profile")?r.profile.title:e.startsWith("/notifications")?r.notifications.title:e.startsWith("/skill-test")?r.skillTest.title:e.startsWith("/skill-path")?null:r.nav.home:"Home";function Rpe({sidebarCollapsed:e,isVisible:t}){var E;const r=Vs(),n=rr(),{user:s}=ir(),{theme:a,setTheme:i}=Ko(),{language:l,setLanguage:c}=hi(),u=pi(),[d,f]=M.useState(!1),h=(s==null?void 0:s.first_name)||((E=s==null?void 0:s.email)==null?void 0:E.split("@")[0])||"User",g=cg(r.pathname),v=Ope(g,h,u),p=Sq(g),y=jq(g),x=Ape(g),b=Tpe(g),_=(()=>{if(b){if(g.includes("/edit/"))return"Edit Course";if(g.includes("/add"))return"Add Course"}return null})(),S=l==="ka"?"GEO":"EN";return M.useEffect(()=>{f(!0)},[]),o.jsx("header",{className:le("fixed top-0 right-0 z-30","bg-gradient-to-b from-breneo-lightgray dark:from-background to-transparent","transition-opacity duration-300 ease-in-out",e?"md:left-24":"md:left-[17rem]","left-0",t?"opacity-100":"opacity-0 pointer-events-none"),children:o.jsxs("div",{className:"flex items-center justify-between px-5 sm:px-9 md:px-12 lg:px-14 pt-6 pb-4",children:[o.jsx("div",{className:"hidden md:flex items-center space-x-3",children:p||y||x||b?o.jsxs(o.Fragment,{children:[o.jsxs(oe,{variant:"ghost",onClick:()=>n(-1),className:`relative h-10 px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                           text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200
                           text-sm font-medium flex items-center gap-2 transition-colors`,children:[o.jsx(xm,{className:"h-4 w-4"}),o.jsx("span",{children:u.common.back})]}),_&&o.jsx("h1",{className:"text-2xl font-semibold text-foreground ml-4",children:_})]}):v&&o.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:v})}),o.jsx("div",{className:"md:hidden"}),o.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[o.jsxs(oe,{variant:"ghost",onClick:()=>c(l==="en"?"ka":"en"),className:`relative h-10 px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                       text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200
                       text-sm font-medium flex items-center gap-2 transition-colors`,children:[o.jsx(cc,{className:"h-4 w-4"}),o.jsx("span",{children:S})]}),o.jsxs(oe,{variant:"ghost",size:"icon",onClick:()=>i(a==="dark"?"light":"dark"),className:`relative h-10 w-10 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                       text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors`,children:[d&&a==="dark"?o.jsx(fA,{className:"h-5 w-5"}):o.jsx(Ux,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),o.jsx(lo,{to:"/notifications",children:o.jsxs(oe,{variant:"ghost",size:"icon",className:`relative h-10 w-10 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                         text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors`,children:[o.jsx(cA,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Notifications"})]})})]})]})})}const $pe="academy_verified_congrats_shown";function Mpe(){const{user:e,academyDisplay:t}=ir(),[r,n]=m.useState(!1),[s,a]=m.useState(!1),i=(e==null?void 0:e.user_type)==="academy"||typeof window<"u"&&localStorage.getItem("userRole")==="academy",l=(t==null?void 0:t.is_verified)===!0,c=(e==null?void 0:e.id)!=null?String(e.id):null,u=c?`${$pe}_${c}`:null;m.useEffect(()=>{if(!(!i||!l||!u||s))try{localStorage.getItem(u)==="true"||n(!0)}finally{a(!0)}},[i,l,u,s]);const d=f=>{if(!f&&u)try{localStorage.setItem(u,"true")}catch{}n(f)};return i?o.jsx(Rs,{open:r,onOpenChange:d,children:o.jsxs(ms,{className:"sm:max-w-md rounded-3xl",children:[o.jsx($s,{children:o.jsx(Ms,{className:"sr-only",children:"Academy verified"})}),o.jsxs("div",{className:"flex flex-col items-center text-center py-4 px-2",children:[o.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/30",children:o.jsx(Di,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Congratulations!"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your academy is now verified. Learners can trust your profile and youll stand out on the platform."}),o.jsx(oe,{onClick:()=>d(!1),className:"min-w-[140px]",children:"Got it"})]})]})}):null}const kq="https://breneo-job-aggregator.up.railway.app",Ipe=`${kq}/api/search`,eN=`${kq}/api/v1/jobs/`,Lpe=e=>e.trim().toLowerCase(),Dpe=e=>{const t=e.trim().toUpperCase(),r=sn.find(n=>n.code.toUpperCase()===t);return(r==null?void 0:r.name)??e};let z4=0;const q4=1e3,EA=async(e,t)=>{const n=Date.now()-z4;if(n<q4){const s=q4-n;await new Promise(a=>setTimeout(a,s))}return z4=Date.now(),fetch(e,t)},W4=e=>{const t={id:String(e.id),job_id:String(e.id),title:e.title,job_title:e.title,company:e.company_name,company_logo:e.company_logo,companyLogo:e.company_logo,company_name:e.company_name,employer_name:e.company_name,location:e.location,job_location:e.location,description:e.description,job_description:e.description,apply_url:e.apply_url,job_apply_link:e.apply_url,url:e.apply_url,date_posted:e.posted_at||e.fetched_at,posted_date:e.posted_at||e.fetched_at,posted_at:e.posted_at||e.fetched_at,fetched_at:e.fetched_at,status:e.is_active?"active":"inactive"};return e.raw&&typeof e.raw=="object"&&!Array.isArray(e.raw)?{...t,...e.raw}:t},Fpe=e=>{const t=e.company,r=(t==null?void 0:t.name)||e.company_name||"Unknown Company",n=(t==null?void 0:t.logo)||e.company_logo||void 0;return{id:String(e.id??""),job_id:String(e.id??""),title:e.title||"",job_title:e.title||"",company:r,company_name:r,employer_name:r,company_logo:n,companyLogo:n,location:e.location||"",job_location:e.location||"",description:e.description||e.description_short||"",job_description:e.description||e.description_short||"",apply_url:e.apply_url||"",job_apply_link:e.apply_url||"",url:e.apply_url||"",date_posted:e.posted_at||e.fetched_at||"",posted_date:e.posted_at||e.fetched_at||"",posted_at:e.posted_at||e.fetched_at||"",fetched_at:e.fetched_at||"",status:"active",industry_tags:e.industry_tags||void 0,...e}},Bpe=async e=>{const{query:t,filters:r,page:n=1,pageSize:s=20}=e,a=new URLSearchParams;t&&t.trim()&&a.set("query",t.trim()),r.countries.length>0&&a.set("country",r.countries.map(Lpe).join(",")),r.skills.length>0&&a.set("title",r.skills.join(",")),r.workMode&&r.workMode.length>0?a.set("work_mode",r.workMode.map(h=>h.toLowerCase()).join(",")):r.isRemote&&a.set("work_mode","remote"),r.seniority&&r.seniority.length>0&&a.set("seniority",r.seniority.map(h=>h.toLowerCase()).join(",")),r.company&&r.company.length>0&&a.set("company",r.company.join(",")),r.datePosted&&r.datePosted!=="all"&&a.set("date_posted",r.datePosted),a.set("page",String(n)),a.set("num_pages",String(s)),a.set("sort","newest");const i=`${Ipe}?${a.toString()}`;console.log(" /api/search request:",i);const l=await EA(i,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!l.ok)throw new Error(`Search API ${l.status}: ${l.statusText}`);const c=await l.json(),u=c.results||[],d=c.pagination;return{jobs:u.map(Fpe),pagination:d?{page:d.page,current:d.page,num_pages:d.num_pages,total_pages:d.total_pages,total_results:d.total_results,total_items:d.total_results,has_next:d.has_next,has_previous:d.has_previous}:void 0}},s1=async e=>{const{query:t,filters:r,page:n=1,pageSize:s=20}=e,a=new URLSearchParams,i=r.countries.length>0||r.jobTypes.length>0||r.isRemote||r.datePosted||r.skills.length>0,l=t&&t.trim()?t.trim():"";if(l?a.set("search",l):i||a.set("search",""),a.set("page",String(n)),a.set("limit",String(s)),a.set("is_active","true"),console.log(` Fetching page ${n} with limit ${s}, query: "${l||"(empty - all jobs)"}", hasFilters: ${i})`),r.countries.length>0){const u=Dpe(r.countries[0]);a.set("location",u)}r.isRemote?a.set("work_mode","remote"):r.workMode&&r.workMode.length>0&&a.set("work_mode",r.workMode[0]),r.seniority&&r.seniority.length>0&&a.set("seniority",r.seniority[0]),r.company&&r.company.length>0&&a.set("company",r.company[0]),r.datePosted&&r.datePosted!=="all"&&a.set("date_posted",r.datePosted);const c=`${eN}?${a.toString()}`;console.log(" Full API Endpoint URL:",c),console.log(" Query Parameters:",Object.fromEntries(a.entries())),console.log(" Breneo Job API Request:",{filters:{countries:r.countries,jobTypes:r.jobTypes,isRemote:r.isRemote,datePosted:r.datePosted||"all",skills:r.skills,seniority:r.seniority,workMode:r.workMode,company:r.company},query:t,page:n});try{console.log(" Making API request to:",c);const u=await EA(c,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log(" API Response Status:",u.status,u.statusText),console.log(" API Response Headers:",{contentType:u.headers.get("content-type"),contentLength:u.headers.get("content-length")}),u.status===429)throw new Error("You have exceeded your API request limit. Please try again later.");if(!u.ok){let y=`Failed to fetch jobs: ${u.status} ${u.statusText}`;try{const x=await u.text();if(console.error(" API Error Response:",x),x)try{const b=JSON.parse(x);b.message?y=b.message:b.error&&(y=b.error),console.error(" API Error Details:",b)}catch{y=`${y} - ${x}`}}catch(x){console.error(" Could not read error response body:",x)}throw new Error(y)}const d=await u.text();console.log(" API Response text length:",d.length),console.log(" API Response text preview (first 500 chars):",d.substring(0,500));let f;try{f=JSON.parse(d)}catch(y){throw console.error(" Failed to parse API response as JSON:",y),console.error(" Full response text:",d),new Error(`Invalid JSON response from API: ${d.substring(0,200)}`)}console.log(" API Response parsed, type:",Array.isArray(f)?"Array":typeof f),console.log(" API Response preview:",{isArray:Array.isArray(f),hasResults:f&&typeof f=="object"&&"results"in f,keys:f&&typeof f=="object"?Object.keys(f):[],arrayLength:Array.isArray(f)?f.length:null,firstItem:Array.isArray(f)&&f.length>0?f[0]:null});let h=[],g;if(Array.isArray(f)){const y=f;if(console.log(` Received ${y.length} total jobs from API (legacy array format)`),y.length===0)return console.warn(" API returned empty array"),console.log(" Full API response:",JSON.stringify(f,null,2)),{jobs:[],pagination:void 0};const x=y.filter(b=>b.is_active!==!1);console.log(` ${x.length} active jobs after filtering`),h=x.map(W4),console.log(` Mapped ${h.length} jobs to ApiJob format`)}else if(f&&typeof f=="object"&&"results"in f){const y=f,x=y.results||[];if(console.log(` Received ${x.length} jobs from paginated API response`),console.log(" Pagination info:",y.pagination),console.log(" Applied filters:",y.filters),x.length===0)return console.warn(" API returned empty results array"),console.log(" Full API response:",JSON.stringify(f,null,2)),{jobs:[],pagination:y.pagination};g=y.pagination;const b=x.filter(w=>w.is_active!==!1);console.log(` ${b.length} active jobs after filtering`),h=b.map(W4),console.log(` Mapped ${h.length} jobs to ApiJob format`)}else throw console.error(" Unexpected API response format:",f),console.error(" Full response:",JSON.stringify(f,null,2)),new Error("Invalid response format from API - expected array of jobs or object with results array");if(h.length===0)return console.warn(" No jobs returned from API after processing"),console.warn(" This could mean:"),console.warn("  1. API returned empty array"),console.warn("  2. All jobs were filtered out (is_active = false)"),console.warn("  3. Response format doesn't match expected structure"),console.log(" Full API response:",JSON.stringify(f,null,2)),{jobs:[],pagination:g};console.log(` Starting frontend filtering for ${h.length} jobs`);const v=r.countries.length>0||r.jobTypes.length>0||r.isRemote||r.datePosted&&r.datePosted!=="all"||r.skills.length>0;let p=h;return r.jobTypes.length>0&&(p=p.filter(y=>{const x=(y.employment_type||y.job_employment_type||y.type||"").toUpperCase().replace(/[-\s]/g,"");return r.jobTypes.some(b=>{const w=b.toUpperCase().replace(/[-\s]/g,"");return x.includes(w)})})),console.log(" Breneo Job API Final Response:",{totalJobsFromAPI:h.length,afterFiltering:p.length,filters:{query:t||"(none)",countries:r.countries.length,jobTypes:r.jobTypes.length,isRemote:r.isRemote,skills:r.skills.length},sampleJob:p.length>0?{id:p[0].id||p[0].job_id,title:p[0].title||p[0].job_title,company:p[0].company||p[0].company_name}:null}),{jobs:p,pagination:g}}catch(u){throw console.error(" Error in fetchJobsFromBreneoAPI:",u),u instanceof TypeError&&u.message.includes("fetch")?(console.error(" Network error - API might be unreachable:",eN),new Error("Unable to connect to job API. Please check your internet connection and try again.")):u}},a1=async e=>{if(!e)throw new Error("Job ID is required");console.log(" Fetching job detail for ID:",e);const t="https://breneo-job-aggregator.up.railway.app/api/job-details",r=new URLSearchParams;r.set("job_id",e);const n=`${t}?${r.toString()}`;console.log(` Fetching job details from: ${n}`);try{const s=await EA(n,{method:"GET",headers:{"Content-Type":"application/json"}});if(s.status===429)throw new Error("You have exceeded your API request limit. Please try again later.");if(!s.ok){let c=`Failed to fetch job details: ${s.status} ${s.statusText}`;try{const u=await s.text();if(console.error("API Error Response:",u),u)try{const d=JSON.parse(u);d.message?c=d.message:d.error&&(c=d.error),console.error("API Error Details:",d)}catch{c=`${c} - ${u}`}}catch(u){console.error("Could not read error response body:",u)}throw new Error(c)}const a=await s.json();let i=null;if(Array.isArray(a)&&a.length>0)i=a[0];else if(a&&typeof a=="object")if("results"in a&&Array.isArray(a.results)){const c=a.results;c.length>0&&(i=c[0])}else if("data"in a){const c=a.data;c&&typeof c=="object"&&(i=c)}else i=a;if(!i)throw console.error(" Job not found or invalid response format:",a),new Error(`No job found with ID: ${e}`);console.log(" Found job:",{id:i.id,title:i.title,company:i.company_name});let l={id:String(i.id),job_id:String(i.id),title:i.title,job_title:i.title,company:i.company_name,company_logo:i.company_logo,companyLogo:i.company_logo,company_name:i.company_name,employer_name:i.company_name,location:i.location,job_location:i.location,description:i.description||"",job_description:i.description||"",apply_url:i.apply_url,job_apply_link:i.apply_url,url:i.apply_url,date_posted:i.posted_at||i.fetched_at,posted_date:i.posted_at||i.fetched_at,posted_at:i.posted_at||i.fetched_at,fetched_at:i.fetched_at};return i.raw&&typeof i.raw=="object"&&!Array.isArray(i.raw)&&(l={...l,...i.raw}),Object.keys(i).forEach(c=>{c in l||(l[c]=i[c])}),console.log(" Processed job detail:",l),l}catch(s){throw console.error(" Error fetching job details:",s),s instanceof TypeError&&s.message==="Failed to fetch"?new Error("Failed to connect to job details API. Please check your network connection."):s instanceof Error?s:new Error(`Failed to fetch job details: ${String(s)}`)}},My=async e=>{try{const t=[];e.query&&e.query.trim()&&t.push(e.query.trim()),e.filters.skills.length>0&&t.push(...e.filters.skills);const r=t.length>0?t.join(" "):"";let n;try{n=await Bpe({...e,query:r,filters:e.filters}),console.log(" Using /api/search")}catch(f){console.warn(" /api/search unavailable, falling back to /api/v1/jobs/",f),n=await s1({...e,query:r,filters:e.filters})}let s=n.jobs;e.filters.jobTypes.length>0&&(s=s.filter(f=>{const h=(f.employment_type||f.job_employment_type||f.type||"").toUpperCase().replace(/[-\s]/g,"");return e.filters.jobTypes.some(g=>{const v=g.toUpperCase().replace(/[-\s]/g,"");return h.includes(v)})}));const a=n.pagination,i=new Set,l=[];for(const f of s){const h=f.job_id||f.id||"";if(h&&!i.has(h))i.add(h),l.push(f);else if(!h){const g=`${f.job_title||f.title||""}_${f.employer_name||f.company_name||f.company||""}`;i.has(g)||(i.add(g),l.push(f))}}let c,u,d;if(a){c=l,d=a.total_results??a.total_items??l.length;const f=a.current??a.page??e.page??1,h=a.total_pages??a.num_pages??1;u=a.has_next??(f<h&&h>1),console.log(`Using API pagination: page ${f}/${h}, ${l.length} jobs, hasMore: ${u}, total: ${d}`)}else{const f=e.pageSize||20,h=e.page||1,g=(h-1)*f,v=g+f;c=l.slice(g,v),u=v<l.length,d=l.length,console.log(`Client-side pagination: Fetched ${l.length} unique jobs, showing ${c.length} on page ${h}`)}return c.length>0&&console.log("Sample job structure:",c[0]),{jobs:c,page:(a==null?void 0:a.page)??e.page??1,pageSize:e.pageSize||20,hasMore:u,total:d}}catch(t){throw console.error("Error fetching jobs:",t),t}},Upe=async e=>(await s1(e)).jobs,zpe=async e=>{try{return await My(e)}catch(t){throw console.error("Primary job source failed:",t),t}},tN=async(e="developer",t=1)=>{console.log(" Testing job fetch with:",{query:e,page:t});try{const n=await My({query:e,filters:{country:void 0,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:t,pageSize:50});return console.log(" Test fetch successful:",{jobsCount:n.jobs.length,hasMore:n.hasMore,total:n.total,firstJob:n.jobs[0]||null}),n}catch(r){throw console.error(" Test fetch failed:",r),r}},rN=async(e="developer",t=1,r=1)=>{console.log(" Testing direct API call with:",{query:e,page:t,numPages:r});const n=new URLSearchParams;n.set("query",e),n.set("page",String(t)),n.set("num_pages",String(r)),n.set("country","us"),n.set("date_posted","all");const s=`${eN}?${n.toString()}`;console.log(" API URL:",s);try{const a=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});console.log(" Response status:",a.status,a.statusText),console.log(" Response headers:",{contentType:a.headers.get("content-type"),contentLength:a.headers.get("content-length")});const i=await a.text();console.log(" Response text length:",i.length),console.log(" Response text preview:",i.substring(0,500));const l=JSON.parse(i);return console.log(" Parsed JSON:",{isArray:Array.isArray(l),type:typeof l,length:Array.isArray(l)?l.length:null,keys:typeof l=="object"&&l!==null?Object.keys(l):null,firstItem:Array.isArray(l)&&l.length>0?l[0]:null}),l}catch(a){throw console.error(" Direct API test failed:",a),a}};if(typeof window<"u"){const e=window;e.testFetchJobs=tN,e.testDirectAPI=rN,e.jobService={fetchActiveJobs:My,fetchJobDetail:a1,fetchJobsFromBreneoAPI:s1,testFetchJobs:tN,testDirectAPI:rN},console.log(" Job service test functions available:"),console.log("  - window.testFetchJobs(query, page) - Test through service layer"),console.log("  - window.testDirectAPI(query, page, numPages) - Test raw API endpoint"),console.log("  - window.jobService.fetchActiveJobs(params)"),console.log("  - window.jobService.fetchJobsFromBreneoAPI(params)")}const ui={fetchActiveJobs:My,fetchJobDetail:a1,fetchJobsFromBreneoAPI:s1,fetchJobsFromJSearch:Upe,fetchJobsFromMultipleSources:zpe,testFetchJobs:tN,testDirectAPI:rN},wm={fetchPlans:async()=>{try{return(await Se.get("/api/subscription-plans/")).data}catch(e){throw console.error("Error fetching subscription plans:",e),e}},createOrder:async e=>{try{return(await Se.post("/api/bog/create-order/",{plan_id:e})).data}catch(t){throw console.error("Error creating BOG order:",t),t}},saveCard:async(e,t)=>{try{return(await Se.post(`/api/bog/save-card/${e}/`,{plan_id:t})).data}catch(r){throw console.error(`Error saving card for order ${e}:`,r),r}},fetchSubscription:async()=>{try{return(await Se.get("/api/me/subscription/")).data}catch(e){throw console.error("Error fetching subscription:",e),e}},fetchPaymentHistory:async()=>{try{return(await Se.get("/api/me/payment-history/")).data}catch(e){throw console.error("Error fetching payment history:",e),e}}};function xr({className:e,...t}){return o.jsx("div",{className:le("animate-pulse rounded-md bg-muted",e),...t})}function qpe({isOpen:e,onClose:t}){const[r,n]=m.useState([]),[s,a]=m.useState(!0),[i,l]=m.useState(!1),[c,u]=m.useState(null);m.useEffect(()=>{if(!e)return;(async()=>{try{a(!0);const y=(await wm.fetchPlans()).map(x=>{let b=x.description;if(typeof b=="string"&&b.trim()!=="")try{b=JSON.parse(b)}catch{b=b.split(",").map(_=>({title:_.trim()})).filter(_=>_.title!=="")}else b=[];return{...x,description:b}});console.log("Loaded Subscription Plans:",y),n(y)}catch(p){console.error("Failed to fetch plans:",p),de.error("Failed to load subscription plans.")}finally{a(!1)}})()},[e]);const d=async v=>{l(!0),u(v);try{const p=await wm.createOrder(v),{redirect_url:y,order_id:x}=p;if(y&&x){localStorage.setItem("bog_order_id",x),localStorage.setItem("selected_plan_id",v.toString());try{await wm.saveCard(x,v)}catch(b){console.warn("Card registration intent failed, but continuing to payment:",b)}window.location.href=y}else throw new Error("Invalid response from payment server")}catch(p){console.error("Checkout failed:",p),de.error("Failed to initiate checkout. Please try again."),l(!1),u(null)}},f=v=>{const p=parseFloat(v.price);let y=p*2.5,x=60,b="month";return v.name.toLowerCase().includes("weekly")?(b="week",y=p*4,x=75):v.name.toLowerCase().includes("quarterly")&&(b="3 months",y=p*3,x=67),{price:p.toFixed(2),originalPrice:y.toFixed(2),savePercentage:x,period:b}},h=r.slice(0,3),g=()=>o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-10 max-w-5xl mx-auto",children:h.map(v=>{const p=f(v),y=v.name.toLowerCase().includes("quarterly"),x=v.name.toLowerCase().includes("plus"),b=Array.isArray(v.description)?v.description:[];return o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs(Oe,{className:`rounded-2xl border relative overflow-hidden flex flex-col bg-white dark:bg-[#242424] ${x?"border-breneo-blue dark:border-breneo-blue":"border-gray-100 dark:border-gray-800"}`,children:[o.jsxs("div",{className:"px-4 pt-4 pb-3 flex items-center gap-1 border-b border-gray-100 dark:border-gray-800",children:[o.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-gray-100 leading-tight",children:[v.name," Plan"]}),y&&o.jsx("span",{className:"text-base",children:""})]}),o.jsxs("div",{className:"px-4 pt-3 pb-4",children:[o.jsxs("div",{className:"text-gray-400 dark:text-gray-500 line-through text-sm font-medium",children:["",p.originalPrice,"/",p.period]}),o.jsxs("div",{className:"flex items-center flex-wrap gap-2 mt-1",children:[o.jsxs("div",{className:"flex items-baseline gap-1",children:[o.jsxs("span",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-100 tracking-tight",children:["",p.price]}),o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 font-bold text-sm",children:["/",p.period]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-[#01bfff] to-[#0088cc] text-white rounded-full px-3 py-1 text-[10px] font-black uppercase tracking-tight",children:["Save ",p.savePercentage,"%"]})]})]}),o.jsx("div",{className:"flex-grow"}),o.jsx(oe,{onClick:()=>d(v.id),disabled:i,variant:"default",className:"w-full rounded-none rounded-b-2xl",children:i&&c===v.id?o.jsx(bs,{className:"h-5 w-5 animate-spin"}):"Upgrade Now"})]}),o.jsx("div",{className:`rounded-xl border overflow-hidden bg-white dark:bg-[#242424] ${x?"border-breneo-blue dark:border-breneo-blue":"border-gray-100 dark:border-gray-800"}`,children:o.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:b.map((w,_)=>o.jsxs("div",{className:"px-3 py-2.5 flex items-center justify-between min-h-[44px]",children:[o.jsx("span",{className:"text-xs font-bold text-gray-800 dark:text-gray-200 pr-3",children:w.title}),w.badge&&o.jsx(Pt,{className:"bg-breneo-blue text-white hover:bg-breneo-blue font-bold text-[10px] px-2 border-0",children:w.badge})]},`${v.id}-${w.title}-${_}`))})})]},v.id)})});return o.jsx(Rs,{open:e,onOpenChange:t,children:o.jsxs(Hz,{children:[o.jsx(xA,{className:"bg-white/95 dark:bg-black/70 backdrop-blur-md z-[100] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 duration-150"}),o.jsx(ms,{className:"fixed inset-0 z-[101] w-full h-full max-w-none rounded-none border-none p-0 overflow-y-auto bg-[#F2F2F3] dark:bg-[#181818] shadow-none outline-none transform-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 data-[state=open]:zoom-in-100 data-[state=closed]:zoom-out-100 data-[state=open]:slide-in-from-top-[50%] data-[state=closed]:slide-out-to-top-[50%] duration-150",onInteractOutside:v=>v.preventDefault(),children:o.jsxs("div",{className:"w-full min-h-full pt-20 pb-20 px-4 sm:px-12 md:px-20 lg:px-32",children:[o.jsxs("div",{className:"text-center mb-16 px-4",children:[o.jsxs("h1",{className:"text-2xl md:text-3xl font-black text-gray-900 dark:text-gray-100 mb-4 tracking-tight",children:["Get 3x More Interviews"," ",o.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-bold",children:"For Less than 1 a day"})]}),o.jsxs("p",{className:"text-lg md:text-xl font-bold text-gray-500 dark:text-gray-400",children:["Interview-winning tools + live career coachingall in"," ",o.jsx("span",{className:"text-breneo-blue",children:"Breneo Pro"})]})]}),s?o.jsxs("div",{className:"max-w-6xl mx-auto space-y-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(xr,{className:"h-[400px] rounded-[32px]"}),o.jsx(xr,{className:"h-[400px] rounded-[32px]"}),o.jsx(xr,{className:"h-[400px] rounded-[32px]"})]}),o.jsx(xr,{className:"h-[500px] rounded-[32px]"})]}):o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx(g,{}),o.jsxs("div",{className:"mt-16 mb-12 max-w-6xl mx-auto bg-white dark:bg-[#242424] border border-gray-100 dark:border-gray-800 rounded-[24px] p-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[o.jsx("p",{className:"text-gray-800 dark:text-gray-100 text-xl font-bold italic text-center md:text-left leading-relaxed",children:`"Breneo Plus took me from 'just browsing' to signed offer in 21 daystotal game changer."`}),o.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-[#242424] p-4 rounded-2xl border border-gray-100 dark:border-gray-800 shrink-0",children:[o.jsx("img",{src:"/lovable-uploads/randomstudent.png",alt:"Rahul S.",className:"h-12 w-12 rounded-full border-2 border-white dark:border-gray-800 object-cover"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-black text-gray-900 dark:text-gray-100",children:"Rahul S."}),o.jsx("div",{className:"text-sm font-bold text-breneo-blue",children:"Software Engineer"})]})]})]}),o.jsx("div",{className:"h-12"})]})]})})]})})}function At({children:e,showSidebar:t=!0,showHeader:r=!0,background:n="default"}){const[s,a]=m.useState(!1),[i,l]=m.useState(!0),[c,u]=m.useState(!1),[d,f]=Sy(),h=m.useRef(null);m.useEffect(()=>{if(d.get("upgrade")==="true"){u(!0);const p=new URLSearchParams(d);p.delete("upgrade"),f(p,{replace:!0})}},[d,f]);const g=()=>{a(p=>!p)},v=()=>{u(!0)};return m.useEffect(()=>{const p=h.current;if(!p)return;const y=()=>{p.scrollTop>50?l(!1):l(!0)};return p.addEventListener("scroll",y),()=>{p.removeEventListener("scroll",y)}},[]),o.jsxs("div",{className:le("h-screen overflow-hidden",n==="white"?"bg-white":"bg-breneo-lightgray"),children:[t&&o.jsx(kA,{collapsed:s,toggleSidebar:g,onUpgradeClick:v}),r&&o.jsx(Rpe,{sidebarCollapsed:s,isVisible:i}),o.jsx("main",{ref:h,className:le("h-full overflow-y-auto transition-all duration-300",t&&(s?"md:ml-24":"md:ml-[17rem]"),r&&"pt-24 pb-32 md:pt-24 md:pb-0",(t||r)&&"px-2 md:px-6"),children:o.jsx("div",{className:"h-full",children:e})}),o.jsx(Mpe,{}),o.jsx(qpe,{isOpen:c,onClose:()=>u(!1)})]})}const na=m.forwardRef(({value:e,size:t=60,strokeWidth:r=3,className:n,showLabel:s=!0,matchLabel:a,percentageTextSize:i="lg",centerLabel:l},c)=>{const u=(t-r)/2,d=2*Math.PI*u,f=Math.max(0,Math.min(100,e)),h=d-f/100*d,g=a||(e>=70?"GOOD MATCH":"FAIR MATCH"),v={sm:"text-xs",md:"text-sm",lg:"text-lg",xl:"text-xl"};return o.jsxs("div",{ref:c,className:le("flex items-center gap-2",n),children:[s&&o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:g}),o.jsxs("div",{className:"relative",style:{width:t,height:t},children:[o.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",style:{overflow:"visible"},children:[o.jsx("circle",{cx:t/2,cy:t/2,r:u,fill:"none",stroke:"currentColor",strokeWidth:r,className:"text-gray-200/40 dark:text-gray-700/40"}),o.jsx("circle",{cx:t/2,cy:t/2,r:u,fill:"none",stroke:"currentColor",strokeWidth:r,strokeDasharray:d,strokeDashoffset:h,strokeLinecap:"round",className:"transition-all duration-500 ease-out"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("span",{className:le("font-bold text-gray-700 dark:text-gray-300",v[i]),children:l!==void 0?l:`${Math.round(e)}%`})})]})]})});na.displayName="RadialProgress";const Wpe="modulepreload",Vpe=function(e){return"/"+e},V4={},Iy=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Vpe(c),c in V4)return;V4[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Wpe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},Hpe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Iy(async()=>{const{default:n}=await Promise.resolve().then(()=>$h);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class NA extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Kpe extends NA{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Gpe extends NA{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ype extends NA{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nN||(nN={}));var Jpe=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Xpe{constructor(t,{headers:r={},customFetch:n,region:s=nN.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Hpe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Jpe(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(v=>{throw new Kpe(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Gpe(d);if(!d.ok)throw new Ype(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Os={},CA={},i1={},Ly={},o1={},l1={},Qpe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wf=Qpe();const Zpe=Wf.fetch,Eq=Wf.fetch.bind(Wf),Nq=Wf.Headers,eme=Wf.Request,tme=Wf.Response,$h=Object.freeze(Object.defineProperty({__proto__:null,Headers:Nq,Request:eme,Response:tme,default:Eq,fetch:Zpe},Symbol.toStringTag,{value:"Module"})),rme=DZ($h);var c1={};Object.defineProperty(c1,"__esModule",{value:!0});let nme=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};c1.default=nme;var Cq=ns&&ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l1,"__esModule",{value:!0});const sme=Cq(rme),ame=Cq(c1);let ime=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=sme.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c;let u=null,d=null,f=null,h=a.status,g=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const p=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await a.text();try{u=JSON.parse(p),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,g="OK")}catch{a.status===404&&p===""?(h=204,g="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new ame.default(u)}return{error:u,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};l1.default=ime;var ome=ns&&ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o1,"__esModule",{value:!0});const lme=ome(l1);let cme=class extends lme.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};o1.default=cme;var ume=ns&&ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ly,"__esModule",{value:!0});const dme=ume(o1);let fme=class extends dme.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ly.default=fme;var hme=ns&&ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i1,"__esModule",{value:!0});const Ep=hme(Ly);let pme=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Ep.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ep.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ep.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ep.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ep.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};i1.default=pme;var u1={},d1={};Object.defineProperty(d1,"__esModule",{value:!0});d1.version=void 0;d1.version="0.0.0-automated";Object.defineProperty(u1,"__esModule",{value:!0});u1.DEFAULT_HEADERS=void 0;const mme=d1;u1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${mme.version}`};var Pq=ns&&ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(CA,"__esModule",{value:!0});const gme=Pq(i1),yme=Pq(Ly),vme=u1;let xme=class Aq{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},vme.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new gme.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Aq(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new yme.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};CA.default=xme;var Mh=ns&&ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Os,"__esModule",{value:!0});Os.PostgrestError=Os.PostgrestBuilder=Os.PostgrestTransformBuilder=Os.PostgrestFilterBuilder=Os.PostgrestQueryBuilder=Os.PostgrestClient=void 0;const Tq=Mh(CA);Os.PostgrestClient=Tq.default;const Oq=Mh(i1);Os.PostgrestQueryBuilder=Oq.default;const Rq=Mh(Ly);Os.PostgrestFilterBuilder=Rq.default;const $q=Mh(o1);Os.PostgrestTransformBuilder=$q.default;const Mq=Mh(l1);Os.PostgrestBuilder=Mq.default;const Iq=Mh(c1);Os.PostgrestError=Iq.default;var bme=Os.default={PostgrestClient:Tq.default,PostgrestQueryBuilder:Oq.default,PostgrestFilterBuilder:Rq.default,PostgrestTransformBuilder:$q.default,PostgrestBuilder:Mq.default,PostgrestError:Iq.default};const{PostgrestClient:wme,PostgrestQueryBuilder:hGe,PostgrestFilterBuilder:pGe,PostgrestTransformBuilder:mGe,PostgrestBuilder:gGe,PostgrestError:yGe}=bme;let sN;typeof window>"u"?sN=require("ws"):sN=window.WebSocket;const _me=sN,Sme="2.11.10",jme={"X-Client-Info":`realtime-js/${Sme}`},kme="1.0.0",Lq=1e4,Eme=1e3;var cf;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(cf||(cf={}));var us;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(us||(us={}));var Ga;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ga||(Ga={}));var aN;(function(e){e.websocket="websocket"})(aN||(aN={}));var Wc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Wc||(Wc={}));class Nme{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Dq{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(jr||(jr={}));const H4=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,i)=>(a[i]=Cme(i,e,t,s),a),{})},Cme=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?Fq(a,i):iN(i)},Fq=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Ome(t,r)}switch(e){case jr.bool:return Pme(t);case jr.float4:case jr.float8:case jr.int2:case jr.int4:case jr.int8:case jr.numeric:case jr.oid:return Ame(t);case jr.json:case jr.jsonb:return Tme(t);case jr.timestamp:return Rme(t);case jr.abstime:case jr.date:case jr.daterange:case jr.int4range:case jr.int8range:case jr.money:case jr.reltime:case jr.text:case jr.time:case jr.timestamptz:case jr.timetz:case jr.tsrange:case jr.tstzrange:return iN(t);default:return iN(t)}},iN=e=>e,Pme=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ame=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Tme=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ome=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>Fq(t,l))}return e},Rme=e=>typeof e=="string"?e.replace(" ","T"):e,Bq=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class IS{constructor(t,r,n={},s=Lq){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var K4;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(K4||(K4={}));class _m{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_m.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=_m.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_m.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=a[u];if(f){const h=d.map(y=>y.presence_ref),g=f.map(y=>y.presence_ref),v=d.filter(y=>g.indexOf(y.presence_ref)<0),p=f.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(l[u]=v),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var G4;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(G4||(G4={}));var Y4;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Y4||(Y4={}));var mo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mo||(mo={}));class PA{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=us.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new IS(this,Ga.join,this.params,this.timeout),this.rejoinTimer=new Dq(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=us.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=us.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=us.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=us.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ga.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new _m(this),this.broadcastEndpointURL=Bq(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(mo.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(mo.CLOSED));const c={},u={broadcast:a,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(mo.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let p=0;p<g;p++){const y=h[p],{filter:{event:x,schema:b,table:w,filter:_}}=y,S=d&&d[p];if(S&&S.event===x&&S.schema===b&&S.table===w&&S.filter===_)v.push(Object.assign(Object.assign({},y),{id:S.id}));else{this.unsubscribe(),this.state=us.errored,t==null||t(mo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(mo.SUBSCRIBED);return}}).receive("error",d=>{this.state=us.errored,t==null||t(mo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=us.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ga.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new IS(this,Ga.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new IS(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ga;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,p,y;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(p=g.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(g=>g.callback(h,n)):(a=this.bindings[i])===null||a===void 0||a.filter(g=>{var v,p,y,x,b,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const _=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(b=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:p,table:y,commit_timestamp:x,type:b,errors:w}=v;h=Object.assign(Object.assign({},{schema:p,table:y,commit_timestamp:x,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(v))}g.callback(h,n)})}_isClosed(){return this.state===us.closed}_isJoined(){return this.state===us.joined}_isJoining(){return this.state===us.joining}_isLeaving(){return this.state===us.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&PA.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ga.close,{},t)}_onError(t){this._on(Ga.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=us.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=H4(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=H4(t.columns,t.old_record)),r}}const J4=()=>{},$me=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mme{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=jme,this.params={},this.timeout=Lq,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=J4,this.ref=0,this.logger=J4,this.conn=null,this.sendBuffer=[],this.serializer=new Nme,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...l)=>Iy(async()=>{const{default:c}=await Promise.resolve().then(()=>$h);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${aN.websocket}`,this.httpEndpoint=Bq(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,i)=>i(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Dq(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=_me),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Ime(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kme}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cf.connecting:return Wc.Connecting;case cf.open:return Wc.Open;case cf.closing:return Wc.Closing;default:return Wc.Closed}}isConnected(){return this.connectionState()===Wc.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new PA(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Ga.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Eme,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:i}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,a,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ga.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([$me],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Ime{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=cf.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class AA extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function An(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Lme extends AA{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class oN extends AA{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Dme=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Uq=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Iy(async()=>{const{default:n}=await Promise.resolve().then(()=>$h);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Fme=()=>Dme(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Iy(()=>Promise.resolve().then(()=>$h),void 0)).Response:Response}),lN=e=>{if(Array.isArray(e))return e.map(r=>lN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=lN(n)}),t};var Yu=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const LS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Bme=(e,t,r)=>Yu(void 0,void 0,void 0,function*(){const n=yield Fme();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Lme(LS(s),e.status||500))}).catch(s=>{t(new oN(LS(s),s))}):t(new oN(LS(e),e))}),Ume=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Dy(e,t,r,n,s,a){return Yu(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,Ume(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>Bme(c,l,n))})})}function Kx(e,t,r,n){return Yu(this,void 0,void 0,function*(){return Dy(e,"GET",t,r,n)})}function yl(e,t,r,n,s){return Yu(this,void 0,void 0,function*(){return Dy(e,"POST",t,n,s,r)})}function zme(e,t,r,n,s){return Yu(this,void 0,void 0,function*(){return Dy(e,"PUT",t,n,s,r)})}function qme(e,t,r,n){return Yu(this,void 0,void 0,function*(){return Dy(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function zq(e,t,r,n,s){return Yu(this,void 0,void 0,function*(){return Dy(e,"DELETE",t,n,s,r)})}var ks=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Wme={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},X4={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vme{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Uq(s)}uploadOrUpdate(t,r,n,s){return ks(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},X4),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(An(a))return{data:null,error:a};throw a}})}upload(t,r,n){return ks(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ks(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:X4.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(An(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ks(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield yl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new AA("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(An(n))return{data:null,error:n};throw n}})}update(t,r,n){return ks(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ks(this,void 0,void 0,function*(){try{return{data:yield yl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(An(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ks(this,void 0,void 0,function*(){try{return{data:{path:(yield yl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(An(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ks(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield yl(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(An(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ks(this,void 0,void 0,function*(){try{const s=yield yl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(An(s))return{data:null,error:s};throw s}})}download(t,r){return ks(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Kx(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(An(l))return{data:null,error:l};throw l}})}info(t){return ks(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Kx(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:lN(n),error:null}}catch(n){if(An(n))return{data:null,error:n};throw n}})}exists(t){return ks(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield qme(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(An(n)&&n instanceof oN){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ks(this,void 0,void 0,function*(){try{return{data:yield zq(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(An(r))return{data:null,error:r};throw r}})}list(t,r,n){return ks(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Wme),r),{prefix:t||""});return{data:yield yl(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(An(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Hme="2.7.1",Kme={"X-Client-Info":`storage-js/${Hme}`};var ld=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Gme{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Kme),r),this.fetch=Uq(n)}listBuckets(){return ld(this,void 0,void 0,function*(){try{return{data:yield Kx(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(An(t))return{data:null,error:t};throw t}})}getBucket(t){return ld(this,void 0,void 0,function*(){try{return{data:yield Kx(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(An(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ld(this,void 0,void 0,function*(){try{return{data:yield yl(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(An(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ld(this,void 0,void 0,function*(){try{return{data:yield zme(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(An(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ld(this,void 0,void 0,function*(){try{return{data:yield yl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(An(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ld(this,void 0,void 0,function*(){try{return{data:yield zq(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(An(r))return{data:null,error:r};throw r}})}}class Yme extends Gme{constructor(t,r={},n){super(t,r,n)}from(t){return new Vme(this.url,this.headers,t,this.fetch)}}const Jme="2.50.0";let em="";typeof Deno<"u"?em="deno":typeof document<"u"?em="web":typeof navigator<"u"&&navigator.product==="ReactNative"?em="react-native":em="node";const Xme={"X-Client-Info":`supabase-js-${em}/${Jme}`},Qme={headers:Xme},Zme={schema:"public"},ege={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tge={};var rge=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const nge=e=>{let t;return e?t=e:typeof fetch>"u"?t=Eq:t=fetch,(...r)=>t(...r)},sge=()=>typeof Headers>"u"?Nq:Headers,age=(e,t,r)=>{const n=nge(r),s=sge();return(a,i)=>rge(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var ige=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function oge(e){return e.endsWith("/")?e:e+"/"}function lge(e,t){var r,n;const{db:s,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>ige(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const qq="2.70.0",Ed=30*1e3,cN=3,DS=cN*Ed,cge="http://localhost:9999",uge="supabase.auth.token",dge={"X-Client-Info":`gotrue-js/${qq}`},uN="X-Supabase-Api-Version",Wq={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fge=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hge=6e5;class TA extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ot(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class pge extends TA{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function mge(e){return Ot(e)&&e.name==="AuthApiError"}class Vq extends TA{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class yc extends TA{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ul extends yc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gge(e){return Ot(e)&&e.name==="AuthSessionMissingError"}class zv extends yc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qv extends yc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Wv extends yc{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yge(e){return Ot(e)&&e.name==="AuthImplicitGrantRedirectError"}class Q4 extends yc{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dN extends yc{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function FS(e){return Ot(e)&&e.name==="AuthRetryableFetchError"}class Z4 extends yc{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Sm extends yc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eI=` 	
\r=`.split(""),vge=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<eI.length;t+=1)e[eI[t].charCodeAt(0)]=-2;for(let t=0;t<Gx.length;t+=1)e[Gx[t].charCodeAt(0)]=t;return e})();function tI(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Gx[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Gx[n]),t.queuedBits-=6}}function Hq(e,t,r){const n=vge[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rI(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{wge(i,n,r)};for(let i=0;i<e.length;i+=1)Hq(e.charCodeAt(i),s,a);return t.join("")}function xge(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function bge(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}xge(n,t)}}function wge(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function _ge(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Hq(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Sge(e){const t=[];return bge(e,r=>t.push(r)),new Uint8Array(t)}function jge(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>tI(s,r,n)),tI(null,r,n),t.join("")}function kge(e){return Math.round(Date.now()/1e3)+e}function Ege(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const za=()=>typeof window<"u"&&typeof document<"u",Ac={tested:!1,writable:!1},jm=()=>{if(!za())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ac.tested)return Ac.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ac.tested=!0,Ac.writable=!0}catch{Ac.tested=!0,Ac.writable=!1}return Ac.writable};function Nge(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Kq=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Iy(async()=>{const{default:n}=await Promise.resolve().then(()=>$h);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Cge=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gq=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Vv=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Hv=async(e,t)=>{await e.removeItem(t)};class f1{constructor(){this.promise=new f1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}f1.promiseConstructor=Promise;function BS(e){const t=e.split(".");if(t.length!==3)throw new Sm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!fge.test(t[n]))throw new Sm("JWT not in base64url format");return{header:JSON.parse(rI(t[0])),payload:JSON.parse(rI(t[1])),signature:_ge(t[2]),raw:{header:t[0],payload:t[1]}}}async function Pge(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Age(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function Tge(e){return("0"+e.toString(16)).substr(-2)}function Oge(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Tge).join("")}async function Rge(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function $ge(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Rge(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cd(e,t,r=!1){const n=Oge();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Gq(e,`${t}-code-verifier`,s);const a=await $ge(n);return[a,n===a?"plain":"s256"]}const Mge=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ige(e){const t=e.headers.get(uN);if(!t||!t.match(Mge))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Lge(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Dge(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fge=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ud(e){if(!Fge.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Bge=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Ic=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Uge=[502,503,504];async function nI(e){var t;if(!Cge(e))throw new dN(Ic(e),0);if(Uge.includes(e.status))throw new dN(Ic(e),e.status);let r;try{r=await e.json()}catch(a){throw new Vq(Ic(a),a)}let n;const s=Ige(e);if(s&&s.getTime()>=Wq["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Z4(Ic(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ul}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new Z4(Ic(r),e.status,r.weak_password.reasons);throw new pge(Ic(r),e.status||500,n)}const zge=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function zt(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[uN]||(a[uN]=Wq["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await qge(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function qge(e,t,r,n,s,a){const i=zge(t,n,s,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new dN(Ic(c),0)}if(l.ok||await nI(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await nI(c)}}function co(e){var t;let r=null;Kge(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=kge(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function sI(e){const t=co(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Wge(e){return{data:e,error:null}}function Vge(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=Bge(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Hge(e){return e}function Kge(e){return e.access_token&&e.refresh_token&&e.expires_in}const US=["global","local","others"];var Gge=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Yge{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Kq(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=US[0]){if(US.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${US.join(", ")}`);try{return await zt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await zt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wl})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Gge(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await zt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Vge,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ot(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await zt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wl})}catch(r){if(Ot(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await zt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Hge});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ot(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ud(t);try{return await zt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wl})}catch(r){if(Ot(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ud(t);try{return await zt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:wl})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ud(t);try{return await zt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:wl})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ud(t.userId);try{const{data:r,error:n}=await zt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ud(t.userId),ud(t.id);try{return{data:await zt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}}const Jge={getItem:e=>jm()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{jm()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{jm()&&globalThis.localStorage.removeItem(e)}};function aI(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Xge(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dd={debug:!!(globalThis&&jm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yq extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Qge extends Yq{}async function Zge(e,t,r){dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),dd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Qge(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(dd.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Xge();const eye={url:cge,storageKey:uge,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dge,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function iI(e,t,r){return await r()}class gg{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gg.nextInstanceID,gg.nextInstanceID+=1,this.instanceID>0&&za()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},eye),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Yge({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Kq(s.fetch),this.lock=s.lock||iI,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:za()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Zge:this.lock=iI,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:jm()?this.storage=Jge:(this.memoryStorage={},this.storage=aI(this.memoryStorage)):(this.memoryStorage={},this.storage=aI(this.memoryStorage)),za()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qq}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Nge(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),za()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),yge(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ot(r)?{error:r}:{error:new Vq("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:co}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ot(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await cd(this.storage,this.storageKey)),a=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:co})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:co})}else throw new qv("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ot(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sI})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sI})}else throw new qv("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new zv}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,i,l,c,u,d,f,h,g;let v,p;if("message"in t)v=t.message,p=t.signature;else{const{chain:y,wallet:x,statement:b,options:w}=t;let _;if(za())if(typeof x=="object")_=x;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let k;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")k=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)k=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),p=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=E}}try{const{data:y,error:x}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:jge(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:co});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new zv}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(Ot(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Vv(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:co});if(await Hv(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new zv}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(Ot(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,l=await zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:co}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new zv}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await cd(this.storage,this.storageKey));const{error:f}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new qv("You must provide either an email or phone number.")}catch(l){if(Ot(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await zt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:co});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ot(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await cd(this.storage,this.storageKey)),await zt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:Wge})}catch(a){if(Ot(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ul;const{error:s}=await zt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ot(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await zt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:l}=await zt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new qv("You must provide either an email or phone number and a type")}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Vv(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<DS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wl}):await this._useSession(async r=>{var n,s,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ul}:await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:wl})})}catch(r){if(Ot(r))return gge(r)&&(await this._removeSession(),await Hv(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new ul;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await cd(this.storage,this.storageKey));const{data:u,error:d}=await zt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:wl});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ul;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=BS(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Ot(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ul;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!za())throw new Wv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Q4("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Q4("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new Wv("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const g=h-d;g*1e3<=Ed&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:p,error:y}=await this._getUser(a);if(y)throw y;const x={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(Ot(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Vv(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(mge(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Hv(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Ege(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await cd(this.storage,this.storageKey,!0));try{return await zt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Ot(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await zt(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return za()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ot(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await zt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Age(async s=>(s>0&&await Pge(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await zt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:co})),(s,a)=>{const i=200*Math.pow(2,s);return a&&FS(a)&&Date.now()+i-n<Ed})}catch(n){if(this._debug(r,"error",n),Ot(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),za()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Vv(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<DS;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${DS}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),FS(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ul;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new f1;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new ul;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Ot(a)){const i={session:null,error:a};return FS(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Gq(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Hv(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&za()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ed);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Ed);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ed}ms, refresh threshold is ${cN} ticks`),s<=cN&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yq)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!za()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await cd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await zt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await zt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:i,error:l}=await zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=BS(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+hge>Date.now()))return n;const{data:s,error:a}=await zt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Sm("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new Sm("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};n=g.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=BS(n);if(Lge(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:a,header:s,signature:i},error:null}}const u=Dge(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,Sge(`${l}.${c}`)))throw new Sm("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}}gg.nextInstanceID=0;const tye=gg;class rye extends tye{constructor(t){super(t)}}var nye=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class sye{constructor(t,r,n){var s,a,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=oge(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Zme,realtime:tge,auth:Object.assign(Object.assign({},ege),{storageKey:u}),global:Qme},f=lge(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=age(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new wme(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Xpe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Yme(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return nye(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rye({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Mme(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const aye=(e,t,r)=>new sye(e,t,r),iye="https://kwvpfetgerukuglqeuzl.supabase.co",oye="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt3dnBmZXRnZXJ1a3VnbHFldXpsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNDYzNjEsImV4cCI6MjA2NTgyMjM2MX0.oQNRxz5hNqp_YVkIJ0KOtVSgAksQ0km6iESqiWI8wHw",Yt=aye(iye,oye),Ih=async e=>{const t=String(e),r=[vm(t),t],n=parseInt(t,10);!isNaN(n)&&n.toString()===t&&r.push(vm(n)),console.log(" getUserTestAnswers - Trying variants:",{originalUserId:e,userIdStr:t,variants:r});for(const s of r)try{const{data:a,error:i}=await Yt.from("usertestanswers").select("*").eq("userid",s).order("answeredat",{ascending:!0});if(i){console.warn(` Error fetching with variant ${s}:`,i.message);continue}if(a&&a.length>0)return console.log(` Found ${a.length} test answers for user ${s}`),a;console.log(` No answers found for variant ${s}`)}catch(a){console.warn(` Exception with variant ${s}:`,a);continue}try{const{data:{user:s}}=await Yt.auth.getUser();if(s){console.log(" Trying with auth user ID:",s.id);const{data:a,error:i}=await Yt.from("usertestanswers").select("*").eq("userid",s.id).order("answeredat",{ascending:!0});if(!i&&a&&a.length>0)return console.log(` Found ${a.length} test answers using auth user ID`),a}}catch(s){console.warn(" Could not get auth user:",s)}return console.log(" No test answers found with any variant"),[]},Lh=e=>{const t={};return!e||!Array.isArray(e)?(console.error("Invalid answers array:",e),t):(e.forEach(r=>{const n=r.relatedSkills||r.relatedskills||[];Array.isArray(n)&&n.forEach(s=>{s&&typeof s=="string"&&(t[s]=(t[s]||0)+1)})}),t)},h1=(e,t=3)=>Object.entries(e).sort(([,r],[,n])=>n-r).slice(0,t).map(([r,n])=>({skill:r,score:n})),yg=e=>{const t=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"];return e.filter(r=>{const n=r.toLowerCase().trim();return!t.some(s=>n.includes(s)||s.includes(n))})},lye=Ze.AUTH.PROFILE,cye=Ze.AUTH.PROFILE,bn={async getProfile(){const{data:e}=await Se.get(lye);return e},async updateProfile(e){const{data:t}=await Se.patch(cye,e);return t},async getEducations(){const{data:e}=await Se.get(Ze.EDUCATIONS);return Array.isArray(e)?e:(e==null?void 0:e.results)??(e==null?void 0:e.items)??[]},async createEducation(e){const{data:t}=await Se.post(Ze.EDUCATIONS,e);return t},async getEducation(e){const{data:t}=await Se.get(`${Ze.EDUCATIONS}${e}/`);return t},async updateEducation(e,t){const{data:r}=await Se.patch(`${Ze.EDUCATIONS}${e}/`,t);return r},async deleteEducation(e){await Se.delete(`${Ze.EDUCATIONS}${e}/`)},async getWorkExperiences(){const{data:e}=await Se.get(Ze.WORK_EXPERIENCES);return Array.isArray(e)?e:(e==null?void 0:e.results)??(e==null?void 0:e.items)??[]},async createWorkExperience(e){const{data:t}=await Se.post(Ze.WORK_EXPERIENCES,e);return t},async getWorkExperience(e){const{data:t}=await Se.get(`${Ze.WORK_EXPERIENCES}${e}/`);return t},async updateWorkExperience(e,t){const{data:r}=await Se.patch(`${Ze.WORK_EXPERIENCES}${e}/`,t);return r},async deleteWorkExperience(e){await Se.delete(`${Ze.WORK_EXPERIENCES}${e}/`)},async getMySkills(){const{data:e}=await Se.get(Ze.ME.SKILLS);return Array.isArray(e)?e:(e==null?void 0:e.results)??(e==null?void 0:e.items)??[]},async getIndustryProfile(){const{data:e}=await Se.get(Ze.ME.INDUSTRY_PROFILE),t=e;if(!t||typeof t!="object")return{};const r=t.industry_years??t.industry_years_json;return r&&typeof r=="object"?r:{}},async addSkill(e){const{data:t}=await Se.post(Ze.ME.SKILLS,{name:e});return t},async removeSkill(e){await Se.delete(`${Ze.ME.SKILLS}${e}/`)},async searchSkills(e){if(!e.trim())return[];const{data:t}=await Se.get(Ze.SKILLS_SEARCH,{params:{query:e.trim()}});return Array.isArray(t)?t:(t==null?void 0:t.results)??(t==null?void 0:t.items)??[]}},oI={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]},OA=e=>{if(!e)return[];const t=[],n=[e.title,e.job_title,e.position,e.description,e.job_description,e.job_required_experience,e.required_experience,...Array.isArray(e.required_skills)?e.required_skills:[],...Array.isArray(e.skills)?e.skills:[],...Array.isArray(e.job_skills)?e.job_skills:[]].filter(a=>typeof a=="string"&&a.length>0).join(" ").toLowerCase();return Object.keys(oI).forEach(a=>{oI[a].some(l=>n.includes(l.toLowerCase()))&&t.push(a)}),[...Array.isArray(e.required_skills)?e.required_skills:[],...Array.isArray(e.skills)?e.skills:[],...Array.isArray(e.job_skills)?e.job_skills:[]].filter(a=>typeof a=="string").forEach(a=>{t.includes(a.toLowerCase())||t.push(a.toLowerCase())}),[...new Set(t)]},km=e=>e.toLowerCase().trim().replace(/\s+/g," "),uye=(e,t)=>{const r=km(e),n=km(t);if(r===n)return"exact";const s=3;if(r.length>=s&&n.length>=s&&(r.includes(n)||n.includes(r))){const a=r.length<n.length?r:n,i=r.length>=n.length?r:n;if(a.length>=s||a.length/i.length>=.5)return"partial"}return null},dye=(e,t,r)=>{const n=e.map(km),s=t.map(km),a=r?km(r):"",i=[],l=[],c=[],u=[];return n.forEach(d=>{a&&(a.includes(d)?c.includes(d)||c.push(d):a.split(/\s+/).some(g=>g.includes(d)||d.includes(g))&&!c.includes(d)&&c.push(d))}),n.forEach(d=>{let f=!1,h=null;for(const g of s){const v=uye(d,g);if(v){f=!0,h=v;break}}f&&h&&(h==="exact"?i.includes(d)||i.push(d):l.includes(d)||l.push(d),c.includes(d)||u.includes(d)||u.push(d))}),{exactMatches:i,partialMatches:l,titleMatches:c,descriptionMatches:u}},fye=(e,t,r)=>{if(e.length===0||t.length===0&&!r)return 0;const n=dye(e,t,r);if(n.exactMatches.length===0&&n.partialMatches.length===0&&n.titleMatches.length===0)return 0;const s={exactMatch:1,partialMatch:.6,titleMatch:1.2,descriptionMatch:1};let a=0,i=0;n.exactMatches.forEach(y=>{const b=n.titleMatches.includes(y)?s.exactMatch*s.titleMatch:s.exactMatch*s.descriptionMatch;a+=b,i+=s.exactMatch*s.titleMatch}),n.partialMatches.forEach(y=>{const b=n.titleMatches.includes(y)?s.partialMatch*s.titleMatch:s.partialMatch*s.descriptionMatch;a+=b,i+=s.partialMatch*s.titleMatch});const l=t.length||1,u=new Set([...n.exactMatches,...n.partialMatches]).size/l*100,d=e.length,h=new Set([...n.exactMatches,...n.partialMatches]).size/d*100;let p=(i>0?a/i*100:0)*.5+u*.3+h*.2;if(n.titleMatches.length>0){const y=Math.min(n.titleMatches.length/d*15,15);p=Math.min(p+y,100)}return t.length===0&&n.titleMatches.length>0&&(p=Math.min(n.titleMatches.length/d*100,75)),Math.round(Math.min(Math.max(p,0),100))},gu=e=>e===void 0||e<=0?"Bad match":e>=95?"Excellent match":e>=85?"Best match":e>=70?"Good match":e>=50?"Fair match":"Bad match",hye={"financial services":"fintech",finance:"fintech",fs:"fintech",banking:"banking",payments:"payments","e commerce":"e-commerce",ecommerce:"e-commerce",retail:"retail",insurance:"insurance","enterprise software":"enterprise software",saas:"saas","software as a service":"saas",medtech:"medtech","medical technology":"medtech",pharma:"pharma",pharmaceutical:"pharma",healthcare:"healthcare","health care":"healthcare",marketplace:"marketplace","market place":"marketplace",technology:"technology",tech:"technology",software:"technology",cloud:"cloud","cloud computing":"cloud",design:"design","ui/ux":"design",marketing:"marketing",sales:"sales",hr:"hr","human resources":"hr","customer service":"customer service",consulting:"consulting",content:"content"},pye={fintech:["banking","insurance","payments"],banking:["fintech","payments"],payments:["fintech","banking"],"e-commerce":["retail","marketplace"],retail:["e-commerce","marketplace"],marketplace:["e-commerce","retail"],healthcare:["medtech","pharma"],medtech:["healthcare","pharma"],pharma:["healthcare","medtech"],technology:["saas","cloud","design"],saas:["technology","enterprise software"],"enterprise software":["saas","technology"],cloud:["technology"],design:["technology","content"],marketing:["sales","content"],sales:["marketing"],content:["design","marketing"]};function mye(e){if(e==null||typeof e!="string")return[];const t=e.trim();if(!t)return[];const n=t.split(",").map(s=>s.trim().toLowerCase().replace(/\s+/g," ")).filter(Boolean).map(s=>hye[s]??s).filter(Boolean);return[...new Set(n)]}function Kv(e){return e&&e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function lI(e,t,r){return Math.min(r,Math.max(t,e))}function gye(e,t){const r=e.filter(Boolean),n=t;if(r.length===0)return{percent:null,reasons:["Job industry not provided"],matchedExact:[],matchedRelated:[],missing:[],isNa:!0};const s=[],a=[],i=[],l=[];let c=0;for(const d of r){const f=d.trim().toLowerCase();let h,g;if(n[f]!=null&&n[f]>0)h=1,g=n[f],s.push({tag:f,years:g});else{const x=(pye[f]??[]).find(b=>n[b]!=null&&n[b]>0);x?(h=.5,g=n[x],a.push({jobTag:f,matchedVia:x,years:g})):(h=0,g=0,i.push(f))}const v=lI(g/5,0,1)*.2,p=lI(h+v,0,1);c+=p}const u=Math.round(c/r.length*100);return s.length&&s.forEach(({tag:d,years:f})=>{l.push(`Exact match: ${Kv(d)} (${f.toFixed(1)} yrs)`)}),a.length&&a.forEach(({jobTag:d,matchedVia:f,years:h})=>{l.push(`Related match: ${Kv(d)} via ${Kv(f)} (${h.toFixed(1)} yrs)`)}),i.length&&i.forEach(d=>{l.push(`No match: ${Kv(d)}`)}),{percent:u,reasons:l,matchedExact:s,matchedRelated:a,missing:i,isNa:!1}}const Jq={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]},Yx={};for(const e of Object.keys(Jq)){const t=e.toLowerCase().trim();Yx[t]=e}for(const[e,t]of Object.entries(Jq))for(const r of t){const n=r.toLowerCase().trim();n in Yx||(Yx[n]=e)}function pn(e){const t=e.toLowerCase().trim().replace(/\s+/g," ");return Yx[t]??t}const Jx={intern:0,junior:1,mid:2,senior:3,lead:4,unknown:null};function cI(e){if(!e||typeof e!="string")return null;const t=e.toLowerCase().trim();return t in Jx&&Jx[t]!==null?t:/\bintern\b/.test(t)?"intern":/\bjunior\b|\bentry\b/.test(t)?"junior":/\bmid\b|\bmiddle\b|\bintermediate\b/.test(t)?"mid":/\bsenior\b/.test(t)?"senior":/\blead\b|\bprincipal\b|\bstaff\b/.test(t)?"lead":null}function yye(e){if(!e||typeof e!="string")return null;const t=e.trim(),r=t.match(/(\d+)\s*[-]\s*\d+/);if(r)return parseInt(r[1],10);const n=t.match(/(\d+)\s*\+/);if(n)return parseInt(n[1],10);const s=t.match(/\b(\d+)\s*(?:year|yr|y\.?)?s?\b/i);return s?parseInt(s[1],10):null}const vye={engineering:["Technology","Software"],software:["Technology","Software"],"data science":["Technology","Data & Analytics"],"product management":["Product","Technology"],design:["Design","Creative"],marketing:["Marketing","Advertising"],sales:["Sales","Business Development"],finance:["Finance","FinTech"],healthcare:["Healthcare"],"customer support":["Customer Service"],operations:["Operations"]};function xye(e,t,r){const n=[],s=(t||"").trim();s&&s.split(/[,;|/]/).forEach(l=>{const c=l.trim();c&&n.push(c)});const a=(e||"").toLowerCase();for(const[l,c]of Object.entries(vye))a.includes(l)&&c.forEach(u=>{n.includes(u)||n.push(u)});const i=(r||"").toLowerCase();return(i.includes("fintech")||i.includes("finance"))&&(n.includes("FinTech")||n.push("FinTech")),(i.includes("e-commerce")||i.includes("ecommerce"))&&(n.includes("E-commerce")||n.push("E-commerce")),[...new Set(n)]}function fN(e){const t=e,r=t.required_skills??t.skills??t.job_skills??[],n=Array.isArray(r)?r.filter(_=>typeof _=="string"):typeof r=="string"?r.split(/[,;]/).map(_=>_.trim()).filter(Boolean):[],s=OA(e),a=[...new Set([...n.map(pn),...s.map(pn)])],i=t.skills_preferred??t.skillsPreferred,l=Array.isArray(i)?i.filter(_=>typeof _=="string"):[],c=[...new Set(l.map(pn))],u=t.tech_stack??t.techStack,d=Array.isArray(u)?u.filter(_=>typeof _=="string"):[],f=d.length>0?[...new Set(d.map(pn))]:[...new Set(s.map(pn))],h=t.seniority??e.job_required_experience??e.required_experience;let g=cI(h);!g&&(e.title||e.job_title)&&(g=cI(e.title||e.job_title));const v=t.role_category??t.roleCategory??e.job_category??e.category??e.industry??e.job_industry??"",p=typeof t.min_years_experience=="number"?t.min_years_experience:typeof t.minYearsExperience=="number"?t.minYearsExperience:yye(e.job_required_experience??e.required_experience),y=t.languages_required??t.languagesRequired,x=Array.isArray(y)?y.filter(_=>typeof _=="string"):typeof y=="string"?y.split(/[,;]/).map(_=>_.trim()).filter(Boolean):[],b=e.industry??e.job_industry,w=xye(v,b,e.title??e.job_title);return{skillsRequired:a,skillsPreferred:c,seniority:g??null,roleCategory:v,minYearsExperience:p,languagesRequired:x,techStack:f,industryTags:w}}const zS={required:.7,preferred:.2,stack:.1},fd=6;function bye(e,t){const r=new Set([...t.userSkills.map(pn),...(t.techStackExperience||[]).map(pn)]),n=[...new Set(e.skillsRequired.map(pn))],s=[...new Set(e.skillsPreferred.map(pn))],a=[...new Set(e.techStack.map(pn))];let i=null,l=null,c=null,u=0;const d=[],f=[];if(n.length>0){for(const w of n)r.has(w)?(u++,d.push(w)):f.push(w);i=u/n.length}let h=0;const g=[];if(s.length>0){for(const w of s)r.has(w)&&(h++,g.push(w));l=h/s.length}a.length>0&&(c=a.filter(_=>r.has(_)).length/a.length);const v=[];i!==null&&v.push({w:zS.required,v:i}),l!==null&&v.push({w:zS.preferred,v:l}),c!==null&&v.push({w:zS.stack,v:c});let p=null;if(v.length>0){const w=v.reduce((S,E)=>S+E.w,0),_=v.reduce((S,E)=>S+E.w*E.v,0);p=Math.round(_/w*100)}const y=[];d.length&&y.push(`Matched required: ${d.slice(0,fd).join(", ")}`),f.length&&y.push(`Missing required: ${f.slice(0,fd).join(", ")}`),g.length&&y.push(`Matched preferred: ${g.slice(0,fd).join(", ")}`),y.length===0&&p!==null&&y.push("Skills compared with job requirements.");const x=f.map(w=>`Missing required skill: ${w}`),b={requiredMatched:u,requiredTotal:n.length,preferredMatched:h,preferredTotal:s.length,matchedRequired:d.slice(0,fd),missingRequired:f.slice(0,fd),matchedPreferred:g.slice(0,fd)};return{bucket:{percent:p,reasons:y,details:b},missingCritical:x}}function wye(e,t){let r=null;const n=e.seniority!==null?Jx[e.seniority]:null,s=t.seniority!=="unknown"?Jx[t.seniority]:null;if(n!=null)if(s==null)r=.5;else{const u=s-n;u===0?r=1:u===1?r=.85:u>=2?r=.75:u===-1?r=.55:r=.25}let a=null;e.minYearsExperience!=null&&t.yearsExperienceTotal!=null&&(t.yearsExperienceTotal>=e.minYearsExperience?a=1:a=Math.min(1,Math.max(0,t.yearsExperienceTotal/e.minYearsExperience)));const i=[];r!==null&&i.push({w:.6,v:r}),a!==null&&i.push({w:.4,v:a});let l=null;if(i.length>0){const u=i.reduce((d,f)=>d+f.w,0);l=Math.round(i.reduce((d,f)=>d+f.w*f.v,0)/u*100)}const c=[];return e.seniority&&c.push(`Job expects: ${e.seniority}`),e.minYearsExperience!=null&&c.push(`Job min years: ${e.minYearsExperience}`),t.seniority!=="unknown"&&c.push(`You have: ${t.seniority}`),t.yearsExperienceTotal!=null&&c.push(`Your years: ${t.yearsExperienceTotal}`),c.length===0&&c.push("Experience level not specified for this job."),{percent:l,reasons:c,details:{seniorityComponent:r,yearsComponent:a,jobSeniority:e.seniority,jobMinYears:e.minYearsExperience,userSeniority:t.seniority,userYears:t.yearsExperienceTotal}}}function _ye(e,t){const r=e.industryTags.length>0?mye(e.industryTags.join(",")):[];if(r.length===0)return{percent:null,reasons:["Industry not specified for this job."],details:{}};const n=t.yearsExperienceByIndustry||{},s={};for(const[i,l]of Object.entries(n))if(l!=null&&l>0){const c=i.trim().toLowerCase();s[c]=(s[c]??0)+l}const a=gye(r,s);return{percent:a.percent,reasons:a.reasons,details:{matchedExact:a.matchedExact,matchedRelated:a.matchedRelated,missing:a.missing,isNa:a.isNa}}}const Xx=["a1","a2","b1","b2","c1","c2","native"];function uI(e){const t=e.trim(),r=t.match(/^(.+?)\s+(a1|a2|b1|b2|c1|c2|native)$/i);return r?{lang:r[1].trim().toLowerCase(),level:r[2].toLowerCase()}:{lang:t.toLowerCase(),level:"native"}}function Sye(e,t){const r=Xx.indexOf(e.toLowerCase()),n=Xx.indexOf(t.toLowerCase());return n===-1?!0:r===-1?!1:r>=n}function jye(e,t){const r=[];if(e.languagesRequired.length===0)return r;const n=new Map;for(const s of t.languages||[]){const{lang:a,level:i}=uI(s),l=n.get(a);(!l||Xx.indexOf(i)>Xx.indexOf(l))&&n.set(a,i)}for(const s of e.languagesRequired){const{lang:a,level:i}=uI(s),l=n.get(a);(!l||!Sye(l,i))&&r.push(`Missing language: ${s}`)}return r}function kye(e,t,r){const n=[];if(e!==null&&n.push({w:.5,v:e/100}),t!==null&&n.push({w:.3,v:t/100}),r!==null&&n.push({w:.2,v:r/100}),n.length===0)return 0;const s=n.reduce((a,i)=>a+i.w,0);return n.reduce((a,i)=>a+i.w*i.v,0)/s*100}function Eye(e,t,r,n,s){var c;const a=[],i=r.percent??0;e.skillsRequired.length>0&&i>=80&&a.push("Meets required skills"),e.skillsPreferred.length>0&&r.details.preferredMatched>0&&a.push("Has preferred skills"),s.length===0&&e.languagesRequired.length>0&&a.push("Language fit"),t.seniority!=="unknown"&&e.seniority&&t.seniority===e.seniority&&a.push("Seniority match");const l=n.details;return e.industryTags.length>0&&((c=l.matchingTags)!=null&&c.length)&&a.push("Industry experience"),a}function Xq(e,t){const{bucket:r,missingCritical:n}=bye(e,t),s=wye(e,t),a=_ye(e,t),i=jye(e,t),l=[...n,...i];let c=kye(r.percent??0,s.percent??0,a.percent??0);i.length>0&&(c=c*.75),c=Math.round(Math.min(100,Math.max(0,c)));const u=Eye(e,t,r,a,i);return{expLevel:s,skills:r,industry:a,overallPercent:c,badges:u,missingCritical:l}}function Nye(e={}){return{userSkills:e.userSkills??[],yearsExperienceTotal:e.yearsExperienceTotal??null,yearsExperienceByIndustry:e.yearsExperienceByIndustry??{},industryTags:e.industryTags??[],seniority:e.seniority??"unknown",languages:e.languages??[],roleInterests:e.roleInterests??[],techStackExperience:e.techStackExperience??[]}}function Zl(e,t={}){const r=[...new Set(e.map(pn))];return Nye({userSkills:r,techStackExperience:r,...t})}function yu(e,t){const r=fN(e);return Xq(r,t)}const dI="betaVersionModalShown",RA=()=>{const[e,t]=m.useState(!1),r=da(),{t:n}=hi();m.useEffect(()=>{if(!sessionStorage.getItem(dI)){const i=setTimeout(()=>{t(!0)},500);return()=>clearTimeout(i)}},[]);const s=()=>{t(!1),sessionStorage.setItem(dI,"true")};return r?o.jsx(Fi,{open:e,onOpenChange:s,children:o.jsxs(Bi,{className:"max-h-[85vh]",children:[o.jsx(Ui,{children:o.jsx(zi,{className:"text-xl font-bold",children:n.beta.title})}),o.jsxs("div",{className:"px-6 pb-2",children:[o.jsx("div",{className:"flex-1 px-6 pb-4 flex flex-col items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Rocket",className:"w-32 h-32 md:w-40 md:h-40 object-contain mt-4"})}),o.jsx(oq,{className:"text-base",children:n.beta.message})]}),o.jsx("div",{className:"p-4",children:o.jsx(pg,{asChild:!0,children:o.jsx(oe,{variant:"default",className:"w-full",children:n.common.close})})})]})}):o.jsx(Rs,{open:e,onOpenChange:s,children:o.jsxs(ms,{className:"max-w-md",children:[o.jsx($s,{children:o.jsx(Ms,{className:"text-xl font-bold",children:n.beta.title})}),o.jsx("div",{className:"flex flex-col items-center justify-center py-4",children:o.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Rocket",className:"w-32 h-32 md:w-40 md:h-40 object-contain"})}),o.jsx("div",{className:"px-0 pb-2",children:o.jsx(lf,{className:"text-base",children:n.beta.message})}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(oe,{variant:"default",onClick:s,children:n.common.close})})]})})},Cye="https://breneo-job-aggregator.up.railway.app/api/companies",Np=new Map,Pye=async e=>{if(!e||!e.trim())return;const t=e.trim();if(Np.has(t)){const r=Np.get(t);return r===null?void 0:r}try{const r=encodeURIComponent(t),n=`${Cye}/${r}`,s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(s.ok){const a=await s.json(),i=a.logo||a.company_logo||a.logo_url||a.employer_logo;if(i&&typeof i=="string")try{if(new URL(i).protocol.startsWith("http"))return Np.set(t,i),i}catch{}}Np.set(t,null);return}catch(r){console.error(`Error fetching company logo for ${t}:`,r),Np.set(t,null);return}},$A=async(e,t)=>{const r=await Pye(e);return r||t},Aye=(e,t)=>{if(!t||t.length===0)return .5;if(!e.required_skills||e.required_skills.length===0)return .3;const r=l=>l.toLowerCase().trim().replace(/\s+/g," "),n=t.map(r),s=e.required_skills.map(r);let a=0;return s.forEach(l=>{n.forEach(c=>{c===l?a+=2:(l.includes(c)||c.includes(l))&&(a+=1)})}),a>0?a/s.length*(a/n.length)*10:.1},Tye=async()=>{try{const e={country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[]};return(await ui.fetchActiveJobs({query:"",filters:e,page:1,pageSize:50})).jobs||[]}catch(e){throw console.error("Error fetching jobs:",e),e}},fI=()=>{var ee;const{user:e,loading:t}=ir(),r=rr(),n=Ws(),s=da(),a=pi(),[i,l]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState(!0),[h,g]=m.useState(!1),v=m.useRef(null),p=m.useRef(null),[y,x]=m.useState(!1),[b,w]=m.useState(!1),[_,S]=m.useState(!1),{data:E=[]}=Wt({queryKey:["profileSkills",e==null?void 0:e.id],queryFn:()=>bn.getMySkills(),enabled:!!e}),k=m.useMemo(()=>{const X=(E||[]).map(F=>pn(F.skill_name)),ne=(i||[]).map(F=>pn(F));return[...new Set([...X,...ne])]},[E,i]);m.useEffect(()=>{(async()=>{if(!e){f(!1),g(!1);return}try{f(!0);try{const F=await Se.get(`/api/skilltest/results/?user=${e.id}`);let $=null;if(Array.isArray(F.data)&&F.data.length>0?$=F.data[0]:F.data&&typeof F.data=="object"&&($=F.data),$&&($.final_role||$.skills_json)){g(!0);const K=$.skills_json||{},Y=Object.keys(K.tech||{}),se=Object.keys(K.soft||{}),Q=[...Y,...se];l(Q),u(Y),f(!1);return}}catch{}try{const F=await Se.get(`/api/user/${e.id}/skills`);if(F.data&&F.data.skills){const $=F.data.skills.slice(0,5);l($),u($),g($.length>0),f(!1);return}}catch{}const ne=await Ih(String(e.id));if(ne&&ne.length>0){g(!0);const F=Lh(ne),K=h1(F,20).map(Q=>Q.skill);l(K);const Y=["javascript","python","java","c++","c#","go","rust","php","ruby","swift","kotlin","typescript","html","css","sql","react","vue","angular","node.js","express","django","flask","spring","laravel","rails","git","docker","kubernetes","aws","azure","gcp","linux","machine learning","data science","ai","blockchain","devops","testing"],se=K.filter(Q=>Y.some(ae=>Q.toLowerCase().includes(ae.toLowerCase())||ae.toLowerCase().includes(Q.toLowerCase())));u(se.length>0?se:K)}else g(!1)}catch(ne){console.error("Error fetching user skills:",ne),g(!1)}finally{f(!1)}})()},[e]),m.useEffect(()=>{S(!0)},[]);const{data:j=[]}=Wt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var X;if(!e)return[];try{const F=((X=(await Se.get(Ze.AUTH.PROFILE)).data)==null?void 0:X.saved_jobs)||[];return Array.isArray(F)?F.map($=>{if(typeof $=="string"||typeof $=="number")return String($);if($&&typeof $=="object"){const K=$;if(K.id)return String(K.id);if(K.job_id)return String(K.job_id);if(K.jobId)return String(K.jobId)}return null}).filter($=>$!==null):[]}catch(ne){return console.error("Error fetching saved jobs:",ne),[]}},enabled:!!e}),{data:N=[]}=Wt({queryKey:["savedCourseIds",e==null?void 0:e.id],queryFn:async()=>{var X;if(!e)return[];try{const F=((X=(await Se.get(Ze.AUTH.PROFILE)).data)==null?void 0:X.saved_courses)||[];return Array.isArray(F)?F.map($=>{if(typeof $=="string"||typeof $=="number")return String($);if($&&typeof $=="object"){const K=$;if(K.id)return String(K.id);if(K.course_id)return String(K.course_id);if(K.courseId)return String(K.courseId)}return null}).filter($=>$!==null):[]}catch(ne){return console.error("Error fetching saved course IDs:",ne),[]}},enabled:!!e}),{data:C=[],isLoading:A,error:R}=Wt({queryKey:["home-jobs"],queryFn:()=>Tye(),enabled:!!e,staleTime:5*60*1e3,retry:1});m.useEffect(()=>{R&&console.error("Error fetching jobs:",R)},[R]);const H=oa({mutationFn:async X=>{if(!e)throw new Error("User not logged in");if(!X.id)throw new Error("Job ID is required");const ne=String(X.id);X.is_saved;try{const F=`${Ze.JOBS.SAVE_JOB}${ne}/`;await Se.post(F)}catch(F){const $=F instanceof Error?F.message:"Failed to save job. Please try again.";throw new Error($)}},onSuccess:(X,ne)=>{n.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),n.invalidateQueries({queryKey:["profile"]}),de.success(ne.is_saved?"Job Unsaved":"Job Saved")},onError:X=>{console.error("Error saving job:",X);const ne=X instanceof Error?X.message:"Failed to save job";de.error(ne)}}),{data:U=[],isLoading:D}=Wt({queryKey:["home-courses"],queryFn:async()=>{const{data:X,error:ne}=await Yt.from("courses").select("*").order("created_at",{ascending:!1});return ne?(console.error("Error fetching courses:",ne),[]):X||[]},enabled:!!e&&!d}),B=m.useMemo(()=>{if(!U||U.length===0)return[];if(!i||i.length===0)return U.map($=>({...$,match:.5}));const X=U.map($=>({...$,match:Aye($,i)}));X.sort(($,K)=>{if(Math.abs(($.match||0)-(K.match||0))>.1)return(K.match||0)-($.match||0);const Y=$.required_skills&&$.required_skills.length>0,se=K.required_skills&&K.required_skills.length>0;return Y&&!se?-1:!Y&&se?1:0});const ne=X.filter($=>($.match||0)>.1),F=X.filter($=>($.match||0)<=.1);return[...ne,...F].slice(0,20)},[U,i]),L=oa({mutationFn:async X=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Se.post(`/api/save-course/${X}/`)},onMutate:async X=>{await n.cancelQueries({queryKey:["savedCourseIds",e==null?void 0:e.id]});const ne=n.getQueryData(["savedCourseIds",e==null?void 0:e.id]);let F=!1;return n.setQueryData(["savedCourseIds",e==null?void 0:e.id],$=>{if(!$)return $;const K=String(X);return F=$.includes(K),F?$.filter(Y=>Y!==K):[...$,K]}),{previousSavedCourseIds:ne,wasSaved:F}},onError:(X,ne,F)=>{F!=null&&F.previousSavedCourseIds&&(e!=null&&e.id)&&n.setQueryData(["savedCourseIds",e.id],F.previousSavedCourseIds),console.error("Error updating saved courses:",X),de.error("Failed to update saved courses. Please try again.")},onSuccess:(X,ne,F)=>{n.invalidateQueries({queryKey:["savedCourseIds",e==null?void 0:e.id]}),n.invalidateQueries({queryKey:["home-courses"]}),n.invalidateQueries({queryKey:["profile"]});const $=(F==null?void 0:F.wasSaved)??!1;de.success($?"Removed from saved courses.":"Course saved to your profile.")}}),T=m.useMemo(()=>{const ne=(C||[]).map($=>{const K=e&&k.length>=0?yu($,Zl(k)).overallPercent:void 0;return{job:$,matchPercentage:K}});return ne.sort(($,K)=>{if($.matchPercentage!==K.matchPercentage)return K.matchPercentage-$.matchPercentage;const Y=$.job.posted_at||$.job.fetched_at||$.job.date_posted||"",se=K.job.posted_at||K.job.fetched_at||K.job.date_posted||"";if(Y&&se)try{const Q=new Date(Y).getTime();return new Date(se).getTime()-Q}catch{return 0}return 0}),ne.slice(0,9).map($=>$.job).map($=>{const K=$.id||"";if(!K)return console.warn("Skipping job without valid ID:",$),null;const Y=$.title||$.job_title||$.position||"Untitled Position",se=$.company_name||$.employer_name||(typeof $.company=="string"?$.company:null)||"Unknown Company",Q=$.job_city||$.city||"",ae=$.job_state||$.state||"",re=$.job_country||$.country||"",pe=$.job_location||$.location||[Q,ae,re].filter(Boolean).join(", ")||"Location not specified",ve=$.employer_logo||$.company_logo||$.logo_url||(typeof $.company=="object"&&$.company?$.company.logo||$.company.company_logo:void 0),Ie=$.posted_at||$.fetched_at||$.date_posted||$.posted_date||$.job_posted_at_datetime_utc||void 0;let et="By agreement";const Je=$.job_min_salary||$.min_salary,dt=$.job_max_salary||$.max_salary,Ce=$.job_salary_currency||$.salary_currency||"$",ke=$.job_salary_period||$.salary_period||"yearly";if(Je&&dt&&typeof Je=="number"&&typeof dt=="number"){const xe=ke==="monthly"?"Monthly":"",Pe=Je.toLocaleString(),Z=dt.toLocaleString();["$","","","","",""].some(Fe=>Ce.includes(Fe))?et=`${Ce}${Pe} - ${Ce}${Z}${xe?`/${xe}`:""}`:et=`${Pe} - ${Z} ${Ce}${xe?`/${xe}`:""}`}else if(Je&&typeof Je=="number"){const xe=Je.toLocaleString();et=["$","","","","",""].some(J=>Ce.includes(J))?`${Ce}${xe}+`:`${xe}+ ${Ce}`}else $.salary&&typeof $.salary=="string"&&(et=$.salary);const G=$.job_employment_type||$.employment_type||$.type||"FULLTIME",Ne={FULLTIME:"Full time",PARTTIME:"Part time",CONTRACTOR:"Contract",INTERN:"Internship"}[G]||G||"Full time";let qe="On-site";$.job_is_remote||$.is_remote||$.remote===!0?qe="Remote":Y!=null&&Y.toLowerCase().includes("hybrid")&&(qe="Hybrid");const Re=e&&k.length>=0?yu($,Zl(k)).overallPercent:void 0;return{id:K,title:Y,company:se,company_name:se,location:typeof pe=="string"?pe:"Location not specified",logo:ve,company_logo:ve,salary:et,employment_type:Ne,work_arrangement:qe,is_saved:j==null?void 0:j.includes(String(K)),matchPercentage:Re,date:Ie?new Date(String(Ie)).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}}).filter($=>$!==null)},[C,j,e,k]),[q,I]=m.useState({});m.useEffect(()=>{(async()=>{const ne=T.filter(Y=>!Y.company_logo&&Y.company_name);if(ne.length===0)return;const F=ne.map(async Y=>{const se=await $A(Y.company_name||"",void 0);return{jobId:Y.id,logo:se}}),$=await Promise.all(F),K={};$.forEach(({jobId:Y,logo:se})=>{se&&(K[Y]=se)}),Object.keys(K).length>0&&I(Y=>({...Y,...K}))})()},[T]);const P=T.map(X=>({...X,company_logo:X.company_logo||q[X.id]||void 0})),W=X=>{if(v.current){const F=X==="left"?v.current.scrollLeft-400:v.current.scrollLeft+400;v.current.scrollTo({left:F,behavior:"smooth"})}},V=X=>{if(p.current){const F=X==="left"?p.current.scrollLeft-400:p.current.scrollLeft+400;p.current.scrollTo({left:F,behavior:"smooth"})}};return t?o.jsx(At,{children:o.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Loading dashboard..."})]})})})}):e?o.jsxs(At,{children:[o.jsx(RA,{}),s&&o.jsx("div",{className:"mb-4 px-4 md:hidden",children:o.jsxs("h1",{className:"text-xl font-semibold text-foreground",children:[a.auth.welcome,","," ",o.jsx("span",{className:"font-bold",children:(e==null?void 0:e.first_name)||((ee=e==null?void 0:e.email)==null?void 0:ee.split("@")[0])||"User"}),"! "]})}),o.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[!h&&!d&&o.jsx(Oe,{className:"bg-white transition-all w-auto flex-shrink-0 max-w-sm md:max-w-md rounded-3xl border-0 animate-shrink-in hover:shadow-soft transition-shadow cursor-pointer",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)",transform:y?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease-in-out"},onMouseDown:()=>x(!0),onMouseUp:()=>x(!1),onMouseLeave:()=>x(!1),onTouchStart:()=>x(!0),onTouchEnd:()=>x(!1),children:o.jsx(Me,{className:"p-4 md:p-4",children:o.jsx(Wr,{to:"/skill-test",className:"block cursor-pointer group",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[o.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:a.home.skillTestTitle}),o.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:a.home.skillTestSubtitle})]}),o.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-target-front-color.png",alt:"Skill test target",className:"w-full h-full object-contain"})})]})})})}),h&&!d&&o.jsx(Oe,{className:"bg-white transition-all w-auto flex-shrink-0 max-w-sm md:max-w-md rounded-3xl border-0 animate-shrink-in hover:shadow-soft transition-shadow cursor-pointer",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)",transform:b?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease-in-out"},onMouseDown:()=>w(!0),onMouseUp:()=>w(!1),onMouseLeave:()=>w(!1),onTouchStart:()=>w(!0),onTouchEnd:()=>w(!1),children:o.jsx(Me,{className:"p-4 md:p-4 flex items-center justify-center md:block",children:o.jsx(Wr,{to:"/skill-path",className:"block cursor-pointer group",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[o.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:a.home.skillPathTitle}),o.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:a.home.skillPathSubtitle})]}),o.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-explorer-front-color.png",alt:"Coding A Website",className:"w-full h-full object-contain",onError:X=>{X.target.style.display="none"}})})]})})})})]}),o.jsxs("div",{className:"space-y-6 pt-6 md:pt-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:"Top job picks for you"}),!A&&!R&&P.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(oe,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>W("left"),"aria-label":"Scroll left",children:o.jsx(VE,{className:"h-4 w-4"})}),o.jsx(oe,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>W("right"),"aria-label":"Scroll right",children:o.jsx(wa,{className:"h-4 w-4"})})]})]}),A?o.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory",children:[...Array(3)].map((X,ne)=>o.jsx(Oe,{className:"relative flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px]",children:o.jsxs(Me,{className:"p-4",children:[o.jsx(xr,{className:"h-4 w-20 mb-2"}),o.jsx(xr,{className:"h-6 w-3/4 mb-4"}),o.jsx(xr,{className:"h-4 w-1/2"})]})},ne))}):R?o.jsx(Oe,{children:o.jsxs(Me,{className:"p-6 text-center",children:[o.jsx("p",{className:"text-gray-500 mb-2",children:"Unable to load jobs at the moment."}),o.jsx("p",{className:"text-sm text-gray-400",children:"Please try again later."})]})}):P.length===0?o.jsx(Oe,{children:o.jsx(Me,{className:"p-6 text-center",children:o.jsx("p",{className:"text-gray-500",children:"No jobs found. Try adjusting your search criteria."})})}):o.jsx("div",{ref:v,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:P.map(X=>{var ne,F;return o.jsx(Oe,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl flex-shrink-0 snap-start cursor-pointer w-[calc((100%-2rem)/3)] min-w-[280px] hover:shadow-soft",onClick:()=>{if(!X.id||String(X.id).trim()==="")return;const $=encodeURIComponent(String(X.id));r(`/jobs/${$}`)},children:o.jsxs(Me,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("div",{className:"flex-shrink-0 relative w-10 h-10",children:X.company_logo?o.jsx("img",{src:X.company_logo,alt:`${X.company_name||(typeof X.company=="string"?X.company:((ne=X.company)==null?void 0:ne.name)||"Company")} logo`,className:"w-10 h-10 rounded-md object-cover",loading:"lazy"}):o.jsx("div",{className:"w-10 h-10 rounded-md bg-breneo-accent flex items-center justify-center",children:o.jsx(Hr,{className:"h-5 w-5 text-white"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:X.company_name||(typeof X.company=="string"?X.company:((F=X.company)==null?void 0:F.name)||"Company")}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:X.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:X.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[X.employment_type&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:X.employment_type}),X.work_arrangement&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:X.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(na,{value:X.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700",children:X.matchPercentage!=null?(()=>{const $=X.matchPercentage,K=$>=95?"excellentMatch":$>=85?"bestMatch":$>=70?"goodMatch":$>=50?"fairMatch":"badMatch";return a.jobMatch[K]})():""})]}),o.jsx(oe,{variant:"secondary",size:"icon",onClick:$=>{$.stopPropagation(),H.mutate(X)},"aria-label":X.is_saved?"Unsave job":"Save job",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",X.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(En,{className:le("h-4 w-4 transition-colors",X.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},X.id)})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Top courses picked for you"})}),!D&&B.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(oe,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>V("left"),"aria-label":"Scroll courses left",children:o.jsx(VE,{className:"h-4 w-4"})}),o.jsx(oe,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>V("right"),"aria-label":"Scroll courses right",children:o.jsx(wa,{className:"h-4 w-4"})})]})]}),D?o.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:[...Array(3)].map((X,ne)=>o.jsx(Oe,{className:"relative flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px]",children:o.jsxs(Me,{className:"p-0",children:[o.jsx(xr,{className:"h-40 w-full rounded-t-3xl"}),o.jsxs("div",{className:"p-4",children:[o.jsx(xr,{className:"h-5 w-3/4 mb-2"}),o.jsx(xr,{className:"h-4 w-1/2 mb-3"}),o.jsx(xr,{className:"h-3 w-full"})]})]})},ne))}):B.length===0?o.jsx(Oe,{children:o.jsxs(Me,{className:"p-8 text-center",children:[o.jsx(Ql,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500",children:"No courses available at the moment."})]})}):o.jsx("div",{ref:p,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:B.map(X=>{const ne=N.includes(String(X.id));return o.jsx(Wr,{to:`/course/${X.id}`,className:"flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px] block",children:o.jsx(Oe,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl w-full flex flex-col hover:shadow-soft",children:o.jsxs(Me,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:X.image||"/placeholder.svg",alt:X.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200 origin-center",style:{transformOrigin:"center center"},onError:F=>{F.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:X.title}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:X.duration&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:X.duration})}),o.jsx(oe,{variant:"secondary",size:"icon",onClick:F=>{F.preventDefault(),F.stopPropagation(),L.mutate(String(X.id))},"aria-label":ne?"Unsave course":"Save course",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",ne?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(En,{className:le("h-4 w-4 transition-colors",ne?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})]})})},X.id)})})]})]})]})})]}):o.jsx(At,{children:o.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-gray-600",children:"Please wait while we load your dashboard..."})})})})})},MA=m.createContext({});function IA(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const Qq=typeof window<"u",Zq=Qq?m.useLayoutEffect:m.useEffect,p1=m.createContext(null);function LA(e,t){e.indexOf(t)===-1&&e.push(t)}function DA(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Ji=(e,t,r)=>r>t?t:r<e?e:r;let m1=()=>{},Vf=()=>{};const zo={},eW=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function tW(e){return typeof e=="object"&&e!==null}const rW=e=>/^0[^.\s]+$/u.test(e);function FA(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ca=e=>e,Oye=(e,t)=>r=>t(e(r)),Fy=(...e)=>e.reduce(Oye),vg=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class BA{constructor(){this.subscriptions=[]}add(t){return LA(this.subscriptions,t),()=>DA(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let a=0;a<s;a++){const i=this.subscriptions[a];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qi=e=>e*1e3,Sa=e=>e/1e3;function nW(e,t){return t?e*(1e3/t):0}const sW=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Rye=1e-7,$ye=12;function Mye(e,t,r,n,s){let a,i,l=0;do i=t+(r-t)/2,a=sW(i,n,s)-e,a>0?r=i:t=i;while(Math.abs(a)>Rye&&++l<$ye);return i}function By(e,t,r,n){if(e===t&&r===n)return Ca;const s=a=>Mye(a,0,1,e,r);return a=>a===0||a===1?a:sW(s(a),t,n)}const aW=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iW=e=>t=>1-e(1-t),oW=By(.33,1.53,.69,.99),UA=iW(oW),lW=aW(UA),cW=e=>(e*=2)<1?.5*UA(e):.5*(2-Math.pow(2,-10*(e-1))),zA=e=>1-Math.sin(Math.acos(e)),uW=iW(zA),dW=aW(zA),Iye=By(.42,0,1,1),Lye=By(0,0,.58,1),fW=By(.42,0,.58,1),Dye=e=>Array.isArray(e)&&typeof e[0]!="number",hW=e=>Array.isArray(e)&&typeof e[0]=="number",hI={linear:Ca,easeIn:Iye,easeInOut:fW,easeOut:Lye,circIn:zA,circInOut:dW,circOut:uW,backIn:UA,backInOut:lW,backOut:oW,anticipate:cW},Fye=e=>typeof e=="string",pI=e=>{if(hW(e)){Vf(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,r,n,s]=e;return By(t,r,n,s)}else if(Fye(e))return Vf(hI[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),hI[e];return e},Gv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],mI={value:null,addProjectionMetrics:null};function Bye(e,t){let r=new Set,n=new Set,s=!1,a=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){i.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,g=!1)=>{const p=g&&s?r:n;return h&&i.add(f),p.has(f)||p.add(f),f},cancel:f=>{n.delete(f),i.delete(f)},process:f=>{if(l=f,s){a=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),t&&mI.value&&mI.value.frameloop[t].push(c),c=0,r.clear(),s=!1,a&&(a=!1,d.process(f))}};return d}const Uye=40;function pW(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,i=Gv.reduce((w,_)=>(w[_]=Bye(a,t?_:void 0),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:g,postRender:v}=i,p=()=>{const w=zo.useManualTiming?s.timestamp:performance.now();r=!1,zo.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(w-s.timestamp,Uye),1)),s.timestamp=w,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),g.process(s),v.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(p))},y=()=>{r=!0,n=!0,s.isProcessing||e(p)};return{schedule:Gv.reduce((w,_)=>{const S=i[_];return w[_]=(E,k=!1,j=!1)=>(r||y(),S.schedule(E,k,j)),w},{}),cancel:w=>{for(let _=0;_<Gv.length;_++)i[Gv[_]].cancel(w)},state:s,steps:i}}const{schedule:Mr,cancel:uc,state:Bn,steps:qS}=pW(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ca,!0);let U0;function zye(){U0=void 0}const gs={now:()=>(U0===void 0&&gs.set(Bn.isProcessing||zo.useManualTiming?Bn.timestamp:performance.now()),U0),set:e=>{U0=e,queueMicrotask(zye)}},mW=e=>t=>typeof t=="string"&&t.startsWith(e),gW=mW("--"),qye=mW("var(--"),qA=e=>qye(e)?Wye.test(e.split("/*")[0].trim()):!1,Wye=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function gI(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Dh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},xg={...Dh,transform:e=>Ji(0,1,e)},Yv={...Dh,default:1},Em=e=>Math.round(e*1e5)/1e5,WA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vye(e){return e==null}const Hye=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,VA=(e,t)=>r=>!!(typeof r=="string"&&Hye.test(r)&&r.startsWith(e)||t&&!Vye(r)&&Object.prototype.hasOwnProperty.call(r,t)),yW=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,a,i,l]=n.match(WA);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},Kye=e=>Ji(0,255,e),WS={...Dh,transform:e=>Math.round(Kye(e))},Yc={test:VA("rgb","red"),parse:yW("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+WS.transform(e)+", "+WS.transform(t)+", "+WS.transform(r)+", "+Em(xg.transform(n))+")"};function Gye(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const hN={test:VA("#"),parse:Gye,transform:Yc.transform},Uy=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),dl=Uy("deg"),Wi=Uy("%"),ut=Uy("px"),Yye=Uy("vh"),Jye=Uy("vw"),yI={...Wi,parse:e=>Wi.parse(e)/100,transform:e=>Wi.transform(e*100)},Ud={test:VA("hsl","hue"),parse:yW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Wi.transform(Em(t))+", "+Wi.transform(Em(r))+", "+Em(xg.transform(n))+")"},dn={test:e=>Yc.test(e)||hN.test(e)||Ud.test(e),parse:e=>Yc.test(e)?Yc.parse(e):Ud.test(e)?Ud.parse(e):hN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Yc.transform(e):Ud.transform(e),getAnimatableNone:e=>{const t=dn.parse(e);return t.alpha=0,dn.transform(t)}},Xye=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Qye(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(WA))==null?void 0:t.length)||0)+(((r=e.match(Xye))==null?void 0:r.length)||0)>0}const vW="number",xW="color",Zye="var",eve="var(",vI="${}",tve=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bg(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(tve,c=>(dn.test(c)?(n.color.push(a),s.push(xW),r.push(dn.parse(c))):c.startsWith(eve)?(n.var.push(a),s.push(Zye),r.push(c)):(n.number.push(a),s.push(vW),r.push(parseFloat(c))),++a,vI)).split(vI);return{values:r,split:l,indexes:n,types:s}}function bW(e){return bg(e).values}function wW(e){const{split:t,types:r}=bg(e),n=t.length;return s=>{let a="";for(let i=0;i<n;i++)if(a+=t[i],s[i]!==void 0){const l=r[i];l===vW?a+=Em(s[i]):l===xW?a+=dn.transform(s[i]):a+=s[i]}return a}}const rve=e=>typeof e=="number"?0:dn.test(e)?dn.getAnimatableNone(e):e;function nve(e){const t=bW(e);return wW(e)(t.map(rve))}const dc={test:Qye,parse:bW,createTransformer:wW,getAnimatableNone:nve};function VS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function sve({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,a=0,i=0;if(!t)s=a=i=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=VS(c,l,e+1/3),a=VS(c,l,e),i=VS(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(i*255),alpha:n}}function Qx(e,t){return r=>r>0?t:e}const Vr=(e,t,r)=>e+(t-e)*r,HS=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},ave=[hN,Yc,Ud],ive=e=>ave.find(t=>t.test(e));function xI(e){const t=ive(e);if(m1(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let r=t.parse(e);return t===Ud&&(r=sve(r)),r}const bI=(e,t)=>{const r=xI(e),n=xI(t);if(!r||!n)return Qx(e,t);const s={...r};return a=>(s.red=HS(r.red,n.red,a),s.green=HS(r.green,n.green,a),s.blue=HS(r.blue,n.blue,a),s.alpha=Vr(r.alpha,n.alpha,a),Yc.transform(s))},pN=new Set(["none","hidden"]);function ove(e,t){return pN.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function lve(e,t){return r=>Vr(e,t,r)}function HA(e){return typeof e=="number"?lve:typeof e=="string"?qA(e)?Qx:dn.test(e)?bI:dve:Array.isArray(e)?_W:typeof e=="object"?dn.test(e)?bI:cve:Qx}function _W(e,t){const r=[...e],n=r.length,s=e.map((a,i)=>HA(a)(a,t[i]));return a=>{for(let i=0;i<n;i++)r[i]=s[i](a);return r}}function cve(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=HA(e[s])(e[s],t[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function uve(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],i=e.indexes[a][n[a]],l=e.values[i]??0;r[s]=l,n[a]++}return r}const dve=(e,t)=>{const r=dc.createTransformer(t),n=bg(e),s=bg(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?pN.has(e)&&!s.values.length||pN.has(t)&&!n.values.length?ove(e,t):Fy(_W(uve(n,s),s.values),r):(m1(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),Qx(e,t))};function SW(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Vr(e,t,r):HA(e)(e,t)}const fve=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Mr.update(t,r),stop:()=>uc(t),now:()=>Bn.isProcessing?Bn.timestamp:gs.now()}},jW=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let a=0;a<s;a++)n+=Math.round(e(a/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Zx=2e4;function KA(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Zx;)t+=r,n=e.next(t);return t>=Zx?1/0:t}function hve(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(KA(n),Zx);return{type:"keyframes",ease:a=>n.next(s*a).value/t,duration:Sa(s)}}const pve=5;function kW(e,t,r){const n=Math.max(t-pve,0);return nW(r-e(n),t-n)}const Ur={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},KS=.001;function mve({duration:e=Ur.duration,bounce:t=Ur.bounce,velocity:r=Ur.velocity,mass:n=Ur.mass}){let s,a;m1(e<=qi(Ur.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let i=1-t;i=Ji(Ur.minDamping,Ur.maxDamping,i),e=Ji(Ur.minDuration,Ur.maxDuration,Sa(e)),i<1?(s=u=>{const d=u*i,f=d*e,h=d-r,g=mN(u,i),v=Math.exp(-f);return KS-h/g*v},a=u=>{const f=u*i*e,h=f*r+r,g=Math.pow(i,2)*Math.pow(u,2)*e,v=Math.exp(-f),p=mN(Math.pow(u,2),i);return(-s(u)+KS>0?-1:1)*((h-g)*v)/p}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-KS+d*f},a=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=yve(s,a,l);if(e=qi(e),isNaN(c))return{stiffness:Ur.stiffness,damping:Ur.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:e}}}const gve=12;function yve(e,t,r){let n=r;for(let s=1;s<gve;s++)n=n-e(n)/t(n);return n}function mN(e,t){return e*Math.sqrt(1-t*t)}const vve=["duration","bounce"],xve=["stiffness","damping","mass"];function wI(e,t){return t.some(r=>e[r]!==void 0)}function bve(e){let t={velocity:Ur.velocity,stiffness:Ur.stiffness,damping:Ur.damping,mass:Ur.mass,isResolvedFromDuration:!1,...e};if(!wI(e,xve)&&wI(e,vve))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*Ji(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ur.mass,stiffness:s,damping:a}}else{const r=mve(e);t={...t,...r,mass:Ur.mass},t.isResolvedFromDuration=!0}return t}function eb(e=Ur.visualDuration,t=Ur.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:g}=bve({...r,velocity:-Sa(r.velocity||0)}),v=h||0,p=u/(2*Math.sqrt(c*d)),y=i-a,x=Sa(Math.sqrt(c/d)),b=Math.abs(y)<5;n||(n=b?Ur.restSpeed.granular:Ur.restSpeed.default),s||(s=b?Ur.restDelta.granular:Ur.restDelta.default);let w;if(p<1){const S=mN(x,p);w=E=>{const k=Math.exp(-p*x*E);return i-k*((v+p*x*y)/S*Math.sin(S*E)+y*Math.cos(S*E))}}else if(p===1)w=S=>i-Math.exp(-x*S)*(y+(v+x*y)*S);else{const S=x*Math.sqrt(p*p-1);w=E=>{const k=Math.exp(-p*x*E),j=Math.min(S*E,300);return i-k*((v+p*x*y)*Math.sinh(j)+S*y*Math.cosh(j))/S}}const _={calculatedDuration:g&&f||null,next:S=>{const E=w(S);if(g)l.done=S>=f;else{let k=S===0?v:0;p<1&&(k=S===0?qi(v):kW(w,S,E));const j=Math.abs(k)<=n,N=Math.abs(i-E)<=s;l.done=j&&N}return l.value=l.done?i:E,l},toString:()=>{const S=Math.min(KA(_),Zx),E=jW(k=>_.next(S*k).value,S,30);return S+"ms "+E},toTransition:()=>{}};return _}eb.applyToOptions=e=>{const t=hve(e,100,eb);return e.ease=t.ease,e.duration=qi(t.duration),e.type="keyframes",e};function gN({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},g=j=>l!==void 0&&j<l||c!==void 0&&j>c,v=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let p=r*t;const y=f+p,x=i===void 0?y:i(y);x!==y&&(p=x-f);const b=j=>-p*Math.exp(-j/n),w=j=>x+b(j),_=j=>{const N=b(j),C=w(j);h.done=Math.abs(N)<=u,h.value=h.done?x:C};let S,E;const k=j=>{g(h.value)&&(S=j,E=eb({keyframes:[h.value,v(h.value)],velocity:kW(w,j,h.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:j=>{let N=!1;return!E&&S===void 0&&(N=!0,_(j),k(j)),S!==void 0&&j>=S?E.next(j-S):(!N&&_(j),h)}}}function wve(e,t,r){const n=[],s=r||zo.mix||SW,a=e.length-1;for(let i=0;i<a;i++){let l=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||Ca:t;l=Fy(c,l)}n.push(l)}return n}function _ve(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const a=e.length;if(Vf(a===t.length,"Both input and output ranges must be the same length","range-length"),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=wve(t,n,s),c=l.length,u=d=>{if(i&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=vg(e[f],e[f+1],d);return l[f](h)};return r?d=>u(Ji(e[0],e[a-1],d)):u}function Sve(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=vg(0,t,n);e.push(Vr(r,1,s))}}function jve(e){const t=[0];return Sve(t,e.length-1),t}function kve(e,t){return e.map(r=>r*t)}function Eve(e,t){return e.map(()=>t||fW).splice(0,e.length-1)}function Nm({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=Dye(n)?n.map(pI):pI(n),a={done:!1,value:t[0]},i=kve(r&&r.length===t.length?r:jve(t),e),l=_ve(i,t,{ease:Array.isArray(s)?s:Eve(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Nve=e=>e!==null;function GA(e,{repeat:t,repeatType:r="loop"},n,s=1){const a=e.filter(Nve),l=s<0||t&&r!=="loop"&&t%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const Cve={decay:gN,inertia:gN,tween:Nm,keyframes:Nm,spring:eb};function EW(e){typeof e.type=="string"&&(e.type=Cve[e.type])}class YA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Pve=e=>e/100;class JA extends YA{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==gs.now()&&this.tick(gs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;EW(t);const{type:r=Nm,repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:i=0}=t;let{keyframes:l}=t;const c=r||Nm;c!==Nm&&typeof l[0]!="number"&&(this.mixKeyframes=Fy(Pve,SW(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=KA(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:a,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:g,type:v,onUpdate:p,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?x<0:x>s;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,_=n;if(f){const j=Math.min(this.currentTime,s)/l;let N=Math.floor(j),C=j%1;!C&&j>=1&&(C=1),C===1&&N--,N=Math.min(N,f+1),!!(N%2)&&(h==="reverse"?(C=1-C,g&&(C-=g/l)):h==="mirror"&&(_=i)),w=Ji(0,1,C)*l}const S=b?{done:!1,value:d[0]}:_.next(w);a&&(S.value=a(S.value));let{done:E}=S;!b&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return k&&v!==gN&&(S.value=GA(d,this.options,y,this.speed)),p&&p(S.value),k&&this.finish(),S}then(t,r){return this.finished.then(t,r)}get duration(){return Sa(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Sa(t)}get time(){return Sa(this.currentTime)}set time(t){var r;t=qi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(gs.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Sa(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:t=fve,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(a=(s=this.options).onPlay)==null||a.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Ave(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Jc=e=>e*180/Math.PI,yN=e=>{const t=Jc(Math.atan2(e[1],e[0]));return vN(t)},Tve={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:yN,rotateZ:yN,skewX:e=>Jc(Math.atan(e[1])),skewY:e=>Jc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},vN=e=>(e=e%360,e<0&&(e+=360),e),_I=yN,SI=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),jI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Ove={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:SI,scaleY:jI,scale:e=>(SI(e)+jI(e))/2,rotateX:e=>vN(Jc(Math.atan2(e[6],e[5]))),rotateY:e=>vN(Jc(Math.atan2(-e[2],e[0]))),rotateZ:_I,rotate:_I,skewX:e=>Jc(Math.atan(e[4])),skewY:e=>Jc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function xN(e){return e.includes("scale")?1:0}function bN(e,t){if(!e||e==="none")return xN(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=Ove,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Tve,s=l}if(!s)return xN(t);const a=n[t],i=s[1].split(",").map($ve);return typeof a=="function"?a(i):i[a]}const Rve=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return bN(r,t)};function $ve(e){return parseFloat(e.trim())}const Fh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bh=new Set(Fh),kI=e=>e===Dh||e===ut,Mve=new Set(["x","y","z"]),Ive=Fh.filter(e=>!Mve.has(e));function Lve(e){const t=[];return Ive.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Ll={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>bN(t,"x"),y:(e,{transform:t})=>bN(t,"y")};Ll.translateX=Ll.x;Ll.translateY=Ll.y;const vu=new Set;let wN=!1,_N=!1,SN=!1;function NW(){if(_N){const e=Array.from(vu).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=Lve(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,i])=>{var l;(l=n.getValue(a))==null||l.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}_N=!1,wN=!1,vu.forEach(e=>e.complete(SN)),vu.clear()}function CW(){vu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_N=!0)})}function Dve(){SN=!0,CW(),NW(),SN=!1}class XA{constructor(t,r,n,s,a,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(vu.add(this),wN||(wN=!0,Mr.read(CW),Mr.resolveKeyframes(NW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const a=s==null?void 0:s.get(),i=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const l=n.readValue(r,i);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=i),s&&a===void 0&&s.set(t[0])}Ave(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),vu.delete(this)}cancel(){this.state==="scheduled"&&(vu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Fve=e=>e.startsWith("--");function Bve(e,t,r){Fve(t)?e.style.setProperty(t,r):e.style[t]=r}const Uve=FA(()=>window.ScrollTimeline!==void 0),zve={};function qve(e,t){const r=FA(e);return()=>zve[t]??r()}const PW=qve(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tm=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,EI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tm([0,.65,.55,1]),circOut:tm([.55,0,1,.45]),backIn:tm([.31,.01,.66,-.59]),backOut:tm([.33,1.53,.69,.99])};function AW(e,t){if(e)return typeof e=="function"?PW()?jW(e,t):"ease-out":hW(e)?tm(e):Array.isArray(e)?e.map(r=>AW(r,t)||EI.easeOut):EI[e]}function Wve(e,t,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:i="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=AW(l,s);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:i==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function TW(e){return typeof e=="function"&&"applyToOptions"in e}function Vve({type:e,...t}){return TW(e)&&PW()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Hve extends YA{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:a,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=i,this.options=t,Vf(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const u=Vve(t);this.animation=Wve(r,n,s,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=GA(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Bve(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Sa(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Sa(t)}get time(){return Sa(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=qi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Uve()?(this.animation.timeline=t,Ca):r(this)}}const OW={anticipate:cW,backInOut:lW,circInOut:dW};function Kve(e){return e in OW}function Gve(e){typeof e.ease=="string"&&Kve(e.ease)&&(e.ease=OW[e.ease])}const GS=10;class Yve extends Hve{constructor(t){Gve(t),EW(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:a,...i}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new JA({...i,autoplay:!1}),c=Math.max(GS,gs.now()-this.startTime),u=Ji(0,GS,c-GS);r.setWithVelocity(l.sample(Math.max(0,c-u)).value,l.sample(c).value,u),l.stop()}}const NI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(dc.test(e)||e==="0")&&!e.startsWith("url("));function Jve(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Xve(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],i=NI(s,t),l=NI(a,t);return m1(i===l,`You are trying to animate ${t} from "${s}" to "${a}". "${i?a:s}" is not an animatable value.`,"value-not-animatable"),!i||!l?!1:Jve(e)||(r==="spring"||TW(r))&&n}function jN(e){e.duration=0,e.type="keyframes"}const Qve=new Set(["opacity","clipPath","filter","transform"]),Zve=FA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function e0e(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:a,type:i}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Zve()&&r&&Qve.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&a!==0&&i!=="inertia"}const t0e=40;class r0e extends YA{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var v;super(),this.stop=()=>{var p,y;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=gs.now();const h={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:i,name:c,motionValue:u,element:d,...f},g=(d==null?void 0:d.KeyframeResolver)||XA;this.keyframeResolver=new g(l,(p,y,x)=>this.onKeyframesResolved(p,y,h,!x),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:a,type:i,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=gs.now(),Xve(t,a,i,l)||((zo.instantAnimations||!c)&&(d==null||d(GA(t,n,r))),t[0]=t[t.length-1],jN(n),n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>t0e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},g=!u&&e0e(h)?new Yve({...h,element:h.motionValue.owner.current}):new JA(h);g.finished.then(()=>this.notifyFinished()).catch(Ca),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Dve()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const n0e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function s0e(e){const t=n0e.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}const a0e=4;function RW(e,t,r=1){Vf(r<=a0e,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[n,s]=s0e(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const i=a.trim();return eW(i)?parseFloat(i):i}return qA(s)?RW(s,t,r+1):s}function QA(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const i0e={type:"spring",stiffness:500,damping:25,restSpeed:10},o0e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),l0e={type:"keyframes",duration:.8},c0e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},u0e=(e,{keyframes:t})=>t.length>2?l0e:Bh.has(e)?e.startsWith("scale")?o0e(t[1]):i0e:c0e;function d0e({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const f0e=e=>e!==null;function h0e(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(f0e),a=t&&r!=="loop"&&t%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}function $W(e,t,r,n=0,s=1){const a=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),i=e.size,l=(i-1)*n;return typeof r=="function"?r(a,i):s===1?a*n:l-a*n}const ZA=(e,t,r,n={},s,a)=>i=>{const l=QA(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-qi(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};d0e(l)||Object.assign(d,u0e(e,d)),d.duration&&(d.duration=qi(d.duration)),d.repeatDelay&&(d.repeatDelay=qi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(jN(d),d.delay===0&&(f=!0)),(zo.instantAnimations||zo.skipAnimations)&&(f=!0,jN(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!a&&t.get()!==void 0){const h=h0e(d.keyframes,l);if(h!==void 0){Mr.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new JA(d):new r0e(d)},MW=new Set(["width","height","top","left","right","bottom",...Fh]),CI=30,p0e=e=>!isNaN(parseFloat(e));class m0e{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var a;const s=gs.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=gs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=p0e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new BA);const n=this.events[t].add(r);return t==="change"?()=>{n(),Mr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=gs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>CI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,CI);return nW(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hf(e,t){return new m0e(e,t)}function PI(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function eT(e,t,r,n){if(typeof t=="function"){const[s,a]=PI(n);t=t(r!==void 0?r:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=PI(n);t=t(r!==void 0?r:e.custom,s,a)}return t}function uf(e,t,r){const n=e.getProps();return eT(n,t,r!==void 0?r:n.custom,e)}const kN=e=>Array.isArray(e);function g0e(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Hf(r))}function y0e(e){return kN(e)?e[e.length-1]||0:e}function v0e(e,t){const r=uf(e,t);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const i in a){const l=y0e(a[i]);g0e(e,i,l)}}const ss=e=>!!(e&&e.getVelocity);function x0e(e){return!!(ss(e)&&e.add)}function EN(e,t){const r=e.getValue("willChange");if(x0e(r))return r.add(t);if(!r&&zo.WillChange){const n=new zo.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function tT(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const b0e="framerAppearId",IW="data-"+tT(b0e);function LW(e){return e.props[IW]}function w0e({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function DW(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:i,...l}=t;n&&(a=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&w0e(u,d))continue;const g={delay:r,...QA(a||{},d)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!g.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const x=LW(e);if(x){const b=window.MotionHandoffAnimation(x,d,Mr);b!==null&&(g.startTime=b,p=!0)}}EN(e,d),f.start(ZA(d,f,h,e.shouldReduceMotion&&MW.has(d)?{type:!1}:g,e,p));const y=f.animation;y&&c.push(y)}return i&&Promise.all(c).then(()=>{Mr.update(()=>{i&&v0e(e,i)})}),c}function NN(e,t,r={}){var c;const n=uf(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(DW(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return _0e(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[a,i]:[i,a];return u().then(()=>d())}else return Promise.all([a(),i(r.delay)])}function _0e(e,t,r=0,n=0,s=0,a=1,i){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(NN(c,t,{...i,delay:r+(typeof n=="function"?0:n)+$W(e.variantChildren,c,n,s,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function S0e(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(a=>NN(e,a,r));n=Promise.all(s)}else if(typeof t=="string")n=NN(e,t,r);else{const s=typeof t=="function"?uf(e,t,r.custom):t;n=Promise.all(DW(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const j0e={test:e=>e==="auto",parse:e=>e},FW=e=>t=>t.test(e),BW=[Dh,ut,Wi,dl,Jye,Yye,j0e],AI=e=>BW.find(FW(e));function k0e(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||rW(e):!0}const E0e=new Set(["brightness","contrast","saturate","opacity"]);function N0e(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(WA)||[];if(!n)return e;const s=r.replace(n,"");let a=E0e.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const C0e=/\b([a-z-]*)\(.*?\)/gu,CN={...dc,getAnimatableNone:e=>{const t=e.match(C0e);return t?t.map(N0e).join(" "):e}},TI={...Dh,transform:Math.round},P0e={rotate:dl,rotateX:dl,rotateY:dl,rotateZ:dl,scale:Yv,scaleX:Yv,scaleY:Yv,scaleZ:Yv,skew:dl,skewX:dl,skewY:dl,distance:ut,translateX:ut,translateY:ut,translateZ:ut,x:ut,y:ut,z:ut,perspective:ut,transformPerspective:ut,opacity:xg,originX:yI,originY:yI,originZ:ut},rT={borderWidth:ut,borderTopWidth:ut,borderRightWidth:ut,borderBottomWidth:ut,borderLeftWidth:ut,borderRadius:ut,radius:ut,borderTopLeftRadius:ut,borderTopRightRadius:ut,borderBottomRightRadius:ut,borderBottomLeftRadius:ut,width:ut,maxWidth:ut,height:ut,maxHeight:ut,top:ut,right:ut,bottom:ut,left:ut,inset:ut,insetBlock:ut,insetBlockStart:ut,insetBlockEnd:ut,insetInline:ut,insetInlineStart:ut,insetInlineEnd:ut,padding:ut,paddingTop:ut,paddingRight:ut,paddingBottom:ut,paddingLeft:ut,paddingBlock:ut,paddingBlockStart:ut,paddingBlockEnd:ut,paddingInline:ut,paddingInlineStart:ut,paddingInlineEnd:ut,margin:ut,marginTop:ut,marginRight:ut,marginBottom:ut,marginLeft:ut,marginBlock:ut,marginBlockStart:ut,marginBlockEnd:ut,marginInline:ut,marginInlineStart:ut,marginInlineEnd:ut,backgroundPositionX:ut,backgroundPositionY:ut,...P0e,zIndex:TI,fillOpacity:xg,strokeOpacity:xg,numOctaves:TI},A0e={...rT,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:CN,WebkitFilter:CN},UW=e=>A0e[e];function zW(e,t){let r=UW(e);return r!==CN&&(r=dc),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const T0e=new Set(["auto","none","0"]);function O0e(e,t,r){let n=0,s;for(;n<e.length&&!s;){const a=e[n];typeof a=="string"&&!T0e.has(a)&&bg(a).values.length&&(s=e[n]),n++}if(s&&r)for(const a of t)e[a]=zW(r,s)}class R0e extends XA{constructor(t,r,n,s,a){super(t,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),qA(f))){const h=RW(f,r.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!MW.has(n)||t.length!==2)return;const[s,a]=t,i=AI(s),l=AI(a),c=gI(s),u=gI(a);if(c!==u&&Ll[n]){this.needsMeasurement=!0;return}if(i!==l)if(kI(i)&&kI(l))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else Ll[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||k0e(t[s]))&&n.push(s);n.length&&O0e(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ll[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=n.length-1,i=n[a];n[a]=Ll[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function $0e(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const qW=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function WW(e){return tW(e)&&"offsetHeight"in e}const{schedule:nT,cancel:vGe}=pW(queueMicrotask,!1),qa={x:!1,y:!1};function VW(){return qa.x||qa.y}function M0e(e){return e==="x"||e==="y"?qa[e]?null:(qa[e]=!0,()=>{qa[e]=!1}):qa.x||qa.y?null:(qa.x=qa.y=!0,()=>{qa.x=qa.y=!1})}function HW(e,t){const r=$0e(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function OI(e){return!(e.pointerType==="touch"||VW())}function I0e(e,t,r={}){const[n,s,a]=HW(e,r),i=l=>{if(!OI(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{OI(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",i,s)}),a}const KW=(e,t)=>t?e===t?!0:KW(e,t.parentElement):!1,sT=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,L0e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GW(e){return L0e.has(e.tagName)||e.isContentEditable===!0}const z0=new WeakSet;function RI(e){return t=>{t.key==="Enter"&&e(t)}}function YS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const D0e=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=RI(()=>{if(z0.has(r))return;YS(r,"down");const s=RI(()=>{YS(r,"up")}),a=()=>YS(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function $I(e){return sT(e)&&!VW()}function F0e(e,t,r={}){const[n,s,a]=HW(e,r),i=l=>{const c=l.currentTarget;if(!$I(l))return;z0.add(c);const u=t(c,l),d=(g,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),z0.has(c)&&z0.delete(c),$I(g)&&typeof u=="function"&&u(g,{success:v})},f=g=>{d(g,c===window||c===document||r.useGlobalTarget||KW(c,g.target))},h=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",i,s),WW(l)&&(l.addEventListener("focus",u=>D0e(u,s)),!GW(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function YW(e){return tW(e)&&"ownerSVGElement"in e}function B0e(e){return YW(e)&&e.tagName==="svg"}const U0e=[...BW,dn,dc],z0e=e=>U0e.find(FW(e)),MI=()=>({translate:0,scale:1,origin:0,originPoint:0}),zd=()=>({x:MI(),y:MI()}),II=()=>({min:0,max:0}),xn=()=>({x:II(),y:II()}),PN={current:null},JW={current:!1},q0e=typeof window<"u";function W0e(){if(JW.current=!0,!!q0e)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>PN.current=e.matches;e.addEventListener("change",t),t()}else PN.current=!1}const V0e=new WeakMap;function g1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function wg(e){return typeof e=="string"||Array.isArray(e)}const aT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iT=["initial",...aT];function y1(e){return g1(e.animate)||iT.some(t=>wg(e[t]))}function XW(e){return!!(y1(e)||e.variants)}function H0e(e,t,r){for(const n in t){const s=t[n],a=r[n];if(ss(s))e.addValue(n,s);else if(ss(a))e.addValue(n,Hf(s,{owner:e}));else if(a!==s)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=e.getStaticValue(n);e.addValue(n,Hf(i!==void 0?i:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const LI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let tb={};function QW(e){tb=e}function K0e(){return tb}class G0e{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=XA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=gs.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Mr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=y1(r),this.isVariantNode=XW(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const g=f[h];c[h]!==void 0&&ss(g)&&g.set(c[h])}}mount(t){var r;this.current=t,V0e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(JW.current||W0e(),this.shouldReduceMotion=PN.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),uc(this.notifyUpdate),uc(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Bh.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Mr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in tb){const r=tb[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<LI.length;n++){const s=LI[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,i=t[a];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=H0e(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Hf(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(eW(n)||rW(n))?n=parseFloat(n):!z0e(n)&&dc.test(r)&&(n=zW(t,r)),this.setBaseTarget(t,ss(n)?n.get():n)),ss(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var a;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=eT(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ss(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new BA),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){nT.render(this.render)}}class vc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ZW extends G0e{constructor(){super(...arguments),this.KeyframeResolver=R0e}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const n=t.style;return n?n[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ss(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function eV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Y0e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function J0e(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function JS(e){return e===void 0||e===1}function AN({scale:e,scaleX:t,scaleY:r}){return!JS(e)||!JS(t)||!JS(r)}function Lc(e){return AN(e)||tV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tV(e){return DI(e.x)||DI(e.y)}function DI(e){return e&&e!=="0%"}function rb(e,t,r){const n=e-r,s=t*n;return r+s}function FI(e,t,r,n,s){return s!==void 0&&(e=rb(e,s,n)),rb(e,r,n)+t}function TN(e,t=0,r=1,n,s){e.min=FI(e.min,t,r,n,s),e.max=FI(e.max,t,r,n,s)}function rV(e,{x:t,y:r}){TN(e.x,t.translate,t.scale,t.originPoint),TN(e.y,r.translate,r.scale,r.originPoint)}const BI=.999999999999,UI=1.0000000000001;function X0e(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let a,i;for(let l=0;l<s;l++){a=r[l],i=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Wd(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,rV(e,i)),n&&Lc(a.latestValues)&&Wd(e,a.latestValues))}t.x<UI&&t.x>BI&&(t.x=1),t.y<UI&&t.y>BI&&(t.y=1)}function qd(e,t){e.min=e.min+t,e.max=e.max+t}function zI(e,t,r,n,s=.5){const a=Vr(e.min,e.max,s);TN(e,t,r,a,n)}function Wd(e,t){zI(e.x,t.x,t.scaleX,t.scale,t.originX),zI(e.y,t.y,t.scaleY,t.scale,t.originY)}function nV(e,t){return eV(J0e(e.getBoundingClientRect(),t))}function Q0e(e,t,r){const n=nV(e,r),{scroll:s}=t;return s&&(qd(n.x,s.offset.x),qd(n.y,s.offset.y)),n}const Z0e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},exe=Fh.length;function txe(e,t,r){let n="",s=!0;for(let a=0;a<exe;a++){const i=Fh[a],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=qW(l,rT[i]);if(!c){s=!1;const d=Z0e[i]||i;n+=`${d}(${u}) `}r&&(t[i]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function oT(e,t,r){const{style:n,vars:s,transformOrigin:a}=e;let i=!1,l=!1;for(const c in t){const u=t[c];if(Bh.has(c)){i=!0;continue}else if(gW(c)){s[c]=u;continue}else{const d=qW(u,rT[c]);c.startsWith("origin")?(l=!0,a[c]=d):n[c]=d}}if(t.transform||(i||r?n.transform=txe(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}function sV(e,{style:t,vars:r},n,s){const a=e.style;let i;for(i in t)a[i]=t[i];s==null||s.applyProjectionStyles(a,n);for(i in r)a.setProperty(i,r[i])}function qI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Cp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ut.test(e))e=parseFloat(e);else return e;const r=qI(e,t.target.x),n=qI(e,t.target.y);return`${r}% ${n}%`}},rxe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=dc.parse(e);if(s.length>5)return n;const a=dc.createTransformer(e),i=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+i]/=l,s[1+i]/=c;const u=Vr(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),a(s)}},ON={borderRadius:{...Cp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cp,borderTopRightRadius:Cp,borderBottomLeftRadius:Cp,borderBottomRightRadius:Cp,boxShadow:rxe};function aV(e,{layout:t,layoutId:r}){return Bh.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!ON[e]||e==="opacity")}function lT(e,t,r){var i;const n=e.style,s=t==null?void 0:t.style,a={};if(!n)return a;for(const l in n)(ss(n[l])||s&&ss(s[l])||aV(l,e)||((i=r==null?void 0:r.getValue(l))==null?void 0:i.liveStyle)!==void 0)&&(a[l]=n[l]);return a}function nxe(e){return window.getComputedStyle(e)}class sxe extends ZW{constructor(){super(...arguments),this.type="html",this.renderInstance=sV}readValueFromInstance(t,r){var n;if(Bh.has(r))return(n=this.projection)!=null&&n.isProjecting?xN(r):Rve(t,r);{const s=nxe(t),a=(gW(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return nV(t,r)}build(t,r,n){oT(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return lT(t,r,n)}}const axe={offset:"stroke-dashoffset",array:"stroke-dasharray"},ixe={offset:"strokeDashoffset",array:"strokeDasharray"};function oxe(e,t,r=1,n=0,s=!0){e.pathLength=1;const a=s?axe:ixe;e[a.offset]=ut.transform(-n);const i=ut.transform(t),l=ut.transform(r);e[a.array]=`${i} ${l}`}const lxe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function iV(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:a=1,pathOffset:i=0,...l},c,u,d){if(oT(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox);for(const g of lxe)f[g]!==void 0&&(h[g]=f[g],delete f[g]);t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),s!==void 0&&oxe(f,s,a,i,!1)}const oV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),lV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function cxe(e,t,r,n){sV(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(oV.has(s)?s:tT(s),t.attrs[s])}function cV(e,t,r){const n=lT(e,t,r);for(const s in e)if(ss(e[s])||ss(t[s])){const a=Fh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=e[s]}return n}class uxe extends ZW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Bh.has(r)){const n=UW(r);return n&&n.default||0}return r=oV.has(r)?r:tT(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return cV(t,r,n)}build(t,r,n){iV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){cxe(t,r,n,s)}mount(t){this.isSVGTag=lV(t.tagName),super.mount(t)}}const dxe=iT.length;function uV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?uV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<dxe;r++){const n=iT[r],s=e.props[n];(wg(s)||s===!1)&&(t[n]=s)}return t}function dV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const fxe=[...aT].reverse(),hxe=aT.length;function pxe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>S0e(e,r,n)))}function mxe(e){let t=pxe(e),r=WI(),n=!0;const s=c=>(u,d)=>{var h;const f=uf(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:v,...p}=f;u={...u,...p,...v}}return u};function a(c){t=c(e)}function i(c){const{props:u}=e,d=uV(e.parent)||{},f=[],h=new Set;let g={},v=1/0;for(let y=0;y<hxe;y++){const x=fxe[y],b=r[x],w=u[x]!==void 0?u[x]:d[x],_=wg(w),S=x===c?b.isActive:null;S===!1&&(v=y);let E=w===d[x]&&w!==u[x]&&_;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),b.protectedKeys={...g},!b.isActive&&S===null||!w&&!b.prevProp||g1(w)||typeof w=="boolean")continue;const k=gxe(b.prevProp,w);let j=k||x===c&&b.isActive&&!E&&_||y>v&&_,N=!1;const C=Array.isArray(w)?w:[w];let A=C.reduce(s(x),{});S===!1&&(A={});const{prevResolvedValues:R={}}=b,H={...R,...A},U=L=>{j=!0,h.has(L)&&(N=!0,h.delete(L)),b.needsAnimating[L]=!0;const T=e.getValue(L);T&&(T.liveStyle=!1)};for(const L in H){const T=A[L],q=R[L];if(g.hasOwnProperty(L))continue;let I=!1;kN(T)&&kN(q)?I=!dV(T,q):I=T!==q,I?T!=null?U(L):h.add(L):T!==void 0&&h.has(L)?U(L):b.protectedKeys[L]=!0}b.prevProp=w,b.prevResolvedValues=A,b.isActive&&(g={...g,...A}),n&&e.blockInitialAnimation&&(j=!1);const D=E&&k;j&&(!D||N)&&f.push(...C.map(L=>{const T={type:x};if(typeof L=="string"&&n&&!D&&e.manuallyAnimateOnMount&&e.parent){const{parent:q}=e,I=uf(q,L);if(q.enteringChildren&&I){const{delayChildren:P}=I.transition||{};T.delay=$W(q.enteringChildren,e,P)}}return{animation:L,options:T}}))}if(h.size){const y={};if(typeof u.initial!="boolean"){const x=uf(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(y.transition=x.transition)}h.forEach(x=>{const b=e.getBaseTarget(x),w=e.getValue(x);w&&(w.liveStyle=!0),y[x]=b??null}),f.push({animation:y})}let p=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var g;return(g=h.animationState)==null?void 0:g.setActive(c,u)}),r[c].isActive=u;const d=i(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:i,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=WI()}}}function gxe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dV(t,e):!1}function Tc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WI(){return{animate:Tc(!0),whileInView:Tc(),whileHover:Tc(),whileTap:Tc(),whileDrag:Tc(),whileFocus:Tc(),exit:Tc()}}const fV=1e-4,yxe=1-fV,vxe=1+fV,hV=.01,xxe=0-hV,bxe=0+hV;function ys(e){return e.max-e.min}function wxe(e,t,r){return Math.abs(e-t)<=r}function VI(e,t,r,n=.5){e.origin=n,e.originPoint=Vr(t.min,t.max,e.origin),e.scale=ys(r)/ys(t),e.translate=Vr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=yxe&&e.scale<=vxe||isNaN(e.scale))&&(e.scale=1),(e.translate>=xxe&&e.translate<=bxe||isNaN(e.translate))&&(e.translate=0)}function Cm(e,t,r,n){VI(e.x,t.x,r.x,n?n.originX:void 0),VI(e.y,t.y,r.y,n?n.originY:void 0)}function HI(e,t,r){e.min=r.min+t.min,e.max=e.min+ys(t)}function _xe(e,t,r){HI(e.x,t.x,r.x),HI(e.y,t.y,r.y)}function KI(e,t,r){e.min=t.min-r.min,e.max=e.min+ys(t)}function nb(e,t,r){KI(e.x,t.x,r.x),KI(e.y,t.y,r.y)}function GI(e,t,r,n,s){return e-=t,e=rb(e,1/r,n),s!==void 0&&(e=rb(e,1/s,n)),e}function Sxe(e,t=0,r=1,n=.5,s,a=e,i=e){if(Wi.test(t)&&(t=parseFloat(t),t=Vr(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=Vr(a.min,a.max,n);e===a&&(l-=t),e.min=GI(e.min,t,r,l,s),e.max=GI(e.max,t,r,l,s)}function YI(e,t,[r,n,s],a,i){Sxe(e,t[r],t[n],t[s],t.scale,a,i)}const jxe=["x","scaleX","originX"],kxe=["y","scaleY","originY"];function JI(e,t,r,n){YI(e.x,t,jxe,r?r.x:void 0,n?n.x:void 0),YI(e.y,t,kxe,r?r.y:void 0,n?n.y:void 0)}function XI(e,t){e.min=t.min,e.max=t.max}function Fa(e,t){XI(e.x,t.x),XI(e.y,t.y)}function QI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ZI(e){return e.translate===0&&e.scale===1}function pV(e){return ZI(e.x)&&ZI(e.y)}function e3(e,t){return e.min===t.min&&e.max===t.max}function Exe(e,t){return e3(e.x,t.x)&&e3(e.y,t.y)}function t3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function mV(e,t){return t3(e.x,t.x)&&t3(e.y,t.y)}function r3(e){return ys(e.x)/ys(e.y)}function n3(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function ma(e){return[e("x"),e("y")]}function Nxe(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((s||a||i)&&(n=`translate3d(${s}px, ${a}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:g,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),g&&(n+=`skewX(${g}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const gV=["TopLeft","TopRight","BottomLeft","BottomRight"],Cxe=gV.length,s3=e=>typeof e=="string"?parseFloat(e):e,a3=e=>typeof e=="number"||ut.test(e);function Pxe(e,t,r,n,s,a){s?(e.opacity=Vr(0,r.opacity??1,Axe(n)),e.opacityExit=Vr(t.opacity??1,0,Txe(n))):a&&(e.opacity=Vr(t.opacity??1,r.opacity??1,n));for(let i=0;i<Cxe;i++){const l=`border${gV[i]}Radius`;let c=i3(t,l),u=i3(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||a3(c)===a3(u)?(e[l]=Math.max(Vr(s3(c),s3(u),n),0),(Wi.test(u)||Wi.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Vr(t.rotate||0,r.rotate||0,n))}function i3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Axe=yV(0,.5,uW),Txe=yV(.5,.95,Ca);function yV(e,t,r){return n=>n<e?0:n>t?1:r(vg(e,t,n))}function Oxe(e,t){const r=gs.now(),n=({timestamp:s})=>{const a=s-r;a>=t&&(uc(n),e(a-t))};return Mr.setup(n,!0),()=>uc(n)}function _g(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function q0(e){return ss(e)?e.get():e}function Rxe(e,t,r){const n=ss(e)?e:Hf(e);return n.start(ZA("",n,t,r)),n.animation}const $xe=(e,t)=>e.depth-t.depth;class Mxe{constructor(){this.children=[],this.isDirty=!1}add(t){LA(this.children,t),this.isDirty=!0}remove(t){DA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort($xe),this.isDirty=!1,this.children.forEach(t)}}class Ixe{constructor(){this.members=[]}add(t){LA(this.members,t),t.scheduleRender()}remove(t){if(DA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const W0={hasAnimatedSinceResize:!0,hasEverUpdated:!1},XS=["","X","Y","Z"],Lxe=1e3;let Dxe=0;function QS(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function vV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=LW(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Mr,!(s||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&vV(n)}function xV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(i={},l=t==null?void 0:t()){this.id=Dxe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Uxe),this.nodes.forEach(Vxe),this.nodes.forEach(Hxe),this.nodes.forEach(zxe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Mxe)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new BA),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=YW(i)&&!B0e(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;Mr.read(()=>{f=window.innerWidth}),e(i,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,d&&d(),d=Oxe(h,250),W0.hasAnimatedSinceResize&&(W0.hasAnimatedSinceResize=!1,this.nodes.forEach(c3)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||Xxe,{onLayoutAnimationStart:p,onLayoutAnimationComplete:y}=u.getProps(),x=!this.targetLayout||!mV(this.targetLayout,g),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...QA(v,"layout"),onPlay:p,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,b)}else f||c3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),uc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Kxe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(o3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(l3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Wxe),this.nodes.forEach(Fxe),this.nodes.forEach(Bxe)):this.nodes.forEach(l3),this.clearAllSnapshots();const l=gs.now();Bn.delta=Ji(0,1e3/60,l-Bn.timestamp),Bn.timestamp=l,Bn.isProcessing=!0,qS.update.process(Bn),qS.preRender.process(Bn),qS.render.process(Bn),Bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qxe),this.sharedNodes.forEach(Gxe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ys(this.snapshot.measuredBox.x)&&!ys(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=xn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!pV(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&this.instance&&(l||Lc(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),Qxe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:i}=this.options;if(!i)return xn();const l=i.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Zxe))){const{scroll:d}=this.root;d&&(qd(l.x,d.offset.x),qd(l.y,d.offset.y))}return l}removeElementScroll(i){var c;const l=xn();if(Fa(l,i),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Fa(l,i),qd(l.x,f.offset.x),qd(l.y,f.offset.y))}return l}applyTransform(i,l=!1){const c=xn();Fa(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Wd(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Lc(d.latestValues)&&Wd(c,d.latestValues)}return Lc(this.latestValues)&&Wd(c,this.latestValues),c}removeTransform(i){const l=xn();Fa(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Lc(u.latestValues))continue;AN(u.latestValues)&&u.updateSnapshot();const d=xn(),f=u.measurePageBox();Fa(d,f),JI(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Lc(this.latestValues)&&JI(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=Bn.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xn(),this.targetWithTransforms=xn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_xe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fa(this.target,this.layout.layoutBox),rV(this.target,this.targetDelta)):Fa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||AN(this.parent.latestValues)||tV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(i,l,c){this.relativeParent=i,this.linkedParentVersion=i.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xn(),this.relativeTargetOrigin=xn(),nb(this.relativeTargetOrigin,l,c),Fa(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Bn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Fa(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;X0e(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=xn());const{target:g}=i;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QI(this.prevProjectionDelta.x,this.projectionDelta.x),QI(this.prevProjectionDelta.y,this.projectionDelta.y)),Cm(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!n3(this.projectionDelta.x,this.prevProjectionDelta.x)||!n3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zd(),this.projectionDelta=zd(),this.projectionDeltaWithTransform=zd()}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=zd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=xn(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,p=g!==v,y=this.getStack(),x=!y||y.members.length<=1,b=!!(p&&!x&&this.options.crossfade===!0&&!this.path.some(Jxe));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const S=_/1e3;u3(f.x,i.x,S),u3(f.y,i.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nb(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Yxe(this.relativeTarget,this.relativeTargetOrigin,h,S),w&&Exe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=xn()),Fa(w,this.relativeTarget)),p&&(this.animationValues=d,Pxe(d,u,this.latestValues,S,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(uc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mr.update(()=>{W0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hf(0)),this.currentAnimation=Rxe(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lxe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&bV(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||xn();const f=ys(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const h=ys(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+h}Fa(l,c),Wd(l,d),Cm(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Ixe),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&QS("z",i,u,this.animationValues);for(let d=0;d<XS.length;d++)QS(`rotate${XS[d]}`,i,u,this.animationValues),QS(`skew${XS[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}applyProjectionStyles(i,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=q0(l==null?void 0:l.pointerEvents)||"",i.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=q0(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Lc(this.latestValues)&&(i.transform=c?c({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Nxe(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),i.transform=f;const{x:h,y:g}=this.projectionDelta;i.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,u.animationValues?i.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in ON){if(d[v]===void 0)continue;const{correct:p,applyTo:y,isCSSVariable:x}=ON[v],b=f==="none"?d[v]:p(d[v],u);if(y){const w=y.length;for(let _=0;_<w;_++)i[y[_]]=b}else x?this.options.visualElement.renderState.vars[v]=b:i[v]=b}this.options.layoutId&&(i.pointerEvents=u===this?q0(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(o3),this.root.sharedNodes.clear()}}}function Fxe(e){e.updateLayout()}function Bxe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?ma(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],g=ys(h);h.min=n[f].min,h.max=h.min+g}):bV(a,t.layoutBox,n)&&ma(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],g=ys(n[f]);h.max=h.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=zd();Cm(l,n,t.layoutBox);const c=zd();i?Cm(c,e.applyTransform(s,!0),t.measuredBox):Cm(c,n,t.layoutBox);const u=!pV(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const v=xn();nb(v,t.layoutBox,h.layoutBox);const p=xn();nb(p,n,g.layoutBox),mV(v,p)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Uxe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zxe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qxe(e){e.clearSnapshot()}function o3(e){e.clearMeasurements()}function l3(e){e.isLayoutDirty=!1}function Wxe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function c3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Vxe(e){e.resolveTargetDelta()}function Hxe(e){e.calcProjection()}function Kxe(e){e.resetSkewAndRotation()}function Gxe(e){e.removeLeadSnapshot()}function u3(e,t,r){e.translate=Vr(t.translate,0,r),e.scale=Vr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function d3(e,t,r,n){e.min=Vr(t.min,r.min,n),e.max=Vr(t.max,r.max,n)}function Yxe(e,t,r,n){d3(e.x,t.x,r.x,n),d3(e.y,t.y,r.y,n)}function Jxe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Xxe={duration:.45,ease:[.4,0,.1,1]},f3=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),h3=f3("applewebkit/")&&!f3("chrome/")?Math.round:Ca;function p3(e){e.min=h3(e.min),e.max=h3(e.max)}function Qxe(e){p3(e.x),p3(e.y)}function bV(e,t,r){return e==="position"||e==="preserve-aspect"&&!wxe(r3(t),r3(r),.2)}function Zxe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const ebe=xV({attachResizeListener:(e,t)=>_g(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ZS={current:void 0},wV=xV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ZS.current){const e=new ebe({});e.mount(window),e.setOptions({layoutScroll:!0}),ZS.current=e}return ZS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),cT=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function m3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tbe(...e){return t=>{let r=!1;const n=e.map(s=>{const a=m3(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():m3(e[s],null)}}}}function rbe(...e){return m.useCallback(tbe(...e),e)}class nbe extends m.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=WW(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sbe({children:e,isPresent:t,anchorX:r,root:n}){var d;const s=m.useId(),a=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=m.useContext(cT),c=((d=e.props)==null?void 0:d.ref)??(e==null?void 0:e.ref),u=rbe(a,c);return m.useInsertionEffect(()=>{const{width:f,height:h,top:g,left:v,right:p}=i.current;if(t||!a.current||!f||!h)return;const y=r==="left"?`left: ${v}`:`right: ${p}`;a.current.dataset.motionPopId=s;const x=document.createElement("style");l&&(x.nonce=l);const b=n??document.head;return b.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            ${y}px !important;
            top: ${g}px !important;
          }
        `),()=>{b.contains(x)&&b.removeChild(x)}},[t]),o.jsx(nbe,{isPresent:t,childRef:a,sizeRef:i,children:m.cloneElement(e,{ref:u})})}const abe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:i,anchorX:l,root:c})=>{const u=IA(ibe),d=m.useId();let f=!0,h=m.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:s,onExitComplete:g=>{u.set(g,!0);for(const v of u.values())if(!v)return;n&&n()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[r,u,n]);return a&&f&&(h={...h}),m.useMemo(()=>{u.forEach((g,v)=>u.set(v,!1))},[r]),m.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),i==="popLayout"&&(e=o.jsx(sbe,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(p1.Provider,{value:h,children:e})};function ibe(){return new Map}function _V(e=!0){const t=m.useContext(p1);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,a=m.useId();m.useEffect(()=>{if(e)return s(a)},[e]);const i=m.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,i]:[!0]}const Jv=e=>e.key||"";function g3(e){const t=[];return m.Children.forEach(e,r=>{m.isValidElement(r)&&t.push(r)}),t}const obe=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:a="sync",propagate:i=!1,anchorX:l="left",root:c})=>{const[u,d]=_V(i),f=m.useMemo(()=>g3(e),[e]),h=i&&!u?[]:f.map(Jv),g=m.useRef(!0),v=m.useRef(f),p=IA(()=>new Map),y=m.useRef(new Set),[x,b]=m.useState(f),[w,_]=m.useState(f);Zq(()=>{g.current=!1,v.current=f;for(let k=0;k<w.length;k++){const j=Jv(w[k]);h.includes(j)?(p.delete(j),y.current.delete(j)):p.get(j)!==!0&&p.set(j,!1)}},[w,h.length,h.join("-")]);const S=[];if(f!==x){let k=[...f];for(let j=0;j<w.length;j++){const N=w[j],C=Jv(N);h.includes(C)||(k.splice(j,0,N),S.push(N))}return a==="wait"&&S.length&&(k=S),_(g3(k)),b(f),null}const{forceRender:E}=m.useContext(MA);return o.jsx(o.Fragment,{children:w.map(k=>{const j=Jv(k),N=i&&!u?!1:f===w||h.includes(j),C=()=>{if(y.current.has(j))return;if(y.current.add(j),p.has(j))p.set(j,!0);else return;let A=!0;p.forEach(R=>{R||(A=!1)}),A&&(E==null||E(),_(v.current),i&&(d==null||d()),n&&n())};return o.jsx(abe,{isPresent:N,initial:!g.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,root:c,onExitComplete:N?void 0:C,anchorX:l,children:k},j)})})},SV=m.createContext({strict:!1}),y3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let v3=!1;function lbe(){if(v3)return;const e={};for(const t in y3)e[t]={isEnabled:r=>y3[t].some(n=>!!r[n])};QW(e),v3=!0}function jV(){return lbe(),K0e()}function cbe(e){const t=jV();for(const r in e)t[r]={...t[r],...e[r]};QW(t)}const ube=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ube.has(e)}let kV=e=>!sb(e);function dbe(e){typeof e=="function"&&(kV=t=>t.startsWith("on")?!sb(t):e(t))}try{dbe(require("@emotion/is-prop-valid").default)}catch{}function fbe(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(kV(s)||r===!0&&sb(s)||!t&&!sb(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const v1=m.createContext({});function hbe(e,t){if(y1(e)){const{initial:r,animate:n}=e;return{initial:r===!1||wg(r)?r:void 0,animate:wg(n)?n:void 0}}return e.inherit!==!1?t:{}}function pbe(e){const{initial:t,animate:r}=hbe(e,m.useContext(v1));return m.useMemo(()=>({initial:t,animate:r}),[x3(t),x3(r)])}function x3(e){return Array.isArray(e)?e.join(" "):e}const uT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function EV(e,t,r){for(const n in t)!ss(t[n])&&!aV(n,r)&&(e[n]=t[n])}function mbe({transformTemplate:e},t){return m.useMemo(()=>{const r=uT();return oT(r,t,e),Object.assign({},r.vars,r.style)},[t])}function gbe(e,t){const r=e.style||{},n={};return EV(n,r,e),Object.assign(n,mbe(e,t)),n}function ybe(e,t){const r={},n=gbe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const NV=()=>({...uT(),attrs:{}});function vbe(e,t,r,n){const s=m.useMemo(()=>{const a=NV();return iV(a,t,lV(n),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};EV(a,e.style,e),s.style={...a,...s.style}}return s}const xbe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dT(e){return typeof e!="string"||e.includes("-")?!1:!!(xbe.indexOf(e)>-1||/[A-Z]/u.test(e))}function bbe(e,t,r,{latestValues:n},s,a=!1,i){const c=(i??dT(e)?vbe:ybe)(t,n,s,e),u=fbe(t,typeof e=="string",a),d=e!==m.Fragment?{...u,...c,ref:r}:{},{children:f}=t,h=m.useMemo(()=>ss(f)?f.get():f,[f]);return m.createElement(e,{...d,children:h})}function wbe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:_be(r,n,s,e),renderState:t()}}function _be(e,t,r,n){const s={},a=n(e,{});for(const h in a)s[h]=q0(a[h]);let{initial:i,animate:l}=e;const c=y1(e),u=XW(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||i===!1;const f=d?l:i;if(f&&typeof f!="boolean"&&!g1(f)){const h=Array.isArray(f)?f:[f];for(let g=0;g<h.length;g++){const v=eT(e,h[g]);if(v){const{transitionEnd:p,transition:y,...x}=v;for(const b in x){let w=x[b];if(Array.isArray(w)){const _=d?w.length-1:0;w=w[_]}w!==null&&(s[b]=w)}for(const b in p)s[b]=p[b]}}}return s}const CV=e=>(t,r)=>{const n=m.useContext(v1),s=m.useContext(p1),a=()=>wbe(e,t,n,s);return r?a():IA(a)},Sbe=CV({scrapeMotionValuesFromProps:lT,createRenderState:uT}),jbe=CV({scrapeMotionValuesFromProps:cV,createRenderState:NV}),kbe=Symbol.for("motionComponentSymbol");function Ebe(e,t,r){const n=m.useRef(r);m.useInsertionEffect(()=>{n.current=r});const s=m.useRef(null);return m.useCallback(a=>{var l;a&&((l=e.onMount)==null||l.call(e,a)),t&&(a?t.mount(a):t.unmount());const i=n.current;if(typeof i=="function")if(a){const c=i(a);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):i(a);else i&&(i.current=a)},[t])}const PV=m.createContext({});function rm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Nbe(e,t,r,n,s,a){var y,x;const{visualElement:i}=m.useContext(v1),l=m.useContext(SV),c=m.useContext(p1),u=m.useContext(cT).reducedMotion,d=m.useRef(null);n=n||l.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,isSVG:a}));const f=d.current,h=m.useContext(PV);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&Cbe(d.current,r,s,h);const g=m.useRef(!1);m.useInsertionEffect(()=>{f&&g.current&&f.update(r,c)});const v=r[IW],p=m.useRef(!!v&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,v))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,v)));return Zq(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),p.current&&f.animationState&&f.animationState.animateChanges())}),m.useEffect(()=>{f&&(!p.current&&f.animationState&&f.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,v)}),p.current=!1),f.enteringChildren=void 0)}),f}function Cbe(e,t,r,n){const{layoutId:s,layout:a,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:AV(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!i||l&&rm(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function AV(e){if(e)return e.options.allowProjection!==!1?e.projection:AV(e.parent)}function ej(e,{forwardMotionProps:t=!1,type:r}={},n,s){n&&cbe(n);const a=r?r==="svg":dT(e),i=a?jbe:Sbe;function l(u,d){let f;const h={...m.useContext(cT),...u,layoutId:Pbe(u)},{isStatic:g}=h,v=pbe(u),p=i(u,g);if(!g&&Qq){Abe();const y=Tbe(h);f=y.MeasureLayout,v.visualElement=Nbe(e,p,h,s,y.ProjectionNode,a)}return o.jsxs(v1.Provider,{value:v,children:[f&&v.visualElement?o.jsx(f,{visualElement:v.visualElement,...h}):null,bbe(e,u,Ebe(p,v.visualElement,d),p,g,t,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=m.forwardRef(l);return c[kbe]=e,c}function Pbe({layoutId:e}){const t=m.useContext(MA).id;return t&&e!==void 0?t+"-"+e:e}function Abe(e,t){m.useContext(SV).strict}function Tbe(e){const t=jV(),{drag:r,layout:n}=t;if(!r&&!n)return{};const s={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Obe(e,t){if(typeof Proxy>"u")return ej;const r=new Map,n=(a,i)=>ej(a,i,e,t),s=(a,i)=>n(a,i);return new Proxy(s,{get:(a,i)=>i==="create"?n:(r.has(i)||r.set(i,ej(i,void 0,e,t)),r.get(i))})}const Rbe=(e,t)=>t.isSVG??dT(e)?new uxe(t):new sxe(t,{allowProjection:e!==m.Fragment});class $be extends vc{constructor(t){super(t),t.animationState||(t.animationState=mxe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();g1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Mbe=0;class Ibe extends vc{constructor(){super(...arguments),this.id=Mbe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Lbe={animation:{Feature:$be},exit:{Feature:Ibe}};function zy(e){return{point:{x:e.pageX,y:e.pageY}}}const Dbe=e=>t=>sT(t)&&e(t,zy(t));function Pm(e,t,r,n){return _g(e,t,Dbe(r),n)}const TV=({current:e})=>e?e.ownerDocument.defaultView:null,b3=(e,t)=>Math.abs(e-t);function Fbe(e,t){const r=b3(e.x,t.x),n=b3(e.y,t.y);return Math.sqrt(r**2+n**2)}const w3=new Set(["auto","scroll"]);class OV{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:i=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=rj(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,p=Fbe(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!p)return;const{point:y}=g,{timestamp:x}=Bn;this.history.push({...y,timestamp:x});const{onStart:b,onMove:w}=this.handlers;v||(b&&b(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=tj(v,this.transformPagePoint),Mr.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=rj(g.type==="pointercancel"?this.lastMoveEventInfo:tj(v,this.transformPagePoint),this.history);this.startEvent&&p&&p(g,b),y&&y(g,b)},!sT(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=s||window;const c=zy(t),u=tj(c,this.transformPagePoint),{point:d}=u,{timestamp:f}=Bn;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=r;h&&h(t,rj(u,this.history)),this.removeListeners=Fy(Pm(this.contextWindow,"pointermove",this.handlePointerMove),Pm(this.contextWindow,"pointerup",this.handlePointerUp),Pm(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let r=t.parentElement;for(;r;){const n=getComputedStyle(r);(w3.has(n.overflowX)||w3.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const n=t===window,s=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:s.x-r.x,y:s.y-r.y};a.x===0&&a.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,s),Mr.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),uc(this.updatePoint)}}function tj(e,t){return t?{point:t(e.point)}:e}function _3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rj({point:e},t){return{point:e,delta:_3(e,RV(t)),offset:_3(e,Bbe(t)),velocity:Ube(t,.1)}}function Bbe(e){return e[0]}function RV(e){return e[e.length-1]}function Ube(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=RV(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>qi(t)));)r--;if(!n)return{x:0,y:0};const a=Sa(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const i={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function zbe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Vr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Vr(r,e,n.max):Math.min(e,r)),e}function S3(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function qbe(e,{top:t,left:r,bottom:n,right:s}){return{x:S3(e.x,r,s),y:S3(e.y,t,n)}}function j3(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Wbe(e,t){return{x:j3(e.x,t.x),y:j3(e.y,t.y)}}function Vbe(e,t){let r=.5;const n=ys(e),s=ys(t);return s>n?r=vg(t.min,t.max-n,e.min):n>s&&(r=vg(e.min,e.max-s,t.min)),Ji(0,1,r)}function Hbe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const RN=.35;function Kbe(e=RN){return e===!1?e=0:e===!0&&(e=RN),{x:k3(e,"left","right"),y:k3(e,"top","bottom")}}function k3(e,t,r){return{min:E3(e,t),max:E3(e,r)}}function E3(e,t){return typeof e=="number"?e:e[t]||0}const Gbe=new WeakMap;class Ybe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=f=>{r?(this.stopAnimation(),this.snapToCursor(zy(f).point)):this.pauseAnimation()},i=(f,h)=>{this.stopAnimation();const{drag:g,dragPropagation:v,onDragStart:p}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=M0e(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ma(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Wi.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[x];_&&(b=ys(_)*(parseFloat(b)/100))}}this.originPoint[x]=b}),p&&Mr.postRender(()=>p(f,h)),EN(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:p,onDrag:y}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:x}=h;if(v&&this.currentDirection===null){this.currentDirection=Jbe(x),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),y&&y(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ma(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new OV(t,{onSessionStart:a,onStart:i,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:TV(this.visualElement),element:this.visualElement.current})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&Mr.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Xv(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=zbe(i,this.constraints[t],this.elastic[t])),a.set(i)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&rm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=qbe(n.layoutBox,t):this.constraints=!1,this.elastic=Kbe(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ma(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Hbe(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!rm(t))return!1;const n=t.current;Vf(n!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=Q0e(n,s.root,this.visualElement.getTransformPagePoint());let i=Wbe(s.layout.layoutBox,a);if(r){const l=r(Y0e(i));this.hasMutatedConstraints=!!l,l&&(i=eV(l))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ma(d=>{if(!Xv(d,r,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const h=s?200:1e6,g=s?40:1e7,v={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return EN(this.visualElement,t),n.start(ZA(t,n,0,r,this.visualElement,!1))}stopAnimation(){ma(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ma(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ma(r=>{const{drag:n}=this.getProps();if(!Xv(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[r],c=a.get()||0;a.set(t[r]-Vr(i,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!rm(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ma(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();s[i]=Vbe({min:c,max:c},this.constraints[i])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ma(i=>{if(!Xv(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(Vr(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;Gbe.set(this.visualElement,this);const t=this.visualElement.current,r=Pm(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&!GW(c.target)&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();rm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Mr.read(n);const i=_g(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ma(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:i=RN,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:i,dragMomentum:l}}}function Xv(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Jbe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Xbe extends vc{constructor(t){super(t),this.removeGroupControls=Ca,this.removeListeners=Ca,this.controls=new Ybe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ca}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const N3=e=>(t,r)=>{e&&Mr.postRender(()=>e(t,r))};class Qbe extends vc{constructor(){super(...arguments),this.removePointerDownListener=Ca}onPointerDown(t){this.session=new OV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:N3(t),onStart:N3(r),onMove:n,onEnd:(a,i)=>{delete this.session,s&&Mr.postRender(()=>s(a,i))}}}mount(){this.removePointerDownListener=Pm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let nj=!1;class Zbe extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=t;a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),nj&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),W0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,{projection:i}=n;return i&&(i.isPresent=a,nj=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==a?i.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?i.promote():i.relegate()||Mr.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),nT.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;nj=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $V(e){const[t,r]=_V(),n=m.useContext(MA);return o.jsx(Zbe,{...e,layoutGroup:n,switchLayoutGroup:m.useContext(PV),isPresent:t,safeToRemove:r})}const ewe={pan:{Feature:Qbe},drag:{Feature:Xbe,ProjectionNode:wV,MeasureLayout:$V}};function C3(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&Mr.postRender(()=>a(t,zy(t)))}class twe extends vc{mount(){const{current:t}=this.node;t&&(this.unmount=I0e(t,(r,n)=>(C3(this.node,n,"Start"),s=>C3(this.node,s,"End"))))}unmount(){}}class rwe extends vc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fy(_g(this.node.current,"focus",()=>this.onFocus()),_g(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function P3(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&Mr.postRender(()=>a(t,zy(t)))}class nwe extends vc{mount(){const{current:t}=this.node;t&&(this.unmount=F0e(t,(r,n)=>(P3(this.node,n,"Start"),(s,{success:a})=>P3(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $N=new WeakMap,sj=new WeakMap,swe=e=>{const t=$N.get(e.target);t&&t(e)},awe=e=>{e.forEach(swe)};function iwe({root:e,...t}){const r=e||document;sj.has(r)||sj.set(r,{});const n=sj.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(awe,{root:e,...t})),n[s]}function owe(e,t,r){const n=iwe(t);return $N.set(e,r),n.observe(e),()=>{$N.delete(e),n.unobserve(e)}}const lwe={some:0,all:1};class cwe extends vc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:lwe[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return owe(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(uwe(t,r))&&this.startObserver()}unmount(){}}function uwe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const dwe={inView:{Feature:cwe},tap:{Feature:nwe},focus:{Feature:rwe},hover:{Feature:twe}},fwe={layout:{ProjectionNode:wV,MeasureLayout:$V}},hwe={...Lbe,...dwe,...ewe,...fwe},Un=Obe(hwe,Rbe);var pwe=Array.isArray,Hs=pwe,mwe=typeof ns=="object"&&ns&&ns.Object===Object&&ns,MV=mwe,gwe=MV,ywe=typeof self=="object"&&self&&self.Object===Object&&self,vwe=gwe||ywe||Function("return this")(),ro=vwe,xwe=ro,bwe=xwe.Symbol,qy=bwe,A3=qy,IV=Object.prototype,wwe=IV.hasOwnProperty,_we=IV.toString,Pp=A3?A3.toStringTag:void 0;function Swe(e){var t=wwe.call(e,Pp),r=e[Pp];try{e[Pp]=void 0;var n=!0}catch{}var s=_we.call(e);return n&&(t?e[Pp]=r:delete e[Pp]),s}var jwe=Swe,kwe=Object.prototype,Ewe=kwe.toString;function Nwe(e){return Ewe.call(e)}var Cwe=Nwe,T3=qy,Pwe=jwe,Awe=Cwe,Twe="[object Null]",Owe="[object Undefined]",O3=T3?T3.toStringTag:void 0;function Rwe(e){return e==null?e===void 0?Owe:Twe:O3&&O3 in Object(e)?Pwe(e):Awe(e)}var Yo=Rwe;function $we(e){return e!=null&&typeof e=="object"}var Jo=$we,Mwe=Yo,Iwe=Jo,Lwe="[object Symbol]";function Dwe(e){return typeof e=="symbol"||Iwe(e)&&Mwe(e)==Lwe}var Uh=Dwe,Fwe=Hs,Bwe=Uh,Uwe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zwe=/^\w*$/;function qwe(e,t){if(Fwe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Bwe(e)?!0:zwe.test(e)||!Uwe.test(e)||t!=null&&e in Object(t)}var fT=qwe;function Wwe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var xc=Wwe;const zh=wr(xc);var Vwe=Yo,Hwe=xc,Kwe="[object AsyncFunction]",Gwe="[object Function]",Ywe="[object GeneratorFunction]",Jwe="[object Proxy]";function Xwe(e){if(!Hwe(e))return!1;var t=Vwe(e);return t==Gwe||t==Ywe||t==Kwe||t==Jwe}var hT=Xwe;const Kt=wr(hT);var Qwe=ro,Zwe=Qwe["__core-js_shared__"],e1e=Zwe,aj=e1e,R3=function(){var e=/[^.]+$/.exec(aj&&aj.keys&&aj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function t1e(e){return!!R3&&R3 in e}var r1e=t1e,n1e=Function.prototype,s1e=n1e.toString;function a1e(e){if(e!=null){try{return s1e.call(e)}catch{}try{return e+""}catch{}}return""}var LV=a1e,i1e=hT,o1e=r1e,l1e=xc,c1e=LV,u1e=/[\\^$.*+?()[\]{}|]/g,d1e=/^\[object .+?Constructor\]$/,f1e=Function.prototype,h1e=Object.prototype,p1e=f1e.toString,m1e=h1e.hasOwnProperty,g1e=RegExp("^"+p1e.call(m1e).replace(u1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y1e(e){if(!l1e(e)||o1e(e))return!1;var t=i1e(e)?g1e:d1e;return t.test(c1e(e))}var v1e=y1e;function x1e(e,t){return e==null?void 0:e[t]}var b1e=x1e,w1e=v1e,_1e=b1e;function S1e(e,t){var r=_1e(e,t);return w1e(r)?r:void 0}var Ju=S1e,j1e=Ju,k1e=j1e(Object,"create"),x1=k1e,$3=x1;function E1e(){this.__data__=$3?$3(null):{},this.size=0}var N1e=E1e;function C1e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var P1e=C1e,A1e=x1,T1e="__lodash_hash_undefined__",O1e=Object.prototype,R1e=O1e.hasOwnProperty;function $1e(e){var t=this.__data__;if(A1e){var r=t[e];return r===T1e?void 0:r}return R1e.call(t,e)?t[e]:void 0}var M1e=$1e,I1e=x1,L1e=Object.prototype,D1e=L1e.hasOwnProperty;function F1e(e){var t=this.__data__;return I1e?t[e]!==void 0:D1e.call(t,e)}var B1e=F1e,U1e=x1,z1e="__lodash_hash_undefined__";function q1e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=U1e&&t===void 0?z1e:t,this}var W1e=q1e,V1e=N1e,H1e=P1e,K1e=M1e,G1e=B1e,Y1e=W1e;function qh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qh.prototype.clear=V1e;qh.prototype.delete=H1e;qh.prototype.get=K1e;qh.prototype.has=G1e;qh.prototype.set=Y1e;var J1e=qh;function X1e(){this.__data__=[],this.size=0}var Q1e=X1e;function Z1e(e,t){return e===t||e!==e&&t!==t}var pT=Z1e,e_e=pT;function t_e(e,t){for(var r=e.length;r--;)if(e_e(e[r][0],t))return r;return-1}var b1=t_e,r_e=b1,n_e=Array.prototype,s_e=n_e.splice;function a_e(e){var t=this.__data__,r=r_e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():s_e.call(t,r,1),--this.size,!0}var i_e=a_e,o_e=b1;function l_e(e){var t=this.__data__,r=o_e(t,e);return r<0?void 0:t[r][1]}var c_e=l_e,u_e=b1;function d_e(e){return u_e(this.__data__,e)>-1}var f_e=d_e,h_e=b1;function p_e(e,t){var r=this.__data__,n=h_e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var m_e=p_e,g_e=Q1e,y_e=i_e,v_e=c_e,x_e=f_e,b_e=m_e;function Wh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wh.prototype.clear=g_e;Wh.prototype.delete=y_e;Wh.prototype.get=v_e;Wh.prototype.has=x_e;Wh.prototype.set=b_e;var w1=Wh,w_e=Ju,__e=ro,S_e=w_e(__e,"Map"),mT=S_e,M3=J1e,j_e=w1,k_e=mT;function E_e(){this.size=0,this.__data__={hash:new M3,map:new(k_e||j_e),string:new M3}}var N_e=E_e;function C_e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var P_e=C_e,A_e=P_e;function T_e(e,t){var r=e.__data__;return A_e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var _1=T_e,O_e=_1;function R_e(e){var t=O_e(this,e).delete(e);return this.size-=t?1:0,t}var $_e=R_e,M_e=_1;function I_e(e){return M_e(this,e).get(e)}var L_e=I_e,D_e=_1;function F_e(e){return D_e(this,e).has(e)}var B_e=F_e,U_e=_1;function z_e(e,t){var r=U_e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var q_e=z_e,W_e=N_e,V_e=$_e,H_e=L_e,K_e=B_e,G_e=q_e;function Vh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vh.prototype.clear=W_e;Vh.prototype.delete=V_e;Vh.prototype.get=H_e;Vh.prototype.has=K_e;Vh.prototype.set=G_e;var gT=Vh,DV=gT,Y_e="Expected a function";function yT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Y_e);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var i=e.apply(this,n);return r.cache=a.set(s,i)||a,i};return r.cache=new(yT.Cache||DV),r}yT.Cache=DV;var FV=yT;const J_e=wr(FV);var X_e=FV,Q_e=500;function Z_e(e){var t=X_e(e,function(n){return r.size===Q_e&&r.clear(),n}),r=t.cache;return t}var eSe=Z_e,tSe=eSe,rSe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nSe=/\\(\\)?/g,sSe=tSe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rSe,function(r,n,s,a){t.push(s?a.replace(nSe,"$1"):n||r)}),t}),aSe=sSe;function iSe(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var vT=iSe,I3=qy,oSe=vT,lSe=Hs,cSe=Uh,uSe=1/0,L3=I3?I3.prototype:void 0,D3=L3?L3.toString:void 0;function BV(e){if(typeof e=="string")return e;if(lSe(e))return oSe(e,BV)+"";if(cSe(e))return D3?D3.call(e):"";var t=e+"";return t=="0"&&1/e==-uSe?"-0":t}var dSe=BV,fSe=dSe;function hSe(e){return e==null?"":fSe(e)}var UV=hSe,pSe=Hs,mSe=fT,gSe=aSe,ySe=UV;function vSe(e,t){return pSe(e)?e:mSe(e,t)?[e]:gSe(ySe(e))}var zV=vSe,xSe=Uh,bSe=1/0;function wSe(e){if(typeof e=="string"||xSe(e))return e;var t=e+"";return t=="0"&&1/e==-bSe?"-0":t}var S1=wSe,_Se=zV,SSe=S1;function jSe(e,t){t=_Se(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[SSe(t[r++])];return r&&r==n?e:void 0}var xT=jSe,kSe=xT;function ESe(e,t,r){var n=e==null?void 0:kSe(e,t);return n===void 0?r:n}var qV=ESe;const Pa=wr(qV);function NSe(e){return e==null}var CSe=NSe;const cr=wr(CSe);var PSe=Yo,ASe=Hs,TSe=Jo,OSe="[object String]";function RSe(e){return typeof e=="string"||!ASe(e)&&TSe(e)&&PSe(e)==OSe}var $Se=RSe;const Wy=wr($Se);var WV={exports:{}},yr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT=Symbol.for("react.element"),wT=Symbol.for("react.portal"),j1=Symbol.for("react.fragment"),k1=Symbol.for("react.strict_mode"),E1=Symbol.for("react.profiler"),N1=Symbol.for("react.provider"),C1=Symbol.for("react.context"),MSe=Symbol.for("react.server_context"),P1=Symbol.for("react.forward_ref"),A1=Symbol.for("react.suspense"),T1=Symbol.for("react.suspense_list"),O1=Symbol.for("react.memo"),R1=Symbol.for("react.lazy"),ISe=Symbol.for("react.offscreen"),VV;VV=Symbol.for("react.module.reference");function Ma(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bT:switch(e=e.type,e){case j1:case E1:case k1:case A1:case T1:return e;default:switch(e=e&&e.$$typeof,e){case MSe:case C1:case P1:case R1:case O1:case N1:return e;default:return t}}case wT:return t}}}yr.ContextConsumer=C1;yr.ContextProvider=N1;yr.Element=bT;yr.ForwardRef=P1;yr.Fragment=j1;yr.Lazy=R1;yr.Memo=O1;yr.Portal=wT;yr.Profiler=E1;yr.StrictMode=k1;yr.Suspense=A1;yr.SuspenseList=T1;yr.isAsyncMode=function(){return!1};yr.isConcurrentMode=function(){return!1};yr.isContextConsumer=function(e){return Ma(e)===C1};yr.isContextProvider=function(e){return Ma(e)===N1};yr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bT};yr.isForwardRef=function(e){return Ma(e)===P1};yr.isFragment=function(e){return Ma(e)===j1};yr.isLazy=function(e){return Ma(e)===R1};yr.isMemo=function(e){return Ma(e)===O1};yr.isPortal=function(e){return Ma(e)===wT};yr.isProfiler=function(e){return Ma(e)===E1};yr.isStrictMode=function(e){return Ma(e)===k1};yr.isSuspense=function(e){return Ma(e)===A1};yr.isSuspenseList=function(e){return Ma(e)===T1};yr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===j1||e===E1||e===k1||e===A1||e===T1||e===ISe||typeof e=="object"&&e!==null&&(e.$$typeof===R1||e.$$typeof===O1||e.$$typeof===N1||e.$$typeof===C1||e.$$typeof===P1||e.$$typeof===VV||e.getModuleId!==void 0)};yr.typeOf=Ma;WV.exports=yr;var HV=WV.exports,LSe=Yo,DSe=Jo,FSe="[object Number]";function BSe(e){return typeof e=="number"||DSe(e)&&LSe(e)==FSe}var KV=BSe;const USe=wr(KV);var zSe=KV;function qSe(e){return zSe(e)&&e!=+e}var WSe=qSe;const Vy=wr(WSe);var ei=function(t){return t===0?0:t>0?1:-1},Xc=function(t){return Wy(t)&&t.indexOf("%")===t.length-1},Xe=function(t){return USe(t)&&!Vy(t)},Cn=function(t){return Xe(t)||Wy(t)},VSe=0,$1=function(t){var r=++VSe;return"".concat(t||"").concat(r)},Lu=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&!Wy(t))return n;var a;if(Xc(t)){var i=t.indexOf("%");a=r*parseFloat(t.slice(0,i))/100}else a=+t;return Vy(a)&&(a=n),s&&a>r&&(a=r),a},_l=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},HSe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},hd=function(t,r){return Xe(t)&&Xe(r)?function(n){return t+n*(r-t)}:function(){return r}};function MN(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Pa(n,t))===r})}function df(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function IN(e){"@babel/helpers - typeof";return IN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IN(e)}var KSe=["viewBox","children"],GSe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],F3=["points","pathLength"],ij={svg:KSe,polygon:F3,polyline:F3},_T=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ab=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(m.isValidElement(t)&&(n=t.props),!zh(n))return null;var s={};return Object.keys(n).forEach(function(a){_T.includes(a)&&(s[a]=r||function(i){return n[a](n,i)})}),s},YSe=function(t,r,n){return function(s){return t(r,n,s),null}},ib=function(t,r,n){if(!zh(t)||IN(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var i=t[a];_T.includes(a)&&typeof i=="function"&&(s||(s={}),s[a]=YSe(i,r,n))}),s},JSe=["children"],XSe=["children"];function B3(e,t){if(e==null)return{};var r=QSe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var U3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Po=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},z3=null,oj=null,ST=function e(t){if(t===z3&&Array.isArray(oj))return oj;var r=[];return m.Children.forEach(t,function(n){cr(n)||(HV.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),oj=r,z3=t,r};function si(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Po(s)}):n=[Po(t)],ST(e).forEach(function(s){var a=Pa(s,"type.displayName")||Pa(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}function Qs(e,t){var r=si(e,t);return r&&r[0]}var q3=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!Xe(n)||n<=0||!Xe(s)||s<=0)},ZSe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],eje=function(t){return t&&t.type&&Wy(t.type)&&ZSe.indexOf(t.type)>=0},tje=function(t,r,n,s){var a,i=(a=ij==null?void 0:ij[s])!==null&&a!==void 0?a:[];return!Kt(t)&&(s&&i.includes(r)||GSe.includes(r))||n&&_T.includes(r)},ar=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(m.isValidElement(t)&&(s=t.props),!zh(s))return null;var a={};return Object.keys(s).forEach(function(i){var l;tje((l=s)===null||l===void 0?void 0:l[i],i,r,n)&&(a[i]=s[i])}),a},LN=function e(t,r){if(t===r)return!0;var n=m.Children.count(t);if(n!==m.Children.count(r))return!1;if(n===0)return!0;if(n===1)return W3(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=t[s],i=r[s];if(Array.isArray(a)||Array.isArray(i)){if(!e(a,i))return!1}else if(!W3(a,i))return!1}return!0},W3=function(t,r){if(cr(t)&&cr(r))return!0;if(!cr(t)&&!cr(r)){var n=t.props||{},s=n.children,a=B3(n,JSe),i=r.props||{},l=i.children,c=B3(i,XSe);return s&&l?df(a,c)&&LN(s,l):!s&&!l?df(a,c):!1}return!1},V3=function(t,r){var n=[],s={};return ST(t).forEach(function(a,i){if(eje(a))n.push(a);else if(a){var l=Po(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(a,l,i);n.push(f),s[l]=!0}}}),n},rje=function(t){var r=t&&t.type;return r&&U3[r]?U3[r]:null},nje=function(t,r){return ST(r).indexOf(t)},sje=["children","width","height","viewBox","className","style","title","desc"];function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DN.apply(this,arguments)}function aje(e,t){if(e==null)return{};var r=ije(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ije(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FN(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,a=e.className,i=e.style,l=e.title,c=e.desc,u=aje(e,sje),d=s||{width:r,height:n,x:0,y:0},f=er("recharts-surface",a);return M.createElement("svg",DN({},ar(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,l),M.createElement("desc",null,c),t)}var oje=["children","className"];function BN(){return BN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BN.apply(this,arguments)}function lje(e,t){if(e==null)return{};var r=cje(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Mn=M.forwardRef(function(e,t){var r=e.children,n=e.className,s=lje(e,oje),a=er("recharts-layer",n);return M.createElement("g",BN({className:a},ar(s,!0),{ref:t}),r)}),Ao=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]};function uje(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var dje=uje,fje=dje;function hje(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:fje(e,t,r)}var pje=hje,mje="\\ud800-\\udfff",gje="\\u0300-\\u036f",yje="\\ufe20-\\ufe2f",vje="\\u20d0-\\u20ff",xje=gje+yje+vje,bje="\\ufe0e\\ufe0f",wje="\\u200d",_je=RegExp("["+wje+mje+xje+bje+"]");function Sje(e){return _je.test(e)}var GV=Sje;function jje(e){return e.split("")}var kje=jje,YV="\\ud800-\\udfff",Eje="\\u0300-\\u036f",Nje="\\ufe20-\\ufe2f",Cje="\\u20d0-\\u20ff",Pje=Eje+Nje+Cje,Aje="\\ufe0e\\ufe0f",Tje="["+YV+"]",UN="["+Pje+"]",zN="\\ud83c[\\udffb-\\udfff]",Oje="(?:"+UN+"|"+zN+")",JV="[^"+YV+"]",XV="(?:\\ud83c[\\udde6-\\uddff]){2}",QV="[\\ud800-\\udbff][\\udc00-\\udfff]",Rje="\\u200d",ZV=Oje+"?",eH="["+Aje+"]?",$je="(?:"+Rje+"(?:"+[JV,XV,QV].join("|")+")"+eH+ZV+")*",Mje=eH+ZV+$je,Ije="(?:"+[JV+UN+"?",UN,XV,QV,Tje].join("|")+")",Lje=RegExp(zN+"(?="+zN+")|"+Ije+Mje,"g");function Dje(e){return e.match(Lje)||[]}var Fje=Dje,Bje=kje,Uje=GV,zje=Fje;function qje(e){return Uje(e)?zje(e):Bje(e)}var Wje=qje,Vje=pje,Hje=GV,Kje=Wje,Gje=UV;function Yje(e){return function(t){t=Gje(t);var r=Hje(t)?Kje(t):void 0,n=r?r[0]:t.charAt(0),s=r?Vje(r,1).join(""):t.slice(1);return n[e]()+s}}var Jje=Yje,Xje=Jje,Qje=Xje("toUpperCase"),Zje=Qje;const M1=wr(Zje);function kr(e){return function(){return e}}const tH=Math.cos,ob=Math.sin,gi=Math.sqrt,lb=Math.PI,I1=2*lb,qN=Math.PI,WN=2*qN,Dc=1e-6,eke=WN-Dc;function rH(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function tke(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rH;const r=10**t;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class rke{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?rH:tke(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,a,i){this._append`C${+t},${+r},${+n},${+s},${this._x1=+a},${this._y1=+i}`}arcTo(t,r,n,s,a){if(t=+t,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let i=this._x1,l=this._y1,c=n-t,u=s-r,d=i-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Dc)if(!(Math.abs(f*c-u*d)>Dc)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-i,v=s-l,p=c*c+u*u,y=g*g+v*v,x=Math.sqrt(p),b=Math.sqrt(h),w=a*Math.tan((qN-Math.acos((p+h-y)/(2*x*b)))/2),_=w/b,S=w/x;Math.abs(_-1)>Dc&&this._append`L${t+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*g>d*v)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,s,a,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^i,h=i?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Dc||Math.abs(this._y1-d)>Dc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%WN+WN),h>eke?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Dc&&this._append`A${n},${n},0,${+(h>=qN)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function jT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new rke(t)}function kT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nH(e){this._context=e}nH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function L1(e){return new nH(e)}function sH(e){return e[0]}function aH(e){return e[1]}function iH(e,t){var r=kr(!0),n=null,s=L1,a=null,i=jT(l);e=typeof e=="function"?e:e===void 0?sH:kr(e),t=typeof t=="function"?t:t===void 0?aH:kr(t);function l(c){var u,d=(c=kT(c)).length,f,h=!1,g;for(n==null&&(a=s(g=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(g)return a=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:kr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:kr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:kr(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),l):n},l}function Qv(e,t,r){var n=null,s=kr(!0),a=null,i=L1,l=null,c=jT(u);e=typeof e=="function"?e:e===void 0?sH:kr(+e),t=typeof t=="function"?t:kr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?aH:kr(+r);function u(f){var h,g,v,p=(f=kT(f)).length,y,x=!1,b,w=new Array(p),_=new Array(p);for(a==null&&(l=i(b=c())),h=0;h<=p;++h){if(!(h<p&&s(y=f[h],h,f))===x)if(x=!x)g=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=g;--v)l.point(w[v],_[v]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(y,h,f),_[h]=+t(y,h,f),l.point(n?+n(y,h,f):w[h],r?+r(y,h,f):_[h]))}if(b)return l=null,b+""||null}function d(){return iH().defined(s).curve(i).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:kr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:kr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:kr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:kr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:kr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:kr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:kr(!!f),u):s},u.curve=function(f){return arguments.length?(i=f,a!=null&&(l=i(a)),u):i},u.context=function(f){return arguments.length?(f==null?a=l=null:l=i(a=f),u):a},u}class oH{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function nke(e){return new oH(e,!0)}function ske(e){return new oH(e,!1)}const ET={draw(e,t){const r=gi(t/lb);e.moveTo(r,0),e.arc(0,0,r,0,I1)}},ake={draw(e,t){const r=gi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},lH=gi(1/3),ike=lH*2,oke={draw(e,t){const r=gi(t/ike),n=r*lH;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},lke={draw(e,t){const r=gi(t),n=-r/2;e.rect(n,n,r,r)}},cke=.8908130915292852,cH=ob(lb/10)/ob(7*lb/10),uke=ob(I1/10)*cH,dke=-tH(I1/10)*cH,fke={draw(e,t){const r=gi(t*cke),n=uke*r,s=dke*r;e.moveTo(0,-r),e.lineTo(n,s);for(let a=1;a<5;++a){const i=I1*a/5,l=tH(i),c=ob(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},lj=gi(3),hke={draw(e,t){const r=-gi(t/(lj*3));e.moveTo(0,r*2),e.lineTo(-lj*r,-r),e.lineTo(lj*r,-r),e.closePath()}},fa=-.5,ha=gi(3)/2,VN=1/gi(12),pke=(VN/2+1)*3,mke={draw(e,t){const r=gi(t/pke),n=r/2,s=r*VN,a=n,i=r*VN+r,l=-a,c=i;e.moveTo(n,s),e.lineTo(a,i),e.lineTo(l,c),e.lineTo(fa*n-ha*s,ha*n+fa*s),e.lineTo(fa*a-ha*i,ha*a+fa*i),e.lineTo(fa*l-ha*c,ha*l+fa*c),e.lineTo(fa*n+ha*s,fa*s-ha*n),e.lineTo(fa*a+ha*i,fa*i-ha*a),e.lineTo(fa*l+ha*c,fa*c-ha*l),e.closePath()}};function gke(e,t){let r=null,n=jT(s);e=typeof e=="function"?e:kr(e||ET),t=typeof t=="function"?t:kr(t===void 0?64:+t);function s(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:kr(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:kr(+a),s):t},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function cb(){}function ub(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function uH(e){this._context=e}uH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ub(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ub(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yke(e){return new uH(e)}function dH(e){this._context=e}dH.prototype={areaStart:cb,areaEnd:cb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ub(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vke(e){return new dH(e)}function fH(e){this._context=e}fH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ub(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xke(e){return new fH(e)}function hH(e){this._context=e}hH.prototype={areaStart:cb,areaEnd:cb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function bke(e){return new hH(e)}function H3(e){return e<0?-1:1}function K3(e,t,r){var n=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(n||s<0&&-0),i=(r-e._y1)/(s||n<0&&-0),l=(a*s+i*n)/(n+s);return(H3(a)+H3(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(l))||0}function G3(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function cj(e,t,r){var n=e._x0,s=e._y0,a=e._x1,i=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,s+l*t,a-l,i-l*r,a,i)}function db(e){this._context=e}db.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cj(this,this._t0,G3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cj(this,G3(this,r=K3(this,e,t)),r);break;default:cj(this,this._t0,r=K3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function pH(e){this._context=new mH(e)}(pH.prototype=Object.create(db.prototype)).point=function(e,t){db.prototype.point.call(this,t,e)};function mH(e){this._context=e}mH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,a){this._context.bezierCurveTo(t,e,n,r,a,s)}};function wke(e){return new db(e)}function _ke(e){return new pH(e)}function gH(e){this._context=e}gH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Y3(e),s=Y3(t),a=0,i=1;i<r;++a,++i)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Y3(e){var t,r=e.length-1,n,s=new Array(r),a=new Array(r),i=new Array(r);for(s[0]=0,a[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,a[t]=4,i[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,a[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/a[t-1],a[t]-=n,i[t]-=n*i[t-1];for(s[r-1]=i[r-1]/a[r-1],t=r-2;t>=0;--t)s[t]=(i[t]-s[t+1])/a[t];for(a[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function Ske(e){return new gH(e)}function D1(e,t){this._context=e,this._t=t}D1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function jke(e){return new D1(e,.5)}function kke(e){return new D1(e,0)}function Eke(e){return new D1(e,1)}function Kf(e,t){if((i=e.length)>1)for(var r=1,n,s,a=e[t[0]],i,l=a.length;r<i;++r)for(s=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function HN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Nke(e,t){return e[t]}function Cke(e){const t=[];return t.key=e,t}function Pke(){var e=kr([]),t=HN,r=Kf,n=Nke;function s(a){var i=Array.from(e.apply(this,arguments),Cke),l,c=i.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,a)]).data=f;for(l=0,d=kT(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:kr(Array.from(a)),s):e},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:kr(+a),s):n},s.order=function(a){return arguments.length?(t=a==null?HN:typeof a=="function"?a:kr(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(r=a??Kf,s):r},s}function Ake(e,t){if((n=e.length)>0){for(var r,n,s=0,a=e[0].length,i;s<a;++s){for(i=r=0;r<n;++r)i+=e[r][s][1]||0;if(i)for(r=0;r<n;++r)e[r][s][1]/=i}Kf(e,t)}}function Tke(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,a=n.length;r<a;++r){for(var i=0,l=0;i<s;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Kf(e,t)}}function Oke(e,t){if(!(!((i=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,a,i;n<a;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,g=(f-h)/2,v=0;v<l;++v){var p=e[t[v]],y=p[n][1]||0,x=p[n-1][1]||0;g+=y-x}c+=f,u+=g*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Kf(e,t)}}function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}var Rke=["type","size","sizeType"];function KN(){return KN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KN.apply(this,arguments)}function J3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(r),!0).forEach(function(n){$ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ke(e,t,r){return t=Mke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mke(e){var t=Ike(e,"string");return Sg(t)=="symbol"?t:t+""}function Ike(e,t){if(Sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lke(e,t){if(e==null)return{};var r=Dke(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yH={symbolCircle:ET,symbolCross:ake,symbolDiamond:oke,symbolSquare:lke,symbolStar:fke,symbolTriangle:hke,symbolWye:mke},Fke=Math.PI/180,Bke=function(t){var r="symbol".concat(M1(t));return yH[r]||ET},Uke=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Fke;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},zke=function(t,r){yH["symbol".concat(M1(t))]=r},NT=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,a=s===void 0?64:s,i=t.sizeType,l=i===void 0?"area":i,c=Lke(t,Rke),u=X3(X3({},c),{},{type:n,size:a,sizeType:l}),d=function(){var y=Bke(n),x=gke().type(y).size(Uke(a,l,n));return x()},f=u.className,h=u.cx,g=u.cy,v=ar(u,!0);return h===+h&&g===+g&&a===+a?M.createElement("path",KN({},v,{className:er("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:d()})):null};NT.registerSymbol=zke;function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function GN(){return GN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GN.apply(this,arguments)}function Q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q3(Object(r),!0).forEach(function(n){jg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xH(n.key),n)}}function Hke(e,t,r){return t&&Vke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kke(e,t,r){return t=fb(t),Gke(e,vH()?Reflect.construct(t,r||[],fb(e).constructor):t.apply(e,r))}function Gke(e,t){if(t&&(Gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yke(e)}function Yke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vH=function(){return!!e})()}function fb(e){return fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fb(e)}function Jke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YN(e,t)}function YN(e,t){return YN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},YN(e,t)}function jg(e,t,r){return t=xH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xH(e){var t=Xke(e,"string");return Gf(t)=="symbol"?t:t+""}function Xke(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pa=32,CT=function(e){function t(){return Wke(this,t),Kke(this,t,arguments)}return Jke(t,e),Hke(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,a=pa/2,i=pa/6,l=pa/3,c=n.inactive?s:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:pa,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(pa,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(pa/8,"h").concat(pa,"v").concat(pa*3/4,"h").concat(-pa,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var u=qke({},n);return delete u.legendIcon,M.cloneElement(n.legendIcon,u)}return M.createElement(NT,{fill:c,cx:a,cy:a,size:pa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,a=s.payload,i=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:pa,height:pa},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,v){var p=g.formatter||c,y=er(jg(jg({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var x=Kt(g.value)?null:g.value;Ao(!Kt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=g.inactive?u:g.color;return M.createElement("li",GN({className:y,style:f,key:"legend-item-".concat(v)},ib(n.props,g,v)),M.createElement(FN,{width:i,height:i,viewBox:d,style:h},n.renderIcon(g)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(x,g,v):x))})}},{key:"render",value:function(){var n=this.props,s=n.payload,a=n.layout,i=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?i:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(m.PureComponent);jg(CT,"displayName","Legend");jg(CT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Qke=w1;function Zke(){this.__data__=new Qke,this.size=0}var eEe=Zke;function tEe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var rEe=tEe;function nEe(e){return this.__data__.get(e)}var sEe=nEe;function aEe(e){return this.__data__.has(e)}var iEe=aEe,oEe=w1,lEe=mT,cEe=gT,uEe=200;function dEe(e,t){var r=this.__data__;if(r instanceof oEe){var n=r.__data__;if(!lEe||n.length<uEe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new cEe(n)}return r.set(e,t),this.size=r.size,this}var fEe=dEe,hEe=w1,pEe=eEe,mEe=rEe,gEe=sEe,yEe=iEe,vEe=fEe;function Hh(e){var t=this.__data__=new hEe(e);this.size=t.size}Hh.prototype.clear=pEe;Hh.prototype.delete=mEe;Hh.prototype.get=gEe;Hh.prototype.has=yEe;Hh.prototype.set=vEe;var bH=Hh,xEe="__lodash_hash_undefined__";function bEe(e){return this.__data__.set(e,xEe),this}var wEe=bEe;function _Ee(e){return this.__data__.has(e)}var SEe=_Ee,jEe=gT,kEe=wEe,EEe=SEe;function hb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new jEe;++t<r;)this.add(e[t])}hb.prototype.add=hb.prototype.push=kEe;hb.prototype.has=EEe;var wH=hb;function NEe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var _H=NEe;function CEe(e,t){return e.has(t)}var SH=CEe,PEe=wH,AEe=_H,TEe=SH,OEe=1,REe=2;function $Ee(e,t,r,n,s,a){var i=r&OEe,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,g=r&REe?new PEe:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var v=e[f],p=t[f];if(n)var y=i?n(p,v,f,t,e,a):n(v,p,f,e,t,a);if(y!==void 0){if(y)continue;h=!1;break}if(g){if(!AEe(t,function(x,b){if(!TEe(g,b)&&(v===x||s(v,x,r,n,a)))return g.push(b)})){h=!1;break}}else if(!(v===p||s(v,p,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var jH=$Ee,MEe=ro,IEe=MEe.Uint8Array,LEe=IEe;function DEe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var FEe=DEe;function BEe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var PT=BEe,Z3=qy,eL=LEe,UEe=pT,zEe=jH,qEe=FEe,WEe=PT,VEe=1,HEe=2,KEe="[object Boolean]",GEe="[object Date]",YEe="[object Error]",JEe="[object Map]",XEe="[object Number]",QEe="[object RegExp]",ZEe="[object Set]",eNe="[object String]",tNe="[object Symbol]",rNe="[object ArrayBuffer]",nNe="[object DataView]",tL=Z3?Z3.prototype:void 0,uj=tL?tL.valueOf:void 0;function sNe(e,t,r,n,s,a,i){switch(r){case nNe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case rNe:return!(e.byteLength!=t.byteLength||!a(new eL(e),new eL(t)));case KEe:case GEe:case XEe:return UEe(+e,+t);case YEe:return e.name==t.name&&e.message==t.message;case QEe:case eNe:return e==t+"";case JEe:var l=qEe;case ZEe:var c=n&VEe;if(l||(l=WEe),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=HEe,i.set(e,t);var d=zEe(l(e),l(t),n,s,a,i);return i.delete(e),d;case tNe:if(uj)return uj.call(e)==uj.call(t)}return!1}var aNe=sNe;function iNe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var kH=iNe,oNe=kH,lNe=Hs;function cNe(e,t,r){var n=t(e);return lNe(e)?n:oNe(n,r(e))}var uNe=cNe;function dNe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[s++]=i)}return a}var fNe=dNe;function hNe(){return[]}var pNe=hNe,mNe=fNe,gNe=pNe,yNe=Object.prototype,vNe=yNe.propertyIsEnumerable,rL=Object.getOwnPropertySymbols,xNe=rL?function(e){return e==null?[]:(e=Object(e),mNe(rL(e),function(t){return vNe.call(e,t)}))}:gNe,bNe=xNe;function wNe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _Ne=wNe,SNe=Yo,jNe=Jo,kNe="[object Arguments]";function ENe(e){return jNe(e)&&SNe(e)==kNe}var NNe=ENe,nL=NNe,CNe=Jo,EH=Object.prototype,PNe=EH.hasOwnProperty,ANe=EH.propertyIsEnumerable,TNe=nL(function(){return arguments}())?nL:function(e){return CNe(e)&&PNe.call(e,"callee")&&!ANe.call(e,"callee")},AT=TNe,pb={exports:{}};function ONe(){return!1}var RNe=ONe;pb.exports;(function(e,t){var r=ro,n=RNe,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(pb,pb.exports);var NH=pb.exports,$Ne=9007199254740991,MNe=/^(?:0|[1-9]\d*)$/;function INe(e,t){var r=typeof e;return t=t??$Ne,!!t&&(r=="number"||r!="symbol"&&MNe.test(e))&&e>-1&&e%1==0&&e<t}var TT=INe,LNe=9007199254740991;function DNe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=LNe}var OT=DNe,FNe=Yo,BNe=OT,UNe=Jo,zNe="[object Arguments]",qNe="[object Array]",WNe="[object Boolean]",VNe="[object Date]",HNe="[object Error]",KNe="[object Function]",GNe="[object Map]",YNe="[object Number]",JNe="[object Object]",XNe="[object RegExp]",QNe="[object Set]",ZNe="[object String]",e2e="[object WeakMap]",t2e="[object ArrayBuffer]",r2e="[object DataView]",n2e="[object Float32Array]",s2e="[object Float64Array]",a2e="[object Int8Array]",i2e="[object Int16Array]",o2e="[object Int32Array]",l2e="[object Uint8Array]",c2e="[object Uint8ClampedArray]",u2e="[object Uint16Array]",d2e="[object Uint32Array]",Tr={};Tr[n2e]=Tr[s2e]=Tr[a2e]=Tr[i2e]=Tr[o2e]=Tr[l2e]=Tr[c2e]=Tr[u2e]=Tr[d2e]=!0;Tr[zNe]=Tr[qNe]=Tr[t2e]=Tr[WNe]=Tr[r2e]=Tr[VNe]=Tr[HNe]=Tr[KNe]=Tr[GNe]=Tr[YNe]=Tr[JNe]=Tr[XNe]=Tr[QNe]=Tr[ZNe]=Tr[e2e]=!1;function f2e(e){return UNe(e)&&BNe(e.length)&&!!Tr[FNe(e)]}var h2e=f2e;function p2e(e){return function(t){return e(t)}}var CH=p2e,mb={exports:{}};mb.exports;(function(e,t){var r=MV,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(mb,mb.exports);var m2e=mb.exports,g2e=h2e,y2e=CH,sL=m2e,aL=sL&&sL.isTypedArray,v2e=aL?y2e(aL):g2e,PH=v2e,x2e=_Ne,b2e=AT,w2e=Hs,_2e=NH,S2e=TT,j2e=PH,k2e=Object.prototype,E2e=k2e.hasOwnProperty;function N2e(e,t){var r=w2e(e),n=!r&&b2e(e),s=!r&&!n&&_2e(e),a=!r&&!n&&!s&&j2e(e),i=r||n||s||a,l=i?x2e(e.length,String):[],c=l.length;for(var u in e)(t||E2e.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||S2e(u,c)))&&l.push(u);return l}var C2e=N2e,P2e=Object.prototype;function A2e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||P2e;return e===r}var T2e=A2e;function O2e(e,t){return function(r){return e(t(r))}}var AH=O2e,R2e=AH,$2e=R2e(Object.keys,Object),M2e=$2e,I2e=T2e,L2e=M2e,D2e=Object.prototype,F2e=D2e.hasOwnProperty;function B2e(e){if(!I2e(e))return L2e(e);var t=[];for(var r in Object(e))F2e.call(e,r)&&r!="constructor"&&t.push(r);return t}var U2e=B2e,z2e=hT,q2e=OT;function W2e(e){return e!=null&&q2e(e.length)&&!z2e(e)}var Hy=W2e,V2e=C2e,H2e=U2e,K2e=Hy;function G2e(e){return K2e(e)?V2e(e):H2e(e)}var F1=G2e,Y2e=uNe,J2e=bNe,X2e=F1;function Q2e(e){return Y2e(e,X2e,J2e)}var Z2e=Q2e,iL=Z2e,eCe=1,tCe=Object.prototype,rCe=tCe.hasOwnProperty;function nCe(e,t,r,n,s,a){var i=r&eCe,l=iL(e),c=l.length,u=iL(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=l[f];if(!(i?h in t:rCe.call(t,h)))return!1}var g=a.get(e),v=a.get(t);if(g&&v)return g==t&&v==e;var p=!0;a.set(e,t),a.set(t,e);for(var y=i;++f<c;){h=l[f];var x=e[h],b=t[h];if(n)var w=i?n(b,x,h,t,e,a):n(x,b,h,e,t,a);if(!(w===void 0?x===b||s(x,b,r,n,a):w)){p=!1;break}y||(y=h=="constructor")}if(p&&!y){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(p=!1)}return a.delete(e),a.delete(t),p}var sCe=nCe,aCe=Ju,iCe=ro,oCe=aCe(iCe,"DataView"),lCe=oCe,cCe=Ju,uCe=ro,dCe=cCe(uCe,"Promise"),fCe=dCe,hCe=Ju,pCe=ro,mCe=hCe(pCe,"Set"),TH=mCe,gCe=Ju,yCe=ro,vCe=gCe(yCe,"WeakMap"),xCe=vCe,JN=lCe,XN=mT,QN=fCe,ZN=TH,e2=xCe,OH=Yo,Kh=LV,oL="[object Map]",bCe="[object Object]",lL="[object Promise]",cL="[object Set]",uL="[object WeakMap]",dL="[object DataView]",wCe=Kh(JN),_Ce=Kh(XN),SCe=Kh(QN),jCe=Kh(ZN),kCe=Kh(e2),Fc=OH;(JN&&Fc(new JN(new ArrayBuffer(1)))!=dL||XN&&Fc(new XN)!=oL||QN&&Fc(QN.resolve())!=lL||ZN&&Fc(new ZN)!=cL||e2&&Fc(new e2)!=uL)&&(Fc=function(e){var t=OH(e),r=t==bCe?e.constructor:void 0,n=r?Kh(r):"";if(n)switch(n){case wCe:return dL;case _Ce:return oL;case SCe:return lL;case jCe:return cL;case kCe:return uL}return t});var ECe=Fc,dj=bH,NCe=jH,CCe=aNe,PCe=sCe,fL=ECe,hL=Hs,pL=NH,ACe=PH,TCe=1,mL="[object Arguments]",gL="[object Array]",Zv="[object Object]",OCe=Object.prototype,yL=OCe.hasOwnProperty;function RCe(e,t,r,n,s,a){var i=hL(e),l=hL(t),c=i?gL:fL(e),u=l?gL:fL(t);c=c==mL?Zv:c,u=u==mL?Zv:u;var d=c==Zv,f=u==Zv,h=c==u;if(h&&pL(e)){if(!pL(t))return!1;i=!0,d=!1}if(h&&!d)return a||(a=new dj),i||ACe(e)?NCe(e,t,r,n,s,a):CCe(e,t,c,r,n,s,a);if(!(r&TCe)){var g=d&&yL.call(e,"__wrapped__"),v=f&&yL.call(t,"__wrapped__");if(g||v){var p=g?e.value():e,y=v?t.value():t;return a||(a=new dj),s(p,y,r,n,a)}}return h?(a||(a=new dj),PCe(e,t,r,n,s,a)):!1}var $Ce=RCe,MCe=$Ce,vL=Jo;function RH(e,t,r,n,s){return e===t?!0:e==null||t==null||!vL(e)&&!vL(t)?e!==e&&t!==t:MCe(e,t,r,n,RH,s)}var RT=RH,ICe=bH,LCe=RT,DCe=1,FCe=2;function BCe(e,t,r,n){var s=r.length,a=s,i=!n;if(e==null)return!a;for(e=Object(e);s--;){var l=r[s];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=r[s];var c=l[0],u=e[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new ICe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?LCe(d,u,DCe|FCe,n,f):h))return!1}}return!0}var UCe=BCe,zCe=xc;function qCe(e){return e===e&&!zCe(e)}var $H=qCe,WCe=$H,VCe=F1;function HCe(e){for(var t=VCe(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,WCe(s)]}return t}var KCe=HCe;function GCe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var MH=GCe,YCe=UCe,JCe=KCe,XCe=MH;function QCe(e){var t=JCe(e);return t.length==1&&t[0][2]?XCe(t[0][0],t[0][1]):function(r){return r===e||YCe(r,e,t)}}var ZCe=QCe;function ePe(e,t){return e!=null&&t in Object(e)}var tPe=ePe,rPe=zV,nPe=AT,sPe=Hs,aPe=TT,iPe=OT,oPe=S1;function lPe(e,t,r){t=rPe(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var i=oPe(t[n]);if(!(a=e!=null&&r(e,i)))break;e=e[i]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&iPe(s)&&aPe(i,s)&&(sPe(e)||nPe(e)))}var cPe=lPe,uPe=tPe,dPe=cPe;function fPe(e,t){return e!=null&&dPe(e,t,uPe)}var hPe=fPe,pPe=RT,mPe=qV,gPe=hPe,yPe=fT,vPe=$H,xPe=MH,bPe=S1,wPe=1,_Pe=2;function SPe(e,t){return yPe(e)&&vPe(t)?xPe(bPe(e),t):function(r){var n=mPe(r,e);return n===void 0&&n===t?gPe(r,e):pPe(t,n,wPe|_Pe)}}var jPe=SPe;function kPe(e){return e}var Gh=kPe;function EPe(e){return function(t){return t==null?void 0:t[e]}}var NPe=EPe,CPe=xT;function PPe(e){return function(t){return CPe(t,e)}}var APe=PPe,TPe=NPe,OPe=APe,RPe=fT,$Pe=S1;function MPe(e){return RPe(e)?TPe($Pe(e)):OPe(e)}var IPe=MPe,LPe=ZCe,DPe=jPe,FPe=Gh,BPe=Hs,UPe=IPe;function zPe(e){return typeof e=="function"?e:e==null?FPe:typeof e=="object"?BPe(e)?DPe(e[0],e[1]):LPe(e):UPe(e)}var bc=zPe;function qPe(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var IH=qPe;function WPe(e){return e!==e}var VPe=WPe;function HPe(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var KPe=HPe,GPe=IH,YPe=VPe,JPe=KPe;function XPe(e,t,r){return t===t?JPe(e,t,r):GPe(e,YPe,r)}var QPe=XPe,ZPe=QPe;function eAe(e,t){var r=e==null?0:e.length;return!!r&&ZPe(e,t,0)>-1}var tAe=eAe;function rAe(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var nAe=rAe;function sAe(){}var aAe=sAe,fj=TH,iAe=aAe,oAe=PT,lAe=1/0,cAe=fj&&1/oAe(new fj([,-0]))[1]==lAe?function(e){return new fj(e)}:iAe,uAe=cAe,dAe=wH,fAe=tAe,hAe=nAe,pAe=SH,mAe=uAe,gAe=PT,yAe=200;function vAe(e,t,r){var n=-1,s=fAe,a=e.length,i=!0,l=[],c=l;if(r)i=!1,s=hAe;else if(a>=yAe){var u=t?null:mAe(e);if(u)return gAe(u);i=!1,s=pAe,c=new dAe}else c=t?[]:l;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var xAe=vAe,bAe=bc,wAe=xAe;function _Ae(e,t){return e&&e.length?wAe(e,bAe(t)):[]}var SAe=_Ae;const xL=wr(SAe);function LH(e,t,r){return t===!0?xL(e,r):Kt(t)?xL(e,t):e}function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}var jAe=["ref"];function bL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(r),!0).forEach(function(n){B1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FH(n.key),n)}}function EAe(e,t,r){return t&&wL(e.prototype,t),r&&wL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NAe(e,t,r){return t=gb(t),CAe(e,DH()?Reflect.construct(t,r||[],gb(e).constructor):t.apply(e,r))}function CAe(e,t){if(t&&(Yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PAe(e)}function PAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DH=function(){return!!e})()}function gb(e){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gb(e)}function AAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t2(e,t)}function t2(e,t){return t2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},t2(e,t)}function B1(e,t,r){return t=FH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=TAe(e,"string");return Yf(t)=="symbol"?t:t+""}function TAe(e,t){if(Yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OAe(e,t){if(e==null)return{};var r=RAe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $Ae(e){return e.value}function MAe(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=OAe(t,jAe);return M.createElement(CT,r)}var _L=1,ff=function(e){function t(){var r;kAe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=NAe(this,t,[].concat(s)),B1(r,"lastBoundingBox",{width:-1,height:-1}),r}return AAe(t,e),EAe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>_L||Math.abs(s.height-this.lastBoundingBox.height)>_L)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ao({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,a=s.layout,i=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ao(ao({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,a=s.content,i=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=ao(ao({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){n.wrapperNode=g}},MAe(a,ao(ao({},this.props),{},{payload:LH(d,u,$Ae)})))}}],[{key:"getWithHeight",value:function(n,s){var a=ao(ao({},this.defaultProps),n.props),i=a.layout;return i==="vertical"&&Xe(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||s}:null}}])}(m.PureComponent);B1(ff,"displayName","Legend");B1(ff,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var SL=qy,IAe=AT,LAe=Hs,jL=SL?SL.isConcatSpreadable:void 0;function DAe(e){return LAe(e)||IAe(e)||!!(jL&&e&&e[jL])}var FAe=DAe,BAe=kH,UAe=FAe;function BH(e,t,r,n,s){var a=-1,i=e.length;for(r||(r=UAe),s||(s=[]);++a<i;){var l=e[a];t>0&&r(l)?t>1?BH(l,t-1,r,n,s):BAe(s,l):n||(s[s.length]=l)}return s}var UH=BH;function zAe(e){return function(t,r,n){for(var s=-1,a=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++s];if(r(a[c],c,a)===!1)break}return t}}var qAe=zAe,WAe=qAe,VAe=WAe(),HAe=VAe,KAe=HAe,GAe=F1;function YAe(e,t){return e&&KAe(e,t,GAe)}var zH=YAe,JAe=Hy;function XAe(e,t){return function(r,n){if(r==null)return r;if(!JAe(r))return e(r,n);for(var s=r.length,a=t?s:-1,i=Object(r);(t?a--:++a<s)&&n(i[a],a,i)!==!1;);return r}}var QAe=XAe,ZAe=zH,eTe=QAe,tTe=eTe(ZAe),$T=tTe,rTe=$T,nTe=Hy;function sTe(e,t){var r=-1,n=nTe(e)?Array(e.length):[];return rTe(e,function(s,a,i){n[++r]=t(s,a,i)}),n}var qH=sTe;function aTe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var iTe=aTe,kL=Uh;function oTe(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=kL(e),i=t!==void 0,l=t===null,c=t===t,u=kL(t);if(!l&&!u&&!a&&e>t||a&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&e<t||u&&r&&s&&!n&&!a||l&&r&&s||!i&&s||!c)return-1}return 0}var lTe=oTe,cTe=lTe;function uTe(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,i=s.length,l=r.length;++n<i;){var c=cTe(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var dTe=uTe,hj=vT,fTe=xT,hTe=bc,pTe=qH,mTe=iTe,gTe=CH,yTe=dTe,vTe=Gh,xTe=Hs;function bTe(e,t,r){t.length?t=hj(t,function(a){return xTe(a)?function(i){return fTe(i,a.length===1?a[0]:a)}:a}):t=[vTe];var n=-1;t=hj(t,gTe(hTe));var s=pTe(e,function(a,i,l){var c=hj(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return mTe(s,function(a,i){return yTe(a,i,r)})}var wTe=bTe;function _Te(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var STe=_Te,jTe=STe,EL=Math.max;function kTe(e,t,r){return t=EL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=EL(n.length-t,0),i=Array(a);++s<a;)i[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(i),jTe(e,this,l)}}var ETe=kTe;function NTe(e){return function(){return e}}var CTe=NTe,PTe=Ju,ATe=function(){try{var e=PTe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),WH=ATe,TTe=CTe,NL=WH,OTe=Gh,RTe=NL?function(e,t){return NL(e,"toString",{configurable:!0,enumerable:!1,value:TTe(t),writable:!0})}:OTe,$Te=RTe,MTe=800,ITe=16,LTe=Date.now;function DTe(e){var t=0,r=0;return function(){var n=LTe(),s=ITe-(n-r);if(r=n,s>0){if(++t>=MTe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var FTe=DTe,BTe=$Te,UTe=FTe,zTe=UTe(BTe),qTe=zTe,WTe=Gh,VTe=ETe,HTe=qTe;function KTe(e,t){return HTe(VTe(e,t,WTe),e+"")}var GTe=KTe,YTe=pT,JTe=Hy,XTe=TT,QTe=xc;function ZTe(e,t,r){if(!QTe(r))return!1;var n=typeof t;return(n=="number"?JTe(r)&&XTe(t,r.length):n=="string"&&t in r)?YTe(r[t],e):!1}var U1=ZTe,eOe=UH,tOe=wTe,rOe=GTe,CL=U1,nOe=rOe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&CL(e,t[0],t[1])?t=[]:r>2&&CL(t[0],t[1],t[2])&&(t=[t[0]]),tOe(e,eOe(t,1),[])}),sOe=nOe;const MT=wr(sOe);function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function r2(){return r2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r2.apply(this,arguments)}function aOe(e,t){return cOe(e)||lOe(e,t)||oOe(e,t)||iOe()}function iOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oOe(e,t){if(e){if(typeof e=="string")return PL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PL(e,t)}}function PL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function cOe(e){if(Array.isArray(e))return e}function AL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(r),!0).forEach(function(n){uOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uOe(e,t,r){return t=dOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dOe(e){var t=fOe(e,"string");return kg(t)=="symbol"?t:t+""}function fOe(e,t){if(kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hOe(e){return Array.isArray(e)&&Cn(e[0])&&Cn(e[1])?e.join(" ~ "):e}var pOe=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,a=s===void 0?{}:s,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,g=t.wrapperClassName,v=t.labelClassName,p=t.label,y=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(d&&d.length){var R={padding:0,margin:0},H=(h?MT(d,h):d).map(function(U,D){if(U.type==="none")return null;var B=pj({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),L=U.formatter||f||hOe,T=U.value,q=U.name,I=T,P=q;if(L&&I!=null&&P!=null){var W=L(T,q,U,D,d);if(Array.isArray(W)){var V=aOe(W,2);I=V[0],P=V[1]}else I=W}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:B},Cn(P)?M.createElement("span",{className:"recharts-tooltip-item-name"},P):null,Cn(P)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},I),M.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:R},H)}return null},_=pj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=pj({margin:0},u),E=!cr(p),k=E?p:"",j=er("recharts-default-tooltip",g),N=er("recharts-tooltip-label",v);E&&y&&d!==void 0&&d!==null&&(k=y(p,d));var C=b?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",r2({className:j,style:_},C),M.createElement("p",{className:N,style:S},M.isValidElement(k)?k:"".concat(k)),w())};function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function e0(e,t,r){return t=mOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mOe(e){var t=gOe(e,"string");return Eg(t)=="symbol"?t:t+""}function gOe(e,t){if(Eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ap="recharts-tooltip-wrapper",yOe={visibility:"hidden"};function vOe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return er(Ap,e0(e0(e0(e0({},"".concat(Ap,"-right"),Xe(r)&&t&&Xe(t.x)&&r>=t.x),"".concat(Ap,"-left"),Xe(r)&&t&&Xe(t.x)&&r<t.x),"".concat(Ap,"-bottom"),Xe(n)&&t&&Xe(t.y)&&n>=t.y),"".concat(Ap,"-top"),Xe(n)&&t&&Xe(t.y)&&n<t.y))}function TL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&Xe(a[n]))return a[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return i[n]?d:f;if(i[n]){var h=d,g=c[n];return h<g?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,p=c[n]+u;return v>p?Math.max(d,c[n]):Math.max(f,c[n])}function xOe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function bOe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,a=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=TL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=TL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=xOe({translateX:d,translateY:f,useTranslate3d:l})):u=yOe,{cssProperties:u,cssClasses:vOe({translateX:d,translateY:f,coordinate:r})}}function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function OL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OL(Object(r),!0).forEach(function(n){s2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HH(n.key),n)}}function SOe(e,t,r){return t&&_Oe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jOe(e,t,r){return t=yb(t),kOe(e,VH()?Reflect.construct(t,r||[],yb(e).constructor):t.apply(e,r))}function kOe(e,t){if(t&&(Jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EOe(e)}function EOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VH=function(){return!!e})()}function yb(e){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(e)}function NOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n2(e,t)}function n2(e,t){return n2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},n2(e,t)}function s2(e,t,r){return t=HH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HH(e){var t=COe(e,"string");return Jf(t)=="symbol"?t:t+""}function COe(e,t){if(Jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $L=1,POe=function(e){function t(){var r;wOe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=jOe(this,t,[].concat(s)),s2(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),s2(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return NOe(t,e),SOe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>$L||Math.abs(n.height-this.state.lastBoundingBox.height)>$L)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,a=s.active,i=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,g=s.offset,v=s.position,p=s.reverseDirection,y=s.useTranslate3d,x=s.viewBox,b=s.wrapperStyle,w=bOe({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:g,position:v,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),_=w.cssClasses,S=w.cssProperties,E=RL(RL({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return M.createElement("div",{tabIndex:-1,className:_,style:E,ref:function(j){n.wrapperNode=j}},u)}}])}(m.PureComponent),AOe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ec={isSsr:AOe(),get:function(t){return ec[t]},set:function(t,r){if(typeof t=="string")ec[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(s){ec[s]=t[s]})}}};function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function ML(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function IL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ML(Object(r),!0).forEach(function(n){IT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GH(n.key),n)}}function ROe(e,t,r){return t&&OOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Oe(e,t,r){return t=vb(t),MOe(e,KH()?Reflect.construct(t,r||[],vb(e).constructor):t.apply(e,r))}function MOe(e,t){if(t&&(Xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IOe(e)}function IOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KH=function(){return!!e})()}function vb(e){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vb(e)}function LOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a2(e,t)}function a2(e,t){return a2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},a2(e,t)}function IT(e,t,r){return t=GH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GH(e){var t=DOe(e,"string");return Xf(t)=="symbol"?t:t+""}function DOe(e,t){if(Xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FOe(e){return e.dataKey}function BOe(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(pOe,t)}var wi=function(e){function t(){return TOe(this,t),$Oe(this,t,arguments)}return LOe(t,e),ROe(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.active,i=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,g=s.offset,v=s.payload,p=s.payloadUniqBy,y=s.position,x=s.reverseDirection,b=s.useTranslate3d,w=s.viewBox,_=s.wrapperStyle,S=v??[];f&&S.length&&(S=LH(v.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),p,FOe));var E=S.length>0;return M.createElement(POe,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:E,offset:g,position:y,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:_},BOe(u,IL(IL({},this.props),{},{payload:S})))}}])}(m.PureComponent);IT(wi,"displayName","Tooltip");IT(wi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ec.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var UOe=ro,zOe=function(){return UOe.Date.now()},qOe=zOe,WOe=/\s/;function VOe(e){for(var t=e.length;t--&&WOe.test(e.charAt(t)););return t}var HOe=VOe,KOe=HOe,GOe=/^\s+/;function YOe(e){return e&&e.slice(0,KOe(e)+1).replace(GOe,"")}var JOe=YOe,XOe=JOe,LL=xc,QOe=Uh,DL=NaN,ZOe=/^[-+]0x[0-9a-f]+$/i,eRe=/^0b[01]+$/i,tRe=/^0o[0-7]+$/i,rRe=parseInt;function nRe(e){if(typeof e=="number")return e;if(QOe(e))return DL;if(LL(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=LL(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=XOe(e);var r=eRe.test(e);return r||tRe.test(e)?rRe(e.slice(2),r?2:8):ZOe.test(e)?DL:+e}var YH=nRe,sRe=xc,mj=qOe,FL=YH,aRe="Expected a function",iRe=Math.max,oRe=Math.min;function lRe(e,t,r){var n,s,a,i,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(aRe);t=FL(t)||0,sRe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?iRe(FL(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function g(E){var k=n,j=s;return n=s=void 0,u=E,i=e.apply(j,k),i}function v(E){return u=E,l=setTimeout(x,t),d?g(E):i}function p(E){var k=E-c,j=E-u,N=t-k;return f?oRe(N,a-j):N}function y(E){var k=E-c,j=E-u;return c===void 0||k>=t||k<0||f&&j>=a}function x(){var E=mj();if(y(E))return b(E);l=setTimeout(x,p(E))}function b(E){return l=void 0,h&&n?g(E):(n=s=void 0,i)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function _(){return l===void 0?i:b(mj())}function S(){var E=mj(),k=y(E);if(n=arguments,s=this,c=E,k){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(x,t),g(c)}return l===void 0&&(l=setTimeout(x,t)),i}return S.cancel=w,S.flush=_,S}var cRe=lRe,uRe=cRe,dRe=xc,fRe="Expected a function";function hRe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(fRe);return dRe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),uRe(e,t,{leading:n,maxWait:t,trailing:s})}var pRe=hRe;const JH=wr(pRe);function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function BL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function t0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BL(Object(r),!0).forEach(function(n){mRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mRe(e,t,r){return t=gRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gRe(e){var t=yRe(e,"string");return Ng(t)=="symbol"?t:t+""}function yRe(e,t){if(Ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vRe(e,t){return _Re(e)||wRe(e,t)||bRe(e,t)||xRe()}function xRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bRe(e,t){if(e){if(typeof e=="string")return UL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UL(e,t)}}function UL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function _Re(e){if(Array.isArray(e))return e}var SRe=m.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,a=e.width,i=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,g=e.children,v=e.debounce,p=v===void 0?0:v,y=e.id,x=e.className,b=e.onResize,w=e.style,_=w===void 0?{}:w,S=m.useRef(null),E=m.useRef();E.current=b,m.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=m.useState({containerWidth:s.width,containerHeight:s.height}),j=vRe(k,2),N=j[0],C=j[1],A=m.useCallback(function(H,U){C(function(D){var B=Math.round(H),L=Math.round(U);return D.containerWidth===B&&D.containerHeight===L?D:{containerWidth:B,containerHeight:L}})},[]);m.useEffect(function(){var H=function(q){var I,P=q[0].contentRect,W=P.width,V=P.height;A(W,V),(I=E.current)===null||I===void 0||I.call(E,W,V)};p>0&&(H=JH(H,p,{trailing:!0,leading:!1}));var U=new ResizeObserver(H),D=S.current.getBoundingClientRect(),B=D.width,L=D.height;return A(B,L),U.observe(S.current),function(){U.disconnect()}},[A,p]);var R=m.useMemo(function(){var H=N.containerWidth,U=N.containerHeight;if(H<0||U<0)return null;Ao(Xc(i)||Xc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),Ao(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=Xc(i)?H:i,B=Xc(c)?U:c;r&&r>0&&(D?B=D/r:B&&(D=B*r),h&&B>h&&(B=h)),Ao(D>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,B,i,c,d,f,r);var L=!Array.isArray(g)&&Po(g.type).endsWith("Chart");return M.Children.map(g,function(T){return HV.isElement(T)?m.cloneElement(T,t0({width:D,height:B},L?{style:t0({height:"100%",width:"100%",maxHeight:B,maxWidth:D},T.props.style)}:{})):T})},[r,g,c,h,f,d,N,i]);return M.createElement("div",{id:y?"".concat(y):void 0,className:er("recharts-responsive-container",x),style:t0(t0({},_),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},R)}),Ky=function(t){return null};Ky.displayName="Cell";function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function zL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function i2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zL(Object(r),!0).forEach(function(n){jRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jRe(e,t,r){return t=kRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kRe(e){var t=ERe(e,"string");return Cg(t)=="symbol"?t:t+""}function ERe(e,t){if(Cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pd={widthCache:{},cacheCount:0},NRe=2e3,CRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qL="recharts_measurement_span";function PRe(e){var t=i2({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Am=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ec.isSsr)return{width:0,height:0};var n=PRe(r),s=JSON.stringify({text:t,copyStyle:n});if(pd.widthCache[s])return pd.widthCache[s];try{var a=document.getElementById(qL);a||(a=document.createElement("span"),a.setAttribute("id",qL),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=i2(i2({},CRe),n);Object.assign(a.style,i),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return pd.widthCache[s]=c,++pd.cacheCount>NRe&&(pd.cacheCount=0,pd.widthCache={}),c}catch{return{width:0,height:0}}},ARe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function xb(e,t){return $Re(e)||RRe(e,t)||ORe(e,t)||TRe()}function TRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ORe(e,t){if(e){if(typeof e=="string")return WL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WL(e,t)}}function WL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function $Re(e){if(Array.isArray(e))return e}function MRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LRe(n.key),n)}}function IRe(e,t,r){return t&&VL(e.prototype,t),r&&VL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LRe(e){var t=DRe(e,"string");return Pg(t)=="symbol"?t:t+""}function DRe(e,t){if(Pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FRe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,BRe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},URe=Object.keys(XH),Vd="NaN";function zRe(e,t){return e*XH[t]}var r0=function(){function e(t,r){MRe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!FRe.test(r)&&(this.num=NaN,this.unit=""),URe.includes(r)&&(this.num=zRe(t,r),this.unit="px")}return IRe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=BRe.exec(r))!==null&&n!==void 0?n:[],a=xb(s,3),i=a[1],l=a[2];return new e(parseFloat(i),l??"")}}])}();function QH(e){if(e.includes(Vd))return Vd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=HL.exec(t))!==null&&r!==void 0?r:[],s=xb(n,4),a=s[1],i=s[2],l=s[3],c=r0.parse(a??""),u=r0.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Vd;t=t.replace(HL,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=KL.exec(t))!==null&&f!==void 0?f:[],g=xb(h,4),v=g[1],p=g[2],y=g[3],x=r0.parse(v??""),b=r0.parse(y??""),w=p==="+"?x.add(b):x.subtract(b);if(w.isNaN())return Vd;t=t.replace(KL,w.toString())}return t}var GL=/\(([^()]*)\)/;function qRe(e){for(var t=e;t.includes("(");){var r=GL.exec(t),n=xb(r,2),s=n[1];t=t.replace(GL,QH(s))}return t}function WRe(e){var t=e.replace(/\s+/g,"");return t=qRe(t),t=QH(t),t}function VRe(e){try{return WRe(e)}catch{return Vd}}function gj(e){var t=VRe(e.slice(5,-1));return t===Vd?"":t}var HRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],KRe=["dx","dy","angle","className","breakAll"];function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o2.apply(this,arguments)}function YL(e,t){if(e==null)return{};var r=GRe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JL(e,t){return QRe(e)||XRe(e,t)||JRe(e,t)||YRe()}function YRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JRe(e,t){if(e){if(typeof e=="string")return XL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XL(e,t)}}function XL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function QRe(e){if(Array.isArray(e))return e}var ZH=/[ \f\n\r\t\v\u2028\u2029]+/,eK=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var a=[];cr(r)||(n?a=r.toString().split(""):a=r.toString().split(ZH));var i=a.map(function(c){return{word:c,width:Am(c,s).width}}),l=n?0:Am("",s).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},ZRe=function(t,r,n,s,a){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Xe(i),f=l,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(B,L){var T=L.word,q=L.width,I=B[B.length-1];if(I&&(s==null||a||I.width+q+n<Number(s)))I.words.push(T),I.width+=q+n;else{var P={words:[T],width:q};B.push(P)}return B},[])},g=h(r),v=function(D){return D.reduce(function(B,L){return B.width>L.width?B:L})};if(!d)return g;for(var p="",y=function(D){var B=f.slice(0,D),L=eK({breakAll:u,style:c,children:B+p}).wordsWithComputedWidth,T=h(L),q=T.length>i||v(T).width>Number(s);return[q,T]},x=0,b=f.length-1,w=0,_;x<=b&&w<=f.length-1;){var S=Math.floor((x+b)/2),E=S-1,k=y(E),j=JL(k,2),N=j[0],C=j[1],A=y(S),R=JL(A,1),H=R[0];if(!N&&!H&&(x=S+1),N&&H&&(b=S-1),!N&&H){_=C;break}w++}return _||g},QL=function(t){var r=cr(t)?[]:t.toString().split(ZH);return[{words:r}]},e$e=function(t){var r=t.width,n=t.scaleToFit,s=t.children,a=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!ec.isSsr){var c,u,d=eK({breakAll:i,children:s,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return QL(s);return ZRe({breakAll:i,children:s,maxLines:l,style:a},c,u,r,n)}return QL(s)},ZL="#808080",bb=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,g=h===void 0?"start":h,v=t.verticalAnchor,p=v===void 0?"end":v,y=t.fill,x=y===void 0?ZL:y,b=YL(t,HRe),w=m.useMemo(function(){return e$e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,S=b.dy,E=b.angle,k=b.className,j=b.breakAll,N=YL(b,KRe);if(!Cn(n)||!Cn(a))return null;var C=n+(Xe(_)?_:0),A=a+(Xe(S)?S:0),R;switch(p){case"start":R=gj("calc(".concat(u,")"));break;case"middle":R=gj("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:R=gj("calc(".concat(w.length-1," * -").concat(l,")"));break}var H=[];if(f){var U=w[0].width,D=b.width;H.push("scale(".concat((Xe(D)?D/U:1)/U,")"))}return E&&H.push("rotate(".concat(E,", ").concat(C,", ").concat(A,")")),H.length&&(N.transform=H.join(" ")),M.createElement("text",o2({},ar(N,!0),{x:C,y:A,className:er("recharts-text",k),textAnchor:g,fill:x.includes("url")?ZL:x}),w.map(function(B,L){var T=B.words.join(j?"":" ");return M.createElement("tspan",{x:C,dy:L===0?R:l,key:"".concat(T,"-").concat(L)},T)}))};function tc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function t$e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LT(e){let t,r,n;e.length!==2?(t=tc,r=(l,c)=>tc(e(l),c),n=(l,c)=>e(l)-c):(t=e===tc||e===t$e?e:r$e,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:i,right:a}}function r$e(){return 0}function tK(e){return e===null?NaN:+e}function*n$e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const s$e=LT(tc),Gy=s$e.right;LT(tK).center;class e5 extends Map{constructor(t,r=o$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(t5(this,t))}has(t){return super.has(t5(this,t))}set(t,r){return super.set(a$e(this,t),r)}delete(t){return super.delete(i$e(this,t))}}function t5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function a$e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function i$e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function o$e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function l$e(e=tc){if(e===tc)return rK;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function rK(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const c$e=Math.sqrt(50),u$e=Math.sqrt(10),d$e=Math.sqrt(2);function wb(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),i=a>=c$e?10:a>=u$e?5:a>=d$e?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?wb(e,t,r*2):[l,c,u]}function l2(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,a,i]=n?wb(t,e,r):wb(e,t,r);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(a-u)/-i;else for(let u=0;u<l;++u)c[u]=(a-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(s+u)/-i;else for(let u=0;u<l;++u)c[u]=(s+u)*i;return c}function c2(e,t,r){return t=+t,e=+e,r=+r,wb(e,t,r)[2]}function u2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?c2(t,e,r):c2(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function r5(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function n5(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function nK(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?rK:l$e(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));nK(e,t,g,v,s)}const a=e[t];let i=r,l=n;for(Tp(e,r,t),s(e[n],a)>0&&Tp(e,r,n);i<l;){for(Tp(e,i,l),++i,--l;s(e[i],a)<0;)++i;for(;s(e[l],a)>0;)--l}s(e[r],a)===0?Tp(e,r,l):(++l,Tp(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Tp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function f$e(e,t,r){if(e=Float64Array.from(n$e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return n5(e);if(t>=1)return r5(e);var n,s=(n-1)*t,a=Math.floor(s),i=r5(nK(e,a).subarray(0,a+1)),l=n5(e.subarray(a+1));return i+(l-i)*(s-a)}}function h$e(e,t,r=tK){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,a=Math.floor(s),i=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return i+(l-i)*(s-a)}}function p$e(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(s);++n<s;)a[n]=e+n*r;return a}function Ia(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const d2=Symbol("implicit");function DT(){var e=new e5,t=[],r=[],n=d2;function s(a){let i=e.get(a);if(i===void 0){if(n!==d2)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new e5;for(const i of a)e.has(i)||e.set(i,t.push(i)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return DT(t,r).unknown(n)},Ia.apply(s,arguments),s}function Ag(){var e=DT().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,a,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,g=s<n,v=g?s:n,p=g?n:s;a=(p-v)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),v+=(p-v-a*(h-c))*d,i=a*(1-c),l&&(v=Math.round(v),i=Math.round(i));var y=p$e(h).map(function(x){return v+a*x});return r(g?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Ag(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ia.apply(f(),arguments)}function sK(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return sK(t())},e}function Tm(){return sK(Ag.apply(null,arguments).paddingInner(1))}function FT(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function aK(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Yy(){}var Tg=.7,_b=1/Tg,hf="\\s*([+-]?\\d+)\\s*",Og="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",m$e=/^#([0-9a-f]{3,8})$/,g$e=new RegExp(`^rgb\\(${hf},${hf},${hf}\\)$`),y$e=new RegExp(`^rgb\\(${Vi},${Vi},${Vi}\\)$`),v$e=new RegExp(`^rgba\\(${hf},${hf},${hf},${Og}\\)$`),x$e=new RegExp(`^rgba\\(${Vi},${Vi},${Vi},${Og}\\)$`),b$e=new RegExp(`^hsl\\(${Og},${Vi},${Vi}\\)$`),w$e=new RegExp(`^hsla\\(${Og},${Vi},${Vi},${Og}\\)$`),s5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FT(Yy,Rg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:a5,formatHex:a5,formatHex8:_$e,formatHsl:S$e,formatRgb:i5,toString:i5});function a5(){return this.rgb().formatHex()}function _$e(){return this.rgb().formatHex8()}function S$e(){return iK(this).formatHsl()}function i5(){return this.rgb().formatRgb()}function Rg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=m$e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?o5(t):r===3?new Ds(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?n0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?n0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=g$e.exec(e))?new Ds(t[1],t[2],t[3],1):(t=y$e.exec(e))?new Ds(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=v$e.exec(e))?n0(t[1],t[2],t[3],t[4]):(t=x$e.exec(e))?n0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=b$e.exec(e))?u5(t[1],t[2]/100,t[3]/100,1):(t=w$e.exec(e))?u5(t[1],t[2]/100,t[3]/100,t[4]):s5.hasOwnProperty(e)?o5(s5[e]):e==="transparent"?new Ds(NaN,NaN,NaN,0):null}function o5(e){return new Ds(e>>16&255,e>>8&255,e&255,1)}function n0(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ds(e,t,r,n)}function j$e(e){return e instanceof Yy||(e=Rg(e)),e?(e=e.rgb(),new Ds(e.r,e.g,e.b,e.opacity)):new Ds}function f2(e,t,r,n){return arguments.length===1?j$e(e):new Ds(e,t,r,n??1)}function Ds(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}FT(Ds,f2,aK(Yy,{brighter(e){return e=e==null?_b:Math.pow(_b,e),new Ds(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tg:Math.pow(Tg,e),new Ds(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ds(xu(this.r),xu(this.g),xu(this.b),Sb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:l5,formatHex:l5,formatHex8:k$e,formatRgb:c5,toString:c5}));function l5(){return`#${Qc(this.r)}${Qc(this.g)}${Qc(this.b)}`}function k$e(){return`#${Qc(this.r)}${Qc(this.g)}${Qc(this.b)}${Qc((isNaN(this.opacity)?1:this.opacity)*255)}`}function c5(){const e=Sb(this.opacity);return`${e===1?"rgb(":"rgba("}${xu(this.r)}, ${xu(this.g)}, ${xu(this.b)}${e===1?")":`, ${e})`}`}function Sb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qc(e){return e=xu(e),(e<16?"0":"")+e.toString(16)}function u5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Za(e,t,r,n)}function iK(e){if(e instanceof Za)return new Za(e.h,e.s,e.l,e.opacity);if(e instanceof Yy||(e=Rg(e)),!e)return new Za;if(e instanceof Za)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),a=Math.max(t,r,n),i=NaN,l=a-s,c=(a+s)/2;return l?(t===a?i=(r-n)/l+(r<n)*6:r===a?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?a+s:2-a-s,i*=60):l=c>0&&c<1?0:i,new Za(i,l,c,e.opacity)}function E$e(e,t,r,n){return arguments.length===1?iK(e):new Za(e,t,r,n??1)}function Za(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}FT(Za,E$e,aK(Yy,{brighter(e){return e=e==null?_b:Math.pow(_b,e),new Za(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tg:Math.pow(Tg,e),new Za(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Ds(yj(e>=240?e-240:e+120,s,n),yj(e,s,n),yj(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Za(d5(this.h),s0(this.s),s0(this.l),Sb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sb(this.opacity);return`${e===1?"hsl(":"hsla("}${d5(this.h)}, ${s0(this.s)*100}%, ${s0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function d5(e){return e=(e||0)%360,e<0?e+360:e}function s0(e){return Math.max(0,Math.min(1,e||0))}function yj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const BT=e=>()=>e;function N$e(e,t){return function(r){return e+r*t}}function C$e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function P$e(e){return(e=+e)==1?oK:function(t,r){return r-t?C$e(t,r,e):BT(isNaN(t)?r:t)}}function oK(e,t){var r=t-e;return r?N$e(e,r):BT(isNaN(e)?t:e)}const f5=function e(t){var r=P$e(t);function n(s,a){var i=r((s=f2(s)).r,(a=f2(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),u=oK(s.opacity,a.opacity);return function(d){return s.r=i(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function A$e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=e[s]*(1-a)+t[s]*a;return n}}function T$e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function O$e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),a=new Array(r),i;for(i=0;i<n;++i)s[i]=Yh(e[i],t[i]);for(;i<r;++i)a[i]=t[i];return function(l){for(i=0;i<n;++i)a[i]=s[i](l);return a}}function R$e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function jb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function $$e(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Yh(e[s],t[s]):n[s]=t[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var h2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vj=new RegExp(h2.source,"g");function M$e(e){return function(){return e}}function I$e(e){return function(t){return e(t)+""}}function L$e(e,t){var r=h2.lastIndex=vj.lastIndex=0,n,s,a,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=h2.exec(e))&&(s=vj.exec(t));)(a=s.index)>r&&(a=t.slice(r,a),l[i]?l[i]+=a:l[++i]=a),(n=n[0])===(s=s[0])?l[i]?l[i]+=s:l[++i]=s:(l[++i]=null,c.push({i,x:jb(n,s)})),r=vj.lastIndex;return r<t.length&&(a=t.slice(r),l[i]?l[i]+=a:l[++i]=a),l.length<2?c[0]?I$e(c[0].x):M$e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Yh(e,t){var r=typeof t,n;return t==null||r==="boolean"?BT(t):(r==="number"?jb:r==="string"?(n=Rg(t))?(t=n,f5):L$e:t instanceof Rg?f5:t instanceof Date?R$e:T$e(t)?A$e:Array.isArray(t)?O$e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$$e:jb)(e,t)}function UT(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function D$e(e,t){t===void 0&&(t=e,e=Yh);for(var r=0,n=t.length-1,s=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(s,s=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return a[l](i-l)}}function F$e(e){return function(){return e}}function kb(e){return+e}var h5=[0,1];function vs(e){return e}function p2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:F$e(isNaN(t)?NaN:.5)}function B$e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function U$e(e,t,r){var n=e[0],s=e[1],a=t[0],i=t[1];return s<n?(n=p2(s,n),a=r(i,a)):(n=p2(n,s),a=r(a,i)),function(l){return a(n(l))}}function z$e(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),a=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)s[i]=p2(e[i],e[i+1]),a[i]=r(t[i],t[i+1]);return function(l){var c=Gy(e,l,1,n)-1;return a[c](s[c](l))}}function Jy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function z1(){var e=h5,t=h5,r=Yh,n,s,a,i=vs,l,c,u;function d(){var h=Math.min(e.length,t.length);return i!==vs&&(i=B$e(e[0],e[h-1])),l=h>2?z$e:U$e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(s((u||(u=l(t,e.map(n),jb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,kb),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=UT,d()},f.clamp=function(h){return arguments.length?(i=h?!0:vs,d()):i!==vs},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,g){return n=h,s=g,d()}}function zT(){return z1()(vs,vs)}function q$e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Eb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Qf(e){return e=Eb(Math.abs(e)),e?e[1]:NaN}function W$e(e,t){return function(r,n){for(var s=r.length,a=[],i=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return a.reverse().join(t)}}function V$e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var H$e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $g(e){if(!(t=H$e.exec(e)))throw new Error("invalid format: "+e);var t;return new qT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$g.prototype=qT.prototype;function qT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function K$e(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var lK;function G$e(e,t){var r=Eb(e,t);if(!r)return e+"";var n=r[0],s=r[1],a=s-(lK=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=n.length;return a===i?n:a>i?n+new Array(a-i+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Eb(e,Math.max(0,t+a-1))[0]}function p5(e,t){var r=Eb(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const m5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:q$e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>p5(e*100,t),r:p5,s:G$e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function g5(e){return e}var y5=Array.prototype.map,v5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Y$e(e){var t=e.grouping===void 0||e.thousands===void 0?g5:W$e(y5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?g5:V$e(y5.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=$g(f);var h=f.fill,g=f.align,v=f.sign,p=f.symbol,y=f.zero,x=f.width,b=f.comma,w=f.precision,_=f.trim,S=f.type;S==="n"?(b=!0,S="g"):m5[S]||(w===void 0&&(w=12),_=!0,S="g"),(y||h==="0"&&g==="=")&&(y=!0,h="0",g="=");var E=p==="$"?r:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=p==="$"?n:/[%p]/.test(S)?i:"",j=m5[S],N=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(A){var R=E,H=k,U,D,B;if(S==="c")H=j(A)+H,A="";else{A=+A;var L=A<0||1/A<0;if(A=isNaN(A)?c:j(Math.abs(A),w),_&&(A=K$e(A)),L&&+A==0&&v!=="+"&&(L=!1),R=(L?v==="("?v:l:v==="-"||v==="("?"":v)+R,H=(S==="s"?v5[8+lK/3]:"")+H+(L&&v==="("?")":""),N){for(U=-1,D=A.length;++U<D;)if(B=A.charCodeAt(U),48>B||B>57){H=(B===46?s+A.slice(U+1):A.slice(U))+H,A=A.slice(0,U);break}}}b&&!y&&(A=t(A,1/0));var T=R.length+A.length+H.length,q=T<x?new Array(x-T+1).join(h):"";switch(b&&y&&(A=t(q+A,q.length?x-H.length:1/0),q=""),g){case"<":A=R+A+H+q;break;case"=":A=R+q+A+H;break;case"^":A=q.slice(0,T=q.length>>1)+R+A+H+q.slice(T);break;default:A=q+R+A+H;break}return a(A)}return C.toString=function(){return f+""},C}function d(f,h){var g=u((f=$g(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Qf(h)/3)))*3,p=Math.pow(10,-v),y=v5[8+v/3];return function(x){return g(p*x)+y}}return{format:u,formatPrefix:d}}var a0,WT,cK;J$e({thousands:",",grouping:[3],currency:["$",""]});function J$e(e){return a0=Y$e(e),WT=a0.format,cK=a0.formatPrefix,a0}function X$e(e){return Math.max(0,-Qf(Math.abs(e)))}function Q$e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qf(t)/3)))*3-Qf(Math.abs(e)))}function Z$e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qf(t)-Qf(e))+1}function uK(e,t,r,n){var s=u2(e,t,r),a;switch(n=$g(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Q$e(s,i))&&(n.precision=a),cK(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Z$e(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=X$e(s))&&(n.precision=a-(n.type==="%")*2);break}}return WT(n)}function wc(e){var t=e.domain;return e.ticks=function(r){var n=t();return l2(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return uK(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,a=n.length-1,i=n[s],l=n[a],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=c2(i,l,r),u===c)return n[s]=i,n[a]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Nb(){var e=zT();return e.copy=function(){return Jy(e,Nb())},Ia.apply(e,arguments),wc(e)}function dK(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,kb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return dK(e).unknown(t)},e=arguments.length?Array.from(e,kb):[0,1],wc(r)}function fK(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],a=e[n],i;return a<s&&(i=r,r=n,n=i,i=s,s=a,a=i),e[r]=t.floor(s),e[n]=t.ceil(a),e}function x5(e){return Math.log(e)}function b5(e){return Math.exp(e)}function eMe(e){return-Math.log(-e)}function tMe(e){return-Math.exp(-e)}function rMe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function nMe(e){return e===10?rMe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function sMe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function w5(e){return(t,r)=>-e(-t,r)}function VT(e){const t=e(x5,b5),r=t.domain;let n=10,s,a;function i(){return s=sMe(n),a=nMe(n),r()[0]<0?(s=w5(s),a=w5(a),e(eMe,tMe)):e(x5,b5),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),g=s(d),v,p;const y=l==null?10:+l;let x=[];if(!(n%1)&&g-h<y){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<n;++v)if(p=h<0?v/a(-h):v*a(h),!(p<u)){if(p>d)break;x.push(p)}}else for(;h<=g;++h)for(v=n-1;v>=1;--v)if(p=h>0?v/a(-h):v*a(h),!(p<u)){if(p>d)break;x.push(p)}x.length*2<y&&(x=l2(u,d,y))}else x=l2(h,g,Math.min(g-h,y)).map(a);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=$g(c)).precision==null&&(c.trim=!0),c=WT(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(fK(r(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function hK(){const e=VT(z1()).domain([1,10]);return e.copy=()=>Jy(e,hK()).base(e.base()),Ia.apply(e,arguments),e}function _5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function S5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function HT(e){var t=1,r=e(_5(t),S5(t));return r.constant=function(n){return arguments.length?e(_5(t=+n),S5(t)):t},wc(r)}function pK(){var e=HT(z1());return e.copy=function(){return Jy(e,pK()).constant(e.constant())},Ia.apply(e,arguments)}function j5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function aMe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function iMe(e){return e<0?-e*e:e*e}function KT(e){var t=e(vs,vs),r=1;function n(){return r===1?e(vs,vs):r===.5?e(aMe,iMe):e(j5(r),j5(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},wc(t)}function GT(){var e=KT(z1());return e.copy=function(){return Jy(e,GT()).exponent(e.exponent())},Ia.apply(e,arguments),e}function oMe(){return GT.apply(null,arguments).exponent(.5)}function k5(e){return Math.sign(e)*e*e}function lMe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function mK(){var e=zT(),t=[0,1],r=!1,n;function s(a){var i=lMe(e(a));return isNaN(i)?n:r?Math.round(i):i}return s.invert=function(a){return e.invert(k5(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,kb)).map(k5)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return mK(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ia.apply(s,arguments),wc(s)}function gK(){var e=[],t=[],r=[],n;function s(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=h$e(e,i/l);return a}function a(i){return i==null||isNaN(i=+i)?n:t[Gy(r,i)]}return a.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(tc),s()},a.range=function(i){return arguments.length?(t=Array.from(i),s()):t.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return gK().domain(e).range(t).unknown(n)},Ia.apply(a,arguments)}function yK(){var e=0,t=1,r=1,n=[.5],s=[0,1],a;function i(c){return c!=null&&c<=c?s[Gy(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},i.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(a=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return yK().domain([e,t]).range(s).unknown(a)},Ia.apply(wc(i),arguments)}function vK(){var e=[.5],t=[0,1],r,n=1;function s(a){return a!=null&&a<=a?t[Gy(e,a,0,n)]:r}return s.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var i=t.indexOf(a);return[e[i-1],e[i]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return vK().domain(e).range(t).unknown(r)},Ia.apply(s,arguments)}const xj=new Date,bj=new Date;function Pn(e,t,r,n){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const i=s(a),l=s.ceil(a);return a-i<l-a?i:l},s.offset=(a,i)=>(t(a=new Date(+a),i==null?1:Math.floor(i)),a),s.range=(a,i,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<i)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<i);return c},s.filter=a=>Pn(i=>{if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!a(i););else for(;--l>=0;)for(;t(i,1),!a(i););}),r&&(s.count=(a,i)=>(xj.setTime(+a),bj.setTime(+i),e(xj),e(bj),Math.floor(r(xj,bj))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?i=>n(i)%a===0:i=>s.count(0,i)%a===0):s)),s}const Cb=Pn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Cb);Cb.range;const _o=1e3,ja=_o*60,So=ja*60,qo=So*24,YT=qo*7,E5=qo*30,wj=qo*365,Zc=Pn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_o)},(e,t)=>(t-e)/_o,e=>e.getUTCSeconds());Zc.range;const JT=Pn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_o)},(e,t)=>{e.setTime(+e+t*ja)},(e,t)=>(t-e)/ja,e=>e.getMinutes());JT.range;const XT=Pn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ja)},(e,t)=>(t-e)/ja,e=>e.getUTCMinutes());XT.range;const QT=Pn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_o-e.getMinutes()*ja)},(e,t)=>{e.setTime(+e+t*So)},(e,t)=>(t-e)/So,e=>e.getHours());QT.range;const ZT=Pn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*So)},(e,t)=>(t-e)/So,e=>e.getUTCHours());ZT.range;const Xy=Pn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ja)/qo,e=>e.getDate()-1);Xy.range;const q1=Pn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qo,e=>e.getUTCDate()-1);q1.range;const xK=Pn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qo,e=>Math.floor(e/qo));xK.range;function Xu(e){return Pn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ja)/YT)}const W1=Xu(0),Pb=Xu(1),cMe=Xu(2),uMe=Xu(3),Zf=Xu(4),dMe=Xu(5),fMe=Xu(6);W1.range;Pb.range;cMe.range;uMe.range;Zf.range;dMe.range;fMe.range;function Qu(e){return Pn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/YT)}const V1=Qu(0),Ab=Qu(1),hMe=Qu(2),pMe=Qu(3),eh=Qu(4),mMe=Qu(5),gMe=Qu(6);V1.range;Ab.range;hMe.range;pMe.range;eh.range;mMe.range;gMe.range;const eO=Pn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());eO.range;const tO=Pn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());tO.range;const Wo=Pn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Wo.range;const Vo=Pn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Vo.range;function bK(e,t,r,n,s,a){const i=[[Zc,1,_o],[Zc,5,5*_o],[Zc,15,15*_o],[Zc,30,30*_o],[a,1,ja],[a,5,5*ja],[a,15,15*ja],[a,30,30*ja],[s,1,So],[s,3,3*So],[s,6,6*So],[s,12,12*So],[n,1,qo],[n,2,2*qo],[r,1,YT],[t,1,E5],[t,3,3*E5],[e,1,wj]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),v=g?g.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,g=LT(([,,y])=>y).right(i,h);if(g===i.length)return e.every(u2(u/wj,d/wj,f));if(g===0)return Cb.every(Math.max(u2(u,d,f),1));const[v,p]=i[h/i[g-1][2]<i[g][2]/h?g-1:g];return v.every(p)}return[l,c]}const[yMe,vMe]=bK(Vo,tO,V1,xK,ZT,XT),[xMe,bMe]=bK(Wo,eO,W1,Xy,QT,JT);function _j(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Op(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function wMe(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,a=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=Rp(s),d=$p(s),f=Rp(a),h=$p(a),g=Rp(i),v=$p(i),p=Rp(l),y=$p(l),x=Rp(c),b=$p(c),w={a:L,A:T,b:q,B:I,c:null,d:O5,e:O5,f:WMe,g:e4e,G:r4e,H:UMe,I:zMe,j:qMe,L:wK,m:VMe,M:HMe,p:P,q:W,Q:M5,s:I5,S:KMe,u:GMe,U:YMe,V:JMe,w:XMe,W:QMe,x:null,X:null,y:ZMe,Y:t4e,Z:n4e,"%":$5},_={a:V,A:ee,b:X,B:ne,c:null,d:R5,e:R5,f:o4e,g:y4e,G:x4e,H:s4e,I:a4e,j:i4e,L:SK,m:l4e,M:c4e,p:F,q:$,Q:M5,s:I5,S:u4e,u:d4e,U:f4e,V:h4e,w:p4e,W:m4e,x:null,X:null,y:g4e,Y:v4e,Z:b4e,"%":$5},S={a:C,A,b:R,B:H,c:U,d:A5,e:A5,f:LMe,g:P5,G:C5,H:T5,I:T5,j:RMe,L:IMe,m:OMe,M:$Me,p:N,q:TMe,Q:FMe,s:BMe,S:MMe,u:EMe,U:NMe,V:CMe,w:kMe,W:PMe,x:D,X:B,y:P5,Y:C5,Z:AMe,"%":DMe};w.x=E(r,w),w.X=E(n,w),w.c=E(t,w),_.x=E(r,_),_.X=E(n,_),_.c=E(t,_);function E(K,Y){return function(se){var Q=[],ae=-1,re=0,pe=K.length,ve,Ie,et;for(se instanceof Date||(se=new Date(+se));++ae<pe;)K.charCodeAt(ae)===37&&(Q.push(K.slice(re,ae)),(Ie=N5[ve=K.charAt(++ae)])!=null?ve=K.charAt(++ae):Ie=ve==="e"?" ":"0",(et=Y[ve])&&(ve=et(se,Ie)),Q.push(ve),re=ae+1);return Q.push(K.slice(re,ae)),Q.join("")}}function k(K,Y){return function(se){var Q=Op(1900,void 0,1),ae=j(Q,K,se+="",0),re,pe;if(ae!=se.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(Y&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(re=Sj(Op(Q.y,0,1)),pe=re.getUTCDay(),re=pe>4||pe===0?Ab.ceil(re):Ab(re),re=q1.offset(re,(Q.V-1)*7),Q.y=re.getUTCFullYear(),Q.m=re.getUTCMonth(),Q.d=re.getUTCDate()+(Q.w+6)%7):(re=_j(Op(Q.y,0,1)),pe=re.getDay(),re=pe>4||pe===0?Pb.ceil(re):Pb(re),re=Xy.offset(re,(Q.V-1)*7),Q.y=re.getFullYear(),Q.m=re.getMonth(),Q.d=re.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),pe="Z"in Q?Sj(Op(Q.y,0,1)).getUTCDay():_j(Op(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(pe+5)%7:Q.w+Q.U*7-(pe+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Sj(Q)):_j(Q)}}function j(K,Y,se,Q){for(var ae=0,re=Y.length,pe=se.length,ve,Ie;ae<re;){if(Q>=pe)return-1;if(ve=Y.charCodeAt(ae++),ve===37){if(ve=Y.charAt(ae++),Ie=S[ve in N5?Y.charAt(ae++):ve],!Ie||(Q=Ie(K,se,Q))<0)return-1}else if(ve!=se.charCodeAt(Q++))return-1}return Q}function N(K,Y,se){var Q=u.exec(Y.slice(se));return Q?(K.p=d.get(Q[0].toLowerCase()),se+Q[0].length):-1}function C(K,Y,se){var Q=g.exec(Y.slice(se));return Q?(K.w=v.get(Q[0].toLowerCase()),se+Q[0].length):-1}function A(K,Y,se){var Q=f.exec(Y.slice(se));return Q?(K.w=h.get(Q[0].toLowerCase()),se+Q[0].length):-1}function R(K,Y,se){var Q=x.exec(Y.slice(se));return Q?(K.m=b.get(Q[0].toLowerCase()),se+Q[0].length):-1}function H(K,Y,se){var Q=p.exec(Y.slice(se));return Q?(K.m=y.get(Q[0].toLowerCase()),se+Q[0].length):-1}function U(K,Y,se){return j(K,t,Y,se)}function D(K,Y,se){return j(K,r,Y,se)}function B(K,Y,se){return j(K,n,Y,se)}function L(K){return i[K.getDay()]}function T(K){return a[K.getDay()]}function q(K){return c[K.getMonth()]}function I(K){return l[K.getMonth()]}function P(K){return s[+(K.getHours()>=12)]}function W(K){return 1+~~(K.getMonth()/3)}function V(K){return i[K.getUTCDay()]}function ee(K){return a[K.getUTCDay()]}function X(K){return c[K.getUTCMonth()]}function ne(K){return l[K.getUTCMonth()]}function F(K){return s[+(K.getUTCHours()>=12)]}function $(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var Y=E(K+="",w);return Y.toString=function(){return K},Y},parse:function(K){var Y=k(K+="",!1);return Y.toString=function(){return K},Y},utcFormat:function(K){var Y=E(K+="",_);return Y.toString=function(){return K},Y},utcParse:function(K){var Y=k(K+="",!0);return Y.toString=function(){return K},Y}}}var N5={"-":"",_:" ",0:"0"},Ln=/^\s*\d+/,_Me=/^%/,SMe=/[\\^$*+?|[\]().{}]/g;function tr(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(t)+s:s)}function jMe(e){return e.replace(SMe,"\\$&")}function Rp(e){return new RegExp("^(?:"+e.map(jMe).join("|")+")","i")}function $p(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function kMe(e,t,r){var n=Ln.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function EMe(e,t,r){var n=Ln.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function NMe(e,t,r){var n=Ln.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function CMe(e,t,r){var n=Ln.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function PMe(e,t,r){var n=Ln.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function C5(e,t,r){var n=Ln.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function P5(e,t,r){var n=Ln.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function AMe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function TMe(e,t,r){var n=Ln.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function OMe(e,t,r){var n=Ln.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function A5(e,t,r){var n=Ln.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function RMe(e,t,r){var n=Ln.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function T5(e,t,r){var n=Ln.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function $Me(e,t,r){var n=Ln.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function MMe(e,t,r){var n=Ln.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function IMe(e,t,r){var n=Ln.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function LMe(e,t,r){var n=Ln.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function DMe(e,t,r){var n=_Me.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function FMe(e,t,r){var n=Ln.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function BMe(e,t,r){var n=Ln.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function O5(e,t){return tr(e.getDate(),t,2)}function UMe(e,t){return tr(e.getHours(),t,2)}function zMe(e,t){return tr(e.getHours()%12||12,t,2)}function qMe(e,t){return tr(1+Xy.count(Wo(e),e),t,3)}function wK(e,t){return tr(e.getMilliseconds(),t,3)}function WMe(e,t){return wK(e,t)+"000"}function VMe(e,t){return tr(e.getMonth()+1,t,2)}function HMe(e,t){return tr(e.getMinutes(),t,2)}function KMe(e,t){return tr(e.getSeconds(),t,2)}function GMe(e){var t=e.getDay();return t===0?7:t}function YMe(e,t){return tr(W1.count(Wo(e)-1,e),t,2)}function _K(e){var t=e.getDay();return t>=4||t===0?Zf(e):Zf.ceil(e)}function JMe(e,t){return e=_K(e),tr(Zf.count(Wo(e),e)+(Wo(e).getDay()===4),t,2)}function XMe(e){return e.getDay()}function QMe(e,t){return tr(Pb.count(Wo(e)-1,e),t,2)}function ZMe(e,t){return tr(e.getFullYear()%100,t,2)}function e4e(e,t){return e=_K(e),tr(e.getFullYear()%100,t,2)}function t4e(e,t){return tr(e.getFullYear()%1e4,t,4)}function r4e(e,t){var r=e.getDay();return e=r>=4||r===0?Zf(e):Zf.ceil(e),tr(e.getFullYear()%1e4,t,4)}function n4e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tr(t/60|0,"0",2)+tr(t%60,"0",2)}function R5(e,t){return tr(e.getUTCDate(),t,2)}function s4e(e,t){return tr(e.getUTCHours(),t,2)}function a4e(e,t){return tr(e.getUTCHours()%12||12,t,2)}function i4e(e,t){return tr(1+q1.count(Vo(e),e),t,3)}function SK(e,t){return tr(e.getUTCMilliseconds(),t,3)}function o4e(e,t){return SK(e,t)+"000"}function l4e(e,t){return tr(e.getUTCMonth()+1,t,2)}function c4e(e,t){return tr(e.getUTCMinutes(),t,2)}function u4e(e,t){return tr(e.getUTCSeconds(),t,2)}function d4e(e){var t=e.getUTCDay();return t===0?7:t}function f4e(e,t){return tr(V1.count(Vo(e)-1,e),t,2)}function jK(e){var t=e.getUTCDay();return t>=4||t===0?eh(e):eh.ceil(e)}function h4e(e,t){return e=jK(e),tr(eh.count(Vo(e),e)+(Vo(e).getUTCDay()===4),t,2)}function p4e(e){return e.getUTCDay()}function m4e(e,t){return tr(Ab.count(Vo(e)-1,e),t,2)}function g4e(e,t){return tr(e.getUTCFullYear()%100,t,2)}function y4e(e,t){return e=jK(e),tr(e.getUTCFullYear()%100,t,2)}function v4e(e,t){return tr(e.getUTCFullYear()%1e4,t,4)}function x4e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?eh(e):eh.ceil(e),tr(e.getUTCFullYear()%1e4,t,4)}function b4e(){return"+0000"}function $5(){return"%"}function M5(e){return+e}function I5(e){return Math.floor(+e/1e3)}var md,kK,EK;w4e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function w4e(e){return md=wMe(e),kK=md.format,md.parse,EK=md.utcFormat,md.utcParse,md}function _4e(e){return new Date(e)}function S4e(e){return e instanceof Date?+e:+new Date(+e)}function rO(e,t,r,n,s,a,i,l,c,u){var d=zT(),f=d.invert,h=d.domain,g=u(".%L"),v=u(":%S"),p=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),_=u("%Y");function S(E){return(c(E)<E?g:l(E)<E?v:i(E)<E?p:a(E)<E?y:n(E)<E?s(E)<E?x:b:r(E)<E?w:_)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,S4e)):h().map(_4e)},d.ticks=function(E){var k=h();return e(k[0],k[k.length-1],E??10)},d.tickFormat=function(E,k){return k==null?S:u(k)},d.nice=function(E){var k=h();return(!E||typeof E.range!="function")&&(E=t(k[0],k[k.length-1],E??10)),E?h(fK(k,E)):d},d.copy=function(){return Jy(d,rO(e,t,r,n,s,a,i,l,c,u))},d}function j4e(){return Ia.apply(rO(xMe,bMe,Wo,eO,W1,Xy,QT,JT,Zc,kK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function k4e(){return Ia.apply(rO(yMe,vMe,Vo,tO,V1,q1,ZT,XT,Zc,EK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function H1(){var e=0,t=1,r,n,s,a,i=vs,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(s===0?.5:(f=(a(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var g,v;return arguments.length?([g,v]=h,i=f(g,v),u):[i(0),i(1)]}}return u.range=d(Yh),u.rangeRound=d(UT),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function _c(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function NK(){var e=wc(H1()(vs));return e.copy=function(){return _c(e,NK())},Xo.apply(e,arguments)}function CK(){var e=VT(H1()).domain([1,10]);return e.copy=function(){return _c(e,CK()).base(e.base())},Xo.apply(e,arguments)}function PK(){var e=HT(H1());return e.copy=function(){return _c(e,PK()).constant(e.constant())},Xo.apply(e,arguments)}function nO(){var e=KT(H1());return e.copy=function(){return _c(e,nO()).exponent(e.exponent())},Xo.apply(e,arguments)}function E4e(){return nO.apply(null,arguments).exponent(.5)}function AK(){var e=[],t=vs;function r(n){if(n!=null&&!isNaN(n=+n))return t((Gy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(tc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>f$e(e,a/n))},r.copy=function(){return AK(t).domain(e)},Xo.apply(r,arguments)}function K1(){var e=0,t=.5,r=1,n=1,s,a,i,l,c,u=vs,d,f=!1,h;function g(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-a)*(n*p<n*a?l:c),u(f?Math.max(0,Math.min(1,p)):p))}g.domain=function(p){return arguments.length?([e,t,r]=p,s=d(e=+e),a=d(t=+t),i=d(r=+r),l=s===a?0:.5/(a-s),c=a===i?0:.5/(i-a),n=a<s?-1:1,g):[e,t,r]},g.clamp=function(p){return arguments.length?(f=!!p,g):f},g.interpolator=function(p){return arguments.length?(u=p,g):u};function v(p){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,u=D$e(p,[x,b,w]),g):[u(0),u(.5),u(1)]}}return g.range=v(Yh),g.rangeRound=v(UT),g.unknown=function(p){return arguments.length?(h=p,g):h},function(p){return d=p,s=p(e),a=p(t),i=p(r),l=s===a?0:.5/(a-s),c=a===i?0:.5/(i-a),n=a<s?-1:1,g}}function TK(){var e=wc(K1()(vs));return e.copy=function(){return _c(e,TK())},Xo.apply(e,arguments)}function OK(){var e=VT(K1()).domain([.1,1,10]);return e.copy=function(){return _c(e,OK()).base(e.base())},Xo.apply(e,arguments)}function RK(){var e=HT(K1());return e.copy=function(){return _c(e,RK()).constant(e.constant())},Xo.apply(e,arguments)}function sO(){var e=KT(K1());return e.copy=function(){return _c(e,sO()).exponent(e.exponent())},Xo.apply(e,arguments)}function N4e(){return sO.apply(null,arguments).exponent(.5)}const L5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ag,scaleDiverging:TK,scaleDivergingLog:OK,scaleDivergingPow:sO,scaleDivergingSqrt:N4e,scaleDivergingSymlog:RK,scaleIdentity:dK,scaleImplicit:d2,scaleLinear:Nb,scaleLog:hK,scaleOrdinal:DT,scalePoint:Tm,scalePow:GT,scaleQuantile:gK,scaleQuantize:yK,scaleRadial:mK,scaleSequential:NK,scaleSequentialLog:CK,scaleSequentialPow:nO,scaleSequentialQuantile:AK,scaleSequentialSqrt:E4e,scaleSequentialSymlog:PK,scaleSqrt:oMe,scaleSymlog:pK,scaleThreshold:vK,scaleTime:j4e,scaleUtc:k4e,tickFormat:uK},Symbol.toStringTag,{value:"Module"}));var C4e=Uh;function P4e(e,t,r){for(var n=-1,s=e.length;++n<s;){var a=e[n],i=t(a);if(i!=null&&(l===void 0?i===i&&!C4e(i):r(i,l)))var l=i,c=a}return c}var $K=P4e;function A4e(e,t){return e>t}var T4e=A4e,O4e=$K,R4e=T4e,$4e=Gh;function M4e(e){return e&&e.length?O4e(e,$4e,R4e):void 0}var I4e=M4e;const G1=wr(I4e);function L4e(e,t){return e<t}var D4e=L4e,F4e=$K,B4e=D4e,U4e=Gh;function z4e(e){return e&&e.length?F4e(e,U4e,B4e):void 0}var q4e=z4e;const Y1=wr(q4e);var W4e=vT,V4e=bc,H4e=qH,K4e=Hs;function G4e(e,t){var r=K4e(e)?W4e:H4e;return r(e,V4e(t))}var Y4e=G4e,J4e=UH,X4e=Y4e;function Q4e(e,t){return J4e(X4e(e,t),1)}var Z4e=Q4e;const eIe=wr(Z4e);var tIe=RT;function rIe(e,t){return tIe(e,t)}var nIe=rIe;const aO=wr(nIe);var Jh=1e9,sIe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},oO,Dr=!0,Ra="[DecimalError] ",bu=Ra+"Invalid argument: ",iO=Ra+"Exponent out of range: ",Xh=Math.floor,Bc=Math.pow,aIe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ea,Tn=1e7,Or=7,MK=9007199254740991,Tb=Xh(MK/Or),mt={};mt.absoluteValue=mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};mt.comparedTo=mt.cmp=function(e){var t,r,n,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};mt.decimalPlaces=mt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Or;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};mt.dividedBy=mt.div=function(e){return To(this,new this.constructor(e))};mt.dividedToIntegerBy=mt.idiv=function(e){var t=this,r=t.constructor;return Sr(To(t,new r(e),0,1),r.precision)};mt.equals=mt.eq=function(e){return!this.cmp(e)};mt.exponent=function(){return gn(this)};mt.greaterThan=mt.gt=function(e){return this.cmp(e)>0};mt.greaterThanOrEqualTo=mt.gte=function(e){return this.cmp(e)>=0};mt.isInteger=mt.isint=function(){return this.e>this.d.length-2};mt.isNegative=mt.isneg=function(){return this.s<0};mt.isPositive=mt.ispos=function(){return this.s>0};mt.isZero=function(){return this.s===0};mt.lessThan=mt.lt=function(e){return this.cmp(e)<0};mt.lessThanOrEqualTo=mt.lte=function(e){return this.cmp(e)<1};mt.logarithm=mt.log=function(e){var t,r=this,n=r.constructor,s=n.precision,a=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ea))throw Error(Ra+"NaN");if(r.s<1)throw Error(Ra+(r.s?"NaN":"-Infinity"));return r.eq(ea)?new n(0):(Dr=!1,t=To(Mg(r,a),Mg(e,a),a),Dr=!0,Sr(t,s))};mt.minus=mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DK(t,e):IK(t,(e.s=-e.s,e))};mt.modulo=mt.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Ra+"NaN");return r.s?(Dr=!1,t=To(r,e,0,1).times(e),Dr=!0,r.minus(t)):Sr(new n(r),s)};mt.naturalExponential=mt.exp=function(){return LK(this)};mt.naturalLogarithm=mt.ln=function(){return Mg(this)};mt.negated=mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};mt.plus=mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IK(t,e):DK(t,(e.s=-e.s,e))};mt.precision=mt.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(bu+e);if(t=gn(s)+1,n=s.d.length-1,r=n*Or+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};mt.squareRoot=mt.sqrt=function(){var e,t,r,n,s,a,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ra+"NaN")}for(e=gn(l),Dr=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Ti(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Xh((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=i=r+3;;)if(a=n,n=a.plus(To(l,a,i+2)).times(.5),Ti(a.d).slice(0,i)===(t=Ti(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),s==i&&t=="4999"){if(Sr(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;i+=4}return Dr=!0,Sr(n,r)};mt.times=mt.mul=function(e){var t,r,n,s,a,i,l,c,u,d=this,f=d.constructor,h=d.d,g=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=g.length,c<u&&(a=h,h=g,g=a,i=c,c=u,u=i),a=[],i=c+u,n=i;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=a[s]+g[n]*h[s-n-1]+t,a[s--]=l%Tn|0,t=l/Tn|0;a[s]=(a[s]+t)%Tn|0}for(;!a[--i];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Dr?Sr(e,f.precision):e};mt.toDecimalPlaces=mt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Xi(e,0,Jh),t===void 0?t=n.rounding:Xi(t,0,8),Sr(r,e+gn(r)+1,t))};mt.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Du(n,!0):(Xi(e,0,Jh),t===void 0?t=s.rounding:Xi(t,0,8),n=Sr(new s(n),e+1,t),r=Du(n,!0,e+1)),r};mt.toFixed=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?Du(s):(Xi(e,0,Jh),t===void 0?t=a.rounding:Xi(t,0,8),n=Sr(new a(s),e+gn(s)+1,t),r=Du(n.abs(),!1,e+gn(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};mt.toInteger=mt.toint=function(){var e=this,t=e.constructor;return Sr(new t(e),gn(e)+1,t.rounding)};mt.toNumber=function(){return+this};mt.toPower=mt.pow=function(e){var t,r,n,s,a,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ea);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ra+"Infinity");return l}if(l.eq(ea))return l;if(n=c.precision,e.eq(ea))return Sr(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,a=l.s,i){if((r=d<0?-d:d)<=MK){for(s=new c(ea),t=Math.ceil(n/Or+4),Dr=!1;r%2&&(s=s.times(l),F5(s.d,t)),r=Xh(r/2),r!==0;)l=l.times(l),F5(l.d,t);return Dr=!0,e.s<0?new c(ea).div(s):Sr(s,n)}}else if(a<0)throw Error(Ra+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Dr=!1,s=e.times(Mg(l,n+u)),Dr=!0,s=LK(s),s.s=a,s};mt.toPrecision=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?(r=gn(s),n=Du(s,r<=a.toExpNeg||r>=a.toExpPos)):(Xi(e,1,Jh),t===void 0?t=a.rounding:Xi(t,0,8),s=Sr(new a(s),e,t),r=gn(s),n=Du(s,e<=r||r<=a.toExpNeg,e)),n};mt.toSignificantDigits=mt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Xi(e,1,Jh),t===void 0?t=n.rounding:Xi(t,0,8)),Sr(new n(r),e,t)};mt.toString=mt.valueOf=mt.val=mt.toJSON=mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gn(e),r=e.constructor;return Du(e,t<=r.toExpNeg||t>=r.toExpPos)};function IK(e,t){var r,n,s,a,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Dr?Sr(t,f):t;if(c=e.d,u=t.d,i=e.e,s=t.e,c=c.slice(),a=i-s,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,s=i,l=c.length),i=Math.ceil(f/Or),l=i>l?i+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Tn|0,c[a]%=Tn;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Dr?Sr(t,f):t}function Xi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(bu+e)}function Ti(e){var t,r,n,s=e.length-1,a="",i=e[0];if(s>0){for(a+=i,t=1;t<s;t++)n=e[t]+"",r=Or-n.length,r&&(a+=vl(r)),a+=n;i=e[t],n=i+"",r=Or-n.length,r&&(a+=vl(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return a+i}var To=function(){function e(n,s){var a,i=0,l=n.length;for(n=n.slice();l--;)a=n[l]*s+i,n[l]=a%Tn|0,i=a/Tn|0;return i&&n.unshift(i),n}function t(n,s,a,i){var l,c;if(a!=i)c=a>i?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,a){for(var i=0;a--;)n[a]-=i,i=n[a]<s[a]?1:0,n[a]=i*Tn+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,i){var l,c,u,d,f,h,g,v,p,y,x,b,w,_,S,E,k,j,N=n.constructor,C=n.s==s.s?1:-1,A=n.d,R=s.d;if(!n.s)return new N(n);if(!s.s)throw Error(Ra+"Division by zero");for(c=n.e-s.e,k=R.length,S=A.length,g=new N(C),v=g.d=[],u=0;R[u]==(A[u]||0);)++u;if(R[u]>(A[u]||0)&&--c,a==null?b=a=N.precision:i?b=a+(gn(n)-gn(s))+1:b=a,b<0)return new N(0);if(b=b/Or+2|0,u=0,k==1)for(d=0,R=R[0],b++;(u<S||d)&&b--;u++)w=d*Tn+(A[u]||0),v[u]=w/R|0,d=w%R|0;else{for(d=Tn/(R[0]+1)|0,d>1&&(R=e(R,d),A=e(A,d),k=R.length,S=A.length),_=k,p=A.slice(0,k),y=p.length;y<k;)p[y++]=0;j=R.slice(),j.unshift(0),E=R[0],R[1]>=Tn/2&&++E;do d=0,l=t(R,p,k,y),l<0?(x=p[0],k!=y&&(x=x*Tn+(p[1]||0)),d=x/E|0,d>1?(d>=Tn&&(d=Tn-1),f=e(R,d),h=f.length,y=p.length,l=t(f,p,h,y),l==1&&(d--,r(f,k<h?j:R,h))):(d==0&&(l=d=1),f=R.slice()),h=f.length,h<y&&f.unshift(0),r(p,f,y),l==-1&&(y=p.length,l=t(R,p,k,y),l<1&&(d++,r(p,k<y?j:R,y))),y=p.length):l===0&&(d++,p=[0]),v[u++]=d,l&&p[0]?p[y++]=A[_]||0:(p=[A[_]],y=1);while((_++<S||p[0]!==void 0)&&b--)}return v[0]||v.shift(),g.e=c,Sr(g,i?a+gn(g)+1:a)}}();function LK(e,t){var r,n,s,a,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(gn(e)>16)throw Error(iO+gn(e));if(!e.s)return new d(ea);for(t==null?(Dr=!1,l=f):l=t,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Bc(2,u))/Math.LN10*2+5|0,l+=n,r=s=a=new d(ea),d.precision=l;;){if(s=Sr(s.times(e),l),r=r.times(++c),i=a.plus(To(s,r,l)),Ti(i.d).slice(0,l)===Ti(a.d).slice(0,l)){for(;u--;)a=Sr(a.times(a),l);return d.precision=f,t==null?(Dr=!0,Sr(a,f)):a}a=i}}function gn(e){for(var t=e.e*Or,r=e.d[0];r>=10;r/=10)t++;return t}function jj(e,t,r){if(t>e.LN10.sd())throw Dr=!0,r&&(e.precision=r),Error(Ra+"LN10 precision limit exceeded");return Sr(new e(e.LN10),t)}function vl(e){for(var t="";e--;)t+="0";return t}function Mg(e,t){var r,n,s,a,i,l,c,u,d,f=1,h=10,g=e,v=g.d,p=g.constructor,y=p.precision;if(g.s<1)throw Error(Ra+(g.s?"NaN":"-Infinity"));if(g.eq(ea))return new p(0);if(t==null?(Dr=!1,u=y):u=t,g.eq(10))return t==null&&(Dr=!0),jj(p,u);if(u+=h,p.precision=u,r=Ti(v),n=r.charAt(0),a=gn(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Ti(g.d),n=r.charAt(0),f++;a=gn(g),n>1?(g=new p("0."+r),a++):g=new p(n+"."+r.slice(1))}else return c=jj(p,u+2,y).times(a+""),g=Mg(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=y,t==null?(Dr=!0,Sr(g,y)):g;for(l=i=g=To(g.minus(ea),g.plus(ea),u),d=Sr(g.times(g),u),s=3;;){if(i=Sr(i.times(d),u),c=l.plus(To(i,new p(s),u)),Ti(c.d).slice(0,u)===Ti(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(jj(p,u+2,y).times(a+""))),l=To(l,new p(f),u),p.precision=y,t==null?(Dr=!0,Sr(l,y)):l;l=c,s+=2}}function D5(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Xh(r/Or),e.d=[],n=(r+1)%Or,r<0&&(n+=Or),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Or;n<s;)e.d.push(+t.slice(n,n+=Or));t=t.slice(n),n=Or-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Dr&&(e.e>Tb||e.e<-Tb))throw Error(iO+r)}else e.s=0,e.e=0,e.d=[0];return e}function Sr(e,t,r){var n,s,a,i,l,c,u,d,f=e.d;for(i=1,a=f[0];a>=10;a/=10)i++;if(n=t-i,n<0)n+=Or,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Or),a=f.length,d>=a)return e;for(u=a=f[d],i=1;a>=10;a/=10)i++;n%=Or,s=n-Or+i}if(r!==void 0&&(a=Bc(10,i-s-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Bc(10,i-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=gn(e),f.length=1,t=t-a-1,f[0]=Bc(10,(Or-t%Or)%Or),e.e=Xh(-t/Or)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Bc(10,Or-n),f[d]=s>0?(u/Bc(10,i-s)%Bc(10,s)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Tn&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Tn)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Dr&&(e.e>Tb||e.e<-Tb))throw Error(iO+gn(e));return e}function DK(e,t){var r,n,s,a,i,l,c,u,d,f,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Dr?Sr(t,g):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(g/Or),l)+2,i>s&&(i=s,r.length=1),r.reverse(),s=i;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>i;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=Tn-1;--c[a],c[s]+=Tn}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Dr?Sr(t,g):t):new h(0)}function Du(e,t,r){var n,s=gn(e),a=Ti(e.d),i=a.length;return t?(r&&(n=r-i)>0?a=a.charAt(0)+"."+a.slice(1)+vl(n):i>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+vl(-s-1)+a,r&&(n=r-i)>0&&(a+=vl(n))):s>=i?(a+=vl(s+1-i),r&&(n=r-s-1)>0&&(a=a+"."+vl(n))):((n=s+1)<i&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-i)>0&&(s+1===i&&(a+="."),a+=vl(n))),e.s<0?"-"+a:a}function F5(e,t){if(e.length>t)return e.length=t,!0}function FK(e){var t,r,n;function s(a){var i=this;if(!(i instanceof s))return new s(a);if(i.constructor=s,a instanceof s){i.s=a.s,i.e=a.e,i.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(bu+a);if(a>0)i.s=1;else if(a<0)a=-a,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(a===~~a&&a<1e7){i.e=0,i.d=[a];return}return D5(i,a.toString())}else if(typeof a!="string")throw Error(bu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),i.s=-1):i.s=1,aIe.test(a))D5(i,a);else throw Error(bu+a)}if(s.prototype=mt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=FK,s.config=s.set=iIe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function iIe(e){if(!e||typeof e!="object")throw Error(Ra+"Object expected");var t,r,n,s=["precision",1,Jh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Xh(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(bu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(bu+r+": "+n);return this}var oO=FK(sIe);ea=new oO(1);const vr=oO;function oIe(e){return dIe(e)||uIe(e)||cIe(e)||lIe()}function lIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cIe(e,t){if(e){if(typeof e=="string")return m2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m2(e,t)}}function uIe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function dIe(e){if(Array.isArray(e))return m2(e)}function m2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fIe=function(t){return t},BK={"@@functional/placeholder":!0},UK=function(t){return t===BK},B5=function(t){return function r(){return arguments.length===0||arguments.length===1&&UK(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},hIe=function e(t,r){return t===1?r:B5(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var i=s.filter(function(l){return l!==BK}).length;return i>=t?r.apply(void 0,s):e(t-i,B5(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return UK(f)?c.shift():f});return r.apply(void 0,oIe(d).concat(c))}))})},J1=function(t){return hIe(t.length,t)},g2=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},pIe=J1(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),mIe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return fIe;var s=r.reverse(),a=s[0],i=s.slice(1);return function(){return i.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},y2=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},zK=function(t){var r=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function gIe(e){var t;return e===0?t=1:t=Math.floor(new vr(e).abs().log(10).toNumber())+1,t}function yIe(e,t,r){for(var n=new vr(e),s=0,a=[];n.lt(t)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}var vIe=J1(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),xIe=J1(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),bIe=J1(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const X1={rangeStep:yIe,getDigitCount:gIe,interpolateNumber:vIe,uninterpolateNumber:xIe,uninterpolateTruncation:bIe};function v2(e){return SIe(e)||_Ie(e)||qK(e)||wIe()}function wIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ie(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function SIe(e){if(Array.isArray(e))return x2(e)}function Ig(e,t){return EIe(e)||kIe(e,t)||qK(e,t)||jIe()}function jIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qK(e,t){if(e){if(typeof e=="string")return x2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x2(e,t)}}function x2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kIe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,a=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,a=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(s)throw a}}return r}}function EIe(e){if(Array.isArray(e))return e}function WK(e){var t=Ig(e,2),r=t[0],n=t[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function VK(e,t,r){if(e.lte(0))return new vr(0);var n=X1.getDigitCount(e.toNumber()),s=new vr(10).pow(n),a=e.div(s),i=n!==1?.05:.1,l=new vr(Math.ceil(a.div(i).toNumber())).add(r).mul(i),c=l.mul(s);return t?c:new vr(Math.ceil(c))}function NIe(e,t,r){var n=1,s=new vr(e);if(!s.isint()&&r){var a=Math.abs(e);a<1?(n=new vr(10).pow(X1.getDigitCount(e)-1),s=new vr(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new vr(Math.floor(e)))}else e===0?s=new vr(Math.floor((t-1)/2)):r||(s=new vr(Math.floor(e)));var i=Math.floor((t-1)/2),l=mIe(pIe(function(c){return s.add(new vr(c-i).mul(n)).toNumber()}),g2);return l(0,t)}function HK(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new vr(0),tickMin:new vr(0),tickMax:new vr(0)};var a=VK(new vr(t).sub(e).div(r-1),n,s),i;e<=0&&t>=0?i=new vr(0):(i=new vr(e).add(t).div(2),i=i.sub(new vr(i).mod(a)));var l=Math.ceil(i.sub(e).div(a).toNumber()),c=Math.ceil(new vr(t).sub(i).div(a).toNumber()),u=l+c+1;return u>r?HK(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:a,tickMin:i.sub(new vr(l).mul(a)),tickMax:i.add(new vr(c).mul(a))})}function CIe(e){var t=Ig(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),l=WK([r,n]),c=Ig(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(v2(g2(0,s-1).map(function(){return 1/0}))):[].concat(v2(g2(0,s-1).map(function(){return-1/0})),[d]);return r>n?y2(f):f}if(u===d)return NIe(u,s,a);var h=HK(u,d,i,a),g=h.step,v=h.tickMin,p=h.tickMax,y=X1.rangeStep(v,p.add(new vr(.1).mul(g)),g);return r>n?y2(y):y}function PIe(e,t){var r=Ig(e,2),n=r[0],s=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=WK([n,s]),l=Ig(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=VK(new vr(u).sub(c).div(d-1),a,0),h=[].concat(v2(X1.rangeStep(new vr(c),new vr(u).sub(new vr(.99).mul(f)),f)),[u]);return n>s?y2(h):h}var AIe=zK(CIe),TIe=zK(PIe),OIe="Invariant failed";function Fu(e,t){throw new Error(OIe)}var RIe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ob.apply(this,arguments)}function $Ie(e,t){return DIe(e)||LIe(e,t)||IIe(e,t)||MIe()}function MIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IIe(e,t){if(e){if(typeof e=="string")return U5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U5(e,t)}}function U5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function DIe(e){if(Array.isArray(e))return e}function FIe(e,t){if(e==null)return{};var r=BIe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YK(n.key),n)}}function qIe(e,t,r){return t&&zIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WIe(e,t,r){return t=Rb(t),VIe(e,KK()?Reflect.construct(t,r||[],Rb(e).constructor):t.apply(e,r))}function VIe(e,t){if(t&&(th(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HIe(e)}function HIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KK=function(){return!!e})()}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rb(e)}function KIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b2(e,t)}function b2(e,t){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},b2(e,t)}function GK(e,t,r){return t=YK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YK(e){var t=GIe(e,"string");return th(t)=="symbol"?t:t+""}function GIe(e,t){if(th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q1=function(e){function t(){return UIe(this,t),WIe(this,t,arguments)}return KIe(t,e),qIe(t,[{key:"render",value:function(){var n=this.props,s=n.offset,a=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=FIe(n,RIe),g=ar(h,!1);this.props.direction==="x"&&d.type!=="number"&&Fu();var v=c.map(function(p){var y=u(p,l),x=y.x,b=y.y,w=y.value,_=y.errorVal;if(!_)return null;var S=[],E,k;if(Array.isArray(_)){var j=$Ie(_,2);E=j[0],k=j[1]}else E=k=_;if(a==="vertical"){var N=d.scale,C=b+s,A=C+i,R=C-i,H=N(w-E),U=N(w+k);S.push({x1:U,y1:A,x2:U,y2:R}),S.push({x1:H,y1:C,x2:U,y2:C}),S.push({x1:H,y1:A,x2:H,y2:R})}else if(a==="horizontal"){var D=f.scale,B=x+s,L=B-i,T=B+i,q=D(w-E),I=D(w+k);S.push({x1:L,y1:I,x2:T,y2:I}),S.push({x1:B,y1:q,x2:B,y2:I}),S.push({x1:L,y1:q,x2:T,y2:q})}return M.createElement(Mn,Ob({className:"recharts-errorBar",key:"bar-".concat(S.map(function(P){return"".concat(P.x1,"-").concat(P.x2,"-").concat(P.y1,"-").concat(P.y2)}))},g),S.map(function(P){return M.createElement("line",Ob({},P,{key:"line-".concat(P.x1,"-").concat(P.x2,"-").concat(P.y1,"-").concat(P.y2)}))}))});return M.createElement(Mn,{className:"recharts-errorBars"},v)}}])}(M.Component);GK(Q1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});GK(Q1,"displayName","ErrorBar");function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function z5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z5(Object(r),!0).forEach(function(n){YIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YIe(e,t,r){return t=JIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JIe(e){var t=XIe(e,"string");return Lg(t)=="symbol"?t:t+""}function XIe(e,t){if(Lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JK=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,i=Qs(r,ff);if(!i)return null;var l=ff.defaultProps,c=l!==void 0?Oc(Oc({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,g=f.props,v=g.sectors||g.data||[];return d.concat(v.map(function(p){return{type:i.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,g=h!==void 0?Oc(Oc({},h),f.props):{},v=g.dataKey,p=g.name,y=g.legendType,x=g.hide;return{inactive:x,dataKey:v,type:c.iconType||y||"square",color:lO(f),value:p||v,payload:g}}),Oc(Oc(Oc({},c),ff.getWithHeight(i,s)),{},{payload:u,item:i})};function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function q5(e){return t3e(e)||e3e(e)||ZIe(e)||QIe()}function QIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZIe(e,t){if(e){if(typeof e=="string")return w2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w2(e,t)}}function e3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t3e(e){if(Array.isArray(e))return w2(e)}function w2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W5(Object(r),!0).forEach(function(n){pf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pf(e,t,r){return t=r3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r3e(e){var t=n3e(e,"string");return Dg(t)=="symbol"?t:t+""}function n3e(e,t){if(Dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qi(e,t,r){return cr(e)||cr(t)?r:Cn(t)?Pa(e,t,r):Kt(t)?t(e):r}function Om(e,t,r,n){var s=eIe(e,function(l){return Qi(l,t)});if(r==="number"){var a=s.filter(function(l){return Xe(l)||parseFloat(l)});return a.length?[Y1(a),G1(a)]:[1/0,-1/0]}var i=n?s.filter(function(l){return!cr(l)}):s;return i.map(function(l){return Cn(l)||l instanceof Date?l:""})}var s3e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,g=void 0;if(ei(f-d)!==ei(h-f)){var v=[];if(ei(h-f)===ei(c[1]-c[0])){g=h;var p=f+c[1]-c[0];v[0]=Math.min(p,(p+d)/2),v[1]=Math.max(p,(p+d)/2)}else{g=d;var y=h+c[1]-c[0];v[0]=Math.min(f,(y+f)/2),v[1]=Math.max(f,(y+f)/2)}var x=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>x[0]&&t<=x[1]||t>=v[0]&&t<=v[1]){i=s[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){i=s[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){i=n[_].index;break}return i},lO=function(t){var r,n=t,s=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?en(en({},t.type.defaultProps),t.props):t.props,i=a.stroke,l=a.fill,c;switch(s){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},a3e=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var i={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,g=f.length;h<g;h++){var v=d[f[h]],p=v.items,y=v.cateAxisId,x=p.filter(function(k){return Po(k.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?en(en({},b),x[0].props):x[0].props,_=w.barSize,S=w[y];i[S]||(i[S]=[]);var E=cr(_)?r:_;i[S].push({item:x[0],stackList:x.slice(1),barSize:cr(E)?void 0:Lu(E,n,0)})}}return i},i3e=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,a=t.sizeList,i=a===void 0?[]:a,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=Lu(r,s,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,g=s/c,v=i.reduce(function(_,S){return _+S.barSize||0},0);v+=(c-1)*u,v>=s&&(v-=(c-1)*u,u=0),v>=s&&g>0&&(h=!0,g*=.9,v=c*g);var p=(s-v)/2>>0,y={offset:p-u,size:0};d=i.reduce(function(_,S){var E={item:S.item,position:{offset:y.offset+y.size+u,size:h?g:S.barSize}},k=[].concat(q5(_),[E]);return y=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(j){k.push({item:j,position:y})}),k},f)}else{var x=Lu(n,s,0,!0);s-2*x-(c-1)*u<=0&&(u=0);var b=(s-2*x-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=i.reduce(function(_,S,E){var k=[].concat(q5(_),[{item:S.item,position:{offset:x+(b+u)*E+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(j){k.push({item:j,position:k[k.length-1].position})}),k},f)}return d},o3e=function(t,r,n,s){var a=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=JK({children:a,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,g=u.align,v=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&v==="middle")&&g!=="center"&&Xe(t[g]))return en(en({},t),{},pf({},g,t[g]+(f||0)));if((p==="horizontal"||p==="vertical"&&g==="center")&&v!=="middle"&&Xe(t[v]))return en(en({},t),{},pf({},v,t[v]+(h||0)))}return t},l3e=function(t,r,n){return cr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},XK=function(t,r,n,s,a){var i=r.props.children,l=si(i,Q1).filter(function(u){return l3e(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Qi(d,n);if(cr(f))return u;var h=Array.isArray(f)?[Y1(f),G1(f)]:[f,f],g=c.reduce(function(v,p){var y=Qi(d,p,0),x=h[0]-Math.abs(Array.isArray(y)?y[0]:y),b=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},c3e=function(t,r,n,s,a){var i=r.map(function(l){return XK(t,l,n,a,s)}).filter(function(l){return!cr(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},QK=function(t,r,n,s,a){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&XK(t,c,u,s)||Om(t,u,n,a)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},ZK=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},eG=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var a,i,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(i=!0),c.coordinate});return a||l.push(r),i||l.push(n),l},jo=function(t,r,n){if(!t)return null;var s=t.scale,a=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&i==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ei(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Vy(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:a?a[f]:f,index:h,offset:u}})},kj=new WeakMap,i0=function(t,r){if(typeof r!="function")return t;kj.has(t)||kj.set(t,new WeakMap);var n=kj.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},u3e=function(t,r,n){var s=t.scale,a=t.type,i=t.layout,l=t.axisType;if(s==="auto")return i==="radial"&&l==="radiusAxis"?{scale:Ag(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:Nb(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Tm(),realScaleType:"point"}:a==="category"?{scale:Ag(),realScaleType:"band"}:{scale:Nb(),realScaleType:"linear"};if(Wy(s)){var c="scale".concat(M1(s));return{scale:(L5[c]||Tm)(),realScaleType:L5[c]?c:"point"}}return Kt(s)?{scale:s}:{scale:Tm(),realScaleType:"point"}},V5=1e-4,d3e=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),a=Math.min(s[0],s[1])-V5,i=Math.max(s[0],s[1])+V5,l=t(r[0]),c=t(r[n-1]);(l<a||l>i||c<a||c>i)&&t.domain([r[0],r[n-1]])}},f3e=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},h3e=function(t,r){if(!r||r.length!==2||!Xe(r[0])||!Xe(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!Xe(t[0])||t[0]<n)&&(a[0]=n),(!Xe(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},p3e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,i=0,l=0;l<r;++l){var c=Vy(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},m3e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,i=0;i<r;++i){var l=Vy(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=a,t[i][n][1]=a+l,a=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},g3e={sign:p3e,expand:Ake,none:Kf,silhouette:Tke,wiggle:Oke,positive:m3e},y3e=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),a=g3e[n],i=Pke().keys(s).value(function(l,c){return+Qi(l,c,0)}).order(HN).offset(a);return i(t)},v3e=function(t,r,n,s,a,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?en(en({},h.type.defaultProps),h.props):h.props,p=v.stackId,y=v.hide;if(y)return f;var x=v[n],b=f[x]||{hasStack:!1,stackGroups:{}};if(Cn(p)){var w=b.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[p]=w}else b.stackGroups[$1("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return en(en({},f),{},pf({},x,b))},c),d={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(p,y){var x=g.stackGroups[y];return en(en({},p),{},pf({},y,{numericAxisId:n,cateAxisId:s,items:x.items,stackedData:y3e(t,x.items,a)}))},v)}return en(en({},f),{},pf({},h,g))},d)},x3e=function(t,r){var n=r.realScaleType,s=r.type,a=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=AIe(u,a,l);return t.domain([Y1(d),G1(d)]),{niceTicks:d}}if(a&&s==="number"){var f=t.domain(),h=TIe(f,a,l);return{niceTicks:h}}return null},H5=function(t){var r=t.axis,n=t.ticks,s=t.offset,a=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=Qi(i,r.dataKey,r.domain[l]);return cr(c)?null:r.scale(c)-a/2+s},b3e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},w3e=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?en(en({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(Cn(a)){var i=r[a];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},_3e=function(t){return t.reduce(function(r,n){return[Y1(n.concat([r[0]]).filter(Xe)),G1(n.concat([r[1]]).filter(Xe))]},[1/0,-1/0])},tG=function(t,r,n){return Object.keys(t).reduce(function(s,a){var i=t[a],l=i.stackedData,c=l.reduce(function(u,d){var f=_3e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},K5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,G5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_2=function(t,r,n){if(Kt(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(Xe(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(K5.test(t[0])){var a=+K5.exec(t[0])[1];s[0]=r[0]-a}else Kt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(Xe(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(G5.test(t[1])){var i=+G5.exec(t[1])[1];s[1]=r[1]+i}else Kt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},$b=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var a=MT(r,function(f){return f.coordinate}),i=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},Y5=function(t,r,n){return!t||!t.length||aO(t,Pa(n,"type.defaultProps.domain"))?r:t},rG=function(t,r){var n=t.type.defaultProps?en(en({},t.type.defaultProps),t.props):t.props,s=n.dataKey,a=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return en(en({},ar(t,!1)),{},{dataKey:s,unit:i,formatter:l,name:a||s,color:lO(t),value:Qi(r,s),type:c,payload:r,chartType:u,hide:d})};function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function J5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J5(Object(r),!0).forEach(function(n){S3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S3e(e,t,r){return t=j3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j3e(e){var t=k3e(e,"string");return Fg(t)=="symbol"?t:t+""}function k3e(e,t){if(Fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mb=Math.PI/180,E3e=function(t){return t*180/Math.PI},Vn=function(t,r,n,s){return{x:t+Math.cos(-Mb*s)*n,y:r+Math.sin(-Mb*s)*n}},N3e=function(t,r){var n=t.x,s=t.y,a=r.x,i=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(s-i,2))},C3e=function(t,r){var n=t.x,s=t.y,a=r.cx,i=r.cy,l=N3e({x:n,y:s},{x:a,y:i});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return s>i&&(u=2*Math.PI-u),{radius:l,angle:E3e(u),angleInRadian:u}},P3e=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),a=Math.floor(n/360),i=Math.min(s,a);return{startAngle:r-i*360,endAngle:n-i*360}},A3e=function(t,r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),i=Math.floor(s/360),l=Math.min(a,i);return t+l*360},Q5=function(t,r){var n=t.x,s=t.y,a=C3e({x:n,y:s},r),i=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=P3e(r),f=d.startAngle,h=d.endAngle,g=l,v;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;v=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=f}return v?X5(X5({},r),{},{radius:i,angle:A3e(g,r)}):null};function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}var T3e=["offset"];function O3e(e){return I3e(e)||M3e(e)||$3e(e)||R3e()}function R3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3e(e,t){if(e){if(typeof e=="string")return S2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S2(e,t)}}function M3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I3e(e){if(Array.isArray(e))return S2(e)}function S2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L3e(e,t){if(e==null)return{};var r=D3e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Z5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z5(Object(r),!0).forEach(function(n){F3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F3e(e,t,r){return t=B3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B3e(e){var t=U3e(e,"string");return Bg(t)=="symbol"?t:t+""}function U3e(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ug.apply(this,arguments)}var z3e=function(t){var r=t.value,n=t.formatter,s=cr(t.children)?r:t.children;return Kt(n)?n(s):s},q3e=function(t,r){var n=ei(r-t),s=Math.min(Math.abs(r-t),360);return n*s},W3e=function(t,r,n){var s=t.position,a=t.viewBox,i=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,g=c.startAngle,v=c.endAngle,p=c.clockWise,y=(f+h)/2,x=q3e(g,v),b=x>=0?1:-1,w,_;s==="insideStart"?(w=g+b*i,_=p):s==="insideEnd"?(w=v-b*i,_=!p):s==="end"&&(w=v+b*i,_=p),_=x<=0?_:!_;var S=Vn(u,d,y,w),E=Vn(u,d,y,w+(_?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(E.x,",").concat(E.y),j=cr(t.id)?$1("recharts-radial-line-"):t.id;return M.createElement("text",Ug({},n,{dominantBaseline:"central",className:er("recharts-radial-bar-label",l)}),M.createElement("defs",null,M.createElement("path",{id:j,d:k})),M.createElement("textPath",{xlinkHref:"#".concat(j)},r))},V3e=function(t){var r=t.viewBox,n=t.offset,s=t.position,a=r,i=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(s==="outside"){var g=Vn(i,l,u+n,h),v=g.x,p=g.y;return{x:v,y:p,textAnchor:v>=i?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,x=Vn(i,l,y,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},H3e=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,a=t.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,h=f*s,g=f>0?"end":"start",v=f>0?"start":"end",p=u>=0?1:-1,y=p*s,x=p>0?"end":"start",b=p>0?"start":"end";if(a==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:g};return yn(yn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return yn(yn({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var S={x:l-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return yn(yn({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(a==="right"){var E={x:l+u+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return yn(yn({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return a==="insideLeft"?yn({x:l+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},k):a==="insideRight"?yn({x:l+u-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},k):a==="insideTop"?yn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},k):a==="insideBottom"?yn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:g},k):a==="insideTopLeft"?yn({x:l+y,y:c+h,textAnchor:b,verticalAnchor:v},k):a==="insideTopRight"?yn({x:l+u-y,y:c+h,textAnchor:x,verticalAnchor:v},k):a==="insideBottomLeft"?yn({x:l+y,y:c+d-h,textAnchor:b,verticalAnchor:g},k):a==="insideBottomRight"?yn({x:l+u-y,y:c+d-h,textAnchor:x,verticalAnchor:g},k):zh(a)&&(Xe(a.x)||Xc(a.x))&&(Xe(a.y)||Xc(a.y))?yn({x:l+Lu(a.x,u),y:c+Lu(a.y,d),textAnchor:"end",verticalAnchor:"end"},k):yn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},K3e=function(t){return"cx"in t&&Xe(t.cx)};function es(e){var t=e.offset,r=t===void 0?5:t,n=L3e(e,T3e),s=yn({offset:r},n),a=s.viewBox,i=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!a||cr(l)&&cr(c)&&!m.isValidElement(u)&&!Kt(u))return null;if(m.isValidElement(u))return m.cloneElement(u,s);var g;if(Kt(u)){if(g=m.createElement(u,s),m.isValidElement(g))return g}else g=z3e(s);var v=K3e(a),p=ar(s,!0);if(v&&(i==="insideStart"||i==="insideEnd"||i==="end"))return W3e(s,g,p);var y=v?V3e(s):H3e(s);return M.createElement(bb,Ug({className:er("recharts-label",f)},p,y,{breakAll:h}),g)}es.displayName="Label";var nG=function(t){var r=t.cx,n=t.cy,s=t.angle,a=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,g=t.top,v=t.left,p=t.width,y=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(Xe(p)&&Xe(y)){if(Xe(f)&&Xe(h))return{x:f,y:h,width:p,height:y};if(Xe(g)&&Xe(v))return{x:g,y:v,width:p,height:y}}return Xe(f)&&Xe(h)?{x:f,y:h,width:0,height:0}:Xe(r)&&Xe(n)?{cx:r,cy:n,startAngle:a||s||0,endAngle:i||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},G3e=function(t,r){return t?t===!0?M.createElement(es,{key:"label-implicit",viewBox:r}):Cn(t)?M.createElement(es,{key:"label-implicit",viewBox:r,value:t}):m.isValidElement(t)?t.type===es?m.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(es,{key:"label-implicit",content:t,viewBox:r}):Kt(t)?M.createElement(es,{key:"label-implicit",content:t,viewBox:r}):zh(t)?M.createElement(es,Ug({viewBox:r},t,{key:"label-implicit"})):null:null},Y3e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,a=nG(t),i=si(s,es).map(function(c,u){return m.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return i;var l=G3e(t.label,r||a);return[l].concat(O3e(i))};es.parseViewBox=nG;es.renderCallByParent=Y3e;function J3e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var X3e=J3e;const Q3e=wr(X3e);function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}var Z3e=["valueAccessor"],eLe=["data","dataKey","clockWise","id","textBreakAll"];function tLe(e){return aLe(e)||sLe(e)||nLe(e)||rLe()}function rLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nLe(e,t){if(e){if(typeof e=="string")return j2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j2(e,t)}}function sLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aLe(e){if(Array.isArray(e))return j2(e)}function j2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ib.apply(this,arguments)}function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(n){iLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iLe(e,t,r){return t=oLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oLe(e){var t=lLe(e,"string");return zg(t)=="symbol"?t:t+""}function lLe(e,t){if(zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rD(e,t){if(e==null)return{};var r=cLe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var uLe=function(t){return Array.isArray(t.value)?Q3e(t.value):t.value};function ai(e){var t=e.valueAccessor,r=t===void 0?uLe:t,n=rD(e,Z3e),s=n.data,a=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=rD(n,eLe);return!s||!s.length?null:M.createElement(Mn,{className:"recharts-label-list"},s.map(function(d,f){var h=cr(a)?r(d,f):Qi(d&&d.payload,a),g=cr(l)?{}:{id:"".concat(l,"-").concat(f)};return M.createElement(es,Ib({},ar(d,!0),u,g,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:es.parseViewBox(cr(i)?d:tD(tD({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}ai.displayName="LabelList";function dLe(e,t){return e?e===!0?M.createElement(ai,{key:"labelList-implicit",data:t}):M.isValidElement(e)||Kt(e)?M.createElement(ai,{key:"labelList-implicit",data:t,content:e}):zh(e)?M.createElement(ai,Ib({data:t},e,{key:"labelList-implicit"})):null:null}function fLe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=si(n,ai).map(function(i,l){return m.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var a=dLe(e.label,t);return[a].concat(tLe(s))}ai.renderCallByParent=fLe;function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k2.apply(this,arguments)}function nD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(r),!0).forEach(function(n){hLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hLe(e,t,r){return t=pLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pLe(e){var t=mLe(e,"string");return qg(t)=="symbol"?t:t+""}function mLe(e,t){if(qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gLe=function(t,r){var n=ei(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},o0=function(t){var r=t.cx,n=t.cy,s=t.radius,a=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Mb,h=u?a:a+i*f,g=Vn(r,n,d,h),v=Vn(r,n,s,h),p=u?a-i*f:a,y=Vn(r,n,d*Math.cos(f*Mb),p);return{center:g,circleTangency:v,lineTangency:y,theta:f}},sG=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,i=t.startAngle,l=t.endAngle,c=gLe(i,l),u=i+c,d=Vn(r,n,a,i),f=Vn(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var g=Vn(r,n,s,i),v=Vn(r,n,s,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},yLe=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ei(d-u),h=o0({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),g=h.circleTangency,v=h.lineTangency,p=h.theta,y=o0({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),x=y.circleTangency,b=y.lineTangency,w=y.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(_<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):sG({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var E=o0({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),k=E.circleTangency,j=E.lineTangency,N=E.theta,C=o0({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),A=C.circleTangency,R=C.lineTangency,H=C.theta,U=c?Math.abs(u-d):Math.abs(u-d)-N-H;if(U<0&&i===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},vLe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aG=function(t){var r=sD(sD({},vLe),t),n=r.cx,s=r.cy,a=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<a||d===f)return null;var g=er("recharts-sector",h),v=i-a,p=Lu(l,v,0,!0),y;return p>0&&Math.abs(d-f)<360?y=yLe({cx:n,cy:s,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=sG({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:f}),M.createElement("path",k2({},ar(r,!0),{className:g,d:y,role:"img"}))};function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function E2(){return E2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E2.apply(this,arguments)}function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function iD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){xLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xLe(e,t,r){return t=bLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bLe(e){var t=wLe(e,"string");return Wg(t)=="symbol"?t:t+""}function wLe(e,t){if(Wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oD={curveBasisClosed:vke,curveBasisOpen:xke,curveBasis:yke,curveBumpX:nke,curveBumpY:ske,curveLinearClosed:bke,curveLinear:L1,curveMonotoneX:wke,curveMonotoneY:_ke,curveNatural:Ske,curveStep:jke,curveStepAfter:Eke,curveStepBefore:kke},l0=function(t){return t.x===+t.x&&t.y===+t.y},Mp=function(t){return t.x},Ip=function(t){return t.y},_Le=function(t,r){if(Kt(t))return t;var n="curve".concat(M1(t));return(n==="curveMonotone"||n==="curveBump")&&r?oD["".concat(n).concat(r==="vertical"?"Y":"X")]:oD[n]||L1},SLe=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,a=s===void 0?[]:s,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=_Le(n,l),f=u?a.filter(function(p){return l0(p)}):a,h;if(Array.isArray(i)){var g=u?i.filter(function(p){return l0(p)}):i,v=f.map(function(p,y){return iD(iD({},p),{},{base:g[y]})});return l==="vertical"?h=Qv().y(Ip).x1(Mp).x0(function(p){return p.base.x}):h=Qv().x(Mp).y1(Ip).y0(function(p){return p.base.y}),h.defined(l0).curve(d),h(v)}return l==="vertical"&&Xe(i)?h=Qv().y(Ip).x1(Mp).x0(i):Xe(i)?h=Qv().x(Mp).y1(Ip).y0(i):h=iH().x(Mp).y(Ip),h.defined(l0).curve(d),h(f)},lD=function(t){var r=t.className,n=t.points,s=t.path,a=t.pathRef;if((!n||!n.length)&&!s)return null;var i=n&&n.length?SLe(t):s;return M.createElement("path",E2({},ar(t,!1),ab(t),{className:er("recharts-curve",r),d:i,ref:a}))},iG={exports:{}},jLe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kLe=jLe,ELe=kLe;function oG(){}function lG(){}lG.resetWarningCache=oG;var NLe=function(){function e(n,s,a,i,l,c){if(c!==ELe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:lG,resetWarningCache:oG};return r.PropTypes=r,r};iG.exports=NLe();var CLe=iG.exports;const or=wr(CLe);var PLe=Object.getOwnPropertyNames,ALe=Object.getOwnPropertySymbols,TLe=Object.prototype.hasOwnProperty;function cD(e,t){return function(n,s,a){return e(n,s,a)&&t(n,s,a)}}function c0(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var a=s.cache,i=a.get(r),l=a.get(n);if(i&&l)return i===n&&l===r;a.set(r,n),a.set(n,r);var c=e(r,n,s);return a.delete(r),a.delete(n),c}}function uD(e){return PLe(e).concat(ALe(e))}var OLe=Object.hasOwn||function(e,t){return TLe.call(e,t)};function Zu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var RLe="__v",$Le="__o",MLe="_owner",dD=Object.getOwnPropertyDescriptor,fD=Object.keys;function ILe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function LLe(e,t){return Zu(e.getTime(),t.getTime())}function DLe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function FLe(e,t){return e===t}function hD(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),a=e.entries(),i,l,c=0;(i=a.next())&&!i.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(s[f]){f++;continue}var h=i.value,g=l.value;if(r.equals(h[0],g[0],c,f,e,t,r)&&r.equals(h[1],g[1],h[0],g[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}var BLe=Zu;function ULe(e,t,r){var n=fD(e),s=n.length;if(fD(t).length!==s)return!1;for(;s-- >0;)if(!cG(e,t,r,n[s]))return!1;return!0}function Lp(e,t,r){var n=uD(e),s=n.length;if(uD(t).length!==s)return!1;for(var a,i,l;s-- >0;)if(a=n[s],!cG(e,t,r,a)||(i=dD(e,a),l=dD(t,a),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function zLe(e,t){return Zu(e.valueOf(),t.valueOf())}function qLe(e,t){return e.source===t.source&&e.flags===t.flags}function pD(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),a=e.values(),i,l;(i=a.next())&&!i.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function WLe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function VLe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function cG(e,t,r,n){return(n===MLe||n===$Le||n===RLe)&&(e.$$typeof||t.$$typeof)?!0:OLe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var HLe="[object Arguments]",KLe="[object Boolean]",GLe="[object Date]",YLe="[object Error]",JLe="[object Map]",XLe="[object Number]",QLe="[object Object]",ZLe="[object RegExp]",e5e="[object Set]",t5e="[object String]",r5e="[object URL]",n5e=Array.isArray,mD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,gD=Object.assign,s5e=Object.prototype.toString.call.bind(Object.prototype.toString);function a5e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,a=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,p,y){if(v===p)return!0;if(v==null||p==null)return!1;var x=typeof v;if(x!==typeof p)return!1;if(x!=="object")return x==="number"?i(v,p,y):x==="function"?s(v,p,y):!1;var b=v.constructor;if(b!==p.constructor)return!1;if(b===Object)return l(v,p,y);if(n5e(v))return t(v,p,y);if(mD!=null&&mD(v))return f(v,p,y);if(b===Date)return r(v,p,y);if(b===RegExp)return u(v,p,y);if(b===Map)return a(v,p,y);if(b===Set)return d(v,p,y);var w=s5e(v);return w===GLe?r(v,p,y):w===ZLe?u(v,p,y):w===JLe?a(v,p,y):w===e5e?d(v,p,y):w===QLe?typeof v.then!="function"&&typeof p.then!="function"&&l(v,p,y):w===r5e?h(v,p,y):w===YLe?n(v,p,y):w===HLe?l(v,p,y):w===KLe||w===XLe||w===t5e?c(v,p,y):!1}}function i5e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?Lp:ILe,areDatesEqual:LLe,areErrorsEqual:DLe,areFunctionsEqual:FLe,areMapsEqual:n?cD(hD,Lp):hD,areNumbersEqual:BLe,areObjectsEqual:n?Lp:ULe,arePrimitiveWrappersEqual:zLe,areRegExpsEqual:qLe,areSetsEqual:n?cD(pD,Lp):pD,areTypedArraysEqual:n?Lp:WLe,areUrlsEqual:VLe};if(r&&(s=gD({},s,r(s))),t){var a=c0(s.areArraysEqual),i=c0(s.areMapsEqual),l=c0(s.areObjectsEqual),c=c0(s.areSetsEqual);s=gD({},s,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return s}function o5e(e){return function(t,r,n,s,a,i,l){return e(t,r,l)}}function l5e(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,a=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,g=d.meta;return r(c,u,{cache:h,equals:s,meta:g,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var i={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return r(c,u,i)}}var c5e=Sc();Sc({strict:!0});Sc({circular:!0});Sc({circular:!0,strict:!0});Sc({createInternalComparator:function(){return Zu}});Sc({strict:!0,createInternalComparator:function(){return Zu}});Sc({circular:!0,createInternalComparator:function(){return Zu}});Sc({circular:!0,createInternalComparator:function(){return Zu},strict:!0});function Sc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,a=e.strict,i=a===void 0?!1:a,l=i5e(e),c=a5e(l),u=n?n(c):o5e(c);return l5e({circular:r,comparator:c,createState:s,equals:u,strict:i})}function u5e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function yD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(a){r<0&&(r=a),a-r>t?(e(a),r=-1):u5e(s)};requestAnimationFrame(n)}function N2(e){"@babel/helpers - typeof";return N2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N2(e)}function d5e(e){return m5e(e)||p5e(e)||h5e(e)||f5e()}function f5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h5e(e,t){if(e){if(typeof e=="string")return vD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vD(e,t)}}function vD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m5e(e){if(Array.isArray(e))return e}function g5e(){var e={},t=function(){return null},r=!1,n=function s(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var i=a,l=d5e(i),c=l[0],u=l.slice(1);if(typeof c=="number"){yD(s.bind(null,u),c);return}s(c),yD(s.bind(null,u));return}N2(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(r),!0).forEach(function(n){uG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uG(e,t,r){return t=y5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y5e(e){var t=v5e(e,"string");return Vg(t)==="symbol"?t:String(t)}function v5e(e,t){if(Vg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x5e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(a){return s.includes(a)})})},b5e=function(t){return t},w5e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Rm=function(t,r){return Object.keys(r).reduce(function(n,s){return bD(bD({},n),{},uG({},s,t(s,r[s])))},{})},wD=function(t,r,n){return t.map(function(s){return"".concat(w5e(s)," ").concat(r,"ms ").concat(n)}).join(",")};function _5e(e,t){return k5e(e)||j5e(e,t)||dG(e,t)||S5e()}function S5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function k5e(e){if(Array.isArray(e))return e}function E5e(e){return P5e(e)||C5e(e)||dG(e)||N5e()}function N5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dG(e,t){if(e){if(typeof e=="string")return C2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C2(e,t)}}function C5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P5e(e){if(Array.isArray(e))return C2(e)}function C2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lb=1e-4,fG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},hG=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},_D=function(t,r){return function(n){var s=fG(t,r);return hG(s,n)}},A5e=function(t,r){return function(n){var s=fG(t,r),a=[].concat(E5e(s.map(function(i,l){return i*l}).slice(1)),[0]);return hG(a,n)}},SD=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],a=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,a=0,i=1,l=1;break;case"ease":s=.25,a=.1,i=.25,l=1;break;case"ease-in":s=.42,a=0,i=1,l=1;break;case"ease-out":s=.42,a=0,i=.58,l=1;break;case"ease-in-out":s=0,a=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=_5e(u,4);s=d[0],a=d[1],i=d[2],l=d[3]}}}var f=_D(s,i),h=_D(a,l),g=A5e(s,i),v=function(x){return x>1?1:x<0?0:x},p=function(x){for(var b=x>1?1:x,w=b,_=0;_<8;++_){var S=f(w)-b,E=g(w);if(Math.abs(S-b)<Lb||E<Lb)return h(w);w=v(w-S/E)}return h(w)};return p.isStepper=!1,p},T5e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,a=s===void 0?8:s,i=t.dt,l=i===void 0?17:i,c=function(d,f,h){var g=-(d-f)*n,v=h*a,p=h+(g-v)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<Lb&&Math.abs(p)<Lb?[f,0]:[y,p]};return c.isStepper=!0,c.dt=l,c},O5e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SD(s);case"spring":return T5e();default:if(s.split("(")[0]==="cubic-bezier")return SD(s)}return typeof s=="function"?s:null};function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function jD(e){return M5e(e)||$5e(e)||pG(e)||R5e()}function R5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function M5e(e){if(Array.isArray(e))return A2(e)}function kD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(r),!0).forEach(function(n){P2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P2(e,t,r){return t=I5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I5e(e){var t=L5e(e,"string");return Hg(t)==="symbol"?t:String(t)}function L5e(e,t){if(Hg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D5e(e,t){return U5e(e)||B5e(e,t)||pG(e,t)||F5e()}function F5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pG(e,t){if(e){if(typeof e=="string")return A2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A2(e,t)}}function A2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function U5e(e){if(Array.isArray(e))return e}var Db=function(t,r,n){return t+(r-t)*n},T2=function(t){var r=t.from,n=t.to;return r!==n},z5e=function e(t,r,n){var s=Rm(function(a,i){if(T2(i)){var l=t(i.from,i.to,i.velocity),c=D5e(l,2),u=c[0],d=c[1];return Dn(Dn({},i),{},{from:u,velocity:d})}return i},r);return n<1?Rm(function(a,i){return T2(i)?Dn(Dn({},i),{},{velocity:Db(i.velocity,s[a].velocity,n),from:Db(i.from,s[a].from,n)}):i},r):e(t,s,n-1)};const q5e=function(e,t,r,n,s){var a=x5e(e,t),i=a.reduce(function(y,x){return Dn(Dn({},y),{},P2({},x,[e[x],t[x]]))},{}),l=a.reduce(function(y,x){return Dn(Dn({},y),{},P2({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Rm(function(x,b){return b.from},l)},g=function(){return!Object.values(l).filter(T2).length},v=function(x){u||(u=x);var b=x-u,w=b/r.dt;l=z5e(r,l,w),s(Dn(Dn(Dn({},e),t),h())),u=x,g()||(c=requestAnimationFrame(f))},p=function(x){d||(d=x);var b=(x-d)/n,w=Rm(function(S,E){return Db.apply(void 0,jD(E).concat([r(b)]))},i);if(s(Dn(Dn(Dn({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var _=Rm(function(S,E){return Db.apply(void 0,jD(E).concat([r(1)]))},i);s(Dn(Dn(Dn({},e),t),_))}};return f=r.isStepper?v:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}var W5e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function V5e(e,t){if(e==null)return{};var r=H5e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H5e(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Ej(e){return J5e(e)||Y5e(e)||G5e(e)||K5e()}function K5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G5e(e,t){if(e){if(typeof e=="string")return O2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O2(e,t)}}function Y5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J5e(e){if(Array.isArray(e))return O2(e)}function O2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ED(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(r),!0).forEach(function(n){nm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nm(e,t,r){return t=mG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q5e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mG(n.key),n)}}function Z5e(e,t,r){return t&&Q5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mG(e){var t=eDe(e,"string");return rh(t)==="symbol"?t:String(t)}function eDe(e,t){if(rh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R2(e,t)}function R2(e,t){return R2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},R2(e,t)}function rDe(e){var t=nDe();return function(){var n=Fb(e),s;if(t){var a=Fb(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return $2(this,s)}}function $2(e,t){if(t&&(rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M2(e)}function M2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}var fc=function(e){tDe(r,e);var t=rDe(r);function r(n,s){var a;X5e(this,r),a=t.call(this,n,s);var i=a.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,h=i.children,g=i.duration;if(a.handleStyleChange=a.handleStyleChange.bind(M2(a)),a.changeStyle=a.changeStyle.bind(M2(a)),!l||g<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),$2(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},$2(a);a.state={style:c?nm({},c,u):u}}else a.state={style:{}};return a}return Z5e(r,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,i=s.canBegin;this.mounted=!0,!(!a||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,i=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!i){var g={style:c?nm({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(g);return}if(!(c5e(s.to,d)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=v||u?f:s.to;if(this.state&&h){var y={style:c?nm({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(y)}this.runAnimation(Ba(Ba({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,i=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,g=q5e(i,l,O5e(u),c,this.changeStyle),v=function(){a.stopJSAnimation=g()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,i=s.steps,l=s.begin,c=s.onAnimationStart,u=i[0],d=u.style,f=u.duration,h=f===void 0?0:f,g=function(p,y,x){if(x===0)return p;var b=y.duration,w=y.easing,_=w===void 0?"ease":w,S=y.style,E=y.properties,k=y.onAnimationEnd,j=x>0?i[x-1]:y,N=E||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(Ej(p),[a.runJSAnimation.bind(a,{from:j.style,to:S,duration:b,easing:_}),b]);var C=wD(N,b,_),A=Ba(Ba(Ba({},j.style),S),{},{transition:C});return[].concat(Ej(p),[A,b,k]).filter(b5e)};return this.manager.start([c].concat(Ej(i.reduce(g,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=g5e());var a=s.begin,i=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,g=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?nm({},l,c):c,y=wD(Object.keys(p),i,u);v.start([d,a,Ba(Ba({},p),{},{transition:y}),i,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var i=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=V5e(s,W5e),u=m.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||i<=0)return a;var f=function(g){var v=g.props,p=v.style,y=p===void 0?{}:p,x=v.className,b=m.cloneElement(g,Ba(Ba({},c),{},{style:Ba(Ba({},y),d),className:x}));return b};return u===1?f(m.Children.only(a)):M.createElement("div",null,m.Children.map(a,function(h){return f(h)}))}}]),r}(m.PureComponent);fc.displayName="Animate";fc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};fc.propTypes={from:or.oneOfType([or.object,or.string]),to:or.oneOfType([or.object,or.string]),attributeName:or.string,duration:or.number,begin:or.number,easing:or.oneOfType([or.string,or.func]),steps:or.arrayOf(or.shape({duration:or.number.isRequired,style:or.object.isRequired,easing:or.oneOfType([or.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),or.func]),properties:or.arrayOf("string"),onAnimationEnd:or.func})),children:or.oneOfType([or.node,or.func]),isActive:or.bool,canBegin:or.bool,onAnimationEnd:or.func,shouldReAnimate:or.bool,onAnimationStart:or.func,onAnimationReStart:or.func};function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(this,arguments)}function sDe(e,t){return lDe(e)||oDe(e,t)||iDe(e,t)||aDe()}function aDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iDe(e,t){if(e){if(typeof e=="string")return ND(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ND(e,t)}}function ND(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function lDe(e){if(Array.isArray(e))return e}function CD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function PD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(r),!0).forEach(function(n){cDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cDe(e,t,r){return t=uDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uDe(e){var t=dDe(e,"string");return Kg(t)=="symbol"?t:t+""}function dDe(e,t){if(Kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AD=function(t,r,n,s,a){var i=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(i>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=a[h]>i?i:a[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var v=Math.min(i,a);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+s-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+s,`
            L `).concat(t+c*v,",").concat(r+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},fDe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,a=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},hDe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cO=function(t){var r=PD(PD({},hDe),t),n=m.useRef(),s=m.useState(-1),a=sDe(s,2),i=a[0],l=a[1];m.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,g=r.className,v=r.animationEasing,p=r.animationDuration,y=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=er("recharts-rectangle",g);return b?M.createElement(fc,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:v,isActive:b},function(_){var S=_.width,E=_.height,k=_.x,j=_.y;return M.createElement(fc,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,isActive:x,easing:v},M.createElement("path",Bb({},ar(r,!0),{className:w,d:AD(k,j,S,E,h),ref:n})))}):M.createElement("path",Bb({},ar(r,!0),{className:w,d:AD(c,u,d,f,h)}))};function I2(){return I2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I2.apply(this,arguments)}var gG=function(t){var r=t.cx,n=t.cy,s=t.r,a=t.className,i=er("recharts-dot",a);return r===+r&&n===+n&&s===+s?M.createElement("circle",I2({},ar(t,!1),ab(t),{className:i,cx:r,cy:n,r:s})):null};function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}var pDe=["x","y","top","left","width","height","className"];function L2(){return L2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L2.apply(this,arguments)}function TD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mDe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(r),!0).forEach(function(n){gDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gDe(e,t,r){return t=yDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yDe(e){var t=vDe(e,"string");return Gg(t)=="symbol"?t:t+""}function vDe(e,t){if(Gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xDe(e,t){if(e==null)return{};var r=bDe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wDe=function(t,r,n,s,a,i){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(i,",").concat(r,"h").concat(n)},_De=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,g=h===void 0?0:h,v=t.className,p=xDe(t,pDe),y=mDe({x:n,y:a,top:l,left:u,width:f,height:g},p);return!Xe(n)||!Xe(a)||!Xe(f)||!Xe(g)||!Xe(l)||!Xe(u)?null:M.createElement("path",L2({},ar(y,!0),{className:er("recharts-cross",v),d:wDe(n,a,f,g,l,u)}))},SDe=AH,jDe=SDe(Object.getPrototypeOf,Object),kDe=jDe,EDe=Yo,NDe=kDe,CDe=Jo,PDe="[object Object]",ADe=Function.prototype,TDe=Object.prototype,yG=ADe.toString,ODe=TDe.hasOwnProperty,RDe=yG.call(Object);function $De(e){if(!CDe(e)||EDe(e)!=PDe)return!1;var t=NDe(e);if(t===null)return!0;var r=ODe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&yG.call(r)==RDe}var MDe=$De;const IDe=wr(MDe);var LDe=Yo,DDe=Jo,FDe="[object Boolean]";function BDe(e){return e===!0||e===!1||DDe(e)&&LDe(e)==FDe}var UDe=BDe;const zDe=wr(UDe);function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ub.apply(this,arguments)}function qDe(e,t){return KDe(e)||HDe(e,t)||VDe(e,t)||WDe()}function WDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VDe(e,t){if(e){if(typeof e=="string")return OD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OD(e,t)}}function OD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function KDe(e){if(Array.isArray(e))return e}function RD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RD(Object(r),!0).forEach(function(n){GDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GDe(e,t,r){return t=YDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YDe(e){var t=JDe(e,"string");return Yg(t)=="symbol"?t:t+""}function JDe(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MD=function(t,r,n,s,a){var i=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+a),l+="L ".concat(t+n-i/2-s,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},XDe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QDe=function(t){var r=$D($D({},XDe),t),n=m.useRef(),s=m.useState(-1),a=qDe(s,2),i=a[0],l=a[1];m.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,g=r.className,v=r.animationEasing,p=r.animationDuration,y=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=er("recharts-trapezoid",g);return x?M.createElement(fc,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:v,isActive:x},function(w){var _=w.upperWidth,S=w.lowerWidth,E=w.height,k=w.x,j=w.y;return M.createElement(fc,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,easing:v},M.createElement("path",Ub({},ar(r,!0),{className:b,d:MD(k,j,_,S,E),ref:n})))}):M.createElement("g",null,M.createElement("path",Ub({},ar(r,!0),{className:b,d:MD(c,u,d,f,h)})))},ZDe=["option","shapeType","propTransformer","activeClassName","isActive"];function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function eFe(e,t){if(e==null)return{};var r=tFe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(n){rFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rFe(e,t,r){return t=nFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nFe(e){var t=sFe(e,"string");return Jg(t)=="symbol"?t:t+""}function sFe(e,t){if(Jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aFe(e,t){return zb(zb({},t),e)}function iFe(e,t){return e==="symbols"}function LD(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(cO,r);case"trapezoid":return M.createElement(QDe,r);case"sector":return M.createElement(aG,r);case"symbols":if(iFe(t))return M.createElement(NT,r);break;default:return null}}function oFe(e){return m.isValidElement(e)?e.props:e}function lFe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?aFe:n,a=e.activeClassName,i=a===void 0?"recharts-active-shape":a,l=e.isActive,c=eFe(e,ZDe),u;if(m.isValidElement(t))u=m.cloneElement(t,zb(zb({},c),oFe(t)));else if(Kt(t))u=t(c);else if(IDe(t)&&!zDe(t)){var d=s(t,c);u=M.createElement(LD,{shapeType:r,elementProps:d})}else{var f=c;u=M.createElement(LD,{shapeType:r,elementProps:f})}return l?M.createElement(Mn,{className:i},u):u}function Z1(e,t){return t!=null&&"trapezoids"in e.props}function e_(e,t){return t!=null&&"sectors"in e.props}function Xg(e,t){return t!=null&&"points"in e.props}function cFe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&a}function uFe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function dFe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function fFe(e,t){var r;return Z1(e,t)?r=cFe:e_(e,t)?r=uFe:Xg(e,t)&&(r=dFe),r}function hFe(e,t){var r;return Z1(e,t)?r="trapezoids":e_(e,t)?r="sectors":Xg(e,t)&&(r="points"),r}function pFe(e,t){if(Z1(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(e_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Xg(e,t)?t.payload:{}}function mFe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=hFe(r,t),a=pFe(r,t),i=n.filter(function(c,u){var d=aO(a,c),f=r.props[s].filter(function(v){var p=fFe(r,t);return p(v,t)}),h=r.props[s].indexOf(f[f.length-1]),g=u===h;return d&&g}),l=n.indexOf(i[i.length-1]);return l}var gFe=Math.ceil,yFe=Math.max;function vFe(e,t,r,n){for(var s=-1,a=yFe(gFe((t-e)/(r||1)),0),i=Array(a);a--;)i[n?a:++s]=e,e+=r;return i}var xFe=vFe,bFe=YH,DD=1/0,wFe=17976931348623157e292;function _Fe(e){if(!e)return e===0?e:0;if(e=bFe(e),e===DD||e===-DD){var t=e<0?-1:1;return t*wFe}return e===e?e:0}var vG=_Fe,SFe=xFe,jFe=U1,Nj=vG;function kFe(e){return function(t,r,n){return n&&typeof n!="number"&&jFe(t,r,n)&&(r=n=void 0),t=Nj(t),r===void 0?(r=t,t=0):r=Nj(r),n=n===void 0?t<r?1:-1:Nj(n),SFe(t,r,n,e)}}var EFe=kFe,NFe=EFe,CFe=NFe(),PFe=CFe;const qb=wr(PFe);function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function FD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function BD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(r),!0).forEach(function(n){xG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xG(e,t,r){return t=AFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AFe(e){var t=TFe(e,"string");return Qg(t)=="symbol"?t:t+""}function TFe(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OFe=["Webkit","Moz","O","ms"],RFe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=OFe.reduce(function(a,i){return BD(BD({},a),{},xG({},i+n,r))},{});return s[t]=r,s};function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(this,arguments)}function UD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(r),!0).forEach(function(n){Gs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wG(n.key),n)}}function MFe(e,t,r){return t&&zD(e.prototype,t),r&&zD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IFe(e,t,r){return t=Vb(t),LFe(e,bG()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function LFe(e,t){if(t&&(nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DFe(e)}function DFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bG=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function FFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D2(e,t)}function D2(e,t){return D2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},D2(e,t)}function Gs(e,t,r){return t=wG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wG(e){var t=BFe(e,"string");return nh(t)=="symbol"?t:t+""}function BFe(e,t){if(nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UFe=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,a=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Tm().domain(qb(0,c)).range([a,a+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},qD=function(t){return t.changedTouches&&!!t.changedTouches.length},sh=function(e){function t(r){var n;return $Fe(this,t),n=IFe(this,t,[r]),Gs(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Gs(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Gs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,a=s.endIndex,i=s.onDragEnd,l=s.startIndex;i==null||i({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Gs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Gs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Gs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Gs(n,"handleSlideDragStart",function(s){var a=qD(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return FFe(t,e),MFe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,a=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,a),h=Math.max(s,a),g=t.getIndexInRange(i,f),v=t.getIndexInRange(i,h);return{startIndex:g-g%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,a=s.data,i=s.tickFormatter,l=s.dataKey,c=Qi(a[n],l,n);return Kt(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,a=s.slideMoveStartX,i=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,g=c.endIndex,v=c.onChange,p=n.pageX-a;p>0?p=Math.min(p,u+d-f-l,u+d-f-i):p<0&&(p=Math.max(p,u-i,u-l));var y=this.getIndex({startX:i+p,endX:l+p});(y.startIndex!==h||y.endIndex!==g)&&v&&v(y),this.setState({startX:i+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var a=qD(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,a=s.brushMoveStartX,i=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[i],d=this.props,f=d.x,h=d.width,g=d.travellerWidth,v=d.onChange,p=d.gap,y=d.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,f+h-g-u):b<0&&(b=Math.max(b,f-u)),x[i]=u+b;var w=this.getIndex(x),_=w.startIndex,S=w.endIndex,E=function(){var j=y.length-1;return i==="startX"&&(l>c?_%p===0:S%p===0)||l<c&&S===j||i==="endX"&&(l>c?S%p===0:_%p===0)||l>c&&S===j};this.setState(Gs(Gs({},i,u+b),"brushMoveStartX",n.pageX),function(){v&&E()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var a=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var g=l[h];s==="startX"&&g>=u||s==="endX"&&g<=c||this.setState(Gs({},s,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,a=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return M.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,a=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=m.Children.only(u);return f?M.cloneElement(f,{x:s,y:a,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var a,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,g=c.ariaLabel,v=c.data,p=c.startIndex,y=c.endIndex,x=Math.max(n,this.props.x),b=Cj(Cj({},ar(this.props,!1)),{},{x,y:u,width:d,height:f}),w=g||"Min value: ".concat((a=v[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((i=v[y])===null||i===void 0?void 0:i.name);return M.createElement(Mn,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,s){var a=this.props,i=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,a=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,g=5,v={pointerEvents:"none",fill:u};return M.createElement(Mn,{className:"recharts-brush-texts"},M.createElement(bb,Wb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:i+l/2},v),this.getTextOfTick(s)),M.createElement(bb,Wb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+g,y:i+l/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,s=n.data,a=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,g=h.startX,v=h.endX,p=h.isTextActive,y=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!s||!s.length||!Xe(l)||!Xe(c)||!Xe(u)||!Xe(d)||u<=0||d<=0)return null;var w=er("recharts-brush",a),_=M.Children.count(i)===1,S=RFe("userSelect","none");return M.createElement(Mn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(p||y||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,a=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:s,y:a,width:i,height:l,fill:c,stroke:"none"}),M.createElement("line",{x1:s+1,y1:u,x2:s+i-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:s+1,y1:u+2,x2:s+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var a;return M.isValidElement(n)?a=M.cloneElement(n,s):Kt(n)?a=n(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(n,s){var a=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return Cj({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},a&&a.length?UFe({data:a,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(i!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+i-c]);var h=s.scale.domain().map(function(g){return s.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var a=n.length,i=0,l=a-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>s?l=c:i=c}return s>=n[l]?l:i}}])}(m.PureComponent);Gs(sh,"displayName","Brush");Gs(sh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zFe=$T;function qFe(e,t){var r;return zFe(e,function(n,s,a){return r=t(n,s,a),!r}),!!r}var WFe=qFe,VFe=_H,HFe=bc,KFe=WFe,GFe=Hs,YFe=U1;function JFe(e,t,r){var n=GFe(e)?VFe:KFe;return r&&YFe(e,t,r)&&(t=void 0),n(e,HFe(t))}var XFe=JFe;const QFe=wr(XFe);var Hi=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},WD=WH;function ZFe(e,t,r){t=="__proto__"&&WD?WD(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var e6e=ZFe,t6e=e6e,r6e=zH,n6e=bc;function s6e(e,t){var r={};return t=n6e(t),r6e(e,function(n,s,a){t6e(r,s,t(n,s,a))}),r}var a6e=s6e;const i6e=wr(a6e);function o6e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var l6e=o6e,c6e=$T;function u6e(e,t){var r=!0;return c6e(e,function(n,s,a){return r=!!t(n,s,a),r}),r}var d6e=u6e,f6e=l6e,h6e=d6e,p6e=bc,m6e=Hs,g6e=U1;function y6e(e,t,r){var n=m6e(e)?f6e:h6e;return r&&g6e(e,t,r)&&(t=void 0),n(e,p6e(t))}var v6e=y6e;const _G=wr(v6e);var x6e=["x","y"];function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function F2(){return F2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F2.apply(this,arguments)}function VD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(r),!0).forEach(function(n){b6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b6e(e,t,r){return t=w6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w6e(e){var t=_6e(e,"string");return Zg(t)=="symbol"?t:t+""}function _6e(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S6e(e,t){if(e==null)return{};var r=j6e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k6e(e,t){var r=e.x,n=e.y,s=S6e(e,x6e),a="".concat(r),i=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Dp(Dp(Dp(Dp(Dp({},t),s),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function HD(e){return M.createElement(lFe,F2({shapeType:"rectangle",propTransformer:k6e,activeClassName:"recharts-active-bar"},e))}var E6e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var a=typeof n=="number";return a?t(n,s):(a||Fu(),r)}},N6e=["value","background"],SG;function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}function C6e(e,t){if(e==null)return{};var r=P6e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hb.apply(this,arguments)}function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(n){Dl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kG(n.key),n)}}function T6e(e,t,r){return t&&GD(e.prototype,t),r&&GD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O6e(e,t,r){return t=Kb(t),R6e(e,jG()?Reflect.construct(t,r||[],Kb(e).constructor):t.apply(e,r))}function R6e(e,t){if(t&&(ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $6e(e)}function $6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jG=function(){return!!e})()}function Kb(e){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kb(e)}function M6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B2(e,t)}function B2(e,t){return B2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},B2(e,t)}function Dl(e,t,r){return t=kG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=I6e(e,"string");return ah(t)=="symbol"?t:t+""}function I6e(e,t){if(ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qo=function(e){function t(){var r;A6e(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=O6e(this,t,[].concat(s)),Dl(r,"state",{isAnimationFinished:!1}),Dl(r,"id",$1("recharts-bar-")),Dl(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Dl(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return M6e(t,e),T6e(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,a=this.props,i=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=ar(this.props,!1);return n&&n.map(function(f,h){var g=h===c,v=g?u:i,p=un(un(un({},d),f),{},{isActive:g,option:v,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return M.createElement(Mn,Hb({className:"recharts-bar-rectangle"},ib(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),M.createElement(HD,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,a=s.data,i=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return M.createElement(fc,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,p=a.map(function(y,x){var b=h&&h[x];if(b){var w=hd(b.x,y.x),_=hd(b.y,y.y),S=hd(b.width,y.width),E=hd(b.height,y.height);return un(un({},y),{},{x:w(v),y:_(v),width:S(v),height:E(v)})}if(i==="horizontal"){var k=hd(0,y.height),j=k(v);return un(un({},y),{},{y:y.y+y.height-j,height:j})}var N=hd(0,y.width),C=N(v);return un(un({},y),{},{width:C})});return M.createElement(Mn,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,a=n.isAnimationActive,i=this.state.prevData;return a&&s&&s.length&&(!i||!aO(i,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,a=s.data,i=s.dataKey,l=s.activeIndex,c=ar(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=C6e(u,N6e);if(!f)return null;var g=un(un(un(un(un({},h),{},{fill:"#eee"},f),c),ib(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(HD,Hb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=si(d,Q1);if(!f)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,g=function(y,x){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:Qi(y,x)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return M.createElement(Mn,v,f.map(function(p){return M.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,a=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,g=n.isAnimationActive,v=n.background,p=n.id;if(s||!a||!a.length)return null;var y=this.state.isAnimationFinished,x=er("recharts-bar",i),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=b||w,S=cr(p)?this.id:p;return M.createElement(Mn,{className:x},b||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,M.createElement(Mn,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!g||y)&&ai.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(m.PureComponent);SG=Qo;Dl(Qo,"displayName","Bar");Dl(Qo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ec.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Dl(Qo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,a=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,g=f3e(n,r);if(!g)return null;var v=t.layout,p=r.type.defaultProps,y=p!==void 0?un(un({},p),r.props):r.props,x=y.dataKey,b=y.children,w=y.minPointSize,_=v==="horizontal"?i:a,S=u?_.scale.domain():null,E=b3e({numericAxis:_}),k=si(b,Ky),j=f.map(function(N,C){var A,R,H,U,D,B;u?A=h3e(u[d+C],S):(A=Qi(N,x),Array.isArray(A)||(A=[E,A]));var L=E6e(w,SG.defaultProps.minPointSize)(A[1],C);if(v==="horizontal"){var T,q=[i.scale(A[0]),i.scale(A[1])],I=q[0],P=q[1];R=H5({axis:a,ticks:l,bandSize:s,offset:g.offset,entry:N,index:C}),H=(T=P??I)!==null&&T!==void 0?T:void 0,U=g.size;var W=I-P;if(D=Number.isNaN(W)?0:W,B={x:R,y:i.y,width:U,height:i.height},Math.abs(L)>0&&Math.abs(D)<Math.abs(L)){var V=ei(D||L)*(Math.abs(L)-Math.abs(D));H-=V,D+=V}}else{var ee=[a.scale(A[0]),a.scale(A[1])],X=ee[0],ne=ee[1];if(R=X,H=H5({axis:i,ticks:c,bandSize:s,offset:g.offset,entry:N,index:C}),U=ne-X,D=g.size,B={x:a.x,y:H,width:a.width,height:D},Math.abs(L)>0&&Math.abs(U)<Math.abs(L)){var F=ei(U||L)*(Math.abs(L)-Math.abs(U));U+=F}}return un(un(un({},N),{},{x:R,y:H,width:U,height:D,value:u?A:A[1],payload:N,background:B},k&&k[C]&&k[C].props),{},{tooltipPayload:[rG(r,N)],tooltipPosition:{x:R+U/2,y:H+D/2}})});return un({data:j,layout:v},h)});function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function L6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EG(n.key),n)}}function D6e(e,t,r){return t&&YD(e.prototype,t),r&&YD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(r),!0).forEach(function(n){t_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t_(e,t,r){return t=EG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EG(e){var t=F6e(e,"string");return ey(t)=="symbol"?t:t+""}function F6e(e,t){if(ey(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B6e=function(t,r,n,s,a){var i=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Qs(u,Qo);return d.reduce(function(g,v){var p=r[v],y=p.orientation,x=p.domain,b=p.padding,w=b===void 0?{}:b,_=p.mirror,S=p.reversed,E="".concat(y).concat(_?"Mirror":""),k,j,N,C,A;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var R=x[1]-x[0],H=1/0,U=p.categoricalDomain.sort();if(U.forEach(function(ee,X){X>0&&(H=Math.min((ee||0)-(U[X-1]||0),H))}),Number.isFinite(H)){var D=H/R,B=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(k=D*B/2),p.padding==="no-gap"){var L=Lu(t.barCategoryGap,D*B),T=D*B/2;k=T-L-(T-L)/B*L}}}s==="xAxis"?j=[n.left+(w.left||0)+(k||0),n.left+n.width-(w.right||0)-(k||0)]:s==="yAxis"?j=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(k||0),n.top+n.height-(w.bottom||0)-(k||0)]:j=p.range,S&&(j=[j[1],j[0]]);var q=u3e(p,a,h),I=q.scale,P=q.realScaleType;I.domain(x).range(j),d3e(I);var W=x3e(I,Ya(Ya({},p),{},{realScaleType:P}));s==="xAxis"?(A=y==="top"&&!_||y==="bottom"&&_,N=n.left,C=f[E]-A*p.height):s==="yAxis"&&(A=y==="left"&&!_||y==="right"&&_,N=f[E]-A*p.width,C=n.top);var V=Ya(Ya(Ya({},p),W),{},{realScaleType:P,x:N,y:C,scale:I,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return V.bandSize=$b(V,W),!p.hide&&s==="xAxis"?f[E]+=(A?-1:1)*V.height:p.hide||(f[E]+=(A?-1:1)*V.width),Ya(Ya({},g),{},t_({},v,V))},{})},NG=function(t,r){var n=t.x,s=t.y,a=r.x,i=r.y;return{x:Math.min(n,a),y:Math.min(s,i),width:Math.abs(a-n),height:Math.abs(i-s)}},U6e=function(t){var r=t.x1,n=t.y1,s=t.x2,a=t.y2;return NG({x:r,y:n},{x:s,y:a})},CG=function(){function e(t){L6e(this,e),this.scale=t}return D6e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?r>=s&&r<=a:r>=a&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();t_(CG,"EPS",1e-4);var uO=function(t){var r=Object.keys(t).reduce(function(n,s){return Ya(Ya({},n),{},t_({},s,CG.create(t[s])))},{});return Ya(Ya({},r),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.bandAware,l=a.position;return i6e(s,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(s){return _G(s,function(a,i){return r[i].isInRange(a)})}})};function z6e(e){return(e%180+180)%180}var q6e=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=z6e(s),i=a*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},W6e=bc,V6e=Hy,H6e=F1;function K6e(e){return function(t,r,n){var s=Object(t);if(!V6e(t)){var a=W6e(r);t=H6e(t),r=function(l){return a(s[l],l,s)}}var i=e(t,r,n);return i>-1?s[a?t[i]:i]:void 0}}var G6e=K6e,Y6e=vG;function J6e(e){var t=Y6e(e),r=t%1;return t===t?r?t-r:t:0}var X6e=J6e,Q6e=IH,Z6e=bc,e8e=X6e,t8e=Math.max;function r8e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:e8e(r);return s<0&&(s=t8e(n+s,0)),Q6e(e,Z6e(t),s)}var n8e=r8e,s8e=G6e,a8e=n8e,i8e=s8e(a8e),o8e=i8e;const l8e=wr(o8e);var c8e=J_e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),dO=m.createContext(void 0),fO=m.createContext(void 0),PG=m.createContext(void 0),AG=m.createContext({}),TG=m.createContext(void 0),OG=m.createContext(0),RG=m.createContext(0),XD=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,a=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,d=c8e(a);return M.createElement(dO.Provider,{value:n},M.createElement(fO.Provider,{value:s},M.createElement(AG.Provider,{value:a},M.createElement(PG.Provider,{value:d},M.createElement(TG.Provider,{value:i},M.createElement(OG.Provider,{value:u},M.createElement(RG.Provider,{value:c},l)))))))},u8e=function(){return m.useContext(TG)},$G=function(t){var r=m.useContext(dO);r==null&&Fu();var n=r[t];return n==null&&Fu(),n},d8e=function(){var t=m.useContext(dO);return _l(t)},f8e=function(){var t=m.useContext(fO),r=l8e(t,function(n){return _G(n.domain,Number.isFinite)});return r||_l(t)},MG=function(t){var r=m.useContext(fO);r==null&&Fu();var n=r[t];return n==null&&Fu(),n},h8e=function(){var t=m.useContext(PG);return t},p8e=function(){return m.useContext(AG)},hO=function(){return m.useContext(RG)},pO=function(){return m.useContext(OG)};function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(e)}function m8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LG(n.key),n)}}function y8e(e,t,r){return t&&g8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v8e(e,t,r){return t=Gb(t),x8e(e,IG()?Reflect.construct(t,r||[],Gb(e).constructor):t.apply(e,r))}function x8e(e,t){if(t&&(ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b8e(e)}function b8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IG=function(){return!!e})()}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(e)}function w8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U2(e,t)}function U2(e,t){return U2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},U2(e,t)}function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){mO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mO(e,t,r){return t=LG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LG(e){var t=_8e(e,"string");return ih(t)=="symbol"?t:t+""}function _8e(e,t){if(ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S8e(e,t){return N8e(e)||E8e(e,t)||k8e(e,t)||j8e()}function j8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k8e(e,t){if(e){if(typeof e=="string")return eF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eF(e,t)}}function eF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function N8e(e){if(Array.isArray(e))return e}function z2(){return z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z2.apply(this,arguments)}var C8e=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):Kt(t)?n=t(r):n=M.createElement("line",z2({},r,{className:"recharts-reference-line-line"})),n},P8e=function(t,r,n,s,a,i,l,c,u){var d=a.x,f=a.y,h=a.width,g=a.height;if(n){var v=u.y,p=t.y.apply(v,{position:i});if(Hi(u,"discard")&&!t.y.isInRange(p))return null;var y=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?y.reverse():y}if(r){var x=u.x,b=t.x.apply(x,{position:i});if(Hi(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+g},{x:b,y:f}];return l==="top"?w.reverse():w}if(s){var _=u.segment,S=_.map(function(E){return t.apply(E,{position:i})});return Hi(u,"discard")&&QFe(S,function(E){return!t.isInRange(E)})?null:S}return null};function A8e(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,a=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=u8e(),d=$G(s),f=MG(a),h=h8e();if(!u||!h)return null;Ao(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=uO({x:d.scale,y:f.scale}),v=Cn(t),p=Cn(r),y=n&&n.length===2,x=P8e(g,v,p,y,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var b=S8e(x,2),w=b[0],_=w.x,S=w.y,E=b[1],k=E.x,j=E.y,N=Hi(e,"hidden")?"url(#".concat(u,")"):void 0,C=ZD(ZD({clipPath:N},ar(e,!0)),{},{x1:_,y1:S,x2:k,y2:j});return M.createElement(Mn,{className:er("recharts-reference-line",l)},C8e(i,C),es.renderCallByParent(e,U6e({x1:_,y1:S,x2:k,y2:j})))}var gO=function(e){function t(){return m8e(this,t),v8e(this,t,arguments)}return w8e(t,e),y8e(t,[{key:"render",value:function(){return M.createElement(A8e,this.props)}}])}(M.Component);mO(gO,"displayName","ReferenceLine");mO(gO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function q2(){return q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q2.apply(this,arguments)}function oh(e){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(e)}function tF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tF(Object(r),!0).forEach(function(n){r_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FG(n.key),n)}}function R8e(e,t,r){return t&&O8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $8e(e,t,r){return t=Yb(t),M8e(e,DG()?Reflect.construct(t,r||[],Yb(e).constructor):t.apply(e,r))}function M8e(e,t){if(t&&(oh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I8e(e)}function I8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DG=function(){return!!e})()}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yb(e)}function L8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W2(e,t)}function W2(e,t){return W2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},W2(e,t)}function r_(e,t,r){return t=FG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=D8e(e,"string");return oh(t)=="symbol"?t:t+""}function D8e(e,t){if(oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F8e=function(t){var r=t.x,n=t.y,s=t.xAxis,a=t.yAxis,i=uO({x:s.scale,y:a.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Hi(t,"discard")&&!i.isInRange(l)?null:l},n_=function(e){function t(){return T8e(this,t),$8e(this,t,arguments)}return L8e(t,e),R8e(t,[{key:"render",value:function(){var n=this.props,s=n.x,a=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=Cn(s),d=Cn(a);if(Ao(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=F8e(this.props);if(!f)return null;var h=f.x,g=f.y,v=this.props,p=v.shape,y=v.className,x=Hi(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=rF(rF({clipPath:x},ar(this.props,!0)),{},{cx:h,cy:g});return M.createElement(Mn,{className:er("recharts-reference-dot",y)},t.renderDot(p,b),es.renderCallByParent(this.props,{x:h-i,y:g-i,width:2*i,height:2*i}))}}])}(M.Component);r_(n_,"displayName","ReferenceDot");r_(n_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});r_(n_,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Kt(e)?r=e(t):r=M.createElement(gG,q2({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function V2(){return V2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V2.apply(this,arguments)}function lh(e){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(e)}function nF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nF(Object(r),!0).forEach(function(n){s_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UG(n.key),n)}}function z8e(e,t,r){return t&&U8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q8e(e,t,r){return t=Jb(t),W8e(e,BG()?Reflect.construct(t,r||[],Jb(e).constructor):t.apply(e,r))}function W8e(e,t){if(t&&(lh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V8e(e)}function V8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BG=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(e)}function H8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H2(e,t)}function H2(e,t){return H2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},H2(e,t)}function s_(e,t,r){return t=UG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=K8e(e,"string");return lh(t)=="symbol"?t:t+""}function K8e(e,t){if(lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G8e=function(t,r,n,s,a){var i=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=uO({x:d.scale,y:f.scale}),g={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Hi(a,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:NG(g,v)},a_=function(e){function t(){return B8e(this,t),q8e(this,t,arguments)}return H8e(t,e),z8e(t,[{key:"render",value:function(){var n=this.props,s=n.x1,a=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ao(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Cn(s),h=Cn(a),g=Cn(i),v=Cn(l),p=this.props.shape;if(!f&&!h&&!g&&!v&&!p)return null;var y=G8e(f,h,g,v,this.props);if(!y&&!p)return null;var x=Hi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(Mn,{className:er("recharts-reference-area",c)},t.renderRect(p,sF(sF({clipPath:x},ar(this.props,!0)),y)),es.renderCallByParent(this.props,y))}}])}(M.Component);s_(a_,"displayName","ReferenceArea");s_(a_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});s_(a_,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Kt(e)?r=e(t):r=M.createElement(cO,V2({},t,{className:"recharts-reference-area-rect"})),r});function zG(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function Y8e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return q6e(n,r)}function J8e(e,t,r){var n=r==="width",s=e.x,a=e.y,i=e.width,l=e.height;return t===1?{start:n?s:a,end:n?s+i:a+l}:{start:n?s+i:a+l,end:n?s:a}}function Xb(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-s)<=0}function X8e(e,t){return zG(e,t+1)}function Q8e(e,t,r,n,s){for(var a=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,d=i,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:zG(n,u)};var p=c,y,x=function(){return y===void 0&&(y=r(v,p)),y},b=v.coordinate,w=c===0||Xb(e,b,x,d,l);w||(c=0,d=i,u+=1),w&&(d=b+e*(x()/2+s),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}function aF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aF(Object(r),!0).forEach(function(n){Z8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z8e(e,t,r){return t=eBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eBe(e){var t=tBe(e,"string");return ty(t)=="symbol"?t:t+""}function tBe(e,t){if(ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rBe(e,t,r,n,s){for(var a=(n||[]).slice(),i=a.length,l=t.start,c=t.end,u=function(h){var g=a[h],v,p=function(){return v===void 0&&(v=r(g,h)),v};if(h===i-1){var y=e*(g.coordinate+e*p()/2-c);a[h]=g=Qn(Qn({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate})}else a[h]=g=Qn(Qn({},g),{},{tickCoord:g.coordinate});var x=Xb(e,g.tickCoord,p,l,c);x&&(c=g.tickCoord-e*(p()/2+s),a[h]=Qn(Qn({},g),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return a}function nBe(e,t,r,n,s,a){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(a){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);i[l-1]=d=Qn(Qn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var g=Xb(e,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-e*(f/2+s),i[l-1]=Qn(Qn({},d),{},{isShow:!0}))}for(var v=a?l-1:l,p=function(b){var w=i[b],_,S=function(){return _===void 0&&(_=r(w,b)),_};if(b===0){var E=e*(w.coordinate-e*S()/2-c);i[b]=w=Qn(Qn({},w),{},{tickCoord:E<0?w.coordinate-E*e:w.coordinate})}else i[b]=w=Qn(Qn({},w),{},{tickCoord:w.coordinate});var k=Xb(e,w.tickCoord,S,c,u);k&&(c=w.tickCoord+e*(S()/2+s),i[b]=Qn(Qn({},w),{},{isShow:!0}))},y=0;y<v;y++)p(y);return i}function yO(e,t,r){var n=e.tick,s=e.ticks,a=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(Xe(c)||ec.isSsr)return X8e(s,typeof c=="number"&&Xe(c)?c:0);var h=[],g=l==="top"||l==="bottom"?"width":"height",v=d&&g==="width"?Am(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,_){var S=Kt(u)?u(w.value,_):w.value;return g==="width"?Y8e(Am(S,{fontSize:t,letterSpacing:r}),v,f):Am(S,{fontSize:t,letterSpacing:r})[g]},y=s.length>=2?ei(s[1].coordinate-s[0].coordinate):1,x=J8e(a,y,g);return c==="equidistantPreserveStart"?Q8e(y,x,p,s,i):(c==="preserveStart"||c==="preserveStartEnd"?h=nBe(y,x,p,s,i,c==="preserveStartEnd"):h=rBe(y,x,p,s,i),h.filter(function(b){return b.isShow}))}var sBe=["viewBox"],aBe=["viewBox"],iBe=["ticks"];function ch(e){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(e)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hd.apply(this,arguments)}function iF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iF(Object(r),!0).forEach(function(n){vO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pj(e,t){if(e==null)return{};var r=oBe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WG(n.key),n)}}function cBe(e,t,r){return t&&oF(e.prototype,t),r&&oF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uBe(e,t,r){return t=Qb(t),dBe(e,qG()?Reflect.construct(t,r||[],Qb(e).constructor):t.apply(e,r))}function dBe(e,t){if(t&&(ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fBe(e)}function fBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qG=function(){return!!e})()}function Qb(e){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qb(e)}function hBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K2(e,t)}function K2(e,t){return K2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},K2(e,t)}function vO(e,t,r){return t=WG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=pBe(e,"string");return ch(t)=="symbol"?t:t+""}function pBe(e,t){if(ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qh=function(e){function t(r){var n;return lBe(this,t),n=uBe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return hBe(t,e),cBe(t,[{key:"shouldComponentUpdate",value:function(n,s){var a=n.viewBox,i=Pj(n,sBe),l=this.props,c=l.viewBox,u=Pj(l,aBe);return!df(a,c)||!df(i,u)||!df(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.x,i=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,g,v,p,y,x,b,w=f?-1:1,_=n.tickSize||d,S=Xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":g=v=n.coordinate,y=i+ +!f*c,p=y-w*_,b=p-w*h,x=S;break;case"left":p=y=n.coordinate,v=a+ +!f*l,g=v-w*_,x=g-w*h,b=S;break;case"right":p=y=n.coordinate,v=a+ +f*l,g=v+w*_,x=g+w*h,b=S;break;default:g=v=n.coordinate,y=i+ +f*c,p=y+w*_,b=p+w*h,x=S;break}return{line:{x1:g,y1:p,x2:v,y2:y},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,i;switch(s){case"left":i=a?"start":"end";break;case"right":i=a?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,i="end";switch(s){case"left":case"right":i="middle";break;case"top":i=a?"start":"end";break;default:i=a?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,a=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ls(ls(ls({},ar(this.props,!1)),ar(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=ls(ls({},f),{},{x1:s,y1:a+h*l,x2:s+i,y2:a+h*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=ls(ls({},f),{},{x1:s+g*i,y1:a,x2:s+g*i,y2:a+l})}return M.createElement("line",Hd({},f,{className:er("recharts-cartesian-axis-line",Pa(d,"className"))}))}},{key:"renderTicks",value:function(n,s,a){var i=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,g=yO(ls(ls({},this.props),{},{ticks:n}),s,a),v=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),y=ar(this.props,!1),x=ar(d,!1),b=ls(ls({},y),{},{fill:"none"},ar(c,!1)),w=g.map(function(_,S){var E=i.getTickLineCoord(_),k=E.line,j=E.tick,N=ls(ls(ls(ls({textAnchor:v,verticalAnchor:p},y),{},{stroke:"none",fill:u},x),j),{},{index:S,payload:_,visibleTicksCount:g.length,tickFormatter:f});return M.createElement(Mn,Hd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},ib(i.props,_,S)),c&&M.createElement("line",Hd({},b,k,{className:er("recharts-cartesian-axis-tick-line",Pa(c,"className"))})),d&&t.renderTickItem(d,N,"".concat(Kt(f)?f(_.value,S):_.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,a=s.axisLine,i=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,g=Pj(f,iBe),v=h;return Kt(c)&&(v=h&&h.length>0?c(this.props):c(g)),i<=0||l<=0||!v||!v.length?null:M.createElement(Mn,{className:er("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),es.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,a){var i;return M.isValidElement(n)?i=M.cloneElement(n,s):Kt(n)?i=n(s):i=M.createElement(bb,Hd({},s,{className:"recharts-cartesian-axis-tick-value"}),a),i}}])}(m.Component);vO(Qh,"displayName","CartesianAxis");vO(Qh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mBe=["x1","y1","x2","y2","key"],gBe=["offset"];function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function lF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lF(Object(r),!0).forEach(function(n){yBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yBe(e,t,r){return t=vBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vBe(e){var t=xBe(e,"string");return Bu(t)=="symbol"?t:t+""}function xBe(e,t){if(Bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eu.apply(this,arguments)}function cF(e,t){if(e==null)return{};var r=bBe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wBe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,a=t.y,i=t.width,l=t.height,c=t.ry;return M.createElement("rect",{x:s,y:a,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function VG(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(Kt(e))r=e(t);else{var n=t.x1,s=t.y1,a=t.x2,i=t.y2,l=t.key,c=cF(t,mBe),u=ar(c,!1);u.offset;var d=cF(u,gBe);r=M.createElement("line",eu({},d,{x1:n,y1:s,x2:a,y2:i,fill:"none",key:l}))}return r}function _Be(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var i=a.map(function(l,c){var u=ts(ts({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return VG(s,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function SBe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,a=e.verticalPoints;if(!s||!a||!a.length)return null;var i=a.map(function(l,c){var u=ts(ts({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return VG(s,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function jBe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,a=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,g){return h-g});s!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var v=!d[g+1],p=v?s+i-h:d[g+1]-h;if(p<=0)return null;var y=g%t.length;return M.createElement("rect",{key:"react-".concat(g),y:h,x:n,height:p,width:a,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function kBe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,a=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,g){return h-g});a!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var v=!d[g+1],p=v?a+l-h:d[g+1]-h;if(p<=0)return null;var y=g%n.length;return M.createElement("rect",{key:"react-".concat(g),x:h,y:i,width:p,height:c,stroke:"none",fill:n[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var EBe=function(t,r){var n=t.xAxis,s=t.width,a=t.height,i=t.offset;return eG(yO(ts(ts(ts({},Qh.defaultProps),n),{},{ticks:jo(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),i.left,i.left+i.width,r)},NBe=function(t,r){var n=t.yAxis,s=t.width,a=t.height,i=t.offset;return eG(yO(ts(ts(ts({},Qh.defaultProps),n),{},{ticks:jo(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),i.top,i.top+i.height,r)},gd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function HG(e){var t,r,n,s,a,i,l=hO(),c=pO(),u=p8e(),d=ts(ts({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:gd.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:gd.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:gd.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:gd.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:gd.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:gd.verticalFill,x:Xe(e.x)?e.x:u.left,y:Xe(e.y)?e.y:u.top,width:Xe(e.width)?e.width:u.width,height:Xe(e.height)?e.height:u.height}),f=d.x,h=d.y,g=d.width,v=d.height,p=d.syncWithTicks,y=d.horizontalValues,x=d.verticalValues,b=d8e(),w=f8e();if(!Xe(g)||g<=0||!Xe(v)||v<=0||!Xe(f)||f!==+f||!Xe(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||EBe,S=d.horizontalCoordinatesGenerator||NBe,E=d.horizontalPoints,k=d.verticalPoints;if((!E||!E.length)&&Kt(S)){var j=y&&y.length,N=S({yAxis:w?ts(ts({},w),{},{ticks:j?y:w.ticks}):void 0,width:l,height:c,offset:u},j?!0:p);Ao(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Bu(N),"]")),Array.isArray(N)&&(E=N)}if((!k||!k.length)&&Kt(_)){var C=x&&x.length,A=_({xAxis:b?ts(ts({},b),{},{ticks:C?x:b.ticks}):void 0,width:l,height:c,offset:u},C?!0:p);Ao(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Bu(A),"]")),Array.isArray(A)&&(k=A)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(wBe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(_Be,eu({},d,{offset:u,horizontalPoints:E,xAxis:b,yAxis:w})),M.createElement(SBe,eu({},d,{offset:u,verticalPoints:k,xAxis:b,yAxis:w})),M.createElement(jBe,eu({},d,{horizontalPoints:E})),M.createElement(kBe,eu({},d,{verticalPoints:k})))}HG.displayName="CartesianGrid";function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(e)}function CBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YG(n.key),n)}}function ABe(e,t,r){return t&&PBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TBe(e,t,r){return t=Zb(t),OBe(e,KG()?Reflect.construct(t,r||[],Zb(e).constructor):t.apply(e,r))}function OBe(e,t){if(t&&(uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RBe(e)}function RBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KG=function(){return!!e})()}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(e)}function $Be(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G2(e,t)}function G2(e,t){return G2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},G2(e,t)}function GG(e,t,r){return t=YG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YG(e){var t=MBe(e,"string");return uh(t)=="symbol"?t:t+""}function MBe(e,t){if(uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y2(){return Y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y2.apply(this,arguments)}function IBe(e){var t=e.xAxisId,r=hO(),n=pO(),s=$G(t);return s==null?null:M.createElement(Qh,Y2({},s,{className:er("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return jo(i,!0)}}))}var Zh=function(e){function t(){return CBe(this,t),TBe(this,t,arguments)}return $Be(t,e),ABe(t,[{key:"render",value:function(){return M.createElement(IBe,this.props)}}])}(M.Component);GG(Zh,"displayName","XAxis");GG(Zh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}function LBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QG(n.key),n)}}function FBe(e,t,r){return t&&DBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BBe(e,t,r){return t=ew(t),UBe(e,JG()?Reflect.construct(t,r||[],ew(e).constructor):t.apply(e,r))}function UBe(e,t){if(t&&(dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zBe(e)}function zBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JG=function(){return!!e})()}function ew(e){return ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ew(e)}function qBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J2(e,t)}function J2(e,t){return J2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},J2(e,t)}function XG(e,t,r){return t=QG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e){var t=WBe(e,"string");return dh(t)=="symbol"?t:t+""}function WBe(e,t){if(dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X2(){return X2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X2.apply(this,arguments)}var VBe=function(t){var r=t.yAxisId,n=hO(),s=pO(),a=MG(r);return a==null?null:M.createElement(Qh,X2({},a,{className:er("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return jo(l,!0)}}))},ep=function(e){function t(){return LBe(this,t),BBe(this,t,arguments)}return qBe(t,e),FBe(t,[{key:"render",value:function(){return M.createElement(VBe,this.props)}}])}(M.Component);XG(ep,"displayName","YAxis");XG(ep,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function uF(e){return YBe(e)||GBe(e)||KBe(e)||HBe()}function HBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KBe(e,t){if(e){if(typeof e=="string")return Q2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q2(e,t)}}function GBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YBe(e){if(Array.isArray(e))return Q2(e)}function Q2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z2=function(t,r,n,s,a){var i=si(t,gO),l=si(t,n_),c=[].concat(uF(i),uF(l)),u=si(t,a_),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(p,y){if(y.props[d]===n&&Hi(y.props,"extendDomain")&&Xe(y.props[f])){var x=y.props[f];return[Math.min(p[0],x),Math.max(p[1],x)]}return p},h)),u.length){var g="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(p,y){if(y.props[d]===n&&Hi(y.props,"extendDomain")&&Xe(y.props[g])&&Xe(y.props[v])){var x=y.props[g],b=y.props[v];return[Math.min(p[0],x,b),Math.max(p[1],x,b)]}return p},h)}return a&&a.length&&(h=a.reduce(function(p,y){return Xe(y)?[Math.min(p[0],y),Math.max(p[1],y)]:p},h)),h},ZG={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],g]:c._events[v].push(g):(c._events[v]=g,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,v=new Array(g);h<g;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,g,v){var p=r?r+u:u;if(!this._events[p])return!1;var y=this._events[p],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,g),!0;case 6:return y.fn.call(y.context,d,f,h,g,v),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var _=y.length,S;for(w=0;w<_;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];y[w].fn.apply(y[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return i(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&i(this,g);else{for(var p=0,y=[],x=v.length;p<x;p++)(v[p].fn!==d||h&&!v[p].once||f&&v[p].context!==f)&&y.push(v[p]);y.length?this._events[g]=y.length===1?y[0]:y:i(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(ZG);var JBe=ZG.exports;const XBe=wr(JBe);var Aj=new XBe,Tj="recharts.syncMouseEvents";function ry(e){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ry(e)}function QBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eY(n.key),n)}}function eUe(e,t,r){return t&&ZBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oj(e,t,r){return t=eY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eY(e){var t=tUe(e,"string");return ry(t)=="symbol"?t:t+""}function tUe(e,t){if(ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rUe=function(){function e(){QBe(this,e),Oj(this,"activeIndex",0),Oj(this,"coordinateList",[]),Oj(this,"layout","horizontal")}return eUe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,a=s===void 0?null:s,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,i=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function nUe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&Xe(n)&&Xe(s))return!0}return!1}function sUe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function tY(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,a=e.endAngle,i=Vn(t,r,n,s),l=Vn(t,r,n,a);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:a}}function aUe(e,t,r){var n,s,a,i;if(e==="horizontal")n=t.x,a=n,s=r.top,i=r.top+r.height;else if(e==="vertical")s=t.y,i=s,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Vn(l,c,u,f),g=Vn(l,c,d,f);n=h.x,s=h.y,a=g.x,i=g.y}else return tY(t);return[{x:n,y:s},{x:a,y:i}]}function ny(e){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ny(e)}function dF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function u0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dF(Object(r),!0).forEach(function(n){iUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iUe(e,t,r){return t=oUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oUe(e){var t=lUe(e,"string");return ny(t)=="symbol"?t:t+""}function lUe(e,t){if(ny(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cUe(e){var t,r,n=e.element,s=e.tooltipEventType,a=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,g=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!a||!i||h!=="ScatterChart"&&s!=="axis")return null;var v,p=lD;if(h==="ScatterChart")v=i,p=_De;else if(h==="BarChart")v=sUe(f,i,c,d),p=cO;else if(f==="radial"){var y=tY(i),x=y.cx,b=y.cy,w=y.radius,_=y.startAngle,S=y.endAngle;v={cx:x,cy:b,startAngle:_,endAngle:S,innerRadius:w,outerRadius:w},p=aG}else v={points:aUe(f,i,c)},p=lD;var E=u0(u0(u0(u0({stroke:"#ccc",pointerEvents:"none"},c),v),ar(g,!1)),{},{payload:l,payloadIndex:u,className:er("recharts-tooltip-cursor",g.className)});return m.isValidElement(g)?m.cloneElement(g,E):m.createElement(p,E)}var uUe=["item"],dUe=["children","className","width","height","style","compact","title","desc"];function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(e)}function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(this,arguments)}function fF(e,t){return pUe(e)||hUe(e,t)||nY(e,t)||fUe()}function fUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hUe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function pUe(e){if(Array.isArray(e))return e}function hF(e,t){if(e==null)return{};var r=mUe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mUe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sY(n.key),n)}}function vUe(e,t,r){return t&&yUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xUe(e,t,r){return t=tw(t),bUe(e,rY()?Reflect.construct(t,r||[],tw(e).constructor):t.apply(e,r))}function bUe(e,t){if(t&&(fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wUe(e)}function wUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rY=function(){return!!e})()}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(e)}function _Ue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eC(e,t)}function eC(e,t){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},eC(e,t)}function hh(e){return kUe(e)||jUe(e)||nY(e)||SUe()}function SUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nY(e,t){if(e){if(typeof e=="string")return tC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tC(e,t)}}function jUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kUe(e){if(Array.isArray(e))return tC(e)}function tC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pF(Object(r),!0).forEach(function(n){Ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ct(e,t,r){return t=sY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sY(e){var t=EUe(e,"string");return fh(t)=="symbol"?t:t+""}function EUe(e,t){if(fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NUe={xAxis:["bottom","top"],yAxis:["left","right"]},CUe={width:"100%",height:"100%"},aY={x:0,y:0};function d0(e){return e}var PUe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},AUe=function(t,r,n,s){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var i=a.coordinate,l=s.radius;return be(be(be({},s),Vn(s.cx,s.cy,l,i)),{},{angle:i,radius:l})}var c=a.coordinate,u=s.angle;return be(be(be({},s),Vn(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return aY},i_=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,a=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(hh(l),hh(u)):l},[]);return i.length>0?i:t&&t.length&&Xe(s)&&Xe(a)?t.slice(s,a+1):[]};function iY(e){return e==="number"?[0,"auto"]:void 0}var rC=function(t,r,n,s){var a=t.graphicalItems,i=t.tooltipAxis,l=i_(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var g=f===void 0?l:f;h=MN(g,i.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(hh(c),[rG(u,h)]):c},[])},mF=function(t,r,n,s){var a=s||{x:t.chartX,y:t.chartY},i=PUe(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=s3e(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=rC(t,r,d,f),g=AUe(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},TUe=function(t,r){var n=r.axes,s=r.graphicalItems,a=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,g=ZK(d,a);return n.reduce(function(v,p){var y,x=p.type.defaultProps!==void 0?be(be({},p.type.defaultProps),p.props):p.props,b=x.type,w=x.dataKey,_=x.allowDataOverflow,S=x.allowDuplicatedCategory,E=x.scale,k=x.ticks,j=x.includeHidden,N=x[i];if(v[N])return v;var C=i_(t.data,{graphicalItems:s.filter(function(W){var V,ee=i in W.props?W.props[i]:(V=W.type.defaultProps)===null||V===void 0?void 0:V[i];return ee===N}),dataStartIndex:c,dataEndIndex:u}),A=C.length,R,H,U;nUe(x.domain,_,b)&&(R=_2(x.domain,null,_),g&&(b==="number"||E!=="auto")&&(U=Om(C,w,"category")));var D=iY(b);if(!R||R.length===0){var B,L=(B=x.domain)!==null&&B!==void 0?B:D;if(w){if(R=Om(C,w,b),b==="category"&&g){var T=HSe(R);S&&T?(H=R,R=qb(0,A)):S||(R=Y5(L,R,p).reduce(function(W,V){return W.indexOf(V)>=0?W:[].concat(hh(W),[V])},[]))}else if(b==="category")S?R=R.filter(function(W){return W!==""&&!cr(W)}):R=Y5(L,R,p).reduce(function(W,V){return W.indexOf(V)>=0||V===""||cr(V)?W:[].concat(hh(W),[V])},[]);else if(b==="number"){var q=c3e(C,s.filter(function(W){var V,ee,X=i in W.props?W.props[i]:(V=W.type.defaultProps)===null||V===void 0?void 0:V[i],ne="hide"in W.props?W.props.hide:(ee=W.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return X===N&&(j||!ne)}),w,a,d);q&&(R=q)}g&&(b==="number"||E!=="auto")&&(U=Om(C,w,"category"))}else g?R=qb(0,A):l&&l[N]&&l[N].hasStack&&b==="number"?R=h==="expand"?[0,1]:tG(l[N].stackGroups,c,u):R=QK(C,s.filter(function(W){var V=i in W.props?W.props[i]:W.type.defaultProps[i],ee="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return V===N&&(j||!ee)}),b,d,!0);if(b==="number")R=Z2(f,R,N,a,k),L&&(R=_2(L,R,_));else if(b==="category"&&L){var I=L,P=R.every(function(W){return I.indexOf(W)>=0});P&&(R=I)}}return be(be({},v),{},Ct({},N,be(be({},x),{},{axisType:a,domain:R,categoricalDomain:U,duplicateDomain:H,originalDomain:(y=x.domain)!==null&&y!==void 0?y:D,isCategorical:g,layout:d})))},{})},OUe=function(t,r){var n=r.graphicalItems,s=r.Axis,a=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=i_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),g=h.length,v=ZK(d,a),p=-1;return n.reduce(function(y,x){var b=x.type.defaultProps!==void 0?be(be({},x.type.defaultProps),x.props):x.props,w=b[i],_=iY("number");if(!y[w]){p++;var S;return v?S=qb(0,g):l&&l[w]&&l[w].hasStack?(S=tG(l[w].stackGroups,c,u),S=Z2(f,S,w,a)):(S=_2(_,QK(h,n.filter(function(E){var k,j,N=i in E.props?E.props[i]:(k=E.type.defaultProps)===null||k===void 0?void 0:k[i],C="hide"in E.props?E.props.hide:(j=E.type.defaultProps)===null||j===void 0?void 0:j.hide;return N===w&&!C}),"number",d),s.defaultProps.allowDataOverflow),S=Z2(f,S,w,a)),be(be({},y),{},Ct({},w,be(be({axisType:a},s.defaultProps),{},{hide:!0,orientation:Pa(NUe,"".concat(a,".").concat(p%2),null),domain:S,originalDomain:_,isCategorical:v,layout:d})))}return y},{})},RUe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,a=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=si(d,a),g={};return h&&h.length?g=TUe(t,{axes:h,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(g=OUe(t,{Axis:a,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},$Ue=function(t){var r=_l(t),n=jo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:MT(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:$b(r,n)}},gF=function(t){var r=t.children,n=t.defaultShowTooltip,s=Qs(r,sh),a=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(i=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},MUe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Po(r&&r.type);return n&&n.indexOf("Bar")>=0})},yF=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},IUe=function(t,r){var n=t.props,s=t.graphicalItems,a=t.xAxisMap,i=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},g=Qs(f,sh),v=Qs(f,ff),p=Object.keys(c).reduce(function(S,E){var k=c[E],j=k.orientation;return!k.mirror&&!k.hide?be(be({},S),{},Ct({},j,S[j]+k.width)):S},{left:h.left||0,right:h.right||0}),y=Object.keys(i).reduce(function(S,E){var k=i[E],j=k.orientation;return!k.mirror&&!k.hide?be(be({},S),{},Ct({},j,Pa(S,"".concat(j))+k.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=be(be({},y),p),b=x.bottom;g&&(x.bottom+=g.props.height||sh.defaultProps.height),v&&r&&(x=o3e(x,s,n,r));var w=u-x.left-x.right,_=d-x.top-x.bottom;return be(be({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(_,0)})},LUe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},DUe=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,a=s===void 0?"axis":s,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,x){var b=x.graphicalItems,w=x.stackGroups,_=x.offset,S=x.updateId,E=x.dataStartIndex,k=x.dataEndIndex,j=y.barSize,N=y.layout,C=y.barGap,A=y.barCategoryGap,R=y.maxBarSize,H=yF(N),U=H.numericAxisName,D=H.cateAxisName,B=MUe(b),L=[];return b.forEach(function(T,q){var I=i_(y.data,{graphicalItems:[T],dataStartIndex:E,dataEndIndex:k}),P=T.type.defaultProps!==void 0?be(be({},T.type.defaultProps),T.props):T.props,W=P.dataKey,V=P.maxBarSize,ee=P["".concat(U,"Id")],X=P["".concat(D,"Id")],ne={},F=c.reduce(function(dt,Ce){var ke=x["".concat(Ce.axisType,"Map")],G=P["".concat(Ce.axisType,"Id")];ke&&ke[G]||Ce.axisType==="zAxis"||Fu();var ce=ke[G];return be(be({},dt),{},Ct(Ct({},Ce.axisType,ce),"".concat(Ce.axisType,"Ticks"),jo(ce)))},ne),$=F[D],K=F["".concat(D,"Ticks")],Y=w&&w[ee]&&w[ee].hasStack&&w3e(T,w[ee].stackGroups),se=Po(T.type).indexOf("Bar")>=0,Q=$b($,K),ae=[],re=B&&a3e({barSize:j,stackGroups:w,totalSize:LUe(F,D)});if(se){var pe,ve,Ie=cr(V)?R:V,et=(pe=(ve=$b($,K,!0))!==null&&ve!==void 0?ve:Ie)!==null&&pe!==void 0?pe:0;ae=i3e({barGap:C,barCategoryGap:A,bandSize:et!==Q?et:Q,sizeList:re[X],maxBarSize:Ie}),et!==Q&&(ae=ae.map(function(dt){return be(be({},dt),{},{position:be(be({},dt.position),{},{offset:dt.position.offset-et/2})})}))}var Je=T&&T.type&&T.type.getComposedData;Je&&L.push({props:be(be({},Je(be(be({},F),{},{displayedData:I,props:y,dataKey:W,item:T,bandSize:Q,barPosition:ae,offset:_,stackedData:Y,layout:N,dataStartIndex:E,dataEndIndex:k}))),{},Ct(Ct(Ct({key:T.key||"item-".concat(q)},U,F[U]),D,F[D]),"animationId",S)),childIndex:nje(T,y.children),item:T})}),L},g=function(y,x){var b=y.props,w=y.dataStartIndex,_=y.dataEndIndex,S=y.updateId;if(!q3({props:b}))return null;var E=b.children,k=b.layout,j=b.stackOffset,N=b.data,C=b.reverseStackOrder,A=yF(k),R=A.numericAxisName,H=A.cateAxisName,U=si(E,n),D=v3e(N,U,"".concat(R,"Id"),"".concat(H,"Id"),j,C),B=c.reduce(function(P,W){var V="".concat(W.axisType,"Map");return be(be({},P),{},Ct({},V,RUe(b,be(be({},W),{},{graphicalItems:U,stackGroups:W.axisType===R&&D,dataStartIndex:w,dataEndIndex:_}))))},{}),L=IUe(be(be({},B),{},{props:b,graphicalItems:U}),x==null?void 0:x.legendBBox);Object.keys(B).forEach(function(P){B[P]=d(b,B[P],L,P.replace("Map",""),r)});var T=B["".concat(H,"Map")],q=$Ue(T),I=h(b,be(be({},B),{},{dataStartIndex:w,dataEndIndex:_,updateId:S,graphicalItems:U,stackGroups:D,offset:L}));return be(be({formattedGraphicalItems:I,graphicalItems:U,offset:L,stackGroups:D},q),B)},v=function(p){function y(x){var b,w,_;return gUe(this,y),_=xUe(this,y,[x]),Ct(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ct(_,"accessibilityManager",new rUe),Ct(_,"handleLegendBBoxUpdate",function(S){if(S){var E=_.state,k=E.dataStartIndex,j=E.dataEndIndex,N=E.updateId;_.setState(be({legendBBox:S},g({props:_.props,dataStartIndex:k,dataEndIndex:j,updateId:N},be(be({},_.state),{},{legendBBox:S}))))}}),Ct(_,"handleReceiveSyncEvent",function(S,E,k){if(_.props.syncId===S){if(k===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(E)}}),Ct(_,"handleBrushChange",function(S){var E=S.startIndex,k=S.endIndex;if(E!==_.state.dataStartIndex||k!==_.state.dataEndIndex){var j=_.state.updateId;_.setState(function(){return be({dataStartIndex:E,dataEndIndex:k},g({props:_.props,dataStartIndex:E,dataEndIndex:k,updateId:j},_.state))}),_.triggerSyncEvent({dataStartIndex:E,dataEndIndex:k})}}),Ct(_,"handleMouseEnter",function(S){var E=_.getMouseInfo(S);if(E){var k=be(be({},E),{},{isTooltipActive:!0});_.setState(k),_.triggerSyncEvent(k);var j=_.props.onMouseEnter;Kt(j)&&j(k,S)}}),Ct(_,"triggeredAfterMouseMove",function(S){var E=_.getMouseInfo(S),k=E?be(be({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(k),_.triggerSyncEvent(k);var j=_.props.onMouseMove;Kt(j)&&j(k,S)}),Ct(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ct(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Ct(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),Ct(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var k=_.props.onMouseLeave;Kt(k)&&k(E,S)}),Ct(_,"handleOuterEvent",function(S){var E=rje(S),k=Pa(_.props,"".concat(E));if(E&&Kt(k)){var j,N;/.*touch.*/i.test(E)?N=_.getMouseInfo(S.changedTouches[0]):N=_.getMouseInfo(S),k((j=N)!==null&&j!==void 0?j:{},S)}}),Ct(_,"handleClick",function(S){var E=_.getMouseInfo(S);if(E){var k=be(be({},E),{},{isTooltipActive:!0});_.setState(k),_.triggerSyncEvent(k);var j=_.props.onClick;Kt(j)&&j(k,S)}}),Ct(_,"handleMouseDown",function(S){var E=_.props.onMouseDown;if(Kt(E)){var k=_.getMouseInfo(S);E(k,S)}}),Ct(_,"handleMouseUp",function(S){var E=_.props.onMouseUp;if(Kt(E)){var k=_.getMouseInfo(S);E(k,S)}}),Ct(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ct(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),Ct(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),Ct(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&Aj.emit(Tj,_.props.syncId,S,_.eventEmitterSymbol)}),Ct(_,"applySyncEvent",function(S){var E=_.props,k=E.layout,j=E.syncMethod,N=_.state.updateId,C=S.dataStartIndex,A=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(be({dataStartIndex:C,dataEndIndex:A},g({props:_.props,dataStartIndex:C,dataEndIndex:A,updateId:N},_.state)));else if(S.activeTooltipIndex!==void 0){var R=S.chartX,H=S.chartY,U=S.activeTooltipIndex,D=_.state,B=D.offset,L=D.tooltipTicks;if(!B)return;if(typeof j=="function")U=j(L,S);else if(j==="value"){U=-1;for(var T=0;T<L.length;T++)if(L[T].value===S.activeLabel){U=T;break}}var q=be(be({},B),{},{x:B.left,y:B.top}),I=Math.min(R,q.x+q.width),P=Math.min(H,q.y+q.height),W=L[U]&&L[U].value,V=rC(_.state,_.props.data,U),ee=L[U]?{x:k==="horizontal"?L[U].coordinate:I,y:k==="horizontal"?P:L[U].coordinate}:aY;_.setState(be(be({},S),{},{activeLabel:W,activeCoordinate:ee,activePayload:V,activeTooltipIndex:U}))}else _.setState(S)}),Ct(_,"renderCursor",function(S){var E,k=_.state,j=k.isTooltipActive,N=k.activeCoordinate,C=k.activePayload,A=k.offset,R=k.activeTooltipIndex,H=k.tooltipAxisBandSize,U=_.getTooltipEventType(),D=(E=S.props.active)!==null&&E!==void 0?E:j,B=_.props.layout,L=S.key||"_recharts-cursor";return M.createElement(cUe,{key:L,activeCoordinate:N,activePayload:C,activeTooltipIndex:R,chartName:r,element:S,isActive:D,layout:B,offset:A,tooltipAxisBandSize:H,tooltipEventType:U})}),Ct(_,"renderPolarAxis",function(S,E,k){var j=Pa(S,"type.axisType"),N=Pa(_.state,"".concat(j,"Map")),C=S.type.defaultProps,A=C!==void 0?be(be({},C),S.props):S.props,R=N&&N[A["".concat(j,"Id")]];return m.cloneElement(S,be(be({},R),{},{className:er(j,R.className),key:S.key||"".concat(E,"-").concat(k),ticks:jo(R,!0)}))}),Ct(_,"renderPolarGrid",function(S){var E=S.props,k=E.radialLines,j=E.polarAngles,N=E.polarRadius,C=_.state,A=C.radiusAxisMap,R=C.angleAxisMap,H=_l(A),U=_l(R),D=U.cx,B=U.cy,L=U.innerRadius,T=U.outerRadius;return m.cloneElement(S,{polarAngles:Array.isArray(j)?j:jo(U,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(N)?N:jo(H,!0).map(function(q){return q.coordinate}),cx:D,cy:B,innerRadius:L,outerRadius:T,key:S.key||"polar-grid",radialLines:k})}),Ct(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,E=_.props,k=E.children,j=E.width,N=E.height,C=_.props.margin||{},A=j-(C.left||0)-(C.right||0),R=JK({children:k,formattedGraphicalItems:S,legendWidth:A,legendContent:u});if(!R)return null;var H=R.item,U=hF(R,uUe);return m.cloneElement(H,be(be({},U),{},{chartWidth:j,chartHeight:N,margin:C,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Ct(_,"renderTooltip",function(){var S,E=_.props,k=E.children,j=E.accessibilityLayer,N=Qs(k,wi);if(!N)return null;var C=_.state,A=C.isTooltipActive,R=C.activeCoordinate,H=C.activePayload,U=C.activeLabel,D=C.offset,B=(S=N.props.active)!==null&&S!==void 0?S:A;return m.cloneElement(N,{viewBox:be(be({},D),{},{x:D.left,y:D.top}),active:B,label:U,payload:B?H:[],coordinate:R,accessibilityLayer:j})}),Ct(_,"renderBrush",function(S){var E=_.props,k=E.margin,j=E.data,N=_.state,C=N.offset,A=N.dataStartIndex,R=N.dataEndIndex,H=N.updateId;return m.cloneElement(S,{key:S.key||"_recharts-brush",onChange:i0(_.handleBrushChange,S.props.onChange),data:j,x:Xe(S.props.x)?S.props.x:C.left,y:Xe(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(k.bottom||0),width:Xe(S.props.width)?S.props.width:C.width,startIndex:A,endIndex:R,updateId:"brush-".concat(H)})}),Ct(_,"renderReferenceElement",function(S,E,k){if(!S)return null;var j=_,N=j.clipPathId,C=_.state,A=C.xAxisMap,R=C.yAxisMap,H=C.offset,U=S.type.defaultProps||{},D=S.props,B=D.xAxisId,L=B===void 0?U.xAxisId:B,T=D.yAxisId,q=T===void 0?U.yAxisId:T;return m.cloneElement(S,{key:S.key||"".concat(E,"-").concat(k),xAxis:A[L],yAxis:R[q],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:N})}),Ct(_,"renderActivePoints",function(S){var E=S.item,k=S.activePoint,j=S.basePoint,N=S.childIndex,C=S.isRange,A=[],R=E.props.key,H=E.item.type.defaultProps!==void 0?be(be({},E.item.type.defaultProps),E.item.props):E.item.props,U=H.activeDot,D=H.dataKey,B=be(be({index:N,dataKey:D,cx:k.x,cy:k.y,r:4,fill:lO(E.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},ar(U,!1)),ab(U));return A.push(y.renderActiveDot(U,B,"".concat(R,"-activePoint-").concat(N))),j?A.push(y.renderActiveDot(U,be(be({},B),{},{cx:j.x,cy:j.y}),"".concat(R,"-basePoint-").concat(N))):C&&A.push(null),A}),Ct(_,"renderGraphicChild",function(S,E,k){var j=_.filterFormatItem(S,E,k);if(!j)return null;var N=_.getTooltipEventType(),C=_.state,A=C.isTooltipActive,R=C.tooltipAxis,H=C.activeTooltipIndex,U=C.activeLabel,D=_.props.children,B=Qs(D,wi),L=j.props,T=L.points,q=L.isRange,I=L.baseLine,P=j.item.type.defaultProps!==void 0?be(be({},j.item.type.defaultProps),j.item.props):j.item.props,W=P.activeDot,V=P.hide,ee=P.activeBar,X=P.activeShape,ne=!!(!V&&A&&B&&(W||ee||X)),F={};N!=="axis"&&B&&B.props.trigger==="click"?F={onClick:i0(_.handleItemMouseEnter,S.props.onClick)}:N!=="axis"&&(F={onMouseLeave:i0(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:i0(_.handleItemMouseEnter,S.props.onMouseEnter)});var $=m.cloneElement(S,be(be({},j.props),F));function K(Ce){return typeof R.dataKey=="function"?R.dataKey(Ce.payload):null}if(ne)if(H>=0){var Y,se;if(R.dataKey&&!R.allowDuplicatedCategory){var Q=typeof R.dataKey=="function"?K:"payload.".concat(R.dataKey.toString());Y=MN(T,Q,U),se=q&&I&&MN(I,Q,U)}else Y=T==null?void 0:T[H],se=q&&I&&I[H];if(X||ee){var ae=S.props.activeIndex!==void 0?S.props.activeIndex:H;return[m.cloneElement(S,be(be(be({},j.props),F),{},{activeIndex:ae})),null,null]}if(!cr(Y))return[$].concat(hh(_.renderActivePoints({item:j,activePoint:Y,basePoint:se,childIndex:H,isRange:q})))}else{var re,pe=(re=_.getItemByXY(_.state.activeCoordinate))!==null&&re!==void 0?re:{graphicalItem:$},ve=pe.graphicalItem,Ie=ve.item,et=Ie===void 0?S:Ie,Je=ve.childIndex,dt=be(be(be({},j.props),F),{},{activeIndex:Je});return[m.cloneElement(et,dt),null,null]}return q?[$,null,null]:[$,null]}),Ct(_,"renderCustomized",function(S,E,k){return m.cloneElement(S,be(be({key:"recharts-customized-".concat(k)},_.props),_.state))}),Ct(_,"renderMap",{CartesianGrid:{handler:d0,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:d0},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:d0},YAxis:{handler:d0},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:$1("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=JH(_.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),_.state={},_}return _Ue(y,p),vUe(y,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,_=b.data,S=b.height,E=b.layout,k=Qs(w,wi);if(k){var j=k.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,C=rC(this.state,_,j,N),A=this.state.tooltipTicks[j].coordinate,R=(this.state.offset.top+S)/2,H=E==="horizontal",U=H?{x:A,y:R}:{y:A,x:R},D=this.state.formattedGraphicalItems.find(function(L){var T=L.item;return T.type.name==="Scatter"});D&&(U=be(be({},U),D.props.points[j].tooltipPosition),C=D.props.points[j].tooltipPayload);var B={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:N,activePayload:C,activeCoordinate:U};this.setState(B),this.renderCursor(k),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){LN([Qs(b.children,wi)],[Qs(this.props.children,wi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Qs(this.props.children,wi);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return l.indexOf(w)>=0?w:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,_=w.getBoundingClientRect(),S=ARe(_),E={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},k=_.width/w.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,k);if(!j)return null;var N=this.state,C=N.xAxisMap,A=N.yAxisMap,R=this.getTooltipEventType();if(R!=="axis"&&C&&A){var H=_l(C).scale,U=_l(A).scale,D=H&&H.invert?H.invert(E.chartX):null,B=U&&U.invert?U.invert(E.chartY):null;return be(be({},E),{},{xValue:D,yValue:B})}var L=mF(this.state,this.props.data,this.props.layout,j);return L?be(be({},E),L):null}},{key:"inRange",value:function(b,w){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=b/_,k=w/_;if(S==="horizontal"||S==="vertical"){var j=this.state.offset,N=E>=j.left&&E<=j.left+j.width&&k>=j.top&&k<=j.top+j.height;return N?{x:E,y:k}:null}var C=this.state,A=C.angleAxisMap,R=C.radiusAxisMap;if(A&&R){var H=_l(A);return Q5({x:E,y:k},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),_=Qs(b,wi),S={};_&&w==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=ab(this.props,this.handleOuterEvent);return be(be({},E),S)}},{key:"addListener",value:function(){Aj.on(Tj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Aj.removeListener(Tj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,_){for(var S=this.state.formattedGraphicalItems,E=0,k=S.length;E<k;E++){var j=S[E];if(j.item===b||j.props.key===b.key||w===Po(j.item.type)&&_===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,_=w.left,S=w.top,E=w.height,k=w.width;return M.createElement("defs",null,M.createElement("clipPath",{id:b},M.createElement("rect",{x:_,y:S,height:E,width:k})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,_){var S=fF(_,2),E=S[0],k=S[1];return be(be({},w),{},Ct({},E,k.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,_){var S=fF(_,2),E=S[0],k=S[1];return be(be({},w),{},Ct({},E,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,_=w.formattedGraphicalItems,S=w.activeItem;if(_&&_.length)for(var E=0,k=_.length;E<k;E++){var j=_[E],N=j.props,C=j.item,A=C.type.defaultProps!==void 0?be(be({},C.type.defaultProps),C.props):C.props,R=Po(C.type);if(R==="Bar"){var H=(N.data||[]).find(function(L){return fDe(b,L)});if(H)return{graphicalItem:j,payload:H}}else if(R==="RadialBar"){var U=(N.data||[]).find(function(L){return Q5(b,L)});if(U)return{graphicalItem:j,payload:U}}else if(Z1(j,S)||e_(j,S)||Xg(j,S)){var D=mFe({graphicalItem:j,activeTooltipItem:S,itemData:A.data}),B=A.activeIndex===void 0?D:A.activeIndex;return{graphicalItem:be(be({},j),{},{childIndex:B}),payload:Xg(j,S)?A.data[D]:j.props.data[D]}}}return null}},{key:"render",value:function(){var b=this;if(!q3(this))return null;var w=this.props,_=w.children,S=w.className,E=w.width,k=w.height,j=w.style,N=w.compact,C=w.title,A=w.desc,R=hF(w,dUe),H=ar(R,!1);if(N)return M.createElement(XD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(FN,$m({},H,{width:E,height:k,title:C,desc:A}),this.renderClipPath(),V3(_,this.renderMap)));if(this.props.accessibilityLayer){var U,D;H.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,H.role=(D=this.props.role)!==null&&D!==void 0?D:"application",H.onKeyDown=function(L){b.accessibilityManager.keyboardEvent(L)},H.onFocus=function(){b.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return M.createElement(XD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",$m({className:er("recharts-wrapper",S),style:be({position:"relative",cursor:"default",width:E,height:k},j)},B,{ref:function(T){b.container=T}}),M.createElement(FN,$m({},H,{width:E,height:k,title:C,desc:A,style:CUe}),this.renderClipPath(),V3(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(m.Component);return Ct(v,"displayName",r),Ct(v,"defaultProps",be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ct(v,"getDerivedStateFromProps",function(p,y){var x=p.dataKey,b=p.data,w=p.children,_=p.width,S=p.height,E=p.layout,k=p.stackOffset,j=p.margin,N=y.dataStartIndex,C=y.dataEndIndex;if(y.updateId===void 0){var A=gF(p);return be(be(be({},A),{},{updateId:0},g(be(be({props:p},A),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:b,prevWidth:_,prevHeight:S,prevLayout:E,prevStackOffset:k,prevMargin:j,prevChildren:w})}if(x!==y.prevDataKey||b!==y.prevData||_!==y.prevWidth||S!==y.prevHeight||E!==y.prevLayout||k!==y.prevStackOffset||!df(j,y.prevMargin)){var R=gF(p),H={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},U=be(be({},mF(y,b,E)),{},{updateId:y.updateId+1}),D=be(be(be({},R),H),U);return be(be(be({},D),g(be({props:p},D),y)),{},{prevDataKey:x,prevData:b,prevWidth:_,prevHeight:S,prevLayout:E,prevStackOffset:k,prevMargin:j,prevChildren:w})}if(!LN(w,y.prevChildren)){var B,L,T,q,I=Qs(w,sh),P=I&&(B=(L=I.props)===null||L===void 0?void 0:L.startIndex)!==null&&B!==void 0?B:N,W=I&&(T=(q=I.props)===null||q===void 0?void 0:q.endIndex)!==null&&T!==void 0?T:C,V=P!==N||W!==C,ee=!cr(b),X=ee&&!V?y.updateId:y.updateId+1;return be(be({updateId:X},g(be(be({props:p},y),{},{updateId:X,dataStartIndex:P,dataEndIndex:W}),y)),{},{prevChildren:w,dataStartIndex:P,dataEndIndex:W})}return null}),Ct(v,"renderActiveDot",function(p,y,x){var b;return m.isValidElement(p)?b=m.cloneElement(p,y):Kt(p)?b=p(y):b=M.createElement(gG,y),M.createElement(Mn,{className:"recharts-active-dot",key:x},b)}),function(y){return M.createElement(v,y)}},xO=DUe({chartName:"BarChart",GraphicalChild:Qo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Zh},{axisType:"yAxis",AxisComp:ep}],formatAxisMap:B6e});const FUe={light:"",dark:".dark"},oY=m.createContext(null);function lY(){const e=m.useContext(oY);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const o_=m.forwardRef(({id:e,className:t,children:r,config:n,...s},a)=>{const i=m.useId(),l=`chart-${e||i.replace(/:/g,"")}`;return o.jsx(oY.Provider,{value:{config:n},children:o.jsxs("div",{"data-chart":l,ref:a,className:le("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...s,children:[o.jsx(BUe,{id:l,config:n}),o.jsx(SRe,{children:r})]})})});o_.displayName="Chart";const BUe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,s])=>s.theme||s.color);return r.length?o.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(FUe).map(([n,s])=>`
${s} [data-chart=${e}] {
${r.map(([a,i])=>{var c;const l=((c=i.theme)==null?void 0:c[n])||i.color;return l?`  --color-${a}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},bO=wi,UUe=m.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:s=!1,hideIndicator:a=!1,label:i,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},g)=>{const{config:v}=lY(),p=m.useMemo(()=>{var S;if(s||!(t!=null&&t.length))return null;const[x]=t,b=`${h||x.dataKey||x.name||"value"}`,w=nC(v,x,b),_=!h&&typeof i=="string"?((S=v[i])==null?void 0:S.label)||i:w==null?void 0:w.label;return l?o.jsx("div",{className:le("font-medium",c),children:l(_,t)}):_?o.jsx("div",{className:le("font-medium",c),children:_}):null},[i,l,t,s,c,v,h]);if(!e||!(t!=null&&t.length))return null;const y=t.length===1&&n!=="dot";return o.jsxs("div",{ref:g,className:le("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[y?null:p,o.jsx("div",{className:"grid gap-1.5",children:t.map((x,b)=>{const w=`${f||x.name||x.dataKey||"value"}`,_=nC(v,x,w),S=d||x.payload.fill||x.color;return o.jsx("div",{className:le("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(x==null?void 0:x.value)!==void 0&&x.name?u(x.value,x.name,x,b,x.payload):o.jsxs(o.Fragment,{children:[_!=null&&_.icon?o.jsx(_.icon,{}):!a&&o.jsx("div",{className:le("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":y&&n==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),o.jsxs("div",{className:le("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[o.jsxs("div",{className:"grid gap-1.5",children:[y?p:null,o.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||x.name})]}),x.value&&o.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});UUe.displayName="ChartTooltip";const zUe=m.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:s},a)=>{const{config:i}=lY();return r!=null&&r.length?o.jsx("div",{ref:a,className:le("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${s||l.dataKey||"value"}`,u=nC(i,l,c);return o.jsxs("div",{className:le("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?o.jsx(u.icon,{}):o.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});zUe.displayName="ChartLegend";function nC(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let s=r;return r in t&&typeof t[r]=="string"?s=t[r]:n&&r in n&&typeof n[r]=="string"&&(s=n[r]),s in e?e[s]:e[r]}const ph=yA,qUe=vA,WUe=m.forwardRef(({className:e,...t},r)=>o.jsx(Th,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));WUe.displayName=Th.displayName;const VUe=Cy("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-150 data-[state=open]:duration-200",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",rightProfile:"inset-y-0 right-0 h-full w-full md:w-[30%] border-l md:rounded-l-[24px] data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 md:data-[state=closed]:slide-out-to-right md:data-[state=open]:slide-in-from-right"}},defaultVariants:{side:"right"}}),Uu=m.forwardRef(({side:e="right",className:t,children:r,overlayClassName:n,...s},a)=>o.jsxs(qUe,{children:[o.jsx(Th,{className:le("fixed inset-0 z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n??"bg-black/80")}),o.jsx(Oy,{ref:a,className:le(VUe({side:e}),t),...s,children:r})]}));Uu.displayName=Oy.displayName;const zu=({className:e,...t})=>o.jsx("div",{className:le("flex flex-row items-center justify-between gap-3 min-h-[2.5rem] text-left shrink-0 border-b border-gray-200 dark:border-gray-700",e),...t});zu.displayName="SheetHeader";const qu=m.forwardRef(({className:e,...t},r)=>o.jsx(Ry,{ref:r,className:le("text-lg font-semibold text-foreground",e),...t}));qu.displayName=Ry.displayName;const HUe=m.forwardRef(({className:e,...t},r)=>o.jsx($y,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));HUe.displayName=$y.displayName;const sy=m.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 hover:ring-0 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));sy.displayName="Textarea";const KUe=async({phoneNumber:e,code:t,sender:r="Breneo"})=>{throw new Error("SMS API key is not configured.")},GUe="breneo:phoneVerified",Fp=typeof window<"u",YUe=e=>e?e.toLowerCase():"user",JUe=(e,t,r)=>{const n=YUe(r);return`${GUe}:${n}:${t??e??"unknown"}`},cY=e=>{const{phoneNumber:t,ownerId:r,role:n,initiallyVerified:s,sender:a="Breneo",resendDelaySeconds:i=60}=e,l=m.useMemo(()=>JUe(t??void 0,r,n),[r,t,n]),[c,u]=m.useState(()=>s?!0:Fp?localStorage.getItem(l)==="true":!1),[d,f]=m.useState(null),[h,g]=m.useState(!1),[v,p]=m.useState(""),[y,x]=m.useState(!1),[b,w]=m.useState(!1),[_,S]=m.useState(0);m.useEffect(()=>{typeof s=="boolean"&&s&&(u(!0),Fp&&localStorage.setItem(l,"true"))},[s,l]),m.useEffect(()=>{if(!t){u(!1),f(null),g(!1),p("");return}if(!s&&Fp){const C=localStorage.getItem(l);u(C==="true")}},[s,t,l]),m.useEffect(()=>{if(_<=0)return;const C=window.setInterval(()=>{S(A=>{const R=A-1;return R>=0?R:0})},1e3);return()=>window.clearInterval(C)},[_]);const E=()=>Math.floor(1e5+Math.random()*9e5).toString(),k=m.useCallback(async()=>{if(!t)throw new Error("Phone number is missing. Please add it before verifying.");if(_>0)throw new Error(`Please wait ${_} second${_===1?"":"s"} before requesting a new code.`);x(!0);try{const C=E();await KUe({phoneNumber:t,code:C,sender:a}),f(C),g(!0),S(i)}finally{x(!1)}},[t,_,i,a]),j=m.useCallback(async()=>{if(!h||!d)throw new Error("No verification code has been sent yet.");const C=v.replace(/\D/g,"");if(C.length!==6)throw new Error("Please enter the 6-digit verification code.");w(!0);try{if(C!==d)throw new Error("The verification code you entered is incorrect.");return u(!0),g(!1),f(null),p(""),Fp&&localStorage.setItem(l,"true"),!0}finally{w(!1)}},[v,h,d,l]),N=m.useCallback(()=>{u(!1),f(null),g(!1),p(""),S(0),Fp&&localStorage.removeItem(l)},[l]);return{isPhoneVerified:c,isSendingCode:y,isVerifyingCode:b,codeSent:h,codeInput:v,resendCooldown:_,sendCode:k,verifyCode:j,setCodeInput:p,resetVerification:N}};function XUe({open:e,onOpenChange:t,initial:r,onSave:n}){var B,L,T,q,I;const[s,a]=m.useState(r.first_name??""),[i,l]=m.useState(r.last_name??""),[c,u]=m.useState(r.email??""),[d,f]=m.useState(r.phone_number??""),[h,g]=m.useState(r.country_region??""),[v,p]=m.useState(r.city??""),[y,x]=m.useState(((B=r.social_links)==null?void 0:B.github)??""),[b,w]=m.useState(((L=r.social_links)==null?void 0:L.linkedin)??""),[_,S]=m.useState(((T=r.social_links)==null?void 0:T.facebook)??""),[E,k]=m.useState(((q=r.social_links)==null?void 0:q.instagram)??""),[j,N]=m.useState(((I=r.social_links)==null?void 0:I.dribbble)??""),[C,A]=m.useState(!1),[R,H]=m.useState(null),U=P=>P.trim().startsWith("http")?P.trim():`https://${P.trim()}`;m.useEffect(()=>{var P,W,V,ee,X;e&&(a(r.first_name??""),l(r.last_name??""),u(r.email??""),f(r.phone_number??""),g(r.country_region??""),p(r.city??""),x(((P=r.social_links)==null?void 0:P.github)??""),w(((W=r.social_links)==null?void 0:W.linkedin)??""),S(((V=r.social_links)==null?void 0:V.facebook)??""),k(((ee=r.social_links)==null?void 0:ee.instagram)??""),N(((X=r.social_links)==null?void 0:X.dribbble)??""),H(null))},[e,r]);const D=async P=>{P.preventDefault(),H(null),A(!0);try{const W={};y.trim()&&(W.github=U(y)),b.trim()&&(W.linkedin=U(b)),_.trim()&&(W.facebook=U(_)),E.trim()&&(W.instagram=U(E)),j.trim()&&(W.dribbble=U(j)),await n({first_name:s.trim()||void 0,last_name:i.trim()||void 0,email:c.trim()||void 0,phone_number:d.trim()||void 0,country_region:h.trim()||void 0,city:v.trim()||void 0,social_links:Object.keys(W).length?W:void 0}),t(!1)}catch(W){const V=W&&typeof W=="object"&&"message"in W?String(W.message):"Could not save";H(V)}finally{A(!1)}};return o.jsx(ph,{open:e,onOpenChange:t,children:o.jsxs(Uu,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(zu,{className:"bg-white dark:bg-[#181818] pb-3",children:[o.jsx(qu,{className:"flex-1 min-w-0",children:"Edit personal information"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[o.jsx(oe,{type:"submit",form:"edit-personal-info-form",size:"sm",disabled:C,children:C?o.jsxs(o.Fragment,{children:[o.jsx(bs,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):"Save"}),o.jsx(oe,{type:"button",variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>t(!1),disabled:C,"aria-label":"Cancel",children:o.jsx(Nr,{className:"h-4 w-4"})})]})]}),o.jsx("form",{id:"edit-personal-info-form",onSubmit:D,className:"flex flex-col flex-1 min-h-0",children:o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:[R&&o.jsx("p",{className:"text-sm text-destructive font-medium",children:R}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"first_name",children:"First name"}),o.jsx(rt,{id:"first_name",value:s,onChange:P=>a(P.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"last_name",children:"Last name"}),o.jsx(rt,{id:"last_name",value:i,onChange:P=>l(P.target.value)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"email",children:"Email"}),o.jsx(rt,{id:"email",type:"email",value:c,onChange:P=>u(P.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"phone_number",children:"Phone number"}),o.jsx(rt,{id:"phone_number",value:d,onChange:P=>f(P.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"country_region",children:"Country / Region"}),o.jsx(rt,{id:"country_region",value:h,onChange:P=>g(P.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"city",children:"City"}),o.jsx(rt,{id:"city",value:v,onChange:P=>p(P.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Social links (optional)"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(De,{htmlFor:"github",children:"GitHub"}),o.jsx(rt,{id:"github",type:"url",placeholder:"https://github.com/username",value:y,onChange:P=>x(P.target.value)})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(De,{htmlFor:"linkedin",children:"LinkedIn"}),o.jsx(rt,{id:"linkedin",type:"url",placeholder:"https://linkedin.com/in/username",value:b,onChange:P=>w(P.target.value)})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(De,{htmlFor:"facebook",children:"Facebook"}),o.jsx(rt,{id:"facebook",type:"url",placeholder:"https://facebook.com/username",value:_,onChange:P=>S(P.target.value)})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(De,{htmlFor:"instagram",children:"Instagram"}),o.jsx(rt,{id:"instagram",type:"url",placeholder:"https://instagram.com/username",value:E,onChange:P=>k(P.target.value)})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(De,{htmlFor:"dribbble",children:"Dribbble"}),o.jsx(rt,{id:"dribbble",type:"url",placeholder:"https://dribbble.com/username",value:j,onChange:P=>N(P.target.value)})]})]})]})]})})]})})}function l_(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wO="Checkbox",[QUe,bGe]=ua(wO),[ZUe,e7e]=QUe(wO),uY=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,g]=m.useState(null),v=xt(t,_=>g(_)),p=m.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,b]=ci({prop:s,defaultProp:a,onChange:u}),w=m.useRef(x);return m.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const S=()=>b(w.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[h,b]),o.jsxs(ZUe,{scope:r,state:x,disabled:l,children:[o.jsx(ct.button,{type:"button",role:"checkbox","aria-checked":rc(x)?"mixed":x,"aria-required":i,"data-state":hY(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onKeyDown:We(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:We(e.onClick,_=>{b(S=>rc(S)?!0:!S),y&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})}),y&&o.jsx(t7e,{control:h,bubbles:!p.current,name:n,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:rc(a)?!1:a})]})});uY.displayName=wO;var dY="CheckboxIndicator",fY=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=e7e(dY,r);return o.jsx(Ss,{present:n||rc(a.state)||a.state===!0,children:o.jsx(ct.span,{"data-state":hY(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});fY.displayName=dY;var t7e=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...a}=e,i=m.useRef(null),l=l_(r),c=Rw(t);m.useEffect(()=>{const d=i.current,f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&g){const v=new Event("click",{bubbles:n});d.indeterminate=rc(r),g.call(d,rc(r)?!1:r),d.dispatchEvent(v)}},[l,r,n]);const u=m.useRef(rc(r)?!1:r);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function rc(e){return e==="indeterminate"}function hY(e){return rc(e)?"indeterminate":e?"checked":"unchecked"}var pY=uY,r7e=fY;const qn=m.forwardRef(({className:e,...t},r)=>o.jsx(pY,{ref:r,className:le("peer h-4 w-4 shrink-0 rounded-[2px] border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:border-primary dark:data-[state=checked]:bg-primary dark:data-[state=checked]:border-primary",e),...t,children:o.jsx(r7e,{className:le("flex items-center justify-center text-white"),children:o.jsx(uA,{className:"h-4 w-4 text-white"})})}));qn.displayName=pY.displayName;const vF=[{value:"High School",label:"High School"},{value:"Diploma / Certificate",label:"Diploma / Certificate"},{value:"Associate",label:"Associate"},{value:"Bachelor's",label:"Bachelor's"},{value:"Master's",label:"Master's"},{value:"MBA",label:"MBA"},{value:"Doctorate (PhD)",label:"Doctorate (PhD)"},{value:"Bootcamp / Short Program",label:"Bootcamp / Short Program"},{value:"Other",label:"Other"}];function n7e({value:e,onChange:t}){var i;const[r,n]=m.useState(!1),s=m.useRef(null);m.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&n(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const a=(i=vF.find(l=>l.value===e))==null?void 0:i.label;return o.jsxs("div",{ref:s,className:"relative",children:[o.jsxs("button",{type:"button",onClick:()=>n(!r),className:le("flex h-[3.2rem] w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-base md:text-sm","focus:outline-none focus:ring-0 disabled:cursor-not-allowed disabled:opacity-50",r&&"bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600",!a&&"text-muted-foreground"),children:[o.jsx("span",{className:"truncate",children:a||"Select degree type"}),o.jsx(Fo,{className:"h-4 w-4 shrink-0 opacity-50"})]}),r&&o.jsx("ul",{className:"absolute z-50 mt-1 w-full space-y-1 rounded-lg border border-gray-200 bg-white p-2 shadow-lg max-h-48 overflow-y-auto dark:border-gray-700 dark:bg-[#242424]",role:"listbox",children:vF.map(l=>o.jsx("li",{role:"option","aria-selected":e===l.value,className:le("cursor-pointer select-none rounded-md px-3 py-2.5 text-base md:text-sm","hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-gray-100",e===l.value&&"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-gray-100"),onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),t(l.value),n(!1)},children:l.label},l.value))})]})}function s7e(e){return{id:e.id,school_name:e.school_name??"",major:e.major??"",degree_type:e.degree_type??"",gpa:e.gpa??"",start_date:e.start_date??"",end_date:e.is_current?"":e.end_date??"",is_current:e.is_current??!1}}function a7e({open:e,onOpenChange:t,entries:r,onSave:n}){const[s,a]=m.useState([]),[i,l]=m.useState(!1),[c,u]=m.useState(null);m.useEffect(()=>{e&&(a(r.length?r.map(s7e):[]),u(null))},[e,r]);const d=()=>{s.length>=10||a(p=>[...p,{id:null,school_name:"",major:"",degree_type:"",gpa:"",start_date:"",end_date:"",is_current:!1}])},f=(p,y,x)=>{a(b=>{const w=[...b];return w[p][y]=x,y==="is_current"&&x===!0&&(w[p].end_date=""),w})},h=p=>{a(y=>y.filter((x,b)=>b!==p))},g=()=>{for(let p=0;p<s.length;p++){const y=s[p];if(!y.school_name.trim())return"School name is required for all entries.";if(!y.start_date.trim())return"Start date is required for all entries.";if(!y.is_current&&y.end_date&&y.start_date>y.end_date)return"Start date must be before or equal to end date."}return null},v=async p=>{p.preventDefault();const y=g();if(y){u(y);return}u(null),l(!0);try{const x=[],b=[],w=[];for(const S of s){const E={school_name:S.school_name.trim(),major:S.major.trim()||void 0,degree_type:S.degree_type.trim()||void 0,gpa:S.gpa.trim()||void 0,start_date:S.start_date,end_date:S.is_current?void 0:S.end_date.trim()||void 0,is_current:S.is_current};S.id==null?x.push(E):b.push({id:S.id,payload:E})}const _=new Set(r.map(S=>S.id));for(const S of r)s.some(E=>E.id===S.id)||w.push(S.id);await n(x,b,w),t(!1)}catch(x){const b=x&&typeof x=="object"&&"message"in x?String(x.message):"Could not save";u(b)}finally{l(!1)}};return o.jsx(ph,{open:e,onOpenChange:t,children:o.jsxs(Uu,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(zu,{className:"bg-white dark:bg-[#181818] pb-3",children:[o.jsx(qu,{className:"flex-1 min-w-0",children:"Edit education"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[o.jsx(oe,{type:"submit",form:"edit-education-form",size:"sm",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(bs,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):"Save"}),o.jsx(oe,{type:"button",variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>t(!1),disabled:i,"aria-label":"Cancel",children:o.jsx(Nr,{className:"h-4 w-4"})})]})]}),o.jsx("form",{id:"edit-education-form",onSubmit:v,className:"flex flex-col flex-1 min-h-0",children:o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:[c&&o.jsx("p",{className:"text-sm text-destructive font-medium",children:c}),o.jsx("div",{className:"space-y-4",children:s.map((p,y)=>o.jsxs("div",{className:"p-4 rounded-lg space-y-3 bg-gray-100 dark:bg-[#242424]",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm font-medium",children:["Education ",y+1]}),o.jsx(oe,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>h(y),"aria-label":`Remove education ${y+1}`,children:o.jsx(hu,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"School name"}),o.jsx(rt,{value:p.school_name,onChange:x=>f(y,"school_name",x.target.value),placeholder:"University or school name"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Major"}),o.jsx(rt,{value:p.major,onChange:x=>f(y,"major",x.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Degree type"}),o.jsx(n7e,{value:p.degree_type,onChange:x=>f(y,"degree_type",x)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"GPA (optional)"}),o.jsx(rt,{value:p.gpa,onChange:x=>f(y,"gpa",x.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Start date"}),o.jsx(rt,{type:"date",value:p.start_date,onChange:x=>f(y,"start_date",x.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"End date"}),o.jsx(rt,{type:"date",value:p.end_date,onChange:x=>f(y,"end_date",x.target.value),disabled:p.is_current})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qn,{id:`current-${y}`,checked:p.is_current,onCheckedChange:x=>f(y,"is_current",x===!0)}),o.jsx(De,{htmlFor:`current-${y}`,className:"cursor-pointer",children:"Currently studying here"})]})]},p.id??`new-${y}`))}),s.length<10&&o.jsxs(oe,{type:"button",variant:"outline",onClick:d,className:"w-full",children:[o.jsx(Ww,{className:"h-4 w-4 mr-2"}),"Add education"]})]})})]})})}const xF=[{value:"Full time",label:"Full time"},{value:"Part time",label:"Part time"},{value:"Contract",label:"Contract"},{value:"Internship",label:"Internship"}];function i7e({value:e,onChange:t}){var i;const[r,n]=m.useState(!1),s=m.useRef(null);m.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&n(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const a=(i=xF.find(l=>l.value===e))==null?void 0:i.label;return o.jsxs("div",{ref:s,className:"relative",children:[o.jsxs("button",{type:"button",onClick:()=>n(!r),className:le("flex h-[3.2rem] w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-base md:text-sm","focus:outline-none focus:ring-0 disabled:cursor-not-allowed disabled:opacity-50",r&&"bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600",!a&&"text-muted-foreground"),children:[o.jsx("span",{className:"truncate",children:a||"Select job type"}),o.jsx(Fo,{className:"h-4 w-4 shrink-0 opacity-50"})]}),r&&o.jsx("ul",{className:"absolute z-50 mt-1 w-full space-y-1 rounded-lg border border-gray-200 bg-white p-2 shadow-lg max-h-48 overflow-y-auto dark:border-gray-700 dark:bg-[#242424]",role:"listbox",children:xF.map(l=>o.jsx("li",{role:"option","aria-selected":e===l.value,className:le("cursor-pointer select-none rounded-md px-3 py-2.5 text-base md:text-sm","hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-gray-100",e===l.value&&"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-gray-100"),onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),t(l.value),n(!1)},children:l.label},l.value))})]})}const o7e="https://nominatim.openstreetmap.org/search",l7e=400,Rj=3;function c7e(e){const t=e.address;if(!t)return e.display_name||"";const r=t.city||t.town||t.village||t.state||"",n=t.country||"";return r&&n?`${r}, ${n}`:n||e.display_name||""}function u7e({value:e,onChange:t,placeholder:r}){const[n,s]=m.useState([]),[a,i]=m.useState(!1),[l,c]=m.useState(!1),u=m.useRef(null),d=m.useRef(null),f=m.useCallback(async h=>{if(h.length<Rj){s([]);return}i(!0);try{const g=new URLSearchParams({q:h,format:"json",addressdetails:"1",limit:"8"}),y=(await(await fetch(`${o7e}?${g}`,{headers:{Accept:"application/json","User-Agent":"BreneoApp/1.0 (Work Experience Location)"}})).json()).map(x=>c7e(x));s(y),c(!0)}catch{s([])}finally{i(!1)}},[]);return m.useEffect(()=>{u.current&&clearTimeout(u.current);const h=e.trim();if(h.length<Rj){s([]),c(!1);return}return u.current=setTimeout(()=>f(h),l7e),()=>{u.current&&clearTimeout(u.current)}},[e,f]),m.useEffect(()=>{const h=g=>{const v=g.target;d.current&&!d.current.contains(v)&&c(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]),o.jsxs("div",{ref:d,className:"relative",children:[o.jsxs("div",{className:le("flex h-[3.2rem] w-full items-center rounded-md border border-input bg-background px-3 py-2","focus-within:outline-none focus-within:ring-0",l&&"bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600"),children:[o.jsx("input",{value:e,onChange:h=>t(h.target.value),onFocus:()=>e.trim().length>=Rj&&c(!0),placeholder:r,className:"flex-1 min-w-0 bg-transparent text-base md:text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-0"}),o.jsx(Fo,{className:"h-4 w-4 shrink-0 opacity-50 text-muted-foreground"})]}),l&&(n.length>0||a)&&o.jsxs("ul",{className:"absolute z-50 mt-1 w-full space-y-1 rounded-lg border border-gray-200 bg-white p-2 shadow-lg max-h-48 overflow-auto dark:border-gray-700 dark:bg-[#242424]",role:"listbox",children:[a&&o.jsxs("li",{className:"flex items-center gap-2 rounded-md px-3 py-2.5 text-base md:text-sm text-muted-foreground",children:[o.jsx(bs,{className:"h-4 w-4 animate-spin"}),"Searching..."]}),!a&&n.map((h,g)=>o.jsx("li",{role:"option",className:"cursor-pointer select-none rounded-md px-3 py-2.5 text-base md:text-sm hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-gray-100",onMouseDown:v=>{v.preventDefault(),v.stopPropagation(),t(h),c(!1)},children:h},`${h}-${g}`))]})]})}function d7e(e){return{id:e.id,job_title:e.job_title??"",company:e.company??"",job_type:e.job_type??"",location:e.location??"",start_date:e.start_date??"",end_date:e.is_current?"":e.end_date??"",is_current:e.is_current??!1}}function f7e({open:e,onOpenChange:t,entries:r,onSave:n}){const[s,a]=m.useState([]),[i,l]=m.useState(!1),[c,u]=m.useState(null);m.useEffect(()=>{e&&(a(r.length?r.map(d7e):[]),u(null))},[e,r]);const d=()=>{s.length>=10||a(p=>[...p,{id:null,job_title:"",company:"",job_type:"",location:"",start_date:"",end_date:"",is_current:!1}])},f=(p,y,x)=>{a(b=>{const w=[...b];return w[p][y]=x,y==="is_current"&&x===!0&&(w[p].end_date=""),w})},h=p=>{a(y=>y.filter((x,b)=>b!==p))},g=()=>{for(const p of s){if(!p.job_title.trim())return"Job title is required for all entries.";if(!p.company.trim())return"Company is required for all entries.";if(!p.job_type.trim())return"Job type is required for all entries.";if(!p.location.trim())return"Location is required for all entries.";if(!p.start_date.trim())return"Start date is required for all entries.";if(!p.is_current&&p.end_date&&p.start_date>p.end_date)return"Start date must be before or equal to end date."}return null},v=async p=>{p.preventDefault();const y=g();if(y){u(y);return}u(null),l(!0);try{const x=[],b=[],w=[];for(const _ of s){const S={job_title:_.job_title.trim(),company:_.company.trim(),job_type:_.job_type.trim()||null,location:_.location.trim()||null,start_date:_.start_date,end_date:_.is_current?void 0:_.end_date.trim()||void 0,is_current:_.is_current};_.id==null?x.push(S):b.push({id:_.id,payload:S})}for(const _ of r)s.some(S=>S.id===_.id)||w.push(_.id);await n(x,b,w),t(!1)}catch(x){const b=x&&typeof x=="object"&&"message"in x?String(x.message):"Could not save";u(b)}finally{l(!1)}};return o.jsx(ph,{open:e,onOpenChange:t,children:o.jsxs(Uu,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(zu,{className:"bg-white dark:bg-[#181818] pb-3",children:[o.jsx(qu,{className:"flex-1 min-w-0",children:"Edit work experience"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[o.jsx(oe,{type:"submit",form:"edit-work-experience-form",size:"sm",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(bs,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):"Save"}),o.jsx(oe,{type:"button",variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>t(!1),disabled:i,"aria-label":"Cancel",children:o.jsx(Nr,{className:"h-4 w-4"})})]})]}),o.jsx("form",{id:"edit-work-experience-form",onSubmit:v,className:"flex flex-col flex-1 min-h-0",children:o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:[c&&o.jsx("p",{className:"text-sm text-destructive font-medium",children:c}),o.jsx("div",{className:"space-y-4",children:s.map((p,y)=>o.jsxs("div",{className:"p-4 rounded-lg space-y-3 bg-gray-100 dark:bg-[#242424]",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm font-medium",children:["Work experience ",y+1]}),o.jsx(oe,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>h(y),"aria-label":`Remove work experience ${y+1}`,children:o.jsx(hu,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Job title"}),o.jsx(rt,{value:p.job_title,onChange:x=>f(y,"job_title",x.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Company"}),o.jsx(rt,{value:p.company,onChange:x=>f(y,"company",x.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Job type"}),o.jsx(i7e,{value:p.job_type,onChange:x=>f(y,"job_type",x)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Location"}),o.jsx(u7e,{value:p.location,onChange:x=>f(y,"location",x),placeholder:"e.g. Tbilisi, Georgia"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Start date"}),o.jsx(rt,{type:"date",value:p.start_date,onChange:x=>f(y,"start_date",x.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"End date"}),o.jsx(rt,{type:"date",value:p.end_date,onChange:x=>f(y,"end_date",x.target.value),disabled:p.is_current})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qn,{id:`current-we-${y}`,checked:p.is_current,onCheckedChange:x=>f(y,"is_current",x===!0)}),o.jsx(De,{htmlFor:`current-we-${y}`,className:"cursor-pointer",children:"I currently work here"})]})]},p.id??`new-${y}`))}),s.length<10&&o.jsxs(oe,{type:"button",variant:"outline",onClick:d,className:"w-full",children:[o.jsx(Ww,{className:"h-4 w-4 mr-2"}),"Add work experience"]})]})})]})})}const bF=3,h7e=250;function p7e({open:e,onOpenChange:t,skills:r,onAddSkill:n,onRemoveSkill:s,onRefresh:a}){const[i,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(null),[h,g]=m.useState(null),[v,p]=m.useState([]),[y,x]=m.useState(!1),b=m.useRef(null),w=new Set(r.map(N=>N.skill_name.toLowerCase())),_=m.useCallback(async N=>{const C=(N??i.trim()).trim();if(C){g(null),u(!0),p([]);try{await n(C),l(""),a()}catch{g("Could not add skill")}finally{u(!1)}}},[i,n,a]),S=N=>{N.key==="Enter"&&(N.preventDefault(),_())},E=m.useCallback(async N=>{await _(N.name)},[_]),k=m.useCallback(async N=>{g(null),f(N);try{await s(N),a()}catch{g("Could not remove skill")}finally{f(null)}},[s,a]);m.useEffect(()=>{const N=i.trim();if(N.length<bF){p([]),b.current&&(clearTimeout(b.current),b.current=null);return}return b.current&&clearTimeout(b.current),b.current=setTimeout(async()=>{b.current=null,x(!0);try{const C=await bn.searchSkills(N);p(C)}catch{p([])}finally{x(!1)}},h7e),()=>{b.current&&clearTimeout(b.current)}},[i]);const j=v.filter(N=>!w.has(N.name.toLowerCase()));return o.jsx(ph,{open:e,onOpenChange:t,children:o.jsxs(Uu,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(zu,{className:"bg-white dark:bg-[#181818] pb-3 border-b border-gray-200 dark:border-gray-700",children:[o.jsx(qu,{className:"flex-1 min-w-0",children:"Edit skills"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[o.jsx(oe,{type:"button",size:"sm",onClick:()=>t(!1),children:"Done"}),o.jsx(oe,{type:"button",variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>t(!1),"aria-label":"Close",children:o.jsx(Nr,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"flex flex-col flex-1 min-h-0",children:o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:[h&&o.jsx("p",{className:"text-sm text-destructive font-medium",children:h}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(rt,{placeholder:"Search or type a skill (e.g. React, Figma)",value:i,onChange:N=>l(N.target.value),onKeyDown:S,disabled:c}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Press Enter to add a skill."}),i.trim().length>=bF&&o.jsx("div",{className:"relative",children:y?o.jsxs("div",{className:"flex items-center gap-2 py-2 text-sm text-muted-foreground",children:[o.jsx(bs,{className:"h-4 w-4 animate-spin"}),"Loading suggestions"]}):j.length>0?o.jsx("ul",{className:"absolute z-10 mt-1 w-full max-h-48 overflow-y-auto rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-lg py-1",children:j.map(N=>o.jsx("li",{children:o.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-800 focus:bg-gray-100 dark:focus:bg-gray-800 outline-none",onClick:()=>E(N),children:N.name})},N.id))}):null})]}),o.jsx("div",{className:"flex flex-wrap gap-2 min-h-[2rem]",children:r.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills yet. Type above and press Enter to add one."}):r.map(N=>o.jsxs(Pt,{variant:"outline",className:"inline-flex items-center gap-1 capitalize px-3 py-1.5 text-xs rounded-[10px] bg-gray-100 text-gray-600 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700",children:[N.skill_name,o.jsx("button",{type:"button",className:"ml-1 rounded-full p-0.5 hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",onClick:()=>k(N.skill_id),disabled:d===N.skill_id,"aria-label":`Remove ${N.skill_name}`,children:d===N.skill_id?o.jsx(bs,{className:"h-3 w-3 animate-spin"}):o.jsx(Nr,{className:"h-3 w-3"})})]},N.id))})]})})]})})}const m7e=[{keywords:["ui/ux designer","ui ux designer","ux designer","ui designer","ux/ui","product designer","graphic designer","web designer","designer"],industries:["design"]},{keywords:["software engineer","software developer","developer","frontend","front-end","backend","back-end","fullstack","full stack","engineer","programmer","devops","sre"],industries:["technology"]},{keywords:["data scientist","data analyst","analytics","machine learning","ml engineer","ai engineer"],industries:["technology"]},{keywords:["product manager","pm ","product owner","product lead"],industries:["technology"]},{keywords:["financial analyst","finance manager","banker","investment","risk analyst","compliance","accountant","cfo"],industries:["fintech","banking"]},{keywords:["payment","payments specialist"],industries:["payments","fintech"]},{keywords:["marketing manager","marketing specialist","digital marketing","growth lead","brand manager"],industries:["marketing"]},{keywords:["sales manager","sales representative","business development","bd "],industries:["sales"]},{keywords:["hr manager","hr specialist","recruiter","talent","people operations"],industries:["hr"]},{keywords:["customer success","customer support","support specialist","account manager"],industries:["customer service"]},{keywords:["nurse","doctor","physician","clinical","healthcare"],industries:["healthcare"]},{keywords:["e-commerce","ecommerce","retail manager","merchandising"],industries:["e-commerce","retail"]},{keywords:["consultant","consulting"],industries:["consulting"]},{keywords:["content writer","copywriter","content manager","editor"],industries:["content"]},{keywords:["qa engineer","quality assurance","test engineer","sdet"],industries:["technology"]}];function g7e(e){return e==null||typeof e!="string"?"":e.trim().toLowerCase().replace(/\s+/g," ")}function y7e(e){const t=g7e(e);if(!t)return[];const r=new Set;for(const{keywords:n,industries:s}of m7e)n.some(i=>t.includes(i)||t.includes(i.replace(/\s+/g," ")))&&s.forEach(i=>r.add(i));return[...r]}const v7e=10;function wF(e){if(e==null||typeof e!="string"||!e.trim())return null;const t=Date.parse(e.trim());return Number.isNaN(t)?null:t}function x7e(e,t,r){const n=wF(e);if(n==null)return 0;let s;if(t!=null&&String(t).trim()?s=wF(t)??Date.now():s=Date.now(),s<n)return 0;const a=(s-n)/(365.25*24*60*60*1e3);return Math.min(v7e,Math.max(0,a))}function b7e(e,t){const r={};for(const n of t){const s=n.jobTitle??"",a=y7e(s);if(a.length===0)continue;const i=x7e(n.startDate,n.endDate,n.is_current);if(!(i<=0))for(const l of a)r[l]=(r[l]??0)+i}return{userId:e,industryYearsJson:r,updatedAt:new Date().toISOString()}}function w7e(e){return{jobTitle:e.job_title,company:e.company??e.company_name,startDate:e.start_date,endDate:e.end_date,is_current:e.is_current}}async function _7e(e,t){var a;const r=t.map(w7e),n=b7e("",r),s={industry_years_json:n.industryYearsJson,updated_at:n.updatedAt};try{await Se.put(Ze.ME.INDUSTRY_PROFILE,s)}catch(i){if((i&&typeof i=="object"&&"response"in i?(a=i.response)==null?void 0:a.status:void 0)===405)await Se.patch(Ze.ME.INDUSTRY_PROFILE,s);else throw i}}const _F=e=>e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:`/${e}`:"/lovable-uploads/no_photo.png",S7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),j7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),k7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})}),E7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})}),N7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),C7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.921h-6.466v-14.921h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.015zm-3.466-8.921h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"})}),P7e=(e,t)=>{const r={className:t};switch(e){case"github":return o.jsx(S7e,{...r});case"linkedin":return o.jsx(j7e,{...r});case"facebook":return o.jsx(k7e,{...r});case"instagram":return o.jsx(E7e,{...r});case"dribbble":return o.jsx(N7e,{...r});case"behance":return o.jsx(C7e,{...r});default:return o.jsx(dA,{className:t})}},A7e=e=>{const t=[],r=[e.job_title||e.title||"",e.description||e.job_description||"",e.job_required_experience||e.required_experience||""].join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]};return Object.keys(n).forEach(s=>{n[s].some(i=>r.includes(i))&&t.push(s)}),[...new Set(t)]},T7e=()=>{var ge,Ke;const{user:e,loading:t,logout:r}=ir(),n=da(),s=rr(),a=Vs(),i=Ws();pi();const[l,c]=m.useState(null),[u,d]=m.useState(!1),[f,h]=m.useState(null),[g,v]=m.useState(!1),[p,y]=m.useState(null),[x,b]=m.useState(null),[w,_]=m.useState("profile"),[S,E]=m.useState("courses"),[k,j]=m.useState(!1),[N,C]=m.useState(Date.now());m.useEffect(()=>{const te=a.hash;te==="#saved"||te==="#savedjobs"||te==="#savedcourses"?(_("saved"),E(te==="#savedjobs"?"jobs":"courses")):_("profile")},[a.hash]),m.useEffect(()=>{e!=null&&e.profile_image&&b(e.profile_image)},[e==null?void 0:e.profile_image]);const[A,R]=m.useState(!1),[H,U]=m.useState(""),[D,B]=m.useState(!1),[L,T]=m.useState(!1),[q,I]=m.useState({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}),[P,W]=m.useState([]),[V,ee]=m.useState([]),[X,ne]=m.useState([]),[F,$]=m.useState(!1),[K,Y]=m.useState(!1),[se,Q]=m.useState(!1),[ae,re]=m.useState(!1),[pe,ve]=m.useState(!1),[Ie,et]=m.useState(!1),[Je,dt]=m.useState(!1),Ce=m.useRef(!1),ke=m.useRef(null),G=m.useRef(null),{data:ce=[]}=Wt({queryKey:["savedCourseIds",e==null?void 0:e.id],queryFn:async()=>{var te;if(!(e!=null&&e.id))return[];try{return(((te=(await Se.get(Ze.AUTH.PROFILE)).data)==null?void 0:te.saved_courses)||[]).map(Te=>String(Te))}catch(Ee){return console.error("Error fetching saved course IDs:",Ee),[]}},enabled:!!(e!=null&&e.id)}),{data:Ne=[],isLoading:qe}=Wt({queryKey:["savedCourses",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];try{const te=await Se.get(Ze.AUTH.PROFILE);let Ee=[];if(te.data&&typeof te.data=="object"){const ue=te.data;if(Array.isArray(ue.saved_courses))Ee=ue.saved_courses.map(Le=>String(Le));else if(ue.profile&&typeof ue.profile=="object"){const Le=ue.profile;Array.isArray(Le.saved_courses)&&(Ee=Le.saved_courses.map(ot=>String(ot)))}else if(ue.user&&typeof ue.user=="object"){const Le=ue.user;Array.isArray(Le.saved_courses)&&(Ee=Le.saved_courses.map(ot=>String(ot)))}}if(!Ee||Ee.length===0)return[];const we=Ee,{data:Te,error:Ye}=await Yt.from("courses").select("id, title, provider, category, level, duration, image, description, academy_id").in("id",we);if(Ye)return console.error("Error fetching course details from Supabase:",Ye),[];const gt=[...new Set((Te==null?void 0:Te.map(ue=>ue.academy_id).filter(ue=>!!ue))||[])],Ae=new Map;return gt.length>0&&await Promise.all(gt.map(async ue=>{try{const Le=await Se.get(`${Ze.ACADEMY.DETAIL}${ue}/`);if(Le.data){const ot=Le.data,vt=ot.profile_data||ot,Dt=(dr,Ht=vt)=>{const Yr=Ht[dr];return typeof Yr=="string"?Yr:void 0},Tt=Dt("logo_url",vt)||Dt("logoUrl",vt)||Dt("logo",vt)||Dt("logo_url",ot)||Dt("logoUrl",ot)||null;Ae.set(ue,Tt)}}catch{console.debug(`Could not fetch academy profile for ${ue}`),Ae.set(ue,null)}})),(Te||[]).map(ue=>{const Le=ue.academy_id&&Ae.has(ue.academy_id)&&Ae.get(ue.academy_id)||null;return{id:ue.id,title:ue.title||"",provider:ue.provider||"",category:ue.category||"",level:ue.level||"",duration:ue.duration||"",image:_F(ue.image),description:ue.description||"",academy_id:ue.academy_id||null,academy_logo:Le?_F(Le):null}})}catch(te){return console.error("Error fetching saved courses from API profile:",te),[]}},enabled:!!(e!=null&&e.id)}),Ve=oa({mutationFn:async te=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Se.post(`/api/save-course/${te}/`)},onMutate:async te=>{await i.cancelQueries({queryKey:["savedCourses",e==null?void 0:e.id]});const Ee=i.getQueryData(["savedCourses",e==null?void 0:e.id]);return i.setQueryData(["savedCourses",e==null?void 0:e.id],we=>{if(!we)return we;const Te=String(te);return we.includes(Te)?we.filter(Ye=>Ye!==Te):[...we,Te]}),{previousSavedCourses:Ee}},onError:(te,Ee,we)=>{we!=null&&we.previousSavedCourses&&(e!=null&&e.id)&&i.setQueryData(["savedCourses",e==null?void 0:e.id],we.previousSavedCourses),console.error("Error updating saved courses:",te),de.error("Failed to update saved courses. Please try again.")},onSuccess:(te,Ee)=>{i.invalidateQueries({queryKey:["savedCourses",e==null?void 0:e.id]}),i.invalidateQueries({queryKey:["profile"]});const we=i.getQueryData(["savedCourses",e==null?void 0:e.id]),Te=we==null?void 0:we.includes(String(Ee));de.success(Te?"Removed from saved courses.":"Course saved to your profile.")}}),{data:Re=[]}=Wt({queryKey:["savedJobIds",e==null?void 0:e.id],queryFn:async()=>{var te;if(!(e!=null&&e.id))return[];try{const we=((te=(await Se.get(Ze.AUTH.PROFILE)).data)==null?void 0:te.saved_jobs)||[];return Array.isArray(we)?we.map(Te=>{if(typeof Te=="string"||typeof Te=="number")return String(Te);if(Te&&typeof Te=="object"){const Ye=Te;if(Ye.id)return String(Ye.id);if(Ye.job_id)return String(Ye.job_id)}return null}).filter(Te=>Te!==null):[]}catch(Ee){return console.error("Error fetching saved job IDs:",Ee),[]}},enabled:!!(e!=null&&e.id)}),{data:it=[],isLoading:xe}=Wt({queryKey:["savedJobs",e==null?void 0:e.id,l],queryFn:async()=>{var te;if(!(e!=null&&e.id))return[];try{const we=((te=(await Se.get(Ze.AUTH.PROFILE)).data)==null?void 0:te.saved_jobs)||[];if(!Array.isArray(we)||we.length===0)return[];const Ye=we.map(Ae=>{if(typeof Ae=="string"||typeof Ae=="number")return String(Ae);if(Ae&&typeof Ae=="object"){const ue=Ae;if(ue.id)return String(ue.id);if(ue.job_id)return String(ue.job_id)}return null}).filter(Ae=>Ae!==null).map(async Ae=>{try{const ue=await a1(Ae);if(!ue)return null;const Le=ue.title||ue.job_title||ue.position||"Untitled Position",ot=ue.company_name||ue.employer_name||(typeof ue.company=="string"?ue.company:null)||"Unknown Company",vt=ue.job_city||ue.city||"",Dt=ue.job_state||ue.state||"",Tt=ue.job_country||ue.country||"",dr=ue.job_location||ue.location||[vt,Dt,Tt].filter(Boolean).join(", ")||"Location not specified",Ht=ue.employer_logo||ue.company_logo||ue.companyLogo||ue.logo_url||(typeof ue.company=="object"&&ue.company?ue.company.logo||ue.company.company_logo:void 0);let Yr="By agreement";const Jr=ue.job_min_salary||ue.min_salary,cn=ue.job_max_salary||ue.max_salary,tn=ue.job_salary_currency||ue.salary_currency||"$",Mt=ue.job_salary_period||ue.salary_period||"yearly";if(Jr&&cn&&typeof Jr=="number"&&typeof cn=="number"){const fr=Mt==="monthly"?"Monthly":"",Xr=Jr.toLocaleString(),is=cn.toLocaleString();["$","","","","",""].some(La=>tn.includes(La))?Yr=`${tn}${Xr} - ${tn}${is}${fr?`/${fr}`:""}`:Yr=`${Xr} - ${is} ${tn}${fr?`/${fr}`:""}`}else if(Jr&&typeof Jr=="number"){const fr=Jr.toLocaleString();Yr=["$","","","","",""].some(Bt=>tn.includes(Bt))?`${tn}${fr}+`:`${fr}+ ${tn}`}else ue.salary&&typeof ue.salary=="string"&&(Yr=ue.salary);const wt=ue.job_employment_type||ue.employment_type||ue.type||"FULLTIME",tt={FULLTIME:"Full time",PARTTIME:"Part time",CONTRACTOR:"Contract",INTERN:"Internship"}[wt]||wt||"Full time";let _t="On-site";ue.job_is_remote||ue.is_remote||ue.remote===!0?_t="Remote":Le!=null&&Le.toLowerCase().includes("hybrid")&&(_t="Hybrid");let nr=0;if(l!=null&&l.skills_json){const fr=l.skills_json.tech||{},Xr=l.skills_json.soft||{},is=[...Object.keys(fr),...Object.keys(Xr)],Bt=A7e(ue);nr=fye(is,Bt,Le)}return{id:Ae,title:Le,company:ot,location:typeof dr=="string"?dr:"Location not specified",url:ue.url||"",company_logo:Ht,salary:Yr,employment_type:tt,work_arrangement:_t,matchPercentage:nr}}catch(ue){return console.error(`Error fetching job detail for ID ${Ae}:`,ue),null}});return(await Promise.all(Ye)).filter(Ae=>Ae!==null&&Ae.title!==`Job ${Ae.id}`)}catch(Ee){return console.error("Error fetching saved jobs:",Ee),[]}},enabled:!!(e!=null&&e.id)}),Pe=oa({mutationFn:async te=>{if(!(e!=null&&e.id))throw new Error("Please log in to save jobs.");await Se.post(`${Ze.JOBS.SAVE_JOB}${te}/`)},onMutate:async te=>{await i.cancelQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),await i.cancelQueries({queryKey:["savedJobs",e==null?void 0:e.id]});const Ee=i.getQueryData(["savedJobIds",e==null?void 0:e.id]);return i.setQueryData(["savedJobIds",e==null?void 0:e.id],we=>{if(!we)return we;const Te=String(te);return we.includes(Te)?we.filter(Ye=>Ye!==Te):[...we,Te]}),{previousSavedJobIds:Ee}},onError:(te,Ee,we)=>{we!=null&&we.previousSavedJobIds&&(e!=null&&e.id)&&i.setQueryData(["savedJobIds",e==null?void 0:e.id],we.previousSavedJobIds),console.error("Error updating saved jobs:",te),de.error("Failed to update saved jobs. Please try again.")},onSuccess:(te,Ee)=>{i.invalidateQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),i.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),i.invalidateQueries({queryKey:["profile"]});const we=i.getQueryData(["savedJobIds",e==null?void 0:e.id]),Te=we==null?void 0:we.includes(String(Ee));de.success(Te?"Removed from saved jobs.":"Job saved to your profile.")}}),Z=M.useMemo(()=>{const te=(Te,Ye)=>{if(Te&&typeof Te=="object")return Te[Ye]},Ee=f;return[te(Ee,"phone_verified"),te(Ee,"is_phone_verified"),te(te(Ee,"profile"),"phone_verified"),te(te(Ee,"profile"),"is_phone_verified"),te(te(Ee,"user"),"phone_verified"),te(te(Ee,"user"),"is_phone_verified"),te(e,"phone_verified"),te(e,"is_phone_verified")].some(Te=>Te===!0||Te==="true")},[f,e]);m.useEffect(()=>{(async()=>{if(e){d(!0);try{const Ee=await Se.get(`/api/skilltest/results/?user=${e.id}`);Array.isArray(Ee.data)&&Ee.data.length>0?c(Ee.data[0]):Ee.data&&typeof Ee.data=="object"&&c(Ee.data)}catch{c(null)}finally{d(!1)}}})()},[e]),m.useEffect(()=>{},[l]),m.useEffect(()=>{(async()=>{var we,Te,Ye,gt,Ae,ue,Le,ot,vt,Dt,Tt,dr,Ht,Yr,Jr,cn,tn,Mt,wt,It,tt;if(!e)return;v(!0);const Ee=localStorage.getItem("authToken");try{const _t=Ee?{Authorization:`Bearer ${Ee}`}:{},jt=await Se.get(Ze.AUTH.PROFILE,{headers:_t});if(!jt.data){console.warn(" No data in response"),h(null),y(null),b(null);return}h(jt.data),(we=jt.data)!=null&&we.profile,(Te=jt.data)!=null&&Te.user;const nr=((Ye=jt.data)==null?void 0:Ye.about_me)||((Ae=(gt=jt.data)==null?void 0:gt.profile)==null?void 0:Ae.about_me)||((Le=(ue=jt.data)==null?void 0:ue.user)==null?void 0:Le.about_me)||null;y(nr),U(nr||"");const fr=((ot=jt.data)==null?void 0:ot.profile_image)||((Dt=(vt=jt.data)==null?void 0:vt.profile)==null?void 0:Dt.profile_image)||((dr=(Tt=jt.data)==null?void 0:Tt.user)==null?void 0:dr.profile_image)||null;b(fr);const Xr=((Ht=jt.data)==null?void 0:Ht.social_links)||((Jr=(Yr=jt.data)==null?void 0:Yr.profile)==null?void 0:Jr.social_links)||((tn=(cn=jt.data)==null?void 0:cn.user)==null?void 0:tn.social_links)||((Mt=jt.data)==null?void 0:Mt.social_networks)||((It=(wt=jt.data)==null?void 0:wt.profile)==null?void 0:It.social_networks)||null;Xr&&typeof Xr=="object"&&I({github:Xr.github||"",linkedin:Xr.linkedin||"",facebook:Xr.facebook||"",instagram:Xr.instagram||"",dribbble:Xr.dribbble||"",behance:Xr.behance||""}),Object.entries(jt.data||{}).forEach(([is,Bt])=>{is!=="profile"&&is!=="user"&&console.log(`  - ${is}:`,Bt)})}catch(_t){(_t&&typeof _t=="object"&&"response"in _t?(tt=_t.response)==null?void 0:tt.status:void 0)===401?console.warn("Profile request unauthorized (401). Session may have expired."):console.error("Error fetching profile data:",_t),h(null),y(null),b(null)}finally{v(!1)}})()},[e]);const J=async()=>{if(e!=null&&e.id){$(!0);try{const te=await bn.getEducations();W(Array.isArray(te)?te:[])}catch{W([])}finally{$(!1)}}},fe=async()=>{if(e!=null&&e.id){Y(!0);try{const te=await bn.getWorkExperiences();ee(Array.isArray(te)?te:[])}catch{ee([])}finally{Y(!1)}}},Fe=async()=>{if(e!=null&&e.id){Q(!0);try{const te=await bn.getMySkills();ne(Array.isArray(te)?te:[])}catch{ne([])}finally{Q(!1)}}};m.useEffect(()=>{e!=null&&e.id&&(J(),fe(),Fe())},[e==null?void 0:e.id]),m.useEffect(()=>{var Ee,we,Te;if(!e||Ce.current)return;const te=f?JSON.stringify({social_links:f.social_links,profile_social_links:f.profile&&typeof f.profile=="object"&&"social_links"in f.profile?f.profile.social_links:void 0,user_social_links:f.user&&typeof f.user=="object"&&"social_links"in f.user?f.user.social_links:void 0}):null;if(G.current!==te){G.current=te;try{if(f){const Ye=(f==null?void 0:f.social_links)||((Ee=f.profile)==null?void 0:Ee.social_links)||((we=f.user)==null?void 0:we.social_links)||(f==null?void 0:f.social_networks)||((Te=f.profile)==null?void 0:Te.social_networks)||null;if(Ye&&typeof Ye=="object"){const gt={github:Ye.github||"",linkedin:Ye.linkedin||"",facebook:Ye.facebook||"",instagram:Ye.instagram||"",dribbble:Ye.dribbble||"",behance:Ye.behance||""};console.log(" Setting social links to:",gt),I(Ae=>Object.keys(gt).some(Le=>Ae[Le]!==gt[Le])?gt:Ae)}else console.log(" No social links found in profile data"),I(gt=>Object.values(gt).some(ue=>ue&&ue.trim()!=="")?(console.log(" Keeping existing social links:",gt),gt):{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}else console.log(" Profile data not loaded yet"),I(Ye=>Object.values(Ye).some(Ae=>Ae&&Ae.trim()!=="")?Ye:{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}catch(Ye){console.error(" Error extracting social links from profile:",Ye),I(gt=>Object.values(gt).some(ue=>ue&&ue.trim()!=="")?gt:{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}}},[e==null?void 0:e.id,f]),m.useEffect(()=>{const te=ke;return()=>{te.current&&clearTimeout(te.current)}},[]);const{first_name:Ge,last_name:$e,email:he,phone_number:_e}=e||{};if(cY({phoneNumber:_e||"",ownerId:e==null?void 0:e.id,role:e==null?void 0:e.user_type,initiallyVerified:Z}),t)return o.jsx(At,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Loading profile..."})})});if(!e)return o.jsx(At,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Could not load user data. Please try logging in again."})})});const Be=async te=>{var we,Te,Ye,gt,Ae,ue;const Ee=(we=te.target.files)==null?void 0:we[0];if(Ee){if(!Ee.type.startsWith("image/")){alert("Please select an image file");return}if(Ee.size>5*1024*1024){alert("Image size should be less than 5MB");return}j(!0),b(null);try{const Le=new FormData;Le.append("profile_image",Ee);const ot=localStorage.getItem("authToken"),vt=await Se.patch("/api/profile/",Le,{headers:{Authorization:ot?`Bearer ${ot}`:void 0,"Content-Type":"multipart/form-data"}});console.log(" Image upload response:",vt.data);const Dt=((Te=vt.data)==null?void 0:Te.profile_image)||((gt=(Ye=vt.data)==null?void 0:Ye.profile)==null?void 0:gt.profile_image)||((ue=(Ae=vt.data)==null?void 0:Ae.user)==null?void 0:ue.profile_image)||null;b(Dt),C(Date.now()),de.success("Profile image has been updated successfully."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image uploaded successfully")}catch(Le){console.error(" Error uploading profile image:",Le),alert("Failed to upload profile image. Please try again.")}finally{j(!1)}}},He=()=>{T(!0)},Ue=()=>{var te;(te=document.getElementById("profile-image-input"))==null||te.click(),T(!1)},bt=async()=>{if(e){if(!confirm("Are you sure you want to remove your profile image?")){T(!1);return}j(!0),T(!1);try{const te=localStorage.getItem("authToken"),Ee=await Se.patch("/api/profile/",{profile_image:null},{headers:{Authorization:te?`Bearer ${te}`:void 0}});console.log(" Image removal response:",Ee.data),b(null),C(Date.now());const we=await Se.get("/api/profile/",{headers:{Authorization:te?`Bearer ${te}`:void 0}});h(we.data),de.success("Profile image has been removed."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image removed successfully")}catch(te){console.error(" Error removing profile image:",te),de.error("Failed to remove profile image. Please try again.")}finally{j(!1)}}},je=()=>{U(p||""),R(!0)},ft=async te=>{await bn.updateProfile(te);const we=(await Se.get(Ze.AUTH.PROFILE)).data,Te=we==null?void 0:we.profile,Ye=we==null?void 0:we.user;if(h(we),y((we==null?void 0:we.about_me)??(Te==null?void 0:Te.about_me)??(Ye==null?void 0:Ye.about_me)),b((we==null?void 0:we.profile_image)??(Te==null?void 0:Te.profile_image)??(Ye==null?void 0:Ye.profile_image)),we!=null&&we.social_links&&typeof we.social_links=="object"){const gt=we.social_links;I({github:gt.github??"",linkedin:gt.linkedin??"",facebook:gt.facebook??"",instagram:gt.instagram??"",dribbble:gt.dribbble??"",behance:gt.behance??""})}de.success("Profile updated.")},$t=async(te,Ee,we)=>{for(const Te of te)await bn.createEducation(Te);for(const{id:Te,payload:Ye}of Ee)await bn.updateEducation(Te,Ye);for(const Te of we)await bn.deleteEducation(Te);await J(),de.success("Education updated.")},Ut=async(te,Ee,we)=>{var Ye;for(const gt of te)await bn.createWorkExperience(gt);for(const{id:gt,payload:Ae}of Ee)await bn.updateWorkExperience(gt,Ae);for(const gt of we)await bn.deleteWorkExperience(gt);const Te=await bn.getWorkExperiences().catch(()=>[]);if(ee(Array.isArray(Te)?Te:[]),e!=null&&e.id)try{await _7e(String(e.id),Array.isArray(Te)?Te:[])}catch(gt){const Ae=gt&&typeof gt=="object"&&"response"in gt?(Ye=gt.response)==null?void 0:Ye.status:void 0;console.error("[Industry profile] refresh failed:",Ae,gt),Ae===404?console.warn("[Industry profile] 404  is PUT /api/me/industry-profile/ registered in Django?"):Ae===401&&console.warn("[Industry profile] 401  auth token may be missing or invalid.")}de.success("Work experience updated.")},St=async()=>{if(e){B(!0);try{const te=localStorage.getItem("authToken"),Ee=await Se.patch("/api/profile/",{about_me:H},{headers:{Authorization:te?`Bearer ${te}`:void 0}});console.log(" About Me updated:",Ee.data),y(H);const we=await Se.get("/api/profile/",{headers:{Authorization:te?`Bearer ${te}`:void 0}});h(we.data),R(!1),de.success("About Me has been updated successfully.")}catch(te){console.error(" Error updating about me:",te),de.error("Failed to update About Me. Please try again.")}finally{B(!1)}}},Jt=x||(e==null?void 0:e.profile_image),O=()=>{var Ye,gt;if(!(l!=null&&l.skills_json))return console.log(" No skills_json in results"),[];const te=((Ye=l==null?void 0:l.skills_json)==null?void 0:Ye.tech)||{},Ee=((gt=l==null?void 0:l.skills_json)==null?void 0:gt.soft)||{};return[...Object.entries(te).map(([Ae,ue])=>({name:Ae,percentage:parseFloat(String(ue).replace("%","")),type:"tech"})),...Object.entries(Ee).map(([Ae,ue])=>({name:Ae,percentage:parseFloat(String(ue).replace("%","")),type:"soft"}))].filter(Ae=>Ae.percentage>0).sort((Ae,ue)=>ue.percentage-Ae.percentage).slice(0,5)},z=(te,Ee)=>{if(!te||typeof te!="object"||Array.isArray(te))return null;const we="#19B5FE",Te=Object.entries(te).filter(([ue,Le])=>parseFloat(String(Le).replace("%",""))>0).map(([ue,Le],ot)=>{const vt=parseFloat(String(Le).replace("%",""));let Dt;vt>=40?Dt=1:Dt=.3+vt/40*.7;const Tt=String(ue).replace(/\s+/g,"-").slice(0,30),dr=`skill-${ot}-${Tt}`,Ht=`gradient-primary-${dr}`;return{id:dr,skill:ue,percentage:vt,displayPct:Le,fill:we,opacity:Dt,gradientId:Ht}}).sort((ue,Le)=>Le.percentage-ue.percentage);if(Te.length===0)return o.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No skills data available"});const Ye={percentage:{label:"Percentage"}},gt=ue=>{const{x:Le,y:ot,width:vt,height:Dt,payload:Tt,value:dr}=ue;let Ht="";typeof dr=="string"?Ht=dr:dr&&typeof dr=="object"&&"name"in dr?Ht=String(dr.name||""):Tt!=null&&Tt.skill&&(Ht=Tt.skill);const Yr=typeof Le=="number"?Le:typeof Le=="string"?parseFloat(Le):0,Jr=typeof ot=="number"?ot:typeof ot=="string"?parseFloat(ot):0,cn=typeof vt=="number"?vt:typeof vt=="string"?parseFloat(vt):0,tn=typeof Dt=="number"?Dt:typeof Dt=="string"?parseFloat(Dt):0;if(!Yr||!Jr||!cn||!tn||!Ht)return null;const Mt=Yr+cn/2,tt=250-80+25,_t=Math.max(8,Math.floor(cn/6)),jt=Ht.split(" "),nr=[];let fr="";for(const Ir of jt)if(Ir.length>_t){fr&&(nr.push(fr),fr="");for(let La=0;La<Ir.length;La+=_t)nr.push(Ir.slice(La,La+_t))}else(fr+" "+Ir).length<=_t?fr=fr?fr+" "+Ir:Ir:(fr&&nr.push(fr),fr=Ir);if(fr&&nr.push(fr),nr.length===0||nr.length===1&&nr[0].length>_t*1.5){nr.length=0;for(let Ir=0;Ir<Ht.length;Ir+=_t)nr.push(Ht.slice(Ir,Ir+_t))}const Xr=nr.slice(0,2),is=14,Bt=tt-(Xr.length-1)*(is/2);return o.jsx("text",{x:Mt,y:Bt,fill:"#374151",textAnchor:"middle",fontSize:12,fontWeight:600,className:"dark:fill-gray-200",children:Xr.map((Ir,La)=>o.jsx("tspan",{x:Mt,dy:La===0?0:is,children:Ir},La))})},Ae=ue=>{const{x:Le,y:ot,width:vt,height:Dt,value:Tt,payload:dr}=ue;let Ht=0;typeof Tt=="number"?Ht=Tt:Tt&&typeof Tt=="object"&&"name"in Tt&&(Ht=0);const Yr=(dr==null?void 0:dr.skill)||"",Jr=typeof Le=="number"?Le:typeof Le=="string"&&parseFloat(Le)||0,cn=typeof ot=="number"?ot:typeof ot=="string"&&parseFloat(ot)||0,tn=typeof vt=="number"?vt:typeof vt=="string"&&parseFloat(vt)||0,Mt=typeof Dt=="number"?Dt:typeof Dt=="string"&&parseFloat(Dt)||0;if(!Jr||!cn||!tn||!Mt)return null;const wt=Jr+tn/2,It=250,tt=80,_t=Math.max(8,Math.floor(tn/6)),jt=Yr.length>_t*1.2,nr=It-tt+(jt?70:60);return o.jsx("text",{x:wt,y:nr,fill:"#374151",textAnchor:"middle",fontSize:13,fontWeight:700,className:"dark:fill-gray-200",children:`${Ht.toFixed(0)}%`})};return o.jsx("div",{className:"w-full -mb-4",children:o.jsx(o_,{config:Ye,className:"h-[250px] w-full",children:o.jsxs(xO,{data:Te,margin:{top:20,right:10,left:10,bottom:80},barCategoryGap:"25%",children:[o.jsx("defs",{children:Te.map(ue=>o.jsxs("linearGradient",{id:ue.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:ue.fill,stopOpacity:ue.opacity}),o.jsx("stop",{offset:"100%",stopColor:"#0EA5E9",stopOpacity:ue.opacity})]},ue.gradientId))}),o.jsx(Zh,{dataKey:"skill",hide:!0}),o.jsx(ep,{type:"number",domain:[0,100],hide:!0}),o.jsx(bO,{content:({active:ue,payload:Le})=>{if(ue&&Le&&Le.length){const ot=Le[0].payload;return o.jsx("div",{className:"rounded-3xl border-0 bg-white dark:bg-gray-800 p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:ot.skill}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:we,opacity:ot.opacity}}),o.jsxs("span",{className:"font-bold text-lg",style:{color:we,opacity:ot.opacity},children:[ot.percentage.toFixed(1),"%"]})]})]})})}return null}}),o.jsxs(Qo,{dataKey:"percentage",radius:[8,8,8,8],animationDuration:1e3,animationEasing:"ease-out",children:[Te.map(ue=>o.jsx(Ky,{fill:`url(#${ue.gradientId})`,style:{transition:"all 0.3s ease"}},ue.id)),o.jsx(ai,{content:gt,dataKey:"skill"}),o.jsx(ai,{content:Ae,dataKey:"percentage"})]},`bar-${Te.map(ue=>ue.id).join("-")}`)]})})})};return o.jsxs(At,{children:[o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:static md:translate-x-0 md:left-auto md:flex md:justify-center md:mb-6 md:w-auto",children:o.jsxs(Un.div,{layout:!0,transition:{type:"spring",stiffness:500,damping:40,mass:1},className:"relative inline-flex items-center bg-gray-100/80 dark:bg-[#242424]/80 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-3xl p-1 shadow-sm",children:[o.jsxs(Un.button,{layout:!0,onClick:()=>s("#"),className:`relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${w==="profile"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[w==="profile"&&o.jsx(Un.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Profile"})]}),o.jsx(obe,{mode:"popLayout",initial:!1,children:w==="profile"?o.jsx(Un.button,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s("#savedcourses"),className:"relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200 whitespace-nowrap outline-none",children:o.jsx("span",{className:"relative z-10",children:"Saved"})},"saved-summary"):o.jsxs(Un.div,{layout:!0,className:"flex items-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[o.jsxs(Un.button,{layout:!0,onClick:()=>s("#savedcourses"),className:`relative px-4 py-2.5 md:px-6 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${S==="courses"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[S==="courses"&&o.jsx(Un.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Saved Courses"})]},"saved-courses"),o.jsxs(Un.button,{layout:!0,onClick:()=>s("#savedjobs"),className:`relative px-4 py-2.5 md:px-6 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${S==="jobs"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[S==="jobs"&&o.jsx(Un.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Saved Jobs"})]},"saved-jobs")]},"saved-tabs")})]})}),w==="profile"?o.jsxs("div",{className:"max-w-7xl mx-auto pt-2 pb-32 md:pb-6 px-2 sm:px-6 lg:px-8 space-y-4 md:space-y-6",children:[o.jsxs(Oe,{className:"border-0 rounded-3xl",children:[o.jsxs(yt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Personal information"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(oe,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:()=>s("/settings"),"aria-label":"Settings",children:o.jsx(Vw,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),o.jsx(oe,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:()=>re(!0),"aria-label":"Edit personal information",children:o.jsx(xo,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]})]}),o.jsxs(Me,{className:"px-6 pb-6",children:[o.jsxs("div",{className:"flex flex-row items-center gap-4 mb-4",children:[o.jsxs("div",{className:"flex-shrink-0",children:[o.jsxs("div",{className:"relative group cursor-pointer rounded-full overflow-hidden w-12 h-12 sm:w-14 sm:h-14",onClick:He,children:[o.jsx(lg,{src:Jt||void 0,alt:"Profile photo",fallback:Ge?Ge.charAt(0).toUpperCase():"U",size:"lg",loading:"eager",className:"h-12 w-12 sm:h-14 sm:w-14 rounded-full"},`avatar-${N}`),k?o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full z-10",children:o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})}):o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10",children:o.jsx(nz,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})})]}),o.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:Be,className:"hidden",disabled:k})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:[Ge," ",$e]}),(e==null?void 0:e.job_title)&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:e.job_title})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[f!=null&&f.country_region||f!=null&&f.city?o.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-gray-100 dark:bg-gray-800 px-3 py-1.5 text-sm text-gray-900 dark:text-gray-100",children:[o.jsx(Mu,{className:"h-4 w-4 text-gray-500"}),[f==null?void 0:f.country_region,f==null?void 0:f.city].filter(Boolean).join(", ")||"Location not set"]}):null,he&&o.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-gray-100 dark:bg-gray-800 px-3 py-1.5 text-sm text-gray-900 dark:text-gray-100",children:[o.jsx($u,{className:"h-4 w-4 text-gray-500"}),he]}),_e&&o.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-gray-100 dark:bg-gray-800 px-3 py-1.5 text-sm text-gray-900 dark:text-gray-100",children:[o.jsx(hg,{className:"h-4 w-4 text-gray-500"}),_e]}),Object.entries(q).filter(([te,Ee])=>Ee==null?void 0:Ee.trim()).map(([te,Ee])=>o.jsxs("a",{href:Ee,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-gray-100 dark:bg-gray-800 px-3 py-1.5 text-sm text-gray-900 dark:text-gray-100 hover:underline",children:[P7e(te,"h-4 w-4 text-gray-500"),Ee.length>35?`${Ee.slice(0,32)}...`:Ee.replace(/^https?:\/\/(www\.)?/,"")]},te))]})]})]}),o.jsxs(Oe,{className:"border-0 rounded-3xl",children:[o.jsxs(yt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"About Me"}),o.jsx(oe,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:je,"aria-label":"Edit about me",children:o.jsx(xo,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]}),o.jsx(Me,{className:"px-6 py-4",children:g?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading..."}):p?o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap leading-relaxed",children:p.length>200?`${p.substring(0,200)}...`:p}),p.length>200&&o.jsx(oe,{variant:"link",className:"text-breneo-blue p-0 h-auto mt-2 font-normal text-sm hover:underline",onClick:je,children:"View More"})]}):o.jsx("p",{className:"text-sm text-gray-500 italic",children:"No information available. Add some details about yourself!"})})]}),o.jsxs(Oe,{className:"border-0 rounded-3xl",children:[o.jsxs(yt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Education"}),o.jsx(oe,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:()=>ve(!0),"aria-label":"Edit education",children:o.jsx(xo,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]}),o.jsx(Me,{className:"px-6 pb-6",children:F?o.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."}):P.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No education added yet."}):o.jsx("div",{className:"relative",children:P.map((te,Ee)=>o.jsxs("div",{className:"flex gap-4 pb-6 last:pb-0",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-[#36B0E3] shrink-0"}),Ee<P.length-1&&o.jsx("div",{className:"w-px flex-1 min-h-[2rem] bg-[#36B0E3]/30 mt-1"})]}),o.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:[te.start_date,te.is_current?"  Present":te.end_date?`  ${te.end_date}`:""]}),o.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-100",children:te.school_name}),(te.degree_type||te.major)&&o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[te.degree_type,te.major].filter(Boolean).join(" in ")})]})]},te.id))})})]}),o.jsxs(Oe,{className:"border-0 rounded-3xl",children:[o.jsxs(yt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Work experience"}),o.jsx(oe,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:()=>et(!0),"aria-label":"Edit work experience",children:o.jsx(xo,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]}),o.jsx(Me,{className:"px-6 pb-6",children:K?o.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."}):V.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No work experience added yet."}):o.jsx("div",{className:"relative",children:V.map((te,Ee)=>o.jsxs("div",{className:"flex gap-4 pb-6 last:pb-0",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-[#36B0E3] shrink-0"}),Ee<V.length-1&&o.jsx("div",{className:"w-px flex-1 min-h-[2rem] bg-[#36B0E3]/30 mt-1"})]}),o.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:[te.start_date,te.is_current?"  Present":te.end_date?`  ${te.end_date}`:""]}),o.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-100",children:te.company}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:te.job_title})]})]},te.id))})})]}),o.jsxs(Oe,{className:"border-0 rounded-3xl",children:[o.jsxs(yt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Skills"}),o.jsx(oe,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:()=>dt(!0),"aria-label":"Edit skills",children:o.jsx(xo,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]}),o.jsx(Me,{className:"px-6 pb-6",children:se?o.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."}):X.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No skills added yet."}):o.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(te=>o.jsx(Pt,{variant:"outline",className:"capitalize px-3 py-1.5 text-xs rounded-[10px] bg-gray-100 text-gray-600 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700",children:te.skill_name},te.id))})})]}),o.jsxs(Oe,{className:"border-0 rounded-3xl",children:[o.jsx(yt,{className:"p-4 pb-3 border-b-0",children:o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Personal Skills"})}),o.jsx(Me,{className:"px-6 py-4",children:u?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading skill results..."}):l&&(l!=null&&l.final_role||O().length>0)?o.jsxs("div",{className:"space-y-4",children:[(l==null?void 0:l.final_role)&&o.jsxs("div",{className:"bg-gradient-to-r from-breneo-blue/10 to-breneo-blue/5 dark:from-breneo-blue/20 dark:to-breneo-blue/10 p-4 rounded-3xl border-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(Xl,{className:"h-5 w-5 text-breneo-blue"})}),o.jsx("span",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100",children:"Recommended Role"})]}),o.jsx(Pt,{className:"text-sm px-3 py-1.5 bg-breneo-blue hover:bg-breneo-blue/90 text-white border-0",children:l==null?void 0:l.final_role})]}),(l==null?void 0:l.skills_json)&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-base text-gray-900 dark:text-gray-100 mb-4",children:"Top Skills"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[((ge=l==null?void 0:l.skills_json)==null?void 0:ge.tech)&&Object.keys(l.skills_json.tech).length>0&&o.jsxs(Oe,{className:"border-0 rounded-3xl",children:[o.jsx(yt,{className:"pb-2",children:o.jsx(Nt,{className:"flex items-center gap-2 text-sm",children:"Technical Skills"})}),o.jsx(Me,{className:"p-2 pt-0 pb-4",children:z(l.skills_json.tech)})]}),((Ke=l==null?void 0:l.skills_json)==null?void 0:Ke.soft)&&Object.keys(l.skills_json.soft).length>0&&o.jsxs(Oe,{className:"border-0 rounded-3xl",children:[o.jsx(yt,{className:"pb-2",children:o.jsx(Nt,{className:"flex items-center gap-2 text-sm",children:"Soft Skills"})}),o.jsx(Me,{className:"p-2 pt-0 pb-4",children:z(l.skills_json.soft)})]})]})]}),O().length===0&&!u&&o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No skill test results available. Take a skill test to see your results here."})]}):o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No skill test results available. Take a skill test to see your results here."})})]})]}):o.jsxs("div",{className:"max-w-7xl mx-auto pt-2 pb-32 md:pb-6 px-2 sm:px-6 lg:px-8",children:[S==="courses"&&o.jsxs("div",{className:"rounded-3xl bg-white dark:bg-[#242424] overflow-hidden",children:[o.jsx("div",{className:"p-4 md:p-6 border-b border-gray-200 dark:border-gray-700",children:o.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Saved Courses"})}),qe?o.jsxs("div",{className:"flex flex-col justify-center items-center py-20 bg-white/50 dark:bg-[#242424]/50",children:[o.jsx(bs,{className:"h-8 w-8 animate-spin text-gray-400 mb-4"}),o.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Loading..."})]}):Ne.length===0?o.jsxs("div",{className:"p-12 text-center bg-card/50",children:[o.jsx(Ql,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved courses"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving courses to view them here!"}),o.jsx(oe,{onClick:()=>s("/courses"),variant:"default",children:"Browse Courses"})]}):o.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:Ne.map(te=>{const Ee=ce.includes(String(te.id));return o.jsx("div",{className:"group cursor-pointer transition-colors hover:bg-gray-50/50 dark:hover:bg-gray-800/30",onClick:()=>s(`/course/${te.id}`),children:o.jsx("div",{className:n?"px-5 pt-5 pb-4 flex flex-col flex-grow":"p-0",children:n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("div",{className:"flex-shrink-0 relative w-10 h-10",children:te.image?o.jsx("img",{src:te.image,alt:te.title,className:"w-10 h-10 rounded-md object-cover",loading:"lazy",onError:we=>{we.target.src="/placeholder.svg"}}):o.jsx("div",{className:"w-10 h-10 rounded-md bg-breneo-blue/10 flex items-center justify-center",children:o.jsx(Ql,{className:"h-5 w-5 text-breneo-blue"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate text-gray-900 dark:text-gray-100",children:te.provider}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:te.level||"Level not specified"})]}),o.jsx(oe,{variant:"secondary",size:"icon",onClick:we=>{we.stopPropagation(),Ve.mutate(String(te.id))},"aria-label":Ee?"Unsave course":"Save course",className:le("flex-shrink-0 bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",Ee?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(En,{className:le("h-4 w-4 transition-colors",Ee?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem] text-gray-900 dark:text-gray-100",children:te.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[te.duration&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600 border-0",children:te.duration}),te.category&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600 border-0",children:te.category})]})]}):o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-1 p-4 min-w-0",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-shrink-0 relative w-12 h-12",children:te.image?o.jsx("img",{src:te.image,alt:te.title,className:"w-12 h-12 rounded-md object-cover",loading:"lazy",onError:we=>{we.target.src="/placeholder.svg"}}):o.jsx("div",{className:"w-12 h-12 rounded-md bg-breneo-blue/10 flex items-center justify-center",children:o.jsx(Ql,{className:"h-6 w-6 text-breneo-blue"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"mb-1 md:mb-2",children:[o.jsx("h3",{className:"font-normal text-sm text-gray-600 dark:text-gray-400 mb-1 line-clamp-1",children:te.provider}),o.jsx("h4",{className:"font-bold text-base md:text-lg mb-1 md:mb-2 line-clamp-2 md:line-clamp-3 text-gray-900 dark:text-gray-100",children:te.title})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[te.level&&o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Xl,{className:"h-4 w-4"}),o.jsx("span",{children:te.level})]}),te.duration&&o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Ou,{className:"h-4 w-4"}),o.jsx("span",{children:te.duration})]}),te.category&&o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Ode,{className:"h-4 w-4"}),o.jsx("span",{children:te.category})]})]})]})]})}),o.jsx("div",{className:"flex-shrink-0 py-4 pl-4 pr-6 relative flex flex-col items-center justify-center",children:o.jsx(oe,{variant:"secondary",size:"icon",onClick:we=>{we.stopPropagation(),Ve.mutate(String(te.id))},"aria-label":Ee?"Unsave course":"Save course",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",Ee?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(En,{className:le("h-4 w-4 transition-colors",Ee?"text-red-500 fill-red-500":"text-black dark:text-white")})})})]})})},te.id)})})]}),S==="jobs"&&o.jsxs("div",{className:"rounded-3xl bg-white dark:bg-[#242424] overflow-hidden",children:[o.jsx("div",{className:"p-4 md:p-6 border-b border-gray-200 dark:border-gray-700",children:o.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Saved Jobs"})}),xe?o.jsxs("div",{className:"flex flex-col justify-center items-center py-20 bg-white/50 dark:bg-[#242424]/50",children:[o.jsx(bs,{className:"h-8 w-8 animate-spin text-gray-400 mb-4"}),o.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Loading..."})]}):it.length===0?o.jsxs("div",{className:"p-12 text-center bg-card/50",children:[o.jsx(Hr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved jobs"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving jobs to view them here!"}),o.jsx(oe,{onClick:()=>s("/jobs"),variant:"default",children:"Browse Jobs"})]}):o.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:it.map(te=>{const Ee=Re.includes(String(te.id));return o.jsx("div",{className:"group cursor-pointer transition-colors hover:bg-gray-50/50 dark:hover:bg-gray-800/30",onClick:()=>{te.url?window.open(te.url,"_blank"):s(`/jobs/${encodeURIComponent(te.id)}`)},children:o.jsx("div",{className:n?"px-5 pt-5 pb-4 flex flex-col flex-grow":"p-0",children:n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[te.company_logo?o.jsx("img",{src:te.company_logo,alt:`${te.company} logo`,className:"w-10 h-10 rounded-full object-cover",loading:"lazy",onError:we=>{const Te=we.target;Te.style.display="none";const Ye=Te.nextElementSibling;Ye&&(Ye.style.display="flex")}}):null,o.jsx("div",{className:`w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center ${te.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(Hr,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate text-gray-900 dark:text-gray-100",children:te.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:te.location})]}),o.jsx(oe,{variant:"secondary",size:"icon",onClick:we=>{we.stopPropagation(),Pe.mutate(te.id)},"aria-label":Ee?"Unsave job":"Save job",className:le("flex-shrink-0 bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",Ee?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(En,{className:le("h-4 w-4 transition-colors",Ee?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem] text-gray-900 dark:text-gray-100",children:te.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[te.employment_type&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 border-0",children:te.employment_type}),te.work_arrangement&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 border-0",children:te.work_arrangement})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx(na,{value:te.matchPercentage??0,size:40,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue flex-shrink-0"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100 whitespace-nowrap",children:gu(te.matchPercentage)})]})]})]}):o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-1 p-4 min-w-0",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[te.company_logo?o.jsx("img",{src:te.company_logo,alt:te.company,className:"w-12 h-12 rounded-md object-cover absolute inset-0 z-10",loading:"lazy",onError:we=>{var gt;const Te=we.target;Te.style.display="none";const Ye=(gt=Te.parentElement)==null?void 0:gt.querySelector(".logo-fallback");Ye&&(Ye.style.display="flex",Ye.style.zIndex="10")}}):null,o.jsx("div",{className:`w-12 h-12 rounded-md bg-breneo-blue/10 flex items-center justify-center logo-fallback absolute inset-0 ${te.company_logo?"z-0":"z-10"}`,style:{display:te.company_logo?"none":"flex"},children:o.jsx(Hr,{className:"h-6 w-6 text-breneo-blue"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"mb-1 md:mb-2",children:[o.jsx("h3",{className:"font-normal text-sm text-gray-600 dark:text-gray-400 mb-1 line-clamp-1",children:te.company}),o.jsx("h4",{className:"font-bold text-base md:text-lg mb-1 md:mb-2 line-clamp-2 md:line-clamp-3 text-gray-900 dark:text-gray-100",children:te.title})]}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Mu,{className:"h-4 w-4"}),o.jsx("span",{children:te.location})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Ou,{className:"h-4 w-4"}),o.jsx("span",{children:te.employment_type})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Hr,{className:"h-4 w-4"}),o.jsx("span",{children:te.work_arrangement})]})]})})]})]})}),o.jsxs("div",{className:"flex-shrink-0 py-4 pl-4 pr-14 relative w-24 min-h-[88px] flex flex-col items-center justify-center",children:[o.jsxs("div",{className:"flex flex-col items-center gap-2 px-2 transition-opacity duration-200 group-hover:opacity-0 group-hover:pointer-events-none",children:[o.jsx(na,{value:te.matchPercentage??0,size:48,strokeWidth:4,showLabel:!1,percentageTextSize:"md",className:"flex-shrink-0 text-gray-400 dark:text-gray-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 whitespace-nowrap text-center",children:gu(te.matchPercentage)})]}),o.jsx(oe,{variant:"secondary",size:"icon",onClick:we=>{we.stopPropagation(),Pe.mutate(te.id)},"aria-label":Ee?"Unsave job":"Save job",className:le("absolute top-4 right-4 opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto transition-opacity duration-200 z-10 bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",Ee?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(En,{className:le("h-4 w-4 transition-colors",Ee?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})})},te.id)})})]})]}),o.jsx(XUe,{open:ae,onOpenChange:re,initial:{first_name:Ge??(e==null?void 0:e.first_name),last_name:$e??(e==null?void 0:e.last_name),email:he??"",phone_number:_e??"",country_region:f==null?void 0:f.country_region,city:f==null?void 0:f.city,about_me:p,social_links:{...q}},onSave:ft}),o.jsx(a7e,{open:pe,onOpenChange:ve,entries:P,onSave:$t}),o.jsx(f7e,{open:Ie,onOpenChange:et,entries:V,onSave:Ut}),o.jsx(p7e,{open:Je,onOpenChange:dt,skills:X,onAddSkill:async te=>{await bn.addSkill(te)},onRemoveSkill:te=>bn.removeSkill(te),onRefresh:Fe}),o.jsx(ph,{open:A,onOpenChange:R,children:o.jsxs(Uu,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(zu,{className:"bg-white dark:bg-[#181818] pb-3",children:[o.jsx(qu,{className:"flex-1 min-w-0",children:"Edit About Me"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[o.jsx(oe,{size:"sm",onClick:St,disabled:D,children:D?"Saving...":"Save Changes"}),o.jsx(oe,{variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>R(!1),disabled:D,"aria-label":"Cancel",children:o.jsx(Nr,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:o.jsxs("div",{children:[o.jsx(De,{htmlFor:"about-me",children:"Tell us about yourself"}),o.jsx(sy,{id:"about-me",placeholder:"Share something about yourself...",value:H,onChange:te=>U(te.target.value),className:"mt-2 min-h-[200px]",disabled:D})]})})]})}),o.jsx(ph,{open:L,onOpenChange:T,children:o.jsxs(Uu,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(zu,{className:"bg-white dark:bg-[#181818] pb-3",children:[o.jsx(qu,{className:"flex-1 min-w-0",children:"Profile Photo"}),o.jsx("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:o.jsx(oe,{variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>T(!1),"aria-label":"Cancel",children:o.jsx(Nr,{className:"h-4 w-4"})})})]}),o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-2",children:[o.jsxs(oe,{onClick:Ue,className:"w-full justify-start gap-3",variant:"ghost",disabled:k,children:[o.jsx(GE,{className:"h-5 w-5"}),Jt?"Update Photo":"Upload Photo"]}),Jt&&o.jsxs(oe,{onClick:bt,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:k,children:[o.jsx(hu,{className:"h-5 w-5"}),"Remove Photo"]})]})]})})]})},SF=e=>e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:`/${e}`:"/lovable-uploads/no_photo.png",O7e=()=>{const{user:e}=ir(),t=rr(),r=Ws(),[n,s]=m.useState("courses"),{data:a=[]}=Wt({queryKey:["savedCourseIds",e==null?void 0:e.id],queryFn:async()=>{var g;if(!(e!=null&&e.id))return[];try{return(((g=(await Se.get(Ze.AUTH.PROFILE)).data)==null?void 0:g.saved_courses)||[]).map(y=>String(y))}catch(v){return console.error("Error fetching saved course IDs:",v),[]}},enabled:!!(e!=null&&e.id)}),{data:i=[],isLoading:l}=Wt({queryKey:["savedCoursesDetails",e==null?void 0:e.id,a],queryFn:async()=>{if(!(e!=null&&e.id)||!a||a.length===0)return[];try{const{data:g,error:v}=await Yt.from("courses").select("id, title, provider, category, level, duration, image, description, academy_id").in("id",a);if(v)return console.error("Error fetching saved course details:",v),[];const p=[...new Set((g==null?void 0:g.map(x=>x.academy_id).filter(x=>!!x))||[])],y=new Map;return p.length>0&&await Promise.all(p.map(async x=>{try{const b=await Se.get(`${Ze.ACADEMY.DETAIL}${x}/`);if(b.data){const w=b.data,_=w.profile_data||w,S=(k,j=_)=>{const N=j[k];return typeof N=="string"?N:void 0},E=S("logo_url",_)||S("logoUrl",_)||S("logo",_)||S("logo_url",w)||S("logoUrl",w)||null;y.set(x,E)}}catch{console.debug(`Could not fetch academy profile for ${x}`),y.set(x,null)}})),(g||[]).map(x=>{const b=x.academy_id&&y.has(x.academy_id)&&y.get(x.academy_id)||null;return{id:x.id,title:x.title||"",provider:x.provider||"",category:x.category||"",level:x.level||"",duration:x.duration||"",image:SF(x.image),description:x.description||"",academy_id:x.academy_id||null,academy_logo:b?SF(b):null}})}catch(g){return console.error("Error fetching saved courses:",g),[]}},enabled:!!e&&a.length>0}),{data:c=[]}=Wt({queryKey:["savedJobIds",e==null?void 0:e.id],queryFn:async()=>{var g;if(!(e!=null&&e.id))return[];try{const p=((g=(await Se.get(Ze.AUTH.PROFILE)).data)==null?void 0:g.saved_jobs)||[];return Array.isArray(p)?p.map(y=>{if(typeof y=="string"||typeof y=="number")return String(y);if(y&&typeof y=="object"){const x=y;if(x.id)return String(x.id);if(x.job_id)return String(x.job_id);if(x.jobId)return String(x.jobId)}return null}).filter(y=>y!==null):[]}catch(v){return console.error("Error fetching saved job IDs:",v),[]}},enabled:!!(e!=null&&e.id)}),{data:u=[],isLoading:d}=Wt({queryKey:["savedJobsDetails",e==null?void 0:e.id,c],queryFn:async()=>{if(!(e!=null&&e.id)||!c||c.length===0)return[];try{const g=c.map(async p=>{try{const y=await a1(p);if(!y)return null;const x=y.title||y.job_title||y.position||"Untitled Position",b=y.company_name||y.employer_name||(typeof y.company=="string"?y.company:null)||"Unknown Company",w=y.job_city||y.city||"",_=y.job_state||y.state||"",S=y.job_country||y.country||"",E=y.job_location||y.location||[w,_,S].filter(Boolean).join(", ")||"Location not specified",k=y.employer_logo||y.company_logo||y.logo_url||(typeof y.company=="object"&&y.company?y.company.logo||y.company.company_logo:void 0);let j="By agreement";const N=y.job_min_salary||y.min_salary,C=y.job_max_salary||y.max_salary,A=y.job_salary_currency||y.salary_currency||"$",R=y.job_salary_period||y.salary_period||"yearly";if(N&&C&&typeof N=="number"&&typeof C=="number"){const T=R==="monthly"?"Monthly":"",q=N.toLocaleString(),I=C.toLocaleString();["$","","","","",""].some(V=>A.includes(V))?j=`${A}${q} - ${A}${I}${T?`/${T}`:""}`:j=`${q} - ${I} ${A}${T?`/${T}`:""}`}else if(N&&typeof N=="number"){const T=N.toLocaleString();j=["$","","","","",""].some(P=>A.includes(P))?`${A}${T}+`:`${T}+ ${A}`}else y.salary&&typeof y.salary=="string"&&(j=y.salary);const H=y.job_employment_type||y.employment_type||y.type||"FULLTIME",D={FULLTIME:"Full time",PARTTIME:"Part time",CONTRACTOR:"Contract",INTERN:"Internship"}[H]||H||"Full time";let B="On-site";return y.job_is_remote||y.is_remote||y.remote===!0?B="Remote":x!=null&&x.toLowerCase().includes("hybrid")&&(B="Hybrid"),{id:p,title:x,company:b,location:typeof E=="string"?E:"Location not specified",url:y.url||"",company_logo:k,salary:j,employment_type:D,work_arrangement:B}}catch(y){return console.error(`Error fetching job ${p}:`,y),null}});return(await Promise.all(g)).filter(p=>p!==null)}catch(g){return console.error("Error fetching saved jobs:",g),[]}},enabled:!!e&&c.length>0}),f=oa({mutationFn:async g=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Se.post(`/api/save-course/${g}/`)},onSuccess:()=>{r.invalidateQueries({queryKey:["savedCourseIds",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["savedCoursesDetails",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile"]}),de.success("Course removed from saved")},onError:g=>{console.error("Error updating saved courses:",g),de.error("Failed to update saved courses. Please try again.")}}),h=oa({mutationFn:async g=>{if(!(e!=null&&e.id))throw new Error("Please log in to save jobs.");await Se.post(`${Ze.JOBS.SAVE_JOB}${g}/`)},onSuccess:()=>{r.invalidateQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["savedJobsDetails",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile"]}),de.success("Job removed from saved")},onError:g=>{console.error("Error updating saved jobs:",g),de.error("Failed to update saved jobs. Please try again.")}});return e?o.jsxs(At,{children:[o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:static md:translate-x-0 md:left-auto md:flex md:justify-center md:mb-6 md:w-auto",children:o.jsxs("div",{className:"relative inline-flex items-center bg-gray-100/80 dark:bg-[#242424]/80 backdrop-blur-xl rounded-full p-1 shadow-[0_8px_32px_rgba(0,0,0,0.06)] dark:shadow-[0_8px_32px_rgba(0,0,0,0.2)]",children:[o.jsx("button",{onClick:()=>t("/profile"),className:"relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200",children:"Profile"}),o.jsx("button",{onClick:()=>s("courses"),className:`relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 ${n==="courses"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-bold shadow-sm":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Courses"}),o.jsx("button",{onClick:()=>s("jobs"),className:`relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 ${n==="jobs"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-bold shadow-sm":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Jobs"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:[n==="courses"&&o.jsx("div",{className:"space-y-6",children:l?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((g,v)=>o.jsx(Oe,{children:o.jsxs(Me,{className:"p-0",children:[o.jsx(xr,{className:"h-40 w-full rounded-t-3xl"}),o.jsxs("div",{className:"p-4",children:[o.jsx(xr,{className:"h-5 w-3/4 mb-2"}),o.jsx(xr,{className:"h-4 w-1/2 mb-3"}),o.jsx(xr,{className:"h-3 w-full"})]})]})},v))}):i.length===0?o.jsx(Oe,{children:o.jsxs(Me,{className:"p-12 text-center",children:[o.jsx(Ql,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved courses"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving courses to view them here!"}),o.jsx(oe,{onClick:()=>t("/courses"),variant:"default",children:"Browse Courses"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:i.map(g=>{const v=a.includes(String(g.id));return o.jsx(Wr,{to:`/course/${g.id}`,className:"block",children:o.jsx(Oe,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl w-full flex flex-col h-full hover:shadow-soft",children:o.jsxs(Me,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:g.image||"/placeholder.svg",alt:g.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",onError:p=>{p.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:g.title}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:g.provider}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[g.duration&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:g.duration}),g.level&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:g.level})]}),o.jsx(oe,{variant:"secondary",size:"icon",onClick:p=>{p.preventDefault(),p.stopPropagation(),f.mutate(String(g.id))},disabled:f.isPending,"aria-label":"Unsave course",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",v?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:f.isPending?o.jsx(bs,{className:"h-4 w-4 animate-spin"}):o.jsx(En,{className:le("h-4 w-4 transition-colors",v?"text-red-500 fill-red-500":"text-black dark:text-white")})})]})]})]})})},g.id)})})}),n==="jobs"&&o.jsx("div",{className:"space-y-6",children:d?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((g,v)=>o.jsx(Oe,{children:o.jsxs(Me,{className:"p-4",children:[o.jsx(xr,{className:"h-4 w-20 mb-2"}),o.jsx(xr,{className:"h-6 w-3/4 mb-4"}),o.jsx(xr,{className:"h-4 w-1/2"})]})},v))}):u.length===0?o.jsx(Oe,{children:o.jsxs(Me,{className:"p-12 text-center",children:[o.jsx(Hr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved jobs"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving jobs to view them here!"}),o.jsx(oe,{onClick:()=>t("/jobs"),variant:"default",children:"Browse Jobs"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:u.map(g=>{const v=c.includes(String(g.id));return o.jsx(Oe,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl hover:shadow-soft",children:o.jsxs(Me,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[g.company_logo?o.jsx("img",{src:g.company_logo,alt:`${g.company} logo`,className:"w-12 h-12 rounded-3xl object-cover flex-shrink-0",onError:p=>{p.target.style.display="none"}}):o.jsx("div",{className:"w-12 h-12 rounded-3xl bg-breneo-blue/10 flex items-center justify-center flex-shrink-0",children:o.jsx(Hr,{className:"h-6 w-6 text-breneo-blue"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm text-gray-600 dark:text-gray-400 mb-1 line-clamp-1",children:g.company}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:g.title})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[g.location&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[o.jsx(Mu,{className:"h-3 w-3 flex-shrink-0"}),o.jsx("span",{className:"line-clamp-1",children:g.location})]}),g.salary&&o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:g.salary}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[g.employment_type&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:g.employment_type}),g.work_arrangement&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:g.work_arrangement})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[o.jsxs(oe,{variant:"secondary",size:"sm",className:"flex-1",onClick:p=>{p.stopPropagation(),g.url?window.open(g.url,"_blank"):t(`/jobs/${encodeURIComponent(g.id)}`)},children:["View Job",o.jsx(dg,{className:"h-3 w-3 ml-2"})]}),o.jsx(oe,{variant:"secondary",size:"icon",onClick:p=>{p.stopPropagation(),h.mutate(g.id)},disabled:h.isPending,"aria-label":"Unsave job",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-9 w-9",v?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:h.isPending?o.jsx(bs,{className:"h-4 w-4 animate-spin"}):o.jsx(En,{className:le("h-4 w-4 transition-colors",v?"text-red-500 fill-red-500":"text-black dark:text-white")})})]})]})},g.id)})})})]})]}):o.jsx(At,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Please log in to view saved items."})})})};var R7e="Separator",jF="horizontal",$7e=["horizontal","vertical"],mY=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=jF,...s}=e,a=M7e(n)?n:jF,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(ct.div,{"data-orientation":a,...l,...s,ref:t})});mY.displayName=R7e;function M7e(e){return $7e.includes(e)}var gY=mY;const mf=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>o.jsx(gY,{ref:s,decorative:r,orientation:t,className:le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));mf.displayName=gY.displayName;var _O="Switch",[I7e,wGe]=ua(_O),[L7e,D7e]=I7e(_O),yY=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,g]=m.useState(null),v=xt(t,w=>g(w)),p=m.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,b]=ci({prop:s,defaultProp:a,onChange:u});return o.jsxs(L7e,{scope:r,checked:x,disabled:l,children:[o.jsx(ct.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":bY(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:We(e.onClick,w=>{b(_=>!_),y&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),y&&o.jsx(F7e,{control:h,bubbles:!p.current,name:n,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});yY.displayName=_O;var vY="SwitchThumb",xY=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=D7e(vY,r);return o.jsx(ct.span,{"data-state":bY(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});xY.displayName=vY;var F7e=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=m.useRef(null),i=l_(r),l=Rw(t);return m.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[i,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bY(e){return e?"checked":"unchecked"}var wY=yY,B7e=xY;const hs=m.forwardRef(({className:e,...t},r)=>o.jsx(wY,{className:le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(B7e,{className:le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));hs.displayName=wY.displayName;function U7e(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...v}=f,p=(h==null?void 0:h[e][c])||l,y=m.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:y,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,v=m.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,z7e(s,...t)]}function z7e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Qy(e){const t=e+"CollectionProvider",[r,n]=U7e(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:v,children:p}=g,y=M.useRef(null),x=M.useRef(new Map).current;return o.jsx(s,{scope:v,itemMap:x,collectionRef:y,children:p})};i.displayName=t;const l=e+"CollectionSlot",c=M.forwardRef((g,v)=>{const{scope:p,children:y}=g,x=a(l,p),b=xt(v,x.collectionRef);return o.jsx(ac,{ref:b,children:y})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=M.forwardRef((g,v)=>{const{scope:p,children:y,...x}=g,b=M.useRef(null),w=xt(v,b),_=a(u,p);return M.useEffect(()=>(_.itemMap.set(b,{ref:b,...x}),()=>void _.itemMap.delete(b))),o.jsx(ac,{[d]:"",ref:w,children:y})});f.displayName=u;function h(g){const v=a(e+"CollectionConsumer",g);return M.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((_,S)=>x.indexOf(_.ref.current)-x.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},h,n]}function q7e(e,t=globalThis==null?void 0:globalThis.document){const r=Qt(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var W7e="DismissableLayer",sC="dismissableLayer.update",V7e="dismissableLayer.pointerDownOutside",H7e="dismissableLayer.focusOutside",kF,_Y=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),SY=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(_Y),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=xt(t,k=>f(k)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=Y7e(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=J7e(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return q7e(k=>{b===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(kF=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),EF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=kF)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),EF())},[d,u]),m.useEffect(()=>{const k=()=>g({});return document.addEventListener(sC,k),()=>document.removeEventListener(sC,k)},[]),o.jsx(ct.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:We(e.onFocusCapture,E.onFocusCapture),onBlurCapture:We(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:We(e.onPointerDownCapture,S.onPointerDownCapture)})});SY.displayName=W7e;var K7e="DismissableLayerBranch",G7e=m.forwardRef((e,t)=>{const r=m.useContext(_Y),n=m.useRef(null),s=xt(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(ct.div,{...e,ref:s})});G7e.displayName=K7e;function Y7e(e,t=globalThis==null?void 0:globalThis.document){const r=Qt(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){jY(V7e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function J7e(e,t=globalThis==null?void 0:globalThis.document){const r=Qt(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&jY(H7e,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function EF(){const e=new CustomEvent(sC);document.dispatchEvent(e)}function jY(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?wy(s,a):s.dispatchEvent(a)}var $j=0;function SO(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??NF()),document.body.insertAdjacentElement("beforeend",e[1]??NF()),$j++,()=>{$j===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$j--}},[])}function NF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Mj="focusScope.autoFocusOnMount",Ij="focusScope.autoFocusOnUnmount",CF={bubbles:!1,cancelable:!0},X7e="FocusScope",kY=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=Qt(s),d=Qt(a),f=m.useRef(null),h=xt(t,p=>c(p)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let p=function(w){if(g.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:fl(f.current,{select:!0})},y=function(w){if(g.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||fl(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&fl(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),b.disconnect()}}},[n,l,g.paused]),m.useEffect(()=>{if(l){AF.add(g);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(Mj,CF);l.addEventListener(Mj,u),l.dispatchEvent(x),x.defaultPrevented||(Q7e(n9e(EY(l)),{select:!0}),document.activeElement===p&&fl(l))}return()=>{l.removeEventListener(Mj,u),setTimeout(()=>{const x=new CustomEvent(Ij,CF);l.addEventListener(Ij,d),l.dispatchEvent(x),x.defaultPrevented||fl(p??document.body,{select:!0}),l.removeEventListener(Ij,d),AF.remove(g)},0)}}},[l,u,d,g]);const v=m.useCallback(p=>{if(!r&&!n||g.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const b=p.currentTarget,[w,_]=Z7e(b);w&&_?!p.shiftKey&&x===_?(p.preventDefault(),r&&fl(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&fl(_,{select:!0})):x===b&&p.preventDefault()}},[r,n,g.paused]);return o.jsx(ct.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});kY.displayName=X7e;function Q7e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(fl(n,{select:t}),document.activeElement!==r)return}function Z7e(e){const t=EY(e),r=PF(t,e),n=PF(t.reverse(),e);return[r,n]}function EY(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function PF(e,t){for(const r of e)if(!e9e(r,{upTo:t}))return r}function e9e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function t9e(e){return e instanceof HTMLInputElement&&"select"in e}function fl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&t9e(e)&&t&&e.select()}}var AF=r9e();function r9e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=TF(e,t),e.unshift(t)},remove(t){var r;e=TF(e,t),(r=e[0])==null||r.resume()}}}function TF(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function n9e(e){return e.filter(t=>t.tagName!=="A")}var s9e="Portal",NY=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);on(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?yy.createPortal(o.jsx(ct.div,{...n,ref:t}),i):null});NY.displayName=s9e;var CY=Jw(),Lj=function(){},c_=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Lj,onWheelCapture:Lj,onTouchMoveCapture:Lj}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,v=e.inert,p=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,w=Ay(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=Yw([r,t]),E=br(br({},w),s);return m.createElement(m.Fragment,null,d&&m.createElement(_,{sideCar:CY,removeScrollBar:u,shards:f,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!p,lockRef:r,gapMode:b}),i?m.cloneElement(m.Children.only(l),br(br({},E),{ref:S})):m.createElement(x,br({},E,{className:c,ref:S}),l))});c_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};c_.classNames={fullWidth:mu,zeroRight:pu};var aC=!1;if(typeof window<"u")try{var f0=Object.defineProperty({},"passive",{get:function(){return aC=!0,!0}});window.addEventListener("test",f0,f0),window.removeEventListener("test",f0,f0)}catch{aC=!1}var yd=aC?{passive:!1}:!1,a9e=function(e){return e.tagName==="TEXTAREA"},PY=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!a9e(e)&&r[t]==="visible")},i9e=function(e){return PY(e,"overflowY")},o9e=function(e){return PY(e,"overflowX")},OF=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=AY(e,n);if(s){var a=TY(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},l9e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},c9e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},AY=function(e,t){return e==="v"?i9e(t):o9e(t)},TY=function(e,t){return e==="v"?l9e(t):c9e(t)},u9e=function(e,t){return e==="h"&&t==="rtl"?-1:1},d9e=function(e,t,r,n,s){var a=u9e(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=TY(e,l),v=g[0],p=g[1],y=g[2],x=p-y-a*v;(v||x)&&AY(e,l)&&(f+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},h0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},RF=function(e){return[e.deltaX,e.deltaY]},$F=function(e){return e&&"current"in e?e.current:e},f9e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},h9e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},p9e=0,vd=[];function m9e(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(p9e++)[0],a=m.useState(Ty)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=Gw([e.lockRef.current],(e.shards||[]).map($F),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=h0(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-x[0],_="deltaY"in p?p.deltaY:b[1]-x[1],S,E=p.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&k==="h"&&E.type==="range")return!1;var j=OF(k,E);if(!j)return!0;if(j?S=k:(S=k==="v"?"h":"v",j=OF(k,E)),!j)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=S),!S)return!0;var N=n.current||S;return d9e(N,y,p,N==="h"?w:_,!0)},[]),c=m.useCallback(function(p){var y=p;if(!(!vd.length||vd[vd.length-1]!==a)){var x="deltaY"in y?RF(y):h0(y),b=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&f9e(S.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(i.current.shards||[]).map($F).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=w.length>0?l(y,w[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(p,y,x,b){var w={name:p,delta:y,target:x,should:b,shadowParent:g9e(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=m.useCallback(function(p){r.current=h0(p),n.current=void 0},[]),f=m.useCallback(function(p){u(p.type,RF(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,h0(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return vd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,yd),document.addEventListener("touchmove",c,yd),document.addEventListener("touchstart",d,yd),function(){vd=vd.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,yd),document.removeEventListener("touchmove",c,yd),document.removeEventListener("touchstart",d,yd)}},[]);var g=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(a,{styles:h9e(s)}):null,g?m.createElement(Zw,{gapMode:e.gapMode}):null)}function g9e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const y9e=Xw(CY,m9e);var OY=m.forwardRef(function(e,t){return m.createElement(c_,br({},e,{ref:t,sideCar:y9e}))});OY.classNames=c_.classNames;var v9e=[" ","Enter","ArrowUp","ArrowDown"],x9e=[" ","Enter"],Zy="Select",[u_,d_,b9e]=Qy(Zy),[tp,_Ge]=ua(Zy,[b9e,Sh]),f_=Sh(),[w9e,jc]=tp(Zy),[_9e,S9e]=tp(Zy),RY=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:g,form:v}=e,p=f_(t),[y,x]=m.useState(null),[b,w]=m.useState(null),[_,S]=m.useState(!1),E=Rh(u),[k=!1,j]=ci({prop:n,defaultProp:s,onChange:a}),[N,C]=ci({prop:i,defaultProp:l,onChange:c}),A=m.useRef(null),R=y?v||!!y.closest("form"):!0,[H,U]=m.useState(new Set),D=Array.from(H).map(B=>B.props.value).join(";");return o.jsx(T7,{...p,children:o.jsxs(w9e,{required:g,scope:t,trigger:y,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:ni(),value:N,onValueChange:C,open:k,onOpenChange:j,dir:E,triggerPointerDownPosRef:A,disabled:h,children:[o.jsx(u_.Provider,{scope:t,children:o.jsx(_9e,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(B=>{U(L=>new Set(L).add(B))},[]),onNativeOptionRemove:m.useCallback(B=>{U(L=>{const T=new Set(L);return T.delete(B),T})},[]),children:r})}),R?o.jsxs(sJ,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:B=>C(B.target.value),disabled:h,form:v,children:[N===void 0?o.jsx("option",{value:""}):null,Array.from(H)]},D):null]})})};RY.displayName=Zy;var $Y="SelectTrigger",MY=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=f_(r),i=jc($Y,r),l=i.disabled||n,c=xt(t,i.onTriggerChange),u=d_(r),d=m.useRef("touch"),[f,h,g]=aJ(p=>{const y=u().filter(w=>!w.disabled),x=y.find(w=>w.value===i.value),b=iJ(y,p,x);b!==void 0&&i.onValueChange(b.value)}),v=p=>{l||(i.onOpenChange(!0),g()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return o.jsx(qP,{asChild:!0,...a,children:o.jsx(ct.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":nJ(i.value)?"":void 0,...s,ref:c,onClick:We(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:We(s.onPointerDown,p=>{d.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:We(s.onKeyDown,p=>{const y=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(y&&p.key===" ")&&v9e.includes(p.key)&&(v(),p.preventDefault())})})})});MY.displayName=$Y;var IY="SelectValue",LY=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...l}=e,c=jc(IY,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=xt(t,c.onValueNodeChange);return on(()=>{u(d)},[u,d]),o.jsx(ct.span,{...l,ref:f,style:{pointerEvents:"none"},children:nJ(c.value)?o.jsx(o.Fragment,{children:i}):a})});LY.displayName=IY;var j9e="SelectIcon",DY=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(ct.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});DY.displayName=j9e;var k9e="SelectPortal",FY=e=>o.jsx(NY,{asChild:!0,...e});FY.displayName=k9e;var Wu="SelectContent",BY=m.forwardRef((e,t)=>{const r=jc(Wu,e.__scopeSelect),[n,s]=m.useState();if(on(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Gu.createPortal(o.jsx(UY,{scope:e.__scopeSelect,children:o.jsx(u_.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(zY,{...e,ref:t})});BY.displayName=Wu;var Wa=10,[UY,kc]=tp(Wu),E9e="SelectContentImpl",zY=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:y,...x}=e,b=jc(Wu,r),[w,_]=m.useState(null),[S,E]=m.useState(null),k=xt(t,F=>_(F)),[j,N]=m.useState(null),[C,A]=m.useState(null),R=d_(r),[H,U]=m.useState(!1),D=m.useRef(!1);m.useEffect(()=>{if(w)return e1(w)},[w]),SO();const B=m.useCallback(F=>{const[$,...K]=R().map(Q=>Q.ref.current),[Y]=K.slice(-1),se=document.activeElement;for(const Q of F)if(Q===se||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===$&&S&&(S.scrollTop=0),Q===Y&&S&&(S.scrollTop=S.scrollHeight),Q==null||Q.focus(),document.activeElement!==se))return},[R,S]),L=m.useCallback(()=>B([j,w]),[B,j,w]);m.useEffect(()=>{H&&L()},[H,L]);const{onOpenChange:T,triggerPointerDownPosRef:q}=b;m.useEffect(()=>{if(w){let F={x:0,y:0};const $=Y=>{var se,Q;F={x:Math.abs(Math.round(Y.pageX)-(((se=q.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(Y.pageY)-(((Q=q.current)==null?void 0:Q.y)??0))}},K=Y=>{F.x<=10&&F.y<=10?Y.preventDefault():w.contains(Y.target)||T(!1),document.removeEventListener("pointermove",$),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",$),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",K,{capture:!0})}}},[w,T,q]),m.useEffect(()=>{const F=()=>T(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[T]);const[I,P]=aJ(F=>{const $=R().filter(se=>!se.disabled),K=$.find(se=>se.ref.current===document.activeElement),Y=iJ($,F,K);Y&&setTimeout(()=>Y.ref.current.focus())}),W=m.useCallback((F,$,K)=>{const Y=!D.current&&!K;(b.value!==void 0&&b.value===$||Y)&&(N(F),Y&&(D.current=!0))},[b.value]),V=m.useCallback(()=>w==null?void 0:w.focus(),[w]),ee=m.useCallback((F,$,K)=>{const Y=!D.current&&!K;(b.value!==void 0&&b.value===$||Y)&&A(F)},[b.value]),X=n==="popper"?iC:qY,ne=X===iC?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:y}:{};return o.jsx(UY,{scope:r,content:w,viewport:S,onViewportChange:E,itemRefCallback:W,selectedItem:j,onItemLeave:V,itemTextRefCallback:ee,focusSelectedItem:L,selectedItemText:C,position:n,isPositioned:H,searchRef:I,children:o.jsx(OY,{as:ac,allowPinchZoom:!0,children:o.jsx(kY,{asChild:!0,trapped:b.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:We(s,F=>{var $;($=b.trigger)==null||$.focus({preventScroll:!0}),F.preventDefault()}),children:o.jsx(SY,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:o.jsx(X,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:F=>F.preventDefault(),...x,...ne,onPlaced:()=>U(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:We(x.onKeyDown,F=>{const $=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!$&&F.key.length===1&&P(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let Y=R().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(F.key)&&(Y=Y.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const se=F.target,Q=Y.indexOf(se);Y=Y.slice(Q+1)}setTimeout(()=>B(Y)),F.preventDefault()}})})})})})})});zY.displayName=E9e;var N9e="SelectItemAlignedPosition",qY=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=jc(Wu,r),i=kc(Wu,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=xt(t,k=>d(k)),h=d_(r),g=m.useRef(!1),v=m.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:x,focusSelectedItem:b}=i,w=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&p&&y&&x){const k=a.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),N=a.valueNode.getBoundingClientRect(),C=x.getBoundingClientRect();if(a.dir!=="rtl"){const se=C.left-j.left,Q=N.left-se,ae=k.left-Q,re=k.width+ae,pe=Math.max(re,j.width),ve=window.innerWidth-Wa,Ie=mg(Q,[Wa,Math.max(Wa,ve-pe)]);l.style.minWidth=re+"px",l.style.left=Ie+"px"}else{const se=j.right-C.right,Q=window.innerWidth-N.right-se,ae=window.innerWidth-k.right-Q,re=k.width+ae,pe=Math.max(re,j.width),ve=window.innerWidth-Wa,Ie=mg(Q,[Wa,Math.max(Wa,ve-pe)]);l.style.minWidth=re+"px",l.style.right=Ie+"px"}const A=h(),R=window.innerHeight-Wa*2,H=p.scrollHeight,U=window.getComputedStyle(u),D=parseInt(U.borderTopWidth,10),B=parseInt(U.paddingTop,10),L=parseInt(U.borderBottomWidth,10),T=parseInt(U.paddingBottom,10),q=D+B+H+T+L,I=Math.min(y.offsetHeight*5,q),P=window.getComputedStyle(p),W=parseInt(P.paddingTop,10),V=parseInt(P.paddingBottom,10),ee=k.top+k.height/2-Wa,X=R-ee,ne=y.offsetHeight/2,F=y.offsetTop+ne,$=D+B+F,K=q-$;if($<=ee){const se=A.length>0&&y===A[A.length-1].ref.current;l.style.bottom="0px";const Q=u.clientHeight-p.offsetTop-p.offsetHeight,ae=Math.max(X,ne+(se?V:0)+Q+L),re=$+ae;l.style.height=re+"px"}else{const se=A.length>0&&y===A[0].ref.current;l.style.top="0px";const ae=Math.max(ee,D+p.offsetTop+(se?W:0)+ne)+K;l.style.height=ae+"px",p.scrollTop=$-ee+p.offsetTop}l.style.margin=`${Wa}px 0`,l.style.minHeight=I+"px",l.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[h,a.trigger,a.valueNode,l,u,p,y,x,a.dir,n]);on(()=>w(),[w]);const[_,S]=m.useState();on(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=m.useCallback(k=>{k&&v.current===!0&&(w(),b==null||b(),v.current=!1)},[w,b]);return o.jsx(P9e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(ct.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});qY.displayName=N9e;var C9e="SelectPopperPosition",iC=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Wa,...a}=e,i=f_(r);return o.jsx(WP,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iC.displayName=C9e;var[P9e,jO]=tp(Wu,{}),oC="SelectViewport",WY=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=kc(oC,r),i=jO(oC,r),l=xt(t,a.onViewportChange),c=m.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(u_.Slot,{scope:r,children:o.jsx(ct.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:We(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const v=window.innerHeight-Wa*2,p=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),x=Math.max(p,y);if(x<v){const b=x+g,w=Math.min(v,b),_=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});WY.displayName=oC;var VY="SelectGroup",[A9e,T9e]=tp(VY),O9e=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ni();return o.jsx(A9e,{scope:r,id:s,children:o.jsx(ct.div,{role:"group","aria-labelledby":s,...n,ref:t})})});O9e.displayName=VY;var HY="SelectLabel",KY=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=T9e(HY,r);return o.jsx(ct.div,{id:s.id,...n,ref:t})});KY.displayName=HY;var rw="SelectItem",[R9e,GY]=tp(rw),YY=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,l=jc(rw,r),c=kc(rw,r),u=l.value===n,[d,f]=m.useState(a??""),[h,g]=m.useState(!1),v=xt(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,s)}),p=ni(),y=m.useRef("touch"),x=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(R9e,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:m.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:o.jsx(u_.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(ct.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:We(i.onFocus,()=>g(!0)),onBlur:We(i.onBlur,()=>g(!1)),onClick:We(i.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:We(i.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:We(i.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:We(i.onPointerMove,b=>{var w;y.current=b.pointerType,s?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:We(i.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:We(i.onKeyDown,b=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(x9e.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});YY.displayName=rw;var sm="SelectItemText",JY=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=jc(sm,r),l=kc(sm,r),c=GY(sm,r),u=S9e(sm,r),[d,f]=m.useState(null),h=xt(t,x=>f(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),g=d==null?void 0:d.textContent,v=m.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=u;return on(()=>(p(v),()=>y(v)),[p,y,v]),o.jsxs(o.Fragment,{children:[o.jsx(ct.span,{id:c.textId,...a,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Gu.createPortal(a.children,i.valueNode):null]})});JY.displayName=sm;var XY="SelectItemIndicator",QY=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return GY(XY,r).isSelected?o.jsx(ct.span,{"aria-hidden":!0,...n,ref:t}):null});QY.displayName=XY;var lC="SelectScrollUpButton",ZY=m.forwardRef((e,t)=>{const r=kc(lC,e.__scopeSelect),n=jO(lC,e.__scopeSelect),[s,a]=m.useState(!1),i=xt(t,n.onScrollButtonChange);return on(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(tJ,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ZY.displayName=lC;var cC="SelectScrollDownButton",eJ=m.forwardRef((e,t)=>{const r=kc(cC,e.__scopeSelect),n=jO(cC,e.__scopeSelect),[s,a]=m.useState(!1),i=xt(t,n.onScrollButtonChange);return on(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(tJ,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});eJ.displayName=cC;var tJ=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=kc("SelectScrollButton",r),i=m.useRef(null),l=d_(r),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),on(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ct.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:We(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:We(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:We(s.onPointerLeave,()=>{c()})})}),$9e="SelectSeparator",rJ=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(ct.div,{"aria-hidden":!0,...n,ref:t})});rJ.displayName=$9e;var uC="SelectArrow",M9e=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=f_(r),a=jc(uC,r),i=kc(uC,r);return a.open&&i.position==="popper"?o.jsx(VP,{...s,...n,ref:t}):null});M9e.displayName=uC;function nJ(e){return e===""||e===void 0}var sJ=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=m.useRef(null),a=xt(t,s),i=l_(r);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[i,r]),o.jsx(HP,{asChild:!0,children:o.jsx("select",{...n,ref:a,defaultValue:r})})});sJ.displayName="BubbleSelect";function aJ(e){const t=Qt(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function iJ(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=I9e(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function I9e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var L9e=RY,oJ=MY,D9e=LY,F9e=DY,B9e=FY,lJ=BY,U9e=WY,cJ=KY,uJ=YY,z9e=JY,q9e=QY,dJ=ZY,fJ=eJ,hJ=rJ;const ko=L9e,Eo=D9e,Oi=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(oJ,{ref:n,className:le("flex h-[3.2rem] w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-0 hover:ring-0 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(F9e,{asChild:!0,children:o.jsx(Fo,{className:"h-4 w-4 opacity-50"})})]}));Oi.displayName=oJ.displayName;const pJ=m.forwardRef(({className:e,...t},r)=>o.jsx(dJ,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(xde,{className:"h-4 w-4"})}));pJ.displayName=dJ.displayName;const mJ=m.forwardRef(({className:e,...t},r)=>o.jsx(fJ,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Fo,{className:"h-4 w-4"})}));mJ.displayName=fJ.displayName;const Ri=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(B9e,{children:o.jsxs(lJ,{ref:s,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(pJ,{}),o.jsx(U9e,{className:le("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(mJ,{})]})}));Ri.displayName=lJ.displayName;const W9e=m.forwardRef(({className:e,...t},r)=>o.jsx(cJ,{ref:r,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));W9e.displayName=cJ.displayName;const _r=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(uJ,{ref:n,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(q9e,{children:o.jsx(uA,{className:"h-4 w-4"})})}),o.jsx(z9e,{children:t})]}));_r.displayName=uJ.displayName;const V9e=m.forwardRef(({className:e,...t},r)=>o.jsx(hJ,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));V9e.displayName=hJ.displayName;const dC=({compact:e=!1})=>{Ko();const[t,r]=m.useState(!1),[n,s]=m.useState(null),[a,i]=m.useState(!1),[l,c]=m.useState(!1),[u,d]=m.useState(!1);m.useEffect(()=>{r(!0)},[]),m.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}if(window.navigator.standalone===!0){i(!0);return}const g=localStorage.getItem("pwa-install-card-dismissed");if(g){const x=parseInt(g,10);if((Date.now()-x)/(1e3*60*60*24)<30){c(!0);return}}const v=x=>{x.preventDefault(),s(x)};window.addEventListener("beforeinstallprompt",v);const p=async()=>{try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.ready}}catch(x){console.log("Service worker check:",x)}},y=setTimeout(()=>{p()},1e3);return()=>{window.removeEventListener("beforeinstallprompt",v),clearTimeout(y)}},[]);const f=async()=>{if(d(!0),n){try{await n.prompt();const{outcome:x}=await n.userChoice;x==="accepted"?(i(!0),s(null),de.success("App installation started!")):de.info("Installation cancelled. You can try again later.")}catch(x){console.error("Error installing PWA:",x),de.error("Failed to trigger installation. Please try using your browser menu.")}finally{d(!1)}return}let g=!1;const p=await new Promise(x=>{const b=w=>{w.preventDefault(),g=!0;const _=w;s(_),x(_)};window.addEventListener("beforeinstallprompt",b,{once:!0}),setTimeout(()=>{g||(window.removeEventListener("beforeinstallprompt",b),x(null))},2e3)});if(p){try{await p.prompt();const{outcome:x}=await p.userChoice;x==="accepted"?(i(!0),s(null),de.success("App installation started!")):de.info("Installation cancelled. You can try again later.")}catch(x){console.error("Error installing PWA:",x),de.error("Failed to trigger installation. Please try using your browser menu.")}finally{d(!1)}return}if(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1){de.info("Tap the Share button (square with arrow), then select 'Add to Home Screen'",{duration:4e3}),d(!1);return}try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.ready;de.info("Install prompt not available. Please check your browser's menu for 'Install' or 'Add to Home Screen' option.",{duration:4e3})}}catch(x){console.error("Service worker check failed:",x)}d(!1)};if(a||l||!t)return null;const h=()=>o.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Install App Illustration",className:le("w-full h-auto object-contain",e?"max-h-24":"max-h-40"),onError:g=>{console.error("Image failed to load:",g)}});return o.jsxs(Oe,{className:le(e&&"p-0"),children:[o.jsxs(yt,{className:le(e&&"pb-3 px-4 pt-4"),children:[o.jsx(Nt,{className:"text-lg",children:"Install App"}),o.jsx(Fr,{children:"Download our app for a better experience"})]}),o.jsxs(Me,{className:le("space-y-4",e&&"space-y-3 px-4 pb-4"),children:[o.jsx(h,{}),o.jsxs("div",{className:le("space-y-2",e&&"space-y-1.5"),children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Di,{className:le("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),o.jsx("span",{children:"Works offline"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Di,{className:le("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),o.jsx("span",{children:"Faster loading"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Di,{className:le("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),o.jsx("span",{children:"Home screen access"})]})]}),o.jsxs(oe,{onClick:f,disabled:u,className:le("w-full",e&&"h-9"),children:[o.jsx(KE,{className:le("mr-2 h-4 w-4",e&&"h-3.5 w-3.5")}),u?"Preparing...":n?"Download & Install Now":"Download App"]})]})]})},Dj=[{id:"account",label:"Account Settings"},{id:"notifications",label:"Notifications"},{id:"privacy",label:"Privacy & Security"},{id:"subscription",label:"Subscription & Billing"},{id:"learning",label:"Learning Preferences"},{id:"accessibility",label:"Theme & Accessibility"}];function H9e(){const{user:e,logout:t,refreshUser:r}=ir(),{theme:n,setTheme:s}=Ko(),{fontSize:a,setFontSize:i}=ide(),{language:l,setLanguage:c}=hi(),u=da(),[d,f]=Sy();rr(),Ws();const[h,g]=m.useState(!1),v=m.useRef(null),p=m.useRef(null),y=()=>{const je=["account","notifications","privacy","subscription","learning","accessibility"];try{const ft=d.get("section");if(ft&&je.includes(ft))return ft}catch(ft){console.error("Error getting initial section:",ft)}return"account"},[x,b]=m.useState(()=>y()),[w,_]=m.useState(!1);m.useEffect(()=>{const je=d.get("payment");je==="success"?(de.success("Payment successful! Your subscription has been activated."),f(ft=>(ft.delete("payment"),ft))):je==="failed"&&(de.error("Payment failed. Please try again."),f(ft=>(ft.delete("payment"),ft)))},[d,f]),m.useEffect(()=>{if(!u||!v.current)return;const je=setTimeout(()=>{const ft=v.current;if(!ft)return;const $t=ft.querySelector(`[data-section="${x}"]`);if(!$t)return;const Ut=ft.getBoundingClientRect(),St=$t.getBoundingClientRect(),Jt=ft.scrollLeft,O=St.left-Ut.left+Jt,z=St.width,ge=Ut.width,Ke=O-ge/2+z/2;ft.scrollTo({left:Math.max(0,Ke),behavior:"smooth"})},50);return()=>clearTimeout(je)},[x,u]);const[S,E]=m.useState(""),[k,j]=m.useState("");m.useState(!1);const N=m.useRef(!1),[C,A]=m.useState(1),[R,H]=m.useState(""),[U,D]=m.useState(""),[B,L]=m.useState(""),[T,q]=m.useState(!1),[I,P]=m.useState(!0),[W,V]=m.useState(!0),[ee,X]=m.useState(!0),[ne,F]=m.useState(!0),[$,K]=m.useState(!0),[Y,se]=m.useState(!1),[Q,ae]=m.useState(!1),[re,pe]=m.useState(null),[ve,Ie]=m.useState(!1),[et,Je]=m.useState([]),[dt,Ce]=m.useState(!1),[ke,G]=m.useState(!0),[ce,Ne]=m.useState(!0),[qe,Ve]=m.useState(!0),[Re,it]=m.useState("weekly"),[xe,Pe]=m.useState(a),[Z,J]=m.useState(l),fe=je=>{b(je)};m.useEffect(()=>{e&&!N.current&&(E(e.first_name||""),j(e.last_name||""))},[e==null?void 0:e.id,e==null?void 0:e.first_name,e==null?void 0:e.last_name]),m.useEffect(()=>{Pe(a)},[a]),m.useEffect(()=>{J(l)},[l]),m.useEffect(()=>{g(!0);const je=(St,Jt)=>{try{const O=localStorage.getItem(St);if(O!==null)return JSON.parse(O)}catch(O){console.error(`Error loading preference ${St}:`,O),localStorage.removeItem(St)}return Jt};P(je("notif_email_job_matches",!0)),V(je("notif_email_new_courses",!0)),X(je("notif_email_skill_updates",!0)),F(je("notif_in_app_messages",!0)),K(je("notif_in_app_progress",!0)),se(je("notif_newsletter",!1)),ae(je("notif_push",!1)),G(je("privacy_show_skills",!0)),Ne(je("privacy_show_test_results",!0)),Ve(je("privacy_show_completed_courses",!0)),it(je("ai_recommendation_frequency","weekly"));const ft=je("breneo-font-size",a),$t=ft==="large"?"big":ft;["small","medium","big"].includes($t)&&(Pe($t),i($t));const Ut=je("accessibility_language","en");J(Ut==="en"||Ut==="ka"?Ut:"en")},[]),m.useEffect(()=>{if(!h||x!=="subscription")return;(async()=>{try{Ie(!0),Ce(!0);const[ft,$t]=await Promise.all([wm.fetchSubscription(),wm.fetchPaymentHistory()]);pe(ft),Je($t)}catch(ft){console.error("Failed to fetch subscription data:",ft)}finally{Ie(!1),Ce(!1)}})()},[h,x]),m.useEffect(()=>{h&&f({section:x},{replace:!1})},[x,h,f]),m.useEffect(()=>{h&&localStorage.setItem("notif_email_job_matches",JSON.stringify(I))},[I,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_email_new_courses",JSON.stringify(W))},[W,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_email_skill_updates",JSON.stringify(ee))},[ee,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_in_app_messages",JSON.stringify(ne))},[ne,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_in_app_progress",JSON.stringify($))},[$,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_newsletter",JSON.stringify(Y))},[Y,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_push",JSON.stringify(Q))},[Q,h]),m.useEffect(()=>{h&&localStorage.setItem("privacy_show_skills",JSON.stringify(ke))},[ke,h]),m.useEffect(()=>{h&&localStorage.setItem("privacy_show_test_results",JSON.stringify(ce))},[ce,h]),m.useEffect(()=>{h&&localStorage.setItem("privacy_show_completed_courses",JSON.stringify(qe))},[qe,h]),m.useEffect(()=>{h&&localStorage.setItem("ai_recommendation_frequency",JSON.stringify(Re))},[Re,h]);const Fe=je=>{Pe(je),i(je)},Ge=je=>{J(je),c(je),localStorage.setItem("accessibility_language",JSON.stringify(je))},$e=je=>{s(je),localStorage.setItem("theme",je)};m.useEffect(()=>{h&&localStorage.setItem("accessibility_language",JSON.stringify(Z))},[Z,h]);const he=async je=>{var ft,$t;if(je.preventDefault(),q(!0),!(e!=null&&e.email)){de.error("Email not found. Please log in again."),q(!1);return}try{const Ut=await Se.post(Ze.AUTH.PASSWORD_RESET,{email:e.email});de.success(Ut.data.message||"Code sent to your email!"),A(2)}catch(Ut){Zt.isAxiosError(Ut)?de.error((($t=(ft=Ut.response)==null?void 0:ft.data)==null?void 0:$t.error)||"Error sending code"):de.error("Error sending code")}finally{q(!1)}},_e=async je=>{var ft,$t;je.preventDefault(),q(!0);try{const Ut=await Se.post(Ze.AUTH.PASSWORD_RESET_VERIFY,{email:e==null?void 0:e.email,code:R});de.success(Ut.data.message||"Code verified!"),A(3)}catch(Ut){Zt.isAxiosError(Ut)?de.error((($t=(ft=Ut.response)==null?void 0:ft.data)==null?void 0:$t.error)||"Invalid code"):de.error("Invalid code")}finally{q(!1)}},Be=async je=>{var ft,$t;if(je.preventDefault(),U!==B){de.error("Passwords do not match");return}if(U.length<6){de.error("Password must be at least 6 characters long");return}q(!0);try{const Ut=await Se.post(Ze.AUTH.PASSWORD_RESET_CONFIRM,{email:e==null?void 0:e.email,code:R,new_password:U,confirm_password:B});de.success(Ut.data.message||"Password updated successfully!"),A(1),H(""),D(""),L("")}catch(Ut){Zt.isAxiosError(Ut)?de.error((($t=(ft=Ut.response)==null?void 0:ft.data)==null?void 0:$t.error)||"Error setting new password"):de.error("Error setting new password")}finally{q(!1)}},He=async()=>{de.info("Preparing your data export..."),setTimeout(()=>{de.success("Data export ready! Check your email for the download link.")},2e3)},Ue=n==="dark"?"ON":n==="system"?"AUTO":"OFF",bt=()=>{switch(x){case"account":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Account Settings"}),o.jsxs(Oe,{children:[o.jsxs(yt,{children:[o.jsx(Nt,{children:"Email & Password"}),o.jsx(Fr,{children:"Manage your login credentials and security"})]}),o.jsxs(Me,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Email Address"}),o.jsx(rt,{value:(e==null?void 0:e.email)||"",disabled:!0,className:"h-[3.2rem] bg-muted/50"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be edited. Contact support if you need to update it."})]}),o.jsx(mf,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(De,{children:"Change Password"}),C===1&&o.jsx("form",{onSubmit:he,className:"space-y-4",children:o.jsx(oe,{type:"submit",disabled:T,children:T?"Sending...":"Send Verification Code"})}),C===2&&o.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[o.jsx(rt,{placeholder:"Enter 6-digit code",value:R,onChange:je=>H(je.target.value),className:"h-[3.2rem]"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(oe,{type:"submit",disabled:T,children:T?"Verifying...":"Verify Code"}),o.jsx(oe,{type:"button",variant:"outline",onClick:()=>A(1),children:"Back"})]})]}),C===3&&o.jsxs("form",{onSubmit:Be,className:"space-y-4",children:[o.jsx(rt,{type:"password",placeholder:"New password",value:U,onChange:je=>D(je.target.value),className:"h-[3.2rem]"}),o.jsx(rt,{type:"password",placeholder:"Confirm new password",value:B,onChange:je=>L(je.target.value),className:"h-[3.2rem]"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(oe,{type:"submit",disabled:T,children:T?"Updating...":"Update Password"}),o.jsx(oe,{type:"button",variant:"outline",onClick:()=>A(2),children:"Back"})]})]})]})]})]}),o.jsxs(Oe,{children:[o.jsxs(yt,{children:[o.jsx(Nt,{children:"Log out"}),o.jsx(Fr,{children:"Sign out of your account on this device"})]}),o.jsx(Me,{children:o.jsxs(oe,{variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50 hover:border-red-300 dark:border-red-900/50 dark:hover:bg-red-900/20",onClick:()=>_(!0),children:[o.jsx(az,{className:"h-4 w-4 mr-2"}),"Log out"]})})]})]});case"notifications":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Notifications"}),o.jsxs(Oe,{children:[o.jsxs(yt,{children:[o.jsx(Nt,{children:"Email Notifications"}),o.jsx(Fr,{children:"Control how and when you receive email updates"})]}),o.jsxs(Me,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(De,{children:"Job Matches"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when new jobs match your profile"})]}),o.jsx(hs,{checked:I,onCheckedChange:P})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(De,{children:"New Courses"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates about new courses in your interests"})]}),o.jsx(hs,{checked:W,onCheckedChange:V})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(De,{children:"Skill Updates"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about skill recommendations and updates"})]}),o.jsx(hs,{checked:ee,onCheckedChange:X})]}),o.jsx(mf,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(De,{children:"Newsletter"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Subscribe to our weekly newsletter"})]}),o.jsx(hs,{checked:Y,onCheckedChange:se})]})]})]}),o.jsxs(Oe,{children:[o.jsxs(yt,{children:[o.jsx(Nt,{children:"In-App Notifications"}),o.jsx(Fr,{children:"Manage notifications within the application"})]}),o.jsxs(Me,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(De,{children:"Messages"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify me about new messages"})]}),o.jsx(hs,{checked:ne,onCheckedChange:F})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(De,{children:"Progress Reminders"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get reminders about your learning progress"})]}),o.jsx(hs,{checked:$,onCheckedChange:K})]})]})]}),o.jsxs(Oe,{children:[o.jsxs(yt,{children:[o.jsx(Nt,{children:"Push Notifications"}),o.jsx(Fr,{children:"Receive notifications even when you're not on the site"})]}),o.jsx(Me,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(De,{children:"Enable Push Notifications"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow Breneo to send you push notifications"})]}),o.jsx(hs,{checked:Q,onCheckedChange:ae})]})})]})]});case"privacy":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Privacy & Security"}),o.jsxs(Oe,{children:[o.jsxs(yt,{children:[o.jsx(Nt,{children:"Data Visibility"}),o.jsx(Fr,{children:"Manage what information is visible on your profile"})]}),o.jsxs(Me,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(De,{children:"Show Skills"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your skills on your profile"})]}),o.jsx(hs,{checked:ke,onCheckedChange:G})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(De,{children:"Show Test Results"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your skill test results"})]}),o.jsx(hs,{checked:ce,onCheckedChange:Ne})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(De,{children:"Show Completed Courses"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Display courses you've completed"})]}),o.jsx(hs,{checked:qe,onCheckedChange:Ve})]})]})]}),o.jsxs(Oe,{children:[o.jsxs(yt,{children:[o.jsx(Nt,{children:"Data Management"}),o.jsx(Fr,{children:"Download or export your data (GDPR compliance)"})]}),o.jsxs(Me,{className:"space-y-4",children:[o.jsxs(oe,{onClick:He,variant:"outline",children:[o.jsx(KE,{className:"h-4 w-4 mr-2"}),"Download My Data"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Request a copy of all your data. You'll receive an email with a download link."})]})]})]});case"subscription":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Subscription & Billing"}),o.jsxs(Oe,{children:[o.jsxs(yt,{children:[o.jsx(Nt,{children:"Current Plan"}),o.jsx(Fr,{children:"Your current subscription plan"})]}),o.jsx(Me,{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between p-6 border rounded-3xl bg-gradient-to-br from-primary/5 to-transparent relative overflow-hidden",children:[o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("p",{className:"text-2xl font-bold",children:ve?"...":(re==null?void 0:re.plan_name)||"Free Plan"}),(re==null?void 0:re.is_active)&&o.jsx(Pt,{className:"bg-green-500 text-white border-0 text-[10px] h-5 uppercase px-2 font-bold tracking-tight",children:"Active Now"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:re!=null&&re.is_active?`Next automatic renewal: ${re.next_payment_date||"Monthly"}`:"Basic access with limited features"})]}),!(re!=null&&re.is_active)&&!ve&&o.jsx(oe,{className:"relative z-10 shadow-lg shadow-primary/20",onClick:()=>{f({section:"subscription",upgrade:"true"},{replace:!0})},children:"Unlock Pro Features"}),o.jsx("div",{className:"absolute -right-10 -top-10 w-32 h-32 bg-primary/5 rounded-full blur-3xl"})]})})]}),o.jsxs(Oe,{children:[o.jsxs(yt,{children:[o.jsx(Nt,{children:"Payment Methods 2"}),o.jsx(Fr,{children:"Manage your payment methods"})]}),o.jsx(Me,{children:o.jsx("div",{className:"space-y-3",children:ve?o.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading payment methods..."}):re!=null&&re.card_mask?o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-2xl bg-muted/30",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:o.jsx(kde,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:(()=>{const je=re.card_mask,ft=re.card_type||"Card";if(je&&je!=="N/A"){const $t=je.length>4?je.slice(-4):je;return`${ft}  ${$t}`}return`${ft} `})()}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Saved via Bank of Georgia"})]})]}),o.jsx(Pt,{variant:"outline",className:"text-[10px] uppercase",children:"Default"})]}):o.jsx("p",{className:"text-sm text-muted-foreground",children:"No payment methods saved. Subscribe to a plan to save your card."})})})]}),o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Nt,{children:"Billing History"}),o.jsx(Fr,{children:"View and manage your recent transactions"})]}),o.jsx(Pt,{variant:"secondary",className:"text-[10px] uppercase font-bold tracking-wider px-2.5",children:"BOG Checkout"})]})}),o.jsx(Me,{children:dt?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-3",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching transaction history..."})]}):et.length>0?o.jsx("div",{className:"overflow-hidden rounded-xl border",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Date"}),o.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Description"}),o.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Amount"}),o.jsx("th",{className:"px-4 py-3 text-center font-medium",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y",children:et.map(je=>o.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 text-muted-foreground tabular-nums whitespace-nowrap",children:new Date(je.date).toLocaleDateString()}),o.jsx("td",{className:"px-4 py-3 font-medium",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{children:je.description||"Subscription Payment"}),je.card_mask&&o.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[je.payment_method,": ",je.card_mask]})]})}),o.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:[je.amount," ",je.currency]}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx(Pt,{variant:je.status==="completed"?"default":"secondary",className:`text-[10px] uppercase h-5 px-1.5 ${je.status==="completed"?"bg-green-500/10 text-green-600 border-green-200":""}`,children:je.status})})]},je.id))})]})})}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center border-2 border-dashed rounded-3xl bg-muted/20",children:[o.jsx("div",{className:"bg-muted p-3 rounded-full mb-3",children:o.jsx(KE,{className:"h-6 w-6 text-muted-foreground/50"})}),o.jsx(Nt,{className:"text-base mb-1",children:"No transaction history found"}),o.jsx(Fr,{className:"max-w-[250px]",children:"When you start subscribing to plans, your payment history will appear here."})]})})]})]});case"learning":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Learning Preferences"}),o.jsxs(Oe,{children:[o.jsxs(yt,{children:[o.jsx(Nt,{children:"AI Recommendations"}),o.jsx(Fr,{children:"How often would you like AI recommendations?"})]}),o.jsx(Me,{children:o.jsxs(ko,{value:Re,onValueChange:je=>it(je),children:[o.jsx(Oi,{children:o.jsx(Eo,{})}),o.jsxs(Ri,{children:[o.jsx(_r,{value:"daily",children:"Daily"}),o.jsx(_r,{value:"weekly",children:"Weekly"}),o.jsx(_r,{value:"monthly",children:"Monthly"})]})]})})]}),o.jsxs(Oe,{children:[o.jsxs(yt,{children:[o.jsx(Nt,{children:"Interests & Career Paths"}),o.jsx(Fr,{children:"Manage your interests and preferred career paths"})]}),o.jsx(Me,{children:o.jsx(Wr,{to:"/interests",children:o.jsx(oe,{variant:"outline",children:"Manage Interests"})})})]})]});case"accessibility":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Theme & Accessibility"}),o.jsxs(Oe,{children:[o.jsxs(yt,{children:[o.jsx(Nt,{children:"Appearance"}),o.jsx(Fr,{children:"Customize the look and feel of the application"})]}),o.jsx(Me,{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(De,{children:"Theme"}),o.jsxs(ko,{value:n||"light",onValueChange:je=>$e(je),children:[o.jsx(Oi,{className:"w-32",children:o.jsx(Eo,{children:Ue})}),o.jsxs(Ri,{children:[o.jsx(_r,{value:"light",children:"Light"}),o.jsx(_r,{value:"dark",children:"Dark"}),o.jsx(_r,{value:"system",children:"Auto"})]})]})]})})]}),o.jsxs(Oe,{children:[o.jsxs(yt,{children:[o.jsx(Nt,{children:"Accessibility"}),o.jsx(Fr,{children:"Adjust settings for better accessibility"})]}),o.jsxs(Me,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Font Size"}),o.jsxs(ko,{value:xe,onValueChange:Fe,children:[o.jsx(Oi,{children:o.jsx(Eo,{})}),o.jsxs(Ri,{children:[o.jsx(_r,{value:"small",children:"Small"}),o.jsx(_r,{value:"medium",children:"Medium"}),o.jsx(_r,{value:"big",children:"Big"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Language"}),o.jsxs(ko,{value:Z,onValueChange:Ge,children:[o.jsx(Oi,{children:o.jsx(Eo,{})}),o.jsxs(Ri,{children:[o.jsx(_r,{value:"en",children:"English"}),o.jsx(_r,{value:"ka",children:"Georgian ()"})]})]})]})]})]})]});default:return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),o.jsx("p",{className:"text-muted-foreground",children:"Section not found"})]})}};return o.jsxs(At,{children:[u&&o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:hidden",style:{width:"380px"},children:o.jsxs("div",{className:"relative rounded-full overflow-hidden",children:[o.jsx("div",{ref:v,className:"overflow-x-auto scrollbar-hide touch-pan-x",style:{WebkitOverflowScrolling:"touch"},children:o.jsx(Un.div,{layout:!0,transition:{type:"spring",stiffness:500,damping:40,mass:1},className:"relative inline-flex items-center bg-gray-100/90 dark:bg-[#242424]/90 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-full p-1 shadow-sm min-w-max",children:Dj.map((je,ft)=>{const $t=ft===0,Ut=ft===Dj.length-1,St=x===je.id;return o.jsxs(Un.button,{layout:!0,type:"button","data-section":je.id,ref:x===je.id?p:null,onClick:Jt=>{Jt.preventDefault(),Jt.stopPropagation(),fe(je.id)},onTouchStart:Jt=>{Jt.stopPropagation()},className:`relative px-6 py-2.5 text-sm transition-colors duration-200 whitespace-nowrap outline-none touch-manipulation ${$t?"rounded-l-full":""} ${Ut?"rounded-r-full":""} ${!$t&&!Ut?"rounded-none":""} ${St?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[St&&o.jsx(Un.div,{layoutId:"active-settings-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-full",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:je.label})]},je.id)})})}),o.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-12 pointer-events-none bg-gradient-to-l from-gray-100/90 dark:from-[#242424]/90 to-transparent rounded-r-full"})]})}),o.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:o.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_400px]",children:[o.jsxs("div",{className:le(u&&"min-h-screen pb-32"),children:[bt(),u&&o.jsx("div",{className:"mt-8",children:o.jsx(dC,{compact:!0})})]}),!u&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsx(Nt,{className:"text-lg",children:"Settings"})}),o.jsx(Me,{className:"space-y-2",children:Dj.map(je=>o.jsx("button",{type:"button",onClick:ft=>{ft.preventDefault(),ft.stopPropagation(),fe(je.id)},className:le("w-full text-left text-sm transition-colors",x===je.id?"text-primary font-medium":"text-foreground hover:text-primary"),children:je.label},je.id))})]}),o.jsx(dC,{})]})]})}),o.jsx(Rs,{open:w,onOpenChange:_,children:o.jsxs(ms,{children:[o.jsxs($s,{children:[o.jsx(Ms,{children:"Log out"}),o.jsx(lf,{children:"Are you sure you want to log out?"})]}),o.jsxs(Qa,{children:[o.jsx(oe,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),o.jsx(oe,{className:"bg-red-500 text-white hover:bg-red-600",onClick:()=>{_(!1),t()},children:"Log out"})]})]})})]})}var gJ=["PageUp","PageDown"],yJ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],vJ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},rp="Slider",[fC,K9e,G9e]=Qy(rp),[xJ,SGe]=ua(rp,[G9e]),[Y9e,h_]=xJ(rp),bJ=m.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:g=!1,form:v,...p}=e,y=m.useRef(new Set),x=m.useRef(0),w=i==="horizontal"?J9e:X9e,[_=[],S]=ci({prop:d,defaultProp:u,onChange:A=>{var H;(H=[...y.current][x.current])==null||H.focus(),f(A)}}),E=m.useRef(_);function k(A){const R=rze(_,A);C(A,R)}function j(A){C(A,x.current)}function N(){const A=E.current[x.current];_[x.current]!==A&&h(_)}function C(A,R,{commit:H}={commit:!1}){const U=ize(a),D=oze(Math.round((A-n)/a)*a+n,U),B=mg(D,[n,s]);S((L=[])=>{const T=eze(L,B,R);if(aze(T,c*a)){x.current=T.indexOf(B);const q=String(T)!==String(L);return q&&H&&h(T),q?T:L}else return L})}return o.jsx(Y9e,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:x,thumbs:y.current,values:_,orientation:i,form:v,children:o.jsx(fC.Provider,{scope:e.__scopeSlider,children:o.jsx(fC.Slot,{scope:e.__scopeSlider,children:o.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:We(p.onPointerDown,()=>{l||(E.current=_)}),min:n,max:s,inverted:g,onSlideStart:l?void 0:k,onSlideMove:l?void 0:j,onSlideEnd:l?void 0:N,onHomeKeyDown:()=>!l&&C(n,0,{commit:!0}),onEndKeyDown:()=>!l&&C(s,_.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:R})=>{if(!l){const D=gJ.includes(A.key)||A.shiftKey&&yJ.includes(A.key)?10:1,B=x.current,L=_[B],T=a*D*R;C(L+T,B,{commit:!0})}}})})})})});bJ.displayName=rp;var[wJ,_J]=xJ(rp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),J9e=m.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=m.useState(null),g=xt(t,w=>h(w)),v=m.useRef(),p=Rh(s),y=p==="ltr",x=y&&!a||!y&&a;function b(w){const _=v.current||f.getBoundingClientRect(),S=[0,_.width],k=kO(S,x?[r,n]:[n,r]);return v.current=_,k(w-_.left)}return o.jsx(wJ,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:o.jsx(SJ,{dir:p,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const _=b(w.clientX);i==null||i(_)},onSlideMove:w=>{const _=b(w.clientX);l==null||l(_)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:w=>{const S=vJ[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:S?-1:1})}})})}),X9e=m.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=m.useRef(null),f=xt(t,d),h=m.useRef(),g=!s;function v(p){const y=h.current||d.current.getBoundingClientRect(),x=[0,y.height],w=kO(x,g?[n,r]:[r,n]);return h.current=y,w(p-y.top)}return o.jsx(wJ,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:o.jsx(SJ,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const y=v(p.clientY);a==null||a(y)},onSlideMove:p=>{const y=v(p.clientY);i==null||i(y)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const x=vJ[g?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:x?-1:1})}})})}),SJ=m.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=h_(rp,r);return o.jsx(ct.span,{...u,ref:t,onKeyDown:We(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):gJ.concat(yJ).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:We(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:We(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:We(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),a(f))})})}),jJ="SliderTrack",kJ=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=h_(jJ,r);return o.jsx(ct.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});kJ.displayName=jJ;var hC="SliderRange",EJ=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=h_(hC,r),a=_J(hC,r),i=m.useRef(null),l=xt(t,i),c=s.values.length,u=s.values.map(h=>CJ(h,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(ct.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});EJ.displayName=hC;var pC="SliderThumb",NJ=m.forwardRef((e,t)=>{const r=K9e(e.__scopeSlider),[n,s]=m.useState(null),a=xt(t,l=>s(l)),i=m.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(Q9e,{...e,ref:a,index:i})}),Q9e=m.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...a}=e,i=h_(pC,r),l=_J(pC,r),[c,u]=m.useState(null),d=xt(t,b=>u(b)),f=c?i.form||!!c.closest("form"):!0,h=Rw(c),g=i.values[n],v=g===void 0?0:CJ(g,i.min,i.max),p=tze(n,i.values.length),y=h==null?void 0:h[l.size],x=y?nze(y,v,l.direction):0;return m.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${x}px)`},children:[o.jsx(fC.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(ct.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":i.min,"aria-valuenow":g,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:d,style:g===void 0?{display:"none"}:e.style,onFocus:We(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),f&&o.jsx(Z9e,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:g},n)]})});NJ.displayName=pC;var Z9e=e=>{const{value:t,...r}=e,n=m.useRef(null),s=l_(t);return m.useEffect(()=>{const a=n.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==t&&c){const u=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(u)}},[s,t]),o.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function eze(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,a)=>s-a)}function CJ(e,t,r){const a=100/(r-t)*(e-t);return mg(a,[0,100])}function tze(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function rze(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function nze(e,t,r){const n=e/2,a=kO([0,50],[0,n]);return(n-a(t)*r)*r}function sze(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function aze(e,t){if(t>0){const r=sze(e);return Math.min(...r)>=t}return!0}function kO(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function ize(e){return(String(e).split(".")[1]||"").length}function oze(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var PJ=bJ,lze=kJ,cze=EJ,uze=NJ;const AJ=m.forwardRef(({className:e,...t},r)=>{const n=t.value||t.defaultValue||[0],s=Array.isArray(n)?n.length:1;return o.jsxs(PJ,{ref:r,className:le("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(lze,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",children:o.jsx(cze,{className:"absolute h-full bg-breneo-blue dark:bg-breneo-blue"})}),Array.from({length:s}).map((a,i)=>o.jsx(uze,{className:"block h-5 w-5 rounded-full border-2 border-breneo-blue dark:border-breneo-blue bg-white dark:bg-gray-800 ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-breneo-blue focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},i))]})});AJ.displayName=PJ.displayName;const dze=(e,t,r=20)=>{const n=[];for(let s=0;s<r;s++){const a=Math.exp(-s*.15)*100;n.push(Math.max(5,Math.min(100,a)))}return n},MF=({minSalary:e,maxSalary:t,salaryMin:r=e,salaryMax:n=t,salaryByAgreement:s=!1,onSalaryChange:a})=>{const{t:i}=hi(),[l,c]=m.useState(r??e),[u,d]=m.useState(n??t),[f,h]=m.useState(s),g=dze(e,t,20),v=Math.max(...g);m.useEffect(()=>{c(r??e),d(n??t),h(s??!1)},[r,n,s,e,t]);const p=w=>{const[_,S]=w;c(_),d(S),a(_===e?void 0:_,S===t?void 0:S,f)},y=w=>{const _=parseInt(w.target.value)||e,S=Math.max(e,Math.min(_,u));c(S),a(S===e?void 0:S,u===t?void 0:u,f)},x=w=>{const _=parseInt(w.target.value)||t,S=Math.min(t,Math.max(_,l));d(S),a(l===e?void 0:l,S===t?void 0:S,f)},b=w=>{h(w),a(l===e?void 0:l,u===t?void 0:u,w)};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-base font-medium text-left text-gray-900 dark:text-gray-100",children:i.jobs.salaryRange}),o.jsx("div",{className:"relative h-16 flex items-end justify-between gap-0.5 px-1",children:g.map((w,_)=>{const S=w/v*100,E=e+_*(t-e)/g.length,k=e+(_+1)*(t-e)/g.length,j=E>=l&&k<=u;return o.jsx("div",{className:"flex-1 bg-gray-900 dark:bg-gray-200 transition-opacity rounded-md",style:{height:`${S}%`,minHeight:"4px",opacity:j?1:.3}},_)})}),o.jsx("div",{className:"px-2",children:o.jsx(AJ,{value:[l,u],onValueChange:p,min:e,max:t,step:100,className:"w-full"})}),o.jsxs("div",{className:"flex items-end gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(De,{htmlFor:"salary-min",className:"text-xs text-gray-600 dark:text-gray-300 mb-1 block",children:i.jobs.minimum}),o.jsx(rt,{id:"salary-min",type:"number",value:l,onChange:y,min:e,max:u,className:"h-10"})]}),o.jsx("div",{className:"pb-2.5",children:o.jsx("span",{className:"text-gray-400 dark:text-gray-400",children:"-"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx(De,{htmlFor:"salary-max",className:"text-xs text-gray-600 dark:text-gray-300 mb-1 block",children:i.jobs.maximum}),o.jsx(rt,{id:"salary-max",type:"number",value:u,onChange:x,min:l,max:t,className:"h-10"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[o.jsx(qn,{id:"salary-by-agreement",checked:f,onCheckedChange:b}),o.jsx(De,{htmlFor:"salary-by-agreement",className:"text-sm font-normal cursor-pointer text-gray-900 dark:text-gray-100",children:i.jobs.byAgreement})]})]})};function fze(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function hze(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:g,...v}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=m.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:y,children:g})};u.displayName=a+"Provider";function d(f,h){var p;const g=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=m.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,pze(s,...t)]}function pze(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var ay=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},mze=gh[" useInsertionEffect ".trim().toString()]||ay;function gze({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=yze({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{var f;if(l){const h=vze(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else a(d)},[l,e,a,i]);return[c,u]}function yze({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),a=m.useRef(t);return mze(()=>{a.current=t},[t]),m.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function vze(e){return typeof e=="function"}function IF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function TJ(...e){return t=>{let r=!1;const n=e.map(s=>{const a=IF(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():IF(e[s],null)}}}}function OJ(...e){return m.useCallback(TJ(...e),e)}function xze(e){const t=bze(e),r=m.forwardRef((n,s)=>{const{children:a,...i}=n,l=m.Children.toArray(a),c=l.find(_ze);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function bze(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const i=jze(s),l=Sze(a,s.props);return s.type!==m.Fragment&&(l.ref=n?TJ(n,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wze=Symbol("radix.slottable");function _ze(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wze}function Sze(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function jze(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kze=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],EO=kze.reduce((e,t)=>{const r=xze(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Eze(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var RJ=e=>{const{present:t,children:r}=e,n=Nze(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=OJ(n.ref,Cze(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:a}):null};RJ.displayName="Presence";function Nze(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),a=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Eze(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=p0(n.current);a.current=l==="mounted"?u:"none"},[l]),ay(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,g=p0(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ay(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const p=p0(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&p&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=g=>{g.target===t&&(a.current=p0(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function p0(e){return(e==null?void 0:e.animationName)||"none"}function Cze(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Pze=gh[" useId ".trim().toString()]||(()=>{}),Aze=0;function Tze(e){const[t,r]=m.useState(Pze());return ay(()=>{e||r(n=>n??String(Aze++))},[e]),e||(t?`radix-${t}`:"")}var p_="Collapsible",[Oze,jGe]=hze(p_),[Rze,NO]=Oze(p_),$J=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:i,...l}=e,[c,u]=gze({prop:n,defaultProp:s??!1,onChange:i,caller:p_});return o.jsx(Rze,{scope:r,disabled:a,contentId:Tze(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:o.jsx(EO.div,{"data-state":PO(c),"data-disabled":a?"":void 0,...l,ref:t})})});$J.displayName=p_;var MJ="CollapsibleTrigger",IJ=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=NO(MJ,r);return o.jsx(EO.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":PO(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:fze(e.onClick,s.onOpenToggle)})});IJ.displayName=MJ;var CO="CollapsibleContent",LJ=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=NO(CO,e.__scopeCollapsible);return o.jsx(RJ,{present:r||s.open,children:({present:a})=>o.jsx($ze,{...n,ref:t,present:a})})});LJ.displayName=CO;var $ze=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,i=NO(CO,r),[l,c]=m.useState(n),u=m.useRef(null),d=OJ(t,u),f=m.useRef(0),h=f.current,g=m.useRef(0),v=g.current,p=i.open||l,y=m.useRef(p),x=m.useRef(void 0);return m.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),ay(()=>{const b=u.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();f.current=w.height,g.current=w.width,y.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),c(n)}},[i.open,n]),o.jsx(EO.div,{"data-state":PO(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:p&&s})});function PO(e){return e?"open":"closed"}var Mze=$J;const mC=Mze,gC=IJ,yC=LJ,LF=["FULLTIME","PARTTIME","CONTRACTOR","INTERN"],Ize="",DF={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern"},FF=({filters:e,onFiltersChange:t,isMobile:r=!1,userTopSkills:n=[],mobileView:s="main",onMobileViewChange:a,countrySearchQuery:i="",onCountrySearchChange:l})=>{const{t:c}=hi(),[u,d]=m.useState(!1),[f,h]=m.useState(!1),[g,v]=m.useState(""),p=l&&i!==void 0?i:g,y=N=>{l?l(N):v(N)},x=M.useMemo(()=>{if(!p.trim())return sn;const N=p.toLowerCase();return sn.filter(C=>C.name.toLowerCase().includes(N)||C.code.toLowerCase().includes(N))},[p]);m.useEffect(()=>{r&&s!=="country"&&(l?l(""):v("")),!r&&!f&&(l?l(""):v(""))},[s,f,r,l]);const b=N=>{const C=e.jobTypes.includes(N)?e.jobTypes.filter(A=>A!==N):[...e.jobTypes,N];t({...e,jobTypes:C,countries:e.countries||[],datePosted:e.datePosted,skills:e.skills||[]})},w=N=>{const C=e.countries.includes(N)?e.countries.filter(A=>A!==N):[...e.countries,N];t({...e,countries:C,datePosted:e.datePosted,skills:e.skills||[],salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},_=N=>{t({...e,isRemote:N,countries:e.countries||[],datePosted:e.datePosted,skills:e.skills||[],salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},S=N=>{const C=e.skills.includes(N)?e.skills.filter(A=>A!==N):[...e.skills,N];t({...e,skills:C,countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},E=()=>{if(n.length===0)return;const N=n.every(C=>e.skills.includes(C));t(N?{...e,skills:[],countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement}:{...e,skills:n,countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},k=n.length>0&&n.every(N=>e.skills.includes(N)),j=(N,C,A)=>{t({...e,salaryMin:N,salaryMax:C,salaryByAgreement:A})};return r?s==="workType"?o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:o.jsxs("div",{className:"space-y-3",children:[LF.map(N=>{const C=e.jobTypes.includes(N);return o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-3",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0",children:DF[N]||N}),o.jsx(qn,{checked:C,onCheckedChange:()=>b(N),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},N)}),o.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 my-2"}),o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-3",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0",children:"Remote Jobs Only"}),o.jsx(qn,{checked:e.isRemote||!1,onCheckedChange:N=>_(!!N),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]})]})})}):s==="country"?o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden -mx-6 px-6",children:o.jsx("div",{className:"space-y-2",children:x.length===0?o.jsx("div",{className:"py-8 text-center text-sm text-gray-500",children:"No countries found"}):x.map(N=>{const C=e.countries.includes(N.code);return o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-2",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 truncate",children:N.name}),o.jsx(qn,{checked:C,onCheckedChange:()=>w(N.code),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},N.code)})})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:o.jsx(MF,{minSalary:0,maxSalary:2e4,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement,onSalaryChange:j})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{type:"button",onClick:()=>a==null?void 0:a("workType"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.workType}),o.jsx(wa,{className:"h-4 w-4 text-gray-400"})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{type:"button",onClick:()=>a==null?void 0:a("country"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.country}),o.jsx(wa,{className:"h-4 w-4 text-gray-400"})]})}),n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(De,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:c.jobs.interests}),o.jsx("button",{type:"button",onClick:E,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:k?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(N=>{const C=e.skills.includes(N);return o.jsx("button",{type:"button",onClick:()=>S(N),className:`
                      px-4 py-2 rounded-full text-sm font-medium transition-colors border
                      ${C?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                    `,children:N},N)})})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"space-y-3",children:o.jsx(MF,{minSalary:0,maxSalary:2e4,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement,onSalaryChange:j})}),n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(De,{className:"text-base font-medium dark:text-gray-100",children:c.jobs.interests}),o.jsx("button",{type:"button",onClick:E,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:k?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(N=>{const C=e.skills.includes(N);return o.jsx("button",{type:"button",onClick:()=>S(N),className:`
                    px-4 py-2 rounded-full text-sm font-medium transition-colors border
                    ${C?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                  `,children:N},N)})})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs(mC,{open:u,onOpenChange:d,children:[o.jsxs(gC,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${u?"rounded-t-lg":"rounded-lg"}`,children:[o.jsx(De,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.workType}),o.jsx(Fo,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${u?"transform rotate-180":""}`})]}),o.jsx(yC,{className:"mt-0",children:o.jsx("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"grid grid-cols-2 gap-3",children:LF.map(N=>{const C=e.jobTypes.includes(N);return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(qn,{checked:C,onCheckedChange:()=>b(N),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:DF[N]||N})]},N)})}),o.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 my-2"}),o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(qn,{checked:e.isRemote||!1,onCheckedChange:N=>_(!!N),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:"Remote Jobs Only"})]})]})})})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs(mC,{open:f,onOpenChange:N=>{h(N),N||y("")},children:[o.jsxs(gC,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${f?"rounded-t-lg":"rounded-lg"}`,children:[o.jsx(De,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.country}),o.jsx(Fo,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${f?"transform rotate-180":""}`})]}),o.jsx(yC,{className:"mt-0",children:o.jsxs("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:[o.jsx("div",{className:"sticky top-0 z-10 bg-gray-100 dark:bg-[rgb(55,57,60)] p-3 border-b border-gray-300 dark:border-gray-600",children:o.jsxs("div",{className:"relative",children:[o.jsx(Bo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(rt,{type:"text",placeholder:"Search countries...",value:p,onChange:N=>y(N.target.value),className:"pl-9 pr-3 h-9 text-sm bg-white dark:bg-gray-700"})]})}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-2 gap-2",children:x.length===0?o.jsx("div",{className:"col-span-2 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):x.map(N=>{const C=e.countries.includes(N.code);return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(qn,{checked:C,onCheckedChange:()=>w(N.code),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:N.name})]},N.code)})})})]})})]})})]})},DJ=({isOpen:e,onClose:t,filters:r,onFiltersChange:n,onApply:s,onClear:a,userTopSkills:i=[]})=>{const{t:l}=hi(),c=da(),[u,d]=m.useState("main"),[f,h]=m.useState(!1),[g,v]=m.useState(!1),[p,y]=m.useState(""),[x,b]=m.useState("");return M.useMemo(()=>{if(!p.trim())return sn;const w=p.toLowerCase();return sn.filter(_=>_.name.toLowerCase().includes(w)||_.code.toLowerCase().includes(w))},[p]),m.useEffect(()=>{e||(h(!1),v(!1),d("main"),b(""))},[e]),c?o.jsx(Fi,{open:e,onOpenChange:t,children:o.jsxs(Bi,{className:"max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(Ui,{className:"flex-shrink-0 border-b border-gray-200",children:o.jsx(zi,{className:"text-xl font-bold",children:u==="workType"?l.jobs.workType:u==="country"?l.jobs.country:Ize})}),u==="country"&&o.jsx("div",{className:"flex-shrink-0 px-6 py-3 border-b border-gray-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(Bo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(rt,{type:"text",placeholder:"Search countries...",value:x,onChange:w=>b(w.target.value),className:"pl-9 pr-3 h-9 text-sm"})]})}),o.jsx("div",{className:"px-6 py-6 flex-1 overflow-y-auto min-h-0",children:o.jsx(FF,{filters:r,onFiltersChange:n,isMobile:!0,userTopSkills:i,mobileView:u,onMobileViewChange:d,countrySearchQuery:x,onCountrySearchChange:b})}),u==="main"&&o.jsx(Uo,{className:"border-t border-gray-200",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(oe,{onClick:()=>{a(),d("main")},variant:"ghost",className:"h-12 px-6 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0 rounded-[18px]",children:l.common.clear}),o.jsx(oe,{onClick:()=>{s(),d("main")},className:"h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:l.common.apply})]})}),(u==="workType"||u==="country")&&o.jsx(Uo,{className:"border-t border-gray-200",children:o.jsx(oe,{onClick:()=>{b(""),d("main")},className:"w-full h-12 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:"Done"})})]})}):o.jsx(Rs,{open:e,onOpenChange:t,children:o.jsxs(ms,{className:"max-w-3xl max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx($s,{className:"flex-shrink-0",children:o.jsx(Ms,{children:"Filter Jobs"})}),o.jsx("div",{className:"py-4 overflow-y-auto flex-1 min-h-0",children:o.jsx(FF,{filters:r,onFiltersChange:n,isMobile:!1,userTopSkills:i})}),o.jsx(Qa,{className:"flex-shrink-0",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(oe,{onClick:()=>{a()},variant:"ghost",className:"w-auto h-10 px-4 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0",children:l.common.clear}),o.jsx(oe,{onClick:s,className:"w-auto h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90",children:l.common.apply})]})})]})})},il=[{id:"FULLTIME",label:"Full Time"},{id:"PARTTIME",label:"Part Time"},{id:"CONTRACTOR",label:"Contractor"},{id:"INTERN",label:"Intern"}],FJ=({selectedWorkTypes:e,onWorkTypesChange:t,placeholder:r="Work types",isRemote:n=!1,onRemoteChange:s})=>{var _;const[a,i]=m.useState(!1),[l,c]=m.useState(e),[u,d]=m.useState(n),f=m.useRef(null);m.useEffect(()=>{a&&(c(e),d(n))},[a,e,n]),m.useEffect(()=>{const S=k=>{f.current&&!f.current.contains(k.target)&&(i(!1),c(e),d(n))},E=k=>{k.key==="Escape"&&(i(!1),c(e),d(n))};return a&&(document.addEventListener("mousedown",S),document.addEventListener("keydown",E)),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("keydown",E)}},[a,e,n]);const h=S=>{l.includes(S)?c(l.filter(E=>E!==S)):c([...l,S])},g=()=>{l.length===il.length?c([]):c(il.map(S=>S.id))},v=()=>{t(l),s&&s(u),i(!1)},p=l.length===il.length,y=e.length===0?r:e.length===1?((_=il.find(S=>S.id===e[0]))==null?void 0:_.label)||r:e.length===il.length?"All work types":e.map(S=>{var E;return((E=il.find(k=>k.id===S))==null?void 0:E.label)||S}).join(", "),x=e.length===0,b=(S,E)=>{S.stopPropagation();const k=e.filter(j=>j!==E);t(k)},w=S=>{S.stopPropagation(),t([])};return o.jsxs("div",{className:"relative w-full max-w-full",ref:f,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full min-w-0",children:[o.jsxs("button",{type:"button",onClick:()=>i(!a),className:le("flex items-center flex-1 min-w-0 h-auto py-0 px-0 text-sm text-left bg-transparent border-0 focus:outline-none focus:ring-0","transition-colors cursor-pointer hover:opacity-80 overflow-hidden",x?"text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-gray-100"),children:[o.jsx(Cde,{className:"h-4 w-4 md:h-5 md:w-5 text-breneo-accent flex-shrink-0 mr-2"}),e.length===0?o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:r}):o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:y})]}),e.length>0&&o.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),e.length===1?b(S,e[0]):w(S)},className:"flex-shrink-0 p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded ml-1 transition-all duration-200 animate-in fade-in-0 zoom-in-95","aria-label":e.length===1?"Remove work type":"Remove all work types",children:o.jsx(Nr,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 hover:scale-110"})})]}),a&&o.jsxs("div",{className:le("absolute top-full left-0 mt-2 w-[calc(100vw-2rem)] md:w-[320px] rounded-lg shadow-lg border z-[9999] max-h-[400px] flex flex-col overflow-hidden","bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","min-w-[280px]"),children:[o.jsxs("div",{className:le("flex items-center justify-between px-4 py-3 border-b","border-gray-200 dark:border-gray-700"),children:[o.jsx("h3",{className:le("font-bold text-base","text-gray-900 dark:text-gray-100"),children:"Work Types"}),o.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),i(!1)},className:le("p-1 rounded transition-colors","hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Close",children:o.jsx(Nr,{className:le("h-5 w-5","text-gray-900 dark:text-gray-100")})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[o.jsxs("div",{className:le("flex items-center px-4 py-3 cursor-pointer transition-colors border-b","hover:bg-gray-50 dark:hover:bg-gray-700/50","border-gray-100 dark:border-gray-700"),onClick:S=>{S.stopPropagation(),g()},children:[o.jsx(qn,{checked:p,onCheckedChange:S=>{c(S?il.map(E=>E.id):[])},className:"mr-3"}),o.jsx("span",{className:le("text-sm","text-gray-900 dark:text-gray-100"),children:"Select All"})]}),il.map(S=>{const E=l.includes(S.id);return o.jsxs("div",{className:le("flex items-center px-4 py-3 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:k=>{k.stopPropagation(),h(S.id)},children:[o.jsx(qn,{checked:E,onCheckedChange:k=>{c(k?[...l,S.id]:l.filter(j=>j!==S.id))},className:"mr-3"}),o.jsx("span",{className:le("text-sm","text-gray-900 dark:text-gray-100"),children:S.label})]},S.id)}),s&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:le("border-t","border-gray-100 dark:border-gray-700")}),o.jsxs("div",{className:le("flex items-center px-4 py-3 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:S=>{S.stopPropagation(),d(!u)},children:[o.jsx(qn,{checked:u,onCheckedChange:S=>{d(!!S)},className:"mr-3"}),o.jsx("span",{className:le("text-sm","text-gray-900 dark:text-gray-100"),children:"Remote Jobs Only"})]})]})]}),o.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-white dark:bg-gray-800 sticky bottom-0 z-10",children:o.jsx(oe,{onClick:S=>{S.stopPropagation(),v()},className:"w-full",children:"Save"})})]})]})},io={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern",INTERNSHIP:"Internship"},Lze=async(e=1)=>{try{console.log(` fetchInternshipJobs called - fetching internship jobs page ${e}`);const t=await ui.fetchActiveJobs({query:"intern intern internship",filters:{country:void 0,countries:[],jobTypes:["INTERN"],isRemote:void 0,datePosted:"week",skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:e,pageSize:50});if(!t||!Array.isArray(t.jobs))return console.warn("Invalid response format from job service:",t),{jobs:[],hasMore:!1,total:0};const r=t.jobs.filter(n=>{const s=String(n.id||"");return s&&s.trim()!==""});return{jobs:r,hasMore:t.hasMore??!1,total:t.total||r.length}}catch(t){return console.error("Error fetching internship jobs:",t),{jobs:[],hasMore:!1,total:0}}},Dze=async(e=1,t=[])=>{var r,n;try{console.log(` fetchRemoteJobs called - fetching remote jobs page ${e} with skills:`,t);const s=await ui.fetchActiveJobs({query:"remote",filters:{country:void 0,countries:[],jobTypes:[],isRemote:!0,datePosted:"week",skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:e,pageSize:50});if(console.log(" fetchRemoteJobs response:",{totalJobs:((r=s.jobs)==null?void 0:r.length)||0,hasMore:s.hasMore,sampleJob:((n=s.jobs)==null?void 0:n[0])||null}),!s||!Array.isArray(s.jobs))return console.warn("Invalid response format from job service:",s),{jobs:[],hasMore:!1,total:0};const a=s.jobs.filter(i=>{const l=String(i.id||"");return l&&l.trim()!==""});return console.log(` fetchRemoteJobs: ${a.length} valid remote jobs found`),{jobs:a,hasMore:s.hasMore??!1,total:s.total||a.length}}catch(s){return console.error(" Error fetching remote jobs:",s),{jobs:[],hasMore:!1,total:0}}},BF="jobsFilters",BJ="jobsPage_latestJobs",UJ=30*60*1e3,Fze=()=>{try{const e=sessionStorage.getItem(BJ);if(!e)return null;const t=JSON.parse(e);return!t||!Array.isArray(t.jobs)||Date.now()-t.timestamp>UJ?null:{jobs:t.jobs,hasMore:t.hasMore??!1,total:t.total??t.jobs.length}}catch{return null}},Bze=e=>{try{sessionStorage.setItem(BJ,JSON.stringify({...e,timestamp:Date.now()}))}catch{}},Uze=(e,t,r)=>{try{sessionStorage.setItem(e,JSON.stringify({filters:t,search:r}))}catch(n){console.error("Error saving filters to session storage:",n)}},zze=e=>{try{const t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading filters from session storage:",t)}return null},qze=()=>{const{user:e}=ir(),t=Ws(),r=da(),n=rr(),[s,a]=Sy(),[i,l]=m.useState(!1),[c,u]=m.useState([]),[d,f]=m.useState(!0),h=M.useRef(!1),{data:g=[]}=Wt({queryKey:["profileSkills",e==null?void 0:e.id],queryFn:()=>bn.getMySkills(),enabled:!!e}),v=m.useMemo(()=>{const O=(g||[]).map(ge=>pn(ge.skill_name)),z=(c||[]).map(ge=>pn(ge));return[...new Set([...O,...z])]},[g,c]),[p,y]=m.useState(1),[x,b]=m.useState([]),[w,_]=m.useState(!1),[S,E]=m.useState(!1),[k,j]=m.useState(1),[N,C]=m.useState([]),[A,R]=m.useState(!1),[H,U]=m.useState(!1),[D,B]=m.useState(1),[L,T]=m.useState([]),[q,I]=m.useState(!1),[P,W]=m.useState(!1);m.useCallback((O,z,ge)=>{const Ke=new URLSearchParams;z&&Ke.set("search",z),O.countries.length>0&&Ke.set("countries",O.countries.join(",")),O.skills.length>0&&Ke.set("skills",O.skills.join(",")),O.jobTypes.length>0&&Ke.set("jobTypes",O.jobTypes.join(",")),O.isRemote&&Ke.set("isRemote","true"),O.datePosted&&O.datePosted!=="all"&&Ke.set("datePosted",O.datePosted),ge>1&&Ke.set("page",String(ge)),a(Ke,{replace:!0}),Uze(BF,O,z)},[a]);const[V,ee]=m.useState(()=>({country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1})),[X,ne]=m.useState(()=>{const O=s.get("search");if(O)return O;const z=zze(BF);return z&&z.search?z.search:""}),[F,$]=m.useState(V),K=O=>{let z=0;return O.countries.length>0&&(z+=O.countries.length),O.jobTypes.length>0&&(z+=O.jobTypes.length),O.isRemote&&(z+=1),O.datePosted&&(z+=1),O.skills.length>0&&(z+=O.skills.length),(O.salaryMin!==void 0||O.salaryMax!==void 0)&&(z+=1),O.salaryByAgreement&&(z+=1),z};m.useEffect(()=>{i&&$(V)},[i,V]),m.useEffect(()=>{if(s.get("search")||s.get("countries")||s.get("country")||s.get("skills")||s.get("jobTypes")||s.get("isRemote")||s.get("datePosted")||s.get("page")||s.get("salaryMin")||s.get("salaryMax")||s.get("salaryByAgreement")){const z=new URLSearchParams(s);!z.get("page")&&z.toString()&&z.set("page","1"),n(`/jobs/search?${z.toString()}`,{replace:!0})}},[]),m.useEffect(()=>{(async()=>{if(!e){f(!1);return}try{f(!0);try{const ge=await Se.get(`/api/skilltest/results/?user=${e.id}`);if(ge.data&&Array.isArray(ge.data)&&ge.data.length>0){const te=ge.data[0].skills_json,Ee=Object.keys(te.tech||{});u(Ee),f(!1);return}}catch{console.log("API endpoint not available, trying Supabase...")}const z=await Ih(String(e.id));if(z&&z.length>0){const ge=Lh(z),te=h1(ge,20).map(we=>we.skill),Ee=yg(te);u(Ee)}}catch(z){console.error("Error fetching user skills:",z),u([])}finally{f(!1)}})()},[e]),m.useEffect(()=>{h.current=!1},[e==null?void 0:e.id]),m.useEffect(()=>{!d&&c.length>0&&!h.current&&(ee(O=>({...O,skills:[...c]})),$(O=>({...O,skills:[...c]})),h.current=!0)},[d,c,e==null?void 0:e.id]);const{data:Y=[]}=Wt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var O;if(!e)return[];try{return(((O=(await Se.get(Ze.AUTH.PROFILE)).data)==null?void 0:O.saved_jobs)||[]).map(Ke=>String(Ke))}catch(z){return console.error("Error fetching saved jobs from profile API:",z),[]}},enabled:!!e});m.useMemo(()=>yg(V.skills||[]),[V.skills]),m.useMemo(()=>JSON.stringify({countries:V.countries.sort(),skills:V.skills.sort(),jobTypes:V.jobTypes.sort(),isRemote:V.isRemote,datePosted:V.datePosted,salaryMin:V.salaryMin,salaryMax:V.salaryMax,salaryByAgreement:V.salaryByAgreement}),[V]);const{data:se={jobs:[],hasMore:!1,total:0},isLoading:Q,error:ae}=Wt({queryKey:["latestJobs"],queryFn:async()=>{try{const O=Fze();if(O&&O.jobs.length>0)return O;const z=await ui.fetchActiveJobs({query:"",filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:1,pageSize:100});if(!z||!Array.isArray(z.jobs))return{jobs:[],hasMore:!1,total:0};const ge=z.jobs.filter(te=>{const Ee=String(te.id||te.job_id||"");return Ee&&Ee.trim()!==""}),Ke={jobs:ge,hasMore:z.hasMore??!1,total:ge.length};return Bze(Ke),Ke}catch(O){throw console.error(" Error fetching jobs:",O),O}},refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:UJ,gcTime:60*60*1e3,retry:2,retryDelay:1e3,enabled:!0}),{data:re={jobs:[],hasMore:!1,total:0},isLoading:pe,error:ve}=Wt({queryKey:["internshipJobs",k],queryFn:()=>Lze(k),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!0}),{data:Ie={jobs:[],hasMore:!1,total:0},isLoading:et,error:Je}=Wt({queryKey:["remoteJobs",D],queryFn:()=>Dze(D,[]),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!0});m.useEffect(()=>{se.jobs&&se.jobs.length>0?(b(se.jobs),_(se.hasMore),E(!1)):(b([]),_(!1))},[se]),m.useEffect(()=>{re.jobs&&re.jobs.length>0?(C(k===1?re.jobs:O=>{const z=new Set(O.map(Ke=>Ke.id||Ke.job_id)),ge=re.jobs.filter(Ke=>!z.has(Ke.id||Ke.job_id));return[...O,...ge]}),R(re.hasMore),U(!1)):k===1&&(C([]),R(!1))},[re,k]),m.useEffect(()=>{Ie.jobs&&Ie.jobs.length>0?(T(D===1?Ie.jobs:O=>{const z=new Set(O.map(Ke=>Ke.id||Ke.job_id)),ge=Ie.jobs.filter(Ke=>!z.has(Ke.id||Ke.job_id));return[...O,...ge]}),I(Ie.hasMore),W(!1)):D===1&&(T([]),I(!1))},[Ie,D]);const dt=x,Ce=N;m.useCallback(()=>{E(!0),y(O=>O+1)},[]),m.useCallback(()=>{U(!0),j(O=>O+1)},[]),m.useCallback(()=>{W(!0),B(O=>O+1)},[]);const ke=m.useCallback(()=>{const O=new URLSearchParams;X.trim()&&O.set("search",X.trim()),V.countries.length>0&&O.set("countries",V.countries.join(",")),V.skills.length>0&&O.set("skills",V.skills.join(",")),V.jobTypes.length>0&&O.set("jobTypes",V.jobTypes.join(",")),V.isRemote&&O.set("isRemote","true"),V.datePosted&&O.set("datePosted",V.datePosted),V.salaryMin!==void 0&&O.set("salaryMin",String(V.salaryMin)),V.salaryMax!==void 0&&O.set("salaryMax",String(V.salaryMax)),V.salaryByAgreement&&O.set("salaryByAgreement","true"),n(`/jobs/search?${O.toString()}`)},[X,V,n]),G=O=>{ne(O)},ce=O=>{O.key==="Enter"&&ke()},Ne=oa({mutationFn:async O=>{if(!e)throw new Error("User not logged in");if(!O.id)throw new Error("Job ID is required");const z=String(O.id);O.is_saved;try{const ge=`${Ze.JOBS.SAVE_JOB}${z}/`;await Se.post(ge)}catch(ge){const Ke=ge instanceof Error?ge.message:"Failed to save job. Please try again.";throw new Error(Ke)}},onSuccess:(O,z)=>{t.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),t.invalidateQueries({queryKey:["profile"]}),de.success(z.is_saved?"Job Unsaved":"Job Saved")},onError:O=>{console.error("Error saving job:",O);const z=O instanceof Error?O.message:"Failed to save job";de.error(z)}}),qe=M.useCallback(O=>{if(!O||O.length===0)return[];try{return(O||[]).map(z=>{const ge=z.company&&typeof z.company=="object"?z.company:null,Ke=String(z.id||z.job_id||"");if(!Ke||Ke.trim()==="")return console.warn("Skipping job without valid ID:",z),null;const te=String(z.title||z.job_title||z.position||"Untitled Position"),Ee=String(z.company_name||(ge!=null&&ge.company_name&&typeof ge.company_name=="string"?ge.company_name:null)||(ge!=null&&ge.name&&typeof ge.name=="string"?ge.name:null)||(z.companyName&&typeof z.companyName=="string"?z.companyName:null)||(z.employer_name&&typeof z.employer_name=="string"?z.employer_name:null)||(typeof z.company=="string"?z.company:null)||"Unknown Company"),we=z.job_city||z.city||(ge==null?void 0:ge.city)||"",Te=z.job_state||z.state||(ge==null?void 0:ge.state)||"",Ye=z.job_country||z.country||(ge==null?void 0:ge.country)||"",Ae=String(((tt,_t)=>{if(tt!=null&&tt.job_is_remote||tt!=null&&tt.is_remote||(tt==null?void 0:tt.remote)===!0)return"Remote";const jt=Bt=>Bt&&typeof Bt=="string"&&Bt.trim()?Bt.trim():null,nr=Bt=>{if(!Bt||typeof Bt!="object")return null;if(jt(Bt.display_name))return Bt.display_name;if(jt(Bt.name))return Bt.name;if(jt(Bt.location))return Bt.location;if(jt(Bt.address))return Bt.address;const Ir=[Bt.city||Bt.town||Bt.region||Bt.state,Bt.country].filter(Boolean).map(La=>String(La));return Ir.length?Ir.join(", "):null};if(Array.isArray(tt.locations)&&tt.locations.length>0)for(const Bt of tt.locations){const Ir=jt(Bt)||nr(Bt);if(Ir)return Ir}const fr=[tt.jobLocation,tt.location,tt.location_name,tt.job_location,tt.work_location,tt.address];for(const Bt of fr){const Ir=jt(Bt);if(Ir)return Ir}const Xr=nr(tt.location)||nr(tt.locationData)||nr(tt.job_location)||null;if(Xr)return Xr;if(_t){const Bt=jt(_t.location)||jt(_t.address)||nr(_t.location)||null;if(Bt)return Bt}const is=[we,Te,Ye].filter(Boolean).map(Bt=>String(Bt)).join(", ");return is||"Location not specified"})(z,ge)),ue=z.apply_url||z.job_apply_link||z.apply_link||z.url||z.applyUrl||z.jobUrl||z.company_url||(ge==null?void 0:ge.url)||"";let Le;!Le&&typeof z.company_logo=="string"&&z.company_logo.trim()&&(Le=z.company_logo.trim());const ot=tt=>{if(!tt)return!1;if(Array.isArray(tt)){for(const jt of tt)if(ot(jt))return!0;return!1}if(typeof tt=="object"){const jt=tt,nr=[jt.url,jt.src,jt.href,jt.logo,jt.image,jt.path,jt.file,jt.thumbnail];for(const fr of nr)if(ot(fr))return!0;return!1}const _t=String(tt).trim();return _t?_t.startsWith("data:")||_t.startsWith("blob:")?(Le=_t,!0):_t.startsWith("//")?(Le=`https:${_t}`,!0):_t.startsWith("http://")||_t.startsWith("https://")||_t.startsWith("/")||_t.startsWith("./")||_t.startsWith("../")?(Le=_t,!0):!1:!1},vt=z;if(!Le&&vt.company_logo&&ot(vt.company_logo),!Le&&z.company_logo&&ot(z.company_logo),!Le&&vt.companyLogo&&ot(vt.companyLogo),!Le&&z.companyLogo&&ot(z.companyLogo),!Le&&vt.employer_logo&&ot(vt.employer_logo),!Le&&z.employer_logo&&ot(z.employer_logo),!Le&&vt.logo&&ot(vt.logo),!Le&&z.logo&&ot(z.logo),!Le&&vt.logo_url&&ot(vt.logo_url),!Le&&z.logo_url&&ot(z.logo_url),!Le&&vt.employerLogo&&ot(vt.employerLogo),!Le&&vt.companyLogoUrl&&ot(vt.companyLogoUrl),!Le&&vt.logoUrl&&ot(vt.logoUrl),!Le&&ge&&(ge.logo&&ot(ge.logo),!Le&&ge.logo_url&&ot(ge.logo_url),!Le&&ge.company_logo&&ot(ge.company_logo),!Le&&ge.employer_logo&&ot(ge.employer_logo)),!Le&&z.employer&&typeof z.employer=="object"){const tt=z.employer;tt.logo&&ot(tt.logo),!Le&&tt.logo_url&&ot(tt.logo_url),!Le&&tt.company_logo&&ot(tt.company_logo),!Le&&tt.employer_logo&&ot(tt.employer_logo)}let Dt="By agreement";const Tt=z.job_min_salary||z.min_salary,dr=z.job_max_salary||z.max_salary,Ht=z.job_salary_currency||z.salary_currency||"$",Yr=z.job_salary_period||z.salary_period||"yearly";if(Tt&&dr&&typeof Tt=="number"&&typeof dr=="number"){const tt=Yr==="monthly"?"Monthly":"",_t=Tt.toLocaleString(),jt=dr.toLocaleString();["$","","","","",""].some(Xr=>Ht.includes(Xr))?Dt=`${Ht}${_t} - ${Ht}${jt}${tt?`/${tt}`:""}`:Dt=`${_t} - ${jt} ${Ht}${tt?`/${tt}`:""}`}else if(Tt&&typeof Tt=="number"){const tt=Tt.toLocaleString();Dt=["$","","","","",""].some(nr=>Ht.includes(nr))?`${Ht}${tt}+`:`${tt}+ ${Ht}`}else z.salary&&typeof z.salary=="string"&&(Dt=z.salary);const Jr=z.job_employment_type||z.employment_type||z.type||"FULLTIME",cn=Jr.toUpperCase(),tn=io[cn]||io[Jr]||Jr||"Full time";let Mt="On-site";z.job_is_remote||z.is_remote||z.remote===!0?Mt="Remote":te!=null&&te.toLowerCase().includes("hybrid")&&(Mt="Hybrid");const It=e&&v.length>=0?yu(z,Zl(v)).overallPercent:void 0;return{id:Ke,title:te,company:Ee,company_name:z.company_name||z.employer_name||(typeof z.company=="string"?z.company:void 0),location:Ae,url:ue,company_logo:Le,is_saved:Y==null?void 0:Y.includes(String(Ke)),salary:Dt,employment_type:tn,work_arrangement:Mt,matchPercentage:It}}).filter(z=>z!==null)}catch(z){return console.error("Error transforming jobs:",z),[]}},[Y,e,v]),Ve=M.useMemo(()=>qe(dt||[]),[dt,qe]),Re=m.useCallback((O,z,ge)=>{if(z||(z=x.find(Ke=>(Ke.id||Ke.job_id)===O.id)),ge.skills.length>0){const Ke=OA(z||O),te=(O.title||"").toLowerCase();if(ge.skills.some(we=>{const Te=we.toLowerCase();return te.includes(Te)?!0:Ke.some(Ye=>Ye.toLowerCase().includes(Te)||Te.includes(Ye.toLowerCase()))}))return!0}if(ge.countries.length>0){const Ke=(O.location||"").toLowerCase(),te=((z==null?void 0:z.job_country)||(z==null?void 0:z.country)||"").toString().toLowerCase(),Ee=((z==null?void 0:z.job_city)||(z==null?void 0:z.city)||"").toString().toLowerCase();if(ge.countries.some(Te=>{const Ye=sn.find(Ae=>Ae.code===Te),gt=((Ye==null?void 0:Ye.name)||Te).toLowerCase();return Ke.includes(gt)||te.includes(gt)||Ke.includes(Te.toLowerCase())||Ee.includes(gt)}))return!0}if(ge.jobTypes.length>0){const Ke=(O.employment_type||"").toUpperCase().replace(/[-\s]/g,"");if(ge.jobTypes.some(Ee=>{const Te=(io[Ee]||Ee).toUpperCase().replace(/[-\s]/g,"");return Ke.includes(Te)||Te.includes(Ke)}))return!0}if(ge.isRemote&&(O.work_arrangement==="Remote"||z!=null&&z.job_is_remote||z!=null&&z.is_remote||z!=null&&z.remote))return!0;if(ge.datePosted&&ge.datePosted!=="all"){const Ke=(z==null?void 0:z.posted_at)||(z==null?void 0:z.date_posted)||(z==null?void 0:z.fetched_at)||"";if(Ke){const te=new Date(Ke).getTime(),Ee=Date.now(),we=7*24*60*60*1e3,Te=30*24*60*60*1e3;if(ge.datePosted==="week"&&Ee-te<=we||ge.datePosted==="month"&&Ee-te<=Te)return!0}}if(ge.salaryMin!==void 0||ge.salaryMax!==void 0||ge.salaryByAgreement){const Ke=(z==null?void 0:z.job_min_salary)??(z==null?void 0:z.min_salary),te=(z==null?void 0:z.job_max_salary)??(z==null?void 0:z.max_salary);if(ge.salaryByAgreement&&Ke==null&&te==null)return!0;if(Ke!=null||te!=null)return!(ge.salaryMin!==void 0&&te!=null&&te<ge.salaryMin||ge.salaryMax!==void 0&&Ke!=null&&Ke>ge.salaryMax)}return!1},[x]),it=m.useMemo(()=>{const O=V.skills.length>0||V.countries.length>0||V.jobTypes.length>0||V.isRemote||V.datePosted&&V.datePosted!=="all"||V.salaryMin!==void 0||V.salaryMax!==void 0||V.salaryByAgreement,z=te=>[...te].sort((Ee,we)=>{const Te=x.find(ue=>(ue.id||ue.job_id)===Ee.id),Ye=x.find(ue=>(ue.id||ue.job_id)===we.id),gt=(Te==null?void 0:Te.posted_at)||(Te==null?void 0:Te.fetched_at)||(Te==null?void 0:Te.date_posted)||"",Ae=(Ye==null?void 0:Ye.posted_at)||(Ye==null?void 0:Ye.fetched_at)||(Ye==null?void 0:Ye.date_posted)||"";if(gt&&Ae)try{return new Date(Ae).getTime()-new Date(gt).getTime()}catch{return 0}return!gt&&Ae?1:gt&&!Ae?-1:0});if(!O)return z(Ve).slice(0,9);const ge=new Set;Ve.forEach(te=>{Re(te,void 0,V)&&ge.add(te.id)});const Ke=Ve.filter(te=>ge.has(te.id));return z(Ke)},[Ve,x,V,Re]),xe=m.useMemo(()=>[...Ve].sort((z,ge)=>(ge.matchPercentage??0)-(z.matchPercentage??0)).slice(0,9),[Ve]),Pe=M.useMemo(()=>{if(!Ce||Ce.length===0)return[];try{return(Ce||[]).map(O=>{const z=O.company&&typeof O.company=="object"?O.company:null,ge=String(O.id||"");if(!ge||ge.trim()==="")return console.warn("Skipping internship job without valid ID:",O),null;const Ke=O.title||O.job_title||O.position||"Untitled Position",te=O.company_name||(z==null?void 0:z.company_name)||(z==null?void 0:z.name)||O.companyName||O.employer_name||(typeof O.company=="string"?O.company:null)||"Unknown Company",Ee=O.job_city||O.city||(z==null?void 0:z.city)||"",we=O.job_state||O.state||(z==null?void 0:z.state)||"",Te=O.job_country||O.country||(z==null?void 0:z.country)||"",Ye=String((O.jobLocation&&typeof O.jobLocation=="string"?O.jobLocation:null)||(O.location&&typeof O.location=="string"?O.location:null)||(z!=null&&z.location&&typeof z.location=="string"?z.location:null)||[Ee,we,Te].filter(Boolean).map(wt=>String(wt)).join(", ")||"Location not specified"),gt=O.applyUrl||O.jobUrl||O.job_apply_link||O.apply_link||O.url||O.apply_url||O.company_url||(z==null?void 0:z.url)||"";let Ae;!Ae&&typeof O.company_logo=="string"&&O.company_logo.trim()&&(Ae=O.company_logo.trim()),!Ae&&typeof O.company_logo=="string"&&O.company_logo.trim()&&(Ae=O.company_logo.trim());const ue=wt=>{if(!wt)return!1;if(Array.isArray(wt)){for(const tt of wt)if(ue(tt))return!0;return!1}if(typeof wt=="object"){const tt=wt,_t=[tt.url,tt.src,tt.href,tt.logo,tt.image,tt.path,tt.file,tt.thumbnail];for(const jt of _t)if(ue(jt))return!0;return!1}const It=String(wt).trim();return It?It.startsWith("data:")||It.startsWith("blob:")?(Ae=It,!0):It.startsWith("//")?(Ae=`https:${It}`,!0):It.startsWith("http://")||It.startsWith("https://")||It.startsWith("/")||It.startsWith("./")||It.startsWith("../")?(Ae=It,!0):!1:!1};!Ae&&O.companyLogo&&ue(O.companyLogo),!Ae&&O.employer_logo&&ue(O.employer_logo),!Ae&&O.company_logo&&ue(O.company_logo),!Ae&&O.logo&&ue(O.logo),!Ae&&O.logo_url&&ue(O.logo_url);const Le=O;if(!Ae&&Le.companyLogo&&ue(Le.companyLogo),!Ae&&Le.employerLogo&&ue(Le.employerLogo),!Ae&&Le.companyLogoUrl&&ue(Le.companyLogoUrl),!Ae&&Le.logoUrl&&ue(Le.logoUrl),!Ae&&z&&(z.logo&&ue(z.logo),!Ae&&z.logo_url&&ue(z.logo_url),!Ae&&z.company_logo&&ue(z.company_logo),!Ae&&z.employer_logo&&ue(z.employer_logo)),!Ae&&O.employer&&typeof O.employer=="object"){const wt=O.employer;wt.logo&&ue(wt.logo),!Ae&&wt.logo_url&&ue(wt.logo_url),!Ae&&wt.company_logo&&ue(wt.company_logo),!Ae&&wt.employer_logo&&ue(wt.employer_logo)}let ot="By agreement";const vt=O.job_min_salary||O.min_salary,Dt=O.job_max_salary||O.max_salary,Tt=O.job_salary_currency||O.salary_currency||"$",dr=O.job_salary_period||O.salary_period||"yearly";if(vt&&Dt&&typeof vt=="number"&&typeof Dt=="number"){const wt=dr==="monthly"?"Monthly":"",It=vt.toLocaleString(),tt=Dt.toLocaleString();["$","","","","",""].some(nr=>Tt.includes(nr))?ot=`${Tt}${It} - ${Tt}${tt}${wt?`/${wt}`:""}`:ot=`${It} - ${tt} ${Tt}${wt?`/${wt}`:""}`}else if(vt&&typeof vt=="number"){const wt=vt.toLocaleString();ot=["$","","","","",""].some(_t=>Tt.includes(_t))?`${Tt}${wt}+`:`${wt}+ ${Tt}`}else O.salary&&typeof O.salary=="string"&&(ot=O.salary);const Ht=O.job_employment_type||O.employment_type||O.type||"INTERN",Yr=Ht.toUpperCase(),Jr=io[Yr]||io[Ht]||Ht||"Intern";let cn="On-site";O.job_is_remote||O.is_remote||O.remote===!0?cn="Remote":Ke!=null&&Ke.toLowerCase().includes("hybrid")&&(cn="Hybrid");const Mt=e&&v.length>=0?yu(O,Zl(v)).overallPercent:void 0;return{id:ge,title:Ke,company:te,company_name:O.company_name||O.employer_name||(typeof O.company=="string"?O.company:void 0),location:Ye,url:gt,company_logo:Ae,is_saved:Y==null?void 0:Y.includes(String(ge)),salary:ot,employment_type:Jr,work_arrangement:cn,matchPercentage:Mt}}).filter(O=>O!==null)}catch(O){return console.error("Error transforming internship jobs:",O),[]}},[Ce,Y,e,v]),Z=m.useMemo(()=>Pe,[Pe]),J=M.useMemo(()=>{if(!L||L.length===0)return[];try{return(L||[]).map(O=>{const z=O.company&&typeof O.company=="object"?O.company:null,ge=String(O.id||"");if(!ge||ge.trim()==="")return console.warn("Skipping remote job without valid ID:",O),null;const Ke=O.title||O.job_title||O.position||"Untitled Position",te=O.company_name||(z==null?void 0:z.company_name)||(z==null?void 0:z.name)||O.companyName||O.employer_name||(typeof O.company=="string"?O.company:null)||"Unknown Company",Ee=O.job_city||O.city||(z==null?void 0:z.city)||"",we=O.job_state||O.state||(z==null?void 0:z.state)||"",Te=O.job_country||O.country||(z==null?void 0:z.country)||"",Ye=String((O.jobLocation&&typeof O.jobLocation=="string"?O.jobLocation:null)||(O.location&&typeof O.location=="string"?O.location:null)||(z!=null&&z.location&&typeof z.location=="string"?z.location:null)||[Ee,we,Te].filter(Boolean).map(Mt=>String(Mt)).join(", ")||"Remote"),gt=O.applyUrl||O.jobUrl||O.job_apply_link||O.apply_link||O.url||O.apply_url||O.company_url||(z==null?void 0:z.url)||"";let Ae;const ue=Mt=>{if(!Mt)return!1;if(Array.isArray(Mt)){for(const It of Mt)if(ue(It))return!0;return!1}if(typeof Mt=="object"){const It=Mt,tt=[It.url,It.src,It.href,It.logo,It.image,It.path,It.file,It.thumbnail];for(const _t of tt)if(ue(_t))return!0;return!1}const wt=String(Mt).trim();return wt?wt.startsWith("data:")||wt.startsWith("blob:")?(Ae=wt,!0):wt.startsWith("//")?(Ae=`https:${wt}`,!0):wt.startsWith("http://")||wt.startsWith("https://")||wt.startsWith("/")||wt.startsWith("./")||wt.startsWith("../")?(Ae=wt,!0):!1:!1};!Ae&&O.companyLogo&&ue(O.companyLogo),!Ae&&O.employer_logo&&ue(O.employer_logo),!Ae&&O.company_logo&&ue(O.company_logo),!Ae&&O.logo&&ue(O.logo),!Ae&&O.logo_url&&ue(O.logo_url);const Le=O;if(!Ae&&Le.companyLogo&&ue(Le.companyLogo),!Ae&&Le.employerLogo&&ue(Le.employerLogo),!Ae&&Le.companyLogoUrl&&ue(Le.companyLogoUrl),!Ae&&Le.logoUrl&&ue(Le.logoUrl),!Ae&&z&&(z.logo&&ue(z.logo),!Ae&&z.logo_url&&ue(z.logo_url),!Ae&&z.company_logo&&ue(z.company_logo),!Ae&&z.employer_logo&&ue(z.employer_logo)),!Ae&&O.employer&&typeof O.employer=="object"){const Mt=O.employer;Mt.logo&&ue(Mt.logo),!Ae&&Mt.logo_url&&ue(Mt.logo_url),!Ae&&Mt.company_logo&&ue(Mt.company_logo),!Ae&&Mt.employer_logo&&ue(Mt.employer_logo)}let ot="By agreement";const vt=O.job_min_salary||O.min_salary,Dt=O.job_max_salary||O.max_salary,Tt=O.job_salary_currency||O.salary_currency||"$",dr=O.job_salary_period||O.salary_period||"yearly";if(vt&&Dt&&typeof vt=="number"&&typeof Dt=="number"){const Mt=dr==="monthly"?"Monthly":"",wt=vt.toLocaleString(),It=Dt.toLocaleString();["$","","","","",""].some(jt=>Tt.includes(jt))?ot=`${Tt}${wt} - ${Tt}${It}${Mt?`/${Mt}`:""}`:ot=`${wt} - ${It} ${Tt}${Mt?`/${Mt}`:""}`}else if(vt&&typeof vt=="number"){const Mt=vt.toLocaleString();ot=["$","","","","",""].some(tt=>Tt.includes(tt))?`${Tt}${Mt}+`:`${Mt}+ ${Tt}`}else O.salary&&typeof O.salary=="string"&&(ot=O.salary);const Ht=O.job_employment_type||O.employment_type||O.type||"FULLTIME",Yr=Ht.toUpperCase(),Jr=io[Yr]||io[Ht]||Ht||"Full time",cn="Remote",tn=e&&v.length>=0?yu(O,Zl(v)).overallPercent:void 0;return{id:ge,title:Ke,company:te,company_name:O.company_name||O.employer_name||(typeof O.company=="string"?O.company:void 0),location:Ye,url:gt,company_logo:Ae,is_saved:Y==null?void 0:Y.includes(String(ge)),salary:ot,employment_type:Jr,work_arrangement:cn,matchPercentage:tn}}).filter(O=>O!==null)}catch(O){return console.error("Error transforming remote jobs:",O),[]}},[L,Y,e,v]),fe=m.useMemo(()=>J,[J]),[Fe,Ge]=m.useState({});m.useEffect(()=>{(async()=>{const ge=[...Ve,...xe,...Pe,...J].filter(we=>!we.company_logo&&we.company_name);if(ge.length===0)return;const Ke=ge.map(async we=>{const Te=await $A(we.company_name||"",void 0);return{jobId:we.id,logo:Te}}),te=await Promise.all(Ke),Ee={};te.forEach(({jobId:we,logo:Te})=>{Te&&(Ee[we]=Te)}),Object.keys(Ee).length>0&&Ge(we=>({...we,...Ee}))})()},[Ve,xe,Pe,J]);const $e=it.map(O=>({...O,company_logo:O.company_logo||Fe[O.id]||void 0})),he=xe.map(O=>({...O,company_logo:O.company_logo||Fe[O.id]||void 0}));Z.map(O=>({...O,company_logo:O.company_logo||Fe[O.id]||void 0}));const _e=fe.map(O=>({...O,company_logo:O.company_logo||Fe[O.id]||void 0}));m.useEffect(()=>{console.log(" Job API Endpoint: https://breneo-job-aggregator.up.railway.app/api/search"),console.log(" JobsPage State:",{isLoading:Q,isLoadingInternships:pe,isLoadingRemote:et,error:ae==null?void 0:ae.message,internshipError:ve==null?void 0:ve.message,remoteError:Je==null?void 0:Je.message,jobsCount:dt.length,internshipJobsRawCount:Ce.length,transformedJobsCount:Ve.length,transformedInternshipJobsCount:Pe.length,transformedRemoteJobsCount:J.length,regularJobsCount:it.length,internJobsCount:Z.length,remoteJobsCount:fe.length,regularJobsPage:p,internshipJobsPage:k,remoteJobsPage:D,hasMoreRegularJobs:w,hasMoreInternshipJobs:A,hasMoreRemoteJobs:q,isLoadingMoreRegular:S,isLoadingMoreInternship:H,isLoadingMoreRemote:P})},[Q,pe,et,ae,ve,Je,dt.length,Ce.length,Ve.length,Pe.length,J.length,it.length,Z.length,fe.length,p,k,D,w,A,q,S,H,P]);const Be=m.useCallback((O,z)=>{const ge=new URLSearchParams;z&&ge.set("search",z),O.countries.length>0&&ge.set("countries",O.countries.join(",")),O.skills.length>0&&ge.set("skills",O.skills.join(",")),O.jobTypes.length>0&&ge.set("jobTypes",O.jobTypes.join(",")),O.isRemote&&ge.set("isRemote","true"),O.datePosted&&ge.set("datePosted",O.datePosted),n(`/jobs/search?${ge.toString()}`)},[n]),He=O=>{const z={...V,jobTypes:O};ee(z),$(z)},Ue=O=>{const z={...V,isRemote:O};ee(z),$(z)},bt=O=>{const z={...V,skills:V.skills.filter(ge=>ge!==O)};ee(z),$(z),Be(z,X)},je=O=>{const z={...V,countries:V.countries.filter(ge=>ge!==O)};ee(z),$(z),Be(z,X)},ft=O=>{const z=V.jobTypes.filter(Ke=>Ke!==O),ge={...V,jobTypes:z};ee(ge),$(ge),Be(ge,X)},$t=()=>{const O={...V,isRemote:!1};ee(O),$(O),Be(O,X)},Ut=()=>{console.log(" Applying filters:",F),ee(F),l(!1),Be(F,X)},St=()=>{const O={country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1};$(O),ee(O),l(!1)},Jt=async O=>{try{return(await ui.fetchActiveJobs({query:O,filters:{country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:"week",skills:[O]},page:1,pageSize:50})).jobs.length}catch(z){return console.error(`Error fetching job count for skill ${O}:`,z),0}};return Wt({queryKey:["skillJobCounts",c.join(",")],queryFn:async()=>{const O={};return await Promise.all(c.map(async z=>{O[z]=await Jt(z)})),O},enabled:c.length>0&&!d,staleTime:5*60*1e3,refetchOnWindowFocus:!1}),o.jsxs(At,{children:[o.jsx(RA,{}),o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:o.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] rounded-3xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-2.5 md:py-3 overflow-visible min-h-[3rem]",children:[o.jsx(Hr,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),o.jsx(rt,{placeholder:"",value:X,onChange:O=>G(O.target.value),onKeyDown:ce,className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(FJ,{selectedWorkTypes:V.jobTypes,onWorkTypesChange:He,isRemote:V.isRemote,onRemoteChange:Ue,placeholder:" "})})]}),(()=>{const O=K(V);return o.jsxs(oe,{variant:"outline",size:"icon",onClick:()=>l(!0),className:"h-10 w-10 flex-shrink-0 bg-gray-100 dark:bg-gray-700 border-0 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md ml-2 relative","aria-label":"Filter jobs",children:[o.jsx(hA,{className:"h-4 w-4",strokeWidth:2}),O>0&&o.jsx(Pt,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:O})]})})(),o.jsx(oe,{variant:"default",size:"icon",onClick:ke,className:"h-10 w-10 flex-shrink-0 bg-breneo-blue hover:bg-breneo-blue/90 rounded-md ml-2","aria-label":"Search",children:o.jsx(Bo,{className:"h-5 w-5 text-white"})})]})}),V.skills.length>0||V.countries.length>0||V.jobTypes.length>0||V.isRemote||V.datePosted||V.salaryMin!==void 0||V.salaryMax!==void 0||V.salaryByAgreement?o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Active Filters"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[V.skills.map(z=>o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:String(z)}),o.jsx("button",{onClick:()=>bt(z),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${z} filter`,children:o.jsx(Nr,{className:"h-4 w-4"})})]},`skill-${z}`)),V.countries.map(z=>{const ge=sn.find(te=>te.code===z),Ke=ge!=null&&ge.name?String(ge.name):String(z);return o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:Ke}),o.jsx("button",{onClick:()=>je(z),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${Ke} filter`,children:o.jsx(Nr,{className:"h-4 w-4"})})]},`country-${z}`)}),V.jobTypes.map(z=>{const ge=io[z]?String(io[z]):String(z);return o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:ge}),o.jsx("button",{onClick:()=>ft(z),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${ge} filter`,children:o.jsx(Nr,{className:"h-4 w-4"})})]},`jobType-${z}`)}),V.isRemote&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Remote"}),o.jsx("button",{onClick:$t,className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Remote filter",children:o.jsx(Nr,{className:"h-4 w-4"})})]}),V.datePosted&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:V.datePosted==="today"?"Posted Today":V.datePosted==="week"?"Posted This Week":V.datePosted==="month"?"Posted This Month":`Posted: ${V.datePosted}`}),o.jsx("button",{onClick:()=>{const z={...V,datePosted:void 0};ee(z),$(z),Be(z,X)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Date Posted filter",children:o.jsx(Nr,{className:"h-4 w-4"})})]}),(V.salaryMin!==void 0||V.salaryMax!==void 0)&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:V.salaryMin!==void 0&&V.salaryMax!==void 0?`$${V.salaryMin} - $${V.salaryMax}`:V.salaryMin!==void 0?`Min: $${V.salaryMin}`:`Max: $${V.salaryMax}`}),o.jsx("button",{onClick:()=>{const z={...V,salaryMin:void 0,salaryMax:void 0};ee(z),$(z),Be(z,X)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Salary filter",children:o.jsx(Nr,{className:"h-4 w-4"})})]}),V.salaryByAgreement&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Salary By Agreement"}),o.jsx("button",{onClick:()=>{const z={...V,salaryByAgreement:!1};ee(z),$(z),Be(z,X)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Salary By Agreement filter",children:o.jsx(Nr,{className:"h-4 w-4"})})]})]})]}):null,(ve||Je||ae)&&o.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-md flex items-center gap-3 mb-6",children:[o.jsx(ug,{className:"h-5 w-5"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Error:"})," ",(ae==null?void 0:ae.message)||(ve==null?void 0:ve.message)||(Je==null?void 0:Je.message)]})]}),!Q&&xe.length>0&&o.jsxs("section",{className:"mb-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(iz,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Top Matched Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:he.map(O=>o.jsx(Oe,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl cursor-pointer hover:shadow-soft",onClick:()=>{if(!O.id||String(O.id).trim()==="")return;const z=encodeURIComponent(String(O.id));n(`/jobs/${z}`)},children:o.jsxs(Me,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[O.company_logo?o.jsx("img",{src:O.company_logo,alt:`${O.company_name||O.company} logo`,className:"w-10 h-10 rounded-md object-cover flex-shrink-0",loading:"lazy",referrerPolicy:"no-referrer",onError:z=>{const ge=z.target;ge.style.display="none";const Ke=ge.nextElementSibling;Ke&&(Ke.style.display="flex")}}):null,o.jsx("div",{className:`w-10 h-10 rounded-md bg-breneo-accent flex items-center justify-center ${O.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(Hr,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:O.company_name||O.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:O.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:O.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[O.employment_type&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:O.employment_type}),O.work_arrangement&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:O.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(na,{value:O.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100",children:gu(O.matchPercentage)})]}),o.jsx(oe,{variant:"secondary",size:"icon",onClick:z=>{z.stopPropagation(),Ne.mutate(O)},"aria-label":O.is_saved?"Unsave job":"Save job",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",O.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(En,{className:le("h-4 w-4 transition-colors",O.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},O.id))})]}),!Q&&it.length>0&&o.jsxs("section",{className:"mb-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Ou,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Latest Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$e.map(O=>o.jsx(Oe,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl cursor-pointer hover:shadow-soft",onClick:()=>{if(!O.id||String(O.id).trim()==="")return;const z=encodeURIComponent(String(O.id));n(`/jobs/${z}`)},children:o.jsxs(Me,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[O.company_logo?o.jsx("img",{src:O.company_logo,alt:`${O.company_name||O.company} logo`,className:"w-10 h-10 rounded-md object-cover flex-shrink-0",loading:"lazy",referrerPolicy:"no-referrer",onError:z=>{const ge=z.target;console.warn(" Logo failed to load:",O.company_logo,ge.src),ge.style.display="none";const Ke=ge.nextElementSibling;Ke&&(Ke.style.display="flex")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-10 h-10 rounded-md bg-breneo-accent flex items-center justify-center ${O.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(Hr,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:O.company_name||O.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:O.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:O.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[O.employment_type&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:O.employment_type}),O.work_arrangement&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:O.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(na,{value:O.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100",children:gu(O.matchPercentage)})]}),o.jsx(oe,{variant:"secondary",size:"icon",onClick:z=>{z.stopPropagation(),Ne.mutate(O)},"aria-label":O.is_saved?"Unsave job":"Save job",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",O.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(En,{className:le("h-4 w-4 transition-colors",O.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},O.id))})]}),Q&&o.jsxs("section",{className:"mb-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Ou,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Latest Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(9)].map((O,z)=>o.jsx(Oe,{children:o.jsx(Me,{className:"p-4",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})})},z))})]}),!et&&fe.length>0&&o.jsxs("section",{className:"mt-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(cc,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Remote Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_e.map(O=>o.jsx(Oe,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl cursor-pointer hover:shadow-soft",onClick:()=>{if(!O.id||String(O.id).trim()==="")return;const z=encodeURIComponent(String(O.id));n(`/jobs/${z}`)},children:o.jsxs(Me,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[O.company_logo?o.jsx("img",{src:O.company_logo,alt:`${O.company_name||O.company} logo`,className:"w-10 h-10 rounded-full object-cover",loading:"lazy",referrerPolicy:"no-referrer",onError:z=>{const ge=z.target;console.warn(" Logo failed to load:",O.company_logo,ge.src),ge.style.display="none";const Ke=ge.nextElementSibling;Ke&&(Ke.style.display="flex")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center ${O.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(Hr,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:O.company_name||O.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:O.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:O.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[O.employment_type&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:O.employment_type}),O.work_arrangement&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:O.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(na,{value:O.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700",children:gu(O.matchPercentage)})]}),o.jsx(oe,{variant:"secondary",size:"icon",onClick:z=>{z.stopPropagation(),Ne.mutate(O)},"aria-label":O.is_saved?"Unsave job":"Save job",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",O.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(En,{className:le("h-4 w-4 transition-colors",O.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},O.id))})]})]}),o.jsx(DJ,{isOpen:i,onClose:()=>l(!1),filters:F,onFiltersChange:$,onApply:Ut,onClear:St,userTopSkills:c})]})},zJ=({selectedLocations:e,onLocationsChange:t,placeholder:r="Location"})=>{const[n,s]=m.useState(!1),[a,i]=m.useState(""),[l,c]=m.useState(e),u=m.useRef(null);m.useEffect(()=>{n&&c(e)},[n,e]),m.useEffect(()=>{const w=S=>{u.current&&!u.current.contains(S.target)&&(s(!1),c(e))},_=S=>{S.key==="Escape"&&(s(!1),c(e))};return n&&(document.addEventListener("mousedown",w),document.addEventListener("keydown",_)),()=>{document.removeEventListener("mousedown",w),document.removeEventListener("keydown",_)}},[n,e]);const d=m.useMemo(()=>{if(!a.trim())return sn;const w=a.toLowerCase();return sn.filter(_=>_.name.toLowerCase().includes(w)||_.code.toLowerCase().includes(w))},[a]),f=w=>{l.includes(w)?c(l.filter(_=>_!==w)):c([...l,w])},h=()=>{l.length===d.length?c([]):c(d.map(w=>w.code))},g=()=>{t(l),s(!1)},v=d.length>0&&d.every(w=>l.includes(w.code)),p=m.useMemo(()=>{var _;return e.length===0?r:e.length===1?((_=sn.find(S=>S.code===e[0]))==null?void 0:_.name)||r:e.length>3?`${e.length} countries selected`:e.slice(0,3).map(S=>{var E;return((E=sn.find(k=>k.code===S))==null?void 0:E.name)||S}).join(", ")},[e,r]),y=e.length===0,x=(w,_)=>{w.stopPropagation(),t(e.filter(S=>S!==_))},b=w=>{w.stopPropagation(),t([])};return o.jsxs("div",{className:"relative w-full max-w-full",ref:u,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full min-w-0",children:[o.jsxs("button",{type:"button",onClick:()=>s(!n),className:le("flex items-center flex-1 min-w-0 h-auto py-0 px-0 text-sm text-left bg-transparent border-0 focus:outline-none focus:ring-0","transition-colors cursor-pointer hover:opacity-80 overflow-hidden",y?"text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-gray-100"),children:[o.jsx(Mu,{className:"h-4 w-4 md:h-5 md:w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2"}),e.length===0?o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:r}):o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:p})]}),e.length>0&&o.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),e.length===1?x(w,e[0]):b(w)},className:"flex-shrink-0 p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded ml-1 transition-all duration-200 animate-in fade-in-0 zoom-in-95","aria-label":e.length===1?"Remove location":"Remove all locations",children:o.jsx(Nr,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 hover:scale-110"})})]}),n&&o.jsxs("div",{className:le("absolute top-full mt-2 w-[calc(100vw-2rem)] md:w-[400px] rounded-lg shadow-lg border z-[9999] max-h-[500px] flex flex-col overflow-hidden","bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","min-w-[320px]","left-0 md:right-0 md:left-auto"),children:[o.jsxs("div",{className:le("flex items-center justify-between px-4 py-3 border-b","border-gray-200 dark:border-gray-700"),children:[o.jsx("h3",{className:le("font-bold text-base","text-gray-900 dark:text-gray-100"),children:"Countries"}),o.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),s(!1),i("")},className:le("p-1 rounded transition-colors","hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Close",children:o.jsx(Nr,{className:le("h-5 w-5","text-gray-900 dark:text-gray-100")})})]}),o.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"relative",children:[o.jsx(Bo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(rt,{type:"text",placeholder:"Search countries...",value:a,onChange:w=>i(w.target.value),onClick:w=>w.stopPropagation(),className:le("pl-9 pr-3 h-9 text-sm","bg-white dark:bg-gray-800","border-gray-200 dark:border-gray-700","focus-visible:outline-none focus-visible:ring-0")})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[d.length>0&&o.jsxs("div",{className:le("flex items-center px-4 py-3 cursor-pointer transition-colors border-b","hover:bg-gray-50 dark:hover:bg-gray-700/50","border-gray-100 dark:border-gray-700"),onClick:w=>{w.stopPropagation(),h()},children:[o.jsx(qn,{checked:v,onCheckedChange:w=>{if(w)c(d.map(_=>_.code));else{const _=d.map(S=>S.code);c(l.filter(S=>!_.includes(S)))}},className:"mr-3"}),o.jsx("span",{className:le("text-sm","text-gray-900 dark:text-gray-100"),children:"Select All"})]}),d.length===0?o.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):d.map(w=>{const _=l.includes(w.code);return o.jsxs("div",{className:le("flex items-center px-4 py-2.5 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:S=>{S.stopPropagation(),f(w.code)},children:[o.jsx(qn,{checked:_,onCheckedChange:S=>{c(S?[...l,w.code]:l.filter(E=>E!==w.code))},className:"mr-3"}),o.jsx("span",{className:le("text-sm flex-1","text-gray-900 dark:text-gray-100"),children:w.name})]},w.code)})]}),o.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-white dark:bg-gray-800 sticky bottom-0 z-10",children:o.jsx(oe,{onClick:w=>{w.stopPropagation(),g()},className:"w-full",children:"Save"})})]})]})},Fj={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern"},UF=20,Wze=()=>{const{user:e}=ir(),t=rr(),r=Ws(),[n,s]=Sy(),a=da(),[i,l]=m.useState(!1),[c,u]=m.useState([]),[d,f]=m.useState("desc"),h=pi(),{data:g=[]}=Wt({queryKey:["profileSkills",e==null?void 0:e.id],queryFn:()=>bn.getMySkills(),enabled:!!e}),v=m.useMemo(()=>{const G=(g||[]).map(Ne=>pn(Ne.skill_name)),ce=(c||[]).map(Ne=>pn(Ne));return[...new Set([...G,...ce])]},[g,c]),p=n.get("search")||"",y=parseInt(n.get("page")||"1",10),[x,b]=m.useState(()=>{const G=n.get("countries"),ce=n.get("skills"),Ne=n.get("jobTypes"),qe=n.get("isRemote"),Ve=n.get("datePosted"),Re=n.get("salaryMin"),it=n.get("salaryMax"),xe=n.get("salaryByAgreement");return{country:"Georgia",countries:G?G.split(",").filter(Boolean):[],jobTypes:Ne?Ne.split(",").filter(Boolean):[],isRemote:qe==="true",datePosted:Ve||void 0,skills:ce?ce.split(",").filter(Boolean):[],salaryMin:Re?parseInt(Re,10):void 0,salaryMax:it?parseInt(it,10):void 0,salaryByAgreement:xe==="true"}});m.useEffect(()=>{console.log(" JobSearchResultsPage loaded:",{searchTerm:p,page:y,searchParams:n.toString(),activeFilters:x,userTopSkills:c}),console.log(" Job API Endpoint: https://breneo-job-aggregator.up.railway.app/api/")},[p,y,n,x,c]),m.useEffect(()=>{const G=n.get("countries"),ce=n.get("skills"),Ne=n.get("jobTypes"),qe=n.get("isRemote"),Ve=n.get("datePosted"),Re=n.get("salaryMin"),it=n.get("salaryMax"),xe=n.get("salaryByAgreement");b({country:"Georgia",countries:G?G.split(",").filter(Boolean):[],jobTypes:Ne?Ne.split(",").filter(Boolean):[],isRemote:qe==="true",datePosted:Ve||void 0,skills:ce?ce.split(",").filter(Boolean):[],salaryMin:Re?parseInt(Re,10):void 0,salaryMax:it?parseInt(it,10):void 0,salaryByAgreement:xe==="true"})},[n]);const[w,_]=m.useState(x),S=G=>{let ce=0;return G.countries.length>0&&(ce+=G.countries.length),G.jobTypes.length>0&&(ce+=G.jobTypes.length),G.isRemote&&(ce+=1),G.datePosted&&(ce+=1),G.skills.length>0&&(ce+=G.skills.length),(G.salaryMin!==void 0||G.salaryMax!==void 0)&&(ce+=1),G.salaryByAgreement&&(ce+=1),ce},{data:E=[]}=Wt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var G;if(!e)return[];try{return(((G=(await Se.get(Ze.AUTH.PROFILE)).data)==null?void 0:G.saved_jobs)||[]).map(qe=>String(qe))}catch(ce){return console.error("Error fetching saved jobs:",ce),[]}},enabled:!!e});m.useEffect(()=>{(async()=>{if(e)try{try{const Ne=await Se.get(`/api/skilltest/results/?user=${e.id}`);if(Ne.data&&Array.isArray(Ne.data)&&Ne.data.length>0){const Ve=Ne.data[0].skills_json,Re=Object.keys(Ve.tech||{});u(Re);return}}catch{console.log("API endpoint not available, trying Supabase...")}const ce=await Ih(String(e.id));if(ce&&ce.length>0){const Ne=Lh(ce),Ve=h1(Ne,20).map(it=>it.skill),Re=yg(Ve);u(Re)}}catch(ce){console.error("Error fetching user skills:",ce)}})()},[e]);const k=async(G,ce,Ne,qe)=>{try{const Ve=qe.length>0&&ce.skills.length>0&&qe.every(Z=>ce.skills.includes(Z))&&ce.skills.length===qe.length,Re={...ce,skills:Ve?[]:ce.skills},xe=await ui.fetchActiveJobs({query:G||"",filters:Re,page:Ne,pageSize:20});if(!xe||!Array.isArray(xe.jobs))return{jobs:[],hasMore:!1,total:0};let Pe=xe.jobs.filter(Z=>{const J=String(Z.id||"");return J&&J.trim()!==""});return(ce.salaryMin!==void 0||ce.salaryMax!==void 0||ce.salaryByAgreement)&&(Pe=Pe.filter(Z=>{const J=Z.job_min_salary||Z.min_salary,fe=Z.job_max_salary||Z.max_salary;return ce.salaryByAgreement&&!J&&!fe?!0:!J&&!fe&&!ce.salaryByAgreement?!(ce.salaryMin!==void 0||ce.salaryMax!==void 0):!(ce.salaryMin!==void 0&&fe&&fe<ce.salaryMin||ce.salaryMax!==void 0&&J&&J>ce.salaryMax)})),{jobs:Pe,hasMore:xe.hasMore??!1,total:xe.total??Pe.length}}catch(Ve){throw console.error("Error fetching jobs:",Ve),Ve}},j=m.useMemo(()=>JSON.stringify({countries:x.countries.sort(),skills:x.skills.sort(),jobTypes:x.jobTypes.sort(),isRemote:x.isRemote,datePosted:x.datePosted,salaryMin:x.salaryMin,salaryMax:x.salaryMax,salaryByAgreement:x.salaryByAgreement}),[x]),{data:N={jobs:[],hasMore:!1,total:0},isLoading:C,error:A}=Wt({queryKey:["job-search",p,j,y,c.join(",")],queryFn:()=>k(p,x,y,c),enabled:!!e,staleTime:5*60*1e3,retry:1}),R=m.useMemo(()=>N.jobs||[],[N.jobs]),H=N.hasMore||!1,U=N.total||R.length,D=m.useMemo(()=>!R||R.length===0?[]:R.map(G=>{const ce=String(G.id||"");if(!ce||ce.trim()==="")return null;const Ne=G.title||G.job_title||G.position||"Untitled Position",qe=G.company_name||G.employer_name||(typeof G.company=="string"?G.company:null)||"Unknown Company",Ve=G.job_city||G.city||"",Re=G.job_state||G.state||"",it=G.job_country||G.country||"",xe=G.job_location||G.location||[Ve,Re,it].filter(Boolean).join(", ")||"Location not specified",Pe=G.apply_url||G.job_apply_link||G.apply_link||G.url||"";let Z;const J=St=>{if(!St)return!1;const Jt=String(St).trim();if(!Jt)return!1;try{if(new URL(Jt).protocol.startsWith("http"))return Z=Jt,!0}catch{}return!1},fe=G;if(!Z&&fe.company_logo&&J(fe.company_logo),!Z&&G.company_logo&&J(G.company_logo),!Z&&fe.companyLogo&&J(fe.companyLogo),!Z&&G.companyLogo&&J(G.companyLogo),!Z&&fe.employer_logo&&J(fe.employer_logo),!Z&&G.employer_logo&&J(G.employer_logo),!Z&&fe.logo&&J(fe.logo),!Z&&G.logo&&J(G.logo),!Z&&fe.logo_url&&J(fe.logo_url),!Z&&G.logo_url&&J(G.logo_url),!Z&&fe.employerLogo&&J(fe.employerLogo),!Z&&fe.companyLogoUrl&&J(fe.companyLogoUrl),!Z&&fe.logoUrl&&J(fe.logoUrl),!Z&&G.company&&typeof G.company=="object"){const St=G.company;St.logo&&J(St.logo),!Z&&St.logo_url&&J(St.logo_url),!Z&&St.company_logo&&J(St.company_logo),!Z&&St.employer_logo&&J(St.employer_logo)}if(!Z&&G.employer&&typeof G.employer=="object"){const St=G.employer;St.logo&&J(St.logo),!Z&&St.logo_url&&J(St.logo_url),!Z&&St.company_logo&&J(St.company_logo),!Z&&St.employer_logo&&J(St.employer_logo)}let Fe="By agreement";const Ge=G.job_min_salary||G.min_salary,$e=G.job_max_salary||G.max_salary,he=G.job_salary_currency||G.salary_currency||"$",_e=G.job_salary_period||G.salary_period||"yearly";if(Ge&&$e&&typeof Ge=="number"&&typeof $e=="number"){const St=_e==="monthly"?"Monthly":"",Jt=Ge.toLocaleString(),O=$e.toLocaleString();["$","","","","",""].some(Ke=>he.includes(Ke))?Fe=`${he}${Jt} - ${he}${O}${St?`/${St}`:""}`:Fe=`${Jt} - ${O} ${he}${St?`/${St}`:""}`}else if(Ge&&typeof Ge=="number"){const St=Ge.toLocaleString();Fe=["$","","","","",""].some(z=>he.includes(z))?`${he}${St}+`:`${St}+ ${he}`}else G.salary&&typeof G.salary=="string"&&(Fe=G.salary);const Be=G.job_employment_type||G.employment_type||G.type||"FULLTIME",He=Fj[Be]||Be||"Full time";let Ue="On-site";G.job_is_remote||G.is_remote||G.remote===!0?Ue="Remote":Ne!=null&&Ne.toLowerCase().includes("hybrid")&&(Ue="Hybrid");const je=OA(G),ft=e&&v.length>=0?yu(G,Zl(v)).overallPercent:void 0,$t=G,Ut=G.posted_at||G.fetched_at||G.date_posted||G.posted_date||G.job_posted_at_datetime_utc||G.postedAt||G.job_posted_at||$t.job_publish_timestamp||$t.publish_time||G.created_at||G.published_at||void 0;return{id:ce,title:Ne,company:qe,company_name:G.company_name||G.employer_name||(typeof G.company=="string"?G.company:void 0),location:String(xe),url:Pe,company_logo:Z,is_saved:E==null?void 0:E.includes(String(ce)),salary:Fe,employment_type:He,work_arrangement:Ue,matchPercentage:ft,datePosted:Ut,jobSkills:je}}).filter(G=>G!==null),[R,E,e,v]),B=m.useMemo(()=>[...D].sort((ce,Ne)=>{if(!ce.datePosted&&!Ne.datePosted)return 0;if(!ce.datePosted)return 1;if(!Ne.datePosted)return-1;const qe=new Date(ce.datePosted).getTime(),Ve=new Date(Ne.datePosted).getTime();return d==="desc"?Ve-qe:qe-Ve}),[D,d]),[L,T]=m.useState({});m.useEffect(()=>{(async()=>{const ce=B.filter(Re=>!Re.company_logo&&Re.company_name);if(ce.length===0)return;const Ne=ce.map(async Re=>{const it=await $A(Re.company_name||"",void 0);return{jobId:Re.id,logo:it}}),qe=await Promise.all(Ne),Ve={};qe.forEach(({jobId:Re,logo:it})=>{it&&(Ve[Re]=it)}),Object.keys(Ve).length>0&&T(Re=>({...Re,...Ve}))})()},[B]);const q=B.map(G=>({...G,company_logo:G.company_logo||L[G.id]||void 0})),I=oa({mutationFn:async G=>{if(!e)throw new Error("User not logged in");if(!G.id)throw new Error("Job ID is required");const ce=String(G.id);G.is_saved;try{const Ne=`${Ze.JOBS.SAVE_JOB}${ce}/`;await Se.post(Ne)}catch(Ne){const qe=Ne instanceof Error?Ne.message:"Failed to save job. Please try again.";throw new Error(qe)}},onSuccess:(G,ce)=>{r.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile"]}),de.success(ce.is_saved?"Job Unsaved":"Job Saved")},onError:G=>{console.error("Error saving job:",G);const ce=G instanceof Error?G.message:"Failed to save job";de.error(ce)}}),P=m.useCallback((G,ce,Ne)=>{const qe=new URLSearchParams;ce&&qe.set("search",ce),qe.set("page",String(Ne)),G.countries.length>0&&qe.set("countries",G.countries.join(",")),G.skills.length>0&&qe.set("skills",G.skills.join(",")),G.jobTypes.length>0&&qe.set("jobTypes",G.jobTypes.join(",")),G.isRemote&&qe.set("isRemote","true"),G.datePosted&&qe.set("datePosted",G.datePosted),G.salaryMin!==void 0&&qe.set("salaryMin",String(G.salaryMin)),G.salaryMax!==void 0&&qe.set("salaryMax",String(G.salaryMax)),G.salaryByAgreement&&qe.set("salaryByAgreement","true"),s(qe,{replace:!0})},[s]),W=G=>{P(x,G,1)},V=()=>{b(w),P(w,p,1),l(!1)},ee=()=>{const G={country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},ce=1;_(G),b(G),P(G,p,ce),l(!1)},X=m.useCallback(G=>{const ce={...x,skills:x.skills.filter(Ne=>Ne!==G)};b(ce),_(ce),P(ce,p,1)},[x,p,P]),ne=m.useCallback(G=>{const ce={...x,countries:x.countries.filter(Ne=>Ne!==G)};b(ce),_(ce),P(ce,p,1)},[x,p,P]),F=m.useCallback(G=>{const ce=x.jobTypes.filter(qe=>qe!==G),Ne={...x,jobTypes:ce};b(Ne),_(Ne),P(Ne,p,1)},[x,p,P]),$=m.useCallback(()=>{const G={...x,isRemote:!1};b(G),_(G),P(G,p,1)},[x,p,P]),K=()=>{const G=y+1;P(x,p,G),window.scrollTo({top:0,behavior:"smooth"})},Y=()=>{const G=Math.max(1,y-1);P(x,p,G),window.scrollTo({top:0,behavior:"smooth"})},se=H&&D.length>0,Q=y>1,ae=m.useMemo(()=>{const G=[];if(x.skills.forEach(ce=>{G.push({id:`skill-${ce}`,label:ce,onRemove:()=>X(ce),ariaLabel:`Remove ${ce} filter`})}),x.countries.forEach(ce=>{const Ne=sn.find(Ve=>Ve.code===ce),qe=(Ne==null?void 0:Ne.name)||ce;G.push({id:`country-${ce}`,label:qe,onRemove:()=>ne(ce),ariaLabel:`Remove ${qe} filter`})}),x.jobTypes.forEach(ce=>{G.push({id:`jobType-${ce}`,label:Fj[ce]||ce,onRemove:()=>F(ce),ariaLabel:`Remove ${Fj[ce]||ce} filter`})}),x.isRemote&&G.push({id:"remote",label:"Remote",onRemove:$,ariaLabel:"Remove Remote filter"}),x.datePosted){const ce=x.datePosted==="today"?"Posted Today":x.datePosted==="week"?"Posted This Week":x.datePosted==="month"?"Posted This Month":`Posted: ${x.datePosted}`;G.push({id:"datePosted",label:ce,onRemove:()=>{const Ne={...x,datePosted:void 0};b(Ne),_(Ne),P(Ne,p,1)},ariaLabel:"Remove Date Posted filter"})}if(x.salaryMin!==void 0||x.salaryMax!==void 0){const ce=x.salaryMin!==void 0&&x.salaryMax!==void 0?`$${x.salaryMin} - $${x.salaryMax}`:x.salaryMin!==void 0?`Min: $${x.salaryMin}`:`Max: $${x.salaryMax}`;G.push({id:"salaryRange",label:ce,onRemove:()=>{const Ne={...x,salaryMin:void 0,salaryMax:void 0};b(Ne),_(Ne),P(Ne,p,1)},ariaLabel:"Remove Salary filter"})}return x.salaryByAgreement&&G.push({id:"salaryByAgreement",label:"Salary By Agreement",onRemove:()=>{const ce={...x,salaryByAgreement:!1};b(ce),_(ce),P(ce,p,1)},ariaLabel:"Remove Salary By Agreement filter"}),G},[x,p,X,ne,F,$,P]),re=m.useRef(null),[pe,ve]=m.useState(ae.length),[Ie,et]=m.useState(!1);m.useEffect(()=>{if(ae.length===0){ve(0),et(!1);return}ve(ae.length);const G=()=>{if(!re.current)return;const Ne=re.current,qe=Ne.scrollHeight,Ve=100;if(qe>Ve){let Re=1,it=ae.length,xe=ae.length;const Pe=document.createElement("div");for(Pe.className="flex flex-wrap gap-2",Pe.style.position="absolute",Pe.style.visibility="hidden",Pe.style.width=Ne.offsetWidth+"px",Pe.style.top="-9999px",document.body.appendChild(Pe);Re<=it;){const Z=Math.floor((Re+it)/2);Pe.innerHTML=ae.slice(0,Z).map(J=>`<div class="flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700"><span class="text-sm font-medium whitespace-nowrap">${J.label}</span><button><svg class="h-4 w-4"></svg></button></div>`).join(""),Pe.scrollHeight<=Ve?(xe=Z,Re=Z+1):it=Z-1}document.body.removeChild(Pe),xe<ae.length?(ve(xe),et(!0)):(ve(ae.length),et(!1))}else ve(ae.length),et(!1)},ce=requestAnimationFrame(()=>{setTimeout(G,0)});return window.addEventListener("resize",G),()=>{cancelAnimationFrame(ce),window.removeEventListener("resize",G)}},[ae]);const Je=(y-1)*UF,dt=U>0?Math.min(Je+1,U):1,Ce=U>0?Math.min(Je+D.length,U):D.length;let ke=null;return U>0?ke=Math.ceil(U/UF):H?ke=y+1:D.length>0&&(ke=y),o.jsx(At,{children:o.jsxs("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] rounded-xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-3 md:py-4 overflow-visible min-h-[3.5rem] flex-1",children:[o.jsx(Hr,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),o.jsx(rt,{type:"text",placeholder:h.jobs.searchPlaceholder,value:p,onChange:G=>W(G.target.value),className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-700 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(FJ,{selectedWorkTypes:x.jobTypes,onWorkTypesChange:G=>{const ce={...x,jobTypes:G};b(ce),_(ce),P(ce,p,1)},isRemote:x.isRemote,onRemoteChange:G=>{const ce={...x,isRemote:G};b(ce),_(ce),P(ce,p,1)}})}),o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-700 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(zJ,{selectedLocations:x.countries,onLocationsChange:G=>{const ce={...x,countries:G};b(ce),_(ce),P(ce,p,1)}})})]})]}),(()=>{const G=S(x);return o.jsxs(oe,{variant:"outline",onClick:()=>l(!0),className:"group flex items-center gap-2 bg-breneo-blue/10 hover:bg-breneo-blue rounded-xl px-4 py-3 md:py-4 hover:bg-breneo-blue hover:text-white text-gray-900 dark:text-gray-100 whitespace-nowrap h-auto relative min-h-[3.5rem] transition-colors","aria-label":"Filter jobs",children:[o.jsx(hA,{className:"h-4 w-4 group-hover:text-white",strokeWidth:2}),o.jsx("span",{className:"hidden md:inline text-sm font-medium",children:h.jobs.filters}),G>0&&o.jsx(Pt,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:G})]})})()]})}),ae.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Active Filters"}),o.jsx("div",{ref:re,className:"flex flex-wrap gap-2",children:ae.slice(0,pe).map(G=>o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:G.label}),o.jsx("button",{onClick:G.onRemove,className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":G.ariaLabel,children:o.jsx(Nr,{className:"h-4 w-4"})})]},G.id))}),Ie&&ae.length>pe&&o.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[ae.length-pe,"+ filters"]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:U>0?`${U} ${h.jobs.vacancies}`:`${D.length} ${h.jobs.vacancies}`})}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(oe,{variant:"outline",size:"sm",className:"h-9 px-2 md:px-3",onClick:()=>{f(G=>G==="desc"?"asc":"desc")},children:[o.jsx("span",{className:"text-xs md:text-sm whitespace-nowrap",children:a?d==="desc"?h.jobs.dateDescending:h.jobs.dateAscending:d==="desc"?h.jobs.dateDescendingFull:h.jobs.dateAscendingFull}),d==="desc"?o.jsx(gde,{className:"h-4 w-4 ml-1 md:ml-2"}):o.jsx(yde,{className:"h-4 w-4 ml-1 md:ml-2"})]})})]}),C?o.jsx("div",{className:"space-y-4",children:[...Array(6)].map((G,ce)=>o.jsx(Oe,{children:o.jsx(Me,{className:"p-4",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})})},ce))}):A?o.jsx(Oe,{className:"bg-red-50 dark:bg-red-950/20",children:o.jsx(Me,{className:"p-6 text-center",children:o.jsx("p",{className:"text-red-600",children:h.jobs.errorLoading})})}):D.length===0?o.jsxs("div",{className:"text-center p-10 rounded-3xl text-muted-foreground bg-muted/30",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-travel-front-color.png",alt:"No data found",className:"mx-auto h-48 w-48 mb-4 object-contain"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:h.jobs.noJobs}),o.jsx("p",{className:"text-sm",children:h.jobs.tryAdjustingFilters})]}):o.jsx("div",{className:"rounded-3xl bg-white dark:bg-[#242424] overflow-hidden divide-y divide-gray-200 dark:divide-gray-700",children:q.map(G=>o.jsx("div",{className:"group cursor-pointer transition-colors hover:bg-gray-50/50 dark:hover:bg-gray-800/30",onClick:()=>t(`/jobs/${encodeURIComponent(G.id)}`),children:o.jsx("div",{className:a?"px-5 pt-5 pb-4 flex flex-col flex-grow":"p-0",children:a?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[G.company_logo?o.jsx("img",{src:G.company_logo,alt:`${G.company_name||G.company} logo`,className:"w-10 h-10 rounded-full object-cover",loading:"lazy",referrerPolicy:"no-referrer",onError:ce=>{const Ne=ce.target;console.warn(" Logo failed to load:",G.company_logo,Ne.src),Ne.style.display="none";const qe=Ne.nextElementSibling;qe&&(qe.style.display="flex")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center ${G.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(Hr,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:G.company_name||G.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:G.location})]}),o.jsx(oe,{variant:"secondary",size:"icon",onClick:ce=>{ce.stopPropagation(),I.mutate(G)},"aria-label":G.is_saved?"Unsave job":"Save job",className:le("flex-shrink-0 bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",G.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(En,{className:le("h-4 w-4 transition-colors",G.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:G.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[G.employment_type&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:G.employment_type}),G.work_arrangement&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:G.work_arrangement})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx(na,{value:G.matchPercentage??0,size:40,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue flex-shrink-0"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100 whitespace-nowrap",children:gu(G.matchPercentage)})]})]})]}):o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-1 p-4 min-w-0",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[G.company_logo?o.jsx("img",{src:G.company_logo,alt:G.company_name||G.company,className:"w-12 h-12 rounded-md object-cover absolute inset-0 z-10",loading:"lazy",referrerPolicy:"no-referrer",onError:ce=>{var Ve;const Ne=ce.target;console.warn(" Logo failed to load:",G.company_logo,Ne.src),Ne.style.display="none";const qe=(Ve=Ne.parentElement)==null?void 0:Ve.querySelector(".logo-fallback");qe&&(qe.style.display="flex",qe.style.zIndex="10")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-12 h-12 rounded-md bg-breneo-blue/10 flex items-center justify-center logo-fallback absolute inset-0 ${G.company_logo?"z-0":"z-10"}`,style:{display:G.company_logo?"none":"flex"},children:o.jsx(Hr,{className:"h-6 w-6 text-breneo-blue"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"mb-1 md:mb-2",children:[o.jsx("h3",{className:"font-normal text-sm text-gray-600 mb-1 line-clamp-1",children:G.company_name||G.company}),o.jsx("h4",{className:"font-bold text-base md:text-lg mb-1 md:mb-2 line-clamp-2 md:line-clamp-3",children:G.title})]}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Mu,{className:"h-4 w-4"}),o.jsx("span",{children:G.location})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Ou,{className:"h-4 w-4"}),o.jsx("span",{children:G.employment_type})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Hr,{className:"h-4 w-4"}),o.jsx("span",{children:G.work_arrangement})]})]})})]})]})}),o.jsxs("div",{className:"flex-shrink-0 py-4 pl-4 pr-14 relative w-24 min-h-[88px] flex flex-col items-center justify-center",children:[o.jsxs("div",{className:"flex flex-col items-center gap-2 px-2 transition-opacity duration-200 group-hover:opacity-0 group-hover:pointer-events-none",children:[o.jsx(na,{value:G.matchPercentage??0,size:48,strokeWidth:4,showLabel:!1,percentageTextSize:"md",className:"flex-shrink-0 text-gray-400 dark:text-gray-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 whitespace-nowrap text-center",children:gu(G.matchPercentage)})]}),o.jsx(oe,{variant:"secondary",size:"icon",onClick:ce=>{ce.stopPropagation(),I.mutate(G)},"aria-label":G.is_saved?"Unsave job":"Save job",className:le("absolute top-4 right-4 opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto transition-opacity duration-200 z-10 bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",G.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(En,{className:le("h-4 w-4 transition-colors",G.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})})},G.id))}),!C&&D.length>0&&o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8 pt-6 ",children:[o.jsx("div",{className:"text-sm text-gray-600",children:U>0?o.jsxs(o.Fragment,{children:[h.jobs.showing," ",dt,"-",Math.min(Ce,U)," ",h.jobs.of," ",U," ",h.jobs.vacancies]}):o.jsxs(o.Fragment,{children:[h.jobs.showing," ",D.length," ",h.jobs.vacancies]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(oe,{variant:"outline",size:"sm",className:"h-9 px-4",onClick:Y,disabled:!Q||C,children:[o.jsx(VE,{className:"h-4 w-4 mr-1"}),h.jobs.previous]}),o.jsxs("div",{className:"flex items-center gap-1 px-2",children:[o.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[h.jobs.page," ",y]}),ke&&o.jsxs("span",{className:"text-sm text-gray-400",children:["/ ",ke]})]}),o.jsxs(oe,{variant:"outline",size:"sm",className:"h-9 px-4",onClick:K,disabled:!se||C,children:[h.jobs.next,o.jsx(wa,{className:"h-4 w-4 ml-1"})]})]})]}),o.jsx(DJ,{isOpen:i,onClose:()=>l(!1),filters:w,onFiltersChange:_,onApply:V,onClear:ee,userTopSkills:c})]})})};function Vze(e,t=globalThis==null?void 0:globalThis.document){const r=Qt(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Hze="DismissableLayer",vC="dismissableLayer.update",Kze="dismissableLayer.pointerDownOutside",Gze="dismissableLayer.focusOutside",zF,qJ=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),WJ=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(qJ),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=xt(t,k=>f(k)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=Xze(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=Qze(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return Vze(k=>{b===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(zF=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),qF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=zF)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),qF())},[d,u]),m.useEffect(()=>{const k=()=>g({});return document.addEventListener(vC,k),()=>document.removeEventListener(vC,k)},[]),o.jsx(ct.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:We(e.onFocusCapture,E.onFocusCapture),onBlurCapture:We(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:We(e.onPointerDownCapture,S.onPointerDownCapture)})});WJ.displayName=Hze;var Yze="DismissableLayerBranch",Jze=m.forwardRef((e,t)=>{const r=m.useContext(qJ),n=m.useRef(null),s=xt(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(ct.div,{...e,ref:s})});Jze.displayName=Yze;function Xze(e,t=globalThis==null?void 0:globalThis.document){const r=Qt(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){VJ(Kze,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Qze(e,t=globalThis==null?void 0:globalThis.document){const r=Qt(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&VJ(Gze,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function qF(){const e=new CustomEvent(vC);document.dispatchEvent(e)}function VJ(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?wy(s,a):s.dispatchEvent(a)}var Bj="focusScope.autoFocusOnMount",Uj="focusScope.autoFocusOnUnmount",WF={bubbles:!1,cancelable:!0},Zze="FocusScope",HJ=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=Qt(s),d=Qt(a),f=m.useRef(null),h=xt(t,p=>c(p)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let p=function(w){if(g.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:hl(f.current,{select:!0})},y=function(w){if(g.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||hl(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&hl(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),b.disconnect()}}},[n,l,g.paused]),m.useEffect(()=>{if(l){HF.add(g);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(Bj,WF);l.addEventListener(Bj,u),l.dispatchEvent(x),x.defaultPrevented||(eqe(aqe(KJ(l)),{select:!0}),document.activeElement===p&&hl(l))}return()=>{l.removeEventListener(Bj,u),setTimeout(()=>{const x=new CustomEvent(Uj,WF);l.addEventListener(Uj,d),l.dispatchEvent(x),x.defaultPrevented||hl(p??document.body,{select:!0}),l.removeEventListener(Uj,d),HF.remove(g)},0)}}},[l,u,d,g]);const v=m.useCallback(p=>{if(!r&&!n||g.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const b=p.currentTarget,[w,_]=tqe(b);w&&_?!p.shiftKey&&x===_?(p.preventDefault(),r&&hl(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&hl(_,{select:!0})):x===b&&p.preventDefault()}},[r,n,g.paused]);return o.jsx(ct.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});HJ.displayName=Zze;function eqe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(hl(n,{select:t}),document.activeElement!==r)return}function tqe(e){const t=KJ(e),r=VF(t,e),n=VF(t.reverse(),e);return[r,n]}function KJ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function VF(e,t){for(const r of e)if(!rqe(r,{upTo:t}))return r}function rqe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nqe(e){return e instanceof HTMLInputElement&&"select"in e}function hl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&nqe(e)&&t&&e.select()}}var HF=sqe();function sqe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=KF(e,t),e.unshift(t)},remove(t){var r;e=KF(e,t),(r=e[0])==null||r.resume()}}}function KF(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function aqe(e){return e.filter(t=>t.tagName!=="A")}var iqe="Portal",GJ=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);on(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?yy.createPortal(o.jsx(ct.div,{...n,ref:t}),i):null});GJ.displayName=iqe;function oqe(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...v}=f,p=(h==null?void 0:h[e][c])||l,y=m.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:y,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,v=m.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,lqe(s,...t)]}function lqe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var zj="rovingFocusGroup.onEntryFocus",cqe={bubbles:!1,cancelable:!0},m_="RovingFocusGroup",[xC,YJ,uqe]=Qy(m_),[dqe,JJ]=oqe(m_,[uqe]),[fqe,hqe]=dqe(m_),XJ=m.forwardRef((e,t)=>o.jsx(xC.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(xC.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(pqe,{...e,ref:t})})}));XJ.displayName=m_;var pqe=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),g=xt(t,h),v=Rh(a),[p=null,y]=ci({prop:i,defaultProp:l,onChange:c}),[x,b]=m.useState(!1),w=Qt(u),_=YJ(r),S=m.useRef(!1),[E,k]=m.useState(0);return m.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(zj,w),()=>j.removeEventListener(zj,w)},[w]),o.jsx(fqe,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:p,onItemFocus:m.useCallback(j=>y(j),[y]),onItemShiftTab:m.useCallback(()=>b(!0),[]),onFocusableItemAdd:m.useCallback(()=>k(j=>j+1),[]),onFocusableItemRemove:m.useCallback(()=>k(j=>j-1),[]),children:o.jsx(ct.div,{tabIndex:x||E===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:We(e.onMouseDown,()=>{S.current=!0}),onFocus:We(e.onFocus,j=>{const N=!S.current;if(j.target===j.currentTarget&&N&&!x){const C=new CustomEvent(zj,cqe);if(j.currentTarget.dispatchEvent(C),!C.defaultPrevented){const A=_().filter(B=>B.focusable),R=A.find(B=>B.active),H=A.find(B=>B.id===p),D=[R,H,...A].filter(Boolean).map(B=>B.ref.current);eX(D,d)}}S.current=!1}),onBlur:We(e.onBlur,()=>b(!1))})})}),QJ="RovingFocusGroupItem",ZJ=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...i}=e,l=ni(),c=a||l,u=hqe(QJ,r),d=u.currentTabStopId===c,f=YJ(r),{onFocusableItemAdd:h,onFocusableItemRemove:g}=u;return m.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),o.jsx(xC.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:o.jsx(ct.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:We(e.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:We(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:We(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const p=yqe(v,u.orientation,u.dir);if(p!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=f().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")x.reverse();else if(p==="prev"||p==="next"){p==="prev"&&x.reverse();const b=x.indexOf(v.currentTarget);x=u.loop?vqe(x,b+1):x.slice(b+1)}setTimeout(()=>eX(x))}})})})});ZJ.displayName=QJ;var mqe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gqe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function yqe(e,t,r){const n=gqe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return mqe[n]}function eX(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function vqe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var xqe=XJ,bqe=ZJ,tX=Jw(),qj=function(){},g_=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:qj,onWheelCapture:qj,onTouchMoveCapture:qj}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,v=e.inert,p=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,w=Ay(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=Yw([r,t]),E=br(br({},w),s);return m.createElement(m.Fragment,null,d&&m.createElement(_,{sideCar:tX,removeScrollBar:u,shards:f,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!p,lockRef:r,gapMode:b}),i?m.cloneElement(m.Children.only(l),br(br({},E),{ref:S})):m.createElement(x,br({},E,{className:c,ref:S}),l))});g_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};g_.classNames={fullWidth:mu,zeroRight:pu};var bC=!1;if(typeof window<"u")try{var m0=Object.defineProperty({},"passive",{get:function(){return bC=!0,!0}});window.addEventListener("test",m0,m0),window.removeEventListener("test",m0,m0)}catch{bC=!1}var xd=bC?{passive:!1}:!1,wqe=function(e){return e.tagName==="TEXTAREA"},rX=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!wqe(e)&&r[t]==="visible")},_qe=function(e){return rX(e,"overflowY")},Sqe=function(e){return rX(e,"overflowX")},GF=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=nX(e,n);if(s){var a=sX(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},jqe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},kqe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},nX=function(e,t){return e==="v"?_qe(t):Sqe(t)},sX=function(e,t){return e==="v"?jqe(t):kqe(t)},Eqe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Nqe=function(e,t,r,n,s){var a=Eqe(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=sX(e,l),v=g[0],p=g[1],y=g[2],x=p-y-a*v;(v||x)&&nX(e,l)&&(f+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},g0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},YF=function(e){return[e.deltaX,e.deltaY]},JF=function(e){return e&&"current"in e?e.current:e},Cqe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Pqe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Aqe=0,bd=[];function Tqe(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(Aqe++)[0],a=m.useState(Ty)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=Gw([e.lockRef.current],(e.shards||[]).map(JF),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=g0(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-x[0],_="deltaY"in p?p.deltaY:b[1]-x[1],S,E=p.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&k==="h"&&E.type==="range")return!1;var j=GF(k,E);if(!j)return!0;if(j?S=k:(S=k==="v"?"h":"v",j=GF(k,E)),!j)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=S),!S)return!0;var N=n.current||S;return Nqe(N,y,p,N==="h"?w:_,!0)},[]),c=m.useCallback(function(p){var y=p;if(!(!bd.length||bd[bd.length-1]!==a)){var x="deltaY"in y?YF(y):g0(y),b=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&Cqe(S.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(JF).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=w.length>0?l(y,w[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(p,y,x,b){var w={name:p,delta:y,target:x,should:b,shadowParent:Oqe(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=m.useCallback(function(p){r.current=g0(p),n.current=void 0},[]),f=m.useCallback(function(p){u(p.type,YF(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,g0(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return bd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,xd),document.addEventListener("touchmove",c,xd),document.addEventListener("touchstart",d,xd),function(){bd=bd.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,xd),document.removeEventListener("touchmove",c,xd),document.removeEventListener("touchstart",d,xd)}},[]);var g=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(a,{styles:Pqe(s)}):null,g?m.createElement(Zw,{gapMode:e.gapMode}):null)}function Oqe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Rqe=Xw(tX,Tqe);var aX=m.forwardRef(function(e,t){return m.createElement(g_,br({},e,{ref:t,sideCar:Rqe}))});aX.classNames=g_.classNames;var wC=["Enter"," "],$qe=["ArrowDown","PageUp","Home"],iX=["ArrowUp","PageDown","End"],Mqe=[...$qe,...iX],Iqe={ltr:[...wC,"ArrowRight"],rtl:[...wC,"ArrowLeft"]},Lqe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ev="Menu",[iy,Dqe,Fqe]=Qy(ev),[ed,oX]=ua(ev,[Fqe,Sh,JJ]),y_=Sh(),lX=JJ(),[Bqe,td]=ed(ev),[Uqe,tv]=ed(ev),cX=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:i=!0}=e,l=y_(t),[c,u]=m.useState(null),d=m.useRef(!1),f=Qt(a),h=Rh(s);return m.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),o.jsx(T7,{...l,children:o.jsx(Bqe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(Uqe,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};cX.displayName=ev;var zqe="MenuAnchor",AO=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=y_(r);return o.jsx(qP,{...s,...n,ref:t})});AO.displayName=zqe;var TO="MenuPortal",[qqe,uX]=ed(TO,{forceMount:void 0}),dX=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=td(TO,t);return o.jsx(qqe,{scope:t,forceMount:r,children:o.jsx(Ss,{present:r||a.open,children:o.jsx(GJ,{asChild:!0,container:s,children:n})})})};dX.displayName=TO;var Aa="MenuContent",[Wqe,OO]=ed(Aa),fX=m.forwardRef((e,t)=>{const r=uX(Aa,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=td(Aa,e.__scopeMenu),i=tv(Aa,e.__scopeMenu);return o.jsx(iy.Provider,{scope:e.__scopeMenu,children:o.jsx(Ss,{present:n||a.open,children:o.jsx(iy.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(Vqe,{...s,ref:t}):o.jsx(Hqe,{...s,ref:t})})})})}),Vqe=m.forwardRef((e,t)=>{const r=td(Aa,e.__scopeMenu),n=m.useRef(null),s=xt(t,n);return m.useEffect(()=>{const a=n.current;if(a)return e1(a)},[]),o.jsx(RO,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:We(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Hqe=m.forwardRef((e,t)=>{const r=td(Aa,e.__scopeMenu);return o.jsx(RO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),RO=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,disableOutsideScroll:v,...p}=e,y=td(Aa,r),x=tv(Aa,r),b=y_(r),w=lX(r),_=Dqe(r),[S,E]=m.useState(null),k=m.useRef(null),j=xt(t,k,y.onContentChange),N=m.useRef(0),C=m.useRef(""),A=m.useRef(0),R=m.useRef(null),H=m.useRef("right"),U=m.useRef(0),D=v?aX:m.Fragment,B=v?{as:ac,allowPinchZoom:!0}:void 0,L=q=>{var F,$;const I=C.current+q,P=_().filter(K=>!K.disabled),W=document.activeElement,V=(F=P.find(K=>K.ref.current===W))==null?void 0:F.textValue,ee=P.map(K=>K.textValue),X=sWe(ee,I,V),ne=($=P.find(K=>K.textValue===X))==null?void 0:$.ref.current;(function K(Y){C.current=Y,window.clearTimeout(N.current),Y!==""&&(N.current=window.setTimeout(()=>K(""),1e3))})(I),ne&&setTimeout(()=>ne.focus())};m.useEffect(()=>()=>window.clearTimeout(N.current),[]),SO();const T=m.useCallback(q=>{var P,W;return H.current===((P=R.current)==null?void 0:P.side)&&iWe(q,(W=R.current)==null?void 0:W.area)},[]);return o.jsx(Wqe,{scope:r,searchRef:C,onItemEnter:m.useCallback(q=>{T(q)&&q.preventDefault()},[T]),onItemLeave:m.useCallback(q=>{var I;T(q)||((I=k.current)==null||I.focus(),E(null))},[T]),onTriggerLeave:m.useCallback(q=>{T(q)&&q.preventDefault()},[T]),pointerGraceTimerRef:A,onPointerGraceIntentChange:m.useCallback(q=>{R.current=q},[]),children:o.jsx(D,{...B,children:o.jsx(HJ,{asChild:!0,trapped:s,onMountAutoFocus:We(a,q=>{var I;q.preventDefault(),(I=k.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(WJ,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,children:o.jsx(xqe,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:We(c,q=>{x.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(WP,{role:"menu","aria-orientation":"vertical","data-state":CX(y.open),"data-radix-menu-content":"",dir:x.dir,...b,...p,ref:j,style:{outline:"none",...p.style},onKeyDown:We(p.onKeyDown,q=>{const P=q.target.closest("[data-radix-menu-content]")===q.currentTarget,W=q.ctrlKey||q.altKey||q.metaKey,V=q.key.length===1;P&&(q.key==="Tab"&&q.preventDefault(),!W&&V&&L(q.key));const ee=k.current;if(q.target!==ee||!Mqe.includes(q.key))return;q.preventDefault();const ne=_().filter(F=>!F.disabled).map(F=>F.ref.current);iX.includes(q.key)&&ne.reverse(),rWe(ne)}),onBlur:We(e.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(N.current),C.current="")}),onPointerMove:We(e.onPointerMove,oy(q=>{const I=q.target,P=U.current!==q.clientX;if(q.currentTarget.contains(I)&&P){const W=q.clientX>U.current?"right":"left";H.current=W,U.current=q.clientX}}))})})})})})})});fX.displayName=Aa;var Kqe="MenuGroup",$O=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ct.div,{role:"group",...n,ref:t})});$O.displayName=Kqe;var Gqe="MenuLabel",hX=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ct.div,{...n,ref:t})});hX.displayName=Gqe;var nw="MenuItem",XF="menu.itemSelect",v_=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=m.useRef(null),i=tv(nw,e.__scopeMenu),l=OO(nw,e.__scopeMenu),c=xt(t,a),u=m.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(XF,{bubbles:!0,cancelable:!0});f.addEventListener(XF,g=>n==null?void 0:n(g),{once:!0}),wy(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(pX,{...s,ref:c,disabled:r,onClick:We(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:We(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:We(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||wC.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});v_.displayName=nw;var pX=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,i=OO(nw,r),l=lX(r),c=m.useRef(null),u=xt(t,c),[d,f]=m.useState(!1),[h,g]=m.useState("");return m.useEffect(()=>{const v=c.current;v&&g((v.textContent??"").trim())},[a.children]),o.jsx(iy.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:o.jsx(bqe,{asChild:!0,...l,focusable:!n,children:o.jsx(ct.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:We(e.onPointerMove,oy(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:We(e.onPointerLeave,oy(v=>i.onItemLeave(v))),onFocus:We(e.onFocus,()=>f(!0)),onBlur:We(e.onBlur,()=>f(!1))})})})}),Yqe="MenuCheckboxItem",mX=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(bX,{scope:e.__scopeMenu,checked:r,children:o.jsx(v_,{role:"menuitemcheckbox","aria-checked":sw(r)?"mixed":r,...s,ref:t,"data-state":IO(r),onSelect:We(s.onSelect,()=>n==null?void 0:n(sw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});mX.displayName=Yqe;var gX="MenuRadioGroup",[Jqe,Xqe]=ed(gX,{value:void 0,onValueChange:()=>{}}),yX=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=Qt(n);return o.jsx(Jqe,{scope:e.__scopeMenu,value:r,onValueChange:a,children:o.jsx($O,{...s,ref:t})})});yX.displayName=gX;var vX="MenuRadioItem",xX=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=Xqe(vX,e.__scopeMenu),a=r===s.value;return o.jsx(bX,{scope:e.__scopeMenu,checked:a,children:o.jsx(v_,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":IO(a),onSelect:We(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});xX.displayName=vX;var MO="MenuItemIndicator",[bX,Qqe]=ed(MO,{checked:!1}),wX=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=Qqe(MO,r);return o.jsx(Ss,{present:n||sw(a.checked)||a.checked===!0,children:o.jsx(ct.span,{...s,ref:t,"data-state":IO(a.checked)})})});wX.displayName=MO;var Zqe="MenuSeparator",_X=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ct.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});_X.displayName=Zqe;var eWe="MenuArrow",SX=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=y_(r);return o.jsx(VP,{...s,...n,ref:t})});SX.displayName=eWe;var tWe="MenuSub",[kGe,jX]=ed(tWe),am="MenuSubTrigger",kX=m.forwardRef((e,t)=>{const r=td(am,e.__scopeMenu),n=tv(am,e.__scopeMenu),s=jX(am,e.__scopeMenu),a=OO(am,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(AO,{asChild:!0,...u,children:o.jsx(pX,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":CX(r.open),...e,ref:Cw(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:We(e.onPointerMove,oy(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:We(e.onPointerLeave,oy(f=>{var g,v;d();const h=(g=r.content)==null?void 0:g.getBoundingClientRect();if(h){const p=(v=r.content)==null?void 0:v.dataset.side,y=p==="right",x=y?-5:5,b=h[y?"left":"right"],w=h[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:b,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:b,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:We(e.onKeyDown,f=>{var g;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||Iqe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),f.preventDefault())})})})});kX.displayName=am;var EX="MenuSubContent",NX=m.forwardRef((e,t)=>{const r=uX(Aa,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=td(Aa,e.__scopeMenu),i=tv(Aa,e.__scopeMenu),l=jX(EX,e.__scopeMenu),c=m.useRef(null),u=xt(t,c);return o.jsx(iy.Provider,{scope:e.__scopeMenu,children:o.jsx(Ss,{present:n||a.open,children:o.jsx(iy.Slot,{scope:e.__scopeMenu,children:o.jsx(RO,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:We(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:We(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:We(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),h=Lqe[i.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});NX.displayName=EX;function CX(e){return e?"open":"closed"}function sw(e){return e==="indeterminate"}function IO(e){return sw(e)?"indeterminate":e?"checked":"unchecked"}function rWe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function nWe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function sWe(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=nWe(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function aWe(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function iWe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return aWe(r,t)}function oy(e){return t=>t.pointerType==="mouse"?e(t):void 0}var oWe=cX,lWe=AO,cWe=dX,uWe=fX,dWe=$O,fWe=hX,hWe=v_,pWe=mX,mWe=yX,gWe=xX,yWe=wX,vWe=_X,xWe=SX,bWe=kX,wWe=NX,LO="DropdownMenu",[_We,EGe]=ua(LO,[oX]),js=oX(),[SWe,PX]=_We(LO),AX=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=js(t),u=m.useRef(null),[d=!1,f]=ci({prop:s,defaultProp:a,onChange:i});return o.jsx(SWe,{scope:t,triggerId:ni(),triggerRef:u,contentId:ni(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(oWe,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};AX.displayName=LO;var TX="DropdownMenuTrigger",OX=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=PX(TX,r),i=js(r);return o.jsx(lWe,{asChild:!0,...i,children:o.jsx(ct.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Cw(t,a.triggerRef),onPointerDown:We(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:We(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});OX.displayName=TX;var jWe="DropdownMenuPortal",RX=e=>{const{__scopeDropdownMenu:t,...r}=e,n=js(t);return o.jsx(cWe,{...n,...r})};RX.displayName=jWe;var $X="DropdownMenuContent",MX=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=PX($X,r),a=js(r),i=m.useRef(!1);return o.jsx(uWe,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:We(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:We(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MX.displayName=$X;var kWe="DropdownMenuGroup",EWe=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=js(r);return o.jsx(dWe,{...s,...n,ref:t})});EWe.displayName=kWe;var NWe="DropdownMenuLabel",IX=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=js(r);return o.jsx(fWe,{...s,...n,ref:t})});IX.displayName=NWe;var CWe="DropdownMenuItem",LX=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=js(r);return o.jsx(hWe,{...s,...n,ref:t})});LX.displayName=CWe;var PWe="DropdownMenuCheckboxItem",DX=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=js(r);return o.jsx(pWe,{...s,...n,ref:t})});DX.displayName=PWe;var AWe="DropdownMenuRadioGroup",TWe=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=js(r);return o.jsx(mWe,{...s,...n,ref:t})});TWe.displayName=AWe;var OWe="DropdownMenuRadioItem",FX=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=js(r);return o.jsx(gWe,{...s,...n,ref:t})});FX.displayName=OWe;var RWe="DropdownMenuItemIndicator",BX=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=js(r);return o.jsx(yWe,{...s,...n,ref:t})});BX.displayName=RWe;var $We="DropdownMenuSeparator",UX=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=js(r);return o.jsx(vWe,{...s,...n,ref:t})});UX.displayName=$We;var MWe="DropdownMenuArrow",IWe=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=js(r);return o.jsx(xWe,{...s,...n,ref:t})});IWe.displayName=MWe;var LWe="DropdownMenuSubTrigger",zX=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=js(r);return o.jsx(bWe,{...s,...n,ref:t})});zX.displayName=LWe;var DWe="DropdownMenuSubContent",qX=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=js(r);return o.jsx(wWe,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qX.displayName=DWe;var FWe=AX,BWe=OX,UWe=RX,WX=MX,VX=IX,HX=LX,KX=DX,GX=FX,YX=BX,JX=UX,XX=zX,QX=qX;const QF=FWe,ZF=BWe,zWe=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(XX,{ref:s,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(wa,{className:"ml-auto h-4 w-4"})]}));zWe.displayName=XX.displayName;const qWe=m.forwardRef(({className:e,...t},r)=>o.jsx(QX,{ref:r,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));qWe.displayName=QX.displayName;const _C=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(UWe,{children:o.jsx(WX,{ref:n,sideOffset:t,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));_C.displayName=WX.displayName;const Uc=m.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(HX,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Uc.displayName=HX.displayName;const WWe=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(KX,{ref:s,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(YX,{children:o.jsx(uA,{className:"h-4 w-4"})})}),t]}));WWe.displayName=KX.displayName;const VWe=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(GX,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(YX,{children:o.jsx(_de,{className:"h-2 w-2 fill-current"})})}),t]}));VWe.displayName=GX.displayName;const HWe=m.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(VX,{ref:n,className:le("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));HWe.displayName=VX.displayName;const KWe=m.forwardRef(({className:e,...t},r)=>o.jsx(JX,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));KWe.displayName=JX.displayName;const GWe=15*60*1e3;function YWe(){const{user:e}=ir(),t=Wt({queryKey:["userIndustryProfile",e==null?void 0:e.id],queryFn:()=>bn.getIndustryProfile(),enabled:!!(e!=null&&e.id),staleTime:GWe}),r=t.error!=null?(()=>{var a;const n=t.error,s=(a=n==null?void 0:n.response)==null?void 0:a.status;return typeof s=="number"?`Industry profile request failed (${s}). Check GET /api/me/industry-profile/ on the backend.`:(n==null?void 0:n.message)??"Failed to load industry profile."})():null;return{industryYears:t.data??{},isLoading:t.isLoading,isError:t.isError,errorMessage:r,refetch:t.refetch}}function JWe(e){if(e==null||typeof e!="string")return[];const t=e.trim();if(!t)return[];const r=t.split(",").map(n=>n.trim().toLowerCase()).filter(Boolean);return[...new Set(r)]}function e6(e,t,r){return Math.min(r,Math.max(t,e))}function XWe(e,t){if(e.length===0)return{percent:null,matchedExact:[],missing:[]};const r=[],n=[];let s=0;for(const l of e){const c=t[l];if(c!=null&&c>0){const d=e6(c/5,0,1)*.2,f=e6(1+d,0,1);s+=f,r.push({tag:l,years:c})}else n.push(l)}const a=s/e.length;return{percent:Math.round(a*100),matchedExact:r,missing:n}}const QWe=()=>{const{jobId:e}=Ch(),{industryYears:t}=YWe(),r=pi(),n=e?decodeURIComponent(e):void 0,{user:s}=ir(),a=Ws();rr();const i=da(),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState(new Set),g=M.useRef(null),v=M.useRef(null),{data:p,isLoading:y,error:x}=Wt({queryKey:["jobDetail",n],queryFn:async()=>{var Z,J;if(!n)throw new Error("Job ID is required");console.log(" Fetching job details for ID:",n);try{const fe=await ui.fetchJobDetail(n);return console.log(" Job details fetched successfully"),console.log(" Job Title:",fe.title||fe.job_title),console.log(" Company:",fe.company_name||fe.employer_name),console.log(" Location:",fe.location||fe.job_location),console.log(" Description length:",((Z=fe.description)==null?void 0:Z.length)||((J=fe.job_description)==null?void 0:J.length)||0),fe}catch(fe){throw console.error(" Error fetching job details:",fe),fe}},enabled:!!n,retry:1,retryDelay:1e3}),{data:b=[]}=Wt({queryKey:["savedJobs",s==null?void 0:s.id],queryFn:async()=>{var Z;if(!s)return[];try{return(((Z=(await Se.get(Ze.AUTH.PROFILE)).data)==null?void 0:Z.saved_jobs)||[]).map(Fe=>String(Fe))}catch(J){return console.error("Error fetching saved jobs from profile API:",J),[]}},enabled:!!s}),{data:w=[],isLoading:_}=Wt({queryKey:["profileSkills",s==null?void 0:s.id],queryFn:()=>bn.getMySkills(),enabled:!!s}),{data:S=[],isLoading:E}=Wt({queryKey:["userSkills",s==null?void 0:s.id],queryFn:async()=>{if(!s)return[];try{const Z=await Se.get(`/api/skilltest/results/?user=${s.id}`);let J=null;if(Array.isArray(Z.data)&&Z.data.length>0?J=Z.data[0]:Z.data&&typeof Z.data=="object"&&(J=Z.data),J&&J.skills_json){const fe=J.skills_json||{},Fe=Object.keys(fe.tech||{}),Ge=Object.keys(fe.soft||{});return[...Fe,...Ge]}return[]}catch(Z){return console.error("Error fetching user skills for matching:",Z),[]}},enabled:!!s}),k=m.useMemo(()=>{const Z=(w||[]).map(fe=>pn(fe.skill_name)),J=(S||[]).map(fe=>pn(fe));return[...new Set([...Z,...J])]},[w,S]),j=_||E,N=(p==null?void 0:p.id)||(p==null?void 0:p.job_id)||n||"",C=b==null?void 0:b.includes(String(N));m.useEffect(()=>{if(!p){c(!1);return}let Z=null,J=null;const fe=()=>{const he=['main[class*="overflow-y-auto"]','main[class*="overflow"]',"main"];for(const _e of he){const Be=document.querySelector(_e);if(Be)return Be}return null},Fe=()=>{if(Z){const _e=Z.scrollTop>100;if(c(_e),i){const Ue=Array.from(document.querySelectorAll(".fixed.bottom-0")).find(bt=>{const je=bt;return je.classList.contains("md:hidden")&&je.classList.contains("z-50")&&je.querySelector("nav.flex.justify-around")!==null});Ue&&(_e?(Ue.style.transform="translateY(100%)",Ue.style.opacity="0"):(Ue.style.transform="translateY(0)",Ue.style.opacity="1"),Ue.style.transition="transform 0.3s ease-in-out, opacity 0.3s ease-in-out")}const Be=Z.closest("main");if(Be){const He=window.getComputedStyle(Be),Ue=parseInt(He.marginLeft)||0;d(Ue<=100)}}else{const _e=(window.scrollY||document.documentElement.scrollTop)>100;c(_e)}},Ge=()=>{Z=fe(),Z?(Z.addEventListener("scroll",Fe,{passive:!0}),Fe(),J=()=>{Z==null||Z.removeEventListener("scroll",Fe)}):(window.addEventListener("scroll",Fe,{passive:!0}),Fe(),J=()=>{window.removeEventListener("scroll",Fe)})};Ge();const $e=setTimeout(()=>{Z||Ge()},300);return()=>{if(clearTimeout($e),J&&J(),i){const _e=Array.from(document.querySelectorAll(".fixed.bottom-0")).find(Be=>{const He=Be;return He.classList.contains("md:hidden")&&He.classList.contains("z-50")&&He.querySelector("nav.flex.justify-around")!==null});_e&&(_e.style.transform="",_e.style.opacity="",_e.style.transition="")}}},[p,i]);const A=oa({mutationFn:async()=>{if(!s)throw new Error("User not logged in");if(!p)throw new Error("Job details not available");try{const Z=String(N),J=`${Ze.JOBS.SAVE_JOB}${Z}/`;await Se.post(J)}catch(Z){const J=Z instanceof Error?Z.message:"Failed to save job. Please try again.";throw new Error(J)}},onSuccess:()=>{a.invalidateQueries({queryKey:["savedJobs",s==null?void 0:s.id]}),a.invalidateQueries({queryKey:["profile"]}),de.success(C?"Job Unsaved":"Job Saved")},onError:Z=>{console.error("Error saving job:",Z);const J=Z instanceof Error?Z.message:"Failed to save job";de.error(J)}}),R=()=>{if(!p)return"By agreement";if(p.salary&&typeof p.salary=="string")return p.salary;const Z=p.min_salary,J=p.max_salary,fe=p.salary_currency||"$",Fe=p.salary_period||"yearly";if(Z&&J&&typeof Z=="number"&&typeof J=="number"){const Ge=Fe==="monthly"?"Monthly":"",$e=Z.toLocaleString(),he=J.toLocaleString();return["$","","","","",""].some(He=>fe.includes(He))?`${fe}${$e} - ${fe}${he}${Ge?`/${Ge}`:""}`:`${$e} - ${he} ${fe}${Ge?`/${Ge}`:""}`}else if(Z&&typeof Z=="number"){const Ge=Z.toLocaleString();return["$","","","","",""].some(_e=>fe.includes(_e))?`${fe}${Ge}+`:`${Ge}+ ${fe}`}return"By agreement"},H=()=>{if(!p)return"";const Z=p;if(p.apply_url&&typeof p.apply_url=="string")return p.apply_url;const J=p.apply_url||p.job_apply_link||p.url||(Z.job_apply_link&&typeof Z.job_apply_link=="string"?Z.job_apply_link:null)||p.applyUrl||p.applyLink||p.application_url||p.application_link||p.link||"";if(!J&&p.company_info){const fe=p.company_info;if(fe.apply_url&&typeof fe.apply_url=="string")return fe.apply_url;if(fe.url&&typeof fe.url=="string")return fe.url}if(!J&&p.company&&typeof p.company=="object"){const fe=p.company;if(fe.apply_url&&typeof fe.apply_url=="string")return fe.apply_url;if(fe.url&&typeof fe.url=="string")return fe.url}if(!J&&p.employer&&typeof p.employer=="object"){const fe=p.employer;if(fe.apply_url&&typeof fe.apply_url=="string")return fe.apply_url;if(fe.url&&typeof fe.url=="string")return fe.url}return J},U=()=>{if(!p)return"";const Z=p;if(p.company_name&&typeof p.company_name=="string"&&p.company_name.trim())return String(p.company_name).trim();if(typeof p.company=="string"&&p.company.trim())return String(p.company).trim();if(p.employer_name&&typeof p.employer_name=="string"&&p.employer_name.trim())return String(p.employer_name).trim();if(Z.employer_name&&typeof Z.employer_name=="string")return String(Z.employer_name).trim();if(p.company_info){const J=p.company_info;if(J.name&&typeof J.name=="string"&&J.name.trim())return String(J.name).trim();if(J.company_name&&typeof J.company_name=="string"&&J.company_name.trim())return String(J.company_name).trim();if(J.employer_name&&typeof J.employer_name=="string"&&J.employer_name.trim())return String(J.employer_name).trim()}if(p.company_name&&typeof p.company_name=="string"&&p.company_name.trim())return String(p.company_name).trim();if(p.employer_name&&typeof p.employer_name=="string"&&p.employer_name.trim())return String(p.employer_name).trim();if(p.company&&typeof p.company=="object"){const J=p.company;if(J.name&&typeof J.name=="string"&&J.name.trim())return String(J.name).trim();if(J.company_name&&typeof J.company_name=="string"&&J.company_name.trim())return String(J.company_name).trim();if(J.employer_name&&typeof J.employer_name=="string"&&J.employer_name.trim())return String(J.employer_name).trim()}if(p.employer&&typeof p.employer=="object"){const J=p.employer;if(J.name&&typeof J.name=="string"&&J.name.trim())return String(J.name).trim();if(J.company_name&&typeof J.company_name=="string"&&J.company_name.trim())return String(J.company_name).trim();if(J.employer_name&&typeof J.employer_name=="string"&&J.employer_name.trim())return String(J.employer_name).trim()}return""},D=()=>{if(!p)return"Untitled Position";const Z=p;return p.title||p.job_title||Z.title||Z.job_title||"Untitled Position"},B=()=>{if(!p)return"Location not specified";const Z=p,J=bt=>{if(!bt&&bt!==0)return"";if(typeof bt=="string")return bt;if(typeof bt=="number")return String(bt);if(Array.isArray(bt))return bt.map(je=>String(je)).join(", ");if(typeof bt=="object"){const je=bt;return je.city||je.name||je.label||Object.values(je).filter(Boolean).slice(0,3).map(ft=>String(ft)).join(", ")||""}return String(bt)},fe=p.location??p.job_location;if(fe){const bt=J(fe);if(bt)return bt}const Fe=[],Ge=Z.job_city??p.city??Z.city,$e=Z.job_state??p.state??Z.state,he=Z.job_country??p.country??Z.country,_e=J(Ge),Be=J($e),He=J(he);return _e&&Fe.push(_e),Be&&Fe.push(Be),He&&Fe.push(He),Fe.length>0?Fe.join(", "):[p.city,p.state,p.country].map(bt=>J(bt)).filter(Boolean).join(" ").trim()||"Location not specified"},[L,T]=m.useState(null),[q,I]=m.useState(!1),[P,W]=m.useState(void 0);m.useEffect(()=>{(async()=>{if(!p){T(null),W(void 0);return}const J=U();if(!J||!J.trim()){T(null),W(void 0);return}I(!0);try{const Fe=`https://breneo-job-aggregator.up.railway.app/api/companies/${encodeURIComponent(J.trim())}`;console.log(" Fetching company details from:",Fe);const Ge=await fetch(Fe,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(Ge.ok){const $e=await Ge.json();console.log(" Company details fetched:",$e);const he={name:$e.name||$e.company_name||J,company_name:$e.company_name||$e.name||J,logo:$e.logo||$e.company_logo||$e.logo_url,company_logo:$e.company_logo||$e.logo||$e.logo_url,logo_url:$e.logo_url||$e.logo||$e.company_logo,website:$e.website||$e.company_url||$e.website_url,company_url:$e.company_url||$e.website||$e.website_url,description:$e.description||$e.company_description,company_description:$e.company_description||$e.description,size:$e.size||$e.company_size,company_size:$e.company_size||$e.size,industry:$e.industry||$e.company_industry,company_industry:$e.company_industry||$e.industry,founded:$e.founded||$e.company_founded,company_founded:$e.company_founded||$e.founded,headquarters:$e.headquarters||$e.company_headquarters,company_headquarters:$e.company_headquarters||$e.headquarters,...$e};T(he);const _e=he.logo||he.company_logo||he.logo_url;if(_e&&typeof _e=="string")try{new URL(_e).protocol.startsWith("http")&&W(_e)}catch{}}else console.log(" Company details not found or API error:",Ge.status),T(null),W(void 0)}catch(fe){console.error(" Error fetching company details:",fe),T(null),W(void 0)}finally{I(!1)}})()},[p]);const V=()=>{if(P)return P;if(!p)return;const Z=p;if(Z.employer_logo&&typeof Z.employer_logo=="string"){const J=String(Z.employer_logo);try{if(new URL(J).protocol.startsWith("http"))return J}catch{}}if(p.company_logo&&typeof p.company_logo=="string"){const J=String(p.company_logo);try{if(new URL(J).protocol.startsWith("http"))return J}catch{}}if(p.employer_logo&&typeof p.employer_logo=="string"){const J=String(p.employer_logo);try{if(new URL(J).protocol.startsWith("http"))return J}catch{}}if(p.logo_url&&typeof p.logo_url=="string"){const J=String(p.logo_url);try{if(new URL(J).protocol.startsWith("http"))return J}catch{}}if(p.company_info){const J=p.company_info,fe=[J.logo,J.company_logo,J.employer_logo,J.logo_url];for(const Fe of fe)if(Fe&&typeof Fe=="string"){const Ge=String(Fe);try{if(new URL(Ge).protocol.startsWith("http"))return Ge}catch{}}}if(p.company&&typeof p.company=="object"){const J=p.company,fe=[J.logo,J.company_logo,J.employer_logo,J.logo_url];for(const Fe of fe)if(Fe&&typeof Fe=="string"){const Ge=String(Fe);try{if(new URL(Ge).protocol.startsWith("http"))return Ge}catch{}}}if(p.employer&&typeof p.employer=="object"){const J=p.employer,fe=[J.logo,J.company_logo,J.employer_logo,J.logo_url];for(const Fe of fe)if(Fe&&typeof Fe=="string"){const Ge=String(Fe);try{if(new URL(Ge).protocol.startsWith("http"))return Ge}catch{}}}},ee=()=>{var J,fe,Fe;if(L!=null&&L.website||L!=null&&L.company_url||L!=null&&L.website_url)return L.website||L.company_url||L.website_url;if(!p)return;const Z=((J=p.company_info)==null?void 0:J.website)||((fe=p.company_info)==null?void 0:fe.company_url)||((Fe=p.company_info)==null?void 0:Fe.website_url)||p.company_url;return typeof Z=="string"?Z:void 0},X=()=>{var Z,J;if(L!=null&&L.description||L!=null&&L.company_description)return L.description||L.company_description;if(p)return((Z=p.company_info)==null?void 0:Z.description)||((J=p.company_info)==null?void 0:J.company_description)||void 0},ne=()=>{var Z,J;if(L!=null&&L.size||L!=null&&L.company_size)return L.size||L.company_size;if(p)return((Z=p.company_info)==null?void 0:Z.size)||((J=p.company_info)==null?void 0:J.company_size)||void 0},F=()=>{var Z,J;if(L!=null&&L.founded||L!=null&&L.company_founded)return L.founded||L.company_founded;if(p)return((Z=p.company_info)==null?void 0:Z.founded)||((J=p.company_info)==null?void 0:J.company_founded)||void 0},$=()=>{var Z,J;if(L!=null&&L.headquarters||L!=null&&L.company_headquarters)return L.headquarters||L.company_headquarters;if(p)return((Z=p.company_info)==null?void 0:Z.headquarters)||((J=p.company_info)==null?void 0:J.company_headquarters)||void 0},K=()=>{if(!p)return"Full Time";const Z=p;return p.employment_type||p.job_employment_type||Z.job_employment_type||"Full Time"},Y=()=>{if(!p)return"On-site";const Z=p;return p.is_remote||p.remote===!0||Z.job_is_remote===!0||Z.remote===!0?"Remote":D().toLowerCase().includes("hybrid")?"Hybrid":"On-site"},se=()=>{if(p)return p.required_experience||p.job_required_experience||p.experience||void 0},Q=()=>{if(!p)return[];const Z=p.required_skills||p.skills||p.job_skills||void 0;return typeof Z=="string"?Z.split(/[,\n]/).map(J=>J.trim()).filter(Boolean):Array.isArray(Z)?Z.filter(Boolean):[]},ae=m.useMemo(()=>{if(!p)return[];const Z=fN(p);if(Z.skillsRequired.length>0)return[...new Set(Z.skillsRequired)];const J=p.required_skills??p.skills??p.job_skills,fe=Array.isArray(J)?J.filter(Boolean):typeof J=="string"?J.split(/[,\n]/).map(Fe=>Fe.trim()).filter(Boolean):[];return[...new Set(fe.map(Fe=>pn(Fe)).filter(Boolean))]},[p]),re=p?String(p.id??p.job_id??""):"";m.useEffect(()=>{re&&(v.current=null)},[re]),m.useEffect(()=>{if(!p||ae.length===0||j)return;const Z=String(p.id??p.job_id??"");if(v.current===Z)return;v.current=Z;const J=new Set(k);h(new Set(ae.filter(fe=>J.has(fe))))},[p,ae,k,j]);const pe=()=>{if(p)return p.education||p.education_required||p.required_education||void 0},ve=()=>{if(p)return p.application_deadline||p.deadline||p.expires_at||p.expiration_date||void 0},Ie=Z=>{if(Z)try{const J=new Date(Z);return isNaN(J.getTime())?Z:J.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return Z}},et=()=>{if(p)return p.job_category||p.category||p.industry||p.job_industry||void 0},Je=()=>window.location.href,dt=()=>{if(!p)return"Check out this job!";const Z=D(),J=U();return`Check out this ${Z} position at ${J}!`},Ce=async()=>{if(!navigator.share)return!1;try{return await navigator.share({title:D(),text:dt(),url:Je()}),de.success("Shared successfully!"),!0}catch(Z){return Z.name!=="AbortError"&&console.error("Error sharing:",Z),!1}},ke=async()=>{try{await navigator.clipboard.writeText(Je()),de.success("Link copied to clipboard!")}catch(Z){console.error("Error copying link:",Z),de.error("Failed to copy link")}},G=()=>{const J=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(Je())}`;window.open(J,"_blank","width=600,height=400")},ce=()=>{const Z=encodeURIComponent(Je()),J=encodeURIComponent(D()),fe=encodeURIComponent(dt()),Fe=`https://www.linkedin.com/sharing/share-offsite/?url=${Z}&title=${J}&summary=${fe}`;window.open(Fe,"_blank","width=600,height=400")},Ne=async()=>{navigator.share&&await Ce()},qe=s&&p?yu(p,Zl(k)):null,Re=m.useMemo(()=>{if(!s||!p)return null;const Z=fN(p),fe={...Zl(k),userSkills:Array.from(f),techStackExperience:Array.from(f)};return Xq(Z,fe)},[p,s,k,f])??qe,it=m.useMemo(()=>{const Z=JWe(p==null?void 0:p.industry_tags);return XWe(Z,t).percent},[p,t]),xe=Re?Re.overallPercent>=95?"excellentMatch":Re.overallPercent>=85?"bestMatch":Re.overallPercent>=70?"goodMatch":Re.overallPercent>=50?"fairMatch":"badMatch":null,Pe=xe?r.jobMatch[xe]:"";return o.jsxs(At,{children:[o.jsxs("div",{ref:g,className:"max-w-5xl mx-auto pt-0 sm:pt-4 pb-40 sm:pb-32 md:pb-24 sm:px-4 md:px-6",children:[x&&o.jsx(Oe,{className:"mb-6 border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-900",children:o.jsx(Me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3 text-red-700 dark:text-red-400",children:[o.jsx(ug,{className:"h-5 w-5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"Error loading job details"}),o.jsx("p",{className:"text-sm",children:x.message})]})]})})}),y&&o.jsx("div",{className:"space-y-6",children:o.jsx(Oe,{children:o.jsxs(Me,{className:"p-6",children:[o.jsx(xr,{className:"h-8 w-3/4 mb-4"}),o.jsx(xr,{className:"h-4 w-1/2 mb-6"}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx(xr,{className:"h-16 w-16 rounded-full"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(xr,{className:"h-5 w-1/3 mb-2"}),o.jsx(xr,{className:"h-4 w-1/4"})]})]}),o.jsx(xr,{className:"h-32 w-full"})]})})}),!y&&p&&o.jsx(Oe,{className:"bg-transparent border-0 shadow-none h-full",children:o.jsxs(Me,{className:"p-1 sm:p-6 space-y-2",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-6 bg-white rounded-3xl p-6 shadow-none border-0",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[V()?o.jsx("img",{src:V(),alt:U()||"Company logo",className:"h-12 w-12 rounded-md object-cover flex-shrink-0"}):o.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-500 flex-shrink-0",children:o.jsx(fu,{className:"h-6 w-6"})}),o.jsxs("div",{className:"flex flex-col min-w-0",children:[U()&&o.jsx("p",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 truncate",children:U()}),o.jsx("h1",{className:"text-lg md:text-2xl font-semibold text-gray-900 dark:text-white truncate",children:D()})]})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[o.jsx(Mu,{className:"h-4 w-4"}),o.jsx("span",{children:B()})]})}),o.jsxs("div",{className:"flex flex-col md:flex-row md:flex-wrap gap-2 md:gap-4 mb-6 text-sm md:text-base font-medium text-gray-700 dark:text-gray-200 ",children:[o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[o.jsx(Pde,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),o.jsx("span",{children:R()})]}),o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[o.jsx(Ou,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),o.jsx("span",{children:K()})]}),o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[o.jsx(Hr,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),o.jsx("span",{children:Y()})]}),p.posted_at||p.fetched_at||p.date_posted||p.posted_date?o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap text-sm md:text-base font-medium text-gray-700 dark:text-gray-200",children:[o.jsx(_S,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0 text-gray-700 dark:text-gray-200"}),o.jsx("span",{children:Ie(String(p.posted_at||p.fetched_at||p.date_posted||p.posted_date||""))||String(p.posted_at||p.fetched_at||p.date_posted||p.posted_date||"")})]}):null]})]}),o.jsxs("div",{className:"flex flex-row items-start gap-2 md:pt-0",children:[H()?o.jsx(oe,{variant:"default",size:"sm",onClick:()=>window.open(H(),"_blank"),children:"Apply Now"}):o.jsx(oe,{disabled:!0,variant:"outline",size:"sm",className:"flex items-center gap-2",children:"Apply Link Not Available"}),o.jsxs("div",{className:"flex flex-row items-start gap-2 ml-auto",children:[s&&o.jsx(oe,{variant:"secondary",size:"icon",onClick:()=>A.mutate(),disabled:A.isPending,"aria-label":C?"Unsave job":"Save job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:o.jsx(En,{className:`h-4 w-4 ${C?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),i&&navigator.share?o.jsx(oe,{variant:"secondary",size:"icon",onClick:Ne,"aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:o.jsx($v,{className:"h-4 w-4"})}):o.jsxs(QF,{children:[o.jsx(ZF,{asChild:!0,children:o.jsx(oe,{variant:"secondary",size:"icon","aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:o.jsx($v,{className:"h-4 w-4"})})}),o.jsxs(_C,{align:"end",children:[o.jsxs(Uc,{onClick:ke,children:[o.jsx(f4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Copy Link"})]}),o.jsxs(Uc,{onClick:G,children:[o.jsx(h4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on Facebook"})]}),o.jsxs(Uc,{onClick:ce,children:[o.jsx(g4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on LinkedIn"})]})]})]})]})]})]})}),s&&p&&Re&&o.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-none border-0 mt-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap items-stretch gap-4",children:[o.jsxs("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 p-4 flex flex-row items-center justify-center gap-3 w-full sm:min-w-[280px] flex-1 min-h-[120px] sm:min-h-0",children:[o.jsx(na,{value:Re.overallPercent,size:52,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",className:"flex-shrink-0 text-breneo-blue"}),o.jsxs("div",{className:"flex flex-col items-start text-left min-w-0",children:[o.jsx("span",{className:"text-sm font-bold text-black dark:text-white capitalize",children:Pe||r.jobMatch.overall}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 leading-snug",children:r.jobMatch.scoreDescription})]})]}),o.jsxs("div",{className:"rounded-xl p-2 flex flex-wrap items-end justify-center sm:justify-end gap-0.5 sm:gap-x-4 flex-1 min-w-0  sm:min-h-0 w-full",children:[o.jsxs("div",{className:"flex flex-col items-center flex-shrink-0  w-[90px] min-w-[80px]",children:[o.jsx(na,{value:Re.expLevel.percent??0,size:52,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",centerLabel:Re.expLevel.percent!=null?void 0:"N/A",className:"flex-shrink-0 text-breneo-blue"}),o.jsx("span",{className:"text-[10px] font-bold text-black dark:text-white uppercase tracking-widest mt-2",children:r.jobMatch.expLevel})]}),o.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 w-[90px] min-w-[80px]",children:[o.jsx(na,{value:Re.skills.percent??0,size:52,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",centerLabel:Re.skills.percent!=null?void 0:"N/A",className:"flex-shrink-0 text-breneo-blue"}),o.jsx("span",{className:"text-[10px] font-bold text-black dark:text-white uppercase tracking-widest mt-2",children:r.jobMatch.skill})]}),o.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 w-[90px] min-w-[80px]",children:[o.jsx(na,{value:it??0,size:52,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",centerLabel:it!=null?void 0:"N/A",className:"flex-shrink-0 text-breneo-blue"}),o.jsx("span",{className:"text-[10px] font-bold text-black dark:text-white uppercase tracking-widest mt-2",children:r.jobMatch.industryExp})]})]})]})}),(p.responsibilities||p.qualifications||p.team_description||p.benefits)&&o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-none border-0 mt-6 space-y-[4.5rem]",children:[p.responsibilities&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(iz,{className:"h-5 w-5"}),"Responsibilities"]}),o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:p.responsibilities})})]}),(p.qualifications||ae.length>0)&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(Xl,{className:"h-5 w-5"}),"Qualifications"]}),ae.length>0&&o.jsxs("div",{className:"mb-7",children:[o.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:"Skills required  tap to mark as known"}),o.jsx("div",{className:"flex flex-wrap gap-3",children:ae.map(Z=>{const J=f.has(Z);return o.jsxs(Pt,{variant:"outline",className:le("cursor-pointer transition-colors capitalize px-4 py-2 text-sm min-h-[2.25rem] rounded-lg select-none",J?"bg-sky-100 text-sky-800 border-sky-200 hover:bg-sky-200 dark:bg-sky-900/40 dark:text-sky-200 dark:border-sky-700 dark:hover:bg-sky-800/50":"bg-gray-100 text-gray-600 border-gray-200 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700 dark:hover:bg-gray-700"),onClick:()=>{s&&h(fe=>{const Fe=new Set(fe);return Fe.has(Z)?Fe.delete(Z):Fe.add(Z),Fe})},children:[Z,J&&o.jsx(Di,{className:"ml-2 h-4 w-4 inline-block"})]},Z)})})]}),p.qualifications&&o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:p.qualifications})})]}),p.team_description&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(zx,{className:"h-5 w-5"}),"About the Team"]}),o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:p.team_description})})]}),p.benefits&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(Tde,{className:"h-5 w-5"}),"Benefits"]}),o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:p.benefits})})]})]}),(se()||pe()||Q().length>0||et()||ve())&&o.jsxs("div",{className:"rounded-3xl p-6 shadow-none border-0 mt-6",children:[o.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold mb-4",children:[o.jsx(Di,{className:"h-5 w-5"}),"Job Details"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[se()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Hr,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Required Experience"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:se()})]})]}),pe()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ql,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Education Required"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:pe()})]})]}),et()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ede,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Category/Industry"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:et()})]})]}),ve()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(_S,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Application Deadline"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:Ie(ve())||ve()})]})]})]}),Q().length>0&&o.jsxs("div",{className:"mt-6 pt-6",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Required Skills"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Q().map((Z,J)=>o.jsxs(Pt,{variant:"secondary",className:"flex items-center gap-1",children:[o.jsx(Xl,{className:"h-3 w-3"}),Z]},J))})]})]}),o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-none border-0 mt-6",children:[o.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(fu,{className:"h-5 w-5"}),"Company Details"]})}),q?o.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[o.jsx(bs,{className:"h-5 w-5 animate-spin text-breneo-accent"}),o.jsx("p",{className:"text-sm",children:"Loading company information..."})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex-shrink-0",children:[V()?o.jsx("img",{src:V(),alt:U()||"Company logo",className:"h-14 w-14 md:h-14 md:w-14 rounded-2xl object-cover bg-white shadow-sm",onError:Z=>{Z.target.style.display="none",Z.target.nextElementSibling.style.display="flex"}}):null,o.jsx("div",{className:`h-16 w-16 md:h-20 md:w-20 rounded-2xl bg-gradient-to-br from-breneo-accent to-breneo-blue flex items-center justify-center text-white shadow-sm ${V()?"hidden":"flex"}`,children:o.jsx(fu,{className:"h-8 w-8"})})]}),o.jsx("h3",{className:"text-xl md:text-xl font-bold text-gray-900 dark:text-white break-words",children:U()||"Company Name"})]}),X()&&o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:X()})}),o.jsxs("div",{className:"space-y-4 pt-2",children:[F()&&o.jsxs("div",{className:"flex items-center gap-3 text-gray-700 dark:text-gray-200",children:[o.jsx(_S,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-base font-medium",children:["Founded in ",F()]})]}),$()&&o.jsxs("div",{className:"flex items-center gap-3 text-gray-700 dark:text-gray-200",children:[o.jsx(Mu,{className:"h-5 w-5"}),o.jsx("span",{className:"text-base font-medium",children:$()})]}),ne()&&o.jsxs("div",{className:"flex items-center gap-3 text-gray-700 dark:text-gray-200",children:[o.jsx(zx,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-base font-medium",children:[ne()," employees"]})]}),ee()&&o.jsx("div",{className:"flex gap-2",children:o.jsxs("a",{href:ee(),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 h-10 rounded-full bg-primary text-white dark:text-black hover:opacity-80 transition-opacity font-medium text-sm",title:"Visit Website",children:[o.jsx(cc,{className:"h-4 w-4"}),"Visit Website"]})})]})]})]})]})}),!y&&!p&&!x&&o.jsx(Oe,{children:o.jsx(Me,{className:"p-6",children:o.jsxs("div",{className:"text-center text-gray-500",children:[o.jsx(ug,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),o.jsx("p",{className:"font-semibold mb-2",children:"No job details found"}),o.jsxs("p",{className:"text-sm",children:["Job ID: ",n||"Not provided"]}),o.jsx("p",{className:"text-sm mt-2",children:"The API may not have returned data for this job."}),o.jsx(oe,{onClick:()=>{a.invalidateQueries({queryKey:["jobDetail",n]})},variant:"outline",className:"mt-4",children:"Retry"})]})})})]}),p&&o.jsx("div",{className:le("fixed bottom-0 right-0 z-[60]","bg-[#F8F9FA] dark:bg-[#181818]","border-t border-black/[0.03] dark:border-white/[0.03]","shadow-lg transition-all duration-300 ease-in-out",u?"md:left-24":"md:left-[17rem]","left-0",l?"opacity-100 translate-y-0":"opacity-0 translate-y-full pointer-events-none"),children:o.jsx("div",{className:"px-5 sm:px-9 md:px-12 lg:px-14 py-4",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:D()}),U()&&o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:U()})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s&&o.jsx(oe,{variant:"secondary",size:"icon",onClick:()=>A.mutate(),disabled:A.isPending,"aria-label":C?"Unsave job":"Save job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:o.jsx(En,{className:`h-4 w-4 ${C?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),i&&navigator.share?o.jsx(oe,{variant:"secondary",size:"icon",onClick:Ne,"aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:o.jsx($v,{className:"h-4 w-4"})}):o.jsxs(QF,{children:[o.jsx(ZF,{asChild:!0,children:o.jsx(oe,{variant:"secondary",size:"icon","aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:o.jsx($v,{className:"h-4 w-4"})})}),o.jsxs(_C,{align:"end",children:[o.jsxs(Uc,{onClick:ke,children:[o.jsx(f4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Copy Link"})]}),o.jsxs(Uc,{onClick:G,children:[o.jsx(h4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on Facebook"})]}),o.jsxs(Uc,{onClick:ce,children:[o.jsx(g4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on LinkedIn"})]})]})]}),H()?o.jsx(oe,{variant:"default",size:"sm",onClick:()=>window.open(H(),"_blank"),className:"whitespace-nowrap",children:"Apply Now"}):o.jsx(oe,{disabled:!0,variant:"outline",size:"sm",className:"whitespace-nowrap",children:"Apply Unavailable"})]})]})})})]})},t6=["javascript","typescript","python","java","c++","c#","go","rust","php","ruby","swift","kotlin","scala","r","dart","perl","react","angular","vue","node.js","nodejs","express","django","flask","spring","laravel","rails","next.js","nuxt","svelte","html","css","sass","scss","tailwind","bootstrap","webpack","vite","sql","mysql","postgresql","mongodb","redis","cassandra","elasticsearch","database","dba","aws","azure","gcp","google cloud","docker","kubernetes","k8s","terraform","ansible","jenkins","ci/cd","devops","sre","cloud","software engineer","software developer","programmer","developer","programming","coding","coder","full stack","fullstack","frontend","front-end","backend","back-end","web developer","mobile developer","ios developer","android developer","react native","flutter","data scientist","data engineer","data analyst","machine learning","ml engineer","ai engineer","artificial intelligence","deep learning","neural network","computer vision","nlp","natural language processing","cybersecurity","security engineer","penetration testing","ethical hacker","information security","qa engineer","test engineer","automation engineer","sdet","quality assurance","testing","test automation","system administrator","sysadmin","network engineer","infrastructure engineer","site reliability","product manager","technical product manager","ux designer","ui designer","product designer","interaction designer","api","rest api","graphql","microservices","agile","scrum","git","github","gitlab","bitbucket","jira","confluence","code review","version control","tech","technology","software","saas","platform","startup","fintech","edtech","healthtech"],ZWe=["sales","marketing","accountant","accounting","finance","banking","insurance","real estate","retail","cashier","waiter","waitress","chef","cook","nurse","doctor","physician","teacher","instructor","tutor","lawyer","attorney","legal","driver","delivery","warehouse","factory","manufacturing","construction","plumber","electrician","mechanic","barber","hairdresser","beauty","fitness","trainer","coach","therapist","counselor","social worker","customer service","call center","receptionist","administrative","secretary","reception","cleaning","janitor","maintenance","security guard","guard","officer"],eVe=e=>{const t=[e.job_title||e.title||"",e.description||"",e.job_description||"",e.job_required_experience||e.required_experience||"",e.employer_name||e.company_name||"",typeof e.company=="string"?e.company:""].join(" ").toLowerCase();return ZWe.some(s=>t.includes(s.toLowerCase()))?!!t6.some(a=>{const i=a.toLowerCase(),l=(e.job_title||e.title||"").length,c=typeof e.description=="string"?e.description.length:0,u=typeof e.job_description=="string"?e.job_description.length:0;return t.includes(i)&&t.indexOf(i)<l+c+u}):t6.some(s=>t.includes(s.toLowerCase()))},tVe=e=>e.filter(eVe),r6=["ashby","bamboohr","breezy","breezyhr","careerplug","comeet","cornerstoneondemand","csod","dayforce","eightfold","freshteam","gohire","greenhouse","hirehive","hiringthing","icims","jazzhr","jobvite","join.com","lever","lever.co","oraclecloud","oracle","paycom","paylocity","personio","phenompeople","phenom","pinpoint","polymer","recooty","recruitee","rippling","smartrecruiters","successfactors","taleo","teamtailor","trakstar","workable","workday","ziprecruiter","zohorecruit","zoho"],rVe=e=>{const t=[];return[e.job_apply_link,e.apply_link,e.url,e.apply_url,e.applyUrl,e.applyLink,e.application_url,e.application_link,e.link,e.company_url,e.website_url,e.jobUrl].forEach(n=>{n&&typeof n=="string"&&n.trim()&&t.push(n.trim().toLowerCase())}),t},nVe=e=>{if(!e||typeof e!="string")return!1;try{let t="";if(e.startsWith("http://")||e.startsWith("https://"))t=new URL(e).hostname.toLowerCase();else{const a=e.match(/(?:https?:\/\/)?(?:www\.)?([^/\s]+)/);a?t=a[1].toLowerCase():t=e.toLowerCase()}return t=t.replace(/^www\./,""),r6.some(a=>t.includes(a.toLowerCase()))?!0:[/\/careers?/i,/\/jobs?/i,/careers?\./i,/jobs?\./i,/\/apply/i,/\/openings/i,/\/positions/i].some(a=>e.match(a))}catch{const r=e.toLowerCase();return r6.some(n=>r.includes(n.toLowerCase()))}},sVe=e=>{const t=rVe(e);return t.length===0?!1:t.some(r=>nVe(r))},x_=e=>e.filter(sVe),n6={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern",INTERNSHIP:"Internship"},aVe=async(e,t=1)=>{var r;try{console.log(` fetchCompanyJobs called - fetching jobs for company: ${e}, page ${t}`);const n=await ui.fetchActiveJobs({query:e,filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:t,pageSize:50});if(console.log(" fetchCompanyJobs response:",{totalJobs:((r=n.jobs)==null?void 0:r.length)||0,hasMore:n.hasMore,searchCompany:e}),!n||!Array.isArray(n.jobs))return console.warn("Invalid response format from job service:",n),{jobs:[],hasMore:!1,total:0};const s=n.jobs.filter(i=>{const l=i.company&&typeof i.company=="object"?i.company:null,c=(l==null?void 0:l.name)||(l==null?void 0:l.company_name)||i.companyName||i.employer_name||i.company_name||(typeof i.company=="string"?i.company:null)||"";if(!c||c.trim()==="")return!1;const u=c.trim().toLowerCase(),d=e.trim().toLowerCase();return u===d||u.includes(d)||d.includes(u)||u.replace(/\s+/g,"")===d.replace(/\s+/g,"")});console.log(" Filtered company jobs:",{beforeFilter:n.jobs.length,afterCompanyFilter:s.length,searchCompany:e,sampleCompanies:s.slice(0,3).map(i=>{const l=i.company&&typeof i.company=="object"?i.company:null;return(l==null?void 0:l.name)||i.employer_name||i.company_name||(typeof i.company=="string"?i.company:null)||"Unknown"})});const a=s.filter(i=>{const l=i.job_id||i.id;return l&&l.trim()!==""});if(console.log(` Final valid jobs for ${e}:`,a.length),a.length===0&&t===1){console.log(" No jobs found with company name search, trying broader search...");try{const i=await ui.fetchActiveJobs({query:"",filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:1,pageSize:100});if(i&&Array.isArray(i.jobs)){const c=i.jobs.filter(u=>{const d=u.company&&typeof u.company=="object"?u.company:null,f=(d==null?void 0:d.name)||(d==null?void 0:d.company_name)||u.companyName||u.employer_name||u.company_name||(typeof u.company=="string"?u.company:null)||"";if(!f||f.trim()==="")return!1;const h=f.trim().toLowerCase(),g=e.trim().toLowerCase();return h===g||h.includes(g)||g.includes(h)||h.replace(/\s+/g,"")===g.replace(/\s+/g,"")}).filter(u=>{const d=u.job_id||u.id;return d&&d.trim()!==""});return console.log(` Broader search found ${c.length} jobs for ${e}`),{jobs:c,hasMore:!1,total:c.length}}}catch(i){console.error("Error in broader search:",i)}}return{jobs:a,hasMore:n.hasMore??!1,total:a.length}}catch(n){return console.error("Error fetching company jobs:",n),{jobs:[],hasMore:!1,total:0}}},iVe=()=>{var E,k;const{companyName:e}=Ch(),{user:t}=ir(),r=Ws(),n=rr(),[s,a]=m.useState(1),[i,l]=m.useState([]),[c,u]=m.useState(!1),[d,f]=m.useState(!1),h=e?decodeURIComponent(e):"",{data:g=[]}=Wt({queryKey:["savedJobs",t==null?void 0:t.id],queryFn:async()=>{var j;if(!t)return[];try{return(((j=(await Se.get(Ze.AUTH.PROFILE)).data)==null?void 0:j.saved_jobs)||[]).map(A=>String(A))}catch(N){return console.error("Error fetching saved jobs:",N),[]}},enabled:!!t}),{data:v={jobs:[],hasMore:!1,total:0},isLoading:p,error:y}=Wt({queryKey:["companyJobs",h,s],queryFn:()=>aVe(h,s),enabled:!!h,refetchOnWindowFocus:!1,staleTime:5*60*1e3});m.useEffect(()=>{if(v.jobs&&v.jobs.length>0){const j=x_(v.jobs),N=tVe(j);l(s===1?N:C=>{const A=new Set(C.map(H=>H.job_id||H.id)),R=N.filter(H=>!A.has(H.job_id||H.id));return[...C,...R]}),u(v.hasMore),f(!1)}else s===1&&(l([]),u(!1))},[v,s]);const x=oa({mutationFn:async j=>{if(!t)throw new Error("User not logged in");if(!j.id)throw new Error("Job ID is required");const N=String(j.id),C=`${Ze.JOBS.SAVE_JOB}${N}/`;await Se.post(C)},onSuccess:(j,N)=>{r.invalidateQueries({queryKey:["savedJobs",t==null?void 0:t.id]}),r.invalidateQueries({queryKey:["profile"]}),de.success(N.is_saved?"Job Unsaved":"Job Saved")},onError:j=>{console.error("Error saving job:",j),de.error("Failed to save job")}}),b=m.useMemo(()=>!i||i.length===0?[]:i.map(j=>{const N=j.company&&typeof j.company=="object"?j.company:null,C=j.job_id||j.id||"";if(!C||C.trim()==="")return null;const A=j.job_title||j.title||j.position||"Untitled Position",R=(N==null?void 0:N.name)||(N==null?void 0:N.company_name)||j.companyName||j.employer_name||j.company_name||(typeof j.company=="string"?j.company:null)||"Unknown Company",H=j.job_city||j.city||(N==null?void 0:N.city)||"",U=j.job_state||j.state||(N==null?void 0:N.state)||"",D=j.job_country||j.country||(N==null?void 0:N.country)||"",B=j.jobLocation||j.location||(N==null?void 0:N.location)||[H,U,D].filter(Boolean).join(", ")||"Location not specified",L=j.applyUrl||j.jobUrl||j.job_apply_link||j.apply_link||j.url||j.apply_url||j.company_url||(N==null?void 0:N.url)||"";let T;if(j.companyLogo&&(T=j.companyLogo),!T&&j.employer_logo&&(T=j.employer_logo),!T&&j.company_logo&&(T=j.company_logo),!T&&j.logo&&(T=j.logo),!T&&j.logo_url&&(T=j.logo_url),!T&&N&&(N.logo&&(T=N.logo),!T&&N.logo_url&&(T=N.logo_url),!T&&N.company_logo&&(T=N.company_logo)),T)try{new URL(T).protocol.startsWith("http")||(T=void 0)}catch{T=void 0}let q="By agreement";const I=j.job_min_salary||j.min_salary,P=j.job_max_salary||j.max_salary,W=j.job_salary_currency||j.salary_currency||"$",V=j.job_salary_period||j.salary_period||"yearly";if(I&&P&&typeof I=="number"&&typeof P=="number"){const K=V==="monthly"?"Monthly":"",Y=I.toLocaleString(),se=P.toLocaleString();["$","","","","",""].some(re=>W.includes(re))?q=`${W}${Y} - ${W}${se}${K?`/${K}`:""}`:q=`${Y} - ${se} ${W}${K?`/${K}`:""}`}else if(I&&typeof I=="number"){const K=I.toLocaleString();q=["$","","","","",""].some(Q=>W.includes(Q))?`${W}${K}+`:`${K}+ ${W}`}else j.salary&&typeof j.salary=="string"&&(q=j.salary);const ee=j.job_employment_type||j.employment_type||j.type||"FULLTIME",X=ee.toUpperCase(),ne=n6[X]||n6[ee]||ee||"Full time";let F="On-site";return j.job_is_remote||j.is_remote||j.remote===!0?F="Remote":A!=null&&A.toLowerCase().includes("hybrid")&&(F="Hybrid"),{id:C,title:A,company:R,location:B,url:L,company_logo:T,is_saved:g==null?void 0:g.includes(String(C)),salary:q,employment_type:ne,work_arrangement:F}}).filter(j=>j!==null),[i,g]),w=()=>{f(!0),a(j=>j+1)},_=(E=b[0])==null?void 0:E.company_logo,S=((k=b[0])==null?void 0:k.company)||h;return o.jsx(At,{children:o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(oe,{variant:"ghost",onClick:()=>n("/jobs"),className:"mb-4",children:[o.jsx(xm,{className:"h-4 w-4 mr-2"}),"Back to Jobs"]}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[_?o.jsx("img",{src:_,alt:`${S} logo`,className:"w-16 h-16 rounded-full object-cover",onError:j=>{const N=j.target;N.style.display="none"}}):o.jsx("div",{className:"w-16 h-16 rounded-full bg-breneo-accent flex items-center justify-center",children:o.jsx(fu,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:S}),o.jsxs("p",{className:"text-gray-500",children:[b.length," Job",b.length!==1?"s":""," Available"]})]})]})]}),y&&o.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-md flex items-center gap-3 mb-6",children:[o.jsx(ug,{className:"h-5 w-5"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Error:"})," ",y==null?void 0:y.message]})]}),p&&s===1&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((j,N)=>o.jsx(Oe,{children:o.jsx(Me,{className:"p-5",children:o.jsx(xr,{className:"h-32 w-full"})})},N))}),!p&&b.length===0&&o.jsxs("div",{className:"text-center p-10 rounded-3xl text-muted-foreground bg-muted/30",children:[o.jsx(fu,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No Jobs Found"}),o.jsxs("p",{className:"text-sm",children:["No job openings found for ",S," at this time."]})]}),b.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-8",children:b.map(j=>o.jsx(Oe,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl hover:shadow-soft cursor-pointer",children:o.jsxs(Me,{className:"p-5 flex flex-col flex-grow relative",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[j.company_logo?o.jsx("img",{src:j.company_logo,alt:`${j.company_name||j.company} logo`,className:"w-12 h-12 rounded-full object-cover absolute inset-0 z-10",loading:"lazy",onError:N=>{var R;const C=N.target;C.onerror=null,C.style.display="none";const A=(R=C.parentElement)==null?void 0:R.querySelector(".logo-fallback");A&&(A.style.display="flex",A.style.zIndex="10")}}):null,j.company&&!j.company_logo?o.jsx("img",{src:`https://logo.clearbit.com/${encodeURIComponent(j.company)}`,alt:`${j.company_name||j.company} logo`,className:"w-12 h-12 rounded-full object-cover absolute inset-0 clearbit-logo",style:{zIndex:10},loading:"lazy",onError:N=>{var R;const C=N.target;C.onerror=null,C.style.display="none";const A=(R=C.parentElement)==null?void 0:R.querySelector(".logo-fallback");A&&(A.style.display="flex",A.style.zIndex="10")}}):null,o.jsx("div",{className:`w-12 h-12 rounded-full bg-breneo-accent flex items-center justify-center logo-fallback absolute inset-0 ${j.company_logo||j.company&&!j.company_logo?"hidden":"flex"}`,style:{zIndex:j.company_logo||j.company&&!j.company_logo?0:10},children:o.jsx(Hr,{className:"h-6 w-6 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base truncate",children:j.company_name||j.company}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:j.location})]})]}),o.jsx("h4",{className:"font-bold text-lg mb-4 line-clamp-2",children:j.title}),o.jsxs("div",{className:"space-y-2 mb-4 md:mb-4 flex-grow pb-20 md:pb-0",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(qw,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:j.salary})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Ou,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:j.employment_type})]}),j.work_arrangement&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Hr,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:j.work_arrangement})]})]}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 bg-card flex items-center gap-2 transform translate-y-0 md:translate-y-full md:group-hover:translate-y-0 transition-transform duration-200 ease-in-out shadow-lg",children:[o.jsx(oe,{variant:"default",onClick:()=>{if(!j.id||j.id.trim()===""){de.error("Cannot open job: Invalid job ID");return}const N=encodeURIComponent(j.id);n(`/jobs/${N}`)},className:"flex-1",disabled:!j.id||j.id.trim()==="",children:"View"}),o.jsx(oe,{variant:"default",size:"icon",onClick:()=>x.mutate(j),"aria-label":j.is_saved?"Unsave job":"Save job",className:j.is_saved?"bg-primary/90":"",children:o.jsx(En,{className:`h-5 w-5 transition-colors ${j.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-white"}`})})]})]})},j.id))}),c&&o.jsx("div",{className:"flex justify-center mt-6 mb-8",children:o.jsx(oe,{onClick:w,disabled:d,variant:"outline",className:"min-w-[200px]",children:d?o.jsxs(o.Fragment,{children:[o.jsx(bs,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Load More Jobs"})})]})]})})},im=e=>e.toLowerCase().trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").replace(/_+/g,"_").replace(/^_|_$/g,""),oVe=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),lVe="",s6="",a6="",cVe="",uVe="Interests / Skills",i6=({filters:e,onFiltersChange:t,isMobile:r=!1,userTopSkills:n=[],mobileView:s="main",onMobileViewChange:a,countrySearchQuery:i="",onCountrySearchChange:l})=>{const{t:c}=hi(),[u,d]=m.useState(!1),[f,h]=m.useState(""),g=l&&i!==void 0?i:f,v=_=>{l?l(_):h(_)},p=M.useMemo(()=>{if(!g.trim())return sn;const _=g.toLowerCase();return sn.filter(S=>S.name.toLowerCase().includes(_)||S.code.toLowerCase().includes(_))},[g]);m.useEffect(()=>{r&&s!=="country"&&(l?l(""):h("")),!r&&!u&&(l?l(""):h(""))},[s,u,r,l]);const y=_=>{const S=e.countries.includes(_)?e.countries.filter(E=>E!==_):[...e.countries,_];t({...e,countries:S,skills:e.skills||[]})},x=_=>{const S=e.skills.includes(_)?e.skills.filter(E=>E!==_):[...e.skills,_];t({...e,skills:S,countries:e.countries||[]})},b=()=>{if(n.length===0)return;const _=n.every(S=>e.skills.includes(S));t(_?{...e,skills:[],countries:e.countries||[]}:{...e,skills:n,countries:e.countries||[]})},w=n.length>0&&n.every(_=>e.skills.includes(_));return r?s==="country"?o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden -mx-6 px-6",children:o.jsx("div",{className:"space-y-2",children:p.length===0?o.jsx("div",{className:"py-8 text-center text-sm text-gray-500",children:"No countries found"}):p.map(_=>{const S=e.countries.includes(_.code);return o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-2",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 truncate",children:_.name}),o.jsx(qn,{checked:S,onCheckedChange:()=>y(_.code),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},_.code)})})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{type:"button",onClick:()=>a==null?void 0:a("country"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.country}),o.jsx(wa,{className:"h-4 w-4 text-gray-400"})]})}),n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(De,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:cVe}),o.jsx("button",{type:"button",onClick:b,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:w?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(_=>{const S=e.skills.includes(_);return o.jsx("button",{type:"button",onClick:()=>x(_),className:`
                      px-4 py-2 rounded-full text-sm font-medium transition-colors border
                      ${S?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                    `,children:_},_)})})]})]}):o.jsxs("div",{className:"space-y-6",children:[n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(De,{className:"text-base font-medium dark:text-gray-100",children:uVe}),o.jsx("button",{type:"button",onClick:b,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:w?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(_=>{const S=e.skills.includes(_);return o.jsx("button",{type:"button",onClick:()=>x(_),className:`
                    px-4 py-2 rounded-full text-sm font-medium transition-colors border
                    ${S?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                  `,children:_},_)})})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs(mC,{open:u,onOpenChange:_=>{d(_),_||v("")},children:[o.jsxs(gC,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${u?"rounded-t-lg":"rounded-lg"}`,children:[o.jsx(De,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.country}),o.jsx(Fo,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${u?"transform rotate-180":""}`})]}),o.jsx(yC,{className:"mt-0",children:o.jsxs("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:[o.jsx("div",{className:"sticky top-0 z-10 bg-gray-100 dark:bg-[rgb(55,57,60)] p-3 border-b border-gray-300 dark:border-gray-600",children:o.jsxs("div",{className:"relative",children:[o.jsx(Bo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(rt,{type:"text",placeholder:"Search countries...",value:g,onChange:_=>v(_.target.value),className:"pl-9 pr-3 h-9 text-sm bg-white dark:bg-gray-700"})]})}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.length===0?o.jsx("div",{className:"col-span-2 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):p.map(_=>{const S=e.countries.includes(_.code);return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(qn,{checked:S,onCheckedChange:()=>y(_.code),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:_.name})]},_.code)})})})]})})]})})]})},dVe=({isOpen:e,onClose:t,filters:r,onFiltersChange:n,onApply:s,onClear:a,userTopSkills:i=[]})=>{const{t:l}=hi(),c=da(),[u,d]=m.useState("main"),[f,h]=m.useState("");return m.useEffect(()=>{e||(d("main"),h(""))},[e]),c?o.jsx(Fi,{open:e,onOpenChange:t,children:o.jsxs(Bi,{className:"max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(Ui,{className:"flex-shrink-0 border-b border-gray-200",children:o.jsx(zi,{className:"text-xl font-bold",children:u==="country"?l.jobs.country:lVe})}),u==="country"&&o.jsx("div",{className:"flex-shrink-0 px-6 py-3 border-b border-gray-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(Bo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(rt,{type:"text",placeholder:"Search countries...",value:f,onChange:g=>h(g.target.value),className:"pl-9 pr-3 h-9 text-sm"})]})}),o.jsx("div",{className:"px-6 py-6 flex-1 overflow-y-auto min-h-0",children:o.jsx(i6,{filters:r,onFiltersChange:n,isMobile:!0,userTopSkills:i,mobileView:u,onMobileViewChange:d,countrySearchQuery:f,onCountrySearchChange:h})}),u==="main"&&o.jsx(Uo,{className:"border-t border-gray-200",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(oe,{onClick:()=>{a(),d("main")},variant:"ghost",className:"h-12 px-6 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0 rounded-[18px]",children:a6}),o.jsx(oe,{onClick:()=>{s(),d("main")},className:"h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:s6})]})}),u==="country"&&o.jsx(Uo,{className:"border-t border-gray-200",children:o.jsx(oe,{onClick:()=>{h(""),d("main")},className:"w-full h-12 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:"Done"})})]})}):o.jsx(Rs,{open:e,onOpenChange:t,children:o.jsxs(ms,{className:"max-w-3xl max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx($s,{className:"flex-shrink-0",children:o.jsx(Ms,{children:"Filter Courses"})}),o.jsx("div",{className:"py-4 overflow-y-auto flex-1 min-h-0",children:o.jsx(i6,{filters:r,onFiltersChange:n,isMobile:!1,userTopSkills:i,countrySearchQuery:f,onCountrySearchChange:h})}),o.jsx(Qa,{className:"flex-shrink-0",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(oe,{onClick:()=>{a()},variant:"ghost",className:"w-auto h-10 px-4 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0",children:a6}),o.jsx(oe,{onClick:s,className:"w-auto h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90",children:s6})]})})]})})},wd="coursesFilters",ZX="coursesFilteredResults",y0=(e,t,r)=>{try{sessionStorage.setItem(e,JSON.stringify({filters:t,search:r}))}catch(n){console.error("Error saving filters to session storage:",n)}},o6=e=>{try{const t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading filters from session storage:",t)}return null},fVe=e=>{try{sessionStorage.setItem(ZX,JSON.stringify(e))}catch(t){console.error("Error saving filtered courses to session storage:",t)}},hVe=()=>{try{const e=sessionStorage.getItem(ZX);if(e)return JSON.parse(e)}catch(e){console.error("Error loading filtered courses from session storage:",e)}return[]},pVe=()=>{const{user:e}=ir(),t=Ws(),r=da();rr();const[n,s]=Sy(),[a,i]=m.useState(!1),[l,c]=m.useState([]),[u,d]=m.useState(!0),[f,h]=m.useState(()=>hVe()),g=m.useCallback((F,$)=>{if(j.current)return;const K=new URLSearchParams;$&&K.set("search",$),F.countries.length>0&&K.set("countries",F.countries.join(",")),F.skills.length>0&&K.set("skills",F.skills.join(",")),s(K,{replace:!0}),y0(wd,F,$)},[s]),[v,p]=m.useState(()=>{const F=n.get("countries"),$=n.get("skills"),K=n.get("country");if(F||$||K)return{country:K||"Georgia",countries:F?F.split(",").filter(Boolean):[],skills:$?$.split(",").filter(Boolean):[]};const Y=o6(wd);return Y&&Y.filters?Y.filters:{country:"Georgia",countries:[],skills:[]}}),[y,x]=m.useState(()=>{const F=n.get("search");if(F)return F;const $=o6(wd);return $&&$.search?$.search:""}),[b,w]=m.useState(y),[_,S]=m.useState(v),E=F=>{let $=0;return F.countries.length>0&&($+=F.countries.length),F.skills.length>0&&($+=F.skills.length),$};m.useEffect(()=>{a&&S(v)},[a,v]);const k=M.useMemo(()=>JSON.stringify({countries:v.countries.sort(),skills:v.skills.sort()}),[v]),j=M.useRef(!1);m.useEffect(()=>{const F=n.get("countries"),$=n.get("skills"),K=n.get("country"),Y=n.get("search")||"",se={country:K||"Georgia",countries:F?F.split(",").filter(Boolean):[],skills:$?$.split(",").filter(Boolean):[]},Q=JSON.stringify(se)!==JSON.stringify(v),ae=Y!==y;(Q||ae)&&(j.current=!0,p(se),S(se),ae&&x(Y),setTimeout(()=>{j.current=!1},0))},[n]),m.useEffect(()=>{const F=n.get("country"),$=n.get("countries");if(F&&!$){const K=new URLSearchParams(n);K.delete("country"),s(K,{replace:!0})}},[]),m.useEffect(()=>{(async()=>{if(!e){d(!1);return}const $=n.get("skills")!==null;try{d(!0);try{const Y=await Se.get("/api/skilltest/results/");if(Y.data&&Array.isArray(Y.data)&&Y.data.length>0){const Q=Y.data[0].skills_json,ae=[];Q!=null&&Q.tech&&ae.push(...Object.keys(Q.tech));const pe=yg(ae).slice(0,5);c(pe),$||(p(ve=>{const Ie={...ve,skills:ve.skills.length===0?pe:ve.skills};return y0(wd,Ie,y),Ie}),S(ve=>({...ve,skills:ve.skills.length===0?pe:ve.skills}))),d(!1);return}}catch{console.log("API endpoint not available, trying Supabase...")}const K=await Ih(String(e.id));if(K&&K.length>0){const Y=Lh(K),Q=h1(Y,10).map(pe=>pe.skill),re=yg(Q).slice(0,5);c(re),$||(p(pe=>{const ve={...pe,skills:pe.skills.length===0?re:pe.skills};return y0(wd,ve,y),ve}),S(pe=>({...pe,skills:pe.skills.length===0?re:pe.skills})))}}catch(K){console.error("Error fetching user skills:",K)}finally{d(!1)}})()},[e]),m.useEffect(()=>{const F=sessionStorage.getItem("locationToastShown");n.get("countries")||navigator.geolocation.getCurrentPosition(async $=>{try{const{latitude:K,longitude:Y}=$.coords,Q=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${K}&longitude=${Y}&localityLanguage=en`)).json();if(Q.countryName){const ae=sn.find(re=>re.name===Q.countryName);p(re=>{const pe={...re,country:Q.countryName,countries:ae?[ae.code]:re.countries};return setTimeout(()=>{if(!j.current){const ve=new URLSearchParams(n);pe.countries.length>0?ve.set("countries",pe.countries.join(",")):ve.delete("countries"),pe.country&&pe.country!=="Georgia"?ve.set("country",pe.country):ve.delete("country"),s(ve,{replace:!0})}},0),pe}),S(re=>({...re,country:Q.countryName,countries:ae?[ae.code]:re.countries})),F||(de.info(`Showing courses in ${Q.countryName}.`),sessionStorage.setItem("locationToastShown","true"))}}catch{F||(de.error("Could not determine your location."),sessionStorage.setItem("locationToastShown","true"))}},()=>{F||(de.info("Location permission denied. Defaulting to Georgia."),sessionStorage.setItem("locationToastShown","true"))})},[]),M.useCallback(F=>typeof F!="string"?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(F),[]);const N=e!=null&&e.id?String(e.id):null,C=M.useMemo(()=>!!N&&N.length>0,[N]),{data:A=[]}=Wt({queryKey:["savedCourses",N],queryFn:async()=>{var F;if(!N||!C)return[];try{return(((F=(await Se.get(Ze.AUTH.PROFILE,{timeout:3e4})).data)==null?void 0:F.saved_courses)||[]).map(Y=>String(Y))}catch($){return console.error("Error fetching saved courses from profile API:",$),[]}},enabled:C}),{data:R,isLoading:H}=Wt({queryKey:["courses",A,b,k],queryFn:async()=>{let F=Yt.from("courses").select("*");b&&(F=F.or(`title.ilike.%${b}%,provider.ilike.%${b}%,category.ilike.%${b}%,description.ilike.%${b}%`));const{data:$,error:K}=await F.order("created_at",{ascending:!1});if(K)return console.error("Error fetching courses:",K),[];const Y=($==null?void 0:$.map(ae=>{let re=ae.image||"/lovable-uploads/no_photo.png";return re&&!re.startsWith("/")&&!re.startsWith("http")&&(re=`/${re}`),{...ae,image:re,match:0,topics:ae.topics||[],required_skills:ae.required_skills||[],is_saved:A==null?void 0:A.includes(String(ae.id))}}))||[],se=[...new Set(Y.map(ae=>ae.academy_id).filter(ae=>ae?String(ae).length>0:!1).map(ae=>String(ae)))],Q=new Map;return se.length>0&&await Promise.all(se.map(async ae=>{try{const re=await Se.get(`${Ze.ACADEMY.DETAIL}${ae}/`);if(re.data){const pe=re.data,ve=pe.profile_data||pe,Ie=Ve=>{for(const Re of Ve){const it=ve[Re]||pe[Re];if(typeof it=="string")return it}},et=Ie(["academy_id","id"])||ae,Je=Ie(["academy_name","name","first_name","firstName"]),dt=Ie(["description"]),Ce=Ie(["website_url","websiteUrl"]),ke=Ie(["contact_email","contactEmail","email"]),G=Ie(["profile_photo_url","profilePhotoUrl","profile_photo","profilePhoto"]),ce=Ie(["logo_url","logoUrl","logo","image_url","imageUrl"]),Ne=G||ce,qe=Ie(["slug"]);Q.set(ae,{id:et||ae,academy_name:Je||"",description:dt||"",website_url:Ce,contact_email:ke,logo_url:ce,profile_photo_url:G,profile_image_url:Ne,slug:qe||im(Je||"")})}}catch{console.debug(`Could not fetch academy profile for ${ae} from Django API`)}})),Y.map(ae=>{const re=ae.academy_id?Q.get(ae.academy_id):null;let pe=null;return re?pe=re:pe=null,{...ae,academy_profile_data:pe}})},enabled:!!A,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:3*60*1e3,gcTime:10*60*1e3}),U=M.useMemo(()=>{if(!R)return[];let F=R;return v.skills.length>0&&(F=R.filter($=>$.required_skills.some(K=>v.skills.some(Y=>K.toLowerCase().includes(Y.toLowerCase())||Y.toLowerCase().includes(K.toLowerCase()))))),!l||l.length===0?F.map($=>({...$,match:50})):F.map($=>{const K=$.required_skills.filter(se=>l.some(Q=>Q.toLowerCase().includes(se.toLowerCase())||se.toLowerCase().includes(Q.toLowerCase()))),Y=$.required_skills.length>0?Math.round(K.length/$.required_skills.length*100):50;return{...$,match:Math.max(Y,25)}}).sort(($,K)=>K.match-$.match)},[l,R,v.skills]),D=M.useMemo(()=>{let F=U;if(v.countries.length>0){const $=v.countries.map(K=>{var Y;return(Y=sn.find(se=>se.code===K))==null?void 0:Y.name}).filter(Boolean);F=F.filter(K=>{var se;const Y=((se=K.academy_profile_data)==null?void 0:se.academy_name)||K.provider||"";return $.some(Q=>Y.toLowerCase().includes(Q.toLowerCase()))})}return F},[U,v.countries]);m.useEffect(()=>{H||(fVe(D),h(D))},[D,H]);const B=({course:F})=>{const $=Ws(),K=oa({mutationFn:async se=>{if(!N)throw new Error("Please log in to save courses.");await Se.post(`/api/save-course/${se}/`)},onMutate:async se=>{await $.cancelQueries({queryKey:["savedCourses",N]});const Q=$.getQueryData(["savedCourses",N]);let ae=!1;return $.setQueryData(["savedCourses",N],re=>{if(!re)return re;const pe=String(se);return ae=re.includes(pe),ae?re.filter(ve=>ve!==pe):[...re,pe]}),{previousSavedCourses:Q,wasSaved:ae}},onError:(se,Q,ae)=>{ae!=null&&ae.previousSavedCourses&&N&&$.setQueryData(["savedCourses",N],ae.previousSavedCourses),console.error("Error updating saved courses:",se),de.error("Failed to update saved courses. Please try again.")},onSuccess:(se,Q,ae)=>{$.invalidateQueries({queryKey:["savedCourses",N]}),$.invalidateQueries({queryKey:["courses"]}),$.invalidateQueries({queryKey:["profile"]});const re=(ae==null?void 0:ae.wasSaved)??!1;de.success(re?"Removed from saved courses.":"Course saved to your profile.")}}),Y=A==null?void 0:A.includes(String(F.id));return o.jsx(oe,{variant:"secondary",size:"icon",onClick:se=>{se.preventDefault(),se.stopPropagation(),K.mutate(String(F.id))},disabled:K.isPending,"aria-label":Y?"Unsave course":"Save course",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",Y?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(En,{className:le("h-4 w-4 transition-colors",Y?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})},L=F=>{const $={...v,countries:F};p($),S($),g($,y),t.invalidateQueries({queryKey:["courses"]})},T=m.useCallback(()=>{w(y),g(v,y),t.invalidateQueries({queryKey:["courses"]})},[y,v,g,t]),q=F=>{F.key==="Enter"&&T()},I=F=>{x(F)};m.useEffect(()=>{if(y===b)return;const F=setTimeout(()=>{w(y),g(v,y),t.invalidateQueries({queryKey:["courses"]})},300);return()=>{clearTimeout(F)}},[y,v,g,t,b]);const P=()=>{p(_),g(_,y),i(!1),t.invalidateQueries({queryKey:["courses"]})},W=()=>{const F={country:"Georgia",countries:[],skills:[]};S(F),p(F);const $=new URLSearchParams;y&&$.set("search",y),s($,{replace:!0}),y0(wd,F,y),i(!1),t.invalidateQueries({queryKey:["courses"]})},V=F=>o.jsx(Wr,{to:`/course/${F.id}`,className:"block",children:o.jsx(Oe,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl w-full flex flex-col hover:shadow-soft",children:o.jsxs(Me,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:F.image&&!F.image.startsWith("http")&&!F.image.startsWith("/")?`/${F.image}`:F.image||"/placeholder.svg",alt:F.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200 origin-center",style:{transformOrigin:"center center"},onError:$=>{$.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:F.title}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:F.duration&&o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:F.duration})}),o.jsx("div",{onClick:$=>$.preventDefault(),children:o.jsx(B,{course:F})})]})]})]})})}),ee=H&&f.length>0,X=ee?f:D,ne=ee?f.length:D.length;return o.jsxs(At,{children:[o.jsx(RA,{}),o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] rounded-xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-3 md:py-4 overflow-visible min-h-[3.5rem] flex-1",children:[o.jsx(Hr,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),o.jsx(rt,{placeholder:"",value:y,onChange:F=>I(F.target.value),onKeyDown:q,className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(zJ,{selectedLocations:v.countries,onLocationsChange:L,placeholder:"Location"})})]})]}),(()=>{const F=E(v);return o.jsxs(oe,{variant:"outline",onClick:()=>i(!0),className:"group flex items-center gap-2 bg-breneo-blue/10 hover:bg-breneo-blue rounded-xl px-4 py-3 md:py-4 hover:bg-breneo-blue hover:text-white text-gray-900 dark:text-gray-100 whitespace-nowrap h-auto relative min-h-[3.5rem] transition-colors","aria-label":"Filter courses",children:[o.jsx(hA,{className:"h-4 w-4 group-hover:text-white",strokeWidth:2}),o.jsx("span",{className:"hidden md:inline text-sm font-medium",children:""}),F>0&&o.jsx(Pt,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:F})]})})()]})}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ql,{className:"h-6 w-6 text-breneo-accent"}),o.jsx("h2",{className:"text-lg font-bold",children:"Latest Courses"})]}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("span",{className:"text-sm text-gray-600",children:[ne," course",ne!==1?"s":""]})})]}),H&&!ee&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((F,$)=>o.jsx(Oe,{className:"w-full",children:o.jsxs(Me,{className:"p-5",children:[o.jsx(xr,{className:"h-48 w-full mb-4"}),o.jsx(xr,{className:"h-6 w-full mb-2"}),o.jsx(xr,{className:"h-4 w-2/3"})]})},$))}),!H&&D.length===0&&o.jsxs("div",{className:"text-center p-10 rounded-3xl text-muted-foreground bg-muted/30",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-puzzle-dynamic-color.png",alt:"No data found",className:"mx-auto h-48 w-48 mb-4 object-contain"}),o.jsx("h4",{className:"text-lg font-semibold",children:"No Courses Found"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search terms or filters."})]}),(ee||!H&&X.length>0)&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:X.map(F=>o.jsx("div",{className:"w-full",children:V(F)},F.id))})]}),o.jsx(dVe,{isOpen:a,onClose:()=>i(!1),filters:_,onFiltersChange:S,onApply:P,onClear:W,userTopSkills:l})]})},mVe=()=>{var b,w,_,S;const{courseId:e}=Ch(),{user:t}=ir(),r=Ws(),[n,s]=m.useState(!1),a=pi(),{data:i,isLoading:l}=Wt({queryKey:["course",e],queryFn:async()=>{const{data:E,error:k}=await Yt.from("courses").select("*").eq("id",e).single();return k?(console.error("Error fetching course details:",k),null):E},enabled:!!e}),{data:c=[]}=Wt({queryKey:["savedCourses",t==null?void 0:t.id],queryFn:async()=>{var E;if(!(t!=null&&t.id))return[];try{return(((E=(await Se.get(Ze.AUTH.PROFILE)).data)==null?void 0:E.saved_courses)||[]).map(N=>String(N))}catch(k){return console.error("Error fetching saved courses:",k),[]}},enabled:!!(t!=null&&t.id)}),u=c==null?void 0:c.includes(String((i==null?void 0:i.id)||"")),{data:d}=Wt({queryKey:["academy-profile",i==null?void 0:i.academy_id],queryFn:async()=>{if(!(i!=null&&i.academy_id))return null;try{const E=await Se.get(`/api/academy/${i.academy_id}/`);if(E.data){const j=E.data.profile_data||E.data,N=D=>{for(const B of D){const L=j[B];if(L!=null&&typeof L=="string")return L}},C=N(["academy_name","name","first_name","firstName"])||i.provider||"",A=N(["profile_photo_url","profilePhotoUrl","profile_image_url","profileImageUrl","profile_photo","profilePhoto"]),R=N(["logo_url","logoUrl","logo","image"]),H=N(["description","desc","about"]),U={id:i.academy_id,academy_name:C,slug:N(["slug"])||(C?im(C):void 0),profile_photo_url:A&&A.trim()!==""?A:null,logo_url:R&&R.trim()!==""?R:null,description:H&&H.trim()!==""?H:null};return console.log(" Academy profile fetched from API:",{academyId:i.academy_id,rawData:j,profileData:U,logoUrl:R}),U}}catch(E){console.debug("Could not fetch academy profile from API, trying Supabase",E)}try{const{data:E,error:k}=await Yt.from("academy_profiles").select("id, academy_name, logo_url, description").eq("id",i.academy_id).single();if(!k&&E){const j={id:E.id,academy_name:E.academy_name||i.provider||"",slug:E.academy_name?im(E.academy_name):void 0,profile_photo_url:null,logo_url:E.logo_url&&E.logo_url.trim()!==""?E.logo_url:null,description:E.description&&E.description.trim()!==""?E.description:null};return console.log(" Academy profile fetched from Supabase:",{academyId:i.academy_id,supabaseData:E,profile:j}),j}}catch(E){console.debug("Could not fetch academy profile from Supabase",E)}return{id:i.academy_id,academy_name:i.provider||"",slug:i.provider?im(i.provider):void 0,profile_photo_url:null,logo_url:null,description:null}},enabled:!!(i!=null&&i.academy_id)}),f=oa({mutationFn:async E=>{if(!(t!=null&&t.id))throw new Error("User not logged in");s(!0);try{await Se.post(`/api/save-course/${E}/`)}catch(k){console.error("Error saving course:",k);let j="Failed to save course. Please try again.";if(k&&typeof k=="object"&&"response"in k&&k.response&&typeof k.response=="object"&&"data"in k.response){const N=k.response.data;j=N.detail||N.message||N.error||j}else k instanceof Error&&(j=k.message);throw new Error(j)}finally{s(!1)}},onMutate:async E=>{await r.cancelQueries({queryKey:["savedCourses",t==null?void 0:t.id]});const k=r.getQueryData(["savedCourses",t==null?void 0:t.id]);return r.setQueryData(["savedCourses",t==null?void 0:t.id],j=>{if(!j)return j;const N=String(E);return j.includes(N)?j.filter(C=>C!==N):[...j,N]}),{previousSavedCourses:k}},onError:(E,k,j)=>{j!=null&&j.previousSavedCourses&&r.setQueryData(["savedCourses",t==null?void 0:t.id],j.previousSavedCourses);let N="Failed to save course. Please try again.";if(E&&typeof E=="object"&&"response"in E&&E.response&&typeof E.response=="object"&&"data"in E.response){const C=E.response.data;N=C.detail||C.message||C.error||N}else E instanceof Error&&(N=E.message);de.error(N)},onSuccess:(E,k,j)=>{var A;r.invalidateQueries({queryKey:["savedCourses",t==null?void 0:t.id]}),r.invalidateQueries({queryKey:["courses"]}),r.invalidateQueries({queryKey:["profile"]});const N=String(k),C=((A=j==null?void 0:j.previousSavedCourses)==null?void 0:A.includes(N))||!1;de.success(`"${i==null?void 0:i.title}" has been ${C?"unsaved":"saved"} successfully.`)}}),h=()=>{if(!t||!i){de.error("Please log in to save courses.");return}const E=String(i.id);f.mutate(E)};if(l)return o.jsx(At,{children:o.jsx("div",{className:"p-8",children:"Loading..."})});if(!i)return o.jsx(At,{children:o.jsx("div",{className:"p-8",children:"Course not found."})});const v=i.academy_id?`/academy/${i.academy_id}`:`/academy/${(d==null?void 0:d.slug)||im(i.provider)}`,p=(d==null?void 0:d.academy_name)||i.provider,y=(d==null?void 0:d.profile_photo_url)||(d==null?void 0:d.logo_url)||null;console.log(" CoursePage Debug:",{courseId:e,courseAcademyId:i==null?void 0:i.academy_id,academyProfile:d,profilePhotoUrl:d==null?void 0:d.profile_photo_url,logoUrl:d==null?void 0:d.logo_url,academyImageUrl:y,academyName:p});const x=((b=i.topics)==null?void 0:b.slice(0,3))||((w=i.required_skills)==null?void 0:w.slice(0,3))||[];return o.jsx(At,{children:o.jsx("div",{className:"px-4 py-4 sm:px-6 sm:py-6 pb-40 sm:pb-44 mb-16 sm:mb-20 ",children:o.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[o.jsx("div",{className:"w-full h-40 sm:h-80 overflow-hidden rounded-3xl mb-6",children:o.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"})}),o.jsx(Oe,{className:"rounded-3xl border-0 shadow-none bg-white dark:bg-white",children:o.jsxs(Me,{className:"p-6 sm:p-6 space-y-0 ",children:[o.jsxs("div",{className:"flex items-center gap-3 pb-2 ",children:[o.jsx(lg,{src:y||void 0,alt:p,fallback:p?p.charAt(0).toUpperCase():"A",size:"sm",className:"flex-shrink-0 !h-10 !w-10 !rounded-sm"}),o.jsx("span",{className:"text-gray-600 text-base font-medium",children:p})]}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-black dark:text-white pb-6",children:i.title}),o.jsx("div",{className:"py-0 px-0 sm:py-5 sm:px-0 bg-white dark:bg-white rounded-3xl",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6 sm:gap-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-12 flex-1 w-full sm:w-auto  rounded-2xl sm:rounded-none p-0 sm:p-0",children:[o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(qw,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:"Free"}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Free"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Course"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Course"})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(Ade,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:i.duration||"2 "}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:i.duration||"2 "}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Duration"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Duration"})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(lz,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:((_=i.topics)==null?void 0:_.length)||16}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:((S=i.topics)==null?void 0:S.length)||16}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Lectures"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Lectures"})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(zx,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:i.level||"All Levels"}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:i.level||"All Levels"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Level"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Level"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto pb-0 sm:pb-0",children:[o.jsx(oe,{onClick:h,disabled:n||!t,variant:"secondary",size:"icon",className:le("aspect-square bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A]",u?"text-white-500 bg-[#E6E7EB] dark:bg-[#474747] ":"text-black dark:text-white "),children:n?o.jsx(bs,{className:"h-4 w-4 animate-spin"}):u?o.jsx(En,{className:"h-4 w-4 fill-red-500 text-red-500"}):o.jsx(En,{className:"h-4 w-4"})}),i.registration_link?o.jsx("a",{href:i.registration_link,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto",children:o.jsx(oe,{size:"default",className:"w-full sm:w-auto px-6 text-sm bg-breneo-blue hover:bg-breneo-blue/90 text-white rounded-xl",children:a.courses.enroll})}):o.jsx(oe,{size:"default",className:"w-full sm:w-auto px-6 text-sm bg-breneo-blue hover:bg-breneo-blue/90 text-white rounded-xl",children:a.courses.enroll})]})]})}),o.jsxs("div",{className:"py-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-notebook-dynamic-color.png",alt:"Notebook",className:"h-12 w-12 object-contain flex-shrink-0"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"What will You learn"})]}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:i.description||"No description available."})]}),o.jsx("div",{className:"flex flex-wrap gap-2 py-6",children:x.slice(0,3).map((E,k)=>o.jsx(Pt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:E},k))})]})}),d&&o.jsx(Oe,{className:"rounded-m border-0 shadow-none bg-white dark:bg-white mt-6",children:o.jsxs(Me,{className:"p-6 sm:p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-900 dark:text-gray-100",children:"About Academy"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(lg,{src:y||void 0,alt:p,fallback:p?p.charAt(0).toUpperCase():"A",size:"lg",className:"!h-16 !w-16 !rounded-sm"})}),o.jsxs("div",{className:"flex-1 w-full",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:p}),d.description?o.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:d.description}):o.jsx("p",{className:"text-gray-500 dark:text-gray-500 italic",children:"No description available."})]}),o.jsx(Wr,{to:v,className:"hidden sm:block flex-shrink-0",children:o.jsxs(oe,{variant:"outline",className:"flex items-center gap-2",children:[o.jsx(Ru,{className:"h-4 w-4"}),"View Academy"]})})]}),o.jsx("div",{className:"block sm:hidden mt-4 w-full",children:o.jsx(Wr,{to:v,children:o.jsxs(oe,{variant:"outline",className:"w-full flex items-center gap-2 justify-center",children:[o.jsx(Ru,{className:"h-4 w-4"}),"View Academy"]})})})]})]})]})})]})})})};function gVe(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...v}=f,p=(h==null?void 0:h[e][c])||l,y=m.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:y,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,v=m.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,yVe(s,...t)]}function yVe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var DO="Progress",FO=100,[vVe,NGe]=gVe(DO),[xVe,bVe]=vVe(DO),eQ=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=wVe,...i}=e;(s||s===0)&&!l6(s)&&console.error(_Ve(`${s}`,"Progress"));const l=l6(s)?s:FO;n!==null&&!c6(n,l)&&console.error(SVe(`${n}`,"Progress"));const c=c6(n,l)?n:null,u=aw(c)?a(c,l):void 0;return o.jsx(xVe,{scope:r,value:c,max:l,children:o.jsx(ct.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":aw(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":nQ(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});eQ.displayName=DO;var tQ="ProgressIndicator",rQ=m.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=bVe(tQ,r);return o.jsx(ct.div,{"data-state":nQ(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});rQ.displayName=tQ;function wVe(e,t){return`${Math.round(e/t*100)}%`}function nQ(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function aw(e){return typeof e=="number"}function l6(e){return aw(e)&&!isNaN(e)&&e>0}function c6(e,t){return aw(e)&&!isNaN(e)&&e<=t&&e>=0}function _Ve(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${FO}\`.`}function SVe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${FO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var sQ=eQ,jVe=rQ;const aQ=m.forwardRef(({className:e,value:t,...r},n)=>o.jsx(sQ,{ref:n,className:le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(jVe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));aQ.displayName=sQ.displayName;function kVe({onPhaseChange:e,onTechQChange:t,onSoftQChange:r}={}){const{user:n}=ir(),s=rr(),[a,i]=m.useState("career"),[l,c]=m.useState([]),[u,d]=m.useState(0),[f,h]=m.useState([]),[g,v]=m.useState(null),[p,y]=m.useState(null),[x,b]=m.useState(null),[w,_]=m.useState(null),[S,E]=m.useState(null),[k,j]=m.useState(null),[N,C]=m.useState(!1),[A,R]=m.useState(!1),[H,U]=m.useState(null),[D,B]=m.useState(!1),[L,T]=m.useState(0),[q,I]=m.useState(null),[P,W]=m.useState(null),[V,ee]=m.useState(0),[X,ne]=m.useState(!1),[F,$]=m.useState(!1),K=5,Y=["   ...","  ...","  ...","   ...","  ..."];m.useEffect(()=>{if(D){const Ce=setInterval(()=>{T(ke=>(ke+1)%5)},1e3);return()=>clearInterval(Ce)}},[D]),m.useEffect(()=>{e&&e(a)},[a,e]),m.useEffect(()=>{t&&t(S)},[S,t]),m.useEffect(()=>{r&&r(k)},[k,r]),m.useEffect(()=>{a==="career"&&Se.get(`/api/career-questions-random/?limit=${K}`).then(Ce=>c(Ce.data)).catch(Ce=>console.error(Ce))},[a]);const se=async Ce=>{if(!n){console.warn("No user found, cannot save test results");return}try{const ke=Number(Ce.total_score),G=Number(Ce.total_questions);isNaN(ke)||isNaN(G);const ce={tech:Ce.tech_score_per_skill||{},soft:Ce.soft_score_per_skill||{}},Ne={user:n.id,total_score:ke,total_questions:G,final_role:Ce.final_role||"N/A",skills_json:ce,career_answers:Ce.career_answers||[]},qe=await Se.post("/api/skilltest/save/",Ne);s("/skill-path")}catch(ke){console.error(" Error saving test results:"),console.error("Full error object:",ke),ke.response?(console.error(" Response status:",ke.response.status),console.error(" Response data:",JSON.stringify(ke.response.data,null,2)),console.error(" Response headers:",ke.response.headers)):ke.request?console.error(" No response received:",ke.request):console.error(" Error setting up request:",ke.message)}},Q=Ce=>{y(Ce.text),g||v(Ce.RoleMapping)},ae=()=>{if(!p)return;const Ce=l[u];h(ke=>[...ke,{questionId:Ce.id,answer:p}]),y(null),u+1<l.length?(d(u+1),ee(ke=>ke+1)):(ne(!0),ee(ke=>ke+1))},re=()=>{ne(!1),i("assessment"),pe(),ee(Ce=>Ce+1)},pe=async()=>{try{const Ce=await Se.post("/api/start-assessment/",{num_questions:K,RoleMapping:g});b(Ce.data),E(Ce.data.questions[0]),ee(Ne=>Ne+1);const ke=await Se.post("/api/soft/start/",{num_questions:K});_(ke.data);let G=null;ke.data.first_question?G=ke.data.first_question:ke.data.questions&&ke.data.questions[0]?G=ke.data.questions[0]:ke.data.question?G=ke.data.question:G=ke.data;const ce={...ke.data,first_question:G};_(ce)}catch{}},ve=async()=>{if(!(!x||!S||!q))try{const Ce=await Se.post("/api/submit-answer/",{session_id:x.session_id,question_text:S.text,answer:q});I(null),Ce.data.next_question?(E(Ce.data.next_question),ee(ke=>ke+1)):(C(!0),E(null),$(!0),ee(ke=>ke+1))}catch(Ce){console.error(Ce)}},Ie=async()=>{if(!(!w||!k||!P))try{const Ce=k.questiontext||k.text||k.question||"",ke={session_id:w.session_id,question_text:Ce,answer:P},G=await Se.post("/api/soft/submit/",ke);W(null),G.data.next_question?(j(G.data.next_question),ee(ce=>ce+1)):(R(!0),j(null),dt())}catch(Ce){Ce instanceof Error&&console.error("Error details:",Ce.message)}},et=async()=>{if($(!1),await Je(),w)try{let Ce=null;if(w.first_question)Ce=w.first_question;else if(w.questions&&w.questions[0])Ce=w.questions[0];else if(w.question)Ce=w.question;else{const ke=await Se.post("/api/soft/next/",{session_id:w.session_id});ke.data.next_question?Ce=ke.data.next_question:ke.data.question?Ce=ke.data.question:ke.data.first_question?Ce=ke.data.first_question:Ce=ke.data}Ce?(j(Ce),ee(ke=>ke+1)):console.error(" No soft question found")}catch(Ce){console.error(" Error getting first soft question:",Ce)}},Je=async()=>{if(x)try{const Ce=await Se.post("/api/finish-assessment/",{session_id:x.session_id});U(ke=>({...ke,tech:Ce.data}))}catch(Ce){console.error(" Error finishing tech assessment:",Ce)}},dt=async()=>{if(w)try{console.log(" Finishing soft assessment with session:",w.session_id);const Ce=await Se.post("/api/soft/finish/",{session_id:w.session_id});U(ke=>({...ke,soft:Ce.data}))}catch(Ce){console.error(" Error finishing soft assessment:",Ce)}};if(m.useEffect(()=>{var Ce,ke,G,ce,Ne,qe,Ve,Re,it,xe;if(N&&A&&H&&n){B(!0),T(0);let Pe=(Ce=H.tech)==null?void 0:Ce.total_score,Z=(ke=H.soft)==null?void 0:ke.total_score,J=(G=H.tech)==null?void 0:G.total_questions,fe=(ce=H.soft)==null?void 0:ce.total_questions;if(!Pe&&((Ne=H.tech)!=null&&Ne.score_per_skill)){const _e=Object.values(H.tech.score_per_skill).map(He=>parseFloat(He.replace("%",""))),Be=_e.reduce((He,Ue)=>He+Ue,0)/_e.length;Pe=Math.round(Be*K/100),J=K}if(!Z&&((qe=H.soft)!=null&&qe.score_per_skill)){const _e=Object.values(H.soft.score_per_skill).map(He=>parseFloat(He.replace("%",""))),Be=_e.reduce((He,Ue)=>He+Ue,0)/_e.length;Z=Math.round(Be*K/100),fe=K}Pe=Pe||0,Z=Z||0,J=J||0,fe=fe||0;const Fe=Pe+Z,Ge=J+fe;if(isNaN(Fe)||isNaN(Ge)||Ge===0){console.error(" Trying to save with numQuestions:",K*2);const _e=K*2;console.log(" Using fallback values:",{fallbackScore:Fe||0,fallbackQuestions:_e})}const $e=((Ve=H.soft)==null?void 0:Ve.final_role)||((Re=H.tech)==null?void 0:Re.final_role)||"N/A",he={total_score:Fe||0,total_questions:Ge||K*2,final_role:$e,tech_score_per_skill:((it=H.tech)==null?void 0:it.score_per_skill)||{},soft_score_per_skill:((xe=H.soft)==null?void 0:xe.score_per_skill)||{},career_answers:f};setTimeout(()=>{console.log(" 10 seconds passed, saving results now"),B(!1),i("finished"),se(he)},1e4)}},[N,A,H,n]),X)return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-8 flex items-center justify-center",children:o.jsx(Xl,{className:"w-32 h-32 md:w-40 md:h-40 text-[#01bfff] dark:text-[#5AC9F8]"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Great Job! "}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed mb-2",children:"You've completed the interest assessment. Now let's evaluate your technical skills."}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Take your time and answer honestly - this helps us find the perfect role for you."})]}),o.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:o.jsxs(oe,{onClick:re,className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",children:["Continue",o.jsx(wa,{className:"h-4 w-4 ml-2"})]})})]},V);if(F)return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-8 flex items-center justify-center",children:o.jsx(Di,{className:"w-32 h-32 md:w-40 md:h-40 text-green-500 dark:text-green-400"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Excellent Progress! "}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed mb-2",children:"You've finished the technical skills assessment. Well done!"}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Just one more section - let's explore your soft skills and communication abilities."})]}),o.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:o.jsxs(oe,{onClick:et,className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",children:["Continue",o.jsx(wa,{className:"h-4 w-4 ml-2"})]})})]},V);if(a==="career"&&l.length>0){const Ce=l[u];return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"mt-2 mb-4 text-xl font-semibold text-gray-800 dark:text-foreground",children:Ce.text}),o.jsx("div",{className:"space-y-3",children:Ce.options.map((ke,G)=>{const ce=String.fromCharCode(65+G),Ne=p===ke.text;return o.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${Ne?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-[rgba(26,38,51,0.3)] border-blue-200 dark:border-gray-700 hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>Q(ke),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${Ne?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:o.jsx("span",{className:`text-xs font-medium ${Ne?"text-white":"text-gray-600 dark:text-gray-300"}`,children:ce})}),o.jsx("span",{className:`flex-1 text-left ${Ne?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:ke.text})]})},ke.id)})})]}),o.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:o.jsxs(oe,{onClick:ae,disabled:!p,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",o.jsx(wa,{className:"h-4 w-4"})]})})]},V)}if(!x||!w)return console.log(" Waiting for sessions...",{hasTechSession:!!x,hasSoftSession:!!w,techSession:x,softSession:w}),o.jsx("div",{className:"p-8 max-w-xl mx-auto mb-8 bg-white dark:bg-card rounded-md  text-center dark:text-foreground",children:"Loading assessments..."});if(console.log(" Render State:",{hasCurrentTechQ:!!S,hasCurrentSoftQ:!!k,techDone:N,softDone:A,currentTechQData:S,currentSoftQData:k}),S)return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-foreground mb-4",children:S.text}),o.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(Ce=>{const ke=S[`option${Ce}`];if(ke){const G=String.fromCharCode(64+Ce),ce=q===ke;return o.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${ce?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-muted border-blue-200 dark:border-border hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>I(ke),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${ce?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:o.jsx("span",{className:`text-xs font-medium ${ce?"text-white":"text-gray-600 dark:text-gray-300"}`,children:G})}),o.jsx("span",{className:`flex-1 text-left ${ce?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:ke})]})},Ce)}return null})})]}),o.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:o.jsxs(oe,{onClick:ve,disabled:!q,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",o.jsx(wa,{className:"h-4 w-4"})]})})]},V);if(k){console.log(" RENDERING SOFT QUESTION - Raw Data:",k),console.log(" RENDERING SOFT QUESTION - Has Keys:",Object.keys(k)),console.log(" RENDERING SOFT QUESTION - Values:",{questiontext:k.questiontext,text:k.text,question:k.question,option1:k.option1,option2:k.option2,option3:k.option3,option4:k.option4,hasQuestiontext:!!k.questiontext,hasText:!!k.text,hasQuestion:!!k.question,hasOptions:!!(k.option1||k.option2||k.option3||k.option4)});const Ce=k.questiontext||k.text||k.question||"Question text unavailable";return k.option1||k.option2||k.option3||k.option4?o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-foreground mb-4",children:Ce}),o.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(G=>{const ce=k[`option${G}`];if(ce){const Ne=String.fromCharCode(64+G),qe=P===ce;return o.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${qe?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-muted border-blue-200 dark:border-border hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>W(ce),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${qe?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:o.jsx("span",{className:`text-xs font-medium ${qe?"text-white":"text-gray-600 dark:text-gray-300"}`,children:Ne})}),o.jsx("span",{className:`flex-1 text-left ${qe?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:ce})]})},G)}return null})})]}),o.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:o.jsxs(oe,{onClick:Ie,disabled:!P,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",o.jsx(wa,{className:"h-4 w-4"})]})})]},V):o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-xl font-bold mb-2 dark:text-foreground",children:" Error Loading Question"}),o.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:"The question data structure is incomplete."}),o.jsx("pre",{className:"text-xs bg-gray-100 dark:bg-muted text-gray-800 dark:text-foreground p-4 overflow-auto",children:JSON.stringify(k,null,2)})]})}return D?o.jsx("div",{className:"w-full flex items-center justify-center min-h-[60vh]",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsxs("div",{className:"relative mb-8",children:[o.jsx("div",{className:"h-32 w-32 rounded-full bg-gradient-to-r from-blue-500 to-[#01bfff] animate-spin"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:o.jsx(Xl,{className:"h-12 w-12 text-white"})})]}),o.jsx("h2",{className:"text-3xl font-bold text-[#00afea] mb-4 text-center",children:Y[L]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center max-w-md",children:"      "}),o.jsx("div",{className:"mt-8 w-full max-w-md",children:o.jsx(aQ,{value:(L+1)/Y.length*100,className:"h-2"})})]})}):a==="finished"?o.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-32 h-32 mx-auto mb-8 flex items-center justify-center",children:o.jsx(Xl,{className:"w-32 h-32 text-green-500 dark:text-green-400 animate-pulse"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Test Completed! "}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground",children:"Redirecting to your skill path..."})]})}):o.jsx("div",{className:"p-8 max-w-xl mx-auto mb-8 bg-white dark:bg-card rounded-md border border-gray-200 dark:border-border text-center dark:text-foreground",children:"Loading..."})}const EVe=({phase:e,currentTechQ:t,currentSoftQ:r})=>{const n=e==="career"?1:e==="assessment"&&t?2:3,s=[{index:1,name:"Interests"},{index:2,name:"Tech Skills"},{index:3,name:"Soft Skills"}],a=i=>{const l=n>=i.index,c=n>i.index;return o.jsxs("div",{className:"flex-1 flex flex-col items-center min-w-[70px] md:min-w-[120px]",children:[o.jsx("div",{className:`h-2 md:h-3 w-full rounded-full transition-all duration-500 flex items-center justify-center ${c?"bg-green-500 dark:bg-green-600":l?"bg-[#01bfff]":"bg-gray-200 dark:bg-gray-700"}`}),o.jsx("span",{className:`mt-2 text-xs md:text-sm font-semibold transition-colors duration-500 ${c?"text-green-600 dark:text-green-400":l?"text-[#01bfff] dark:text-[#5AC9F8]":"text-gray-500 dark:text-gray-400"}`,children:i.name})]})};return o.jsx("div",{className:"w-full max-w-[200px] md:max-w-[600px]",children:o.jsx("div",{className:"flex items-center justify-center gap-1.5 md:gap-2",children:s.map(i=>a(i))})})},NVe=({onStart:e})=>o.jsxs("div",{className:"flex flex-col h-full md:h-auto w-full",children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-40 h-40 md:w-56 md:h-56 mx-auto mb-8 flex items-center justify-center transition-all duration-500",children:o.jsx("img",{src:"/lovable-uploads/3dicons-target-dynamic-color.png",alt:"Target",className:"w-40 h-40 md:w-56 md:h-56 object-contain transition-transform duration-500 hover:scale-105"})}),o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4 transition-opacity duration-500",children:"Skill Assessment Test"}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed transition-opacity duration-500",children:"Discover your strengths and unlock personalized career opportunities. Our comprehensive assessment evaluates your technical skills, soft skills, and career interests to provide tailored recommendations."})]}),o.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:o.jsx(oe,{className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",onClick:e,children:"Start the Test"})})]}),CVe=()=>{const e=rr(),t=pi(),[r,n]=m.useState(!1),[s,a]=m.useState("career"),[i,l]=m.useState(null),[c,u]=m.useState(null),[d,f]=m.useState(!1),[h,g]=m.useState(!1),[v,p]=m.useState(!1),y=da(),x=()=>{p(!0)},b=()=>{p(!1),e(-1)},w=()=>{p(!1)},_={showSidebar:!1,showHeader:!1,background:"white"};return r?o.jsxs(At,{..._,children:[o.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F8F9FA] dark:bg-[#181818] animate-in fade-in duration-500",children:[o.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto_1fr] md:grid-cols-3 items-center px-6 py-6 md:px-8 md:py-6 transition-all duration-300",children:[o.jsxs("div",{className:"flex justify-start items-center",children:[!d&&!h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-400 hidden md:inline",children:"Loading..."})}),o.jsx(Nn,{className:`h-7 w-7 md:hidden object-contain transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),o.jsx(Nn,{className:`hidden md:block h-6 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 hidden md:inline",children:"Breneo"})})]}),o.jsx("div",{className:"flex justify-center items-center",children:o.jsx(EVe,{phase:s,currentTechQ:i,currentSoftQ:c})}),o.jsx("div",{className:"flex justify-end items-center",children:o.jsxs(oe,{variant:"ghost",onClick:x,className:"h-10 w-10 md:h-10 md:w-auto md:px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium flex items-center justify-center gap-2 transition-colors p-0",children:[o.jsx(Nr,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden md:inline",children:t.common.cancel})]})})]}),o.jsx("div",{className:"flex-1 w-full overflow-y-auto px-[15px] pb-[15px] pt-2",children:o.jsx("div",{className:"h-full w-full rounded-lg bg-white dark:bg-[#242424] p-8 md:py-8 md:px-[15rem] flex flex-col justify-center md:justify-center transition-opacity duration-500",children:o.jsx("div",{className:"max-w-xl mx-auto w-full h-full md:h-auto flex flex-col transition-all duration-500",children:o.jsx(kVe,{onPhaseChange:a,onTechQChange:l,onSoftQChange:u})})})})]}),y?o.jsx(Fi,{open:v,onOpenChange:p,children:o.jsxs(Bi,{children:[o.jsx(Ui,{children:o.jsx(zi,{children:"Are you sure?"})}),o.jsx("div",{className:"px-6 pb-4",children:o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."})}),o.jsxs(Uo,{className:"flex flex-col gap-2",children:[o.jsx(oe,{onClick:w,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(oe,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})}):o.jsx(Rs,{open:v,onOpenChange:p,children:o.jsxs(ms,{children:[o.jsx($s,{children:o.jsx(Ms,{className:"text-center",children:"Are you sure?"})}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 text-center",children:"Your progress will be lost if you exit the test."}),o.jsxs(Qa,{className:"flex flex-col gap-2",children:[o.jsx(oe,{onClick:w,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(oe,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})})]}):o.jsxs(At,{..._,children:[o.jsxs("div",{className:"flex flex-col h-full w-full bg-[#efefef] dark:bg-[#181818] animate-in fade-in duration-500",children:[o.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto_1fr] md:grid-cols-3 items-center px-6 py-6 md:px-8 md:py-6 transition-all duration-300",children:[o.jsxs("div",{className:"flex justify-start items-center",children:[!d&&!h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-400 hidden md:inline",children:"Loading..."})}),o.jsx(Nn,{className:`h-7 w-7 md:hidden object-contain transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),o.jsx(Nn,{className:`hidden md:block h-6 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 hidden md:inline",children:"Breneo"})})]}),o.jsx("div",{className:"flex justify-center items-center"}),o.jsx("div",{className:"flex justify-end items-center",children:o.jsxs(oe,{variant:"ghost",onClick:x,className:"h-10 w-10 md:h-10 md:w-auto md:px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium flex items-center justify-center gap-2 transition-colors p-0",children:[o.jsx(Nr,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden md:inline",children:t.common.cancel})]})})]}),o.jsx("div",{className:"flex-1 w-full overflow-y-auto px-[15px] pb-[15px] pt-2",children:o.jsx("div",{className:"h-full w-full rounded-lg bg-white dark:bg-[#242424] p-8 md:py-8 md:px-[15rem] flex flex-col justify-center md:justify-center transition-opacity duration-500",children:o.jsx("div",{className:"max-w-xl mx-auto w-full h-full md:h-auto flex flex-col",children:o.jsx(NVe,{onStart:()=>n(!0)})})})})]}),y?o.jsx(Fi,{open:v,onOpenChange:p,children:o.jsxs(Bi,{children:[o.jsx(Ui,{children:o.jsx(zi,{children:"Are you sure?"})}),o.jsx("div",{className:"px-6 pb-4",children:o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."})}),o.jsxs(Uo,{className:"flex flex-col gap-2",children:[o.jsx(oe,{onClick:w,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(oe,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})}):o.jsx(Rs,{open:v,onOpenChange:p,children:o.jsxs(ms,{children:[o.jsx($s,{children:o.jsx(Ms,{children:"Are you sure?"})}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."}),o.jsxs(Qa,{className:"flex flex-col gap-2",children:[o.jsx(oe,{onClick:w,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(oe,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})})]})};async function u6(e,t,r){var l,c,u;const n=t&&t.length>0?`The user has strong skills in: ${t.slice(0,5).join(", ")}. `:"",s=r?`The user's skills match this role at about ${Math.round(r)}%. `:"",a=3;let i=null;for(let d=1;d<=a;d++)try{const f=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are a friendly career advisor. Write a personalized, engaging EXPANDED summary about the **${e}** role in a conversational, encouraging tone similar to "Your Recommended Career Path" explanations.

CRITICAL: You MUST write a very detailed, expanded summary with 6-8 sentences. Do NOT write a short summary.

Style guidelines:
- Use simple, human-friendly language (like talking to a friend)
- Be encouraging and positive
- Use **bold** for the role name when first mentioned
- Write 6-8 detailed, comprehensive sentences (minimum 6 sentences)
- Make it feel personalized and relevant
- Be very specific about what the role involves
- Provide extensive detail about responsibilities, opportunities, and career growth

Include:
1. What makes **${e}** a great career path
2. What the role involves and why it's exciting
3. How it allows people to use their skills and grow
4. The opportunities and stability this career offers
5. Why it's a rewarding path

${n}${s}Write in a warm, friendly tone that makes the reader excited about this career path. Make sure your response is at least 4 sentences long.`},{role:"user",content:`Write a friendly, personalized VERY EXPANDED summary (6-8 sentences, minimum 6) about the **${e}** role that matches the style of "Your Recommended Career Path" explanations. Make it engaging, encouraging, and very detailed with extensive information.`}],max_tokens:800,temperature:.8})});if(f.ok){const v=(((u=(c=(l=(await f.json()).choices)==null?void 0:l[0])==null?void 0:c.message)==null?void 0:u.content)||"").trim();if(v&&v.length>200&&(v.match(/[.!?]/g)||[]).length>=4)return v;if(d<a){console.warn(`Summary too short for ${e}, attempt ${d}/${a}, retrying...`),await new Promise(p=>setTimeout(p,1e3*d));continue}if(v)return v}else{const h=await f.text().catch(()=>"Unknown error");if(i=new Error(`API error: ${f.status} - ${h}`),d<a){console.warn(`API error for ${e}, attempt ${d}/${a}, retrying...`),await new Promise(g=>setTimeout(g,1e3*d));continue}}}catch(f){if(i=f instanceof Error?f:new Error(String(f)),console.error(`Error generating role summary (attempt ${d}):`,f),d<a){await new Promise(h=>setTimeout(h,1e3*d));continue}}return console.warn(`Failed to generate summary for ${e} after ${a} attempts, using expanded fallback`),`**${e}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${e.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities. Whether you're working on innovative projects, building user experiences, or solving complex problems, this career path offers both stability and the excitement of working at the forefront of your industry.`}async function d6(e){var r,n,s;try{const a=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are an expert job market analyst and career advisor. Generate a comprehensive list of the most important required skills for a ${e} position.

Requirements:
1. Include 15-20 comprehensive skills that are truly required for this role
2. Mix of technical/hard skills (60-70%) and soft/interpersonal skills (30-40%)
3. Use standard, professional skill names (e.g., "JavaScript" not "JS", "React" not "React.js")
4. Include both foundational skills and advanced/specialized skills relevant to ${e}
5. Make skills specific to this role - different roles should have different skill sets
6. Include industry-standard tools, technologies, and methodologies
7. Consider both entry-level and mid-level requirements
8. Include ALL important skills - be comprehensive and thorough

Return ONLY a JSON array of skill names, nothing else. No explanations, no markdown, just the array.

Example output format: ["JavaScript", "React", "Node.js", "TypeScript", "REST APIs", "Git", "Problem Solving", "Team Collaboration", "Agile Methodologies", "Code Review"]`},{role:"user",content:`Generate a comprehensive list of required skills for a ${e} role. Include both technical and soft skills that are essential for success in this position. Return only a JSON array.`}],max_tokens:800,temperature:.4})});if(a.ok){const l=((s=(n=(r=(await a.json()).choices)==null?void 0:r[0])==null?void 0:n.message)==null?void 0:s.content)||"";try{const c=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),u=JSON.parse(c);if(Array.isArray(u))return u.filter(d=>typeof d=="string"&&d.trim().length>0)}catch{const u=l.split(`
`).map(f=>f.trim()).filter(Boolean),d=[];for(const f of u){const h=f.replace(/^[-*]\s*/,"").replace(/^\d+\.\s*/,"").trim();h&&h.length<50&&d.push(h)}if(d.length>0)return d}}}catch(a){console.error("Error generating required skills:",a)}const t=e.toLowerCase();return t.includes("developer")||t.includes("engineer")?["Programming","Problem Solving","Version Control","Testing"]:t.includes("designer")||t.includes("design")?["Design Thinking","Prototyping","User Research","Visual Design"]:t.includes("analyst")||t.includes("data")?["Data Analysis","SQL","Statistics","Data Visualization"]:t.includes("manager")||t.includes("product")?["Project Management","Strategic Thinking","Communication","Agile"]:[]}const Ks={"software engineer":{min:7e4,max:15e4},"software developer":{min:65e3,max:14e4},"full stack developer":{min:75e3,max:16e4},"frontend developer":{min:6e4,max:13e4},"backend developer":{min:7e4,max:15e4},javascript:{min:65e3,max:14e4},"javascript developer":{min:65e3,max:14e4},python:{min:7e4,max:15e4},"python developer":{min:7e4,max:15e4},react:{min:7e4,max:15e4},"react developer":{min:7e4,max:15e4},"node.js":{min:75e3,max:16e4},typescript:{min:75e3,max:16e4},java:{min:8e4,max:17e4},"java developer":{min:8e4,max:17e4},"data analyst":{min:55e3,max:1e5},"data scientist":{min:9e4,max:18e4},"data engineer":{min:85e3,max:16e4},"data analysis":{min:55e3,max:1e5},"data analytics":{min:6e4,max:11e4},"business analyst":{min:6e4,max:11e4},"ux designer":{min:6e4,max:12e4},"ui designer":{min:55e3,max:11e4},"ui/ux designer":{min:6e4,max:12e4},"ui/ux design":{min:6e4,max:12e4},"product designer":{min:8e4,max:15e4},"graphic designer":{min:4e4,max:8e4},"product manager":{min:9e4,max:18e4},"product management":{min:9e4,max:18e4},"project manager":{min:7e4,max:13e4},"scrum master":{min:75e3,max:14e4},"devops engineer":{min:9e4,max:16e4},devops:{min:9e4,max:16e4},"cloud engineer":{min:95e3,max:17e4},aws:{min:1e5,max:18e4},kubernetes:{min:11e4,max:19e4},docker:{min:9e4,max:16e4},"mobile developer":{min:7e4,max:14e4},"ios developer":{min:8e4,max:15e4},"android developer":{min:75e3,max:14e4},"react native":{min:75e3,max:145e3},flutter:{min:7e4,max:135e3},cybersecurity:{min:85e3,max:16e4},"cybersecurity specialist":{min:85e3,max:16e4},"security engineer":{min:9e4,max:17e4},"penetration tester":{min:8e4,max:15e4},"qa engineer":{min:6e4,max:11e4},"quality assurance":{min:6e4,max:11e4},"test engineer":{min:65e3,max:12e4},"automation engineer":{min:7e4,max:13e4},"machine learning":{min:1e5,max:2e5},"ml engineer":{min:1e5,max:2e5},"ai engineer":{min:11e4,max:21e4},blockchain:{min:9e4,max:18e4},web3:{min:9e4,max:18e4},"vue.js":{min:7e4,max:15e4},vue:{min:7e4,max:15e4},angular:{min:75e3,max:16e4},"c#":{min:8e4,max:17e4},"c++":{min:85e3,max:18e4},go:{min:9e4,max:18e4},golang:{min:9e4,max:18e4},rust:{min:95e3,max:19e4},php:{min:6e4,max:13e4},ruby:{min:75e3,max:15e4},swift:{min:85e3,max:17e4},kotlin:{min:8e4,max:16e4},sql:{min:65e3,max:13e4},mongodb:{min:75e3,max:15e4},postgresql:{min:75e3,max:15e4},mysql:{min:7e4,max:14e4},redis:{min:8e4,max:16e4},elasticsearch:{min:9e4,max:18e4},git:{min:7e4,max:14e4},linux:{min:8e4,max:16e4},"3d modeling":{min:5e4,max:1e5},"3d modeler":{min:5e4,max:1e5},blender:{min:55e3,max:11e4},unity:{min:7e4,max:14e4},"unreal engine":{min:8e4,max:16e4}},Wj={"ai engineer":1.15,"machine learning":1.15,"ml engineer":1.15,"data scientist":1.1,cybersecurity:1.12,"security engineer":1.12,"cloud engineer":1.1,aws:1.1,kubernetes:1.12,"devops engineer":1.08,devops:1.08,rust:1.1,go:1.08,golang:1.08,javascript:1.05,"javascript developer":1.05,python:1.05,"python developer":1.05,react:1.05,"react developer":1.05,java:1.03,"java developer":1.03,php:.98,ruby:.95},f6={"United States":1,USA:1,US:1,Canada:.85,"United Kingdom":.75,UK:.75,Germany:.7,France:.65,Netherlands:.75,Switzerland:1.1,Australia:.8,Singapore:.85,Japan:.7,Georgia:.25,Poland:.4,Romania:.35,Ukraine:.3,India:.2,Brazil:.25,Mexico:.3,Argentina:.25},iQ=e=>e.toLowerCase().trim().replace(/[^\w\s]/g,""),PVe=e=>{const t=iQ(e);if(Wj[t])return Wj[t];for(const[r,n]of Object.entries(Wj))if(t.includes(r)||r.includes(t))return n;return 1.02},AVe=e=>{const t=iQ(e);if(Ks[t])return Ks[t];const r=t.split(/\s+/);for(const a of r)if(Ks[a])return Ks[a];let n=null,s=0;for(const[a,i]of Object.entries(Ks))(t.includes(a)||a.includes(t))&&a.length>s&&(n=i,s=a.length);return n||(t.includes("full stack")||t.includes("fullstack")?Ks["full stack developer"]:t.includes("frontend")||t.includes("front end")?Ks["frontend developer"]:t.includes("backend")||t.includes("back end")?Ks["backend developer"]:t.includes("developer")||t.includes("programmer")?Ks["software developer"]:t.includes("engineer")?Ks["software engineer"]:t.includes("designer")||t.includes("design")?Ks["ui/ux designer"]:t.includes("analyst")||t.includes("analysis")?Ks["data analyst"]:t.includes("manager")||t.includes("management")?Ks["product manager"]:{min:6e4,max:12e4})},TVe=e=>{const t=e.trim();return f6[t]||f6[t.toLowerCase()]||.3},Ei=(e,t="Georgia",r="ALL")=>{try{if(!e||e.trim()==="")return console.warn("Empty job title provided, using default"),Bp({min:6e4,max:12e4},"software developer",t,r);const n=AVe(e);if(!n||typeof n.min!="number"||typeof n.max!="number"||n.min<=0||n.max<=0)return console.warn(`Invalid base range for "${e}", using default`),Bp({min:6e4,max:12e4},e,t,r);const s=Bp(n,e,t,r);return!s.min_salary||!s.max_salary||s.min_salary<=0||s.max_salary<=0?(console.warn(`Invalid salary result for "${e}" in ${t}, using default`),Bp({min:6e4,max:12e4},"software developer",t,r)):s}catch(n){return console.error("Error calculating AI salary:",n,{jobTitle:e,country:t}),Bp({min:6e4,max:12e4},"software developer",t,r)}},Bp=(e,t,r,n)=>{const s=PVe(t),a=Math.round(e.min*s),i=Math.round(e.max*s),l=TVe(r);let c=Math.round(a*l),u=Math.round(i*l);if(n!=="ALL"){const h=parseInt(n);h<=2?(c=Math.round(c*.8),u=Math.round(u*.85)):h>=6&&(c=Math.round(c*1.3),u=Math.round(u*1.35))}c=Math.max(5e3,c),u=Math.max(c+5e3,u);const d=Math.round((c+u)/2);let f="USD";return r.toLowerCase().includes("georgia")?(f="GEL",c=Math.round(c*2.7),u=Math.round(u*2.7)):r.toLowerCase().includes("uk")||r.toLowerCase().includes("united kingdom")?(f="GBP",c=Math.round(c*.8),u=Math.round(u*.8)):(r.toLowerCase().includes("euro")||["germany","france","netherlands","poland","romania"].some(h=>r.toLowerCase().includes(h)))&&(f="EUR",c=Math.round(c*.9),u=Math.round(u*.9)),(!c||!u||c<=0||u<=0)&&(console.warn(`Invalid salary calculation for "${t}" in ${r}, using defaults`),c=5e4,u=1e5,f=r.toLowerCase().includes("georgia")?"GEL":"USD",f==="GEL"&&(c=Math.round(c*2.7),u=Math.round(u*2.7))),{min_salary:c,max_salary:u,median_salary:d,salary_period:"YEARLY",currency:f}},Kd=e=>{if(!e)return"Salary data not available";const{min_salary:t,max_salary:r,currency:n,salary_period:s}=e;if(!t&&!r)return"Salary data not available";const a=n==="USD"?"$":n==="EUR"?"":n==="GBP"?"":n==="GEL"?"":n||"$",i=s==="YEARLY"?"year":s==="MONTHLY"?"month":"";if(t&&r){const l=Math.round(t).toLocaleString(),c=Math.round(r).toLocaleString();return`${a}${l} - ${a}${c}${i?`/${i}`:""}`}else if(t){const l=Math.round(t).toLocaleString();return`${a}${l}+${i?`/${i}`:""}`}else if(r){const l=Math.round(r).toLocaleString();return`Up to ${a}${l}${i?`/${i}`:""}`}return"Salary data not available"},h6=(e,t,r,n,s)=>{const a=Object.entries(t).sort((u,d)=>{const f=parseFloat(String(u[1]).replace("%",""))||0;return(parseFloat(String(d[1]).replace("%",""))||0)-f}).slice(0,3).map(([u])=>u),i=Object.entries(r).sort((u,d)=>{const f=parseFloat(String(u[1]).replace("%",""))||0;return(parseFloat(String(d[1]).replace("%",""))||0)-f}).slice(0,2).map(([u])=>u),l=s.length>0?s.reduce((u,d)=>u+d.matchPercentage,0)/s.length:75;let c=`We think **${e}** is the perfect career path for you. `;return c+="You're really good at ",a.length>0?(c+=a.join(", "),i.length>0&&(c+=`, and you also have great ${i.join(" and ")} skills`)):i.length>0?c+=i.join(" and "):c+="many important skills",c+=`. Your skills match really well with what ${e} jobs need - about ${Math.round(l)}% match! `,c+="This role is great for you because it lets you use your best skills every day. ",c+="You'll get to learn new things and grow in your career. ",c+="Your mix of technical skills and people skills means you'll do really well in this job. ",c+=`There are lots of opportunities for ${e.toLowerCase()}s, so you'll have a stable and exciting career path ahead.`,c},p6=e=>{const t=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"],r=e.filter(a=>{const i=a.skill.toLowerCase().trim();return!t.some(l=>i.includes(l)||l.includes(i))});return r.length===0?(console.warn("No hard/tech skills found for job path generation"),[]):r.sort((a,i)=>i.score-a.score).slice(0,5).map(a=>{const i=a.skill,c=Math.min(95,Math.max(60,Math.round(a.score/5*100))),u=`Build your career using your ${i} skills. This path is tailored to your expertise in ${i}.`,d=[i],f=[`Advanced ${i}`,`${i} Best Practices`,`${i} Professional Development`],h=[`${i} Professional Certificate`,`${i} Specialist`];return{title:i,description:u,matchPercentage:c,requiredSkills:d,suggestedCourses:f,certifications:h,salaryRange:"",timeToReady:"3-6 months"}})},OVe=()=>{const{user:e}=ir(),t=rr(),[r,n]=m.useState(!0),[s,a]=m.useState(!1),[i,l]=m.useState({}),[c,u]=m.useState([]),[d,f]=m.useState({}),[h,g]=m.useState({}),[v,p]=m.useState([]),[y,x]=m.useState([]),[b,w]=m.useState([]),[_,S]=m.useState(null),[E,k]=m.useState("Georgia"),[j,N]=m.useState(""),[C,A]=m.useState("skills"),[R,H]=m.useState(new Set),U=m.useCallback(async()=>{try{const W=(await Se.get(Ze.AUTH.PROFILE)).data,V=(W==null?void 0:W.country)||(e==null?void 0:e.country)||"Georgia";return k(V),V}catch(P){return console.error("Error fetching user country:",P),k("Georgia"),"Georgia"}},[e]),D=m.useCallback((P,W)=>{const V={"Software Engineer":"software engineer","UX/UI Designer":"ux designer","Data Analyst":"data analyst","Product Manager":"product manager"};return P.map(ee=>{try{const X=ee.title.toLowerCase().trim();let ne=V[ee.title]||X,F=Ei(ne,W);if(!F.min_salary&&!F.max_salary&&!ne.includes("developer")){const Y=`${ne} developer`;F=Ei(Y,W),(F.min_salary||F.max_salary)&&(ne=Y)}if(!F.min_salary&&!F.max_salary&&!ne.includes("engineer")){const Y=`${ne} engineer`;F=Ei(Y,W),(F.min_salary||F.max_salary)&&(ne=Y)}if(F&&(F.min_salary||F.max_salary)&&(F.min_salary>0||F.max_salary>0)){const Y=Kd(F);if(Y&&Y!=="Salary data not available")return{...ee,salaryRange:Y}}const $=X.includes("design")?"ui/ux designer":X.includes("data")||X.includes("analyst")?"data analyst":X.includes("manager")?"product manager":"software developer",K=Ei($,W);if(K.min_salary&&K.max_salary){const Y=Kd(K);return{...ee,salaryRange:Y}}return console.warn(`Could not calculate salary for "${ee.title}" (${ne})`),{...ee,salaryRange:"Salary data not available"}}catch(X){return console.error(`Error calculating salary for ${ee.title}:`,X),{...ee,salaryRange:"Salary data not available"}}})},[]),B=m.useCallback(async(P,W,V)=>await Promise.all(P.map(async X=>{try{const ne=W.length>0?W.join(" "):X.title.toLowerCase(),F={country:V,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:W,salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},$=await ui.fetchActiveJobs({query:ne,filters:F,page:1,pageSize:5}),K=x_($.jobs);return{...X,jobs:K.slice(0,5)}}catch(ne){return console.error(`Error fetching jobs for ${X.title}:`,ne),{...X,jobs:[]}}})),[]),L=m.useCallback(async()=>{try{n(!0);try{const re=await Se.get(`/api/skilltest/results/?user=${e.id}`);let pe=null;if(Array.isArray(re.data)&&re.data.length>0?pe=re.data[0]:re.data&&typeof re.data=="object"&&(pe=re.data),pe&&(pe.final_role||pe.skills_json)){a(!0),pe.final_role&&S(pe.final_role);const ve=pe.skills_json||{};f(ve.tech||{}),g(ve.soft||{});const Ie=Object.entries(ve.tech||{}).map(([Re,it])=>({skill:Re,score:parseFloat(String(it).replace("%",""))||0})),et=Object.entries(ve.soft||{}).map(([Re,it])=>({skill:Re,score:parseFloat(String(it).replace("%",""))||0})),Je=Ie.sort((Re,it)=>it.score-Re.score),dt=et.sort((Re,it)=>it.score-Re.score),ke=[...Je,...dt].slice(0,5);u(ke);const G=p6(Je),ce=Object.keys(ve.tech||{}),Ne=await U(),qe=D(G,Ne),Ve=[...Ie,...et].map(Re=>Re.skill.toLowerCase());if(H(new Set(Ve)),p(qe),pe.final_role){const Re=h6(pe.final_role,ve.tech||{},ve.soft||{},ke,qe);N(Re)}n(!1),Promise.all(qe.map(async Re=>{try{const it=ke.map(J=>J.skill),[xe,Pe]=await Promise.all([u6(Re.title,it,Re.matchPercentage),d6(Re.title)]),Z=xe&&xe.length>100?xe:`**${Re.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${Re.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`;return{...Re,summary:Z,aiGeneratedSkills:Pe.length>0?Pe:Re.requiredSkills}}catch(it){return console.error(`Error generating data for ${Re.title}:`,it),{...Re,summary:`**${Re.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${Re.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`,aiGeneratedSkills:Re.requiredSkills}}})).then(Re=>{p(it=>{const xe=new Map(Re.map(Pe=>[Pe.title,Pe]));return it.map(Pe=>xe.get(Pe.title)||Pe)})}),Promise.all([(async()=>{const Re=await B(qe,ce,Ne);p(Re);const it=await q(Object.keys(ve.tech||{}),Object.keys(ve.soft||{}),Re);w(it)})(),(async()=>{const Re=await T(ce);x(Re)})()]).catch(Re=>{console.error("Error in background operations:",Re)});return}}catch{}const P=await Ih(e.id);if(!P||P.length===0){a(!1),n(!1);return}a(!0);const W=Lh(P);l(W);const V=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"],ee=[],X=[];Object.entries(W).forEach(([re,pe])=>{const ve=re.toLowerCase().trim();V.some(et=>ve.includes(et)||et.includes(ve))?X.push({skill:re,score:pe}):ee.push({skill:re,score:pe})});const ne=ee.sort((re,pe)=>pe.score-re.score),F=X.sort((re,pe)=>pe.score-re.score),$=[...ne,...F].slice(0,5);u($);const K=p6(ne),Y=ne.map(re=>re.skill),se=await U(),Q=D(K,se),ae=[...ne,...F].map(re=>re.skill.toLowerCase());if(H(new Set(ae)),p(Q),Q.length>0){const re=Q[0].title,pe={},ve={};ne.forEach(et=>{pe[et.skill]=`${et.score}%`}),F.forEach(et=>{ve[et.skill]=`${et.score}%`});const Ie=h6(re,pe,ve,$,Q);N(Ie),S(re)}n(!1),Promise.all(Q.map(async re=>{try{const pe=$.map(Je=>Je.skill),[ve,Ie]=await Promise.all([u6(re.title,pe,re.matchPercentage),d6(re.title)]),et=ve&&ve.length>100?ve:`**${re.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${re.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`;return{...re,summary:et,aiGeneratedSkills:Ie.length>0?Ie:re.requiredSkills}}catch(pe){return console.error(`Error generating data for ${re.title}:`,pe),{...re,summary:`**${re.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${re.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`,aiGeneratedSkills:re.requiredSkills}}})).then(re=>{p(pe=>{const ve=new Map(re.map(Ie=>[Ie.title,Ie]));return pe.map(Ie=>ve.get(Ie.title)||Ie)})}),Promise.all([(async()=>{const re=await B(Q,Y,se);p(re);const pe=await q(Y,[],re);w(pe)})(),(async()=>{const re=await T(Y);x(re)})()]).catch(re=>{console.error("Error in background operations:",re)})}catch(P){console.error(" Error loading skill data:",P),console.error("Error details:",P instanceof Error?P.message:String(P)),a(!1)}finally{console.log(" loadSkillData finished - setting loading to false"),n(!1)}},[e,U,D,B]);m.useEffect(()=>{if(!e){t("/auth/login");return}L(),U()},[e,t,L,U]);const T=async P=>{try{if(P.length===0)return[];const{data:W,error:V}=await Yt.from("courses").select("*").or(P.map(ee=>`required_skills.cs.{${ee}}`).join(",")).limit(6);if(V)throw V;return(W==null?void 0:W.map(ee=>({id:ee.id,title:ee.title,provider:ee.provider,level:ee.level,duration:ee.duration,description:ee.description,relevantSkills:ee.required_skills||[]})))||[]}catch(W){return console.error("Error fetching course recommendations:",W),[]}},q=async(P,W,V)=>{const ee=[...P,...W].map(Y=>Y.toLowerCase().trim()),X=new Map;if(V.forEach(Y=>{Y.requiredSkills.forEach(se=>{const Q=se.toLowerCase().trim();if(!ee.includes(Q)){X.has(Q)||X.set(Q,{jobs:[],count:0});const ae=X.get(Q);ae.jobs.push(Y.title),ae.count++}})}),X.size===0)return[];const{data:ne,error:F}=await Yt.from("courses").select("*").limit(100),$=new Map;return!F&&ne&&ne.forEach(Y=>{(Y.required_skills||[]).map(Q=>Q.toLowerCase().trim()).forEach(Q=>{X.has(Q)&&($.has(Q)||$.set(Q,[]),$.get(Q).push({id:Y.id,title:Y.title,provider:Y.provider||"Unknown",level:Y.level||"Beginner",duration:Y.duration||"N/A",description:Y.description||"",relevantSkills:Y.required_skills||[]}))})}),Array.from(X.entries()).map(([Y,se])=>{const ae=["programming","code","sql","testing","version control","data","api","framework","database","algorithm","software","technical"].some(pe=>Y.includes(pe));let re="medium";return se.count>=3?re="high":se.count===1&&(re="low"),{skill:Y.charAt(0).toUpperCase()+Y.slice(1),category:ae?"tech":"soft",importance:re,requiredByJobs:[...new Set(se.jobs)],recommendedCourses:$.get(Y)||[],frequency:se.count}}).sort((Y,se)=>{const Q={high:3,medium:2,low:1};return Q[se.importance]!==Q[Y.importance]?Q[se.importance]-Q[Y.importance]:se.frequency-Y.frequency})},I=(P,W)=>{const V="#19B5FE",ee=Object.entries(P).filter(([$,K])=>parseFloat(String(K).replace("%",""))>0).map(([$,K])=>{const Y=parseFloat(String(K).replace("%",""));let se;Y>=40?se=1:se=.3+Y/40*.7;const Q=`gradient-primary-${Math.round(se*100)}`;return{skill:$,percentage:Y,displayPct:K,fill:V,opacity:se,gradientId:Q}}).sort(($,K)=>K.percentage-$.percentage);if(ee.length===0)return o.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No skills data available"});const X={percentage:{label:"Percentage"}},ne=$=>{const{x:K,y:Y,width:se,height:Q,payload:ae,value:re}=$,pe=(ae==null?void 0:ae.skill)||re||"";if(!K||!Y||!se||!Q||!pe)return null;const ve=K+se/2,Je=250-80+25,dt=Math.max(8,Math.floor(se/6)),Ce=pe.split(" "),ke=[];let G="";for(const Ve of Ce)if(Ve.length>dt){G&&(ke.push(G),G="");for(let Re=0;Re<Ve.length;Re+=dt)ke.push(Ve.slice(Re,Re+dt))}else(G+" "+Ve).length<=dt?G=G?G+" "+Ve:Ve:(G&&ke.push(G),G=Ve);if(G&&ke.push(G),ke.length===0||ke.length===1&&ke[0].length>dt*1.5){ke.length=0;for(let Ve=0;Ve<pe.length;Ve+=dt)ke.push(pe.slice(Ve,Ve+dt))}const ce=ke.slice(0,2),Ne=14,qe=Je-(ce.length-1)*(Ne/2);return o.jsx("text",{x:ve,y:qe,fill:"#374151",textAnchor:"middle",fontSize:12,fontWeight:600,className:"dark:fill-gray-200",children:ce.map((Ve,Re)=>o.jsx("tspan",{x:ve,dy:Re===0?0:Ne,children:Ve},Re))})},F=$=>{const{x:K,y:Y,width:se,height:Q,value:ae,payload:re}=$,pe=ae||0,ve=(re==null?void 0:re.skill)||"";if(!K||!Y||!se||!Q)return null;const Ie=K+se/2,et=250,Je=80,dt=Math.max(8,Math.floor(se/6)),Ce=ve.length>dt*1.2,ke=et-Je+(Ce?70:60);return o.jsx("text",{x:Ie,y:ke,fill:"#374151",textAnchor:"middle",fontSize:13,fontWeight:700,className:"dark:fill-gray-200",children:`${pe.toFixed(0)}%`})};return o.jsx("div",{className:"w-full -mb-4",children:o.jsx(o_,{config:X,className:"h-[250px] w-full",children:o.jsxs(xO,{data:ee,margin:{top:20,right:10,left:10,bottom:80},barCategoryGap:"25%",children:[o.jsx("defs",{children:ee.map($=>o.jsxs("linearGradient",{id:$.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:$.fill,stopOpacity:$.opacity}),o.jsx("stop",{offset:"100%",stopColor:"#0EA5E9",stopOpacity:$.opacity})]},$.gradientId))}),o.jsx(Zh,{dataKey:"skill",hide:!0}),o.jsx(ep,{type:"number",domain:[0,100],hide:!0}),o.jsx(bO,{content:({active:$,payload:K})=>{if($&&K&&K.length){const Y=K[0].payload;return o.jsx("div",{className:"rounded-3xl bg-white dark:bg-gray-800 p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:Y.skill}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:V,opacity:Y.opacity}}),o.jsxs("span",{className:"font-bold text-lg",style:{color:V,opacity:Y.opacity},children:[Y.percentage.toFixed(1),"%"]})]})]})})}return null}}),o.jsxs(Qo,{dataKey:"percentage",radius:[8,8,8,8],animationDuration:1e3,animationEasing:"ease-out",children:[ee.map(($,K)=>o.jsx(Ky,{fill:`url(#${$.gradientId})`,style:{transition:"all 0.3s ease"}},`cell-${K}`)),o.jsx(ai,{content:ne,dataKey:"skill"}),o.jsx(ai,{content:F,dataKey:"percentage"})]})]})})})};return console.log(" SkillPathPage Render - Loading:",r,"HasTestAnswers:",s,"User:",e==null?void 0:e.id),r?(console.log(" Rendering loading state"),o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{children:"Analyzing your skills..."}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Loading skill data..."})]})})})):s?(console.log(" Rendering main SkillPathPage content"),console.log(" Data summary:",{topSkills:c.length,jobPaths:v.length,courseRecommendations:y.length,missingSkills:b.length,techSkills:Object.keys(d).length,softSkills:Object.keys(h).length,finalRole:_}),o.jsxs(At,{children:[o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:static md:translate-x-0 md:left-auto md:flex md:justify-center md:mb-6 md:w-auto",children:o.jsxs(Un.div,{layout:!0,transition:{type:"spring",stiffness:500,damping:40,mass:1},className:"relative inline-flex items-center bg-gray-100/80 dark:bg-[#242424]/80 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-3xl p-1 shadow-sm",children:[o.jsxs(Un.button,{layout:!0,onClick:()=>A("skills"),className:`relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${C==="skills"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[C==="skills"&&o.jsx(Un.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Your Skills"})]}),o.jsxs(Un.button,{layout:!0,onClick:()=>A("matchedRoles"),className:`relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${C==="matchedRoles"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[C==="matchedRoles"&&o.jsx(Un.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Matched Roles"})]})]})}),o.jsxs("div",{className:"space-y-4 md:space-y-6 pb-32 md:pb-6",children:[C==="skills"&&o.jsxs(o.Fragment,{children:[_&&j&&o.jsxs(Oe,{className:"bg-gradient-to-br from-primary/5 to-primary/10",children:[o.jsx(yt,{children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-trophy-iso-color.png",alt:"Trophy",className:"h-12 w-12 flex-shrink-0"}),o.jsxs(Nt,{className:"text-xl",children:["You Are ",_]})]})}),o.jsx(Me,{children:o.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:o.jsx("p",{className:"text-base leading-relaxed text-gray-700 dark:text-gray-300 whitespace-pre-line",children:j.split("**").map((P,W)=>W%2===1?o.jsx("strong",{className:"text-primary font-semibold",children:P},W):P)})})})]}),(Object.keys(d).length>0||Object.keys(h).length>0)&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.keys(d).length>0&&o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsx(Nt,{className:"flex items-center gap-2",children:"Technical Skills"})}),o.jsx(Me,{className:"p-6",children:I(d)})]}),Object.keys(h).length>0&&o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsx(Nt,{className:"flex items-center gap-2",children:"Soft Skills"})}),o.jsx(Me,{className:"p-6",children:I(h)})]})]})]}),C==="matchedRoles"&&o.jsx("div",{className:"space-y-4",children:v.length>0?v.map((P,W)=>o.jsx(Oe,{className:W===0?"bg-primary/5":"",children:o.jsx(Me,{className:"p-6",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsx(Nt,{className:"text-xl flex-1",children:P.title}),o.jsxs(oe,{size:"sm",onClick:()=>{t(`/skill-path/${encodeURIComponent(P.title)}`,{state:{jobPath:P}})},children:["View Details",o.jsx(Bx,{className:"h-4 w-4 ml-2"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(Oe,{className:"bg-gray-50 dark:bg-gray-800/50",children:[o.jsx(yt,{className:"pb-3",children:o.jsxs(Nt,{className:"text-base flex items-center gap-2",children:[o.jsx(qw,{className:"h-4 w-4 text-primary"}),"Salary Information"]})}),o.jsx(Me,{className:"pt-0",children:o.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-4 rounded-lg",children:[o.jsx("div",{className:"text-lg font-bold text-primary mb-2",children:P.salaryRange||"Salary data not available"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Average salary range based on current market data"})]})})]}),o.jsxs(Oe,{className:"bg-gray-50 dark:bg-gray-800/50",children:[o.jsx(yt,{className:"pb-3",children:o.jsx(Nt,{className:"text-base flex items-center gap-2",children:"Role Brief"})}),o.jsx(Me,{className:"pt-0",children:o.jsx("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-4 rounded-lg",children:o.jsx("div",{className:"text-base text-gray-700 dark:text-gray-300 leading-relaxed",children:P.summary?P.summary.split("**").map((V,ee)=>ee%2===1?o.jsx("strong",{className:"text-primary font-semibold",children:V},ee):V):o.jsx("span",{className:"text-muted-foreground italic",children:"Generating role brief..."})})})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Required Skills"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(P.aiGeneratedSkills||P.requiredSkills).map((V,ee)=>{const X=R.has(V.toLowerCase());return o.jsxs("div",{className:`flex items-center gap-2 px-4 py-2.5 rounded-[14px] transition-colors ${X?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[o.jsx("div",{className:"flex-shrink-0",children:X?o.jsx(HE,{className:"h-4 w-4 text-white"}):o.jsx(zw,{className:"h-4 w-4"})}),o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:V})]},ee)})})]})]})})},P.title)):o.jsx(Oe,{children:o.jsxs(Me,{className:"text-center py-8",children:[o.jsx("p",{className:"text-muted-foreground",children:"Complete a skill assessment to see personalized job recommendations."}),o.jsx(oe,{onClick:()=>t("/skill-test"),className:"mt-4",children:"Take Skill Assessment"})]})})})]})]})):(console.log(" Rendering 'no test answers' state"),o.jsx(At,{children:o.jsx("div",{className:"p-6",children:o.jsx(Oe,{children:o.jsxs(Me,{className:"text-center py-12",children:[o.jsx(vde,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),o.jsx("h2",{className:"text-lg font-bold mb-2",children:"Complete Your Skill Assessment"}),o.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Take our skill assessment to get personalized job recommendations and a custom learning path tailored to your strengths."}),o.jsxs(oe,{onClick:()=>t("/skill-test"),size:"lg",children:["Take Skill Assessment",o.jsx(Bx,{className:"h-4 w-4 ml-2"})]})]})})})}))},RVe="https://breneo-job-aggregator.up.railway.app/api/",$Ve=async(e,t="Georgia")=>{try{const r=await fetch(RVe,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)return console.error(`Market Stats API error: ${r.status}`),null;const n=await r.json();if(!Array.isArray(n))return console.error("Invalid API response format"),null;const s=e.toLowerCase(),a=n.filter(g=>[g.title,g.description,g.company].join(" ").toLowerCase().includes(s)&&g.is_active),i=t&&t!=="Georgia"&&t!=="Worldwide"?a.filter(g=>g.location.toLowerCase().includes(t.toLowerCase())):a,l=i.length,c=new Date;c.setDate(c.getDate()-30);const u=i.filter(g=>{if(!g.posted_at)return!1;try{return new Date(g.posted_at)>=c}catch{return!1}}).length,d=l>0?u/l*100:0;let f="medium";l>100&&d>30?f="high":(l<20||d<10)&&(f="low");const h=Math.max(0,Math.min(100,d*2));return{totalJobs:l,recentJobs:u,growthPercentage:Math.round(h),demandLevel:f,trending:d>25}}catch(r){return console.error("Error fetching job market stats:",r),null}},MVe=async(e,t)=>{try{const r=new Date().getFullYear();let n="",s="",a="";if(t){const{totalJobs:u,recentJobs:d,growthPercentage:f,demandLevel:h,trending:g}=t,v=d,p=v>0?v/(u-d+1)*100:0;h==="high"?(n=`${e} is experiencing exceptional demand in today's job market. Our analysis shows ${u} active job listings, with ${d} new positions posted in the last 30 days alone. The field demonstrates strong momentum with an estimated ${f}% growth rate, making it one of the most sought-after skills in the current market.`,g?s=`The demand for ${e} professionals is at an all-time high. Companies across technology, finance, healthcare, and e-commerce sectors are actively recruiting talent. With ${d} new postings in just the past month, this skill is currently trending and presents excellent opportunities for both entry-level and experienced professionals. The market shows no signs of slowing down, making it an ideal time to invest in this career path.`:s=`The demand for ${e} professionals remains exceptionally strong. Organizations are prioritizing this skill set, with consistent hiring activity throughout the year. The high number of active listings (${u}) indicates sustained market demand. This field offers competitive salaries and strong career growth prospects for qualified candidates.`):h==="medium"?(n=`${e} maintains healthy demand in the job market with ${u} active listings. We've tracked ${d} new positions in the past 30 days, indicating steady hiring activity. The field shows stable growth with moderate competition, creating balanced opportunities for skilled professionals.`,s=`The market for ${e} professionals is well-established with consistent demand. While competition exists, there are ample opportunities for candidates with the right skill set and experience. The field benefits from steady industry adoption, making it a reliable career choice with good long-term prospects.`):(n=`${e} represents a specialized field with ${u} current listings. While the absolute number may be lower, this indicates a niche market where specialized skills are highly valued. The field offers unique opportunities for professionals who can distinguish themselves.`,s=`While ${e} has a smaller market presence, it offers distinct advantages for specialized professionals. Companies actively seeking this skill often offer competitive compensation and value deep expertise. Success in this field typically requires strong foundational skills, continuous learning, and building a network within the specialized community.`),f>60?a="experiencing explosive growth":f>40?a="rapidly growing":f>20?a="growing steadily":f>5?a="stable with positive growth":a="stable"}else n=`${e} professionals continue to be in demand across various industries. The field has demonstrated consistent growth, with expanding opportunities in technology, business, and creative sectors. Job postings have maintained an upward trajectory, reflecting strong market confidence in this skill set.`,s=`The demand for ${e} skills remains robust as businesses adapt to evolving market needs. This field offers diverse career paths and opportunities for professional development. As organizations invest in digital transformation and innovation, professionals with ${e} expertise are well-positioned for long-term career success.`,a="growing steadily";const i=t?Math.max(35,Math.min(95,Math.round(t.totalJobs/15+t.growthPercentage/2))):60,l=[],c=(t==null?void 0:t.growthPercentage)||15;for(let u=0;u<5;u++){const d=r-4+u,f=4-u,h=c/10*f,g=Math.max(25,Math.min(100,Math.round(i-h)));l.push({year:String(d),popularity:g})}return{popularityText:n,demandText:s,growthTrend:a,chartData:l}}catch(r){return console.error("Error generating AI market insights:",r),null}},IVe=async(e,t="Georgia")=>{try{const r=await $Ve(e,t),n=await MVe(e,r);return{stats:r,insights:n}}catch(r){return console.error("Error getting complete market data:",r),{stats:null,insights:null}}},LVe=()=>{var U;const{skillName:e}=Ch(),t=rr(),r=Vs(),{user:n}=ir(),[s,a]=m.useState(!0),[i,l]=m.useState(""),[c,u]=m.useState(""),[d,f]=m.useState(""),[h,g]=m.useState([]),[v,p]=m.useState([]),[y,x]=m.useState([]),[b,w]=m.useState([]),[_,S]=m.useState("Georgia"),E=e?decodeURIComponent(e):"";(U=r.state)==null||U.jobPath,m.useEffect(()=>{if(!n){t("/auth/login");return}if(!E){t("/skill-path");return}(async()=>{try{a(!0),j(),R();const B=`${E} professionals are in high demand. Loading real-time market data...`;f(B);const L=new Date().getFullYear(),q=[50,55,60,65,70].map((P,W)=>({year:String(L-4+W),popularity:P}));g(q),N("Georgia"),a(!1);const I=await k();I!=="Georgia"&&N(I),Promise.all([C(I),A(),H(I)]).catch(P=>{console.error("Error in background operations:",P)})}catch(B){console.error("Error loading skill path details:",B),a(!1)}})()},[E,n]);const k=async()=>{try{const B=(await Se.get(Ze.AUTH.PROFILE)).data,L=(B==null?void 0:B.country)||(n==null?void 0:n.country)||"Georgia";return S(L),L}catch(D){return console.error("Error fetching user country:",D),"Georgia"}},j=()=>{const D={JavaScript:"JavaScript developers are responsible for building interactive web applications and dynamic user interfaces. They work with modern frameworks like React, Vue, and Angular to create responsive and engaging web experiences.",Python:"Python developers specialize in backend development, data science, and automation. They build scalable server applications, analyze data, and create machine learning models using Python's extensive library ecosystem.",React:"React developers focus on building user interfaces using the React library. They create reusable components, manage application state, and implement modern UI patterns for web and mobile applications.","UI/UX Design":"UI/UX designers create intuitive and visually appealing user interfaces. They conduct user research, design wireframes and prototypes, and ensure optimal user experiences across different platforms.","Data Analysis":"Data analysts transform raw data into actionable insights. They use statistical methods, visualization tools, and programming languages to help organizations make data-driven decisions."},B=`${E} professionals are in high demand across various industries. This role involves working with ${E} technologies to solve complex problems and deliver innovative solutions.`,L=D[E]||B;l(L)},N=D=>{try{const B={javascript:"javascript developer",python:"python developer",react:"react developer","ui/ux design":"ux designer","ui/ux":"ux designer","data analysis":"data analyst","data analytics":"data analyst","software development":"software developer","web development":"web developer","mobile development":"mobile developer",devops:"devops engineer",cybersecurity:"cybersecurity specialist","quality assurance":"qa engineer","product management":"product manager","3d modeler":"3d artist"},L=E.toLowerCase();let T=B[L]||L,q=Ei(T,D);if(!q.min_salary&&!q.max_salary&&!T.includes("developer")){const W=`${T} developer`;q=Ei(W,D),(q.min_salary||q.max_salary)&&(T=W)}if(!q.min_salary&&!q.max_salary&&!T.includes("engineer")){const W=`${T} engineer`;q=Ei(W,D),(q.min_salary||q.max_salary)&&(T=W)}if(q&&(q.min_salary||q.max_salary)&&(q.min_salary>0||q.max_salary>0)){const W=Kd(q);if(W&&W!=="Salary data not available"){u(W);return}}const I=L.includes("design")||L.includes("ui")||L.includes("ux")?"ui/ux designer":L.includes("data")||L.includes("analyst")||L.includes("analytics")?"data analyst":L.includes("manager")||L.includes("product")?"product manager":L.includes("security")||L.includes("cyber")?"cybersecurity specialist":L.includes("devops")||L.includes("cloud")?"devops engineer":"software developer",P=Ei(I,D);if(P.min_salary&&P.max_salary){const W=Kd(P);u(W)}else{const W=Ei("software developer",D);u(Kd(W))}}catch(B){console.error("Error calculating salary:",B);try{const L=Ei("software developer",D);u(Kd(L))}catch{u("Salary data not available")}}},C=async D=>{try{const B=IVe(E,D),L=new Promise(q=>{setTimeout(()=>q(null),3e3)}),T=await Promise.race([B,L]);if(T&&T.insights){const q=`${T.insights.popularityText}

${T.insights.demandText}`;f(q),g(T.insights.chartData)}}catch(B){console.error("Error loading popularity data:",B)}},A=async()=>{try{const D=E.toLowerCase().trim(),{data:B,error:L}=await Yt.from("courses").select("id, title, provider, level, duration, description, required_skills, image").or(`title.ilike.%${E}%,description.ilike.%${E}%,title.ilike.%${D}%,description.ilike.%${D}%`).limit(6);if(L){console.error("Supabase query error:",L),p([]);return}let T=[];B&&B.length>0&&(T=B.filter(q=>{const I=(q.title||"").toLowerCase(),P=(q.description||"").toLowerCase(),W=q.required_skills||[],V=I.includes(D)||P.includes(D)||I.includes(E.toLowerCase())||P.includes(E.toLowerCase()),ee=Array.isArray(W)&&W.some(X=>X.toLowerCase().includes(D)||D.includes(X.toLowerCase()));return V||ee})),T.length>0?p(T.map(q=>({id:q.id,title:q.title,provider:q.provider||"Unknown",level:q.level||"Beginner",duration:q.duration||"N/A",description:q.description||"",required_skills:q.required_skills||[],image:q.image||void 0}))):p([])}catch(D){console.error("Error loading courses:",D),p([])}},R=()=>{const D={JavaScript:["Build a real-time chat application using WebSockets","Create a task management app with drag-and-drop functionality","Develop a weather dashboard with API integration","Build an e-commerce product catalog with filtering","Create an interactive data visualization dashboard"],Python:["Build a web scraper to analyze market trends","Create a machine learning model for predictions","Develop a REST API with Flask or Django","Build a data analysis tool for business insights","Create an automation script for repetitive tasks"],React:["Build a portfolio website with animations","Create a social media dashboard with real-time updates","Develop a todo app with state management","Build an e-commerce checkout flow","Create an interactive data table with sorting and filtering"],"UI/UX Design":["Design a mobile app interface for a fitness tracker","Create a website redesign for a local business","Design a complete design system and component library","Create wireframes and prototypes for a SaaS product","Design an accessible checkout flow for e-commerce"],"Data Analysis":["Analyze sales data to identify trends and patterns","Create visualizations for a business dashboard","Perform statistical analysis on survey data","Build a predictive model for customer behavior","Analyze social media engagement metrics"]},B=[`Create a ${E} portfolio project`,`Build a real-world application using ${E}`,`Develop a ${E} tool or utility`,`Contribute to an open-source ${E} project`,`Create a ${E} tutorial or course`],L=D[E]||B;x(L)},H=async D=>{try{const B={country:D,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[E],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},L=ui.fetchActiveJobs({query:E,filters:B,page:1,pageSize:5}),T=new Promise(P=>{setTimeout(()=>P({jobs:[]}),5e3)}),q=await Promise.race([L,T]),I=x_(q.jobs);w(I.slice(0,5))}catch(B){console.error("Error loading jobs:",B),w([])}};return s?o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{children:"Loading skill path details..."})]})})}):o.jsx(At,{children:o.jsxs("div",{className:"space-y-6 pb-20 md:pb-6",children:[o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsx(Nt,{className:"text-3xl font-bold",children:E})}),o.jsx(Me,{children:o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(qw,{className:"h-5 w-5"}),"Salary Information"]})}),o.jsxs(Me,{children:[o.jsx("div",{className:"text-2xl font-bold text-primary mb-2",children:c}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Average salary range based on current market data"})]})]}),o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(oz,{className:"h-5 w-5"}),"Market Popularity"]})}),o.jsxs(Me,{children:[o.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4",children:d}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h4",{className:"text-sm font-medium mb-4",children:"Last 5 Year Popularity"}),o.jsx(o_,{config:{popularity:{label:"Popularity",color:"#19B5FE"}},className:"h-[300px] w-full",children:o.jsxs(xO,{data:h,margin:{top:5,right:10,left:0,bottom:0},children:[o.jsx(HG,{strokeDasharray:"3 3",className:"stroke-muted"}),o.jsx(Zh,{dataKey:"year",tickLine:!1,axisLine:!1,tickMargin:8,className:"text-xs"}),o.jsx(ep,{tickLine:!1,axisLine:!1,tickMargin:8,className:"text-xs",domain:[0,100],label:{value:"Popularity %",angle:-90,position:"insideLeft"}}),o.jsx(bO,{content:({active:D,payload:B})=>D&&B&&B.length?o.jsx("div",{className:"rounded-lg bg-background p-2 shadow-sm",children:o.jsx("div",{className:"grid gap-2",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("span",{className:"text-sm font-medium",children:B[0].payload.year}),o.jsxs("span",{className:"text-sm font-bold",style:{color:"#19B5FE"},children:[B[0].value,"%"]})]})})}):null}),o.jsx(Qo,{dataKey:"popularity",radius:[8,8,0,0],fill:"#19B5FE",children:h.map((D,B)=>o.jsx(Ky,{fill:"#19B5FE"},`cell-${B}`))})]})})]})]})]})]}),o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(Il,{className:"h-5 w-5"}),"Relevant Courses"]})}),o.jsxs(Me,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.map(D=>o.jsx(Oe,{className:"hover:bg-primary/5 hover:shadow-soft transition-all cursor-pointer",onClick:()=>t(`/course/${D.id}`),children:o.jsxs(Me,{className:"p-4",children:[o.jsx("h5",{className:"font-semibold text-sm mb-2",children:D.title}),o.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:D.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Pt,{variant:"secondary",className:"text-xs",children:D.level}),o.jsx("span",{className:"text-xs text-muted-foreground",children:D.duration})]}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["by ",D.provider]})]})]})},D.id))}),v.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Il,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),o.jsx("p",{className:"text-muted-foreground font-medium mb-2",children:"No relevant courses available"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["We couldn't find any courses specifically for"," ",E," at the moment. Check back later or explore our general course catalog."]})]})]})]}),o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(jde,{className:"h-5 w-5"}),"Project Ideas"]})}),o.jsxs(Me,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Build these projects after completing courses to strengthen your skills:"}),o.jsx("div",{className:"space-y-3",children:y.map((D,B)=>o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-muted rounded-lg",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-medium flex-shrink-0",children:B+1}),o.jsx("p",{className:"text-sm",children:D})]},B))})]})]}),o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(Hr,{className:"h-5 w-5"}),"Relevant Jobs"]})}),o.jsxs(Me,{children:[b.length>0?o.jsx("div",{className:"space-y-3",children:b.map(D=>{const B=D.job_id||D.id||`job-${Math.random()}`,L=D.job_title||D.title||"Untitled Position",T=D.employer_name||D.company_name||(typeof D.company=="string"?D.company:"Unknown Company"),q=D.job_city&&D.job_state?`${D.job_city}, ${D.job_state}`:D.job_city||D.job_state||D.location||"Location not specified",I=D.job_apply_link||D.apply_link||D.url||"#",P=D.employer_logo||D.company_logo||D.logo_url||"";let W="By agreement";const V=D.job_min_salary||D.min_salary,ee=D.job_max_salary||D.max_salary,X=D.job_salary_currency||D.salary_currency||"$";return V&&ee&&typeof V=="number"&&typeof ee=="number"?W=`${X}${V.toLocaleString()} - ${X}${ee.toLocaleString()}`:V&&typeof V=="number"&&(W=`${X}${V.toLocaleString()}+`),o.jsx(Oe,{className:"hover:bg-primary/5 hover:shadow-soft transition-all cursor-pointer",onClick:()=>t(`/jobs/${B}`),children:o.jsx(Me,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[P&&o.jsx("img",{src:P,alt:T,className:"w-12 h-12 rounded-lg object-contain flex-shrink-0",onError:ne=>{ne.target.style.display="none"}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h5",{className:"font-semibold text-sm mb-1 line-clamp-1",children:L}),o.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[T,"  ",q]}),W&&o.jsx(Pt,{variant:"secondary",className:"text-xs",children:W})]}),o.jsx(oe,{variant:"outline",size:"sm",onClick:ne=>{ne.stopPropagation(),window.open(I,"_blank")},children:"Apply"})]})})},B)})}):o.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No jobs found for this skill. Check back later!"}),b.length>0&&o.jsxs(oe,{variant:"outline",className:"w-full mt-4",onClick:()=>{t(`/jobs?search=${encodeURIComponent(E)}`)},children:["View More Jobs",o.jsx(Bx,{className:"h-4 w-4 ml-2"})]})]})]})]})})},m6=[{id:1,name:"Marketing",icon:""},{id:2,name:"Tech",icon:""},{id:3,name:"Design",icon:""},{id:4,name:"Business",icon:""},{id:5,name:"Education",icon:""},{id:6,name:"Science",icon:""},{id:7,name:"Healthcare",icon:""},{id:8,name:"Finance",icon:""},{id:9,name:"Arts",icon:""}];function DVe(){const[e,t]=m.useState([]),[r,n]=m.useState(!1),s=rr(),{user:a}=ir(),i=c=>{e.includes(c)?t(e.filter(u=>u!==c)):t([...e,c])},l=async()=>{if(e.length===0){de.error("Please select at least one area of interest");return}if(!a){de.error("Please sign in to save your interests.");return}n(!0);try{const c=e.map(d=>{var f;return(f=m6.find(h=>h.id===d))==null?void 0:f.name}).filter(Boolean),{error:u}=await Yt.from("profiles").update({interests:c,onboarding_completed:!0}).eq("id",a.id);if(u)throw u;de.success("Interests saved! Your personalized experience is ready."),s("/home")}catch(c){de.error(`Failed to save interests: ${c.message}`)}finally{n(!1)}};return o.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-breneo-navy mb-2",children:"What are you interested in?"}),o.jsx("p",{className:"text-gray-600",children:"Select areas you'd like to explore. This helps us personalize your experience."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:m6.map(c=>o.jsx(Oe,{className:`p-4 cursor-pointer transition-all border-2 hover:shadow-soft ${e.includes(c.id)?"border-breneo-blue bg-breneo-blue/5":"border-transparent hover:border-gray-200"}`,onClick:()=>i(c.id),children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"text-2xl",children:c.icon}),o.jsx("div",{className:"font-medium",children:c.name})]})},c.id))}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsx(oe,{onClick:l,className:"bg-breneo-blue hover:bg-breneo-blue/90",disabled:r,children:r?"Saving...":"Continue"})})]})}const FVe=()=>o.jsxs("div",{className:"min-h-screen bg-breneo-lightgray flex flex-col",children:[o.jsx("header",{className:"bg-white py-4 px-6 shadow-sm",children:o.jsx("div",{className:"container mx-auto",children:o.jsx("a",{href:"/",className:"flex items-center space-x-2",children:o.jsx(Nn,{className:"h-9 md:h-8"})})})}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx(DVe,{})}),o.jsx("footer",{className:"bg-white py-4 px-6",children:o.jsx("div",{className:"container mx-auto",children:o.jsxs("p",{className:"text-sm text-gray-500 text-center",children:[" ",new Date().getFullYear()," Breneo. All rights reserved."]})})})]}),BVe=async e=>{try{const t=await Ih(e);if(!t||t.length===0)return[];const r=Lh(t);return Object.entries(r).sort(([,s],[,a])=>a-s).slice(0,5).map(([s])=>s)}catch(t){return console.error("Error fetching user skills:",t),[]}},UVe=e=>{const t=[],r=[e.job_title||e.title||"",e.description||e.job_description||"",e.job_required_experience||e.required_experience||"",...Array.isArray(e.required_skills)?e.required_skills:[],...Array.isArray(e.skills)?e.skills:[],...Array.isArray(e.job_skills)?e.job_skills:[],...typeof e.required_skills=="string"?e.required_skills.split(",").map(s=>s.trim()):[],...typeof e.skills=="string"?e.skills.split(",").map(s=>s.trim()):[],...typeof e.job_skills=="string"?e.job_skills.split(",").map(s=>s.trim()):[]].filter(Boolean).join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"],developer:["developer","development","programming","coding","software engineer","software developer"],designer:["designer","design","ui","ux","graphic designer","visual designer"],marketer:["marketer","marketing","digital marketing","social media","content marketing"],analyst:["analyst","analysis","data analyst","business analyst","data analytics"],teacher:["teacher","teaching","education","instructor","trainer"],"project manager":["project manager","pm","project management","scrum master","product manager"]};return Object.keys(n).forEach(s=>{n[s].some(i=>r.includes(i))&&t.push(s)}),[...new Set(t)]},zVe=(e,t)=>{if(t.length===0)return!1;const r=UVe(e);if(r.length===0){const l=[e.job_title||e.title||"",e.description||e.job_description||"",e.employer_name||e.company_name||e.company||"",e.job_required_experience||e.required_experience||e.experience||""].filter(Boolean).join(" ").toLowerCase(),c=u=>{const d=u.toLowerCase().trim(),f=[d];return d.includes("developer")&&f.push("development","programming","coding","software"),d.includes("designer")&&f.push("design","ui","ux","graphic"),d.includes("marketer")&&f.push("marketing","digital marketing","social media"),d.includes("analyst")&&f.push("analysis","data","analytics"),d.includes("manager")&&f.push("management","lead","coordinate"),f};return t.some(u=>c(u).some(f=>new RegExp(`\\b${f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"i").test(l)))}const n=l=>l.toLowerCase().trim().replace(/\s+/g," "),s=t.map(n),a=r.map(n);return s.filter(l=>a.some(c=>!!(l===c||l.includes(c)||c.includes(l)))).length>0},qVe=async e=>{try{const{data:t,error:r}=await Yt.from("job_notifications").select("job_id").eq("user_id",e);return r?(console.error("Error fetching notified jobs:",r),new Set):new Set((t||[]).map(n=>n.job_id))}catch(t){return console.error("Error fetching notified jobs:",t),new Set}},WVe=async(e,t)=>{try{const{error:r}=await Yt.from("job_notifications").insert({user_id:e,job_id:t,notified_at:new Date().toISOString()});r&&console.error("Error marking job as notified:",r)}catch(r){console.error("Error marking job as notified:",r)}},VVe=async(e,t)=>{try{const r=t.job_title||t.title||"New Job",n=t.employer_name||t.company_name||t.company||"Company",{error:s}=await Yt.from("notifications").insert({title:"New Job Match! ",message:`${r} at ${n} matches your skills`,type:"info",recipient_id:e,is_read:!1});s&&console.error("Error creating notification:",s)}catch(r){console.error("Error creating notification:",r)}},HVe=async e=>{try{const t=await BVe(e);if(t.length===0)return console.log("No user skills found, skipping job check"),[];console.log("Checking for jobs matching skills:",t);const n=(await My({query:"",filters:{country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:"week",skills:t},page:1,pageSize:50})).jobs||[];console.log(`Found ${n.length} jobs to check`);const s=x_(n);console.log(`Filtered to ${s.length} jobs from allowed ATS platforms`);const a=String(e),i=await qVe(vm(a)),l=[];for(const c of s){const u=c.job_id||c.id||"";u&&(i.has(u)||zVe(c,t)&&l.push(c))}console.log(`Found ${l.length} new matching jobs`);for(const c of l){const u=c.job_id||c.id||"";u&&(await VVe(vm(a),c),await WVe(vm(a),u))}return l}catch(t){return console.error("Error checking for new job matches:",t),[]}},KVe=(e={})=>{const{user:t}=ir(),{enabled:r=!0,checkInterval:n=30*60*1e3}=e,[s,a]=m.useState("default"),[i,l]=m.useState(!1),c=m.useRef(null),u=m.useRef(!1),d=async()=>{if(!("Notification"in window))return console.log("This browser does not support notifications"),!1;if(Notification.permission==="granted")return a("granted"),!0;if(Notification.permission==="denied")return a("denied"),!1;const g=await Notification.requestPermission();return a(g),g==="granted"},f=m.useCallback(g=>{if(s!=="granted"){console.log("Notification permission not granted");return}const v=g.job_title||g.title||"New Job",p=g.employer_name||g.company_name||g.company||"Company",y=g.job_id||g.id||"",x=new Notification("New Job Match! ",{body:`${v} at ${p} matches your skills`,icon:g.employer_logo||g.company_logo||g.logo_url||"/lovable-uploads/Breneo-logo.png",badge:"/lovable-uploads/Breneo-logo.png",tag:`job-${y}`,requireInteraction:!1});x.onclick=()=>{window.focus(),x.close(),window.location.href="/jobs"},setTimeout(()=>{x.close()},5e3)},[s]),h=m.useCallback(async()=>{if(!(!(t!=null&&t.id)||u.current)){u.current=!0,l(!0);try{const g=await HVe(t.id);for(const v of g)f(v);g.length>0&&console.log(`Sent ${g.length} job notifications`)}catch(g){console.error("Error checking for new jobs:",g)}finally{l(!1),u.current=!1}}},[t==null?void 0:t.id,f]);return m.useEffect(()=>{"Notification"in window&&a(Notification.permission)},[]),m.useEffect(()=>{!r||!(t!=null&&t.id)||(Notification.permission==="default"?console.log("Notification permission not yet requested"):Notification.permission==="granted"&&h())},[r,t==null?void 0:t.id,h]),m.useEffect(()=>{if(!r||!(t!=null&&t.id)||s!=="granted")return;c.current&&clearInterval(c.current),c.current=setInterval(()=>{h()},n);const g=()=>{document.visibilityState==="visible"&&h()};return document.addEventListener("visibilitychange",g),()=>{c.current&&clearInterval(c.current),document.removeEventListener("visibilitychange",g)}},[r,t==null?void 0:t.id,s,n,h]),{permission:s,requestPermission:d,isChecking:i,checkForNewJobs:h}},GVe=()=>{const{user:e}=ir(),t=pi(),r=Ws(),n=["user-notifications",e==null?void 0:e.id],s=(e==null?void 0:e.user_type)!=="academy";KVe({enabled:s&&!!(e!=null&&e.id),checkInterval:30*60*1e3}),m.useState(!1);const{data:a=[],isLoading:i}=Wt({queryKey:n,queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:u,error:d}=await Yt.from("notifications").select("*").or(`recipient_id.is.null,recipient_id.eq.${e.id}`).order("created_at",{ascending:!1});if(d)throw console.error("Error fetching notifications:",d),new Error("Could not fetch notifications.");return u||[]},enabled:!!(e!=null&&e.id)}),l=oa({mutationFn:async u=>{if(!(e!=null&&e.id))throw new Error("User not authenticated.");const{error:d}=await Yt.from("notifications").update({is_read:!0,updated_at:new Date().toISOString()}).eq("id",u).eq("recipient_id",e.id);if(d)throw d},onMutate:async u=>{await r.cancelQueries({queryKey:n});const d=r.getQueryData(n)||[];return r.setQueryData(n,f=>(f||[]).map(h=>h.id===u?{...h,is_read:!0}:h)),{previousNotifications:d}},onError:(u,d,f)=>{f!=null&&f.previousNotifications&&r.setQueryData(n,f.previousNotifications),de.error("Could not mark notification as read.")},onSettled:()=>{r.invalidateQueries({queryKey:n})}});m.useEffect(()=>{if(!(e!=null&&e.id))return;const u=h=>{if(r.invalidateQueries({queryKey:n}),h.new){const g=h.new,v=`${g.title}: ${g.message}`;switch(g.type){case"success":de.success(v);break;case"error":de.error(v);break;case"warning":de.warning(v);break;default:de.info(v)}}},d=Yt.channel("personal-user-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`recipient_id=eq.${e.id}`},u).subscribe(),f=Yt.channel("broadcast-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"recipient_id=is.null"},u).subscribe();return()=>{Yt.removeChannel(d),Yt.removeChannel(f)}},[r,e==null?void 0:e.id,n]);const c=u=>{switch(u){case"success":return o.jsx("div",{className:"bg-green-100 rounded-full p-2",children:o.jsx(HE,{className:"h-5 w-5 text-green-600"})});case"warning":return o.jsx("div",{className:"bg-yellow-100 rounded-full p-2",children:o.jsx(Rde,{className:"h-5 w-5 text-yellow-600"})});case"error":return o.jsx("div",{className:"bg-red-100 rounded-full p-2",children:o.jsx(zw,{className:"h-5 w-5 text-red-600"})});default:return o.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:o.jsx(cA,{className:"h-5 w-5 text-blue-600"})})}};return a.filter(u=>!u.is_read&&u.recipient_id===(e==null?void 0:e.id)).length,o.jsx(At,{children:o.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:o.jsx(Oe,{children:o.jsx(Me,{className:"p-0",children:o.jsx("div",{className:"divide-y divide-gray-200",children:i?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t.common.loading}):a.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-bell-dynamic-color.png",alt:"No notifications",className:"mx-auto h-48 w-48 mb-4 object-contain"}),o.jsx("p",{children:t.notifications.noNotifications})]}):a.map(u=>o.jsxs("div",{className:`flex items-start gap-4 p-4 transition-colors ${!u.is_read&&u.recipient_id===(e==null?void 0:e.id)?"bg-blue-50":"hover:bg-gray-50"}`,children:[c(u.type),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:u.title}),o.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.created_at).toLocaleDateString()})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:u.message}),!u.is_read&&u.recipient_id===(e==null?void 0:e.id)&&o.jsxs("button",{onClick:()=>l.mutate(u.id),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800 mt-2 disabled:opacity-50",disabled:l.isPending,children:[o.jsx(HE,{className:"h-4 w-4"}),t.notifications.markAsRead]})]})]},u.id))})})})})})},g6=()=>{const e=rr(),{user:t}=ir(),[r,n]=m.useState(null),[s,a]=m.useState([]),[i,l]=m.useState(!0),c=m.useCallback(async()=>{var g;if(t)try{const v=await Se.get(Ze.ACADEMY.PROFILE);if(v.data){const p=v.data,y=lc(p,(t==null?void 0:t.id)!=null?String(t.id):void 0),x={...y,first_name:y.first_name||(t==null?void 0:t.first_name)||y.academy_name||"",is_verified:p.is_verified??!1};n(x)}}catch(v){console.error("Failed to load academy profile:",v),((g=v.response)==null?void 0:g.status)===404?(de.error("Please set up your academy profile first"),e("/academy/profile")):de.error("Failed to load academy profile")}finally{l(!1)}},[t,e]),u=m.useCallback(async()=>{if(r)try{const{data:g,error:v}=await Yt.from("courses").select("id, title, category, level, created_at").eq("academy_id",r.id).order("created_at",{ascending:!1}).limit(5);if(v)throw v;a(g||[])}catch(g){console.error("Error fetching courses:",g)}},[r]);if(m.useEffect(()=>{c()},[c]),m.useEffect(()=>{r&&r.id&&u()},[r,u]),i)return o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-lg",children:"Loading..."})})});if(!r)return o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})});const d=s.length,f=new Set(s.map(g=>g.category)).size,h=s.filter(g=>new Date(g.created_at).getTime()>Date.now()-30*24*60*60*1e3).length;return o.jsx(At,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-4 gap-2 md:gap-6",children:[o.jsxs(Oe,{className:"min-w-0",children:[o.jsxs(yt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Nt,{className:"text-xs md:text-sm font-medium truncate",children:"Total Courses"}),o.jsx(Il,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(Me,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:d}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Active courses in your academy"})]})]}),o.jsxs(Oe,{className:"min-w-0",children:[o.jsxs(yt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Nt,{className:"text-xs md:text-sm font-medium truncate",children:"Categories"}),o.jsx(Xl,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(Me,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:f}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Different course categories"})]})]}),o.jsxs(Oe,{className:"min-w-0",children:[o.jsxs(yt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Nt,{className:"text-xs md:text-sm font-medium truncate",children:"Recent Courses"}),o.jsx(oz,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(Me,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:h}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Added in the last 30 days"})]})]}),o.jsxs(Oe,{className:"min-w-0",children:[o.jsxs(yt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Nt,{className:"text-xs md:text-sm font-medium truncate",children:"Status"}),o.jsx(Di,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(Me,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:r.is_verified?o.jsx(Pt,{className:"bg-green-500 text-[10px] md:text-xs",children:"Verified"}):o.jsx(Pt,{variant:"outline",className:"text-[10px] md:text-xs",children:"Pending"})}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Academy verification status"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(fu,{className:"h-5 w-5"}),"Academy Information"]})}),o.jsxs(Me,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Academy Name"}),o.jsx("p",{className:"font-semibold",children:r.academy_name})]}),r.description&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),o.jsx("p",{className:"text-sm",children:r.description})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.website_url&&o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>window.open(r.website_url,"_blank"),children:[o.jsx(cc,{className:"h-4 w-4 mr-2"}),"Website",o.jsx(dg,{className:"h-3 w-3 ml-2"})]}),r.contact_email&&o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>window.location.href=`mailto:${r.contact_email}`,children:[o.jsx($u,{className:"h-4 w-4 mr-2"}),"Contact"]})]})]})]}),o.jsxs(Oe,{children:[o.jsxs(yt,{className:"flex flex-row items-center justify-between",children:[o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(Il,{className:"h-5 w-5"}),"Recent Courses"]}),o.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>e("/academy/courses"),children:"View All"})]}),o.jsx(Me,{children:s.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Il,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"No courses yet"}),o.jsx(oe,{onClick:()=>e("/academy/courses/add"),size:"sm",children:"Create Your First Course"})]}):o.jsx("div",{className:"space-y-3",children:s.map(g=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent transition-colors",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-sm",children:g.title}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Pt,{variant:"outline",className:"text-xs",children:g.category}),o.jsx(Pt,{variant:"secondary",className:"text-xs",children:g.level})]})]}),o.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>e(`/academy/courses/edit/${g.id}`),children:"Edit"})]},g.id))})})]})]}),o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(Ql,{className:"h-5 w-5"}),"Quick Actions"]})}),o.jsx(Me,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(oe,{onClick:()=>e("/academy/courses/add"),className:"h-auto flex-col items-start p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Il,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"Add New Course"})]}),o.jsx("span",{className:"text-sm text-left opacity-80",children:"Create and publish a new course"})]}),o.jsxs(oe,{variant:"outline",onClick:()=>e("/academy/courses"),className:"h-auto flex-col items-start p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(zx,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"Manage Courses"})]}),o.jsx("span",{className:"text-sm text-left opacity-80",children:"View and edit all your courses"})]}),o.jsxs(oe,{variant:"outline",onClick:()=>e("/academy/profile"),className:"h-auto flex-col items-start p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(fu,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"Edit Profile"})]}),o.jsx("span",{className:"text-sm text-left opacity-80",children:"Update your academy information"})]})]})})]})]})})},oQ=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:le("w-full caption-bottom text-sm",e),...t})}));oQ.displayName="Table";const lQ=m.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:le("[&_tr]:border-b",e),...t}));lQ.displayName="TableHeader";const cQ=m.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:le("[&_tr:last-child]:border-0",e),...t}));cQ.displayName="TableBody";const YVe=m.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));YVe.displayName="TableFooter";const SC=m.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));SC.displayName="TableRow";const zc=m.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));zc.displayName="TableHead";const qc=m.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:le("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));qc.displayName="TableCell";const JVe=m.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:le("mt-4 text-sm text-muted-foreground",e),...t}));JVe.displayName="TableCaption";const XVe=()=>{const e=rr(),{user:t}=ir(),[r,n]=m.useState([]),[s,a]=m.useState(null),[i,l]=m.useState(!0),c=f=>{e(`/academy/courses/edit/${f.id}`)},u=m.useCallback(async()=>{var f;if(t)try{const h=await Se.get(Ze.ACADEMY.PROFILE);if(h.data){const g=h.data,v=lc(g,(t==null?void 0:t.id)!=null?String(t.id):void 0),p={...v,first_name:v.first_name||(t==null?void 0:t.first_name)||v.academy_name||"",is_verified:g.is_verified??!1};a(p),console.log(" Academy profile loaded from API:",p)}}catch(h){console.error("Failed to load academy profile:",h),h&&typeof h=="object"&&"response"in h&&((f=h.response)==null?void 0:f.status)===404?de.error("Please set up your academy profile first"):de.error("Failed to load academy profile")}finally{l(!1)}},[t]),d=m.useCallback(async()=>{if(s)try{const{data:f,error:h}=await Yt.from("courses").select("*").eq("academy_id",s.id).order("created_at",{ascending:!1});if(h)throw h;const g=(f||[]).map(v=>({...v,required_skills:v.required_skills||[],topics:v.topics||[],enrolled:v.enrolled||!1,popular:v.popular||!1,is_academy_course:v.is_academy_course||!1}));n(g)}catch(f){console.error("Error fetching courses:",f);const h=f instanceof Error?f.message:"Failed to load courses";de.error(h)}},[s]);return m.useEffect(()=>{u()},[u]),m.useEffect(()=>{s&&s.id&&d()},[s,d]),i?o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-lg",children:"Loading..."})})}):s?o.jsx(At,{children:o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("span",{className:"text-md font-semibold",children:["You have ",r.length," Courses"]}),o.jsxs(oe,{onClick:()=>e("/academy/courses/add"),children:[o.jsx(Ww,{className:"w-4 h-4 mr-2"}),"Add Course"]})]}),o.jsx("div",{children:r.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Il,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No courses yet"}),o.jsx("p",{className:"text-muted-foreground",children:"Add your first course to get started"})]}):o.jsxs(oQ,{children:[o.jsx(lQ,{children:o.jsxs(SC,{children:[o.jsx(zc,{children:"Image"}),o.jsx(zc,{children:"Title"}),o.jsx(zc,{children:"Category"}),o.jsx(zc,{children:"Level"}),o.jsx(zc,{children:"Duration"}),o.jsx(zc,{})]})}),o.jsx(cQ,{children:r.map(f=>o.jsxs(SC,{children:[o.jsx(qc,{children:o.jsx("img",{src:f.image,alt:f.title,className:"h-16 w-auto rounded-md object-contain"})}),o.jsx(qc,{className:"font-medium",children:f.title}),o.jsx(qc,{children:o.jsx(Pt,{variant:"outline",children:f.category})}),o.jsx(qc,{children:o.jsx(Pt,{variant:"secondary",children:f.level})}),o.jsx(qc,{children:f.duration}),o.jsx(qc,{className:"text-right",children:o.jsx(oe,{variant:"outline",size:"sm",onClick:()=>c(f),children:o.jsx(xo,{className:"h-4 w-4"})})})]},f.id))})]})})]})})}):o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})})},QVe=Cy("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),uQ=m.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:le(QVe({variant:t}),e),...r}));uQ.displayName="Alert";const dQ=m.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:le("mb-1 font-medium leading-none tracking-tight",e),...t}));dQ.displayName="AlertTitle";const fQ=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:le("text-sm [&_p]:leading-relaxed",e),...t}));fQ.displayName="AlertDescription";const ZVe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),eHe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),tHe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),rHe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),nHe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M12 24C5.385 24 0 18.615 0 12S5.385 0 12 0s12 5.385 12 12-5.385 12-12 12zm10.12-10.358c-.35-.11-3.17-.953-6.384-.438 1.34 3.684 1.887 6.684 1.992 7.308 2.3-1.555 3.936-4.02 4.395-6.87zm-6.115 7.808c-.153-.9-.75-4.032-2.19-7.77l-.066.02c-5.79 2.015-7.86 6.025-8.04 6.4 1.73 1.358 3.92 2.137 6.29 2.137 1.42 0 2.77-.29 4-.816zm-11.62-2.58c.232-.4 3.045-5.055 8.332-6.765.135-.045.27-.084.405-.12-.26-.585-.54-1.167-.832-1.72C7.17 11.775 2.206 11.71 1.756 11.7l-.004.312c0 2.633.998 5.037 2.634 6.855zm-2.42-8.955c.46.008 4.683.026 9.477-1.248-1.698-3.018-3.53-5.558-3.8-5.928-2.868 1.35-5.01 3.99-5.676 7.17zM9.6 2.052c.282.38 2.145 2.914 3.822 6 3.645-1.365 5.19-3.44 5.373-3.702-1.81-1.61-4.19-2.586-6.795-2.586-.825 0-1.63.1-2.4.285zm10.335 3.483c-.218.29-1.935 2.493-5.724 4.04.24.49.47.985.68 1.486.08.18.15.36.22.53 3.41-.43 6.8.26 7.14.33-.02-2.42-.88-4.64-2.31-6.38z"})}),sHe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.921h-6.466v-14.921h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.015zm-3.466-8.921h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"})}),Vj=(e,t)=>{const r={className:t||"h-5 w-5"};switch(e){case"github":return o.jsx(ZVe,{...r});case"linkedin":return o.jsx(eHe,{...r});case"facebook":return o.jsx(tHe,{...r});case"instagram":return o.jsx(rHe,{...r});case"dribbble":return o.jsx(nHe,{...r});case"behance":return o.jsx(sHe,{...r});default:return o.jsx(dA,{className:t||"h-5 w-5"})}},Up={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram",dribbble:"Dribbble",behance:"Behance"},aHe=()=>{const{user:e,logout:t,loading:r}=ir(),n=rr(),s=da(),[a,i]=m.useState(null),[l,c]=m.useState(null),[u,d]=m.useState(!0),[f,h]=m.useState(!1),[g,v]=m.useState(!1),[p,y]=m.useState(!1),[x,b]=m.useState({contact_email:""}),[w,_]=m.useState({academy_name:"",description:"",website_url:"",contact_email:""}),[S,E]=m.useState({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}),[k,j]=m.useState(!1),N=m.useRef(!1),[C,A]=m.useState(!1),[R,H]=m.useState(null),[U,D]=m.useState({platform:"",url:""}),[B,L]=m.useState(!1),[T,q]=m.useState(!1),[I,P]=m.useState(!1),[W,V]=m.useState(null),ee=m.useMemo(()=>{const xe=(Z,J)=>{if(Z&&typeof Z=="object")return Z[J]};return[xe(e,"phone_verified"),xe(e,"is_phone_verified"),xe(l,"phone_verified"),xe(l,"is_phone_verified")].some(Z=>Z===!0||Z==="true")},[e,l]),{isPhoneVerified:X,isSendingCode:ne,isVerifyingCode:F,codeSent:$,codeInput:K,resendCooldown:Y,sendCode:se,verifyCode:Q,setCodeInput:ae}=cY({phoneNumber:e==null?void 0:e.phone_number,ownerId:e==null?void 0:e.id,role:(e==null?void 0:e.user_type)??"academy",initiallyVerified:ee}),re=async()=>{try{await se(),de.info(e!=null&&e.phone_number?`We've sent a 6-digit code to ${e.phone_number}.`:"We've sent a 6-digit code to your phone.")}catch(xe){const Pe=xe instanceof Error?xe.message:"Failed to send verification code. Please try again.";de.error(Pe)}},pe=async()=>{try{await Q()&&de.success("Your phone number has been verified successfully.")}catch(xe){const Pe=xe instanceof Error?xe.message:"Verification failed. Please check the code and try again.";de.error(Pe)}};m.useEffect(()=>{e!=null&&e.profile_image&&V(e.profile_image)},[e==null?void 0:e.profile_image]),m.useEffect(()=>{(async()=>{var Z,J,fe,Fe;if(r)return;if(!e){d(!1);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){console.error(" No token available, cannot fetch academy profile"),d(!1),de.error("Please log in again to access your academy profile.");return}d(!0);try{try{const Ge=await Se.get(Ze.ACADEMY.PROFILE);if(Ge.data){const $e=Ge.data,he=lc($e,(e==null?void 0:e.id)!=null?String(e.id):void 0);i(he),_({academy_name:he.academy_name,description:he.description,website_url:he.website_url,contact_email:he.contact_email}),b({contact_email:he.contact_email}),$e.social_links&&typeof $e.social_links=="object"&&(E(Yue($e.social_links)),N.current=!0)}}catch(Ge){const $e=Ge,he=(Z=$e.response)==null?void 0:Z.status,_e=(J=$e.response)==null?void 0:J.data;if(console.log(" Academy profile API response:",{status:he,url:(fe=$e.config)==null?void 0:fe.url,hasToken:!!localStorage.getItem("authToken"),errorData:_e}),he===404)console.log(" Academy profile not found (404) - user may need to create one"),i(null);else if(he===403)console.error("Access forbidden to academy profile"),de.error("You don't have permission to access academy profile.");else if(he===401){const Be=(_e==null?void 0:_e.detail)||(_e==null?void 0:_e.message)||"";console.warn(" Academy profile returned 401",{errorDetail:Be,url:(Fe=$e.config)==null?void 0:Fe.url});const He=String(Be).toLowerCase();if(He.includes("not found")||He.includes("does not exist")||He.includes("no profile")||He.includes("user not found")){console.log(" Profile not found based on error message - treating as 404, allowing user to create profile"),i(null);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){if(console.error(" Token was cleared - checking if it's a server error or real expiration"),He.includes("academy")||He.includes("profile")){console.log(" Error mentions academy/profile - might be missing profile, allowing creation"),i(null);return}de({title:"Authentication Error",description:"Your session has expired. Please log in again.",variant:"destructive"});return}console.log(" Token exists but got 401 - treating as missing profile, allowing user to create profile"),i(null)}else console.error("Error fetching academy profile:",$e),de.error("Could not load academy profile data. Please try again.")}}catch(Ge){const $e=Ge instanceof Error?Ge.message:"Unknown error";console.error("Unexpected error in fetchProfileData:",$e),de({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}})()},[e,de,r]),m.useEffect(()=>{a&&(async()=>{var Pe,Z;if(!(!e||!a)&&(Pe=e==null?void 0:e.email)!=null&&Pe.trim()&&!N.current){j(!0);try{const J=localStorage.getItem("authToken"),fe="academy",Fe=a.id,Ge=e.email.trim(),$e=await Se.get("/api/social-links/",{headers:J?{Authorization:`Bearer ${J}`}:{},params:{role:fe,academy:Fe,user_email:Ge}});$e.data&&typeof $e.data=="object"&&!Array.isArray($e.data)?E({github:$e.data.github||"",linkedin:$e.data.linkedin||"",facebook:$e.data.facebook||"",instagram:$e.data.instagram||"",dribbble:$e.data.dribbble||"",behance:$e.data.behance||""}):E({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}catch(J){((Z=J==null?void 0:J.response)==null?void 0:Z.status)===404&&(N.current=!0),E({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}finally{j(!1)}}})()},[e,a]);const ve=async()=>{var xe;if(!e){de({title:"Error",description:"You must be logged in to update your profile.",variant:"destructive"});return}if(!w.academy_name.trim()){de({title:"Validation Error",description:"Academy name is required.",variant:"destructive"});return}y(!0);try{const Z=await Se[a?"patch":"post"](Ze.ACADEMY.PROFILE,{academy_name:w.academy_name.trim(),description:w.description.trim()||null,website_url:w.website_url.trim()||null,contact_email:w.contact_email.trim()||null});if(Z.data){const J={id:(a==null?void 0:a.id)||Z.data.id||"",academy_name:w.academy_name.trim(),description:w.description.trim()||"",website_url:w.website_url.trim()||"",contact_email:w.contact_email.trim()||"",logo_url:(a==null?void 0:a.logo_url)||Z.data.logo_url||null};i(J),_({academy_name:J.academy_name,description:J.description,website_url:J.website_url,contact_email:J.contact_email}),de.success(a?"Your academy profile has been updated.":"Your academy profile has been created."),h(!1)}}catch(Pe){const Z=Pe;let J="Failed to update profile. Please try again.";if((xe=Z.response)!=null&&xe.data){const fe=Z.response.data;J=fe.detail||fe.message||J}else Pe instanceof Error&&(J=Pe.message);console.error("Error updating academy profile:",J),de.error(J)}finally{y(!1)}},Ie=xe=>{const{id:Pe,value:Z}=xe.target;_(J=>({...J,[Pe]:Z}))},et=()=>{t(),n("/")},Je=()=>{a&&b({contact_email:a.contact_email||""}),v(!0)},dt=async()=>{var xe;if(a){y(!0);try{const Pe=await Se.patch(Ze.ACADEMY.PROFILE,{academy_name:a.academy_name,description:a.description,website_url:a.website_url||null,contact_email:x.contact_email.trim()||null});if(Pe&&Pe.data){const Z={...a,contact_email:x.contact_email.trim()||""};i(Z),_(J=>({...J,contact_email:Z.contact_email})),de.success("Contact information has been updated."),v(!1)}else throw new Error("No response data received")}catch(Pe){const Z=Pe;let J="Failed to update contact information. Please try again.";if((xe=Z.response)!=null&&xe.data){const fe=Z.response.data;J=fe.detail||fe.message||J}else Pe instanceof Error&&(J=Pe.message);console.error("Error updating contact information:",Pe),de.error(J)}finally{y(!1)}}},Ce=()=>{H(null),D({platform:"",url:""}),A(!0)},ke=xe=>{H(xe),D({platform:xe,url:S[xe]||""}),A(!0)},G=xe=>{try{const Pe=new URL(xe);return Pe.protocol==="http:"||Pe.protocol==="https:"}catch{try{const Pe=new URL(`https://${xe}`);return!0}catch{return!1}}},ce=async()=>{var Pe,Z,J;if(!e||!a||!U.platform||!U.url.trim()){de.error("Please select a platform and provide a URL.");return}const xe=U.url.trim();if(!G(xe)){de.error("Please enter a valid URL (e.g., https://example.com).");return}L(!0);try{if(U.platform==="website"){let Ue=xe;!Ue.startsWith("http://")&&!Ue.startsWith("https://")&&(Ue=`https://${Ue}`);const bt=await Se.patch(Ze.ACADEMY.PROFILE,{academy_name:a.academy_name,description:a.description,website_url:Ue||null,contact_email:a.contact_email});if(bt&&bt.data){const je={...a,website_url:Ue||""};i(je),_(ft=>({...ft,website_url:je.website_url})),de.success(R==="website"?"Website updated successfully.":"Website added successfully."),A(!1),D({platform:"",url:""}),H(null)}else throw new Error("No response data received");return}const fe=localStorage.getItem("authToken");if(!fe)throw new Error("Authentication token is missing");const Fe=U.platform,Ge="academy",$e=a.id,he=e==null?void 0:e.email;if(!$e||!he)throw new Error("Missing required information: academy ID or user email");let _e=xe;!_e.startsWith("http://")&&!_e.startsWith("https://")&&(_e=`https://${_e}`);const Be={[Fe]:_e,role:Ge,academy:$e,user_email:he};console.log(" Saving social link:",{platform:Fe,url:_e,role:Ge,academy:$e,user_email:he});let He;try{He=await Se.patch("/api/social-links/",Be,{headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json"}}),console.log(" Social link saved via PATCH:",He.data)}catch(Ue){const bt=Ue;if(((Pe=bt.response)==null?void 0:Pe.status)===404||((Z=bt.response)==null?void 0:Z.status)===400){console.log(" PATCH failed, trying POST to create new record...");try{He=await Se.post("/api/social-links/",Be,{headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json"}}),console.log(" Social link created via POST:",He.data)}catch(je){throw console.error(" Both PATCH and POST failed:",je),Ue}}else throw Ue}if(!He||!He.data)throw new Error("No response data received from server");E(Ue=>({...Ue,[Fe]:_e}));try{const Ue=await Se.get("/api/social-links/",{headers:{Authorization:`Bearer ${fe}`},params:{role:Ge,academy:$e,user_email:he}});if(Ue.data&&typeof Ue.data=="object"&&!Array.isArray(Ue.data)){const bt={github:Ue.data.github||"",linkedin:Ue.data.linkedin||"",facebook:Ue.data.facebook||"",instagram:Ue.data.instagram||"",dribbble:Ue.data.dribbble||"",behance:Ue.data.behance||""};E(bt),console.log(" Social links refreshed from server:",bt)}}catch(Ue){console.warn(" Could not refresh social links from server:",Ue)}de.success(R?"Social link updated successfully.":"Social link added successfully."),A(!1),D({platform:"",url:""}),H(null)}catch(fe){const Fe=fe;let Ge="Failed to save. Please try again.";if((J=Fe.response)!=null&&J.data){const $e=Fe.response.data;Ge=$e.detail||$e.message||Ge}else fe instanceof Error&&(Ge=fe.message);console.error("Error saving social link/website:",fe),de.error(Ge)}finally{L(!1)}},Ne=async xe=>{var Z,J,fe,Fe,Ge,$e,he;const Pe=(Z=xe.target.files)==null?void 0:Z[0];if(Pe){if(!Pe.type.startsWith("image/")){de.error("Please select an image file.");return}if(Pe.size>5*1024*1024){de.error("Image size should be less than 5MB.");return}q(!0),V(null);try{const _e=new FormData;_e.append("profile_image",Pe);const Be=localStorage.getItem("authToken"),He=await Se.patch(Ze.ACADEMY.PROFILE,_e,{headers:{Authorization:Be?`Bearer ${Be}`:void 0,"Content-Type":"multipart/form-data"}});console.log(" Image upload response:",He.data);const Ue=((J=He.data)==null?void 0:J.profile_image)||((Fe=(fe=He.data)==null?void 0:fe.profile)==null?void 0:Fe.profile_image)||(($e=(Ge=He.data)==null?void 0:Ge.user)==null?void 0:$e.profile_image)||null;V(Ue),de.success("Profile image has been updated successfully."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image uploaded successfully")}catch(_e){console.error(" Error uploading profile image:",_e);const Be=_e;let He="Failed to upload profile image. Please try again.";if((he=Be.response)!=null&&he.data){const Ue=Be.response.data;He=Ue.detail||Ue.message||He}de.error(He)}finally{q(!1)}}},qe=()=>{P(!0)},Ve=()=>{var xe;(xe=document.getElementById("profile-image-input"))==null||xe.click(),P(!1)},Re=async()=>{if(e){if(!confirm("Are you sure you want to remove your profile image?")){P(!1);return}q(!0),P(!1);try{const xe=localStorage.getItem("authToken"),Pe=await Se.patch(Ze.ACADEMY.PROFILE,{profile_image:null},{headers:{Authorization:xe?`Bearer ${xe}`:void 0}});console.log(" Image removal response:",Pe.data),V(null);const Z=await Se.get(Ze.ACADEMY.PROFILE,{headers:{Authorization:xe?`Bearer ${xe}`:void 0}});Z.data&&i(J=>J?{...J,...Z.data}:null),de.success("Profile image has been removed."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image removed successfully")}catch(xe){console.error(" Error removing profile image:",xe),de.error("Failed to remove profile image. Please try again.")}finally{q(!1)}}},it=async xe=>{var Pe;if(!(!e||!a||!confirm("Are you sure you want to remove this social link?")))try{const Z=localStorage.getItem("authToken");if(!Z)throw new Error("Authentication token is missing");const J="academy",fe=a.id,Fe=e==null?void 0:e.email;if(!fe||!Fe)throw new Error("Missing required information: academy ID or user email");console.log(" Deleting social link:",{platform:xe,role:J,academy:fe,user_email:Fe});const Ge={[xe]:"",role:J,academy:fe,user_email:Fe},$e=await Se.patch("/api/social-links/",Ge,{headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"}});if(!$e||!$e.data)throw new Error("No response data received from server");console.log(" Social link deleted:",$e.data),E(he=>({...he,[xe]:""}));try{const he=await Se.get("/api/social-links/",{headers:{Authorization:`Bearer ${Z}`},params:{role:J,academy:fe,user_email:Fe}});if(he.data&&typeof he.data=="object"&&!Array.isArray(he.data)){const _e={github:he.data.github||"",linkedin:he.data.linkedin||"",facebook:he.data.facebook||"",instagram:he.data.instagram||"",dribbble:he.data.dribbble||"",behance:he.data.behance||""};E(_e),console.log(" Social links refreshed from server after deletion:",_e)}}catch(he){console.warn(" Could not refresh social links from server:",he)}de.success("Social link removed successfully.")}catch(Z){const J=Z;let fe="Failed to remove social link. Please try again.";if((Pe=J.response)!=null&&Pe.data){const Fe=J.response.data;fe=Fe.detail||Fe.message||fe}else Z instanceof Error&&(fe=Z.message);console.error(" Error deleting social link:",Z),de.error(fe)}};return r||u?o.jsx(At,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto mb-2"}),o.jsx("p",{children:"Loading profile..."})]})})}):!a&&!u?o.jsxs(At,{children:[o.jsxs("div",{className:"flex flex-col justify-center items-center h-64 space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your academy profile hasn't been set up yet."}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(oe,{onClick:()=>h(!0),children:"Create Profile"}),o.jsx(oe,{variant:"outline",onClick:()=>n("/academy/settings"),children:"Go to Settings"})]})]}),o.jsx(Rs,{open:f,onOpenChange:h,children:o.jsxs(ms,{children:[o.jsxs($s,{children:[o.jsx(Ms,{children:"Create Academy Profile"}),o.jsx(lf,{children:"Enter your academy's information to create your profile. Click save when you're done."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(De,{htmlFor:"academy_name",className:"text-right",children:"Academy Name *"}),o.jsx(rt,{id:"academy_name",value:w.academy_name,onChange:Ie,className:"col-span-3",placeholder:"Enter academy name"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(De,{htmlFor:"description",className:"text-right",children:"Description"}),o.jsx(sy,{id:"description",value:w.description,onChange:Ie,className:"col-span-3",placeholder:"Describe your academy"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(De,{htmlFor:"website_url",className:"text-right",children:"Website URL"}),o.jsx(rt,{id:"website_url",value:w.website_url,onChange:Ie,className:"col-span-3",placeholder:"https://example.com"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(De,{htmlFor:"contact_email",className:"text-right",children:"Contact Email"}),o.jsx(rt,{id:"contact_email",type:"email",value:w.contact_email,onChange:Ie,className:"col-span-3",placeholder:"contact@academy.com"})]})]}),o.jsxs(Qa,{children:[o.jsx(oe,{variant:"outline",onClick:()=>h(!1),disabled:p,children:"Cancel"}),o.jsx(oe,{onClick:ve,disabled:p,children:p?"Creating...":"Create Profile"})]})]})})]}):o.jsx(At,{children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(Oe,{children:o.jsxs(Me,{className:"flex flex-col items-center pb-6 pt-6",children:[o.jsxs("div",{className:"relative group cursor-pointer",onClick:qe,children:[o.jsx(lg,{src:W||(e==null?void 0:e.profile_image)||(l==null?void 0:l.profile_image)||void 0,alt:(a==null?void 0:a.academy_name)||"Academy",fallback:a!=null&&a.academy_name?a.academy_name.charAt(0).toUpperCase():e!=null&&e.first_name?e.first_name.charAt(0).toUpperCase():e!=null&&e.email?e.email.charAt(0).toUpperCase():"A",size:"xl",loading:"lazy",className:"h-32 w-32"}),T?o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-3xl z-10",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity z-10 pointer-events-none",children:o.jsx(nz,{className:"h-8 w-8 text-white"})})]}),o.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:Ne,disabled:T,className:"hidden"}),((e==null?void 0:e.first_name)||(e==null?void 0:e.last_name))&&o.jsx("h1",{className:"text-2xl font-bold mt-4 text-center",children:`${e.first_name||""} ${e.last_name||""}`.trim()}),(a==null?void 0:a.academy_name)&&o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2 text-center",children:a.academy_name}),o.jsxs("div",{className:"mt-4 flex items-center gap-2 w-full",children:[o.jsxs(oe,{variant:"outline",className:"flex-[4] flex items-center justify-center gap-2",onClick:()=>n("/academy/settings"),children:[o.jsx(Vw,{size:16}),"Settings"]}),o.jsx(oe,{variant:"outline",onClick:et,className:"flex-[1] flex items-center justify-center border-breneo-danger text-breneo-danger hover:bg-breneo-danger/10",children:o.jsx(az,{size:16})})]})]})}),o.jsxs(Oe,{children:[o.jsxs(yt,{className:"flex flex-row items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Contact Information"}),a&&o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:Je,children:o.jsx(xo,{size:16,className:"text-breneo-blue"})})]}),o.jsxs(Me,{className:"space-y-4",children:[(e==null?void 0:e.phone_number)&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(hg,{size:18,className:"text-breneo-blue"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[o.jsx("span",{className:"text-sm",children:e.phone_number}),o.jsx(Pt,{variant:X?"secondary":"outline",className:X?"mt-1 sm:mt-0 bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300":"mt-1 sm:mt-0 border-orange-300 text-orange-600",children:X?"Verified":"Unverified"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx($u,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:(e==null?void 0:e.email)||"Not provided"})]}),(a==null?void 0:a.contact_email)&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx($u,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:a.contact_email})]}),!X&&o.jsx(uQ,{className:"border-orange-300 bg-orange-50 dark:border-orange-900/60 dark:bg-orange-950/30",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(ug,{className:"h-5 w-5 text-orange-600 mt-1"}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{children:[o.jsx(dQ,{children:"Verify your phone number"}),o.jsx(fQ,{children:"Confirm your phone number to ensure students and partners can trust your academy."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[o.jsx(oe,{onClick:re,disabled:!(e!=null&&e.phone_number)||ne||$&&Y>0,children:ne?"Sending...":$?"Resend code":"Send verification code"}),Y>0&&o.jsxs("span",{className:"text-xs text-orange-700 dark:text-orange-300",children:["You can request a new code in ",Y,"s"]})]}),$&&o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[o.jsx(rt,{inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"Enter 6-digit code",value:K,onChange:xe=>ae(xe.target.value.replace(/\D/g,"").slice(0,6)),className:"sm:max-w-[200px]"}),o.jsx(oe,{onClick:pe,disabled:K.length!==6||F,children:F?"Verifying...":"Verify"})]}),!(e!=null&&e.phone_number)&&o.jsx("div",{className:"pt-2",children:o.jsx(oe,{variant:"outline",size:"sm",onClick:()=>n("/academy/settings"),children:"Add phone number in settings"})})]})]})]})})]})]}),o.jsxs(Oe,{children:[o.jsxs(yt,{className:"flex flex-row items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Social Networks"}),a&&o.jsxs(oe,{variant:"link",className:"text-breneo-blue p-0 h-auto flex items-center gap-1",onClick:Ce,children:[o.jsx(Ww,{size:16}),"Add"]})]}),o.jsx(Me,{children:k?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading..."}):o.jsx("div",{className:"space-y-3",children:Object.entries(S).some(([xe,Pe])=>Pe&&Pe.trim()!=="")?Object.entries(S).filter(([xe,Pe])=>Pe&&Pe.trim()!=="").map(([xe,Pe])=>o.jsxs("div",{className:"flex items-center justify-between group",children:[o.jsxs("a",{href:Pe,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 hover:text-breneo-blue transition-colors",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:Vj(xe,"h-[18px] w-[18px] text-breneo-blue")}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:Up[xe]})}),o.jsx(dg,{size:14,className:"text-gray-400 group-hover:text-breneo-blue"})]}),o.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>ke(xe),children:o.jsx(xo,{size:14})}),o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",onClick:()=>it(xe),children:o.jsx(hu,{size:14})})]})]},xe)):o.jsx("div",{className:"text-center py-4 text-gray-500",children:'No social links added yet. Click "Add" to add your social media profiles or website.'})})})]})]}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs(Oe,{children:[o.jsxs(yt,{className:"flex flex-row items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Academy Information"}),a&&o.jsxs(oe,{variant:"link",className:"text-breneo-blue p-0 h-auto",onClick:()=>h(!0),children:[o.jsx(xo,{size:16,className:"mr-1"}),"Edit"]})]}),o.jsxs(Me,{className:"space-y-4",children:[(a==null?void 0:a.academy_name)&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:"font-semibold",children:"Academy Name"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:a.academy_name})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:"font-semibold",children:"Description"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:(a==null?void 0:a.description)||"No description provided."})]})]})]})}),o.jsx(Rs,{open:f,onOpenChange:h,children:o.jsxs(ms,{children:[o.jsxs($s,{children:[o.jsx(Ms,{children:"Edit Academy Profile"}),o.jsx(lf,{children:"Make changes to your academy's information here. Click save when you're done."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(De,{htmlFor:"academy_name",className:"text-right",children:"Academy Name"}),o.jsx(rt,{id:"academy_name",value:w.academy_name,onChange:Ie,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(De,{htmlFor:"description",className:"text-right",children:"Description"}),o.jsx(sy,{id:"description",value:w.description,onChange:Ie,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(De,{htmlFor:"website_url",className:"text-right",children:"Website URL"}),o.jsx(rt,{id:"website_url",value:w.website_url,onChange:Ie,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(De,{htmlFor:"contact_email",className:"text-right",children:"Contact Email"}),o.jsx(rt,{id:"contact_email",type:"email",value:w.contact_email,onChange:Ie,className:"col-span-3"})]})]}),o.jsxs(Qa,{children:[o.jsx(oe,{variant:"outline",onClick:()=>h(!1),disabled:p,children:"Cancel"}),o.jsx(oe,{onClick:ve,disabled:p,children:p?"Saving...":"Save Changes"})]})]})}),s?o.jsx(Fi,{open:g,onOpenChange:v,children:o.jsxs(Bi,{children:[o.jsx(Ui,{children:o.jsx(zi,{children:"Edit Contact Information"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"contact_email_mobile",children:"Contact Email"}),o.jsx(rt,{id:"contact_email_mobile",type:"email",value:x.contact_email,disabled:!0,className:"bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"contact@academy.com"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed or deleted"})]})})}),o.jsxs(Uo,{className:"pt-4",children:[o.jsx(oe,{onClick:dt,disabled:p,children:p?"Saving...":"Save Changes"}),o.jsx(pg,{asChild:!0,children:o.jsx(oe,{variant:"outline",disabled:p,children:"Cancel"})})]})]})}):o.jsx(Rs,{open:g,onOpenChange:v,children:o.jsxs(ms,{children:[o.jsxs($s,{children:[o.jsx(Ms,{children:"Edit Contact Information"}),o.jsx(lf,{children:"Update your contact information. Email cannot be changed."})]}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"contact_email",children:"Contact Email"}),o.jsx(rt,{id:"contact_email",type:"email",value:x.contact_email,disabled:!0,className:"bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"contact@academy.com"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed or deleted"})]})})}),o.jsxs(Qa,{children:[o.jsx(oe,{variant:"outline",onClick:()=>v(!1),disabled:p,children:"Cancel"}),o.jsx(oe,{onClick:dt,disabled:p,children:p?"Saving...":"Save Changes"})]})]})}),s?o.jsx(Fi,{open:C,onOpenChange:A,children:o.jsxs(Bi,{children:[o.jsx(Ui,{children:o.jsx(zi,{children:R==="website"?"Edit Website":R?"Edit Social Link":"Add Link"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"social-platform-mobile",children:"Platform *"}),o.jsxs(ko,{value:U.platform,onValueChange:xe=>D({...U,platform:xe}),disabled:B||!!R,children:[o.jsx(Oi,{className:"mt-2",children:o.jsx(Eo,{placeholder:"Select a platform"})}),o.jsxs(Ri,{children:[o.jsx(_r,{value:"website",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cc,{className:"h-4 w-4"}),o.jsx("span",{children:"Website"})]})}),Object.keys(Up).map(xe=>o.jsx(_r,{value:xe,children:o.jsxs("div",{className:"flex items-center gap-2",children:[Vj(xe,"h-4 w-4"),o.jsx("span",{children:Up[xe]})]})},xe))]})]})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"social-url-mobile",children:"URL *"}),o.jsx(rt,{id:"social-url-mobile",type:"url",placeholder:"https://...",value:U.url,onChange:xe=>D({...U,url:xe.target.value}),className:"mt-2",disabled:B,required:!0})]})]})}),o.jsxs(Uo,{children:[o.jsx(oe,{onClick:ce,disabled:B,children:B?"Saving...":R?"Update":"Add"}),o.jsx(pg,{asChild:!0,children:o.jsx(oe,{variant:"outline",disabled:B,children:"Cancel"})})]})]})}):o.jsx(Rs,{open:C,onOpenChange:A,children:o.jsxs(ms,{children:[o.jsx($s,{children:o.jsx(Ms,{children:R==="website"?"Edit Website":R?"Edit Social Link":"Add Link"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"social-platform-desktop",children:"Platform *"}),o.jsxs(ko,{value:U.platform,onValueChange:xe=>D({...U,platform:xe}),disabled:B||!!R,children:[o.jsx(Oi,{className:"mt-2",children:o.jsx(Eo,{placeholder:"Select a platform"})}),o.jsxs(Ri,{children:[o.jsx(_r,{value:"website",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cc,{className:"h-4 w-4"}),o.jsx("span",{children:"Website"})]})}),Object.keys(Up).map(xe=>o.jsx(_r,{value:xe,children:o.jsxs("div",{className:"flex items-center gap-2",children:[Vj(xe,"h-4 w-4"),o.jsx("span",{children:Up[xe]})]})},xe))]})]})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"social-url-desktop",children:"URL *"}),o.jsx(rt,{id:"social-url-desktop",type:"url",placeholder:"https://...",value:U.url,onChange:xe=>D({...U,url:xe.target.value}),className:"mt-2",disabled:B,required:!0})]})]})}),o.jsxs(Qa,{children:[o.jsx(oe,{variant:"outline",onClick:()=>{A(!1),D({platform:"",url:""}),H(null)},disabled:B,children:"Cancel"}),o.jsx(oe,{onClick:ce,disabled:B,children:B?"Saving...":R?"Update":"Add"})]})]})}),s?o.jsx(Fi,{open:I,onOpenChange:P,children:o.jsxs(Bi,{children:[o.jsx(Ui,{children:o.jsx(zi,{children:"Profile Photo"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs(oe,{onClick:Ve,className:"w-full justify-start gap-3",variant:"ghost",disabled:T,children:[o.jsx(GE,{className:"h-5 w-5"}),W||e!=null&&e.profile_image?"Update Photo":"Upload Photo"]}),W||e!=null&&e.profile_image?o.jsxs(oe,{onClick:Re,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:T,children:[o.jsx(hu,{className:"h-5 w-5"}),"Remove Photo"]}):null]})})]})}):o.jsx(Rs,{open:I,onOpenChange:P,children:o.jsxs(ms,{children:[o.jsx($s,{children:o.jsx(Ms,{children:"Profile Photo"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs(oe,{onClick:Ve,className:"w-full justify-start gap-3",variant:"ghost",disabled:T,children:[o.jsx(GE,{className:"h-5 w-5"}),W||e!=null&&e.profile_image?"Update Photo":"Upload Photo"]}),W||e!=null&&e.profile_image?o.jsxs(oe,{onClick:Re,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:T,children:[o.jsx(hu,{className:"h-5 w-5"}),"Remove Photo"]}):null]})}),o.jsx(Qa,{children:o.jsx(oe,{variant:"outline",onClick:()=>P(!1),children:"Cancel"})})]})})]})})};function iHe(){const{user:e,loading:t,logout:r}=ir(),{theme:n,setTheme:s}=Ko();J9();const a=Vs(),[i,l]=m.useState(!1),[c,u]=m.useState(!0),[d,f]=m.useState(!0),[h,g]=m.useState(!0),[v,p]=m.useState(!0),[y,x]=m.useState(!1),[b,w]=m.useState(!1);m.useState(!1);const[_,S]=m.useState(null),[E,k]=m.useState(!0),[j,N]=m.useState(""),[C,A]=m.useState(""),[R,H]=m.useState(""),[U,D]=m.useState(""),[B,L]=m.useState(""),[T,q]=m.useState(null);m.useState(1),m.useState(""),m.useState(""),m.useState(""),m.useState(!1),m.useEffect(()=>{l(!0);const ee=localStorage.getItem("pref_sound_effects"),X=localStorage.getItem("pref_animations"),ne=localStorage.getItem("pref_motivational_messages"),F=localStorage.getItem("pref_listening_exercises");ee!==null&&u(ee==="true"),X!==null&&f(X==="true"),ne!==null&&g(ne==="true"),F!==null&&p(F==="true")},[]),m.useEffect(()=>{i&&localStorage.setItem("pref_sound_effects",String(c))},[c,i]),m.useEffect(()=>{i&&localStorage.setItem("pref_animations",String(d))},[d,i]),m.useEffect(()=>{i&&localStorage.setItem("pref_motivational_messages",String(h))},[h,i]),m.useEffect(()=>{i&&localStorage.setItem("pref_listening_exercises",String(v))},[v,i]),m.useEffect(()=>{(async()=>{var ne,F;if(t)return;if(!e){k(!1);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){console.error(" No token available, cannot fetch academy profile"),k(!1),de.error("Authentication Error: Please log in again to access academy settings.");return}try{A(e.phone_number||"");try{const $=await Se.get(Ze.ACADEMY.PROFILE);if($.data){const K=$.data;console.log(" Academy profile data:",K);const Y=lc(K,(e==null?void 0:e.id)!=null?String(e.id):void 0);q(Y),N(Y.academy_name),H(Y.website_url),D(Y.contact_email)}}catch($){const K=$,Y=(ne=K.response)==null?void 0:ne.status,se=(F=K.response)==null?void 0:F.data;if(Y===404)console.log(" Academy profile not found (404) - user may need to create one"),q(null);else if(Y===401){const Q=(se==null?void 0:se.detail)||(se==null?void 0:se.message)||"",ae=String(Q).toLowerCase();ae.includes("not found")||ae.includes("does not exist")||ae.includes("user not found")?(console.log(" Profile not found based on error message - treating as 404"),q(null)):(console.warn(" Academy profile returned 401:",Q),q(null))}else Y===403?(console.error("Access forbidden to academy profile"),de.error("Access Denied: You don't have permission to access academy settings.")):(console.error("Error fetching academy profile:",K),de.error("Error fetching profile: Could not load academy profile data. Please try again."))}}catch($){console.error("Unexpected error fetching academy data:",$),de.error("Failed to load academy data")}finally{k(!1)}})()},[e,t]),m.useEffect(()=>()=>{_&&URL.revokeObjectURL(_)},[_]),m.useEffect(()=>{y||L("")},[y]);const I=ee=>{if(!ee)return!0;const X=/^\+?[\d\s\-().]{7,15}$/,ne=ee.replace(/\D/g,"");return X.test(ee)?ne.length<7?(L("Phone number must contain at least 7 digits"),!1):ne.length>15?(L("Phone number must not exceed 15 digits"),!1):(L(""),!0):(L("Phone number can only contain digits, spaces, hyphens, parentheses, and dots, optionally starting with +"),!1)},P=async ee=>{var ne;if(ee.preventDefault(),!(j!==((T==null?void 0:T.academy_name)||"")||C!==((e==null?void 0:e.phone_number)||"")||R!==((T==null?void 0:T.website_url)||"")||U!==((T==null?void 0:T.contact_email)||""))){de.info("No changes to save.");return}if(!j.trim()){de.error("Academy name is required.");return}if(I(C)){if(w(!0),!e||!e.id){de.error("User ID not found. Please log in again."),w(!1);return}try{C!==((e==null?void 0:e.phone_number)||"")&&(await Se.patch(Ze.AUTH.PROFILE,{phone_number:C}),console.log("Phone number updated successfully"));try{const F=T?"patch":"post",$={academy_name:j.trim(),description:(T==null?void 0:T.description)||"",website_url:R.trim()||null,contact_email:U.trim()||null},K=await Se[F](Ze.ACADEMY.PROFILE,$);if(K.data){const Y=lc(K.data,(e==null?void 0:e.id)!=null?String(e.id):void 0),se={...Y,academy_name:j.trim(),description:Y.description||(T==null?void 0:T.description)||"",website_url:R.trim()||Y.website_url,contact_email:U.trim()||Y.contact_email};q(se),console.log(" Academy profile updated successfully:",se)}}catch(F){console.error("Error updating academy profile:",F);const $=F;let K="Failed to update academy profile. Please try again.";if((ne=$.response)!=null&&ne.data){const Y=$.response.data;K=Y.detail||Y.message||K}else F instanceof Error&&(K=F.message);throw new Error(K)}de.success("Profile updated successfully!"),x(!1),setTimeout(()=>{window.location.reload()},500)}catch(F){console.error("Error updating profile:",F);let $="Failed to update profile.";Zt.isAxiosError(F)&&F.response?$=F.response.data.detail||F.response.data.message||"An error occurred.":F instanceof Error&&($=F.message),de.error($)}finally{w(!1)}}},W=()=>{r()};if(E||t)return o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("p",{className:"text-muted-foreground",children:"Loading academy settings..."})})});const V=n==="dark"?"ON":"OFF";return o.jsx(At,{children:o.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:o.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_400px]",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Preferences"}),o.jsxs(Oe,{children:[o.jsxs(yt,{children:[o.jsx(Nt,{children:"Profile Information"}),o.jsx(Fr,{children:"Update your academy name and phone number"})]}),o.jsx(Me,{className:"space-y-4",children:o.jsxs("form",{onSubmit:ee=>{ee.preventDefault(),P(ee)},className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"academyName",children:"Academy Name"}),o.jsx(rt,{id:"academyName",value:j,onChange:ee=>{x(!0),N(ee.target.value)},placeholder:"Enter your academy name",disabled:b,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"phoneNumber",children:"Phone Number"}),o.jsx(rt,{id:"phoneNumber",value:C,onChange:ee=>{x(!0);const X=ee.target.value;A(X),X?I(X):L("")},placeholder:"Enter your phone number",disabled:b}),B&&o.jsx("p",{className:"text-sm text-destructive",children:B})]}),o.jsx(mf,{}),o.jsx(oe,{type:"submit",disabled:b,children:b?"Saving...":"Save Changes"})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Lesson experience"}),o.jsx(mf,{})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(De,{htmlFor:"sound-effects",className:"text-base font-normal",children:"Sound effects"}),o.jsx(hs,{id:"sound-effects",checked:c,onCheckedChange:u})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(De,{htmlFor:"animations",className:"text-base font-normal",children:"Animations"}),o.jsx(hs,{id:"animations",checked:d,onCheckedChange:f})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(De,{htmlFor:"motivational-messages",className:"text-base font-normal",children:"Motivational messages"}),o.jsx(hs,{id:"motivational-messages",checked:h,onCheckedChange:g})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(De,{htmlFor:"listening-exercises",className:"text-base font-normal",children:"Listening exercises"}),o.jsx(hs,{id:"listening-exercises",checked:v,onCheckedChange:p})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Appearance"}),o.jsx(mf,{})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(De,{htmlFor:"dark-mode",className:"text-base font-normal",children:"Dark mode"}),o.jsxs(ko,{value:n||"light",onValueChange:ee=>s(ee),children:[o.jsx(Oi,{id:"dark-mode",className:"w-32",children:o.jsx(Eo,{children:V})}),o.jsxs(Ri,{children:[o.jsx(_r,{value:"light",children:"OFF"}),o.jsx(_r,{value:"dark",children:"ON"})]})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(dC,{}),o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsx(Nt,{className:"text-lg",children:"Account"})}),o.jsxs(Me,{className:"space-y-2",children:[o.jsx(Wr,{to:"/academy/settings",className:`block text-sm transition-colors ${a.pathname==="/academy/settings"?"text-primary font-medium":"text-foreground hover:text-primary"}`,children:"Preferences"}),o.jsx(Wr,{to:"/academy/profile",className:`block text-sm transition-colors ${a.pathname==="/academy/profile"?"text-primary font-medium":"text-foreground hover:text-primary"}`,children:"Profile"}),o.jsx(Wr,{to:"/academy/profile",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Privacy settings"})]})]}),o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsx(Nt,{className:"text-lg",children:"Subscription"})}),o.jsx(Me,{children:o.jsx(Wr,{to:"/academy/settings?upgrade=true",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Choose a plan"})})]}),o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsx(Nt,{className:"text-lg",children:"Support"})}),o.jsx(Me,{children:o.jsx(Wr,{to:"/help",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Help Center"})})]}),o.jsx(oe,{variant:"link",onClick:W,className:"w-full text-primary hover:text-primary/80 justify-center",children:"LOG OUT"})]})]})})})}const oHe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),lHe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),cHe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),uHe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),dHe=(e,t)=>{const r={className:t};switch(e){case"github":return o.jsx(oHe,{...r});case"linkedin":return o.jsx(lHe,{...r});case"facebook":return o.jsx(cHe,{...r});case"instagram":return o.jsx(uHe,{...r});default:return o.jsx(dA,{className:t})}},fHe={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram"},hHe=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),pHe=()=>{const{academySlug:e}=Ch();ir();const t=rr(),r=e?/^\d+$/.test(e):!1,n=e?hHe(e)||r:!1,s=n?e:null,a=n?null:e,i=v=>{if(!v)return{id:""};const p=x=>{for(const b of x){const w=v[b];if(w!=null){if(typeof w=="string"&&w.trim())return w;if(typeof w=="number")return String(w)}}};return{id:v.id!==null&&v.id!==void 0?String(v.id):v.academy_id!==null&&v.academy_id!==void 0?String(v.academy_id):"",user_id:v.user_id,academy_name:p(["academy_name","name","academyName","first_name","firstName"])||void 0,description:p(["description","desc"])||void 0,website_url:p(["website_url","website","websiteUrl","url"])||void 0,contact_email:p(["contact_email","email","contactEmail","contact_mail"])||void 0,phone_number:p(["phone_number","phone","phoneNumber"])||void 0,is_verified:v.is_verified||v.isVerified||v.verified||!1,logo_url:p(["logo_url","logoUrl","logo","profile_image_url","profileImageUrl","profile_photo_url","profilePhotoUrl","image"])||void 0,profile_photo_url:p(["profile_image_url","profileImageUrl","profile_photo_url","profilePhotoUrl","profile_photo","profilePhoto","image","logo_url","logoUrl","logo"])||void 0,social_links:v.social_links||void 0}},{data:l,isLoading:c,error:u}=Wt({queryKey:["academy-profile",s||a],queryFn:async()=>{var w,_,S,E,k,j;if(!e)return null;let v=null,p=null;try{let N;if(n&&s)p=s,N=await Se.get(`/api/academy/${s}/`),console.log(" Academy profile fetched by ID:",{academyId:s,rawData:N.data,hasProfileData:!!((w=N.data)!=null&&w.profile_data)}),(_=N.data)!=null&&_.profile_data?(v=N.data.profile_data,console.log(" Using profile_data from response:",v)):v=N.data;else if(a)N=await Se.get(`/api/academy/${a}/`),console.log(" Academy profile fetched by slug:",{academySlug:a,rawData:N.data,hasProfileData:!!((S=N.data)!=null&&S.profile_data)}),(E=N.data)!=null&&E.profile_data?(v=N.data.profile_data,console.log(" Using profile_data from response:",v)):v=N.data,(v==null?void 0:v.id)!==null&&(v==null?void 0:v.id)!==void 0?p=String(v.id):v!=null&&v.academy_id&&(p=String(v.academy_id));else return null}catch(N){if(a)try{const C=await Se.get(`/api/academies/${a}/`);console.log(" Academy profile fetched (plural endpoint):",{academySlug:a,rawData:C.data,hasProfileData:!!((k=C.data)!=null&&k.profile_data)}),(j=C.data)!=null&&j.profile_data?v=C.data.profile_data:v=C.data,(v==null?void 0:v.id)!==null&&(v==null?void 0:v.id)!==void 0?p=String(v.id):v!=null&&v.academy_id&&(p=String(v.academy_id))}catch(C){console.error(" Error fetching academy profile:",{singularError:N,pluralError:C,academySlug:a,endpointsTried:[`/api/academy/${a}/`,`/api/academies/${a}/`]})}else console.error(" Error fetching academy profile by ID:",{error:N,academyId:s,endpoint:`/api/academy/${s}/`})}const y=v?i(v):null;let x=null;if(p||y!=null&&y.id){const N=p||(y==null?void 0:y.id);try{const{data:C,error:A}=await Yt.from("academy_profiles").select("id, academy_name, description, website_url, contact_email, logo_url, is_verified, user_id").eq("id",N).single();A?console.warn(" Error fetching academy profile from Supabase:",A):C&&(x=C,console.log(" Academy profile fetched from Supabase:",x))}catch(C){console.warn(" Error fetching from Supabase:",C)}}if(!y&&!x&&v===null&&!p)throw new Error("Academy not found");const b={id:(y==null?void 0:y.id)||(x==null?void 0:x.id)||p||"",user_id:(y==null?void 0:y.user_id)||(x==null?void 0:x.user_id),academy_name:(y==null?void 0:y.academy_name)||(x==null?void 0:x.academy_name)||void 0,description:(y==null?void 0:y.description)||(x==null?void 0:x.description)||void 0,website_url:(y==null?void 0:y.website_url)||(x==null?void 0:x.website_url)||void 0,contact_email:(y==null?void 0:y.contact_email)||(x==null?void 0:x.contact_email)||void 0,phone_number:(y==null?void 0:y.phone_number)||void 0,is_verified:(y==null?void 0:y.is_verified)??(x==null?void 0:x.is_verified)??!1,logo_url:(y==null?void 0:y.logo_url)||(y==null?void 0:y.profile_photo_url)||(x==null?void 0:x.logo_url)||void 0,profile_photo_url:(y==null?void 0:y.profile_photo_url)||(y==null?void 0:y.logo_url)||(x==null?void 0:x.logo_url)||void 0,social_links:(y==null?void 0:y.social_links)||void 0};if(!b.academy_name&&!b.id)throw new Error("Academy not found");return console.log(" Merged academy profile:",b),b},enabled:!!e,retry:1}),{data:d,isLoading:f,error:h}=Wt({queryKey:["academy-courses",l==null?void 0:l.id,s||a],queryFn:async()=>{const v=(l==null?void 0:l.id)||s;if(!v)return console.warn(" No academy ID available to fetch courses"),[];try{const{data:p,error:y}=await Yt.from("courses").select("*").eq("academy_id",v).order("created_at",{ascending:!1});if(y)throw console.error(" Error fetching courses from Supabase:",y),y;return console.log(" Academy courses fetched from Supabase:",{academyId:v,courseCount:(p==null?void 0:p.length)||0}),Array.isArray(p)?p.map(x=>({...x,topics:x.topics||[],required_skills:x.required_skills||[]})):[]}catch(p){return console.error(" Error fetching courses from Supabase:",p),[]}},enabled:!!(l!=null&&l.id||s),retry:1});if(!e)return o.jsx(At,{children:o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("p",{className:"text-red-500",children:"Academy ID or slug is required"}),o.jsx(Wr,{to:"/courses",children:o.jsxs(oe,{variant:"outline",className:"mt-4",children:[o.jsx(xm,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})]})});const g=(l==null?void 0:l.academy_name)||(a?oVe(a):"Loading Academy...");return o.jsx(At,{children:o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{className:"animate-pulse space-y-6",children:[o.jsx("div",{className:"h-10 w-64 bg-gray-200 rounded"}),o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded"})}),o.jsx(Me,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 w-3/4 bg-gray-200 rounded"})]})})]})]})}),o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(Oe,{children:o.jsx(Me,{className:"p-6",children:o.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[o.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-3xl mb-6"}),o.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded mb-2"}),o.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded mb-4"}),o.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded"})]})})}),o.jsx(Oe,{children:o.jsx(Me,{className:"p-4",children:o.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded mx-auto"})})})]})]}):l?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(Oe,{children:o.jsxs(Me,{className:"flex flex-col items-center pb-6 pt-6",children:[o.jsx("div",{className:"relative",children:o.jsx(lg,{src:l.profile_photo_url||l.logo_url||void 0,alt:l.academy_name||"Academy",fallback:l.academy_name?l.academy_name.charAt(0).toUpperCase():"A",size:"xl",loading:"lazy",className:"h-32 w-32"})}),l.academy_name&&o.jsx("h1",{className:"text-2xl font-bold mt-4 text-center",children:l.academy_name}),l.is_verified&&o.jsx(Pt,{className:"bg-green-100 text-green-800 hover:bg-green-100 mt-2",children:"Verified"}),o.jsxs("div",{className:"mt-4 text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:(d==null?void 0:d.length)||0}),o.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total courses"})]})]})}),o.jsx(Oe,{children:o.jsx(Me,{className:"p-4 text-center",children:o.jsx(Pt,{variant:"outline",className:"text-xs uppercase tracking-wider",children:"ACADEMY"})})}),o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsx("h3",{className:"text-lg font-bold",children:"Contact Information"})}),o.jsxs(Me,{className:"space-y-4",children:[l.phone_number&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(hg,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:l.phone_number})]}),l.contact_email&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx($u,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:l.contact_email})]}),l.website_url&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(cc,{size:18,className:"text-breneo-blue"})}),o.jsxs("a",{href:l.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-breneo-blue hover:underline flex items-center gap-1",children:[l.website_url,o.jsx(dg,{size:14})]})]})]})]}),l.social_links&&(l.social_links.github||l.social_links.linkedin||l.social_links.facebook||l.social_links.instagram)&&o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsx("h3",{className:"text-lg font-bold",children:"Social Networks"})}),o.jsx(Me,{children:o.jsx("div",{className:"space-y-3",children:Object.entries(l.social_links).filter(([v,p])=>p&&p.trim()!=="").map(([v,p])=>o.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 hover:text-breneo-blue transition-colors",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:dHe(v,"h-[18px] w-[18px] text-breneo-blue")}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:fHe[v]})}),o.jsx(dg,{size:14,className:"text-gray-400"})]},v))})})]})]}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx("div",{className:"mb-4",children:o.jsx(Wr,{to:"/courses",children:o.jsxs(oe,{variant:"ghost",className:"text-breneo-blue hover:text-breneo-blue/80 mb-4",children:[o.jsx(xm,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})}),o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"About me"})}),o.jsx(Me,{children:o.jsx("div",{className:"text-gray-700 leading-relaxed space-y-3",children:l.description?o.jsx("p",{children:l.description}):o.jsx("p",{className:"text-gray-400 italic",children:"No description available"})})})]}),o.jsxs(Oe,{children:[o.jsx(yt,{children:o.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["My courses (",(d==null?void 0:d.length)||0,")"]})}),o.jsx(Me,{children:f?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-gray-500",children:"Loading courses..."})}):d&&d.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:d.map(v=>o.jsxs(Oe,{className:"overflow-hidden",children:[o.jsx("div",{className:"h-40 overflow-hidden",children:o.jsx("img",{src:v.image?v.image:"/lovable-uploads/no_photo.png",alt:v.title,className:"w-full h-full object-cover",onError:p=>{const y=p.target;y.src.includes("/lovable-uploads/no_photo.png")||(y.onerror=null,y.src="/lovable-uploads/no_photo.png")}})}),o.jsxs(Me,{className:"p-5",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"font-medium text-lg",children:v.title}),v.popular&&o.jsx(Pt,{variant:"outline",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:"Popular"})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-500",children:[o.jsx("span",{children:v.level}),o.jsx("span",{children:""}),o.jsx("span",{children:v.duration}),o.jsx("span",{children:""}),o.jsx("span",{children:v.category})]}),o.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-2",children:v.description}),o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.topics.slice(0,3).map((p,y)=>o.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:p},y)),v.topics.length>3&&o.jsxs("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:["+",v.topics.length-3," more"]})]})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.required_skills.slice(0,2).map((p,y)=>o.jsx("span",{className:"bg-breneo-blue/10 text-breneo-blue text-xs px-2 py-1 rounded",children:p},y)),v.required_skills.length>2&&o.jsxs("span",{className:"bg-breneo-blue/10 text-breneo-blue text-xs px-2 py-1 rounded",children:["+",v.required_skills.length-2]})]}),o.jsx(oe,{size:"sm",variant:v.enrolled?"outline":"default",className:v.enrolled?"":"bg-breneo-blue hover:bg-breneo-blue/90",onClick:()=>{v.enrolled||t(`/course/${v.id}`)},children:v.enrolled?"Continue":"Enroll"})]})]})]},v.id))}):o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-3xl border",children:[o.jsxs("p",{className:"text-gray-500 mb-4",children:["No courses found for ",g]}),o.jsx(Wr,{to:"/courses",children:o.jsx(oe,{variant:"outline",children:"Browse All Courses"})})]})})]})]})]}):u||!l?o.jsx("div",{className:"lg:col-span-3",children:o.jsx(Oe,{className:"border-red-200",children:o.jsx(Me,{className:"p-6 text-center",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-breneo-navy mb-4",children:"Academy Not Found"}),o.jsx("p",{className:"text-red-600 mb-4 text-lg",children:"Cannot find an academy"}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:u instanceof Error?u.message==="Academy not found"||u.message.includes("not found")||u.message.includes("404")?"The academy you're looking for doesn't exist or has been removed.":`Error: ${u.message}`:"The academy you're looking for doesn't exist or has been removed."}),e&&o.jsx("p",{className:"text-gray-500 text-xs mb-6",children:n?`Academy ID: ${s}`:`Academy Slug: ${a}`}),o.jsx(Wr,{to:"/courses",children:o.jsxs(oe,{variant:"default",children:[o.jsx(xm,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})]})})})}):null})})},mHe=()=>{const e=rr();Ko();const[t,r]=m.useState(!1),[n,s]=m.useState(1),[a,i]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState(""),[g,v]=m.useState(""),[p,y]=m.useState(""),[x,b]=m.useState(!1),[w,_]=m.useState(!1),[S,E]=m.useState(sn.find(B=>B.code==="GE")),[k,j]=m.useState(!1),[N,C]=m.useState(!1),[A,R]=m.useState(!1);m.useEffect(()=>{r(!0)},[]);const H=m.useCallback(B=>new Promise((L,T)=>{const q=new Image;q.onload=()=>L(),q.onerror=()=>T(new Error(`Failed to load image: ${B}`)),q.src=B}),[]);m.useEffect(()=>{(async()=>{try{await Promise.all([H("/lovable-uploads/Breneo-logo.png"),H("/lovable-uploads/Breneo-logo-dark.png"),H("/lovable-uploads/academy.png")])}catch(L){console.warn("Some images failed to preload:",L),R(!0)}})()},[H]);const U=()=>{if(!a||!l||!u||!f){de.error("Please fill out all fields to continue.");return}s(2)},D=async B=>{if(B.preventDefault(),n!==2||!g||!p){de.error("Please complete all fields to register.");return}_(!0);const L=`${S==null?void 0:S.dial_code}${f}`;try{const T=await fetch(`${af}/api/academy/register/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:l,password:u,phone_number:L,description:g,website:p})}),q=T.headers.get("content-type");if(q&&q.indexOf("application/json")!==-1){const I=await T.json();if(T.ok)de.success("Registration successful! Please verify your email."),sessionStorage.setItem("tempAcademyEmail",l),e("/email-verification",{state:{email:l,isAcademy:!0}});else{const P=Object.values(I).flat();de.error(P.join(" ")||"Registration failed.")}}else{const I=await T.text();console.error("Server returned non-JSON response:",I),de.error("A server error occurred. Please try again later.")}}catch(T){console.error("Registration error:",T),de.error("An unexpected error occurred. Please try again.")}finally{_(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!k&&!A&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(mn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(Nn,{className:`h-6 lg:h-5 transition-opacity duration-300 ${k?"opacity-100":"opacity-0"}`,onLoad:()=>j(!0),onError:()=>{R(!0),j(!0)}})]}),o.jsx(Yi,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-4 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!k&&!A&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(mn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(Nn,{className:`h-8 transition-opacity duration-300 ${k?"opacity-100":"opacity-0"}`,onLoad:()=>j(!0),onError:()=>{R(!0),j(!0)}})]}),o.jsx(Yi,{})]}),o.jsx("div",{className:"w-full bg-gray-200 dark:bg-secondary rounded-full h-2 mb-8",children:o.jsx("div",{className:"bg-[#00BFFF] h-2 rounded-full transition-all duration-500 ease-in-out",style:{width:n===1?"50%":"100%"}})}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Register Academy"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:n===1?"Start by creating your account credentials.":"Tell us more about your academy."}),o.jsxs("form",{onSubmit:D,className:"space-y-6",children:[n===1&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"name",children:"Academy Name"}),o.jsx(rt,{id:"name",placeholder:"Your academy's name",className:"mt-1 h-[3.2rem]",value:a,onChange:B=>i(B.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"email",children:"Email Address"}),o.jsx(rt,{id:"email",type:"email",placeholder:"Enter contact email",className:"mt-1 h-[3.2rem]",value:l,onChange:B=>c(B.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"phone-input-container mt-1 flex items-center rounded-md border border-input transition-colors focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[o.jsx(_q,{value:S,onChange:E,className:"max-w-fit px-3 h-[3.2rem] border-0 bg-transparent hover:bg-transparent rounded-r-none"}),o.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-border"}),o.jsx(rt,{id:"phone",type:"tel",placeholder:"Phone number",className:"flex-1 h-[3.2rem] border-0 focus-visible:ring-0 focus-visible:ring-offset-0",value:f,onChange:B=>h(B.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(rt,{id:"password",type:x?"text":"password",placeholder:"Create a password",className:"pr-10 h-[3.2rem]",value:u,onChange:B=>d(B.target.value),required:!0}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!x),children:x?o.jsx(fg,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):o.jsx(Ru,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]})]})]}),n===2&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"description",children:"Description"}),o.jsx("textarea",{id:"description",placeholder:"Describe your academy",className:"mt-1 w-full h-24 px-3 py-2 text-base border border-input bg-background text-foreground placeholder:text-muted-foreground rounded-md resize-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:g,onChange:B=>v(B.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"website",children:"Website"}),o.jsx(rt,{id:"website",type:"url",placeholder:"https://your-academy.com",className:"mt-1 h-[3.2rem]",value:p,onChange:B=>y(B.target.value),required:!0})]})]}),o.jsxs("div",{className:"pt-2",children:[n===1&&o.jsx(oe,{type:"button",onClick:U,className:"w-full h-14",children:"Next"}),n===2&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(oe,{type:"button",variant:"outline",className:"w-full h-14",onClick:()=>s(1),children:"Back"}),o.jsx(oe,{type:"submit",className:"w-full h-14",disabled:w,children:w?"Registering...":"Register"})]})]})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Already have an account?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!N&&!A&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(mn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${N?"opacity-100":"opacity-0"}`,style:{backgroundImage:N?"url('/lovable-uploads/academy.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/academy.png",alt:"",className:"hidden",onLoad:()=>C(!0),onError:()=>{R(!0),C(!0)}}),A&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/academy.png",alt:"Academy",className:"w-full h-full object-cover"})})]})})]})]})};function gHe(e,t=globalThis==null?void 0:globalThis.document){const r=Qt(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var yHe="DismissableLayer",jC="dismissableLayer.update",vHe="dismissableLayer.pointerDownOutside",xHe="dismissableLayer.focusOutside",y6,hQ=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pQ=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(hQ),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=xt(t,k=>f(k)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=_He(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=SHe(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return gHe(k=>{b===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(y6=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),v6(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=y6)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),v6())},[d,u]),m.useEffect(()=>{const k=()=>g({});return document.addEventListener(jC,k),()=>document.removeEventListener(jC,k)},[]),o.jsx(ct.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:We(e.onFocusCapture,E.onFocusCapture),onBlurCapture:We(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:We(e.onPointerDownCapture,S.onPointerDownCapture)})});pQ.displayName=yHe;var bHe="DismissableLayerBranch",wHe=m.forwardRef((e,t)=>{const r=m.useContext(hQ),n=m.useRef(null),s=xt(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(ct.div,{...e,ref:s})});wHe.displayName=bHe;function _He(e,t=globalThis==null?void 0:globalThis.document){const r=Qt(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){mQ(vHe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function SHe(e,t=globalThis==null?void 0:globalThis.document){const r=Qt(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&mQ(xHe,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function v6(){const e=new CustomEvent(jC);document.dispatchEvent(e)}function mQ(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?wy(s,a):s.dispatchEvent(a)}var Hj="focusScope.autoFocusOnMount",Kj="focusScope.autoFocusOnUnmount",x6={bubbles:!1,cancelable:!0},jHe="FocusScope",gQ=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=Qt(s),d=Qt(a),f=m.useRef(null),h=xt(t,p=>c(p)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let p=function(w){if(g.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:pl(f.current,{select:!0})},y=function(w){if(g.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||pl(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&pl(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),b.disconnect()}}},[n,l,g.paused]),m.useEffect(()=>{if(l){w6.add(g);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(Hj,x6);l.addEventListener(Hj,u),l.dispatchEvent(x),x.defaultPrevented||(kHe(AHe(yQ(l)),{select:!0}),document.activeElement===p&&pl(l))}return()=>{l.removeEventListener(Hj,u),setTimeout(()=>{const x=new CustomEvent(Kj,x6);l.addEventListener(Kj,d),l.dispatchEvent(x),x.defaultPrevented||pl(p??document.body,{select:!0}),l.removeEventListener(Kj,d),w6.remove(g)},0)}}},[l,u,d,g]);const v=m.useCallback(p=>{if(!r&&!n||g.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const b=p.currentTarget,[w,_]=EHe(b);w&&_?!p.shiftKey&&x===_?(p.preventDefault(),r&&pl(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&pl(_,{select:!0})):x===b&&p.preventDefault()}},[r,n,g.paused]);return o.jsx(ct.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});gQ.displayName=jHe;function kHe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(pl(n,{select:t}),document.activeElement!==r)return}function EHe(e){const t=yQ(e),r=b6(t,e),n=b6(t.reverse(),e);return[r,n]}function yQ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function b6(e,t){for(const r of e)if(!NHe(r,{upTo:t}))return r}function NHe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function CHe(e){return e instanceof HTMLInputElement&&"select"in e}function pl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&CHe(e)&&t&&e.select()}}var w6=PHe();function PHe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=_6(e,t),e.unshift(t)},remove(t){var r;e=_6(e,t),(r=e[0])==null||r.resume()}}}function _6(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function AHe(e){return e.filter(t=>t.tagName!=="A")}var THe="Portal",vQ=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);on(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?yy.createPortal(o.jsx(ct.div,{...n,ref:t}),i):null});vQ.displayName=THe;var xQ=Jw(),Gj=function(){},b_=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Gj,onWheelCapture:Gj,onTouchMoveCapture:Gj}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,v=e.inert,p=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,w=Ay(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=Yw([r,t]),E=br(br({},w),s);return m.createElement(m.Fragment,null,d&&m.createElement(_,{sideCar:xQ,removeScrollBar:u,shards:f,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!p,lockRef:r,gapMode:b}),i?m.cloneElement(m.Children.only(l),br(br({},E),{ref:S})):m.createElement(x,br({},E,{className:c,ref:S}),l))});b_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};b_.classNames={fullWidth:mu,zeroRight:pu};var kC=!1;if(typeof window<"u")try{var v0=Object.defineProperty({},"passive",{get:function(){return kC=!0,!0}});window.addEventListener("test",v0,v0),window.removeEventListener("test",v0,v0)}catch{kC=!1}var _d=kC?{passive:!1}:!1,OHe=function(e){return e.tagName==="TEXTAREA"},bQ=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!OHe(e)&&r[t]==="visible")},RHe=function(e){return bQ(e,"overflowY")},$He=function(e){return bQ(e,"overflowX")},S6=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=wQ(e,n);if(s){var a=_Q(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},MHe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},IHe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},wQ=function(e,t){return e==="v"?RHe(t):$He(t)},_Q=function(e,t){return e==="v"?MHe(t):IHe(t)},LHe=function(e,t){return e==="h"&&t==="rtl"?-1:1},DHe=function(e,t,r,n,s){var a=LHe(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=_Q(e,l),v=g[0],p=g[1],y=g[2],x=p-y-a*v;(v||x)&&wQ(e,l)&&(f+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},x0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},j6=function(e){return[e.deltaX,e.deltaY]},k6=function(e){return e&&"current"in e?e.current:e},FHe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},BHe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},UHe=0,Sd=[];function zHe(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(UHe++)[0],a=m.useState(Ty)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=Gw([e.lockRef.current],(e.shards||[]).map(k6),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=x0(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-x[0],_="deltaY"in p?p.deltaY:b[1]-x[1],S,E=p.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&k==="h"&&E.type==="range")return!1;var j=S6(k,E);if(!j)return!0;if(j?S=k:(S=k==="v"?"h":"v",j=S6(k,E)),!j)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=S),!S)return!0;var N=n.current||S;return DHe(N,y,p,N==="h"?w:_,!0)},[]),c=m.useCallback(function(p){var y=p;if(!(!Sd.length||Sd[Sd.length-1]!==a)){var x="deltaY"in y?j6(y):x0(y),b=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&FHe(S.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(k6).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=w.length>0?l(y,w[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(p,y,x,b){var w={name:p,delta:y,target:x,should:b,shadowParent:qHe(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=m.useCallback(function(p){r.current=x0(p),n.current=void 0},[]),f=m.useCallback(function(p){u(p.type,j6(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,x0(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return Sd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,_d),document.addEventListener("touchmove",c,_d),document.addEventListener("touchstart",d,_d),function(){Sd=Sd.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,_d),document.removeEventListener("touchmove",c,_d),document.removeEventListener("touchstart",d,_d)}},[]);var g=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(a,{styles:BHe(s)}):null,g?m.createElement(Zw,{gapMode:e.gapMode}):null)}function qHe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const WHe=Xw(xQ,zHe);var SQ=m.forwardRef(function(e,t){return m.createElement(b_,br({},e,{ref:t,sideCar:WHe}))});SQ.classNames=b_.classNames;var BO="Dialog",[jQ,kQ]=ua(BO),[VHe,yi]=jQ(BO),EQ=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=ci({prop:n,defaultProp:s,onChange:a});return o.jsx(VHe,{scope:t,triggerRef:l,contentRef:c,contentId:ni(),titleId:ni(),descriptionId:ni(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};EQ.displayName=BO;var NQ="DialogTrigger",CQ=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=yi(NQ,r),a=xt(t,s.triggerRef);return o.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qO(s.open),...n,ref:a,onClick:We(e.onClick,s.onOpenToggle)})});CQ.displayName=NQ;var UO="DialogPortal",[HHe,PQ]=jQ(UO,{forceMount:void 0}),AQ=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=yi(UO,t);return o.jsx(HHe,{scope:t,forceMount:r,children:m.Children.map(n,i=>o.jsx(Ss,{present:r||a.open,children:o.jsx(vQ,{asChild:!0,container:s,children:i})}))})};AQ.displayName=UO;var iw="DialogOverlay",TQ=m.forwardRef((e,t)=>{const r=PQ(iw,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=yi(iw,e.__scopeDialog);return a.modal?o.jsx(Ss,{present:n||a.open,children:o.jsx(KHe,{...s,ref:t})}):null});TQ.displayName=iw;var KHe=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=yi(iw,r);return o.jsx(SQ,{as:ac,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ct.div,{"data-state":qO(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Vu="DialogContent",OQ=m.forwardRef((e,t)=>{const r=PQ(Vu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=yi(Vu,e.__scopeDialog);return o.jsx(Ss,{present:n||a.open,children:a.modal?o.jsx(GHe,{...s,ref:t}):o.jsx(YHe,{...s,ref:t})})});OQ.displayName=Vu;var GHe=m.forwardRef((e,t)=>{const r=yi(Vu,e.__scopeDialog),n=m.useRef(null),s=xt(t,r.contentRef,n);return m.useEffect(()=>{const a=n.current;if(a)return e1(a)},[]),o.jsx(RQ,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:We(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:We(e.onFocusOutside,a=>a.preventDefault())})}),YHe=m.forwardRef((e,t)=>{const r=yi(Vu,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return o.jsx(RQ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),RQ=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=yi(Vu,r),c=m.useRef(null),u=xt(t,c);return SO(),o.jsxs(o.Fragment,{children:[o.jsx(gQ,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(pQ,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":qO(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(XHe,{titleId:l.titleId}),o.jsx(ZHe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),zO="DialogTitle",$Q=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=yi(zO,r);return o.jsx(ct.h2,{id:s.titleId,...n,ref:t})});$Q.displayName=zO;var MQ="DialogDescription",IQ=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=yi(MQ,r);return o.jsx(ct.p,{id:s.descriptionId,...n,ref:t})});IQ.displayName=MQ;var LQ="DialogClose",DQ=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=yi(LQ,r);return o.jsx(ct.button,{type:"button",...n,ref:t,onClick:We(e.onClick,()=>s.onOpenChange(!1))})});DQ.displayName=LQ;function qO(e){return e?"open":"closed"}var FQ="DialogTitleWarning",[JHe,BQ]=oae(FQ,{contentName:Vu,titleName:zO,docsSlug:"dialog"}),XHe=({titleId:e})=>{const t=BQ(FQ),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},QHe="DialogDescriptionWarning",ZHe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BQ(QHe).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},eKe=EQ,tKe=CQ,rKe=AQ,nKe=TQ,sKe=OQ,aKe=$Q,iKe=IQ,UQ=DQ,zQ="AlertDialog",[oKe,CGe]=ua(zQ,[kQ]),Zo=kQ(),qQ=e=>{const{__scopeAlertDialog:t,...r}=e,n=Zo(t);return o.jsx(eKe,{...n,...r,modal:!0})};qQ.displayName=zQ;var lKe="AlertDialogTrigger",WQ=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zo(r);return o.jsx(tKe,{...s,...n,ref:t})});WQ.displayName=lKe;var cKe="AlertDialogPortal",VQ=e=>{const{__scopeAlertDialog:t,...r}=e,n=Zo(t);return o.jsx(rKe,{...n,...r})};VQ.displayName=cKe;var uKe="AlertDialogOverlay",HQ=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zo(r);return o.jsx(nKe,{...s,...n,ref:t})});HQ.displayName=uKe;var gf="AlertDialogContent",[dKe,fKe]=oKe(gf),KQ=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=Zo(r),i=m.useRef(null),l=xt(t,i),c=m.useRef(null);return o.jsx(JHe,{contentName:gf,titleName:GQ,docsSlug:"alert-dialog",children:o.jsx(dKe,{scope:r,cancelRef:c,children:o.jsxs(sKe,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:We(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx($P,{children:n}),o.jsx(pKe,{contentRef:i})]})})})});KQ.displayName=gf;var GQ="AlertDialogTitle",YQ=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zo(r);return o.jsx(aKe,{...s,...n,ref:t})});YQ.displayName=GQ;var JQ="AlertDialogDescription",XQ=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zo(r);return o.jsx(iKe,{...s,...n,ref:t})});XQ.displayName=JQ;var hKe="AlertDialogAction",QQ=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zo(r);return o.jsx(UQ,{...s,...n,ref:t})});QQ.displayName=hKe;var ZQ="AlertDialogCancel",eZ=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=fKe(ZQ,r),a=Zo(r),i=xt(t,s);return o.jsx(UQ,{...a,...n,ref:i})});eZ.displayName=ZQ;var pKe=({contentRef:e})=>{const t=`\`${gf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${gf}\` by passing a \`${JQ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},mKe=qQ,gKe=WQ,yKe=VQ,tZ=HQ,rZ=KQ,nZ=QQ,sZ=eZ,aZ=YQ,iZ=XQ;const vKe=mKe,xKe=gKe,bKe=yKe,oZ=m.forwardRef(({className:e,...t},r)=>o.jsx(tZ,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));oZ.displayName=tZ.displayName;const lZ=m.forwardRef(({className:e,...t},r)=>o.jsxs(bKe,{children:[o.jsx(oZ,{}),o.jsx(rZ,{ref:r,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));lZ.displayName=rZ.displayName;const cZ=({className:e,...t})=>o.jsx("div",{className:le("flex flex-col space-y-2 text-center sm:text-left",e),...t});cZ.displayName="AlertDialogHeader";const uZ=({className:e,...t})=>o.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});uZ.displayName="AlertDialogFooter";const dZ=m.forwardRef(({className:e,...t},r)=>o.jsx(aZ,{ref:r,className:le("text-lg font-semibold",e),...t}));dZ.displayName=aZ.displayName;const fZ=m.forwardRef(({className:e,...t},r)=>o.jsx(iZ,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));fZ.displayName=iZ.displayName;const hZ=m.forwardRef(({className:e,...t},r)=>o.jsx(nZ,{ref:r,className:le(lA(),e),...t}));hZ.displayName=nZ.displayName;const pZ=m.forwardRef(({className:e,...t},r)=>o.jsx(sZ,{ref:r,className:le(lA({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));pZ.displayName=sZ.displayName;const E6=()=>{const{courseId:e}=Ch(),t=rr(),{user:r}=ir(),[n,s]=m.useState(null),[a,i]=m.useState(!0),[l,c]=m.useState(!1),[u,d]=m.useState({title:"",description:"",category:"",level:"",duration:"",required_skills:"",topics:"",registration_link:""}),[f,h]=m.useState(null),[g,v]=m.useState(null),p=m.useRef(null),y=!!e,x=async()=>{var j;if(r)try{const N=await Se.get(Ze.ACADEMY.PROFILE);if(N.data){const C=N.data,A=lc(C,(r==null?void 0:r.id)!=null?String(r.id):void 0),R={...A,first_name:A.first_name||(r==null?void 0:r.first_name)||A.academy_name||"",is_verified:C.is_verified??!1,logo_url:A.logo_url};s(R)}}catch(N){console.error("Failed to load academy profile:",N),((j=N.response)==null?void 0:j.status)===404?(de.error("Please set up your academy profile first"),t("/academy/profile")):de.error("Failed to load academy profile")}finally{i(!1)}},b=async j=>{try{const{data:N,error:C}=await Yt.from("courses").select("*").eq("id",j).single();if(C)throw C;N&&(d({title:N.title||"",description:N.description||"",category:N.category||"",level:N.level||"",duration:N.duration||"",required_skills:(N.required_skills||[]).join(", "),topics:(N.topics||[]).join(", "),registration_link:N.registration_link||""}),v(N.image||null))}catch(N){console.error("Error fetching course:",N),de.error(N.message||"Failed to load course"),t("/academy/dashboard")}};m.useEffect(()=>{x()},[r]),m.useEffect(()=>{e&&n&&b(e)},[e,n]);const w=j=>{if(j&&j[0]){const N=j[0],C=10*1024*1024;if(N.size>C){de.error("Image size must be less than 10MB"),p.current&&(p.current.value="");return}if(!N.type.startsWith("image/")){de.error("Please select a valid image file"),p.current&&(p.current.value="");return}h(N),v(URL.createObjectURL(N))}else h(null),v(null),p.current&&(p.current.value="")},_=async()=>{y&&e?await E():await S()},S=async()=>{var j,N,C,A;if(!n||!n.id){de.error("Academy profile ID is missing");return}c(!0);try{const R=u.required_skills.split(",").map(T=>T.trim()).filter(T=>T),H=u.topics.split(",").map(T=>T.trim()).filter(T=>T);let U="/lovable-uploads/no_photo.png";if(f)try{const T=f.name.split(".").pop(),q=`${n.id}/${Date.now()}.${T}`,{data:I,error:P}=await Yt.storage.from("course-images").upload(q,f,{cacheControl:"3600",upsert:!1});if(P)throw console.error(" Image upload error:",P),(j=P.message)!=null&&j.includes("Bucket not found")||(N=P.message)!=null&&N.includes("does not exist")?(de.error("Storage bucket 'course-images' not found. Please contact support to set it up."),new Error("Storage bucket not configured")):(C=P.message)!=null&&C.includes("permission")||(A=P.message)!=null&&A.includes("policy")||P.statusCode===403?(de.error("Permission denied. Please check storage bucket policies."),new Error("Storage permission denied")):(de.error(`Failed to upload image: ${P.message||"Unknown error"}`),P);const{data:W}=Yt.storage.from("course-images").getPublicUrl(q);U=W.publicUrl}catch(T){throw console.error(" Image upload failed:",T),T}const D=n.academy_name||"",{data:B,error:L}=await Yt.from("courses").insert({title:u.title,description:u.description,category:u.category,level:u.level,duration:u.duration,provider:D,required_skills:R,topics:H,image:U,registration_link:u.registration_link,enrolled:!1,popular:!1,academy_id:n.id,is_academy_course:!0}).select().single();if(L)throw L;de.success("Course added successfully"),t("/academy/dashboard")}catch(R){console.error("Error adding course:",R),de.error(R.message||"Failed to add course")}finally{c(!1)}},E=async()=>{var j,N,C,A;if(!(!e||!n||!n.id)){c(!0);try{const R=u.required_skills.split(",").map(L=>L.trim()).filter(L=>L),H=u.topics.split(",").map(L=>L.trim()).filter(L=>L);let U=g||"/lovable-uploads/no_photo.png";if(f)try{const L=f.name.split(".").pop(),T=`${n.id}/${Date.now()}.${L}`,{data:q,error:I}=await Yt.storage.from("course-images").upload(T,f,{cacheControl:"3600",upsert:!1});if(I)throw console.error(" Image upload error:",I),(j=I.message)!=null&&j.includes("Bucket not found")||(N=I.message)!=null&&N.includes("does not exist")?(de.error("Storage bucket 'course-images' not found. Please contact support to set it up."),new Error("Storage bucket not configured")):(C=I.message)!=null&&C.includes("permission")||(A=I.message)!=null&&A.includes("policy")||I.statusCode===403?(de.error("Permission denied. Please check storage bucket policies."),new Error("Storage permission denied")):(de.error(`Failed to upload image: ${I.message||"Unknown error"}`),I);const{data:P}=Yt.storage.from("course-images").getPublicUrl(T);U=P.publicUrl}catch(L){throw console.error(" Image upload failed:",L),L}const D=n.academy_name||"",{error:B}=await Yt.from("courses").update({title:u.title,description:u.description,category:u.category,level:u.level,duration:u.duration,required_skills:R,topics:H,image:U,provider:D,registration_link:u.registration_link}).eq("id",e);if(B)throw B;de.success("Course updated successfully"),t("/academy/dashboard")}catch(R){console.error("Error updating course:",R),de.error(R.message||"Failed to update course")}finally{c(!1)}}},k=async()=>{if(e)try{const{error:j}=await Yt.from("courses").delete().eq("id",e);if(j)throw j;de.success("Course deleted successfully"),t("/academy/dashboard")}catch(j){console.error("Error deleting course:",j),de.error(j.message||"Failed to delete course")}};return a?o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-lg",children:"Loading..."})})}):n?o.jsx(At,{children:o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(De,{children:"Cover Image"}),o.jsx("div",{className:"mt-1 w-full",children:g?o.jsxs("div",{className:"relative w-full",children:[o.jsx("img",{src:g,alt:"Preview",className:"w-full h-auto max-h-96 object-contain rounded-md"}),o.jsx("button",{onClick:()=>w(null),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:o.jsx(Nr,{className:"h-4 w-4"})})]}):o.jsx("div",{className:"flex justify-center px-6 pt-5 pb-6 rounded-md bg-muted/50",children:o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx(Sde,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsxs("div",{className:"flex text-sm text-gray-600",children:[o.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-breneo-blue hover:text-breneo-blue/80 focus-within:outline-none",children:[o.jsx("span",{children:"Upload a file"}),o.jsx("input",{ref:p,id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:j=>w(j.target.files),accept:"image/*"})]}),o.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"title",children:"Title"}),o.jsx(rt,{id:"title",value:u.title,onChange:j=>d({...u,title:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"description",children:"Description"}),o.jsx(sy,{id:"description",value:u.description,onChange:j=>d({...u,description:j.target.value}),className:"mt-1",rows:4})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"category",children:"Category"}),o.jsxs(ko,{value:u.category,onValueChange:j=>d({...u,category:j}),children:[o.jsx(Oi,{className:"mt-1",children:o.jsx(Eo,{placeholder:"Select category"})}),o.jsxs(Ri,{children:[o.jsx(_r,{value:"programming",children:"Programming"}),o.jsx(_r,{value:"design",children:"Design"}),o.jsx(_r,{value:"marketing",children:"Marketing"}),o.jsx(_r,{value:"business",children:"Business"}),o.jsx(_r,{value:"data-science",children:"Data Science"}),o.jsx(_r,{value:"cybersecurity",children:"Cybersecurity"})]})]})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"level",children:"Level"}),o.jsxs(ko,{value:u.level,onValueChange:j=>d({...u,level:j}),children:[o.jsx(Oi,{className:"mt-1",children:o.jsx(Eo,{placeholder:"Select level"})}),o.jsxs(Ri,{children:[o.jsx(_r,{value:"beginner",children:"Beginner"}),o.jsx(_r,{value:"intermediate",children:"Intermediate"}),o.jsx(_r,{value:"advanced",children:"Advanced"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"skills",children:"Required Skills"}),o.jsx(rt,{id:"skills",placeholder:"Comma separated skills",value:u.required_skills,onChange:j=>d({...u,required_skills:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"topics",children:"Topics"}),o.jsx(rt,{id:"topics",placeholder:"Comma separated topics",value:u.topics,onChange:j=>d({...u,topics:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"duration",children:"Duration"}),o.jsx(rt,{id:"duration",placeholder:"e.g., 8 weeks",value:u.duration,onChange:j=>d({...u,duration:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"registration_link",children:"Registration Link"}),o.jsx(rt,{id:"registration_link",type:"url",placeholder:"https://example.com/register",value:u.registration_link,onChange:j=>d({...u,registration_link:j.target.value}),className:"mt-1"})]})]}),o.jsxs("div",{className:"flex justify-between items-center mt-6 pt-6",children:[y?o.jsxs(vKe,{children:[o.jsx(xKe,{asChild:!0,children:o.jsxs(oe,{variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(hu,{className:"w-4 h-4 mr-2"}),"Delete Course"]})}),o.jsxs(lZ,{children:[o.jsxs(cZ,{children:[o.jsx(dZ,{children:"Are you sure?"}),o.jsx(fZ,{children:"This action cannot be undone. This will permanently delete the course."})]}),o.jsxs(uZ,{children:[o.jsx(pZ,{children:"Cancel"}),o.jsx(hZ,{onClick:k,children:"Continue"})]})]})]}):o.jsx("div",{}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(oe,{variant:"outline",onClick:()=>t("/academy/dashboard"),children:"Cancel"}),o.jsx(oe,{onClick:_,disabled:l||!u.title||!u.description,className:"bg-breneo-blue hover:bg-breneo-blue/90",children:l?"Saving...":y?"Save Changes":"Add Course"})]})]})]})})}):o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})})},wKe=()=>{const[e,t]=m.useState(!1),r=()=>{t(n=>!n)};return o.jsxs("div",{className:"h-screen bg-breneo-lightgray overflow-hidden",children:[o.jsx(kA,{collapsed:e,toggleSidebar:r}),o.jsx("main",{className:`h-full overflow-y-auto transition-all duration-300 ${e?"md:ml-24":"md:ml-[17rem]"} pt-24 pb-32 md:pt-24 md:pb-0 px-3 md:px-6`,children:o.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[o.jsx("h1",{className:"text-2xl font-bold mb-8 text-left",children:" "}),o.jsxs("div",{className:"prose prose-lg max-w-none space-y-6 text-gray-700 leading-relaxed",children:[o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"1.  "}),o.jsx("p",{children:"Breneo    ,         .  :"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"     ,"}),o.jsx("li",{children:"  ,"}),o.jsx("li",{children:"    ,"}),o.jsx("li",{children:"   ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"2.    "}),o.jsx("p",{children:"         ."}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"              ."}),o.jsx("li",{children:"Breneo-        ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"3.   "}),o.jsx("p",{children:"Breneo         . AI-              ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"4.   "}),o.jsx("p",{children:"   Breneo     . :"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"      ,"}),o.jsx("li",{children:"     ,"}),o.jsx("li",{children:"        ,"}),o.jsx("li",{children:"  ,    Breneo-  ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"5.  "}),o.jsx("p",{children:"Breneo-       , , ,  ,      Breneo-    .     Breneo-  ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"6.    "}),o.jsx("p",{children:"Breneo         GDPR-  .         ,   ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"7.   "}),o.jsx("p",{children:"             .         ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"8.  "}),o.jsx("p",{children:'Breneo    " ("as is") .'}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"     ,        ."}),o.jsx("li",{children:"Breneo   ,         ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"9.   "}),o.jsx("p",{children:"     .          . ,     ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"10.    "}),o.jsx("p",{children:"Breneo     ,           ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"11.  "}),o.jsx("p",{children:"    .      Breneo-  ,        ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"12.  "}),o.jsx("p",{children:"  ,   ,  :"}),o.jsxs("div",{className:"space-y-2 text-lg",children:[o.jsx("p",{children:" support@breneo.app"}),o.jsx("p",{children:" www.breneo.app"})]})]})]}),o.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200 text-center text-gray-500",children:o.jsxs("p",{children:[" : ",new Date().toLocaleDateString("ka-GE")]})})]})})]})};var WO="Collapsible",[_Ke,mZ]=ua(WO),[SKe,VO]=_Ke(WO),gZ=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:i,...l}=e,[c=!1,u]=ci({prop:n,defaultProp:s,onChange:i});return o.jsx(SKe,{scope:r,disabled:a,contentId:ni(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:o.jsx(ct.div,{"data-state":KO(c),"data-disabled":a?"":void 0,...l,ref:t})})});gZ.displayName=WO;var yZ="CollapsibleTrigger",vZ=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=VO(yZ,r);return o.jsx(ct.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":KO(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:We(e.onClick,s.onOpenToggle)})});vZ.displayName=yZ;var HO="CollapsibleContent",xZ=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=VO(HO,e.__scopeCollapsible);return o.jsx(Ss,{present:r||s.open,children:({present:a})=>o.jsx(jKe,{...n,ref:t,present:a})})});xZ.displayName=HO;var jKe=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,i=VO(HO,r),[l,c]=m.useState(n),u=m.useRef(null),d=xt(t,u),f=m.useRef(0),h=f.current,g=m.useRef(0),v=g.current,p=i.open||l,y=m.useRef(p),x=m.useRef();return m.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),on(()=>{const b=u.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();f.current=w.height,g.current=w.width,y.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),c(n)}},[i.open,n]),o.jsx(ct.div,{"data-state":KO(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:p&&s})});function KO(e){return e?"open":"closed"}var kKe=gZ,EKe=vZ,NKe=xZ,el="Accordion",CKe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[GO,PKe,AKe]=Qy(el),[w_,PGe]=ua(el,[AKe,mZ]),YO=mZ(),bZ=M.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,a=n;return o.jsx(GO.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?o.jsx($Ke,{...a,ref:t}):o.jsx(RKe,{...s,ref:t})})});bZ.displayName=el;var[wZ,TKe]=w_(el),[_Z,OKe]=w_(el,{collapsible:!1}),RKe=M.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...i}=e,[l,c]=ci({prop:r,defaultProp:n,onChange:s});return o.jsx(wZ,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:M.useCallback(()=>a&&c(""),[a,c]),children:o.jsx(_Z,{scope:e.__scopeAccordion,collapsible:a,children:o.jsx(SZ,{...i,ref:t})})})}),$Ke=M.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[i=[],l]=ci({prop:r,defaultProp:n,onChange:s}),c=M.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=M.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return o.jsx(wZ,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:o.jsx(_Z,{scope:e.__scopeAccordion,collapsible:!0,children:o.jsx(SZ,{...a,ref:t})})})}),[MKe,__]=w_(el),SZ=M.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:a="vertical",...i}=e,l=M.useRef(null),c=xt(l,t),u=PKe(r),f=Rh(s)==="ltr",h=We(e.onKeyDown,g=>{var j;if(!CKe.includes(g.key))return;const v=g.target,p=u().filter(N=>{var C;return!((C=N.ref.current)!=null&&C.disabled)}),y=p.findIndex(N=>N.ref.current===v),x=p.length;if(y===-1)return;g.preventDefault();let b=y;const w=0,_=x-1,S=()=>{b=y+1,b>_&&(b=w)},E=()=>{b=y-1,b<w&&(b=_)};switch(g.key){case"Home":b=w;break;case"End":b=_;break;case"ArrowRight":a==="horizontal"&&(f?S():E());break;case"ArrowDown":a==="vertical"&&S();break;case"ArrowLeft":a==="horizontal"&&(f?E():S());break;case"ArrowUp":a==="vertical"&&E();break}const k=b%x;(j=p[k].ref.current)==null||j.focus()});return o.jsx(MKe,{scope:r,disabled:n,direction:s,orientation:a,children:o.jsx(GO.Slot,{scope:r,children:o.jsx(ct.div,{...i,"data-orientation":a,ref:c,onKeyDown:n?void 0:h})})})}),ow="AccordionItem",[IKe,JO]=w_(ow),jZ=M.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,a=__(ow,r),i=TKe(ow,r),l=YO(r),c=ni(),u=n&&i.value.includes(n)||!1,d=a.disabled||e.disabled;return o.jsx(IKe,{scope:r,open:u,disabled:d,triggerId:c,children:o.jsx(kKe,{"data-orientation":a.orientation,"data-state":AZ(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});jZ.displayName=ow;var kZ="AccordionHeader",EZ=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=__(el,r),a=JO(kZ,r);return o.jsx(ct.h3,{"data-orientation":s.orientation,"data-state":AZ(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});EZ.displayName=kZ;var EC="AccordionTrigger",NZ=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=__(el,r),a=JO(EC,r),i=OKe(EC,r),l=YO(r);return o.jsx(GO.ItemSlot,{scope:r,children:o.jsx(EKe,{"aria-disabled":a.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...n,ref:t})})});NZ.displayName=EC;var CZ="AccordionContent",PZ=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=__(el,r),a=JO(CZ,r),i=YO(r);return o.jsx(NKe,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});PZ.displayName=CZ;function AZ(e){return e?"open":"closed"}var LKe=bZ,DKe=jZ,FKe=EZ,TZ=NZ,OZ=PZ;const BKe=LKe,RZ=m.forwardRef(({className:e,...t},r)=>o.jsx(DKe,{ref:r,className:le("border-b",e),...t}));RZ.displayName="AccordionItem";const $Z=m.forwardRef(({className:e,children:t,...r},n)=>o.jsx(FKe,{className:"flex",children:o.jsxs(TZ,{ref:n,className:le("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,o.jsx(Fo,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));$Z.displayName=TZ.displayName;const MZ=m.forwardRef(({className:e,children:t,...r},n)=>o.jsx(OZ,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:o.jsx("div",{className:le("pb-4 pt-0",e),children:t})}));MZ.displayName=OZ.displayName;const UKe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(""),s=()=>{t(l=>!l)},i=[{title:"Getting Started",icon:Il,questions:[{q:"  Breneo- ?",a:'  ,    .  ""     .  ,   ,      .'},{q:"  ?",a:' ,     -  ,   "Profile".      ,      .'},{q:"   ?",a:"  -    ,        .   ,       ."}]},{title:"Account & Profile",icon:sz,questions:[{q:"  ?",a:'   Settings  ( Settings   ).   "Change Email" .     .'},{q:"  ?",a:'  ,    "Forgot Password" .        .'},{q:"  ?",a:'   Settings    "Account Settings" .   "Delete Account" . , ,    .'}]},{title:"Jobs & Career",icon:Hr,questions:[{q:"  ?",a:'   "Jobs" .      , ,     .      ,     .'},{q:"   ?",a:' ,     .      "Apply Now" .      .'},{q:"   ?",a:' ,      "Save" .       "Saved Jobs" .'}]},{title:"Settings & Customization",icon:Vw,questions:[{q:"   ?",a:"    Settings .    ,  (/),    ."},{q:"  ?",a:'   Settings    "Notifications" .      .'},{q:"   ?",a:"  ,         .      ."}]}].map(l=>({...l,questions:l.questions.filter(c=>c.q.toLowerCase().includes(r.toLowerCase())||c.a.toLowerCase().includes(r.toLowerCase()))}));return o.jsxs("div",{className:"h-screen bg-breneo-lightgray overflow-hidden",children:[o.jsx(kA,{collapsed:e,toggleSidebar:s}),o.jsx("main",{className:`h-full overflow-y-auto transition-all duration-300 ${e?"md:ml-24":"md:ml-[17rem]"} pt-24 pb-32 md:pt-24 md:pb-0 px-3 md:px-6`,children:o.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Help Center"}),o.jsx("p",{className:"text-gray-600",children:"     "})]}),o.jsxs("div",{className:"relative mb-8",children:[o.jsx(Bo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),o.jsx(rt,{type:"text",placeholder:"  ...",value:r,onChange:l=>n(l.target.value),className:"pl-10 pr-4 py-6 text-lg"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[o.jsx(Oe,{className:"hover:shadow-soft transition-shadow cursor-pointer",children:o.jsxs(yt,{className:"pb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:o.jsx($u,{className:"text-breneo-blue",size:24})}),o.jsx(Nt,{className:"text-base",children:"Email Support"}),o.jsx(Fr,{children:"support@breneo.app"})]})}),o.jsx(Oe,{className:"hover:shadow-soft transition-shadow cursor-pointer",children:o.jsxs(yt,{className:"pb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:o.jsx(hg,{className:"text-breneo-blue",size:24})}),o.jsx(Nt,{className:"text-base",children:"Phone Support"}),o.jsx(Fr,{children:"Available 24/7"})]})}),o.jsx(Oe,{className:"hover:shadow-soft transition-shadow cursor-pointer",children:o.jsxs(yt,{className:"pb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:o.jsx(Nde,{className:"text-breneo-blue",size:24})}),o.jsx(Nt,{className:"text-base",children:"Live Chat"}),o.jsx(Fr,{children:"Get instant help"})]})})]}),o.jsx("div",{className:"space-y-6",children:i.map((l,c)=>l.questions.length>0&&o.jsxs(Oe,{className:"bg-white",children:[o.jsx(yt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-breneo-blue/10 rounded-3xl flex items-center justify-center",children:o.jsx(l.icon,{className:"text-breneo-blue",size:20})}),o.jsx(Nt,{children:l.title})]})}),o.jsx(Me,{children:o.jsx(BKe,{type:"multiple",className:"w-full",children:l.questions.map((u,d)=>o.jsxs(RZ,{value:`${c}-${d}`,className:"border-gray-200",children:[o.jsx($Z,{className:"text-left font-semibold hover:no-underline",children:u.q}),o.jsx(MZ,{className:"text-gray-600 leading-relaxed",children:u.a})]},d))})})]},c))}),o.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:o.jsx(Oe,{className:"bg-gradient-to-r from-breneo-blue/5 to-breneo-blue/10",children:o.jsxs(Me,{className:"py-8 text-center",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"   ?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"     "}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("a",{href:"mailto:support@breneo.app",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-breneo-blue text-white rounded-3xl hover:bg-breneo-blue/90 transition-colors",children:[o.jsx($u,{size:18}),"Email Support"]}),o.jsxs("a",{href:"tel:+995500992990",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white border border-breneo-blue text-breneo-blue rounded-3xl hover:bg-breneo-blue/5 transition-colors",children:[o.jsx(hg,{size:18}),"Call Us"]})]})]})})})]})})]})},zKe=()=>{const e=Vs(),{user:t,loading:r}=ir(),n=pi(),[s,a]=m.useState(!1),[i,l]=m.useState(!1),[c,u]=m.useState(!1),d=m.useCallback(f=>new Promise((h,g)=>{const v=new Image;v.onload=()=>h(),v.onerror=()=>g(new Error(`Failed to load image: ${f}`)),v.src=f}),[]);return m.useEffect(()=>{(async()=>{try{await Promise.all([d("/lovable-uploads/Breneo-logo.png"),d("/lovable-uploads/Breneo-logo-dark.png"),d("/lovable-uploads/full-shot-student-library.jpg")])}catch(h){console.warn("Some images failed to preload:",h),u(!0)}})()},[d]),m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 relative",children:[!i&&!c&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse z-0"}),o.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:i?"url('/lovable-uploads/full-shot-student-library.jpg')":"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:i?1:0,transition:"opacity 0.5s ease-in-out"}}),o.jsx("img",{src:"/lovable-uploads/full-shot-student-library.jpg",alt:"",className:"hidden",onLoad:()=>l(!0),onError:()=>{u(!0),l(!0)}}),c&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] z-0"}),o.jsx("div",{className:"z-10 relative",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg p-8 text-center max-w-md mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[!s&&!c&&o.jsx("div",{className:"h-10 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center mx-auto",children:o.jsx(mn,{className:"h-6 w-6 text-gray-400 dark:text-gray-600"})}),o.jsx(Nn,{className:`h-12 md:h-10 mx-auto block transition-opacity duration-300 ${s?"opacity-100":"opacity-0"}`,onLoad:()=>a(!0),onError:()=>{u(!0),a(!0)}}),c&&o.jsx("div",{className:"h-10 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center mx-auto",children:o.jsx("span",{className:"text-sm text-muted-foreground font-semibold",children:"Breneo"})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"}),o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n.errors.pageNotFound}),o.jsx("p",{className:"text-muted-foreground mb-6",children:n.errors.pageNotFoundDescription})]}),o.jsxs("div",{className:"space-y-4",children:[!r&&t?o.jsxs(Wr,{to:t.user_type==="academy"||localStorage.getItem("userRole")==="academy"?"/academy/dashboard":"/dashboard",className:"inline-block bg-primary text-primary-foreground px-6 py-3 rounded-3xl font-medium hover:bg-primary/90 transition-colors",children:[n.common.view," ",n.nav.home]}):o.jsx(Wr,{to:"/auth/login",className:"inline-block bg-primary text-primary-foreground px-6 py-3 rounded-3xl font-medium hover:bg-primary/90 transition-colors",children:n.auth.login}),!r&&!t&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Wr,{to:"/auth/login",className:"hover:text-primary transition-colors",children:n.auth.login}),o.jsx("span",{className:"mx-2",children:""}),o.jsx(Wr,{to:"/auth/signup",className:"hover:text-primary transition-colors",children:n.auth.signup})]})]})]})})]})},qKe=()=>{const e=pi();return o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-12rem)]",children:o.jsxs("div",{className:"text-center px-4",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-calender-front-color.png",alt:"Notebook",className:"h-40 w-40 mx-auto mb-6"}),o.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:e.webinars.comingsoon}),o.jsx("p",{className:"text-m text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:e.webinars.comingsoondescription})]})})})};var rv={};(function e(t,r,n,s){var a=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),i=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!t.OffscreenCanvas)return!1;try{var I=new OffscreenCanvas(1,1),P=I.getContext("2d");P.fillRect(0,0,1,1);var W=I.transferToImageBitmap();P.createPattern(W,"no-repeat")}catch{return!1}return!0}();function c(){}function u(I){var P=r.exports.Promise,W=P!==void 0?P:t.Promise;return typeof W=="function"?new W(I):(I(c,c),null)}var d=function(I,P){return{transform:function(W){if(I)return W;if(P.has(W))return P.get(W);var V=new OffscreenCanvas(W.width,W.height),ee=V.getContext("2d");return ee.drawImage(W,0,0),P.set(W,V),V},clear:function(){P.clear()}}}(l,new Map),f=function(){var I=Math.floor(16.666666666666668),P,W,V={},ee=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(P=function(X){var ne=Math.random();return V[ne]=requestAnimationFrame(function F($){ee===$||ee+I-1<$?(ee=$,delete V[ne],X()):V[ne]=requestAnimationFrame(F)}),ne},W=function(X){V[X]&&cancelAnimationFrame(V[X])}):(P=function(X){return setTimeout(X,I)},W=function(X){return clearTimeout(X)}),{frame:P,cancel:W}}(),h=function(){var I,P,W={};function V(ee){function X(ne,F){ee.postMessage({options:ne||{},callback:F})}ee.init=function(F){var $=F.transferControlToOffscreen();ee.postMessage({canvas:$},[$])},ee.fire=function(F,$,K){if(P)return X(F,null),P;var Y=Math.random().toString(36).slice(2);return P=u(function(se){function Q(ae){ae.data.callback===Y&&(delete W[Y],ee.removeEventListener("message",Q),P=null,d.clear(),K(),se())}ee.addEventListener("message",Q),X(F,Y),W[Y]=Q.bind(null,{data:{callback:Y}})}),P},ee.reset=function(){ee.postMessage({reset:!0});for(var F in W)W[F](),delete W[F]}}return function(){if(I)return I;if(!n&&a){var ee=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{I=new Worker(URL.createObjectURL(new Blob([ee])))}catch(X){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",X),null}V(I)}return I}}(),g={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function v(I,P){return P?P(I):I}function p(I){return I!=null}function y(I,P,W){return v(I&&p(I[P])?I[P]:g[P],W)}function x(I){return I<0?0:Math.floor(I)}function b(I,P){return Math.floor(Math.random()*(P-I))+I}function w(I){return parseInt(I,16)}function _(I){return I.map(S)}function S(I){var P=String(I).replace(/[^0-9a-f]/gi,"");return P.length<6&&(P=P[0]+P[0]+P[1]+P[1]+P[2]+P[2]),{r:w(P.substring(0,2)),g:w(P.substring(2,4)),b:w(P.substring(4,6))}}function E(I){var P=y(I,"origin",Object);return P.x=y(P,"x",Number),P.y=y(P,"y",Number),P}function k(I){I.width=document.documentElement.clientWidth,I.height=document.documentElement.clientHeight}function j(I){var P=I.getBoundingClientRect();I.width=P.width,I.height=P.height}function N(I){var P=document.createElement("canvas");return P.style.position="fixed",P.style.top="0px",P.style.left="0px",P.style.pointerEvents="none",P.style.zIndex=I,P}function C(I,P,W,V,ee,X,ne,F,$){I.save(),I.translate(P,W),I.rotate(X),I.scale(V,ee),I.arc(0,0,1,ne,F,$),I.restore()}function A(I){var P=I.angle*(Math.PI/180),W=I.spread*(Math.PI/180);return{x:I.x,y:I.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:I.startVelocity*.5+Math.random()*I.startVelocity,angle2D:-P+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:I.color,shape:I.shape,tick:0,totalTicks:I.ticks,decay:I.decay,drift:I.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:I.gravity*3,ovalScalar:.6,scalar:I.scalar,flat:I.flat}}function R(I,P){P.x+=Math.cos(P.angle2D)*P.velocity+P.drift,P.y+=Math.sin(P.angle2D)*P.velocity+P.gravity,P.velocity*=P.decay,P.flat?(P.wobble=0,P.wobbleX=P.x+10*P.scalar,P.wobbleY=P.y+10*P.scalar,P.tiltSin=0,P.tiltCos=0,P.random=1):(P.wobble+=P.wobbleSpeed,P.wobbleX=P.x+10*P.scalar*Math.cos(P.wobble),P.wobbleY=P.y+10*P.scalar*Math.sin(P.wobble),P.tiltAngle+=.1,P.tiltSin=Math.sin(P.tiltAngle),P.tiltCos=Math.cos(P.tiltAngle),P.random=Math.random()+2);var W=P.tick++/P.totalTicks,V=P.x+P.random*P.tiltCos,ee=P.y+P.random*P.tiltSin,X=P.wobbleX+P.random*P.tiltCos,ne=P.wobbleY+P.random*P.tiltSin;if(I.fillStyle="rgba("+P.color.r+", "+P.color.g+", "+P.color.b+", "+(1-W)+")",I.beginPath(),i&&P.shape.type==="path"&&typeof P.shape.path=="string"&&Array.isArray(P.shape.matrix))I.fill(L(P.shape.path,P.shape.matrix,P.x,P.y,Math.abs(X-V)*.1,Math.abs(ne-ee)*.1,Math.PI/10*P.wobble));else if(P.shape.type==="bitmap"){var F=Math.PI/10*P.wobble,$=Math.abs(X-V)*.1,K=Math.abs(ne-ee)*.1,Y=P.shape.bitmap.width*P.scalar,se=P.shape.bitmap.height*P.scalar,Q=new DOMMatrix([Math.cos(F)*$,Math.sin(F)*$,-Math.sin(F)*K,Math.cos(F)*K,P.x,P.y]);Q.multiplySelf(new DOMMatrix(P.shape.matrix));var ae=I.createPattern(d.transform(P.shape.bitmap),"no-repeat");ae.setTransform(Q),I.globalAlpha=1-W,I.fillStyle=ae,I.fillRect(P.x-Y/2,P.y-se/2,Y,se),I.globalAlpha=1}else if(P.shape==="circle")I.ellipse?I.ellipse(P.x,P.y,Math.abs(X-V)*P.ovalScalar,Math.abs(ne-ee)*P.ovalScalar,Math.PI/10*P.wobble,0,2*Math.PI):C(I,P.x,P.y,Math.abs(X-V)*P.ovalScalar,Math.abs(ne-ee)*P.ovalScalar,Math.PI/10*P.wobble,0,2*Math.PI);else if(P.shape==="star")for(var re=Math.PI/2*3,pe=4*P.scalar,ve=8*P.scalar,Ie=P.x,et=P.y,Je=5,dt=Math.PI/Je;Je--;)Ie=P.x+Math.cos(re)*ve,et=P.y+Math.sin(re)*ve,I.lineTo(Ie,et),re+=dt,Ie=P.x+Math.cos(re)*pe,et=P.y+Math.sin(re)*pe,I.lineTo(Ie,et),re+=dt;else I.moveTo(Math.floor(P.x),Math.floor(P.y)),I.lineTo(Math.floor(P.wobbleX),Math.floor(ee)),I.lineTo(Math.floor(X),Math.floor(ne)),I.lineTo(Math.floor(V),Math.floor(P.wobbleY));return I.closePath(),I.fill(),P.tick<P.totalTicks}function H(I,P,W,V,ee){var X=P.slice(),ne=I.getContext("2d"),F,$,K=u(function(Y){function se(){F=$=null,ne.clearRect(0,0,V.width,V.height),d.clear(),ee(),Y()}function Q(){n&&!(V.width===s.width&&V.height===s.height)&&(V.width=I.width=s.width,V.height=I.height=s.height),!V.width&&!V.height&&(W(I),V.width=I.width,V.height=I.height),ne.clearRect(0,0,V.width,V.height),X=X.filter(function(ae){return R(ne,ae)}),X.length?F=f.frame(Q):se()}F=f.frame(Q),$=se});return{addFettis:function(Y){return X=X.concat(Y),K},canvas:I,promise:K,reset:function(){F&&f.cancel(F),$&&$()}}}function U(I,P){var W=!I,V=!!y(P||{},"resize"),ee=!1,X=y(P,"disableForReducedMotion",Boolean),ne=a&&!!y(P||{},"useWorker"),F=ne?h():null,$=W?k:j,K=I&&F?!!I.__confetti_initialized:!1,Y=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,se;function Q(re,pe,ve){for(var Ie=y(re,"particleCount",x),et=y(re,"angle",Number),Je=y(re,"spread",Number),dt=y(re,"startVelocity",Number),Ce=y(re,"decay",Number),ke=y(re,"gravity",Number),G=y(re,"drift",Number),ce=y(re,"colors",_),Ne=y(re,"ticks",Number),qe=y(re,"shapes"),Ve=y(re,"scalar"),Re=!!y(re,"flat"),it=E(re),xe=Ie,Pe=[],Z=I.width*it.x,J=I.height*it.y;xe--;)Pe.push(A({x:Z,y:J,angle:et,spread:Je,startVelocity:dt,color:ce[xe%ce.length],shape:qe[b(0,qe.length)],ticks:Ne,decay:Ce,gravity:ke,drift:G,scalar:Ve,flat:Re}));return se?se.addFettis(Pe):(se=H(I,Pe,$,pe,ve),se.promise)}function ae(re){var pe=X||y(re,"disableForReducedMotion",Boolean),ve=y(re,"zIndex",Number);if(pe&&Y)return u(function(dt){dt()});W&&se?I=se.canvas:W&&!I&&(I=N(ve),document.body.appendChild(I)),V&&!K&&$(I);var Ie={width:I.width,height:I.height};F&&!K&&F.init(I),K=!0,F&&(I.__confetti_initialized=!0);function et(){if(F){var dt={getBoundingClientRect:function(){if(!W)return I.getBoundingClientRect()}};$(dt),F.postMessage({resize:{width:dt.width,height:dt.height}});return}Ie.width=Ie.height=null}function Je(){se=null,V&&(ee=!1,t.removeEventListener("resize",et)),W&&I&&(document.body.contains(I)&&document.body.removeChild(I),I=null,K=!1)}return V&&!ee&&(ee=!0,t.addEventListener("resize",et,!1)),F?F.fire(re,Ie,Je):Q(re,Ie,Je)}return ae.reset=function(){F&&F.reset(),se&&se.reset()},ae}var D;function B(){return D||(D=U(null,{useWorker:!0,resize:!0})),D}function L(I,P,W,V,ee,X,ne){var F=new Path2D(I),$=new Path2D;$.addPath(F,new DOMMatrix(P));var K=new Path2D;return K.addPath($,new DOMMatrix([Math.cos(ne)*ee,Math.sin(ne)*ee,-Math.sin(ne)*X,Math.cos(ne)*X,W,V])),K}function T(I){if(!i)throw new Error("path confetti are not supported in this browser");var P,W;typeof I=="string"?P=I:(P=I.path,W=I.matrix);var V=new Path2D(P),ee=document.createElement("canvas"),X=ee.getContext("2d");if(!W){for(var ne=1e3,F=ne,$=ne,K=0,Y=0,se,Q,ae=0;ae<ne;ae+=2)for(var re=0;re<ne;re+=2)X.isPointInPath(V,ae,re,"nonzero")&&(F=Math.min(F,ae),$=Math.min($,re),K=Math.max(K,ae),Y=Math.max(Y,re));se=K-F,Q=Y-$;var pe=10,ve=Math.min(pe/se,pe/Q);W=[ve,0,0,ve,-Math.round(se/2+F)*ve,-Math.round(Q/2+$)*ve]}return{type:"path",path:P,matrix:W}}function q(I){var P,W=1,V="#000000",ee='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof I=="string"?P=I:(P=I.text,W="scalar"in I?I.scalar:W,ee="fontFamily"in I?I.fontFamily:ee,V="color"in I?I.color:V);var X=10*W,ne=""+X+"px "+ee,F=new OffscreenCanvas(X,X),$=F.getContext("2d");$.font=ne;var K=$.measureText(P),Y=Math.ceil(K.actualBoundingBoxRight+K.actualBoundingBoxLeft),se=Math.ceil(K.actualBoundingBoxAscent+K.actualBoundingBoxDescent),Q=2,ae=K.actualBoundingBoxLeft+Q,re=K.actualBoundingBoxAscent+Q;Y+=Q+Q,se+=Q+Q,F=new OffscreenCanvas(Y,se),$=F.getContext("2d"),$.font=ne,$.fillStyle=V,$.fillText(P,ae,re);var pe=1/W;return{type:"bitmap",bitmap:F.transferToImageBitmap(),matrix:[pe,0,0,pe,-Y*pe/2,-se*pe/2]}}r.exports=function(){return B().apply(this,arguments)},r.exports.reset=function(){B().reset()},r.exports.create=U,r.exports.shapeFromPath=T,r.exports.shapeFromText=q})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),rv,!1);const N6=rv.exports;rv.exports.create;function WKe(){const[e,t]=m.useState("loading"),[r,n]=m.useState("Activating your premium subscription..."),s=rr(),{refreshUser:a}=ir(),i=()=>{const c=Date.now()+5e3,u={startVelocity:30,spread:360,ticks:60,zIndex:0};function d(h,g){return Math.random()*(g-h)+h}const f=setInterval(function(){const h=c-Date.now();if(h<=0)return clearInterval(f);const g=50*(h/5e3);N6({...u,particleCount:g,origin:{x:d(.1,.3),y:Math.random()-.2}}),N6({...u,particleCount:g,origin:{x:d(.7,.9),y:Math.random()-.2}})},250)};return m.useEffect(()=>{(async()=>{localStorage.getItem("bog_order_id"),localStorage.getItem("selected_plan_id"),new URLSearchParams(window.location.search).get("plan_id");try{localStorage.removeItem("bog_order_id"),localStorage.removeItem("selected_plan_id"),await a(),t("success"),n("Your monthly subscription is now active. Welcome to Premium!"),i()}catch(u){console.error("Failed to save card:",u),t("error"),n("We couldn't activate your subscription. Please try again or contact support.")}})()},[a]),o.jsx(At,{showSidebar:!1,children:o.jsx("div",{className:"flex items-center justify-center min-h-[70vh] bg-background",children:o.jsxs(Oe,{className:"w-full max-w-md mx-auto border-gray-100 dark:border-gray-800 shadow-xl rounded-3xl relative overflow-hidden",children:[e==="success"&&o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-primary animate-pulse"}),o.jsxs(yt,{className:"text-center pt-10 pb-6",children:[o.jsxs("div",{className:"flex justify-center mb-6",children:[e==="loading"&&o.jsx(bs,{className:"h-16 w-16 text-primary animate-spin"}),e==="success"&&o.jsx("div",{className:"bg-green-500/10 p-4 rounded-full border border-green-500/20",children:o.jsx(Di,{className:"h-16 w-16 text-green-500"})}),e==="error"&&o.jsx("div",{className:"bg-red-500/10 p-4 rounded-full border border-red-500/20",children:o.jsx(zw,{className:"h-16 w-16 text-destructive"})})]}),o.jsxs(Nt,{className:"text-2xl font-bold mb-2",children:[e==="loading"&&"Processing Payment",e==="success"&&"Payment Successful!",e==="error"&&"Payment Error"]}),o.jsx(Fr,{className:"text-muted-foreground text-lg italic",children:r})]}),o.jsxs(Me,{className:"flex flex-col gap-4 pb-10 px-8",children:[e!=="loading"&&o.jsx(oe,{onClick:()=>s("/dashboard"),className:"w-full h-11 font-bold rounded-2xl",children:"Go to Dashboard"}),e==="error"&&o.jsx(oe,{variant:"outline",onClick:()=>s("/home?upgrade=true"),className:"w-full h-11 rounded-2xl",children:"Try Again"})]})]})})})}function VKe(){const e=rr();return o.jsx(At,{showSidebar:!1,children:o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsxs(Oe,{className:"w-full max-w-md mx-auto border-0 shadow-xl bg-white/80 dark:bg-card/80 backdrop-blur-md",children:[o.jsxs(yt,{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(zw,{className:"h-16 w-16 text-destructive"})}),o.jsx(Nt,{className:"text-2xl font-bold",children:"Payment Failed"}),o.jsx(Fr,{className:"mt-2 text-lg",children:"Something went wrong with your payment. No charges were made."})]}),o.jsxs(Me,{className:"flex flex-col gap-4 mt-4",children:[o.jsx(oe,{onClick:()=>e("/home?upgrade=true"),className:"w-full",children:"Back to Subscriptions"}),o.jsx(oe,{variant:"outline",onClick:()=>e("/help"),className:"w-full",children:"Contact Support"})]})]})})})}const pr=(e,t)=>e.startsWith("/auth")||e==="/"?o.jsx(Ps,{path:e,element:t},e):o.jsxs(M.Fragment,{children:[o.jsx(Ps,{path:`/en${e}`,element:t}),o.jsx(Ps,{path:`/ka${e}`,element:t}),o.jsx(Ps,{path:e,element:t})]},e),HKe=()=>o.jsxs(uce,{children:[o.jsx(Ps,{path:"/",element:o.jsx(y4,{})}),o.jsx(Ps,{path:"/auth/login",element:o.jsx(y4,{})}),o.jsx(Ps,{path:"/auth/signup",element:o.jsx(jpe,{})}),o.jsx(Ps,{path:"/auth/reset-password",element:o.jsx(kpe,{})}),o.jsx(Ps,{path:"/email-verification",element:o.jsx(Epe,{})}),o.jsx(Ps,{path:"/email-confirmed",element:o.jsx(Cpe,{})}),o.jsx(Ps,{path:"/auth",element:o.jsx(L0,{to:"/auth/login",replace:!0})}),pr("/home",o.jsx(hr,{requiredRole:"user",children:o.jsx(fI,{})})),pr("/dashboard",o.jsx(hr,{requiredRole:"user",children:o.jsx(fI,{})})),pr("/profile",o.jsx(hr,{requiredRole:"user",children:o.jsx(T7e,{})})),pr("/saved",o.jsx(hr,{requiredRole:"user",children:o.jsx(O7e,{})})),pr("/settings",o.jsx(hr,{requiredRole:"user",children:o.jsx(H9e,{})})),pr("/notifications",o.jsx(hr,{requiredRole:"user",children:o.jsx(GVe,{})})),pr("/interests",o.jsx(hr,{requiredRole:"user",children:o.jsx(FVe,{})})),pr("/skill-test",o.jsx(hr,{requiredRole:"user",children:o.jsx(CVe,{})})),pr("/skill-path/:skillName",o.jsx(hr,{requiredRole:"user",children:o.jsx(LVe,{})})),pr("/skill-path",o.jsx(hr,{requiredRole:"user",children:o.jsx(OVe,{})})),pr("/jobs",o.jsx(hr,{requiredRole:"user",children:o.jsx(qze,{})})),pr("/jobs/search",o.jsx(hr,{requiredRole:"user",children:o.jsx(Wze,{})})),pr("/jobs/:jobId",o.jsx(hr,{requiredRole:"user",children:o.jsx(QWe,{})})),pr("/jobs/company/:companyName",o.jsx(hr,{requiredRole:"user",children:o.jsx(iVe,{})})),pr("/courses",o.jsx(hr,{requiredRole:"user",children:o.jsx(pVe,{})})),pr("/course/:courseId",o.jsx(hr,{requiredRole:"user",children:o.jsx(mVe,{})})),pr("/webinars",o.jsx(hr,{requiredRole:"user",children:o.jsx(qKe,{})})),o.jsx(Ps,{path:"/academy/register",element:o.jsx(mHe,{})}),pr("/academy/home",o.jsx(hr,{requiredRole:"academy",children:o.jsx(g6,{})})),pr("/academy/dashboard",o.jsx(hr,{requiredRole:"academy",children:o.jsx(g6,{})})),pr("/academy/courses",o.jsx(hr,{requiredRole:"academy",children:o.jsx(XVe,{})})),pr("/academy/profile",o.jsx(hr,{requiredRole:"academy",children:o.jsx(aHe,{})})),pr("/academy/settings",o.jsx(hr,{requiredRole:"academy",children:o.jsx(iHe,{})})),pr("/academy/courses/add",o.jsx(hr,{requiredRole:"academy",children:o.jsx(E6,{})})),pr("/academy/courses/edit/:courseId",o.jsx(hr,{requiredRole:"academy",children:o.jsx(E6,{})})),pr("/academy/:academySlug",o.jsx(hr,{children:o.jsx(pHe,{})})),pr("/terms-of-use",o.jsx(hr,{children:o.jsx(wKe,{})})),pr("/help",o.jsx(hr,{children:o.jsx(UKe,{})})),pr("/success",o.jsx(hr,{children:o.jsx(WKe,{})})),pr("/failure",o.jsx(hr,{children:o.jsx(VKe,{})})),o.jsx(Ps,{path:"*",element:o.jsx(zKe,{})})]}),KKe=new ale,GKe=()=>o.jsx(ule,{client:KKe,children:o.jsxs(qoe,{children:[o.jsx(aae,{position:"top-right",richColors:!0,closeButton:!0}),o.jsx(vce,{children:o.jsx(ade,{children:o.jsx(sde,{children:o.jsx(ede,{children:o.jsx(HKe,{})})})})})]})});Yj.createRoot(document.getElementById("root")).render(o.jsx(M.StrictMode,{children:o.jsx(Tse,{apiKey:"phc_heJ8MRT32luP8nFytb5ZIhQrsWepHqsCZBUjUegWais",options:{api_host:"https://eu.i.posthog.com",defaults:"2025-05-24",capture_exceptions:!0,debug:!1},children:o.jsx(fre,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:o.jsx("div",{suppressHydrationWarning:!0,children:o.jsx(GKe,{})})})})}))});export default YKe();
