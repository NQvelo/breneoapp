var KO=e=>{throw TypeError(e)};var b_=(e,t,r)=>t.has(e)||KO("Cannot "+r);var re=(e,t,r)=>(b_(e,t,"read from private field"),r?r.call(e):t.get(e)),St=(e,t,r)=>t.has(e)?KO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),it=(e,t,r,n)=>(b_(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Lt=(e,t,r)=>(b_(e,t,"access private method"),r);var Zy=(e,t,r,n)=>({set _(s){it(e,t,s,r)},get _(){return re(e,t,n)}});function AZ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function TZ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var $6={exports:{}},sw={},R6={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy=Symbol.for("react.element"),OZ=Symbol.for("react.portal"),$Z=Symbol.for("react.fragment"),RZ=Symbol.for("react.strict_mode"),MZ=Symbol.for("react.profiler"),IZ=Symbol.for("react.provider"),LZ=Symbol.for("react.context"),DZ=Symbol.for("react.forward_ref"),FZ=Symbol.for("react.suspense"),BZ=Symbol.for("react.memo"),UZ=Symbol.for("react.lazy"),GO=Symbol.iterator;function zZ(e){return e===null||typeof e!="object"?null:(e=GO&&e[GO]||e["@@iterator"],typeof e=="function"?e:null)}var M6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I6=Object.assign,L6={};function fh(e,t,r){this.props=e,this.context=t,this.refs=L6,this.updater=r||M6}fh.prototype.isReactComponent={};fh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function D6(){}D6.prototype=fh.prototype;function S2(e,t,r){this.props=e,this.context=t,this.refs=L6,this.updater=r||M6}var j2=S2.prototype=new D6;j2.constructor=S2;I6(j2,fh.prototype);j2.isPureReactComponent=!0;var YO=Array.isArray,F6=Object.prototype.hasOwnProperty,k2={current:null},B6={key:!0,ref:!0,__self:!0,__source:!0};function U6(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)F6.call(t,n)&&!B6.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:uy,type:e,key:a,ref:i,props:s,_owner:k2.current}}function qZ(e,t){return{$$typeof:uy,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function E2(e){return typeof e=="object"&&e!==null&&e.$$typeof===uy}function WZ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var JO=/\/+/g;function w_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?WZ(""+e.key):t.toString(36)}function g0(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case uy:case OZ:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+w_(i,0):n,YO(s)?(r="",e!=null&&(r=e.replace(JO,"$&/")+"/"),g0(s,t,r,"",function(u){return u})):s!=null&&(E2(s)&&(s=qZ(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(JO,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",YO(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+w_(a,l);i+=g0(a,t,r,c,s)}else if(c=zZ(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+w_(a,l++),i+=g0(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ev(e,t,r){if(e==null)return e;var n=[],s=0;return g0(e,n,"","",function(a){return t.call(r,a,s++)}),n}function VZ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ys={current:null},y0={transition:null},HZ={ReactCurrentDispatcher:ys,ReactCurrentBatchConfig:y0,ReactCurrentOwner:k2};function z6(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:ev,forEach:function(e,t,r){ev(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ev(e,function(){t++}),t},toArray:function(e){return ev(e,function(t){return t})||[]},only:function(e){if(!E2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Wt.Component=fh;Wt.Fragment=$Z;Wt.Profiler=MZ;Wt.PureComponent=S2;Wt.StrictMode=RZ;Wt.Suspense=FZ;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HZ;Wt.act=z6;Wt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=I6({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=k2.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)F6.call(t,c)&&!B6.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:uy,type:e.type,key:s,ref:a,props:n,_owner:i}};Wt.createContext=function(e){return e={$$typeof:LZ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:IZ,_context:e},e.Consumer=e};Wt.createElement=U6;Wt.createFactory=function(e){var t=U6.bind(null,e);return t.type=e,t};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(e){return{$$typeof:DZ,render:e}};Wt.isValidElement=E2;Wt.lazy=function(e){return{$$typeof:UZ,_payload:{_status:-1,_result:e},_init:VZ}};Wt.memo=function(e,t){return{$$typeof:BZ,type:e,compare:t===void 0?null:t}};Wt.startTransition=function(e){var t=y0.transition;y0.transition={};try{e()}finally{y0.transition=t}};Wt.unstable_act=z6;Wt.useCallback=function(e,t){return ys.current.useCallback(e,t)};Wt.useContext=function(e){return ys.current.useContext(e)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(e){return ys.current.useDeferredValue(e)};Wt.useEffect=function(e,t){return ys.current.useEffect(e,t)};Wt.useId=function(){return ys.current.useId()};Wt.useImperativeHandle=function(e,t,r){return ys.current.useImperativeHandle(e,t,r)};Wt.useInsertionEffect=function(e,t){return ys.current.useInsertionEffect(e,t)};Wt.useLayoutEffect=function(e,t){return ys.current.useLayoutEffect(e,t)};Wt.useMemo=function(e,t){return ys.current.useMemo(e,t)};Wt.useReducer=function(e,t,r){return ys.current.useReducer(e,t,r)};Wt.useRef=function(e){return ys.current.useRef(e)};Wt.useState=function(e){return ys.current.useState(e)};Wt.useSyncExternalStore=function(e,t,r){return ys.current.useSyncExternalStore(e,t,r)};Wt.useTransition=function(){return ys.current.useTransition()};Wt.version="18.3.1";R6.exports=Wt;var p=R6.exports;const M=vr(p),hh=AZ({__proto__:null,default:M},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KZ=p,GZ=Symbol.for("react.element"),YZ=Symbol.for("react.fragment"),JZ=Object.prototype.hasOwnProperty,XZ=KZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QZ={key:!0,ref:!0,__self:!0,__source:!0};function q6(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)JZ.call(t,n)&&!QZ.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:GZ,type:e,key:a,ref:i,props:s,_owner:XZ.current}}sw.Fragment=YZ;sw.jsx=q6;sw.jsxs=q6;$6.exports=sw;var o=$6.exports,Hj={},W6={exports:{}},ia={},V6={exports:{}},H6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,I){var te=A.length;A.push(I);e:for(;0<te;){var $=te-1>>>1,V=A[$];if(0<s(V,I))A[$]=I,A[te]=V,te=$;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var I=A[0],te=A.pop();if(te!==I){A[0]=te;e:for(var $=0,V=A.length,W=V>>>1;$<W;){var ee=2*($+1)-1,ie=A[ee],G=ee+1,q=A[G];if(0>s(ie,te))G<V&&0>s(q,ie)?(A[$]=q,A[G]=te,$=G):(A[$]=ie,A[ee]=te,$=ee);else if(G<V&&0>s(q,te))A[$]=q,A[G]=te,$=G;else break e}}return I}function s(A,I){var te=A.sortIndex-I.sortIndex;return te!==0?te:A.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,y=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=A)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function _(A){if(m=!1,w(A),!g)if(r(c)!==null)g=!0,O(S);else{var I=r(u);I!==null&&U(_,I.startTime-A)}}function S(A,I){g=!1,m&&(m=!1,x(j),j=-1),y=!0;var te=h;try{for(w(I),f=r(c);f!==null&&(!(f.expirationTime>I)||A&&!P());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var V=$(f.expirationTime<=I);I=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&n(c),w(I)}else n(c);f=r(c)}if(f!==null)var W=!0;else{var ee=r(u);ee!==null&&U(_,ee.startTime-I),W=!1}return W}finally{f=null,h=te,y=!1}}var k=!1,E=null,j=-1,N=5,C=-1;function P(){return!(e.unstable_now()-C<N)}function R(){if(E!==null){var A=e.unstable_now();C=A;var I=!0;try{I=E(!0,A)}finally{I?B():(k=!1,E=null)}}else k=!1}var B;if(typeof b=="function")B=function(){b(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=R,B=function(){D.postMessage(null)}}else B=function(){v(R,0)};function O(A){E=A,k||(k=!0,B())}function U(A,I){j=v(function(){A(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,O(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var te=h;h=I;try{return A()}finally{h=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,I){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var te=h;h=A;try{return I()}finally{h=te}},e.unstable_scheduleCallback=function(A,I,te){var $=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?$+te:$):te=$,A){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=te+V,A={id:d++,callback:I,priorityLevel:A,startTime:te,expirationTime:V,sortIndex:-1},te>$?(A.sortIndex=te,t(u,A),r(c)===null&&A===r(u)&&(m?(x(j),j=-1):m=!0,U(_,te-$))):(A.sortIndex=V,t(c,A),g||y||(g=!0,O(S))),A},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(A){var I=h;return function(){var te=h;h=I;try{return A.apply(this,arguments)}finally{h=te}}}})(H6);V6.exports=H6;var ZZ=V6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eee=p,na=ZZ;function Le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K6=new Set,$m={};function Bu(e,t){jf(e,t),jf(e+"Capture",t)}function jf(e,t){for($m[e]=t,e=0;e<t.length;e++)K6.add(t[e])}var Oo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kj=Object.prototype.hasOwnProperty,tee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XO={},QO={};function ree(e){return Kj.call(QO,e)?!0:Kj.call(XO,e)?!1:tee.test(e)?QO[e]=!0:(XO[e]=!0,!1)}function nee(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function see(e,t,r,n){if(t===null||typeof t>"u"||nee(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vs(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wn[e]=new vs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wn[t]=new vs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wn[e]=new vs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wn[e]=new vs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wn[e]=new vs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wn[e]=new vs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wn[e]=new vs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wn[e]=new vs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wn[e]=new vs(e,5,!1,e.toLowerCase(),null,!1,!1)});var N2=/[\-:]([a-z])/g;function C2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(N2,C2);Wn[t]=new vs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(N2,C2);Wn[t]=new vs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(N2,C2);Wn[t]=new vs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wn[e]=new vs(e,1,!1,e.toLowerCase(),null,!1,!1)});Wn.xlinkHref=new vs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wn[e]=new vs(e,1,!1,e.toLowerCase(),null,!0,!0)});function P2(e,t,r,n){var s=Wn.hasOwnProperty(t)?Wn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(see(t,r,s,n)&&(r=null),n||s===null?ree(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Vo=eee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tv=Symbol.for("react.element"),wd=Symbol.for("react.portal"),_d=Symbol.for("react.fragment"),A2=Symbol.for("react.strict_mode"),Gj=Symbol.for("react.profiler"),G6=Symbol.for("react.provider"),Y6=Symbol.for("react.context"),T2=Symbol.for("react.forward_ref"),Yj=Symbol.for("react.suspense"),Jj=Symbol.for("react.suspense_list"),O2=Symbol.for("react.memo"),pl=Symbol.for("react.lazy"),J6=Symbol.for("react.offscreen"),ZO=Symbol.iterator;function tp(e){return e===null||typeof e!="object"?null:(e=ZO&&e[ZO]||e["@@iterator"],typeof e=="function"?e:null)}var Kr=Object.assign,__;function Bp(e){if(__===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);__=t&&t[1]||""}return`
`+__+e}var S_=!1;function j_(e,t){if(!e||S_)return"";S_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{S_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Bp(e):""}function aee(e){switch(e.tag){case 5:return Bp(e.type);case 16:return Bp("Lazy");case 13:return Bp("Suspense");case 19:return Bp("SuspenseList");case 0:case 2:case 15:return e=j_(e.type,!1),e;case 11:return e=j_(e.type.render,!1),e;case 1:return e=j_(e.type,!0),e;default:return""}}function Xj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _d:return"Fragment";case wd:return"Portal";case Gj:return"Profiler";case A2:return"StrictMode";case Yj:return"Suspense";case Jj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y6:return(e.displayName||"Context")+".Consumer";case G6:return(e._context.displayName||"Context")+".Provider";case T2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O2:return t=e.displayName||null,t!==null?t:Xj(e.type)||"Memo";case pl:t=e._payload,e=e._init;try{return Xj(e(t))}catch{}}return null}function iee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xj(t);case 8:return t===A2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ec(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oee(e){var t=X6(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rv(e){e._valueTracker||(e._valueTracker=oee(e))}function Q6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=X6(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function U0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qj(e,t){var r=t.checked;return Kr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function e$(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ec(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Z6(e,t){t=t.checked,t!=null&&P2(e,"checked",t,!1)}function Zj(e,t){Z6(e,t);var r=ec(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ek(e,t.type,r):t.hasOwnProperty("defaultValue")&&ek(e,t.type,ec(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function t$(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ek(e,t,r){(t!=="number"||U0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Up=Array.isArray;function zd(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ec(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function tk(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Le(91));return Kr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function r$(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Le(92));if(Up(r)){if(1<r.length)throw Error(Le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ec(r)}}function e8(e,t){var r=ec(t.value),n=ec(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function n$(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function t8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rk(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?t8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nv,r8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nv=nv||document.createElement("div"),nv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Rm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var am={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lee=["Webkit","ms","Moz","O"];Object.keys(am).forEach(function(e){lee.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),am[t]=am[e]})});function n8(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||am.hasOwnProperty(e)&&am[e]?(""+t).trim():t+"px"}function s8(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=n8(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var cee=Kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nk(e,t){if(t){if(cee[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Le(62))}}function sk(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ak=null;function $2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ik=null,qd=null,Wd=null;function s$(e){if(e=hy(e)){if(typeof ik!="function")throw Error(Le(280));var t=e.stateNode;t&&(t=cw(t),ik(e.stateNode,e.type,t))}}function a8(e){qd?Wd?Wd.push(e):Wd=[e]:qd=e}function i8(){if(qd){var e=qd,t=Wd;if(Wd=qd=null,s$(e),t)for(e=0;e<t.length;e++)s$(t[e])}}function o8(e,t){return e(t)}function l8(){}var k_=!1;function c8(e,t,r){if(k_)return e(t,r);k_=!0;try{return o8(e,t,r)}finally{k_=!1,(qd!==null||Wd!==null)&&(l8(),i8())}}function Mm(e,t){var r=e.stateNode;if(r===null)return null;var n=cw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Le(231,t,typeof r));return r}var ok=!1;if(Oo)try{var rp={};Object.defineProperty(rp,"passive",{get:function(){ok=!0}}),window.addEventListener("test",rp,rp),window.removeEventListener("test",rp,rp)}catch{ok=!1}function uee(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var im=!1,z0=null,q0=!1,lk=null,dee={onError:function(e){im=!0,z0=e}};function fee(e,t,r,n,s,a,i,l,c){im=!1,z0=null,uee.apply(dee,arguments)}function hee(e,t,r,n,s,a,i,l,c){if(fee.apply(this,arguments),im){if(im){var u=z0;im=!1,z0=null}else throw Error(Le(198));q0||(q0=!0,lk=u)}}function Uu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function u8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function a$(e){if(Uu(e)!==e)throw Error(Le(188))}function pee(e){var t=e.alternate;if(!t){if(t=Uu(e),t===null)throw Error(Le(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return a$(s),e;if(a===n)return a$(s),t;a=a.sibling}throw Error(Le(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(Le(189))}}if(r.alternate!==n)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?e:t}function d8(e){return e=pee(e),e!==null?f8(e):null}function f8(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=f8(e);if(t!==null)return t;e=e.sibling}return null}var h8=na.unstable_scheduleCallback,i$=na.unstable_cancelCallback,mee=na.unstable_shouldYield,gee=na.unstable_requestPaint,tn=na.unstable_now,yee=na.unstable_getCurrentPriorityLevel,R2=na.unstable_ImmediatePriority,p8=na.unstable_UserBlockingPriority,W0=na.unstable_NormalPriority,vee=na.unstable_LowPriority,m8=na.unstable_IdlePriority,aw=null,Ri=null;function xee(e){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(aw,e,void 0,(e.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:_ee,bee=Math.log,wee=Math.LN2;function _ee(e){return e>>>=0,e===0?32:31-(bee(e)/wee|0)|0}var sv=64,av=4194304;function zp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function V0(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=zp(l):(a&=i,a!==0&&(n=zp(a)))}else i=r&~s,i!==0?n=zp(i):a!==0&&(n=zp(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ei(t),s=1<<r,n|=e[r],t&=~s;return n}function See(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jee(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-ei(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=See(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function ck(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function g8(){var e=sv;return sv<<=1,!(sv&4194240)&&(sv=64),e}function E_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function dy(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ei(t),e[t]=r}function kee(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ei(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function M2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ei(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var dr=0;function y8(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var v8,I2,x8,b8,w8,uk=!1,iv=[],Fl=null,Bl=null,Ul=null,Im=new Map,Lm=new Map,vl=[],Eee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function o$(e,t){switch(e){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":Bl=null;break;case"mouseover":case"mouseout":Ul=null;break;case"pointerover":case"pointerout":Im.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lm.delete(t.pointerId)}}function np(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=hy(t),t!==null&&I2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Nee(e,t,r,n,s){switch(t){case"focusin":return Fl=np(Fl,e,t,r,n,s),!0;case"dragenter":return Bl=np(Bl,e,t,r,n,s),!0;case"mouseover":return Ul=np(Ul,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Im.set(a,np(Im.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Lm.set(a,np(Lm.get(a)||null,e,t,r,n,s)),!0}return!1}function _8(e){var t=zc(e.target);if(t!==null){var r=Uu(t);if(r!==null){if(t=r.tag,t===13){if(t=u8(r),t!==null){e.blockedOn=t,w8(e.priority,function(){x8(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function v0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=dk(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ak=n,r.target.dispatchEvent(n),ak=null}else return t=hy(r),t!==null&&I2(t),e.blockedOn=r,!1;t.shift()}return!0}function l$(e,t,r){v0(e)&&r.delete(t)}function Cee(){uk=!1,Fl!==null&&v0(Fl)&&(Fl=null),Bl!==null&&v0(Bl)&&(Bl=null),Ul!==null&&v0(Ul)&&(Ul=null),Im.forEach(l$),Lm.forEach(l$)}function sp(e,t){e.blockedOn===t&&(e.blockedOn=null,uk||(uk=!0,na.unstable_scheduleCallback(na.unstable_NormalPriority,Cee)))}function Dm(e){function t(s){return sp(s,e)}if(0<iv.length){sp(iv[0],e);for(var r=1;r<iv.length;r++){var n=iv[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Fl!==null&&sp(Fl,e),Bl!==null&&sp(Bl,e),Ul!==null&&sp(Ul,e),Im.forEach(t),Lm.forEach(t),r=0;r<vl.length;r++)n=vl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vl.length&&(r=vl[0],r.blockedOn===null);)_8(r),r.blockedOn===null&&vl.shift()}var Vd=Vo.ReactCurrentBatchConfig,H0=!0;function Pee(e,t,r,n){var s=dr,a=Vd.transition;Vd.transition=null;try{dr=1,L2(e,t,r,n)}finally{dr=s,Vd.transition=a}}function Aee(e,t,r,n){var s=dr,a=Vd.transition;Vd.transition=null;try{dr=4,L2(e,t,r,n)}finally{dr=s,Vd.transition=a}}function L2(e,t,r,n){if(H0){var s=dk(e,t,r,n);if(s===null)I_(e,t,n,K0,r),o$(e,n);else if(Nee(s,e,t,r,n))n.stopPropagation();else if(o$(e,n),t&4&&-1<Eee.indexOf(e)){for(;s!==null;){var a=hy(s);if(a!==null&&v8(a),a=dk(e,t,r,n),a===null&&I_(e,t,n,K0,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else I_(e,t,n,null,r)}}var K0=null;function dk(e,t,r,n){if(K0=null,e=$2(n),e=zc(e),e!==null)if(t=Uu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=u8(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return K0=e,null}function S8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yee()){case R2:return 1;case p8:return 4;case W0:case vee:return 16;case m8:return 536870912;default:return 16}default:return 16}}var Tl=null,D2=null,x0=null;function j8(){if(x0)return x0;var e,t=D2,r=t.length,n,s="value"in Tl?Tl.value:Tl.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return x0=s.slice(e,1<n?1-n:void 0)}function b0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ov(){return!0}function c$(){return!1}function oa(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ov:c$,this.isPropagationStopped=c$,this}return Kr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ov)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ov)},persist:function(){},isPersistent:ov}),t}var ph={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F2=oa(ph),fy=Kr({},ph,{view:0,detail:0}),Tee=oa(fy),N_,C_,ap,iw=Kr({},fy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ap&&(ap&&e.type==="mousemove"?(N_=e.screenX-ap.screenX,C_=e.screenY-ap.screenY):C_=N_=0,ap=e),N_)},movementY:function(e){return"movementY"in e?e.movementY:C_}}),u$=oa(iw),Oee=Kr({},iw,{dataTransfer:0}),$ee=oa(Oee),Ree=Kr({},fy,{relatedTarget:0}),P_=oa(Ree),Mee=Kr({},ph,{animationName:0,elapsedTime:0,pseudoElement:0}),Iee=oa(Mee),Lee=Kr({},ph,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dee=oa(Lee),Fee=Kr({},ph,{data:0}),d$=oa(Fee),Bee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qee(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zee[e])?!!t[e]:!1}function B2(){return qee}var Wee=Kr({},fy,{key:function(e){if(e.key){var t=Bee[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=b0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uee[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B2,charCode:function(e){return e.type==="keypress"?b0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?b0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vee=oa(Wee),Hee=Kr({},iw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f$=oa(Hee),Kee=Kr({},fy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B2}),Gee=oa(Kee),Yee=Kr({},ph,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jee=oa(Yee),Xee=Kr({},iw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qee=oa(Xee),Zee=[9,13,27,32],U2=Oo&&"CompositionEvent"in window,om=null;Oo&&"documentMode"in document&&(om=document.documentMode);var ete=Oo&&"TextEvent"in window&&!om,k8=Oo&&(!U2||om&&8<om&&11>=om),h$=" ",p$=!1;function E8(e,t){switch(e){case"keyup":return Zee.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sd=!1;function tte(e,t){switch(e){case"compositionend":return N8(t);case"keypress":return t.which!==32?null:(p$=!0,h$);case"textInput":return e=t.data,e===h$&&p$?null:e;default:return null}}function rte(e,t){if(Sd)return e==="compositionend"||!U2&&E8(e,t)?(e=j8(),x0=D2=Tl=null,Sd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return k8&&t.locale!=="ko"?null:t.data;default:return null}}var nte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m$(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nte[e.type]:t==="textarea"}function C8(e,t,r,n){a8(n),t=G0(t,"onChange"),0<t.length&&(r=new F2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var lm=null,Fm=null;function ste(e){F8(e,0)}function ow(e){var t=Ed(e);if(Q6(t))return e}function ate(e,t){if(e==="change")return t}var P8=!1;if(Oo){var A_;if(Oo){var T_="oninput"in document;if(!T_){var g$=document.createElement("div");g$.setAttribute("oninput","return;"),T_=typeof g$.oninput=="function"}A_=T_}else A_=!1;P8=A_&&(!document.documentMode||9<document.documentMode)}function y$(){lm&&(lm.detachEvent("onpropertychange",A8),Fm=lm=null)}function A8(e){if(e.propertyName==="value"&&ow(Fm)){var t=[];C8(t,Fm,e,$2(e)),c8(ste,t)}}function ite(e,t,r){e==="focusin"?(y$(),lm=t,Fm=r,lm.attachEvent("onpropertychange",A8)):e==="focusout"&&y$()}function ote(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ow(Fm)}function lte(e,t){if(e==="click")return ow(t)}function cte(e,t){if(e==="input"||e==="change")return ow(t)}function ute(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ai=typeof Object.is=="function"?Object.is:ute;function Bm(e,t){if(ai(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Kj.call(t,s)||!ai(e[s],t[s]))return!1}return!0}function v$(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function x$(e,t){var r=v$(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=v$(r)}}function T8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?T8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function O8(){for(var e=window,t=U0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=U0(e.document)}return t}function z2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dte(e){var t=O8(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&T8(r.ownerDocument.documentElement,r)){if(n!==null&&z2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=x$(r,a);var i=x$(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fte=Oo&&"documentMode"in document&&11>=document.documentMode,jd=null,fk=null,cm=null,hk=!1;function b$(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hk||jd==null||jd!==U0(n)||(n=jd,"selectionStart"in n&&z2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),cm&&Bm(cm,n)||(cm=n,n=G0(fk,"onSelect"),0<n.length&&(t=new F2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=jd)))}function lv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var kd={animationend:lv("Animation","AnimationEnd"),animationiteration:lv("Animation","AnimationIteration"),animationstart:lv("Animation","AnimationStart"),transitionend:lv("Transition","TransitionEnd")},O_={},$8={};Oo&&($8=document.createElement("div").style,"AnimationEvent"in window||(delete kd.animationend.animation,delete kd.animationiteration.animation,delete kd.animationstart.animation),"TransitionEvent"in window||delete kd.transitionend.transition);function lw(e){if(O_[e])return O_[e];if(!kd[e])return e;var t=kd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in $8)return O_[e]=t[r];return e}var R8=lw("animationend"),M8=lw("animationiteration"),I8=lw("animationstart"),L8=lw("transitionend"),D8=new Map,w$="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uc(e,t){D8.set(e,t),Bu(t,[e])}for(var $_=0;$_<w$.length;$_++){var R_=w$[$_],hte=R_.toLowerCase(),pte=R_[0].toUpperCase()+R_.slice(1);uc(hte,"on"+pte)}uc(R8,"onAnimationEnd");uc(M8,"onAnimationIteration");uc(I8,"onAnimationStart");uc("dblclick","onDoubleClick");uc("focusin","onFocus");uc("focusout","onBlur");uc(L8,"onTransitionEnd");jf("onMouseEnter",["mouseout","mouseover"]);jf("onMouseLeave",["mouseout","mouseover"]);jf("onPointerEnter",["pointerout","pointerover"]);jf("onPointerLeave",["pointerout","pointerover"]);Bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mte=new Set("cancel close invalid load scroll toggle".split(" ").concat(qp));function _$(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,hee(n,t,void 0,e),e.currentTarget=null}function F8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;_$(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;_$(s,l,u),a=c}}}if(q0)throw e=lk,q0=!1,lk=null,e}function Pr(e,t){var r=t[vk];r===void 0&&(r=t[vk]=new Set);var n=e+"__bubble";r.has(n)||(B8(t,e,2,!1),r.add(n))}function M_(e,t,r){var n=0;t&&(n|=4),B8(r,e,n,t)}var cv="_reactListening"+Math.random().toString(36).slice(2);function Um(e){if(!e[cv]){e[cv]=!0,K6.forEach(function(r){r!=="selectionchange"&&(mte.has(r)||M_(r,!1,e),M_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cv]||(t[cv]=!0,M_("selectionchange",!1,t))}}function B8(e,t,r,n){switch(S8(t)){case 1:var s=Pee;break;case 4:s=Aee;break;default:s=L2}r=s.bind(null,t,r,e),s=void 0,!ok||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function I_(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=zc(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}c8(function(){var u=a,d=$2(r),f=[];e:{var h=D8.get(e);if(h!==void 0){var y=F2,g=e;switch(e){case"keypress":if(b0(r)===0)break e;case"keydown":case"keyup":y=Vee;break;case"focusin":g="focus",y=P_;break;case"focusout":g="blur",y=P_;break;case"beforeblur":case"afterblur":y=P_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=u$;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=$ee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Gee;break;case R8:case M8:case I8:y=Iee;break;case L8:y=Jee;break;case"scroll":y=Tee;break;case"wheel":y=Qee;break;case"copy":case"cut":case"paste":y=Dee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=f$}var m=(t&4)!==0,v=!m&&e==="scroll",x=m?h!==null?h+"Capture":null:h;m=[];for(var b=u,w;b!==null;){w=b;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=Mm(b,x),_!=null&&m.push(zm(b,_,w)))),v)break;b=b.return}0<m.length&&(h=new y(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&r!==ak&&(g=r.relatedTarget||r.fromElement)&&(zc(g)||g[$o]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(g=r.relatedTarget||r.toElement,y=u,g=g?zc(g):null,g!==null&&(v=Uu(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=u),y!==g)){if(m=u$,_="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=f$,_="onPointerLeave",x="onPointerEnter",b="pointer"),v=y==null?h:Ed(y),w=g==null?h:Ed(g),h=new m(_,b+"leave",y,r,d),h.target=v,h.relatedTarget=w,_=null,zc(d)===u&&(m=new m(x,b+"enter",g,r,d),m.target=w,m.relatedTarget=v,_=m),v=_,y&&g)t:{for(m=y,x=g,b=0,w=m;w;w=Ju(w))b++;for(w=0,_=x;_;_=Ju(_))w++;for(;0<b-w;)m=Ju(m),b--;for(;0<w-b;)x=Ju(x),w--;for(;b--;){if(m===x||x!==null&&m===x.alternate)break t;m=Ju(m),x=Ju(x)}m=null}else m=null;y!==null&&S$(f,h,y,m,!1),g!==null&&v!==null&&S$(f,v,g,m,!0)}}e:{if(h=u?Ed(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var S=ate;else if(m$(h))if(P8)S=cte;else{S=ote;var k=ite}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=lte);if(S&&(S=S(e,u))){C8(f,S,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&ek(h,"number",h.value)}switch(k=u?Ed(u):window,e){case"focusin":(m$(k)||k.contentEditable==="true")&&(jd=k,fk=u,cm=null);break;case"focusout":cm=fk=jd=null;break;case"mousedown":hk=!0;break;case"contextmenu":case"mouseup":case"dragend":hk=!1,b$(f,r,d);break;case"selectionchange":if(fte)break;case"keydown":case"keyup":b$(f,r,d)}var E;if(U2)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Sd?E8(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(k8&&r.locale!=="ko"&&(Sd||j!=="onCompositionStart"?j==="onCompositionEnd"&&Sd&&(E=j8()):(Tl=d,D2="value"in Tl?Tl.value:Tl.textContent,Sd=!0)),k=G0(u,j),0<k.length&&(j=new d$(j,e,null,r,d),f.push({event:j,listeners:k}),E?j.data=E:(E=N8(r),E!==null&&(j.data=E)))),(E=ete?tte(e,r):rte(e,r))&&(u=G0(u,"onBeforeInput"),0<u.length&&(d=new d$("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}F8(f,t)})}function zm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function G0(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Mm(e,r),a!=null&&n.unshift(zm(e,a,s)),a=Mm(e,t),a!=null&&n.push(zm(e,a,s))),e=e.return}return n}function Ju(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function S$(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Mm(r,a),c!=null&&i.unshift(zm(r,c,l))):s||(c=Mm(r,a),c!=null&&i.push(zm(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var gte=/\r\n?/g,yte=/\u0000|\uFFFD/g;function j$(e){return(typeof e=="string"?e:""+e).replace(gte,`
`).replace(yte,"")}function uv(e,t,r){if(t=j$(t),j$(e)!==t&&r)throw Error(Le(425))}function Y0(){}var pk=null,mk=null;function gk(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yk=typeof setTimeout=="function"?setTimeout:void 0,vte=typeof clearTimeout=="function"?clearTimeout:void 0,k$=typeof Promise=="function"?Promise:void 0,xte=typeof queueMicrotask=="function"?queueMicrotask:typeof k$<"u"?function(e){return k$.resolve(null).then(e).catch(bte)}:yk;function bte(e){setTimeout(function(){throw e})}function L_(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Dm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Dm(t)}function zl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function E$(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var mh=Math.random().toString(36).slice(2),Ni="__reactFiber$"+mh,qm="__reactProps$"+mh,$o="__reactContainer$"+mh,vk="__reactEvents$"+mh,wte="__reactListeners$"+mh,_te="__reactHandles$"+mh;function zc(e){var t=e[Ni];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$o]||r[Ni]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=E$(e);e!==null;){if(r=e[Ni])return r;e=E$(e)}return t}e=r,r=e.parentNode}return null}function hy(e){return e=e[Ni]||e[$o],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ed(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Le(33))}function cw(e){return e[qm]||null}var xk=[],Nd=-1;function dc(e){return{current:e}}function $r(e){0>Nd||(e.current=xk[Nd],xk[Nd]=null,Nd--)}function Nr(e,t){Nd++,xk[Nd]=e.current,e.current=t}var tc={},rs=dc(tc),Is=dc(!1),vu=tc;function kf(e,t){var r=e.type.contextTypes;if(!r)return tc;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ls(e){return e=e.childContextTypes,e!=null}function J0(){$r(Is),$r(rs)}function N$(e,t,r){if(rs.current!==tc)throw Error(Le(168));Nr(rs,t),Nr(Is,r)}function U8(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Le(108,iee(e)||"Unknown",s));return Kr({},r,n)}function X0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tc,vu=rs.current,Nr(rs,e),Nr(Is,Is.current),!0}function C$(e,t,r){var n=e.stateNode;if(!n)throw Error(Le(169));r?(e=U8(e,t,vu),n.__reactInternalMemoizedMergedChildContext=e,$r(Is),$r(rs),Nr(rs,e)):$r(Is),Nr(Is,r)}var po=null,uw=!1,D_=!1;function z8(e){po===null?po=[e]:po.push(e)}function Ste(e){uw=!0,z8(e)}function fc(){if(!D_&&po!==null){D_=!0;var e=0,t=dr;try{var r=po;for(dr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}po=null,uw=!1}catch(s){throw po!==null&&(po=po.slice(e+1)),h8(R2,fc),s}finally{dr=t,D_=!1}}return null}var Cd=[],Pd=0,Q0=null,Z0=0,ya=[],va=0,xu=null,vo=1,xo="";function Ac(e,t){Cd[Pd++]=Z0,Cd[Pd++]=Q0,Q0=e,Z0=t}function q8(e,t,r){ya[va++]=vo,ya[va++]=xo,ya[va++]=xu,xu=e;var n=vo;e=xo;var s=32-ei(n)-1;n&=~(1<<s),r+=1;var a=32-ei(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,vo=1<<32-ei(t)+s|r<<s|n,xo=a+e}else vo=1<<a|r<<s|n,xo=e}function q2(e){e.return!==null&&(Ac(e,1),q8(e,1,0))}function W2(e){for(;e===Q0;)Q0=Cd[--Pd],Cd[Pd]=null,Z0=Cd[--Pd],Cd[Pd]=null;for(;e===xu;)xu=ya[--va],ya[va]=null,xo=ya[--va],ya[va]=null,vo=ya[--va],ya[va]=null}var ta=null,Zs=null,Dr=!1,Ya=null;function W8(e,t){var r=ba(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function P$(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ta=e,Zs=zl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ta=e,Zs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=xu!==null?{id:vo,overflow:xo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ba(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ta=e,Zs=null,!0):!1;default:return!1}}function bk(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wk(e){if(Dr){var t=Zs;if(t){var r=t;if(!P$(e,t)){if(bk(e))throw Error(Le(418));t=zl(r.nextSibling);var n=ta;t&&P$(e,t)?W8(n,r):(e.flags=e.flags&-4097|2,Dr=!1,ta=e)}}else{if(bk(e))throw Error(Le(418));e.flags=e.flags&-4097|2,Dr=!1,ta=e}}}function A$(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ta=e}function dv(e){if(e!==ta)return!1;if(!Dr)return A$(e),Dr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gk(e.type,e.memoizedProps)),t&&(t=Zs)){if(bk(e))throw V8(),Error(Le(418));for(;t;)W8(e,t),t=zl(t.nextSibling)}if(A$(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zs=zl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zs=null}}else Zs=ta?zl(e.stateNode.nextSibling):null;return!0}function V8(){for(var e=Zs;e;)e=zl(e.nextSibling)}function Ef(){Zs=ta=null,Dr=!1}function V2(e){Ya===null?Ya=[e]:Ya.push(e)}var jte=Vo.ReactCurrentBatchConfig;function ip(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var n=r.stateNode}if(!n)throw Error(Le(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,e))}return e}function fv(e,t){throw e=Object.prototype.toString.call(t),Error(Le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function T$(e){var t=e._init;return t(e._payload)}function H8(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=Hl(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,w,_){return b===null||b.tag!==6?(b=V_(w,x.mode,_),b.return=x,b):(b=s(b,w),b.return=x,b)}function c(x,b,w,_){var S=w.type;return S===_d?d(x,b,w.props.children,_,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===pl&&T$(S)===b.type)?(_=s(b,w.props),_.ref=ip(x,b,w),_.return=x,_):(_=N0(w.type,w.key,w.props,null,x.mode,_),_.ref=ip(x,b,w),_.return=x,_)}function u(x,b,w,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=H_(w,x.mode,_),b.return=x,b):(b=s(b,w.children||[]),b.return=x,b)}function d(x,b,w,_,S){return b===null||b.tag!==7?(b=iu(w,x.mode,_,S),b.return=x,b):(b=s(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=V_(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tv:return w=N0(b.type,b.key,b.props,null,x.mode,w),w.ref=ip(x,null,b),w.return=x,w;case wd:return b=H_(b,x.mode,w),b.return=x,b;case pl:var _=b._init;return f(x,_(b._payload),w)}if(Up(b)||tp(b))return b=iu(b,x.mode,w,null),b.return=x,b;fv(x,b)}return null}function h(x,b,w,_){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(x,b,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tv:return w.key===S?c(x,b,w,_):null;case wd:return w.key===S?u(x,b,w,_):null;case pl:return S=w._init,h(x,b,S(w._payload),_)}if(Up(w)||tp(w))return S!==null?null:d(x,b,w,_,null);fv(x,w)}return null}function y(x,b,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,l(b,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case tv:return x=x.get(_.key===null?w:_.key)||null,c(b,x,_,S);case wd:return x=x.get(_.key===null?w:_.key)||null,u(b,x,_,S);case pl:var k=_._init;return y(x,b,w,k(_._payload),S)}if(Up(_)||tp(_))return x=x.get(w)||null,d(b,x,_,S,null);fv(b,_)}return null}function g(x,b,w,_){for(var S=null,k=null,E=b,j=b=0,N=null;E!==null&&j<w.length;j++){E.index>j?(N=E,E=null):N=E.sibling;var C=h(x,E,w[j],_);if(C===null){E===null&&(E=N);break}e&&E&&C.alternate===null&&t(x,E),b=a(C,b,j),k===null?S=C:k.sibling=C,k=C,E=N}if(j===w.length)return r(x,E),Dr&&Ac(x,j),S;if(E===null){for(;j<w.length;j++)E=f(x,w[j],_),E!==null&&(b=a(E,b,j),k===null?S=E:k.sibling=E,k=E);return Dr&&Ac(x,j),S}for(E=n(x,E);j<w.length;j++)N=y(E,x,j,w[j],_),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?j:N.key),b=a(N,b,j),k===null?S=N:k.sibling=N,k=N);return e&&E.forEach(function(P){return t(x,P)}),Dr&&Ac(x,j),S}function m(x,b,w,_){var S=tp(w);if(typeof S!="function")throw Error(Le(150));if(w=S.call(w),w==null)throw Error(Le(151));for(var k=S=null,E=b,j=b=0,N=null,C=w.next();E!==null&&!C.done;j++,C=w.next()){E.index>j?(N=E,E=null):N=E.sibling;var P=h(x,E,C.value,_);if(P===null){E===null&&(E=N);break}e&&E&&P.alternate===null&&t(x,E),b=a(P,b,j),k===null?S=P:k.sibling=P,k=P,E=N}if(C.done)return r(x,E),Dr&&Ac(x,j),S;if(E===null){for(;!C.done;j++,C=w.next())C=f(x,C.value,_),C!==null&&(b=a(C,b,j),k===null?S=C:k.sibling=C,k=C);return Dr&&Ac(x,j),S}for(E=n(x,E);!C.done;j++,C=w.next())C=y(E,x,j,C.value,_),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?j:C.key),b=a(C,b,j),k===null?S=C:k.sibling=C,k=C);return e&&E.forEach(function(R){return t(x,R)}),Dr&&Ac(x,j),S}function v(x,b,w,_){if(typeof w=="object"&&w!==null&&w.type===_d&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case tv:e:{for(var S=w.key,k=b;k!==null;){if(k.key===S){if(S=w.type,S===_d){if(k.tag===7){r(x,k.sibling),b=s(k,w.props.children),b.return=x,x=b;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===pl&&T$(S)===k.type){r(x,k.sibling),b=s(k,w.props),b.ref=ip(x,k,w),b.return=x,x=b;break e}r(x,k);break}else t(x,k);k=k.sibling}w.type===_d?(b=iu(w.props.children,x.mode,_,w.key),b.return=x,x=b):(_=N0(w.type,w.key,w.props,null,x.mode,_),_.ref=ip(x,b,w),_.return=x,x=_)}return i(x);case wd:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(x,b.sibling),b=s(b,w.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=H_(w,x.mode,_),b.return=x,x=b}return i(x);case pl:return k=w._init,v(x,b,k(w._payload),_)}if(Up(w))return g(x,b,w,_);if(tp(w))return m(x,b,w,_);fv(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(x,b.sibling),b=s(b,w),b.return=x,x=b):(r(x,b),b=V_(w,x.mode,_),b.return=x,x=b),i(x)):r(x,b)}return v}var Nf=H8(!0),K8=H8(!1),ex=dc(null),tx=null,Ad=null,H2=null;function K2(){H2=Ad=tx=null}function G2(e){var t=ex.current;$r(ex),e._currentValue=t}function _k(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hd(e,t){tx=e,H2=Ad=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($s=!0),e.firstContext=null)}function Aa(e){var t=e._currentValue;if(H2!==e)if(e={context:e,memoizedValue:t,next:null},Ad===null){if(tx===null)throw Error(Le(308));Ad=e,tx.dependencies={lanes:0,firstContext:e}}else Ad=Ad.next=e;return t}var qc=null;function Y2(e){qc===null?qc=[e]:qc.push(e)}function G8(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Y2(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ro(e,n)}function Ro(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ml=!1;function J2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y8(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ko(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ql(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Gt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ro(e,r)}return s=n.interleaved,s===null?(t.next=t,Y2(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ro(e,r)}function w0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,M2(e,r)}}function O$(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function rx(e,t,r,n){var s=e.updateQueue;ml=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var h=l.lane,y=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,y=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(y,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(y,f,h):g,h==null)break e;f=Kr({},f,h);break e;case 2:ml=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else y={eventTime:y,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=f):d=d.next=y,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);wu|=i,e.lanes=i,e.memoizedState=f}}function $$(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Le(191,s));s.call(n)}}}var py={},Mi=dc(py),Wm=dc(py),Vm=dc(py);function Wc(e){if(e===py)throw Error(Le(174));return e}function X2(e,t){switch(Nr(Vm,t),Nr(Wm,e),Nr(Mi,py),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rk(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rk(t,e)}$r(Mi),Nr(Mi,t)}function Cf(){$r(Mi),$r(Wm),$r(Vm)}function J8(e){Wc(Vm.current);var t=Wc(Mi.current),r=rk(t,e.type);t!==r&&(Nr(Wm,e),Nr(Mi,r))}function Q2(e){Wm.current===e&&($r(Mi),$r(Wm))}var qr=dc(0);function nx(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var F_=[];function Z2(){for(var e=0;e<F_.length;e++)F_[e]._workInProgressVersionPrimary=null;F_.length=0}var _0=Vo.ReactCurrentDispatcher,B_=Vo.ReactCurrentBatchConfig,bu=0,Hr=null,vn=null,Nn=null,sx=!1,um=!1,Hm=0,kte=0;function Vn(){throw Error(Le(321))}function eP(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ai(e[r],t[r]))return!1;return!0}function tP(e,t,r,n,s,a){if(bu=a,Hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_0.current=e===null||e.memoizedState===null?Pte:Ate,e=r(n,s),um){a=0;do{if(um=!1,Hm=0,25<=a)throw Error(Le(301));a+=1,Nn=vn=null,t.updateQueue=null,_0.current=Tte,e=r(n,s)}while(um)}if(_0.current=ax,t=vn!==null&&vn.next!==null,bu=0,Nn=vn=Hr=null,sx=!1,t)throw Error(Le(300));return e}function rP(){var e=Hm!==0;return Hm=0,e}function bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Hr.memoizedState=Nn=e:Nn=Nn.next=e,Nn}function Ta(){if(vn===null){var e=Hr.alternate;e=e!==null?e.memoizedState:null}else e=vn.next;var t=Nn===null?Hr.memoizedState:Nn.next;if(t!==null)Nn=t,vn=e;else{if(e===null)throw Error(Le(310));vn=e,e={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},Nn===null?Hr.memoizedState=Nn=e:Nn=Nn.next=e}return Nn}function Km(e,t){return typeof t=="function"?t(e):t}function U_(e){var t=Ta(),r=t.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=e;var n=vn,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((bu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Hr.lanes|=d,wu|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,ai(n,t.memoizedState)||($s=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Hr.lanes|=a,wu|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function z_(e){var t=Ta(),r=t.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);ai(a,t.memoizedState)||($s=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function X8(){}function Q8(e,t){var r=Hr,n=Ta(),s=t(),a=!ai(n.memoizedState,s);if(a&&(n.memoizedState=s,$s=!0),n=n.queue,nP(tB.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Nn!==null&&Nn.memoizedState.tag&1){if(r.flags|=2048,Gm(9,eB.bind(null,r,n,s,t),void 0,null),Tn===null)throw Error(Le(349));bu&30||Z8(r,t,s)}return s}function Z8(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Hr.updateQueue,t===null?(t={lastEffect:null,stores:null},Hr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function eB(e,t,r,n){t.value=r,t.getSnapshot=n,rB(t)&&nB(e)}function tB(e,t,r){return r(function(){rB(t)&&nB(e)})}function rB(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ai(e,r)}catch{return!0}}function nB(e){var t=Ro(e,1);t!==null&&ti(t,e,1,-1)}function R$(e){var t=bi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Km,lastRenderedState:e},t.queue=e,e=e.dispatch=Cte.bind(null,Hr,e),[t.memoizedState,e]}function Gm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Hr.updateQueue,t===null?(t={lastEffect:null,stores:null},Hr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function sB(){return Ta().memoizedState}function S0(e,t,r,n){var s=bi();Hr.flags|=e,s.memoizedState=Gm(1|t,r,void 0,n===void 0?null:n)}function dw(e,t,r,n){var s=Ta();n=n===void 0?null:n;var a=void 0;if(vn!==null){var i=vn.memoizedState;if(a=i.destroy,n!==null&&eP(n,i.deps)){s.memoizedState=Gm(t,r,a,n);return}}Hr.flags|=e,s.memoizedState=Gm(1|t,r,a,n)}function M$(e,t){return S0(8390656,8,e,t)}function nP(e,t){return dw(2048,8,e,t)}function aB(e,t){return dw(4,2,e,t)}function iB(e,t){return dw(4,4,e,t)}function oB(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lB(e,t,r){return r=r!=null?r.concat([e]):null,dw(4,4,oB.bind(null,t,e),r)}function sP(){}function cB(e,t){var r=Ta();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&eP(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function uB(e,t){var r=Ta();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&eP(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function dB(e,t,r){return bu&21?(ai(r,t)||(r=g8(),Hr.lanes|=r,wu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$s=!0),e.memoizedState=r)}function Ete(e,t){var r=dr;dr=r!==0&&4>r?r:4,e(!0);var n=B_.transition;B_.transition={};try{e(!1),t()}finally{dr=r,B_.transition=n}}function fB(){return Ta().memoizedState}function Nte(e,t,r){var n=Vl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hB(e))pB(t,r);else if(r=G8(e,t,r,n),r!==null){var s=gs();ti(r,e,n,s),mB(r,t,n)}}function Cte(e,t,r){var n=Vl(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hB(e))pB(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,ai(l,i)){var c=t.interleaved;c===null?(s.next=s,Y2(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=G8(e,t,s,n),r!==null&&(s=gs(),ti(r,e,n,s),mB(r,t,n))}}function hB(e){var t=e.alternate;return e===Hr||t!==null&&t===Hr}function pB(e,t){um=sx=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function mB(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,M2(e,r)}}var ax={readContext:Aa,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},Pte={readContext:Aa,useCallback:function(e,t){return bi().memoizedState=[e,t===void 0?null:t],e},useContext:Aa,useEffect:M$,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,S0(4194308,4,oB.bind(null,t,e),r)},useLayoutEffect:function(e,t){return S0(4194308,4,e,t)},useInsertionEffect:function(e,t){return S0(4,2,e,t)},useMemo:function(e,t){var r=bi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Nte.bind(null,Hr,e),[n.memoizedState,e]},useRef:function(e){var t=bi();return e={current:e},t.memoizedState=e},useState:R$,useDebugValue:sP,useDeferredValue:function(e){return bi().memoizedState=e},useTransition:function(){var e=R$(!1),t=e[0];return e=Ete.bind(null,e[1]),bi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Hr,s=bi();if(Dr){if(r===void 0)throw Error(Le(407));r=r()}else{if(r=t(),Tn===null)throw Error(Le(349));bu&30||Z8(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,M$(tB.bind(null,n,a,e),[e]),n.flags|=2048,Gm(9,eB.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=bi(),t=Tn.identifierPrefix;if(Dr){var r=xo,n=vo;r=(n&~(1<<32-ei(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Hm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kte++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ate={readContext:Aa,useCallback:cB,useContext:Aa,useEffect:nP,useImperativeHandle:lB,useInsertionEffect:aB,useLayoutEffect:iB,useMemo:uB,useReducer:U_,useRef:sB,useState:function(){return U_(Km)},useDebugValue:sP,useDeferredValue:function(e){var t=Ta();return dB(t,vn.memoizedState,e)},useTransition:function(){var e=U_(Km)[0],t=Ta().memoizedState;return[e,t]},useMutableSource:X8,useSyncExternalStore:Q8,useId:fB,unstable_isNewReconciler:!1},Tte={readContext:Aa,useCallback:cB,useContext:Aa,useEffect:nP,useImperativeHandle:lB,useInsertionEffect:aB,useLayoutEffect:iB,useMemo:uB,useReducer:z_,useRef:sB,useState:function(){return z_(Km)},useDebugValue:sP,useDeferredValue:function(e){var t=Ta();return vn===null?t.memoizedState=e:dB(t,vn.memoizedState,e)},useTransition:function(){var e=z_(Km)[0],t=Ta().memoizedState;return[e,t]},useMutableSource:X8,useSyncExternalStore:Q8,useId:fB,unstable_isNewReconciler:!1};function Wa(e,t){if(e&&e.defaultProps){t=Kr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Sk(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Kr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var fw={isMounted:function(e){return(e=e._reactInternals)?Uu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gs(),s=Vl(e),a=ko(n,s);a.payload=t,r!=null&&(a.callback=r),t=ql(e,a,s),t!==null&&(ti(t,e,s,n),w0(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gs(),s=Vl(e),a=ko(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ql(e,a,s),t!==null&&(ti(t,e,s,n),w0(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gs(),n=Vl(e),s=ko(r,n);s.tag=2,t!=null&&(s.callback=t),t=ql(e,s,n),t!==null&&(ti(t,e,n,r),w0(t,e,n))}};function I$(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Bm(r,n)||!Bm(s,a):!0}function gB(e,t,r){var n=!1,s=tc,a=t.contextType;return typeof a=="object"&&a!==null?a=Aa(a):(s=Ls(t)?vu:rs.current,n=t.contextTypes,a=(n=n!=null)?kf(e,s):tc),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function L$(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fw.enqueueReplaceState(t,t.state,null)}function jk(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},J2(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Aa(a):(a=Ls(t)?vu:rs.current,s.context=kf(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Sk(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&fw.enqueueReplaceState(s,s.state,null),rx(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Pf(e,t){try{var r="",n=t;do r+=aee(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function q_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function kk(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ote=typeof WeakMap=="function"?WeakMap:Map;function yB(e,t,r){r=ko(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ox||(ox=!0,Mk=n),kk(e,t)},r}function vB(e,t,r){r=ko(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){kk(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){kk(e,t),typeof n!="function"&&(Wl===null?Wl=new Set([this]):Wl.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function D$(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ote;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Hte.bind(null,e,t,r),t.then(e,e))}function F$(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function B$(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ko(-1,1),t.tag=2,ql(r,t,1))),r.lanes|=1),e)}var $te=Vo.ReactCurrentOwner,$s=!1;function fs(e,t,r,n){t.child=e===null?K8(t,null,r,n):Nf(t,e.child,r,n)}function U$(e,t,r,n,s){r=r.render;var a=t.ref;return Hd(t,s),n=tP(e,t,r,n,a,s),r=rP(),e!==null&&!$s?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mo(e,t,s)):(Dr&&r&&q2(t),t.flags|=1,fs(e,t,n,s),t.child)}function z$(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!fP(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,xB(e,t,a,n,s)):(e=N0(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Bm,r(i,n)&&e.ref===t.ref)return Mo(e,t,s)}return t.flags|=1,e=Hl(a,n),e.ref=t.ref,e.return=t,t.child=e}function xB(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Bm(a,n)&&e.ref===t.ref)if($s=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&($s=!0);else return t.lanes=e.lanes,Mo(e,t,s)}return Ek(e,t,r,n,s)}function bB(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(Od,Gs),Gs|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nr(Od,Gs),Gs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Nr(Od,Gs),Gs|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Nr(Od,Gs),Gs|=n;return fs(e,t,s,r),t.child}function wB(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ek(e,t,r,n,s){var a=Ls(r)?vu:rs.current;return a=kf(t,a),Hd(t,s),r=tP(e,t,r,n,a,s),n=rP(),e!==null&&!$s?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mo(e,t,s)):(Dr&&n&&q2(t),t.flags|=1,fs(e,t,r,s),t.child)}function q$(e,t,r,n,s){if(Ls(r)){var a=!0;X0(t)}else a=!1;if(Hd(t,s),t.stateNode===null)j0(e,t),gB(t,r,n),jk(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Aa(u):(u=Ls(r)?vu:rs.current,u=kf(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&L$(t,i,n,u),ml=!1;var h=t.memoizedState;i.state=h,rx(t,n,i,s),c=t.memoizedState,l!==n||h!==c||Is.current||ml?(typeof d=="function"&&(Sk(t,r,d,n),c=t.memoizedState),(l=ml||I$(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Y8(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Wa(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Aa(c):(c=Ls(r)?vu:rs.current,c=kf(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&L$(t,i,n,c),ml=!1,h=t.memoizedState,i.state=h,rx(t,n,i,s);var g=t.memoizedState;l!==f||h!==g||Is.current||ml?(typeof y=="function"&&(Sk(t,r,y,n),g=t.memoizedState),(u=ml||I$(t,r,u,n,h,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Nk(e,t,r,n,a,s)}function Nk(e,t,r,n,s,a){wB(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&C$(t,r,!1),Mo(e,t,a);n=t.stateNode,$te.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Nf(t,e.child,null,a),t.child=Nf(t,null,l,a)):fs(e,t,l,a),t.memoizedState=n.state,s&&C$(t,r,!0),t.child}function _B(e){var t=e.stateNode;t.pendingContext?N$(e,t.pendingContext,t.pendingContext!==t.context):t.context&&N$(e,t.context,!1),X2(e,t.containerInfo)}function W$(e,t,r,n,s){return Ef(),V2(s),t.flags|=256,fs(e,t,r,n),t.child}var Ck={dehydrated:null,treeContext:null,retryLane:0};function Pk(e){return{baseLanes:e,cachePool:null,transitions:null}}function SB(e,t,r){var n=t.pendingProps,s=qr.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Nr(qr,s&1),e===null)return wk(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=mw(i,n,0,null),e=iu(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Pk(r),t.memoizedState=Ck,e):aP(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Rte(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Hl(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Hl(l,a):(a=iu(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Pk(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Ck,n}return a=e.child,e=a.sibling,n=Hl(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function aP(e,t){return t=mw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hv(e,t,r,n){return n!==null&&V2(n),Nf(t,e.child,null,r),e=aP(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rte(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=q_(Error(Le(422))),hv(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=mw({mode:"visible",children:n.children},s,0,null),a=iu(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Nf(t,e.child,null,i),t.child.memoizedState=Pk(i),t.memoizedState=Ck,a);if(!(t.mode&1))return hv(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Le(419)),n=q_(a,n,void 0),hv(e,t,i,n)}if(l=(i&e.childLanes)!==0,$s||l){if(n=Tn,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ro(e,s),ti(n,e,s,-1))}return dP(),n=q_(Error(Le(421))),hv(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Kte.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Zs=zl(s.nextSibling),ta=t,Dr=!0,Ya=null,e!==null&&(ya[va++]=vo,ya[va++]=xo,ya[va++]=xu,vo=e.id,xo=e.overflow,xu=t),t=aP(t,n.children),t.flags|=4096,t)}function V$(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),_k(e.return,t,r)}function W_(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function jB(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(fs(e,t,n.children,r),n=qr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&V$(e,r,t);else if(e.tag===19)V$(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Nr(qr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&nx(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),W_(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&nx(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}W_(t,!0,r,null,a);break;case"together":W_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function j0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Le(153));if(t.child!==null){for(e=t.child,r=Hl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Hl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Mte(e,t,r){switch(t.tag){case 3:_B(t),Ef();break;case 5:J8(t);break;case 1:Ls(t.type)&&X0(t);break;case 4:X2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Nr(ex,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Nr(qr,qr.current&1),t.flags|=128,null):r&t.child.childLanes?SB(e,t,r):(Nr(qr,qr.current&1),e=Mo(e,t,r),e!==null?e.sibling:null);Nr(qr,qr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return jB(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Nr(qr,qr.current),n)break;return null;case 22:case 23:return t.lanes=0,bB(e,t,r)}return Mo(e,t,r)}var kB,Ak,EB,NB;kB=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ak=function(){};EB=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Wc(Mi.current);var a=null;switch(r){case"input":s=Qj(e,s),n=Qj(e,n),a=[];break;case"select":s=Kr({},s,{value:void 0}),n=Kr({},n,{value:void 0}),a=[];break;case"textarea":s=tk(e,s),n=tk(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Y0)}nk(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($m.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($m.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Pr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};NB=function(e,t,r,n){r!==n&&(t.flags|=4)};function op(e,t){if(!Dr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Hn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ite(e,t,r){var n=t.pendingProps;switch(W2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(t),null;case 1:return Ls(t.type)&&J0(),Hn(t),null;case 3:return n=t.stateNode,Cf(),$r(Is),$r(rs),Z2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(dv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ya!==null&&(Dk(Ya),Ya=null))),Ak(e,t),Hn(t),null;case 5:Q2(t);var s=Wc(Vm.current);if(r=t.type,e!==null&&t.stateNode!=null)EB(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Le(166));return Hn(t),null}if(e=Wc(Mi.current),dv(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ni]=t,n[qm]=a,e=(t.mode&1)!==0,r){case"dialog":Pr("cancel",n),Pr("close",n);break;case"iframe":case"object":case"embed":Pr("load",n);break;case"video":case"audio":for(s=0;s<qp.length;s++)Pr(qp[s],n);break;case"source":Pr("error",n);break;case"img":case"image":case"link":Pr("error",n),Pr("load",n);break;case"details":Pr("toggle",n);break;case"input":e$(n,a),Pr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Pr("invalid",n);break;case"textarea":r$(n,a),Pr("invalid",n)}nk(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&uv(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&uv(n.textContent,l,e),s=["children",""+l]):$m.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Pr("scroll",n)}switch(r){case"input":rv(n),t$(n,a,!0);break;case"textarea":rv(n),n$(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Y0)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=t8(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Ni]=t,e[qm]=n,kB(e,t,!1,!1),t.stateNode=e;e:{switch(i=sk(r,n),r){case"dialog":Pr("cancel",e),Pr("close",e),s=n;break;case"iframe":case"object":case"embed":Pr("load",e),s=n;break;case"video":case"audio":for(s=0;s<qp.length;s++)Pr(qp[s],e);s=n;break;case"source":Pr("error",e),s=n;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),s=n;break;case"details":Pr("toggle",e),s=n;break;case"input":e$(e,n),s=Qj(e,n),Pr("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Kr({},n,{value:void 0}),Pr("invalid",e);break;case"textarea":r$(e,n),s=tk(e,n),Pr("invalid",e);break;default:s=n}nk(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?s8(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&r8(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Rm(e,c):typeof c=="number"&&Rm(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($m.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Pr("scroll",e):c!=null&&P2(e,a,c,i))}switch(r){case"input":rv(e),t$(e,n,!1);break;case"textarea":rv(e),n$(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ec(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?zd(e,!!n.multiple,a,!1):n.defaultValue!=null&&zd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Y0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Hn(t),null;case 6:if(e&&t.stateNode!=null)NB(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Le(166));if(r=Wc(Vm.current),Wc(Mi.current),dv(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ni]=t,(a=n.nodeValue!==r)&&(e=ta,e!==null))switch(e.tag){case 3:uv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&uv(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ni]=t,t.stateNode=n}return Hn(t),null;case 13:if($r(qr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Dr&&Zs!==null&&t.mode&1&&!(t.flags&128))V8(),Ef(),t.flags|=98560,a=!1;else if(a=dv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Le(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Le(317));a[Ni]=t}else Ef(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Hn(t),a=!1}else Ya!==null&&(Dk(Ya),Ya=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qr.current&1?wn===0&&(wn=3):dP())),t.updateQueue!==null&&(t.flags|=4),Hn(t),null);case 4:return Cf(),Ak(e,t),e===null&&Um(t.stateNode.containerInfo),Hn(t),null;case 10:return G2(t.type._context),Hn(t),null;case 17:return Ls(t.type)&&J0(),Hn(t),null;case 19:if($r(qr),a=t.memoizedState,a===null)return Hn(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)op(a,!1);else{if(wn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=nx(e),i!==null){for(t.flags|=128,op(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Nr(qr,qr.current&1|2),t.child}e=e.sibling}a.tail!==null&&tn()>Af&&(t.flags|=128,n=!0,op(a,!1),t.lanes=4194304)}else{if(!n)if(e=nx(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),op(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Dr)return Hn(t),null}else 2*tn()-a.renderingStartTime>Af&&r!==1073741824&&(t.flags|=128,n=!0,op(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=tn(),t.sibling=null,r=qr.current,Nr(qr,n?r&1|2:r&1),t):(Hn(t),null);case 22:case 23:return uP(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gs&1073741824&&(Hn(t),t.subtreeFlags&6&&(t.flags|=8192)):Hn(t),null;case 24:return null;case 25:return null}throw Error(Le(156,t.tag))}function Lte(e,t){switch(W2(t),t.tag){case 1:return Ls(t.type)&&J0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cf(),$r(Is),$r(rs),Z2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Q2(t),null;case 13:if($r(qr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Le(340));Ef()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $r(qr),null;case 4:return Cf(),null;case 10:return G2(t.type._context),null;case 22:case 23:return uP(),null;case 24:return null;default:return null}}var pv=!1,Jn=!1,Dte=typeof WeakSet=="function"?WeakSet:Set,ut=null;function Td(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Xr(e,t,n)}else r.current=null}function Tk(e,t,r){try{r()}catch(n){Xr(e,t,n)}}var H$=!1;function Fte(e,t){if(pk=H0,e=O8(),z2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var y;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===a&&++d===n&&(c=i),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(mk={focusedElem:e,selectionRange:r},H0=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){t=ut;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:Wa(t.type,m),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(_){Xr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}return g=H$,H$=!1,g}function dm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Tk(t,r,a)}s=s.next}while(s!==n)}}function hw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ok(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function CB(e){var t=e.alternate;t!==null&&(e.alternate=null,CB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ni],delete t[qm],delete t[vk],delete t[wte],delete t[_te])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PB(e){return e.tag===5||e.tag===3||e.tag===4}function K$(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $k(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Y0));else if(n!==4&&(e=e.child,e!==null))for($k(e,t,r),e=e.sibling;e!==null;)$k(e,t,r),e=e.sibling}function Rk(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Rk(e,t,r),e=e.sibling;e!==null;)Rk(e,t,r),e=e.sibling}var Mn=null,Ha=!1;function el(e,t,r){for(r=r.child;r!==null;)AB(e,t,r),r=r.sibling}function AB(e,t,r){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(aw,r)}catch{}switch(r.tag){case 5:Jn||Td(r,t);case 6:var n=Mn,s=Ha;Mn=null,el(e,t,r),Mn=n,Ha=s,Mn!==null&&(Ha?(e=Mn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Mn.removeChild(r.stateNode));break;case 18:Mn!==null&&(Ha?(e=Mn,r=r.stateNode,e.nodeType===8?L_(e.parentNode,r):e.nodeType===1&&L_(e,r),Dm(e)):L_(Mn,r.stateNode));break;case 4:n=Mn,s=Ha,Mn=r.stateNode.containerInfo,Ha=!0,el(e,t,r),Mn=n,Ha=s;break;case 0:case 11:case 14:case 15:if(!Jn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Tk(r,t,i),s=s.next}while(s!==n)}el(e,t,r);break;case 1:if(!Jn&&(Td(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Xr(r,t,l)}el(e,t,r);break;case 21:el(e,t,r);break;case 22:r.mode&1?(Jn=(n=Jn)||r.memoizedState!==null,el(e,t,r),Jn=n):el(e,t,r);break;default:el(e,t,r)}}function G$(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Dte),t.forEach(function(n){var s=Gte.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function La(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Mn=l.stateNode,Ha=!1;break e;case 3:Mn=l.stateNode.containerInfo,Ha=!0;break e;case 4:Mn=l.stateNode.containerInfo,Ha=!0;break e}l=l.return}if(Mn===null)throw Error(Le(160));AB(a,i,s),Mn=null,Ha=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Xr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)TB(t,e),t=t.sibling}function TB(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(La(t,e),yi(e),n&4){try{dm(3,e,e.return),hw(3,e)}catch(m){Xr(e,e.return,m)}try{dm(5,e,e.return)}catch(m){Xr(e,e.return,m)}}break;case 1:La(t,e),yi(e),n&512&&r!==null&&Td(r,r.return);break;case 5:if(La(t,e),yi(e),n&512&&r!==null&&Td(r,r.return),e.flags&32){var s=e.stateNode;try{Rm(s,"")}catch(m){Xr(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Z6(s,a),sk(l,i);var u=sk(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?s8(s,f):d==="dangerouslySetInnerHTML"?r8(s,f):d==="children"?Rm(s,f):P2(s,d,f,u)}switch(l){case"input":Zj(s,a);break;case"textarea":e8(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?zd(s,!!a.multiple,y,!1):h!==!!a.multiple&&(a.defaultValue!=null?zd(s,!!a.multiple,a.defaultValue,!0):zd(s,!!a.multiple,a.multiple?[]:"",!1))}s[qm]=a}catch(m){Xr(e,e.return,m)}}break;case 6:if(La(t,e),yi(e),n&4){if(e.stateNode===null)throw Error(Le(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){Xr(e,e.return,m)}}break;case 3:if(La(t,e),yi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Dm(t.containerInfo)}catch(m){Xr(e,e.return,m)}break;case 4:La(t,e),yi(e);break;case 13:La(t,e),yi(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(lP=tn())),n&4&&G$(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Jn=(u=Jn)||d,La(t,e),Jn=u):La(t,e),yi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ut=e,d=e.child;d!==null;){for(f=ut=d;ut!==null;){switch(h=ut,y=h.child,h.tag){case 0:case 11:case 14:case 15:dm(4,h,h.return);break;case 1:Td(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Xr(n,r,m)}}break;case 5:Td(h,h.return);break;case 22:if(h.memoizedState!==null){J$(f);continue}}y!==null?(y.return=h,ut=y):J$(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=n8("display",i))}catch(m){Xr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Xr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:La(t,e),yi(e),n&4&&G$(e);break;case 21:break;default:La(t,e),yi(e)}}function yi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(PB(r)){var n=r;break e}r=r.return}throw Error(Le(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Rm(s,""),n.flags&=-33);var a=K$(e);Rk(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=K$(e);$k(e,l,i);break;default:throw Error(Le(161))}}catch(c){Xr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bte(e,t,r){ut=e,OB(e)}function OB(e,t,r){for(var n=(e.mode&1)!==0;ut!==null;){var s=ut,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||pv;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Jn;l=pv;var u=Jn;if(pv=i,(Jn=c)&&!u)for(ut=s;ut!==null;)i=ut,c=i.child,i.tag===22&&i.memoizedState!==null?X$(s):c!==null?(c.return=i,ut=c):X$(s);for(;a!==null;)ut=a,OB(a),a=a.sibling;ut=s,pv=l,Jn=u}Y$(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ut=a):Y$(e)}}function Y$(e){for(;ut!==null;){var t=ut;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jn||hw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Jn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Wa(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&$$(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$$(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Dm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}Jn||t.flags&512&&Ok(t)}catch(h){Xr(t,t.return,h)}}if(t===e){ut=null;break}if(r=t.sibling,r!==null){r.return=t.return,ut=r;break}ut=t.return}}function J$(e){for(;ut!==null;){var t=ut;if(t===e){ut=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ut=r;break}ut=t.return}}function X$(e){for(;ut!==null;){var t=ut;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{hw(4,t)}catch(c){Xr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Xr(t,s,c)}}var a=t.return;try{Ok(t)}catch(c){Xr(t,a,c)}break;case 5:var i=t.return;try{Ok(t)}catch(c){Xr(t,i,c)}}}catch(c){Xr(t,t.return,c)}if(t===e){ut=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ut=l;break}ut=t.return}}var Ute=Math.ceil,ix=Vo.ReactCurrentDispatcher,iP=Vo.ReactCurrentOwner,ja=Vo.ReactCurrentBatchConfig,Gt=0,Tn=null,un=null,zn=0,Gs=0,Od=dc(0),wn=0,Ym=null,wu=0,pw=0,oP=0,fm=null,Es=null,lP=0,Af=1/0,lo=null,ox=!1,Mk=null,Wl=null,mv=!1,Ol=null,lx=0,hm=0,Ik=null,k0=-1,E0=0;function gs(){return Gt&6?tn():k0!==-1?k0:k0=tn()}function Vl(e){return e.mode&1?Gt&2&&zn!==0?zn&-zn:jte.transition!==null?(E0===0&&(E0=g8()),E0):(e=dr,e!==0||(e=window.event,e=e===void 0?16:S8(e.type)),e):1}function ti(e,t,r,n){if(50<hm)throw hm=0,Ik=null,Error(Le(185));dy(e,r,n),(!(Gt&2)||e!==Tn)&&(e===Tn&&(!(Gt&2)&&(pw|=r),wn===4&&xl(e,zn)),Ds(e,n),r===1&&Gt===0&&!(t.mode&1)&&(Af=tn()+500,uw&&fc()))}function Ds(e,t){var r=e.callbackNode;jee(e,t);var n=V0(e,e===Tn?zn:0);if(n===0)r!==null&&i$(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&i$(r),t===1)e.tag===0?Ste(Q$.bind(null,e)):z8(Q$.bind(null,e)),xte(function(){!(Gt&6)&&fc()}),r=null;else{switch(y8(n)){case 1:r=R2;break;case 4:r=p8;break;case 16:r=W0;break;case 536870912:r=m8;break;default:r=W0}r=BB(r,$B.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function $B(e,t){if(k0=-1,E0=0,Gt&6)throw Error(Le(327));var r=e.callbackNode;if(Kd()&&e.callbackNode!==r)return null;var n=V0(e,e===Tn?zn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=cx(e,n);else{t=n;var s=Gt;Gt|=2;var a=MB();(Tn!==e||zn!==t)&&(lo=null,Af=tn()+500,au(e,t));do try{Wte();break}catch(l){RB(e,l)}while(!0);K2(),ix.current=a,Gt=s,un!==null?t=0:(Tn=null,zn=0,t=wn)}if(t!==0){if(t===2&&(s=ck(e),s!==0&&(n=s,t=Lk(e,s))),t===1)throw r=Ym,au(e,0),xl(e,n),Ds(e,tn()),r;if(t===6)xl(e,n);else{if(s=e.current.alternate,!(n&30)&&!zte(s)&&(t=cx(e,n),t===2&&(a=ck(e),a!==0&&(n=a,t=Lk(e,a))),t===1))throw r=Ym,au(e,0),xl(e,n),Ds(e,tn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Le(345));case 2:Tc(e,Es,lo);break;case 3:if(xl(e,n),(n&130023424)===n&&(t=lP+500-tn(),10<t)){if(V0(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){gs(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=yk(Tc.bind(null,e,Es,lo),t);break}Tc(e,Es,lo);break;case 4:if(xl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-ei(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=tn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ute(n/1960))-n,10<n){e.timeoutHandle=yk(Tc.bind(null,e,Es,lo),n);break}Tc(e,Es,lo);break;case 5:Tc(e,Es,lo);break;default:throw Error(Le(329))}}}return Ds(e,tn()),e.callbackNode===r?$B.bind(null,e):null}function Lk(e,t){var r=fm;return e.current.memoizedState.isDehydrated&&(au(e,t).flags|=256),e=cx(e,t),e!==2&&(t=Es,Es=r,t!==null&&Dk(t)),e}function Dk(e){Es===null?Es=e:Es.push.apply(Es,e)}function zte(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!ai(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xl(e,t){for(t&=~oP,t&=~pw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ei(t),n=1<<r;e[r]=-1,t&=~n}}function Q$(e){if(Gt&6)throw Error(Le(327));Kd();var t=V0(e,0);if(!(t&1))return Ds(e,tn()),null;var r=cx(e,t);if(e.tag!==0&&r===2){var n=ck(e);n!==0&&(t=n,r=Lk(e,n))}if(r===1)throw r=Ym,au(e,0),xl(e,t),Ds(e,tn()),r;if(r===6)throw Error(Le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e,Es,lo),Ds(e,tn()),null}function cP(e,t){var r=Gt;Gt|=1;try{return e(t)}finally{Gt=r,Gt===0&&(Af=tn()+500,uw&&fc())}}function _u(e){Ol!==null&&Ol.tag===0&&!(Gt&6)&&Kd();var t=Gt;Gt|=1;var r=ja.transition,n=dr;try{if(ja.transition=null,dr=1,e)return e()}finally{dr=n,ja.transition=r,Gt=t,!(Gt&6)&&fc()}}function uP(){Gs=Od.current,$r(Od)}function au(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,vte(r)),un!==null)for(r=un.return;r!==null;){var n=r;switch(W2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&J0();break;case 3:Cf(),$r(Is),$r(rs),Z2();break;case 5:Q2(n);break;case 4:Cf();break;case 13:$r(qr);break;case 19:$r(qr);break;case 10:G2(n.type._context);break;case 22:case 23:uP()}r=r.return}if(Tn=e,un=e=Hl(e.current,null),zn=Gs=t,wn=0,Ym=null,oP=pw=wu=0,Es=fm=null,qc!==null){for(t=0;t<qc.length;t++)if(r=qc[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}qc=null}return e}function RB(e,t){do{var r=un;try{if(K2(),_0.current=ax,sx){for(var n=Hr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}sx=!1}if(bu=0,Nn=vn=Hr=null,um=!1,Hm=0,iP.current=null,r===null||r.return===null){wn=1,Ym=t,un=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=zn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=F$(i);if(y!==null){y.flags&=-257,B$(y,i,l,a,t),y.mode&1&&D$(a,u,t),t=y,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){D$(a,u,t),dP();break e}c=Error(Le(426))}}else if(Dr&&l.mode&1){var v=F$(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),B$(v,i,l,a,t),V2(Pf(c,l));break e}}a=c=Pf(c,l),wn!==4&&(wn=2),fm===null?fm=[a]:fm.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=yB(a,c,t);O$(a,x);break e;case 1:l=c;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Wl===null||!Wl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=vB(a,l,t);O$(a,_);break e}}a=a.return}while(a!==null)}LB(r)}catch(S){t=S,un===r&&r!==null&&(un=r=r.return);continue}break}while(!0)}function MB(){var e=ix.current;return ix.current=ax,e===null?ax:e}function dP(){(wn===0||wn===3||wn===2)&&(wn=4),Tn===null||!(wu&268435455)&&!(pw&268435455)||xl(Tn,zn)}function cx(e,t){var r=Gt;Gt|=2;var n=MB();(Tn!==e||zn!==t)&&(lo=null,au(e,t));do try{qte();break}catch(s){RB(e,s)}while(!0);if(K2(),Gt=r,ix.current=n,un!==null)throw Error(Le(261));return Tn=null,zn=0,wn}function qte(){for(;un!==null;)IB(un)}function Wte(){for(;un!==null&&!mee();)IB(un)}function IB(e){var t=FB(e.alternate,e,Gs);e.memoizedProps=e.pendingProps,t===null?LB(e):un=t,iP.current=null}function LB(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Lte(r,t),r!==null){r.flags&=32767,un=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wn=6,un=null;return}}else if(r=Ite(r,t,Gs),r!==null){un=r;return}if(t=t.sibling,t!==null){un=t;return}un=t=e}while(t!==null);wn===0&&(wn=5)}function Tc(e,t,r){var n=dr,s=ja.transition;try{ja.transition=null,dr=1,Vte(e,t,r,n)}finally{ja.transition=s,dr=n}return null}function Vte(e,t,r,n){do Kd();while(Ol!==null);if(Gt&6)throw Error(Le(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Le(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(kee(e,a),e===Tn&&(un=Tn=null,zn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mv||(mv=!0,BB(W0,function(){return Kd(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ja.transition,ja.transition=null;var i=dr;dr=1;var l=Gt;Gt|=4,iP.current=null,Fte(e,r),TB(r,e),dte(mk),H0=!!pk,mk=pk=null,e.current=r,Bte(r),gee(),Gt=l,dr=i,ja.transition=a}else e.current=r;if(mv&&(mv=!1,Ol=e,lx=s),a=e.pendingLanes,a===0&&(Wl=null),xee(r.stateNode),Ds(e,tn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ox)throw ox=!1,e=Mk,Mk=null,e;return lx&1&&e.tag!==0&&Kd(),a=e.pendingLanes,a&1?e===Ik?hm++:(hm=0,Ik=e):hm=0,fc(),null}function Kd(){if(Ol!==null){var e=y8(lx),t=ja.transition,r=dr;try{if(ja.transition=null,dr=16>e?16:e,Ol===null)var n=!1;else{if(e=Ol,Ol=null,lx=0,Gt&6)throw Error(Le(331));var s=Gt;for(Gt|=4,ut=e.current;ut!==null;){var a=ut,i=a.child;if(ut.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ut=u;ut!==null;){var d=ut;switch(d.tag){case 0:case 11:case 15:dm(8,d,a)}var f=d.child;if(f!==null)f.return=d,ut=f;else for(;ut!==null;){d=ut;var h=d.sibling,y=d.return;if(CB(d),d===u){ut=null;break}if(h!==null){h.return=y,ut=h;break}ut=y}}}var g=a.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}ut=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,ut=i;else e:for(;ut!==null;){if(a=ut,a.flags&2048)switch(a.tag){case 0:case 11:case 15:dm(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ut=x;break e}ut=a.return}}var b=e.current;for(ut=b;ut!==null;){i=ut;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,ut=w;else e:for(i=b;ut!==null;){if(l=ut,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hw(9,l)}}catch(S){Xr(l,l.return,S)}if(l===i){ut=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ut=_;break e}ut=l.return}}if(Gt=s,fc(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(aw,e)}catch{}n=!0}return n}finally{dr=r,ja.transition=t}}return!1}function Z$(e,t,r){t=Pf(r,t),t=yB(e,t,1),e=ql(e,t,1),t=gs(),e!==null&&(dy(e,1,t),Ds(e,t))}function Xr(e,t,r){if(e.tag===3)Z$(e,e,r);else for(;t!==null;){if(t.tag===3){Z$(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wl===null||!Wl.has(n))){e=Pf(r,e),e=vB(t,e,1),t=ql(t,e,1),e=gs(),t!==null&&(dy(t,1,e),Ds(t,e));break}}t=t.return}}function Hte(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gs(),e.pingedLanes|=e.suspendedLanes&r,Tn===e&&(zn&r)===r&&(wn===4||wn===3&&(zn&130023424)===zn&&500>tn()-lP?au(e,0):oP|=r),Ds(e,t)}function DB(e,t){t===0&&(e.mode&1?(t=av,av<<=1,!(av&130023424)&&(av=4194304)):t=1);var r=gs();e=Ro(e,t),e!==null&&(dy(e,t,r),Ds(e,r))}function Kte(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),DB(e,r)}function Gte(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Le(314))}n!==null&&n.delete(t),DB(e,r)}var FB;FB=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Is.current)$s=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $s=!1,Mte(e,t,r);$s=!!(e.flags&131072)}else $s=!1,Dr&&t.flags&1048576&&q8(t,Z0,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;j0(e,t),e=t.pendingProps;var s=kf(t,rs.current);Hd(t,r),s=tP(null,t,n,e,s,r);var a=rP();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ls(n)?(a=!0,X0(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,J2(t),s.updater=fw,t.stateNode=s,s._reactInternals=t,jk(t,n,e,r),t=Nk(null,t,n,!0,a,r)):(t.tag=0,Dr&&a&&q2(t),fs(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(j0(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Jte(n),e=Wa(n,e),s){case 0:t=Ek(null,t,n,e,r);break e;case 1:t=q$(null,t,n,e,r);break e;case 11:t=U$(null,t,n,e,r);break e;case 14:t=z$(null,t,n,Wa(n.type,e),r);break e}throw Error(Le(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Wa(n,s),Ek(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Wa(n,s),q$(e,t,n,s,r);case 3:e:{if(_B(t),e===null)throw Error(Le(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Y8(e,t),rx(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Pf(Error(Le(423)),t),t=W$(e,t,n,r,s);break e}else if(n!==s){s=Pf(Error(Le(424)),t),t=W$(e,t,n,r,s);break e}else for(Zs=zl(t.stateNode.containerInfo.firstChild),ta=t,Dr=!0,Ya=null,r=K8(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ef(),n===s){t=Mo(e,t,r);break e}fs(e,t,n,r)}t=t.child}return t;case 5:return J8(t),e===null&&wk(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,gk(n,s)?i=null:a!==null&&gk(n,a)&&(t.flags|=32),wB(e,t),fs(e,t,i,r),t.child;case 6:return e===null&&wk(t),null;case 13:return SB(e,t,r);case 4:return X2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Nf(t,null,n,r):fs(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Wa(n,s),U$(e,t,n,s,r);case 7:return fs(e,t,t.pendingProps,r),t.child;case 8:return fs(e,t,t.pendingProps.children,r),t.child;case 12:return fs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Nr(ex,n._currentValue),n._currentValue=i,a!==null)if(ai(a.value,i)){if(a.children===s.children&&!Is.current){t=Mo(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ko(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),_k(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(Le(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),_k(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}fs(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Hd(t,r),s=Aa(s),n=n(s),t.flags|=1,fs(e,t,n,r),t.child;case 14:return n=t.type,s=Wa(n,t.pendingProps),s=Wa(n.type,s),z$(e,t,n,s,r);case 15:return xB(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Wa(n,s),j0(e,t),t.tag=1,Ls(n)?(e=!0,X0(t)):e=!1,Hd(t,r),gB(t,n,s),jk(t,n,s,r),Nk(null,t,n,!0,e,r);case 19:return jB(e,t,r);case 22:return bB(e,t,r)}throw Error(Le(156,t.tag))};function BB(e,t){return h8(e,t)}function Yte(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ba(e,t,r,n){return new Yte(e,t,r,n)}function fP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jte(e){if(typeof e=="function")return fP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===T2)return 11;if(e===O2)return 14}return 2}function Hl(e,t){var r=e.alternate;return r===null?(r=ba(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function N0(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")fP(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case _d:return iu(r.children,s,a,t);case A2:i=8,s|=8;break;case Gj:return e=ba(12,r,t,s|2),e.elementType=Gj,e.lanes=a,e;case Yj:return e=ba(13,r,t,s),e.elementType=Yj,e.lanes=a,e;case Jj:return e=ba(19,r,t,s),e.elementType=Jj,e.lanes=a,e;case J6:return mw(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G6:i=10;break e;case Y6:i=9;break e;case T2:i=11;break e;case O2:i=14;break e;case pl:i=16,n=null;break e}throw Error(Le(130,e==null?e:typeof e,""))}return t=ba(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function iu(e,t,r,n){return e=ba(7,e,n,t),e.lanes=r,e}function mw(e,t,r,n){return e=ba(22,e,n,t),e.elementType=J6,e.lanes=r,e.stateNode={isHidden:!1},e}function V_(e,t,r){return e=ba(6,e,null,t),e.lanes=r,e}function H_(e,t,r){return t=ba(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xte(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=E_(0),this.expirationTimes=E_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E_(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hP(e,t,r,n,s,a,i,l,c){return e=new Xte(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ba(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},J2(a),e}function Qte(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function UB(e){if(!e)return tc;e=e._reactInternals;e:{if(Uu(e)!==e||e.tag!==1)throw Error(Le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ls(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Le(171))}if(e.tag===1){var r=e.type;if(Ls(r))return U8(e,r,t)}return t}function zB(e,t,r,n,s,a,i,l,c){return e=hP(r,n,!0,e,s,a,i,l,c),e.context=UB(null),r=e.current,n=gs(),s=Vl(r),a=ko(n,s),a.callback=t??null,ql(r,a,s),e.current.lanes=s,dy(e,s,n),Ds(e,n),e}function gw(e,t,r,n){var s=t.current,a=gs(),i=Vl(s);return r=UB(r),t.context===null?t.context=r:t.pendingContext=r,t=ko(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ql(s,t,i),e!==null&&(ti(e,s,i,a),w0(e,s,i)),i}function ux(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function pP(e,t){eR(e,t),(e=e.alternate)&&eR(e,t)}function Zte(){return null}var qB=typeof reportError=="function"?reportError:function(e){console.error(e)};function mP(e){this._internalRoot=e}yw.prototype.render=mP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Le(409));gw(e,t,null,null)};yw.prototype.unmount=mP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_u(function(){gw(null,e,null,null)}),t[$o]=null}};function yw(e){this._internalRoot=e}yw.prototype.unstable_scheduleHydration=function(e){if(e){var t=b8();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vl.length&&t!==0&&t<vl[r].priority;r++);vl.splice(r,0,e),r===0&&_8(e)}};function gP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tR(){}function ere(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=ux(i);a.call(u)}}var i=zB(t,n,e,0,null,!1,!1,"",tR);return e._reactRootContainer=i,e[$o]=i.current,Um(e.nodeType===8?e.parentNode:e),_u(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ux(c);l.call(u)}}var c=hP(e,0,!1,null,null,!1,!1,"",tR);return e._reactRootContainer=c,e[$o]=c.current,Um(e.nodeType===8?e.parentNode:e),_u(function(){gw(t,c,r,n)}),c}function xw(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=ux(i);l.call(c)}}gw(t,i,e,s)}else i=ere(r,t,e,s,n);return ux(i)}v8=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zp(t.pendingLanes);r!==0&&(M2(t,r|1),Ds(t,tn()),!(Gt&6)&&(Af=tn()+500,fc()))}break;case 13:_u(function(){var n=Ro(e,1);if(n!==null){var s=gs();ti(n,e,1,s)}}),pP(e,1)}};I2=function(e){if(e.tag===13){var t=Ro(e,134217728);if(t!==null){var r=gs();ti(t,e,134217728,r)}pP(e,134217728)}};x8=function(e){if(e.tag===13){var t=Vl(e),r=Ro(e,t);if(r!==null){var n=gs();ti(r,e,t,n)}pP(e,t)}};b8=function(){return dr};w8=function(e,t){var r=dr;try{return dr=e,t()}finally{dr=r}};ik=function(e,t,r){switch(t){case"input":if(Zj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=cw(n);if(!s)throw Error(Le(90));Q6(n),Zj(n,s)}}}break;case"textarea":e8(e,r);break;case"select":t=r.value,t!=null&&zd(e,!!r.multiple,t,!1)}};o8=cP;l8=_u;var tre={usingClientEntryPoint:!1,Events:[hy,Ed,cw,a8,i8,cP]},lp={findFiberByHostInstance:zc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rre={bundleType:lp.bundleType,version:lp.version,rendererPackageName:lp.rendererPackageName,rendererConfig:lp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=d8(e),e===null?null:e.stateNode},findFiberByHostInstance:lp.findFiberByHostInstance||Zte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gv.isDisabled&&gv.supportsFiber)try{aw=gv.inject(rre),Ri=gv}catch{}}ia.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tre;ia.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gP(t))throw Error(Le(200));return Qte(e,t,null,r)};ia.createRoot=function(e,t){if(!gP(e))throw Error(Le(299));var r=!1,n="",s=qB;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=hP(e,1,!1,null,null,r,!1,n,s),e[$o]=t.current,Um(e.nodeType===8?e.parentNode:e),new mP(t)};ia.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Le(188)):(e=Object.keys(e).join(","),Error(Le(268,e)));return e=d8(t),e=e===null?null:e.stateNode,e};ia.flushSync=function(e){return _u(e)};ia.hydrate=function(e,t,r){if(!vw(t))throw Error(Le(200));return xw(null,e,t,!0,r)};ia.hydrateRoot=function(e,t,r){if(!gP(e))throw Error(Le(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=qB;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=zB(t,null,e,1,r??null,s,!1,a,i),e[$o]=t.current,Um(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new yw(t)};ia.render=function(e,t,r){if(!vw(t))throw Error(Le(200));return xw(null,e,t,!1,r)};ia.unmountComponentAtNode=function(e){if(!vw(e))throw Error(Le(40));return e._reactRootContainer?(_u(function(){xw(null,null,e,!1,function(){e._reactRootContainer=null,e[$o]=null})}),!0):!1};ia.unstable_batchedUpdates=cP;ia.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vw(r))throw Error(Le(200));if(e==null||e._reactInternals===void 0)throw Error(Le(38));return xw(e,t,r,!1,n)};ia.version="18.3.1-next-f1338f8080-20240426";function WB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WB)}catch(e){console.error(e)}}WB(),W6.exports=ia;var zu=W6.exports;const my=vr(zu);var rR=zu;Hj.createRoot=rR.createRoot,Hj.hydrateRoot=rR.hydrateRoot;var dx=["light","dark"],yP="(prefers-color-scheme: dark)",nre=typeof window>"u",vP=p.createContext(void 0),sre={setTheme:e=>{},themes:[]},Ho=()=>{var e;return(e=p.useContext(vP))!=null?e:sre},are=e=>p.useContext(vP)?e.children:p.createElement(ore,{...e}),ire=["light","dark"],ore=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:a=ire,defaultTheme:i=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=p.useState(()=>nR(s,i)),[y,g]=p.useState(()=>nR(s)),m=c?Object.values(c):a,v=p.useCallback(_=>{let S=_;if(!S)return;_==="system"&&r&&(S=sR());let k=c?c[S]:S,E=t?cre():null,j=document.documentElement;if(l==="class"?(j.classList.remove(...m),k&&j.classList.add(k)):k?j.setAttribute(l,k):j.removeAttribute(l),n){let N=dx.includes(i)?i:null,C=dx.includes(S)?S:N;j.style.colorScheme=C}E==null||E()},[]),x=p.useCallback(_=>{let S=typeof _=="function"?_(_):_;h(S);try{localStorage.setItem(s,S)}catch{}},[e]),b=p.useCallback(_=>{let S=sR(_);g(S),f==="system"&&r&&!e&&v("system")},[f,e]);p.useEffect(()=>{let _=window.matchMedia(yP);return _.addListener(b),b(_),()=>_.removeListener(b)},[b]),p.useEffect(()=>{let _=S=>{if(S.key!==s)return;let k=S.newValue||i;x(k)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[x]),p.useEffect(()=>{v(e??f)},[e,f]);let w=p.useMemo(()=>({theme:f,setTheme:x,forcedTheme:e,resolvedTheme:f==="system"?y:f,themes:r?[...a,"system"]:a,systemTheme:r?y:void 0}),[f,x,e,y,r,a]);return p.createElement(vP.Provider,{value:w},p.createElement(lre,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:s,themes:a,defaultTheme:i,attribute:l,value:c,children:u,attrs:m,nonce:d}),u)},lre=p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?dx.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,v=!0)=>{let x=i?i[g]:g,b=m?g+"|| ''":`'${x}'`,w="";return s&&v&&!m&&dx.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?m||x?w+=`c.add(${b})`:w+="null":x&&(w+=`d[s](n,${b})`),w},y=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${yP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:y}})}),nR=(e,t)=>{if(nre)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},cre=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},sR=e=>(e||(e=window.matchMedia(yP)),e.matches?"dark":"light"),ge=typeof window<"u"?window:void 0,Bn=typeof globalThis<"u"?globalThis:ge;typeof self>"u"&&(Bn.self=Bn),typeof File>"u"&&(Bn.File=function(){});var VB=Array.prototype,aR=VB.forEach,iR=VB.indexOf,ea=Bn==null?void 0:Bn.navigator,et=Bn==null?void 0:Bn.document,Ns=Bn==null?void 0:Bn.location,Fk=Bn==null?void 0:Bn.fetch,Bk=Bn!=null&&Bn.XMLHttpRequest&&"withCredentials"in new Bn.XMLHttpRequest?Bn.XMLHttpRequest:void 0,oR=Bn==null?void 0:Bn.AbortController,js=ea==null?void 0:ea.userAgent,jt=ge??{},co={DEBUG:!1,LIB_VERSION:"1.307.2"};function lR(e,t,r,n,s,a,i){try{var l=e[a](i),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,s)}function cR(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var a=e.apply(t,r);function i(c){lR(a,n,s,i,l,"next",c)}function l(c){lR(a,n,s,i,l,"throw",c)}i(void 0)})}}function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dt.apply(null,arguments)}function HB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ure=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],uR=function(e,t){if(t===void 0&&(t=[]),!e)return!1;var r=e.toLowerCase();return ure.concat(t).some(n=>{var s=n.toLowerCase();return r.indexOf(s)!==-1})},dre=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function qt(e,t){return e.indexOf(t)!==-1}var bw=function(e){return e.trim()},Uk=function(e){return e.replace(/^\$/,"")},fre=Array.isArray,KB=Object.prototype,GB=KB.hasOwnProperty,ww=KB.toString,ar=fre||function(e){return ww.call(e)==="[object Array]"},Kl=e=>typeof e=="function",Cn=e=>e===Object(e)&&!ar(e),$d=e=>{if(Cn(e)){for(var t in e)if(GB.call(e,t))return!1;return!0}return!1},Ke=e=>e===void 0,bn=e=>ww.call(e)=="[object String]",zk=e=>bn(e)&&e.trim().length===0,ui=e=>e===null,tr=e=>Ke(e)||ui(e),Hi=e=>ww.call(e)=="[object Number]",Eo=e=>ww.call(e)==="[object Boolean]",hre=e=>e instanceof FormData,pre=e=>qt(dre,e);function qk(e){return e===null||typeof e!="object"}function fx(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function YB(e){return!Ke(Event)&&function(t,r){try{return t instanceof r}catch{return!1}}(e,Event)}var mre=[!0,"true",1,"1","yes"],K_=e=>qt(mre,e),gre=[!1,"false",0,"0","no"];function Ci(e,t,r,n,s){return t>r&&(n.warn("min cannot be greater than max."),t=r),Hi(e)?e>r?(n.warn(" cannot be  greater than max: "+r+". Using max value instead."),r):e<t?(n.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(n.warn(" must be a number. using max or fallback. max: "+r+", fallback: "+s),Ci(s||r,t,r,n))}class yre{constructor(t){this.t={},this.i=t.i,this.o=Ci(t.bucketSize,0,100,t.h),this.m=Ci(t.refillRate,0,this.o,t.h),this.S=Ci(t.refillInterval,0,864e5,t.h)}$(t,r){var n=r-t.lastAccess,s=Math.floor(n/this.S);if(s>0){var a=s*this.m;t.tokens=Math.min(t.tokens+a,this.o),t.lastAccess=t.lastAccess+s*this.S}}consumeRateLimit(t){var r,n=Date.now(),s=String(t),a=this.t[s];return a?this.$(a,n):(a={tokens:this.o,lastAccess:n},this.t[s]=a),a.tokens===0||(a.tokens--,a.tokens===0&&((r=this.i)==null||r.call(this,t)),a.tokens===0)}stop(){this.t={}}}var yv,dR,G_,vre=e=>e instanceof Error;function xre(e){var t=globalThis._posthogChunkIds;if(t){var r=Object.keys(t);return G_&&r.length===dR||(dR=r.length,G_=r.reduce((n,s)=>{yv||(yv={});var a=yv[s];if(a)n[a[0]]=a[1];else for(var i=e(s),l=i.length-1;l>=0;l--){var c=i[l],u=c==null?void 0:c.filename,d=t[s];if(u&&d){n[u]=d,yv[s]=[u,d];break}}return n},{})),G_}}class bre{constructor(t,r,n){n===void 0&&(n=[]),this.coercers=t,this.stackParser=r,this.modifiers=n}buildFromUnknown(t,r){r===void 0&&(r={});var n=r&&r.mechanism||{handled:!0,type:"generic"},s=this.buildCoercingContext(n,r,0).apply(t),a=this.buildParsingContext(),i=this.parseStacktrace(s,a);return{$exception_list:this.convertToExceptionList(i,n),$exception_level:"error"}}modifyFrames(t){var r=this;return cR(function*(){for(var n of t)n.stacktrace&&n.stacktrace.frames&&ar(n.stacktrace.frames)&&(n.stacktrace.frames=yield r.applyModifiers(n.stacktrace.frames));return t})()}coerceFallback(t){var r;return{type:"Error",value:"Unknown error",stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}}parseStacktrace(t,r){var n,s;return t.cause!=null&&(n=this.parseStacktrace(t.cause,r)),t.stack!=""&&t.stack!=null&&(s=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),r.chunkIdMap)),dt({},t,{cause:n,stack:s})}applyChunkIds(t,r){return t.map(n=>(n.filename&&r&&(n.chunk_id=r[n.filename]),n))}applyCoercers(t,r){for(var n of this.coercers)if(n.match(t))return n.coerce(t,r);return this.coerceFallback(r)}applyModifiers(t){var r=this;return cR(function*(){var n=t;for(var s of r.modifiers)n=yield s(n);return n})()}convertToExceptionList(t,r){var n,s,a,i={type:t.type,value:t.value,mechanism:{type:(n=r.type)!==null&&n!==void 0?n:"generic",handled:(s=r.handled)===null||s===void 0||s,synthetic:(a=t.synthetic)!==null&&a!==void 0&&a}};t.stack&&(i.stacktrace={type:"raw",frames:t.stack});var l=[i];return t.cause!=null&&l.push(...this.convertToExceptionList(t.cause,dt({},r,{handled:!0}))),l}buildParsingContext(){return{chunkIdMap:xre(this.stackParser)}}buildCoercingContext(t,r,n){n===void 0&&(n=0);var s=(a,i)=>{if(i<=4){var l=this.buildCoercingContext(t,r,i);return this.applyCoercers(a,l)}};return dt({},r,{syntheticException:n==0?r.syntheticException:void 0,mechanism:t,apply:a=>s(a,n),next:a=>s(a,n+1)})}}var Tf="?";function Wk(e,t,r,n,s){var a={platform:e,filename:t,function:r==="<anonymous>"?Tf:r,in_app:!0};return Ke(n)||(a.lineno=n),Ke(s)||(a.colno=s),a}var JB=(e,t)=>{var r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:Tf,r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},wre=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,_re=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Sre=/\((\S*)(?::(\d+))(?::(\d+))\)/,jre=(e,t)=>{var r=wre.exec(e);if(r){var[,n,s,a]=r;return Wk(t,n,Tf,+s,+a)}var i=_re.exec(e);if(i){if(i[2]&&i[2].indexOf("eval")===0){var l=Sre.exec(i[2]);l&&(i[2]=l[1],i[3]=l[2],i[4]=l[3])}var[c,u]=JB(i[1]||Tf,i[2]);return Wk(t,u,c,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}},kre=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ere=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Nre=(e,t)=>{var r=kre.exec(e);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){var n=Ere.exec(r[3]);n&&(r[1]=r[1]||"eval",r[3]=n[1],r[4]=n[2],r[5]="")}var s=r[3],a=r[1]||Tf;return[a,s]=JB(a,s),Wk(t,s,a,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}},fR=/\(error: (.*)\)/,hR=50;function Cre(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(s,a){a===void 0&&(a=0);for(var i=[],l=s.split(`
`),c=a;c<l.length;c++){var u=l[c];if(!(u.length>1024)){var d=fR.test(u)?u.replace(fR,"$1"):u;if(!d.match(/\S*Error: /)){for(var f of r){var h=f(d,e);if(h){i.push(h);break}}if(i.length>=hR)break}}}return function(y){if(!y.length)return[];var g=Array.from(y);return g.reverse(),g.slice(0,hR).map(m=>{return dt({},m,{filename:m.filename||(v=g,v[v.length-1]||{}).filename,function:m.function||Tf});var v})}(i)}}class Pre{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,r){var n=bn(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:n?t.stack:void 0,cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?"DOMError":"DOMException"}getValue(t){var r=t.name||(this.isDOMError(t)?"DOMError":"DOMException");return t.message?r+": "+t.message:r}isDOMException(t){return fx(t,"DOMException")}isDOMError(t){return fx(t,"DOMError")}}class Are{match(t){return(r=>r instanceof Error)(t)}coerce(t,r){return{type:this.getType(t),value:this.getMessage(t,r),stack:this.getStack(t),cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,r){var n=t.message;return n.error&&typeof n.error.message=="string"?String(n.error.message):String(n)}getStack(t){return t.stacktrace||t.stack||void 0}}let Tre=class{constructor(){}match(t){return fx(t,"ErrorEvent")&&t.error!=null}coerce(t,r){var n,s=r.apply(t.error);return s||{type:"ErrorEvent",value:t.message,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}};var Ore=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class $re{match(t){return typeof t=="string"}coerce(t,r){var n,[s,a]=this.getInfos(t);return{type:s??"Error",value:a??t,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}getInfos(t){var r="Error",n=t,s=t.match(Ore);return s&&(r=s[1],n=s[2]),[r,n]}}var Rre=["fatal","error","warning","log","info","debug"];function XB(e,t){t===void 0&&(t=40);var r=Object.keys(e);if(r.sort(),!r.length)return"[object has no keys]";for(var n=r.length;n>0;n--){var s=r.slice(0,n).join(", ");if(!(s.length>t))return n===r.length||s.length<=t?s:s.slice(0,t)+"..."}return""}class Mre{match(t){return typeof t=="object"&&t!==null}coerce(t,r){var n,s=this.getErrorPropertyFromObject(t);return s?r.apply(s):{type:this.getType(t),value:this.getValue(t),stack:(n=r.syntheticException)==null?void 0:n.stack,level:this.isSeverityLevel(t.level)?t.level:"error",synthetic:!0}}getType(t){return YB(t)?t.constructor.name:"Error"}getValue(t){if("name"in t&&typeof t.name=="string"){var r="'"+t.name+"' captured as exception";return"message"in t&&typeof t.message=="string"&&(r+=" with message: '"+t.message+"'"),r}if("message"in t&&typeof t.message=="string")return t.message;var n=this.getObjectClassName(t);return(n&&n!=="Object"?"'"+n+"'":"Object")+" captured as exception with keys: "+XB(t)}isSeverityLevel(t){return bn(t)&&!zk(t)&&Rre.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];if(vre(n))return n}}getObjectClassName(t){try{var r=Object.getPrototypeOf(t);return r?r.constructor.name:void 0}catch{return}}}class Ire{match(t){return YB(t)}coerce(t,r){var n,s=t.constructor.name;return{type:s,value:s+" captured as exception with keys: "+XB(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class Lre{match(t){return qk(t)}coerce(t,r){var n;return{type:"Error",value:"Primitive value captured as exception: "+String(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}let Dre=class{match(t){return fx(t,"PromiseRejectionEvent")}coerce(t,r){var n,s=this.getUnhandledRejectionReason(t);return qk(s)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(s),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}:r.apply(s)}getUnhandledRejectionReason(t){if(qk(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}};var QB=function(e,t){var{debugEnabled:r}=t===void 0?{}:t,n={k:function(s){if(ge&&(co.DEBUG||jt.POSTHOG_DEBUG||r)&&!Ke(ge.console)&&ge.console){for(var a=("__rrweb_original__"in ge.console[s])?ge.console[s].__rrweb_original__:ge.console[s],i=arguments.length,l=new Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];a(e,...l)}},info:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];n.k("log",...a)},warn:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];n.k("warn",...a)},error:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];n.k("error",...a)},critical:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];console.error(e,...a)},uninitializedWarning:s=>{n.error("You must initialize PostHog before calling "+s)},createLogger:(s,a)=>QB(e+" "+s,a)};return n},rt=QB("[PostHog.js]"),on=rt.createLogger,Fre=on("[ExternalScriptsLoader]"),pR=(e,t,r)=>{if(e.config.disable_external_dependency_loading)return Fre.warn(t+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var n=et==null?void 0:et.querySelectorAll("script");if(n){for(var s,a=function(){if(n[i].src===t){var c=n[i];return c.__posthog_loading_callback_fired?{v:r()}:(c.addEventListener("load",u=>{c.__posthog_loading_callback_fired=!0,r(void 0,u)}),c.onerror=u=>r(u),{v:void 0})}},i=0;i<n.length;i++)if(s=a())return s.v}var l=()=>{if(!et)return r("document not found");var c=et.createElement("script");if(c.type="text/javascript",c.crossOrigin="anonymous",c.src=t,c.onload=f=>{c.__posthog_loading_callback_fired=!0,r(void 0,f)},c.onerror=f=>r(f),e.config.prepare_external_dependency_script&&(c=e.config.prepare_external_dependency_script(c)),!c)return r("prepare_external_dependency_script returned null");var u,d=et.querySelectorAll("body > script");d.length>0?(u=d[0].parentNode)==null||u.insertBefore(c,d[0]):et.body.appendChild(c)};et!=null&&et.body?l():et==null||et.addEventListener("DOMContentLoaded",l)};jt.__PosthogExtensions__=jt.__PosthogExtensions__||{},jt.__PosthogExtensions__.loadExternalDependency=(e,t,r)=>{var n="/static/"+t+".js?v="+e.version;if(t==="remote-config"&&(n="/array/"+e.config.token+"/config.js"),t==="toolbar"){var s=3e5;n=n+"&t="+Math.floor(Date.now()/s)*s}var a=e.requestRouter.endpointFor("assets",n);pR(e,a,r)},jt.__PosthogExtensions__.loadSiteApp=(e,t,r)=>{var n=e.requestRouter.endpointFor("api",t);pR(e,n,r)};var hx={};function Gl(e,t,r){if(ar(e)){if(aR&&e.forEach===aR)e.forEach(t,r);else if("length"in e&&e.length===+e.length){for(var n=0,s=e.length;n<s;n++)if(n in e&&t.call(r,e[n],n)===hx)return}}}function kr(e,t,r){if(!tr(e)){if(ar(e))return Gl(e,t,r);if(hre(e)){for(var n of e.entries())if(t.call(r,n[1],n[0])===hx)return}else for(var s in e)if(GB.call(e,s)&&t.call(r,e[s],s)===hx)return}}var en=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Gl(r,function(s){for(var a in s)s[a]!==void 0&&(e[a]=s[a])}),e},gh=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Gl(r,function(s){Gl(s,function(a){e.push(a)})}),e};function C0(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n}var mR=function(e){try{return e()}catch{return}},Bre=function(e){return function(){try{for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)}catch(s){rt.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),rt.critical(s)}}},xP=function(e){var t={};return kr(e,function(r,n){(bn(r)&&r.length>0||Hi(r))&&(t[n]=r)}),t};function Ure(e,t){return r=e,n=a=>bn(a)&&!ui(t)?a.slice(0,t):a,s=new Set,function a(i,l){return i!==Object(i)?n?n(i,l):i:s.has(i)?void 0:(s.add(i),ar(i)?(c=[],Gl(i,u=>{c.push(a(u))})):(c={},kr(i,(u,d)=>{s.has(u)||(c[d]=a(u,d))})),c);var c}(r);var r,n,s}var zre=["herokuapp.com","vercel.app","netlify.app"];function qre(e){var t=e==null?void 0:e.hostname;if(!bn(t))return!1;var r=t.split(".").slice(-2).join(".");for(var n of zre)if(r===n)return!1;return!0}function ZB(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function dn(e,t,r,n){var{capture:s=!1,passive:a=!0}=n??{};e==null||e.addEventListener(t,r,{capture:s,passive:a})}var eU="$people_distinct_id",Wp="__alias",Vp="__timers",gR="$autocapture_disabled_server_side",Vk="$heatmaps_enabled_server_side",yR="$exception_capture_enabled_server_side",Hk="$error_tracking_suppression_rules",vR="$error_tracking_capture_extension_exceptions",xR="$web_vitals_enabled_server_side",tU="$dead_clicks_enabled_server_side",bR="$web_vitals_allowed_metrics",Y_="$session_recording_remote_config",px="$sesid",rU="$session_is_sampled",Rd="$enabled_feature_flags",Hp="$early_access_features",Kk="$feature_flag_details",Kp="$stored_person_properties",Oc="$stored_group_properties",Gk="$surveys",vv="$surveys_activated",mx="$flag_call_reported",uo="$user_state",Yk="$client_session_props",Jk="$capture_rate_limit",Xk="$initial_campaign_params",Qk="$initial_referrer_info",gx="$initial_person_info",yx="$epp",nU="__POSTHOG_TOOLBAR__",cp="$posthog_cookieless",Wre=[eU,Wp,"__cmpns",Vp,"$session_recording_enabled_server_side",Vk,px,Rd,Hk,uo,Hp,Kk,Oc,Kp,Gk,mx,Yk,Jk,Xk,Qk,yx,gx,"$conversations_widget_session_id","$conversations_ticket_id","$conversations_widget_state","$conversations_user_traits"];function wR(e){return e instanceof Element&&(e.id===nU||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function _w(e){return!!e&&e.nodeType===1}function Yl(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function sU(e){return!!e&&e.nodeType===3}function aU(e){return!!e&&e.nodeType===11}function bP(e){return e?bw(e).split(/\s+/):[]}function _R(e){var t=ge==null?void 0:ge.location.href;return!!(t&&e&&e.some(r=>t.match(r)))}function vx(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return bP(t)}function iU(e){return tr(e)?null:bw(e).split(/(\s+)/).filter(t=>Jm(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function gy(e){var t="";return Zk(e)&&!dU(e)&&e.childNodes&&e.childNodes.length&&kr(e.childNodes,function(r){var n;sU(r)&&r.textContent&&(t+=(n=iU(r.textContent))!==null&&n!==void 0?n:"")}),bw(t)}function oU(e){return Ke(e.target)?e.srcElement||null:(t=e.target)!=null&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var wP=["a","button","form","input","select","textarea","label"];function lU(e,t){if(Ke(t))return!0;var r,n=function(a){if(t.some(i=>a.matches(i)))return{v:!0}};for(var s of e)if(r=n(s))return r.v;return!1}function cU(e){var t=e.parentNode;return!(!t||!_w(t))&&t}var Vre=["next","previous","prev",">","<"],SR=10,jR=[".ph-no-rageclick",".ph-no-capture"];function Hre(e,t){if(!ge||_P(e))return!1;var r,n,s;if(Eo(t)?(r=!!t&&jR,n=void 0):(r=(s=t==null?void 0:t.css_selector_ignorelist)!==null&&s!==void 0?s:jR,n=t==null?void 0:t.content_ignorelist),r===!1)return!1;var{targetElementList:a}=uU(e,!1);return!function(i,l){if(i===!1||Ke(i))return!1;var c;if(i===!0)c=Vre;else{if(!ar(i))return!1;if(i.length>SR)return rt.error("[PostHog] content_ignorelist array cannot exceed "+SR+" items. Use css_selector_ignorelist for more complex matching."),!1;c=i.map(u=>u.toLowerCase())}return l.some(u=>{var{safeText:d,ariaLabel:f}=u;return c.some(h=>d.includes(h)||f.includes(h))})}(n,a.map(i=>{var l;return{safeText:gy(i).toLowerCase(),ariaLabel:((l=i.getAttribute("aria-label"))==null?void 0:l.toLowerCase().trim())||""}}))&&!lU(a,r)}var _P=e=>!e||Yl(e,"html")||!_w(e),uU=(e,t)=>{if(!ge||_P(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,n=[e],s=e;s.parentNode&&!Yl(s,"body");)if(aU(s.parentNode))n.push(s.parentNode.host),s=s.parentNode.host;else{var a=cU(s);if(!a)break;if(t||wP.indexOf(a.tagName.toLowerCase())>-1)r=!0;else{var i=ge.getComputedStyle(a);i&&i.getPropertyValue("cursor")==="pointer"&&(r=!0)}n.push(a),s=a}return{parentIsUsefulElement:r,targetElementList:n}};function Kre(e,t,r,n,s){var a,i,l,c;if(r===void 0&&(r=void 0),!ge||_P(e)||(a=r)!=null&&a.url_allowlist&&!_R(r.url_allowlist)||(i=r)!=null&&i.url_ignorelist&&_R(r.url_ignorelist))return!1;if((l=r)!=null&&l.dom_event_allowlist){var u=r.dom_event_allowlist;if(u&&!u.some(g=>t.type===g))return!1}var{parentIsUsefulElement:d,targetElementList:f}=uU(e,n);if(!function(g,m){var v=m==null?void 0:m.element_allowlist;if(Ke(v))return!0;var x,b=function(_){if(v.some(S=>_.tagName.toLowerCase()===S))return{v:!0}};for(var w of g)if(x=b(w))return x.v;return!1}(f,r)||!lU(f,(c=r)==null?void 0:c.css_selector_allowlist))return!1;var h=ge.getComputedStyle(e);if(h&&h.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var y=e.tagName.toLowerCase();switch(y){case"html":return!1;case"form":return(s||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(s||["change","click"]).indexOf(t.type)>=0;default:return d?(s||["click"]).indexOf(t.type)>=0:(s||["click"]).indexOf(t.type)>=0&&(wP.indexOf(y)>-1||e.getAttribute("contenteditable")==="true")}}function Zk(e){for(var t=e;t.parentNode&&!Yl(t,"body");t=t.parentNode){var r=vx(t);if(qt(r,"ph-sensitive")||qt(r,"ph-no-capture"))return!1}if(qt(vx(e),"ph-include"))return!0;var n=e.type||"";if(bn(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var s=e.name||e.id||"";return!(bn(s)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,"")))}function dU(e){return!!(Yl(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Yl(e,"select")||Yl(e,"textarea")||e.getAttribute("contenteditable")==="true")}var fU="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",Gre=new RegExp("^(?:"+fU+")$"),Yre=new RegExp(fU),hU="\\d{3}-?\\d{2}-?\\d{4}",Jre=new RegExp("^("+hU+")$"),Xre=new RegExp("("+hU+")");function Jm(e,t){return t===void 0&&(t=!0),!(tr(e)||bn(e)&&(e=bw(e),(t?Gre:Yre).test((e||"").replace(/[- ]/g,""))||(t?Jre:Xre).test(e)))}function pU(e){var t=gy(e);return Jm(t=(t+" "+mU(e)).trim())?t:""}function mU(e){var t="";return e&&e.childNodes&&e.childNodes.length&&kr(e.childNodes,function(r){var n;if(r&&((n=r.tagName)==null?void 0:n.toLowerCase())==="span")try{var s=gy(r);t=(t+" "+s).trim(),r.childNodes&&r.childNodes.length&&(t=(t+" "+mU(r)).trim())}catch(a){rt.error("[AutoCapture]",a)}}),t}function Qre(e){return function(t){var r=t.map(n=>{var s,a,i="";if(n.tag_name&&(i+=n.tag_name),n.attr_class)for(var l of(n.attr_class.sort(),n.attr_class))i+="."+l.replace(/"/g,"");var c=dt({},n.text?{text:n.text}:{},{"nth-child":(s=n.nth_child)!==null&&s!==void 0?s:0,"nth-of-type":(a=n.nth_of_type)!==null&&a!==void 0?a:0},n.href?{href:n.href}:{},n.attr_id?{attr_id:n.attr_id}:{},n.attributes),u={};return C0(c).sort((d,f)=>{var[h]=d,[y]=f;return h.localeCompare(y)}).forEach(d=>{var[f,h]=d;return u[kR(f.toString())]=kR(h.toString())}),i+=":",i+=C0(u).map(d=>{var[f,h]=d;return f+'="'+h+'"'}).join("")});return r.join(";")}(function(t){return t.map(r=>{var n,s,a={text:(n=r.$el_text)==null?void 0:n.slice(0,400),tag_name:r.tag_name,href:(s=r.attr__href)==null?void 0:s.slice(0,2048),attr_class:Zre(r),attr_id:r.attr__id,nth_child:r.nth_child,nth_of_type:r.nth_of_type,attributes:{}};return C0(r).filter(i=>{var[l]=i;return l.indexOf("attr__")===0}).forEach(i=>{var[l,c]=i;return a.attributes[l]=c}),a})}(e))}function kR(e){return e.replace(/"|\\"/g,'\\"')}function Zre(e){var t=e.attr__class;return t?ar(t)?t:bP(t):void 0}let gU=class{constructor(t){this.disabled=t===!1;var r=Cn(t)?t:{};this.thresholdPx=r.threshold_px||30,this.timeoutMs=r.timeout_ms||1e3,this.clickCount=r.click_count||3,this.clicks=[]}isRageClick(t,r,n){if(this.disabled)return!1;var s=this.clicks[this.clicks.length-1];if(s&&Math.abs(t-s.x)+Math.abs(r-s.y)<this.thresholdPx&&n-s.timestamp<this.timeoutMs){if(this.clicks.push({x:t,y:r,timestamp:n}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:t,y:r,timestamp:n}];return!1}};var J_="$copy_autocapture",go=function(e){return e.GZipJS="gzip-js",e.Base64="base64",e}({}),xx=e=>{var t=et==null?void 0:et.createElement("a");return Ke(t)?null:(t.href=e,t)},ene=function(e,t){var r,n;t===void 0&&(t="&");var s=[];return kr(e,function(a,i){Ke(a)||Ke(i)||i==="undefined"||(r=encodeURIComponent((l=>l instanceof File)(a)?a.name:a.toString()),n=encodeURIComponent(i),s[s.length]=n+"="+r)}),s.join(t)},bx=function(e,t){for(var r,n=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),s=0;s<n.length;s++){var a=n[s].split("=");if(a[0]===t){r=a;break}}if(!ar(r)||r.length<2)return"";var i=r[1];try{i=decodeURIComponent(i)}catch{rt.error("Skipping decoding for malformed query param: "+i)}return i.replace(/\+/g," ")},yy=function(e,t,r){if(!e||!t||!t.length)return e;for(var n=e.split("#"),s=n[0]||"",a=n[1],i=s.split("?"),l=i[1],c=i[0],u=(l||"").split("&"),d=[],f=0;f<u.length;f++){var h=u[f].split("=");ar(h)&&(t.includes(h[0])?d.push(h[0]+"="+r):d.push(u[f]))}var y=c;return l!=null&&(y+="?"+d.join("&")),a!=null&&(y+="#"+a),y},wx=function(e,t){var r=e.match(new RegExp(t+"=([^&]*)"));return r?r[1]:null},ER=on("[AutoCapture]");function X_(e,t){return t.length>e?t.slice(0,e)+"...":t}function tne(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!_w(t));return t}function rne(e,t,r,n){var s=e.tagName.toLowerCase(),a={tag_name:s};wP.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?a.$el_text=X_(1024,pU(e)):a.$el_text=X_(1024,gy(e)));var i=vx(e);i.length>0&&(a.classes=i.filter(function(d){return d!==""})),kr(e.attributes,function(d){var f;if((!dU(e)||["name","id","class","aria-label"].indexOf(d.name)!==-1)&&(n==null||!n.includes(d.name))&&!t&&Jm(d.value)&&(f=d.name,!bn(f)||f.substring(0,10)!=="_ngcontent"&&f.substring(0,7)!=="_nghost")){var h=d.value;d.name==="class"&&(h=bP(h).join(" ")),a["attr__"+d.name]=X_(1024,h)}});for(var l=1,c=1,u=e;u=tne(u);)l++,u.tagName===e.tagName&&c++;return a.nth_child=l,a.nth_of_type=c,a}function nne(e,t){for(var r,n,{e:s,maskAllElementAttributes:a,maskAllText:i,elementAttributeIgnoreList:l,elementsChainAsString:c}=t,u=[e],d=e;d.parentNode&&!Yl(d,"body");)aU(d.parentNode)?(u.push(d.parentNode.host),d=d.parentNode.host):(u.push(d.parentNode),d=d.parentNode);var f,h=[],y={},g=!1,m=!1;if(kr(u,_=>{var S=Zk(_);_.tagName.toLowerCase()==="a"&&(g=_.getAttribute("href"),g=S&&g&&Jm(g)&&g),qt(vx(_),"ph-no-capture")&&(m=!0),h.push(rne(_,a,i,l));var k=function(E){if(!Zk(E))return{};var j={};return kr(E.attributes,function(N){if(N.name&&N.name.indexOf("data-ph-capture-attribute")===0){var C=N.name.replace("data-ph-capture-attribute-",""),P=N.value;C&&P&&Jm(P)&&(j[C]=P)}}),j}(_);en(y,k)}),m)return{props:{},explicitNoCapture:m};if(i||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?h[0].$el_text=pU(e):h[0].$el_text=gy(e)),g){var v,x;h[0].attr__href=g;var b=(v=xx(g))==null?void 0:v.host,w=ge==null||(x=ge.location)==null?void 0:x.host;b&&w&&b!==w&&(f=g)}return{props:en({$event_type:s.type,$ce_version:1},c?{}:{$elements:h},{$elements_chain:Qre(h)},(r=h[0])!=null&&r.$el_text?{$el_text:(n=h[0])==null?void 0:n.$el_text}:{},f&&s.type==="click"?{$external_click_url:f}:{},y)}}class sne{constructor(t){this.P=!1,this.T=null,this.C=!1,this.instance=t,this.rageclicks=new gU(t.config.rageclick),this.R=null}get I(){var t,r,n=Cn(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)==null?void 0:t.map(s=>new RegExp(s)),n.url_ignorelist=(r=n.url_ignorelist)==null?void 0:r.map(s=>new RegExp(s)),n}F(){if(this.isBrowserSupported()){if(ge&&et){var t=n=>{n=n||(ge==null?void 0:ge.event);try{this.M(n)}catch(s){ER.error("Failed to capture event",s)}};if(dn(et,"submit",t,{capture:!0}),dn(et,"change",t,{capture:!0}),dn(et,"click",t,{capture:!0}),this.I.capture_copied_text){var r=n=>{n=n||(ge==null?void 0:ge.event),this.M(n,J_)};dn(et,"copy",r,{capture:!0}),dn(et,"cut",r,{capture:!0})}}}else ER.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.F(),this.P=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.C=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[gR]:!!t.autocapture_opt_out}),this.T=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.R=t}getElementSelectors(t){var r,n=[];return(r=this.R)==null||r.forEach(s=>{var a=et==null?void 0:et.querySelectorAll(s);a==null||a.forEach(i=>{t===i&&n.push(s)})}),n}get isEnabled(){var t,r,n=(t=this.instance.persistence)==null?void 0:t.props[gR],s=this.T;if(ui(s)&&!Eo(n)&&!this.instance.O())return!1;var a=(r=this.T)!==null&&r!==void 0?r:!!n;return!!this.instance.config.autocapture&&!a}M(t,r){if(r===void 0&&(r="$autocapture"),this.isEnabled){var n,s=oU(t);sU(s)&&(s=s.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,t.timeStamp||new Date().getTime())&&Hre(s,this.instance.config.rageclick)&&this.M(t,"$rageclick");var a=r===J_;if(s&&Kre(s,t,this.I,a,a?["copy","cut"]:void 0)){var{props:i,explicitNoCapture:l}=nne(s,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.I.element_attribute_ignorelist,elementsChainAsString:this.C});if(l)return!1;var c=this.getElementSelectors(s);if(c&&c.length>0&&(i.$element_selectors=c),r===J_){var u,d=iU(ge==null||(u=ge.getSelection())==null?void 0:u.toString()),f=t.type||"clipboard";if(!d)return!1;i.$selected_content=d,i.$copy_type=f}return this.instance.capture(r,i),!0}}}isBrowserSupported(){return Kl(et==null?void 0:et.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Hi(e)&&isFinite(e)&&Math.floor(e)===e});var NR="0123456789abcdef";class _x{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,r,n,s){if(!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(s)||t<0||r<0||n<0||s<0||t>0xffffffffffff||r>4095||n>1073741823||s>4294967295)throw new RangeError("invalid field value");var a=new Uint8Array(16);return a[0]=t/Math.pow(2,40),a[1]=t/Math.pow(2,32),a[2]=t/Math.pow(2,24),a[3]=t/Math.pow(2,16),a[4]=t/Math.pow(2,8),a[5]=t,a[6]=112|r>>>8,a[7]=r,a[8]=128|n>>>24,a[9]=n>>>16,a[10]=n>>>8,a[11]=n,a[12]=s>>>24,a[13]=s>>>16,a[14]=s>>>8,a[15]=s,new _x(a)}toString(){for(var t="",r=0;r<this.bytes.length;r++)t=t+NR.charAt(this.bytes[r]>>>4)+NR.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new _x(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var r=0;r<16;r++){var n=this.bytes[r]-t.bytes[r];if(n!==0)return Math.sign(n)}return 0}}class ane{constructor(){this.A=0,this.D=0,this.j=new ine}generate(){var t=this.generateOrAbort();if(Ke(t)){this.A=0;var r=this.generateOrAbort();if(Ke(r))throw new Error("Could not generate UUID after timestamp reset");return r}return t}generateOrAbort(){var t=Date.now();if(t>this.A)this.A=t,this.L();else{if(!(t+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return _x.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var CR,yU=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};ge&&!Ke(ge.crypto)&&crypto.getRandomValues&&(yU=e=>crypto.getRandomValues(e));class ine{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(yU(this.N),this.U=0),this.N[this.U++]}}var $l=()=>one().toString(),one=()=>(CR||(CR=new ane)).generate(),up="",lne=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function cne(e,t){if(t){var r=function(s,a){if(a===void 0&&(a=et),up)return up;if(!a||["localhost","127.0.0.1"].includes(s))return"";for(var i=s.split("."),l=Math.min(i.length,8),c="dmn_chk_"+$l();!up&&l--;){var u=i.slice(l).join("."),d=c+"=1;domain=."+u+";path=/";a.cookie=d+";max-age=3",a.cookie.includes(c)&&(a.cookie=d+";max-age=0",up=u)}return up}(e);if(!r){var n=(s=>{var a=s.match(lne);return a?a[0]:""})(e);n!==r&&rt.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var Ii={H:()=>!!et,B:function(e){rt.error("cookieStore error: "+e)},q:function(e){if(et){try{for(var t=e+"=",r=et.cookie.split(";").filter(a=>a.length),n=0;n<r.length;n++){for(var s=r[n];s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return decodeURIComponent(s.substring(t.length,s.length))}}catch{}return null}},W:function(e){var t;try{t=JSON.parse(Ii.q(e))||{}}catch{}return t},G:function(e,t,r,n,s){if(et)try{var a="",i="",l=cne(et.location.hostname,n);if(r){var c=new Date;c.setTime(c.getTime()+24*r*60*60*1e3),a="; expires="+c.toUTCString()}s&&(i="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+a+"; SameSite=Lax; path=/"+l+i;return u.length>3686.4&&rt.warn("cookieStore warning: large cookie, len="+u.length),et.cookie=u,u}catch{return}},V:function(e,t){if(et!=null&&et.cookie)try{Ii.G(e,"",-1,t)}catch{return}}},Q_=null,Wr={H:function(){if(!ui(Q_))return Q_;var e=!0;if(Ke(ge))e=!1;else try{var t="__mplssupport__";Wr.G(t,"xyz"),Wr.q(t)!=='"xyz"'&&(e=!1),Wr.V(t)}catch{e=!1}return e||rt.error("localStorage unsupported; falling back to cookie store"),Q_=e,e},B:function(e){rt.error("localStorage error: "+e)},q:function(e){try{return ge==null?void 0:ge.localStorage.getItem(e)}catch(t){Wr.B(t)}return null},W:function(e){try{return JSON.parse(Wr.q(e))||{}}catch{}return null},G:function(e,t){try{ge==null||ge.localStorage.setItem(e,JSON.stringify(t))}catch(r){Wr.B(r)}},V:function(e){try{ge==null||ge.localStorage.removeItem(e)}catch(t){Wr.B(t)}}},une=["distinct_id",px,rU,yx,gx],xv=dt({},Wr,{W:function(e){try{var t={};try{t=Ii.W(e)||{}}catch{}var r=en(t,JSON.parse(Wr.q(e)||"{}"));return Wr.G(e,r),r}catch{}return null},G:function(e,t,r,n,s,a){try{Wr.G(e,t,void 0,void 0,a);var i={};une.forEach(l=>{t[l]&&(i[l]=t[l])}),Object.keys(i).length&&Ii.G(e,i,r,n,s,a)}catch(l){Wr.B(l)}},V:function(e,t){try{ge==null||ge.localStorage.removeItem(e),Ii.V(e,t)}catch(r){Wr.B(r)}}}),bv={},dne={H:function(){return!0},B:function(e){rt.error("memoryStorage error: "+e)},q:function(e){return bv[e]||null},W:function(e){return bv[e]||null},G:function(e,t){bv[e]=t},V:function(e){delete bv[e]}},Sc=null,Dn={H:function(){if(!ui(Sc))return Sc;if(Sc=!0,Ke(ge))Sc=!1;else try{var e="__support__";Dn.G(e,"xyz"),Dn.q(e)!=='"xyz"'&&(Sc=!1),Dn.V(e)}catch{Sc=!1}return Sc},B:function(e){rt.error("sessionStorage error: ",e)},q:function(e){try{return ge==null?void 0:ge.sessionStorage.getItem(e)}catch(t){Dn.B(t)}return null},W:function(e){try{return JSON.parse(Dn.q(e))||null}catch{}return null},G:function(e,t){try{ge==null||ge.sessionStorage.setItem(e,JSON.stringify(t))}catch(r){Dn.B(r)}},V:function(e){try{ge==null||ge.sessionStorage.removeItem(e)}catch(t){Dn.B(t)}}},fo=function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e}({});class fne{constructor(t){this._instance=t}get I(){return this._instance.config}get consent(){return this.J()?fo.DENIED:this.K}isOptedOut(){return this.I.cookieless_mode==="always"||this.consent===fo.DENIED||this.consent===fo.PENDING&&(this.I.opt_out_capturing_by_default||this.I.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===fo.DENIED}optInOut(t){this.Y.G(this.X,t?1:0,this.I.cookie_expiration,this.I.cross_subdomain_cookie,this.I.secure_cookie)}reset(){this.Y.V(this.X,this.I.cross_subdomain_cookie)}get X(){var{token:t,opt_out_capturing_cookie_prefix:r,consent_persistence_name:n}=this._instance.config;return n||(r?r+t:"__ph_opt_in_out_"+t)}get K(){var t=this.Y.q(this.X);return K_(t)?fo.GRANTED:qt(gre,t)?fo.DENIED:fo.PENDING}get Y(){if(!this.Z){var t=this.I.opt_out_capturing_persistence_type;this.Z=t==="localStorage"?Wr:Ii;var r=t==="localStorage"?Ii:Wr;r.q(this.X)&&(this.Z.q(this.X)||this.optInOut(K_(r.q(this.X))),r.V(this.X,this.I.cross_subdomain_cookie))}return this.Z}J(){return!!this.I.respect_dnt&&!!ZB([ea==null?void 0:ea.doNotTrack,ea==null?void 0:ea.msDoNotTrack,jt.doNotTrack],t=>K_(t))}}var wv=on("[Dead Clicks]"),hne=()=>!0,pne=e=>{var t,r=!((t=e.instance.persistence)==null||!t.get_property(tU)),n=e.instance.config.capture_dead_clicks;return Eo(n)?n:!!Cn(n)||r};class vU{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(t,r,n){this.instance=t,this.isEnabled=r,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[tU]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it(()=>{this.et()})}it(t){var r,n;(r=jt.__PosthogExtensions__)!=null&&r.initDeadClicksAutocapture&&t(),(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",s=>{s?wv.error("failed to load script",s):t()})}et(){var t;if(et){if(!this.tt&&(t=jt.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture){var r=Cn(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};r.__onCapture=this.onCapture,this.tt=jt.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,r),this.tt.start(et),wv.info("starting...")}}else wv.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,wv.info("stopping..."))}}var dp=on("[ExceptionAutocapture]");class mne{constructor(t){var r,n,s;this.rt=()=>{var a;if(ge&&this.isEnabled&&(a=jt.__PosthogExtensions__)!=null&&a.errorWrappingFunctions){var i=jt.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,l=jt.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,c=jt.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.I.capture_unhandled_errors&&(this.st=i(this.captureException.bind(this))),!this.nt&&this.I.capture_unhandled_rejections&&(this.nt=l(this.captureException.bind(this))),!this.ot&&this.I.capture_console_errors&&(this.ot=c(this.captureException.bind(this)))}catch(u){dp.error("failed to start",u),this.lt()}}},this._instance=t,this.ut=!((r=this._instance.persistence)==null||!r.props[yR]),this.I=this.ht(),this.dt=new yre({refillRate:(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&n!==void 0?n:1,bucketSize:(s=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&s!==void 0?s:10,refillInterval:1e4,h:dp}),this.startIfEnabled()}ht(){var t=this._instance.config.capture_exceptions,r={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return Cn(t)?r=dt({},r,t):(Ke(t)?this.ut:t)&&(r=dt({},r,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),r}get isEnabled(){return this.I.capture_console_errors||this.I.capture_unhandled_errors||this.I.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(dp.info("enabled"),this.it(this.rt))}it(t){var r,n;(r=jt.__PosthogExtensions__)!=null&&r.errorWrappingFunctions&&t(),(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"exception-autocapture",s=>{if(s)return dp.error("failed to load script",s);t()})}lt(){var t,r,n;(t=this.st)==null||t.call(this),this.st=void 0,(r=this.nt)==null||r.call(this),this.nt=void 0,(n=this.ot)==null||n.call(this),this.ot=void 0}onRemoteConfig(t){var r=t.autocaptureExceptions;this.ut=!!r||!1,this.I=this.ht(),this._instance.persistence&&this._instance.persistence.register({[yR]:this.ut}),this.startIfEnabled()}captureException(t){var r,n,s=(r=t==null||(n=t.$exception_list)==null||(n=n[0])==null?void 0:n.type)!==null&&r!==void 0?r:"Exception";this.dt.consumeRateLimit(s)?dp.info("Skipping exception capture because of client rate limiting.",{exception:s}):this._instance.exceptions.sendExceptionEvent(t)}}function PR(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],s=r(n);return Kl(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=s,()=>{e[t]=n}}catch{return()=>{}}}class gne{constructor(t){var r;this._instance=t,this.vt=(ge==null||(r=ge.location)==null?void 0:r.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(rt.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,rt.info("History API monitoring stopped")}monitorHistoryChanges(){var t,r;if(ge&&ge.history){var n=this;(t=ge.history.pushState)!=null&&t.__posthog_wrapped__||PR(ge.history,"pushState",s=>function(a,i,l){s.call(this,a,i,l),n.ft("pushState")}),(r=ge.history.replaceState)!=null&&r.__posthog_wrapped__||PR(ge.history,"replaceState",s=>function(a,i,l){s.call(this,a,i,l),n.ft("replaceState")}),this.gt()}}ft(t){try{var r,n=ge==null||(r=ge.location)==null?void 0:r.pathname;if(!n)return;n!==this.vt&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this.vt=n}catch(s){rt.error("Error capturing "+t+" pageview",s)}}gt(){if(!this.ct){var t=()=>{this.ft("popstate")};dn(ge,"popstate",t),this.ct=()=>{ge&&ge.removeEventListener("popstate",t)}}}}var Z_=on("[SegmentIntegration]");function yne(e,t){var r=e.config.segment;if(!r)return t();(function(n,s){var a=n.config.segment;if(!a)return s();var i=c=>{var u=()=>c.anonymousId()||$l();n.config.get_device_id=u,c.id()&&(n.register({distinct_id:c.id(),$device_id:u()}),n.persistence.set_property(uo,"identified")),s()},l=a.user();"then"in l&&Kl(l.then)?l.then(c=>i(c)):i(l)})(e,()=>{r.register((n=>{Promise&&Promise.resolve||Z_.warn("This browser does not have Promise support, and can not use the segment integration");var s=(a,i)=>{if(!i)return a;a.event.userId||a.event.anonymousId===n.get_distinct_id()||(Z_.info("No userId set, resetting PostHog"),n.reset()),a.event.userId&&a.event.userId!==n.get_distinct_id()&&(Z_.info("UserId set, identifying with PostHog"),n.identify(a.event.userId));var l=n.calculateEventProperties(i,a.event.properties);return a.event.properties=Object.assign({},l,a.event.properties),a};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:a=>s(a,a.event.event),page:a=>s(a,"$pageview"),identify:a=>s(a,"$identify"),screen:a=>s(a,"$screen")}})(e)).then(()=>{t()})})}var xU="posthog-js";function bU(e,t){var{organization:r,projectId:n,prefix:s,severityAllowList:a=["error"],sendExceptionsToPostHog:i=!0}=t===void 0?{}:t;return l=>{var c,u,d,f,h;if(!(a==="*"||a.includes(l.level))||!e.__loaded)return l;l.tags||(l.tags={});var y=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());l.tags["PostHog Person URL"]=y,e.sessionRecordingStarted()&&(l.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var g=((c=l.exception)==null?void 0:c.values)||[],m=g.map(x=>dt({},x,{stacktrace:x.stacktrace?dt({},x.stacktrace,{type:"raw",frames:(x.stacktrace.frames||[]).map(b=>dt({},b,{platform:"web:javascript"}))}):void 0})),v={$exception_message:((u=g[0])==null?void 0:u.value)||l.message,$exception_type:(d=g[0])==null?void 0:d.type,$exception_level:l.level,$exception_list:m,$sentry_event_id:l.event_id,$sentry_exception:l.exception,$sentry_exception_message:((f=g[0])==null?void 0:f.value)||l.message,$sentry_exception_type:(h=g[0])==null?void 0:h.type,$sentry_tags:l.tags};return r&&n&&(v.$sentry_url=(s||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+l.event_id),i&&e.exceptions.sendExceptionEvent(v),l}}class vne{constructor(t,r,n,s,a,i){this.name=xU,this.setupOnce=function(l){l(bU(t,{organization:r,projectId:n,prefix:s,severityAllowList:a,sendExceptionsToPostHog:i==null||i}))}}}var xne=ge!=null&&ge.location?wx(ge.location.hash,"__posthog")||wx(location.hash,"state"):null,AR="_postHogToolbarParams",TR=on("[Toolbar]"),il=function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e}(il||{});class bne{constructor(t){this.instance=t}_t(t){jt.ph_toolbar_state=t}yt(){var t;return(t=jt.ph_toolbar_state)!==null&&t!==void 0?t:il.UNINITIALIZED}maybeLoadToolbar(t,r,n){if(t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),!ge||!et)return!1;t=t??ge.location,n=n??ge.history;try{if(!r){try{ge.localStorage.setItem("test","test"),ge.localStorage.removeItem("test")}catch{return!1}r=ge==null?void 0:ge.localStorage}var s,a=xne||wx(t.hash,"__posthog")||wx(t.hash,"state"),i=a?mR(()=>JSON.parse(atob(decodeURIComponent(a))))||mR(()=>JSON.parse(decodeURIComponent(a))):null;return i&&i.action==="ph_authorize"?((s=i).source="url",s&&Object.keys(s).length>0&&(i.desiredHash?t.hash=i.desiredHash:n?n.replaceState(n.state,"",t.pathname+t.search):t.hash="")):((s=JSON.parse(r.getItem(AR)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch{return!1}}bt(t){var r=jt.ph_load_toolbar||jt.ph_load_editor;!tr(r)&&Kl(r)?r(t,this.instance):TR.warn("No toolbar load function found")}loadToolbar(t){var r=!(et==null||!et.getElementById(nU));if(!ge||r)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,s=dt({token:this.instance.config.token},t,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(ge.localStorage.setItem(AR,JSON.stringify(dt({},s,{source:void 0}))),this.yt()===il.LOADED)this.bt(s);else if(this.yt()===il.UNINITIALIZED){var a;this._t(il.LOADING),(a=jt.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this.instance,"toolbar",i=>{if(i)return TR.error("[Toolbar] Failed to load",i),void this._t(il.UNINITIALIZED);this._t(il.LOADED),this.bt(s)}),dn(ge,"turbolinks:load",()=>{this._t(il.UNINITIALIZED),this.loadToolbar(s)})}return!0}wt(t){return this.loadToolbar(t)}maybeLoadEditor(t,r,n){return t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(t,r,n)}}var wne=on("[TracingHeaders]");class _ne{constructor(t){this.xt=void 0,this.Et=void 0,this.rt=()=>{var r,n;Ke(this.xt)&&((r=jt.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),Ke(this.Et)&&((n=jt.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}it(t){var r,n;(r=jt.__PosthogExtensions__)!=null&&r.tracingHeadersPatchFns&&t(),(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"tracing-headers",s=>{if(s)return wne.error("failed to load script",s);t()})}startIfEnabledOrStop(){var t,r;this._instance.config.__add_tracing_headers?this.it(this.rt):((t=this.xt)==null||t.call(this),(r=this.Et)==null||r.call(this),this.xt=void 0,this.Et=void 0)}}var ka="Mobile",Sx="iOS",Pi="Android",Xm="Tablet",wU=Pi+" "+Xm,_U="iPad",SU="Apple",jU=SU+" Watch",Qm="Safari",Of="BlackBerry",kU="Samsung",EU=kU+"Browser",NU=kU+" Internet",Su="Chrome",Sne=Su+" OS",CU=Su+" "+Sx,SP="Internet Explorer",PU=SP+" "+ka,jP="Opera",jne=jP+" Mini",kP="Edge",AU="Microsoft "+kP,Gd="Firefox",TU=Gd+" "+Sx,Zm="Nintendo",eg="PlayStation",Yd="Xbox",OU=Pi+" "+ka,$U=ka+" "+Qm,Gp="Windows",eE=Gp+" Phone",OR="Nokia",tE="Ouya",RU="Generic",kne=RU+" "+ka.toLowerCase(),MU=RU+" "+Xm.toLowerCase(),rE="Konqueror",is="(\\d+(\\.\\d+)?)",eS=new RegExp("Version/"+is),Ene=new RegExp(Yd,"i"),Nne=new RegExp(eg+" \\w+","i"),Cne=new RegExp(Zm+" \\w+","i"),EP=new RegExp(Of+"|PlayBook|BB10","i"),Pne={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},Ane=(e,t)=>t&&qt(t,SU)||function(r){return qt(r,Qm)&&!qt(r,Su)&&!qt(r,Pi)}(e),IU=function(e,t){return t=t||"",qt(e," OPR/")&&qt(e,"Mini")?jne:qt(e," OPR/")?jP:EP.test(e)?Of:qt(e,"IE"+ka)||qt(e,"WPDesktop")?PU:qt(e,EU)?NU:qt(e,kP)||qt(e,"Edg/")?AU:qt(e,"FBIOS")?"Facebook "+ka:qt(e,"UCWEB")||qt(e,"UCBrowser")?"UC Browser":qt(e,"CriOS")?CU:qt(e,"CrMo")||qt(e,Su)?Su:qt(e,Pi)&&qt(e,Qm)?OU:qt(e,"FxiOS")?TU:qt(e.toLowerCase(),rE.toLowerCase())?rE:Ane(e,t)?qt(e,ka)?$U:Qm:qt(e,Gd)?Gd:qt(e,"MSIE")||qt(e,"Trident/")?SP:qt(e,"Gecko")?Gd:""},Tne={[PU]:[new RegExp("rv:"+is)],[AU]:[new RegExp(kP+"?\\/"+is)],[Su]:[new RegExp("("+Su+"|CrMo)\\/"+is)],[CU]:[new RegExp("CriOS\\/"+is)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+is)],[Qm]:[eS],[$U]:[eS],[jP]:[new RegExp("(Opera|OPR)\\/"+is)],[Gd]:[new RegExp(Gd+"\\/"+is)],[TU]:[new RegExp("FxiOS\\/"+is)],[rE]:[new RegExp("Konqueror[:/]?"+is,"i")],[Of]:[new RegExp(Of+" "+is),eS],[OU]:[new RegExp("android\\s"+is,"i")],[NU]:[new RegExp(EU+"\\/"+is)],[SP]:[new RegExp("(rv:|MSIE )"+is)],Mozilla:[new RegExp("rv:"+is)]},One=function(e,t){var r=IU(e,t),n=Tne[r];if(Ke(n))return null;for(var s=0;s<n.length;s++){var a=n[s],i=e.match(a);if(i)return parseFloat(i[i.length-2])}return null},$R=[[new RegExp(Yd+"; "+Yd+" (.*?)[);]","i"),e=>[Yd,e&&e[1]||""]],[new RegExp(Zm,"i"),[Zm,""]],[new RegExp(eg,"i"),[eg,""]],[EP,[Of,""]],[new RegExp(Gp,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[eE,""];if(new RegExp(ka).test(t)&&!/IEMobile\b/.test(t))return[Gp+" "+ka,""];var r=/Windows NT ([0-9.]+)/i.exec(t);if(r&&r[1]){var n=r[1],s=Pne[n]||"";return/arm/i.test(t)&&(s="RT"),[Gp,s]}return[Gp,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Sx,t.join(".")]}return[Sx,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=Ke(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Pi+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Pi+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Pi,t.join(".")]}return[Pi,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var r=[e[1],e[2],e[3]||"0"];t[1]=r.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[Sne,""]],[/Linux|debian/i,["Linux",""]]],RR=function(e){return Cne.test(e)?Zm:Nne.test(e)?eg:Ene.test(e)?Yd:new RegExp(tE,"i").test(e)?tE:new RegExp("("+eE+"|WPDesktop)","i").test(e)?eE:/iPad/.test(e)?_U:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?jU:EP.test(e)?Of:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(OR,"i").test(e)?OR:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(ka).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Pi:wU:Pi:new RegExp("(pda|"+ka+")","i").test(e)?kne:new RegExp(Xm,"i").test(e)&&!new RegExp(Xm+" pc","i").test(e)?MU:""},_v="https?://(.*)",yh=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],$ne=gh(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],yh),vy="<masked>",Rne=["li_fat_id"];function LU(e,t,r){if(!et)return{};var n,s=t?gh([],yh,r||[]):[],a=DU(yy(et.URL,s,vy),e),i=(n={},kr(Rne,function(l){var c=Ii.q(l);n[l]=c||null}),n);return en(i,a)}function DU(e,t){var r=$ne.concat(t||[]),n={};return kr(r,function(s){var a=bx(e,s);n[s]=a||null}),n}function FU(e){var t=function(a){return a?a.search(_v+"google.([^/?]*)")===0?"google":a.search(_v+"bing.com")===0?"bing":a.search(_v+"yahoo.com")===0?"yahoo":a.search(_v+"duckduckgo.com")===0?"duckduckgo":null:null}(e),r=t!="yahoo"?"q":"p",n={};if(!ui(t)){n.$search_engine=t;var s=et?bx(et.referrer,r):"";s.length&&(n.ph_keyword=s)}return n}function MR(){return navigator.language||navigator.userLanguage}function BU(){return(et==null?void 0:et.referrer)||"$direct"}function UU(e,t){var r=e?gh([],yh,t||[]):[],n=Ns==null?void 0:Ns.href.substring(0,1e3);return{r:BU().substring(0,1e3),u:n?yy(n,r,vy):void 0}}function zU(e){var t,{r,u:n}=e,s={$referrer:r,$referring_domain:r==null?void 0:r=="$direct"?"$direct":(t=xx(r))==null?void 0:t.host};if(n){s.$current_url=n;var a=xx(n);s.$host=a==null?void 0:a.host,s.$pathname=a==null?void 0:a.pathname;var i=DU(n);en(s,i)}if(r){var l=FU(r);en(s,l)}return s}function qU(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function Mne(){try{return new Date().getTimezoneOffset()}catch{return}}function Ine(e,t){if(!js)return{};var r,n,s,a=e?gh([],yh,t||[]):[],[i,l]=function(c){for(var u=0;u<$R.length;u++){var[d,f]=$R[u],h=d.exec(c),y=h&&(Kl(f)?f(h,c):f);if(y)return y}return["",""]}(js);return en(xP({$os:i,$os_version:l,$browser:IU(js,navigator.vendor),$device:RR(js),$device_type:(n=js,s=RR(n),s===_U||s===wU||s==="Kobo"||s==="Kindle Fire"||s===MU?Xm:s===Zm||s===Yd||s===eg||s===tE?"Console":s===jU?"Wearable":s?ka:"Desktop"),$timezone:qU(),$timezone_offset:Mne()}),{$current_url:yy(Ns==null?void 0:Ns.href,a,vy),$host:Ns==null?void 0:Ns.host,$pathname:Ns==null?void 0:Ns.pathname,$raw_user_agent:js.length>1e3?js.substring(0,997)+"...":js,$browser_version:One(js,navigator.vendor),$browser_language:MR(),$browser_language_prefix:(r=MR(),typeof r=="string"?r.split("-")[0]:void 0),$screen_height:ge==null?void 0:ge.screen.height,$screen_width:ge==null?void 0:ge.screen.width,$viewport_height:ge==null?void 0:ge.innerHeight,$viewport_width:ge==null?void 0:ge.innerWidth,$lib:"web",$lib_version:co.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var tl=on("[Web Vitals]"),IR=9e5;class Lne{constructor(t){var r;this.St=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.$t=()=>{clearTimeout(this.kt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce((n,s)=>dt({},n,{["$web_vitals_"+s.name+"_event"]:dt({},s),["$web_vitals_"+s.name+"_value"]:s.value}),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=n=>{var s,a=(s=this._instance.sessionManager)==null?void 0:s.checkAndGetSessionAndWindowId(!0);if(Ke(a))tl.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var i=this.Tt();Ke(i)||(tr(n==null?void 0:n.name)||tr(n==null?void 0:n.value)?tl.error("Invalid metric received",n):this.Ct&&n.value>=this.Ct?tl.error("Ignoring metric with value >= "+this.Ct,n):(this.N.url!==i&&(this.$t(),this.kt=setTimeout(this.$t,this.flushToCaptureTimeoutMs)),Ke(this.N.url)&&(this.N.url=i),this.N.firstMetricTimestamp=Ke(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,n.attribution&&n.attribution.interactionTargetElement&&(n.attribution.interactionTargetElement=void 0),this.N.metrics.push(dt({},n,{$current_url:i,$session_id:a.sessionId,$window_id:a.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.$t()))}},this.rt=()=>{var n,s,a,i,l=jt.__PosthogExtensions__;Ke(l)||Ke(l.postHogWebVitalsCallbacks)||({onLCP:n,onCLS:s,onFCP:a,onINP:i}=l.postHogWebVitalsCallbacks),n&&s&&a&&i?(this.allowedMetrics.indexOf("LCP")>-1&&n(this.Pt.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&s(this.Pt.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&a(this.Pt.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&i(this.Pt.bind(this)),this.P=!0):tl.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.St=!((r=this._instance.persistence)==null||!r.props[xR]),this.startIfEnabled()}get allowedMetrics(){var t,r,n=Cn(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return Ke(n)?((r=this._instance.persistence)==null?void 0:r.props[bR])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(Cn(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Ct(){var t=Cn(this._instance.config.capture_performance)&&Hi(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:IR;return 0<t&&t<=6e4?IR:t}get isEnabled(){var t=Ns==null?void 0:Ns.protocol;if(t!=="http:"&&t!=="https:")return tl.info("Web Vitals are disabled on non-http/https protocols"),!1;var r=Cn(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Eo(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Eo(r)?r:this.St}startIfEnabled(){this.isEnabled&&!this.P&&(tl.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(t){var r=Cn(t.capturePerformance)&&!!t.capturePerformance.web_vitals,n=Cn(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[xR]:r}),this._instance.persistence.register({[bR]:n})),this.St=r,this.startIfEnabled()}it(t){var r,n;(r=jt.__PosthogExtensions__)!=null&&r.postHogWebVitalsCallbacks&&t(),(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"web-vitals",s=>{s?tl.error("failed to load script",s):t()})}Tt(){var t=ge?ge.location.href:void 0;if(t){var r=this._instance.config.mask_personal_data_properties,n=this._instance.config.custom_personal_data_properties,s=r?gh([],yh,n||[]):[];return yy(t,s,vy)}tl.error("Could not determine current URL")}}var Dne=on("[Heatmaps]");function LR(e){return Cn(e)&&"clientX"in e&&"clientY"in e&&Hi(e.clientX)&&Hi(e.clientY)}class Fne{constructor(t){var r;this.St=!1,this.P=!1,this.Rt=null,this.instance=t,this.St=!((r=this.instance.persistence)==null||!r.props[Vk]),this.rageclicks=new gU(t.config.rageclick)}get flushIntervalMilliseconds(){var t=5e3;return Cn(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return Ke(this.instance.config.capture_heatmaps)?Ke(this.instance.config.enable_heatmaps)?this.St:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;Dne.info("starting..."),this.It(),this.Ft()}else{var t;clearInterval((t=this.Rt)!==null&&t!==void 0?t:void 0),this.Mt(),this.getAndClearBuffer()}}onRemoteConfig(t){var r=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Vk]:r}),this.St=r,this.startIfEnabled()}getAndClearBuffer(){var t=this.N;return this.N=void 0,t}Ot(t){this.At(t.originalEvent,"deadclick")}Ft(){this.Rt&&clearInterval(this.Rt),this.Rt=function(t){return(t==null?void 0:t.visibilityState)==="visible"}(et)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}It(){ge&&et&&(this.jt=this.Dt.bind(this),dn(ge,"beforeunload",this.jt),this.Lt=t=>this.At(t||(ge==null?void 0:ge.event)),dn(et,"click",this.Lt,{capture:!0}),this.Nt=t=>this.Ut(t||(ge==null?void 0:ge.event)),dn(et,"mousemove",this.Nt,{capture:!0}),this.zt=new vU(this.instance,hne,this.Ot.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ft.bind(this),dn(et,"visibilitychange",this.Ht),this.P=!0)}Mt(){var t;ge&&et&&(this.jt&&ge.removeEventListener("beforeunload",this.jt),this.Lt&&et.removeEventListener("click",this.Lt,{capture:!0}),this.Nt&&et.removeEventListener("mousemove",this.Nt,{capture:!0}),this.Ht&&et.removeEventListener("visibilitychange",this.Ht),clearTimeout(this.Bt),(t=this.zt)==null||t.stop(),this.P=!1)}qt(t,r){var n=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),a=this.instance.scrollManager.scrollElement(),i=function(l,c,u){for(var d=l;d&&_w(d)&&!Yl(d,"body");){if(d===u)return!1;if(qt(c,ge==null?void 0:ge.getComputedStyle(d).position))return!0;d=cU(d)}return!1}(oU(t),["fixed","sticky"],a);return{x:t.clientX+(i?0:s),y:t.clientY+(i?0:n),target_fixed:i,type:r}}At(t,r){var n;if(r===void 0&&(r="click"),!wR(t.target)&&LR(t)){var s=this.qt(t,r);(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.Wt(dt({},s,{type:"rageclick"})),this.Wt(s)}}Ut(t){!wR(t.target)&&LR(t)&&(clearTimeout(this.Bt),this.Bt=setTimeout(()=>{this.Wt(this.qt(t,"mousemove"))},500))}Wt(t){if(ge){var r=ge.location.href,n=this.instance.config.mask_personal_data_properties,s=this.instance.config.custom_personal_data_properties,a=n?gh([],yh,s||[]):[],i=yy(r,a,vy);this.N=this.N||{},this.N[i]||(this.N[i]=[]),this.N[i].push(t)}}Dt(){this.N&&!$d(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class Bne{constructor(t){this._instance=t}doPageView(t,r){var n,s=this.Gt(t,r);return this.Vt={pathname:(n=ge==null?void 0:ge.location.pathname)!==null&&n!==void 0?n:"",pageViewId:r,timestamp:t},this._instance.scrollManager.resetContext(),s}doPageLeave(t){var r;return this.Gt(t,(r=this.Vt)==null?void 0:r.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.Vt)==null?void 0:t.pageViewId}}Gt(t,r){var n=this.Vt;if(!n)return{$pageview_id:r};var s={$pageview_id:r,$prev_pageview_id:n.pageViewId},a=this._instance.scrollManager.getContext();if(a&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:i,lastScrollY:l,maxScrollY:c,maxContentHeight:u,lastContentY:d,maxContentY:f}=a;if(!(Ke(i)||Ke(l)||Ke(c)||Ke(u)||Ke(d)||Ke(f))){i=Math.ceil(i),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d),f=Math.ceil(f);var h=i<=1?1:Ci(l/i,0,1,rt),y=i<=1?1:Ci(c/i,0,1,rt),g=u<=1?1:Ci(d/u,0,1,rt),m=u<=1?1:Ci(f/u,0,1,rt);s=en(s,{$prev_pageview_last_scroll:l,$prev_pageview_last_scroll_percentage:h,$prev_pageview_max_scroll:c,$prev_pageview_max_scroll_percentage:y,$prev_pageview_last_content:d,$prev_pageview_last_content_percentage:g,$prev_pageview_max_content:f,$prev_pageview_max_content_percentage:m})}}return n.pathname&&(s.$prev_pageview_pathname=n.pathname),n.timestamp&&(s.$prev_pageview_duration=(t.getTime()-n.timestamp.getTime())/1e3),s}}var Ea=Uint8Array,Rs=Uint16Array,$f=Uint32Array,NP=new Ea([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),CP=new Ea([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),DR=new Ea([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),WU=function(e,t){for(var r=new Rs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var s=new $f(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)s[a]=a-r[n]<<5|n;return[r,s]},VU=WU(NP,2),Une=VU[0],nE=VU[1];Une[28]=258,nE[258]=28;for(var FR=WU(CP,0)[1],HU=new Rs(32768),Or=0;Or<32768;++Or){var jc=(43690&Or)>>>1|(21845&Or)<<1;jc=(61680&(jc=(52428&jc)>>>2|(13107&jc)<<2))>>>4|(3855&jc)<<4,HU[Or]=((65280&jc)>>>8|(255&jc)<<8)>>>1}var pm=function(e,t,r){for(var n=e.length,s=0,a=new Rs(t);s<n;++s)++a[e[s]-1];var i,l=new Rs(t);for(s=0;s<t;++s)l[s]=l[s-1]+a[s-1]<<1;for(i=new Rs(n),s=0;s<n;++s)i[s]=HU[l[e[s]-1]++]>>>15-e[s];return i},ju=new Ea(288);for(Or=0;Or<144;++Or)ju[Or]=8;for(Or=144;Or<256;++Or)ju[Or]=9;for(Or=256;Or<280;++Or)ju[Or]=7;for(Or=280;Or<288;++Or)ju[Or]=8;var jx=new Ea(32);for(Or=0;Or<32;++Or)jx[Or]=5;var zne=pm(ju,9),qne=pm(jx,5),KU=function(e){return(e/8>>0)+(7&e&&1)},GU=function(e,t,r){(r==null||r>e.length)&&(r=e.length);var n=new(e instanceof Rs?Rs:e instanceof $f?$f:Ea)(r-t);return n.set(e.subarray(t,r)),n},ro=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},fp=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},tS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,a=r.slice();if(!s)return[new Ea(0),0];if(s==1){var i=new Ea(r[0].s+1);return i[r[0].s]=1,[i,1]}r.sort(function(S,k){return S.f-k.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};var h=a[0].s;for(n=1;n<s;++n)a[n].s>h&&(h=a[n].s);var y=new Rs(h+1),g=sE(r[d-1],y,0);if(g>t){n=0;var m=0,v=g-t,x=1<<v;for(a.sort(function(S,k){return y[k.s]-y[S.s]||S.f-k.f});n<s;++n){var b=a[n].s;if(!(y[b]>t))break;m+=x-(1<<g-y[b]),y[b]=t}for(m>>>=v;m>0;){var w=a[n].s;y[w]<t?m-=1<<t-y[w]++-1:++n}for(;n>=0&&m;--n){var _=a[n].s;y[_]==t&&(--y[_],++m)}g=t}return[new Ea(y),g]},sE=function(e,t,r){return e.s==-1?Math.max(sE(e.l,t,r+1),sE(e.r,t,r+1)):t[e.s]=r},BR=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Rs(++t),n=0,s=e[0],a=1,i=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=e[l]}return[r.subarray(0,n),t]},hp=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},aE=function(e,t,r){var n=r.length,s=KU(t+2);e[s]=255&n,e[s+1]=n>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var a=0;a<n;++a)e[s+a+4]=r[a];return 8*(s+4+n)},UR=function(e,t,r,n,s,a,i,l,c,u,d){ro(t,d++,r),++s[256];for(var f=tS(s,15),h=f[0],y=f[1],g=tS(a,15),m=g[0],v=g[1],x=BR(h),b=x[0],w=x[1],_=BR(m),S=_[0],k=_[1],E=new Rs(19),j=0;j<b.length;++j)E[31&b[j]]++;for(j=0;j<S.length;++j)E[31&S[j]]++;for(var N=tS(E,7),C=N[0],P=N[1],R=19;R>4&&!C[DR[R-1]];--R);var B,z,D,O,U=u+5<<3,A=hp(s,ju)+hp(a,jx)+i,I=hp(s,h)+hp(a,m)+i+14+3*R+hp(E,C)+(2*E[16]+3*E[17]+7*E[18]);if(U<=A&&U<=I)return aE(t,d,e.subarray(c,c+u));if(ro(t,d,1+(I<A)),d+=2,I<A){B=pm(h,y),z=h,D=pm(m,v),O=m;var te=pm(C,P);for(ro(t,d,w-257),ro(t,d+5,k-1),ro(t,d+10,R-4),d+=14,j=0;j<R;++j)ro(t,d+3*j,C[DR[j]]);d+=3*R;for(var $=[b,S],V=0;V<2;++V){var W=$[V];for(j=0;j<W.length;++j){var ee=31&W[j];ro(t,d,te[ee]),d+=C[ee],ee>15&&(ro(t,d,W[j]>>>5&127),d+=W[j]>>>12)}}}else B=zne,z=ju,D=qne,O=jx;for(j=0;j<l;++j)if(n[j]>255){ee=n[j]>>>18&31,fp(t,d,B[ee+257]),d+=z[ee+257],ee>7&&(ro(t,d,n[j]>>>23&31),d+=NP[ee]);var ie=31&n[j];fp(t,d,D[ie]),d+=O[ie],ie>3&&(fp(t,d,n[j]>>>5&8191),d+=CP[ie])}else fp(t,d,B[n[j]]),d+=z[n[j]];return fp(t,d,B[256]),d+z[256]},Wne=new $f([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Vne=function(){for(var e=new $f(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&3988292384)^r>>>1;e[t]=r}return e}(),Hne=function(e,t,r,n,s){return function(a,i,l,c,u,d){var f=a.length,h=new Ea(c+f+5*(1+Math.floor(f/7e3))+u),y=h.subarray(c,h.length-u),g=0;if(!i||f<8)for(var m=0;m<=f;m+=65535){var v=m+65535;v<f?g=aE(y,g,a.subarray(m,v)):(y[m]=d,g=aE(y,g,a.subarray(m,f)))}else{for(var x=Wne[i-1],b=x>>>13,w=8191&x,_=(1<<l)-1,S=new Rs(32768),k=new Rs(_+1),E=Math.ceil(l/3),j=2*E,N=function(Te){return(a[Te]^a[Te+1]<<E^a[Te+2]<<j)&_},C=new $f(25e3),P=new Rs(288),R=new Rs(32),B=0,z=0,D=(m=0,0),O=0,U=0;m<f;++m){var A=N(m),I=32767&m,te=k[A];if(S[I]=te,k[A]=I,O<=m){var $=f-m;if((B>7e3||D>24576)&&$>423){g=UR(a,y,0,C,P,R,z,D,U,m-U,g),D=B=z=0,U=m;for(var V=0;V<286;++V)P[V]=0;for(V=0;V<30;++V)R[V]=0}var W=2,ee=0,ie=w,G=I-te&32767;if($>2&&A==N(m-G))for(var q=Math.min(b,$)-1,Z=Math.min(32767,m),Y=Math.min(258,$);G<=Z&&--ie&&I!=te;){if(a[m+W]==a[m+W-G]){for(var J=0;J<Y&&a[m+J]==a[m+J-G];++J);if(J>W){if(W=J,ee=G,J>q)break;var se=Math.min(G,J-2),Q=0;for(V=0;V<se;++V){var ue=m-G+V+32768&32767,ce=ue-S[ue]+32768&32767;ce>Q&&(Q=ce,te=ue)}}}G+=(I=te)-(te=S[I])+32768&32767}if(ee){C[D++]=268435456|nE[W]<<18|FR[ee];var ve=31&nE[W],we=31&FR[ee];z+=NP[ve]+CP[we],++P[257+ve],++R[we],O=m+W,++B}else C[D++]=a[m],++P[a[m]]}}g=UR(a,y,d,C,P,R,z,D,U,m-U,g)}return GU(h,0,c+KU(g)+u)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!0)},rS=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};function Kne(e,t){t===void 0&&(t={});var r=function(){var l=4294967295;return{p:function(c){for(var u=l,d=0;d<c.length;++d)u=Vne[255&u^c[d]]^u>>>8;l=u},d:function(){return 4294967295^l}}}(),n=e.length;r.p(e);var s,a=Hne(e,t,10+((s=t).filename&&s.filename.length+1||0),8),i=a.length;return function(l,c){var u=c.filename;if(l[0]=31,l[1]=139,l[2]=8,l[8]=c.level<2?4:c.level==9?2:0,l[9]=3,c.mtime!=0&&rS(l,4,Math.floor(new Date(c.mtime||Date.now())/1e3)),u){l[3]=8;for(var d=0;d<=u.length;++d)l[d+10]=u.charCodeAt(d)}}(a,t),rS(a,i-8,r.d()),rS(a,i-4,n),a}var Gne=function(e){var t,r,n,s,a="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,s=0;s<n;s++){var i=e.charCodeAt(s),l=null;i<128?r++:l=i>127&&i<2048?String.fromCharCode(i>>6|192,63&i|128):String.fromCharCode(i>>12|224,i>>6&63|128,63&i|128),ui(l)||(r>t&&(a+=e.substring(t,r)),a+=l,t=r=s+1)}return r>t&&(a+=e.substring(t,e.length)),a},Yne=!!Bk||!!Fk,zR="text/plain",kx=function(e,t,r){var n;r===void 0&&(r=!0);var[s,a]=e.split("?"),i=dt({},t),l=(n=a==null?void 0:a.split("&").map(u=>{var d,[f,h]=u.split("="),y=r&&(d=i[f])!==null&&d!==void 0?d:h;return delete i[f],f+"="+y}))!==null&&n!==void 0?n:[],c=ene(i);return c&&l.push(c),s+"?"+l.join("&")},Yp=(e,t)=>JSON.stringify(e,(r,n)=>typeof n=="bigint"?n.toString():n,t),nS=e=>{var{data:t,compression:r}=e;if(t){if(r===go.GZipJS){var n=Kne(function(c,u){var d=c.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(c);for(var f=new Ea(c.length+(c.length>>>1)),h=0,y=function(x){f[h++]=x},g=0;g<d;++g){if(h+5>f.length){var m=new Ea(h+8+(d-g<<1));m.set(f),f=m}var v=c.charCodeAt(g);v<128||u?y(v):v<2048?(y(192|v>>>6),y(128|63&v)):v>55295&&v<57344?(y(240|(v=65536+(1047552&v)|1023&c.charCodeAt(++g))>>>18),y(128|v>>>12&63),y(128|v>>>6&63),y(128|63&v)):(y(224|v>>>12),y(128|v>>>6&63),y(128|63&v))}return GU(f,0,h)}(Yp(t)),{mtime:0}),s=new Blob([n],{type:zR});return{contentType:zR,body:s,estimatedSize:s.size}}if(r===go.Base64){var a=function(c){var u,d,f,h,y,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m=0,v=0,x="",b=[];if(!c)return c;c=Gne(c);do u=(y=c.charCodeAt(m++)<<16|c.charCodeAt(m++)<<8|c.charCodeAt(m++))>>18&63,d=y>>12&63,f=y>>6&63,h=63&y,b[v++]=g.charAt(u)+g.charAt(d)+g.charAt(f)+g.charAt(h);while(m<c.length);switch(x=b.join(""),c.length%3){case 1:x=x.slice(0,-2)+"==";break;case 2:x=x.slice(0,-1)+"="}return x}(Yp(t)),i=(c=>"data="+encodeURIComponent(typeof c=="string"?c:Yp(c)))(a);return{contentType:"application/x-www-form-urlencoded",body:i,estimatedSize:new Blob([i]).size}}var l=Yp(t);return{contentType:"application/json",body:l,estimatedSize:new Blob([l]).size}}},P0=[];Fk&&P0.push({transport:"fetch",method:e=>{var t,r,{contentType:n,body:s,estimatedSize:a}=(t=nS(e))!==null&&t!==void 0?t:{},i=new Headers;kr(e.headers,function(d,f){i.append(f,d)}),n&&i.append("Content-Type",n);var l=e.url,c=null;if(oR){var u=new oR;c={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}Fk(l,dt({method:(e==null?void 0:e.method)||"GET",headers:i,keepalive:e.method==="POST"&&(a||0)<52428.8,body:s,signal:(r=c)==null?void 0:r.signal},e.fetchOptions)).then(d=>d.text().then(f=>{var h={statusCode:d.status,text:f};if(d.status===200)try{h.json=JSON.parse(f)}catch(y){rt.error(y)}e.callback==null||e.callback(h)})).catch(d=>{rt.error(d),e.callback==null||e.callback({statusCode:0,text:d})}).finally(()=>c?clearTimeout(c.timeout):null)}}),Bk&&P0.push({transport:"XHR",method:e=>{var t,r=new Bk;r.open(e.method||"GET",e.url,!0);var{contentType:n,body:s}=(t=nS(e))!==null&&t!==void 0?t:{};kr(e.headers,function(a,i){r.setRequestHeader(i,a)}),n&&r.setRequestHeader("Content-Type",n),e.timeout&&(r.timeout=e.timeout),e.disableXHRCredentials||(r.withCredentials=!0),r.onreadystatechange=()=>{if(r.readyState===4){var a={statusCode:r.status,text:r.responseText};if(r.status===200)try{a.json=JSON.parse(r.responseText)}catch{}e.callback==null||e.callback(a)}},r.send(s)}}),ea!=null&&ea.sendBeacon&&P0.push({transport:"sendBeacon",method:e=>{var t=kx(e.url,{beacon:"1"});try{var r,{contentType:n,body:s}=(r=nS(e))!==null&&r!==void 0?r:{},a=typeof s=="string"?new Blob([s],{type:n}):s;ea.sendBeacon(t,a)}catch{}}});var Ex=function(e,t){if(!function(r){try{new RegExp(r)}catch{return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch{return!1}};function qR(e,t,r){return Yp({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:r})}var YU={exact:(e,t)=>t.some(r=>e.some(n=>r===n)),is_not:(e,t)=>t.every(r=>e.every(n=>r!==n)),regex:(e,t)=>t.some(r=>e.some(n=>Ex(r,n))),not_regex:(e,t)=>t.every(r=>e.every(n=>!Ex(r,n))),icontains:(e,t)=>t.map(Sv).some(r=>e.map(Sv).some(n=>r.includes(n))),not_icontains:(e,t)=>t.map(Sv).every(r=>e.map(Sv).every(n=>!r.includes(n)))},Sv=e=>e.toLowerCase();function JU(e,t){return!e||Object.entries(e).every(r=>{var[n,s]=r,a=t==null?void 0:t[n];if(Ke(a)||ui(a))return!1;var i=[String(a)],l=YU[s.operator];return!!l&&l(s.values,i)})}var sS=on("[Error tracking]");class Jne{constructor(t){var r,n;this.Jt=[],this.Kt=new bre([new Pre,new Dre,new Tre,new Are,new Ire,new Mre,new $re,new Lre],Cre("web:javascript",jre,Nre)),this._instance=t,this.Jt=(r=(n=this._instance.persistence)==null?void 0:n.get_property(Hk))!==null&&r!==void 0?r:[]}onRemoteConfig(t){var r,n,s,a=(r=(n=t.errorTracking)==null?void 0:n.suppressionRules)!==null&&r!==void 0?r:[],i=(s=t.errorTracking)==null?void 0:s.captureExtensionExceptions;this.Jt=a,this._instance.persistence&&this._instance.persistence.register({[Hk]:this.Jt,[vR]:i})}get Yt(){var t,r=!!this._instance.get_property(vR),n=this._instance.config.error_tracking.captureExtensionExceptions;return(t=n??r)!==null&&t!==void 0&&t}buildProperties(t,r){return this.Kt.buildFromUnknown(t,{syntheticException:r==null?void 0:r.syntheticException,mechanism:{handled:r==null?void 0:r.handled}})}sendExceptionEvent(t){var r=t.$exception_list;if(this.Xt(r)){if(this.Qt(r))return void sS.info("Skipping exception capture because a suppression rule matched");if(!this.Yt&&this.Zt(r))return void sS.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(r))return void sS.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}Qt(t){if(t.length===0)return!1;var r=t.reduce((n,s)=>{var{type:a,value:i}=s;return bn(a)&&a.length>0&&n.$exception_types.push(a),bn(i)&&i.length>0&&n.$exception_values.push(i),n},{$exception_types:[],$exception_values:[]});return this.Jt.some(n=>{var s=n.values.map(a=>{var i,l=YU[a.operator],c=ar(a.value)?a.value:[a.value],u=(i=r[a.key])!==null&&i!==void 0?i:[];return c.length>0&&l(c,u)});return n.type==="OR"?s.some(Boolean):s.every(Boolean)})}Zt(t){return t.flatMap(r=>{var n,s;return(n=(s=r.stacktrace)==null?void 0:s.frames)!==null&&n!==void 0?n:[]}).some(r=>r.filename&&r.filename.startsWith("chrome-extension://"))}ti(t){if(t.length>0){var r,n,s,a,i=(r=(n=t[0].stacktrace)==null?void 0:n.frames)!==null&&r!==void 0?r:[],l=i[i.length-1];return(s=l==null||(a=l.filename)==null?void 0:a.includes("posthog.com/static"))!==null&&s!==void 0&&s}return!1}Xt(t){return!tr(t)&&ar(t)}}var Ba=on("[FeatureFlags]"),pp=on("[FeatureFlags]",{debugEnabled:!0}),aS="$active_feature_flags",Xu="$override_feature_flags",WR="$feature_flag_payloads",mp="$override_feature_flag_payloads",VR="$feature_flag_request_id",HR="$feature_flag_evaluated_at",KR=e=>{var t={};for(var[r,n]of C0(e||{}))n&&(t[r]=n);return t},Xne=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map(r=>{var n;return[r,(n=t[r].variant)!==null&&n!==void 0?n:t[r].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter(r=>t[r].enabled).filter(r=>{var n;return(n=t[r].metadata)==null?void 0:n.payload}).map(r=>{var n;return[r,(n=t[r].metadata)==null?void 0:n.payload]}))):Ba.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},Qne=function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e}({});class Zne{constructor(t){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=t,this.featureFlagEventHandlers=[]}li(){var t=this._instance.config.evaluation_environments;return t!=null&&t.length?t.filter(r=>{var n=r&&typeof r=="string"&&r.trim().length>0;return n||Ba.error("Invalid evaluation environment found:",r,"Expected non-empty string"),n}):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var t=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.di({disableFlags:t})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(Kk),r=this._instance.get_property(Xu),n=this._instance.get_property(mp);if(!n&&!r)return t||{};var s=en({},t||{}),a=[...new Set([...Object.keys(n||{}),...Object.keys(r||{})])];for(var i of a){var l,c,u=s[i],d=r==null?void 0:r[i],f=Ke(d)?(l=u==null?void 0:u.enabled)!==null&&l!==void 0&&l:!!d,h=Ke(d)?u.variant:typeof d=="string"?d:void 0,y=n==null?void 0:n[i],g=dt({},u,{enabled:f,variant:f?h??(u==null?void 0:u.variant):void 0});f!==(u==null?void 0:u.enabled)&&(g.original_enabled=u==null?void 0:u.enabled),h!==(u==null?void 0:u.variant)&&(g.original_variant=u==null?void 0:u.variant),y&&(g.metadata=dt({},u==null?void 0:u.metadata,{payload:y,original_payload:u==null||(c=u.metadata)==null?void 0:c.payload})),s[i]=g}return this.ii||(Ba.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:n,finalDetails:s}),this.ii=!0),s}getFlagVariants(){var t=this._instance.get_property(Rd),r=this._instance.get_property(Xu);if(!r)return t||{};for(var n=en({},t),s=Object.keys(r),a=0;a<s.length;a++)n[s[a]]=r[s[a]];return this.ii||(Ba.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:r,finalFlags:n}),this.ii=!0),n}getFlagPayloads(){var t=this._instance.get_property(WR),r=this._instance.get_property(mp);if(!r)return t||{};for(var n=en({},t||{}),s=Object.keys(r),a=0;a<s.length;a++)n[s[a]]=r[s[a]];return this.ii||(Ba.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:r,finalPayloads:n}),this.ii=!0),n}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout(()=>{this.di()},5))}vi(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.si=t}di(t){var r;if(this.vi(),!this._instance.O())if(this.ri)this.ni=!0;else{var n=this._instance.config.token,s=this._instance.get_property("$device_id"),a={token:n,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:dt({},((r=this._instance.persistence)==null?void 0:r.get_initial_props())||{},this._instance.get_property(Kp)||{}),group_properties:this._instance.get_property(Oc)};ui(s)||Ke(s)||(a.$device_id=s),(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(a.disable_flags=!0),this.ui()&&(a.evaluation_environments=this.li());var i=this._instance.config.__preview_remote_config,l=i?"/flags/?v=2":"/flags/?v=2&config=true",c=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",u=this._instance.requestRouter.endpointFor("flags",l+c);i&&(a.timezone=qU()),this.ri=!0,this._instance._send_request({method:"POST",url:u,data:a,compression:this._instance.config.disable_compression?void 0:go.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:d=>{var f,h,y=!0;if(d.statusCode===200&&(this.ni||(this.$anon_distinct_id=void 0),y=!1),this.ri=!1,this.oi||(this.oi=!0,this._instance.ci((h=d.json)!==null&&h!==void 0?h:{})),!a.disable_flags||this.ni)if(this.ai=!y,d.json&&(f=d.json.quotaLimited)!=null&&f.includes(Qne.FeatureFlags))Ba.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var g;a.disable_flags||this.receivedFeatureFlags((g=d.json)!==null&&g!==void 0?g:{},y),this.ni&&(this.ni=!1,this.di())}}})}}getFeatureFlag(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[t],s=""+n,a=this._instance.get_property(VR)||void 0,i=this._instance.get_property(HR)||void 0,l=this._instance.get_property(mx)||{};if((r.send_event||!("send_event"in r))&&(!(t in l)||!l[t].includes(s))){var c,u,d,f,h,y,g,m,v;ar(l[t])?l[t].push(s):l[t]=[s],(c=this._instance.persistence)==null||c.register({[mx]:l});var x=this.getFeatureFlagDetails(t),b={$feature_flag:t,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:a,$feature_flag_evaluated_at:i,$feature_flag_bootstrapped_response:((u=this._instance.config.bootstrap)==null||(u=u.featureFlags)==null?void 0:u[t])||null,$feature_flag_bootstrapped_payload:((d=this._instance.config.bootstrap)==null||(d=d.featureFlagPayloads)==null?void 0:d[t])||null,$used_bootstrap_value:!this.ai};Ke(x==null||(f=x.metadata)==null?void 0:f.version)||(b.$feature_flag_version=x.metadata.version);var w,_=(h=x==null||(y=x.reason)==null?void 0:y.description)!==null&&h!==void 0?h:x==null||(g=x.reason)==null?void 0:g.code;_&&(b.$feature_flag_reason=_),x!=null&&(m=x.metadata)!=null&&m.id&&(b.$feature_flag_id=x.metadata.id),Ke(x==null?void 0:x.original_variant)&&Ke(x==null?void 0:x.original_enabled)||(b.$feature_flag_original_response=Ke(x.original_variant)?x.original_enabled:x.original_variant),x!=null&&(v=x.metadata)!=null&&v.original_payload&&(b.$feature_flag_original_payload=x==null||(w=x.metadata)==null?void 0:w.original_payload),this._instance.capture("$feature_flag_called",b)}return n}Ba.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,r){var n=this._instance.config.token,s={distinct_id:this._instance.get_distinct_id(),token:n};this.ui()&&(s.evaluation_environments=this.li()),this._instance._send_request({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:s,compression:this._instance.config.disable_compression?void 0:go.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:a=>{var i,l=(i=a.json)==null?void 0:i.featureFlagPayloads;r((l==null?void 0:l[t])||void 0)}})}isFeatureEnabled(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFeatureFlag(t,r);return Ke(n)?void 0:!!n}Ba.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(r=>r!==t)}receivedFeatureFlags(t,r){if(this._instance.persistence){this.ei=!0;var n=this.getFlagVariants(),s=this.getFlagPayloads(),a=this.getFlagsWithDetails();(function(i,l,c,u,d){c===void 0&&(c={}),u===void 0&&(u={}),d===void 0&&(d={});var f=Xne(i),h=f.flags,y=f.featureFlags,g=f.featureFlagPayloads;if(y){var m=i.requestId,v=i.evaluatedAt;if(ar(y)){Ba.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var x={};if(y)for(var b=0;b<y.length;b++)x[y[b]]=!0;l&&l.register({[aS]:y,[Rd]:x})}else{var w=y,_=g,S=h;i.errorsWhileComputingFlags&&(w=dt({},c,w),_=dt({},u,_),S=dt({},d,S)),l&&l.register(dt({[aS]:Object.keys(KR(w)),[Rd]:w||{},[WR]:_||{},[Kk]:S||{}},m?{[VR]:m}:{},v?{[HR]:v}:{}))}}})(t,this._instance.persistence,n,s,a),this.fi(r)}}override(t,r){r===void 0&&(r=!1),Ba.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:r})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return Ba.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(Xu),this._instance.persistence.unregister(mp),this.fi(),pp.info("All overrides cleared");if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var r,n=t;if(this.ii=!!((r=n.suppressWarning)!==null&&r!==void 0&&r),"flags"in n){if(n.flags===!1)this._instance.persistence.unregister(Xu),pp.info("Flag overrides cleared");else if(n.flags){if(ar(n.flags)){for(var s={},a=0;a<n.flags.length;a++)s[n.flags[a]]=!0;this._instance.persistence.register({[Xu]:s})}else this._instance.persistence.register({[Xu]:n.flags});pp.info("Flag overrides set",{flags:n.flags})}}return"payloads"in n&&(n.payloads===!1?(this._instance.persistence.unregister(mp),pp.info("Payload overrides cleared")):n.payloads&&(this._instance.persistence.register({[mp]:n.payloads}),pp.info("Payload overrides set",{payloads:n.payloads}))),void this.fi()}this.fi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ei){var{flags:r,flagVariants:n}=this.pi();t(r,n)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,r,n){var s,a=(this._instance.get_property(Hp)||[]).find(u=>u.flagKey===t),i={["$feature_enrollment/"+t]:r},l={$feature_flag:t,$feature_enrollment:r,$set:i};a&&(l.$early_access_feature_name=a.name),n&&(l.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",l),this.setPersonPropertiesForFlags(i,!1);var c=dt({},this.getFlagVariants(),{[t]:r});(s=this._instance.persistence)==null||s.register({[aS]:Object.keys(KR(c)),[Rd]:c}),this.fi()}getEarlyAccessFeatures(t,r,n){r===void 0&&(r=!1);var s=this._instance.get_property(Hp),a=n?"&"+n.map(i=>"stage="+i).join("&"):"";if(s&&!r)return t(s);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+a),method:"GET",callback:i=>{var l,c;if(i.json){var u=i.json.earlyAccessFeatures;return(l=this._instance.persistence)==null||l.unregister(Hp),(c=this._instance.persistence)==null||c.register({[Hp]:u}),t(u)}}})}pi(){var t=this.getFlags(),r=this.getFlagVariants();return{flags:t.filter(n=>r[n]),flagVariants:Object.keys(r).filter(n=>r[n]).reduce((n,s)=>(n[s]=r[s],n),{})}}fi(t){var{flags:r,flagVariants:n}=this.pi();this.featureFlagEventHandlers.forEach(s=>s(r,n,{errorsLoading:t}))}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Kp)||{};this._instance.register({[Kp]:dt({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Kp)}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Oc)||{};Object.keys(n).length!==0&&Object.keys(n).forEach(s=>{n[s]=dt({},n[s],t[s]),delete t[s]}),this._instance.register({[Oc]:dt({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var r=this._instance.get_property(Oc)||{};this._instance.register({[Oc]:dt({},r,{[t]:{}})})}else this._instance.unregister(Oc)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.vi(),this.ii=!1}}var ese=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class iS{constructor(t,r){this.I=t,this.props={},this.gi=!1,this.mi=(n=>{var s="";return n.token&&(s=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+s+"_posthog"})(t),this.Y=this.yi(t),this.load(),t.debug&&rt.info("Persistence loaded",t.persistence,dt({},this.props)),this.update_config(t,t,r),this.save()}isDisabled(){return!!this.bi}yi(t){ese.indexOf(t.persistence.toLowerCase())===-1&&(rt.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var r=t.persistence.toLowerCase();return r==="localstorage"&&Wr.H()?Wr:r==="localstorage+cookie"&&xv.H()?xv:r==="sessionstorage"&&Dn.H()?Dn:r==="memory"?dne:r==="cookie"?Ii:xv.H()?xv:Ii}properties(){var t={};return kr(this.props,function(r,n){if(n===Rd&&Cn(r))for(var s=Object.keys(r),a=0;a<s.length;a++)t["$feature/"+s[a]]=r[s[a]];else l=n,c=!1,(ui(i=Wre)?c:iR&&i.indexOf===iR?i.indexOf(l)!=-1:(kr(i,function(u){if(c||(c=u===l))return hx}),c))||(t[n]=r);var i,l,c}),t}load(){if(!this.bi){var t=this.Y.W(this.mi);t&&(this.props=en({},t))}}save(){this.bi||this.Y.G(this.mi,this.props,this.wi,this.xi,this.Ei,this.I.debug)}remove(){this.Y.V(this.mi,!1),this.Y.V(this.mi,!0)}clear(){this.remove(),this.props={}}register_once(t,r,n){if(Cn(t)){Ke(r)&&(r="None"),this.wi=Ke(n)?this.Si:n;var s=!1;if(kr(t,(a,i)=>{this.props.hasOwnProperty(i)&&this.props[i]!==r||(this.props[i]=a,s=!0)}),s)return this.save(),!0}return!1}register(t,r){if(Cn(t)){this.wi=Ke(r)?this.Si:r;var n=!1;if(kr(t,(s,a)=>{t.hasOwnProperty(a)&&this.props[a]!==s&&(this.props[a]=s,n=!0)}),n)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.gi){var t=LU(this.I.custom_campaign_params,this.I.mask_personal_data_properties,this.I.custom_personal_data_properties);$d(xP(t))||this.register(t),this.gi=!0}}update_search_keyword(){var t;this.register((t=et==null?void 0:et.referrer)?FU(t):{})}update_referrer_info(){var t;this.register_once({$referrer:BU(),$referring_domain:et!=null&&et.referrer&&((t=xx(et.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[Xk]||this.props[Qk]||this.register_once({[gx]:UU(this.I.mask_personal_data_properties,this.I.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};kr([Qk,Xk],i=>{var l=this.props[i];l&&kr(l,function(c,u){t["$initial_"+Uk(u)]=c})});var r,n,s=this.props[gx];if(s){var a=(r=zU(s),n={},kr(r,function(i,l){n["$initial_"+Uk(l)]=i}),n);en(t,a)}return t}safe_merge(t){return kr(this.props,function(r,n){n in t||(t[n]=r)}),t}update_config(t,r,n){if(this.Si=this.wi=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!n),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==r.persistence){var s=this.yi(t),a=this.props;this.clear(),this.Y=s,this.props=a,this.save()}}set_disabled(t){this.bi=t,this.bi?this.remove():this.save()}set_cross_subdomain(t){t!==this.xi&&(this.xi=t,this.remove(),this.save())}set_secure(t){t!==this.Ei&&(this.Ei=t,this.remove(),this.save())}set_event_timer(t,r){var n=this.props[Vp]||{};n[t]=r,this.props[Vp]=n,this.save()}remove_event_timer(t){var r=(this.props[Vp]||{})[t];return Ke(r)||(delete this.props[Vp][t],this.save()),r}get_property(t){return this.props[t]}set_property(t,r){this.props[t]=r,this.save()}}var ss=on("[Product Tours]"),oS="ph_product_tours";class tse{constructor(t){this.$i=null,this.ki=null,this.Pi=void 0,this.Ti=!1,this._instance=t}onRemoteConfig(t){if(this._instance.config.disable_product_tours)ss.info("Product tours disabled via config");else{var r=t.productTours;tr(r)?ss.info("Product tours not enabled in remote config"):(this.Pi=r,ss.info("Remote config received, isProductToursEnabled: "+this.Pi),this.loadIfEnabled())}}loadIfEnabled(){var t;if(!this.ki)if(this.Ti)ss.info("Already initializing product tours, skipping...");else if(this._instance.config.disable_product_tours)ss.info("Product tours disabled via config");else{var r=jt==null?void 0:jt.__PosthogExtensions__;if(r){var n=(t=this._instance.featureFlags)==null?void 0:t.isFeatureEnabled("product-tours-2025");if(!Ke(this.Pi)||n){var s=this.Pi||n;if(s){this.Ti=!0;try{var a=r.generateProductTours;if(a)return void this.Ci(a,s);var i=r.loadExternalDependency;if(!i)return ss.error("PostHog loadExternalDependency extension not found."),void(this.Ti=!1);i(this._instance,"product-tours",l=>{l||!r.generateProductTours?ss.error("Could not load product tours script",l):this.Ci(r.generateProductTours,s),this.Ti=!1})}catch(l){ss.error("Error initializing product tours",l),this.Ti=!1}}else ss.info("Product tours not enabled")}else ss.info("Waiting for remote config or feature flag to enable product tours")}else ss.error("PostHog Extensions not found.")}}Ci(t,r){this.ki=t(this._instance,r)||null,ss.info("Product tours loaded successfully")}getProductTours(t,r){if(r===void 0&&(r=!1),!ar(this.$i)||r){var n=this._instance.persistence;if(n){var s=n.props[oS];if(ar(s)&&!r)return this.$i=s,void t(s,{isLoaded:!0})}this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/product_tours/?token="+this._instance.config.token),method:"GET",callback:a=>{var i=a.statusCode;if(i!==200||!a.json){var l="Product Tours API could not be loaded, status: "+i;return ss.error(l),void t([],{isLoaded:!1,error:l})}var c=ar(a.json.product_tours)?a.json.product_tours:[];this.$i=c,n&&n.register({[oS]:c}),t(c,{isLoaded:!0})}})}else t(this.$i,{isLoaded:!0})}getActiveProductTours(t){if(tr(this.ki))return ss.warn("Product tours not loaded yet"),void t([],{isLoaded:!1,error:"Product tours not loaded"});this.ki.getActiveProductTours(t)}showProductTour(t){var r;ss.info("showProductTour("+t+")"),(r=this.ki)==null||r.showTourById(t)}dismissProductTour(){var t;(t=this.ki)==null||t.dismissTour("user_clicked_skip")}nextStep(){var t;(t=this.ki)==null||t.nextStep()}previousStep(){var t;(t=this.ki)==null||t.previousStep()}clearCache(){this.$i=null;var t=this._instance.persistence;t&&t.unregister(oS)}resetTour(t){var r;(r=this.ki)==null||r.resetTour(t)}resetAllTours(){var t;(t=this.ki)==null||t.resetAllTours()}}var gp=function(e){return e.Activation="events",e.Cancellation="cancelEvents",e}({});(function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e})({});(function(e){return e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger",e})({});(function(e){return e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e})({});var lS=function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e}({});(function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e})({});(function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e})({});(function(e){return e.Once="once",e.Recurring="recurring",e.Always="always",e})({});var A0=function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e}({}),GR=function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e}({}),XU=function(e){return e.Popover="popover",e.Inline="inline",e}({});class PP{constructor(){this.Ri={},this.Ri={}}on(t,r){return this.Ri[t]||(this.Ri[t]=[]),this.Ri[t].push(r),()=>{this.Ri[t]=this.Ri[t].filter(n=>n!==r)}}emit(t,r){for(var n of this.Ri[t]||[])n(r);for(var s of this.Ri["*"]||[])s(t,r)}}function Qu(e,t,r){if(tr(e))return!1;switch(r){case"exact":return e===t;case"contains":var n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/_/g,".").replace(/%/g,".*");return new RegExp(n,"i").test(e);case"regex":try{return new RegExp(t).test(e)}catch{return!1}default:return!1}}class rse{constructor(t){this.Ii=new PP,this.Fi=(r,n)=>this.Mi(r,n)&&this.Oi(r,n)&&this.Ai(r,n)&&this.Di(r,n),this.Mi=(r,n)=>n==null||!n.event||(r==null?void 0:r.event)===(n==null?void 0:n.event),this._instance=t,this.ji=new Set,this.Li=new Set}init(){var t;if(!Ke((t=this._instance)==null?void 0:t.Ni)){var r;(r=this._instance)==null||r.Ni((n,s)=>{this.on(n,s)})}}register(t){var r,n;if(!Ke((r=this._instance)==null?void 0:r.Ni)&&(t.forEach(i=>{var l,c;(l=this.Li)==null||l.add(i),(c=i.steps)==null||c.forEach(u=>{var d;(d=this.ji)==null||d.add((u==null?void 0:u.event)||"")})}),(n=this._instance)!=null&&n.autocapture)){var s,a=new Set;t.forEach(i=>{var l;(l=i.steps)==null||l.forEach(c=>{c!=null&&c.selector&&a.add(c==null?void 0:c.selector)})}),(s=this._instance)==null||s.autocapture.setElementSelectors(a)}}on(t,r){var n;r!=null&&t.length!=0&&(this.ji.has(t)||this.ji.has(r==null?void 0:r.event))&&this.Li&&((n=this.Li)==null?void 0:n.size)>0&&this.Li.forEach(s=>{this.Ui(r,s)&&this.Ii.emit("actionCaptured",s.name)})}zi(t){this.onAction("actionCaptured",r=>t(r))}Ui(t,r){if((r==null?void 0:r.steps)==null)return!1;for(var n of r.steps)if(this.Fi(t,n))return!0;return!1}onAction(t,r){return this.Ii.on(t,r)}Oi(t,r){if(r!=null&&r.url){var n,s=t==null||(n=t.properties)==null?void 0:n.$current_url;if(!s||typeof s!="string"||!Qu(s,r.url,r.url_matching||"contains"))return!1}return!0}Ai(t,r){return!!this.Hi(t,r)&&!!this.Bi(t,r)&&!!this.qi(t,r)}Hi(t,r){var n;if(r==null||!r.href)return!0;var s=this.Wi(t);if(s.length>0)return s.some(l=>Qu(l.href,r.href,r.href_matching||"exact"));var a,i=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!i&&Qu((a=i.match(/(?::|")href="(.*?)"/))?a[1]:"",r.href,r.href_matching||"exact")}Bi(t,r){var n;if(r==null||!r.text)return!0;var s=this.Wi(t);if(s.length>0)return s.some(u=>Qu(u.text,r.text,r.text_matching||"exact")||Qu(u.$el_text,r.text,r.text_matching||"exact"));var a,i,l,c=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!c&&(a=function(u){for(var d,f=[],h=/(?::|")text="(.*?)"/g;!tr(d=h.exec(u));)f.includes(d[1])||f.push(d[1]);return f}(c),i=r.text,l=r.text_matching||"exact",a.some(u=>Qu(u,i,l)))}qi(t,r){var n,s;if(r==null||!r.selector)return!0;var a=t==null||(n=t.properties)==null?void 0:n.$element_selectors;if(a!=null&&a.includes(r.selector))return!0;var i=(t==null||(s=t.properties)==null?void 0:s.$elements_chain)||"";if(r.selector_regex&&i)try{return new RegExp(r.selector_regex).test(i)}catch{return!1}return!1}Wi(t){var r;return(t==null||(r=t.properties)==null?void 0:r.$elements)==null?[]:t==null?void 0:t.properties.$elements}Di(t,r){return r==null||!r.properties||r.properties.length===0||JU(r.properties.reduce((n,s)=>{var a=ar(s.value)?s.value.map(String):s.value!=null?[String(s.value)]:[];return n[s.key]={values:a,operator:s.operator||"exact"},n},{}),t==null?void 0:t.properties)}}var ur=on("[Surveys]"),iE="seenSurvey_",nse=(e,t)=>{var r="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(r="$survey_"+t+"/"+e.id+"/"+e.current_iteration),r},YR=e=>{var t=""+iE+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+iE+e.id+"_"+e.current_iteration),t},sse=[lS.Popover,lS.Widget,lS.API],ase={ignoreConditions:!1,ignoreDelay:!1,displayType:XU.Popover};class ise{constructor(t){this._instance=t,this.Gi=new Map,this.Vi=new Map,this.Ji=new Map}Ki(t,r){return!!t&&JU(t.propertyFilters,r==null?void 0:r.properties)}Yi(t,r){var n=new Map;return t.forEach(s=>{var a;(a=s.conditions)==null||(a=a[r])==null||(a=a.values)==null||a.forEach(i=>{if(i!=null&&i.name){var l=n.get(i.name)||[];l.push(s.id),n.set(i.name,l)}})}),n}Xi(t,r,n){var s,a=(n===gp.Activation?this.Gi:this.Vi).get(t),i=[];return(s=this._instance)==null||s.getSurveys(l=>{i=l.filter(c=>a==null?void 0:a.includes(c.id))}),i.filter(l=>{var c,u=(c=l.conditions)==null||(c=c[n])==null||(c=c.values)==null?void 0:c.find(d=>d.name===t);return this.Ki(u,r)})}register(t){var r;Ke((r=this._instance)==null?void 0:r.Ni)||(this.Qi(t),this.Zi(t))}Zi(t){var r=t.filter(n=>{var s,a;return((s=n.conditions)==null?void 0:s.actions)&&((a=n.conditions)==null||(a=a.actions)==null||(a=a.values)==null?void 0:a.length)>0});r.length!==0&&(this.te==null&&(this.te=new rse(this._instance),this.te.init(),this.te.zi(n=>{this.onAction(n)})),r.forEach(n=>{var s,a,i,l,c;n.conditions&&(s=n.conditions)!=null&&s.actions&&(a=n.conditions)!=null&&(a=a.actions)!=null&&a.values&&((i=n.conditions)==null||(i=i.actions)==null||(i=i.values)==null?void 0:i.length)>0&&((l=this.te)==null||l.register(n.conditions.actions.values),(c=n.conditions)==null||(c=c.actions)==null||(c=c.values)==null||c.forEach(u=>{if(u&&u.name){var d=this.Ji.get(u.name);d&&d.push(n.id),this.Ji.set(u.name,d||[n.id])}}))}))}Qi(t){var r,n=t.filter(a=>{var i,l;return((i=a.conditions)==null?void 0:i.events)&&((l=a.conditions)==null||(l=l.events)==null||(l=l.values)==null?void 0:l.length)>0}),s=t.filter(a=>{var i,l;return((i=a.conditions)==null?void 0:i.cancelEvents)&&((l=a.conditions)==null||(l=l.cancelEvents)==null||(l=l.values)==null?void 0:l.length)>0});(n.length!==0||s.length!==0)&&((r=this._instance)==null||r.Ni((a,i)=>{this.onEvent(a,i)}),this.Gi=this.Yi(t,gp.Activation),this.Vi=this.Yi(t,gp.Cancellation))}onEvent(t,r){var n,s=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[vv])||[];if(A0.SHOWN===t&&r&&s.length>0){var a;ur.info("survey event matched, removing survey from activated surveys",{event:t,eventPayload:r,existingActivatedSurveys:s});var i=r==null||(a=r.properties)==null?void 0:a.$survey_id;if(i){var l=s.indexOf(i);l>=0&&(s.splice(l,1),this.ie(s))}}else{if(this.Vi.has(t)){var c=this.Xi(t,r,gp.Cancellation);c.length>0&&(ur.info("cancel event matched, cancelling surveys",{event:t,surveysToCancel:c.map(d=>d.id)}),c.forEach(d=>{var f,h=s.indexOf(d.id);h>=0&&s.splice(h,1),(f=this._instance)==null||f.cancelPendingSurvey(d.id)}),this.ie(s))}if(this.Gi.has(t)){ur.info("survey event name matched",{event:t,eventPayload:r,surveys:this.Gi.get(t)});var u=this.Xi(t,r,gp.Activation);this.ie(s.concat(u.map(d=>d.id)||[]))}}}onAction(t){var r,n=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[vv])||[];this.Ji.has(t)&&this.ie(n.concat(this.Ji.get(t)||[]))}ie(t){var r;ur.info("updating activated surveys",{activatedSurveys:t}),(r=this._instance)==null||(r=r.persistence)==null||r.register({[vv]:[...new Set(t)]})}getSurveys(){var t,r=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[vv];return r||[]}getEventToSurveys(){return this.Gi}ee(){return this.te}}class ose{constructor(t){this.re=void 0,this._surveyManager=null,this.se=!1,this.ne=!1,this.oe=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var r=t.surveys;if(tr(r))return ur.warn("Flags not loaded yet. Not loading surveys.");var n=ar(r);this.re=n?r.length>0:r,ur.info("flags response received, isSurveysEnabled: "+this.re),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);(n!=null&&n.startsWith(iE)||n!=null&&n.startsWith("inProgressSurvey_"))&&t.push(n)}t.forEach(s=>localStorage.removeItem(s))}loadIfEnabled(){if(!this._surveyManager)if(this.ne)ur.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)ur.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())ur.info("Not loading surveys in cookieless mode without consent.");else{var t=jt==null?void 0:jt.__PosthogExtensions__;if(t){if(!Ke(this.re)||this._instance.config.advanced_enable_surveys){var r=this.re||this._instance.config.advanced_enable_surveys;this.ne=!0;try{var n=t.generateSurveys;if(n)return void this.ae(n,r);var s=t.loadExternalDependency;if(!s)return void this.le("PostHog loadExternalDependency extension not found.");s(this._instance,"surveys",a=>{a||!t.generateSurveys?this.le("Could not load surveys script",a):this.ae(t.generateSurveys,r)})}catch(a){throw this.le("Error initializing surveys",a),a}finally{this.ne=!1}}}else ur.error("PostHog Extensions not found.")}}ae(t,r){this._surveyManager=t(this._instance,r),this._surveyEventReceiver=new ise(this._instance),ur.info("Surveys loaded successfully"),this.ue({isLoaded:!0})}le(t,r){ur.error(t,r),this.ue({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.oe.push(t),this._surveyManager&&this.ue({isLoaded:!0}),()=>{this.oe=this.oe.filter(r=>r!==t)}}getSurveys(t,r){if(r===void 0&&(r=!1),this._instance.config.disable_surveys)return ur.info("Disabled. Not loading surveys."),t([]);var n=this._instance.get_property(Gk);if(n&&!r)return t(n,{isLoaded:!0});if(this.se)return t([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.se=!0,this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:s=>{var a;this.se=!1;var i=s.statusCode;if(i!==200||!s.json){var l="Surveys API could not be loaded, status: "+i;return ur.error(l),t([],{isLoaded:!1,error:l})}var c,u=s.json.surveys||[],d=u.filter(f=>function(h){return!(!h.start_date||h.end_date)}(f)&&(function(h){var y;return!((y=h.conditions)==null||(y=y.events)==null||(y=y.values)==null||!y.length)}(f)||function(h){var y;return!((y=h.conditions)==null||(y=y.actions)==null||(y=y.values)==null||!y.length)}(f)));return d.length>0&&((c=this._surveyEventReceiver)==null||c.register(d)),(a=this._instance.persistence)==null||a.register({[Gk]:u}),t(u,{isLoaded:!0})}})}catch(s){throw this.se=!1,s}}ue(t){for(var r of this.oe)try{if(!t.isLoaded)return r([],t);this.getSurveys(r)}catch(n){ur.error("Error in survey callback",n)}}getActiveMatchingSurveys(t,r){if(r===void 0&&(r=!1),!tr(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,r);ur.warn("init was not called")}he(t){var r=null;return this.getSurveys(n=>{var s;r=(s=n.find(a=>a.id===t))!==null&&s!==void 0?s:null}),r}de(t){if(tr(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var r=typeof t=="string"?this.he(t):t;return r?this._surveyManager.checkSurveyEligibility(r):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(tr(this._surveyManager))return ur.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var r=this.de(t);return{visible:r.eligible,disabledReason:r.reason}}canRenderSurveyAsync(t,r){return tr(this._surveyManager)?(ur.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(n=>{this.getSurveys(s=>{var a,i=(a=s.find(c=>c.id===t))!==null&&a!==void 0?a:null;if(i){var l=this.de(i);n({visible:l.eligible,disabledReason:l.reason})}else n({visible:!1,disabledReason:"Survey not found"})},r)})}renderSurvey(t,r){var n;if(tr(this._surveyManager))ur.warn("init was not called");else{var s=typeof t=="string"?this.he(t):t;if(s!=null&&s.id)if(sse.includes(s.type)){var a=et==null?void 0:et.querySelector(r);if(a)return(n=s.appearance)!=null&&n.surveyPopupDelaySeconds?(ur.info("Rendering survey "+s.id+" with delay of "+s.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout(()=>{var i,l;ur.info("Rendering survey "+s.id+" with delay of "+((i=s.appearance)==null?void 0:i.surveyPopupDelaySeconds)+" seconds"),(l=this._surveyManager)==null||l.renderSurvey(s,a),ur.info("Survey "+s.id+" rendered")},1e3*s.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(s,a);ur.warn("Survey element not found")}else ur.warn("Surveys of type "+s.type+" cannot be rendered in the app");else ur.warn("Survey not found")}}displaySurvey(t,r){var n;if(tr(this._surveyManager))ur.warn("init was not called");else{var s=this.he(t);if(s){var a=s;if((n=s.appearance)!=null&&n.surveyPopupDelaySeconds&&r.ignoreDelay&&(a=dt({},s,{appearance:dt({},s.appearance,{surveyPopupDelaySeconds:0})})),r.ignoreConditions===!1){var i=this.canRenderSurvey(s);if(!i.visible)return void ur.warn("Survey is not eligible to be displayed: ",i.disabledReason)}r.displayType!==XU.Inline?this._surveyManager.handlePopoverSurvey(a):this.renderSurvey(a,r.selector)}else ur.warn("Survey not found")}}cancelPendingSurvey(t){tr(this._surveyManager)?ur.warn("init was not called"):this._surveyManager.cancelSurvey(t)}}var yp=on("[Conversations]");class lse{constructor(t){this.ve=void 0,this._conversationsManager=null,this.Ti=!1,this.ce=null,this._instance=t}onRemoteConfig(t){if(!this._instance.config.disable_conversations){var r=t.conversations;tr(r)||(Eo(r)?this.ve=r:(this.ve=r.enabled,this.ce=r),this.loadIfEnabled())}}reset(){var t;(t=this._conversationsManager)==null||t.reset(),this._conversationsManager=null,this.ve=void 0,this.ce=null}loadIfEnabled(){if(!this._conversationsManager&&!this.Ti&&!(this._instance.config.disable_conversations||this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())){var t=jt==null?void 0:jt.__PosthogExtensions__;if(t&&!Ke(this.ve)&&this.ve)if(this.ce&&this.ce.token){if(function(s){var a;if(!s||s.length===0)return!0;var i=ge==null||(a=ge.location)==null?void 0:a.hostname;return!i||s.some(l=>{var c=function(d){var f=d.replace(/^https?:\/\//,"");return(f=f.split("/")[0].split("?")[0].split(":")[0])||null}(l);if(!c)return!1;if(c.startsWith("*.")){var u=c.slice(2);return i.endsWith("."+u)||i===u}return i===c})}(this.ce.domains)){this.Ti=!0;try{var r=t.initConversations;if(r)return this.Ci(r),void(this.Ti=!1);var n=t.loadExternalDependency;if(!n)return void this.fe("PostHog loadExternalDependency extension not found.");n(this._instance,"conversations",s=>{s||!t.initConversations?this.fe("Could not load conversations script",s):this.Ci(t.initConversations),this.Ti=!1})}catch(s){this.fe("Error initializing conversations",s),this.Ti=!1}}}else yp.error("Conversations enabled but missing token in remote config.")}}Ci(t){if(this.ce)try{this._conversationsManager=t(this.ce,this._instance),yp.info("Conversations loaded successfully")}catch(r){this.fe("Error completing conversations initialization",r)}else yp.error("Cannot complete initialization: remote config is null")}fe(t,r){yp.error(t,r),this._conversationsManager=null,this.Ti=!1}enable(){this._conversationsManager?this._conversationsManager.enable():yp.warn("Conversations not loaded yet.")}disable(){this._conversationsManager&&this._conversationsManager.disable()}isLoaded(){return!ui(this._conversationsManager)}isEnabled(){return this.ve===!0}}var JR=on("[RateLimiter]");class cse{constructor(t){var r,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=s=>{var a=s.text;if(a&&a.length)try{(JSON.parse(a).quota_limited||[]).forEach(i=>{JR.info((i||"events")+" is quota limited."),this.serverLimits[i]=new Date().getTime()+6e4})}catch(i){return void JR.warn('could not rate limit - continuing. Error: "'+(i==null?void 0:i.message)+'"',{text:a})}},this.instance=t,this.captureEventsPerSecond=((r=t.config.rate_limiting)==null?void 0:r.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((n=t.config.rate_limiting)==null?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var r,n,s;t===void 0&&(t=!1);var a=new Date().getTime(),i=(r=(n=this.instance.persistence)==null?void 0:n.get_property(Jk))!==null&&r!==void 0?r:{tokens:this.captureEventsBurstLimit,last:a};i.tokens+=(a-i.last)/1e3*this.captureEventsPerSecond,i.last=a,i.tokens>this.captureEventsBurstLimit&&(i.tokens=this.captureEventsBurstLimit);var l=i.tokens<1;return l||t||(i.tokens=Math.max(0,i.tokens-1)),!l||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=l,(s=this.instance.persistence)==null||s.set_property(Jk,i),{isRateLimited:l,remainingTokens:i.tokens}}isServerRateLimited(t){var r=this.serverLimits[t||"events"]||!1;return r!==!1&&new Date().getTime()<r}}var kc=on("[RemoteConfig]");class use{constructor(t){this._instance=t}get remoteConfig(){var t;return(t=jt._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.config}pe(t){var r,n;(r=jt.__PosthogExtensions__)!=null&&r.loadExternalDependency?(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"remote-config",()=>t(this.remoteConfig)):(kc.error("PostHog Extensions not found. Cannot load remote config."),t())}ge(t){this._instance._send_request({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:r=>{t(r.json)}})}load(){try{if(this.remoteConfig)return kc.info("Using preloaded remote config",this.remoteConfig),void this.ci(this.remoteConfig);if(this._instance.O())return void kc.warn("Remote config is disabled. Falling back to local config.");this.pe(t=>{if(!t)return kc.info("No config found after loading remote JS config. Falling back to JSON."),void this.ge(r=>{this.ci(r)});this.ci(t)})}catch(t){kc.error("Error loading remote config",t)}}ci(t){t?this._instance.config.__preview_remote_config?(this._instance.ci(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):kc.info("__preview_remote_config is disabled. Logging config instead",t):kc.error("Failed to fetch remote config from PostHog.")}}var oE=3e3;class dse{constructor(t,r){this._e=!0,this.me=[],this.ye=Ci((r==null?void 0:r.flush_interval_ms)||oE,250,5e3,rt.createLogger("flush interval"),oE),this.be=t}enqueue(t){this.me.push(t),this.we||this.xe()}unload(){this.Ee();var t=this.me.length>0?this.Se():{},r=Object.values(t);[...r.filter(n=>n.url.indexOf("/e")===0),...r.filter(n=>n.url.indexOf("/e")!==0)].map(n=>{this.be(dt({},n,{transport:"sendBeacon"}))})}enable(){this._e=!1,this.xe()}xe(){var t=this;this._e||(this.we=setTimeout(()=>{if(this.Ee(),this.me.length>0){var r=this.Se(),n=function(){var a=r[s],i=new Date().getTime();a.data&&ar(a.data)&&kr(a.data,l=>{l.offset=Math.abs(l.timestamp-i),delete l.timestamp}),t.be(a)};for(var s in r)n()}},this.ye))}Ee(){clearTimeout(this.we),this.we=void 0}Se(){var t={};return kr(this.me,r=>{var n,s=r,a=(s?s.batchKey:null)||s.url;Ke(t[a])&&(t[a]=dt({},s,{data:[]})),(n=t[a].data)==null||n.push(s.data)}),this.me=[],t}}var fse=["retriesPerformedSoFar"];class hse{constructor(t){this.$e=!1,this.ke=3e3,this.me=[],this._instance=t,this.me=[],this.Pe=!0,!Ke(ge)&&"onLine"in ge.navigator&&(this.Pe=ge.navigator.onLine,this.Te=()=>{this.Pe=!0,this.Dt()},this.Ce=()=>{this.Pe=!1},dn(ge,"online",this.Te),dn(ge,"offline",this.Ce))}get length(){return this.me.length}retriableRequest(t){var{retriesPerformedSoFar:r}=t,n=HB(t,fse);Hi(r)&&r>0&&(n.url=kx(n.url,{retry_count:r})),this._instance._send_request(dt({},n,{callback:s=>{s.statusCode!==200&&(s.statusCode<400||s.statusCode>=500)&&(r??0)<10?this.Re(dt({retriesPerformedSoFar:r},n)):n.callback==null||n.callback(s)}}))}Re(t){var r=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=r+1;var n=function(i){var l=3e3*Math.pow(2,i),c=l/2,u=Math.min(18e5,l),d=(Math.random()-.5)*(u-c);return Math.ceil(u+d)}(r),s=Date.now()+n;this.me.push({retryAt:s,requestOptions:t});var a="Enqueued failed request for retry in "+n;navigator.onLine||(a+=" (Browser is offline)"),rt.warn(a),this.$e||(this.$e=!0,this.Ie())}Ie(){if(this.Fe&&clearTimeout(this.Fe),this.me.length===0)return this.$e=!1,void(this.Fe=void 0);this.Fe=setTimeout(()=>{this.Pe&&this.me.length>0&&this.Dt(),this.Ie()},this.ke)}Dt(){var t=Date.now(),r=[],n=this.me.filter(a=>a.retryAt<t||(r.push(a),!1));if(this.me=r,n.length>0)for(var{requestOptions:s}of n)this.retriableRequest(s)}unload(){for(var{requestOptions:t}of(this.Fe&&(clearTimeout(this.Fe),this.Fe=void 0),this.$e=!1,Ke(ge)||(this.Te&&(ge.removeEventListener("online",this.Te),this.Te=void 0),this.Ce&&(ge.removeEventListener("offline",this.Ce),this.Ce=void 0)),this.me))try{this._instance._send_request(dt({},t,{transport:"sendBeacon"}))}catch(r){rt.error(r)}this.me=[]}}class pse{constructor(t){this.Me=()=>{var r,n,s,a;this.Oe||(this.Oe={});var i=this.scrollElement(),l=this.scrollY(),c=i?Math.max(0,i.scrollHeight-i.clientHeight):0,u=l+((i==null?void 0:i.clientHeight)||0),d=(i==null?void 0:i.scrollHeight)||0;this.Oe.lastScrollY=Math.ceil(l),this.Oe.maxScrollY=Math.max(l,(r=this.Oe.maxScrollY)!==null&&r!==void 0?r:0),this.Oe.maxScrollHeight=Math.max(c,(n=this.Oe.maxScrollHeight)!==null&&n!==void 0?n:0),this.Oe.lastContentY=u,this.Oe.maxContentY=Math.max(u,(s=this.Oe.maxContentY)!==null&&s!==void 0?s:0),this.Oe.maxContentHeight=Math.max(d,(a=this.Oe.maxContentHeight)!==null&&a!==void 0?a:0)},this._instance=t}getContext(){return this.Oe}resetContext(){var t=this.Oe;return setTimeout(this.Me,0),t}startMeasuringScrollPosition(){dn(ge,"scroll",this.Me,{capture:!0}),dn(ge,"scrollend",this.Me,{capture:!0}),dn(ge,"resize",this.Me)}scrollElement(){if(!this._instance.config.scroll_root_selector)return ge==null?void 0:ge.document.documentElement;var t=ar(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var r of t){var n=ge==null?void 0:ge.document.querySelector(r);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return ge&&(ge.scrollY||ge.pageYOffset||ge.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return ge&&(ge.scrollX||ge.pageXOffset||ge.document.documentElement.scrollLeft)||0}}var mse=e=>UU(e==null?void 0:e.config.mask_personal_data_properties,e==null?void 0:e.config.custom_personal_data_properties);class XR{constructor(t,r,n,s){this.Ae=a=>{var i=this.De();if(!i||i.sessionId!==a){var l={sessionId:a,props:this.je(this._instance)};this.Le.register({[Yk]:l})}},this._instance=t,this.Ne=r,this.Le=n,this.je=s||mse,this.Ne.onSessionId(this.Ae)}De(){return this.Le.props[Yk]}getSetOnceProps(){var t,r=(t=this.De())==null?void 0:t.props;return r?"r"in r?zU(r):{$referring_domain:r.referringDomain,$pathname:r.initialPathName,utm_source:r.utm_source,utm_campaign:r.utm_campaign,utm_medium:r.utm_medium,utm_content:r.utm_content,utm_term:r.utm_term}:{}}getSessionProps(){var t={};return kr(xP(this.getSetOnceProps()),(r,n)=>{n==="$current_url"&&(n="url"),t["$session_entry_"+Uk(n)]=r}),t}}var cS=on("[SessionId]");class QR{on(t,r){return this.Ue.on(t,r)}constructor(t,r,n){var s;if(this.ze=[],this.He=void 0,this.Ue=new PP,this.Be=(d,f)=>Math.abs(d-f)>this.sessionTimeoutMs,!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.I=t.config,this.Le=t.persistence,this.qe=void 0,this.We=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Ge=r||$l,this.Ve=n||$l;var a=this.I.persistence_name||this.I.token,i=this.I.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Ci(i,60,36e3,cS.createLogger("session_idle_timeout_seconds"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Je(),this.Ke="ph_"+a+"_window_id",this.Ye="ph_"+a+"_primary_window_exists",this.Xe()){var l=Dn.W(this.Ke),c=Dn.W(this.Ye);l&&!c?this.qe=l:Dn.V(this.Ke),Dn.G(this.Ye,!0)}if((s=this.I.bootstrap)!=null&&s.sessionID)try{var u=(d=>{var f=d.replace(/-/g,"");if(f.length!==32)throw new Error("Not a valid UUID");if(f[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(f.substring(0,12),16)})(this.I.bootstrap.sessionID);this.Qe(this.I.bootstrap.sessionID,new Date().getTime(),u)}catch(d){cS.error("Invalid sessionID in bootstrap",d)}this.Ze()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return Ke(this.ze)&&(this.ze=[]),this.ze.push(t),this.We&&t(this.We,this.qe),()=>{this.ze=this.ze.filter(r=>r!==t)}}Xe(){return this.I.persistence!=="memory"&&!this.Le.bi&&Dn.H()}tr(t){t!==this.qe&&(this.qe=t,this.Xe()&&Dn.G(this.Ke,t))}ir(){return this.qe?this.qe:this.Xe()?Dn.W(this.Ke):null}Qe(t,r,n){t===this.We&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this.We=t,this.Le.register({[px]:[r,t,n]}))}er(){var t=this.Le.props[px];return ar(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.Qe(null,null,null)}destroy(){clearTimeout(this.rr),this.rr=void 0,this.He&&ge&&(ge.removeEventListener("beforeunload",this.He,{capture:!1}),this.He=void 0),this.ze=[]}Ze(){this.He=()=>{this.Xe()&&Dn.V(this.Ye)},dn(ge,"beforeunload",this.He,{capture:!1})}checkAndGetSessionAndWindowId(t,r){if(t===void 0&&(t=!1),r===void 0&&(r=null),this.I.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=r||new Date().getTime(),[s,a,i]=this.er(),l=this.ir(),c=Hi(i)&&i>0&&Math.abs(n-i)>864e5,u=!1,d=!a,f=!d&&!t&&this.Be(n,s);d||f||c?(a=this.Ge(),l=this.Ve(),cS.info("new session ID generated",{sessionId:a,windowId:l,changeReason:{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}}),i=n,u=!0):l||(l=this.Ve(),u=!0);var h=s===0||!t||c?n:s,y=i===0?new Date().getTime():i;return this.tr(l),this.Qe(a,h,y),t||this.Je(),u&&this.ze.forEach(g=>g(a,l,u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}:void 0)),{sessionId:a,windowId:l,sessionStartTimestamp:y,changeReason:u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}:void 0,lastActivityTimestamp:s}}Je(){clearTimeout(this.rr),this.rr=setTimeout(()=>{var[t]=this.er();if(this.Be(new Date().getTime(),t)){var r=this.We;this.resetSessionId(),this.Ue.emit("forcedIdleReset",{idleSessionId:r})}},1.1*this.sessionTimeoutMs)}}var gse=["$set_once","$set"],rl=on("[SiteApps]");class yse{constructor(t){this._instance=t,this.sr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}nr(t,r){if(r){var n=this.globalsForEvent(r);this.sr.push(n),this.sr.length>1e3&&(this.sr=this.sr.slice(10))}}get siteAppLoaders(){var t;return(t=jt._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Ni(this.nr.bind(this));this.ar=()=>{t(),this.sr=[],this.ar=void 0}}}globalsForEvent(t){var r,n,s,a,i,l,c;if(!t)throw new Error("Event payload is required");var u={},d=this._instance.get_property("$groups")||[],f=this._instance.get_property("$stored_group_properties")||{};for(var[h,y]of Object.entries(f))u[h]={id:d[h],type:h,properties:y};var{$set_once:g,$set:m}=t;return{event:dt({},HB(t,gse),{properties:dt({},t.properties,m?{$set:dt({},(r=(n=t.properties)==null?void 0:n.$set)!==null&&r!==void 0?r:{},m)}:{},g?{$set_once:dt({},(s=(a=t.properties)==null?void 0:a.$set_once)!==null&&s!==void 0?s:{},g)}:{}),elements_chain:(i=(l=t.properties)==null?void 0:l.$elements_chain)!==null&&i!==void 0?i:"",distinct_id:(c=t.properties)==null?void 0:c.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:u}}setupSiteApp(t){var r=this.apps[t.id],n=()=>{var l;!r.errored&&this.sr.length&&(rl.info("Processing "+this.sr.length+" events for site app with id "+t.id),this.sr.forEach(c=>r.processEvent==null?void 0:r.processEvent(c)),r.processedBuffer=!0),Object.values(this.apps).every(c=>c.processedBuffer||c.errored)&&((l=this.ar)==null||l.call(this))},s=!1,a=l=>{r.errored=!l,r.loaded=!0,rl.info("Site app with id "+t.id+" "+(l?"loaded":"errored")),s&&n()};try{var{processEvent:i}=t.init({posthog:this._instance,callback:l=>{a(l)}});i&&(r.processEvent=i),s=!0}catch(l){rl.error("Error while initializing PostHog app with config id "+t.id,l),a(!1)}if(s&&r.loaded)try{n()}catch(l){rl.error("Error while processing buffered events PostHog app with config id "+t.id,l),r.errored=!0}}lr(){var t=this.siteAppLoaders||[];for(var r of t)this.apps[r.id]={id:r.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of t)this.setupSiteApp(n)}ur(t){if(Object.keys(this.apps).length!==0){var r=this.globalsForEvent(t);for(var n of Object.values(this.apps))try{n.processEvent==null||n.processEvent(r)}catch(s){rl.error("Error while processing event "+t.event+" for site app "+n.id,s)}}}onRemoteConfig(t){var r,n,s,a=this;if((r=this.siteAppLoaders)!=null&&r.length)return this.isEnabled?(this.lr(),void this._instance.on("eventCaptured",u=>this.ur(u))):void rl.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((n=this.ar)==null||n.call(this),(s=t.siteApps)!=null&&s.length)if(this.isEnabled){var i=function(u){var d;jt["__$$ph_site_app_"+u]=a._instance,(d=jt.__PosthogExtensions__)==null||d.loadSiteApp==null||d.loadSiteApp(a._instance,c,f=>{if(f)return rl.error("Error while initializing PostHog app with config id "+u,f)})};for(var{id:l,url:c}of t.siteApps)i(l)}else rl.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var QU=function(e,t){if(!e)return!1;var r=e.userAgent;if(r&&uR(r,t))return!0;try{var n=e==null?void 0:e.userAgentData;if(n!=null&&n.brands&&n.brands.some(s=>uR(s==null?void 0:s.brand,t)))return!0}catch{}return!!e.webdriver},Jp=function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e}({}),ZR="i.posthog.com";class vse{constructor(t){this.hr={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get flagsApiHost(){var t=this.instance.config.flags_api_host;return t?t.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var t,r=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return r||(r=this.apiHost.replace("."+ZR,".posthog.com")),r==="https://app.posthog.com"?"https://us.posthog.com":r}get region(){return this.hr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.hr[this.apiHost]=Jp.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.hr[this.apiHost]=Jp.EU:this.hr[this.apiHost]=Jp.CUSTOM),this.hr[this.apiHost]}endpointFor(t,r){if(r===void 0&&(r=""),r&&(r=r[0]==="/"?r:"/"+r),t==="ui")return this.uiHost+r;if(t==="flags")return this.flagsApiHost+r;if(this.region===Jp.CUSTOM)return this.apiHost+r;var n=ZR+r;switch(t){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var xse={icontains:(e,t)=>!!ge&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!ge&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!ge&&Ex(t.href,e),not_regex:(e,t)=>!!ge&&!Ex(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Kn{constructor(t){var r=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(n){n===void 0&&(n=!1),r.getWebExperiments(s=>{Kn.dr("retrieved web experiments from the server"),r.vr=new Map,s.forEach(a=>{if(a.feature_flag_key){var i;r.vr&&(Kn.dr("setting flag key ",a.feature_flag_key," to web experiment ",a),(i=r.vr)==null||i.set(a.feature_flag_key,a));var l=r._instance.getFeatureFlag(a.feature_flag_key);bn(l)&&a.variants[l]&&r.cr(a.name,l,a.variants[l].transforms)}else if(a.variants)for(var c in a.variants){var u=a.variants[c];Kn.pr(u)&&r.cr(a.name,c,u.transforms)}})},n)},this._instance=t,this._instance.onFeatureFlags(n=>{this.onFeatureFlags(n)})}onFeatureFlags(t){if(this._is_bot())Kn.dr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(tr(this.vr))return this.vr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Kn.dr("applying feature flags",t),t.forEach(r=>{var n;if(this.vr&&(n=this.vr)!=null&&n.has(r)){var s,a=this._instance.getFeatureFlag(r),i=(s=this.vr)==null?void 0:s.get(r);a&&i!=null&&i.variants[a]&&this.cr(i.name,a,i.variants[a].transforms)}})}}previewWebExperiment(){var t=Kn.getWindowLocation();if(t!=null&&t.search){var r=bx(t==null?void 0:t.search,"__experiment_id"),n=bx(t==null?void 0:t.search,"__experiment_variant");r&&n&&(Kn.dr("previewing web experiments "+r+" && "+n),this.getWebExperiments(s=>{this.gr(parseInt(r),n,s)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,r,n){if(this._instance.config.disable_web_experiments&&!n)return t([]);var s=this._instance.get_property("$web_experiments");if(s&&!r)return t(s);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:a=>{if(a.statusCode!==200||!a.json)return t([]);var i=a.json.experiments||[];return t(i)}})}gr(t,r,n){var s=n.filter(a=>a.id===t);s&&s.length>0&&(Kn.dr("Previewing web experiment ["+s[0].name+"] with variant ["+r+"]"),this.cr(s[0].name,r,s[0].variants[r].transforms))}static pr(t){return!tr(t.conditions)&&Kn._r(t)&&Kn.mr(t)}static _r(t){var r;if(tr(t.conditions)||tr((r=t.conditions)==null?void 0:r.url))return!0;var n,s,a,i=Kn.getWindowLocation();return!!i&&((n=t.conditions)==null||!n.url||xse[(s=(a=t.conditions)==null?void 0:a.urlMatchType)!==null&&s!==void 0?s:"icontains"](t.conditions.url,i))}static getWindowLocation(){return ge==null?void 0:ge.location}static mr(t){var r;if(tr(t.conditions)||tr((r=t.conditions)==null?void 0:r.utm))return!0;var n=LU();if(n.utm_source){var s,a,i,l,c,u,d,f,h=(s=t.conditions)==null||(s=s.utm)==null||!s.utm_campaign||((a=t.conditions)==null||(a=a.utm)==null?void 0:a.utm_campaign)==n.utm_campaign,y=(i=t.conditions)==null||(i=i.utm)==null||!i.utm_source||((l=t.conditions)==null||(l=l.utm)==null?void 0:l.utm_source)==n.utm_source,g=(c=t.conditions)==null||(c=c.utm)==null||!c.utm_medium||((u=t.conditions)==null||(u=u.utm)==null?void 0:u.utm_medium)==n.utm_medium,m=(d=t.conditions)==null||(d=d.utm)==null||!d.utm_term||((f=t.conditions)==null||(f=f.utm)==null?void 0:f.utm_term)==n.utm_term;return h&&g&&m&&y}return!1}static dr(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];rt.info("[WebExperiments] "+t,n)}cr(t,r,n){this._is_bot()?Kn.dr("Refusing to render web experiment since the viewer is a likely bot"):r!=="control"?n.forEach(s=>{if(s.selector){var a;Kn.dr("applying transform of variant "+r+" for experiment "+t+" ",s);var i=(a=document)==null?void 0:a.querySelectorAll(s.selector);i==null||i.forEach(l=>{var c=l;s.html&&(c.innerHTML=s.html),s.css&&c.setAttribute("style",s.css)})}}):Kn.dr("Control variants leave the page unmodified.")}_is_bot(){return ea&&this._instance?QU(ea,this._instance.config.custom_blocked_useragents):void 0}}var bse=on("[PostHog ExternalIntegrations]"),wse={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class _se{constructor(t){this._instance=t}it(t,r){var n;(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,t,s=>{if(s)return bse.error("failed to load script",s);r()})}startIfEnabledOrStop(){var t=this,r=function(i){var l,c,u;!s||(l=jt.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[i]||t.it(wse[i],()=>{var d;(d=jt.__PosthogExtensions__)==null||(d=d.integrations)==null||(d=d[i])==null||d.start(t._instance)}),!s&&(c=jt.__PosthogExtensions__)!=null&&(c=c.integrations)!=null&&c[i]&&((u=jt.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[i])==null||u.stop())};for(var[n,s]of Object.entries((a=this._instance.config.integrations)!==null&&a!==void 0?a:{})){var a;r(n)}}}var lE="[SessionRecording]",vp=on(lE);class eM{get started(){var t;return!((t=this.yr)==null||!t.isStarted)}get status(){return this.yr?this.yr.status:this.br&&!this.wr?"disabled":"lazy_loading"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.br=!1,this.Er=void 0,this._instance=t,!this._instance.sessionManager)throw vp.error("started without valid sessionManager"),new Error(lE+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(lE+' cannot be used with cookieless_mode="always"')}get wr(){var t,r=!((t=this._instance.get_property(Y_))==null||!t.enabled),n=!this._instance.config.disable_session_recording,s=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return ge&&r&&n&&!s}startIfEnabledOrStop(t){var r;if(!this.wr||(r=this.yr)==null||!r.isStarted){var n=!Ke(Object.assign)&&!Ke(Array.from);this.wr&&n?(this.Sr(t),vp.info("starting")):this.stopRecording()}}Sr(t){var r,n,s;this.wr&&(jt!=null&&(r=jt.__PosthogExtensions__)!=null&&(r=r.rrweb)!=null&&r.record&&(n=jt.__PosthogExtensions__)!=null&&n.initSessionRecording?this.$r(t):(s=jt.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,this.kr,a=>{if(a)return vp.error("could not load recorder",a);this.$r(t)}))}stopRecording(){var t,r;(t=this.Er)==null||t.call(this),this.Er=void 0,(r=this.yr)==null||r.stop()}Pr(){var t;(t=this._instance.persistence)==null||t.unregister(rU)}Tr(t){if(this._instance.persistence){var r,n,s=this._instance.persistence,a=()=>{var i=t.sessionRecording===!1?void 0:t.sessionRecording,l=i==null?void 0:i.sampleRate,c=tr(l)?null:parseFloat(l);tr(c)&&this.Pr();var u=i==null?void 0:i.minimumDurationMilliseconds;s.register({[Y_]:dt({enabled:!!i},i,{networkPayloadCapture:dt({capturePerformance:t.capturePerformance},i==null?void 0:i.networkPayloadCapture),canvasRecording:{enabled:i==null?void 0:i.recordCanvas,fps:i==null?void 0:i.canvasFps,quality:i==null?void 0:i.canvasQuality},sampleRate:c,minimumDurationMilliseconds:Ke(u)?null:u,endpoint:i==null?void 0:i.endpoint,triggerMatchType:i==null?void 0:i.triggerMatchType,masking:i==null?void 0:i.masking,urlTriggers:i==null?void 0:i.urlTriggers})})};a(),(r=this.Er)==null||r.call(this),this.Er=(n=this._instance.sessionManager)==null?void 0:n.onSessionId(a)}}onRemoteConfig(t){"sessionRecording"in t?t.sessionRecording!==!1?(this.Tr(t),this.br=!0,this.startIfEnabledOrStop()):this.br=!0:vp.info("skipping remote config with no sessionRecording",t)}log(t,r){var n;r===void 0&&(r="log"),(n=this.yr)!=null&&n.log?this.yr.log(t,r):vp.warn("log called before recorder was ready")}get kr(){var t,r,n=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.get_property(Y_);return(n==null||(r=n.scriptConfig)==null?void 0:r.script)||"lazy-recorder"}$r(t){var r,n;if((r=jt.__PosthogExtensions__)==null||!r.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.yr||(this.yr=(n=jt.__PosthogExtensions__)==null?void 0:n.initSessionRecording(this._instance),this.yr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.yr.start(t)}onRRwebEmit(t){var r;(r=this.yr)==null||r.onRRwebEmit==null||r.onRRwebEmit(t)}overrideLinkedFlag(){var t,r;this.yr||(r=this._instance.persistence)==null||r.register({$replay_override_linked_flag:!0}),(t=this.yr)==null||t.overrideLinkedFlag()}overrideSampling(){var t,r;this.yr||(r=this._instance.persistence)==null||r.register({$replay_override_sampling:!0}),(t=this.yr)==null||t.overrideSampling()}overrideTrigger(t){var r,n;this.yr||(n=this._instance.persistence)==null||n.register({[t==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(r=this.yr)==null||r.overrideTrigger(t)}get sdkDebugProperties(){var t;return((t=this.yr)==null?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,r){var n;return!((n=this.yr)==null||!n.tryAddCustomEvent(t,r))}}var mm={},cE=()=>{},vd="posthog",ZU=!Yne&&(js==null?void 0:js.indexOf("MSIE"))===-1&&(js==null?void 0:js.indexOf("Mozilla"))===-1,tM=e=>{var t;return dt({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:qre(et==null?void 0:et.location),persistence:"localStorage+cookie",persistence_name:"",loaded:cE,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:e??"unset",__preview_deferred_init_extensions:!1,debug:Ns&&bn(Ns==null?void 0:Ns.search)&&Ns.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_conversations:!1,disable_product_tours:!0,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(ge==null||(t=ge.location)==null?void 0:t.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:r=>{var n="Bad HTTP status: "+r.statusCode+" "+r.text;rt.error(n)},get_device_id:r=>r,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:oE},error_tracking:{},_onCapture:cE,__preview_eager_load_replay:!1},(r=>({rageclick:!(r&&r>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(r&&r>="2025-05-24")||"history_change",session_recording:r&&r>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(e))},rM=e=>{var t={};Ke(e.process_person)||(t.person_profiles=e.process_person),Ke(e.xhr_headers)||(t.request_headers=e.xhr_headers),Ke(e.cookie_name)||(t.persistence_name=e.cookie_name),Ke(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),Ke(e.store_google)||(t.save_campaign_params=e.store_google),Ke(e.verbose)||(t.debug=e.verbose);var r=en({},t,e);return ar(e.property_blacklist)&&(Ke(e.property_denylist)?r.property_denylist=e.property_blacklist:ar(e.property_denylist)?r.property_denylist=[...e.property_blacklist,...e.property_denylist]:rt.error("Invalid value for property_denylist config: "+e.property_denylist)),r};class Sse{constructor(){this.__forceAllowLocalhost=!1}get Cr(){return this.__forceAllowLocalhost}set Cr(t){rt.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class Sw{get decideEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}get flagsEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new Sse,this.Rr=!1,this.version=co.LIB_VERSION,this.Ir=new PP,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=tM(),this.SentryIntegration=vne,this.sentryIntegration=t=>function(r,n){var s=bU(r,n);return{name:xU,processEvent:a=>s(a)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Fr=!1,this.Mr=null,this.Or=null,this.Ar=null,this.featureFlags=new Zne(this),this.toolbar=new bne(this),this.scrollManager=new pse(this),this.pageViewManager=new Bne(this),this.surveys=new ose(this),this.conversations=new lse(this),this.productTours=new tse(this),this.experiments=new Kn(this),this.exceptions=new Jne(this),this.rateLimiter=new cse(this),this.requestRouter=new vse(this),this.consent=new fne(this),this.externalIntegrations=new _se(this),this.people={set:(t,r,n)=>{var s=bn(t)?{[t]:r}:t;this.setPersonProperties(s),n==null||n({})},set_once:(t,r,n)=>{var s=bn(t)?{[t]:r}:t;this.setPersonProperties(void 0,s),n==null||n({})}},this.on("eventCaptured",t=>rt.info('send "'+(t==null?void 0:t.event)+'"',t))}init(t,r,n){if(n&&n!==vd){var s,a=(s=mm[n])!==null&&s!==void 0?s:new Sw;return a._init(t,r,n),mm[n]=a,mm[vd][n]=a,a}return this._init(t,r,n)}_init(t,r,n){var s;if(r===void 0&&(r={}),Ke(t)||zk(t))return rt.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},r.debug=this.Dr(r.debug),this.jr=r,this.Lr=[],r.person_profiles&&(this.Or=r.person_profiles),this.set_config(en({},tM(r.defaults),rM(r),{name:n,token:t})),this.config.on_xhr_error&&rt.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=r.disable_compression?void 0:go.GZipJS;var a=this.Nr();this.persistence=new iS(this.config,a),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new iS(dt({},this.config,{persistence:"sessionStorage"}),a);var i=dt({},this.persistence.props),l=dt({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Ur=new dse(b=>this.zr(b),this.config.request_queue_config),this.Hr=new hse(this),this.__request_queue=[];var c=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(c||(this.sessionManager=new QR(this),this.sessionPropsManager=new XR(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(rt.info("Deferring extension initialization to improve startup performance"),setTimeout(()=>{this.Br(c)},0)):(rt.info("Initializing extensions synchronously"),this.Br(c)),co.DEBUG=co.DEBUG||this.config.debug,co.DEBUG&&rt.info("Starting in debug mode",{this:this,config:r,thisC:dt({},this.config),p:i,s:l}),((s=r.bootstrap)==null?void 0:s.distinctID)!==void 0){var u,d,f=this.config.get_device_id($l()),h=(u=r.bootstrap)!=null&&u.isIdentifiedID?f:r.bootstrap.distinctID;this.persistence.set_property(uo,(d=r.bootstrap)!=null&&d.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:r.bootstrap.distinctID,$device_id:h})}if(this.qr()){var y,g,m=Object.keys(((y=r.bootstrap)==null?void 0:y.featureFlags)||{}).filter(b=>{var w;return!((w=r.bootstrap)==null||(w=w.featureFlags)==null||!w[b])}).reduce((b,w)=>{var _;return b[w]=((_=r.bootstrap)==null||(_=_.featureFlags)==null?void 0:_[w])||!1,b},{}),v=Object.keys(((g=r.bootstrap)==null?void 0:g.featureFlagPayloads)||{}).filter(b=>m[b]).reduce((b,w)=>{var _,S;return(_=r.bootstrap)!=null&&(_=_.featureFlagPayloads)!=null&&_[w]&&(b[w]=(S=r.bootstrap)==null||(S=S.featureFlagPayloads)==null?void 0:S[w]),b},{});this.featureFlags.receivedFeatureFlags({featureFlags:m,featureFlagPayloads:v})}if(c)this.register_once({distinct_id:cp,$device_id:null},"");else if(!this.get_distinct_id()){var x=this.config.get_device_id($l());this.register_once({distinct_id:x,$device_id:x},""),this.persistence.set_property(uo,"anonymous")}return dn(ge,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),r.segment?yne(this,()=>this.Wr()):this.Wr(),Kl(this.config._onCapture)&&this.config._onCapture!==cE&&(rt.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",b=>this.config._onCapture(b.event,b))),this.config.ip&&rt.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Br(t){var r=performance.now();this.historyAutocapture=new gne(this),this.historyAutocapture.startIfEnabled();var n=[];n.push(()=>{new _ne(this).startIfEnabledOrStop()}),n.push(()=>{var s;this.siteApps=new yse(this),(s=this.siteApps)==null||s.init()}),t||n.push(()=>{this.sessionRecording=new eM(this),this.sessionRecording.startIfEnabledOrStop()}),this.config.disable_scroll_properties||n.push(()=>{this.scrollManager.startMeasuringScrollPosition()}),n.push(()=>{this.autocapture=new sne(this),this.autocapture.startIfEnabled()}),n.push(()=>{this.surveys.loadIfEnabled()}),n.push(()=>{this.conversations.loadIfEnabled()}),n.push(()=>{this.productTours.loadIfEnabled()}),n.push(()=>{this.heatmaps=new Fne(this),this.heatmaps.startIfEnabled()}),n.push(()=>{this.webVitalsAutocapture=new Lne(this)}),n.push(()=>{this.exceptionObserver=new mne(this),this.exceptionObserver.startIfEnabled()}),n.push(()=>{this.deadClicksAutocapture=new vU(this,pne),this.deadClicksAutocapture.startIfEnabled()}),n.push(()=>{if(this.Gr){var s=this.Gr;this.Gr=void 0,this.ci(s)}}),this.Vr(n,r)}Vr(t,r){for(;t.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-r>=30&&t.length>0)return void setTimeout(()=>{this.Vr(t,r)},0);var n=t.shift();if(n)try{n()}catch(a){rt.error("Error initializing extension:",a)}}var s=Math.round(performance.now()-r);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:s}),this.config.__preview_deferred_init_extensions&&rt.info("PostHog extensions initialized ("+s+"ms)")}ci(t){var r,n,s,a,i,l,c,u;if(!et||!et.body)return rt.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.ci(t)},500);this.config.__preview_deferred_init_extensions&&(this.Gr=t),this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=qt(t.supportedCompression,go.GZipJS)?go.GZipJS:qt(t.supportedCompression,go.Base64)?go.Base64:void 0),(r=t.analytics)!=null&&r.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.Or?this.Or:"identified_only"}),(n=this.siteApps)==null||n.onRemoteConfig(t),(s=this.sessionRecording)==null||s.onRemoteConfig(t),(a=this.autocapture)==null||a.onRemoteConfig(t),(i=this.heatmaps)==null||i.onRemoteConfig(t),this.surveys.onRemoteConfig(t),this.conversations.onRemoteConfig(t),this.productTours.onRemoteConfig(t),(l=this.webVitalsAutocapture)==null||l.onRemoteConfig(t),(c=this.exceptionObserver)==null||c.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),(u=this.deadClicksAutocapture)==null||u.onRemoteConfig(t)}Wr(){try{this.config.loaded(this)}catch(t){rt.critical("`loaded` function failed",t)}this.Jr(),this.config.capture_pageview&&setTimeout(()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Kr()},1),new use(this).load(),this.featureFlags.flags()}Jr(){var t;this.is_capturing()&&this.config.request_batching&&((t=this.Ur)==null||t.enable())}_dom_loaded(){this.is_capturing()&&Gl(this.__request_queue,t=>this.zr(t)),this.__request_queue=[],this.Jr()}_handle_unload(){var t,r;this.config.request_batching?(this.Yr()&&this.capture("$pageleave"),(t=this.Ur)==null||t.unload(),(r=this.Hr)==null||r.unload()):this.Yr()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(t){this.__loaded&&(ZU?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=kx(t.url,{ip:this.config.ip?1:0}),t.headers=dt({},this.config.request_headers,t.headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=["sendBeacon"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(r=>{var n,s,a,i=dt({},r);i.timeout=i.timeout||6e4,i.url=kx(i.url,{_:new Date().getTime().toString(),ver:co.LIB_VERSION,compression:i.compression});var l=(n=i.transport)!==null&&n!==void 0?n:"fetch",c=P0.filter(d=>!i.disableTransport||!d.transport||!i.disableTransport.includes(d.transport)),u=(s=(a=ZB(c,d=>d.transport===l))==null?void 0:a.method)!==null&&s!==void 0?s:c[0].method;if(!u)throw new Error("No available transport method");u(i)})(dt({},t,{callback:r=>{var n,s;this.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((n=(s=this.config).on_request_error)==null||n.call(s,r)),t.callback==null||t.callback(r)}}))))}zr(t){this.Hr?this.Hr.retriableRequest(t):this._send_request(t)}_execute_array(t){var r,n=[],s=[],a=[];Gl(t,l=>{l&&(r=l[0],ar(r)?a.push(l):Kl(l)?l.call(this):ar(l)&&r==="alias"?n.push(l):ar(l)&&r.indexOf("capture")!==-1&&Kl(this[r])?a.push(l):s.push(l))});var i=function(l,c){Gl(l,function(u){if(ar(u[0])){var d=c;kr(u,function(f){d=d[f[0]].apply(d,f.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};i(n,this),i(s,this),i(a,this)}qr(){var t,r;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((r=this.config.bootstrap)==null?void 0:r.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,r,n){var s;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ur){if(this.is_capturing())if(!Ke(t)&&bn(t)){var a=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(a&&!this.config.__preview_capture_bot_pageviews)){var i=n!=null&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(i==null||!i.isRateLimited){r!=null&&r.$current_url&&!bn(r==null?void 0:r.$current_url)&&(rt.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),r==null||delete r.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var l=new Date,c=(n==null?void 0:n.timestamp)||l,u=$l(),d={uuid:u,event:t,properties:this.calculateEventProperties(t,r||{},c,u)};t==="$pageview"&&this.config.__preview_capture_bot_pageviews&&a&&(d.event="$bot_pageview",d.properties.$browser_type="bot"),i&&(d.properties.$lib_rate_limit_remaining_tokens=i.remainingTokens),n!=null&&n.$set&&(d.$set=n==null?void 0:n.$set);var f,h=t!=="$groupidentify",y=this.Xr(n==null?void 0:n.$set_once,h);if(y&&(d.$set_once=y),(d=Ure(d,n!=null&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=c,Ke(n==null?void 0:n.timestamp)||(d.properties.$event_time_override_provided=!0,d.properties.$event_time_override_system_time=l),t===A0.DISMISSED||t===A0.SENT){var g=r==null?void 0:r[GR.SURVEY_ID],m=r==null?void 0:r[GR.SURVEY_ITERATION];f={id:g,current_iteration:m},localStorage.getItem(YR(f))||localStorage.setItem(YR(f),"true"),d.$set=dt({},d.$set,{[nse({id:g,current_iteration:m},t===A0.SENT?"responded":"dismissed")]:!0})}var v=dt({},d.properties.$set,d.$set);if($d(v)||this.setPersonPropertiesForFlags(v),!tr(this.config.before_send)){var x=this.Qr(d);if(!x)return;d=x}this.Ir.emit("eventCaptured",d);var b={method:"POST",url:(s=n==null?void 0:n._url)!==null&&s!==void 0?s:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:d,compression:"best-available",batchKey:n==null?void 0:n._batchKey};return!this.config.request_batching||n&&(n==null||!n._batchKey)||n!=null&&n.send_instantly?this.zr(b):this.Ur.enqueue(b),d}rt.critical("This capture call is ignored due to client rate limiting.")}}else rt.error("No event name provided to posthog.capture")}else rt.uninitializedWarning("posthog.capture")}Ni(t){return this.on("eventCaptured",r=>t(r.event,r))}calculateEventProperties(t,r,n,s,a){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return r;var i=a?void 0:this.persistence.remove_event_timer(t),l=dt({},r);if(l.token=this.config.token,l.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(l.$cookieless_mode=!0),t==="$snapshot"){var c=dt({},this.persistence.properties(),this.sessionPersistence.properties());return l.distinct_id=c.distinct_id,(!bn(l.distinct_id)&&!Hi(l.distinct_id)||zk(l.distinct_id))&&rt.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),l}var u,d=Ine(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:f,windowId:h}=this.sessionManager.checkAndGetSessionAndWindowId(a,n.getTime());l.$session_id=f,l.$window_id=h}this.sessionPropsManager&&en(l,this.sessionPropsManager.getSessionProps());try{var y;this.sessionRecording&&en(l,this.sessionRecording.sdkDebugProperties),l.$sdk_debug_retry_queue_size=(y=this.Hr)==null?void 0:y.length}catch(x){l.$sdk_debug_error_capturing_properties=String(x)}if(this.requestRouter.region===Jp.CUSTOM&&(l.$lib_custom_api_host=this.config.api_host),u=t!=="$pageview"||a?t!=="$pageleave"||a?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,s),l=en(l,u),t==="$pageview"&&et&&(l.title=et.title),!Ke(i)){var g=n.getTime()-i;l.$duration=parseFloat((g/1e3).toFixed(3))}js&&this.config.opt_out_useragent_filter&&(l.$browser_type=this._is_bot()?"bot":"browser"),(l=en({},d,this.persistence.properties(),this.sessionPersistence.properties(),l)).$is_identified=this._isIdentified(),ar(this.config.property_denylist)?kr(this.config.property_denylist,function(x){delete l[x]}):rt.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var m=this.config.sanitize_properties;m&&(rt.error("sanitize_properties is deprecated. Use before_send instead"),l=m(l,t));var v=this.Zr();return l.$process_person_profile=v,v&&!a&&this.ts("_calculate_event_properties"),l}Xr(t,r){var n;if(r===void 0&&(r=!0),!this.persistence||!this.Zr()||this.Rr)return t;var s=this.persistence.get_initial_props(),a=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),i=en({},s,a||{},t||{}),l=this.config.sanitize_properties;return l&&(rt.error("sanitize_properties is deprecated. Use before_send instead"),i=l(i,"$set_once")),r&&(this.Rr=!0),$d(i)?void 0:i}register(t,r){var n;(n=this.persistence)==null||n.register(t,r)}register_once(t,r,n){var s;(s=this.persistence)==null||s.register_once(t,r,n)}register_for_session(t){var r;(r=this.sessionPersistence)==null||r.register(t)}unregister(t){var r;(r=this.persistence)==null||r.unregister(t)}unregister_for_session(t){var r;(r=this.sessionPersistence)==null||r.unregister(t)}es(t,r){this.register({[t]:r})}getFeatureFlag(t,r){return this.featureFlags.getFeatureFlag(t,r)}getFeatureFlagPayload(t){var r=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(r)}catch{return r}}isFeatureEnabled(t,r){return this.featureFlags.isFeatureEnabled(t,r)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,r,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,r,n)}getEarlyAccessFeatures(t,r,n){return r===void 0&&(r=!1),this.featureFlags.getEarlyAccessFeatures(t,r,n)}on(t,r){return this.Ir.on(t,r)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var r,n;return(r=(n=this.sessionManager)==null?void 0:n.onSessionId(t))!==null&&r!==void 0?r:()=>{}}getSurveys(t,r){r===void 0&&(r=!1),this.surveys.getSurveys(t,r)}getActiveMatchingSurveys(t,r){r===void 0&&(r=!1),this.surveys.getActiveMatchingSurveys(t,r)}renderSurvey(t,r){this.surveys.renderSurvey(t,r)}displaySurvey(t,r){r===void 0&&(r=ase),this.surveys.displaySurvey(t,r)}cancelPendingSurvey(t){this.surveys.cancelPendingSurvey(t)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,r){return r===void 0&&(r=!1),this.surveys.canRenderSurveyAsync(t,r)}identify(t,r,n){if(!this.__loaded||!this.persistence)return rt.uninitializedWarning("posthog.identify");if(Hi(t)&&(t=t.toString(),rt.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t)if(["distinct_id","distinctid"].includes(t.toLowerCase()))rt.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==cp){if(this.ts("posthog.identify")){var s=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var a=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:a},"")}t!==s&&t!==this.get_property(Wp)&&(this.unregister(Wp),this.register({distinct_id:t}));var i=(this.persistence.get_property(uo)||"anonymous")==="anonymous";t!==s&&i?(this.persistence.set_property(uo,"identified"),this.setPersonPropertiesForFlags(dt({},n||{},r||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:s},{$set:r||{},$set_once:n||{}}),this.Ar=qR(t,r,n),this.featureFlags.setAnonymousDistinctId(s)):(r||n)&&this.setPersonProperties(r,n),t!==s&&(this.reloadFeatureFlags(),this.unregister(mx))}}else rt.critical('The string "'+cp+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else rt.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,r){if((t||r)&&this.ts("posthog.setPersonProperties")){var n=qR(this.get_distinct_id(),t,r);this.Ar!==n?(this.setPersonPropertiesForFlags(dt({},r||{},t||{})),this.capture("$set",{$set:t||{},$set_once:r||{}}),this.Ar=n):rt.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,r,n){if(t&&r){var s=this.getGroups();s[t]!==r&&this.resetGroupPropertiesForFlags(t),this.register({$groups:dt({},s,{[t]:r})}),n&&(this.capture("$groupidentify",{$group_type:t,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags({[t]:n})),s[t]===r||n||this.reloadFeatureFlags()}else rt.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0),this.featureFlags.setPersonPropertiesForFlags(t,r)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0),this.ts("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,r)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var r,n,s,a;if(rt.info("reset"),!this.__loaded)return rt.uninitializedWarning("posthog.reset");var i=this.get_property("$device_id");if(this.consent.reset(),(r=this.persistence)==null||r.clear(),(n=this.sessionPersistence)==null||n.clear(),this.surveys.reset(),this.featureFlags.reset(),(s=this.persistence)==null||s.set_property(uo,"anonymous"),(a=this.sessionManager)==null||a.resetSessionId(),this.Ar=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:cp,$device_id:null},"");else{var l=this.config.get_device_id($l());this.register_once({distinct_id:l,$device_id:t?l:i},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,r;return(t=(r=this.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:r,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),s=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+r);if(t!=null&&t.withTimestamp&&n){var a,i=(a=t.timestampLookBack)!==null&&a!==void 0?a:10;if(!n)return s;s+="?t="+Math.max(Math.floor((new Date().getTime()-n)/1e3)-i,0)}return s}alias(t,r){return t===this.get_property(eU)?(rt.critical("Attempting to create alias for existing People user - aborting."),-2):this.ts("posthog.alias")?(Ke(r)&&(r=this.get_distinct_id()),t!==r?(this.es(Wp,t),this.capture("$create_alias",{alias:t,distinct_id:r})):(rt.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var r=dt({},this.config);if(Cn(t)){var n,s,a,i,l;en(this.config,rM(t));var c=this.Nr();(n=this.persistence)==null||n.update_config(this.config,r,c),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new iS(dt({},this.config,{persistence:"sessionStorage"}),c);var u=this.Dr(this.config.debug);Eo(u)&&(this.config.debug=u),Eo(this.config.debug)&&(this.config.debug?(co.DEBUG=!0,Wr.H()&&Wr.G("ph_debug","true"),rt.info("set_config",{config:t,oldConfig:r,newConfig:dt({},this.config)})):(co.DEBUG=!1,Wr.H()&&Wr.V("ph_debug"))),(s=this.sessionRecording)==null||s.startIfEnabledOrStop(),(a=this.autocapture)==null||a.startIfEnabled(),(i=this.heatmaps)==null||i.startIfEnabled(),this.surveys.loadIfEnabled(),this.rs(),(l=this.externalIntegrations)==null||l.startIfEnabledOrStop()}}startSessionRecording(t){var r=t===!0,n={sampling:r||!(t==null||!t.sampling),linked_flag:r||!(t==null||!t.linked_flag),url_trigger:r||!(t==null||!t.url_trigger),event_trigger:r||!(t==null||!t.event_trigger)};if(Object.values(n).some(Boolean)){var s,a,i,l,c;(s=this.sessionManager)==null||s.checkAndGetSessionAndWindowId(),n.sampling&&((a=this.sessionRecording)==null||a.overrideSampling()),n.linked_flag&&((i=this.sessionRecording)==null||i.overrideLinkedFlag()),n.url_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("url")),n.event_trigger&&((c=this.sessionRecording)==null||c.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,r){var n=new Error("PostHog syntheticException"),s=this.exceptions.buildProperties(t,{handled:!0,syntheticException:n});return this.exceptions.sendExceptionEvent(dt({},s,r))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var r;return(r=this.persistence)==null?void 0:r.props[t]}getSessionProperty(t){var r;return(r=this.sessionPersistence)==null?void 0:r.props[t]}toString(){var t,r=(t=this.config.name)!==null&&t!==void 0?t:vd;return r!==vd&&(r=vd+"."+r),r}_isIdentified(){var t,r;return((t=this.persistence)==null?void 0:t.get_property(uo))==="identified"||((r=this.sessionPersistence)==null?void 0:r.get_property(uo))==="identified"}Zr(){var t,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&$d(this.getGroups())&&((t=this.persistence)==null||(t=t.props)==null||!t[Wp])&&((r=this.persistence)==null||(r=r.props)==null||!r[yx]))}Yr(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Zr()||this.ts("posthog.createPersonProfile")&&this.setPersonProperties({},{})}ts(t){return this.config.person_profiles==="never"?(rt.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.es(yx,!0),!0)}Nr(){if(this.config.cookieless_mode==="always")return!0;var t=this.consent.isOptedOut(),r=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||t&&!!r}rs(){var t,r,n,s,a=this.Nr();return((t=this.persistence)==null?void 0:t.bi)!==a&&((n=this.persistence)==null||n.set_disabled(a)),((r=this.sessionPersistence)==null?void 0:r.bi)!==a&&((s=this.sessionPersistence)==null||s.set_disabled(a)),a}opt_in_capturing(t){var r;if(this.config.cookieless_mode!=="always"){var n,s;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(n=this.sessionManager)==null||n.destroy(),this.sessionManager=new QR(this),this.persistence&&(this.sessionPropsManager=new XR(this,this.sessionManager,this.persistence)),this.sessionRecording=new eM(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.rs(),this.Jr(),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(Ke(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((s=t==null?void 0:t.captureEventName)!==null&&s!==void 0?s:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Kr()}else rt.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var t,r;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.rs(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:cp,$device_id:null}),(t=this.sessionManager)==null||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(r=this.sessionRecording)==null||r.stopRecording(),this.sessionRecording=void 0,this.Kr())):rt.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===fo.GRANTED?"granted":t===fo.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.rs()}_is_bot(){return ea?QU(ea,this.config.custom_blocked_useragents):void 0}Kr(){et&&(et.visibilityState==="visible"?this.Fr||(this.Fr=!0,this.capture("$pageview",{title:et.title},{send_instantly:!0}),this.Mr&&(et.removeEventListener("visibilitychange",this.Mr),this.Mr=null)):this.Mr||(this.Mr=this.Kr.bind(this),dn(et,"visibilitychange",this.Mr)))}debug(t){t===!1?(ge==null||ge.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(ge==null||ge.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}O(){var t,r,n,s,a,i,l,c=this.jr||{};return"advanced_disable_flags"in c?!!c.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(rt.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",s=!1,a=rt,i=(r="advanced_disable_flags")in(t=c)&&!Ke(t[r]),l=n in t&&!Ke(t[n]),i?t[r]:l?(a&&a.warn("Config field '"+n+"' is deprecated. Please use '"+r+"' instead. The old field will be removed in a future major version."),t[n]):s)}Qr(t){if(tr(this.config.before_send))return t;var r=ar(this.config.before_send)?this.config.before_send:[this.config.before_send],n=t;for(var s of r){if(n=s(n),tr(n)){var a="Event '"+t.event+"' was rejected in beforeSend function";return pre(t.event)?rt.warn(a+". This can cause unexpected behavior."):rt.info(a),null}n.properties&&!$d(n.properties)||rt.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var t;return(t=this.pageViewManager.Vt)==null?void 0:t.pageViewId}captureTraceFeedback(t,r){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:r})}captureTraceMetric(t,r,n){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:r,$ai_metric_value:String(n)})}Dr(t){var r=Eo(t)&&!t,n=Wr.H()&&Wr.q("ph_debug")==="true";return!r&&(!!n||t)}}(function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=Bre(e.prototype[t[r]])})(Sw,["identify"]);var nM,xd=(nM=mm[vd]=new Sw,function(){function e(){e.done||(e.done=!0,ZU=!1,kr(mm,function(t){t._dom_loaded()}))}et!=null&&et.addEventListener?et.readyState==="complete"?e():dn(et,"DOMContentLoaded",e,{capture:!1}):ge&&rt.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),nM),e7=p.createContext({client:xd,bootstrap:void 0});function t7(e,t,r){if(r===void 0&&(r=new WeakMap),e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(r.has(e)&&r.get(e)===t)return!0;r.set(e,t);var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(var a=0,i=n;a<i.length;a++){var l=i[a];if(!s.includes(l)||!t7(e[l],t[l],r))return!1}return!0}function jse(e){var t,r,n=e.children,s=e.client,a=e.apiKey,i=e.options,l=p.useRef(null),c=p.useMemo(function(){return s?(a&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),i&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),s):(a||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),xd)},[s,a,JSON.stringify(i)]);return p.useEffect(function(){if(!s){var u=l.current;u?(a!==u.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),i&&!t7(i,u.options)&&xd.set_config(i),l.current={apiKey:a,options:i??{}}):(xd.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),xd.init(a,i),l.current={apiKey:a,options:i??{}})}},[s,a,JSON.stringify(i)]),M.createElement(e7.Provider,{value:{client:c,bootstrap:(t=i==null?void 0:i.bootstrap)!==null&&t!==void 0?t:(r=s==null?void 0:s.config)===null||r===void 0?void 0:r.bootstrap}},n)}var uS=function(e){return typeof e=="function"},uE=function(e,t){return uE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},uE(e,t)};function kse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");uE(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ese={componentStack:null,exceptionEvent:null,error:null},Nse={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(e){kse(t,e);function t(r){var n=e.call(this,r)||this;return n.state=Ese,n}return t.prototype.componentDidCatch=function(r,n){var s=this.props.additionalProperties,a;uS(s)?a=s(r):typeof s=="object"&&(a=s);var i=this.context.client,l=i.captureException(r,a),c=n.componentStack;this.setState({error:r,componentStack:c??null,exceptionEvent:l})},t.prototype.render=function(){var r=this.props,n=r.children,s=r.fallback,a=this.state;if(a.componentStack==null)return uS(n)?n():n;var i=uS(s)?M.createElement(s,{error:a.error,componentStack:a.componentStack,exceptionEvent:a.exceptionEvent}):s;return M.isValidElement(i)?i:(console.warn(Nse.INVALID_FALLBACK),M.createElement(M.Fragment,null))},t.contextType=e7,t})(M.Component);var Cse=e=>{switch(e){case"success":return Tse;case"info":return $se;case"warning":return Ose;case"error":return Rse;default:return null}},Pse=Array(12).fill(0),Ase=({visible:e})=>M.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},M.createElement("div",{className:"sonner-spinner"},Pse.map((t,r)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Tse=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ose=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$se=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Rse=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Mse=()=>{let[e,t]=M.useState(document.hidden);return M.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},dE=1,Ise=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:dE++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async a=>{if(Dse(a)&&!a.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async a=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var a;s&&(this.dismiss(r),r=void 0),(a=t.finally)==null||a.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||dE++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Ks=new Ise,Lse=(e,t)=>{let r=(t==null?void 0:t.id)||dE++;return Ks.addToast({title:e,...t,id:r}),r},Dse=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Fse=Lse,Bse=()=>Ks.toasts,fe=Object.assign(Fse,{success:Ks.success,info:Ks.info,warning:Ks.warning,error:Ks.error,custom:Ks.custom,message:Ks.message,promise:Ks.promise,dismiss:Ks.dismiss,loading:Ks.loading},{getHistory:Bse});function Use(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Use(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function jv(e){return e.label!==void 0}var zse=3,qse="32px",Wse=4e3,Vse=356,Hse=14,Kse=20,Gse=200;function Yse(...e){return e.filter(Boolean).join(" ")}var Jse=e=>{var t,r,n,s,a,i,l,c,u,d;let{invert:f,toast:h,unstyled:y,interacting:g,setHeights:m,visibleToasts:v,heights:x,index:b,toasts:w,expanded:_,removeToast:S,defaultRichColors:k,closeButton:E,style:j,cancelButtonStyle:N,actionButtonStyle:C,className:P="",descriptionClassName:R="",duration:B,position:z,gap:D,loadingIcon:O,expandByDefault:U,classNames:A,icons:I,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:$,cn:V}=e,[W,ee]=M.useState(!1),[ie,G]=M.useState(!1),[q,Z]=M.useState(!1),[Y,J]=M.useState(!1),[se,Q]=M.useState(0),[ue,ce]=M.useState(0),ve=M.useRef(null),we=M.useRef(null),Te=b===0,pt=b+1<=v,st=h.type,bt=h.dismissible!==!1,F=h.className||"",X=h.descriptionClassName||"",ye=M.useMemo(()=>x.findIndex(he=>he.toastId===h.id)||0,[x,h.id]),Ce=M.useMemo(()=>{var he;return(he=h.closeButton)!=null?he:E},[h.closeButton,E]),Ge=M.useMemo(()=>h.duration||B||Wse,[h.duration,B]),lt=M.useRef(0),Ve=M.useRef(0),We=M.useRef(0),tt=M.useRef(null),[K,H]=z.split("-"),oe=M.useMemo(()=>x.reduce((he,Ne,Ue)=>Ue>=ye?he:he+Ne.height,0),[x,ye]),xe=Mse(),qe=h.invert||f,Ae=st==="loading";Ve.current=M.useMemo(()=>ye*D+oe,[ye,oe]),M.useEffect(()=>{ee(!0)},[]),M.useLayoutEffect(()=>{if(!W)return;let he=we.current,Ne=he.style.height;he.style.height="auto";let Ue=he.getBoundingClientRect().height;he.style.height=Ne,ce(Ue),m(De=>De.find(Me=>Me.toastId===h.id)?De.map(Me=>Me.toastId===h.id?{...Me,height:Ue}:Me):[{toastId:h.id,height:Ue,position:h.position},...De])},[W,h.title,h.description,m,h.id]);let at=M.useCallback(()=>{G(!0),Q(Ve.current),m(he=>he.filter(Ne=>Ne.toastId!==h.id)),setTimeout(()=>{S(h)},Gse)},[h,S,m,Ve]);M.useEffect(()=>{if(h.promise&&st==="loading"||h.duration===1/0||h.type==="loading")return;let he,Ne=Ge;return _||g||$&&xe?(()=>{if(We.current<lt.current){let Ue=new Date().getTime()-lt.current;Ne=Ne-Ue}We.current=new Date().getTime()})():Ne!==1/0&&(lt.current=new Date().getTime(),he=setTimeout(()=>{var Ue;(Ue=h.onAutoClose)==null||Ue.call(h,h),at()},Ne)),()=>clearTimeout(he)},[_,g,U,h,Ge,at,h.promise,st,$,xe]),M.useEffect(()=>{let he=we.current;if(he){let Ne=he.getBoundingClientRect().height;return ce(Ne),m(Ue=>[{toastId:h.id,height:Ne,position:h.position},...Ue]),()=>m(Ue=>Ue.filter(De=>De.toastId!==h.id))}},[m,h.id]),M.useEffect(()=>{h.delete&&at()},[at,h.delete]);function Ye(){return I!=null&&I.loading?M.createElement("div",{className:"sonner-loader","data-visible":st==="loading"},I.loading):O?M.createElement("div",{className:"sonner-loader","data-visible":st==="loading"},O):M.createElement(Ase,{visible:st==="loading"})}return M.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:we,className:V(P,F,A==null?void 0:A.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[st],(r=h==null?void 0:h.classNames)==null?void 0:r[st]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:k,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":W,"data-promise":!!h.promise,"data-removed":ie,"data-visible":pt,"data-y-position":K,"data-x-position":H,"data-index":b,"data-front":Te,"data-swiping":q,"data-dismissible":bt,"data-type":st,"data-invert":qe,"data-swipe-out":Y,"data-expanded":!!(_||U&&W),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${ie?se:Ve.current}px`,"--initial-height":U?"auto":`${ue}px`,...j,...h.style},onPointerDown:he=>{Ae||!bt||(ve.current=new Date,Q(Ve.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(Z(!0),tt.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,Ne,Ue,De;if(Y||!bt)return;tt.current=null;let Me=Number(((he=we.current)==null?void 0:he.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ft=new Date().getTime()-((Ne=ve.current)==null?void 0:Ne.getTime()),Oe=Math.abs(Me)/Ft;if(Math.abs(Me)>=Kse||Oe>.11){Q(Ve.current),(Ue=h.onDismiss)==null||Ue.call(h,h),at(),J(!0);return}(De=we.current)==null||De.style.setProperty("--swipe-amount","0px"),Z(!1)},onPointerMove:he=>{var Ne;if(!tt.current||!bt)return;let Ue=he.clientY-tt.current.y,De=he.clientX-tt.current.x,Me=(K==="top"?Math.min:Math.max)(0,Ue),Ft=he.pointerType==="touch"?10:2;Math.abs(Me)>Ft?(Ne=we.current)==null||Ne.style.setProperty("--swipe-amount",`${Ue}px`):Math.abs(De)>Ft&&(tt.current=null)}},Ce&&!h.jsx?M.createElement("button",{"aria-label":te,"data-disabled":Ae,"data-close-button":!0,onClick:Ae||!bt?()=>{}:()=>{var he;at(),(he=h.onDismiss)==null||he.call(h,h)},className:V(A==null?void 0:A.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||M.isValidElement(h.title)?h.jsx||h.title:M.createElement(M.Fragment,null,st||h.icon||h.promise?M.createElement("div",{"data-icon":"",className:V(A==null?void 0:A.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ye():null,h.type!=="loading"?h.icon||(I==null?void 0:I[st])||Cse(st):null):null,M.createElement("div",{"data-content":"",className:V(A==null?void 0:A.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},M.createElement("div",{"data-title":"",className:V(A==null?void 0:A.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?M.createElement("div",{"data-description":"",className:V(R,X,A==null?void 0:A.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),M.isValidElement(h.cancel)?h.cancel:h.cancel&&jv(h.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:he=>{var Ne,Ue;jv(h.cancel)&&bt&&((Ue=(Ne=h.cancel).onClick)==null||Ue.call(Ne,he),at())},className:V(A==null?void 0:A.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,M.isValidElement(h.action)?h.action:h.action&&jv(h.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||C,onClick:he=>{var Ne,Ue;jv(h.action)&&(he.defaultPrevented||((Ue=(Ne=h.action).onClick)==null||Ue.call(Ne,he),at()))},className:V(A==null?void 0:A.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function sM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Xse=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:i,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=zse,toastOptions:y,dir:g=sM(),gap:m=Hse,loadingIcon:v,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w,cn:_=Yse}=e,[S,k]=M.useState([]),E=M.useMemo(()=>Array.from(new Set([r].concat(S.filter($=>$.position).map($=>$.position)))),[S,r]),[j,N]=M.useState([]),[C,P]=M.useState(!1),[R,B]=M.useState(!1),[z,D]=M.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=M.useRef(null),U=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=M.useRef(null),I=M.useRef(!1),te=M.useCallback($=>{var V;(V=S.find(W=>W.id===$.id))!=null&&V.delete||Ks.dismiss($.id),k(W=>W.filter(({id:ee})=>ee!==$.id))},[S]);return M.useEffect(()=>Ks.subscribe($=>{if($.dismiss){k(V=>V.map(W=>W.id===$.id?{...W,delete:!0}:W));return}setTimeout(()=>{my.flushSync(()=>{k(V=>{let W=V.findIndex(ee=>ee.id===$.id);return W!==-1?[...V.slice(0,W),{...V[W],...$},...V.slice(W+1)]:[$,...V]})})})}),[]),M.useEffect(()=>{if(c!=="system"){D(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:$})=>{D($?"dark":"light")})},[c]),M.useEffect(()=>{S.length<=1&&P(!1)},[S]),M.useEffect(()=>{let $=V=>{var W,ee;n.every(ie=>V[ie]||V.code===ie)&&(P(!0),(W=O.current)==null||W.focus()),V.code==="Escape"&&(document.activeElement===O.current||(ee=O.current)!=null&&ee.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[n]),M.useEffect(()=>{if(O.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,I.current=!1)}},[O.current]),S.length?M.createElement("section",{"aria-label":`${b} ${U}`,tabIndex:-1},E.map(($,V)=>{var W;let[ee,ie]=$.split("-");return M.createElement("ol",{key:$,dir:g==="auto"?sM():g,tabIndex:-1,ref:O,className:i,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":ee,"data-x-position":ie,style:{"--front-toast-height":`${((W=j[0])==null?void 0:W.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||qse,"--width":`${Vse}px`,"--gap":`${m}px`,...f},onBlur:G=>{I.current&&!G.currentTarget.contains(G.relatedTarget)&&(I.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||I.current||(I.current=!0,A.current=G.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{R||P(!1)},onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},S.filter(G=>!G.position&&V===0||G.position===$).map((G,q)=>{var Z,Y;return M.createElement(Jse,{key:G.id,icons:x,index:q,toast:G,defaultRichColors:u,duration:(Z=y==null?void 0:y.duration)!=null?Z:d,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:t,visibleToasts:h,closeButton:(Y=y==null?void 0:y.closeButton)!=null?Y:a,interacting:R,position:$,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:te,toasts:S.filter(J=>J.position==G.position),heights:j.filter(J=>J.position==G.position),setHeights:N,expandByDefault:s,gap:m,loadingIcon:v,expanded:C,pauseWhenPageIsHidden:w,cn:_})}))})):null};const Qse=({...e})=>{const{theme:t="light"}=Ho();return o.jsx(Xse,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg group-[.toaster]:rounded-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground group-[.toast]:rounded-md",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground group-[.toast]:rounded-md"}},...e})};function Be(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Zse(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function jw(...e){return t=>e.forEach(r=>Zse(r,t))}function xt(...e){return p.useCallback(jw(...e),e)}function eae(e,t){const r=p.createContext(t),n=a=>{const{children:i,...l}=a,c=p.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=p.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function la(e,t=[]){let r=[];function n(a,i){const l=p.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:y,...g}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=p.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:y})};u.displayName=a+"Provider";function d(f,h){var m;const y=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=p.useContext(y);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,tae(s,...t)]}function tae(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var rc=p.forwardRef((e,t)=>{const{children:r,...n}=e,s=p.Children.toArray(r),a=s.find(rae);if(a){const i=a.props.children,l=s.map(c=>c===a?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:c);return o.jsx(fE,{...n,ref:t,children:p.isValidElement(i)?p.cloneElement(i,void 0,l):null})}return o.jsx(fE,{...n,ref:t,children:r})});rc.displayName="Slot";var fE=p.forwardRef((e,t)=>{const{children:r,...n}=e;if(p.isValidElement(r)){const s=sae(r);return p.cloneElement(r,{...nae(n,r.props),ref:t?jw(t,s):s})}return p.Children.count(r)>1?p.Children.only(null):null});fE.displayName="SlotClone";var AP=({children:e})=>o.jsx(o.Fragment,{children:e});function rae(e){return p.isValidElement(e)&&e.type===AP}function nae(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function sae(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var aae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ot=aae.reduce((e,t)=>{const r=p.forwardRef((n,s)=>{const{asChild:a,...i}=n,l=a?rc:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function xy(e,t){e&&zu.flushSync(()=>e.dispatchEvent(t))}function Yt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function iae(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var oae="DismissableLayer",hE="dismissableLayer.update",lae="dismissableLayer.pointerDownOutside",cae="dismissableLayer.focusOutside",aM,r7=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),n7=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(r7),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),g=xt(t,E=>f(E)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),b=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=fae(E=>{const j=E.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(E),i==null||i(E),E.defaultPrevented||l==null||l())},h),k=hae(E=>{const j=E.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(E),i==null||i(E),E.defaultPrevented||l==null||l())},h);return iae(E=>{b===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(aM=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),iM(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=aM)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),iM())},[d,u]),p.useEffect(()=>{const E=()=>y({});return document.addEventListener(hE,E),()=>document.removeEventListener(hE,E)},[]),o.jsx(ot.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Be(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Be(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Be(e.onPointerDownCapture,S.onPointerDownCapture)})});n7.displayName=oae;var uae="DismissableLayerBranch",dae=p.forwardRef((e,t)=>{const r=p.useContext(r7),n=p.useRef(null),s=xt(t,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(ot.div,{...e,ref:s})});dae.displayName=uae;function fae(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){s7(lae,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function hae(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!n.current&&s7(cae,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function iM(){const e=new CustomEvent(hE);document.dispatchEvent(e)}function s7(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?xy(s,a):s.dispatchEvent(a)}var an=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},pae=hh.useId||(()=>{}),mae=0;function ri(e){const[t,r]=p.useState(pae());return an(()=>{r(n=>n??String(mae++))},[e]),t?`radix-${t}`:""}const gae=["top","right","bottom","left"],nc=Math.min,Js=Math.max,Nx=Math.round,kv=Math.floor,Li=e=>({x:e,y:e}),yae={left:"right",right:"left",bottom:"top",top:"bottom"},vae={start:"end",end:"start"};function pE(e,t,r){return Js(e,nc(t,r))}function Io(e,t){return typeof e=="function"?e(t):e}function Lo(e){return e.split("-")[0]}function vh(e){return e.split("-")[1]}function TP(e){return e==="x"?"y":"x"}function OP(e){return e==="y"?"height":"width"}const xae=new Set(["top","bottom"]);function Ai(e){return xae.has(Lo(e))?"y":"x"}function $P(e){return TP(Ai(e))}function bae(e,t,r){r===void 0&&(r=!1);const n=vh(e),s=$P(e),a=OP(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Cx(i)),[i,Cx(i)]}function wae(e){const t=Cx(e);return[mE(e),t,mE(t)]}function mE(e){return e.replace(/start|end/g,t=>vae[t])}const oM=["left","right"],lM=["right","left"],_ae=["top","bottom"],Sae=["bottom","top"];function jae(e,t,r){switch(e){case"top":case"bottom":return r?t?lM:oM:t?oM:lM;case"left":case"right":return t?_ae:Sae;default:return[]}}function kae(e,t,r,n){const s=vh(e);let a=jae(Lo(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(mE)))),a}function Cx(e){return e.replace(/left|right|bottom|top/g,t=>yae[t])}function Eae(e){return{top:0,right:0,bottom:0,left:0,...e}}function a7(e){return typeof e!="number"?Eae(e):{top:e,right:e,bottom:e,left:e}}function Px(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function cM(e,t,r){let{reference:n,floating:s}=e;const a=Ai(t),i=$P(t),l=OP(i),c=Lo(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let y;switch(c){case"top":y={x:d,y:n.y-s.height};break;case"bottom":y={x:d,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:f};break;case"left":y={x:n.x-s.width,y:f};break;default:y={x:n.x,y:n.y}}switch(vh(t)){case"start":y[i]-=h*(r&&u?-1:1);break;case"end":y[i]+=h*(r&&u?-1:1);break}return y}const Nae=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=cM(u,n,c),h=n,y={},g=0;for(let m=0;m<l.length;m++){const{name:v,fn:x}=l[m],{x:b,y:w,data:_,reset:S}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:y,rects:u,platform:i,elements:{reference:e,floating:t}});d=b??d,f=w??f,y={...y,[v]:{...y[v],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=cM(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:y}};async function tg(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:y=0}=Io(t,e),g=a7(y),v=l[h?f==="floating"?"reference":"floating":f],x=Px(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Px(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-S.top+g.top)/_.y,bottom:(S.bottom-x.bottom+g.bottom)/_.y,left:(x.left-S.left+g.left)/_.x,right:(S.right-x.right+g.right)/_.x}}const Cae=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Io(e,t)||{};if(u==null)return{};const f=a7(d),h={x:r,y:n},y=$P(s),g=OP(y),m=await i.getDimensions(u),v=y==="y",x=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=a.reference[g]+a.reference[y]-h[y]-a.floating[g],S=h[y]-a.reference[y],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let E=k?k[w]:0;(!E||!await(i.isElement==null?void 0:i.isElement(k)))&&(E=l.floating[w]||a.floating[g]);const j=_/2-S/2,N=E/2-m[g]/2-1,C=nc(f[x],N),P=nc(f[b],N),R=C,B=E-m[g]-P,z=E/2-m[g]/2+j,D=pE(R,z,B),O=!c.arrow&&vh(s)!=null&&z!==D&&a.reference[g]/2-(z<R?C:P)-m[g]/2<0,U=O?z<R?z-R:z-B:0;return{[y]:h[y]+U,data:{[y]:D,centerOffset:z-D-U,...O&&{alignmentOffset:U}},reset:O}}}),Pae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=Io(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=Lo(s),b=Ai(l),w=Lo(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!m?[Cx(l)]:wae(l)),k=g!=="none";!h&&k&&S.push(...kae(l,m,g,_));const E=[l,...S],j=await tg(t,v),N=[];let C=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&N.push(j[x]),f){const z=bae(s,i,_);N.push(j[z[0]],j[z[1]])}if(C=[...C,{placement:s,overflows:N}],!N.every(z=>z<=0)){var P,R;const z=(((P=a.flip)==null?void 0:P.index)||0)+1,D=E[z];if(D&&(!(f==="alignment"?b!==Ai(D):!1)||C.every(A=>Ai(A.placement)===b?A.overflows[0]>0:!0)))return{data:{index:z,overflows:C},reset:{placement:D}};let O=(R=C.filter(U=>U.overflows[0]<=0).sort((U,A)=>U.overflows[1]-A.overflows[1])[0])==null?void 0:R.placement;if(!O)switch(y){case"bestFit":{var B;const U=(B=C.filter(A=>{if(k){const I=Ai(A.placement);return I===b||I==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(I=>I>0).reduce((I,te)=>I+te,0)]).sort((A,I)=>A[1]-I[1])[0])==null?void 0:B[0];U&&(O=U);break}case"initialPlacement":O=l;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function uM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dM(e){return gae.some(t=>e[t]>=0)}const Aae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Io(e,t);switch(n){case"referenceHidden":{const a=await tg(t,{...s,elementContext:"reference"}),i=uM(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:dM(i)}}}case"escaped":{const a=await tg(t,{...s,altBoundary:!0}),i=uM(a,r.floating);return{data:{escapedOffsets:i,escaped:dM(i)}}}default:return{}}}}},i7=new Set(["left","top"]);async function Tae(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Lo(r),l=vh(r),c=Ai(r)==="y",u=i7.has(i)?-1:1,d=a&&c?-1:1,f=Io(t,e);let{mainAxis:h,crossAxis:y,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(y=l==="end"?g*-1:g),c?{x:y*d,y:h*u}:{x:h*u,y:y*d}}const Oae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await Tae(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},$ae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:v=>{let{x,y:b}=v;return{x,y:b}}},...c}=Io(e,t),u={x:r,y:n},d=await tg(t,c),f=Ai(Lo(s)),h=TP(f);let y=u[h],g=u[f];if(a){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=y+d[v],w=y-d[x];y=pE(b,y,w)}if(i){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=g+d[v],w=g-d[x];g=pE(b,g,w)}const m=l.fn({...t,[h]:y,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:a,[f]:i}}}}}},Rae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Io(e,t),d={x:r,y:n},f=Ai(s),h=TP(f);let y=d[h],g=d[f];const m=Io(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",_=a.reference[h]-a.floating[w]+v.mainAxis,S=a.reference[h]+a.reference[w]-v.mainAxis;y<_?y=_:y>S&&(y=S)}if(u){var x,b;const w=h==="y"?"width":"height",_=i7.has(Lo(s)),S=a.reference[f]-a.floating[w]+(_&&((x=i.offset)==null?void 0:x[f])||0)+(_?0:v.crossAxis),k=a.reference[f]+a.reference[w]+(_?0:((b=i.offset)==null?void 0:b[f])||0)-(_?v.crossAxis:0);g<S?g=S:g>k&&(g=k)}return{[h]:y,[f]:g}}}},Mae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Io(e,t),d=await tg(t,u),f=Lo(s),h=vh(s),y=Ai(s)==="y",{width:g,height:m}=a.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const b=m-d.top-d.bottom,w=g-d.left-d.right,_=nc(m-d[v],b),S=nc(g-d[x],w),k=!t.middlewareData.shift;let E=_,j=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=b),k&&!h){const C=Js(d.left,0),P=Js(d.right,0),R=Js(d.top,0),B=Js(d.bottom,0);y?j=g-2*(C!==0||P!==0?C+P:Js(d.left,d.right)):E=m-2*(R!==0||B!==0?R+B:Js(d.top,d.bottom))}await c({...t,availableWidth:j,availableHeight:E});const N=await i.getDimensions(l.floating);return g!==N.width||m!==N.height?{reset:{rects:!0}}:{}}}};function kw(){return typeof window<"u"}function xh(e){return o7(e)?(e.nodeName||"").toLowerCase():"#document"}function ra(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qi(e){var t;return(t=(o7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function o7(e){return kw()?e instanceof Node||e instanceof ra(e).Node:!1}function ii(e){return kw()?e instanceof Element||e instanceof ra(e).Element:!1}function Ki(e){return kw()?e instanceof HTMLElement||e instanceof ra(e).HTMLElement:!1}function fM(e){return!kw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ra(e).ShadowRoot}const Iae=new Set(["inline","contents"]);function by(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=oi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Iae.has(s)}const Lae=new Set(["table","td","th"]);function Dae(e){return Lae.has(xh(e))}const Fae=[":popover-open",":modal"];function Ew(e){return Fae.some(t=>{try{return e.matches(t)}catch{return!1}})}const Bae=["transform","translate","scale","rotate","perspective"],Uae=["transform","translate","scale","rotate","perspective","filter"],zae=["paint","layout","strict","content"];function RP(e){const t=MP(),r=ii(e)?oi(e):e;return Bae.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Uae.some(n=>(r.willChange||"").includes(n))||zae.some(n=>(r.contain||"").includes(n))}function qae(e){let t=sc(e);for(;Ki(t)&&!Rf(t);){if(RP(t))return t;if(Ew(t))return null;t=sc(t)}return null}function MP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Wae=new Set(["html","body","#document"]);function Rf(e){return Wae.has(xh(e))}function oi(e){return ra(e).getComputedStyle(e)}function Nw(e){return ii(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function sc(e){if(xh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||fM(e)&&e.host||Qi(e);return fM(t)?t.host:t}function l7(e){const t=sc(e);return Rf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ki(t)&&by(t)?t:l7(t)}function rg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=l7(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=ra(s);if(a){const l=gE(i);return t.concat(i,i.visualViewport||[],by(s)?s:[],l&&r?rg(l):[])}return t.concat(s,rg(s,[],r))}function gE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function c7(e){const t=oi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ki(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=Nx(r)!==a||Nx(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function IP(e){return ii(e)?e:e.contextElement}function Jd(e){const t=IP(e);if(!Ki(t))return Li(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=c7(t);let i=(a?Nx(r.width):r.width)/n,l=(a?Nx(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Vae=Li(0);function u7(e){const t=ra(e);return!MP()||!t.visualViewport?Vae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Hae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ra(e)?!1:t}function ku(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=IP(e);let i=Li(1);t&&(n?ii(n)&&(i=Jd(n)):i=Jd(e));const l=Hae(a,r,n)?u7(a):Li(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(a){const h=ra(a),y=n&&ii(n)?ra(n):n;let g=h,m=gE(g);for(;m&&n&&y!==g;){const v=Jd(m),x=m.getBoundingClientRect(),b=oi(m),w=x.left+(m.clientLeft+parseFloat(b.paddingLeft))*v.x,_=x.top+(m.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=_,g=ra(m),m=gE(g)}}return Px({width:d,height:f,x:c,y:u})}function Cw(e,t){const r=Nw(e).scrollLeft;return t?t.left+r:ku(Qi(e)).left+r}function d7(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Cw(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function Kae(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=Qi(n),l=t?Ew(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Li(1);const d=Li(0),f=Ki(n);if((f||!f&&!a)&&((xh(n)!=="body"||by(i))&&(c=Nw(n)),Ki(n))){const y=ku(n);u=Jd(n),d.x=y.x+n.clientLeft,d.y=y.y+n.clientTop}const h=i&&!f&&!a?d7(i,c):Li(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Gae(e){return Array.from(e.getClientRects())}function Yae(e){const t=Qi(e),r=Nw(e),n=e.ownerDocument.body,s=Js(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Js(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Cw(e);const l=-r.scrollTop;return oi(n).direction==="rtl"&&(i+=Js(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:l}}const hM=25;function Jae(e,t){const r=ra(e),n=Qi(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const d=MP();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Cw(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),y=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-y);g<=hM&&(a-=g)}else u<=hM&&(a+=u);return{width:a,height:i,x:l,y:c}}const Xae=new Set(["absolute","fixed"]);function Qae(e,t){const r=ku(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Ki(e)?Jd(e):Li(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function pM(e,t,r){let n;if(t==="viewport")n=Jae(e,r);else if(t==="document")n=Yae(Qi(e));else if(ii(t))n=Qae(t,r);else{const s=u7(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Px(n)}function f7(e,t){const r=sc(e);return r===t||!ii(r)||Rf(r)?!1:oi(r).position==="fixed"||f7(r,t)}function Zae(e,t){const r=t.get(e);if(r)return r;let n=rg(e,[],!1).filter(l=>ii(l)&&xh(l)!=="body"),s=null;const a=oi(e).position==="fixed";let i=a?sc(e):e;for(;ii(i)&&!Rf(i);){const l=oi(i),c=RP(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&Xae.has(s.position)||by(i)&&!c&&f7(e,i))?n=n.filter(d=>d!==i):s=l,i=sc(i)}return t.set(e,n),n}function eie(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Ew(t)?[]:Zae(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=pM(t,d,s);return u.top=Js(f.top,u.top),u.right=nc(f.right,u.right),u.bottom=nc(f.bottom,u.bottom),u.left=Js(f.left,u.left),u},pM(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function tie(e){const{width:t,height:r}=c7(e);return{width:t,height:r}}function rie(e,t,r){const n=Ki(t),s=Qi(t),a=r==="fixed",i=ku(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Li(0);function u(){c.x=Cw(s)}if(n||!n&&!a)if((xh(t)!=="body"||by(s))&&(l=Nw(t)),n){const y=ku(t,!0,a,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?d7(s,l):Li(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function dS(e){return oi(e).position==="static"}function mM(e,t){if(!Ki(e)||oi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Qi(e)===r&&(r=r.ownerDocument.body),r}function h7(e,t){const r=ra(e);if(Ew(e))return r;if(!Ki(e)){let s=sc(e);for(;s&&!Rf(s);){if(ii(s)&&!dS(s))return s;s=sc(s)}return r}let n=mM(e,t);for(;n&&Dae(n)&&dS(n);)n=mM(n,t);return n&&Rf(n)&&dS(n)&&!RP(n)?r:n||qae(e)||r}const nie=async function(e){const t=this.getOffsetParent||h7,r=this.getDimensions,n=await r(e.floating);return{reference:rie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function sie(e){return oi(e).direction==="rtl"}const aie={convertOffsetParentRelativeRectToViewportRelativeRect:Kae,getDocumentElement:Qi,getClippingRect:eie,getOffsetParent:h7,getElementRects:nie,getClientRects:Gae,getDimensions:tie,getScale:Jd,isElement:ii,isRTL:sie};function p7(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function iie(e,t){let r=null,n;const s=Qi(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:y}=u;if(l||t(),!h||!y)return;const g=kv(f),m=kv(s.clientWidth-(d+h)),v=kv(s.clientHeight-(f+y)),x=kv(d),w={rootMargin:-g+"px "+-m+"px "+-v+"px "+-x+"px",threshold:Js(0,nc(1,c))||1};let _=!0;function S(k){const E=k[0].intersectionRatio;if(E!==c){if(!_)return i();E?i(!1,E):n=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!p7(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return i(!0),a}function oie(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=IP(e),d=s||a?[...u?rg(u):[],...rg(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const f=u&&l?iie(u,r):null;let h=-1,y=null;i&&(y=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=y)==null||w.observe(t)})),r()}),u&&!c&&y.observe(u),y.observe(t));let g,m=c?ku(e):null;c&&v();function v(){const x=ku(e);m&&!p7(m,x)&&r(),m=x,g=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(b=>{s&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),f==null||f(),(x=y)==null||x.disconnect(),y=null,c&&cancelAnimationFrame(g)}}const lie=Oae,cie=$ae,uie=Pae,die=Mae,fie=Aae,gM=Cae,hie=Rae,pie=(e,t,r)=>{const n=new Map,s={platform:aie,...r},a={...s.platform,_c:n};return Nae(e,t,{...s,platform:a})};var mie=typeof document<"u",gie=function(){},T0=mie?p.useLayoutEffect:gie;function Ax(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ax(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Ax(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function m7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yM(e,t){const r=m7(e);return Math.round(t*r)/r}function fS(e){const t=p.useRef(e);return T0(()=>{t.current=e}),t}function yie(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,y]=p.useState(n);Ax(h,n)||y(n);const[g,m]=p.useState(null),[v,x]=p.useState(null),b=p.useCallback(A=>{A!==k.current&&(k.current=A,m(A))},[]),w=p.useCallback(A=>{A!==E.current&&(E.current=A,x(A))},[]),_=a||g,S=i||v,k=p.useRef(null),E=p.useRef(null),j=p.useRef(d),N=c!=null,C=fS(c),P=fS(s),R=fS(u),B=p.useCallback(()=>{if(!k.current||!E.current)return;const A={placement:t,strategy:r,middleware:h};P.current&&(A.platform=P.current),pie(k.current,E.current,A).then(I=>{const te={...I,isPositioned:R.current!==!1};z.current&&!Ax(j.current,te)&&(j.current=te,zu.flushSync(()=>{f(te)}))})},[h,t,r,P,R]);T0(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const z=p.useRef(!1);T0(()=>(z.current=!0,()=>{z.current=!1}),[]),T0(()=>{if(_&&(k.current=_),S&&(E.current=S),_&&S){if(C.current)return C.current(_,S,B);B()}},[_,S,B,C,N]);const D=p.useMemo(()=>({reference:k,floating:E,setReference:b,setFloating:w}),[b,w]),O=p.useMemo(()=>({reference:_,floating:S}),[_,S]),U=p.useMemo(()=>{const A={position:r,left:0,top:0};if(!O.floating)return A;const I=yM(O.floating,d.x),te=yM(O.floating,d.y);return l?{...A,transform:"translate("+I+"px, "+te+"px)",...m7(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:te}},[r,l,O.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:B,refs:D,elements:O,floatingStyles:U}),[d,B,D,O,U])}const vie=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?gM({element:n.current,padding:s}).fn(r):{}:n?gM({element:n,padding:s}).fn(r):{}}}},xie=(e,t)=>({...lie(e),options:[e,t]}),bie=(e,t)=>({...cie(e),options:[e,t]}),wie=(e,t)=>({...hie(e),options:[e,t]}),_ie=(e,t)=>({...uie(e),options:[e,t]}),Sie=(e,t)=>({...die(e),options:[e,t]}),jie=(e,t)=>({...fie(e),options:[e,t]}),kie=(e,t)=>({...vie(e),options:[e,t]});var Eie="Arrow",g7=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(ot.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});g7.displayName=Eie;var Nie=g7;function Cie(e,t=[]){let r=[];function n(a,i){const l=p.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:y,...g}=f,m=(h==null?void 0:h[e][c])||l,v=p.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:y})}function d(f,h){const y=(h==null?void 0:h[e][c])||l,g=p.useContext(y);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Pie(s,...t)]}function Pie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Pw(e){const[t,r]=p.useState(void 0);return an(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var LP="Popper",[y7,bh]=Cie(LP),[Aie,v7]=y7(LP),x7=e=>{const{__scopePopper:t,children:r}=e,[n,s]=p.useState(null);return o.jsx(Aie,{scope:t,anchor:n,onAnchorChange:s,children:r})};x7.displayName=LP;var b7="PopperAnchor",w7=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=v7(b7,r),i=p.useRef(null),l=xt(t,i);return p.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(ot.div,{...s,ref:l})});w7.displayName=b7;var DP="PopperContent",[Tie,Oie]=y7(DP),_7=p.forwardRef((e,t)=>{var q,Z,Y,J,se,Q;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:g,...m}=e,v=v7(DP,r),[x,b]=p.useState(null),w=xt(t,ue=>b(ue)),[_,S]=p.useState(null),k=Pw(_),E=(k==null?void 0:k.width)??0,j=(k==null?void 0:k.height)??0,N=n+(a!=="center"?"-"+a:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],R=P.length>0,B={padding:C,boundary:P.filter(Rie),altBoundary:R},{refs:z,floatingStyles:D,placement:O,isPositioned:U,middlewareData:A}=yie({strategy:"fixed",placement:N,whileElementsMounted:(...ue)=>oie(...ue,{animationFrame:y==="always"}),elements:{reference:v.anchor},middleware:[xie({mainAxis:s+j,alignmentAxis:i}),c&&bie({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?wie():void 0,...B}),c&&_ie({...B}),Sie({...B,apply:({elements:ue,rects:ce,availableWidth:ve,availableHeight:we})=>{const{width:Te,height:pt}=ce.reference,st=ue.floating.style;st.setProperty("--radix-popper-available-width",`${ve}px`),st.setProperty("--radix-popper-available-height",`${we}px`),st.setProperty("--radix-popper-anchor-width",`${Te}px`),st.setProperty("--radix-popper-anchor-height",`${pt}px`)}}),_&&kie({element:_,padding:l}),Mie({arrowWidth:E,arrowHeight:j}),h&&jie({strategy:"referenceHidden",...B})]}),[I,te]=k7(O),$=Yt(g);an(()=>{U&&($==null||$())},[U,$]);const V=(q=A.arrow)==null?void 0:q.x,W=(Z=A.arrow)==null?void 0:Z.y,ee=((Y=A.arrow)==null?void 0:Y.centerOffset)!==0,[ie,G]=p.useState();return an(()=>{x&&G(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:U?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(J=A.transformOrigin)==null?void 0:J.x,(se=A.transformOrigin)==null?void 0:se.y].join(" "),...((Q=A.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Tie,{scope:r,placedSide:I,onArrowChange:S,arrowX:V,arrowY:W,shouldHideArrow:ee,children:o.jsx(ot.div,{"data-side":I,"data-align":te,...m,ref:w,style:{...m.style,animation:U?void 0:"none"}})})})});_7.displayName=DP;var S7="PopperArrow",$ie={top:"bottom",right:"left",bottom:"top",left:"right"},j7=p.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=Oie(S7,n),i=$ie[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(Nie,{...s,ref:r,style:{...s.style,display:"block"}})})});j7.displayName=S7;function Rie(e){return e!==null}var Mie=e=>({name:"transformOrigin",options:e,fn(t){var v,x,b;const{placement:r,rects:n,middlewareData:s}=t,i=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=k7(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,y=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=i?f:`${h}px`,m=`${-c}px`):u==="top"?(g=i?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=i?f:`${y}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=i?f:`${y}px`),{data:{x:g,y:m}}}});function k7(e){const[t,r="center"]=e.split("-");return[t,r]}var E7=x7,FP=w7,BP=_7,UP=j7;function Iie(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var xs=e=>{const{present:t,children:r}=e,n=Lie(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),a=xt(n.ref,Die(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:a}):null};xs.displayName="Presence";function Lie(e){const[t,r]=p.useState(),n=p.useRef({}),s=p.useRef(e),a=p.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Iie(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Ev(n.current);a.current=l==="mounted"?u:"none"},[l]),an(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,y=Ev(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),an(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=y=>{const m=Ev(n.current).includes(y.animationName);if(y.target===t&&m&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=y=>{y.target===t&&(a.current=Ev(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Ev(e){return(e==null?void 0:e.animationName)||"none"}function Die(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function li({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Fie({defaultProp:t,onChange:r}),a=e!==void 0,i=a?e:n,l=Yt(r),c=p.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[i,c]}function Fie({defaultProp:e,onChange:t}){const r=p.useState(e),[n]=r,s=p.useRef(n),a=Yt(t);return p.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var Bie="VisuallyHidden",zP=p.forwardRef((e,t)=>o.jsx(ot.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));zP.displayName=Bie;var Uie=zP,[Aw,zKe]=la("Tooltip",[bh]),qP=bh(),N7="TooltipProvider",zie=700,vM="tooltip.open",[qie,C7]=Aw(N7),P7=e=>{const{__scopeTooltip:t,delayDuration:r=zie,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[i,l]=p.useState(!0),c=p.useRef(!1),u=p.useRef(0);return p.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),o.jsx(qie,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};P7.displayName=N7;var A7="Tooltip",[qKe,Tw]=Aw(A7),yE="TooltipTrigger",Wie=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Tw(yE,r),a=C7(yE,r),i=qP(r),l=p.useRef(null),c=xt(t,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(FP,{asChild:!0,...i,children:o.jsx(ot.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Be(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Be(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Be(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Be(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Be(e.onBlur,s.onClose),onClick:Be(e.onClick,s.onClose)})})});Wie.displayName=yE;var Vie="TooltipPortal",[WKe,Hie]=Aw(Vie,{forceMount:void 0}),Mf="TooltipContent",T7=p.forwardRef((e,t)=>{const r=Hie(Mf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=Tw(Mf,e.__scopeTooltip);return o.jsx(xs,{present:n||i.open,children:i.disableHoverableContent?o.jsx(O7,{side:s,...a,ref:t}):o.jsx(Kie,{side:s,...a,ref:t})})}),Kie=p.forwardRef((e,t)=>{const r=Tw(Mf,e.__scopeTooltip),n=C7(Mf,e.__scopeTooltip),s=p.useRef(null),a=xt(t,s),[i,l]=p.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=p.useCallback(()=>{l(null),f(!1)},[f]),y=p.useCallback((g,m)=>{const v=g.currentTarget,x={x:g.clientX,y:g.clientY},b=Xie(x,v.getBoundingClientRect()),w=Qie(x,b),_=Zie(m.getBoundingClientRect()),S=toe([...w,..._]);l(S),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const g=v=>y(v,d),m=v=>y(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[c,d,y,h]),p.useEffect(()=>{if(i){const g=m=>{const v=m.target,x={x:m.clientX,y:m.clientY},b=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!eoe(x,i);b?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,i,u,h]),o.jsx(O7,{...e,ref:a})}),[Gie,Yie]=Aw(A7,{isInside:!1}),O7=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=Tw(Mf,r),u=qP(r),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(vM,d),()=>document.removeEventListener(vM,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const y=h.target;y!=null&&y.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(n7,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(BP,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(AP,{children:n}),o.jsx(Gie,{scope:r,isInside:!0,children:o.jsx(Uie,{id:c.contentId,role:"tooltip",children:s||n})})]})})});T7.displayName=Mf;var $7="TooltipArrow",Jie=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=qP(r);return Yie($7,r).isInside?null:o.jsx(UP,{...s,...n,ref:t})});Jie.displayName=$7;function Xie(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Qie(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Zie(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function eoe(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function toe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),roe(t)}function roe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var noe=P7,R7=T7;function M7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=M7(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Qt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=M7(e))&&(n&&(n+=" "),n+=t);return n}const WP="-",soe=e=>{const t=ioe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(WP);return l[0]===""&&l.length!==1&&l.shift(),I7(l,t)||aoe(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},I7=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?I7(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(WP);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},xM=/^\[(.+)\]$/,aoe=e=>{if(xM.test(e)){const t=xM.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ioe=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return loe(Object.entries(e.classGroups),r).forEach(([a,i])=>{vE(i,n,a,t)}),n},vE=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:bM(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(ooe(s)){vE(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{vE(i,bM(t,a),r,n)})})},bM=(e,t)=>{let r=e;return t.split(WP).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ooe=e=>e.isThemeGetter,loe=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,s]}):e,coe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},L7="!",uoe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===s&&(n||l.slice(v,v+a)===t)){c.push(l.slice(d,v)),d=v+a;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),y=h.startsWith(L7),g=y?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:i}):i},doe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},foe=e=>({cache:coe(e.cacheSize),parseClassName:uoe(e),...soe(e)}),hoe=/\s+/,poe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(hoe);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:y}=r(u);let g=!!y,m=n(g?h.substring(0,y):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=doe(d).join(":"),x=f?v+L7:v,b=x+m;if(a.includes(b))continue;a.push(b);const w=s(m,g);for(let _=0;_<w.length;++_){const S=w[_];a.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function moe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=D7(t))&&(n&&(n+=" "),n+=r);return n}const D7=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=D7(e[n]))&&(r&&(r+=" "),r+=t);return r};function goe(e,...t){let r,n,s,a=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=foe(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=poe(c,r);return s(c,d),d}return function(){return a(moe.apply(null,arguments))}}const Cr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},F7=/^\[(?:([a-z-]+):)?(.+)\]$/i,yoe=/^\d+\/\d+$/,voe=new Set(["px","full","screen"]),xoe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,boe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,woe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_oe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Soe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,no=e=>Xd(e)||voe.has(e)||yoe.test(e),nl=e=>wh(e,"length",Toe),Xd=e=>!!e&&!Number.isNaN(Number(e)),hS=e=>wh(e,"number",Xd),xp=e=>!!e&&Number.isInteger(Number(e)),joe=e=>e.endsWith("%")&&Xd(e.slice(0,-1)),It=e=>F7.test(e),sl=e=>xoe.test(e),koe=new Set(["length","size","percentage"]),Eoe=e=>wh(e,koe,B7),Noe=e=>wh(e,"position",B7),Coe=new Set(["image","url"]),Poe=e=>wh(e,Coe,$oe),Aoe=e=>wh(e,"",Ooe),bp=()=>!0,wh=(e,t,r)=>{const n=F7.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Toe=e=>boe.test(e)&&!woe.test(e),B7=()=>!1,Ooe=e=>_oe.test(e),$oe=e=>Soe.test(e),Roe=()=>{const e=Cr("colors"),t=Cr("spacing"),r=Cr("blur"),n=Cr("brightness"),s=Cr("borderColor"),a=Cr("borderRadius"),i=Cr("borderSpacing"),l=Cr("borderWidth"),c=Cr("contrast"),u=Cr("grayscale"),d=Cr("hueRotate"),f=Cr("invert"),h=Cr("gap"),y=Cr("gradientColorStops"),g=Cr("gradientColorStopPositions"),m=Cr("inset"),v=Cr("margin"),x=Cr("opacity"),b=Cr("padding"),w=Cr("saturate"),_=Cr("scale"),S=Cr("sepia"),k=Cr("skew"),E=Cr("space"),j=Cr("translate"),N=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",It,t],R=()=>[It,t],B=()=>["",no,nl],z=()=>["auto",Xd,It],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",It],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Xd,It];return{cacheSize:500,separator:":",theme:{colors:[bp],spacing:[no,nl],blur:["none","",sl,It],brightness:$(),borderColor:[e],borderRadius:["none","","full",sl,It],borderSpacing:R(),borderWidth:B(),contrast:$(),grayscale:I(),hueRotate:$(),invert:I(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[joe,nl],inset:P(),margin:P(),opacity:$(),padding:R(),saturate:$(),scale:$(),sepia:I(),skew:$(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",It]}],container:["container"],columns:[{columns:[sl]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),It]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xp,It]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",It]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",xp,It]}],"grid-cols":[{"grid-cols":[bp]}],"col-start-end":[{col:["auto",{span:["full",xp,It]},It]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[bp]}],"row-start-end":[{row:["auto",{span:[xp,It]},It]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",It]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",It]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",It,t]}],"min-w":[{"min-w":[It,t,"min","max","fit"]}],"max-w":[{"max-w":[It,t,"none","full","min","max","fit","prose",{screen:[sl]},sl]}],h:[{h:[It,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[It,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sl,nl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hS]}],"font-family":[{font:[bp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",It]}],"line-clamp":[{"line-clamp":["none",Xd,hS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",no,It]}],"list-image":[{"list-image":["none",It]}],"list-style-type":[{list:["none","disc","decimal",It]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",no,nl]}],"underline-offset":[{"underline-offset":["auto",no,It]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",It]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",It]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),Noe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Eoe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Poe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[no,It]}],"outline-w":[{outline:[no,nl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[no,nl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sl,Aoe]}],"shadow-color":[{shadow:[bp]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",sl,It]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",It]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",It]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",It]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[xp,It]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",It]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",It]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",It]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[no,nl,hS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Moe=goe(Roe);function le(...e){return Moe(Qt(e))}function gm(e){const t=String(e),n=parseInt(t,10).toString(16).padStart(8,"0").toLowerCase(),s=n.slice(0,8),a=n.slice(0,4),i="4"+n.slice(1,4),l="8"+n.slice(2,5),c=n+n+n+n;return`${s}-${a}-${i}-${l}-${c.slice(0,12)}`}const Ioe=noe,Loe=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(R7,{ref:n,sideOffset:t,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Loe.displayName=R7.displayName;var _h=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Eu=typeof window>"u"||"Deno"in globalThis;function ma(){}function Doe(e,t){return typeof e=="function"?e(t):e}function xE(e){return typeof e=="number"&&e>=0&&e!==1/0}function U7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qd(e,t){return typeof e=="function"?e(t):e}function Ja(e,t){return typeof e=="function"?e(t):e}function wM(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==VP(i,t.options))return!1}else if(!ng(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function _M(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Nu(t.options.mutationKey)!==Nu(a))return!1}else if(!ng(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function VP(e,t){return((t==null?void 0:t.queryKeyHashFn)||Nu)(e)}function Nu(e){return JSON.stringify(e,(t,r)=>bE(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ng(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!ng(e[r],t[r])):!1}function z7(e,t){if(e===t)return e;const r=SM(e)&&SM(t);if(r||bE(e)&&bE(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=z7(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:l}return t}function Tx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function SM(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function bE(e){if(!jM(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!jM(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jM(e){return Object.prototype.toString.call(e)==="[object Object]"}function Foe(e){return new Promise(t=>{setTimeout(t,e)})}function wE(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?z7(e,t):t}function Boe(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Uoe(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var HP=Symbol();function q7(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===HP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Qc,_l,df,S6,zoe=(S6=class extends _h{constructor(){super();St(this,Qc);St(this,_l);St(this,df);it(this,df,t=>{if(!Eu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){re(this,_l)||this.setEventListener(re(this,df))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,_l))==null||t.call(this),it(this,_l,void 0))}setEventListener(t){var r;it(this,df,t),(r=re(this,_l))==null||r.call(this),it(this,_l,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){re(this,Qc)!==t&&(it(this,Qc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof re(this,Qc)=="boolean"?re(this,Qc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Qc=new WeakMap,_l=new WeakMap,df=new WeakMap,S6),KP=new zoe,ff,Sl,hf,j6,qoe=(j6=class extends _h{constructor(){super();St(this,ff,!0);St(this,Sl);St(this,hf);it(this,hf,t=>{if(!Eu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){re(this,Sl)||this.setEventListener(re(this,hf))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,Sl))==null||t.call(this),it(this,Sl,void 0))}setEventListener(t){var r;it(this,hf,t),(r=re(this,Sl))==null||r.call(this),it(this,Sl,t(this.setOnline.bind(this)))}setOnline(t){re(this,ff)!==t&&(it(this,ff,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return re(this,ff)}},ff=new WeakMap,Sl=new WeakMap,hf=new WeakMap,j6),Ox=new qoe;function _E(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function Woe(e){return Math.min(1e3*2**e,3e4)}function W7(e){return(e??"online")==="online"?Ox.isOnline():!0}var V7=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function pS(e){return e instanceof V7}function H7(e){let t=!1,r=0,n=!1,s;const a=_E(),i=m=>{var v;n||(h(new V7(m)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>KP.isFocused()&&(e.networkMode==="always"||Ox.isOnline())&&e.canRun(),d=()=>W7(e.networkMode)&&e.canRun(),f=m=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,m),s==null||s(),a.resolve(m))},h=m=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,m),s==null||s(),a.reject(m))},y=()=>new Promise(m=>{var v;s=x=>{(n||u())&&m(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;s=void 0,n||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(n)return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(f).catch(x=>{var k;if(n)return;const b=e.retry??(Eu?0:3),w=e.retryDelay??Woe,_=typeof w=="function"?w(r,x):w,S=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,x);if(t||!S){h(x);return}r++,(k=e.onFail)==null||k.call(e,r,x),Foe(_).then(()=>u()?void 0:y()).then(()=>{t?h(x):g()})})};return{promise:a,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():y().then(g),a)}}function Voe(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var xn=Voe(),Zc,k6,K7=(k6=class{constructor(){St(this,Zc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xE(this.gcTime)&&it(this,Zc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Eu?1/0:5*60*1e3))}clearGcTimeout(){re(this,Zc)&&(clearTimeout(re(this,Zc)),it(this,Zc,void 0))}},Zc=new WeakMap,k6),pf,mf,pa,Gn,iy,eu,Va,io,E6,Hoe=(E6=class extends K7{constructor(t){super();St(this,Va);St(this,pf);St(this,mf);St(this,pa);St(this,Gn);St(this,iy);St(this,eu);it(this,eu,!1),it(this,iy,t.defaultOptions),this.setOptions(t.options),this.observers=[],it(this,pa,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,it(this,pf,Koe(this.options)),this.state=t.state??re(this,pf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=re(this,Gn))==null?void 0:t.promise}setOptions(t){this.options={...re(this,iy),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&re(this,pa).remove(this)}setData(t,r){const n=wE(this.state.data,t,this.options);return Lt(this,Va,io).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Lt(this,Va,io).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=re(this,Gn))==null?void 0:n.promise;return(s=re(this,Gn))==null||s.cancel(t),r?r.then(ma).catch(ma):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(re(this,pf))}isActive(){return this.observers.some(t=>Ja(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===HP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!U7(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=re(this,Gn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=re(this,Gn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),re(this,pa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(re(this,Gn)&&(re(this,eu)?re(this,Gn).cancel({revert:!0}):re(this,Gn).cancelRetry()),this.scheduleGc()),re(this,pa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,Va,io).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(re(this,Gn))return re(this,Gn).continueRetry(),re(this,Gn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(it(this,eu,!0),n.signal)})},a=()=>{const f=q7(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),it(this,eu,!1),this.options.persister?this.options.persister(f,h,this):f(h)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),it(this,mf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&Lt(this,Va,io).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,y,g,m;pS(f)&&f.silent||Lt(this,Va,io).call(this,{type:"error",error:f}),pS(f)||((y=(h=re(this,pa).config).onError)==null||y.call(h,f,this),(m=(g=re(this,pa).config).onSettled)==null||m.call(g,this.state.data,f,this)),this.scheduleGc()};return it(this,Gn,H7({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,y,g,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(y=(h=re(this,pa).config).onSuccess)==null||y.call(h,f,this),(m=(g=re(this,pa).config).onSettled)==null||m.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Lt(this,Va,io).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Lt(this,Va,io).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Va,io).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),re(this,Gn).start()}},pf=new WeakMap,mf=new WeakMap,pa=new WeakMap,Gn=new WeakMap,iy=new WeakMap,eu=new WeakMap,Va=new WeakSet,io=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...G7(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return pS(s)&&s.revert&&re(this,mf)?{...re(this,mf),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),xn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),re(this,pa).notify({query:this,type:"updated",action:t})})},E6);function G7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:W7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Koe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var _i,N6,Goe=(N6=class extends _h{constructor(t={}){super();St(this,_i);this.config=t,it(this,_i,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??VP(s,r);let i=this.get(a);return i||(i=new Hoe({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){re(this,_i).has(t.queryHash)||(re(this,_i).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=re(this,_i).get(t.queryHash);r&&(t.destroy(),r===t&&re(this,_i).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return re(this,_i).get(t)}getAll(){return[...re(this,_i).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>wM(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>wM(t,n)):r}notify(t){xn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){xn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_i=new WeakMap,N6),Si,cs,tu,ji,ol,C6,Yoe=(C6=class extends K7{constructor(t){super();St(this,ji);St(this,Si);St(this,cs);St(this,tu);this.mutationId=t.mutationId,it(this,cs,t.mutationCache),it(this,Si,[]),this.state=t.state||Y7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){re(this,Si).includes(t)||(re(this,Si).push(t),this.clearGcTimeout(),re(this,cs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){it(this,Si,re(this,Si).filter(r=>r!==t)),this.scheduleGc(),re(this,cs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){re(this,Si).length||(this.state.status==="pending"?this.scheduleGc():re(this,cs).remove(this))}continue(){var t;return((t=re(this,tu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,i,l,c,u,d,f,h,y,g,m,v,x,b,w,_,S,k,E;it(this,tu,H7({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,N)=>{Lt(this,ji,ol).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{Lt(this,ji,ol).call(this,{type:"pause"})},onContinue:()=>{Lt(this,ji,ol).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>re(this,cs).canRun(this)}));const r=this.state.status==="pending",n=!re(this,tu).canStart();try{if(!r){Lt(this,ji,ol).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(s=re(this,cs).config).onMutate)==null?void 0:a.call(s,t,this));const N=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));N!==this.state.context&&Lt(this,ji,ol).call(this,{type:"pending",context:N,variables:t,isPaused:n})}const j=await re(this,tu).start();return await((u=(c=re(this,cs).config).onSuccess)==null?void 0:u.call(c,j,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,j,t,this.state.context)),await((y=(h=re(this,cs).config).onSettled)==null?void 0:y.call(h,j,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,j,null,t,this.state.context)),Lt(this,ji,ol).call(this,{type:"success",data:j}),j}catch(j){try{throw await((x=(v=re(this,cs).config).onError)==null?void 0:x.call(v,j,t,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,j,t,this.state.context)),await((S=(_=re(this,cs).config).onSettled)==null?void 0:S.call(_,void 0,j,this.state.variables,this.state.context,this)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,void 0,j,t,this.state.context)),j}finally{Lt(this,ji,ol).call(this,{type:"error",error:j})}}finally{re(this,cs).runNext(this)}}},Si=new WeakMap,cs=new WeakMap,tu=new WeakMap,ji=new WeakSet,ol=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xn.batch(()=>{re(this,Si).forEach(n=>{n.onMutationUpdate(t)}),re(this,cs).notify({mutation:this,type:"updated",action:t})})},C6);function Y7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hs,oy,P6,Joe=(P6=class extends _h{constructor(t={}){super();St(this,Hs);St(this,oy);this.config=t,it(this,Hs,new Map),it(this,oy,Date.now())}build(t,r,n){const s=new Yoe({mutationCache:this,mutationId:++Zy(this,oy)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Nv(t),n=re(this,Hs).get(r)??[];n.push(t),re(this,Hs).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Nv(t);if(re(this,Hs).has(r)){const s=(n=re(this,Hs).get(r))==null?void 0:n.filter(a=>a!==t);s&&(s.length===0?re(this,Hs).delete(r):re(this,Hs).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=re(this,Hs).get(Nv(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=re(this,Hs).get(Nv(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){xn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...re(this,Hs).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>_M(r,n))}findAll(t={}){return this.getAll().filter(r=>_M(t,r))}notify(t){xn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return xn.batch(()=>Promise.all(t.map(r=>r.continue().catch(ma))))}},Hs=new WeakMap,oy=new WeakMap,P6);function Nv(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function kM(e){return{onFetch:(t,r)=>{var d,f,h,y,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((y=t.state.data)==null?void 0:y.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=q7(t.options,t.fetchOptions),b=async(w,_,S)=>{if(m)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const k={queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};v(k);const E=await x(k),{maxPages:j}=t.options,N=S?Uoe:Boe;return{pages:N(w.pages,E,j),pageParams:N(w.pageParams,_,j)}};if(s&&a.length){const w=s==="backward",_=w?Xoe:EM,S={pages:a,pageParams:i},k=_(n,S);l=await b(S,k,w)}else{const w=e??a.length;do{const _=c===0?i[0]??n.initialPageParam:EM(n,l);if(c>0&&_==null)break;l=await b(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function EM(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Xoe(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Jr,jl,kl,gf,yf,El,vf,xf,A6,Qoe=(A6=class{constructor(e={}){St(this,Jr);St(this,jl);St(this,kl);St(this,gf);St(this,yf);St(this,El);St(this,vf);St(this,xf);it(this,Jr,e.queryCache||new Goe),it(this,jl,e.mutationCache||new Joe),it(this,kl,e.defaultOptions||{}),it(this,gf,new Map),it(this,yf,new Map),it(this,El,0)}mount(){Zy(this,El)._++,re(this,El)===1&&(it(this,vf,KP.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,Jr).onFocus())})),it(this,xf,Ox.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,Jr).onOnline())})))}unmount(){var e,t;Zy(this,El)._--,re(this,El)===0&&((e=re(this,vf))==null||e.call(this),it(this,vf,void 0),(t=re(this,xf))==null||t.call(this),it(this,xf,void 0))}isFetching(e){return re(this,Jr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return re(this,jl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=re(this,Jr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=re(this,Jr).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Qd(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return re(this,Jr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=re(this,Jr).get(n.queryHash),a=s==null?void 0:s.state.data,i=Doe(t,a);if(i!==void 0)return re(this,Jr).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return xn.batch(()=>re(this,Jr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=re(this,Jr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=re(this,Jr);xn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=re(this,Jr),n={type:"active",...e};return xn.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=xn.batch(()=>re(this,Jr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ma).catch(ma)}invalidateQueries(e={},t={}){return xn.batch(()=>{if(re(this,Jr).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=xn.batch(()=>re(this,Jr).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(ma)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(ma)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=re(this,Jr).build(this,t);return r.isStaleByTime(Qd(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ma).catch(ma)}fetchInfiniteQuery(e){return e.behavior=kM(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ma).catch(ma)}ensureInfiniteQueryData(e){return e.behavior=kM(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ox.isOnline()?re(this,jl).resumePausedMutations():Promise.resolve()}getQueryCache(){return re(this,Jr)}getMutationCache(){return re(this,jl)}getDefaultOptions(){return re(this,kl)}setDefaultOptions(e){it(this,kl,e)}setQueryDefaults(e,t){re(this,gf).set(Nu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...re(this,gf).values()];let r={};return t.forEach(n=>{ng(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){re(this,yf).set(Nu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...re(this,yf).values()];let r={};return t.forEach(n=>{ng(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...re(this,kl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=VP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===HP&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...re(this,kl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){re(this,Jr).clear(),re(this,jl).clear()}},Jr=new WeakMap,jl=new WeakMap,kl=new WeakMap,gf=new WeakMap,yf=new WeakMap,El=new WeakMap,vf=new WeakMap,xf=new WeakMap,A6),_s,Ht,ly,us,ru,bf,Nl,ki,cy,wf,_f,nu,su,Cl,Sf,or,Xp,SE,jE,kE,EE,NE,CE,PE,J7,T6,Zoe=(T6=class extends _h{constructor(t,r){super();St(this,or);St(this,_s);St(this,Ht);St(this,ly);St(this,us);St(this,ru);St(this,bf);St(this,Nl);St(this,ki);St(this,cy);St(this,wf);St(this,_f);St(this,nu);St(this,su);St(this,Cl);St(this,Sf,new Set);this.options=r,it(this,_s,t),it(this,ki,null),it(this,Nl,_E()),this.options.experimental_prefetchInRender||re(this,Nl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(re(this,Ht).addObserver(this),NM(re(this,Ht),this.options)?Lt(this,or,Xp).call(this):this.updateResult(),Lt(this,or,EE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return AE(re(this,Ht),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return AE(re(this,Ht),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Lt(this,or,NE).call(this),Lt(this,or,CE).call(this),re(this,Ht).removeObserver(this)}setOptions(t,r){const n=this.options,s=re(this,Ht);if(this.options=re(this,_s).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ja(this.options.enabled,re(this,Ht))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Lt(this,or,PE).call(this),re(this,Ht).setOptions(this.options),n._defaulted&&!Tx(this.options,n)&&re(this,_s).getQueryCache().notify({type:"observerOptionsUpdated",query:re(this,Ht),observer:this});const a=this.hasListeners();a&&CM(re(this,Ht),s,this.options,n)&&Lt(this,or,Xp).call(this),this.updateResult(r),a&&(re(this,Ht)!==s||Ja(this.options.enabled,re(this,Ht))!==Ja(n.enabled,re(this,Ht))||Qd(this.options.staleTime,re(this,Ht))!==Qd(n.staleTime,re(this,Ht)))&&Lt(this,or,SE).call(this);const i=Lt(this,or,jE).call(this);a&&(re(this,Ht)!==s||Ja(this.options.enabled,re(this,Ht))!==Ja(n.enabled,re(this,Ht))||i!==re(this,Cl))&&Lt(this,or,kE).call(this,i)}getOptimisticResult(t){const r=re(this,_s).getQueryCache().build(re(this,_s),t),n=this.createResult(r,t);return tle(this,n)&&(it(this,us,n),it(this,bf,this.options),it(this,ru,re(this,Ht).state)),n}getCurrentResult(){return re(this,us)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){re(this,Sf).add(t)}getCurrentQuery(){return re(this,Ht)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=re(this,_s).defaultQueryOptions(t),n=re(this,_s).getQueryCache().build(re(this,_s),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Lt(this,or,Xp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),re(this,us)))}createResult(t,r){var j;const n=re(this,Ht),s=this.options,a=re(this,us),i=re(this,ru),l=re(this,bf),u=t!==n?t.state:re(this,ly),{state:d}=t;let f={...d},h=!1,y;if(r._optimisticResults){const N=this.hasListeners(),C=!N&&NM(t,r),P=N&&CM(t,n,r,s);(C||P)&&(f={...f,...G7(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:v}=f;if(r.select&&f.data!==void 0)if(a&&f.data===(i==null?void 0:i.data)&&r.select===re(this,cy))y=re(this,wf);else try{it(this,cy,r.select),y=r.select(f.data),y=wE(a==null?void 0:a.data,y,r),it(this,wf,y),it(this,ki,null)}catch(N){it(this,ki,N)}else y=f.data;if(r.placeholderData!==void 0&&y===void 0&&v==="pending"){let N;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))N=a.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((j=re(this,_f))==null?void 0:j.state.data,re(this,_f)):r.placeholderData,r.select&&N!==void 0)try{N=r.select(N),it(this,ki,null)}catch(C){it(this,ki,C)}N!==void 0&&(v="success",y=wE(a==null?void 0:a.data,N,r),h=!0)}re(this,ki)&&(g=re(this,ki),y=re(this,wf),m=Date.now(),v="error");const x=f.fetchStatus==="fetching",b=v==="pending",w=v==="error",_=b&&x,S=y!==void 0,E={status:v,fetchStatus:f.fetchStatus,isPending:b,isSuccess:v==="success",isError:w,isInitialLoading:_,isLoading:_,data:y,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:w&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&S,isStale:GP(t,r),refetch:this.refetch,promise:re(this,Nl)};if(this.options.experimental_prefetchInRender){const N=R=>{E.status==="error"?R.reject(E.error):E.data!==void 0&&R.resolve(E.data)},C=()=>{const R=it(this,Nl,E.promise=_E());N(R)},P=re(this,Nl);switch(P.status){case"pending":t.queryHash===n.queryHash&&N(P);break;case"fulfilled":(E.status==="error"||E.data!==P.value)&&C();break;case"rejected":(E.status!=="error"||E.error!==P.reason)&&C();break}}return E}updateResult(t){const r=re(this,us),n=this.createResult(re(this,Ht),this.options);if(it(this,ru,re(this,Ht).state),it(this,bf,this.options),re(this,ru).data!==void 0&&it(this,_f,re(this,Ht)),Tx(n,r))return;it(this,us,n);const s={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!re(this,Sf).size)return!0;const c=new Set(l??re(this,Sf));return this.options.throwOnError&&c.add("error"),Object.keys(re(this,us)).some(u=>{const d=u;return re(this,us)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),Lt(this,or,J7).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Lt(this,or,EE).call(this)}},_s=new WeakMap,Ht=new WeakMap,ly=new WeakMap,us=new WeakMap,ru=new WeakMap,bf=new WeakMap,Nl=new WeakMap,ki=new WeakMap,cy=new WeakMap,wf=new WeakMap,_f=new WeakMap,nu=new WeakMap,su=new WeakMap,Cl=new WeakMap,Sf=new WeakMap,or=new WeakSet,Xp=function(t){Lt(this,or,PE).call(this);let r=re(this,Ht).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ma)),r},SE=function(){Lt(this,or,NE).call(this);const t=Qd(this.options.staleTime,re(this,Ht));if(Eu||re(this,us).isStale||!xE(t))return;const n=U7(re(this,us).dataUpdatedAt,t)+1;it(this,nu,setTimeout(()=>{re(this,us).isStale||this.updateResult()},n))},jE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(re(this,Ht)):this.options.refetchInterval)??!1},kE=function(t){Lt(this,or,CE).call(this),it(this,Cl,t),!(Eu||Ja(this.options.enabled,re(this,Ht))===!1||!xE(re(this,Cl))||re(this,Cl)===0)&&it(this,su,setInterval(()=>{(this.options.refetchIntervalInBackground||KP.isFocused())&&Lt(this,or,Xp).call(this)},re(this,Cl)))},EE=function(){Lt(this,or,SE).call(this),Lt(this,or,kE).call(this,Lt(this,or,jE).call(this))},NE=function(){re(this,nu)&&(clearTimeout(re(this,nu)),it(this,nu,void 0))},CE=function(){re(this,su)&&(clearInterval(re(this,su)),it(this,su,void 0))},PE=function(){const t=re(this,_s).getQueryCache().build(re(this,_s),this.options);if(t===re(this,Ht))return;const r=re(this,Ht);it(this,Ht,t),it(this,ly,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},J7=function(t){xn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(re(this,us))}),re(this,_s).getQueryCache().notify({query:re(this,Ht),type:"observerResultsUpdated"})})},T6);function ele(e,t){return Ja(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function NM(e,t){return ele(e,t)||e.state.data!==void 0&&AE(e,t,t.refetchOnMount)}function AE(e,t,r){if(Ja(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&GP(e,t)}return!1}function CM(e,t,r,n){return(e!==t||Ja(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&GP(e,r)}function GP(e,t){return Ja(t.enabled,e)!==!1&&e.isStaleByTime(Qd(t.staleTime,e))}function tle(e,t){return!Tx(e.getCurrentResult(),t)}var Pl,Al,Ss,mo,To,O0,TE,O6,rle=(O6=class extends _h{constructor(r,n){super();St(this,To);St(this,Pl);St(this,Al);St(this,Ss);St(this,mo);it(this,Pl,r),this.setOptions(n),this.bindMethods(),Lt(this,To,O0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=re(this,Pl).defaultMutationOptions(r),Tx(this.options,n)||re(this,Pl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:re(this,Ss),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Nu(n.mutationKey)!==Nu(this.options.mutationKey)?this.reset():((s=re(this,Ss))==null?void 0:s.state.status)==="pending"&&re(this,Ss).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=re(this,Ss))==null||r.removeObserver(this)}onMutationUpdate(r){Lt(this,To,O0).call(this),Lt(this,To,TE).call(this,r)}getCurrentResult(){return re(this,Al)}reset(){var r;(r=re(this,Ss))==null||r.removeObserver(this),it(this,Ss,void 0),Lt(this,To,O0).call(this),Lt(this,To,TE).call(this)}mutate(r,n){var s;return it(this,mo,n),(s=re(this,Ss))==null||s.removeObserver(this),it(this,Ss,re(this,Pl).getMutationCache().build(re(this,Pl),this.options)),re(this,Ss).addObserver(this),re(this,Ss).execute(r)}},Pl=new WeakMap,Al=new WeakMap,Ss=new WeakMap,mo=new WeakMap,To=new WeakSet,O0=function(){var n;const r=((n=re(this,Ss))==null?void 0:n.state)??Y7();it(this,Al,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},TE=function(r){xn.batch(()=>{var n,s,a,i,l,c,u,d;if(re(this,mo)&&this.hasListeners()){const f=re(this,Al).variables,h=re(this,Al).context;(r==null?void 0:r.type)==="success"?((s=(n=re(this,mo)).onSuccess)==null||s.call(n,r.data,f,h),(i=(a=re(this,mo)).onSettled)==null||i.call(a,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=re(this,mo)).onError)==null||c.call(l,r.error,f,h),(d=(u=re(this,mo)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(re(this,Al))})})},O6),X7=p.createContext(void 0),Us=e=>{const t=p.useContext(X7);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},nle=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(X7.Provider,{value:e,children:t})),Q7=p.createContext(!1),sle=()=>p.useContext(Q7);Q7.Provider;function ale(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ile=p.createContext(ale()),ole=()=>p.useContext(ile);function Z7(e,t){return typeof e=="function"?e(...t):!!e}function e9(){}var lle=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},cle=e=>{p.useEffect(()=>{e.clearReset()},[e])},ule=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&Z7(r,[e.error,n]),dle=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},fle=(e,t)=>e.isLoading&&e.isFetching&&!t,hle=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,PM=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function ple(e,t,r){var d,f,h,y,g;const n=Us(),s=sle(),a=ole(),i=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,i),i._optimisticResults=s?"isRestoring":"optimistic",dle(i),lle(i,a),cle(a);const l=!n.getQueryCache().get(i.queryHash),[c]=p.useState(()=>new t(n,i)),u=c.getOptimisticResult(i);if(p.useSyncExternalStore(p.useCallback(m=>{const v=s?()=>{}:c.subscribe(xn.batchCalls(m));return c.updateResult(),v},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),hle(i,u))throw PM(i,c,a);if(ule({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw u.error;if((y=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||y.call(h,i,u),i.experimental_prefetchInRender&&!Eu&&fle(u,s)){const m=l?PM(i,c,a):(g=n.getQueryCache().get(i.queryHash))==null?void 0:g.promise;m==null||m.catch(e9).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Jt(e,t){return ple(e,Zoe)}function sa(e,t){const r=Us(),[n]=p.useState(()=>new rle(r,e));p.useEffect(()=>{n.setOptions(e)},[n,e]);const s=p.useSyncExternalStore(p.useCallback(i=>n.subscribe(xn.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=p.useCallback((i,l)=>{n.mutate(i,l).catch(e9)},[n]);if(s.error&&Z7(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sg.apply(this,arguments)}var Rl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rl||(Rl={}));const AM="popstate";function mle(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:i,hash:l}=n.location;return OE("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:$x(s)}return yle(t,r,null,e)}function sn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function t9(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gle(){return Math.random().toString(36).substr(2,8)}function TM(e,t){return{usr:e.state,key:e.key,idx:t}}function OE(e,t,r,n){return r===void 0&&(r=null),sg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Sh(t):t,{state:r,key:t&&t.key||n||gle()})}function $x(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Sh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function yle(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,l=Rl.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(sg({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Rl.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:m.location,delta:x})}function h(v,x){l=Rl.Push;let b=OE(m.location,v,x);u=d()+1;let w=TM(b,u),_=m.createHref(b);try{i.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}a&&c&&c({action:l,location:m.location,delta:1})}function y(v,x){l=Rl.Replace;let b=OE(m.location,v,x);u=d();let w=TM(b,u),_=m.createHref(b);i.replaceState(w,"",_),a&&c&&c({action:l,location:m.location,delta:0})}function g(v){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof v=="string"?v:$x(v);return b=b.replace(/ $/,"%20"),sn(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let m={get action(){return l},get location(){return e(s,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(AM,f),c=v,()=>{s.removeEventListener(AM,f),c=null}},createHref(v){return t(s,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:y,go(v){return i.go(v)}};return m}var OM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(OM||(OM={}));function vle(e,t,r){return r===void 0&&(r="/"),xle(e,t,r,!1)}function xle(e,t,r,n){let s=typeof t=="string"?Sh(t):t,a=YP(s.pathname||"/",r);if(a==null)return null;let i=r9(e);ble(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=Tle(a);l=Ple(i[c],u,n)}return l}function r9(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(sn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Jl([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(sn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),r9(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Nle(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of n9(a.path))s(a,i,c)}),t}function n9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=n9(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ble(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Cle(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const wle=/^:[\w-]+$/,_le=3,Sle=2,jle=1,kle=10,Ele=-2,$M=e=>e==="*";function Nle(e,t){let r=e.split("/"),n=r.length;return r.some($M)&&(n+=Ele),t&&(n+=Sle),r.filter(s=>!$M(s)).reduce((s,a)=>s+(wle.test(a)?_le:a===""?jle:kle),n)}function Cle(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Ple(e,t,r){let{routesMeta:n}=e,s={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=RM({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=RM({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Jl([a,f.pathname]),pathnameBase:Mle(Jl([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Jl([a,f.pathnameBase]))}return i}function RM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Ale(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let m=l[f]||"";i=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return y&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function Ale(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),t9(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Tle(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return t9(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function YP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Ole(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Sh(e):e;return{pathname:r?r.startsWith("/")?r:$le(r,t):t,search:Ile(n),hash:Lle(s)}}function $le(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function mS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rle(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function JP(e,t){let r=Rle(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function XP(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Sh(e):(s=sg({},e),sn(!s.pathname||!s.pathname.includes("?"),mS("?","pathname","search",s)),sn(!s.pathname||!s.pathname.includes("#"),mS("#","pathname","hash",s)),sn(!s.search||!s.search.includes("#"),mS("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Ole(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Jl=e=>e.join("/").replace(/\/\/+/g,"/"),Mle=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ile=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Lle=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Dle(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const s9=["post","put","patch","delete"];new Set(s9);const Fle=["get",...s9];new Set(Fle);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(this,arguments)}const QP=p.createContext(null),Ble=p.createContext(null),hc=p.createContext(null),Ow=p.createContext(null),Ko=p.createContext({outlet:null,matches:[],isDataRoute:!1}),a9=p.createContext(null);function Ule(e,t){let{relative:r}=t===void 0?{}:t;jh()||sn(!1);let{basename:n,navigator:s}=p.useContext(hc),{hash:a,pathname:i,search:l}=o9(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Jl([n,i])),s.createHref({pathname:c,search:l,hash:a})}function jh(){return p.useContext(Ow)!=null}function zs(){return jh()||sn(!1),p.useContext(Ow).location}function i9(e){p.useContext(hc).static||p.useLayoutEffect(e)}function lr(){let{isDataRoute:e}=p.useContext(Ko);return e?ece():zle()}function zle(){jh()||sn(!1);let e=p.useContext(QP),{basename:t,future:r,navigator:n}=p.useContext(hc),{matches:s}=p.useContext(Ko),{pathname:a}=zs(),i=JSON.stringify(JP(s,r.v7_relativeSplatPath)),l=p.useRef(!1);return i9(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=XP(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Jl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,a,e])}function kh(){let{matches:e}=p.useContext(Ko),t=e[e.length-1];return t?t.params:{}}function o9(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(hc),{matches:s}=p.useContext(Ko),{pathname:a}=zs(),i=JSON.stringify(JP(s,n.v7_relativeSplatPath));return p.useMemo(()=>XP(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function qle(e,t){return Wle(e,t)}function Wle(e,t,r,n){jh()||sn(!1);let{navigator:s}=p.useContext(hc),{matches:a}=p.useContext(Ko),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=zs(),d;if(t){var f;let v=typeof t=="string"?Sh(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||sn(!1),d=v}else d=u;let h=d.pathname||"/",y=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=vle(e,{pathname:y}),m=Yle(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Jl([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Jl([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&m?p.createElement(Ow.Provider,{value:{location:ag({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Rl.Pop}},m):m}function Vle(){let e=Zle(),t=Dle(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const Hle=p.createElement(Vle,null);class Kle extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Ko.Provider,{value:this.props.routeContext},p.createElement(a9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gle(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(QP);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Ko.Provider,{value:t},n)}function Yle(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||sn(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:y}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let y,g=!1,m=null,v=null;r&&(y=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||Hle,c&&(u<0&&h===0?(g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,h+1)),b=()=>{let w;return y?w=m:g?w=v:f.route.Component?w=p.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,p.createElement(Gle,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(Kle,{location:r.location,revalidation:r.revalidation,component:m,error:y,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var l9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(l9||{}),Rx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Rx||{});function Jle(e){let t=p.useContext(QP);return t||sn(!1),t}function Xle(e){let t=p.useContext(Ble);return t||sn(!1),t}function Qle(e){let t=p.useContext(Ko);return t||sn(!1),t}function c9(e){let t=Qle(),r=t.matches[t.matches.length-1];return r.route.id||sn(!1),r.route.id}function Zle(){var e;let t=p.useContext(a9),r=Xle(Rx.UseRouteError),n=c9(Rx.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ece(){let{router:e}=Jle(l9.UseNavigateStable),t=c9(Rx.UseNavigateStable),r=p.useRef(!1);return i9(()=>{r.current=!0}),p.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ag({fromRouteId:t},a)))},[e,t])}function tce(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $0(e){let{to:t,replace:r,state:n,relative:s}=e;jh()||sn(!1);let{future:a,static:i}=p.useContext(hc),{matches:l}=p.useContext(Ko),{pathname:c}=zs(),u=lr(),d=XP(t,JP(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function ks(e){sn(!1)}function rce(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Rl.Pop,navigator:a,static:i=!1,future:l}=e;jh()&&sn(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:a,static:i,future:ag({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=Sh(n));let{pathname:d="/",search:f="",hash:h="",state:y=null,key:g="default"}=n,m=p.useMemo(()=>{let v=YP(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:y,key:g},navigationType:s}},[c,d,f,h,y,g,s]);return m==null?null:p.createElement(hc.Provider,{value:u},p.createElement(Ow.Provider,{children:r,value:m}))}function nce(e){let{children:t,location:r}=e;return qle($E(t),r)}new Promise(()=>{});function $E(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let a=[...t,s];if(n.type===p.Fragment){r.push.apply(r,$E(n.props.children,a));return}n.type!==ks&&sn(!1),!n.props.index||!n.props.children||sn(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=$E(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function RE(){return RE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RE.apply(this,arguments)}function sce(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function ace(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ice(e,t){return e.button===0&&(!t||t==="_self")&&!ace(e)}function ME(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function oce(e,t){let r=ME(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const lce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cce="6";try{window.__reactRouterVersion=cce}catch{}const uce="startTransition",MM=hh[uce];function dce(e){let{basename:t,children:r,future:n,window:s}=e,a=p.useRef();a.current==null&&(a.current=mle({window:s,v5Compat:!0}));let i=a.current,[l,c]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&MM?MM(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.useEffect(()=>tce(n),[n]),p.createElement(rce,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const fce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fr=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=sce(t,lce),{basename:y}=p.useContext(hc),g,m=!1;if(typeof u=="string"&&hce.test(u)&&(g=u,fce))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=YP(_.pathname,y);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:m=!0}catch{}let v=Ule(u,{relative:s}),x=pce(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||x(w)}return p.createElement("a",RE({},h,{href:g||v,onClick:m||a?n:b,ref:r,target:c}))});var IM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(IM||(IM={}));var LM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(LM||(LM={}));function pce(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=lr(),u=zs(),d=o9(e,{relative:i});return p.useCallback(f=>{if(ice(f,r)){f.preventDefault();let h=n!==void 0?n:$x(u)===$x(d);c(e,{replace:h,state:s,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,a,i,l])}function $w(e){let t=p.useRef(ME(e)),r=p.useRef(!1),n=zs(),s=p.useMemo(()=>oce(n.search,r.current?null:t.current),[n.search]),a=lr(),i=p.useCallback((l,c)=>{const u=ME(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,i]}function u9(e,t){return function(){return e.apply(t,arguments)}}const{toString:mce}=Object.prototype,{getPrototypeOf:ZP}=Object,{iterator:Rw,toStringTag:d9}=Symbol,Mw=(e=>t=>{const r=mce.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),di=e=>(e=e.toLowerCase(),t=>Mw(t)===e),Iw=e=>t=>typeof t===e,{isArray:Eh}=Array,If=Iw("undefined");function wy(e){return e!==null&&!If(e)&&e.constructor!==null&&!If(e.constructor)&&Fs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const f9=di("ArrayBuffer");function gce(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&f9(e.buffer),t}const yce=Iw("string"),Fs=Iw("function"),h9=Iw("number"),_y=e=>e!==null&&typeof e=="object",vce=e=>e===!0||e===!1,R0=e=>{if(Mw(e)!=="object")return!1;const t=ZP(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(d9 in e)&&!(Rw in e)},xce=e=>{if(!_y(e)||wy(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},bce=di("Date"),wce=di("File"),_ce=di("Blob"),Sce=di("FileList"),jce=e=>_y(e)&&Fs(e.pipe),kce=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fs(e.append)&&((t=Mw(e))==="formdata"||t==="object"&&Fs(e.toString)&&e.toString()==="[object FormData]"))},Ece=di("URLSearchParams"),[Nce,Cce,Pce,Ace]=["ReadableStream","Request","Response","Headers"].map(di),Tce=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sy(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Eh(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(wy(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(n=0;n<i;n++)l=a[n],t.call(null,e[l],l,e)}}function p9(e,t){if(wy(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Vc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,m9=e=>!If(e)&&e!==Vc;function IE(){const{caseless:e,skipUndefined:t}=m9(this)&&this||{},r={},n=(s,a)=>{const i=e&&p9(r,a)||a;R0(r[i])&&R0(s)?r[i]=IE(r[i],s):R0(s)?r[i]=IE({},s):Eh(s)?r[i]=s.slice():(!t||!If(s))&&(r[i]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Sy(arguments[s],n);return r}const Oce=(e,t,r,{allOwnKeys:n}={})=>(Sy(t,(s,a)=>{r&&Fs(s)?e[a]=u9(s,r):e[a]=s},{allOwnKeys:n}),e),$ce=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Rce=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Mce=(e,t,r,n)=>{let s,a,i;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&ZP(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Ice=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Lce=e=>{if(!e)return null;if(Eh(e))return e;let t=e.length;if(!h9(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Dce=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ZP(Uint8Array)),Fce=(e,t)=>{const n=(e&&e[Rw]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},Bce=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Uce=di("HTMLFormElement"),zce=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),DM=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),qce=di("RegExp"),g9=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Sy(r,(s,a)=>{let i;(i=t(s,a,e))!==!1&&(n[a]=i||s)}),Object.defineProperties(e,n)},Wce=e=>{g9(e,(t,r)=>{if(Fs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Fs(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Vce=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return Eh(e)?n(e):n(String(e).split(t)),r},Hce=()=>{},Kce=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Gce(e){return!!(e&&Fs(e.append)&&e[d9]==="FormData"&&e[Rw])}const Yce=e=>{const t=new Array(10),r=(n,s)=>{if(_y(n)){if(t.indexOf(n)>=0)return;if(wy(n))return n;if(!("toJSON"in n)){t[s]=n;const a=Eh(n)?[]:{};return Sy(n,(i,l)=>{const c=r(i,s+1);!If(c)&&(a[l]=c)}),t[s]=void 0,a}}return n};return r(e,0)},Jce=di("AsyncFunction"),Xce=e=>e&&(_y(e)||Fs(e))&&Fs(e.then)&&Fs(e.catch),y9=((e,t)=>e?setImmediate:t?((r,n)=>(Vc.addEventListener("message",({source:s,data:a})=>{s===Vc&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Vc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Fs(Vc.postMessage)),Qce=typeof queueMicrotask<"u"?queueMicrotask.bind(Vc):typeof process<"u"&&process.nextTick||y9,Zce=e=>e!=null&&Fs(e[Rw]),me={isArray:Eh,isArrayBuffer:f9,isBuffer:wy,isFormData:kce,isArrayBufferView:gce,isString:yce,isNumber:h9,isBoolean:vce,isObject:_y,isPlainObject:R0,isEmptyObject:xce,isReadableStream:Nce,isRequest:Cce,isResponse:Pce,isHeaders:Ace,isUndefined:If,isDate:bce,isFile:wce,isBlob:_ce,isRegExp:qce,isFunction:Fs,isStream:jce,isURLSearchParams:Ece,isTypedArray:Dce,isFileList:Sce,forEach:Sy,merge:IE,extend:Oce,trim:Tce,stripBOM:$ce,inherits:Rce,toFlatObject:Mce,kindOf:Mw,kindOfTest:di,endsWith:Ice,toArray:Lce,forEachEntry:Fce,matchAll:Bce,isHTMLForm:Uce,hasOwnProperty:DM,hasOwnProp:DM,reduceDescriptors:g9,freezeMethods:Wce,toObjectSet:Vce,toCamelCase:zce,noop:Hce,toFiniteNumber:Kce,findKey:p9,global:Vc,isContextDefined:m9,isSpecCompliantForm:Gce,toJSONObject:Yce,isAsyncFn:Jce,isThenable:Xce,setImmediate:y9,asap:Qce,isIterable:Zce};function $t(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}me.inherits($t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const v9=$t.prototype,x9={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{x9[e]={value:e}});Object.defineProperties($t,x9);Object.defineProperty(v9,"isAxiosError",{value:!0});$t.from=(e,t,r,n,s,a)=>{const i=Object.create(v9);me.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return $t.call(i,l,c,r,n,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const eue=null;function LE(e){return me.isPlainObject(e)||me.isArray(e)}function b9(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function FM(e,t,r){return e?e.concat(t).map(function(s,a){return s=b9(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function tue(e){return me.isArray(e)&&!e.some(LE)}const rue=me.toFlatObject(me,{},null,function(t){return/^is[A-Z]/.test(t)});function Lw(e,t,r){if(!me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=me.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!me.isUndefined(v[m])});const n=r.metaTokens,s=r.visitor||d,a=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(t);if(!me.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(me.isDate(g))return g.toISOString();if(me.isBoolean(g))return g.toString();if(!c&&me.isBlob(g))throw new $t("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(g)||me.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,m,v){let x=g;if(g&&!v&&typeof g=="object"){if(me.endsWith(m,"{}"))m=n?m:m.slice(0,-2),g=JSON.stringify(g);else if(me.isArray(g)&&tue(g)||(me.isFileList(g)||me.endsWith(m,"[]"))&&(x=me.toArray(g)))return m=b9(m),x.forEach(function(w,_){!(me.isUndefined(w)||w===null)&&t.append(i===!0?FM([m],_,a):i===null?m:m+"[]",u(w))}),!1}return LE(g)?!0:(t.append(FM(v,m,a),u(g)),!1)}const f=[],h=Object.assign(rue,{defaultVisitor:d,convertValue:u,isVisitable:LE});function y(g,m){if(!me.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(g),me.forEach(g,function(x,b){(!(me.isUndefined(x)||x===null)&&s.call(t,x,me.isString(b)?b.trim():b,m,h))===!0&&y(x,m?m.concat(b):[b])}),f.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return y(e),t}function BM(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function eA(e,t){this._pairs=[],e&&Lw(e,this,t)}const w9=eA.prototype;w9.append=function(t,r){this._pairs.push([t,r])};w9.toString=function(t){const r=t?function(n){return t.call(this,n,BM)}:BM;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function nue(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _9(e,t,r){if(!t)return e;const n=r&&r.encode||nue;me.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=me.isURLSearchParams(t)?t.toString():new eA(t,r).toString(n),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class UM{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){me.forEach(this.handlers,function(n){n!==null&&t(n)})}}const S9={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sue=typeof URLSearchParams<"u"?URLSearchParams:eA,aue=typeof FormData<"u"?FormData:null,iue=typeof Blob<"u"?Blob:null,oue={isBrowser:!0,classes:{URLSearchParams:sue,FormData:aue,Blob:iue},protocols:["http","https","file","blob","url","data"]},tA=typeof window<"u"&&typeof document<"u",DE=typeof navigator=="object"&&navigator||void 0,lue=tA&&(!DE||["ReactNative","NativeScript","NS"].indexOf(DE.product)<0),cue=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uue=tA&&window.location.href||"http://localhost",due=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tA,hasStandardBrowserEnv:lue,hasStandardBrowserWebWorkerEnv:cue,navigator:DE,origin:uue},Symbol.toStringTag,{value:"Module"})),Zn={...due,...oue};function fue(e,t){return Lw(e,new Zn.classes.URLSearchParams,{visitor:function(r,n,s,a){return Zn.isNode&&me.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function hue(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function pue(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function j9(e){function t(r,n,s,a){let i=r[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=a>=r.length;return i=!i&&me.isArray(s)?s.length:i,c?(me.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!l):((!s[i]||!me.isObject(s[i]))&&(s[i]=[]),t(r,n,s[i],a)&&me.isArray(s[i])&&(s[i]=pue(s[i])),!l)}if(me.isFormData(e)&&me.isFunction(e.entries)){const r={};return me.forEachEntry(e,(n,s)=>{t(hue(n),s,r,0)}),r}return null}function mue(e,t,r){if(me.isString(e))try{return(t||JSON.parse)(e),me.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const jy={transitional:S9,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=me.isObject(t);if(a&&me.isHTMLForm(t)&&(t=new FormData(t)),me.isFormData(t))return s?JSON.stringify(j9(t)):t;if(me.isArrayBuffer(t)||me.isBuffer(t)||me.isStream(t)||me.isFile(t)||me.isBlob(t)||me.isReadableStream(t))return t;if(me.isArrayBufferView(t))return t.buffer;if(me.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return fue(t,this.formSerializer).toString();if((l=me.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Lw(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),mue(t)):t}],transformResponse:[function(t){const r=this.transitional||jy.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(me.isResponse(t)||me.isReadableStream(t))return t;if(t&&me.isString(t)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?$t.from(l,$t.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zn.classes.FormData,Blob:Zn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{jy.headers[e]={}});const gue=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yue=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||t[r]&&gue[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},zM=Symbol("internals");function wp(e){return e&&String(e).trim().toLowerCase()}function M0(e){return e===!1||e==null?e:me.isArray(e)?e.map(M0):String(e)}function vue(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const xue=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function gS(e,t,r,n,s){if(me.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!me.isString(t)){if(me.isString(n))return t.indexOf(n)!==-1;if(me.isRegExp(n))return n.test(t)}}function bue(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function wue(e,t){const r=me.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,i){return this[n].call(this,t,s,a,i)},configurable:!0})})}class Bs{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(l,c,u){const d=wp(c);if(!d)throw new Error("header name must be a non-empty string");const f=me.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=M0(l))}const i=(l,c)=>me.forEach(l,(u,d)=>a(u,d,c));if(me.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(me.isString(t)&&(t=t.trim())&&!xue(t))i(yue(t),r);else if(me.isObject(t)&&me.isIterable(t)){let l={},c,u;for(const d of t){if(!me.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?me.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=wp(t),t){const n=me.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return vue(s);if(me.isFunction(r))return r.call(this,s,n);if(me.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=wp(t),t){const n=me.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||gS(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(i){if(i=wp(i),i){const l=me.findKey(n,i);l&&(!r||gS(n,n[l],l,r))&&(delete n[l],s=!0)}}return me.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||gS(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return me.forEach(this,(s,a)=>{const i=me.findKey(n,a);if(i){r[i]=M0(s),delete r[a];return}const l=t?bue(a):String(a).trim();l!==a&&delete r[a],r[l]=M0(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return me.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&me.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[zM]=this[zM]={accessors:{}}).accessors,s=this.prototype;function a(i){const l=wp(i);n[l]||(wue(s,i),n[l]=!0)}return me.isArray(t)?t.forEach(a):a(t),this}}Bs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(Bs.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});me.freezeMethods(Bs);function yS(e,t){const r=this||jy,n=t||r,s=Bs.from(n.headers);let a=n.data;return me.forEach(e,function(l){a=l.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function k9(e){return!!(e&&e.__CANCEL__)}function Nh(e,t,r){$t.call(this,e??"canceled",$t.ERR_CANCELED,t,r),this.name="CanceledError"}me.inherits(Nh,$t,{__CANCEL__:!0});function E9(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new $t("Request failed with status code "+r.status,[$t.ERR_BAD_REQUEST,$t.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function _ue(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Sue(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];i||(i=u),r[s]=c,n[s]=u;let f=a,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-i<t)return;const y=d&&u-d;return y?Math.round(h*1e3/y):void 0}}function jue(e,t){let r=0,n=1e3/t,s,a;const i=(u,d=Date.now())=>{r=d,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(s=u,a||(a=setTimeout(()=>{a=null,i(s)},n-f)))},()=>s&&i(s)]}const Mx=(e,t,r=3)=>{let n=0;const s=Sue(50,250);return jue(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,c=i-n,u=s(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},qM=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},WM=e=>(...t)=>me.asap(()=>e(...t)),kue=Zn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Zn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Zn.origin),Zn.navigator&&/(msie|trident)/i.test(Zn.navigator.userAgent)):()=>!0,Eue=Zn.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const i=[e+"="+encodeURIComponent(t)];me.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),me.isString(n)&&i.push("path="+n),me.isString(s)&&i.push("domain="+s),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Nue(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Cue(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function N9(e,t,r){let n=!Nue(t);return e&&(n||r==!1)?Cue(e,t):t}const VM=e=>e instanceof Bs?{...e}:e;function Cu(e,t){t=t||{};const r={};function n(u,d,f,h){return me.isPlainObject(u)&&me.isPlainObject(d)?me.merge.call({caseless:h},u,d):me.isPlainObject(d)?me.merge({},d):me.isArray(d)?d.slice():d}function s(u,d,f,h){if(me.isUndefined(d)){if(!me.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function a(u,d){if(!me.isUndefined(d))return n(void 0,d)}function i(u,d){if(me.isUndefined(d)){if(!me.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>s(VM(u),VM(d),f,!0)};return me.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,h=f(e[d],t[d],d);me.isUndefined(h)&&f!==l||(r[d]=h)}),r}const C9=e=>{const t=Cu({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=Bs.from(i),t.url=_9(N9(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),me.isFormData(r)){if(Zn.hasStandardBrowserEnv||Zn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(me.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Zn.hasStandardBrowserEnv&&(n&&me.isFunction(n)&&(n=n(t)),n||n!==!1&&kue(t.url))){const c=s&&a&&Eue.read(a);c&&i.set(s,c)}return t},Pue=typeof XMLHttpRequest<"u",Aue=Pue&&function(e){return new Promise(function(r,n){const s=C9(e);let a=s.data;const i=Bs.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,y,g;function m(){y&&y(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function x(){if(!v)return;const w=Bs.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};E9(function(E){r(E),m()},function(E){n(E),m()},S),v=null}"onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(x)},v.onabort=function(){v&&(n(new $t("Request aborted",$t.ECONNABORTED,e,v)),v=null)},v.onerror=function(_){const S=_&&_.message?_.message:"Network Error",k=new $t(S,$t.ERR_NETWORK,e,v);k.event=_||null,n(k),v=null},v.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||S9;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),n(new $t(_,S.clarifyTimeoutError?$t.ETIMEDOUT:$t.ECONNABORTED,e,v)),v=null},a===void 0&&i.setContentType(null),"setRequestHeader"in v&&me.forEach(i.toJSON(),function(_,S){v.setRequestHeader(S,_)}),me.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),u&&([h,g]=Mx(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,y]=Mx(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(d=w=>{v&&(n(!w||w.type?new Nh(null,e,v):w),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const b=_ue(s.url);if(b&&Zn.protocols.indexOf(b)===-1){n(new $t("Unsupported protocol "+b+":",$t.ERR_BAD_REQUEST,e));return}v.send(a||null)})},Tue=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof $t?d:new Nh(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,a(new $t(`timeout ${t} of ms exceeded`,$t.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>me.asap(l),c}},Oue=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},$ue=async function*(e,t){for await(const r of Rue(e))yield*Oue(r,t)},Rue=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},HM=(e,t,r,n)=>{const s=$ue(e,t);let a=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=a+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},KM=64*1024,{isFunction:Cv}=me,Mue=(({Request:e,Response:t})=>({Request:e,Response:t}))(me.global),{ReadableStream:GM,TextEncoder:YM}=me.global,JM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Iue=e=>{e=me.merge.call({skipUndefined:!0},Mue,e);const{fetch:t,Request:r,Response:n}=e,s=t?Cv(t):typeof fetch=="function",a=Cv(r),i=Cv(n);if(!s)return!1;const l=s&&Cv(GM),c=s&&(typeof YM=="function"?(g=>m=>g.encode(m))(new YM):async g=>new Uint8Array(await new r(g).arrayBuffer())),u=a&&l&&JM(()=>{let g=!1;const m=new r(Zn.origin,{body:new GM,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!m}),d=i&&l&&JM(()=>me.isReadableStream(new n("").body)),f={stream:d&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(m,v)=>{let x=m&&m[g];if(x)return x.call(m);throw new $t(`Response type '${g}' is not supported`,$t.ERR_NOT_SUPPORT,v)})});const h=async g=>{if(g==null)return 0;if(me.isBlob(g))return g.size;if(me.isSpecCompliantForm(g))return(await new r(Zn.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(me.isArrayBufferView(g)||me.isArrayBuffer(g))return g.byteLength;if(me.isURLSearchParams(g)&&(g=g+""),me.isString(g))return(await c(g)).byteLength},y=async(g,m)=>{const v=me.toFiniteNumber(g.getContentLength());return v??h(m)};return async g=>{let{url:m,method:v,data:x,signal:b,cancelToken:w,timeout:_,onDownloadProgress:S,onUploadProgress:k,responseType:E,headers:j,withCredentials:N="same-origin",fetchOptions:C}=C9(g),P=t||fetch;E=E?(E+"").toLowerCase():"text";let R=Tue([b,w&&w.toAbortSignal()],_),B=null;const z=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let D;try{if(k&&u&&v!=="get"&&v!=="head"&&(D=await y(j,x))!==0){let $=new r(m,{method:"POST",body:x,duplex:"half"}),V;if(me.isFormData(x)&&(V=$.headers.get("content-type"))&&j.setContentType(V),$.body){const[W,ee]=qM(D,Mx(WM(k)));x=HM($.body,KM,W,ee)}}me.isString(N)||(N=N?"include":"omit");const O=a&&"credentials"in r.prototype,U={...C,signal:R,method:v.toUpperCase(),headers:j.normalize().toJSON(),body:x,duplex:"half",credentials:O?N:void 0};B=a&&new r(m,U);let A=await(a?P(B,C):P(m,U));const I=d&&(E==="stream"||E==="response");if(d&&(S||I&&z)){const $={};["status","statusText","headers"].forEach(ie=>{$[ie]=A[ie]});const V=me.toFiniteNumber(A.headers.get("content-length")),[W,ee]=S&&qM(V,Mx(WM(S),!0))||[];A=new n(HM(A.body,KM,W,()=>{ee&&ee(),z&&z()}),$)}E=E||"text";let te=await f[me.findKey(f,E)||"text"](A,g);return!I&&z&&z(),await new Promise(($,V)=>{E9($,V,{data:te,headers:Bs.from(A.headers),status:A.status,statusText:A.statusText,config:g,request:B})})}catch(O){throw z&&z(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new $t("Network Error",$t.ERR_NETWORK,g,B),{cause:O.cause||O}):$t.from(O,O&&O.code,g,B)}}},Lue=new Map,P9=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let i=a.length,l=i,c,u,d=Lue;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:Iue(t)),d=u;return u};P9();const FE={http:eue,xhr:Aue,fetch:{get:P9}};me.forEach(FE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const XM=e=>`- ${e}`,Due=e=>me.isFunction(e)||e===null||e===!1,A9={getAdapter:(e,t)=>{e=me.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let i=0;i<r;i++){n=e[i];let l;if(s=n,!Due(n)&&(s=FE[(l=String(n)).toLowerCase()],s===void 0))throw new $t(`Unknown adapter '${l}'`);if(s&&(me.isFunction(s)||(s=s.get(t))))break;a[l||"#"+i]=s}if(!s){const i=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(XM).join(`
`):" "+XM(i[0]):"as no adapter specified";throw new $t("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:FE};function vS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Nh(null,e)}function QM(e){return vS(e),e.headers=Bs.from(e.headers),e.data=yS.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),A9.getAdapter(e.adapter||jy.adapter,e)(e).then(function(n){return vS(e),n.data=yS.call(e,e.transformResponse,n),n.headers=Bs.from(n.headers),n},function(n){return k9(n)||(vS(e),n&&n.response&&(n.response.data=yS.call(e,e.transformResponse,n.response),n.response.headers=Bs.from(n.response.headers))),Promise.reject(n)})}const T9="1.12.2",Dw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Dw[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ZM={};Dw.transitional=function(t,r,n){function s(a,i){return"[Axios v"+T9+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,l)=>{if(t===!1)throw new $t(s(i," has been removed"+(r?" in "+r:"")),$t.ERR_DEPRECATED);return r&&!ZM[i]&&(ZM[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,l):!0}};Dw.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Fue(e,t,r){if(typeof e!="object")throw new $t("options must be an object",$t.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],i=t[a];if(i){const l=e[a],c=l===void 0||i(l,a,e);if(c!==!0)throw new $t("option "+a+" must be "+c,$t.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new $t("Unknown option "+a,$t.ERR_BAD_OPTION)}}const I0={assertOptions:Fue,validators:Dw},vi=I0.validators;class ou{constructor(t){this.defaults=t||{},this.interceptors={request:new UM,response:new UM}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Cu(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&I0.assertOptions(n,{silentJSONParsing:vi.transitional(vi.boolean),forcedJSONParsing:vi.transitional(vi.boolean),clarifyTimeoutError:vi.transitional(vi.boolean)},!1),s!=null&&(me.isFunction(s)?r.paramsSerializer={serialize:s}:I0.assertOptions(s,{encode:vi.function,serialize:vi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),I0.assertOptions(r,{baseUrl:vi.spelling("baseURL"),withXsrfToken:vi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&me.merge(a.common,a[r.method]);a&&me.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),r.headers=Bs.concat(i,a);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,f=0,h;if(!c){const g=[QM.bind(this),void 0];for(g.unshift(...l),g.push(...u),h=g.length,d=Promise.resolve(r);f<h;)d=d.then(g[f++],g[f++]);return d}h=l.length;let y=r;for(;f<h;){const g=l[f++],m=l[f++];try{y=g(y)}catch(v){m.call(this,v);break}}try{d=QM.call(this,y)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Cu(this.defaults,t);const r=N9(t.baseURL,t.url,t.allowAbsoluteUrls);return _9(r,t.params,t.paramsSerializer)}}me.forEach(["delete","get","head","options"],function(t){ou.prototype[t]=function(r,n){return this.request(Cu(n||{},{method:t,url:r,data:(n||{}).data}))}});me.forEach(["post","put","patch"],function(t){function r(n){return function(a,i,l){return this.request(Cu(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}ou.prototype[t]=r(),ou.prototype[t+"Form"]=r(!0)});class rA{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const i=new Promise(l=>{n.subscribe(l),a=l}).then(s);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,l){n.reason||(n.reason=new Nh(a,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new rA(function(s){t=s}),cancel:t}}}function Bue(e){return function(r){return e.apply(null,r)}}function Uue(e){return me.isObject(e)&&e.isAxiosError===!0}const BE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(BE).forEach(([e,t])=>{BE[t]=e});function O9(e){const t=new ou(e),r=u9(ou.prototype.request,t);return me.extend(r,ou.prototype,t,{allOwnKeys:!0}),me.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return O9(Cu(e,s))},r}const Xt=O9(jy);Xt.Axios=ou;Xt.CanceledError=Nh;Xt.CancelToken=rA;Xt.isCancel=k9;Xt.VERSION=T9;Xt.toFormData=Lw;Xt.AxiosError=$t;Xt.Cancel=Xt.CanceledError;Xt.all=function(t){return Promise.all(t)};Xt.spread=Bue;Xt.isAxiosError=Uue;Xt.mergeConfig=Cu;Xt.AxiosHeaders=Bs;Xt.formToJSON=e=>j9(me.isHTMLForm(e)?new FormData(e):e);Xt.getAdapter=A9.getAdapter;Xt.HttpStatusCode=BE;Xt.default=Xt;const Zd="https://web-production-80ed8.up.railway.app";let e4=!1;const Pn={setTokens:(e,t)=>{e.length>30?`${e.substring(0,20)}${e.substring(e.length-10)}`:e.substring(0,20)+"",localStorage.setItem("authToken",e),localStorage.setItem("refreshToken",t),localStorage.getItem("authToken")},getAccessToken:()=>{const e=localStorage.getItem("authToken");if(e&&(typeof localStorage<"u"?localStorage.getItem("userRole"):null)==="academy"){const r=e.length>30?`${e.substring(0,20)}...${e.substring(e.length-10)}`:e.substring(0,20)+"...";console.log(" Academy auth token",{length:e.length,preview:r,full:e})}return e},getRefreshToken:()=>localStorage.getItem("refreshToken"),clearTokens:(e=!1)=>{localStorage.getItem("authToken"),localStorage.getItem("refreshToken"),localStorage.getItem("userRole"),localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),e||localStorage.removeItem("userRole")},isTokenExpired:e=>{try{const t=JSON.parse(atob(e.split(".")[1])),r=Math.floor(Date.now()/1e3);return t.exp<r}catch{return!0}},refreshAccessToken:async()=>{var t;const e=Pn.getRefreshToken();if(!e||!e.trim())return null;try{const n=(await Xt.post(`${Zd}/api/refresh/`,{refresh:e})).data.access;if(n)return localStorage.setItem("authToken",n),n}catch(r){const n=(t=r==null?void 0:r.response)==null?void 0:t.status;console.error("Token refresh failed:",{status:n,error:r==null?void 0:r.message}),Pn.clearTokens(!1),typeof window<"u"&&!window.location.pathname.includes("/auth/")&&(window.location.href="/auth/login")}return null},setSessionRestoration:e=>{e4=e},isInSessionRestoration:()=>e4},Se=Xt.create({baseURL:Zd,timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});Se.interceptors.request.use(async e=>{var r,n,s,a,i,l;const t=Pn.getAccessToken();if(t&&!((r=e.url)!=null&&r.includes("/api/login/"))&&!((n=e.url)!=null&&n.includes("/api/academy/login/"))&&!((s=e.url)!=null&&s.includes("/api/register/"))&&!((a=e.url)!=null&&a.includes("/api/refresh/"))&&!((i=e.url)!=null&&i.includes("/api/verify-code/"))&&!((l=e.headers)!=null&&l.Authorization))if(Pn.isTokenExpired(t)){const c=await Pn.refreshAccessToken();c?e.headers.Authorization=`Bearer ${c}`:e.headers.Authorization=`Bearer ${t}`}else e.headers.Authorization=`Bearer ${t}`;return e},e=>Promise.reject(e));Se.interceptors.response.use(e=>e,async e=>{var r,n,s,a,i,l,c,u,d;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if((n=t.url)!=null&&n.includes("/api/login/")||(s=t.url)!=null&&s.includes("/api/academy/login/")||(a=t.url)!=null&&a.includes("/api/register/")||(i=t.url)!=null&&i.includes("/api/refresh/"))return Promise.reject(e);t._retry=!0;const f=Pn.isInSessionRestoration(),h=(l=t.url)==null?void 0:l.includes("/api/academy/profile/"),y=(c=t.url)==null?void 0:c.includes("/api/academy/");try{const g=await Pn.refreshAccessToken(),m=Pn.getAccessToken();if(g){t.headers.Authorization=`Bearer ${g}`;try{return await Se(t)}catch(v){if(((u=v.response)==null?void 0:u.status)===401&&y)return Promise.reject(v);throw v}}else if(m){if(y&&!f)return Promise.reject(e);t.headers.Authorization=`Bearer ${m}`;try{return await Se(t)}catch(v){return Promise.reject(v)}}else if(y&&!f)return Promise.reject(e)}catch(g){if(console.error(" Token refresh threw an error:",g),Pn.getAccessToken()&&y||y&&!f)return Promise.reject(e)}if(!f&&!y)((d=e.response)==null?void 0:d.status)===401&&(Pn.clearTokens(!1),window.location.pathname.includes("/auth/")||(window.location.href="/auth/login"));else if(h)return Promise.reject(e)}return Promise.reject(e)});const Je={AUTH:{LOGIN:"/api/login/",ACADEMY_LOGIN:"/api/academy/login/",REGISTER:"/api/register/",PROFILE:"/api/profile/",VERIFY_CODE:"/api/verify-code/",VERIFY_ACADEMY_EMAIL:"/api/verify-academy-email/",PASSWORD_RESET:"/password-reset/request/",PASSWORD_RESET_VERIFY:"/password-reset/verify/",PASSWORD_RESET_CONFIRM:"/password-reset/set-new/",TOKEN_REFRESH:"/api/refresh/"},USER:{PROFILE:"/api/user/profile/",SKILLS:"/api/user/skills/",TESTS:"/api/user/tests/"},ME:{PROFILE:"/api/me/profile/",SKILLS:"/api/me/skills/",INDUSTRY_PROFILE:"/api/me/industry-profile/"},EDUCATIONS:"/api/educations/",WORK_EXPERIENCES:"/api/work-experiences/",SKILLS_SEARCH:"/api/skills/",ACADEMY:{PROFILE:"/api/academy/profile/",DETAIL:"/api/academy/",COURSES:"/api/academy/courses/",STUDENTS:"/api/academy/students/"},PAYMENTS:{BOG_AUTH:"/api/payments/bog/auth/",BOG_CREATE_ORDER:"/api/payments/bog/orders/"},JOBS:{SAVE_JOB:"/api/save-job/"}};function ac(e,t){return{id:e.id!=null?String(e.id):t??"",academy_name:e.name??e.academy_name??"",description:e.description??"",website_url:e.website??e.website_url??"",contact_email:e.email??e.contact_email??"",logo_url:e.profile_image??e.logo_url??e.profile_photo_url??null,is_verified:e.is_verified,first_name:e.first_name??e.firstName??e.name??e.academy_name}}function zue(e){return!e||typeof e!="object"?{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}:{github:e.github??"",linkedin:e.linkedin??"",facebook:e.facebook??"",instagram:e.instagram??"",dribbble:e.dribbble??"",behance:e.behance??""}}var nA="Avatar",[que,HKe]=la(nA),[Wue,$9]=que(nA),R9=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=p.useState("idle");return o.jsx(Wue,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(ot.span,{...n,ref:t})})});R9.displayName=nA;var M9="AvatarImage",I9=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,i=$9(M9,r),l=Vue(n,a.referrerPolicy),c=Yt(u=>{s(u),i.onImageLoadingStatusChange(u)});return an(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ot.img,{...a,ref:t,src:n}):null});I9.displayName=M9;var L9="AvatarFallback",D9=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=$9(L9,r),[i,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(ot.span,{...s,ref:t}):null});D9.displayName=L9;function Vue(e,t){const[r,n]=p.useState("idle");return an(()=>{if(!e){n("error");return}let s=!0;const a=new window.Image,i=l=>()=>{s&&n(l)};return n("loading"),a.onload=i("loaded"),a.onerror=i("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var F9=R9,B9=I9,U9=D9;const z9=p.forwardRef(({className:e,...t},r)=>o.jsx(F9,{ref:r,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));z9.displayName=F9.displayName;const q9=p.forwardRef(({className:e,...t},r)=>o.jsx(B9,{ref:r,className:le("aspect-square h-full w-full",e),...t}));q9.displayName=B9.displayName;const W9=p.forwardRef(({className:e,...t},r)=>o.jsx(U9,{ref:r,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));W9.displayName=U9.displayName;const Hue={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-16 w-16",xl:"h-32 w-32"},t4=new Map,ig=({src:e,alt:t="Profile photo",fallback:r="U",className:n,size:s="md",loading:a="lazy"})=>o.jsxs(z9,{className:le(Hue[s],n,"rounded-3xl"),children:[e&&o.jsx(q9,{src:e,alt:t,className:"aspect-square h-full w-full rounded-3xl",loading:a}),o.jsx(W9,{className:"bg-[#AAF0FF] text-[#099DBC] text-2xl font-semibold rounded-3xl",children:r})]}),V9=()=>{const e=p.useCallback(r=>new Promise((n,s)=>{if(t4.has(r)){n();return}const a=new Image;a.onload=()=>{t4.set(r,!0),n()},a.onerror=s,!r.includes("supabase.co")&&!r.includes(window.location.origin)&&(a.crossOrigin="anonymous"),a.src=r}),[]),t=p.useCallback(async r=>{const n=r.map(s=>e(s));await Promise.allSettled(n)},[e]);return{preloadImage:e,preloadImages:t}};function r4(e){return e==="ka"?"ka":"en"}function lu(e){const r=e.split("/").filter(Boolean)[0];if(r==="ka"||r==="en")return r;if(typeof window<"u"){const n=localStorage.getItem("appLanguage");if(n==="en"||n==="ka")return n}return"en"}function og(e){const t=e.split("/").filter(Boolean),r=t[0];return r==="ka"||r==="en"?"/"+t.slice(1).join("/"):e}function UE(e,t){return e.startsWith("/auth/")||e==="/auth"||e.startsWith("/en/")||e.startsWith("/ka/")?e:e==="/"?`/${r4(t)}`:`/${r4(t)}${e}`}function ga(e,t){return UE(e,t)}const H9=p.createContext(void 0),Pv=e=>{if(e&&typeof e=="object"){const t=e,r=n=>{if(n.user_type)return String(n.user_type);if(n.role)return String(n.role);if(n.user_role)return String(n.user_role);if(Array.isArray(n.roles)&&n.roles.length>0){const s=n.roles.find(a=>typeof a=="string"&&(a==="academy"||a.toLowerCase()==="academy"));return String(s||n.roles[0])}};if(t.user&&typeof t.user=="object"){const n=t.user,s=r(n);return s&&!n.user_type&&!n.role&&(n.user_type=s),n}if(t.profile&&typeof t.profile=="object"){const n=t.profile,s=r(n);return s&&!n.user_type&&!n.role&&(n.user_type=s),n}if(t.email||t.username||t.id||t.user_type||t.role||t.name){const n={};t.id&&(n.id=typeof t.id=="string"||typeof t.id=="number"?t.id:String(t.id)),t.email&&(n.email=t.email),t.username&&(n.username=t.username),t.first_name&&(n.first_name=t.first_name),t.last_name&&(n.last_name=t.last_name),t.name&&!t.first_name&&(n.first_name=t.name),t.phone_number&&(n.phone_number=t.phone_number),t.profile_image!==void 0&&(n.profile_image=t.profile_image);const s=r(t);return s&&(n.user_type=s),n}}return null},n4=e=>{try{const t=e.split(".");if(t.length!==3)return null;const r=JSON.parse(atob(t[1]));return r.user_id||r.sub||r.id||null}catch(t){return console.error("Failed to decode JWT token:",t),null}},Kue=({children:e})=>{const[t,r]=p.useState(null),[n,s]=p.useState(!0),[a,i]=p.useState(null),l=lr(),{preloadImage:c}=V9(),u=p.useRef(c);p.useEffect(()=>{u.current=c},[c]),p.useEffect(()=>{(async()=>{Pn.setSessionRestoration(!0);try{const v=Pn.getAccessToken();if(!v){s(!1),Pn.setSessionRestoration(!1);return}const x=localStorage.getItem("userRole");let b=null;try{const j=v.split(".");if(j.length===3){const N=JSON.parse(atob(j[1])),C=N.user_id||N.sub||N.id||"";let R=N.user_type||N.role||N.user_role;!R&&Array.isArray(N.roles)&&(R=N.roles.find(z=>typeof z=="string"&&(z==="academy"||z.toLowerCase()==="academy"))||N.roles[0]),b={id:C||String(N.username)||"",email:N.email||N.username||"",username:N.username||N.email||"",first_name:N.first_name||N.name||"",user_type:R||"user",profile_image:N.profile_image||null}}}catch(j){console.error("Failed to decode JWT token:",j),console.warn(" JWT decode failed, but preserving token and attempting API call"),b=null}const w=x==="academy",_=(b==null?void 0:b.user_type)==="academy";let S=null;if(w||_)S=b;else try{const j=await Se.get(Je.AUTH.PROFILE),N=j.data;if(N.user_roles&&Array.isArray(N.user_roles)&&N.user_roles.find(P=>P.role==="academy"||P.role==="academy")&&!N.user_type&&!N.role&&(N.user_type="academy"),S=Pv(j.data),S){const C=n4(v);C?S.id=C:!S.id&&S.email&&(S.id=S.email)}}catch(j){console.warn(" Profile API call failed, using JWT data:",j),S=b}S||(S=b);const k=localStorage.getItem("userRole");let E=!1;if(!(S!=null&&S.user_type)&&!k)try{const j=await Se.get(Je.ACADEMY.PROFILE);j.data&&j.status!==404&&(E=!0)}catch{}if(k){const j=S==null?void 0:S.user_type;k==="user"&&j&&j!=="user"?(S.user_type=j,localStorage.setItem("userRole",j)):S.user_type=k}else S!=null&&S.user_type?localStorage.setItem("userRole",S.user_type):E?(S.user_type="academy",localStorage.setItem("userRole","academy")):b!=null&&b.user_type&&b.user_type!=="user"?(S.user_type=b.user_type,localStorage.setItem("userRole",b.user_type)):(S.user_type=S.user_type||"user",localStorage.setItem("userRole",S.user_type));if(S&&(S.id||S.email)){if(!S.id&&S.email&&(S.id=S.email),S.user_type){const j=localStorage.getItem("userRole");(!j||j!==S.user_type)&&localStorage.setItem("userRole",S.user_type)}r(S),S.user_type==="academy"?Se.get(Je.ACADEMY.PROFILE).then(j=>{if(j.data){const N=ac(j.data,S.id!=null?String(S.id):void 0);i({name:N.academy_name||"",email:N.contact_email||"",is_verified:N.is_verified??!1})}else i(null)}).catch(()=>i(null)):i(null)}else r(null),i(null)}catch{r(null),i(null)}finally{Pn.setSessionRestoration(!1),s(!1)}})()},[]),p.useEffect(()=>{t!=null&&t.profile_image&&u.current(t.profile_image).catch(console.error)},[t==null?void 0:t.profile_image]),p.useEffect(()=>{if(!n&&t){const m=window.location.pathname,v=lu(m)||localStorage.getItem("appLanguage")||"en",x=localStorage.getItem("userRole")||t.user_type||"user",w=["/auth/login","/auth/signup","/auth/reset-password","/email-verification","/email-confirmed"].includes(m),S=["/terms-of-use","/help"].includes(m);if(m==="/"||w){if(x==="academy"){const C=ga("/academy/dashboard",v);l(C,{replace:!0})}else{const C=ga("/home",v);l(C,{replace:!0})}return}if(S)return;const k=og(m),E=k.startsWith("/academy/"),j=/^\/academy\/[^/]+$/.test(k)&&k!=="/academy/dashboard"&&k!=="/academy/profile"&&k!=="/academy/settings"&&k!=="/academy/register",N=!E&&!S&&(k==="/dashboard"||k==="/home"||k.startsWith("/profile")||k.startsWith("/settings")||k.startsWith("/notifications")||k.startsWith("/jobs")||k.startsWith("/courses")||k.startsWith("/skill")||k.startsWith("/interests"));if(j||x==="academy"&&E&&!j||x==="academy"&&E||x==="user"&&N||k==="/dashboard"||k==="/home"||m.includes("/dashboard")||m.includes("/home"))return;if(E&&x!=="academy"&&!j){const C=ga("/home",v);l(C,{replace:!0})}else if(x==="academy"&&(k==="/dashboard"||k==="/home"||N)){const C=ga("/academy/dashboard",v);l(C,{replace:!0})}else if(x==="academy"&&!E&&!S){const C=ga("/academy/dashboard",v);l(C,{replace:!0})}}},[t,n,l]);const d=async(m,v)=>{s(!0);try{const x=await Se.post(Je.AUTH.LOGIN,{username:m,password:v}),b=x.data.access||x.data.token,w=x.data.refresh||x.data.refresh_token;if(!b)throw new Error("Login succeeded but did not return the required token (access or token field).");Pn.setTokens(b,w||""),w||console.warn("Login: No refresh token in response. Session may expire when access token expires. Backend should return a refresh token for persistent sessions.");const _=typeof window<"u"?localStorage.getItem("authToken"):null;typeof window<"u"&&console.log("User auth token:",b),await new Promise(N=>setTimeout(N,100));let S=null;const k=Pv(x.data);if(k&&k.email)S=k;else try{const N=await Se.get(Je.AUTH.PROFILE);S=Pv(N.data)}catch{}if(!S)throw new Error("Failed to fetch user profile.");const E=n4(b);if(E?S.id=E:!S.id&&S.email&&(S.id=S.email),!S.user_type){let N=!1;try{const C=await Se.get(Je.ACADEMY.PROFILE);C.data&&C.status!==404&&(N=!0)}catch{}N?S.user_type="academy":S.user_type="user"}S.user_type&&localStorage.setItem("userRole",S.user_type),r(S),S.user_type==="academy"?Se.get(Je.ACADEMY.PROFILE).then(N=>{if(N.data){const C=ac(N.data,S.id!=null?String(S.id):void 0);i({name:C.academy_name||"",email:C.contact_email||"",is_verified:C.is_verified??!1})}else i(null)}).catch(()=>i(null)):i(null),S!=null&&S.profile_image&&u.current(S.profile_image).catch(console.error);const j=lu(window.location.pathname)||localStorage.getItem("appLanguage")||"en";if(S.user_type==="academy"){const N=ga("/academy/dashboard",j);l(N)}else{const N=ga("/home",j);l(N)}}catch(x){throw console.error("Login failed:",x),x}finally{s(!1)}},f=async(m,v)=>{try{await Se.post(Je.AUTH.REGISTER,{email:m,password:v}),l("/auth/email-verification")}catch(x){throw console.error("Registration failed:",x),x}},h=()=>{Pn.clearTokens(),r(null),i(null),l("/auth/login")},y=m=>{t&&r({...t,...m})},g=async()=>{try{const m=await Se.get(Je.AUTH.PROFILE),v=Pv(m.data);v&&r(v)}catch(m){console.error("Failed to refresh user:",m)}};return o.jsx(H9.Provider,{value:{user:t,loading:n,academyDisplay:a,login:d,logout:h,register:f,updateUser:y,refreshUser:g},children:e})},fr=()=>{const e=p.useContext(H9);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Gue={nav:{home:"Home",jobs:"Vacancies",courses:"Courses",webinars:"Webinars",profile:"Profile",settings:"Settings",help:"Help Center",notifications:"Notifications"},common:{loading:"Loading...",error:"Error",success:"Success",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",back:"Back",next:"Next",previous:"Previous",submit:"Submit",search:"Search",filter:"Filter",clear:"Clear",apply:"Apply",close:"Close",yes:"Yes",no:"No",ok:"OK",view:"View",more:"More",less:"Less"},auth:{login:"Login",signup:"Sign Up",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm Password",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",rememberMe:"Remember me",createAccount:"Create Account",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",firstName:"First Name",lastName:"Last Name",phone:"Phone",welcome:"Welcome",welcomeBack:"Welcome Back"},dashboard:{welcome:"Welcome",jobOffers:"Job Offers",courses:"Courses",skillTest:"Skill Test",skillPath:"Skill Path",interests:"Interests"},jobs:{title:"Vacancies",noJobs:"No jobs found",apply:"Apply",applied:"Applied",save:"Save",saved:"Saved",location:"Location",salary:"Salary",salaryRange:"Salary Range",minimum:"Minimum",maximum:"Maximum",byAgreement:"By Agreement",workType:"Work Type",country:"Country",interests:"Interests / Skills",type:"Type",posted:"Posted",deadline:"Deadline",description:"Description",requirements:"Requirements",benefits:"Benefits",company:"Company",fullTime:"Full Time",partTime:"Part Time",contract:"Contract",remote:"Remote",hybrid:"Hybrid",filter:"Filter Jobs",clearFilters:"Clear Filters",search:"Search",searchPlaceholder:"Search",filters:"Filters",vacancy:"vacancy",vacancies:"vacancies",dateDescending:"Date Descending",dateAscending:"Date Ascending",dateDescendingFull:"Date Descending",dateAscendingFull:"Date Ascending",tryAdjustingFilters:"Try adjusting your search terms or filters",showing:"Showing",of:"of",page:"Page",previous:"Previous",next:"Next",errorLoading:"Error loading jobs. Please try again."},courses:{title:"Courses",noCourses:"No courses found",enroll:"Enroll",enrolled:"Enrolled",save:"Save",saved:"Saved",duration:"Duration",level:"Level",instructor:"Instructor",academy:"Academy",description:"Description",curriculum:"Curriculum",reviews:"Reviews",price:"Price",free:"Free",filter:"Filter Courses",clearFilters:"Clear Filters"},profile:{title:"Profile",editProfile:"Edit Profile",personalInfo:"Personal Information",contactInfo:"Contact Information",skills:"Skills",experience:"Experience",education:"Education",bio:"Bio",saveChanges:"Save Changes"},settings:{title:"Settings",account:"Account",preferences:"Preferences",notifications:"Notifications",privacy:"Privacy",language:"Language",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode"},notifications:{title:"Notifications",noNotifications:"No notifications",markAsRead:"Mark as read",markAllAsRead:"Mark all as read",browserNotifications:"Browser Notifications",enableBrowserNotifications:"Enable Browser Notifications",browserNotificationsDescription:"Get notified when new jobs matching your skills are posted. You'll receive browser notifications even when you're not on the site.",notificationPermissionGranted:"Browser notifications are enabled",notificationPermissionDenied:"Browser notifications are blocked. Please enable them in your browser settings.",notificationPermissionDefault:"Click the button below to enable browser notifications for new job matches.",requestPermission:"Enable Notifications",checkingForJobs:"Checking for new jobs...",notificationsEnabled:"Notifications Enabled",notificationsDisabled:"Notifications Disabled"},subscription:{title:"Subscription",upgrade:"Upgrade plan",currentPlan:"Current Plan",features:"Features",subscribe:"Subscribe"},help:{title:"Help Center",faq:"FAQ",contact:"Contact Support"},terms:{title:"Terms of Use",lastUpdated:"Last updated"},skillTest:{title:"Skill Test",start:"Start Test",next:"Next",previous:"Previous",finish:"Finish",results:"Results"},skillPath:{title:"Your Personalized Skill Path"},home:{skillTestTitle:"Begin Your Skill Assessment Journey",skillTestSubtitle:"Take our skill test to unlock personalized recommendations.",skillPathTitle:"Explore your personalized career path",skillPathSubtitle:"Get personalized recommendations for your career."},errors:{somethingWentWrong:"Something went wrong",tryAgain:"Try again",notFound:"Not found",pageNotFound:"Page Not Found",pageNotFoundDescription:"The page you're looking for doesn't exist or has been moved."},jobMatch:{expLevel:"Exp. Level",skill:"Skill",industryExp:"Industry Exp.",overall:"Overall",excellentMatch:"Excellent match",bestMatch:"Best match",goodMatch:"Good match",fairMatch:"Fair match",badMatch:"Bad match",scoreDescription:"This score shows how closely your skills match the job requirements, prioritizing exact and key skill matches."},webinars:{title:"Webinars",noWebinars:"No webinars found",upcoming:"Upcoming",past:"Past",register:"Register",registered:"Registered",comingsoon:"Coming Soon",comingsoondescription:"Were adding a brand new page to Breneo very soon! Stay tuned for fresh features and updates that will make your experience even better."},beta:{title:"Youre using the beta version",message:"Some features may be limited or change as we continue improving the platform. We appreciate your feedback. it helps us build a better experience."}},Yue={nav:{home:"",jobs:"",courses:"",webinars:"",profile:"",settings:"",help:" ",notifications:""},common:{loading:"...",error:"",success:"",save:"",cancel:"",delete:"",edit:"",back:"",next:"",previous:"",submit:"",search:"",filter:"",clear:"",apply:"",close:"",yes:"",no:"",ok:"",view:"",more:"",less:""},auth:{login:"",signup:"",logout:"",email:"",password:"",confirmPassword:" ",forgotPassword:" ?",resetPassword:" ",rememberMe:"",createAccount:" ",alreadyHaveAccount:"  ?",dontHaveAccount:"  ?",firstName:"",lastName:"",phone:"",welcome:"",welcomeBack:"   "},dashboard:{welcome:"",jobOffers:"",courses:"",skillTest:" ",skillPath:" ",interests:""},jobs:{title:"",noJobs:"  ",apply:"",applied:" ",save:"",saved:"",location:"",salary:"",salaryRange:" ",minimum:"",maximum:"",byAgreement:"",workType:" ",country:"",interests:" / ",type:"",posted:"",deadline:"",description:"",requirements:"",benefits:"",company:"",fullTime:" ",partTime:" ",contract:"",remote:"",hybrid:"",filter:" ",clearFilters:" ",search:"",searchPlaceholder:"",filters:"",vacancy:"",vacancies:"",dateDescending:" ",dateAscending:" ",dateDescendingFull:" ",dateAscendingFull:" ",tryAdjustingFilters:"     ",showing:"",of:"",page:"",previous:"",next:"",errorLoading:"  . ,  ."},courses:{title:"",noCourses:"  ",enroll:"",enrolled:"",save:"",saved:"",duration:"",level:"",instructor:"",academy:"",description:"",curriculum:" ",reviews:"",price:"",free:"",filter:" ",clearFilters:" "},profile:{title:"",editProfile:" ",personalInfo:" ",contactInfo:" ",skills:"",experience:"",education:"",bio:"",saveChanges:" "},settings:{title:"",account:"",preferences:"",notifications:"",privacy:"",language:"",theme:"",darkMode:" ",lightMode:" "},notifications:{title:"",noNotifications:"  ",markAsRead:" ",markAllAsRead:"  ",browserNotifications:" ",enableBrowserNotifications:"  ",browserNotificationsDescription:" ,    ,    .    ,  ,    .",notificationPermissionGranted:"  ",notificationPermissionDenied:"  . ,     .",notificationPermissionDefault:"   ,       .",requestPermission:" ",checkingForJobs:"  ...",notificationsEnabled:" ",notificationsDisabled:" "},subscription:{title:"",upgrade:" ",currentPlan:" ",features:"",subscribe:""},help:{title:" ",faq:"  ",contact:" "},terms:{title:" ",lastUpdated:" "},skillTest:{title:" ",start:" ",next:"",previous:"",finish:"",results:""},skillPath:{title:"   "},home:{skillTestTitle:"    ",skillTestSubtitle:"      .",skillPathTitle:"    ",skillPathSubtitle:"    ."},errors:{somethingWentWrong:"  ",tryAgain:" ",notFound:" ",pageNotFound:"  ",pageNotFoundDescription:",  ,    ."},jobMatch:{expLevel:"",skill:"",industryExp:"",overall:"",excellentMatch:"!",bestMatch:"!",goodMatch:"!",fairMatch:"!",badMatch:"!",scoreDescription:"  ,       ,       ."},webinars:{title:"",noWebinars:"  ",upcoming:"",past:"",register:"",registered:"",comingsoon:" ",comingsoondescription:"Breneo-    !     ,       ."},beta:{title:"   ",message:"      ,    .      ."}},K9=p.createContext(void 0),Jue={en:Gue,ka:Yue};function Xue({children:e}){const t=zs(),r=lr(),[n,s]=p.useState(()=>{if(typeof window<"u"){const u=lu(t.pathname);if(u)return u;const d=localStorage.getItem("appLanguage");if(d==="en"||d==="ka")return d}return"en"}),[a,i]=p.useState(!1);p.useEffect(()=>{i(!0)},[]),p.useEffect(()=>{if(!a||typeof window>"u")return;const u=lu(t.pathname);u&&u!==n&&(s(u),localStorage.setItem("appLanguage",u),document.documentElement.lang=u)},[t.pathname,a,n]);const l=u=>{if(s(u),typeof window<"u"){localStorage.setItem("appLanguage",u),document.documentElement.lang=u;const d=og(t.pathname),f=UE(d,u);f!==t.pathname&&r(f,{replace:!0})}};p.useEffect(()=>{if(a&&typeof window<"u"){document.documentElement.lang=n;const u=setTimeout(()=>{if(!t.pathname.startsWith("/auth/")&&t.pathname!=="/auth"&&t.pathname!=="/"&&lu(t.pathname)!==n){const f=og(t.pathname),h=UE(f,n);h!==t.pathname&&!t.pathname.includes("undefined")&&r(h,{replace:!0})}},100);return()=>clearTimeout(u)}},[n,a,t.pathname,r]);const c=p.useMemo(()=>Jue[n],[n]);return o.jsx(K9.Provider,{value:{language:n,setLanguage:l,t:c},children:e})}function fi(){const e=p.useContext(K9);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}function hi(){const{t:e}=fi();return e}const G9=p.createContext(void 0),s4="breneo-font-size",a4={small:.875,medium:1,big:1.125};function Que({children:e}){const[t,r]=p.useState(()=>{const a=localStorage.getItem(s4)||"medium",i=a4[a];return typeof document<"u"&&document.documentElement.style.setProperty("--font-size-base",`${i}rem`),a});p.useEffect(()=>{const s=a4[t];document.documentElement.style.setProperty("--font-size-base",`${s}rem`),localStorage.setItem(s4,t)},[t]);const n=s=>{r(s)};return o.jsx(G9.Provider,{value:{fontSize:t,setFontSize:n},children:e})}function Zue(){const e=p.useContext(G9);if(e===void 0)throw new Error("useFontSize must be used within a FontSizeProvider");return e}const ede=Pn,tde=()=>{try{const e=ede.getAccessToken();if(!e)return null;const t=e.split(".");if(t.length!==3)return null;const r=JSON.parse(atob(t[1]));return r.user_type||r.role||null}catch(e){return console.error("Error extracting role from token:",e),null}},rde=()=>{try{return localStorage.getItem("userRole")}catch(e){return console.error("Error getting role from storage:",e),null}},nde=()=>{const e=rde();if(e)return e;const t=tde();return t||null};function pr({children:e,requiredRole:t,redirectTo:r="/auth/login"}){const{user:n,loading:s}=fr(),a=lu(window.location.pathname)||localStorage.getItem("appLanguage")||"en",i=typeof window<"u"&&!!localStorage.getItem("authToken");if(s)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-breneo-lightgray dark:bg-[#181818]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading..."})]})});if(!n&&!i)return o.jsx($0,{to:r,replace:!0});if(t){const l=(n==null?void 0:n.user_type)||localStorage.getItem("userRole")||nde()||"user";if(l!==t)if(l==="academy"){const c=ga("/academy/dashboard",a);return o.jsx($0,{to:c,replace:!0})}else{const c=ga("/home",a);return o.jsx($0,{to:c,replace:!0})}}return o.jsx(o.Fragment,{children:e})}const i4=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,o4=Qt,ky=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return o4(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=i4(d)||i4(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...y}=d;return Object.entries(y).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...a,...l}[m]):{...a,...l}[m]===v})?[...u,f,h]:u},[]);return o4(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},sA=ky("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[14px] font-normal ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-60 dark:focus-visible:ring-primary/40 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90 active:bg-primary/80 dark:bg-primary dark:hover:bg-primary/90 dark:active:bg-primary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-transparent text-breneo-blue hover:bg-breneo-blue/10 dark:border-white/20 dark:text-breneo-blue-dark dark:hover:bg-breneo-blue-dark/10",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"text-breneo-blue hover:bg-breneo-blue/10 hover:text-breneo-blue dark:text-breneo-blue-dark dark:hover:bg-breneo-blue-dark/10 dark:hover:text-breneo-blue-dark",link:"text-breneo-blue underline-offset-4 hover:underline dark:text-breneo-blue-dark"},size:{default:"h-12 px-8 text-[15px] leading-[22px]",sm:"h-10 px-6 text-sm leading-[20px] [&_svg]:size-4",xs:"h-11 px-5 text-sm leading-[20px] [&_svg]:size-4",lg:"h-14 px-10 text-lg leading-[26px] [&_svg]:size-6",icon:"h-12 w-12 p-0 [&_svg]:size-5"}},defaultVariants:{variant:"default",size:"default"}}),ne=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?rc:"button";return o.jsx(i,{className:le(sA({variant:t,size:r,className:e})),ref:a,...s})});ne.displayName="Button";const Qe=p.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:le("flex h-[3.2rem] w-full rounded-md border border-input bg-background px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 hover:ring-0 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t==="date"&&"relative pr-10 text-left",e),ref:n,...r}));Qe.displayName="Input";var sde="Label",Y9=p.forwardRef((e,t)=>o.jsx(ot.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Y9.displayName=sde;var J9=Y9;const ade=ky("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pe=p.forwardRef(({className:e,...t},r)=>o.jsx(J9,{ref:r,className:le(ade(),e),...t}));Pe.displayName=J9.displayName;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ide=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X9=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ode={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...l},c)=>p.createElement("svg",{ref:c,...ode,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:X9("lucide",s),...l},[...i.map(([u,d])=>p.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(e,t)=>{const r=p.forwardRef(({className:n,...s},a)=>p.createElement(lde,{ref:a,iconNode:t,className:X9(`lucide-${ide(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=nt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=nt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ude=nt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=nt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=nt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=nt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dde=nt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=nt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=nt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=nt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=nt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=nt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hde=nt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=nt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=nt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=nt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pde=nt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=nt("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=nt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mde=nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gde=nt("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=nt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=nt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=nt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=nt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=nt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=nt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=nt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vde=nt("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=nt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=nt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=nt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=nt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=nt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xde=nt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=nt("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=nt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=nt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=nt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=nt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=nt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bde=nt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=nt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wde=nt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=nt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _de=nt("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=nt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=nt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=nt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jde=nt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=nt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=nt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=nt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=nt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=nt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=nt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=nt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Gi(){const{theme:e,setTheme:t}=Ho(),[r,n]=p.useState(!1);if(p.useEffect(()=>{n(!0)},[]),!r)return o.jsx(ne,{variant:"ghost",size:"icon",className:"h-10 w-10",children:o.jsx(Lx,{size:22})});const s=e==="dark";return o.jsx(ne,{variant:"ghost",size:"icon",className:"h-10 w-10",onClick:()=>t(s?"light":"dark"),children:s?o.jsx(oA,{size:22}):o.jsx(Lx,{size:22})})}const Ede="/lovable-uploads/Breneo-logo.png",Nde="/lovable-uploads/Breneo-logo-dark.png";function _n({className:e,...t}){const{theme:r,resolvedTheme:n}=Ho(),[s,a]=M.useState(!1);M.useEffect(()=>{a(!0)},[]);const l=s&&(n??r)==="dark"?Nde:Ede;return o.jsx("img",{src:l,alt:"Breneo Logo",className:le("object-contain",e),...t})}const h4=()=>{const e=lr(),{login:t,loading:r,user:n}=fr(),[s,a]=p.useState(""),[i,l]=p.useState(""),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,y]=p.useState(!1),[g,m]=p.useState(!1),v=p.useCallback(w=>new Promise((_,S)=>{const k=new Image;k.onload=()=>_(),k.onerror=()=>S(new Error(`Failed to load image: ${w}`)),k.src=w}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([v("/lovable-uploads/Breneo-logo.png"),v("/lovable-uploads/Breneo-logo-dark.png"),v("/lovable-uploads/future.png")])}catch(_){console.warn("Some images failed to preload:",_),m(!0)}})()},[v]),p.useEffect(()=>{if(!r&&n){const w=n.user_type||localStorage.getItem("userRole")||"user",_=lu(window.location.pathname)||localStorage.getItem("appLanguage")||"en";if(w==="academy"){const S=ga("/academy/dashboard",_);e(S,{replace:!0})}else{const S=ga("/home",_);e(S,{replace:!0})}}},[n,r,e]),p.useEffect(()=>{document.title="Login | Breneo",(document.querySelector('meta[name="description"]')||(()=>{const S=document.createElement("meta");return S.setAttribute("name","description"),document.head.appendChild(S),S})()).setAttribute("content","Log in to your Breneo account."),(document.querySelector('link[rel="canonical"]')||(()=>{const S=document.createElement("link");return S.setAttribute("rel","canonical"),document.head.appendChild(S),S})()).setAttribute("href",`${window.location.origin}/auth/login`)},[]);const x=async w=>{w.preventDefault();let _=!1;try{const S=await Se.post(Je.AUTH.ACADEMY_LOGIN,{email:s,password:i}),k=S.data.access||S.data.token,E=S.data.refresh;if(!k)throw new Error("Login succeeded but did not return the required token.");E?Pn.setTokens(k,E):localStorage.setItem("authToken",k),localStorage.setItem("userRole","academy"),window.location.href="/academy/dashboard";return}catch{console.log("Academy login failed, trying regular login..."),_=!0}if(_)try{await t(s,i)}catch(S){let k="Login failed. Please try again.",E=!1;if(Xt.isAxiosError(S)&&S.response&&S.response.data){const j=S.response.data;let N="";if(typeof j.detail=="string"?N=j.detail:typeof j.message=="string"?N=j.message:typeof j.error=="string"?N=j.error:Array.isArray(j.non_field_errors)&&j.non_field_errors.length>0&&typeof j.non_field_errors[0]=="string"&&(N=j.non_field_errors[0]),N){k=N;const C=N.toLowerCase();(C.includes("email not verified")||C.includes("account not active")||C.includes("please verify your email")||C.includes("e-mail address not verified")||C.includes("user is inactive"))&&(E=!0)}else console.error("Unknown error format from server:",j)}E?(fe.info("Your account is not verified. Redirecting to verification..."),sessionStorage.setItem("tempEmail",s),sessionStorage.setItem("tempPassword",i),e("/auth/email-verification")):(fe.error(k),console.error("Login page caught error (see details below):",S instanceof Error?S.message:String(S)),Xt.isAxiosError(S)&&S.response&&console.error("Server response data:",S.response.data))}},b=r;return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!d&&!g&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(fn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-6 lg:h-5 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{m(!0),f(!0)}}),g&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-border rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-muted-foreground",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!d&&!g&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(fn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-8 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{m(!0),f(!0)}}),g&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-border rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-muted-foreground",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Sign In"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Welcome back to your Breneo account"}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"emailOrUsername",children:"Email or Username"}),o.jsx(Qe,{id:"emailOrUsername",type:"text",placeholder:"Enter your email or username",className:"mt-1 h-[3.2rem]",value:s,onChange:w=>a(w.target.value),required:!0,disabled:b})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Qe,{id:"password",type:c?"text":"password",placeholder:"Enter your password",className:"pr-10 h-[3.2rem]",value:i,onChange:w=>l(w.target.value),required:!0,disabled:b}),o.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),disabled:b,children:c?o.jsx(ug,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):o.jsx(Df,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]}),o.jsx("div",{className:"flex justify-end mt-2",children:o.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",onClick:()=>e("/auth/reset-password"),children:"Forgot Password?"})})]}),o.jsx(ne,{type:"submit",className:"w-full h-14",disabled:b,children:b?"Signing In...":"Sign In"})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Don't have an account?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/signup"),children:"Sign Up"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!h&&!g&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(fn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${h?"opacity-100":"opacity-0"}`,style:{backgroundImage:h?"url('/lovable-uploads/cover_3.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/cover_3.png",alt:"",className:"hidden",onLoad:()=>y(!0),onError:()=>{m(!0),y(!0)}}),g&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(fn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})};function vm(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function p4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function iz(...e){return t=>{let r=!1;const n=e.map(s=>{const a=p4(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():p4(e[s],null)}}}}function qw(...e){return p.useCallback(iz(...e),e)}function Cde(e,t){const r=p.createContext(t),n=a=>{const{children:i,...l}=a,c=p.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=p.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function Pde(e,t=[]){let r=[];function n(a,i){const l=p.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:y,...g}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=p.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:y})};u.displayName=a+"Provider";function d(f,h){var m;const y=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=p.useContext(y);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Ade(s,...t)]}function Ade(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Fx=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Tde=hh[" useId ".trim().toString()]||(()=>{}),Ode=0;function bS(e){const[t,r]=p.useState(Tde());return Fx(()=>{e||r(n=>n??String(Ode++))},[e]),e||(t?`radix-${t}`:"")}var $de=hh[" useInsertionEffect ".trim().toString()]||Fx;function Rde({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=Mde({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const h=Ide(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else a(d)},[l,e,a,i]);return[c,u]}function Mde({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),s=p.useRef(r),a=p.useRef(t);return $de(()=>{a.current=t},[t]),p.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function Ide(e){return typeof e=="function"}function wS(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function m4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function oz(...e){return t=>{let r=!1;const n=e.map(s=>{const a=m4(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():m4(e[s],null)}}}}function lz(...e){return p.useCallback(oz(...e),e)}function Lde(e){const t=Dde(e),r=p.forwardRef((n,s)=>{const{children:a,...i}=n,l=p.Children.toArray(a),c=l.find(Bde);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function Dde(e){const t=p.forwardRef((r,n)=>{const{children:s,...a}=r;if(p.isValidElement(s)){const i=zde(s),l=Ude(a,s.props);return s.type!==p.Fragment&&(l.ref=n?oz(n,i):i),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Fde=Symbol("radix.slottable");function Bde(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Fde}function Ude(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function zde(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var qde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cz=qde.reduce((e,t)=>{const r=Lde(`Primitive.${t}`),n=p.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Wde(e,t){e&&zu.flushSync(()=>e.dispatchEvent(t))}function uz(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Vde(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Hde(e,t=globalThis==null?void 0:globalThis.document){const r=Vde(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Kde="DismissableLayer",VE="dismissableLayer.update",Gde="dismissableLayer.pointerDownOutside",Yde="dismissableLayer.focusOutside",g4,dz=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fz=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(dz),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),g=lz(t,E=>f(E)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),b=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=Qde(E=>{const j=E.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(E),i==null||i(E),E.defaultPrevented||l==null||l())},h),k=Zde(E=>{const j=E.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(E),i==null||i(E),E.defaultPrevented||l==null||l())},h);return Hde(E=>{b===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(g4=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),y4(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=g4)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),y4())},[d,u]),p.useEffect(()=>{const E=()=>y({});return document.addEventListener(VE,E),()=>document.removeEventListener(VE,E)},[]),o.jsx(cz.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:wS(e.onFocusCapture,k.onFocusCapture),onBlurCapture:wS(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:wS(e.onPointerDownCapture,S.onPointerDownCapture)})});fz.displayName=Kde;var Jde="DismissableLayerBranch",Xde=p.forwardRef((e,t)=>{const r=p.useContext(dz),n=p.useRef(null),s=lz(t,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(cz.div,{...e,ref:s})});Xde.displayName=Jde;function Qde(e,t=globalThis==null?void 0:globalThis.document){const r=uz(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){hz(Gde,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Zde(e,t=globalThis==null?void 0:globalThis.document){const r=uz(e),n=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!n.current&&hz(Yde,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function y4(){const e=new CustomEvent(VE);document.dispatchEvent(e)}function hz(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Wde(s,a):s.dispatchEvent(a)}function v4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function pz(...e){return t=>{let r=!1;const n=e.map(s=>{const a=v4(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():v4(e[s],null)}}}}function efe(...e){return p.useCallback(pz(...e),e)}function tfe(e){const t=rfe(e),r=p.forwardRef((n,s)=>{const{children:a,...i}=n,l=p.Children.toArray(a),c=l.find(sfe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function rfe(e){const t=p.forwardRef((r,n)=>{const{children:s,...a}=r;if(p.isValidElement(s)){const i=ife(s),l=afe(a,s.props);return s.type!==p.Fragment&&(l.ref=n?pz(n,i):i),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nfe=Symbol("radix.slottable");function sfe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nfe}function afe(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function ife(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ofe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lfe=ofe.reduce((e,t)=>{const r=tfe(`Primitive.${t}`),n=p.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function x4(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var _S="focusScope.autoFocusOnMount",SS="focusScope.autoFocusOnUnmount",b4={bubbles:!1,cancelable:!0},cfe="FocusScope",mz=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=p.useState(null),u=x4(s),d=x4(a),f=p.useRef(null),h=efe(t,m=>c(m)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(w){if(y.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:ll(f.current,{select:!0})},v=function(w){if(y.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||ll(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&ll(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,y.paused]),p.useEffect(()=>{if(l){_4.add(y);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(_S,b4);l.addEventListener(_S,u),l.dispatchEvent(x),x.defaultPrevented||(ufe(mfe(gz(l)),{select:!0}),document.activeElement===m&&ll(l))}return()=>{l.removeEventListener(_S,u),setTimeout(()=>{const x=new CustomEvent(SS,b4);l.addEventListener(SS,d),l.dispatchEvent(x),x.defaultPrevented||ll(m??document.body,{select:!0}),l.removeEventListener(SS,d),_4.remove(y)},0)}}},[l,u,d,y]);const g=p.useCallback(m=>{if(!r&&!n||y.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const b=m.currentTarget,[w,_]=dfe(b);w&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&ll(w,{select:!0})):m.shiftKey&&x===w&&(m.preventDefault(),r&&ll(_,{select:!0})):x===b&&m.preventDefault()}},[r,n,y.paused]);return o.jsx(lfe.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});mz.displayName=cfe;function ufe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ll(n,{select:t}),document.activeElement!==r)return}function dfe(e){const t=gz(e),r=w4(t,e),n=w4(t.reverse(),e);return[r,n]}function gz(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function w4(e,t){for(const r of e)if(!ffe(r,{upTo:t}))return r}function ffe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function hfe(e){return e instanceof HTMLInputElement&&"select"in e}function ll(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&hfe(e)&&t&&e.select()}}var _4=pfe();function pfe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=S4(e,t),e.unshift(t)},remove(t){var r;e=S4(e,t),(r=e[0])==null||r.resume()}}}function S4(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function mfe(e){return e.filter(t=>t.tagName!=="A")}function j4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gfe(...e){return t=>{let r=!1;const n=e.map(s=>{const a=j4(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():j4(e[s],null)}}}}function yfe(e){const t=vfe(e),r=p.forwardRef((n,s)=>{const{children:a,...i}=n,l=p.Children.toArray(a),c=l.find(bfe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function vfe(e){const t=p.forwardRef((r,n)=>{const{children:s,...a}=r;if(p.isValidElement(s)){const i=_fe(s),l=wfe(a,s.props);return s.type!==p.Fragment&&(l.ref=n?gfe(n,i):i),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xfe=Symbol("radix.slottable");function bfe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xfe}function wfe(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function _fe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Sfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jfe=Sfe.reduce((e,t)=>{const r=yfe(`Primitive.${t}`),n=p.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),kfe=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Efe="Portal",yz=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=p.useState(!1);kfe(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?my.createPortal(o.jsx(jfe.div,{...n,ref:t}),i):null});yz.displayName=Efe;function Nfe(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var Ww=e=>{const{present:t,children:r}=e,n=Cfe(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),a=qw(n.ref,Pfe(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:a}):null};Ww.displayName="Presence";function Cfe(e){const[t,r]=p.useState(),n=p.useRef(null),s=p.useRef(e),a=p.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Nfe(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Tv(n.current);a.current=l==="mounted"?u:"none"},[l]),Fx(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,y=Tv(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Fx(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=y=>{const m=Tv(n.current).includes(CSS.escape(y.animationName));if(y.target===t&&m&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=y=>{y.target===t&&(a.current=Tv(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Tv(e){return(e==null?void 0:e.animationName)||"none"}function Pfe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function vz(e){const t=Afe(e),r=p.forwardRef((n,s)=>{const{children:a,...i}=n,l=p.Children.toArray(a),c=l.find(Ofe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function Afe(e){const t=p.forwardRef((r,n)=>{const{children:s,...a}=r;if(p.isValidElement(s)){const i=Rfe(s),l=$fe(a,s.props);return s.type!==p.Fragment&&(l.ref=n?iz(n,i):i),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Tfe=Symbol("radix.slottable");function Ofe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Tfe}function $fe(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function Rfe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Mfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ey=Mfe.reduce((e,t)=>{const r=vz(`Primitive.${t}`),n=p.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),jS=0;function Ife(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??k4()),document.body.insertAdjacentElement("beforeend",e[1]??k4()),jS++,()=>{jS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jS--}},[])}function k4(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yr=function(){return yr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},yr.apply(this,arguments)};function Ny(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Vw(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var fu="right-scroll-bar-position",hu="width-before-scroll-bar",Lfe="with-scroll-bars-hidden",Dfe="--removed-body-scroll-bar-size";function kS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Ffe(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var Bfe=typeof window<"u"?p.useLayoutEffect:p.useEffect,E4=new WeakMap;function Hw(e,t){var r=Ffe(null,function(n){return e.forEach(function(s){return kS(s,n)})});return Bfe(function(){var n=E4.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(l){a.has(l)||kS(l,null)}),a.forEach(function(l){s.has(l)||kS(l,i)})}E4.set(r,e)},[e]),r}function Ufe(e){return e}function zfe(e,t){t===void 0&&(t=Ufe);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function Kw(e){e===void 0&&(e={});var t=zfe(null);return t.options=yr({async:!0,ssr:!1},e),t}var xz=function(e){var t=e.sideCar,r=Ny(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,yr({},r))};xz.isSideCarExport=!0;function Gw(e,t){return e.useMedium(t),xz}var bz=Kw(),ES=function(){},Yw=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:ES,onWheelCapture:ES,onTouchMoveCapture:ES}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,y=e.noRelative,g=e.noIsolation,m=e.inert,v=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,w=e.gapMode,_=Ny(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,k=Hw([r,t]),E=yr(yr({},_),s);return p.createElement(p.Fragment,null,d&&p.createElement(S,{sideCar:bz,removeScrollBar:u,shards:f,noRelative:y,noIsolation:g,inert:m,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:w}),i?p.cloneElement(p.Children.only(l),yr(yr({},E),{ref:k})):p.createElement(b,yr({},E,{className:c,ref:k}),l))});Yw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yw.classNames={fullWidth:hu,zeroRight:fu};var qfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Wfe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qfe();return t&&e.setAttribute("nonce",t),e}function Vfe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Hfe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Kfe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Wfe())&&(Vfe(t,r),Hfe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Gfe=function(){var e=Kfe();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Cy=function(){var e=Gfe(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},Yfe={left:0,top:0,right:0,gap:0},NS=function(e){return parseInt(e||"",10)||0},Jfe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[NS(r),NS(n),NS(s)]},Xfe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Yfe;var t=Jfe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Qfe=Cy(),ef="data-scroll-locked",Zfe=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Lfe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ef,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(hu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(fu," .").concat(fu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(hu," .").concat(hu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ef,`] {
    `).concat(Dfe,": ").concat(l,`px;
  }
`)},N4=function(){var e=parseInt(document.body.getAttribute(ef)||"0",10);return isFinite(e)?e:0},ehe=function(){p.useEffect(function(){return document.body.setAttribute(ef,(N4()+1).toString()),function(){var e=N4()-1;e<=0?document.body.removeAttribute(ef):document.body.setAttribute(ef,e.toString())}},[])},Jw=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;ehe();var a=p.useMemo(function(){return Xfe(s)},[s]);return p.createElement(Qfe,{styles:Zfe(a,!t,s,r?"":"!important")})},HE=!1;if(typeof window<"u")try{var Ov=Object.defineProperty({},"passive",{get:function(){return HE=!0,!0}});window.addEventListener("test",Ov,Ov),window.removeEventListener("test",Ov,Ov)}catch{HE=!1}var Zu=HE?{passive:!1}:!1,the=function(e){return e.tagName==="TEXTAREA"},wz=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!the(e)&&r[t]==="visible")},rhe=function(e){return wz(e,"overflowY")},nhe=function(e){return wz(e,"overflowX")},C4=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=_z(e,n);if(s){var a=Sz(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},she=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ahe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},_z=function(e,t){return e==="v"?rhe(t):nhe(t)},Sz=function(e,t){return e==="v"?she(t):ahe(t)},ihe=function(e,t){return e==="h"&&t==="rtl"?-1:1},ohe=function(e,t,r,n,s){var a=ihe(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var y=Sz(e,l),g=y[0],m=y[1],v=y[2],x=m-v-a*g;(g||x)&&_z(e,l)&&(f+=x,h+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},$v=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},P4=function(e){return[e.deltaX,e.deltaY]},A4=function(e){return e&&"current"in e?e.current:e},lhe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},che=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},uhe=0,ed=[];function dhe(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(uhe++)[0],a=p.useState(Cy)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Vw([e.lockRef.current],(e.shards||[]).map(A4),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var x=$v(m),b=r.current,w="deltaX"in m?m.deltaX:b[0]-x[0],_="deltaY"in m?m.deltaY:b[1]-x[1],S,k=m.target,E=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&E==="h"&&k.type==="range")return!1;var j=C4(E,k);if(!j)return!0;if(j?S=E:(S=E==="v"?"h":"v",j=C4(E,k)),!j)return!1;if(!n.current&&"changedTouches"in m&&(w||_)&&(n.current=S),!S)return!0;var N=n.current||S;return ohe(N,v,m,N==="h"?w:_,!0)},[]),c=p.useCallback(function(m){var v=m;if(!(!ed.length||ed[ed.length-1]!==a)){var x="deltaY"in v?P4(v):$v(v),b=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&lhe(S.delta,x)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(A4).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=w.length>0?l(v,w[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=p.useCallback(function(m,v,x,b){var w={name:m,delta:v,target:x,should:b,shadowParent:fhe(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=p.useCallback(function(m){r.current=$v(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,P4(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,$v(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return ed.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Zu),document.addEventListener("touchmove",c,Zu),document.addEventListener("touchstart",d,Zu),function(){ed=ed.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,Zu),document.removeEventListener("touchmove",c,Zu),document.removeEventListener("touchstart",d,Zu)}},[]);var y=e.removeScrollBar,g=e.inert;return p.createElement(p.Fragment,null,g?p.createElement(a,{styles:che(s)}):null,y?p.createElement(Jw,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function fhe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const hhe=Gw(bz,dhe);var jz=p.forwardRef(function(e,t){return p.createElement(Yw,yr({},e,{ref:t,sideCar:hhe}))});jz.classNames=Yw.classNames;var phe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},td=new WeakMap,Rv=new WeakMap,Mv={},CS=0,kz=function(e){return e&&(e.host||kz(e.parentNode))},mhe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=kz(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ghe=function(e,t,r,n){var s=mhe(t,Array.isArray(e)?e:[e]);Mv[r]||(Mv[r]=new WeakMap);var a=Mv[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var y=h.getAttribute(n),g=y!==null&&y!=="false",m=(td.get(h)||0)+1,v=(a.get(h)||0)+1;td.set(h,m),a.set(h,v),i.push(h),m===1&&g&&Rv.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),CS++,function(){i.forEach(function(f){var h=td.get(f)-1,y=a.get(f)-1;td.set(f,h),a.set(f,y),h||(Rv.has(f)||f.removeAttribute(n),Rv.delete(f)),y||f.removeAttribute(r)}),CS--,CS||(td=new WeakMap,td=new WeakMap,Rv=new WeakMap,Mv={})}},Xw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=phe(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),ghe(n,s,r,"aria-hidden")):function(){return null}},Qw="Dialog",[Ez,KKe]=Pde(Qw),[yhe,pi]=Ez(Qw),Nz=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=Rde({prop:n,defaultProp:s??!1,onChange:a,caller:Qw});return o.jsx(yhe,{scope:t,triggerRef:l,contentRef:c,contentId:bS(),titleId:bS(),descriptionId:bS(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};Nz.displayName=Qw;var Cz="DialogTrigger",Pz=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=pi(Cz,r),a=qw(t,s.triggerRef);return o.jsx(Ey.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":dA(s.open),...n,ref:a,onClick:vm(e.onClick,s.onOpenToggle)})});Pz.displayName=Cz;var cA="DialogPortal",[vhe,Az]=Ez(cA,{forceMount:void 0}),Tz=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=pi(cA,t);return o.jsx(vhe,{scope:t,forceMount:r,children:p.Children.map(n,i=>o.jsx(Ww,{present:r||a.open,children:o.jsx(yz,{asChild:!0,container:s,children:i})}))})};Tz.displayName=cA;var Bx="DialogOverlay",Oz=p.forwardRef((e,t)=>{const r=Az(Bx,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=pi(Bx,e.__scopeDialog);return a.modal?o.jsx(Ww,{present:n||a.open,children:o.jsx(bhe,{...s,ref:t})}):null});Oz.displayName=Bx;var xhe=vz("DialogOverlay.RemoveScroll"),bhe=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=pi(Bx,r);return o.jsx(jz,{as:xhe,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Ey.div,{"data-state":dA(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Au="DialogContent",$z=p.forwardRef((e,t)=>{const r=Az(Au,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=pi(Au,e.__scopeDialog);return o.jsx(Ww,{present:n||a.open,children:a.modal?o.jsx(whe,{...s,ref:t}):o.jsx(_he,{...s,ref:t})})});$z.displayName=Au;var whe=p.forwardRef((e,t)=>{const r=pi(Au,e.__scopeDialog),n=p.useRef(null),s=qw(t,r.contentRef,n);return p.useEffect(()=>{const a=n.current;if(a)return Xw(a)},[]),o.jsx(Rz,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vm(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:vm(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:vm(e.onFocusOutside,a=>a.preventDefault())})}),_he=p.forwardRef((e,t)=>{const r=pi(Au,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return o.jsx(Rz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Rz=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=pi(Au,r),c=p.useRef(null),u=qw(t,c);return Ife(),o.jsxs(o.Fragment,{children:[o.jsx(mz,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(fz,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":dA(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(She,{titleId:l.titleId}),o.jsx(khe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),uA="DialogTitle",Mz=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=pi(uA,r);return o.jsx(Ey.h2,{id:s.titleId,...n,ref:t})});Mz.displayName=uA;var Iz="DialogDescription",Lz=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=pi(Iz,r);return o.jsx(Ey.p,{id:s.descriptionId,...n,ref:t})});Lz.displayName=Iz;var Dz="DialogClose",Fz=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=pi(Dz,r);return o.jsx(Ey.button,{type:"button",...n,ref:t,onClick:vm(e.onClick,()=>s.onOpenChange(!1))})});Fz.displayName=Dz;function dA(e){return e?"open":"closed"}var Bz="DialogTitleWarning",[GKe,Uz]=Cde(Bz,{contentName:Au,titleName:uA,docsSlug:"dialog"}),She=({titleId:e})=>{const t=Uz(Bz),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},jhe="DialogDescriptionWarning",khe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Uz(jhe).contentName}}.`;return p.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},fA=Nz,Ehe=Pz,hA=Tz,Ph=Oz,Py=$z,Ay=Mz,Ty=Lz,zz=Fz;const Xs=fA,Nhe=hA,qz=p.forwardRef(({className:e,...t},r)=>o.jsx(Ph,{ref:r,className:le("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));qz.displayName=Ph.displayName;const Ps=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Nhe,{children:[o.jsx(qz,{}),o.jsxs(Py,{ref:n,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background/90 backdrop-blur-md p-6 shadow-lg duration-150 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-[36px]",e),...r,children:[t,o.jsxs(zz,{className:"absolute right-6 top-6 rounded-full bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 h-7 w-7 flex items-center justify-center shrink-0 transition-colors p-0",children:[o.jsx(Er,{className:"h-3.5 w-3.5"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ps.displayName=Py.displayName;const As=({className:e,...t})=>o.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});As.displayName="DialogHeader";const Xa=({className:e,...t})=>o.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Xa.displayName="DialogFooter";const Ts=p.forwardRef(({className:e,...t},r)=>o.jsx(Ay,{ref:r,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));Ts.displayName=Ay.displayName;const tf=p.forwardRef(({className:e,...t},r)=>o.jsx(Ty,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));tf.displayName=Ty.displayName;function Che(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Wz=M.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Ah=()=>{const e=M.useContext(Wz);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Che(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const Phe=24,Ahe=typeof window<"u"?p.useLayoutEffect:p.useEffect;function T4(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function The(){return pA(/^Mac/)}function Ohe(){return pA(/^iPhone/)}function O4(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function $he(){return pA(/^iPad/)||The()&&navigator.maxTouchPoints>1}function Vz(){return Ohe()||$he()}function pA(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const PS=typeof document<"u"&&window.visualViewport;function $4(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Hz(e){for($4(e)&&(e=e.parentElement);e&&!$4(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Rhe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Iv=0,AS;function Mhe(e={}){let{isDisabled:t}=e;Ahe(()=>{if(!t)return Iv++,Iv===1&&Vz()&&(AS=Ihe()),()=>{Iv--,Iv===0&&(AS==null||AS())}},[t])}function Ihe(){let e,t=0,r=f=>{e=Hz(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},n=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,y=e.scrollTop,g=e.scrollHeight-e.clientHeight;g!==0&&((y<=0&&h>t||y>=g&&h<t)&&f.preventDefault(),t=h)},s=f=>{let h=f.target;KE(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},a=f=>{let h=f.target;KE(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",PS&&(PS.height<window.innerHeight?requestAnimationFrame(()=>{R4(h)}):PS.addEventListener("resize",()=>R4(h),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=T4(Lhe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=T4(_p(document,"touchstart",r,{passive:!1,capture:!0}),_p(document,"touchmove",n,{passive:!1,capture:!0}),_p(document,"touchend",s,{passive:!1,capture:!0}),_p(document,"focus",a,!0),_p(window,"scroll",i));return()=>{u(),d(),window.scrollTo(l,c)}}function Lhe(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function _p(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function R4(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=Hz(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,s=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const i=r.getBoundingClientRect().bottom+Phe;a>i&&(r.scrollTop+=s-n)}e=r.parentElement}}function KE(e){return e instanceof HTMLInputElement&&!Rhe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Dhe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Fhe(...e){return t=>e.forEach(r=>Dhe(r,t))}function Kz(...e){return p.useCallback(Fhe(...e),e)}const Gz=new WeakMap;function mn(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([s,a])=>{if(s.startsWith("--")){e.style.setProperty(s,a);return}n[s]=e.style[s],e.style[s]=a}),!r&&Gz.set(e,n)}function Bhe(e,t){if(!e||!(e instanceof HTMLElement))return;let r=Gz.get(e);r&&(e.style[t]=r[t])}const yn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Lv(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let s=n.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[yn(t)?13:12]):(s=n.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[yn(t)?5:4]):null)}function Uhe(e){return 8*(Math.log(e+1)-2)}function TS(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function zhe(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const Ur={DURATION:.5,EASE:[.32,.72,0,1]},Yz=.4,qhe=.25,Whe=100,Jz=8,Ec=16,GE=26,OS="vaul-dragging";function Xz(e){const t=M.useRef(e);return M.useEffect(()=>{t.current=e}),M.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function Vhe({defaultProp:e,onChange:t}){const r=M.useState(e),[n]=r,s=M.useRef(n),a=Xz(t);return M.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}function Qz({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Vhe({defaultProp:t,onChange:r}),a=e!==void 0,i=a?e:n,l=Xz(r),c=M.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[i,c]}function Hhe({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:s,fadeFromIndex:a,onSnapPointChange:i,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=Qz({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[h,y]=M.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);M.useEffect(()=>{function E(){y({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const g=M.useMemo(()=>d===(r==null?void 0:r[r.length-1])||null,[r,d]),m=M.useMemo(()=>r==null?void 0:r.findIndex(E=>E===d),[r,d]),v=r&&r.length>0&&(a||a===0)&&!Number.isNaN(a)&&r[a]===d||!r,x=M.useMemo(()=>{const E=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var j;return(j=r==null?void 0:r.map(N=>{const C=typeof N=="string";let P=0;if(C&&(P=parseInt(N,10)),yn(l)){const B=C?P:h?N*E.height:0;return h?l==="bottom"?E.height-B:-E.height+B:B}const R=C?P:h?N*E.width:0;return h?l==="right"?E.width-R:-E.width+R:R}))!=null?j:[]},[r,h,c]),b=M.useMemo(()=>m!==null?x==null?void 0:x[m]:null,[x,m]),w=M.useCallback(E=>{var j;const N=(j=x==null?void 0:x.findIndex(C=>C===E))!=null?j:null;i(N),mn(n.current,{transition:`transform ${Ur.DURATION}s cubic-bezier(${Ur.EASE.join(",")})`,transform:yn(l)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`}),x&&N!==x.length-1&&N!==a&&N<a?mn(s.current,{transition:`opacity ${Ur.DURATION}s cubic-bezier(${Ur.EASE.join(",")})`,opacity:"0"}):mn(s.current,{transition:`opacity ${Ur.DURATION}s cubic-bezier(${Ur.EASE.join(",")})`,opacity:"1"}),f(r==null?void 0:r[Math.max(N,0)])},[n.current,r,x,a,s,f]);M.useEffect(()=>{if(d||e){var E;const j=(E=r==null?void 0:r.findIndex(N=>N===e||N===d))!=null?E:-1;x&&j!==-1&&typeof x[j]=="number"&&w(x[j])}},[d,e,r,x,w]);function _({draggedDistance:E,closeDrawer:j,velocity:N,dismissible:C}){if(a===void 0)return;const P=l==="bottom"||l==="right"?(b??0)-E:(b??0)+E,R=m===a-1,B=m===0,z=E>0;if(R&&mn(s.current,{transition:`opacity ${Ur.DURATION}s cubic-bezier(${Ur.EASE.join(",")})`}),!u&&N>2&&!z){C?j():w(x[0]);return}if(!u&&N>2&&z&&x&&r){w(x[r.length-1]);return}const D=x==null?void 0:x.reduce((U,A)=>typeof U!="number"||typeof A!="number"?U:Math.abs(A-P)<Math.abs(U-P)?A:U),O=yn(l)?window.innerHeight:window.innerWidth;if(N>Yz&&Math.abs(E)<O*.4){const U=z?1:-1;if(U>0&&g){w(x[r.length-1]);return}if(B&&U<0&&C&&j(),m===null)return;w(x[m+U]);return}w(D)}function S({draggedDistance:E}){if(b===null)return;const j=l==="bottom"||l==="right"?b-E:b+E;(l==="bottom"||l==="right")&&j<x[x.length-1]||(l==="top"||l==="left")&&j>x[x.length-1]||mn(n.current,{transform:yn(l)?`translate3d(0, ${j}px, 0)`:`translate3d(${j}px, 0, 0)`})}function k(E,j){if(!r||typeof m!="number"||!x||a===void 0)return null;const N=m===a-1;if(m>=a&&j)return 0;if(N&&!j)return 1;if(!v&&!N)return null;const P=N?m+1:m-1,R=N?x[P]-x[P-1]:x[P+1]-x[P],B=E/Math.abs(R);return N?1-B:B}return{isLastSnapPoint:g,activeSnapPoint:d,shouldFade:v,getPercentageDragged:k,setActiveSnapPoint:f,activeSnapPointIndex:m,onRelease:_,onDrag:S,snapPointsOffset:x}}const Khe=()=>()=>{};function Ghe(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:s}=Ah(),a=M.useRef(null),i=p.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-GE)/window.innerWidth}M.useEffect(()=>{if(t&&r){a.current&&clearTimeout(a.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;zhe(n&&!s?TS(document.body,{background:"black"}):Khe,TS(c,{transformOrigin:yn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Ur.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ur.EASE.join(",")})`}));const u=TS(c,{borderRadius:`${Jz}px`,overflow:"hidden",...yn(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),a.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},Ur.DURATION*1e3)}}},[t,r,i])}let Sp=null;function Yhe({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:s,noBodyStyles:a}){const[i,l]=M.useState(()=>typeof window<"u"?window.location.href:""),c=M.useRef(0),u=M.useCallback(()=>{if(O4()&&Sp===null&&e&&!a){Sp={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const y=h-window.innerHeight;y&&c.current>=h&&(document.body.style.top=`${-(c.current+y)}px`)}),300)}},[e]),d=M.useCallback(()=>{if(O4()&&Sp!==null&&!a){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Sp),window.requestAnimationFrame(()=>{if(s&&i!==window.location.href){l(window.location.href);return}window.scrollTo(h,f)}),Sp=null}},[i]);return M.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),M.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,n,i,t,r,u,d]),{restorePositionSetting:d}}function Zz({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:s,snapPoints:a,shouldScaleBackground:i=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=qhe,scrollLockTimeout:u=Whe,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:h=a&&a.length-1,activeSnapPoint:y,setActiveSnapPoint:g,fixed:m,modal:v=!0,onClose:x,nested:b,noBodyStyles:w,direction:_="bottom",defaultOpen:S=!1,disablePreventScroll:k=!0,snapToSequentialPoint:E=!1,preventScrollRestoration:j=!1,repositionInputs:N=!0,onAnimationEnd:C,container:P,autoFocus:R=!1}){var B,z;const[D=!1,O]=Qz({defaultProp:S,prop:e,onChange:he=>{t==null||t(he),!he&&!b&&lt(),setTimeout(()=>{C==null||C(he)},Ur.DURATION*1e3),he&&!v&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),he||(document.body.style.pointerEvents="auto")}}),[U,A]=M.useState(!1),[I,te]=M.useState(!1),[$,V]=M.useState(!1),W=M.useRef(null),ee=M.useRef(null),ie=M.useRef(null),G=M.useRef(null),q=M.useRef(null),Z=M.useRef(!1),Y=M.useRef(null),J=M.useRef(0),se=M.useRef(!1),Q=M.useRef(0),ue=M.useRef(null),ce=M.useRef(((B=ue.current)==null?void 0:B.getBoundingClientRect().height)||0),ve=M.useRef(((z=ue.current)==null?void 0:z.getBoundingClientRect().width)||0),we=M.useRef(0),Te=M.useCallback(he=>{a&&he===X.length-1&&(ee.current=new Date)},[]),{activeSnapPoint:pt,activeSnapPointIndex:st,setActiveSnapPoint:bt,onRelease:F,snapPointsOffset:X,onDrag:ye,shouldFade:Ce,getPercentageDragged:Ge}=Hhe({snapPoints:a,activeSnapPointProp:y,setActiveSnapPointProp:g,drawerRef:ue,fadeFromIndex:h,overlayRef:W,onSnapPointChange:Te,direction:_,container:P,snapToSequentialPoint:E});Mhe({isDisabled:!D||I||!v||$||!U||!N||!k});const{restorePositionSetting:lt}=Yhe({isOpen:D,modal:v,nested:b,hasBeenOpened:U,preventScrollRestoration:j,noBodyStyles:w});function Ve(){return(window.innerWidth-GE)/window.innerWidth}function We(he){var Ne,Ue;!d&&!a||ue.current&&!ue.current.contains(he.target)||(ce.current=((Ne=ue.current)==null?void 0:Ne.getBoundingClientRect().height)||0,ve.current=((Ue=ue.current)==null?void 0:Ue.getBoundingClientRect().width)||0,te(!0),ie.current=new Date,Vz()&&window.addEventListener("touchend",()=>Z.current=!1,{once:!0}),he.target.setPointerCapture(he.pointerId),J.current=yn(_)?he.pageY:he.pageX)}function tt(he,Ne){var Ue,De;let Me=he;const Ft=(Ue=window.getSelection())==null?void 0:Ue.toString(),Oe=ue.current?Lv(ue.current,_):null,yt=new Date;if(Me.hasAttribute("data-vaul-no-drag")||Me.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(ee.current&&yt.getTime()-ee.current.getTime()<500)return!1;if(Oe!==null&&(_==="bottom"?Oe>0:Oe<0))return!0;if(Ft&&Ft.length>0)return!1;if(yt.getTime()-((De=q.current)==null?void 0:De.getTime())<u&&Oe===0||Ne)return q.current=yt,!1;for(;Me;){if(Me.scrollHeight>Me.clientHeight){if(Me.scrollTop!==0)return q.current=new Date,!1;if(Me.getAttribute("role")==="dialog")return!0}Me=Me.parentNode}return!0}function K(he){if(ue.current&&I){const Ne=_==="bottom"||_==="right"?1:-1,Ue=(J.current-(yn(_)?he.pageY:he.pageX))*Ne,De=Ue>0,Me=a&&!d&&!De;if(Me&&st===0)return;const Ft=Math.abs(Ue),Oe=document.querySelector("[data-vaul-drawer-wrapper]"),yt=_==="bottom"||_==="top"?ce.current:ve.current;let mt=Ft/yt;const Pt=Ge(Ft,De);if(Pt!==null&&(mt=Pt),Me&&mt>=1||!Z.current&&!tt(he.target,De))return;if(ue.current.classList.add(OS),Z.current=!0,mn(ue.current,{transition:"none"}),mn(W.current,{transition:"none"}),a&&ye({draggedDistance:Ue}),De&&!a){const L=Uhe(Ue),pe=Math.min(L*-1,0)*Ne;mn(ue.current,{transform:yn(_)?`translate3d(0, ${pe}px, 0)`:`translate3d(${pe}px, 0, 0)`});return}const T=1-mt;if((Ce||h&&st===h-1)&&(n==null||n(he,mt),mn(W.current,{opacity:`${T}`,transition:"none"},!0)),Oe&&W.current&&i){const L=Math.min(Ve()+mt*(1-Ve()),1),pe=8-mt*8,Fe=Math.max(0,14-mt*14);mn(Oe,{borderRadius:`${pe}px`,transform:yn(_)?`scale(${L}) translate3d(0, ${Fe}px, 0)`:`scale(${L}) translate3d(${Fe}px, 0, 0)`,transition:"none"},!0)}if(!a){const L=Ft*Ne;mn(ue.current,{transform:yn(_)?`translate3d(0, ${L}px, 0)`:`translate3d(${L}px, 0, 0)`})}}}M.useEffect(()=>{var he;function Ne(){if(!ue.current||!N)return;const Ue=document.activeElement;if(KE(Ue)||se.current){var De;const Me=((De=window.visualViewport)==null?void 0:De.height)||0,Ft=window.innerHeight;let Oe=Ft-Me;const yt=ue.current.getBoundingClientRect().height||0,mt=yt>Ft*.8;we.current||(we.current=yt);const Pt=ue.current.getBoundingClientRect().top;if(Math.abs(Q.current-Oe)>60&&(se.current=!se.current),a&&a.length>0&&X&&st){const T=X[st]||0;Oe+=T}if(Q.current=Oe,yt>Me||se.current){const T=ue.current.getBoundingClientRect().height;let L=T;T>Me&&(L=Me-(mt?Pt:GE)),m?ue.current.style.height=`${T-Math.max(Oe,0)}px`:ue.current.style.height=`${Math.max(L,Me-Pt)}px`}else ue.current.style.height=`${we.current}px`;a&&a.length>0&&!se.current?ue.current.style.bottom="0px":ue.current.style.bottom=`${Math.max(Oe,0)}px`}}return(he=window.visualViewport)==null||he.addEventListener("resize",Ne),()=>{var Ue;return(Ue=window.visualViewport)==null?void 0:Ue.removeEventListener("resize",Ne)}},[st,a,X]);function H(he){xe(),x==null||x(),he||O(!1),setTimeout(()=>{a&&bt(a[0])},Ur.DURATION*1e3)}function oe(){if(!ue.current)return;const he=document.querySelector("[data-vaul-drawer-wrapper]"),Ne=Lv(ue.current,_);mn(ue.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Ur.DURATION}s cubic-bezier(${Ur.EASE.join(",")})`}),mn(W.current,{transition:`opacity ${Ur.DURATION}s cubic-bezier(${Ur.EASE.join(",")})`,opacity:"1"}),i&&Ne&&Ne>0&&D&&mn(he,{borderRadius:`${Jz}px`,overflow:"hidden",...yn(_)?{transform:`scale(${Ve()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ve()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Ur.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ur.EASE.join(",")})`},!0)}function xe(){!I||!ue.current||(ue.current.classList.remove(OS),Z.current=!1,te(!1),G.current=new Date)}function qe(he){if(!I||!ue.current)return;ue.current.classList.remove(OS),Z.current=!1,te(!1),G.current=new Date;const Ne=Lv(ue.current,_);if(!tt(he.target,!1)||!Ne||Number.isNaN(Ne)||ie.current===null)return;const Ue=G.current.getTime()-ie.current.getTime(),De=J.current-(yn(_)?he.pageY:he.pageX),Me=Math.abs(De)/Ue;if(Me>.05&&(V(!0),setTimeout(()=>{V(!1)},200)),a){F({draggedDistance:De*(_==="bottom"||_==="right"?1:-1),closeDrawer:H,velocity:Me,dismissible:d}),s==null||s(he,!0);return}if(_==="bottom"||_==="right"?De>0:De<0){oe(),s==null||s(he,!0);return}if(Me>Yz){H(),s==null||s(he,!1);return}var Ft;const Oe=Math.min((Ft=ue.current.getBoundingClientRect().height)!=null?Ft:0,window.innerHeight);var yt;const mt=Math.min((yt=ue.current.getBoundingClientRect().width)!=null?yt:0,window.innerWidth),Pt=_==="left"||_==="right";if(Math.abs(Ne)>=(Pt?mt:Oe)*c){H(),s==null||s(he,!1);return}s==null||s(he,!0),oe()}M.useEffect(()=>(D&&(mn(document.documentElement,{scrollBehavior:"auto"}),ee.current=new Date),()=>{Bhe(document.documentElement,"scrollBehavior")}),[D]);function Ae(he){const Ne=he?(window.innerWidth-Ec)/window.innerWidth:1,Ue=he?-Ec:0;Y.current&&window.clearTimeout(Y.current),mn(ue.current,{transition:`transform ${Ur.DURATION}s cubic-bezier(${Ur.EASE.join(",")})`,transform:`scale(${Ne}) translate3d(0, ${Ue}px, 0)`}),!he&&ue.current&&(Y.current=setTimeout(()=>{const De=Lv(ue.current,_);mn(ue.current,{transition:"none",transform:yn(_)?`translate3d(0, ${De}px, 0)`:`translate3d(${De}px, 0, 0)`})},500))}function at(he,Ne){if(Ne<0)return;const Ue=(window.innerWidth-Ec)/window.innerWidth,De=Ue+Ne*(1-Ue),Me=-Ec+Ne*Ec;mn(ue.current,{transform:yn(_)?`scale(${De}) translate3d(0, ${Me}px, 0)`:`scale(${De}) translate3d(${Me}px, 0, 0)`,transition:"none"})}function Ye(he,Ne){const Ue=yn(_)?window.innerHeight:window.innerWidth,De=Ne?(Ue-Ec)/Ue:1,Me=Ne?-Ec:0;Ne&&mn(ue.current,{transition:`transform ${Ur.DURATION}s cubic-bezier(${Ur.EASE.join(",")})`,transform:yn(_)?`scale(${De}) translate3d(0, ${Me}px, 0)`:`scale(${De}) translate3d(${Me}px, 0, 0)`})}return M.createElement(fA,{defaultOpen:S,onOpenChange:he=>{!d&&!he||(he?A(!0):H(!0),O(he))},open:D},M.createElement(Wz.Provider,{value:{activeSnapPoint:pt,snapPoints:a,setActiveSnapPoint:bt,drawerRef:ue,overlayRef:W,onOpenChange:t,onPress:We,onRelease:qe,onDrag:K,dismissible:d,handleOnly:f,isOpen:D,isDragging:I,shouldFade:Ce,closeDrawer:H,onNestedDrag:at,onNestedOpenChange:Ae,onNestedRelease:Ye,keyboardIsOpen:se,modal:v,snapPointsOffset:X,direction:_,shouldScaleBackground:i,setBackgroundColorOnScale:l,noBodyStyles:w,container:P,autoFocus:R}},r))}const eq=M.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:s,shouldFade:a,isOpen:i,modal:l}=Ah(),c=Kz(t,r),u=n&&n.length>0;return l?M.createElement(Ph,{onMouseUp:s,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":i&&u?"true":"false","data-vaul-snap-points-overlay":i&&a?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});eq.displayName="Drawer.Overlay";const tq=M.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},s){const{drawerRef:a,onPress:i,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,modal:f,isOpen:h,direction:y,snapPoints:g,container:m,handleOnly:v,autoFocus:x}=Ah(),[b,w]=M.useState(!1),_=Kz(s,a),S=M.useRef(null),k=M.useRef(null),E=M.useRef(!1),j=g&&g.length>0;Ghe();const N=(P,R,B=0)=>{if(E.current)return!0;const z=Math.abs(P.y),D=Math.abs(P.x),O=D>z,U=["bottom","right"].includes(R)?1:-1;if(R==="left"||R==="right"){if(!(P.x*U<0)&&D>=0&&D<=B)return O}else if(!(P.y*U<0)&&z>=0&&z<=B)return!O;return E.current=!0,!0};M.useEffect(()=>{j&&window.requestAnimationFrame(()=>{w(!0)})},[]);function C(P){S.current=null,E.current=!1,l(P)}return M.createElement(Py,{"data-vaul-drawer-direction":y,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":h&&j?"true":"false","data-vaul-custom-container":m?"true":"false",...n,ref:_,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...t}:t,onPointerDown:P=>{v||(n.onPointerDown==null||n.onPointerDown.call(n,P),S.current={x:P.pageX,y:P.pageY},i(P))},onOpenAutoFocus:P=>{r==null||r(P),x||P.preventDefault()},onPointerDownOutside:P=>{if(e==null||e(P),!f||P.defaultPrevented){P.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:P=>{if(!f){P.preventDefault();return}},onPointerMove:P=>{if(k.current=P,v||(n.onPointerMove==null||n.onPointerMove.call(n,P),!S.current))return;const R=P.pageY-S.current.y,B=P.pageX-S.current.x,z=P.pointerType==="touch"?10:2;N({x:B,y:R},y,z)?c(P):(Math.abs(B)>z||Math.abs(R)>z)&&(S.current=null)},onPointerUp:P=>{n.onPointerUp==null||n.onPointerUp.call(n,P),S.current=null,E.current=!1,l(P)},onPointerOut:P=>{n.onPointerOut==null||n.onPointerOut.call(n,P),C(k.current)},onContextMenu:P=>{n.onContextMenu==null||n.onContextMenu.call(n,P),C(k.current)}})});tq.displayName="Drawer.Content";const Jhe=250,Xhe=120,rq=M.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:s,isDragging:a,snapPoints:i,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:h,onDrag:y}=Ah(),g=M.useRef(null),m=M.useRef(!1);function v(){if(m.current){w();return}window.setTimeout(()=>{x()},Xhe)}function x(){if(a||e||m.current){w();return}if(w(),(!i||i.length===0)&&u){s();return}if(l===i[i.length-1]&&u){s();return}const S=i.findIndex(E=>E===l);if(S===-1)return;const k=i[S+1];c(k)}function b(){g.current=window.setTimeout(()=>{m.current=!0},Jhe)}function w(){window.clearTimeout(g.current),m.current=!1}return M.createElement("div",{onClick:v,onPointerCancel:w,onPointerDown:_=>{d&&h(_),b()},onPointerMove:_=>{d&&y(_)},ref:n,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},M.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});rq.displayName="Drawer.Handle";function Qhe({onDrag:e,onOpenChange:t,...r}){const{onNestedDrag:n,onNestedOpenChange:s,onNestedRelease:a}=Ah();if(!n)throw new Error("Drawer.NestedRoot must be placed in another drawer");return M.createElement(Zz,{nested:!0,onClose:()=>{s(!1)},onDrag:(i,l)=>{n(i,l),e==null||e(i,l)},onOpenChange:i=>{i&&s(i)},onRelease:a,...r})}function Zhe(e){const t=Ah(),{container:r=t.container,...n}=e;return M.createElement(hA,{container:r,...n})}const Zi={Root:Zz,NestedRoot:Qhe,Content:tq,Overlay:eq,Trigger:Ehe,Portal:Zhe,Handle:rq,Close:zz,Title:Ay,Description:Ty},Di=({shouldScaleBackground:e=!0,...t})=>o.jsx(Zi.Root,{shouldScaleBackground:e,...t});Di.displayName="Drawer";const epe=Zi.Portal,fg=Zi.Close,nq=p.forwardRef(({className:e,...t},r)=>o.jsx(Zi.Overlay,{ref:r,className:le("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm",e),...t}));nq.displayName=Zi.Overlay.displayName;const Fi=p.forwardRef(({className:e,children:t,showOverlay:r=!0,...n},s)=>o.jsxs(epe,{children:[r&&o.jsx(nq,{}),o.jsx(Zi.Content,{ref:s,className:le("fixed left-2 right-2 bottom-4 z-50 mt-24 flex h-auto flex-col rounded-[36px] border-t border-l border-r bg-background/90 backdrop-blur-md",e),...n,children:t})]}));Fi.displayName="DrawerContent";const Bi=({className:e,children:t,...r})=>o.jsxs("div",{className:le("flex items-center justify-between gap-4 px-6 pt-6 pb-4",e),...r,children:[o.jsx("div",{className:"flex-1",children:t}),o.jsx(fg,{asChild:!0,children:o.jsx("button",{className:"rounded-full bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 h-7 w-7 flex items-center justify-center shrink-0 transition-colors p-0","aria-label":"Close",children:o.jsx(Er,{className:"h-3.5 w-3.5"})})})]});Bi.displayName="DrawerHeader";const Bo=({className:e,...t})=>o.jsx("div",{className:le("mt-auto flex flex-col gap-3 px-6 pt-4 pb-6",e),...t});Bo.displayName="DrawerFooter";const Ui=p.forwardRef(({className:e,...t},r)=>o.jsx(Zi.Title,{ref:r,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));Ui.displayName=Zi.Title.displayName;const sq=p.forwardRef(({className:e,...t},r)=>o.jsx(Zi.Description,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));sq.displayName=Zi.Description.displayName;var tpe=p.createContext(void 0);function Th(e){const t=p.useContext(tpe);return e||t||"ltr"}function hg(e,[t,r]){return Math.min(r,Math.max(t,e))}function rpe(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var mA="ScrollArea",[aq,YKe]=la(mA),[npe,$a]=aq(mA),iq=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[y,g]=p.useState(null),[m,v]=p.useState(null),[x,b]=p.useState(0),[w,_]=p.useState(0),[S,k]=p.useState(!1),[E,j]=p.useState(!1),N=xt(t,P=>c(P)),C=Th(s);return o.jsx(npe,{scope:r,type:n,dir:C,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:y,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:E,onScrollbarYEnabledChange:j,onCornerWidthChange:b,onCornerHeightChange:_,children:o.jsx(ot.div,{dir:C,...i,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});iq.displayName=mA;var oq="ScrollAreaViewport",lq=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:a,...i}=e,l=$a(oq,r),c=p.useRef(null),u=xt(t,c,l.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),o.jsx(ot.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:hpe({asChild:s,children:n},d=>o.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});lq.displayName=oq;var eo="ScrollAreaScrollbar",gA=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=$a(eo,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return p.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(spe,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(ape,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(cq,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(yA,{...n,ref:t}):null});gA.displayName=eo;var spe=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=$a(eo,e.__scopeScrollArea),[a,i]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(xs,{present:r||a,children:o.jsx(cq,{"data-state":a?"visible":"hidden",...n,ref:t})})}),ape=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=$a(eo,e.__scopeScrollArea),a=e.orientation==="horizontal",i=e1(()=>c("SCROLL_END"),100),[l,c]=rpe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const y=u[d];f!==y&&(c("SCROLL"),i()),f=y};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,i]),o.jsx(xs,{present:r||l!=="hidden",children:o.jsx(yA,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Be(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Be(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),cq=p.forwardRef((e,t)=>{const r=$a(eo,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,i]=p.useState(!1),l=e.orientation==="horizontal",c=e1(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return Bf(r.viewport,c),Bf(r.content,c),o.jsx(xs,{present:n||a,children:o.jsx(yA,{"data-state":a?"visible":"hidden",...s,ref:t})})}),yA=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=$a(eo,e.__scopeScrollArea),a=p.useRef(null),i=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=pq(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,y){return dpe(h,i.current,l,y)}return r==="horizontal"?o.jsx(ipe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,y=M4(h,l,s.dir);a.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?o.jsx(ope,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,y=M4(h,l);a.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),ipe=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=$a(eo,e.__scopeScrollArea),[i,l]=p.useState(),c=p.useRef(null),u=xt(t,c,a.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(dq,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Zw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),gq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:zx(i.paddingLeft),paddingEnd:zx(i.paddingRight)}})}})}),ope=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=$a(eo,e.__scopeScrollArea),[i,l]=p.useState(),c=p.useRef(null),u=xt(t,c,a.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(dq,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Zw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),gq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:zx(i.paddingTop),paddingEnd:zx(i.paddingBottom)}})}})}),[lpe,uq]=aq(eo),dq=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,y=$a(eo,r),[g,m]=p.useState(null),v=xt(t,N=>m(N)),x=p.useRef(null),b=p.useRef(""),w=y.viewport,_=n.content-n.viewport,S=Yt(d),k=Yt(c),E=e1(f,10);function j(N){if(x.current){const C=N.clientX-x.current.left,P=N.clientY-x.current.top;u({x:C,y:P})}}return p.useEffect(()=>{const N=C=>{const P=C.target;(g==null?void 0:g.contains(P))&&S(C,_)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[w,g,_,S]),p.useEffect(k,[n,k]),Bf(g,E),Bf(y.content,E),o.jsx(lpe,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:Yt(a),onThumbPointerUp:Yt(i),onThumbPositionChange:k,onThumbPointerDown:Yt(l),children:o.jsx(ot.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Be(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),j(N))}),onPointerMove:Be(e.onPointerMove,j),onPointerUp:Be(e.onPointerUp,N=>{const C=N.target;C.hasPointerCapture(N.pointerId)&&C.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=b.current,y.viewport&&(y.viewport.style.scrollBehavior=""),x.current=null})})})}),Ux="ScrollAreaThumb",fq=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=uq(Ux,e.__scopeScrollArea);return o.jsx(xs,{present:r||s.hasThumb,children:o.jsx(cpe,{ref:t,...n})})}),cpe=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=$a(Ux,r),i=uq(Ux,r),{onThumbPositionChange:l}=i,c=xt(t,f=>i.onThumbChange(f)),u=p.useRef(),d=e1(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const y=fpe(f,l);u.current=y,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),o.jsx(ot.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Be(e.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),g=f.clientX-y.left,m=f.clientY-y.top;i.onThumbPointerDown({x:g,y:m})}),onPointerUp:Be(e.onPointerUp,i.onThumbPointerUp)})});fq.displayName=Ux;var vA="ScrollAreaCorner",hq=p.forwardRef((e,t)=>{const r=$a(vA,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(upe,{...e,ref:t}):null});hq.displayName=vA;var upe=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=$a(vA,r),[a,i]=p.useState(0),[l,c]=p.useState(0),u=!!(a&&l);return Bf(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Bf(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?o.jsx(ot.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function zx(e){return e?parseInt(e,10):0}function pq(e,t){const r=e/t;return isNaN(r)?0:r}function Zw(e){const t=pq(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function dpe(e,t,r,n="ltr"){const s=Zw(r),a=s/2,i=t||a,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return mq([c,u],f)(e)}function M4(e,t,r="ltr"){const n=Zw(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],u=hg(e,c);return mq([0,i],[0,l])(u)}function mq(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function gq(e,t){return e>0&&e<t}var fpe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function e1(e,t){const r=Yt(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Bf(e,t){const r=Yt(t);an(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function hpe(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=p.Children.only(n);return p.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var yq=iq,ppe=lq,mpe=hq;const YE=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(yq,{ref:n,className:le("relative overflow-hidden",e),...r,children:[o.jsx(ppe,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(vq,{}),o.jsx(mpe,{})]}));YE.displayName=yq.displayName;const vq=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(gA,{ref:n,orientation:t,className:le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(fq,{className:"relative flex-1 rounded-full bg-border"})}));vq.displayName=gA.displayName;const I4=768;function ca(){const[e,t]=p.useState(window.innerWidth<I4);return p.useEffect(()=>{function r(){t(window.innerWidth<I4)}return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e}const nn=[{name:"Afghanistan",flag:"",code:"AF",dial_code:"+93"},{name:"land Islands",flag:"",code:"AX",dial_code:"+358"},{name:"Albania",flag:"",code:"AL",dial_code:"+355"},{name:"Algeria",flag:"",code:"DZ",dial_code:"+213"},{name:"American Samoa",flag:"",code:"AS",dial_code:"+1684"},{name:"Andorra",flag:"",code:"AD",dial_code:"+376"},{name:"Angola",flag:"",code:"AO",dial_code:"+244"},{name:"Anguilla",flag:"",code:"AI",dial_code:"+1264"},{name:"Antarctica",flag:"",code:"AQ",dial_code:"+672"},{name:"Antigua and Barbuda",flag:"",code:"AG",dial_code:"+1268"},{name:"Argentina",flag:"",code:"AR",dial_code:"+54"},{name:"Armenia",flag:"",code:"AM",dial_code:"+374"},{name:"Aruba",flag:"",code:"AW",dial_code:"+297"},{name:"Australia",flag:"",code:"AU",dial_code:"+61"},{name:"Austria",flag:"",code:"AT",dial_code:"+43"},{name:"Azerbaijan",flag:"",code:"AZ",dial_code:"+994"},{name:"Bahamas",flag:"",code:"BS",dial_code:"+1242"},{name:"Bahrain",flag:"",code:"BH",dial_code:"+973"},{name:"Bangladesh",flag:"",code:"BD",dial_code:"+880"},{name:"Barbados",flag:"",code:"BB",dial_code:"+1246"},{name:"Belarus",flag:"",code:"BY",dial_code:"+375"},{name:"Belgium",flag:"",code:"BE",dial_code:"+32"},{name:"Belize",flag:"",code:"BZ",dial_code:"+501"},{name:"Benin",flag:"",code:"BJ",dial_code:"+229"},{name:"Bermuda",flag:"",code:"BM",dial_code:"+1441"},{name:"Bhutan",flag:"",code:"BT",dial_code:"+975"},{name:"Bolivia",flag:"",code:"BO",dial_code:"+591"},{name:"Bosnia and Herzegovina",flag:"",code:"BA",dial_code:"+387"},{name:"Botswana",flag:"",code:"BW",dial_code:"+267"},{name:"Bouvet Island",flag:"",code:"BV",dial_code:"+47"},{name:"Brazil",flag:"",code:"BR",dial_code:"+55"},{name:"British Indian Ocean Territory",flag:"",code:"IO",dial_code:"+246"},{name:"Brunei Darussalam",flag:"",code:"BN",dial_code:"+673"},{name:"Bulgaria",flag:"",code:"BG",dial_code:"+359"},{name:"Burkina Faso",flag:"",code:"BF",dial_code:"+226"},{name:"Burundi",flag:"",code:"BI",dial_code:"+257"},{name:"Cambodia",flag:"",code:"KH",dial_code:"+855"},{name:"Cameroon",flag:"",code:"CM",dial_code:"+237"},{name:"Canada",flag:"",code:"CA",dial_code:"+1"},{name:"Cape Verde",flag:"",code:"CV",dial_code:"+238"},{name:"Cayman Islands",flag:"",code:"KY",dial_code:"+345"},{name:"Central African Republic",flag:"",code:"CF",dial_code:"+236"},{name:"Chad",flag:"",code:"TD",dial_code:"+235"},{name:"Chile",flag:"",code:"CL",dial_code:"+56"},{name:"China",flag:"",code:"CN",dial_code:"+86"},{name:"Christmas Island",flag:"",code:"CX",dial_code:"+61"},{name:"Cocos (Keeling) Islands",flag:"",code:"CC",dial_code:"+61"},{name:"Colombia",flag:"",code:"CO",dial_code:"+57"},{name:"Comoros",flag:"",code:"KM",dial_code:"+269"},{name:"Congo",flag:"",code:"CG",dial_code:"+242"},{name:"Congo, The Democratic Republic of the",flag:"",code:"CD",dial_code:"+243"},{name:"Cook Islands",flag:"",code:"CK",dial_code:"+682"},{name:"Costa Rica",flag:"",code:"CR",dial_code:"+506"},{name:"Cote d'Ivoire",flag:"",code:"CI",dial_code:"+225"},{name:"Croatia",flag:"",code:"HR",dial_code:"+385"},{name:"Cuba",flag:"",code:"CU",dial_code:"+53"},{name:"Cyprus",flag:"",code:"CY",dial_code:"+357"},{name:"Czech Republic",flag:"",code:"CZ",dial_code:"+420"},{name:"Denmark",flag:"",code:"DK",dial_code:"+45"},{name:"Djibouti",flag:"",code:"DJ",dial_code:"+253"},{name:"Dominica",flag:"",code:"DM",dial_code:"+1767"},{name:"Dominican Republic",flag:"",code:"DO",dial_code:"+1849"},{name:"Ecuador",flag:"",code:"EC",dial_code:"+593"},{name:"Egypt",flag:"",code:"EG",dial_code:"+20"},{name:"El Salvador",flag:"",code:"SV",dial_code:"+503"},{name:"Equatorial Guinea",flag:"",code:"GQ",dial_code:"+240"},{name:"Eritrea",flag:"",code:"ER",dial_code:"+291"},{name:"Estonia",flag:"",code:"EE",dial_code:"+372"},{name:"Ethiopia",flag:"",code:"ET",dial_code:"+251"},{name:"Falkland Islands (Malvinas)",flag:"",code:"FK",dial_code:"+500"},{name:"Faroe Islands",flag:"",code:"FO",dial_code:"+298"},{name:"Fiji",flag:"",code:"FJ",dial_code:"+679"},{name:"Finland",flag:"",code:"FI",dial_code:"+358"},{name:"France",flag:"",code:"FR",dial_code:"+33"},{name:"French Guiana",flag:"",code:"GF",dial_code:"+594"},{name:"French Polynesia",flag:"",code:"PF",dial_code:"+689"},{name:"French Southern Territories",flag:"",code:"TF",dial_code:"+262"},{name:"Gabon",flag:"",code:"GA",dial_code:"+241"},{name:"Gambia",flag:"",code:"GM",dial_code:"+220"},{name:"Georgia",flag:"",code:"GE",dial_code:"+995"},{name:"Germany",flag:"",code:"DE",dial_code:"+49"},{name:"Ghana",flag:"",code:"GH",dial_code:"+233"},{name:"Gibraltar",flag:"",code:"GI",dial_code:"+350"},{name:"Greece",flag:"",code:"GR",dial_code:"+30"},{name:"Greenland",flag:"",code:"GL",dial_code:"+299"},{name:"Grenada",flag:"",code:"GD",dial_code:"+1473"},{name:"Guadeloupe",flag:"",code:"GP",dial_code:"+590"},{name:"Guam",flag:"",code:"GU",dial_code:"+1671"},{name:"Guatemala",flag:"",code:"GT",dial_code:"+502"},{name:"Guernsey",flag:"",code:"GG",dial_code:"+44"},{name:"Guinea",flag:"",code:"GN",dial_code:"+224"},{name:"Guinea-Bissau",flag:"",code:"GW",dial_code:"+245"},{name:"Guyana",flag:"",code:"GY",dial_code:"+592"},{name:"Haiti",flag:"",code:"HT",dial_code:"+509"},{name:"Heard Island and Mcdonald Islands",flag:"",code:"HM",dial_code:"+672"},{name:"Holy See (Vatican City State)",flag:"",code:"VA",dial_code:"+379"},{name:"Honduras",flag:"",code:"HN",dial_code:"+504"},{name:"Hong Kong",flag:"",code:"HK",dial_code:"+852"},{name:"Hungary",flag:"",code:"HU",dial_code:"+36"},{name:"Iceland",flag:"",code:"IS",dial_code:"+354"},{name:"India",flag:"",code:"IN",dial_code:"+91"},{name:"Indonesia",flag:"",code:"ID",dial_code:"+62"},{name:"Iran, Islamic Republic of",flag:"",code:"IR",dial_code:"+98"},{name:"Iraq",flag:"",code:"IQ",dial_code:"+964"},{name:"Ireland",flag:"",code:"IE",dial_code:"+353"},{name:"Isle of Man",flag:"",code:"IM",dial_code:"+44"},{name:"Israel",flag:"",code:"IL",dial_code:"+972"},{name:"Italy",flag:"",code:"IT",dial_code:"+39"},{name:"Jamaica",flag:"",code:"JM",dial_code:"+1876"},{name:"Japan",flag:"",code:"JP",dial_code:"+81"},{name:"Jersey",flag:"",code:"JE",dial_code:"+44"},{name:"Jordan",flag:"",code:"JO",dial_code:"+962"},{name:"Kazakhstan",flag:"",code:"KZ",dial_code:"+7"},{name:"Kenya",flag:"",code:"KE",dial_code:"+254"},{name:"Kiribati",flag:"",code:"KI",dial_code:"+686"},{name:"Korea, Democratic People's Republic of",flag:"",code:"KP",dial_code:"+850"},{name:"Korea, Republic of",flag:"",code:"KR",dial_code:"+82"},{name:"Kuwait",flag:"",code:"KW",dial_code:"+965"},{name:"Kyrgyzstan",flag:"",code:"KG",dial_code:"+996"},{name:"Lao People's Democratic Republic",flag:"",code:"LA",dial_code:"+856"},{name:"Latvia",flag:"",code:"LV",dial_code:"+371"},{name:"Lebanon",flag:"",code:"LB",dial_code:"+961"},{name:"Lesotho",flag:"",code:"LS",dial_code:"+266"},{name:"Liberia",flag:"",code:"LR",dial_code:"+231"},{name:"Libyan Arab Jamahiriya",flag:"",code:"LY",dial_code:"+218"},{name:"Liechtenstein",flag:"",code:"LI",dial_code:"+423"},{name:"Lithuania",flag:"",code:"LT",dial_code:"+370"},{name:"Luxembourg",flag:"",code:"LU",dial_code:"+352"},{name:"Macao",flag:"",code:"MO",dial_code:"+853"},{name:"Macedonia, The Former Yugoslav Republic of",flag:"",code:"MK",dial_code:"+389"},{name:"Madagascar",flag:"",code:"MG",dial_code:"+261"},{name:"Malawi",flag:"",code:"MW",dial_code:"+265"},{name:"Malaysia",flag:"",code:"MY",dial_code:"+60"},{name:"Maldives",flag:"",code:"MV",dial_code:"+960"},{name:"Mali",flag:"",code:"ML",dial_code:"+223"},{name:"Malta",flag:"",code:"MT",dial_code:"+356"},{name:"Marshall Islands",flag:"",code:"MH",dial_code:"+692"},{name:"Martinique",flag:"",code:"MQ",dial_code:"+596"},{name:"Mauritania",flag:"",code:"MR",dial_code:"+222"},{name:"Mauritius",flag:"",code:"MU",dial_code:"+230"},{name:"Mayotte",flag:"",code:"YT",dial_code:"+262"},{name:"Mexico",flag:"",code:"MX",dial_code:"+52"},{name:"Micronesia, Federated States of",flag:"",code:"FM",dial_code:"+691"},{name:"Moldova, Republic of",flag:"",code:"MD",dial_code:"+373"},{name:"Monaco",flag:"",code:"MC",dial_code:"+377"},{name:"Mongolia",flag:"",code:"MN",dial_code:"+976"},{name:"Montserrat",flag:"",code:"MS",dial_code:"+1664"},{name:"Morocco",flag:"",code:"MA",dial_code:"+212"},{name:"Mozambique",flag:"",code:"MZ",dial_code:"+258"},{name:"Myanmar",flag:"",code:"MM",dial_code:"+95"},{name:"Namibia",flag:"",code:"NA",dial_code:"+264"},{name:"Nauru",flag:"",code:"NR",dial_code:"+674"},{name:"Nepal",flag:"",code:"NP",dial_code:"+977"},{name:"Netherlands",flag:"",code:"NL",dial_code:"+31"},{name:"Netherlands Antilles",flag:"",code:"AN",dial_code:"+599"},{name:"New Caledonia",flag:"",code:"NC",dial_code:"+687"},{name:"New Zealand",flag:"",code:"NZ",dial_code:"+64"},{name:"Nicaragua",flag:"",code:"NI",dial_code:"+505"},{name:"Niger",flag:"",code:"NE",dial_code:"+227"},{name:"Nigeria",flag:"",code:"NG",dial_code:"+234"},{name:"Niue",flag:"",code:"NU",dial_code:"+683"},{name:"Norfolk Island",flag:"",code:"NF",dial_code:"+672"},{name:"Northern Mariana Islands",flag:"",code:"MP",dial_code:"+1670"},{name:"Norway",flag:"",code:"NO",dial_code:"+47"},{name:"Oman",flag:"",code:"OM",dial_code:"+968"},{name:"Pakistan",flag:"",code:"PK",dial_code:"+92"},{name:"Palau",flag:"",code:"PW",dial_code:"+680"},{name:"Palestinian Territory, Occupied",flag:"",code:"PS",dial_code:"+970"},{name:"Panama",flag:"",code:"PA",dial_code:"+507"},{name:"Papua New Guinea",flag:"",code:"PG",dial_code:"+675"},{name:"Paraguay",flag:"",code:"PY",dial_code:"+595"},{name:"Peru",flag:"",code:"PE",dial_code:"+51"},{name:"Philippines",flag:"",code:"PH",dial_code:"+63"},{name:"Pitcairn",flag:"",code:"PN",dial_code:"+870"},{name:"Poland",flag:"",code:"PL",dial_code:"+48"},{name:"Portugal",flag:"",code:"PT",dial_code:"+351"},{name:"Puerto Rico",flag:"",code:"PR",dial_code:"+1939"},{name:"Qatar",flag:"",code:"QA",dial_code:"+974"},{name:"Reunion",flag:"",code:"RE",dial_code:"+262"},{name:"Romania",flag:"",code:"RO",dial_code:"+40"},{name:"Russia",flag:"",code:"RU",dial_code:"+7"},{name:"Rwanda",flag:"",code:"RW",dial_code:"+250"},{name:"Saint Helena",flag:"",code:"SH",dial_code:"+290"},{name:"Saint Kitts and Nevis",flag:"",code:"KN",dial_code:"+1869"},{name:"Saint Lucia",flag:"",code:"LC",dial_code:"+1758"},{name:"Saint Pierre and Miquelon",flag:"",code:"PM",dial_code:"+508"},{name:"Saint Vincent and the Grenadines",flag:"",code:"VC",dial_code:"+1784"},{name:"Samoa",flag:"",code:"WS",dial_code:"+685"},{name:"San Marino",flag:"",code:"SM",dial_code:"+378"},{name:"Sao Tome and Principe",flag:"",code:"ST",dial_code:"+239"},{name:"Saudi Arabia",flag:"",code:"SA",dial_code:"+966"},{name:"Senegal",flag:"",code:"SN",dial_code:"+221"},{name:"Serbia and Montenegro",flag:"",code:"CS",dial_code:"+381"},{name:"Seychelles",flag:"",code:"SC",dial_code:"+248"},{name:"Sierra Leone",flag:"",code:"SL",dial_code:"+232"},{name:"Singapore",flag:"",code:"SG",dial_code:"+65"},{name:"Slovakia",flag:"",code:"SK",dial_code:"+421"},{name:"Slovenia",flag:"",code:"SI",dial_code:"+386"},{name:"Solomon Islands",flag:"",code:"SB",dial_code:"+677"},{name:"Somalia",flag:"",code:"SO",dial_code:"+252"},{name:"South Africa",flag:"",code:"ZA",dial_code:"+27"},{name:"South Georgia and the South Sandwich Islands",flag:"",code:"GS",dial_code:"+500"},{name:"Spain",flag:"",code:"ES",dial_code:"+34"},{name:"Sri Lanka",flag:"",code:"LK",dial_code:"+94"},{name:"Sudan",flag:"",code:"SD",dial_code:"+249"},{name:"Suriname",flag:"",code:"SR",dial_code:"+597"},{name:"Svalbard and Jan Mayen",flag:"",code:"SJ",dial_code:"+47"},{name:"Swaziland",flag:"",code:"SZ",dial_code:"+268"},{name:"Sweden",flag:"",code:"SE",dial_code:"+46"},{name:"Switzerland",flag:"",code:"CH",dial_code:"+41"},{name:"Syrian Arab Republic",flag:"",code:"SY",dial_code:"+963"},{name:"Taiwan, Province of China",flag:"",code:"TW",dial_code:"+886"},{name:"Tajikistan",flag:"",code:"TJ",dial_code:"+992"},{name:"Tanzania, United Republic of",flag:"",code:"TZ",dial_code:"+255"},{name:"Thailand",flag:"",code:"TH",dial_code:"+66"},{name:"Timor-Leste",flag:"",code:"TL",dial_code:"+670"},{name:"Togo",flag:"",code:"TG",dial_code:"+228"},{name:"Tokelau",flag:"",code:"TK",dial_code:"+690"},{name:"Tonga",flag:"",code:"TO",dial_code:"+676"},{name:"Trinidad and Tobago",flag:"",code:"TT",dial_code:"+1868"},{name:"Tunisia",flag:"",code:"TN",dial_code:"+216"},{name:"Turkey",flag:"",code:"TR",dial_code:"+90"},{name:"Turkmenistan",flag:"",code:"TM",dial_code:"+993"},{name:"Turks and Caicos Islands",flag:"",code:"TC",dial_code:"+1649"},{name:"Tuvalu",flag:"",code:"TV",dial_code:"+688"},{name:"Uganda",flag:"",code:"UG",dial_code:"+256"},{name:"Ukraine",flag:"",code:"UA",dial_code:"+380"},{name:"United Arab Emirates",flag:"",code:"AE",dial_code:"+971"},{name:"United Kingdom",flag:"",code:"GB",dial_code:"+44"},{name:"United States",flag:"",code:"US",dial_code:"+1"},{name:"United States Minor Outlying Islands",flag:"",code:"UM",dial_code:"+1"},{name:"Uruguay",flag:"",code:"UY",dial_code:"+598"},{name:"Uzbekistan",flag:"",code:"UZ",dial_code:"+998"},{name:"Vanuatu",flag:"",code:"VU",dial_code:"+678"},{name:"Venezuela",flag:"",code:"VE",dial_code:"+58"},{name:"Viet Nam",flag:"",code:"VN",dial_code:"+84"},{name:"Virgin Islands, British",flag:"",code:"VG",dial_code:"+1284"},{name:"Virgin Islands, U.S.",flag:"",code:"VI",dial_code:"+1340"},{name:"Wallis and Futuna",flag:"",code:"WF",dial_code:"+681"},{name:"Western Sahara",flag:"",code:"EH",dial_code:"+212"},{name:"Yemen",flag:"",code:"YE",dial_code:"+967"},{name:"Zambia",flag:"",code:"ZM",dial_code:"+260"},{name:"Zimbabwe",flag:"",code:"ZW",dial_code:"+263"}],L4=({countries:e,onSelect:t,selectedCountry:r})=>o.jsx("div",{className:"space-y-1",children:e.map(n=>o.jsxs("button",{onClick:()=>t(n),className:`w-full text-left px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors flex items-center gap-3 ${(r==null?void 0:r.code)===n.code?"bg-primary/10 text-primary":""}`,children:[o.jsx("span",{className:"text-lg",children:n.flag}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:n.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:n.dial_code})]})]},n.code))}),gpe=({isOpen:e,onClose:t,onSelect:r,selectedCountry:n})=>{const s=ca(),[a,i]=p.useState(""),l=p.useMemo(()=>{if(!a)return nn;const d=a.toLowerCase();return nn.filter(f=>f.name.toLowerCase().includes(d)||f.dial_code.includes(a)||f.code.toLowerCase().includes(d))},[a]),c=d=>{r(d),t()},u=()=>{i("")};return s?o.jsx(Di,{open:e,onOpenChange:t,children:o.jsxs(Fi,{className:"h-[85vh]",children:[o.jsx(Bi,{children:o.jsx(Ui,{children:"Select Country"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(Fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Qe,{placeholder:"Search countries or dial codes...",value:a,onChange:d=>i(d.target.value),className:"pl-10 pr-10 w-full"}),a&&o.jsx(ne,{variant:"ghost",size:"sm",onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:o.jsx(Er,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(YE,{className:"h-full px-4",children:o.jsx(L4,{countries:l,onSelect:c,selectedCountry:n})})}),o.jsx("div",{className:"p-4 border-t",children:o.jsx(fg,{asChild:!0,children:o.jsx(ne,{variant:"outline",className:"w-full",children:"Cancel"})})})]})}):o.jsx(Xs,{open:e,onOpenChange:t,children:o.jsxs(Ps,{className:"max-w-md max-h-[80vh]",children:[o.jsx(As,{children:o.jsx(Ts,{children:"Select Country"})}),o.jsx("div",{className:"mt-4 pb-4",children:o.jsxs("div",{className:"relative w-full",children:[o.jsx(Fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Qe,{placeholder:"Search countries or dial codes...",value:a,onChange:d=>i(d.target.value),className:"pl-10 pr-10 w-full"}),a&&o.jsx(ne,{variant:"ghost",size:"sm",onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:o.jsx(Er,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"overflow-hidden",children:o.jsx(YE,{className:"h-[400px]",children:o.jsx(L4,{countries:l,onSelect:c,selectedCountry:n})})})]})})},xq=({value:e,onChange:t,placeholder:r="Select country",className:n=""})=>{const[s,a]=p.useState(!1),i=nn.find(c=>c.code==="GE"),l=e||i;return o.jsxs(o.Fragment,{children:[o.jsxs(ne,{variant:"outline",role:"combobox","aria-expanded":s,className:`justify-between shrink-0 ${n}`,onClick:()=>a(!0),children:[l?o.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[o.jsx("span",{className:"text-lg shrink-0",children:l.flag}),o.jsx("span",{className:"text-muted-foreground whitespace-nowrap",children:l.dial_code})]}):r,o.jsx(hde,{className:"ml-1.5 h-4 w-4 shrink-0 opacity-50 text-muted-foreground"})]}),o.jsx(gpe,{isOpen:s,onClose:()=>a(!1),onSelect:t,selectedCountry:l})]})},ype=()=>{const e=lr(),[t,r]=p.useState(!1),[n,s]=p.useState(nn.find(N=>N.code==="GE")),[a,i]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(""),[y,g]=p.useState(""),[m,v]=p.useState(!1),[x,b]=p.useState(!1),[w,_]=p.useState(!1),[S,k]=p.useState(!1),E=p.useCallback(N=>new Promise((C,P)=>{const R=new Image;R.onload=()=>C(),R.onerror=()=>P(new Error(`Failed to load image: ${N}`)),R.src=N}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([E("/lovable-uploads/Breneo-logo.png"),E("/lovable-uploads/Breneo-logo-dark.png"),E("/lovable-uploads/way.png")])}catch(C){console.warn("Some images failed to preload:",C),k(!0)}})()},[E]);const j=async N=>{N.preventDefault(),v(!0);const C=`${n==null?void 0:n.dial_code}${f}`;try{await Se.post(Je.AUTH.REGISTER,{first_name:a,last_name:l,email:u,phone_number:C,password:y}),sessionStorage.setItem("tempEmail",u),sessionStorage.setItem("tempPassword",y),e("/email-verification"),fe.success("Registration successful! Verify your email.")}catch(P){let R="Registration failed. Please try again.";Xt.isAxiosError(P)&&P.response&&(R=P.response.data.detail||P.response.data.message||P.response.data.error||R),fe.error(R)}finally{v(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!x&&!S&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(fn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-6 lg:h-5 transition-opacity duration-300 ${x?"opacity-100":"opacity-0"}`,onLoad:()=>b(!0),onError:()=>{k(!0),b(!0)}}),S&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!x&&!S&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(fn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-8 transition-opacity duration-300 ${x?"opacity-100":"opacity-0"}`,onLoad:()=>b(!0),onError:()=>{k(!0),b(!0)}}),S&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Create Account"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Sign up for your Breneo account"}),o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{className:"mt-1 flex gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Pe,{htmlFor:"firstName",children:"First Name"}),o.jsx(Qe,{id:"firstName",placeholder:"John",className:"mt-1 h-[3.2rem]",value:a,onChange:N=>i(N.target.value),required:!0})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Pe,{htmlFor:"lastName",children:"Last Name"}),o.jsx(Qe,{id:"lastName",placeholder:"Doe",className:"mt-1 h-[3.2rem]",value:l,onChange:N=>c(N.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"email",children:"Email Address"}),o.jsx(Qe,{id:"email",type:"email",placeholder:"Enter your email",className:"mt-1 h-[3.2rem]",value:u,onChange:N=>d(N.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"phone-input-container mt-1 flex items-center rounded-md border border-input focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[o.jsx(xq,{value:n,onChange:s,className:"max-w-fit px-3 h-[3.2rem] border-0 bg-transparent hover:bg-transparent rounded-r-none"}),o.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-border"}),o.jsx(Qe,{id:"phone",type:"tel",placeholder:"Phone number",className:"flex-1 h-[3.2rem] border-0 focus-visible:ring-0 focus-visible:ring-offset-0",value:f,onChange:N=>h(N.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Qe,{id:"password",type:t?"text":"password",placeholder:"Create a password",className:"pr-10 h-[3.2rem]",value:y,onChange:N=>g(N.target.value),required:!0}),o.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!t),children:t?o.jsx(ug,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):o.jsx(Df,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]})]}),o.jsx(ne,{type:"submit",className:"w-full h-14",disabled:m,children:m?"Signing Up...":"Sign Up"})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Already have an account?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!w&&!S&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(fn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${w?"opacity-100":"opacity-0"}`,style:{backgroundImage:w?"url('/lovable-uploads/cover_2.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/cover_2.png",alt:"",className:"hidden",onLoad:()=>_(!0),onError:()=>{k(!0),_(!0)}}),S&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(fn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Way"})]})})]})})]})]})},vpe=()=>{const e=lr(),[t,r]=p.useState(1),[n,s]=p.useState(""),[a,i]=p.useState(["","","","","",""]),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(!1),[y,g]=p.useState(!1),[m,v]=p.useState(!1),x=p.useRef([]),[b,w]=p.useState(!1),[_,S]=p.useState(!1),[k,E]=p.useState(!1),j=p.useCallback(z=>new Promise((D,O)=>{const U=new Image;U.onload=()=>D(),U.onerror=()=>O(new Error(`Failed to load image: ${z}`)),U.src=z}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([j("/lovable-uploads/Breneo-logo.png"),j("/lovable-uploads/Breneo-logo-dark.png"),j("/lovable-uploads/future.png")])}catch(D){console.warn("Some images failed to preload:",D),E(!0)}})()},[j]),p.useEffect(()=>{document.title="Reset Password | Breneo"},[]);const N=async z=>{var D,O;z.preventDefault(),v(!0);try{const U=await Xt.post(`${Zd}/password-reset/request/`,{email:n});fe.success(U.data.message||"Code sent to your email!"),r(2)}catch(U){fe.error(((O=(D=U.response)==null?void 0:D.data)==null?void 0:O.error)||"Error sending code")}finally{v(!1)}},C=async z=>{var O,U;z.preventDefault();const D=a.join("");if(D.length!==6){fe.error("Please enter a 6-digit code.");return}v(!0);try{const A=await Xt.post(`${Zd}/password-reset/verify/`,{email:n,code:D});fe.success(A.data.message||"Code verified!"),r(3)}catch(A){fe.error(((U=(O=A.response)==null?void 0:O.data)==null?void 0:U.error)||"Invalid code")}finally{v(!1)}},P=(z,D)=>{var U;if(D&&!/^\d$/.test(D))return;const O=[...a];O[z]=D,i(O),D&&z<5&&((U=x.current[z+1])==null||U.focus())},R=(z,D)=>{var O;D.key==="Backspace"&&!a[z]&&z>0&&((O=x.current[z-1])==null||O.focus())},B=async z=>{var D,O;if(z.preventDefault(),l!==u){fe.error("Passwords do not match");return}v(!0);try{const U=a.join(""),A=await Xt.post(`${Zd}/password-reset/set-new/`,{email:n,code:U,new_password:l,confirm_password:u});fe.success(A.data.message||"Password reset successfully!"),e("/auth/login")}catch(U){fe.error(((O=(D=U.response)==null?void 0:D.data)==null?void 0:O.error)||"Error setting new password")}finally{v(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!b&&!k&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(fn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-6 lg:h-5 transition-opacity duration-300 ${b?"opacity-100":"opacity-0"}`,onLoad:()=>w(!0),onError:()=>{E(!0),w(!0)}}),k&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!b&&!k&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(fn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-8 transition-opacity duration-300 ${b?"opacity-100":"opacity-0"}`,onLoad:()=>w(!0),onError:()=>{E(!0),w(!0)}}),k&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Reset Password"}),t===1&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-muted-foreground mb-8",children:"Enter your email to receive a verification code."}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"email",children:"Email Address"}),o.jsx(Qe,{id:"email",type:"email",placeholder:"Enter your email",className:"mt-1 h-[3.2rem]",value:n,onChange:z=>s(z.target.value),required:!0,disabled:m})]}),o.jsx(ne,{type:"submit",className:"w-full h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:m,children:m?"Sending Code...":"Send Code"})]})]}),t===2&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-muted-foreground mb-8",children:["A code was sent to ",n,". Please enter it below."]}),o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[o.jsx("div",{className:"w-full sm:w-[23.5rem]",children:o.jsx("div",{className:"flex gap-2 sm:gap-2",children:a.map((z,D)=>o.jsx(Qe,{ref:O=>x.current[D]=O,type:"text",inputMode:"numeric",className:"flex-1 sm:flex-none h-[3.2rem] w-0 sm:w-14 text-center text-xl sm:text-2xl font-semibold",value:z,onChange:O=>P(D,O.target.value),onKeyDown:O=>R(D,O),maxLength:1,required:!0,disabled:m,autoFocus:D===0},D))})}),o.jsx(ne,{type:"submit",className:"w-full sm:w-[23.5rem] h-12 sm:h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:m,children:m?"Verifying...":"Verify Code"})]})]}),t===3&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-muted-foreground mb-8",children:"Enter your new password."}),o.jsxs("form",{onSubmit:B,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"newPassword",children:"New Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Qe,{id:"newPassword",type:f?"text":"password",placeholder:"Enter new password",className:"pr-10 h-[3.2rem]",value:l,onChange:z=>c(z.target.value),required:!0,disabled:m}),o.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>h(!f),disabled:m,children:f?o.jsx(ug,{className:"h-4 w-4 text-gray-500"}):o.jsx(Df,{className:"h-4 w-4 text-gray-500"})})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"confirmPassword",children:"Confirm New Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Qe,{id:"confirmPassword",type:y?"text":"password",placeholder:"Confirm new password",className:"pr-10 h-[3.2rem]",value:u,onChange:z=>d(z.target.value),required:!0,disabled:m}),o.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!y),disabled:m,children:y?o.jsx(ug,{className:"h-4 w-4 text-gray-500"}):o.jsx(Df,{className:"h-4 w-4 text-gray-500"})})]})]}),o.jsx(ne,{type:"submit",className:"w-full h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:m,children:m?"Setting...":"Set New Password"})]})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Remembered your password?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!_&&!k&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(fn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${_?"opacity-100":"opacity-0"}`,style:{backgroundImage:_?"url('/lovable-uploads/future.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>S(!0),onError:()=>{E(!0),S(!0)}}),k&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(fn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})},xpe=()=>{var k,E;const e=lr(),t=zs(),{login:r}=fr(),[n,s]=p.useState(["","","","","",""]),[a,i]=p.useState(!1),l=p.useRef([]),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,y]=p.useState(!1),g=((k=t.state)==null?void 0:k.email)||sessionStorage.getItem("tempEmail")||sessionStorage.getItem("tempAcademyEmail"),m=sessionStorage.getItem("tempPassword"),v=((E=t.state)==null?void 0:E.isAcademy)||!1,x=p.useCallback(j=>new Promise((N,C)=>{const P=new Image;P.onload=()=>N(),P.onerror=()=>C(new Error(`Failed to load image: ${j}`)),P.src=j}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([x("/lovable-uploads/Breneo-logo.png"),x("/lovable-uploads/Breneo-logo-dark.png"),x("/lovable-uploads/future.png")])}catch(N){console.warn("Some images failed to preload:",N),y(!0)}})()},[x]),p.useEffect(()=>{document.title="Email Verification | Breneo"},[]);const b=async()=>{var j,N,C,P,R;if(!g||!m){fe.error("Session expired. Please log in manually."),e("/auth/login");return}try{console.log("Attempting auto-login with:",{email:g,passwordLength:m.length}),await r(g,m),fe.success("Email verified and logged in!"),sessionStorage.removeItem("tempEmail"),sessionStorage.removeItem("tempPassword")}catch(B){console.error("Auto-login failed:",B),Xt.isAxiosError(B)&&console.error("Login error details:",{status:(j=B.response)==null?void 0:j.status,statusText:(N=B.response)==null?void 0:N.statusText,data:(C=B.response)==null?void 0:C.data,url:(P=B.config)==null?void 0:P.url,method:(R=B.config)==null?void 0:R.method}),fe.error("Verification successful, but auto-login failed. Please log in manually."),e("/auth/login")}},w=(j,N)=>{var P;if(N&&!/^\d$/.test(N))return;const C=[...n];C[j]=N,s(C),N&&j<5&&((P=l.current[j+1])==null||P.focus())},_=(j,N)=>{var C;N.key==="Backspace"&&!n[j]&&j>0&&((C=l.current[j-1])==null||C.focus())},S=async j=>{if(j.preventDefault(),!g){fe.error("Email missing. Please register again."),e("/auth/signup");return}const N=n.join("");if(N.length!==6){fe.error("Please enter a 6-digit code.");return}i(!0);try{const C=v?Je.AUTH.VERIFY_ACADEMY_EMAIL:Je.AUTH.VERIFY_CODE;await Se.post(C,{email:g,code:N}),v?(fe.success("Email verified successfully!"),sessionStorage.removeItem("tempAcademyEmail"),e("/auth/login")):m?await b():(fe.success("Email verified successfully!"),sessionStorage.removeItem("tempEmail"),e("/auth/login"))}catch(C){let P="Verification failed. Please try again.",R=!1;if(Xt.isAxiosError(C)&&C.response){const B=C.response.data,z=B.detail||B.message||B.error||Array.isArray(B.email)&&B.email[0]||"";P=typeof z=="string"?z:P,C.response.status===400&&P.toLowerCase().includes("user with this email already exists")&&(R=!0)}R&&!v&&m?(fe.info("Verification processed, attempting login..."),await b()):fe.error(P)}finally{i(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!c&&!h&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(fn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-6 lg:h-5 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>{y(!0),u(!0)}}),h&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!c&&!h&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(fn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-8 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>{y(!0),u(!0)}}),h&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(Gi,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Verify Your Email"}),o.jsxs("p",{className:"text-muted-foreground mb-8",children:["Enter the 6-digit code sent to your email"," ",v&&"(academy registration)"," (",g||"your-email",")"]}),o.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o.jsx("div",{className:"w-full sm:w-[23.5rem]",children:o.jsx("div",{className:"flex gap-2 sm:gap-2",children:n.map((j,N)=>o.jsx(Qe,{ref:C=>l.current[N]=C,type:"text",inputMode:"numeric",className:"flex-1 sm:flex-none h-12 sm:h-14 w-0 sm:w-14 text-center text-xl sm:text-2xl font-semibold",value:j,onChange:C=>w(N,C.target.value),onKeyDown:C=>_(N,C),maxLength:1,required:!0,disabled:a,autoFocus:N===0},N))})}),o.jsx(ne,{type:"submit",className:"w-full sm:w-[23.5rem] h-12 sm:h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:a,children:a?"Verifying...":"Verify Email"})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Didn't receive a code?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Back to Login"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!d&&!h&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(fn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${d?"opacity-100":"opacity-0"}`,style:{backgroundImage:d?"url('/lovable-uploads/future.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>f(!0),onError:()=>{y(!0),f(!0)}}),h&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(fn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})},je=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:le("rounded-lg border-0 bg-card text-card-foreground",e),...t}));je.displayName="Card";const gt=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:le("flex flex-col space-y-1.5 p-6",e),...t}));gt.displayName="CardHeader";const Nt=p.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:le("text-2xl font-semibold leading-none tracking-tight",e),...t}));Nt.displayName="CardTitle";const Zr=p.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:le("text-sm text-muted-foreground",e),...t}));Zr.displayName="CardDescription";const Ee=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:le("p-6 pt-0",e),...t}));Ee.displayName="CardContent";const bpe=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:le("flex items-center p-6 pt-0",e),...t}));bpe.displayName="CardFooter";const wpe=()=>(p.useEffect(()=>{const e="Email Confirmed | Breneo",t="Your email has been confirmed. You can now log in to your Breneo account.";document.title=e;let r=document.querySelector('meta[name="description"]');r||(r=document.createElement("meta"),r.setAttribute("name","description"),document.head.appendChild(r)),r.setAttribute("content",t);let n=document.querySelector('link[rel="canonical"]');n||(n=document.createElement("link"),n.setAttribute("rel","canonical"),document.head.appendChild(n)),n.setAttribute("href",`${window.location.origin}/email-confirmed`)},[]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("main",{className:"w-full max-w-md px-4",children:[o.jsx("h1",{className:"sr-only",children:"Email confirmation successful"}),o.jsxs(je,{className:"shadow-md",children:[o.jsxs(gt,{className:"text-center pt-8",children:[o.jsx("div",{className:"mx-auto mb-4 rounded-full bg-primary/10 p-3 text-primary",children:o.jsx(No,{className:"h-8 w-8","aria-hidden":"true"})}),o.jsx("p",{className:"text-xl font-semibold text-foreground",children:"Your email is confirmed"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Thank you! Your account is now verified."})]}),o.jsx(Ee,{className:"pb-8 pt-2",children:o.jsx("div",{className:"mt-6",children:o.jsx(ne,{asChild:!0,className:"w-full",children:o.jsx(Fr,{to:"/auth/login","aria-label":"Go to login page",children:"Go to Login"})})})})]})]})}));function xi({to:e,...t}){const{language:r}=fi(),n=typeof e=="string"?e:e.pathname||"",s=n.startsWith("/auth")||n==="/auth"?e:ga(n,r);return o.jsx(Fr,{to:s,...t})}const _pe=ky("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Rt({className:e,variant:t,...r}){return o.jsx("div",{className:le(_pe({variant:t}),e),...r})}function xA({collapsed:e,toggleSidebar:t}){const r=zs(),{loading:n,user:s,academyDisplay:a}=fr(),{theme:i,setTheme:l}=Ho(),{language:c,setLanguage:u}=fi(),d=hi(),[f,h]=M.useState(!1),y=og(r.pathname),g=c==="ka"?"GEO":"EN",m=r.pathname,v=(s==null?void 0:s.user_type)==="academy"||typeof window<"u"&&localStorage.getItem("userRole")==="academy";if(M.useEffect(()=>{h(!0)},[]),n)return null;const x=()=>{if(v&&(a!=null&&a.name))return a.name;if(!s)return"Member";const{first_name:N,last_name:C,email:P}=s;if(N&&C){const R=B=>B?B.charAt(0).toUpperCase()+B.slice(1).toLowerCase():"";return`${R(N)} ${R(C)}`}return P??"Member"},b=()=>v&&(a!=null&&a.email)?a.email:(s==null?void 0:s.email)??"",w=()=>v&&(a!=null&&a.name)?a.name.slice(0,2).toUpperCase():s!=null&&s.first_name&&(s!=null&&s.last_name)?`${s.first_name.charAt(0)}${s.last_name.charAt(0)}`.toUpperCase():s!=null&&s.email?s.email.charAt(0).toUpperCase():"U",_=v?[{icon:u4,label:d.nav.home,href:"/academy/home"},{icon:d4,label:d.nav.courses,href:"/academy/courses"}]:[{icon:u4,label:d.nav.home,href:"/home"},{icon:rn,label:d.nav.jobs,href:"/jobs"},{icon:d4,label:d.nav.courses,href:"/courses"},{icon:az,label:d.nav.webinars,href:"/webinars"}],S=v?"/academy/profile":"/profile",k=v?"/academy/settings":"/settings",E=v?"/academy/home":"/home",j=[..._,{icon:Z9,label:d.nav.profile,href:S}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-50 bg-[#F3F3F4]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xi,{to:E,className:"flex items-center ml-1",children:o.jsx(_n,{className:"h-6 md:h-5"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ne,{variant:"ghost",onClick:()=>u(c==="en"?"ka":"en"),className:`relative h-10 px-3 rounded-full !text-gray-500 hover:!text-gray-700 dark:!text-gray-400 dark:hover:!text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:!bg-black/[0.08] dark:hover:!bg-white/[0.05] transition-colors
                         text-sm font-medium flex items-center gap-2`,children:[o.jsx(ic,{className:"h-4 w-4"}),o.jsx("span",{children:g})]}),o.jsx("button",{onClick:()=>l(i==="dark"?"light":"dark"),className:`h-10 w-10 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:bg-black/[0.08] dark:hover:bg-white/[0.05] transition-colors rounded-full`,children:f&&i==="dark"?o.jsx(oA,{size:20}):o.jsx(Lx,{size:20})}),o.jsx(xi,{to:"/notifications",className:`h-10 w-10 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:bg-black/[0.08] dark:hover:bg-white/[0.05] transition-colors rounded-full`,children:o.jsx(aA,{size:20})})]})]})}),o.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-[#F3F3F4]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 ",children:o.jsx("nav",{className:"flex justify-around items-center py-2",children:j.map((N,C)=>{let P=y===N.href;return N.href==="/home"?P=y==="/home"||y==="/dashboard"||m.includes("/home")||m.includes("/dashboard"):N.href==="/academy/home"?P=y==="/academy/home"||y==="/academy/dashboard"||m.includes("/academy/home")||m.includes("/academy/dashboard"):P=y===N.href||m.endsWith(N.href),o.jsxs(xi,{to:N.href,className:le("flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-200 min-w-0 flex-1 mx-1",P?"text-gray-600":"text-gray-600 hover:text-breneo-blue"),children:[o.jsx(N.icon,{size:20,className:le("transition-colors duration-200 mb-1",P?"text-breneo-blue":"text-gray-600 group-hover:text-breneo-blue")}),o.jsx("span",{className:le("text-xs font-medium transition-colors duration-200 text-center",P?"text-gray-600":"text-gray-600 group-hover:text-breneo-blue"),children:N.label})]},C)})})}),o.jsxs("div",{className:le("hidden md:flex fixed top-4 left-4 bottom-4 z-40 bg-[#FFFFFF] dark:bg-card transition-all duration-300 flex-col rounded-3xl",e?"w-20":"w-64"),children:[o.jsx("div",{className:"p-4 pt-5 flex items-center justify-between",children:e?o.jsx(_n,{className:"h-4 w-8 object-cover object-left ml-3"}):o.jsx(xi,{to:E,className:"flex items-center space-x-2 ml-3",children:o.jsx(_n,{className:"h-6"})})}),o.jsxs("div",{className:"flex flex-col flex-1",children:[o.jsx("div",{className:"flex-1 overflow-y-auto pt-8",children:o.jsx("nav",{className:"space-y-1 px-4",children:_.map((N,C)=>{let P=y===N.href;return N.href==="/home"?P=y==="/home"||y==="/dashboard"||m.includes("/home")||m.includes("/dashboard"):N.href==="/academy/home"?P=y==="/academy/home"||y==="/academy/dashboard"||m.includes("/academy/home")||m.includes("/academy/dashboard"):P=y===N.href||m.endsWith(N.href),o.jsxs(xi,{to:N.href,className:le("flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group",P?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[o.jsx(N.icon,{size:22,className:le("transition-colors duration-200 flex-shrink-0",P?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&o.jsxs("span",{className:le("font-medium text-base transition-colors duration-200 flex items-center gap-3",P?"text-breneo-blue":"text-gray-600 group-hover:text-breneo-blue"),children:[N.label,N.href==="/webinars"&&o.jsx(Rt,{className:"bg-breneo-blue text-white border-0 px-3 py-0.8 text-[12px] font-semibold hidden md:inline-flex",children:"Soon"})]})]},C)})})}),o.jsxs("div",{className:"px-4 pb-4",children:[o.jsx("div",{className:"mb-4"}),o.jsxs("div",{className:"space-y-1 mb-4",children:[o.jsxs(xi,{to:k,className:le("flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group",y===k?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[o.jsx(zw,{size:22,className:le("flex-shrink-0 transition-colors duration-200",y===k?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&o.jsx("span",{className:"font-medium text-base",children:d.nav.settings})]}),o.jsxs(xi,{to:"/help",className:le("flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group",y==="/help"?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[o.jsx(pde,{size:22,className:le("flex-shrink-0 transition-colors duration-200",y==="/help"?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&o.jsx("span",{className:"font-medium text-base",children:d.nav.help})]}),!v&&o.jsxs(xi,{to:"/subscription",className:le("flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group","bg-gradient-to-br from-[#cedcfc] to-[#a0dfee] dark:from-[#6B7BA8]/40 dark:to-[#4A9FB8]/40","hover:from-[#CFD8EE] hover:to-[#97D9E9] dark:hover:from-[#6B7BA8]/50 dark:hover:to-[#4A9FB8]/50",e&&"justify-center px-4"),children:[o.jsx(Ix,{size:22,className:"text-gray-700 dark:text-gray-200 flex-shrink-0 group-hover:translate-x-0.5 transition-transform"}),!e&&o.jsx("span",{className:"font-medium text-base text-gray-700 dark:text-gray-200 truncate",children:d.subscription.upgrade})]})]}),o.jsx("div",{className:"mt-4 pt-4",children:o.jsxs(xi,{to:S,className:"flex items-center space-x-4 px-4 py-2 rounded-xl hover:bg-gray-50 transition-all duration-200 group",children:[o.jsx("div",{className:le("flex items-center justify-center w-8 h-8 rounded-[50px] text-sm font-semibold shrink-0",s!=null&&s.profile_image?"overflow-hidden":"bg-[#AAF0FF] text-[#099DBC]"),children:s!=null&&s.profile_image?o.jsx("img",{src:s.profile_image,alt:"Profile",className:"w-full h-full object-cover rounded-[12px]"}):w()}),!e&&o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-semibold text-sm text-gray-700 dark:text-gray-200 truncate",children:x()}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 truncate",children:b()})]})]})})]})]})]})]})}const bq=e=>/^(\/(en|ka))?\/jobs\/[^/]+$/.test(e),wq=e=>/^(\/(en|ka))?\/course\/[^/]+$/.test(e),Spe=e=>e.includes("/skill-path"),jpe=e=>/^(\/(en|ka))?\/academy\/courses\/(add|edit\/[^/]+)$/.test(e),kpe=(e,t,r)=>r?bq(e)||wq(e)?null:e.startsWith("/home")||e.startsWith("/academy/home")?o.jsxs(o.Fragment,{children:[r.dashboard.welcome,","," ",o.jsx("span",{className:"font-bold",children:t||"User"}),"!"]}):e.startsWith("/dashboard")||e.startsWith("/academy/dashboard")?o.jsxs(o.Fragment,{children:[r.dashboard.welcome,","," ",o.jsx("span",{className:"font-bold",children:t||"User"}),"!"]}):e.startsWith("/jobs")?r.jobs.title:e.startsWith("/courses")?r.courses.title:e.startsWith("/settings")||e.startsWith("/academy/settings")?r.settings.title:e.startsWith("/profile")||e.startsWith("/academy/profile")?r.profile.title:e.startsWith("/notifications")?r.notifications.title:e.startsWith("/skill-test")?r.skillTest.title:e.startsWith("/skill-path")?null:r.nav.home:"Home";function Epe({sidebarCollapsed:e,isVisible:t}){var k;const r=zs(),n=lr(),{user:s}=fr(),{theme:a,setTheme:i}=Ho(),{language:l,setLanguage:c}=fi(),u=hi(),[d,f]=M.useState(!1),h=(s==null?void 0:s.first_name)||((k=s==null?void 0:s.email)==null?void 0:k.split("@")[0])||"User",y=og(r.pathname),g=kpe(y,h,u),m=bq(y),v=wq(y),x=Spe(y),b=jpe(y),_=(()=>{if(b){if(y.includes("/edit/"))return"Edit Course";if(y.includes("/add"))return"Add Course"}return null})(),S=l==="ka"?"GEO":"EN";return M.useEffect(()=>{f(!0)},[]),o.jsx("header",{className:le("fixed top-0 right-0 z-30","bg-gradient-to-b from-breneo-lightgray dark:from-background to-transparent","transition-opacity duration-300 ease-in-out",e?"md:left-24":"md:left-[17rem]","left-0",t?"opacity-100":"opacity-0 pointer-events-none"),children:o.jsxs("div",{className:"flex items-center justify-between px-5 sm:px-9 md:px-12 lg:px-14 pt-6 pb-4",children:[o.jsx("div",{className:"hidden md:flex items-center space-x-3",children:m||v||x||b?o.jsxs(o.Fragment,{children:[o.jsxs(ne,{variant:"ghost",onClick:()=>n(-1),className:`relative h-10 px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                           text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200
                           text-sm font-medium flex items-center gap-2 transition-colors`,children:[o.jsx(ym,{className:"h-4 w-4"}),o.jsx("span",{children:u.common.back})]}),_&&o.jsx("h1",{className:"text-2xl font-semibold text-foreground ml-4",children:_})]}):g&&o.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:g})}),o.jsx("div",{className:"md:hidden"}),o.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[o.jsxs(ne,{variant:"ghost",onClick:()=>c(l==="en"?"ka":"en"),className:`relative h-10 px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                       text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200
                       text-sm font-medium flex items-center gap-2 transition-colors`,children:[o.jsx(ic,{className:"h-4 w-4"}),o.jsx("span",{children:S})]}),o.jsxs(ne,{variant:"ghost",size:"icon",onClick:()=>i(a==="dark"?"light":"dark"),className:`relative h-10 w-10 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                       text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors`,children:[d&&a==="dark"?o.jsx(oA,{className:"h-5 w-5"}):o.jsx(Lx,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),o.jsx(xi,{to:"/notifications",children:o.jsxs(ne,{variant:"ghost",size:"icon",className:`relative h-10 w-10 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                         text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors`,children:[o.jsx(aA,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Notifications"})]})})]})]})})}const Npe="academy_verified_congrats_shown";function Cpe(){const{user:e,academyDisplay:t}=fr(),[r,n]=p.useState(!1),[s,a]=p.useState(!1),i=(e==null?void 0:e.user_type)==="academy"||typeof window<"u"&&localStorage.getItem("userRole")==="academy",l=(t==null?void 0:t.is_verified)===!0,c=(e==null?void 0:e.id)!=null?String(e.id):null,u=c?`${Npe}_${c}`:null;p.useEffect(()=>{if(!(!i||!l||!u||s))try{localStorage.getItem(u)==="true"||n(!0)}finally{a(!0)}},[i,l,u,s]);const d=f=>{if(!f&&u)try{localStorage.setItem(u,"true")}catch{}n(f)};return i?o.jsx(Xs,{open:r,onOpenChange:d,children:o.jsxs(Ps,{className:"sm:max-w-md rounded-3xl",children:[o.jsx(As,{children:o.jsx(Ts,{className:"sr-only",children:"Academy verified"})}),o.jsxs("div",{className:"flex flex-col items-center text-center py-4 px-2",children:[o.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/30",children:o.jsx(No,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Congratulations!"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your academy is now verified. Learners can trust your profile and youll stand out on the platform."}),o.jsx(ne,{onClick:()=>d(!1),className:"min-w-[140px]",children:"Got it"})]})]})}):null}function At({children:e,showSidebar:t=!0,showHeader:r=!0,background:n="default"}){const[s,a]=p.useState(!1),[i,l]=p.useState(!0),c=p.useRef(null),u=()=>{a(d=>!d)};return p.useEffect(()=>{const d=c.current;if(!d)return;const f=()=>{d.scrollTop>50?l(!1):l(!0)};return d.addEventListener("scroll",f),()=>{d.removeEventListener("scroll",f)}},[]),o.jsxs("div",{className:le("h-screen overflow-hidden",n==="white"?"bg-white":"bg-breneo-lightgray"),children:[t&&o.jsx(xA,{collapsed:s,toggleSidebar:u}),r&&o.jsx(Epe,{sidebarCollapsed:s,isVisible:i}),o.jsx("main",{ref:c,className:le("h-full overflow-y-auto transition-all duration-300",t&&(s?"md:ml-24":"md:ml-[17rem]"),r&&"pt-24 pb-32 md:pt-24 md:pb-0",(t||r)&&"px-2 md:px-6"),children:o.jsx("div",{className:"h-full",children:e})}),o.jsx(Cpe,{})]})}function rr({className:e,...t}){return o.jsx("div",{className:le("animate-pulse rounded-md bg-muted",e),...t})}const wa=p.forwardRef(({value:e,size:t=60,strokeWidth:r=3,className:n,showLabel:s=!0,matchLabel:a,percentageTextSize:i="lg",centerLabel:l},c)=>{const u=(t-r)/2,d=2*Math.PI*u,f=Math.max(0,Math.min(100,e)),h=d-f/100*d,y=a||(e>=70?"GOOD MATCH":"FAIR MATCH"),g={sm:"text-xs",md:"text-sm",lg:"text-lg",xl:"text-xl"};return o.jsxs("div",{ref:c,className:le("flex items-center gap-2",n),children:[s&&o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:y}),o.jsxs("div",{className:"relative",style:{width:t,height:t},children:[o.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",style:{overflow:"visible"},children:[o.jsx("circle",{cx:t/2,cy:t/2,r:u,fill:"none",stroke:"currentColor",strokeWidth:r,className:"text-gray-200/40 dark:text-gray-700/40"}),o.jsx("circle",{cx:t/2,cy:t/2,r:u,fill:"none",stroke:"currentColor",strokeWidth:r,strokeDasharray:d,strokeDashoffset:h,strokeLinecap:"round",className:"transition-all duration-500 ease-out"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("span",{className:le("font-bold text-gray-700 dark:text-gray-300",g[i]),children:l!==void 0?l:`${Math.round(e)}%`})})]})]})});wa.displayName="RadialProgress";const Ppe="modulepreload",Ape=function(e){return"/"+e},D4={},Oy=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Ape(c),c in D4)return;D4[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Ppe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,y)=>{f.addEventListener("load",h),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},Tpe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oy(async()=>{const{default:n}=await Promise.resolve().then(()=>Oh);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class bA extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Ope extends bA{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $pe extends bA{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Rpe extends bA{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var JE;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(JE||(JE={}));var Mpe=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Ipe{constructor(t,{headers:r={},customFetch:n,region:s=JE.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Tpe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Mpe(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(g=>{throw new Ope(g)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new $pe(d);if(!d.ok)throw new Rpe(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return h==="application/json"?y=yield d.json():h==="application/octet-stream"?y=yield d.blob():h==="text/event-stream"?y=d:h==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Cs={},wA={},t1={},$y={},r1={},n1={},Lpe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Uf=Lpe();const Dpe=Uf.fetch,_q=Uf.fetch.bind(Uf),Sq=Uf.Headers,Fpe=Uf.Request,Bpe=Uf.Response,Oh=Object.freeze(Object.defineProperty({__proto__:null,Headers:Sq,Request:Fpe,Response:Bpe,default:_q,fetch:Dpe},Symbol.toStringTag,{value:"Module"})),Upe=TZ(Oh);var s1={};Object.defineProperty(s1,"__esModule",{value:!0});let zpe=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};s1.default=zpe;var jq=es&&es.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n1,"__esModule",{value:!0});const qpe=jq(Upe),Wpe=jq(s1);let Vpe=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=qpe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c;let u=null,d=null,f=null,h=a.status,y=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const m=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),v=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await a.text();try{u=JSON.parse(m),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,y="OK")}catch{a.status===404&&m===""?(h=204,y="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,y="OK"),u&&this.shouldThrowOnError)throw new Wpe.default(u)}return{error:u,data:d,count:f,status:h,statusText:y}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};n1.default=Vpe;var Hpe=es&&es.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r1,"__esModule",{value:!0});const Kpe=Hpe(n1);let Gpe=class extends Kpe.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};r1.default=Gpe;var Ype=es&&es.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($y,"__esModule",{value:!0});const Jpe=Ype(r1);let Xpe=class extends Jpe.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};$y.default=Xpe;var Qpe=es&&es.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t1,"__esModule",{value:!0});const jp=Qpe($y);let Zpe=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new jp.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new jp.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new jp.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new jp.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new jp.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};t1.default=Zpe;var a1={},i1={};Object.defineProperty(i1,"__esModule",{value:!0});i1.version=void 0;i1.version="0.0.0-automated";Object.defineProperty(a1,"__esModule",{value:!0});a1.DEFAULT_HEADERS=void 0;const eme=i1;a1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${eme.version}`};var kq=es&&es.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wA,"__esModule",{value:!0});const tme=kq(t1),rme=kq($y),nme=a1;let sme=class Eq{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},nme.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new tme.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Eq(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new rme.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};wA.default=sme;var $h=es&&es.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.PostgrestError=Cs.PostgrestBuilder=Cs.PostgrestTransformBuilder=Cs.PostgrestFilterBuilder=Cs.PostgrestQueryBuilder=Cs.PostgrestClient=void 0;const Nq=$h(wA);Cs.PostgrestClient=Nq.default;const Cq=$h(t1);Cs.PostgrestQueryBuilder=Cq.default;const Pq=$h($y);Cs.PostgrestFilterBuilder=Pq.default;const Aq=$h(r1);Cs.PostgrestTransformBuilder=Aq.default;const Tq=$h(n1);Cs.PostgrestBuilder=Tq.default;const Oq=$h(s1);Cs.PostgrestError=Oq.default;var ame=Cs.default={PostgrestClient:Nq.default,PostgrestQueryBuilder:Cq.default,PostgrestFilterBuilder:Pq.default,PostgrestTransformBuilder:Aq.default,PostgrestBuilder:Tq.default,PostgrestError:Oq.default};const{PostgrestClient:ime,PostgrestQueryBuilder:tGe,PostgrestFilterBuilder:rGe,PostgrestTransformBuilder:nGe,PostgrestBuilder:sGe,PostgrestError:aGe}=ame;let XE;typeof window>"u"?XE=require("ws"):XE=window.WebSocket;const ome=XE,lme="2.11.10",cme={"X-Client-Info":`realtime-js/${lme}`},ume="1.0.0",$q=1e4,dme=1e3;var rf;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(rf||(rf={}));var os;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(os||(os={}));var Ka;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ka||(Ka={}));var QE;(function(e){e.websocket="websocket"})(QE||(QE={}));var Uc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Uc||(Uc={}));class fme{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Rq{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Sr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Sr||(Sr={}));const F4=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,i)=>(a[i]=hme(i,e,t,s),a),{})},hme=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?Mq(a,i):ZE(i)},Mq=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return yme(t,r)}switch(e){case Sr.bool:return pme(t);case Sr.float4:case Sr.float8:case Sr.int2:case Sr.int4:case Sr.int8:case Sr.numeric:case Sr.oid:return mme(t);case Sr.json:case Sr.jsonb:return gme(t);case Sr.timestamp:return vme(t);case Sr.abstime:case Sr.date:case Sr.daterange:case Sr.int4range:case Sr.int8range:case Sr.money:case Sr.reltime:case Sr.text:case Sr.time:case Sr.timestamptz:case Sr.timetz:case Sr.tsrange:case Sr.tstzrange:return ZE(t);default:return ZE(t)}},ZE=e=>e,pme=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},mme=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},gme=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},yme=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>Mq(t,l))}return e},vme=e=>typeof e=="string"?e.replace(" ","T"):e,Iq=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class $S{constructor(t,r,n={},s=$q){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var B4;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(B4||(B4={}));class xm{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xm.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=xm.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xm.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=a[u];if(f){const h=d.map(v=>v.presence_ref),y=f.map(v=>v.presence_ref),g=d.filter(v=>y.indexOf(v.presence_ref)<0),m=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(y=>y.presence_ref),h=d.filter(y=>f.indexOf(y.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var U4;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(U4||(U4={}));var z4;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(z4||(z4={}));var ho;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ho||(ho={}));class _A{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=os.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $S(this,Ka.join,this.params,this.timeout),this.rejoinTimer=new Rq(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=os.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=os.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=os.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=os.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ka.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new xm(this),this.broadcastEndpointURL=Iq(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(ho.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ho.CLOSED));const c={},u={broadcast:a,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(ho.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,y=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let m=0;m<y;m++){const v=h[m],{filter:{event:x,schema:b,table:w,filter:_}}=v,S=d&&d[m];if(S&&S.event===x&&S.schema===b&&S.table===w&&S.filter===_)g.push(Object.assign(Object.assign({},v),{id:S.id}));else{this.unsubscribe(),this.state=os.errored,t==null||t(ho.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ho.SUBSCRIBED);return}}).receive("error",d=>{this.state=os.errored,t==null||t(ho.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ho.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=os.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ka.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new $S(this,Ka.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $S(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ka;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var g,m,v;return((g=y.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=y.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(y=>y.callback(h,n)):(a=this.bindings[i])===null||a===void 0||a.filter(y=>{var g,m,v,x,b,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in y){const _=y.id,S=(g=y.filter)===null||g===void 0?void 0:g.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(b=(x=y==null?void 0:y.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===i}).map(y=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:v,commit_timestamp:x,type:b,errors:w}=g;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:x,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(g))}y.callback(h,n)})}_isClosed(){return this.state===os.closed}_isJoined(){return this.state===os.joined}_isJoining(){return this.state===os.joining}_isLeaving(){return this.state===os.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&_A.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ka.close,{},t)}_onError(t){this._on(Ka.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=os.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=F4(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=F4(t.columns,t.old_record)),r}}const q4=()=>{},xme=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bme{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=cme,this.params={},this.timeout=$q,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=q4,this.ref=0,this.logger=q4,this.conn=null,this.sendBuffer=[],this.serializer=new fme,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...l)=>Oy(async()=>{const{default:c}=await Promise.resolve().then(()=>Oh);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${QE.websocket}`,this.httpEndpoint=Iq(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,i)=>i(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Rq(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ome),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new wme(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ume}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case rf.connecting:return Uc.Connecting;case rf.open:return Uc.Open;case rf.closing:return Uc.Closing;default:return Uc.Closed}}isConnected(){return this.connectionState()===Uc.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new _A(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Ka.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(dme,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:i}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,a,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ka.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([xme],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class wme{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=rf.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class SA extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _me extends SA{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class eN extends SA{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Sme=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Lq=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oy(async()=>{const{default:n}=await Promise.resolve().then(()=>Oh);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},jme=()=>Sme(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oy(()=>Promise.resolve().then(()=>Oh),void 0)).Response:Response}),tN=e=>{if(Array.isArray(e))return e.map(r=>tN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=tN(n)}),t};var qu=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const RS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kme=(e,t,r)=>qu(void 0,void 0,void 0,function*(){const n=yield jme();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new _me(RS(s),e.status||500))}).catch(s=>{t(new eN(RS(s),s))}):t(new eN(RS(e),e))}),Eme=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ry(e,t,r,n,s,a){return qu(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,Eme(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>kme(c,l,n))})})}function qx(e,t,r,n){return qu(this,void 0,void 0,function*(){return Ry(e,"GET",t,r,n)})}function gl(e,t,r,n,s){return qu(this,void 0,void 0,function*(){return Ry(e,"POST",t,n,s,r)})}function Nme(e,t,r,n,s){return qu(this,void 0,void 0,function*(){return Ry(e,"PUT",t,n,s,r)})}function Cme(e,t,r,n){return qu(this,void 0,void 0,function*(){return Ry(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Dq(e,t,r,n,s){return qu(this,void 0,void 0,function*(){return Ry(e,"DELETE",t,n,s,r)})}var ws=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Pme={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},W4={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ame{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Lq(s)}uploadOrUpdate(t,r,n,s){return ws(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},W4),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(kn(a))return{data:null,error:a};throw a}})}upload(t,r,n){return ws(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ws(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:W4.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(kn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ws(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield gl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new SA("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}update(t,r,n){return ws(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ws(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ws(this,void 0,void 0,function*(){try{return{data:{path:(yield gl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ws(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield gl(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ws(this,void 0,void 0,function*(){try{const s=yield gl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}download(t,r){return ws(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield qx(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(kn(l))return{data:null,error:l};throw l}})}info(t){return ws(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield qx(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:tN(n),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}exists(t){return ws(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Cme(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(kn(n)&&n instanceof eN){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ws(this,void 0,void 0,function*(){try{return{data:yield Dq(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}list(t,r,n){return ws(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Pme),r),{prefix:t||""});return{data:yield gl(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Tme="2.7.1",Ome={"X-Client-Info":`storage-js/${Tme}`};var rd=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class $me{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Ome),r),this.fetch=Lq(n)}listBuckets(){return rd(this,void 0,void 0,function*(){try{return{data:yield qx(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(kn(t))return{data:null,error:t};throw t}})}getBucket(t){return rd(this,void 0,void 0,function*(){try{return{data:yield qx(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return rd(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return rd(this,void 0,void 0,function*(){try{return{data:yield Nme(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return rd(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rd(this,void 0,void 0,function*(){try{return{data:yield Dq(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}}class Rme extends $me{constructor(t,r={},n){super(t,r,n)}from(t){return new Ame(this.url,this.headers,t,this.fetch)}}const Mme="2.50.0";let Qp="";typeof Deno<"u"?Qp="deno":typeof document<"u"?Qp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qp="react-native":Qp="node";const Ime={"X-Client-Info":`supabase-js-${Qp}/${Mme}`},Lme={headers:Ime},Dme={schema:"public"},Fme={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bme={};var Ume=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const zme=e=>{let t;return e?t=e:typeof fetch>"u"?t=_q:t=fetch,(...r)=>t(...r)},qme=()=>typeof Headers>"u"?Sq:Headers,Wme=(e,t,r)=>{const n=zme(r),s=qme();return(a,i)=>Ume(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var Vme=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Hme(e){return e.endsWith("/")?e:e+"/"}function Kme(e,t){var r,n;const{db:s,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Vme(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Fq="2.70.0",bd=30*1e3,rN=3,MS=rN*bd,Gme="http://localhost:9999",Yme="supabase.auth.token",Jme={"X-Client-Info":`gotrue-js/${Fq}`},nN="X-Supabase-Api-Version",Bq={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xme=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qme=6e5;class jA extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ot(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Zme extends jA{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ege(e){return Ot(e)&&e.name==="AuthApiError"}class Uq extends jA{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class pc extends jA{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class cl extends pc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tge(e){return Ot(e)&&e.name==="AuthSessionMissingError"}class Dv extends pc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fv extends pc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bv extends pc{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rge(e){return Ot(e)&&e.name==="AuthImplicitGrantRedirectError"}class V4 extends pc{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sN extends pc{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function IS(e){return Ot(e)&&e.name==="AuthRetryableFetchError"}class H4 extends pc{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class bm extends pc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),K4=` 	
\r=`.split(""),nge=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<K4.length;t+=1)e[K4[t].charCodeAt(0)]=-2;for(let t=0;t<Wx.length;t+=1)e[Wx[t].charCodeAt(0)]=t;return e})();function G4(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Wx[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Wx[n]),t.queuedBits-=6}}function zq(e,t,r){const n=nge[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Y4(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{ige(i,n,r)};for(let i=0;i<e.length;i+=1)zq(e.charCodeAt(i),s,a);return t.join("")}function sge(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function age(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}sge(n,t)}}function ige(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function oge(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)zq(e.charCodeAt(s),r,n);return new Uint8Array(t)}function lge(e){const t=[];return age(e,r=>t.push(r)),new Uint8Array(t)}function cge(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>G4(s,r,n)),G4(null,r,n),t.join("")}function uge(e){return Math.round(Date.now()/1e3)+e}function dge(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ua=()=>typeof window<"u"&&typeof document<"u",Nc={tested:!1,writable:!1},wm=()=>{if(!Ua())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nc.tested)return Nc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Nc.tested=!0,Nc.writable=!0}catch{Nc.tested=!0,Nc.writable=!1}return Nc.writable};function fge(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const qq=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oy(async()=>{const{default:n}=await Promise.resolve().then(()=>Oh);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},hge=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Wq=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Uv=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},zv=async(e,t)=>{await e.removeItem(t)};class o1{constructor(){this.promise=new o1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}o1.promiseConstructor=Promise;function LS(e){const t=e.split(".");if(t.length!==3)throw new bm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Xme.test(t[n]))throw new bm("JWT not in base64url format");return{header:JSON.parse(Y4(t[0])),payload:JSON.parse(Y4(t[1])),signature:oge(t[2]),raw:{header:t[0],payload:t[1]}}}async function pge(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mge(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function gge(e){return("0"+e.toString(16)).substr(-2)}function yge(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,gge).join("")}async function vge(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function xge(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await vge(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nd(e,t,r=!1){const n=yge();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Wq(e,`${t}-code-verifier`,s);const a=await xge(n);return[a,n===a?"plain":"s256"]}const bge=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wge(e){const t=e.headers.get(nN);if(!t||!t.match(bge))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _ge(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Sge(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jge=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sd(e){if(!jge.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var kge=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const $c=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ege=[502,503,504];async function J4(e){var t;if(!hge(e))throw new sN($c(e),0);if(Ege.includes(e.status))throw new sN($c(e),e.status);let r;try{r=await e.json()}catch(a){throw new Uq($c(a),a)}let n;const s=wge(e);if(s&&s.getTime()>=Bq["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new H4($c(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new cl}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new H4($c(r),e.status,r.weak_password.reasons);throw new Zme($c(r),e.status||500,n)}const Nge=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function zt(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[nN]||(a[nN]=Bq["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await Cge(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Cge(e,t,r,n,s,a){const i=Nge(t,n,s,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new sN($c(c),0)}if(l.ok||await J4(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await J4(c)}}function oo(e){var t;let r=null;Oge(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=uge(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function X4(e){const t=oo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Pge(e){return{data:e,error:null}}function Age(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=kge(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Tge(e){return e}function Oge(e){return e.access_token&&e.refresh_token&&e.expires_in}const DS=["global","local","others"];var $ge=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Rge{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=qq(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=DS[0]){if(DS.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${DS.join(", ")}`);try{return await zt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await zt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:bl})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=$ge(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await zt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Age,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ot(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await zt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bl})}catch(r){if(Ot(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await zt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Tge});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ot(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){sd(t);try{return await zt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bl})}catch(r){if(Ot(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){sd(t);try{return await zt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:bl})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){sd(t);try{return await zt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:bl})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){sd(t.userId);try{const{data:r,error:n}=await zt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _deleteFactor(t){sd(t.userId),sd(t.id);try{return{data:await zt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}}const Mge={getItem:e=>wm()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{wm()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{wm()&&globalThis.localStorage.removeItem(e)}};function Q4(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Ige(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ad={debug:!!(globalThis&&wm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vq extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Lge extends Vq{}async function Dge(e,t,r){ad.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ad.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ad.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ad.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ad.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Lge(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ad.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ige();const Fge={url:Gme,storageKey:Yme,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jme,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Z4(e,t,r){return await r()}class pg{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pg.nextInstanceID,pg.nextInstanceID+=1,this.instanceID>0&&Ua()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Fge),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Rge({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=qq(s.fetch),this.lock=s.lock||Z4,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ua()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Dge:this.lock=Z4,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:wm()?this.storage=Mge:(this.memoryStorage={},this.storage=Q4(this.memoryStorage)):(this.memoryStorage={},this.storage=Q4(this.memoryStorage)),Ua()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Fq}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=fge(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ua()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),rge(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ot(r)?{error:r}:{error:new Uq("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:oo}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ot(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let y=null,g=null;this.flowType==="pkce"&&([y,g]=await nd(this.storage,this.storageKey)),a=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:y,code_challenge_method:g},xform:oo})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:oo})}else throw new Fv("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ot(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:X4})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:X4})}else throw new Fv("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Dv}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,i,l,c,u,d,f,h,y;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:v,wallet:x,statement:b,options:w}=t;let _;if(Ua())if(typeof x=="object")_=x;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),m=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=k}}try{const{data:v,error:x}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:cge(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:oo});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Dv}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(Ot(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await Uv(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:oo});if(await zv(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Dv}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(Ot(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,l=await zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:oo}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Dv}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await nd(this.storage,this.storageKey));const{error:f}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Fv("You must provide either an email or phone number.")}catch(l){if(Ot(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await zt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:oo});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ot(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await nd(this.storage,this.storageKey)),await zt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:Pge})}catch(a){if(Ot(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new cl;const{error:s}=await zt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ot(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await zt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:l}=await zt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Fv("You must provide either an email or phone number and a type")}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Uv(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<MS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bl}):await this._useSession(async r=>{var n,s,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cl}:await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:bl})})}catch(r){if(Ot(r))return tge(r)&&(await this._removeSession(),await zv(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new cl;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await nd(this.storage,this.storageKey));const{data:u,error:d}=await zt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:bl});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new cl;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=LS(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Ot(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new cl;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ua())throw new Bv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new V4("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new V4("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new Bv("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const y=h-d;y*1e3<=bd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:v}=await this._getUser(a);if(v)throw v;const x={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(Ot(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Uv(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(ege(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await zv(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=dge(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await nd(this.storage,this.storageKey,!0));try{return await zt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Ot(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await zt(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ua()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ot(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await zt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await mge(async s=>(s>0&&await pge(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await zt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:oo})),(s,a)=>{const i=200*Math.pow(2,s);return a&&IS(a)&&Date.now()+i-n<bd})}catch(n){if(this._debug(r,"error",n),Ot(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ua()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Uv(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<MS;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${MS}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),IS(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new cl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new o1;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new cl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Ot(a)){const i={session:null,error:a};return IS(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Wq(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await zv(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ua()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),bd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/bd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${bd}ms, refresh threshold is ${rN} ticks`),s<=rN&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Vq)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ua()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await nd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await zt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await zt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:i,error:l}=await zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=LS(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+Qme>Date.now()))return n;const{data:s,error:a}=await zt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new bm("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new bm("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:g}=await this.getSession();if(g||!y.session)return{data:null,error:g};n=y.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=LS(n);if(_ge(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:a,header:s,signature:i},error:null}}const u=Sge(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,lge(`${l}.${c}`)))throw new bm("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}}pg.nextInstanceID=0;const Bge=pg;class Uge extends Bge{constructor(t){super(t)}}var zge=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class qge{constructor(t,r,n){var s,a,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Hme(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Dme,realtime:Bme,auth:Object.assign(Object.assign({},Fme),{storageKey:u}),global:Lme},f=Kme(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=Wme(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new ime(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Ipe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Rme(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return zge(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Uge({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new bme(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Wge=(e,t,r)=>new qge(e,t,r),Vge="https://kwvpfetgerukuglqeuzl.supabase.co",Hge="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt3dnBmZXRnZXJ1a3VnbHFldXpsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNDYzNjEsImV4cCI6MjA2NTgyMjM2MX0.oQNRxz5hNqp_YVkIJ0KOtVSgAksQ0km6iESqiWI8wHw",Kt=Wge(Vge,Hge),Rh=async e=>{const t=String(e),r=[gm(t),t],n=parseInt(t,10);!isNaN(n)&&n.toString()===t&&r.push(gm(n)),console.log(" getUserTestAnswers - Trying variants:",{originalUserId:e,userIdStr:t,variants:r});for(const s of r)try{const{data:a,error:i}=await Kt.from("usertestanswers").select("*").eq("userid",s).order("answeredat",{ascending:!0});if(i){console.warn(` Error fetching with variant ${s}:`,i.message);continue}if(a&&a.length>0)return console.log(` Found ${a.length} test answers for user ${s}`),a;console.log(` No answers found for variant ${s}`)}catch(a){console.warn(` Exception with variant ${s}:`,a);continue}try{const{data:{user:s}}=await Kt.auth.getUser();if(s){console.log(" Trying with auth user ID:",s.id);const{data:a,error:i}=await Kt.from("usertestanswers").select("*").eq("userid",s.id).order("answeredat",{ascending:!0});if(!i&&a&&a.length>0)return console.log(` Found ${a.length} test answers using auth user ID`),a}}catch(s){console.warn(" Could not get auth user:",s)}return console.log(" No test answers found with any variant"),[]},Mh=e=>{const t={};return!e||!Array.isArray(e)?(console.error("Invalid answers array:",e),t):(e.forEach(r=>{const n=r.relatedSkills||r.relatedskills||[];Array.isArray(n)&&n.forEach(s=>{s&&typeof s=="string"&&(t[s]=(t[s]||0)+1)})}),t)},l1=(e,t=3)=>Object.entries(e).sort(([,r],[,n])=>n-r).slice(0,t).map(([r,n])=>({skill:r,score:n})),mg=e=>{const t=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"];return e.filter(r=>{const n=r.toLowerCase().trim();return!t.some(s=>n.includes(s)||s.includes(n))})},Hq="https://breneo-job-aggregator-k7ti.onrender.com",Kge=`${Hq}/api/search`,aN=`${Hq}/api/v1/jobs/`,Gge=e=>e.trim().toLowerCase(),Yge=e=>{const t=e.trim().toUpperCase(),r=nn.find(n=>n.code.toUpperCase()===t);return(r==null?void 0:r.name)??e};let eI=0;const tI=1e3,kA=async(e,t)=>{const n=Date.now()-eI;if(n<tI){const s=tI-n;await new Promise(a=>setTimeout(a,s))}return eI=Date.now(),fetch(e,t)},rI=e=>{const t={id:String(e.id),job_id:String(e.id),title:e.title,job_title:e.title,company:e.company_name,company_logo:e.company_logo,companyLogo:e.company_logo,company_name:e.company_name,employer_name:e.company_name,location:e.location,job_location:e.location,description:e.description,job_description:e.description,apply_url:e.apply_url,job_apply_link:e.apply_url,url:e.apply_url,date_posted:e.posted_at||e.fetched_at,posted_date:e.posted_at||e.fetched_at,posted_at:e.posted_at||e.fetched_at,fetched_at:e.fetched_at,status:e.is_active?"active":"inactive"};return e.raw&&typeof e.raw=="object"&&!Array.isArray(e.raw)?{...t,...e.raw}:t},Jge=e=>{const t=e.company,r=(t==null?void 0:t.name)||e.company_name||"Unknown Company",n=(t==null?void 0:t.logo)||e.company_logo||void 0;return{id:String(e.id??""),job_id:String(e.id??""),title:e.title||"",job_title:e.title||"",company:r,company_name:r,employer_name:r,company_logo:n,companyLogo:n,location:e.location||"",job_location:e.location||"",description:e.description||e.description_short||"",job_description:e.description||e.description_short||"",apply_url:e.apply_url||"",job_apply_link:e.apply_url||"",url:e.apply_url||"",date_posted:e.posted_at||e.fetched_at||"",posted_date:e.posted_at||e.fetched_at||"",posted_at:e.posted_at||e.fetched_at||"",fetched_at:e.fetched_at||"",status:"active",...e}},Xge=async e=>{const{query:t,filters:r,page:n=1,pageSize:s=20}=e,a=new URLSearchParams;t&&t.trim()&&a.set("query",t.trim()),r.countries.length>0&&a.set("country",r.countries.map(Gge).join(",")),r.skills.length>0&&a.set("title",r.skills.join(",")),r.workMode&&r.workMode.length>0?a.set("work_mode",r.workMode.map(h=>h.toLowerCase()).join(",")):r.isRemote&&a.set("work_mode","remote"),r.seniority&&r.seniority.length>0&&a.set("seniority",r.seniority.map(h=>h.toLowerCase()).join(",")),r.company&&r.company.length>0&&a.set("company",r.company.join(",")),r.datePosted&&r.datePosted!=="all"&&a.set("date_posted",r.datePosted),a.set("page",String(n)),a.set("num_pages",String(s)),a.set("sort","newest");const i=`${Kge}?${a.toString()}`;console.log(" /api/search request:",i);const l=await kA(i,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!l.ok)throw new Error(`Search API ${l.status}: ${l.statusText}`);const c=await l.json(),u=c.results||[],d=c.pagination;return{jobs:u.map(Jge),pagination:d?{page:d.page,current:d.page,num_pages:d.num_pages,total_pages:d.total_pages,total_results:d.total_results,total_items:d.total_results,has_next:d.has_next,has_previous:d.has_previous}:void 0}},c1=async e=>{const{query:t,filters:r,page:n=1,pageSize:s=20}=e,a=new URLSearchParams,i=r.countries.length>0||r.jobTypes.length>0||r.isRemote||r.datePosted||r.skills.length>0,l=t&&t.trim()?t.trim():"";if(l?a.set("search",l):i||a.set("search",""),a.set("page",String(n)),a.set("limit",String(s)),a.set("is_active","true"),console.log(` Fetching page ${n} with limit ${s}, query: "${l||"(empty - all jobs)"}", hasFilters: ${i})`),r.countries.length>0){const u=Yge(r.countries[0]);a.set("location",u)}r.isRemote?a.set("work_mode","remote"):r.workMode&&r.workMode.length>0&&a.set("work_mode",r.workMode[0]),r.seniority&&r.seniority.length>0&&a.set("seniority",r.seniority[0]),r.company&&r.company.length>0&&a.set("company",r.company[0]),r.datePosted&&r.datePosted!=="all"&&a.set("date_posted",r.datePosted);const c=`${aN}?${a.toString()}`;console.log(" Full API Endpoint URL:",c),console.log(" Query Parameters:",Object.fromEntries(a.entries())),console.log(" Breneo Job API Request:",{filters:{countries:r.countries,jobTypes:r.jobTypes,isRemote:r.isRemote,datePosted:r.datePosted||"all",skills:r.skills,seniority:r.seniority,workMode:r.workMode,company:r.company},query:t,page:n});try{console.log(" Making API request to:",c);const u=await kA(c,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log(" API Response Status:",u.status,u.statusText),console.log(" API Response Headers:",{contentType:u.headers.get("content-type"),contentLength:u.headers.get("content-length")}),u.status===429)throw new Error("You have exceeded your API request limit. Please try again later.");if(!u.ok){let v=`Failed to fetch jobs: ${u.status} ${u.statusText}`;try{const x=await u.text();if(console.error(" API Error Response:",x),x)try{const b=JSON.parse(x);b.message?v=b.message:b.error&&(v=b.error),console.error(" API Error Details:",b)}catch{v=`${v} - ${x}`}}catch(x){console.error(" Could not read error response body:",x)}throw new Error(v)}const d=await u.text();console.log(" API Response text length:",d.length),console.log(" API Response text preview (first 500 chars):",d.substring(0,500));let f;try{f=JSON.parse(d)}catch(v){throw console.error(" Failed to parse API response as JSON:",v),console.error(" Full response text:",d),new Error(`Invalid JSON response from API: ${d.substring(0,200)}`)}console.log(" API Response parsed, type:",Array.isArray(f)?"Array":typeof f),console.log(" API Response preview:",{isArray:Array.isArray(f),hasResults:f&&typeof f=="object"&&"results"in f,keys:f&&typeof f=="object"?Object.keys(f):[],arrayLength:Array.isArray(f)?f.length:null,firstItem:Array.isArray(f)&&f.length>0?f[0]:null});let h=[],y;if(Array.isArray(f)){const v=f;if(console.log(` Received ${v.length} total jobs from API (legacy array format)`),v.length===0)return console.warn(" API returned empty array"),console.log(" Full API response:",JSON.stringify(f,null,2)),{jobs:[],pagination:void 0};const x=v.filter(b=>b.is_active!==!1);console.log(` ${x.length} active jobs after filtering`),h=x.map(rI),console.log(` Mapped ${h.length} jobs to ApiJob format`)}else if(f&&typeof f=="object"&&"results"in f){const v=f,x=v.results||[];if(console.log(` Received ${x.length} jobs from paginated API response`),console.log(" Pagination info:",v.pagination),console.log(" Applied filters:",v.filters),x.length===0)return console.warn(" API returned empty results array"),console.log(" Full API response:",JSON.stringify(f,null,2)),{jobs:[],pagination:v.pagination};y=v.pagination;const b=x.filter(w=>w.is_active!==!1);console.log(` ${b.length} active jobs after filtering`),h=b.map(rI),console.log(` Mapped ${h.length} jobs to ApiJob format`)}else throw console.error(" Unexpected API response format:",f),console.error(" Full response:",JSON.stringify(f,null,2)),new Error("Invalid response format from API - expected array of jobs or object with results array");if(h.length===0)return console.warn(" No jobs returned from API after processing"),console.warn(" This could mean:"),console.warn("  1. API returned empty array"),console.warn("  2. All jobs were filtered out (is_active = false)"),console.warn("  3. Response format doesn't match expected structure"),console.log(" Full API response:",JSON.stringify(f,null,2)),{jobs:[],pagination:y};console.log(` Starting frontend filtering for ${h.length} jobs`);const g=r.countries.length>0||r.jobTypes.length>0||r.isRemote||r.datePosted&&r.datePosted!=="all"||r.skills.length>0;let m=h;return r.jobTypes.length>0&&(m=m.filter(v=>{const x=(v.employment_type||v.job_employment_type||v.type||"").toUpperCase().replace(/[-\s]/g,"");return r.jobTypes.some(b=>{const w=b.toUpperCase().replace(/[-\s]/g,"");return x.includes(w)})})),console.log(" Breneo Job API Final Response:",{totalJobsFromAPI:h.length,afterFiltering:m.length,filters:{query:t||"(none)",countries:r.countries.length,jobTypes:r.jobTypes.length,isRemote:r.isRemote,skills:r.skills.length},sampleJob:m.length>0?{id:m[0].id||m[0].job_id,title:m[0].title||m[0].job_title,company:m[0].company||m[0].company_name}:null}),{jobs:m,pagination:y}}catch(u){throw console.error(" Error in fetchJobsFromBreneoAPI:",u),u instanceof TypeError&&u.message.includes("fetch")?(console.error(" Network error - API might be unreachable:",aN),new Error("Unable to connect to job API. Please check your internet connection and try again.")):u}},u1=async e=>{if(!e)throw new Error("Job ID is required");console.log(" Fetching job detail for ID:",e);const t="https://breneo-job-aggregator-k7ti.onrender.com/api/job-details",r=new URLSearchParams;r.set("job_id",e);const n=`${t}?${r.toString()}`;console.log(` Fetching job details from: ${n}`);try{const s=await kA(n,{method:"GET",headers:{"Content-Type":"application/json"}});if(s.status===429)throw new Error("You have exceeded your API request limit. Please try again later.");if(!s.ok){let c=`Failed to fetch job details: ${s.status} ${s.statusText}`;try{const u=await s.text();if(console.error("API Error Response:",u),u)try{const d=JSON.parse(u);d.message?c=d.message:d.error&&(c=d.error),console.error("API Error Details:",d)}catch{c=`${c} - ${u}`}}catch(u){console.error("Could not read error response body:",u)}throw new Error(c)}const a=await s.json();let i=null;if(Array.isArray(a)&&a.length>0)i=a[0];else if(a&&typeof a=="object")if("results"in a&&Array.isArray(a.results)){const c=a.results;c.length>0&&(i=c[0])}else if("data"in a){const c=a.data;c&&typeof c=="object"&&(i=c)}else i=a;if(!i)throw console.error(" Job not found or invalid response format:",a),new Error(`No job found with ID: ${e}`);console.log(" Found job:",{id:i.id,title:i.title,company:i.company_name});let l={id:String(i.id),job_id:String(i.id),title:i.title,job_title:i.title,company:i.company_name,company_logo:i.company_logo,companyLogo:i.company_logo,company_name:i.company_name,employer_name:i.company_name,location:i.location,job_location:i.location,description:i.description||"",job_description:i.description||"",apply_url:i.apply_url,job_apply_link:i.apply_url,url:i.apply_url,date_posted:i.posted_at||i.fetched_at,posted_date:i.posted_at||i.fetched_at,posted_at:i.posted_at||i.fetched_at,fetched_at:i.fetched_at};return i.raw&&typeof i.raw=="object"&&!Array.isArray(i.raw)&&(l={...l,...i.raw}),Object.keys(i).forEach(c=>{c in l||(l[c]=i[c])}),console.log(" Processed job detail:",l),l}catch(s){throw console.error(" Error fetching job details:",s),s instanceof TypeError&&s.message==="Failed to fetch"?new Error("Failed to connect to job details API. Please check your network connection."):s instanceof Error?s:new Error(`Failed to fetch job details: ${String(s)}`)}},My=async e=>{try{const t=[];e.query&&e.query.trim()&&t.push(e.query.trim()),e.filters.skills.length>0&&t.push(...e.filters.skills);const r=t.length>0?t.join(" "):"";let n;try{n=await Xge({...e,query:r,filters:e.filters}),console.log(" Using /api/search")}catch(f){console.warn(" /api/search unavailable, falling back to /api/v1/jobs/",f),n=await c1({...e,query:r,filters:e.filters})}let s=n.jobs;e.filters.jobTypes.length>0&&(s=s.filter(f=>{const h=(f.employment_type||f.job_employment_type||f.type||"").toUpperCase().replace(/[-\s]/g,"");return e.filters.jobTypes.some(y=>{const g=y.toUpperCase().replace(/[-\s]/g,"");return h.includes(g)})}));const a=n.pagination,i=new Set,l=[];for(const f of s){const h=f.job_id||f.id||"";if(h&&!i.has(h))i.add(h),l.push(f);else if(!h){const y=`${f.job_title||f.title||""}_${f.employer_name||f.company_name||f.company||""}`;i.has(y)||(i.add(y),l.push(f))}}let c,u,d;if(a){c=l,d=a.total_results??a.total_items??l.length;const f=a.current??a.page??e.page??1,h=a.total_pages??a.num_pages??1;u=a.has_next??(f<h&&h>1),console.log(`Using API pagination: page ${f}/${h}, ${l.length} jobs, hasMore: ${u}, total: ${d}`)}else{const f=e.pageSize||20,h=e.page||1,y=(h-1)*f,g=y+f;c=l.slice(y,g),u=g<l.length,d=l.length,console.log(`Client-side pagination: Fetched ${l.length} unique jobs, showing ${c.length} on page ${h}`)}return c.length>0&&console.log("Sample job structure:",c[0]),{jobs:c,page:(a==null?void 0:a.page)??e.page??1,pageSize:e.pageSize||20,hasMore:u,total:d}}catch(t){throw console.error("Error fetching jobs:",t),t}},Qge=async e=>(await c1(e)).jobs,Zge=async e=>{try{return await My(e)}catch(t){throw console.error("Primary job source failed:",t),t}},iN=async(e="developer",t=1)=>{console.log(" Testing job fetch with:",{query:e,page:t});try{const n=await My({query:e,filters:{country:void 0,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:t,pageSize:50});return console.log(" Test fetch successful:",{jobsCount:n.jobs.length,hasMore:n.hasMore,total:n.total,firstJob:n.jobs[0]||null}),n}catch(r){throw console.error(" Test fetch failed:",r),r}},oN=async(e="developer",t=1,r=1)=>{console.log(" Testing direct API call with:",{query:e,page:t,numPages:r});const n=new URLSearchParams;n.set("query",e),n.set("page",String(t)),n.set("num_pages",String(r)),n.set("country","us"),n.set("date_posted","all");const s=`${aN}?${n.toString()}`;console.log(" API URL:",s);try{const a=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});console.log(" Response status:",a.status,a.statusText),console.log(" Response headers:",{contentType:a.headers.get("content-type"),contentLength:a.headers.get("content-length")});const i=await a.text();console.log(" Response text length:",i.length),console.log(" Response text preview:",i.substring(0,500));const l=JSON.parse(i);return console.log(" Parsed JSON:",{isArray:Array.isArray(l),type:typeof l,length:Array.isArray(l)?l.length:null,keys:typeof l=="object"&&l!==null?Object.keys(l):null,firstItem:Array.isArray(l)&&l.length>0?l[0]:null}),l}catch(a){throw console.error(" Direct API test failed:",a),a}};if(typeof window<"u"){const e=window;e.testFetchJobs=iN,e.testDirectAPI=oN,e.jobService={fetchActiveJobs:My,fetchJobDetail:u1,fetchJobsFromBreneoAPI:c1,testFetchJobs:iN,testDirectAPI:oN},console.log(" Job service test functions available:"),console.log("  - window.testFetchJobs(query, page) - Test through service layer"),console.log("  - window.testDirectAPI(query, page, numPages) - Test raw API endpoint"),console.log("  - window.jobService.fetchActiveJobs(params)"),console.log("  - window.jobService.fetchJobsFromBreneoAPI(params)")}const ci={fetchActiveJobs:My,fetchJobDetail:u1,fetchJobsFromBreneoAPI:c1,fetchJobsFromJSearch:Qge,fetchJobsFromMultipleSources:Zge,testFetchJobs:iN,testDirectAPI:oN},nI="betaVersionModalShown",EA=()=>{const[e,t]=p.useState(!1),r=ca(),{t:n}=fi();p.useEffect(()=>{if(!sessionStorage.getItem(nI)){const i=setTimeout(()=>{t(!0)},500);return()=>clearTimeout(i)}},[]);const s=()=>{t(!1),sessionStorage.setItem(nI,"true")};return r?o.jsx(Di,{open:e,onOpenChange:s,children:o.jsxs(Fi,{className:"max-h-[85vh]",children:[o.jsx(Bi,{children:o.jsx(Ui,{className:"text-xl font-bold",children:n.beta.title})}),o.jsxs("div",{className:"px-6 pb-2",children:[o.jsx("div",{className:"flex-1 px-6 pb-4 flex flex-col items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Rocket",className:"w-32 h-32 md:w-40 md:h-40 object-contain mt-4"})}),o.jsx(sq,{className:"text-base",children:n.beta.message})]}),o.jsx("div",{className:"p-4",children:o.jsx(fg,{asChild:!0,children:o.jsx(ne,{variant:"default",className:"w-full",children:n.common.close})})})]})}):o.jsx(Xs,{open:e,onOpenChange:s,children:o.jsxs(Ps,{className:"max-w-md",children:[o.jsx(As,{children:o.jsx(Ts,{className:"text-xl font-bold",children:n.beta.title})}),o.jsx("div",{className:"flex flex-col items-center justify-center py-4",children:o.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Rocket",className:"w-32 h-32 md:w-40 md:h-40 object-contain"})}),o.jsx("div",{className:"px-0 pb-2",children:o.jsx(tf,{className:"text-base",children:n.beta.message})}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(ne,{variant:"default",onClick:s,children:n.common.close})})]})})},sI={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]},Il=e=>{if(!e)return[];const t=[],n=[e.title,e.job_title,e.position,e.description,e.job_description,e.job_required_experience,e.required_experience,...Array.isArray(e.required_skills)?e.required_skills:[],...Array.isArray(e.skills)?e.skills:[],...Array.isArray(e.job_skills)?e.job_skills:[]].filter(a=>typeof a=="string"&&a.length>0).join(" ").toLowerCase();return Object.keys(sI).forEach(a=>{sI[a].some(l=>n.includes(l.toLowerCase()))&&t.push(a)}),[...Array.isArray(e.required_skills)?e.required_skills:[],...Array.isArray(e.skills)?e.skills:[],...Array.isArray(e.job_skills)?e.job_skills:[]].filter(a=>typeof a=="string").forEach(a=>{t.includes(a.toLowerCase())||t.push(a.toLowerCase())}),[...new Set(t)]},_m=e=>e.toLowerCase().trim().replace(/\s+/g," "),eye=(e,t)=>{const r=_m(e),n=_m(t);if(r===n)return"exact";const s=3;if(r.length>=s&&n.length>=s&&(r.includes(n)||n.includes(r))){const a=r.length<n.length?r:n,i=r.length>=n.length?r:n;if(a.length>=s||a.length/i.length>=.5)return"partial"}return null},tye=(e,t,r)=>{const n=e.map(_m),s=t.map(_m),a=r?_m(r):"",i=[],l=[],c=[],u=[];return n.forEach(d=>{a&&(a.includes(d)?c.includes(d)||c.push(d):a.split(/\s+/).some(y=>y.includes(d)||d.includes(y))&&!c.includes(d)&&c.push(d))}),n.forEach(d=>{let f=!1,h=null;for(const y of s){const g=eye(d,y);if(g){f=!0,h=g;break}}f&&h&&(h==="exact"?i.includes(d)||i.push(d):l.includes(d)||l.push(d),c.includes(d)||u.includes(d)||u.push(d))}),{exactMatches:i,partialMatches:l,titleMatches:c,descriptionMatches:u}},pu=(e,t,r)=>{if(e.length===0||t.length===0&&!r)return 0;const n=tye(e,t,r);if(n.exactMatches.length===0&&n.partialMatches.length===0&&n.titleMatches.length===0)return 0;const s={exactMatch:1,partialMatch:.6,titleMatch:1.2,descriptionMatch:1};let a=0,i=0;n.exactMatches.forEach(v=>{const b=n.titleMatches.includes(v)?s.exactMatch*s.titleMatch:s.exactMatch*s.descriptionMatch;a+=b,i+=s.exactMatch*s.titleMatch}),n.partialMatches.forEach(v=>{const b=n.titleMatches.includes(v)?s.partialMatch*s.titleMatch:s.partialMatch*s.descriptionMatch;a+=b,i+=s.partialMatch*s.titleMatch});const l=t.length||1,u=new Set([...n.exactMatches,...n.partialMatches]).size/l*100,d=e.length,h=new Set([...n.exactMatches,...n.partialMatches]).size/d*100;let m=(i>0?a/i*100:0)*.5+u*.3+h*.2;if(n.titleMatches.length>0){const v=Math.min(n.titleMatches.length/d*15,15);m=Math.min(m+v,100)}return t.length===0&&n.titleMatches.length>0&&(m=Math.min(n.titleMatches.length/d*100,75)),Math.round(Math.min(Math.max(m,0),100))},Sm=e=>e===void 0||e<=0?"Bad match":e>=95?"Excellent match":e>=85?"Best match":e>=70?"Good match":e>=50?"Fair match":"Bad match",rye="https://breneo-job-aggregator-k7ti.onrender.com/api/companies",kp=new Map,nye=async e=>{if(!e||!e.trim())return;const t=e.trim();if(kp.has(t)){const r=kp.get(t);return r===null?void 0:r}try{const r=encodeURIComponent(t),n=`${rye}/${r}`,s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(s.ok){const a=await s.json(),i=a.logo||a.company_logo||a.logo_url||a.employer_logo;if(i&&typeof i=="string")try{if(new URL(i).protocol.startsWith("http"))return kp.set(t,i),i}catch{}}kp.set(t,null);return}catch(r){console.error(`Error fetching company logo for ${t}:`,r),kp.set(t,null);return}},NA=async(e,t)=>{const r=await nye(e);return r||t},sye=(e,t)=>{if(!t||t.length===0)return .5;if(!e.required_skills||e.required_skills.length===0)return .3;const r=l=>l.toLowerCase().trim().replace(/\s+/g," "),n=t.map(r),s=e.required_skills.map(r);let a=0;return s.forEach(l=>{n.forEach(c=>{c===l?a+=2:(l.includes(c)||c.includes(l))&&(a+=1)})}),a>0?a/s.length*(a/n.length)*10:.1},aye=async()=>{try{const e={country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[]};return(await ci.fetchActiveJobs({query:"",filters:e,page:1,pageSize:50})).jobs||[]}catch(e){throw console.error("Error fetching jobs:",e),e}},aI=()=>{var V;const{user:e,loading:t}=fr(),r=lr(),n=Us(),s=ca(),a=hi(),[i,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState(!0),[h,y]=p.useState(!1),g=p.useRef(null),m=p.useRef(null),[v,x]=p.useState(!1),[b,w]=p.useState(!1),[_,S]=p.useState(!1);p.useEffect(()=>{(async()=>{if(!e){f(!1),y(!1);return}try{f(!0);try{const ie=await Se.get(`/api/skilltest/results/?user=${e.id}`);let G=null;if(Array.isArray(ie.data)&&ie.data.length>0?G=ie.data[0]:ie.data&&typeof ie.data=="object"&&(G=ie.data),G&&(G.final_role||G.skills_json)){y(!0);const q=G.skills_json||{},Z=Object.keys(q.tech||{}),Y=Object.keys(q.soft||{}),J=[...Z,...Y];l(J),u(Z),f(!1);return}}catch{}try{const ie=await Se.get(`/api/user/${e.id}/skills`);if(ie.data&&ie.data.skills){const G=ie.data.skills.slice(0,5);l(G),u(G),y(G.length>0),f(!1);return}}catch{}const ee=await Rh(String(e.id));if(ee&&ee.length>0){y(!0);const ie=Mh(ee),q=l1(ie,20).map(J=>J.skill);l(q);const Z=["javascript","python","java","c++","c#","go","rust","php","ruby","swift","kotlin","typescript","html","css","sql","react","vue","angular","node.js","express","django","flask","spring","laravel","rails","git","docker","kubernetes","aws","azure","gcp","linux","machine learning","data science","ai","blockchain","devops","testing"],Y=q.filter(J=>Z.some(se=>J.toLowerCase().includes(se.toLowerCase())||se.toLowerCase().includes(J.toLowerCase())));u(Y.length>0?Y:q)}else y(!1)}catch(ee){console.error("Error fetching user skills:",ee),y(!1)}finally{f(!1)}})()},[e]),p.useEffect(()=>{S(!0)},[]);const{data:k=[]}=Jt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var W;if(!e)return[];try{const ie=((W=(await Se.get(Je.AUTH.PROFILE)).data)==null?void 0:W.saved_jobs)||[];return Array.isArray(ie)?ie.map(G=>{if(typeof G=="string"||typeof G=="number")return String(G);if(G&&typeof G=="object"){const q=G;if(q.id)return String(q.id);if(q.job_id)return String(q.job_id);if(q.jobId)return String(q.jobId)}return null}).filter(G=>G!==null):[]}catch(ee){return console.error("Error fetching saved jobs:",ee),[]}},enabled:!!e}),{data:E=[]}=Jt({queryKey:["savedCourseIds",e==null?void 0:e.id],queryFn:async()=>{var W;if(!e)return[];try{const ie=((W=(await Se.get(Je.AUTH.PROFILE)).data)==null?void 0:W.saved_courses)||[];return Array.isArray(ie)?ie.map(G=>{if(typeof G=="string"||typeof G=="number")return String(G);if(G&&typeof G=="object"){const q=G;if(q.id)return String(q.id);if(q.course_id)return String(q.course_id);if(q.courseId)return String(q.courseId)}return null}).filter(G=>G!==null):[]}catch(ee){return console.error("Error fetching saved course IDs:",ee),[]}},enabled:!!e}),{data:j=[],isLoading:N,error:C}=Jt({queryKey:["home-jobs"],queryFn:()=>aye(),enabled:!!e,staleTime:5*60*1e3,retry:1});p.useEffect(()=>{C&&console.error("Error fetching jobs:",C)},[C]);const P=sa({mutationFn:async W=>{if(!e)throw new Error("User not logged in");if(!W.id)throw new Error("Job ID is required");const ee=String(W.id);W.is_saved;try{const ie=`${Je.JOBS.SAVE_JOB}${ee}/`;await Se.post(ie)}catch(ie){const G=ie instanceof Error?ie.message:"Failed to save job. Please try again.";throw new Error(G)}},onSuccess:(W,ee)=>{n.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),n.invalidateQueries({queryKey:["profile"]}),fe.success(ee.is_saved?"Job Unsaved":"Job Saved")},onError:W=>{console.error("Error saving job:",W);const ee=W instanceof Error?W.message:"Failed to save job";fe.error(ee)}}),{data:R=[],isLoading:B}=Jt({queryKey:["home-courses"],queryFn:async()=>{const{data:W,error:ee}=await Kt.from("courses").select("*").order("created_at",{ascending:!1});return ee?(console.error("Error fetching courses:",ee),[]):W||[]},enabled:!!e&&!d}),z=p.useMemo(()=>{if(!R||R.length===0)return[];if(!i||i.length===0)return R.map(G=>({...G,match:.5}));const W=R.map(G=>({...G,match:sye(G,i)}));W.sort((G,q)=>{if(Math.abs((G.match||0)-(q.match||0))>.1)return(q.match||0)-(G.match||0);const Z=G.required_skills&&G.required_skills.length>0,Y=q.required_skills&&q.required_skills.length>0;return Z&&!Y?-1:!Z&&Y?1:0});const ee=W.filter(G=>(G.match||0)>.1),ie=W.filter(G=>(G.match||0)<=.1);return[...ee,...ie].slice(0,20)},[R,i]),D=sa({mutationFn:async W=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Se.post(`/api/save-course/${W}/`)},onMutate:async W=>{await n.cancelQueries({queryKey:["savedCourseIds",e==null?void 0:e.id]});const ee=n.getQueryData(["savedCourseIds",e==null?void 0:e.id]);let ie=!1;return n.setQueryData(["savedCourseIds",e==null?void 0:e.id],G=>{if(!G)return G;const q=String(W);return ie=G.includes(q),ie?G.filter(Z=>Z!==q):[...G,q]}),{previousSavedCourseIds:ee,wasSaved:ie}},onError:(W,ee,ie)=>{ie!=null&&ie.previousSavedCourseIds&&(e!=null&&e.id)&&n.setQueryData(["savedCourseIds",e.id],ie.previousSavedCourseIds),console.error("Error updating saved courses:",W),fe.error("Failed to update saved courses. Please try again.")},onSuccess:(W,ee,ie)=>{n.invalidateQueries({queryKey:["savedCourseIds",e==null?void 0:e.id]}),n.invalidateQueries({queryKey:["home-courses"]}),n.invalidateQueries({queryKey:["profile"]});const G=(ie==null?void 0:ie.wasSaved)??!1;fe.success(G?"Removed from saved courses.":"Course saved to your profile.")}}),O=p.useMemo(()=>{const ee=(j||[]).map(G=>{const q=Il(G),Z=G.title||G.job_title||G.position||"",Y=pu(i,q,Z);return{job:G,matchPercentage:Y}});return ee.sort((G,q)=>{if(G.matchPercentage!==q.matchPercentage)return q.matchPercentage-G.matchPercentage;const Z=G.job.posted_at||G.job.fetched_at||G.job.date_posted||"",Y=q.job.posted_at||q.job.fetched_at||q.job.date_posted||"";if(Z&&Y)try{const J=new Date(Z).getTime();return new Date(Y).getTime()-J}catch{return 0}return 0}),ee.slice(0,9).map(G=>G.job).map(G=>{const q=G.id||"";if(!q)return console.warn("Skipping job without valid ID:",G),null;const Z=G.title||G.job_title||G.position||"Untitled Position",Y=G.company_name||G.employer_name||(typeof G.company=="string"?G.company:null)||"Unknown Company",J=G.job_city||G.city||"",se=G.job_state||G.state||"",Q=G.job_country||G.country||"",ue=G.job_location||G.location||[J,se,Q].filter(Boolean).join(", ")||"Location not specified",ce=G.employer_logo||G.company_logo||G.logo_url||(typeof G.company=="object"&&G.company?G.company.logo||G.company.company_logo:void 0),ve=G.posted_at||G.fetched_at||G.date_posted||G.posted_date||G.job_posted_at_datetime_utc||void 0;let we="By agreement";const Te=G.job_min_salary||G.min_salary,pt=G.job_max_salary||G.max_salary,st=G.job_salary_currency||G.salary_currency||"$",bt=G.job_salary_period||G.salary_period||"yearly";if(Te&&pt&&typeof Te=="number"&&typeof pt=="number"){const tt=bt==="monthly"?"Monthly":"",K=Te.toLocaleString(),H=pt.toLocaleString();["$","","","","",""].some(qe=>st.includes(qe))?we=`${st}${K} - ${st}${H}${tt?`/${tt}`:""}`:we=`${K} - ${H} ${st}${tt?`/${tt}`:""}`}else if(Te&&typeof Te=="number"){const tt=Te.toLocaleString();we=["$","","","","",""].some(oe=>st.includes(oe))?`${st}${tt}+`:`${tt}+ ${st}`}else G.salary&&typeof G.salary=="string"&&(we=G.salary);const F=G.job_employment_type||G.employment_type||G.type||"FULLTIME",ye={FULLTIME:"Full time",PARTTIME:"Part time",CONTRACTOR:"Contract",INTERN:"Internship"}[F]||F||"Full time";let Ce="On-site";G.job_is_remote||G.is_remote||G.remote===!0?Ce="Remote":Z!=null&&Z.toLowerCase().includes("hybrid")&&(Ce="Hybrid");const lt=Il(G),Ve=pu(i,lt,Z);return{id:q,title:Z,company:Y,company_name:Y,location:typeof ue=="string"?ue:"Location not specified",logo:ce,company_logo:ce,salary:we,employment_type:ye,work_arrangement:Ce,is_saved:k==null?void 0:k.includes(String(q)),matchPercentage:Ve,date:ve?new Date(String(ve)).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}}).filter(G=>G!==null)},[j,k,i]),[U,A]=p.useState({});p.useEffect(()=>{(async()=>{const ee=O.filter(Z=>!Z.company_logo&&Z.company_name);if(ee.length===0)return;const ie=ee.map(async Z=>{const Y=await NA(Z.company_name||"",void 0);return{jobId:Z.id,logo:Y}}),G=await Promise.all(ie),q={};G.forEach(({jobId:Z,logo:Y})=>{Y&&(q[Z]=Y)}),Object.keys(q).length>0&&A(Z=>({...Z,...q}))})()},[O]);const I=O.map(W=>({...W,company_logo:W.company_logo||U[W.id]||void 0})),te=W=>{if(g.current){const ie=W==="left"?g.current.scrollLeft-400:g.current.scrollLeft+400;g.current.scrollTo({left:ie,behavior:"smooth"})}},$=W=>{if(m.current){const ie=W==="left"?m.current.scrollLeft-400:m.current.scrollLeft+400;m.current.scrollTo({left:ie,behavior:"smooth"})}};return t?o.jsx(At,{children:o.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Loading dashboard..."})]})})})}):e?o.jsxs(At,{children:[o.jsx(EA,{}),s&&o.jsx("div",{className:"mb-4 px-4 md:hidden",children:o.jsxs("h1",{className:"text-xl font-semibold text-foreground",children:[a.auth.welcome,","," ",o.jsx("span",{className:"font-bold",children:(e==null?void 0:e.first_name)||((V=e==null?void 0:e.email)==null?void 0:V.split("@")[0])||"User"}),"! "]})}),o.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[!h&&!d&&o.jsx(je,{className:"bg-white transition-all w-auto flex-shrink-0 max-w-sm md:max-w-md rounded-3xl border-0 animate-shrink-in hover:shadow-soft transition-shadow cursor-pointer",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)",transform:v?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease-in-out"},onMouseDown:()=>x(!0),onMouseUp:()=>x(!1),onMouseLeave:()=>x(!1),onTouchStart:()=>x(!0),onTouchEnd:()=>x(!1),children:o.jsx(Ee,{className:"p-4 md:p-4",children:o.jsx(Fr,{to:"/skill-test",className:"block cursor-pointer group",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[o.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:a.home.skillTestTitle}),o.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:a.home.skillTestSubtitle})]}),o.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-target-front-color.png",alt:"Skill test target",className:"w-full h-full object-contain"})})]})})})}),h&&!d&&o.jsx(je,{className:"bg-white transition-all w-auto flex-shrink-0 max-w-sm md:max-w-md rounded-3xl border-0 animate-shrink-in hover:shadow-soft transition-shadow cursor-pointer",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)",transform:b?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease-in-out"},onMouseDown:()=>w(!0),onMouseUp:()=>w(!1),onMouseLeave:()=>w(!1),onTouchStart:()=>w(!0),onTouchEnd:()=>w(!1),children:o.jsx(Ee,{className:"p-4 md:p-4 flex items-center justify-center md:block",children:o.jsx(Fr,{to:"/skill-path",className:"block cursor-pointer group",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[o.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:a.home.skillPathTitle}),o.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:a.home.skillPathSubtitle})]}),o.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-explorer-front-color.png",alt:"Coding A Website",className:"w-full h-full object-contain",onError:W=>{W.target.style.display="none"}})})]})})})})]}),o.jsxs("div",{className:"space-y-6 pt-6 md:pt-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:"Top job picks for you"}),!N&&!C&&I.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ne,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>te("left"),"aria-label":"Scroll left",children:o.jsx(zE,{className:"h-4 w-4"})}),o.jsx(ne,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>te("right"),"aria-label":"Scroll right",children:o.jsx(xa,{className:"h-4 w-4"})})]})]}),N?o.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory",children:[...Array(3)].map((W,ee)=>o.jsx(je,{className:"relative flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px]",children:o.jsxs(Ee,{className:"p-4",children:[o.jsx(rr,{className:"h-4 w-20 mb-2"}),o.jsx(rr,{className:"h-6 w-3/4 mb-4"}),o.jsx(rr,{className:"h-4 w-1/2"})]})},ee))}):C?o.jsx(je,{children:o.jsxs(Ee,{className:"p-6 text-center",children:[o.jsx("p",{className:"text-gray-500 mb-2",children:"Unable to load jobs at the moment."}),o.jsx("p",{className:"text-sm text-gray-400",children:"Please try again later."})]})}):I.length===0?o.jsx(je,{children:o.jsx(Ee,{className:"p-6 text-center",children:o.jsx("p",{className:"text-gray-500",children:"No jobs found. Try adjusting your search criteria."})})}):o.jsx("div",{ref:g,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:I.map(W=>{var ee,ie;return o.jsx(je,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl flex-shrink-0 snap-start cursor-pointer w-[calc((100%-2rem)/3)] min-w-[280px] hover:shadow-soft",onClick:()=>{if(!W.id||String(W.id).trim()==="")return;const G=encodeURIComponent(String(W.id));r(`/jobs/${G}`)},children:o.jsxs(Ee,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("div",{className:"flex-shrink-0 relative w-10 h-10",children:W.company_logo?o.jsx("img",{src:W.company_logo,alt:`${W.company_name||(typeof W.company=="string"?W.company:((ee=W.company)==null?void 0:ee.name)||"Company")} logo`,className:"w-10 h-10 rounded-md object-cover",loading:"lazy"}):o.jsx("div",{className:"w-10 h-10 rounded-md bg-breneo-accent flex items-center justify-center",children:o.jsx(rn,{className:"h-5 w-5 text-white"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:W.company_name||(typeof W.company=="string"?W.company:((ie=W.company)==null?void 0:ie.name)||"Company")}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:W.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:W.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[W.employment_type&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:W.employment_type}),W.work_arrangement&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:W.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(wa,{value:W.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700",children:W.matchPercentage!==void 0?W.matchPercentage>=85?"Best match":W.matchPercentage>=70?"Good match":W.matchPercentage>=50?"Fair match":"Poor match":""})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:G=>{G.stopPropagation(),P.mutate(W)},"aria-label":W.is_saved?"Unsave job":"Save job",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",W.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(qn,{className:le("h-4 w-4 transition-colors",W.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},W.id)})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Top courses picked for you"})}),!B&&z.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ne,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>$("left"),"aria-label":"Scroll courses left",children:o.jsx(zE,{className:"h-4 w-4"})}),o.jsx(ne,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>$("right"),"aria-label":"Scroll courses right",children:o.jsx(xa,{className:"h-4 w-4"})})]})]}),B?o.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:[...Array(3)].map((W,ee)=>o.jsx(je,{className:"relative flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px]",children:o.jsxs(Ee,{className:"p-0",children:[o.jsx(rr,{className:"h-40 w-full rounded-t-3xl"}),o.jsxs("div",{className:"p-4",children:[o.jsx(rr,{className:"h-5 w-3/4 mb-2"}),o.jsx(rr,{className:"h-4 w-1/2 mb-3"}),o.jsx(rr,{className:"h-3 w-full"})]})]})},ee))}):z.length===0?o.jsx(je,{children:o.jsxs(Ee,{className:"p-8 text-center",children:[o.jsx(Ch,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500",children:"No courses available at the moment."})]})}):o.jsx("div",{ref:m,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:z.map(W=>{const ee=E.includes(String(W.id));return o.jsx(Fr,{to:`/course/${W.id}`,className:"flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px] block",children:o.jsx(je,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl w-full flex flex-col hover:shadow-soft",children:o.jsxs(Ee,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:W.image||"/placeholder.svg",alt:W.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200 origin-center",style:{transformOrigin:"center center"},onError:ie=>{ie.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:W.title}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:W.duration&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:W.duration})}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:ie=>{ie.preventDefault(),ie.stopPropagation(),D.mutate(String(W.id))},"aria-label":ee?"Unsave course":"Save course",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",ee?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(qn,{className:le("h-4 w-4 transition-colors",ee?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})]})})},W.id)})})]})]})]})})]}):o.jsx(At,{children:o.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-gray-600",children:"Please wait while we load your dashboard..."})})})})})},CA=p.createContext({});function PA(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Kq=typeof window<"u",Gq=Kq?p.useLayoutEffect:p.useEffect,d1=p.createContext(null);function AA(e,t){e.indexOf(t)===-1&&e.push(t)}function TA(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Yi=(e,t,r)=>r>t?t:r<e?e:r;let f1=()=>{},zf=()=>{};const Uo={},Yq=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Jq(e){return typeof e=="object"&&e!==null}const Xq=e=>/^0[^.\s]+$/u.test(e);function OA(e){let t;return()=>(t===void 0&&(t=e()),t)}const Na=e=>e,iye=(e,t)=>r=>t(e(r)),Iy=(...e)=>e.reduce(iye),gg=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class $A{constructor(){this.subscriptions=[]}add(t){return AA(this.subscriptions,t),()=>TA(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let a=0;a<s;a++){const i=this.subscriptions[a];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zi=e=>e*1e3,_a=e=>e/1e3;function Qq(e,t){return t?e*(1e3/t):0}const Zq=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,oye=1e-7,lye=12;function cye(e,t,r,n,s){let a,i,l=0;do i=t+(r-t)/2,a=Zq(i,n,s)-e,a>0?r=i:t=i;while(Math.abs(a)>oye&&++l<lye);return i}function Ly(e,t,r,n){if(e===t&&r===n)return Na;const s=a=>cye(a,0,1,e,r);return a=>a===0||a===1?a:Zq(s(a),t,n)}const eW=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tW=e=>t=>1-e(1-t),rW=Ly(.33,1.53,.69,.99),RA=tW(rW),nW=eW(RA),sW=e=>(e*=2)<1?.5*RA(e):.5*(2-Math.pow(2,-10*(e-1))),MA=e=>1-Math.sin(Math.acos(e)),aW=tW(MA),iW=eW(MA),uye=Ly(.42,0,1,1),dye=Ly(0,0,.58,1),oW=Ly(.42,0,.58,1),fye=e=>Array.isArray(e)&&typeof e[0]!="number",lW=e=>Array.isArray(e)&&typeof e[0]=="number",iI={linear:Na,easeIn:uye,easeInOut:oW,easeOut:dye,circIn:MA,circInOut:iW,circOut:aW,backIn:RA,backInOut:nW,backOut:rW,anticipate:sW},hye=e=>typeof e=="string",oI=e=>{if(lW(e)){zf(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,r,n,s]=e;return Ly(t,r,n,s)}else if(hye(e))return zf(iI[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),iI[e];return e},qv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],lI={value:null,addProjectionMetrics:null};function pye(e,t){let r=new Set,n=new Set,s=!1,a=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){i.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,y=!1)=>{const m=y&&s?r:n;return h&&i.add(f),m.has(f)||m.add(f),f},cancel:f=>{n.delete(f),i.delete(f)},process:f=>{if(l=f,s){a=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),t&&lI.value&&lI.value.frameloop[t].push(c),c=0,r.clear(),s=!1,a&&(a=!1,d.process(f))}};return d}const mye=40;function cW(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,i=qv.reduce((w,_)=>(w[_]=pye(a,t?_:void 0),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:y,postRender:g}=i,m=()=>{const w=Uo.useManualTiming?s.timestamp:performance.now();r=!1,Uo.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(w-s.timestamp,mye),1)),s.timestamp=w,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),y.process(s),g.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(m))},v=()=>{r=!0,n=!0,s.isProcessing||e(m)};return{schedule:qv.reduce((w,_)=>{const S=i[_];return w[_]=(k,E=!1,j=!1)=>(r||v(),S.schedule(k,E,j)),w},{}),cancel:w=>{for(let _=0;_<qv.length;_++)i[qv[_]].cancel(w)},state:s,steps:i}}const{schedule:Rr,cancel:oc,state:In,steps:FS}=cW(typeof requestAnimationFrame<"u"?requestAnimationFrame:Na,!0);let L0;function gye(){L0=void 0}const hs={now:()=>(L0===void 0&&hs.set(In.isProcessing||Uo.useManualTiming?In.timestamp:performance.now()),L0),set:e=>{L0=e,queueMicrotask(gye)}},uW=e=>t=>typeof t=="string"&&t.startsWith(e),dW=uW("--"),yye=uW("var(--"),IA=e=>yye(e)?vye.test(e.split("/*")[0].trim()):!1,vye=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function cI(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Ih={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yg={...Ih,transform:e=>Yi(0,1,e)},Wv={...Ih,default:1},jm=e=>Math.round(e*1e5)/1e5,LA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xye(e){return e==null}const bye=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,DA=(e,t)=>r=>!!(typeof r=="string"&&bye.test(r)&&r.startsWith(e)||t&&!xye(r)&&Object.prototype.hasOwnProperty.call(r,t)),fW=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,a,i,l]=n.match(LA);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},wye=e=>Yi(0,255,e),BS={...Ih,transform:e=>Math.round(wye(e))},Hc={test:DA("rgb","red"),parse:fW("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+BS.transform(e)+", "+BS.transform(t)+", "+BS.transform(r)+", "+jm(yg.transform(n))+")"};function _ye(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const lN={test:DA("#"),parse:_ye,transform:Hc.transform},Dy=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ul=Dy("deg"),qi=Dy("%"),ct=Dy("px"),Sye=Dy("vh"),jye=Dy("vw"),uI={...qi,parse:e=>qi.parse(e)/100,transform:e=>qi.transform(e*100)},Md={test:DA("hsl","hue"),parse:fW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+qi.transform(jm(t))+", "+qi.transform(jm(r))+", "+jm(yg.transform(n))+")"},cn={test:e=>Hc.test(e)||lN.test(e)||Md.test(e),parse:e=>Hc.test(e)?Hc.parse(e):Md.test(e)?Md.parse(e):lN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Hc.transform(e):Md.transform(e),getAnimatableNone:e=>{const t=cn.parse(e);return t.alpha=0,cn.transform(t)}},kye=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Eye(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(LA))==null?void 0:t.length)||0)+(((r=e.match(kye))==null?void 0:r.length)||0)>0}const hW="number",pW="color",Nye="var",Cye="var(",dI="${}",Pye=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vg(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(Pye,c=>(cn.test(c)?(n.color.push(a),s.push(pW),r.push(cn.parse(c))):c.startsWith(Cye)?(n.var.push(a),s.push(Nye),r.push(c)):(n.number.push(a),s.push(hW),r.push(parseFloat(c))),++a,dI)).split(dI);return{values:r,split:l,indexes:n,types:s}}function mW(e){return vg(e).values}function gW(e){const{split:t,types:r}=vg(e),n=t.length;return s=>{let a="";for(let i=0;i<n;i++)if(a+=t[i],s[i]!==void 0){const l=r[i];l===hW?a+=jm(s[i]):l===pW?a+=cn.transform(s[i]):a+=s[i]}return a}}const Aye=e=>typeof e=="number"?0:cn.test(e)?cn.getAnimatableNone(e):e;function Tye(e){const t=mW(e);return gW(e)(t.map(Aye))}const lc={test:Eye,parse:mW,createTransformer:gW,getAnimatableNone:Tye};function US(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Oye({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,a=0,i=0;if(!t)s=a=i=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=US(c,l,e+1/3),a=US(c,l,e),i=US(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(i*255),alpha:n}}function Vx(e,t){return r=>r>0?t:e}const Vr=(e,t,r)=>e+(t-e)*r,zS=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},$ye=[lN,Hc,Md],Rye=e=>$ye.find(t=>t.test(e));function fI(e){const t=Rye(e);if(f1(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let r=t.parse(e);return t===Md&&(r=Oye(r)),r}const hI=(e,t)=>{const r=fI(e),n=fI(t);if(!r||!n)return Vx(e,t);const s={...r};return a=>(s.red=zS(r.red,n.red,a),s.green=zS(r.green,n.green,a),s.blue=zS(r.blue,n.blue,a),s.alpha=Vr(r.alpha,n.alpha,a),Hc.transform(s))},cN=new Set(["none","hidden"]);function Mye(e,t){return cN.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Iye(e,t){return r=>Vr(e,t,r)}function FA(e){return typeof e=="number"?Iye:typeof e=="string"?IA(e)?Vx:cn.test(e)?hI:Fye:Array.isArray(e)?yW:typeof e=="object"?cn.test(e)?hI:Lye:Vx}function yW(e,t){const r=[...e],n=r.length,s=e.map((a,i)=>FA(a)(a,t[i]));return a=>{for(let i=0;i<n;i++)r[i]=s[i](a);return r}}function Lye(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=FA(e[s])(e[s],t[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function Dye(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],i=e.indexes[a][n[a]],l=e.values[i]??0;r[s]=l,n[a]++}return r}const Fye=(e,t)=>{const r=lc.createTransformer(t),n=vg(e),s=vg(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?cN.has(e)&&!s.values.length||cN.has(t)&&!n.values.length?Mye(e,t):Iy(yW(Dye(n,s),s.values),r):(f1(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),Vx(e,t))};function vW(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Vr(e,t,r):FA(e)(e,t)}const Bye=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Rr.update(t,r),stop:()=>oc(t),now:()=>In.isProcessing?In.timestamp:hs.now()}},xW=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let a=0;a<s;a++)n+=Math.round(e(a/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Hx=2e4;function BA(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Hx;)t+=r,n=e.next(t);return t>=Hx?1/0:t}function Uye(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(BA(n),Hx);return{type:"keyframes",ease:a=>n.next(s*a).value/t,duration:_a(s)}}const zye=5;function bW(e,t,r){const n=Math.max(t-zye,0);return Qq(r-e(n),t-n)}const zr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qS=.001;function qye({duration:e=zr.duration,bounce:t=zr.bounce,velocity:r=zr.velocity,mass:n=zr.mass}){let s,a;f1(e<=zi(zr.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let i=1-t;i=Yi(zr.minDamping,zr.maxDamping,i),e=Yi(zr.minDuration,zr.maxDuration,_a(e)),i<1?(s=u=>{const d=u*i,f=d*e,h=d-r,y=uN(u,i),g=Math.exp(-f);return qS-h/y*g},a=u=>{const f=u*i*e,h=f*r+r,y=Math.pow(i,2)*Math.pow(u,2)*e,g=Math.exp(-f),m=uN(Math.pow(u,2),i);return(-s(u)+qS>0?-1:1)*((h-y)*g)/m}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-qS+d*f},a=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=Vye(s,a,l);if(e=zi(e),isNaN(c))return{stiffness:zr.stiffness,damping:zr.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:e}}}const Wye=12;function Vye(e,t,r){let n=r;for(let s=1;s<Wye;s++)n=n-e(n)/t(n);return n}function uN(e,t){return e*Math.sqrt(1-t*t)}const Hye=["duration","bounce"],Kye=["stiffness","damping","mass"];function pI(e,t){return t.some(r=>e[r]!==void 0)}function Gye(e){let t={velocity:zr.velocity,stiffness:zr.stiffness,damping:zr.damping,mass:zr.mass,isResolvedFromDuration:!1,...e};if(!pI(e,Kye)&&pI(e,Hye))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*Yi(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:zr.mass,stiffness:s,damping:a}}else{const r=qye(e);t={...t,...r,mass:zr.mass},t.isResolvedFromDuration=!0}return t}function Kx(e=zr.visualDuration,t=zr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:y}=Gye({...r,velocity:-_a(r.velocity||0)}),g=h||0,m=u/(2*Math.sqrt(c*d)),v=i-a,x=_a(Math.sqrt(c/d)),b=Math.abs(v)<5;n||(n=b?zr.restSpeed.granular:zr.restSpeed.default),s||(s=b?zr.restDelta.granular:zr.restDelta.default);let w;if(m<1){const S=uN(x,m);w=k=>{const E=Math.exp(-m*x*k);return i-E*((g+m*x*v)/S*Math.sin(S*k)+v*Math.cos(S*k))}}else if(m===1)w=S=>i-Math.exp(-x*S)*(v+(g+x*v)*S);else{const S=x*Math.sqrt(m*m-1);w=k=>{const E=Math.exp(-m*x*k),j=Math.min(S*k,300);return i-E*((g+m*x*v)*Math.sinh(j)+S*v*Math.cosh(j))/S}}const _={calculatedDuration:y&&f||null,next:S=>{const k=w(S);if(y)l.done=S>=f;else{let E=S===0?g:0;m<1&&(E=S===0?zi(g):bW(w,S,k));const j=Math.abs(E)<=n,N=Math.abs(i-k)<=s;l.done=j&&N}return l.value=l.done?i:k,l},toString:()=>{const S=Math.min(BA(_),Hx),k=xW(E=>_.next(S*E).value,S,30);return S+"ms "+k},toTransition:()=>{}};return _}Kx.applyToOptions=e=>{const t=Uye(e,100,Kx);return e.ease=t.ease,e.duration=zi(t.duration),e.type="keyframes",e};function dN({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},y=j=>l!==void 0&&j<l||c!==void 0&&j>c,g=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let m=r*t;const v=f+m,x=i===void 0?v:i(v);x!==v&&(m=x-f);const b=j=>-m*Math.exp(-j/n),w=j=>x+b(j),_=j=>{const N=b(j),C=w(j);h.done=Math.abs(N)<=u,h.value=h.done?x:C};let S,k;const E=j=>{y(h.value)&&(S=j,k=Kx({keyframes:[h.value,g(h.value)],velocity:bW(w,j,h.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:j=>{let N=!1;return!k&&S===void 0&&(N=!0,_(j),E(j)),S!==void 0&&j>=S?k.next(j-S):(!N&&_(j),h)}}}function Yye(e,t,r){const n=[],s=r||Uo.mix||vW,a=e.length-1;for(let i=0;i<a;i++){let l=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||Na:t;l=Iy(c,l)}n.push(l)}return n}function Jye(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const a=e.length;if(zf(a===t.length,"Both input and output ranges must be the same length","range-length"),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Yye(t,n,s),c=l.length,u=d=>{if(i&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=gg(e[f],e[f+1],d);return l[f](h)};return r?d=>u(Yi(e[0],e[a-1],d)):u}function Xye(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=gg(0,t,n);e.push(Vr(r,1,s))}}function Qye(e){const t=[0];return Xye(t,e.length-1),t}function Zye(e,t){return e.map(r=>r*t)}function eve(e,t){return e.map(()=>t||oW).splice(0,e.length-1)}function km({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=fye(n)?n.map(oI):oI(n),a={done:!1,value:t[0]},i=Zye(r&&r.length===t.length?r:Qye(t),e),l=Jye(i,t,{ease:Array.isArray(s)?s:eve(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const tve=e=>e!==null;function UA(e,{repeat:t,repeatType:r="loop"},n,s=1){const a=e.filter(tve),l=s<0||t&&r!=="loop"&&t%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const rve={decay:dN,inertia:dN,tween:km,keyframes:km,spring:Kx};function wW(e){typeof e.type=="string"&&(e.type=rve[e.type])}class zA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const nve=e=>e/100;class qA extends zA{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==hs.now()&&this.tick(hs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;wW(t);const{type:r=km,repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:i=0}=t;let{keyframes:l}=t;const c=r||km;c!==km&&typeof l[0]!="number"&&(this.mixKeyframes=Iy(nve,vW(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=BA(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:a,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:y,type:g,onUpdate:m,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?x<0:x>s;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,_=n;if(f){const j=Math.min(this.currentTime,s)/l;let N=Math.floor(j),C=j%1;!C&&j>=1&&(C=1),C===1&&N--,N=Math.min(N,f+1),!!(N%2)&&(h==="reverse"?(C=1-C,y&&(C-=y/l)):h==="mirror"&&(_=i)),w=Yi(0,1,C)*l}const S=b?{done:!1,value:d[0]}:_.next(w);a&&(S.value=a(S.value));let{done:k}=S;!b&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return E&&g!==dN&&(S.value=UA(d,this.options,v,this.speed)),m&&m(S.value),E&&this.finish(),S}then(t,r){return this.finished.then(t,r)}get duration(){return _a(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_a(t)}get time(){return _a(this.currentTime)}set time(t){var r;t=zi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(hs.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=_a(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:t=Bye,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(a=(s=this.options).onPlay)==null||a.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function sve(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Kc=e=>e*180/Math.PI,fN=e=>{const t=Kc(Math.atan2(e[1],e[0]));return hN(t)},ave={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:fN,rotateZ:fN,skewX:e=>Kc(Math.atan(e[1])),skewY:e=>Kc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},hN=e=>(e=e%360,e<0&&(e+=360),e),mI=fN,gI=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),yI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ive={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gI,scaleY:yI,scale:e=>(gI(e)+yI(e))/2,rotateX:e=>hN(Kc(Math.atan2(e[6],e[5]))),rotateY:e=>hN(Kc(Math.atan2(-e[2],e[0]))),rotateZ:mI,rotate:mI,skewX:e=>Kc(Math.atan(e[4])),skewY:e=>Kc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function pN(e){return e.includes("scale")?1:0}function mN(e,t){if(!e||e==="none")return pN(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=ive,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=ave,s=l}if(!s)return pN(t);const a=n[t],i=s[1].split(",").map(lve);return typeof a=="function"?a(i):i[a]}const ove=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return mN(r,t)};function lve(e){return parseFloat(e.trim())}const Lh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dh=new Set(Lh),vI=e=>e===Ih||e===ct,cve=new Set(["x","y","z"]),uve=Lh.filter(e=>!cve.has(e));function dve(e){const t=[];return uve.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Ll={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>mN(t,"x"),y:(e,{transform:t})=>mN(t,"y")};Ll.translateX=Ll.x;Ll.translateY=Ll.y;const mu=new Set;let gN=!1,yN=!1,vN=!1;function _W(){if(yN){const e=Array.from(mu).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=dve(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,i])=>{var l;(l=n.getValue(a))==null||l.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}yN=!1,gN=!1,mu.forEach(e=>e.complete(vN)),mu.clear()}function SW(){mu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(yN=!0)})}function fve(){vN=!0,SW(),_W(),vN=!1}class WA{constructor(t,r,n,s,a,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(mu.add(this),gN||(gN=!0,Rr.read(SW),Rr.resolveKeyframes(_W))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const a=s==null?void 0:s.get(),i=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const l=n.readValue(r,i);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=i),s&&a===void 0&&s.set(t[0])}sve(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),mu.delete(this)}cancel(){this.state==="scheduled"&&(mu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hve=e=>e.startsWith("--");function pve(e,t,r){hve(t)?e.style.setProperty(t,r):e.style[t]=r}const mve=OA(()=>window.ScrollTimeline!==void 0),gve={};function yve(e,t){const r=OA(e);return()=>gve[t]??r()}const jW=yve(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zp=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,xI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zp([0,.65,.55,1]),circOut:Zp([.55,0,1,.45]),backIn:Zp([.31,.01,.66,-.59]),backOut:Zp([.33,1.53,.69,.99])};function kW(e,t){if(e)return typeof e=="function"?jW()?xW(e,t):"ease-out":lW(e)?Zp(e):Array.isArray(e)?e.map(r=>kW(r,t)||xI.easeOut):xI[e]}function vve(e,t,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:i="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=kW(l,s);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:i==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function EW(e){return typeof e=="function"&&"applyToOptions"in e}function xve({type:e,...t}){return EW(e)&&jW()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class bve extends zA{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:a,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=i,this.options=t,zf(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const u=xve(t);this.animation=vve(r,n,s,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=UA(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):pve(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return _a(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_a(t)}get time(){return _a(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=zi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&mve()?(this.animation.timeline=t,Na):r(this)}}const NW={anticipate:sW,backInOut:nW,circInOut:iW};function wve(e){return e in NW}function _ve(e){typeof e.ease=="string"&&wve(e.ease)&&(e.ease=NW[e.ease])}const WS=10;class Sve extends bve{constructor(t){_ve(t),wW(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:a,...i}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new qA({...i,autoplay:!1}),c=Math.max(WS,hs.now()-this.startTime),u=Yi(0,WS,c-WS);r.setWithVelocity(l.sample(Math.max(0,c-u)).value,l.sample(c).value,u),l.stop()}}const bI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(lc.test(e)||e==="0")&&!e.startsWith("url("));function jve(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function kve(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],i=bI(s,t),l=bI(a,t);return f1(i===l,`You are trying to animate ${t} from "${s}" to "${a}". "${i?a:s}" is not an animatable value.`,"value-not-animatable"),!i||!l?!1:jve(e)||(r==="spring"||EW(r))&&n}function xN(e){e.duration=0,e.type="keyframes"}const Eve=new Set(["opacity","clipPath","filter","transform"]),Nve=OA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Cve(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:a,type:i}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Nve()&&r&&Eve.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&a!==0&&i!=="inertia"}const Pve=40;class Ave extends zA{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var g;super(),this.stop=()=>{var m,v;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=hs.now();const h={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:i,name:c,motionValue:u,element:d,...f},y=(d==null?void 0:d.KeyframeResolver)||WA;this.keyframeResolver=new y(l,(m,v,x)=>this.onKeyframesResolved(m,v,h,!x),c,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:a,type:i,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=hs.now(),kve(t,a,i,l)||((Uo.instantAnimations||!c)&&(d==null||d(UA(t,n,r))),t[0]=t[t.length-1],xN(n),n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Pve?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},y=!u&&Cve(h)?new Sve({...h,element:h.motionValue.owner.current}):new qA(h);y.finished.then(()=>this.notifyFinished()).catch(Na),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),fve()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Tve=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ove(e){const t=Tve.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}const $ve=4;function CW(e,t,r=1){zf(r<=$ve,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[n,s]=Ove(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const i=a.trim();return Yq(i)?parseFloat(i):i}return IA(s)?CW(s,t,r+1):s}function VA(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Rve={type:"spring",stiffness:500,damping:25,restSpeed:10},Mve=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ive={type:"keyframes",duration:.8},Lve={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dve=(e,{keyframes:t})=>t.length>2?Ive:Dh.has(e)?e.startsWith("scale")?Mve(t[1]):Rve:Lve;function Fve({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Bve=e=>e!==null;function Uve(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(Bve),a=t&&r!=="loop"&&t%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}function PW(e,t,r,n=0,s=1){const a=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),i=e.size,l=(i-1)*n;return typeof r=="function"?r(a,i):s===1?a*n:l-a*n}const HA=(e,t,r,n={},s,a)=>i=>{const l=VA(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-zi(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};Fve(l)||Object.assign(d,Dve(e,d)),d.duration&&(d.duration=zi(d.duration)),d.repeatDelay&&(d.repeatDelay=zi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(xN(d),d.delay===0&&(f=!0)),(Uo.instantAnimations||Uo.skipAnimations)&&(f=!0,xN(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!a&&t.get()!==void 0){const h=Uve(d.keyframes,l);if(h!==void 0){Rr.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new qA(d):new Ave(d)},AW=new Set(["width","height","top","left","right","bottom",...Lh]),wI=30,zve=e=>!isNaN(parseFloat(e));class qve{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var a;const s=hs.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=hs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=zve(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new $A);const n=this.events[t].add(r);return t==="change"?()=>{n(),Rr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=hs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>wI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,wI);return Qq(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qf(e,t){return new qve(e,t)}function _I(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function KA(e,t,r,n){if(typeof t=="function"){const[s,a]=_I(n);t=t(r!==void 0?r:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=_I(n);t=t(r!==void 0?r:e.custom,s,a)}return t}function nf(e,t,r){const n=e.getProps();return KA(n,t,r!==void 0?r:n.custom,e)}const bN=e=>Array.isArray(e);function Wve(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,qf(r))}function Vve(e){return bN(e)?e[e.length-1]||0:e}function Hve(e,t){const r=nf(e,t);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const i in a){const l=Vve(a[i]);Wve(e,i,l)}}const ts=e=>!!(e&&e.getVelocity);function Kve(e){return!!(ts(e)&&e.add)}function wN(e,t){const r=e.getValue("willChange");if(Kve(r))return r.add(t);if(!r&&Uo.WillChange){const n=new Uo.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function GA(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Gve="framerAppearId",TW="data-"+GA(Gve);function OW(e){return e.props[TW]}function Yve({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function $W(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:i,...l}=t;n&&(a=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&Yve(u,d))continue;const y={delay:r,...VA(a||{},d)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!y.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const x=OW(e);if(x){const b=window.MotionHandoffAnimation(x,d,Rr);b!==null&&(y.startTime=b,m=!0)}}wN(e,d),f.start(HA(d,f,h,e.shouldReduceMotion&&AW.has(d)?{type:!1}:y,e,m));const v=f.animation;v&&c.push(v)}return i&&Promise.all(c).then(()=>{Rr.update(()=>{i&&Hve(e,i)})}),c}function _N(e,t,r={}){var c;const n=nf(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all($W(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return Jve(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[a,i]:[i,a];return u().then(()=>d())}else return Promise.all([a(),i(r.delay)])}function Jve(e,t,r=0,n=0,s=0,a=1,i){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(_N(c,t,{...i,delay:r+(typeof n=="function"?0:n)+PW(e.variantChildren,c,n,s,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Xve(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(a=>_N(e,a,r));n=Promise.all(s)}else if(typeof t=="string")n=_N(e,t,r);else{const s=typeof t=="function"?nf(e,t,r.custom):t;n=Promise.all($W(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Qve={test:e=>e==="auto",parse:e=>e},RW=e=>t=>t.test(e),MW=[Ih,ct,qi,ul,jye,Sye,Qve],SI=e=>MW.find(RW(e));function Zve(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Xq(e):!0}const e0e=new Set(["brightness","contrast","saturate","opacity"]);function t0e(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(LA)||[];if(!n)return e;const s=r.replace(n,"");let a=e0e.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const r0e=/\b([a-z-]*)\(.*?\)/gu,SN={...lc,getAnimatableNone:e=>{const t=e.match(r0e);return t?t.map(t0e).join(" "):e}},jI={...Ih,transform:Math.round},n0e={rotate:ul,rotateX:ul,rotateY:ul,rotateZ:ul,scale:Wv,scaleX:Wv,scaleY:Wv,scaleZ:Wv,skew:ul,skewX:ul,skewY:ul,distance:ct,translateX:ct,translateY:ct,translateZ:ct,x:ct,y:ct,z:ct,perspective:ct,transformPerspective:ct,opacity:yg,originX:uI,originY:uI,originZ:ct},YA={borderWidth:ct,borderTopWidth:ct,borderRightWidth:ct,borderBottomWidth:ct,borderLeftWidth:ct,borderRadius:ct,radius:ct,borderTopLeftRadius:ct,borderTopRightRadius:ct,borderBottomRightRadius:ct,borderBottomLeftRadius:ct,width:ct,maxWidth:ct,height:ct,maxHeight:ct,top:ct,right:ct,bottom:ct,left:ct,inset:ct,insetBlock:ct,insetBlockStart:ct,insetBlockEnd:ct,insetInline:ct,insetInlineStart:ct,insetInlineEnd:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,paddingBlock:ct,paddingBlockStart:ct,paddingBlockEnd:ct,paddingInline:ct,paddingInlineStart:ct,paddingInlineEnd:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,marginBlock:ct,marginBlockStart:ct,marginBlockEnd:ct,marginInline:ct,marginInlineStart:ct,marginInlineEnd:ct,backgroundPositionX:ct,backgroundPositionY:ct,...n0e,zIndex:jI,fillOpacity:yg,strokeOpacity:yg,numOctaves:jI},s0e={...YA,color:cn,backgroundColor:cn,outlineColor:cn,fill:cn,stroke:cn,borderColor:cn,borderTopColor:cn,borderRightColor:cn,borderBottomColor:cn,borderLeftColor:cn,filter:SN,WebkitFilter:SN},IW=e=>s0e[e];function LW(e,t){let r=IW(e);return r!==SN&&(r=lc),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const a0e=new Set(["auto","none","0"]);function i0e(e,t,r){let n=0,s;for(;n<e.length&&!s;){const a=e[n];typeof a=="string"&&!a0e.has(a)&&vg(a).values.length&&(s=e[n]),n++}if(s&&r)for(const a of t)e[a]=LW(r,s)}class o0e extends WA{constructor(t,r,n,s,a){super(t,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),IA(f))){const h=CW(f,r.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!AW.has(n)||t.length!==2)return;const[s,a]=t,i=SI(s),l=SI(a),c=cI(s),u=cI(a);if(c!==u&&Ll[n]){this.needsMeasurement=!0;return}if(i!==l)if(vI(i)&&vI(l))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else Ll[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||Zve(t[s]))&&n.push(s);n.length&&i0e(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ll[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=n.length-1,i=n[a];n[a]=Ll[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function l0e(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const DW=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function FW(e){return Jq(e)&&"offsetHeight"in e}const{schedule:JA,cancel:iGe}=cW(queueMicrotask,!1),za={x:!1,y:!1};function BW(){return za.x||za.y}function c0e(e){return e==="x"||e==="y"?za[e]?null:(za[e]=!0,()=>{za[e]=!1}):za.x||za.y?null:(za.x=za.y=!0,()=>{za.x=za.y=!1})}function UW(e,t){const r=l0e(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function kI(e){return!(e.pointerType==="touch"||BW())}function u0e(e,t,r={}){const[n,s,a]=UW(e,r),i=l=>{if(!kI(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{kI(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",i,s)}),a}const zW=(e,t)=>t?e===t?!0:zW(e,t.parentElement):!1,XA=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,d0e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qW(e){return d0e.has(e.tagName)||e.isContentEditable===!0}const D0=new WeakSet;function EI(e){return t=>{t.key==="Enter"&&e(t)}}function VS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const f0e=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=EI(()=>{if(D0.has(r))return;VS(r,"down");const s=EI(()=>{VS(r,"up")}),a=()=>VS(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function NI(e){return XA(e)&&!BW()}function h0e(e,t,r={}){const[n,s,a]=UW(e,r),i=l=>{const c=l.currentTarget;if(!NI(l))return;D0.add(c);const u=t(c,l),d=(y,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),D0.has(c)&&D0.delete(c),NI(y)&&typeof u=="function"&&u(y,{success:g})},f=y=>{d(y,c===window||c===document||r.useGlobalTarget||zW(c,y.target))},h=y=>{d(y,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",i,s),FW(l)&&(l.addEventListener("focus",u=>f0e(u,s)),!qW(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function WW(e){return Jq(e)&&"ownerSVGElement"in e}function p0e(e){return WW(e)&&e.tagName==="svg"}const m0e=[...MW,cn,lc],g0e=e=>m0e.find(RW(e)),CI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Id=()=>({x:CI(),y:CI()}),PI=()=>({min:0,max:0}),gn=()=>({x:PI(),y:PI()}),jN={current:null},VW={current:!1},y0e=typeof window<"u";function v0e(){if(VW.current=!0,!!y0e)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jN.current=e.matches;e.addEventListener("change",t),t()}else jN.current=!1}const x0e=new WeakMap;function h1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function xg(e){return typeof e=="string"||Array.isArray(e)}const QA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ZA=["initial",...QA];function p1(e){return h1(e.animate)||ZA.some(t=>xg(e[t]))}function HW(e){return!!(p1(e)||e.variants)}function b0e(e,t,r){for(const n in t){const s=t[n],a=r[n];if(ts(s))e.addValue(n,s);else if(ts(a))e.addValue(n,qf(s,{owner:e}));else if(a!==s)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=e.getStaticValue(n);e.addValue(n,qf(i!==void 0?i:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const AI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Gx={};function KW(e){Gx=e}function w0e(){return Gx}class _0e{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=WA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=hs.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Rr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=p1(r),this.isVariantNode=HW(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const y=f[h];c[h]!==void 0&&ts(y)&&y.set(c[h])}}mount(t){var r;this.current=t,x0e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(VW.current||v0e(),this.shouldReduceMotion=jN.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),oc(this.notifyUpdate),oc(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Dh.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Rr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Gx){const r=Gx[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<AI.length;n++){const s=AI[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,i=t[a];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=b0e(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=qf(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Yq(n)||Xq(n))?n=parseFloat(n):!g0e(n)&&lc.test(r)&&(n=LW(t,r)),this.setBaseTarget(t,ts(n)?n.get():n)),ts(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var a;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=KA(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ts(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new $A),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){JA.render(this.render)}}class mc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class GW extends _0e{constructor(){super(...arguments),this.KeyframeResolver=o0e}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const n=t.style;return n?n[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ts(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function YW({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function S0e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function j0e(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function HS(e){return e===void 0||e===1}function kN({scale:e,scaleX:t,scaleY:r}){return!HS(e)||!HS(t)||!HS(r)}function Rc(e){return kN(e)||JW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function JW(e){return TI(e.x)||TI(e.y)}function TI(e){return e&&e!=="0%"}function Yx(e,t,r){const n=e-r,s=t*n;return r+s}function OI(e,t,r,n,s){return s!==void 0&&(e=Yx(e,s,n)),Yx(e,r,n)+t}function EN(e,t=0,r=1,n,s){e.min=OI(e.min,t,r,n,s),e.max=OI(e.max,t,r,n,s)}function XW(e,{x:t,y:r}){EN(e.x,t.translate,t.scale,t.originPoint),EN(e.y,r.translate,r.scale,r.originPoint)}const $I=.999999999999,RI=1.0000000000001;function k0e(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let a,i;for(let l=0;l<s;l++){a=r[l],i=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Dd(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,XW(e,i)),n&&Rc(a.latestValues)&&Dd(e,a.latestValues))}t.x<RI&&t.x>$I&&(t.x=1),t.y<RI&&t.y>$I&&(t.y=1)}function Ld(e,t){e.min=e.min+t,e.max=e.max+t}function MI(e,t,r,n,s=.5){const a=Vr(e.min,e.max,s);EN(e,t,r,a,n)}function Dd(e,t){MI(e.x,t.x,t.scaleX,t.scale,t.originX),MI(e.y,t.y,t.scaleY,t.scale,t.originY)}function QW(e,t){return YW(j0e(e.getBoundingClientRect(),t))}function E0e(e,t,r){const n=QW(e,r),{scroll:s}=t;return s&&(Ld(n.x,s.offset.x),Ld(n.y,s.offset.y)),n}const N0e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},C0e=Lh.length;function P0e(e,t,r){let n="",s=!0;for(let a=0;a<C0e;a++){const i=Lh[a],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=DW(l,YA[i]);if(!c){s=!1;const d=N0e[i]||i;n+=`${d}(${u}) `}r&&(t[i]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function eT(e,t,r){const{style:n,vars:s,transformOrigin:a}=e;let i=!1,l=!1;for(const c in t){const u=t[c];if(Dh.has(c)){i=!0;continue}else if(dW(c)){s[c]=u;continue}else{const d=DW(u,YA[c]);c.startsWith("origin")?(l=!0,a[c]=d):n[c]=d}}if(t.transform||(i||r?n.transform=P0e(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}function ZW(e,{style:t,vars:r},n,s){const a=e.style;let i;for(i in t)a[i]=t[i];s==null||s.applyProjectionStyles(a,n);for(i in r)a.setProperty(i,r[i])}function II(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ep={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ct.test(e))e=parseFloat(e);else return e;const r=II(e,t.target.x),n=II(e,t.target.y);return`${r}% ${n}%`}},A0e={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=lc.parse(e);if(s.length>5)return n;const a=lc.createTransformer(e),i=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+i]/=l,s[1+i]/=c;const u=Vr(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),a(s)}},NN={borderRadius:{...Ep,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ep,borderTopRightRadius:Ep,borderBottomLeftRadius:Ep,borderBottomRightRadius:Ep,boxShadow:A0e};function eV(e,{layout:t,layoutId:r}){return Dh.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!NN[e]||e==="opacity")}function tT(e,t,r){var i;const n=e.style,s=t==null?void 0:t.style,a={};if(!n)return a;for(const l in n)(ts(n[l])||s&&ts(s[l])||eV(l,e)||((i=r==null?void 0:r.getValue(l))==null?void 0:i.liveStyle)!==void 0)&&(a[l]=n[l]);return a}function T0e(e){return window.getComputedStyle(e)}class O0e extends GW{constructor(){super(...arguments),this.type="html",this.renderInstance=ZW}readValueFromInstance(t,r){var n;if(Dh.has(r))return(n=this.projection)!=null&&n.isProjecting?pN(r):ove(t,r);{const s=T0e(t),a=(dW(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return QW(t,r)}build(t,r,n){eT(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return tT(t,r,n)}}const $0e={offset:"stroke-dashoffset",array:"stroke-dasharray"},R0e={offset:"strokeDashoffset",array:"strokeDasharray"};function M0e(e,t,r=1,n=0,s=!0){e.pathLength=1;const a=s?$0e:R0e;e[a.offset]=ct.transform(-n);const i=ct.transform(t),l=ct.transform(r);e[a.array]=`${i} ${l}`}const I0e=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function tV(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:a=1,pathOffset:i=0,...l},c,u,d){if(eT(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox);for(const y of I0e)f[y]!==void 0&&(h[y]=f[y],delete f[y]);t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),s!==void 0&&M0e(f,s,a,i,!1)}const rV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),nV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function L0e(e,t,r,n){ZW(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(rV.has(s)?s:GA(s),t.attrs[s])}function sV(e,t,r){const n=tT(e,t,r);for(const s in e)if(ts(e[s])||ts(t[s])){const a=Lh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=e[s]}return n}class D0e extends GW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Dh.has(r)){const n=IW(r);return n&&n.default||0}return r=rV.has(r)?r:GA(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return sV(t,r,n)}build(t,r,n){tV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){L0e(t,r,n,s)}mount(t){this.isSVGTag=nV(t.tagName),super.mount(t)}}const F0e=ZA.length;function aV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?aV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<F0e;r++){const n=ZA[r],s=e.props[n];(xg(s)||s===!1)&&(t[n]=s)}return t}function iV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const B0e=[...QA].reverse(),U0e=QA.length;function z0e(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Xve(e,r,n)))}function q0e(e){let t=z0e(e),r=LI(),n=!0;const s=c=>(u,d)=>{var h;const f=nf(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:y,transitionEnd:g,...m}=f;u={...u,...m,...g}}return u};function a(c){t=c(e)}function i(c){const{props:u}=e,d=aV(e.parent)||{},f=[],h=new Set;let y={},g=1/0;for(let v=0;v<U0e;v++){const x=B0e[v],b=r[x],w=u[x]!==void 0?u[x]:d[x],_=xg(w),S=x===c?b.isActive:null;S===!1&&(g=v);let k=w===d[x]&&w!==u[x]&&_;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),b.protectedKeys={...y},!b.isActive&&S===null||!w&&!b.prevProp||h1(w)||typeof w=="boolean")continue;const E=W0e(b.prevProp,w);let j=E||x===c&&b.isActive&&!k&&_||v>g&&_,N=!1;const C=Array.isArray(w)?w:[w];let P=C.reduce(s(x),{});S===!1&&(P={});const{prevResolvedValues:R={}}=b,B={...R,...P},z=U=>{j=!0,h.has(U)&&(N=!0,h.delete(U)),b.needsAnimating[U]=!0;const A=e.getValue(U);A&&(A.liveStyle=!1)};for(const U in B){const A=P[U],I=R[U];if(y.hasOwnProperty(U))continue;let te=!1;bN(A)&&bN(I)?te=!iV(A,I):te=A!==I,te?A!=null?z(U):h.add(U):A!==void 0&&h.has(U)?z(U):b.protectedKeys[U]=!0}b.prevProp=w,b.prevResolvedValues=P,b.isActive&&(y={...y,...P}),n&&e.blockInitialAnimation&&(j=!1);const D=k&&E;j&&(!D||N)&&f.push(...C.map(U=>{const A={type:x};if(typeof U=="string"&&n&&!D&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,te=nf(I,U);if(I.enteringChildren&&te){const{delayChildren:$}=te.transition||{};A.delay=PW(I.enteringChildren,e,$)}}return{animation:U,options:A}}))}if(h.size){const v={};if(typeof u.initial!="boolean"){const x=nf(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(v.transition=x.transition)}h.forEach(x=>{const b=e.getBaseTarget(x),w=e.getValue(x);w&&(w.liveStyle=!0),v[x]=b??null}),f.push({animation:v})}let m=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var y;return(y=h.animationState)==null?void 0:y.setActive(c,u)}),r[c].isActive=u;const d=i(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:i,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=LI()}}}function W0e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!iV(t,e):!1}function Cc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LI(){return{animate:Cc(!0),whileInView:Cc(),whileHover:Cc(),whileTap:Cc(),whileDrag:Cc(),whileFocus:Cc(),exit:Cc()}}const oV=1e-4,V0e=1-oV,H0e=1+oV,lV=.01,K0e=0-lV,G0e=0+lV;function ps(e){return e.max-e.min}function Y0e(e,t,r){return Math.abs(e-t)<=r}function DI(e,t,r,n=.5){e.origin=n,e.originPoint=Vr(t.min,t.max,e.origin),e.scale=ps(r)/ps(t),e.translate=Vr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=V0e&&e.scale<=H0e||isNaN(e.scale))&&(e.scale=1),(e.translate>=K0e&&e.translate<=G0e||isNaN(e.translate))&&(e.translate=0)}function Em(e,t,r,n){DI(e.x,t.x,r.x,n?n.originX:void 0),DI(e.y,t.y,r.y,n?n.originY:void 0)}function FI(e,t,r){e.min=r.min+t.min,e.max=e.min+ps(t)}function J0e(e,t,r){FI(e.x,t.x,r.x),FI(e.y,t.y,r.y)}function BI(e,t,r){e.min=t.min-r.min,e.max=e.min+ps(t)}function Jx(e,t,r){BI(e.x,t.x,r.x),BI(e.y,t.y,r.y)}function UI(e,t,r,n,s){return e-=t,e=Yx(e,1/r,n),s!==void 0&&(e=Yx(e,1/s,n)),e}function X0e(e,t=0,r=1,n=.5,s,a=e,i=e){if(qi.test(t)&&(t=parseFloat(t),t=Vr(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=Vr(a.min,a.max,n);e===a&&(l-=t),e.min=UI(e.min,t,r,l,s),e.max=UI(e.max,t,r,l,s)}function zI(e,t,[r,n,s],a,i){X0e(e,t[r],t[n],t[s],t.scale,a,i)}const Q0e=["x","scaleX","originX"],Z0e=["y","scaleY","originY"];function qI(e,t,r,n){zI(e.x,t,Q0e,r?r.x:void 0,n?n.x:void 0),zI(e.y,t,Z0e,r?r.y:void 0,n?n.y:void 0)}function WI(e,t){e.min=t.min,e.max=t.max}function Da(e,t){WI(e.x,t.x),WI(e.y,t.y)}function VI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function HI(e){return e.translate===0&&e.scale===1}function cV(e){return HI(e.x)&&HI(e.y)}function KI(e,t){return e.min===t.min&&e.max===t.max}function exe(e,t){return KI(e.x,t.x)&&KI(e.y,t.y)}function GI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function uV(e,t){return GI(e.x,t.x)&&GI(e.y,t.y)}function YI(e){return ps(e.x)/ps(e.y)}function JI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function ha(e){return[e("x"),e("y")]}function txe(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((s||a||i)&&(n=`translate3d(${s}px, ${a}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:y,skewY:g}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),y&&(n+=`skewX(${y}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const dV=["TopLeft","TopRight","BottomLeft","BottomRight"],rxe=dV.length,XI=e=>typeof e=="string"?parseFloat(e):e,QI=e=>typeof e=="number"||ct.test(e);function nxe(e,t,r,n,s,a){s?(e.opacity=Vr(0,r.opacity??1,sxe(n)),e.opacityExit=Vr(t.opacity??1,0,axe(n))):a&&(e.opacity=Vr(t.opacity??1,r.opacity??1,n));for(let i=0;i<rxe;i++){const l=`border${dV[i]}Radius`;let c=ZI(t,l),u=ZI(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||QI(c)===QI(u)?(e[l]=Math.max(Vr(XI(c),XI(u),n),0),(qi.test(u)||qi.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Vr(t.rotate||0,r.rotate||0,n))}function ZI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const sxe=fV(0,.5,aW),axe=fV(.5,.95,Na);function fV(e,t,r){return n=>n<e?0:n>t?1:r(gg(e,t,n))}function ixe(e,t){const r=hs.now(),n=({timestamp:s})=>{const a=s-r;a>=t&&(oc(n),e(a-t))};return Rr.setup(n,!0),()=>oc(n)}function bg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function F0(e){return ts(e)?e.get():e}function oxe(e,t,r){const n=ts(e)?e:qf(e);return n.start(HA("",n,t,r)),n.animation}const lxe=(e,t)=>e.depth-t.depth;class cxe{constructor(){this.children=[],this.isDirty=!1}add(t){AA(this.children,t),this.isDirty=!0}remove(t){TA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lxe),this.isDirty=!1,this.children.forEach(t)}}class uxe{constructor(){this.members=[]}add(t){AA(this.members,t),t.scheduleRender()}remove(t){if(TA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const B0={hasAnimatedSinceResize:!0,hasEverUpdated:!1},KS=["","X","Y","Z"],dxe=1e3;let fxe=0;function GS(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function hV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=OW(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Rr,!(s||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&hV(n)}function pV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(i={},l=t==null?void 0:t()){this.id=fxe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mxe),this.nodes.forEach(xxe),this.nodes.forEach(bxe),this.nodes.forEach(gxe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new cxe)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new $A),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=WW(i)&&!p0e(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;Rr.read(()=>{f=window.innerWidth}),e(i,()=>{const y=window.innerWidth;y!==f&&(f=y,this.root.updateBlockedByResize=!0,d&&d(),d=ixe(h,250),B0.hasAnimatedSinceResize&&(B0.hasAnimatedSinceResize=!1,this.nodes.forEach(r3)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||kxe,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=u.getProps(),x=!this.targetLayout||!uV(this.targetLayout,y),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...VA(g,"layout"),onPlay:m,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,b)}else f||r3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),oc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wxe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(e3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(t3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vxe),this.nodes.forEach(hxe),this.nodes.forEach(pxe)):this.nodes.forEach(t3),this.clearAllSnapshots();const l=hs.now();In.delta=Yi(0,1e3/60,l-In.timestamp),In.timestamp=l,In.isProcessing=!0,FS.update.process(In),FS.preRender.process(In),FS.render.process(In),In.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,JA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yxe),this.sharedNodes.forEach(_xe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ps(this.snapshot.measuredBox.x)&&!ps(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=gn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!cV(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&this.instance&&(l||Rc(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),Exe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:i}=this.options;if(!i)return gn();const l=i.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Nxe))){const{scroll:d}=this.root;d&&(Ld(l.x,d.offset.x),Ld(l.y,d.offset.y))}return l}removeElementScroll(i){var c;const l=gn();if(Da(l,i),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Da(l,i),Ld(l.x,f.offset.x),Ld(l.y,f.offset.y))}return l}applyTransform(i,l=!1){const c=gn();Da(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Dd(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Rc(d.latestValues)&&Dd(c,d.latestValues)}return Rc(this.latestValues)&&Dd(c,this.latestValues),c}removeTransform(i){const l=gn();Da(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Rc(u.latestValues))continue;kN(u.latestValues)&&u.updateSnapshot();const d=gn(),f=u.measurePageBox();Da(d,f),qI(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Rc(this.latestValues)&&qI(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==In.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var y;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=In.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gn(),this.targetWithTransforms=gn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J0e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Da(this.target,this.layout.layoutBox),XW(this.target,this.targetDelta)):Da(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||kN(this.parent.latestValues)||JW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(i,l,c){this.relativeParent=i,this.linkedParentVersion=i.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gn(),this.relativeTargetOrigin=gn(),Jx(this.relativeTargetOrigin,l,c),Da(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===In.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Da(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;k0e(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=gn());const{target:y}=i;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(VI(this.prevProjectionDelta.x,this.projectionDelta.x),VI(this.prevProjectionDelta.y,this.projectionDelta.y)),Em(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!JI(this.projectionDelta.x,this.prevProjectionDelta.x)||!JI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Id(),this.projectionDelta=Id(),this.projectionDeltaWithTransform=Id()}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Id();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=gn(),y=c?c.source:void 0,g=this.layout?this.layout.source:void 0,m=y!==g,v=this.getStack(),x=!v||v.members.length<=1,b=!!(m&&!x&&this.options.crossfade===!0&&!this.path.some(jxe));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const S=_/1e3;n3(f.x,i.x,S),n3(f.y,i.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jx(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Sxe(this.relativeTarget,this.relativeTargetOrigin,h,S),w&&exe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=gn()),Da(w,this.relativeTarget)),m&&(this.animationValues=d,nxe(d,u,this.latestValues,S,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(oc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rr.update(()=>{B0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qf(0)),this.currentAnimation=oxe(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dxe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&mV(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||gn();const f=ps(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const h=ps(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+h}Da(l,c),Dd(l,d),Em(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new uxe),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&GS("z",i,u,this.animationValues);for(let d=0;d<KS.length;d++)GS(`rotate${KS[d]}`,i,u,this.animationValues),GS(`skew${KS[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}applyProjectionStyles(i,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=F0(l==null?void 0:l.pointerEvents)||"",i.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=F0(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Rc(this.latestValues)&&(i.transform=c?c({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=txe(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),i.transform=f;const{x:h,y}=this.projectionDelta;i.transformOrigin=`${h.origin*100}% ${y.origin*100}% 0`,u.animationValues?i.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in NN){if(d[g]===void 0)continue;const{correct:m,applyTo:v,isCSSVariable:x}=NN[g],b=f==="none"?d[g]:m(d[g],u);if(v){const w=v.length;for(let _=0;_<w;_++)i[v[_]]=b}else x?this.options.visualElement.renderState.vars[g]=b:i[g]=b}this.options.layoutId&&(i.pointerEvents=u===this?F0(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(e3),this.root.sharedNodes.clear()}}}function hxe(e){e.updateLayout()}function pxe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?ha(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],y=ps(h);h.min=n[f].min,h.max=h.min+y}):mV(a,t.layoutBox,n)&&ha(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],y=ps(n[f]);h.max=h.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+y)});const l=Id();Em(l,n,t.layoutBox);const c=Id();i?Em(c,e.applyTransform(s,!0),t.measuredBox):Em(c,n,t.layoutBox);const u=!cV(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:y}=f;if(h&&y){const g=gn();Jx(g,t.layoutBox,h.layoutBox);const m=gn();Jx(m,n,y.layoutBox),uV(g,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function mxe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gxe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yxe(e){e.clearSnapshot()}function e3(e){e.clearMeasurements()}function t3(e){e.isLayoutDirty=!1}function vxe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function r3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xxe(e){e.resolveTargetDelta()}function bxe(e){e.calcProjection()}function wxe(e){e.resetSkewAndRotation()}function _xe(e){e.removeLeadSnapshot()}function n3(e,t,r){e.translate=Vr(t.translate,0,r),e.scale=Vr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function s3(e,t,r,n){e.min=Vr(t.min,r.min,n),e.max=Vr(t.max,r.max,n)}function Sxe(e,t,r,n){s3(e.x,t.x,r.x,n),s3(e.y,t.y,r.y,n)}function jxe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const kxe={duration:.45,ease:[.4,0,.1,1]},a3=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),i3=a3("applewebkit/")&&!a3("chrome/")?Math.round:Na;function o3(e){e.min=i3(e.min),e.max=i3(e.max)}function Exe(e){o3(e.x),o3(e.y)}function mV(e,t,r){return e==="position"||e==="preserve-aspect"&&!Y0e(YI(t),YI(r),.2)}function Nxe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Cxe=pV({attachResizeListener:(e,t)=>bg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),YS={current:void 0},gV=pV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!YS.current){const e=new Cxe({});e.mount(window),e.setOptions({layoutScroll:!0}),YS.current=e}return YS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),rT=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function l3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Pxe(...e){return t=>{let r=!1;const n=e.map(s=>{const a=l3(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():l3(e[s],null)}}}}function Axe(...e){return p.useCallback(Pxe(...e),e)}class Txe extends p.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=FW(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Oxe({children:e,isPresent:t,anchorX:r,root:n}){var d;const s=p.useId(),a=p.useRef(null),i=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=p.useContext(rT),c=((d=e.props)==null?void 0:d.ref)??(e==null?void 0:e.ref),u=Axe(a,c);return p.useInsertionEffect(()=>{const{width:f,height:h,top:y,left:g,right:m}=i.current;if(t||!a.current||!f||!h)return;const v=r==="left"?`left: ${g}`:`right: ${m}`;a.current.dataset.motionPopId=s;const x=document.createElement("style");l&&(x.nonce=l);const b=n??document.head;return b.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            ${v}px !important;
            top: ${y}px !important;
          }
        `),()=>{b.contains(x)&&b.removeChild(x)}},[t]),o.jsx(Txe,{isPresent:t,childRef:a,sizeRef:i,children:p.cloneElement(e,{ref:u})})}const $xe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:i,anchorX:l,root:c})=>{const u=PA(Rxe),d=p.useId();let f=!0,h=p.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:s,onExitComplete:y=>{u.set(y,!0);for(const g of u.values())if(!g)return;n&&n()},register:y=>(u.set(y,!1),()=>u.delete(y))}),[r,u,n]);return a&&f&&(h={...h}),p.useMemo(()=>{u.forEach((y,g)=>u.set(g,!1))},[r]),p.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),i==="popLayout"&&(e=o.jsx(Oxe,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(d1.Provider,{value:h,children:e})};function Rxe(){return new Map}function yV(e=!0){const t=p.useContext(d1);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,a=p.useId();p.useEffect(()=>{if(e)return s(a)},[e]);const i=p.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,i]:[!0]}const Vv=e=>e.key||"";function c3(e){const t=[];return p.Children.forEach(e,r=>{p.isValidElement(r)&&t.push(r)}),t}const Mxe=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:a="sync",propagate:i=!1,anchorX:l="left",root:c})=>{const[u,d]=yV(i),f=p.useMemo(()=>c3(e),[e]),h=i&&!u?[]:f.map(Vv),y=p.useRef(!0),g=p.useRef(f),m=PA(()=>new Map),v=p.useRef(new Set),[x,b]=p.useState(f),[w,_]=p.useState(f);Gq(()=>{y.current=!1,g.current=f;for(let E=0;E<w.length;E++){const j=Vv(w[E]);h.includes(j)?(m.delete(j),v.current.delete(j)):m.get(j)!==!0&&m.set(j,!1)}},[w,h.length,h.join("-")]);const S=[];if(f!==x){let E=[...f];for(let j=0;j<w.length;j++){const N=w[j],C=Vv(N);h.includes(C)||(E.splice(j,0,N),S.push(N))}return a==="wait"&&S.length&&(E=S),_(c3(E)),b(f),null}const{forceRender:k}=p.useContext(CA);return o.jsx(o.Fragment,{children:w.map(E=>{const j=Vv(E),N=i&&!u?!1:f===w||h.includes(j),C=()=>{if(v.current.has(j))return;if(v.current.add(j),m.has(j))m.set(j,!0);else return;let P=!0;m.forEach(R=>{R||(P=!1)}),P&&(k==null||k(),_(g.current),i&&(d==null||d()),n&&n())};return o.jsx($xe,{isPresent:N,initial:!y.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,root:c,onExitComplete:N?void 0:C,anchorX:l,children:E},j)})})},vV=p.createContext({strict:!1}),u3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let d3=!1;function Ixe(){if(d3)return;const e={};for(const t in u3)e[t]={isEnabled:r=>u3[t].some(n=>!!r[n])};KW(e),d3=!0}function xV(){return Ixe(),w0e()}function Lxe(e){const t=xV();for(const r in e)t[r]={...t[r],...e[r]};KW(t)}const Dxe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Dxe.has(e)}let bV=e=>!Xx(e);function Fxe(e){typeof e=="function"&&(bV=t=>t.startsWith("on")?!Xx(t):e(t))}try{Fxe(require("@emotion/is-prop-valid").default)}catch{}function Bxe(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(bV(s)||r===!0&&Xx(s)||!t&&!Xx(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const m1=p.createContext({});function Uxe(e,t){if(p1(e)){const{initial:r,animate:n}=e;return{initial:r===!1||xg(r)?r:void 0,animate:xg(n)?n:void 0}}return e.inherit!==!1?t:{}}function zxe(e){const{initial:t,animate:r}=Uxe(e,p.useContext(m1));return p.useMemo(()=>({initial:t,animate:r}),[f3(t),f3(r)])}function f3(e){return Array.isArray(e)?e.join(" "):e}const nT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wV(e,t,r){for(const n in t)!ts(t[n])&&!eV(n,r)&&(e[n]=t[n])}function qxe({transformTemplate:e},t){return p.useMemo(()=>{const r=nT();return eT(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Wxe(e,t){const r=e.style||{},n={};return wV(n,r,e),Object.assign(n,qxe(e,t)),n}function Vxe(e,t){const r={},n=Wxe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const _V=()=>({...nT(),attrs:{}});function Hxe(e,t,r,n){const s=p.useMemo(()=>{const a=_V();return tV(a,t,nV(n),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};wV(a,e.style,e),s.style={...a,...s.style}}return s}const Kxe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sT(e){return typeof e!="string"||e.includes("-")?!1:!!(Kxe.indexOf(e)>-1||/[A-Z]/u.test(e))}function Gxe(e,t,r,{latestValues:n},s,a=!1,i){const c=(i??sT(e)?Hxe:Vxe)(t,n,s,e),u=Bxe(t,typeof e=="string",a),d=e!==p.Fragment?{...u,...c,ref:r}:{},{children:f}=t,h=p.useMemo(()=>ts(f)?f.get():f,[f]);return p.createElement(e,{...d,children:h})}function Yxe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:Jxe(r,n,s,e),renderState:t()}}function Jxe(e,t,r,n){const s={},a=n(e,{});for(const h in a)s[h]=F0(a[h]);let{initial:i,animate:l}=e;const c=p1(e),u=HW(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||i===!1;const f=d?l:i;if(f&&typeof f!="boolean"&&!h1(f)){const h=Array.isArray(f)?f:[f];for(let y=0;y<h.length;y++){const g=KA(e,h[y]);if(g){const{transitionEnd:m,transition:v,...x}=g;for(const b in x){let w=x[b];if(Array.isArray(w)){const _=d?w.length-1:0;w=w[_]}w!==null&&(s[b]=w)}for(const b in m)s[b]=m[b]}}}return s}const SV=e=>(t,r)=>{const n=p.useContext(m1),s=p.useContext(d1),a=()=>Yxe(e,t,n,s);return r?a():PA(a)},Xxe=SV({scrapeMotionValuesFromProps:tT,createRenderState:nT}),Qxe=SV({scrapeMotionValuesFromProps:sV,createRenderState:_V}),Zxe=Symbol.for("motionComponentSymbol");function ebe(e,t,r){const n=p.useRef(r);p.useInsertionEffect(()=>{n.current=r});const s=p.useRef(null);return p.useCallback(a=>{var l;a&&((l=e.onMount)==null||l.call(e,a)),t&&(a?t.mount(a):t.unmount());const i=n.current;if(typeof i=="function")if(a){const c=i(a);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):i(a);else i&&(i.current=a)},[t])}const jV=p.createContext({});function em(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function tbe(e,t,r,n,s,a){var v,x;const{visualElement:i}=p.useContext(m1),l=p.useContext(vV),c=p.useContext(d1),u=p.useContext(rT).reducedMotion,d=p.useRef(null);n=n||l.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,isSVG:a}));const f=d.current,h=p.useContext(jV);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&rbe(d.current,r,s,h);const y=p.useRef(!1);p.useInsertionEffect(()=>{f&&y.current&&f.update(r,c)});const g=r[TW],m=p.useRef(!!g&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,g))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,g)));return Gq(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),m.current&&f.animationState&&f.animationState.animateChanges())}),p.useEffect(()=>{f&&(!m.current&&f.animationState&&f.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,g)}),m.current=!1),f.enteringChildren=void 0)}),f}function rbe(e,t,r,n){const{layoutId:s,layout:a,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:kV(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!i||l&&em(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function kV(e){if(e)return e.options.allowProjection!==!1?e.projection:kV(e.parent)}function JS(e,{forwardMotionProps:t=!1,type:r}={},n,s){n&&Lxe(n);const a=r?r==="svg":sT(e),i=a?Qxe:Xxe;function l(u,d){let f;const h={...p.useContext(rT),...u,layoutId:nbe(u)},{isStatic:y}=h,g=zxe(u),m=i(u,y);if(!y&&Kq){sbe();const v=abe(h);f=v.MeasureLayout,g.visualElement=tbe(e,m,h,s,v.ProjectionNode,a)}return o.jsxs(m1.Provider,{value:g,children:[f&&g.visualElement?o.jsx(f,{visualElement:g.visualElement,...h}):null,Gxe(e,u,ebe(m,g.visualElement,d),m,y,t,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=p.forwardRef(l);return c[Zxe]=e,c}function nbe({layoutId:e}){const t=p.useContext(CA).id;return t&&e!==void 0?t+"-"+e:e}function sbe(e,t){p.useContext(vV).strict}function abe(e){const t=xV(),{drag:r,layout:n}=t;if(!r&&!n)return{};const s={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function ibe(e,t){if(typeof Proxy>"u")return JS;const r=new Map,n=(a,i)=>JS(a,i,e,t),s=(a,i)=>n(a,i);return new Proxy(s,{get:(a,i)=>i==="create"?n:(r.has(i)||r.set(i,JS(i,void 0,e,t)),r.get(i))})}const obe=(e,t)=>t.isSVG??sT(e)?new D0e(t):new O0e(t,{allowProjection:e!==p.Fragment});class lbe extends mc{constructor(t){super(t),t.animationState||(t.animationState=q0e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();h1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let cbe=0;class ube extends mc{constructor(){super(...arguments),this.id=cbe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const dbe={animation:{Feature:lbe},exit:{Feature:ube}};function Fy(e){return{point:{x:e.pageX,y:e.pageY}}}const fbe=e=>t=>XA(t)&&e(t,Fy(t));function Nm(e,t,r,n){return bg(e,t,fbe(r),n)}const EV=({current:e})=>e?e.ownerDocument.defaultView:null,h3=(e,t)=>Math.abs(e-t);function hbe(e,t){const r=h3(e.x,t.x),n=h3(e.y,t.y);return Math.sqrt(r**2+n**2)}const p3=new Set(["auto","scroll"]);class NV{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:i=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=QS(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=hbe(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!m)return;const{point:v}=y,{timestamp:x}=In;this.history.push({...v,timestamp:x});const{onStart:b,onMove:w}=this.handlers;g||(b&&b(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,y)},this.handlePointerMove=(y,g)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=XS(g,this.transformPagePoint),Rr.update(this.updatePoint,!0)},this.handlePointerUp=(y,g)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=QS(y.type==="pointercancel"?this.lastMoveEventInfo:XS(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(y,b),v&&v(y,b)},!XA(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=s||window;const c=Fy(t),u=XS(c,this.transformPagePoint),{point:d}=u,{timestamp:f}=In;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=r;h&&h(t,QS(u,this.history)),this.removeListeners=Iy(Nm(this.contextWindow,"pointermove",this.handlePointerMove),Nm(this.contextWindow,"pointerup",this.handlePointerUp),Nm(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let r=t.parentElement;for(;r;){const n=getComputedStyle(r);(p3.has(n.overflowX)||p3.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const n=t===window,s=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:s.x-r.x,y:s.y-r.y};a.x===0&&a.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,s),Rr.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),oc(this.updatePoint)}}function XS(e,t){return t?{point:t(e.point)}:e}function m3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function QS({point:e},t){return{point:e,delta:m3(e,CV(t)),offset:m3(e,pbe(t)),velocity:mbe(t,.1)}}function pbe(e){return e[0]}function CV(e){return e[e.length-1]}function mbe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=CV(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>zi(t)));)r--;if(!n)return{x:0,y:0};const a=_a(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const i={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function gbe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Vr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Vr(r,e,n.max):Math.min(e,r)),e}function g3(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function ybe(e,{top:t,left:r,bottom:n,right:s}){return{x:g3(e.x,r,s),y:g3(e.y,t,n)}}function y3(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function vbe(e,t){return{x:y3(e.x,t.x),y:y3(e.y,t.y)}}function xbe(e,t){let r=.5;const n=ps(e),s=ps(t);return s>n?r=gg(t.min,t.max-n,e.min):n>s&&(r=gg(e.min,e.max-s,t.min)),Yi(0,1,r)}function bbe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const CN=.35;function wbe(e=CN){return e===!1?e=0:e===!0&&(e=CN),{x:v3(e,"left","right"),y:v3(e,"top","bottom")}}function v3(e,t,r){return{min:x3(e,t),max:x3(e,r)}}function x3(e,t){return typeof e=="number"?e:e[t]||0}const _be=new WeakMap;class Sbe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=f=>{r?(this.stopAnimation(),this.snapToCursor(Fy(f).point)):this.pauseAnimation()},i=(f,h)=>{this.stopAnimation();const{drag:y,dragPropagation:g,onDragStart:m}=this.getProps();if(y&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=c0e(y),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ha(x=>{let b=this.getAxisMotionValue(x).get()||0;if(qi.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[x];_&&(b=ps(_)*(parseFloat(b)/100))}}this.originPoint[x]=b}),m&&Rr.postRender(()=>m(f,h)),wN(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:y,dragDirectionLock:g,onDirectionLock:m,onDrag:v}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:x}=h;if(g&&this.currentDirection===null){this.currentDirection=jbe(x),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),v&&v(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ha(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new NV(t,{onSessionStart:a,onStart:i,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:EV(this.visualElement),element:this.visualElement.current})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&Rr.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Hv(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=gbe(i,this.constraints[t],this.elastic[t])),a.set(i)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&em(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=ybe(n.layoutBox,t):this.constraints=!1,this.elastic=wbe(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ha(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=bbe(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!em(t))return!1;const n=t.current;zf(n!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=E0e(n,s.root,this.visualElement.getTransformPagePoint());let i=vbe(s.layout.layoutBox,a);if(r){const l=r(S0e(i));this.hasMutatedConstraints=!!l,l&&(i=YW(l))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ha(d=>{if(!Hv(d,r,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const h=s?200:1e6,y=s?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return wN(this.visualElement,t),n.start(HA(t,n,0,r,this.visualElement,!1))}stopAnimation(){ha(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ha(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ha(r=>{const{drag:n}=this.getProps();if(!Hv(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[r],c=a.get()||0;a.set(t[r]-Vr(i,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!em(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ha(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();s[i]=xbe({min:c,max:c},this.constraints[i])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ha(i=>{if(!Hv(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(Vr(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;_be.set(this.visualElement,this);const t=this.visualElement.current,r=Nm(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&!qW(c.target)&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();em(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Rr.read(n);const i=bg(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ha(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:i=CN,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:i,dragMomentum:l}}}function Hv(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function jbe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class kbe extends mc{constructor(t){super(t),this.removeGroupControls=Na,this.removeListeners=Na,this.controls=new Sbe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Na}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const b3=e=>(t,r)=>{e&&Rr.postRender(()=>e(t,r))};class Ebe extends mc{constructor(){super(...arguments),this.removePointerDownListener=Na}onPointerDown(t){this.session=new NV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:b3(t),onStart:b3(r),onMove:n,onEnd:(a,i)=>{delete this.session,s&&Rr.postRender(()=>s(a,i))}}}mount(){this.removePointerDownListener=Nm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let ZS=!1;class Nbe extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=t;a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),ZS&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),B0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,{projection:i}=n;return i&&(i.isPresent=a,ZS=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==a?i.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?i.promote():i.relegate()||Rr.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),JA.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;ZS=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function PV(e){const[t,r]=yV(),n=p.useContext(CA);return o.jsx(Nbe,{...e,layoutGroup:n,switchLayoutGroup:p.useContext(jV),isPresent:t,safeToRemove:r})}const Cbe={pan:{Feature:Ebe},drag:{Feature:kbe,ProjectionNode:gV,MeasureLayout:PV}};function w3(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&Rr.postRender(()=>a(t,Fy(t)))}class Pbe extends mc{mount(){const{current:t}=this.node;t&&(this.unmount=u0e(t,(r,n)=>(w3(this.node,n,"Start"),s=>w3(this.node,s,"End"))))}unmount(){}}class Abe extends mc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Iy(bg(this.node.current,"focus",()=>this.onFocus()),bg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _3(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&Rr.postRender(()=>a(t,Fy(t)))}class Tbe extends mc{mount(){const{current:t}=this.node;t&&(this.unmount=h0e(t,(r,n)=>(_3(this.node,n,"Start"),(s,{success:a})=>_3(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const PN=new WeakMap,ej=new WeakMap,Obe=e=>{const t=PN.get(e.target);t&&t(e)},$be=e=>{e.forEach(Obe)};function Rbe({root:e,...t}){const r=e||document;ej.has(r)||ej.set(r,{});const n=ej.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver($be,{root:e,...t})),n[s]}function Mbe(e,t,r){const n=Rbe(t);return PN.set(e,r),n.observe(e),()=>{PN.delete(e),n.unobserve(e)}}const Ibe={some:0,all:1};class Lbe extends mc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Ibe[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return Mbe(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Dbe(t,r))&&this.startObserver()}unmount(){}}function Dbe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Fbe={inView:{Feature:Lbe},tap:{Feature:Tbe},focus:{Feature:Abe},hover:{Feature:Pbe}},Bbe={layout:{ProjectionNode:gV,MeasureLayout:PV}},Ube={...dbe,...Fbe,...Cbe,...Bbe},Ln=ibe(Ube,obe);var zbe=Array.isArray,qs=zbe,qbe=typeof es=="object"&&es&&es.Object===Object&&es,AV=qbe,Wbe=AV,Vbe=typeof self=="object"&&self&&self.Object===Object&&self,Hbe=Wbe||Vbe||Function("return this")(),to=Hbe,Kbe=to,Gbe=Kbe.Symbol,By=Gbe,S3=By,TV=Object.prototype,Ybe=TV.hasOwnProperty,Jbe=TV.toString,Np=S3?S3.toStringTag:void 0;function Xbe(e){var t=Ybe.call(e,Np),r=e[Np];try{e[Np]=void 0;var n=!0}catch{}var s=Jbe.call(e);return n&&(t?e[Np]=r:delete e[Np]),s}var Qbe=Xbe,Zbe=Object.prototype,ewe=Zbe.toString;function twe(e){return ewe.call(e)}var rwe=twe,j3=By,nwe=Qbe,swe=rwe,awe="[object Null]",iwe="[object Undefined]",k3=j3?j3.toStringTag:void 0;function owe(e){return e==null?e===void 0?iwe:awe:k3&&k3 in Object(e)?nwe(e):swe(e)}var Go=owe;function lwe(e){return e!=null&&typeof e=="object"}var Yo=lwe,cwe=Go,uwe=Yo,dwe="[object Symbol]";function fwe(e){return typeof e=="symbol"||uwe(e)&&cwe(e)==dwe}var Fh=fwe,hwe=qs,pwe=Fh,mwe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gwe=/^\w*$/;function ywe(e,t){if(hwe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||pwe(e)?!0:gwe.test(e)||!mwe.test(e)||t!=null&&e in Object(t)}var aT=ywe;function vwe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var gc=vwe;const Bh=vr(gc);var xwe=Go,bwe=gc,wwe="[object AsyncFunction]",_we="[object Function]",Swe="[object GeneratorFunction]",jwe="[object Proxy]";function kwe(e){if(!bwe(e))return!1;var t=xwe(e);return t==_we||t==Swe||t==wwe||t==jwe}var iT=kwe;const Vt=vr(iT);var Ewe=to,Nwe=Ewe["__core-js_shared__"],Cwe=Nwe,tj=Cwe,E3=function(){var e=/[^.]+$/.exec(tj&&tj.keys&&tj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Pwe(e){return!!E3&&E3 in e}var Awe=Pwe,Twe=Function.prototype,Owe=Twe.toString;function $we(e){if(e!=null){try{return Owe.call(e)}catch{}try{return e+""}catch{}}return""}var OV=$we,Rwe=iT,Mwe=Awe,Iwe=gc,Lwe=OV,Dwe=/[\\^$.*+?()[\]{}|]/g,Fwe=/^\[object .+?Constructor\]$/,Bwe=Function.prototype,Uwe=Object.prototype,zwe=Bwe.toString,qwe=Uwe.hasOwnProperty,Wwe=RegExp("^"+zwe.call(qwe).replace(Dwe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vwe(e){if(!Iwe(e)||Mwe(e))return!1;var t=Rwe(e)?Wwe:Fwe;return t.test(Lwe(e))}var Hwe=Vwe;function Kwe(e,t){return e==null?void 0:e[t]}var Gwe=Kwe,Ywe=Hwe,Jwe=Gwe;function Xwe(e,t){var r=Jwe(e,t);return Ywe(r)?r:void 0}var Wu=Xwe,Qwe=Wu,Zwe=Qwe(Object,"create"),g1=Zwe,N3=g1;function e1e(){this.__data__=N3?N3(null):{},this.size=0}var t1e=e1e;function r1e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var n1e=r1e,s1e=g1,a1e="__lodash_hash_undefined__",i1e=Object.prototype,o1e=i1e.hasOwnProperty;function l1e(e){var t=this.__data__;if(s1e){var r=t[e];return r===a1e?void 0:r}return o1e.call(t,e)?t[e]:void 0}var c1e=l1e,u1e=g1,d1e=Object.prototype,f1e=d1e.hasOwnProperty;function h1e(e){var t=this.__data__;return u1e?t[e]!==void 0:f1e.call(t,e)}var p1e=h1e,m1e=g1,g1e="__lodash_hash_undefined__";function y1e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=m1e&&t===void 0?g1e:t,this}var v1e=y1e,x1e=t1e,b1e=n1e,w1e=c1e,_1e=p1e,S1e=v1e;function Uh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Uh.prototype.clear=x1e;Uh.prototype.delete=b1e;Uh.prototype.get=w1e;Uh.prototype.has=_1e;Uh.prototype.set=S1e;var j1e=Uh;function k1e(){this.__data__=[],this.size=0}var E1e=k1e;function N1e(e,t){return e===t||e!==e&&t!==t}var oT=N1e,C1e=oT;function P1e(e,t){for(var r=e.length;r--;)if(C1e(e[r][0],t))return r;return-1}var y1=P1e,A1e=y1,T1e=Array.prototype,O1e=T1e.splice;function $1e(e){var t=this.__data__,r=A1e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():O1e.call(t,r,1),--this.size,!0}var R1e=$1e,M1e=y1;function I1e(e){var t=this.__data__,r=M1e(t,e);return r<0?void 0:t[r][1]}var L1e=I1e,D1e=y1;function F1e(e){return D1e(this.__data__,e)>-1}var B1e=F1e,U1e=y1;function z1e(e,t){var r=this.__data__,n=U1e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var q1e=z1e,W1e=E1e,V1e=R1e,H1e=L1e,K1e=B1e,G1e=q1e;function zh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zh.prototype.clear=W1e;zh.prototype.delete=V1e;zh.prototype.get=H1e;zh.prototype.has=K1e;zh.prototype.set=G1e;var v1=zh,Y1e=Wu,J1e=to,X1e=Y1e(J1e,"Map"),lT=X1e,C3=j1e,Q1e=v1,Z1e=lT;function e_e(){this.size=0,this.__data__={hash:new C3,map:new(Z1e||Q1e),string:new C3}}var t_e=e_e;function r_e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var n_e=r_e,s_e=n_e;function a_e(e,t){var r=e.__data__;return s_e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var x1=a_e,i_e=x1;function o_e(e){var t=i_e(this,e).delete(e);return this.size-=t?1:0,t}var l_e=o_e,c_e=x1;function u_e(e){return c_e(this,e).get(e)}var d_e=u_e,f_e=x1;function h_e(e){return f_e(this,e).has(e)}var p_e=h_e,m_e=x1;function g_e(e,t){var r=m_e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var y_e=g_e,v_e=t_e,x_e=l_e,b_e=d_e,w_e=p_e,__e=y_e;function qh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qh.prototype.clear=v_e;qh.prototype.delete=x_e;qh.prototype.get=b_e;qh.prototype.has=w_e;qh.prototype.set=__e;var cT=qh,$V=cT,S_e="Expected a function";function uT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(S_e);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var i=e.apply(this,n);return r.cache=a.set(s,i)||a,i};return r.cache=new(uT.Cache||$V),r}uT.Cache=$V;var RV=uT;const j_e=vr(RV);var k_e=RV,E_e=500;function N_e(e){var t=k_e(e,function(n){return r.size===E_e&&r.clear(),n}),r=t.cache;return t}var C_e=N_e,P_e=C_e,A_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T_e=/\\(\\)?/g,O_e=P_e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(A_e,function(r,n,s,a){t.push(s?a.replace(T_e,"$1"):n||r)}),t}),$_e=O_e;function R_e(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var dT=R_e,P3=By,M_e=dT,I_e=qs,L_e=Fh,D_e=1/0,A3=P3?P3.prototype:void 0,T3=A3?A3.toString:void 0;function MV(e){if(typeof e=="string")return e;if(I_e(e))return M_e(e,MV)+"";if(L_e(e))return T3?T3.call(e):"";var t=e+"";return t=="0"&&1/e==-D_e?"-0":t}var F_e=MV,B_e=F_e;function U_e(e){return e==null?"":B_e(e)}var IV=U_e,z_e=qs,q_e=aT,W_e=$_e,V_e=IV;function H_e(e,t){return z_e(e)?e:q_e(e,t)?[e]:W_e(V_e(e))}var LV=H_e,K_e=Fh,G_e=1/0;function Y_e(e){if(typeof e=="string"||K_e(e))return e;var t=e+"";return t=="0"&&1/e==-G_e?"-0":t}var b1=Y_e,J_e=LV,X_e=b1;function Q_e(e,t){t=J_e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[X_e(t[r++])];return r&&r==n?e:void 0}var fT=Q_e,Z_e=fT;function eSe(e,t,r){var n=e==null?void 0:Z_e(e,t);return n===void 0?r:n}var DV=eSe;const Ca=vr(DV);function tSe(e){return e==null}var rSe=tSe;const ir=vr(rSe);var nSe=Go,sSe=qs,aSe=Yo,iSe="[object String]";function oSe(e){return typeof e=="string"||!sSe(e)&&aSe(e)&&nSe(e)==iSe}var lSe=oSe;const Uy=vr(lSe);var FV={exports:{}},hr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT=Symbol.for("react.element"),pT=Symbol.for("react.portal"),w1=Symbol.for("react.fragment"),_1=Symbol.for("react.strict_mode"),S1=Symbol.for("react.profiler"),j1=Symbol.for("react.provider"),k1=Symbol.for("react.context"),cSe=Symbol.for("react.server_context"),E1=Symbol.for("react.forward_ref"),N1=Symbol.for("react.suspense"),C1=Symbol.for("react.suspense_list"),P1=Symbol.for("react.memo"),A1=Symbol.for("react.lazy"),uSe=Symbol.for("react.offscreen"),BV;BV=Symbol.for("react.module.reference");function Ra(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hT:switch(e=e.type,e){case w1:case S1:case _1:case N1:case C1:return e;default:switch(e=e&&e.$$typeof,e){case cSe:case k1:case E1:case A1:case P1:case j1:return e;default:return t}}case pT:return t}}}hr.ContextConsumer=k1;hr.ContextProvider=j1;hr.Element=hT;hr.ForwardRef=E1;hr.Fragment=w1;hr.Lazy=A1;hr.Memo=P1;hr.Portal=pT;hr.Profiler=S1;hr.StrictMode=_1;hr.Suspense=N1;hr.SuspenseList=C1;hr.isAsyncMode=function(){return!1};hr.isConcurrentMode=function(){return!1};hr.isContextConsumer=function(e){return Ra(e)===k1};hr.isContextProvider=function(e){return Ra(e)===j1};hr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hT};hr.isForwardRef=function(e){return Ra(e)===E1};hr.isFragment=function(e){return Ra(e)===w1};hr.isLazy=function(e){return Ra(e)===A1};hr.isMemo=function(e){return Ra(e)===P1};hr.isPortal=function(e){return Ra(e)===pT};hr.isProfiler=function(e){return Ra(e)===S1};hr.isStrictMode=function(e){return Ra(e)===_1};hr.isSuspense=function(e){return Ra(e)===N1};hr.isSuspenseList=function(e){return Ra(e)===C1};hr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===w1||e===S1||e===_1||e===N1||e===C1||e===uSe||typeof e=="object"&&e!==null&&(e.$$typeof===A1||e.$$typeof===P1||e.$$typeof===j1||e.$$typeof===k1||e.$$typeof===E1||e.$$typeof===BV||e.getModuleId!==void 0)};hr.typeOf=Ra;FV.exports=hr;var UV=FV.exports,dSe=Go,fSe=Yo,hSe="[object Number]";function pSe(e){return typeof e=="number"||fSe(e)&&dSe(e)==hSe}var zV=pSe;const mSe=vr(zV);var gSe=zV;function ySe(e){return gSe(e)&&e!=+e}var vSe=ySe;const zy=vr(vSe);var Za=function(t){return t===0?0:t>0?1:-1},Gc=function(t){return Uy(t)&&t.indexOf("%")===t.length-1},He=function(t){return mSe(t)&&!zy(t)},Sn=function(t){return He(t)||Uy(t)},xSe=0,T1=function(t){var r=++xSe;return"".concat(t||"").concat(r)},Tu=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(t)&&!Uy(t))return n;var a;if(Gc(t)){var i=t.indexOf("%");a=r*parseFloat(t.slice(0,i))/100}else a=+t;return zy(a)&&(a=n),s&&a>r&&(a=r),a},wl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},bSe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},id=function(t,r){return He(t)&&He(r)?function(n){return t+n*(r-t)}:function(){return r}};function AN(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ca(n,t))===r})}function sf(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function TN(e){"@babel/helpers - typeof";return TN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TN(e)}var wSe=["viewBox","children"],_Se=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],O3=["points","pathLength"],rj={svg:wSe,polygon:O3,polyline:O3},mT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(p.isValidElement(t)&&(n=t.props),!Bh(n))return null;var s={};return Object.keys(n).forEach(function(a){mT.includes(a)&&(s[a]=r||function(i){return n[a](n,i)})}),s},SSe=function(t,r,n){return function(s){return t(r,n,s),null}},Zx=function(t,r,n){if(!Bh(t)||TN(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var i=t[a];mT.includes(a)&&typeof i=="function"&&(s||(s={}),s[a]=SSe(i,r,n))}),s},jSe=["children"],kSe=["children"];function $3(e,t){if(e==null)return{};var r=ESe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ESe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var R3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Co=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},M3=null,nj=null,gT=function e(t){if(t===M3&&Array.isArray(nj))return nj;var r=[];return p.Children.forEach(t,function(n){ir(n)||(UV.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),nj=r,M3=t,r};function ni(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Co(s)}):n=[Co(t)],gT(e).forEach(function(s){var a=Ca(s,"type.displayName")||Ca(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}function Ys(e,t){var r=ni(e,t);return r&&r[0]}var I3=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!He(n)||n<=0||!He(s)||s<=0)},NSe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],CSe=function(t){return t&&t.type&&Uy(t.type)&&NSe.indexOf(t.type)>=0},PSe=function(t,r,n,s){var a,i=(a=rj==null?void 0:rj[s])!==null&&a!==void 0?a:[];return!Vt(t)&&(s&&i.includes(r)||_Se.includes(r))||n&&mT.includes(r)},nr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(p.isValidElement(t)&&(s=t.props),!Bh(s))return null;var a={};return Object.keys(s).forEach(function(i){var l;PSe((l=s)===null||l===void 0?void 0:l[i],i,r,n)&&(a[i]=s[i])}),a},ON=function e(t,r){if(t===r)return!0;var n=p.Children.count(t);if(n!==p.Children.count(r))return!1;if(n===0)return!0;if(n===1)return L3(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=t[s],i=r[s];if(Array.isArray(a)||Array.isArray(i)){if(!e(a,i))return!1}else if(!L3(a,i))return!1}return!0},L3=function(t,r){if(ir(t)&&ir(r))return!0;if(!ir(t)&&!ir(r)){var n=t.props||{},s=n.children,a=$3(n,jSe),i=r.props||{},l=i.children,c=$3(i,kSe);return s&&l?sf(a,c)&&ON(s,l):!s&&!l?sf(a,c):!1}return!1},D3=function(t,r){var n=[],s={};return gT(t).forEach(function(a,i){if(CSe(a))n.push(a);else if(a){var l=Co(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(a,l,i);n.push(f),s[l]=!0}}}),n},ASe=function(t){var r=t&&t.type;return r&&R3[r]?R3[r]:null},TSe=function(t,r){return gT(r).indexOf(t)},OSe=["children","width","height","viewBox","className","style","title","desc"];function $N(){return $N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$N.apply(this,arguments)}function $Se(e,t){if(e==null)return{};var r=RSe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RN(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,a=e.className,i=e.style,l=e.title,c=e.desc,u=$Se(e,OSe),d=s||{width:r,height:n,x:0,y:0},f=Qt("recharts-surface",a);return M.createElement("svg",$N({},nr(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,l),M.createElement("desc",null,c),t)}var MSe=["children","className"];function MN(){return MN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MN.apply(this,arguments)}function ISe(e,t){if(e==null)return{};var r=LSe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var An=M.forwardRef(function(e,t){var r=e.children,n=e.className,s=ISe(e,MSe),a=Qt("recharts-layer",n);return M.createElement("g",MN({className:a},nr(s,!0),{ref:t}),r)}),Po=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]};function DSe(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var FSe=DSe,BSe=FSe;function USe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:BSe(e,t,r)}var zSe=USe,qSe="\\ud800-\\udfff",WSe="\\u0300-\\u036f",VSe="\\ufe20-\\ufe2f",HSe="\\u20d0-\\u20ff",KSe=WSe+VSe+HSe,GSe="\\ufe0e\\ufe0f",YSe="\\u200d",JSe=RegExp("["+YSe+qSe+KSe+GSe+"]");function XSe(e){return JSe.test(e)}var qV=XSe;function QSe(e){return e.split("")}var ZSe=QSe,WV="\\ud800-\\udfff",eje="\\u0300-\\u036f",tje="\\ufe20-\\ufe2f",rje="\\u20d0-\\u20ff",nje=eje+tje+rje,sje="\\ufe0e\\ufe0f",aje="["+WV+"]",IN="["+nje+"]",LN="\\ud83c[\\udffb-\\udfff]",ije="(?:"+IN+"|"+LN+")",VV="[^"+WV+"]",HV="(?:\\ud83c[\\udde6-\\uddff]){2}",KV="[\\ud800-\\udbff][\\udc00-\\udfff]",oje="\\u200d",GV=ije+"?",YV="["+sje+"]?",lje="(?:"+oje+"(?:"+[VV,HV,KV].join("|")+")"+YV+GV+")*",cje=YV+GV+lje,uje="(?:"+[VV+IN+"?",IN,HV,KV,aje].join("|")+")",dje=RegExp(LN+"(?="+LN+")|"+uje+cje,"g");function fje(e){return e.match(dje)||[]}var hje=fje,pje=ZSe,mje=qV,gje=hje;function yje(e){return mje(e)?gje(e):pje(e)}var vje=yje,xje=zSe,bje=qV,wje=vje,_je=IV;function Sje(e){return function(t){t=_je(t);var r=bje(t)?wje(t):void 0,n=r?r[0]:t.charAt(0),s=r?xje(r,1).join(""):t.slice(1);return n[e]()+s}}var jje=Sje,kje=jje,Eje=kje("toUpperCase"),Nje=Eje;const O1=vr(Nje);function jr(e){return function(){return e}}const JV=Math.cos,eb=Math.sin,mi=Math.sqrt,tb=Math.PI,$1=2*tb,DN=Math.PI,FN=2*DN,Mc=1e-6,Cje=FN-Mc;function XV(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Pje(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return XV;const r=10**t;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Aje{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?XV:Pje(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,a,i){this._append`C${+t},${+r},${+n},${+s},${this._x1=+a},${this._y1=+i}`}arcTo(t,r,n,s,a){if(t=+t,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let i=this._x1,l=this._y1,c=n-t,u=s-r,d=i-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Mc)if(!(Math.abs(f*c-u*d)>Mc)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-i,g=s-l,m=c*c+u*u,v=y*y+g*g,x=Math.sqrt(m),b=Math.sqrt(h),w=a*Math.tan((DN-Math.acos((m+h-v)/(2*x*b)))/2),_=w/b,S=w/x;Math.abs(_-1)>Mc&&this._append`L${t+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*y>d*g)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,s,a,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^i,h=i?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Mc||Math.abs(this._y1-d)>Mc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%FN+FN),h>Cje?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Mc&&this._append`A${n},${n},0,${+(h>=DN)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function yT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Aje(t)}function vT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QV(e){this._context=e}QV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function R1(e){return new QV(e)}function ZV(e){return e[0]}function eH(e){return e[1]}function tH(e,t){var r=jr(!0),n=null,s=R1,a=null,i=yT(l);e=typeof e=="function"?e:e===void 0?ZV:jr(e),t=typeof t=="function"?t:t===void 0?eH:jr(t);function l(c){var u,d=(c=vT(c)).length,f,h=!1,y;for(n==null&&(a=s(y=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(y)return a=null,y+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:jr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:jr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:jr(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),l):n},l}function Kv(e,t,r){var n=null,s=jr(!0),a=null,i=R1,l=null,c=yT(u);e=typeof e=="function"?e:e===void 0?ZV:jr(+e),t=typeof t=="function"?t:jr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?eH:jr(+r);function u(f){var h,y,g,m=(f=vT(f)).length,v,x=!1,b,w=new Array(m),_=new Array(m);for(a==null&&(l=i(b=c())),h=0;h<=m;++h){if(!(h<m&&s(v=f[h],h,f))===x)if(x=!x)y=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=y;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):_[h]))}if(b)return l=null,b+""||null}function d(){return tH().defined(s).curve(i).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:jr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:jr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:jr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:jr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:jr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:jr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:jr(!!f),u):s},u.curve=function(f){return arguments.length?(i=f,a!=null&&(l=i(a)),u):i},u.context=function(f){return arguments.length?(f==null?a=l=null:l=i(a=f),u):a},u}class rH{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Tje(e){return new rH(e,!0)}function Oje(e){return new rH(e,!1)}const xT={draw(e,t){const r=mi(t/tb);e.moveTo(r,0),e.arc(0,0,r,0,$1)}},$je={draw(e,t){const r=mi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},nH=mi(1/3),Rje=nH*2,Mje={draw(e,t){const r=mi(t/Rje),n=r*nH;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Ije={draw(e,t){const r=mi(t),n=-r/2;e.rect(n,n,r,r)}},Lje=.8908130915292852,sH=eb(tb/10)/eb(7*tb/10),Dje=eb($1/10)*sH,Fje=-JV($1/10)*sH,Bje={draw(e,t){const r=mi(t*Lje),n=Dje*r,s=Fje*r;e.moveTo(0,-r),e.lineTo(n,s);for(let a=1;a<5;++a){const i=$1*a/5,l=JV(i),c=eb(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},sj=mi(3),Uje={draw(e,t){const r=-mi(t/(sj*3));e.moveTo(0,r*2),e.lineTo(-sj*r,-r),e.lineTo(sj*r,-r),e.closePath()}},ua=-.5,da=mi(3)/2,BN=1/mi(12),zje=(BN/2+1)*3,qje={draw(e,t){const r=mi(t/zje),n=r/2,s=r*BN,a=n,i=r*BN+r,l=-a,c=i;e.moveTo(n,s),e.lineTo(a,i),e.lineTo(l,c),e.lineTo(ua*n-da*s,da*n+ua*s),e.lineTo(ua*a-da*i,da*a+ua*i),e.lineTo(ua*l-da*c,da*l+ua*c),e.lineTo(ua*n+da*s,ua*s-da*n),e.lineTo(ua*a+da*i,ua*i-da*a),e.lineTo(ua*l+da*c,ua*c-da*l),e.closePath()}};function Wje(e,t){let r=null,n=yT(s);e=typeof e=="function"?e:jr(e||xT),t=typeof t=="function"?t:jr(t===void 0?64:+t);function s(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:jr(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:jr(+a),s):t},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function rb(){}function nb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function aH(e){this._context=e}aH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Vje(e){return new aH(e)}function iH(e){this._context=e}iH.prototype={areaStart:rb,areaEnd:rb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Hje(e){return new iH(e)}function oH(e){this._context=e}oH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:nb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kje(e){return new oH(e)}function lH(e){this._context=e}lH.prototype={areaStart:rb,areaEnd:rb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Gje(e){return new lH(e)}function F3(e){return e<0?-1:1}function B3(e,t,r){var n=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(n||s<0&&-0),i=(r-e._y1)/(s||n<0&&-0),l=(a*s+i*n)/(n+s);return(F3(a)+F3(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(l))||0}function U3(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function aj(e,t,r){var n=e._x0,s=e._y0,a=e._x1,i=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,s+l*t,a-l,i-l*r,a,i)}function sb(e){this._context=e}sb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:aj(this,this._t0,U3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,aj(this,U3(this,r=B3(this,e,t)),r);break;default:aj(this,this._t0,r=B3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function cH(e){this._context=new uH(e)}(cH.prototype=Object.create(sb.prototype)).point=function(e,t){sb.prototype.point.call(this,t,e)};function uH(e){this._context=e}uH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,a){this._context.bezierCurveTo(t,e,n,r,a,s)}};function Yje(e){return new sb(e)}function Jje(e){return new cH(e)}function dH(e){this._context=e}dH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=z3(e),s=z3(t),a=0,i=1;i<r;++a,++i)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function z3(e){var t,r=e.length-1,n,s=new Array(r),a=new Array(r),i=new Array(r);for(s[0]=0,a[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,a[t]=4,i[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,a[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/a[t-1],a[t]-=n,i[t]-=n*i[t-1];for(s[r-1]=i[r-1]/a[r-1],t=r-2;t>=0;--t)s[t]=(i[t]-s[t+1])/a[t];for(a[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function Xje(e){return new dH(e)}function M1(e,t){this._context=e,this._t=t}M1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Qje(e){return new M1(e,.5)}function Zje(e){return new M1(e,0)}function eke(e){return new M1(e,1)}function Wf(e,t){if((i=e.length)>1)for(var r=1,n,s,a=e[t[0]],i,l=a.length;r<i;++r)for(s=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function UN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function tke(e,t){return e[t]}function rke(e){const t=[];return t.key=e,t}function nke(){var e=jr([]),t=UN,r=Wf,n=tke;function s(a){var i=Array.from(e.apply(this,arguments),rke),l,c=i.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,a)]).data=f;for(l=0,d=vT(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:jr(Array.from(a)),s):e},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:jr(+a),s):n},s.order=function(a){return arguments.length?(t=a==null?UN:typeof a=="function"?a:jr(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(r=a??Wf,s):r},s}function ske(e,t){if((n=e.length)>0){for(var r,n,s=0,a=e[0].length,i;s<a;++s){for(i=r=0;r<n;++r)i+=e[r][s][1]||0;if(i)for(r=0;r<n;++r)e[r][s][1]/=i}Wf(e,t)}}function ake(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,a=n.length;r<a;++r){for(var i=0,l=0;i<s;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Wf(e,t)}}function ike(e,t){if(!(!((i=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,a,i;n<a;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,y=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],v=m[n][1]||0,x=m[n-1][1]||0;y+=v-x}c+=f,u+=y*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Wf(e,t)}}function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}var oke=["type","size","sizeType"];function zN(){return zN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zN.apply(this,arguments)}function q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function W3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(r),!0).forEach(function(n){lke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lke(e,t,r){return t=cke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cke(e){var t=uke(e,"string");return wg(t)=="symbol"?t:t+""}function uke(e,t){if(wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dke(e,t){if(e==null)return{};var r=fke(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fH={symbolCircle:xT,symbolCross:$je,symbolDiamond:Mje,symbolSquare:Ije,symbolStar:Bje,symbolTriangle:Uje,symbolWye:qje},hke=Math.PI/180,pke=function(t){var r="symbol".concat(O1(t));return fH[r]||xT},mke=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*hke;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},gke=function(t,r){fH["symbol".concat(O1(t))]=r},bT=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,a=s===void 0?64:s,i=t.sizeType,l=i===void 0?"area":i,c=dke(t,oke),u=W3(W3({},c),{},{type:n,size:a,sizeType:l}),d=function(){var v=pke(n),x=Wje().type(v).size(mke(a,l,n));return x()},f=u.className,h=u.cx,y=u.cy,g=nr(u,!0);return h===+h&&y===+y&&a===+a?M.createElement("path",zN({},g,{className:Qt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(y,")"),d:d()})):null};bT.registerSymbol=gke;function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qN.apply(this,arguments)}function V3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V3(Object(r),!0).forEach(function(n){_g(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pH(n.key),n)}}function bke(e,t,r){return t&&xke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wke(e,t,r){return t=ab(t),_ke(e,hH()?Reflect.construct(t,r||[],ab(e).constructor):t.apply(e,r))}function _ke(e,t){if(t&&(Vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ske(e)}function Ske(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hH=function(){return!!e})()}function ab(e){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ab(e)}function jke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WN(e,t)}function WN(e,t){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},WN(e,t)}function _g(e,t,r){return t=pH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=kke(e,"string");return Vf(t)=="symbol"?t:t+""}function kke(e,t){if(Vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fa=32,wT=function(e){function t(){return vke(this,t),wke(this,t,arguments)}return jke(t,e),bke(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,a=fa/2,i=fa/6,l=fa/3,c=n.inactive?s:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:fa,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(fa,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(fa/8,"h").concat(fa,"v").concat(fa*3/4,"h").concat(-fa,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var u=yke({},n);return delete u.legendIcon,M.cloneElement(n.legendIcon,u)}return M.createElement(bT,{fill:c,cx:a,cy:a,size:fa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,a=s.payload,i=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:fa,height:fa},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(y,g){var m=y.formatter||c,v=Qt(_g(_g({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",y.inactive));if(y.type==="none")return null;var x=Vt(y.value)?null:y.value;Po(!Vt(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=y.inactive?u:y.color;return M.createElement("li",qN({className:v,style:f,key:"legend-item-".concat(g)},Zx(n.props,y,g)),M.createElement(RN,{width:i,height:i,viewBox:d,style:h},n.renderIcon(y)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(x,y,g):x))})}},{key:"render",value:function(){var n=this.props,s=n.payload,a=n.layout,i=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?i:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(p.PureComponent);_g(wT,"displayName","Legend");_g(wT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Eke=v1;function Nke(){this.__data__=new Eke,this.size=0}var Cke=Nke;function Pke(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Ake=Pke;function Tke(e){return this.__data__.get(e)}var Oke=Tke;function $ke(e){return this.__data__.has(e)}var Rke=$ke,Mke=v1,Ike=lT,Lke=cT,Dke=200;function Fke(e,t){var r=this.__data__;if(r instanceof Mke){var n=r.__data__;if(!Ike||n.length<Dke-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Lke(n)}return r.set(e,t),this.size=r.size,this}var Bke=Fke,Uke=v1,zke=Cke,qke=Ake,Wke=Oke,Vke=Rke,Hke=Bke;function Wh(e){var t=this.__data__=new Uke(e);this.size=t.size}Wh.prototype.clear=zke;Wh.prototype.delete=qke;Wh.prototype.get=Wke;Wh.prototype.has=Vke;Wh.prototype.set=Hke;var mH=Wh,Kke="__lodash_hash_undefined__";function Gke(e){return this.__data__.set(e,Kke),this}var Yke=Gke;function Jke(e){return this.__data__.has(e)}var Xke=Jke,Qke=cT,Zke=Yke,eEe=Xke;function ib(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Qke;++t<r;)this.add(e[t])}ib.prototype.add=ib.prototype.push=Zke;ib.prototype.has=eEe;var gH=ib;function tEe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var yH=tEe;function rEe(e,t){return e.has(t)}var vH=rEe,nEe=gH,sEe=yH,aEe=vH,iEe=1,oEe=2;function lEe(e,t,r,n,s,a){var i=r&iEe,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,y=r&oEe?new nEe:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var v=i?n(m,g,f,t,e,a):n(g,m,f,e,t,a);if(v!==void 0){if(v)continue;h=!1;break}if(y){if(!sEe(t,function(x,b){if(!aEe(y,b)&&(g===x||s(g,x,r,n,a)))return y.push(b)})){h=!1;break}}else if(!(g===m||s(g,m,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var xH=lEe,cEe=to,uEe=cEe.Uint8Array,dEe=uEe;function fEe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var hEe=fEe;function pEe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var _T=pEe,H3=By,K3=dEe,mEe=oT,gEe=xH,yEe=hEe,vEe=_T,xEe=1,bEe=2,wEe="[object Boolean]",_Ee="[object Date]",SEe="[object Error]",jEe="[object Map]",kEe="[object Number]",EEe="[object RegExp]",NEe="[object Set]",CEe="[object String]",PEe="[object Symbol]",AEe="[object ArrayBuffer]",TEe="[object DataView]",G3=H3?H3.prototype:void 0,ij=G3?G3.valueOf:void 0;function OEe(e,t,r,n,s,a,i){switch(r){case TEe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case AEe:return!(e.byteLength!=t.byteLength||!a(new K3(e),new K3(t)));case wEe:case _Ee:case kEe:return mEe(+e,+t);case SEe:return e.name==t.name&&e.message==t.message;case EEe:case CEe:return e==t+"";case jEe:var l=yEe;case NEe:var c=n&xEe;if(l||(l=vEe),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=bEe,i.set(e,t);var d=gEe(l(e),l(t),n,s,a,i);return i.delete(e),d;case PEe:if(ij)return ij.call(e)==ij.call(t)}return!1}var $Ee=OEe;function REe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var bH=REe,MEe=bH,IEe=qs;function LEe(e,t,r){var n=t(e);return IEe(e)?n:MEe(n,r(e))}var DEe=LEe;function FEe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[s++]=i)}return a}var BEe=FEe;function UEe(){return[]}var zEe=UEe,qEe=BEe,WEe=zEe,VEe=Object.prototype,HEe=VEe.propertyIsEnumerable,Y3=Object.getOwnPropertySymbols,KEe=Y3?function(e){return e==null?[]:(e=Object(e),qEe(Y3(e),function(t){return HEe.call(e,t)}))}:WEe,GEe=KEe;function YEe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var JEe=YEe,XEe=Go,QEe=Yo,ZEe="[object Arguments]";function eNe(e){return QEe(e)&&XEe(e)==ZEe}var tNe=eNe,J3=tNe,rNe=Yo,wH=Object.prototype,nNe=wH.hasOwnProperty,sNe=wH.propertyIsEnumerable,aNe=J3(function(){return arguments}())?J3:function(e){return rNe(e)&&nNe.call(e,"callee")&&!sNe.call(e,"callee")},ST=aNe,ob={exports:{}};function iNe(){return!1}var oNe=iNe;ob.exports;(function(e,t){var r=to,n=oNe,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(ob,ob.exports);var _H=ob.exports,lNe=9007199254740991,cNe=/^(?:0|[1-9]\d*)$/;function uNe(e,t){var r=typeof e;return t=t??lNe,!!t&&(r=="number"||r!="symbol"&&cNe.test(e))&&e>-1&&e%1==0&&e<t}var jT=uNe,dNe=9007199254740991;function fNe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=dNe}var kT=fNe,hNe=Go,pNe=kT,mNe=Yo,gNe="[object Arguments]",yNe="[object Array]",vNe="[object Boolean]",xNe="[object Date]",bNe="[object Error]",wNe="[object Function]",_Ne="[object Map]",SNe="[object Number]",jNe="[object Object]",kNe="[object RegExp]",ENe="[object Set]",NNe="[object String]",CNe="[object WeakMap]",PNe="[object ArrayBuffer]",ANe="[object DataView]",TNe="[object Float32Array]",ONe="[object Float64Array]",$Ne="[object Int8Array]",RNe="[object Int16Array]",MNe="[object Int32Array]",INe="[object Uint8Array]",LNe="[object Uint8ClampedArray]",DNe="[object Uint16Array]",FNe="[object Uint32Array]",Ar={};Ar[TNe]=Ar[ONe]=Ar[$Ne]=Ar[RNe]=Ar[MNe]=Ar[INe]=Ar[LNe]=Ar[DNe]=Ar[FNe]=!0;Ar[gNe]=Ar[yNe]=Ar[PNe]=Ar[vNe]=Ar[ANe]=Ar[xNe]=Ar[bNe]=Ar[wNe]=Ar[_Ne]=Ar[SNe]=Ar[jNe]=Ar[kNe]=Ar[ENe]=Ar[NNe]=Ar[CNe]=!1;function BNe(e){return mNe(e)&&pNe(e.length)&&!!Ar[hNe(e)]}var UNe=BNe;function zNe(e){return function(t){return e(t)}}var SH=zNe,lb={exports:{}};lb.exports;(function(e,t){var r=AV,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(lb,lb.exports);var qNe=lb.exports,WNe=UNe,VNe=SH,X3=qNe,Q3=X3&&X3.isTypedArray,HNe=Q3?VNe(Q3):WNe,jH=HNe,KNe=JEe,GNe=ST,YNe=qs,JNe=_H,XNe=jT,QNe=jH,ZNe=Object.prototype,eCe=ZNe.hasOwnProperty;function tCe(e,t){var r=YNe(e),n=!r&&GNe(e),s=!r&&!n&&JNe(e),a=!r&&!n&&!s&&QNe(e),i=r||n||s||a,l=i?KNe(e.length,String):[],c=l.length;for(var u in e)(t||eCe.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||XNe(u,c)))&&l.push(u);return l}var rCe=tCe,nCe=Object.prototype;function sCe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||nCe;return e===r}var aCe=sCe;function iCe(e,t){return function(r){return e(t(r))}}var kH=iCe,oCe=kH,lCe=oCe(Object.keys,Object),cCe=lCe,uCe=aCe,dCe=cCe,fCe=Object.prototype,hCe=fCe.hasOwnProperty;function pCe(e){if(!uCe(e))return dCe(e);var t=[];for(var r in Object(e))hCe.call(e,r)&&r!="constructor"&&t.push(r);return t}var mCe=pCe,gCe=iT,yCe=kT;function vCe(e){return e!=null&&yCe(e.length)&&!gCe(e)}var qy=vCe,xCe=rCe,bCe=mCe,wCe=qy;function _Ce(e){return wCe(e)?xCe(e):bCe(e)}var I1=_Ce,SCe=DEe,jCe=GEe,kCe=I1;function ECe(e){return SCe(e,kCe,jCe)}var NCe=ECe,Z3=NCe,CCe=1,PCe=Object.prototype,ACe=PCe.hasOwnProperty;function TCe(e,t,r,n,s,a){var i=r&CCe,l=Z3(e),c=l.length,u=Z3(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=l[f];if(!(i?h in t:ACe.call(t,h)))return!1}var y=a.get(e),g=a.get(t);if(y&&g)return y==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);for(var v=i;++f<c;){h=l[f];var x=e[h],b=t[h];if(n)var w=i?n(b,x,h,t,e,a):n(x,b,h,e,t,a);if(!(w===void 0?x===b||s(x,b,r,n,a):w)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(m=!1)}return a.delete(e),a.delete(t),m}var OCe=TCe,$Ce=Wu,RCe=to,MCe=$Ce(RCe,"DataView"),ICe=MCe,LCe=Wu,DCe=to,FCe=LCe(DCe,"Promise"),BCe=FCe,UCe=Wu,zCe=to,qCe=UCe(zCe,"Set"),EH=qCe,WCe=Wu,VCe=to,HCe=WCe(VCe,"WeakMap"),KCe=HCe,VN=ICe,HN=lT,KN=BCe,GN=EH,YN=KCe,NH=Go,Vh=OV,eL="[object Map]",GCe="[object Object]",tL="[object Promise]",rL="[object Set]",nL="[object WeakMap]",sL="[object DataView]",YCe=Vh(VN),JCe=Vh(HN),XCe=Vh(KN),QCe=Vh(GN),ZCe=Vh(YN),Ic=NH;(VN&&Ic(new VN(new ArrayBuffer(1)))!=sL||HN&&Ic(new HN)!=eL||KN&&Ic(KN.resolve())!=tL||GN&&Ic(new GN)!=rL||YN&&Ic(new YN)!=nL)&&(Ic=function(e){var t=NH(e),r=t==GCe?e.constructor:void 0,n=r?Vh(r):"";if(n)switch(n){case YCe:return sL;case JCe:return eL;case XCe:return tL;case QCe:return rL;case ZCe:return nL}return t});var e2e=Ic,oj=mH,t2e=xH,r2e=$Ee,n2e=OCe,aL=e2e,iL=qs,oL=_H,s2e=jH,a2e=1,lL="[object Arguments]",cL="[object Array]",Gv="[object Object]",i2e=Object.prototype,uL=i2e.hasOwnProperty;function o2e(e,t,r,n,s,a){var i=iL(e),l=iL(t),c=i?cL:aL(e),u=l?cL:aL(t);c=c==lL?Gv:c,u=u==lL?Gv:u;var d=c==Gv,f=u==Gv,h=c==u;if(h&&oL(e)){if(!oL(t))return!1;i=!0,d=!1}if(h&&!d)return a||(a=new oj),i||s2e(e)?t2e(e,t,r,n,s,a):r2e(e,t,c,r,n,s,a);if(!(r&a2e)){var y=d&&uL.call(e,"__wrapped__"),g=f&&uL.call(t,"__wrapped__");if(y||g){var m=y?e.value():e,v=g?t.value():t;return a||(a=new oj),s(m,v,r,n,a)}}return h?(a||(a=new oj),n2e(e,t,r,n,s,a)):!1}var l2e=o2e,c2e=l2e,dL=Yo;function CH(e,t,r,n,s){return e===t?!0:e==null||t==null||!dL(e)&&!dL(t)?e!==e&&t!==t:c2e(e,t,r,n,CH,s)}var ET=CH,u2e=mH,d2e=ET,f2e=1,h2e=2;function p2e(e,t,r,n){var s=r.length,a=s,i=!n;if(e==null)return!a;for(e=Object(e);s--;){var l=r[s];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=r[s];var c=l[0],u=e[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new u2e;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?d2e(d,u,f2e|h2e,n,f):h))return!1}}return!0}var m2e=p2e,g2e=gc;function y2e(e){return e===e&&!g2e(e)}var PH=y2e,v2e=PH,x2e=I1;function b2e(e){for(var t=x2e(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,v2e(s)]}return t}var w2e=b2e;function _2e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var AH=_2e,S2e=m2e,j2e=w2e,k2e=AH;function E2e(e){var t=j2e(e);return t.length==1&&t[0][2]?k2e(t[0][0],t[0][1]):function(r){return r===e||S2e(r,e,t)}}var N2e=E2e;function C2e(e,t){return e!=null&&t in Object(e)}var P2e=C2e,A2e=LV,T2e=ST,O2e=qs,$2e=jT,R2e=kT,M2e=b1;function I2e(e,t,r){t=A2e(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var i=M2e(t[n]);if(!(a=e!=null&&r(e,i)))break;e=e[i]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&R2e(s)&&$2e(i,s)&&(O2e(e)||T2e(e)))}var L2e=I2e,D2e=P2e,F2e=L2e;function B2e(e,t){return e!=null&&F2e(e,t,D2e)}var U2e=B2e,z2e=ET,q2e=DV,W2e=U2e,V2e=aT,H2e=PH,K2e=AH,G2e=b1,Y2e=1,J2e=2;function X2e(e,t){return V2e(e)&&H2e(t)?K2e(G2e(e),t):function(r){var n=q2e(r,e);return n===void 0&&n===t?W2e(r,e):z2e(t,n,Y2e|J2e)}}var Q2e=X2e;function Z2e(e){return e}var Hh=Z2e;function ePe(e){return function(t){return t==null?void 0:t[e]}}var tPe=ePe,rPe=fT;function nPe(e){return function(t){return rPe(t,e)}}var sPe=nPe,aPe=tPe,iPe=sPe,oPe=aT,lPe=b1;function cPe(e){return oPe(e)?aPe(lPe(e)):iPe(e)}var uPe=cPe,dPe=N2e,fPe=Q2e,hPe=Hh,pPe=qs,mPe=uPe;function gPe(e){return typeof e=="function"?e:e==null?hPe:typeof e=="object"?pPe(e)?fPe(e[0],e[1]):dPe(e):mPe(e)}var yc=gPe;function yPe(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var TH=yPe;function vPe(e){return e!==e}var xPe=vPe;function bPe(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var wPe=bPe,_Pe=TH,SPe=xPe,jPe=wPe;function kPe(e,t,r){return t===t?jPe(e,t,r):_Pe(e,SPe,r)}var EPe=kPe,NPe=EPe;function CPe(e,t){var r=e==null?0:e.length;return!!r&&NPe(e,t,0)>-1}var PPe=CPe;function APe(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var TPe=APe;function OPe(){}var $Pe=OPe,lj=EH,RPe=$Pe,MPe=_T,IPe=1/0,LPe=lj&&1/MPe(new lj([,-0]))[1]==IPe?function(e){return new lj(e)}:RPe,DPe=LPe,FPe=gH,BPe=PPe,UPe=TPe,zPe=vH,qPe=DPe,WPe=_T,VPe=200;function HPe(e,t,r){var n=-1,s=BPe,a=e.length,i=!0,l=[],c=l;if(r)i=!1,s=UPe;else if(a>=VPe){var u=t?null:qPe(e);if(u)return WPe(u);i=!1,s=zPe,c=new FPe}else c=t?[]:l;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var KPe=HPe,GPe=yc,YPe=KPe;function JPe(e,t){return e&&e.length?YPe(e,GPe(t)):[]}var XPe=JPe;const fL=vr(XPe);function OH(e,t,r){return t===!0?fL(e,r):Vt(t)?fL(e,t):e}function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}var QPe=["ref"];function hL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function so(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(r),!0).forEach(function(n){L1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RH(n.key),n)}}function eAe(e,t,r){return t&&pL(e.prototype,t),r&&pL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tAe(e,t,r){return t=cb(t),rAe(e,$H()?Reflect.construct(t,r||[],cb(e).constructor):t.apply(e,r))}function rAe(e,t){if(t&&(Hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nAe(e)}function nAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $H(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($H=function(){return!!e})()}function cb(e){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cb(e)}function sAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JN(e,t)}function JN(e,t){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},JN(e,t)}function L1(e,t,r){return t=RH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RH(e){var t=aAe(e,"string");return Hf(t)=="symbol"?t:t+""}function aAe(e,t){if(Hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iAe(e,t){if(e==null)return{};var r=oAe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lAe(e){return e.value}function cAe(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=iAe(t,QPe);return M.createElement(wT,r)}var mL=1,af=function(e){function t(){var r;ZPe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=tAe(this,t,[].concat(s)),L1(r,"lastBoundingBox",{width:-1,height:-1}),r}return sAe(t,e),eAe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>mL||Math.abs(s.height-this.lastBoundingBox.height)>mL)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?so({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,a=s.layout,i=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&a==="vertical"){var y=this.getBBoxSnapshot();f={left:((u||0)-y.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return so(so({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,a=s.content,i=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=so(so({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(y){n.wrapperNode=y}},cAe(a,so(so({},this.props),{},{payload:OH(d,u,lAe)})))}}],[{key:"getWithHeight",value:function(n,s){var a=so(so({},this.defaultProps),n.props),i=a.layout;return i==="vertical"&&He(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||s}:null}}])}(p.PureComponent);L1(af,"displayName","Legend");L1(af,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gL=By,uAe=ST,dAe=qs,yL=gL?gL.isConcatSpreadable:void 0;function fAe(e){return dAe(e)||uAe(e)||!!(yL&&e&&e[yL])}var hAe=fAe,pAe=bH,mAe=hAe;function MH(e,t,r,n,s){var a=-1,i=e.length;for(r||(r=mAe),s||(s=[]);++a<i;){var l=e[a];t>0&&r(l)?t>1?MH(l,t-1,r,n,s):pAe(s,l):n||(s[s.length]=l)}return s}var IH=MH;function gAe(e){return function(t,r,n){for(var s=-1,a=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++s];if(r(a[c],c,a)===!1)break}return t}}var yAe=gAe,vAe=yAe,xAe=vAe(),bAe=xAe,wAe=bAe,_Ae=I1;function SAe(e,t){return e&&wAe(e,t,_Ae)}var LH=SAe,jAe=qy;function kAe(e,t){return function(r,n){if(r==null)return r;if(!jAe(r))return e(r,n);for(var s=r.length,a=t?s:-1,i=Object(r);(t?a--:++a<s)&&n(i[a],a,i)!==!1;);return r}}var EAe=kAe,NAe=LH,CAe=EAe,PAe=CAe(NAe),NT=PAe,AAe=NT,TAe=qy;function OAe(e,t){var r=-1,n=TAe(e)?Array(e.length):[];return AAe(e,function(s,a,i){n[++r]=t(s,a,i)}),n}var DH=OAe;function $Ae(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var RAe=$Ae,vL=Fh;function MAe(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=vL(e),i=t!==void 0,l=t===null,c=t===t,u=vL(t);if(!l&&!u&&!a&&e>t||a&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&e<t||u&&r&&s&&!n&&!a||l&&r&&s||!i&&s||!c)return-1}return 0}var IAe=MAe,LAe=IAe;function DAe(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,i=s.length,l=r.length;++n<i;){var c=LAe(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var FAe=DAe,cj=dT,BAe=fT,UAe=yc,zAe=DH,qAe=RAe,WAe=SH,VAe=FAe,HAe=Hh,KAe=qs;function GAe(e,t,r){t.length?t=cj(t,function(a){return KAe(a)?function(i){return BAe(i,a.length===1?a[0]:a)}:a}):t=[HAe];var n=-1;t=cj(t,WAe(UAe));var s=zAe(e,function(a,i,l){var c=cj(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return qAe(s,function(a,i){return VAe(a,i,r)})}var YAe=GAe;function JAe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var XAe=JAe,QAe=XAe,xL=Math.max;function ZAe(e,t,r){return t=xL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=xL(n.length-t,0),i=Array(a);++s<a;)i[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(i),QAe(e,this,l)}}var eTe=ZAe;function tTe(e){return function(){return e}}var rTe=tTe,nTe=Wu,sTe=function(){try{var e=nTe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),FH=sTe,aTe=rTe,bL=FH,iTe=Hh,oTe=bL?function(e,t){return bL(e,"toString",{configurable:!0,enumerable:!1,value:aTe(t),writable:!0})}:iTe,lTe=oTe,cTe=800,uTe=16,dTe=Date.now;function fTe(e){var t=0,r=0;return function(){var n=dTe(),s=uTe-(n-r);if(r=n,s>0){if(++t>=cTe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var hTe=fTe,pTe=lTe,mTe=hTe,gTe=mTe(pTe),yTe=gTe,vTe=Hh,xTe=eTe,bTe=yTe;function wTe(e,t){return bTe(xTe(e,t,vTe),e+"")}var _Te=wTe,STe=oT,jTe=qy,kTe=jT,ETe=gc;function NTe(e,t,r){if(!ETe(r))return!1;var n=typeof t;return(n=="number"?jTe(r)&&kTe(t,r.length):n=="string"&&t in r)?STe(r[t],e):!1}var D1=NTe,CTe=IH,PTe=YAe,ATe=_Te,wL=D1,TTe=ATe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&wL(e,t[0],t[1])?t=[]:r>2&&wL(t[0],t[1],t[2])&&(t=[t[0]]),PTe(e,CTe(t,1),[])}),OTe=TTe;const CT=vr(OTe);function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XN.apply(this,arguments)}function $Te(e,t){return LTe(e)||ITe(e,t)||MTe(e,t)||RTe()}function RTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MTe(e,t){if(e){if(typeof e=="string")return _L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _L(e,t)}}function _L(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ITe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function LTe(e){if(Array.isArray(e))return e}function SL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SL(Object(r),!0).forEach(function(n){DTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DTe(e,t,r){return t=FTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FTe(e){var t=BTe(e,"string");return Sg(t)=="symbol"?t:t+""}function BTe(e,t){if(Sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UTe(e){return Array.isArray(e)&&Sn(e[0])&&Sn(e[1])?e.join(" ~ "):e}var zTe=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,a=s===void 0?{}:s,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,y=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(d&&d.length){var R={padding:0,margin:0},B=(h?CT(d,h):d).map(function(z,D){if(z.type==="none")return null;var O=uj({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),U=z.formatter||f||UTe,A=z.value,I=z.name,te=A,$=I;if(U&&te!=null&&$!=null){var V=U(A,I,z,D,d);if(Array.isArray(V)){var W=$Te(V,2);te=W[0],$=W[1]}else te=V}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:O},Sn($)?M.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Sn($)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},te),M.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:R},B)}return null},_=uj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=uj({margin:0},u),k=!ir(m),E=k?m:"",j=Qt("recharts-default-tooltip",y),N=Qt("recharts-tooltip-label",g);k&&v&&d!==void 0&&d!==null&&(E=v(m,d));var C=b?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",XN({className:j,style:_},C),M.createElement("p",{className:N,style:S},M.isValidElement(E)?E:"".concat(E)),w())};function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function Yv(e,t,r){return t=qTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qTe(e){var t=WTe(e,"string");return jg(t)=="symbol"?t:t+""}function WTe(e,t){if(jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cp="recharts-tooltip-wrapper",VTe={visibility:"hidden"};function HTe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Qt(Cp,Yv(Yv(Yv(Yv({},"".concat(Cp,"-right"),He(r)&&t&&He(t.x)&&r>=t.x),"".concat(Cp,"-left"),He(r)&&t&&He(t.x)&&r<t.x),"".concat(Cp,"-bottom"),He(n)&&t&&He(t.y)&&n>=t.y),"".concat(Cp,"-top"),He(n)&&t&&He(t.y)&&n<t.y))}function jL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&He(a[n]))return a[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return i[n]?d:f;if(i[n]){var h=d,y=c[n];return h<y?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function KTe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function GTe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,a=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=jL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=jL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=KTe({translateX:d,translateY:f,useTranslate3d:l})):u=VTe,{cssProperties:u,cssClasses:HTe({translateX:d,translateY:f,coordinate:r})}}function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function kL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function EL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kL(Object(r),!0).forEach(function(n){ZN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UH(n.key),n)}}function XTe(e,t,r){return t&&JTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QTe(e,t,r){return t=ub(t),ZTe(e,BH()?Reflect.construct(t,r||[],ub(e).constructor):t.apply(e,r))}function ZTe(e,t){if(t&&(Kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eOe(e)}function eOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BH=function(){return!!e})()}function ub(e){return ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ub(e)}function tOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QN(e,t)}function QN(e,t){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},QN(e,t)}function ZN(e,t,r){return t=UH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=rOe(e,"string");return Kf(t)=="symbol"?t:t+""}function rOe(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NL=1,nOe=function(e){function t(){var r;YTe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=QTe(this,t,[].concat(s)),ZN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ZN(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return tOe(t,e),XTe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>NL||Math.abs(n.height-this.state.lastBoundingBox.height)>NL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,a=s.active,i=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,y=s.offset,g=s.position,m=s.reverseDirection,v=s.useTranslate3d,x=s.viewBox,b=s.wrapperStyle,w=GTe({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:y,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),_=w.cssClasses,S=w.cssProperties,k=EL(EL({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return M.createElement("div",{tabIndex:-1,className:_,style:k,ref:function(j){n.wrapperNode=j}},u)}}])}(p.PureComponent),sOe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xl={isSsr:sOe(),get:function(t){return Xl[t]},set:function(t,r){if(typeof t=="string")Xl[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(s){Xl[s]=t[s]})}}};function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function CL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function PL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CL(Object(r),!0).forEach(function(n){PT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qH(n.key),n)}}function oOe(e,t,r){return t&&iOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lOe(e,t,r){return t=db(t),cOe(e,zH()?Reflect.construct(t,r||[],db(e).constructor):t.apply(e,r))}function cOe(e,t){if(t&&(Gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uOe(e)}function uOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zH=function(){return!!e})()}function db(e){return db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},db(e)}function dOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eC(e,t)}function eC(e,t){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},eC(e,t)}function PT(e,t,r){return t=qH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=fOe(e,"string");return Gf(t)=="symbol"?t:t+""}function fOe(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hOe(e){return e.dataKey}function pOe(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(zTe,t)}var wi=function(e){function t(){return aOe(this,t),lOe(this,t,arguments)}return dOe(t,e),oOe(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.active,i=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,y=s.offset,g=s.payload,m=s.payloadUniqBy,v=s.position,x=s.reverseDirection,b=s.useTranslate3d,w=s.viewBox,_=s.wrapperStyle,S=g??[];f&&S.length&&(S=OH(g.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),m,hOe));var k=S.length>0;return M.createElement(nOe,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:k,offset:y,position:v,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:_},pOe(u,PL(PL({},this.props),{},{payload:S})))}}])}(p.PureComponent);PT(wi,"displayName","Tooltip");PT(wi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var mOe=to,gOe=function(){return mOe.Date.now()},yOe=gOe,vOe=/\s/;function xOe(e){for(var t=e.length;t--&&vOe.test(e.charAt(t)););return t}var bOe=xOe,wOe=bOe,_Oe=/^\s+/;function SOe(e){return e&&e.slice(0,wOe(e)+1).replace(_Oe,"")}var jOe=SOe,kOe=jOe,AL=gc,EOe=Fh,TL=NaN,NOe=/^[-+]0x[0-9a-f]+$/i,COe=/^0b[01]+$/i,POe=/^0o[0-7]+$/i,AOe=parseInt;function TOe(e){if(typeof e=="number")return e;if(EOe(e))return TL;if(AL(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=AL(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=kOe(e);var r=COe.test(e);return r||POe.test(e)?AOe(e.slice(2),r?2:8):NOe.test(e)?TL:+e}var WH=TOe,OOe=gc,dj=yOe,OL=WH,$Oe="Expected a function",ROe=Math.max,MOe=Math.min;function IOe(e,t,r){var n,s,a,i,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError($Oe);t=OL(t)||0,OOe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?ROe(OL(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function y(k){var E=n,j=s;return n=s=void 0,u=k,i=e.apply(j,E),i}function g(k){return u=k,l=setTimeout(x,t),d?y(k):i}function m(k){var E=k-c,j=k-u,N=t-E;return f?MOe(N,a-j):N}function v(k){var E=k-c,j=k-u;return c===void 0||E>=t||E<0||f&&j>=a}function x(){var k=dj();if(v(k))return b(k);l=setTimeout(x,m(k))}function b(k){return l=void 0,h&&n?y(k):(n=s=void 0,i)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function _(){return l===void 0?i:b(dj())}function S(){var k=dj(),E=v(k);if(n=arguments,s=this,c=k,E){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(x,t),y(c)}return l===void 0&&(l=setTimeout(x,t)),i}return S.cancel=w,S.flush=_,S}var LOe=IOe,DOe=LOe,FOe=gc,BOe="Expected a function";function UOe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(BOe);return FOe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),DOe(e,t,{leading:n,maxWait:t,trailing:s})}var zOe=UOe;const VH=vr(zOe);function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function $L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(r),!0).forEach(function(n){qOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qOe(e,t,r){return t=WOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WOe(e){var t=VOe(e,"string");return kg(t)=="symbol"?t:t+""}function VOe(e,t){if(kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HOe(e,t){return JOe(e)||YOe(e,t)||GOe(e,t)||KOe()}function KOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GOe(e,t){if(e){if(typeof e=="string")return RL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RL(e,t)}}function RL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function JOe(e){if(Array.isArray(e))return e}var XOe=p.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,a=e.width,i=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,y=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,x=e.className,b=e.onResize,w=e.style,_=w===void 0?{}:w,S=p.useRef(null),k=p.useRef();k.current=b,p.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=p.useState({containerWidth:s.width,containerHeight:s.height}),j=HOe(E,2),N=j[0],C=j[1],P=p.useCallback(function(B,z){C(function(D){var O=Math.round(B),U=Math.round(z);return D.containerWidth===O&&D.containerHeight===U?D:{containerWidth:O,containerHeight:U}})},[]);p.useEffect(function(){var B=function(I){var te,$=I[0].contentRect,V=$.width,W=$.height;P(V,W),(te=k.current)===null||te===void 0||te.call(k,V,W)};m>0&&(B=VH(B,m,{trailing:!0,leading:!1}));var z=new ResizeObserver(B),D=S.current.getBoundingClientRect(),O=D.width,U=D.height;return P(O,U),z.observe(S.current),function(){z.disconnect()}},[P,m]);var R=p.useMemo(function(){var B=N.containerWidth,z=N.containerHeight;if(B<0||z<0)return null;Po(Gc(i)||Gc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),Po(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=Gc(i)?B:i,O=Gc(c)?z:c;r&&r>0&&(D?O=D/r:O&&(D=O*r),h&&O>h&&(O=h)),Po(D>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,O,i,c,d,f,r);var U=!Array.isArray(y)&&Co(y.type).endsWith("Chart");return M.Children.map(y,function(A){return UV.isElement(A)?p.cloneElement(A,Jv({width:D,height:O},U?{style:Jv({height:"100%",width:"100%",maxHeight:O,maxWidth:D},A.props.style)}:{})):A})},[r,y,c,h,f,d,N,i]);return M.createElement("div",{id:v?"".concat(v):void 0,className:Qt("recharts-responsive-container",x),style:Jv(Jv({},_),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},R)}),Wy=function(t){return null};Wy.displayName="Cell";function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function ML(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ML(Object(r),!0).forEach(function(n){QOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QOe(e,t,r){return t=ZOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZOe(e){var t=e$e(e,"string");return Eg(t)=="symbol"?t:t+""}function e$e(e,t){if(Eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var od={widthCache:{},cacheCount:0},t$e=2e3,r$e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IL="recharts_measurement_span";function n$e(e){var t=tC({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Cm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Xl.isSsr)return{width:0,height:0};var n=n$e(r),s=JSON.stringify({text:t,copyStyle:n});if(od.widthCache[s])return od.widthCache[s];try{var a=document.getElementById(IL);a||(a=document.createElement("span"),a.setAttribute("id",IL),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=tC(tC({},r$e),n);Object.assign(a.style,i),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return od.widthCache[s]=c,++od.cacheCount>t$e&&(od.cacheCount=0,od.widthCache={}),c}catch{return{width:0,height:0}}},s$e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function fb(e,t){return l$e(e)||o$e(e,t)||i$e(e,t)||a$e()}function a$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i$e(e,t){if(e){if(typeof e=="string")return LL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LL(e,t)}}function LL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function l$e(e){if(Array.isArray(e))return e}function c$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d$e(n.key),n)}}function u$e(e,t,r){return t&&DL(e.prototype,t),r&&DL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d$e(e){var t=f$e(e,"string");return Ng(t)=="symbol"?t:t+""}function f$e(e,t){if(Ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h$e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,p$e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,HH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},m$e=Object.keys(HH),Fd="NaN";function g$e(e,t){return e*HH[t]}var Xv=function(){function e(t,r){c$e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!h$e.test(r)&&(this.num=NaN,this.unit=""),m$e.includes(r)&&(this.num=g$e(t,r),this.unit="px")}return u$e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=p$e.exec(r))!==null&&n!==void 0?n:[],a=fb(s,3),i=a[1],l=a[2];return new e(parseFloat(i),l??"")}}])}();function KH(e){if(e.includes(Fd))return Fd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=FL.exec(t))!==null&&r!==void 0?r:[],s=fb(n,4),a=s[1],i=s[2],l=s[3],c=Xv.parse(a??""),u=Xv.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Fd;t=t.replace(FL,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=BL.exec(t))!==null&&f!==void 0?f:[],y=fb(h,4),g=y[1],m=y[2],v=y[3],x=Xv.parse(g??""),b=Xv.parse(v??""),w=m==="+"?x.add(b):x.subtract(b);if(w.isNaN())return Fd;t=t.replace(BL,w.toString())}return t}var UL=/\(([^()]*)\)/;function y$e(e){for(var t=e;t.includes("(");){var r=UL.exec(t),n=fb(r,2),s=n[1];t=t.replace(UL,KH(s))}return t}function v$e(e){var t=e.replace(/\s+/g,"");return t=y$e(t),t=KH(t),t}function x$e(e){try{return v$e(e)}catch{return Fd}}function fj(e){var t=x$e(e.slice(5,-1));return t===Fd?"":t}var b$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],w$e=["dx","dy","angle","className","breakAll"];function rC(){return rC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rC.apply(this,arguments)}function zL(e,t){if(e==null)return{};var r=_$e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qL(e,t){return E$e(e)||k$e(e,t)||j$e(e,t)||S$e()}function S$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j$e(e,t){if(e){if(typeof e=="string")return WL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WL(e,t)}}function WL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function E$e(e){if(Array.isArray(e))return e}var GH=/[ \f\n\r\t\v\u2028\u2029]+/,YH=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var a=[];ir(r)||(n?a=r.toString().split(""):a=r.toString().split(GH));var i=a.map(function(c){return{word:c,width:Cm(c,s).width}}),l=n?0:Cm("",s).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},N$e=function(t,r,n,s,a){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=He(i),f=l,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(O,U){var A=U.word,I=U.width,te=O[O.length-1];if(te&&(s==null||a||te.width+I+n<Number(s)))te.words.push(A),te.width+=I+n;else{var $={words:[A],width:I};O.push($)}return O},[])},y=h(r),g=function(D){return D.reduce(function(O,U){return O.width>U.width?O:U})};if(!d)return y;for(var m="",v=function(D){var O=f.slice(0,D),U=YH({breakAll:u,style:c,children:O+m}).wordsWithComputedWidth,A=h(U),I=A.length>i||g(A).width>Number(s);return[I,A]},x=0,b=f.length-1,w=0,_;x<=b&&w<=f.length-1;){var S=Math.floor((x+b)/2),k=S-1,E=v(k),j=qL(E,2),N=j[0],C=j[1],P=v(S),R=qL(P,1),B=R[0];if(!N&&!B&&(x=S+1),N&&B&&(b=S-1),!N&&B){_=C;break}w++}return _||y},VL=function(t){var r=ir(t)?[]:t.toString().split(GH);return[{words:r}]},C$e=function(t){var r=t.width,n=t.scaleToFit,s=t.children,a=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!Xl.isSsr){var c,u,d=YH({breakAll:i,children:s,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return VL(s);return N$e({breakAll:i,children:s,maxLines:l,style:a},c,u,r,n)}return VL(s)},HL="#808080",hb=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,y=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,x=v===void 0?HL:v,b=zL(t,b$e),w=p.useMemo(function(){return C$e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,S=b.dy,k=b.angle,E=b.className,j=b.breakAll,N=zL(b,w$e);if(!Sn(n)||!Sn(a))return null;var C=n+(He(_)?_:0),P=a+(He(S)?S:0),R;switch(m){case"start":R=fj("calc(".concat(u,")"));break;case"middle":R=fj("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:R=fj("calc(".concat(w.length-1," * -").concat(l,")"));break}var B=[];if(f){var z=w[0].width,D=b.width;B.push("scale(".concat((He(D)?D/z:1)/z,")"))}return k&&B.push("rotate(".concat(k,", ").concat(C,", ").concat(P,")")),B.length&&(N.transform=B.join(" ")),M.createElement("text",rC({},nr(N,!0),{x:C,y:P,className:Qt("recharts-text",E),textAnchor:y,fill:x.includes("url")?HL:x}),w.map(function(O,U){var A=O.words.join(j?"":" ");return M.createElement("tspan",{x:C,dy:U===0?R:l,key:"".concat(A,"-").concat(U)},A)}))};function Ql(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function P$e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function AT(e){let t,r,n;e.length!==2?(t=Ql,r=(l,c)=>Ql(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ql||e===P$e?e:A$e,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:i,right:a}}function A$e(){return 0}function JH(e){return e===null?NaN:+e}function*T$e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const O$e=AT(Ql),Vy=O$e.right;AT(JH).center;class KL extends Map{constructor(t,r=M$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(GL(this,t))}has(t){return super.has(GL(this,t))}set(t,r){return super.set($$e(this,t),r)}delete(t){return super.delete(R$e(this,t))}}function GL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function $$e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function R$e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function M$e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function I$e(e=Ql){if(e===Ql)return XH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function XH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const L$e=Math.sqrt(50),D$e=Math.sqrt(10),F$e=Math.sqrt(2);function pb(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),i=a>=L$e?10:a>=D$e?5:a>=F$e?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?pb(e,t,r*2):[l,c,u]}function nC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,a,i]=n?pb(t,e,r):pb(e,t,r);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(a-u)/-i;else for(let u=0;u<l;++u)c[u]=(a-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(s+u)/-i;else for(let u=0;u<l;++u)c[u]=(s+u)*i;return c}function sC(e,t,r){return t=+t,e=+e,r=+r,pb(e,t,r)[2]}function aC(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?sC(t,e,r):sC(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function YL(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function JL(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QH(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?XH:I$e(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),y=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));QH(e,t,y,g,s)}const a=e[t];let i=r,l=n;for(Pp(e,r,t),s(e[n],a)>0&&Pp(e,r,n);i<l;){for(Pp(e,i,l),++i,--l;s(e[i],a)<0;)++i;for(;s(e[l],a)>0;)--l}s(e[r],a)===0?Pp(e,r,l):(++l,Pp(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Pp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function B$e(e,t,r){if(e=Float64Array.from(T$e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return JL(e);if(t>=1)return YL(e);var n,s=(n-1)*t,a=Math.floor(s),i=YL(QH(e,a).subarray(0,a+1)),l=JL(e.subarray(a+1));return i+(l-i)*(s-a)}}function U$e(e,t,r=JH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,a=Math.floor(s),i=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return i+(l-i)*(s-a)}}function z$e(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(s);++n<s;)a[n]=e+n*r;return a}function Ma(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const iC=Symbol("implicit");function TT(){var e=new KL,t=[],r=[],n=iC;function s(a){let i=e.get(a);if(i===void 0){if(n!==iC)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new KL;for(const i of a)e.has(i)||e.set(i,t.push(i)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return TT(t,r).unknown(n)},Ma.apply(s,arguments),s}function Cg(){var e=TT().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,a,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,y=s<n,g=y?s:n,m=y?n:s;a=(m-g)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),g+=(m-g-a*(h-c))*d,i=a*(1-c),l&&(g=Math.round(g),i=Math.round(i));var v=z$e(h).map(function(x){return g+a*x});return r(y?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Cg(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ma.apply(f(),arguments)}function ZH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ZH(t())},e}function Pm(){return ZH(Cg.apply(null,arguments).paddingInner(1))}function OT(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function eK(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Hy(){}var Pg=.7,mb=1/Pg,of="\\s*([+-]?\\d+)\\s*",Ag="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q$e=/^#([0-9a-f]{3,8})$/,W$e=new RegExp(`^rgb\\(${of},${of},${of}\\)$`),V$e=new RegExp(`^rgb\\(${Wi},${Wi},${Wi}\\)$`),H$e=new RegExp(`^rgba\\(${of},${of},${of},${Ag}\\)$`),K$e=new RegExp(`^rgba\\(${Wi},${Wi},${Wi},${Ag}\\)$`),G$e=new RegExp(`^hsl\\(${Ag},${Wi},${Wi}\\)$`),Y$e=new RegExp(`^hsla\\(${Ag},${Wi},${Wi},${Ag}\\)$`),XL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};OT(Hy,Tg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:QL,formatHex:QL,formatHex8:J$e,formatHsl:X$e,formatRgb:ZL,toString:ZL});function QL(){return this.rgb().formatHex()}function J$e(){return this.rgb().formatHex8()}function X$e(){return tK(this).formatHsl()}function ZL(){return this.rgb().formatRgb()}function Tg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=q$e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?e5(t):r===3?new Ms(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Qv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Qv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=W$e.exec(e))?new Ms(t[1],t[2],t[3],1):(t=V$e.exec(e))?new Ms(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=H$e.exec(e))?Qv(t[1],t[2],t[3],t[4]):(t=K$e.exec(e))?Qv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=G$e.exec(e))?n5(t[1],t[2]/100,t[3]/100,1):(t=Y$e.exec(e))?n5(t[1],t[2]/100,t[3]/100,t[4]):XL.hasOwnProperty(e)?e5(XL[e]):e==="transparent"?new Ms(NaN,NaN,NaN,0):null}function e5(e){return new Ms(e>>16&255,e>>8&255,e&255,1)}function Qv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ms(e,t,r,n)}function Q$e(e){return e instanceof Hy||(e=Tg(e)),e?(e=e.rgb(),new Ms(e.r,e.g,e.b,e.opacity)):new Ms}function oC(e,t,r,n){return arguments.length===1?Q$e(e):new Ms(e,t,r,n??1)}function Ms(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}OT(Ms,oC,eK(Hy,{brighter(e){return e=e==null?mb:Math.pow(mb,e),new Ms(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pg:Math.pow(Pg,e),new Ms(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ms(gu(this.r),gu(this.g),gu(this.b),gb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t5,formatHex:t5,formatHex8:Z$e,formatRgb:r5,toString:r5}));function t5(){return`#${Yc(this.r)}${Yc(this.g)}${Yc(this.b)}`}function Z$e(){return`#${Yc(this.r)}${Yc(this.g)}${Yc(this.b)}${Yc((isNaN(this.opacity)?1:this.opacity)*255)}`}function r5(){const e=gb(this.opacity);return`${e===1?"rgb(":"rgba("}${gu(this.r)}, ${gu(this.g)}, ${gu(this.b)}${e===1?")":`, ${e})`}`}function gb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yc(e){return e=gu(e),(e<16?"0":"")+e.toString(16)}function n5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Qa(e,t,r,n)}function tK(e){if(e instanceof Qa)return new Qa(e.h,e.s,e.l,e.opacity);if(e instanceof Hy||(e=Tg(e)),!e)return new Qa;if(e instanceof Qa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),a=Math.max(t,r,n),i=NaN,l=a-s,c=(a+s)/2;return l?(t===a?i=(r-n)/l+(r<n)*6:r===a?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?a+s:2-a-s,i*=60):l=c>0&&c<1?0:i,new Qa(i,l,c,e.opacity)}function eRe(e,t,r,n){return arguments.length===1?tK(e):new Qa(e,t,r,n??1)}function Qa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}OT(Qa,eRe,eK(Hy,{brighter(e){return e=e==null?mb:Math.pow(mb,e),new Qa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pg:Math.pow(Pg,e),new Qa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Ms(hj(e>=240?e-240:e+120,s,n),hj(e,s,n),hj(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Qa(s5(this.h),Zv(this.s),Zv(this.l),gb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gb(this.opacity);return`${e===1?"hsl(":"hsla("}${s5(this.h)}, ${Zv(this.s)*100}%, ${Zv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function s5(e){return e=(e||0)%360,e<0?e+360:e}function Zv(e){return Math.max(0,Math.min(1,e||0))}function hj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const $T=e=>()=>e;function tRe(e,t){return function(r){return e+r*t}}function rRe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function nRe(e){return(e=+e)==1?rK:function(t,r){return r-t?rRe(t,r,e):$T(isNaN(t)?r:t)}}function rK(e,t){var r=t-e;return r?tRe(e,r):$T(isNaN(e)?t:e)}const a5=function e(t){var r=nRe(t);function n(s,a){var i=r((s=oC(s)).r,(a=oC(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),u=rK(s.opacity,a.opacity);return function(d){return s.r=i(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function sRe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=e[s]*(1-a)+t[s]*a;return n}}function aRe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iRe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),a=new Array(r),i;for(i=0;i<n;++i)s[i]=Kh(e[i],t[i]);for(;i<r;++i)a[i]=t[i];return function(l){for(i=0;i<n;++i)a[i]=s[i](l);return a}}function oRe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function yb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function lRe(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Kh(e[s],t[s]):n[s]=t[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var lC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pj=new RegExp(lC.source,"g");function cRe(e){return function(){return e}}function uRe(e){return function(t){return e(t)+""}}function dRe(e,t){var r=lC.lastIndex=pj.lastIndex=0,n,s,a,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=lC.exec(e))&&(s=pj.exec(t));)(a=s.index)>r&&(a=t.slice(r,a),l[i]?l[i]+=a:l[++i]=a),(n=n[0])===(s=s[0])?l[i]?l[i]+=s:l[++i]=s:(l[++i]=null,c.push({i,x:yb(n,s)})),r=pj.lastIndex;return r<t.length&&(a=t.slice(r),l[i]?l[i]+=a:l[++i]=a),l.length<2?c[0]?uRe(c[0].x):cRe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Kh(e,t){var r=typeof t,n;return t==null||r==="boolean"?$T(t):(r==="number"?yb:r==="string"?(n=Tg(t))?(t=n,a5):dRe:t instanceof Tg?a5:t instanceof Date?oRe:aRe(t)?sRe:Array.isArray(t)?iRe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lRe:yb)(e,t)}function RT(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function fRe(e,t){t===void 0&&(t=e,e=Kh);for(var r=0,n=t.length-1,s=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(s,s=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return a[l](i-l)}}function hRe(e){return function(){return e}}function vb(e){return+e}var i5=[0,1];function ms(e){return e}function cC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:hRe(isNaN(t)?NaN:.5)}function pRe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function mRe(e,t,r){var n=e[0],s=e[1],a=t[0],i=t[1];return s<n?(n=cC(s,n),a=r(i,a)):(n=cC(n,s),a=r(a,i)),function(l){return a(n(l))}}function gRe(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),a=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)s[i]=cC(e[i],e[i+1]),a[i]=r(t[i],t[i+1]);return function(l){var c=Vy(e,l,1,n)-1;return a[c](s[c](l))}}function Ky(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function F1(){var e=i5,t=i5,r=Kh,n,s,a,i=ms,l,c,u;function d(){var h=Math.min(e.length,t.length);return i!==ms&&(i=pRe(e[0],e[h-1])),l=h>2?gRe:mRe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(s((u||(u=l(t,e.map(n),yb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,vb),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=RT,d()},f.clamp=function(h){return arguments.length?(i=h?!0:ms,d()):i!==ms},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,y){return n=h,s=y,d()}}function MT(){return F1()(ms,ms)}function yRe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Yf(e){return e=xb(Math.abs(e)),e?e[1]:NaN}function vRe(e,t){return function(r,n){for(var s=r.length,a=[],i=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return a.reverse().join(t)}}function xRe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var bRe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Og(e){if(!(t=bRe.exec(e)))throw new Error("invalid format: "+e);var t;return new IT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Og.prototype=IT.prototype;function IT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}IT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wRe(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var nK;function _Re(e,t){var r=xb(e,t);if(!r)return e+"";var n=r[0],s=r[1],a=s-(nK=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=n.length;return a===i?n:a>i?n+new Array(a-i+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+xb(e,Math.max(0,t+a-1))[0]}function o5(e,t){var r=xb(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const l5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yRe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>o5(e*100,t),r:o5,s:_Re,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function c5(e){return e}var u5=Array.prototype.map,d5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SRe(e){var t=e.grouping===void 0||e.thousands===void 0?c5:vRe(u5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?c5:xRe(u5.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Og(f);var h=f.fill,y=f.align,g=f.sign,m=f.symbol,v=f.zero,x=f.width,b=f.comma,w=f.precision,_=f.trim,S=f.type;S==="n"?(b=!0,S="g"):l5[S]||(w===void 0&&(w=12),_=!0,S="g"),(v||h==="0"&&y==="=")&&(v=!0,h="0",y="=");var k=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=m==="$"?n:/[%p]/.test(S)?i:"",j=l5[S],N=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(P){var R=k,B=E,z,D,O;if(S==="c")B=j(P)+B,P="";else{P=+P;var U=P<0||1/P<0;if(P=isNaN(P)?c:j(Math.abs(P),w),_&&(P=wRe(P)),U&&+P==0&&g!=="+"&&(U=!1),R=(U?g==="("?g:l:g==="-"||g==="("?"":g)+R,B=(S==="s"?d5[8+nK/3]:"")+B+(U&&g==="("?")":""),N){for(z=-1,D=P.length;++z<D;)if(O=P.charCodeAt(z),48>O||O>57){B=(O===46?s+P.slice(z+1):P.slice(z))+B,P=P.slice(0,z);break}}}b&&!v&&(P=t(P,1/0));var A=R.length+P.length+B.length,I=A<x?new Array(x-A+1).join(h):"";switch(b&&v&&(P=t(I+P,I.length?x-B.length:1/0),I=""),y){case"<":P=R+P+B+I;break;case"=":P=R+I+P+B;break;case"^":P=I.slice(0,A=I.length>>1)+R+P+B+I.slice(A);break;default:P=I+R+P+B;break}return a(P)}return C.toString=function(){return f+""},C}function d(f,h){var y=u((f=Og(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Yf(h)/3)))*3,m=Math.pow(10,-g),v=d5[8+g/3];return function(x){return y(m*x)+v}}return{format:u,formatPrefix:d}}var e0,LT,sK;jRe({thousands:",",grouping:[3],currency:["$",""]});function jRe(e){return e0=SRe(e),LT=e0.format,sK=e0.formatPrefix,e0}function kRe(e){return Math.max(0,-Yf(Math.abs(e)))}function ERe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yf(t)/3)))*3-Yf(Math.abs(e)))}function NRe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yf(t)-Yf(e))+1}function aK(e,t,r,n){var s=aC(e,t,r),a;switch(n=Og(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=ERe(s,i))&&(n.precision=a),sK(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=NRe(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=kRe(s))&&(n.precision=a-(n.type==="%")*2);break}}return LT(n)}function vc(e){var t=e.domain;return e.ticks=function(r){var n=t();return nC(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return aK(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,a=n.length-1,i=n[s],l=n[a],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=sC(i,l,r),u===c)return n[s]=i,n[a]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function bb(){var e=MT();return e.copy=function(){return Ky(e,bb())},Ma.apply(e,arguments),vc(e)}function iK(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,vb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return iK(e).unknown(t)},e=arguments.length?Array.from(e,vb):[0,1],vc(r)}function oK(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],a=e[n],i;return a<s&&(i=r,r=n,n=i,i=s,s=a,a=i),e[r]=t.floor(s),e[n]=t.ceil(a),e}function f5(e){return Math.log(e)}function h5(e){return Math.exp(e)}function CRe(e){return-Math.log(-e)}function PRe(e){return-Math.exp(-e)}function ARe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function TRe(e){return e===10?ARe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ORe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function p5(e){return(t,r)=>-e(-t,r)}function DT(e){const t=e(f5,h5),r=t.domain;let n=10,s,a;function i(){return s=ORe(n),a=TRe(n),r()[0]<0?(s=p5(s),a=p5(a),e(CRe,PRe)):e(f5,h5),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),y=s(d),g,m;const v=l==null?10:+l;let x=[];if(!(n%1)&&y-h<v){if(h=Math.floor(h),y=Math.ceil(y),u>0){for(;h<=y;++h)for(g=1;g<n;++g)if(m=h<0?g/a(-h):g*a(h),!(m<u)){if(m>d)break;x.push(m)}}else for(;h<=y;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/a(-h):g*a(h),!(m<u)){if(m>d)break;x.push(m)}x.length*2<v&&(x=nC(u,d,v))}else x=nC(h,y,Math.min(y-h,v)).map(a);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Og(c)).precision==null&&(c.trim=!0),c=LT(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(oK(r(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function lK(){const e=DT(F1()).domain([1,10]);return e.copy=()=>Ky(e,lK()).base(e.base()),Ma.apply(e,arguments),e}function m5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function g5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function FT(e){var t=1,r=e(m5(t),g5(t));return r.constant=function(n){return arguments.length?e(m5(t=+n),g5(t)):t},vc(r)}function cK(){var e=FT(F1());return e.copy=function(){return Ky(e,cK()).constant(e.constant())},Ma.apply(e,arguments)}function y5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $Re(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function RRe(e){return e<0?-e*e:e*e}function BT(e){var t=e(ms,ms),r=1;function n(){return r===1?e(ms,ms):r===.5?e($Re,RRe):e(y5(r),y5(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},vc(t)}function UT(){var e=BT(F1());return e.copy=function(){return Ky(e,UT()).exponent(e.exponent())},Ma.apply(e,arguments),e}function MRe(){return UT.apply(null,arguments).exponent(.5)}function v5(e){return Math.sign(e)*e*e}function IRe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function uK(){var e=MT(),t=[0,1],r=!1,n;function s(a){var i=IRe(e(a));return isNaN(i)?n:r?Math.round(i):i}return s.invert=function(a){return e.invert(v5(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,vb)).map(v5)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return uK(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ma.apply(s,arguments),vc(s)}function dK(){var e=[],t=[],r=[],n;function s(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=U$e(e,i/l);return a}function a(i){return i==null||isNaN(i=+i)?n:t[Vy(r,i)]}return a.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ql),s()},a.range=function(i){return arguments.length?(t=Array.from(i),s()):t.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return dK().domain(e).range(t).unknown(n)},Ma.apply(a,arguments)}function fK(){var e=0,t=1,r=1,n=[.5],s=[0,1],a;function i(c){return c!=null&&c<=c?s[Vy(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},i.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(a=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return fK().domain([e,t]).range(s).unknown(a)},Ma.apply(vc(i),arguments)}function hK(){var e=[.5],t=[0,1],r,n=1;function s(a){return a!=null&&a<=a?t[Vy(e,a,0,n)]:r}return s.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var i=t.indexOf(a);return[e[i-1],e[i]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return hK().domain(e).range(t).unknown(r)},Ma.apply(s,arguments)}const mj=new Date,gj=new Date;function jn(e,t,r,n){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const i=s(a),l=s.ceil(a);return a-i<l-a?i:l},s.offset=(a,i)=>(t(a=new Date(+a),i==null?1:Math.floor(i)),a),s.range=(a,i,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<i)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<i);return c},s.filter=a=>jn(i=>{if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!a(i););else for(;--l>=0;)for(;t(i,1),!a(i););}),r&&(s.count=(a,i)=>(mj.setTime(+a),gj.setTime(+i),e(mj),e(gj),Math.floor(r(mj,gj))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?i=>n(i)%a===0:i=>s.count(0,i)%a===0):s)),s}const wb=jn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);wb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):wb);wb.range;const bo=1e3,Sa=bo*60,wo=Sa*60,zo=wo*24,zT=zo*7,x5=zo*30,yj=zo*365,Jc=jn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bo)},(e,t)=>(t-e)/bo,e=>e.getUTCSeconds());Jc.range;const qT=jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bo)},(e,t)=>{e.setTime(+e+t*Sa)},(e,t)=>(t-e)/Sa,e=>e.getMinutes());qT.range;const WT=jn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Sa)},(e,t)=>(t-e)/Sa,e=>e.getUTCMinutes());WT.range;const VT=jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bo-e.getMinutes()*Sa)},(e,t)=>{e.setTime(+e+t*wo)},(e,t)=>(t-e)/wo,e=>e.getHours());VT.range;const HT=jn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wo)},(e,t)=>(t-e)/wo,e=>e.getUTCHours());HT.range;const Gy=jn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sa)/zo,e=>e.getDate()-1);Gy.range;const B1=jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zo,e=>e.getUTCDate()-1);B1.range;const pK=jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zo,e=>Math.floor(e/zo));pK.range;function Vu(e){return jn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Sa)/zT)}const U1=Vu(0),_b=Vu(1),LRe=Vu(2),DRe=Vu(3),Jf=Vu(4),FRe=Vu(5),BRe=Vu(6);U1.range;_b.range;LRe.range;DRe.range;Jf.range;FRe.range;BRe.range;function Hu(e){return jn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/zT)}const z1=Hu(0),Sb=Hu(1),URe=Hu(2),zRe=Hu(3),Xf=Hu(4),qRe=Hu(5),WRe=Hu(6);z1.range;Sb.range;URe.range;zRe.range;Xf.range;qRe.range;WRe.range;const KT=jn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());KT.range;const GT=jn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());GT.range;const qo=jn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());qo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});qo.range;const Wo=jn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Wo.range;function mK(e,t,r,n,s,a){const i=[[Jc,1,bo],[Jc,5,5*bo],[Jc,15,15*bo],[Jc,30,30*bo],[a,1,Sa],[a,5,5*Sa],[a,15,15*Sa],[a,30,30*Sa],[s,1,wo],[s,3,3*wo],[s,6,6*wo],[s,12,12*wo],[n,1,zo],[n,2,2*zo],[r,1,zT],[t,1,x5],[t,3,3*x5],[e,1,yj]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const y=f&&typeof f.range=="function"?f:c(u,d,f),g=y?y.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,y=AT(([,,v])=>v).right(i,h);if(y===i.length)return e.every(aC(u/yj,d/yj,f));if(y===0)return wb.every(Math.max(aC(u,d,f),1));const[g,m]=i[h/i[y-1][2]<i[y][2]/h?y-1:y];return g.every(m)}return[l,c]}const[VRe,HRe]=mK(Wo,GT,z1,pK,HT,WT),[KRe,GRe]=mK(qo,KT,U1,Gy,VT,qT);function vj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ap(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function YRe(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,a=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=Tp(s),d=Op(s),f=Tp(a),h=Op(a),y=Tp(i),g=Op(i),m=Tp(l),v=Op(l),x=Tp(c),b=Op(c),w={a:U,A,b:I,B:te,c:null,d:k5,e:k5,f:vMe,g:CMe,G:AMe,H:mMe,I:gMe,j:yMe,L:gK,m:xMe,M:bMe,p:$,q:V,Q:C5,s:P5,S:wMe,u:_Me,U:SMe,V:jMe,w:kMe,W:EMe,x:null,X:null,y:NMe,Y:PMe,Z:TMe,"%":N5},_={a:W,A:ee,b:ie,B:G,c:null,d:E5,e:E5,f:MMe,g:VMe,G:KMe,H:OMe,I:$Me,j:RMe,L:vK,m:IMe,M:LMe,p:q,q:Z,Q:C5,s:P5,S:DMe,u:FMe,U:BMe,V:UMe,w:zMe,W:qMe,x:null,X:null,y:WMe,Y:HMe,Z:GMe,"%":N5},S={a:C,A:P,b:R,B,c:z,d:S5,e:S5,f:dMe,g:_5,G:w5,H:j5,I:j5,j:oMe,L:uMe,m:iMe,M:lMe,p:N,q:aMe,Q:hMe,s:pMe,S:cMe,u:eMe,U:tMe,V:rMe,w:ZRe,W:nMe,x:D,X:O,y:_5,Y:w5,Z:sMe,"%":fMe};w.x=k(r,w),w.X=k(n,w),w.c=k(t,w),_.x=k(r,_),_.X=k(n,_),_.c=k(t,_);function k(Y,J){return function(se){var Q=[],ue=-1,ce=0,ve=Y.length,we,Te,pt;for(se instanceof Date||(se=new Date(+se));++ue<ve;)Y.charCodeAt(ue)===37&&(Q.push(Y.slice(ce,ue)),(Te=b5[we=Y.charAt(++ue)])!=null?we=Y.charAt(++ue):Te=we==="e"?" ":"0",(pt=J[we])&&(we=pt(se,Te)),Q.push(we),ce=ue+1);return Q.push(Y.slice(ce,ue)),Q.join("")}}function E(Y,J){return function(se){var Q=Ap(1900,void 0,1),ue=j(Q,Y,se+="",0),ce,ve;if(ue!=se.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(J&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(ce=xj(Ap(Q.y,0,1)),ve=ce.getUTCDay(),ce=ve>4||ve===0?Sb.ceil(ce):Sb(ce),ce=B1.offset(ce,(Q.V-1)*7),Q.y=ce.getUTCFullYear(),Q.m=ce.getUTCMonth(),Q.d=ce.getUTCDate()+(Q.w+6)%7):(ce=vj(Ap(Q.y,0,1)),ve=ce.getDay(),ce=ve>4||ve===0?_b.ceil(ce):_b(ce),ce=Gy.offset(ce,(Q.V-1)*7),Q.y=ce.getFullYear(),Q.m=ce.getMonth(),Q.d=ce.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),ve="Z"in Q?xj(Ap(Q.y,0,1)).getUTCDay():vj(Ap(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(ve+5)%7:Q.w+Q.U*7-(ve+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,xj(Q)):vj(Q)}}function j(Y,J,se,Q){for(var ue=0,ce=J.length,ve=se.length,we,Te;ue<ce;){if(Q>=ve)return-1;if(we=J.charCodeAt(ue++),we===37){if(we=J.charAt(ue++),Te=S[we in b5?J.charAt(ue++):we],!Te||(Q=Te(Y,se,Q))<0)return-1}else if(we!=se.charCodeAt(Q++))return-1}return Q}function N(Y,J,se){var Q=u.exec(J.slice(se));return Q?(Y.p=d.get(Q[0].toLowerCase()),se+Q[0].length):-1}function C(Y,J,se){var Q=y.exec(J.slice(se));return Q?(Y.w=g.get(Q[0].toLowerCase()),se+Q[0].length):-1}function P(Y,J,se){var Q=f.exec(J.slice(se));return Q?(Y.w=h.get(Q[0].toLowerCase()),se+Q[0].length):-1}function R(Y,J,se){var Q=x.exec(J.slice(se));return Q?(Y.m=b.get(Q[0].toLowerCase()),se+Q[0].length):-1}function B(Y,J,se){var Q=m.exec(J.slice(se));return Q?(Y.m=v.get(Q[0].toLowerCase()),se+Q[0].length):-1}function z(Y,J,se){return j(Y,t,J,se)}function D(Y,J,se){return j(Y,r,J,se)}function O(Y,J,se){return j(Y,n,J,se)}function U(Y){return i[Y.getDay()]}function A(Y){return a[Y.getDay()]}function I(Y){return c[Y.getMonth()]}function te(Y){return l[Y.getMonth()]}function $(Y){return s[+(Y.getHours()>=12)]}function V(Y){return 1+~~(Y.getMonth()/3)}function W(Y){return i[Y.getUTCDay()]}function ee(Y){return a[Y.getUTCDay()]}function ie(Y){return c[Y.getUTCMonth()]}function G(Y){return l[Y.getUTCMonth()]}function q(Y){return s[+(Y.getUTCHours()>=12)]}function Z(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var J=k(Y+="",w);return J.toString=function(){return Y},J},parse:function(Y){var J=E(Y+="",!1);return J.toString=function(){return Y},J},utcFormat:function(Y){var J=k(Y+="",_);return J.toString=function(){return Y},J},utcParse:function(Y){var J=E(Y+="",!0);return J.toString=function(){return Y},J}}}var b5={"-":"",_:" ",0:"0"},On=/^\s*\d+/,JRe=/^%/,XRe=/[\\^$*+?|[\]().{}]/g;function Zt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(t)+s:s)}function QRe(e){return e.replace(XRe,"\\$&")}function Tp(e){return new RegExp("^(?:"+e.map(QRe).join("|")+")","i")}function Op(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ZRe(e,t,r){var n=On.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function eMe(e,t,r){var n=On.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function tMe(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function rMe(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function nMe(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function w5(e,t,r){var n=On.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function _5(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function sMe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function aMe(e,t,r){var n=On.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function iMe(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function S5(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function oMe(e,t,r){var n=On.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function j5(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function lMe(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function cMe(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function uMe(e,t,r){var n=On.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function dMe(e,t,r){var n=On.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fMe(e,t,r){var n=JRe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function hMe(e,t,r){var n=On.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function pMe(e,t,r){var n=On.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function k5(e,t){return Zt(e.getDate(),t,2)}function mMe(e,t){return Zt(e.getHours(),t,2)}function gMe(e,t){return Zt(e.getHours()%12||12,t,2)}function yMe(e,t){return Zt(1+Gy.count(qo(e),e),t,3)}function gK(e,t){return Zt(e.getMilliseconds(),t,3)}function vMe(e,t){return gK(e,t)+"000"}function xMe(e,t){return Zt(e.getMonth()+1,t,2)}function bMe(e,t){return Zt(e.getMinutes(),t,2)}function wMe(e,t){return Zt(e.getSeconds(),t,2)}function _Me(e){var t=e.getDay();return t===0?7:t}function SMe(e,t){return Zt(U1.count(qo(e)-1,e),t,2)}function yK(e){var t=e.getDay();return t>=4||t===0?Jf(e):Jf.ceil(e)}function jMe(e,t){return e=yK(e),Zt(Jf.count(qo(e),e)+(qo(e).getDay()===4),t,2)}function kMe(e){return e.getDay()}function EMe(e,t){return Zt(_b.count(qo(e)-1,e),t,2)}function NMe(e,t){return Zt(e.getFullYear()%100,t,2)}function CMe(e,t){return e=yK(e),Zt(e.getFullYear()%100,t,2)}function PMe(e,t){return Zt(e.getFullYear()%1e4,t,4)}function AMe(e,t){var r=e.getDay();return e=r>=4||r===0?Jf(e):Jf.ceil(e),Zt(e.getFullYear()%1e4,t,4)}function TMe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Zt(t/60|0,"0",2)+Zt(t%60,"0",2)}function E5(e,t){return Zt(e.getUTCDate(),t,2)}function OMe(e,t){return Zt(e.getUTCHours(),t,2)}function $Me(e,t){return Zt(e.getUTCHours()%12||12,t,2)}function RMe(e,t){return Zt(1+B1.count(Wo(e),e),t,3)}function vK(e,t){return Zt(e.getUTCMilliseconds(),t,3)}function MMe(e,t){return vK(e,t)+"000"}function IMe(e,t){return Zt(e.getUTCMonth()+1,t,2)}function LMe(e,t){return Zt(e.getUTCMinutes(),t,2)}function DMe(e,t){return Zt(e.getUTCSeconds(),t,2)}function FMe(e){var t=e.getUTCDay();return t===0?7:t}function BMe(e,t){return Zt(z1.count(Wo(e)-1,e),t,2)}function xK(e){var t=e.getUTCDay();return t>=4||t===0?Xf(e):Xf.ceil(e)}function UMe(e,t){return e=xK(e),Zt(Xf.count(Wo(e),e)+(Wo(e).getUTCDay()===4),t,2)}function zMe(e){return e.getUTCDay()}function qMe(e,t){return Zt(Sb.count(Wo(e)-1,e),t,2)}function WMe(e,t){return Zt(e.getUTCFullYear()%100,t,2)}function VMe(e,t){return e=xK(e),Zt(e.getUTCFullYear()%100,t,2)}function HMe(e,t){return Zt(e.getUTCFullYear()%1e4,t,4)}function KMe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Xf(e):Xf.ceil(e),Zt(e.getUTCFullYear()%1e4,t,4)}function GMe(){return"+0000"}function N5(){return"%"}function C5(e){return+e}function P5(e){return Math.floor(+e/1e3)}var ld,bK,wK;YMe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YMe(e){return ld=YRe(e),bK=ld.format,ld.parse,wK=ld.utcFormat,ld.utcParse,ld}function JMe(e){return new Date(e)}function XMe(e){return e instanceof Date?+e:+new Date(+e)}function YT(e,t,r,n,s,a,i,l,c,u){var d=MT(),f=d.invert,h=d.domain,y=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),_=u("%Y");function S(k){return(c(k)<k?y:l(k)<k?g:i(k)<k?m:a(k)<k?v:n(k)<k?s(k)<k?x:b:r(k)<k?w:_)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,XMe)):h().map(JMe)},d.ticks=function(k){var E=h();return e(E[0],E[E.length-1],k??10)},d.tickFormat=function(k,E){return E==null?S:u(E)},d.nice=function(k){var E=h();return(!k||typeof k.range!="function")&&(k=t(E[0],E[E.length-1],k??10)),k?h(oK(E,k)):d},d.copy=function(){return Ky(d,YT(e,t,r,n,s,a,i,l,c,u))},d}function QMe(){return Ma.apply(YT(KRe,GRe,qo,KT,U1,Gy,VT,qT,Jc,bK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZMe(){return Ma.apply(YT(VRe,HRe,Wo,GT,z1,B1,HT,WT,Jc,wK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function q1(){var e=0,t=1,r,n,s,a,i=ms,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(s===0?.5:(f=(a(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var y,g;return arguments.length?([y,g]=h,i=f(y,g),u):[i(0),i(1)]}}return u.range=d(Kh),u.rangeRound=d(RT),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function xc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _K(){var e=vc(q1()(ms));return e.copy=function(){return xc(e,_K())},Jo.apply(e,arguments)}function SK(){var e=DT(q1()).domain([1,10]);return e.copy=function(){return xc(e,SK()).base(e.base())},Jo.apply(e,arguments)}function jK(){var e=FT(q1());return e.copy=function(){return xc(e,jK()).constant(e.constant())},Jo.apply(e,arguments)}function JT(){var e=BT(q1());return e.copy=function(){return xc(e,JT()).exponent(e.exponent())},Jo.apply(e,arguments)}function e4e(){return JT.apply(null,arguments).exponent(.5)}function kK(){var e=[],t=ms;function r(n){if(n!=null&&!isNaN(n=+n))return t((Vy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ql),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>B$e(e,a/n))},r.copy=function(){return kK(t).domain(e)},Jo.apply(r,arguments)}function W1(){var e=0,t=.5,r=1,n=1,s,a,i,l,c,u=ms,d,f=!1,h;function y(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-a)*(n*m<n*a?l:c),u(f?Math.max(0,Math.min(1,m)):m))}y.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),a=d(t=+t),i=d(r=+r),l=s===a?0:.5/(a-s),c=a===i?0:.5/(i-a),n=a<s?-1:1,y):[e,t,r]},y.clamp=function(m){return arguments.length?(f=!!m,y):f},y.interpolator=function(m){return arguments.length?(u=m,y):u};function g(m){return function(v){var x,b,w;return arguments.length?([x,b,w]=v,u=fRe(m,[x,b,w]),y):[u(0),u(.5),u(1)]}}return y.range=g(Kh),y.rangeRound=g(RT),y.unknown=function(m){return arguments.length?(h=m,y):h},function(m){return d=m,s=m(e),a=m(t),i=m(r),l=s===a?0:.5/(a-s),c=a===i?0:.5/(i-a),n=a<s?-1:1,y}}function EK(){var e=vc(W1()(ms));return e.copy=function(){return xc(e,EK())},Jo.apply(e,arguments)}function NK(){var e=DT(W1()).domain([.1,1,10]);return e.copy=function(){return xc(e,NK()).base(e.base())},Jo.apply(e,arguments)}function CK(){var e=FT(W1());return e.copy=function(){return xc(e,CK()).constant(e.constant())},Jo.apply(e,arguments)}function XT(){var e=BT(W1());return e.copy=function(){return xc(e,XT()).exponent(e.exponent())},Jo.apply(e,arguments)}function t4e(){return XT.apply(null,arguments).exponent(.5)}const A5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cg,scaleDiverging:EK,scaleDivergingLog:NK,scaleDivergingPow:XT,scaleDivergingSqrt:t4e,scaleDivergingSymlog:CK,scaleIdentity:iK,scaleImplicit:iC,scaleLinear:bb,scaleLog:lK,scaleOrdinal:TT,scalePoint:Pm,scalePow:UT,scaleQuantile:dK,scaleQuantize:fK,scaleRadial:uK,scaleSequential:_K,scaleSequentialLog:SK,scaleSequentialPow:JT,scaleSequentialQuantile:kK,scaleSequentialSqrt:e4e,scaleSequentialSymlog:jK,scaleSqrt:MRe,scaleSymlog:cK,scaleThreshold:hK,scaleTime:QMe,scaleUtc:ZMe,tickFormat:aK},Symbol.toStringTag,{value:"Module"}));var r4e=Fh;function n4e(e,t,r){for(var n=-1,s=e.length;++n<s;){var a=e[n],i=t(a);if(i!=null&&(l===void 0?i===i&&!r4e(i):r(i,l)))var l=i,c=a}return c}var PK=n4e;function s4e(e,t){return e>t}var a4e=s4e,i4e=PK,o4e=a4e,l4e=Hh;function c4e(e){return e&&e.length?i4e(e,l4e,o4e):void 0}var u4e=c4e;const V1=vr(u4e);function d4e(e,t){return e<t}var f4e=d4e,h4e=PK,p4e=f4e,m4e=Hh;function g4e(e){return e&&e.length?h4e(e,m4e,p4e):void 0}var y4e=g4e;const H1=vr(y4e);var v4e=dT,x4e=yc,b4e=DH,w4e=qs;function _4e(e,t){var r=w4e(e)?v4e:b4e;return r(e,x4e(t))}var S4e=_4e,j4e=IH,k4e=S4e;function E4e(e,t){return j4e(k4e(e,t),1)}var N4e=E4e;const C4e=vr(N4e);var P4e=ET;function A4e(e,t){return P4e(e,t)}var T4e=A4e;const QT=vr(T4e);var Gh=1e9,O4e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eO,Br=!0,Oa="[DecimalError] ",yu=Oa+"Invalid argument: ",ZT=Oa+"Exponent out of range: ",Yh=Math.floor,Lc=Math.pow,$4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qs,En=1e7,Tr=7,AK=9007199254740991,jb=Yh(AK/Tr),ft={};ft.absoluteValue=ft.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ft.comparedTo=ft.cmp=function(e){var t,r,n,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};ft.decimalPlaces=ft.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Tr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ft.dividedBy=ft.div=function(e){return Ao(this,new this.constructor(e))};ft.dividedToIntegerBy=ft.idiv=function(e){var t=this,r=t.constructor;return wr(Ao(t,new r(e),0,1),r.precision)};ft.equals=ft.eq=function(e){return!this.cmp(e)};ft.exponent=function(){return hn(this)};ft.greaterThan=ft.gt=function(e){return this.cmp(e)>0};ft.greaterThanOrEqualTo=ft.gte=function(e){return this.cmp(e)>=0};ft.isInteger=ft.isint=function(){return this.e>this.d.length-2};ft.isNegative=ft.isneg=function(){return this.s<0};ft.isPositive=ft.ispos=function(){return this.s>0};ft.isZero=function(){return this.s===0};ft.lessThan=ft.lt=function(e){return this.cmp(e)<0};ft.lessThanOrEqualTo=ft.lte=function(e){return this.cmp(e)<1};ft.logarithm=ft.log=function(e){var t,r=this,n=r.constructor,s=n.precision,a=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Qs))throw Error(Oa+"NaN");if(r.s<1)throw Error(Oa+(r.s?"NaN":"-Infinity"));return r.eq(Qs)?new n(0):(Br=!1,t=Ao($g(r,a),$g(e,a),a),Br=!0,wr(t,s))};ft.minus=ft.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$K(t,e):TK(t,(e.s=-e.s,e))};ft.modulo=ft.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Oa+"NaN");return r.s?(Br=!1,t=Ao(r,e,0,1).times(e),Br=!0,r.minus(t)):wr(new n(r),s)};ft.naturalExponential=ft.exp=function(){return OK(this)};ft.naturalLogarithm=ft.ln=function(){return $g(this)};ft.negated=ft.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ft.plus=ft.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TK(t,e):$K(t,(e.s=-e.s,e))};ft.precision=ft.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(yu+e);if(t=hn(s)+1,n=s.d.length-1,r=n*Tr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ft.squareRoot=ft.sqrt=function(){var e,t,r,n,s,a,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Oa+"NaN")}for(e=hn(l),Br=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Ti(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Yh((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=i=r+3;;)if(a=n,n=a.plus(Ao(l,a,i+2)).times(.5),Ti(a.d).slice(0,i)===(t=Ti(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),s==i&&t=="4999"){if(wr(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;i+=4}return Br=!0,wr(n,r)};ft.times=ft.mul=function(e){var t,r,n,s,a,i,l,c,u,d=this,f=d.constructor,h=d.d,y=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=y.length,c<u&&(a=h,h=y,y=a,i=c,c=u,u=i),a=[],i=c+u,n=i;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=a[s]+y[n]*h[s-n-1]+t,a[s--]=l%En|0,t=l/En|0;a[s]=(a[s]+t)%En|0}for(;!a[--i];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Br?wr(e,f.precision):e};ft.toDecimalPlaces=ft.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ji(e,0,Gh),t===void 0?t=n.rounding:Ji(t,0,8),wr(r,e+hn(r)+1,t))};ft.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ou(n,!0):(Ji(e,0,Gh),t===void 0?t=s.rounding:Ji(t,0,8),n=wr(new s(n),e+1,t),r=Ou(n,!0,e+1)),r};ft.toFixed=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?Ou(s):(Ji(e,0,Gh),t===void 0?t=a.rounding:Ji(t,0,8),n=wr(new a(s),e+hn(s)+1,t),r=Ou(n.abs(),!1,e+hn(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ft.toInteger=ft.toint=function(){var e=this,t=e.constructor;return wr(new t(e),hn(e)+1,t.rounding)};ft.toNumber=function(){return+this};ft.toPower=ft.pow=function(e){var t,r,n,s,a,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Qs);if(l=new c(l),!l.s){if(e.s<1)throw Error(Oa+"Infinity");return l}if(l.eq(Qs))return l;if(n=c.precision,e.eq(Qs))return wr(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,a=l.s,i){if((r=d<0?-d:d)<=AK){for(s=new c(Qs),t=Math.ceil(n/Tr+4),Br=!1;r%2&&(s=s.times(l),O5(s.d,t)),r=Yh(r/2),r!==0;)l=l.times(l),O5(l.d,t);return Br=!0,e.s<0?new c(Qs).div(s):wr(s,n)}}else if(a<0)throw Error(Oa+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Br=!1,s=e.times($g(l,n+u)),Br=!0,s=OK(s),s.s=a,s};ft.toPrecision=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?(r=hn(s),n=Ou(s,r<=a.toExpNeg||r>=a.toExpPos)):(Ji(e,1,Gh),t===void 0?t=a.rounding:Ji(t,0,8),s=wr(new a(s),e,t),r=hn(s),n=Ou(s,e<=r||r<=a.toExpNeg,e)),n};ft.toSignificantDigits=ft.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ji(e,1,Gh),t===void 0?t=n.rounding:Ji(t,0,8)),wr(new n(r),e,t)};ft.toString=ft.valueOf=ft.val=ft.toJSON=ft[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=hn(e),r=e.constructor;return Ou(e,t<=r.toExpNeg||t>=r.toExpPos)};function TK(e,t){var r,n,s,a,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Br?wr(t,f):t;if(c=e.d,u=t.d,i=e.e,s=t.e,c=c.slice(),a=i-s,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,s=i,l=c.length),i=Math.ceil(f/Tr),l=i>l?i+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/En|0,c[a]%=En;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Br?wr(t,f):t}function Ji(e,t,r){if(e!==~~e||e<t||e>r)throw Error(yu+e)}function Ti(e){var t,r,n,s=e.length-1,a="",i=e[0];if(s>0){for(a+=i,t=1;t<s;t++)n=e[t]+"",r=Tr-n.length,r&&(a+=yl(r)),a+=n;i=e[t],n=i+"",r=Tr-n.length,r&&(a+=yl(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return a+i}var Ao=function(){function e(n,s){var a,i=0,l=n.length;for(n=n.slice();l--;)a=n[l]*s+i,n[l]=a%En|0,i=a/En|0;return i&&n.unshift(i),n}function t(n,s,a,i){var l,c;if(a!=i)c=a>i?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,a){for(var i=0;a--;)n[a]-=i,i=n[a]<s[a]?1:0,n[a]=i*En+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,i){var l,c,u,d,f,h,y,g,m,v,x,b,w,_,S,k,E,j,N=n.constructor,C=n.s==s.s?1:-1,P=n.d,R=s.d;if(!n.s)return new N(n);if(!s.s)throw Error(Oa+"Division by zero");for(c=n.e-s.e,E=R.length,S=P.length,y=new N(C),g=y.d=[],u=0;R[u]==(P[u]||0);)++u;if(R[u]>(P[u]||0)&&--c,a==null?b=a=N.precision:i?b=a+(hn(n)-hn(s))+1:b=a,b<0)return new N(0);if(b=b/Tr+2|0,u=0,E==1)for(d=0,R=R[0],b++;(u<S||d)&&b--;u++)w=d*En+(P[u]||0),g[u]=w/R|0,d=w%R|0;else{for(d=En/(R[0]+1)|0,d>1&&(R=e(R,d),P=e(P,d),E=R.length,S=P.length),_=E,m=P.slice(0,E),v=m.length;v<E;)m[v++]=0;j=R.slice(),j.unshift(0),k=R[0],R[1]>=En/2&&++k;do d=0,l=t(R,m,E,v),l<0?(x=m[0],E!=v&&(x=x*En+(m[1]||0)),d=x/k|0,d>1?(d>=En&&(d=En-1),f=e(R,d),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(d--,r(f,E<h?j:R,h))):(d==0&&(l=d=1),f=R.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(R,m,E,v),l<1&&(d++,r(m,E<v?j:R,v))),v=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[v++]=P[_]||0:(m=[P[_]],v=1);while((_++<S||m[0]!==void 0)&&b--)}return g[0]||g.shift(),y.e=c,wr(y,i?a+hn(y)+1:a)}}();function OK(e,t){var r,n,s,a,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(hn(e)>16)throw Error(ZT+hn(e));if(!e.s)return new d(Qs);for(t==null?(Br=!1,l=f):l=t,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Lc(2,u))/Math.LN10*2+5|0,l+=n,r=s=a=new d(Qs),d.precision=l;;){if(s=wr(s.times(e),l),r=r.times(++c),i=a.plus(Ao(s,r,l)),Ti(i.d).slice(0,l)===Ti(a.d).slice(0,l)){for(;u--;)a=wr(a.times(a),l);return d.precision=f,t==null?(Br=!0,wr(a,f)):a}a=i}}function hn(e){for(var t=e.e*Tr,r=e.d[0];r>=10;r/=10)t++;return t}function bj(e,t,r){if(t>e.LN10.sd())throw Br=!0,r&&(e.precision=r),Error(Oa+"LN10 precision limit exceeded");return wr(new e(e.LN10),t)}function yl(e){for(var t="";e--;)t+="0";return t}function $g(e,t){var r,n,s,a,i,l,c,u,d,f=1,h=10,y=e,g=y.d,m=y.constructor,v=m.precision;if(y.s<1)throw Error(Oa+(y.s?"NaN":"-Infinity"));if(y.eq(Qs))return new m(0);if(t==null?(Br=!1,u=v):u=t,y.eq(10))return t==null&&(Br=!0),bj(m,u);if(u+=h,m.precision=u,r=Ti(g),n=r.charAt(0),a=hn(y),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=Ti(y.d),n=r.charAt(0),f++;a=hn(y),n>1?(y=new m("0."+r),a++):y=new m(n+"."+r.slice(1))}else return c=bj(m,u+2,v).times(a+""),y=$g(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(Br=!0,wr(y,v)):y;for(l=i=y=Ao(y.minus(Qs),y.plus(Qs),u),d=wr(y.times(y),u),s=3;;){if(i=wr(i.times(d),u),c=l.plus(Ao(i,new m(s),u)),Ti(c.d).slice(0,u)===Ti(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(bj(m,u+2,v).times(a+""))),l=Ao(l,new m(f),u),m.precision=v,t==null?(Br=!0,wr(l,v)):l;l=c,s+=2}}function T5(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Yh(r/Tr),e.d=[],n=(r+1)%Tr,r<0&&(n+=Tr),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Tr;n<s;)e.d.push(+t.slice(n,n+=Tr));t=t.slice(n),n=Tr-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Br&&(e.e>jb||e.e<-jb))throw Error(ZT+r)}else e.s=0,e.e=0,e.d=[0];return e}function wr(e,t,r){var n,s,a,i,l,c,u,d,f=e.d;for(i=1,a=f[0];a>=10;a/=10)i++;if(n=t-i,n<0)n+=Tr,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Tr),a=f.length,d>=a)return e;for(u=a=f[d],i=1;a>=10;a/=10)i++;n%=Tr,s=n-Tr+i}if(r!==void 0&&(a=Lc(10,i-s-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Lc(10,i-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=hn(e),f.length=1,t=t-a-1,f[0]=Lc(10,(Tr-t%Tr)%Tr),e.e=Yh(-t/Tr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Lc(10,Tr-n),f[d]=s>0?(u/Lc(10,i-s)%Lc(10,s)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==En&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=En)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Br&&(e.e>jb||e.e<-jb))throw Error(ZT+hn(e));return e}function $K(e,t){var r,n,s,a,i,l,c,u,d,f,h=e.constructor,y=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Br?wr(t,y):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(y/Tr),l)+2,i>s&&(i=s,r.length=1),r.reverse(),s=i;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>i;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=En-1;--c[a],c[s]+=En}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Br?wr(t,y):t):new h(0)}function Ou(e,t,r){var n,s=hn(e),a=Ti(e.d),i=a.length;return t?(r&&(n=r-i)>0?a=a.charAt(0)+"."+a.slice(1)+yl(n):i>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+yl(-s-1)+a,r&&(n=r-i)>0&&(a+=yl(n))):s>=i?(a+=yl(s+1-i),r&&(n=r-s-1)>0&&(a=a+"."+yl(n))):((n=s+1)<i&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-i)>0&&(s+1===i&&(a+="."),a+=yl(n))),e.s<0?"-"+a:a}function O5(e,t){if(e.length>t)return e.length=t,!0}function RK(e){var t,r,n;function s(a){var i=this;if(!(i instanceof s))return new s(a);if(i.constructor=s,a instanceof s){i.s=a.s,i.e=a.e,i.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(yu+a);if(a>0)i.s=1;else if(a<0)a=-a,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(a===~~a&&a<1e7){i.e=0,i.d=[a];return}return T5(i,a.toString())}else if(typeof a!="string")throw Error(yu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),i.s=-1):i.s=1,$4e.test(a))T5(i,a);else throw Error(yu+a)}if(s.prototype=ft,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=RK,s.config=s.set=R4e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function R4e(e){if(!e||typeof e!="object")throw Error(Oa+"Object expected");var t,r,n,s=["precision",1,Gh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Yh(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(yu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(yu+r+": "+n);return this}var eO=RK(O4e);Qs=new eO(1);const gr=eO;function M4e(e){return F4e(e)||D4e(e)||L4e(e)||I4e()}function I4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L4e(e,t){if(e){if(typeof e=="string")return uC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uC(e,t)}}function D4e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function F4e(e){if(Array.isArray(e))return uC(e)}function uC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B4e=function(t){return t},MK={"@@functional/placeholder":!0},IK=function(t){return t===MK},$5=function(t){return function r(){return arguments.length===0||arguments.length===1&&IK(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},U4e=function e(t,r){return t===1?r:$5(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var i=s.filter(function(l){return l!==MK}).length;return i>=t?r.apply(void 0,s):e(t-i,$5(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return IK(f)?c.shift():f});return r.apply(void 0,M4e(d).concat(c))}))})},K1=function(t){return U4e(t.length,t)},dC=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},z4e=K1(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),q4e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return B4e;var s=r.reverse(),a=s[0],i=s.slice(1);return function(){return i.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},fC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},LK=function(t){var r=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function W4e(e){var t;return e===0?t=1:t=Math.floor(new gr(e).abs().log(10).toNumber())+1,t}function V4e(e,t,r){for(var n=new gr(e),s=0,a=[];n.lt(t)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}var H4e=K1(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),K4e=K1(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),G4e=K1(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const G1={rangeStep:V4e,getDigitCount:W4e,interpolateNumber:H4e,uninterpolateNumber:K4e,uninterpolateTruncation:G4e};function hC(e){return X4e(e)||J4e(e)||DK(e)||Y4e()}function Y4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J4e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function X4e(e){if(Array.isArray(e))return pC(e)}function Rg(e,t){return eIe(e)||Z4e(e,t)||DK(e,t)||Q4e()}function Q4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(e,t){if(e){if(typeof e=="string")return pC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pC(e,t)}}function pC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z4e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,a=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,a=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(s)throw a}}return r}}function eIe(e){if(Array.isArray(e))return e}function FK(e){var t=Rg(e,2),r=t[0],n=t[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function BK(e,t,r){if(e.lte(0))return new gr(0);var n=G1.getDigitCount(e.toNumber()),s=new gr(10).pow(n),a=e.div(s),i=n!==1?.05:.1,l=new gr(Math.ceil(a.div(i).toNumber())).add(r).mul(i),c=l.mul(s);return t?c:new gr(Math.ceil(c))}function tIe(e,t,r){var n=1,s=new gr(e);if(!s.isint()&&r){var a=Math.abs(e);a<1?(n=new gr(10).pow(G1.getDigitCount(e)-1),s=new gr(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new gr(Math.floor(e)))}else e===0?s=new gr(Math.floor((t-1)/2)):r||(s=new gr(Math.floor(e)));var i=Math.floor((t-1)/2),l=q4e(z4e(function(c){return s.add(new gr(c-i).mul(n)).toNumber()}),dC);return l(0,t)}function UK(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new gr(0),tickMin:new gr(0),tickMax:new gr(0)};var a=BK(new gr(t).sub(e).div(r-1),n,s),i;e<=0&&t>=0?i=new gr(0):(i=new gr(e).add(t).div(2),i=i.sub(new gr(i).mod(a)));var l=Math.ceil(i.sub(e).div(a).toNumber()),c=Math.ceil(new gr(t).sub(i).div(a).toNumber()),u=l+c+1;return u>r?UK(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:a,tickMin:i.sub(new gr(l).mul(a)),tickMax:i.add(new gr(c).mul(a))})}function rIe(e){var t=Rg(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),l=FK([r,n]),c=Rg(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(hC(dC(0,s-1).map(function(){return 1/0}))):[].concat(hC(dC(0,s-1).map(function(){return-1/0})),[d]);return r>n?fC(f):f}if(u===d)return tIe(u,s,a);var h=UK(u,d,i,a),y=h.step,g=h.tickMin,m=h.tickMax,v=G1.rangeStep(g,m.add(new gr(.1).mul(y)),y);return r>n?fC(v):v}function nIe(e,t){var r=Rg(e,2),n=r[0],s=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=FK([n,s]),l=Rg(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=BK(new gr(u).sub(c).div(d-1),a,0),h=[].concat(hC(G1.rangeStep(new gr(c),new gr(u).sub(new gr(.99).mul(f)),f)),[u]);return n>s?fC(h):h}var sIe=LK(rIe),aIe=LK(nIe),iIe="Invariant failed";function $u(e,t){throw new Error(iIe)}var oIe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(this,arguments)}function lIe(e,t){return fIe(e)||dIe(e,t)||uIe(e,t)||cIe()}function cIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uIe(e,t){if(e){if(typeof e=="string")return R5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R5(e,t)}}function R5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function fIe(e){if(Array.isArray(e))return e}function hIe(e,t){if(e==null)return{};var r=pIe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WK(n.key),n)}}function yIe(e,t,r){return t&&gIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vIe(e,t,r){return t=Eb(t),xIe(e,zK()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function xIe(e,t){if(t&&(Qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bIe(e)}function bIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zK=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function wIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mC(e,t)}function mC(e,t){return mC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},mC(e,t)}function qK(e,t,r){return t=WK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WK(e){var t=_Ie(e,"string");return Qf(t)=="symbol"?t:t+""}function _Ie(e,t){if(Qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y1=function(e){function t(){return mIe(this,t),vIe(this,t,arguments)}return wIe(t,e),yIe(t,[{key:"render",value:function(){var n=this.props,s=n.offset,a=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=hIe(n,oIe),y=nr(h,!1);this.props.direction==="x"&&d.type!=="number"&&$u();var g=c.map(function(m){var v=u(m,l),x=v.x,b=v.y,w=v.value,_=v.errorVal;if(!_)return null;var S=[],k,E;if(Array.isArray(_)){var j=lIe(_,2);k=j[0],E=j[1]}else k=E=_;if(a==="vertical"){var N=d.scale,C=b+s,P=C+i,R=C-i,B=N(w-k),z=N(w+E);S.push({x1:z,y1:P,x2:z,y2:R}),S.push({x1:B,y1:C,x2:z,y2:C}),S.push({x1:B,y1:P,x2:B,y2:R})}else if(a==="horizontal"){var D=f.scale,O=x+s,U=O-i,A=O+i,I=D(w-k),te=D(w+E);S.push({x1:U,y1:te,x2:A,y2:te}),S.push({x1:O,y1:I,x2:O,y2:te}),S.push({x1:U,y1:I,x2:A,y2:I})}return M.createElement(An,kb({className:"recharts-errorBar",key:"bar-".concat(S.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},y),S.map(function($){return M.createElement("line",kb({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return M.createElement(An,{className:"recharts-errorBars"},g)}}])}(M.Component);qK(Y1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});qK(Y1,"displayName","ErrorBar");function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function M5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M5(Object(r),!0).forEach(function(n){SIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SIe(e,t,r){return t=jIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jIe(e){var t=kIe(e,"string");return Mg(t)=="symbol"?t:t+""}function kIe(e,t){if(Mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VK=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,i=Ys(r,af);if(!i)return null;var l=af.defaultProps,c=l!==void 0?Pc(Pc({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,y=f.props,g=y.sectors||y.data||[];return d.concat(g.map(function(m){return{type:i.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,y=h!==void 0?Pc(Pc({},h),f.props):{},g=y.dataKey,m=y.name,v=y.legendType,x=y.hide;return{inactive:x,dataKey:g,type:c.iconType||v||"square",color:tO(f),value:m||g,payload:y}}),Pc(Pc(Pc({},c),af.getWithHeight(i,s)),{},{payload:u,item:i})};function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function I5(e){return PIe(e)||CIe(e)||NIe(e)||EIe()}function EIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NIe(e,t){if(e){if(typeof e=="string")return gC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gC(e,t)}}function CIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PIe(e){if(Array.isArray(e))return gC(e)}function gC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L5(Object(r),!0).forEach(function(n){lf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lf(e,t,r){return t=AIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AIe(e){var t=TIe(e,"string");return Ig(t)=="symbol"?t:t+""}function TIe(e,t){if(Ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xi(e,t,r){return ir(e)||ir(t)?r:Sn(t)?Ca(e,t,r):Vt(t)?t(e):r}function Am(e,t,r,n){var s=C4e(e,function(l){return Xi(l,t)});if(r==="number"){var a=s.filter(function(l){return He(l)||parseFloat(l)});return a.length?[H1(a),V1(a)]:[1/0,-1/0]}var i=n?s.filter(function(l){return!ir(l)}):s;return i.map(function(l){return Sn(l)||l instanceof Date?l:""})}var OIe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,y=void 0;if(Za(f-d)!==Za(h-f)){var g=[];if(Za(h-f)===Za(c[1]-c[0])){y=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{y=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(y+f)/2),Math.max(f,(y+f)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){i=s[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){i=s[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){i=n[_].index;break}return i},tO=function(t){var r,n=t,s=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Qr(Qr({},t.type.defaultProps),t.props):t.props,i=a.stroke,l=a.fill,c;switch(s){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},$Ie=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var i={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,y=f.length;h<y;h++){var g=d[f[h]],m=g.items,v=g.cateAxisId,x=m.filter(function(E){return Co(E.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?Qr(Qr({},b),x[0].props):x[0].props,_=w.barSize,S=w[v];i[S]||(i[S]=[]);var k=ir(_)?r:_;i[S].push({item:x[0],stackList:x.slice(1),barSize:ir(k)?void 0:Tu(k,n,0)})}}return i},RIe=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,a=t.sizeList,i=a===void 0?[]:a,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=Tu(r,s,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,y=s/c,g=i.reduce(function(_,S){return _+S.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&y>0&&(h=!0,y*=.9,g=c*y);var m=(s-g)/2>>0,v={offset:m-u,size:0};d=i.reduce(function(_,S){var k={item:S.item,position:{offset:v.offset+v.size+u,size:h?y:S.barSize}},E=[].concat(I5(_),[k]);return v=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(j){E.push({item:j,position:v})}),E},f)}else{var x=Tu(n,s,0,!0);s-2*x-(c-1)*u<=0&&(u=0);var b=(s-2*x-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=i.reduce(function(_,S,k){var E=[].concat(I5(_),[{item:S.item,position:{offset:x+(b+u)*k+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(j){E.push({item:j,position:E[E.length-1].position})}),E},f)}return d},MIe=function(t,r,n,s){var a=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=VK({children:a,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,y=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&y!=="center"&&He(t[y]))return Qr(Qr({},t),{},lf({},y,t[y]+(f||0)));if((m==="horizontal"||m==="vertical"&&y==="center")&&g!=="middle"&&He(t[g]))return Qr(Qr({},t),{},lf({},g,t[g]+(h||0)))}return t},IIe=function(t,r,n){return ir(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},HK=function(t,r,n,s,a){var i=r.props.children,l=ni(i,Y1).filter(function(u){return IIe(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Xi(d,n);if(ir(f))return u;var h=Array.isArray(f)?[H1(f),V1(f)]:[f,f],y=c.reduce(function(g,m){var v=Xi(d,m,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},LIe=function(t,r,n,s,a){var i=r.map(function(l){return HK(t,l,n,a,s)}).filter(function(l){return!ir(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},KK=function(t,r,n,s,a){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&HK(t,c,u,s)||Am(t,u,n,a)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},GK=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},YK=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var a,i,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(i=!0),c.coordinate});return a||l.push(r),i||l.push(n),l},_o=function(t,r,n){if(!t)return null;var s=t.scale,a=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&i==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Za(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!zy(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:a?a[f]:f,index:h,offset:u}})},wj=new WeakMap,t0=function(t,r){if(typeof r!="function")return t;wj.has(t)||wj.set(t,new WeakMap);var n=wj.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},DIe=function(t,r,n){var s=t.scale,a=t.type,i=t.layout,l=t.axisType;if(s==="auto")return i==="radial"&&l==="radiusAxis"?{scale:Cg(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:bb(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Pm(),realScaleType:"point"}:a==="category"?{scale:Cg(),realScaleType:"band"}:{scale:bb(),realScaleType:"linear"};if(Uy(s)){var c="scale".concat(O1(s));return{scale:(A5[c]||Pm)(),realScaleType:A5[c]?c:"point"}}return Vt(s)?{scale:s}:{scale:Pm(),realScaleType:"point"}},D5=1e-4,FIe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),a=Math.min(s[0],s[1])-D5,i=Math.max(s[0],s[1])+D5,l=t(r[0]),c=t(r[n-1]);(l<a||l>i||c<a||c>i)&&t.domain([r[0],r[n-1]])}},BIe=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},UIe=function(t,r){if(!r||r.length!==2||!He(r[0])||!He(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!He(t[0])||t[0]<n)&&(a[0]=n),(!He(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},zIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,i=0,l=0;l<r;++l){var c=zy(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},qIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,i=0;i<r;++i){var l=zy(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=a,t[i][n][1]=a+l,a=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},WIe={sign:zIe,expand:ske,none:Wf,silhouette:ake,wiggle:ike,positive:qIe},VIe=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),a=WIe[n],i=nke().keys(s).value(function(l,c){return+Xi(l,c,0)}).order(UN).offset(a);return i(t)},HIe=function(t,r,n,s,a,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,h){var y,g=(y=h.type)!==null&&y!==void 0&&y.defaultProps?Qr(Qr({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var x=g[n],b=f[x]||{hasStack:!1,stackGroups:{}};if(Sn(m)){var w=b.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[T1("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return Qr(Qr({},f),{},lf({},x,b))},c),d={};return Object.keys(u).reduce(function(f,h){var y=u[h];if(y.hasStack){var g={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(m,v){var x=y.stackGroups[v];return Qr(Qr({},m),{},lf({},v,{numericAxisId:n,cateAxisId:s,items:x.items,stackedData:VIe(t,x.items,a)}))},g)}return Qr(Qr({},f),{},lf({},h,y))},d)},KIe=function(t,r){var n=r.realScaleType,s=r.type,a=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=sIe(u,a,l);return t.domain([H1(d),V1(d)]),{niceTicks:d}}if(a&&s==="number"){var f=t.domain(),h=aIe(f,a,l);return{niceTicks:h}}return null},F5=function(t){var r=t.axis,n=t.ticks,s=t.offset,a=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=Xi(i,r.dataKey,r.domain[l]);return ir(c)?null:r.scale(c)-a/2+s},GIe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},YIe=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Qr(Qr({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(Sn(a)){var i=r[a];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},JIe=function(t){return t.reduce(function(r,n){return[H1(n.concat([r[0]]).filter(He)),V1(n.concat([r[1]]).filter(He))]},[1/0,-1/0])},JK=function(t,r,n){return Object.keys(t).reduce(function(s,a){var i=t[a],l=i.stackedData,c=l.reduce(function(u,d){var f=JIe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},B5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,U5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yC=function(t,r,n){if(Vt(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(He(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(B5.test(t[0])){var a=+B5.exec(t[0])[1];s[0]=r[0]-a}else Vt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(He(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(U5.test(t[1])){var i=+U5.exec(t[1])[1];s[1]=r[1]+i}else Vt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Nb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var a=CT(r,function(f){return f.coordinate}),i=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},z5=function(t,r,n){return!t||!t.length||QT(t,Ca(n,"type.defaultProps.domain"))?r:t},XK=function(t,r){var n=t.type.defaultProps?Qr(Qr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,a=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Qr(Qr({},nr(t,!1)),{},{dataKey:s,unit:i,formatter:l,name:a||s,color:tO(t),value:Xi(r,s),type:c,payload:r,chartType:u,hide:d})};function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function q5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function W5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(r),!0).forEach(function(n){XIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XIe(e,t,r){return t=QIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QIe(e){var t=ZIe(e,"string");return Lg(t)=="symbol"?t:t+""}function ZIe(e,t){if(Lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cb=Math.PI/180,e3e=function(t){return t*180/Math.PI},Un=function(t,r,n,s){return{x:t+Math.cos(-Cb*s)*n,y:r+Math.sin(-Cb*s)*n}},t3e=function(t,r){var n=t.x,s=t.y,a=r.x,i=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(s-i,2))},r3e=function(t,r){var n=t.x,s=t.y,a=r.cx,i=r.cy,l=t3e({x:n,y:s},{x:a,y:i});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return s>i&&(u=2*Math.PI-u),{radius:l,angle:e3e(u),angleInRadian:u}},n3e=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),a=Math.floor(n/360),i=Math.min(s,a);return{startAngle:r-i*360,endAngle:n-i*360}},s3e=function(t,r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),i=Math.floor(s/360),l=Math.min(a,i);return t+l*360},V5=function(t,r){var n=t.x,s=t.y,a=r3e({x:n,y:s},r),i=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=n3e(r),f=d.startAngle,h=d.endAngle,y=l,g;if(f<=h){for(;y>h;)y-=360;for(;y<f;)y+=360;g=y>=f&&y<=h}else{for(;y>f;)y-=360;for(;y<h;)y+=360;g=y>=h&&y<=f}return g?W5(W5({},r),{},{radius:i,angle:s3e(y,r)}):null};function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}var a3e=["offset"];function i3e(e){return u3e(e)||c3e(e)||l3e(e)||o3e()}function o3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l3e(e,t){if(e){if(typeof e=="string")return vC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vC(e,t)}}function c3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u3e(e){if(Array.isArray(e))return vC(e)}function vC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d3e(e,t){if(e==null)return{};var r=f3e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function H5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H5(Object(r),!0).forEach(function(n){h3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h3e(e,t,r){return t=p3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p3e(e){var t=m3e(e,"string");return Dg(t)=="symbol"?t:t+""}function m3e(e,t){if(Dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(this,arguments)}var g3e=function(t){var r=t.value,n=t.formatter,s=ir(t.children)?r:t.children;return Vt(n)?n(s):s},y3e=function(t,r){var n=Za(r-t),s=Math.min(Math.abs(r-t),360);return n*s},v3e=function(t,r,n){var s=t.position,a=t.viewBox,i=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,y=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+h)/2,x=y3e(y,g),b=x>=0?1:-1,w,_;s==="insideStart"?(w=y+b*i,_=m):s==="insideEnd"?(w=g-b*i,_=!m):s==="end"&&(w=g+b*i,_=m),_=x<=0?_:!_;var S=Un(u,d,v,w),k=Un(u,d,v,w+(_?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(k.x,",").concat(k.y),j=ir(t.id)?T1("recharts-radial-line-"):t.id;return M.createElement("text",Fg({},n,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",l)}),M.createElement("defs",null,M.createElement("path",{id:j,d:E})),M.createElement("textPath",{xlinkHref:"#".concat(j)},r))},x3e=function(t){var r=t.viewBox,n=t.offset,s=t.position,a=r,i=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(s==="outside"){var y=Un(i,l,u+n,h),g=y.x,m=y.y;return{x:g,y:m,textAnchor:g>=i?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=Un(i,l,v,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},b3e=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,a=t.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,h=f*s,y=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*s,x=m>0?"end":"start",b=m>0?"start":"end";if(a==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:y};return pn(pn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return pn(pn({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var S={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return pn(pn({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(a==="right"){var k={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return pn(pn({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return a==="insideLeft"?pn({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideRight"?pn({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},E):a==="insideTop"?pn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},E):a==="insideBottom"?pn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:y},E):a==="insideTopLeft"?pn({x:l+v,y:c+h,textAnchor:b,verticalAnchor:g},E):a==="insideTopRight"?pn({x:l+u-v,y:c+h,textAnchor:x,verticalAnchor:g},E):a==="insideBottomLeft"?pn({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:y},E):a==="insideBottomRight"?pn({x:l+u-v,y:c+d-h,textAnchor:x,verticalAnchor:y},E):Bh(a)&&(He(a.x)||Gc(a.x))&&(He(a.y)||Gc(a.y))?pn({x:l+Tu(a.x,u),y:c+Tu(a.y,d),textAnchor:"end",verticalAnchor:"end"},E):pn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},w3e=function(t){return"cx"in t&&He(t.cx)};function Xn(e){var t=e.offset,r=t===void 0?5:t,n=d3e(e,a3e),s=pn({offset:r},n),a=s.viewBox,i=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!a||ir(l)&&ir(c)&&!p.isValidElement(u)&&!Vt(u))return null;if(p.isValidElement(u))return p.cloneElement(u,s);var y;if(Vt(u)){if(y=p.createElement(u,s),p.isValidElement(y))return y}else y=g3e(s);var g=w3e(a),m=nr(s,!0);if(g&&(i==="insideStart"||i==="insideEnd"||i==="end"))return v3e(s,y,m);var v=g?x3e(s):b3e(s);return M.createElement(hb,Fg({className:Qt("recharts-label",f)},m,v,{breakAll:h}),y)}Xn.displayName="Label";var QK=function(t){var r=t.cx,n=t.cy,s=t.angle,a=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,y=t.top,g=t.left,m=t.width,v=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(He(m)&&He(v)){if(He(f)&&He(h))return{x:f,y:h,width:m,height:v};if(He(y)&&He(g))return{x:y,y:g,width:m,height:v}}return He(f)&&He(h)?{x:f,y:h,width:0,height:0}:He(r)&&He(n)?{cx:r,cy:n,startAngle:a||s||0,endAngle:i||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},_3e=function(t,r){return t?t===!0?M.createElement(Xn,{key:"label-implicit",viewBox:r}):Sn(t)?M.createElement(Xn,{key:"label-implicit",viewBox:r,value:t}):p.isValidElement(t)?t.type===Xn?p.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(Xn,{key:"label-implicit",content:t,viewBox:r}):Vt(t)?M.createElement(Xn,{key:"label-implicit",content:t,viewBox:r}):Bh(t)?M.createElement(Xn,Fg({viewBox:r},t,{key:"label-implicit"})):null:null},S3e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,a=QK(t),i=ni(s,Xn).map(function(c,u){return p.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return i;var l=_3e(t.label,r||a);return[l].concat(i3e(i))};Xn.parseViewBox=QK;Xn.renderCallByParent=S3e;function j3e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var k3e=j3e;const E3e=vr(k3e);function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}var N3e=["valueAccessor"],C3e=["data","dataKey","clockWise","id","textBreakAll"];function P3e(e){return $3e(e)||O3e(e)||T3e(e)||A3e()}function A3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T3e(e,t){if(e){if(typeof e=="string")return xC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xC(e,t)}}function O3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $3e(e){if(Array.isArray(e))return xC(e)}function xC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pb.apply(this,arguments)}function K5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function G5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K5(Object(r),!0).forEach(function(n){R3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R3e(e,t,r){return t=M3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M3e(e){var t=I3e(e,"string");return Bg(t)=="symbol"?t:t+""}function I3e(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y5(e,t){if(e==null)return{};var r=L3e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var D3e=function(t){return Array.isArray(t.value)?E3e(t.value):t.value};function si(e){var t=e.valueAccessor,r=t===void 0?D3e:t,n=Y5(e,N3e),s=n.data,a=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=Y5(n,C3e);return!s||!s.length?null:M.createElement(An,{className:"recharts-label-list"},s.map(function(d,f){var h=ir(a)?r(d,f):Xi(d&&d.payload,a),y=ir(l)?{}:{id:"".concat(l,"-").concat(f)};return M.createElement(Xn,Pb({},nr(d,!0),u,y,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Xn.parseViewBox(ir(i)?d:G5(G5({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}si.displayName="LabelList";function F3e(e,t){return e?e===!0?M.createElement(si,{key:"labelList-implicit",data:t}):M.isValidElement(e)||Vt(e)?M.createElement(si,{key:"labelList-implicit",data:t,content:e}):Bh(e)?M.createElement(si,Pb({data:t},e,{key:"labelList-implicit"})):null:null}function B3e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=ni(n,si).map(function(i,l){return p.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var a=F3e(e.label,t);return[a].concat(P3e(s))}si.renderCallByParent=B3e;function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bC.apply(this,arguments)}function J5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J5(Object(r),!0).forEach(function(n){U3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U3e(e,t,r){return t=z3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z3e(e){var t=q3e(e,"string");return Ug(t)=="symbol"?t:t+""}function q3e(e,t){if(Ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W3e=function(t,r){var n=Za(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},r0=function(t){var r=t.cx,n=t.cy,s=t.radius,a=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Cb,h=u?a:a+i*f,y=Un(r,n,d,h),g=Un(r,n,s,h),m=u?a-i*f:a,v=Un(r,n,d*Math.cos(f*Cb),m);return{center:y,circleTangency:g,lineTangency:v,theta:f}},ZK=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,i=t.startAngle,l=t.endAngle,c=W3e(i,l),u=i+c,d=Un(r,n,a,i),f=Un(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var y=Un(r,n,s,i),g=Un(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},V3e=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Za(d-u),h=r0({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),y=h.circleTangency,g=h.lineTangency,m=h.theta,v=r0({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),x=v.circleTangency,b=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):ZK({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var k=r0({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),E=k.circleTangency,j=k.lineTangency,N=k.theta,C=r0({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),P=C.circleTangency,R=C.lineTangency,B=C.theta,z=c?Math.abs(u-d):Math.abs(u-d)-N-B;if(z<0&&i===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},H3e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eG=function(t){var r=X5(X5({},H3e),t),n=r.cx,s=r.cy,a=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<a||d===f)return null;var y=Qt("recharts-sector",h),g=i-a,m=Tu(l,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=V3e({cx:n,cy:s,innerRadius:a,outerRadius:i,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=ZK({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:f}),M.createElement("path",bC({},nr(r,!0),{className:y,d:v,role:"img"}))};function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function wC(){return wC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wC.apply(this,arguments)}function Q5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Z5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q5(Object(r),!0).forEach(function(n){K3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K3e(e,t,r){return t=G3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G3e(e){var t=Y3e(e,"string");return zg(t)=="symbol"?t:t+""}function Y3e(e,t){if(zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eD={curveBasisClosed:Hje,curveBasisOpen:Kje,curveBasis:Vje,curveBumpX:Tje,curveBumpY:Oje,curveLinearClosed:Gje,curveLinear:R1,curveMonotoneX:Yje,curveMonotoneY:Jje,curveNatural:Xje,curveStep:Qje,curveStepAfter:eke,curveStepBefore:Zje},n0=function(t){return t.x===+t.x&&t.y===+t.y},$p=function(t){return t.x},Rp=function(t){return t.y},J3e=function(t,r){if(Vt(t))return t;var n="curve".concat(O1(t));return(n==="curveMonotone"||n==="curveBump")&&r?eD["".concat(n).concat(r==="vertical"?"Y":"X")]:eD[n]||R1},X3e=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,a=s===void 0?[]:s,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=J3e(n,l),f=u?a.filter(function(m){return n0(m)}):a,h;if(Array.isArray(i)){var y=u?i.filter(function(m){return n0(m)}):i,g=f.map(function(m,v){return Z5(Z5({},m),{},{base:y[v]})});return l==="vertical"?h=Kv().y(Rp).x1($p).x0(function(m){return m.base.x}):h=Kv().x($p).y1(Rp).y0(function(m){return m.base.y}),h.defined(n0).curve(d),h(g)}return l==="vertical"&&He(i)?h=Kv().y(Rp).x1($p).x0(i):He(i)?h=Kv().x($p).y1(Rp).y0(i):h=tH().x($p).y(Rp),h.defined(n0).curve(d),h(f)},tD=function(t){var r=t.className,n=t.points,s=t.path,a=t.pathRef;if((!n||!n.length)&&!s)return null;var i=n&&n.length?X3e(t):s;return M.createElement("path",wC({},nr(t,!1),Qx(t),{className:Qt("recharts-curve",r),d:i,ref:a}))},tG={exports:{}},Q3e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Z3e=Q3e,eLe=Z3e;function rG(){}function nG(){}nG.resetWarningCache=rG;var tLe=function(){function e(n,s,a,i,l,c){if(c!==eLe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nG,resetWarningCache:rG};return r.PropTypes=r,r};tG.exports=tLe();var rLe=tG.exports;const sr=vr(rLe);var nLe=Object.getOwnPropertyNames,sLe=Object.getOwnPropertySymbols,aLe=Object.prototype.hasOwnProperty;function rD(e,t){return function(n,s,a){return e(n,s,a)&&t(n,s,a)}}function s0(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var a=s.cache,i=a.get(r),l=a.get(n);if(i&&l)return i===n&&l===r;a.set(r,n),a.set(n,r);var c=e(r,n,s);return a.delete(r),a.delete(n),c}}function nD(e){return nLe(e).concat(sLe(e))}var iLe=Object.hasOwn||function(e,t){return aLe.call(e,t)};function Ku(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var oLe="__v",lLe="__o",cLe="_owner",sD=Object.getOwnPropertyDescriptor,aD=Object.keys;function uLe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function dLe(e,t){return Ku(e.getTime(),t.getTime())}function fLe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function hLe(e,t){return e===t}function iD(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),a=e.entries(),i,l,c=0;(i=a.next())&&!i.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(s[f]){f++;continue}var h=i.value,y=l.value;if(r.equals(h[0],y[0],c,f,e,t,r)&&r.equals(h[1],y[1],h[0],y[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}var pLe=Ku;function mLe(e,t,r){var n=aD(e),s=n.length;if(aD(t).length!==s)return!1;for(;s-- >0;)if(!sG(e,t,r,n[s]))return!1;return!0}function Mp(e,t,r){var n=nD(e),s=n.length;if(nD(t).length!==s)return!1;for(var a,i,l;s-- >0;)if(a=n[s],!sG(e,t,r,a)||(i=sD(e,a),l=sD(t,a),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function gLe(e,t){return Ku(e.valueOf(),t.valueOf())}function yLe(e,t){return e.source===t.source&&e.flags===t.flags}function oD(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),a=e.values(),i,l;(i=a.next())&&!i.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function vLe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function xLe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function sG(e,t,r,n){return(n===cLe||n===lLe||n===oLe)&&(e.$$typeof||t.$$typeof)?!0:iLe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var bLe="[object Arguments]",wLe="[object Boolean]",_Le="[object Date]",SLe="[object Error]",jLe="[object Map]",kLe="[object Number]",ELe="[object Object]",NLe="[object RegExp]",CLe="[object Set]",PLe="[object String]",ALe="[object URL]",TLe=Array.isArray,lD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,cD=Object.assign,OLe=Object.prototype.toString.call.bind(Object.prototype.toString);function $Le(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,a=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var x=typeof g;if(x!==typeof m)return!1;if(x!=="object")return x==="number"?i(g,m,v):x==="function"?s(g,m,v):!1;var b=g.constructor;if(b!==m.constructor)return!1;if(b===Object)return l(g,m,v);if(TLe(g))return t(g,m,v);if(lD!=null&&lD(g))return f(g,m,v);if(b===Date)return r(g,m,v);if(b===RegExp)return u(g,m,v);if(b===Map)return a(g,m,v);if(b===Set)return d(g,m,v);var w=OLe(g);return w===_Le?r(g,m,v):w===NLe?u(g,m,v):w===jLe?a(g,m,v):w===CLe?d(g,m,v):w===ELe?typeof g.then!="function"&&typeof m.then!="function"&&l(g,m,v):w===ALe?h(g,m,v):w===SLe?n(g,m,v):w===bLe?l(g,m,v):w===wLe||w===kLe||w===PLe?c(g,m,v):!1}}function RLe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?Mp:uLe,areDatesEqual:dLe,areErrorsEqual:fLe,areFunctionsEqual:hLe,areMapsEqual:n?rD(iD,Mp):iD,areNumbersEqual:pLe,areObjectsEqual:n?Mp:mLe,arePrimitiveWrappersEqual:gLe,areRegExpsEqual:yLe,areSetsEqual:n?rD(oD,Mp):oD,areTypedArraysEqual:n?Mp:vLe,areUrlsEqual:xLe};if(r&&(s=cD({},s,r(s))),t){var a=s0(s.areArraysEqual),i=s0(s.areMapsEqual),l=s0(s.areObjectsEqual),c=s0(s.areSetsEqual);s=cD({},s,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return s}function MLe(e){return function(t,r,n,s,a,i,l){return e(t,r,l)}}function ILe(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,a=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,y=d.meta;return r(c,u,{cache:h,equals:s,meta:y,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var i={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return r(c,u,i)}}var LLe=bc();bc({strict:!0});bc({circular:!0});bc({circular:!0,strict:!0});bc({createInternalComparator:function(){return Ku}});bc({strict:!0,createInternalComparator:function(){return Ku}});bc({circular:!0,createInternalComparator:function(){return Ku}});bc({circular:!0,createInternalComparator:function(){return Ku},strict:!0});function bc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,a=e.strict,i=a===void 0?!1:a,l=RLe(e),c=$Le(l),u=n?n(c):MLe(c);return ILe({circular:r,comparator:c,createState:s,equals:u,strict:i})}function DLe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function uD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(a){r<0&&(r=a),a-r>t?(e(a),r=-1):DLe(s)};requestAnimationFrame(n)}function _C(e){"@babel/helpers - typeof";return _C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_C(e)}function FLe(e){return qLe(e)||zLe(e)||ULe(e)||BLe()}function BLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ULe(e,t){if(e){if(typeof e=="string")return dD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dD(e,t)}}function dD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qLe(e){if(Array.isArray(e))return e}function WLe(){var e={},t=function(){return null},r=!1,n=function s(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var i=a,l=FLe(i),c=l[0],u=l.slice(1);if(typeof c=="number"){uD(s.bind(null,u),c);return}s(c),uD(s.bind(null,u));return}_C(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(n){aG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aG(e,t,r){return t=VLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VLe(e){var t=HLe(e,"string");return qg(t)==="symbol"?t:String(t)}function HLe(e,t){if(qg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KLe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(a){return s.includes(a)})})},GLe=function(t){return t},YLe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Tm=function(t,r){return Object.keys(r).reduce(function(n,s){return hD(hD({},n),{},aG({},s,t(s,r[s])))},{})},pD=function(t,r,n){return t.map(function(s){return"".concat(YLe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function JLe(e,t){return ZLe(e)||QLe(e,t)||iG(e,t)||XLe()}function XLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function ZLe(e){if(Array.isArray(e))return e}function e5e(e){return n5e(e)||r5e(e)||iG(e)||t5e()}function t5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iG(e,t){if(e){if(typeof e=="string")return SC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SC(e,t)}}function r5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function n5e(e){if(Array.isArray(e))return SC(e)}function SC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ab=1e-4,oG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},lG=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},mD=function(t,r){return function(n){var s=oG(t,r);return lG(s,n)}},s5e=function(t,r){return function(n){var s=oG(t,r),a=[].concat(e5e(s.map(function(i,l){return i*l}).slice(1)),[0]);return lG(a,n)}},gD=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],a=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,a=0,i=1,l=1;break;case"ease":s=.25,a=.1,i=.25,l=1;break;case"ease-in":s=.42,a=0,i=1,l=1;break;case"ease-out":s=.42,a=0,i=.58,l=1;break;case"ease-in-out":s=0,a=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=JLe(u,4);s=d[0],a=d[1],i=d[2],l=d[3]}}}var f=mD(s,i),h=mD(a,l),y=s5e(s,i),g=function(x){return x>1?1:x<0?0:x},m=function(x){for(var b=x>1?1:x,w=b,_=0;_<8;++_){var S=f(w)-b,k=y(w);if(Math.abs(S-b)<Ab||k<Ab)return h(w);w=g(w-S/k)}return h(w)};return m.isStepper=!1,m},a5e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,a=s===void 0?8:s,i=t.dt,l=i===void 0?17:i,c=function(d,f,h){var y=-(d-f)*n,g=h*a,m=h+(y-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Ab&&Math.abs(m)<Ab?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},i5e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gD(s);case"spring":return a5e();default:if(s.split("(")[0]==="cubic-bezier")return gD(s)}return typeof s=="function"?s:null};function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function yD(e){return c5e(e)||l5e(e)||cG(e)||o5e()}function o5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c5e(e){if(Array.isArray(e))return kC(e)}function vD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(r),!0).forEach(function(n){jC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jC(e,t,r){return t=u5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u5e(e){var t=d5e(e,"string");return Wg(t)==="symbol"?t:String(t)}function d5e(e,t){if(Wg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f5e(e,t){return m5e(e)||p5e(e,t)||cG(e,t)||h5e()}function h5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cG(e,t){if(e){if(typeof e=="string")return kC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kC(e,t)}}function kC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function m5e(e){if(Array.isArray(e))return e}var Tb=function(t,r,n){return t+(r-t)*n},EC=function(t){var r=t.from,n=t.to;return r!==n},g5e=function e(t,r,n){var s=Tm(function(a,i){if(EC(i)){var l=t(i.from,i.to,i.velocity),c=f5e(l,2),u=c[0],d=c[1];return Rn(Rn({},i),{},{from:u,velocity:d})}return i},r);return n<1?Tm(function(a,i){return EC(i)?Rn(Rn({},i),{},{velocity:Tb(i.velocity,s[a].velocity,n),from:Tb(i.from,s[a].from,n)}):i},r):e(t,s,n-1)};const y5e=function(e,t,r,n,s){var a=KLe(e,t),i=a.reduce(function(v,x){return Rn(Rn({},v),{},jC({},x,[e[x],t[x]]))},{}),l=a.reduce(function(v,x){return Rn(Rn({},v),{},jC({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Tm(function(x,b){return b.from},l)},y=function(){return!Object.values(l).filter(EC).length},g=function(x){u||(u=x);var b=x-u,w=b/r.dt;l=g5e(r,l,w),s(Rn(Rn(Rn({},e),t),h())),u=x,y()||(c=requestAnimationFrame(f))},m=function(x){d||(d=x);var b=(x-d)/n,w=Tm(function(S,k){return Tb.apply(void 0,yD(k).concat([r(b)]))},i);if(s(Rn(Rn(Rn({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var _=Tm(function(S,k){return Tb.apply(void 0,yD(k).concat([r(1)]))},i);s(Rn(Rn(Rn({},e),t),_))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}var v5e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function x5e(e,t){if(e==null)return{};var r=b5e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b5e(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function _j(e){return j5e(e)||S5e(e)||_5e(e)||w5e()}function w5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _5e(e,t){if(e){if(typeof e=="string")return NC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NC(e,t)}}function S5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j5e(e){if(Array.isArray(e))return NC(e)}function NC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(r),!0).forEach(function(n){tm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tm(e,t,r){return t=uG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E5e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uG(n.key),n)}}function N5e(e,t,r){return t&&E5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uG(e){var t=C5e(e,"string");return Zf(t)==="symbol"?t:String(t)}function C5e(e,t){if(Zf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CC(e,t)}function CC(e,t){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},CC(e,t)}function A5e(e){var t=T5e();return function(){var n=Ob(e),s;if(t){var a=Ob(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return PC(this,s)}}function PC(e,t){if(t&&(Zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AC(e)}function AC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}var cc=function(e){P5e(r,e);var t=A5e(r);function r(n,s){var a;k5e(this,r),a=t.call(this,n,s);var i=a.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,h=i.children,y=i.duration;if(a.handleStyleChange=a.handleStyleChange.bind(AC(a)),a.changeStyle=a.changeStyle.bind(AC(a)),!l||y<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),PC(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},PC(a);a.state={style:c?tm({},c,u):u}}else a.state={style:{}};return a}return N5e(r,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,i=s.canBegin;this.mounted=!0,!(!a||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,i=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!i){var y={style:c?tm({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(y);return}if(!(LLe(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:s.to;if(this.state&&h){var v={style:c?tm({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation(Fa(Fa({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,i=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,y=y5e(i,l,i5e(u),c,this.changeStyle),g=function(){a.stopJSAnimation=y()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,i=s.steps,l=s.begin,c=s.onAnimationStart,u=i[0],d=u.style,f=u.duration,h=f===void 0?0:f,y=function(m,v,x){if(x===0)return m;var b=v.duration,w=v.easing,_=w===void 0?"ease":w,S=v.style,k=v.properties,E=v.onAnimationEnd,j=x>0?i[x-1]:v,N=k||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(_j(m),[a.runJSAnimation.bind(a,{from:j.style,to:S,duration:b,easing:_}),b]);var C=pD(N,b,_),P=Fa(Fa(Fa({},j.style),S),{},{transition:C});return[].concat(_j(m),[P,b,E]).filter(GLe)};return this.manager.start([c].concat(_j(i.reduce(y,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=WLe());var a=s.begin,i=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,y=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=l?tm({},l,c):c,v=pD(Object.keys(m),i,u);g.start([d,a,Fa(Fa({},m),{},{transition:v}),i,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var i=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=x5e(s,v5e),u=p.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||i<=0)return a;var f=function(y){var g=y.props,m=g.style,v=m===void 0?{}:m,x=g.className,b=p.cloneElement(y,Fa(Fa({},c),{},{style:Fa(Fa({},v),d),className:x}));return b};return u===1?f(p.Children.only(a)):M.createElement("div",null,p.Children.map(a,function(h){return f(h)}))}}]),r}(p.PureComponent);cc.displayName="Animate";cc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};cc.propTypes={from:sr.oneOfType([sr.object,sr.string]),to:sr.oneOfType([sr.object,sr.string]),attributeName:sr.string,duration:sr.number,begin:sr.number,easing:sr.oneOfType([sr.string,sr.func]),steps:sr.arrayOf(sr.shape({duration:sr.number.isRequired,style:sr.object.isRequired,easing:sr.oneOfType([sr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sr.func]),properties:sr.arrayOf("string"),onAnimationEnd:sr.func})),children:sr.oneOfType([sr.node,sr.func]),isActive:sr.bool,canBegin:sr.bool,onAnimationEnd:sr.func,shouldReAnimate:sr.bool,onAnimationStart:sr.func,onAnimationReStart:sr.func};function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$b.apply(this,arguments)}function O5e(e,t){return I5e(e)||M5e(e,t)||R5e(e,t)||$5e()}function $5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R5e(e,t){if(e){if(typeof e=="string")return bD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bD(e,t)}}function bD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function I5e(e){if(Array.isArray(e))return e}function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(n){L5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L5e(e,t,r){return t=D5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D5e(e){var t=F5e(e,"string");return Vg(t)=="symbol"?t:t+""}function F5e(e,t){if(Vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SD=function(t,r,n,s,a){var i=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(i>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,y=4;h<y;h++)f[h]=a[h]>i?i:a[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var g=Math.min(i,a);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},B5e=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,a=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},U5e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rO=function(t){var r=_D(_D({},U5e),t),n=p.useRef(),s=p.useState(-1),a=O5e(s,2),i=a[0],l=a[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,y=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Qt("recharts-rectangle",y);return b?M.createElement(cc,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(_){var S=_.width,k=_.height,E=_.x,j=_.y;return M.createElement(cc,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:x,easing:g},M.createElement("path",$b({},nr(r,!0),{className:w,d:SD(E,j,S,k,h),ref:n})))}):M.createElement("path",$b({},nr(r,!0),{className:w,d:SD(c,u,d,f,h)}))};function TC(){return TC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TC.apply(this,arguments)}var dG=function(t){var r=t.cx,n=t.cy,s=t.r,a=t.className,i=Qt("recharts-dot",a);return r===+r&&n===+n&&s===+s?M.createElement("circle",TC({},nr(t,!1),Qx(t),{className:i,cx:r,cy:n,r:s})):null};function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}var z5e=["x","y","top","left","width","height","className"];function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OC.apply(this,arguments)}function jD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function q5e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(r),!0).forEach(function(n){W5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W5e(e,t,r){return t=V5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V5e(e){var t=H5e(e,"string");return Hg(t)=="symbol"?t:t+""}function H5e(e,t){if(Hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K5e(e,t){if(e==null)return{};var r=G5e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Y5e=function(t,r,n,s,a,i){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(i,",").concat(r,"h").concat(n)},J5e=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,y=h===void 0?0:h,g=t.className,m=K5e(t,z5e),v=q5e({x:n,y:a,top:l,left:u,width:f,height:y},m);return!He(n)||!He(a)||!He(f)||!He(y)||!He(l)||!He(u)?null:M.createElement("path",OC({},nr(v,!0),{className:Qt("recharts-cross",g),d:Y5e(n,a,f,y,l,u)}))},X5e=kH,Q5e=X5e(Object.getPrototypeOf,Object),Z5e=Q5e,eDe=Go,tDe=Z5e,rDe=Yo,nDe="[object Object]",sDe=Function.prototype,aDe=Object.prototype,fG=sDe.toString,iDe=aDe.hasOwnProperty,oDe=fG.call(Object);function lDe(e){if(!rDe(e)||eDe(e)!=nDe)return!1;var t=tDe(e);if(t===null)return!0;var r=iDe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&fG.call(r)==oDe}var cDe=lDe;const uDe=vr(cDe);var dDe=Go,fDe=Yo,hDe="[object Boolean]";function pDe(e){return e===!0||e===!1||fDe(e)&&dDe(e)==hDe}var mDe=pDe;const gDe=vr(mDe);function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(this,arguments)}function yDe(e,t){return wDe(e)||bDe(e,t)||xDe(e,t)||vDe()}function vDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xDe(e,t){if(e){if(typeof e=="string")return kD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kD(e,t)}}function kD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function wDe(e){if(Array.isArray(e))return e}function ED(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ND(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(r),!0).forEach(function(n){_De(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _De(e,t,r){return t=SDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SDe(e){var t=jDe(e,"string");return Kg(t)=="symbol"?t:t+""}function jDe(e,t){if(Kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CD=function(t,r,n,s,a){var i=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+a),l+="L ".concat(t+n-i/2-s,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},kDe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EDe=function(t){var r=ND(ND({},kDe),t),n=p.useRef(),s=p.useState(-1),a=yDe(s,2),i=a[0],l=a[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,y=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Qt("recharts-trapezoid",y);return x?M.createElement(cc,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:x},function(w){var _=w.upperWidth,S=w.lowerWidth,k=w.height,E=w.x,j=w.y;return M.createElement(cc,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},M.createElement("path",Rb({},nr(r,!0),{className:b,d:CD(E,j,_,S,k),ref:n})))}):M.createElement("g",null,M.createElement("path",Rb({},nr(r,!0),{className:b,d:CD(c,u,d,f,h)})))},NDe=["option","shapeType","propTransformer","activeClassName","isActive"];function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function CDe(e,t){if(e==null)return{};var r=PDe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(r),!0).forEach(function(n){ADe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ADe(e,t,r){return t=TDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TDe(e){var t=ODe(e,"string");return Gg(t)=="symbol"?t:t+""}function ODe(e,t){if(Gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $De(e,t){return Mb(Mb({},t),e)}function RDe(e,t){return e==="symbols"}function AD(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(rO,r);case"trapezoid":return M.createElement(EDe,r);case"sector":return M.createElement(eG,r);case"symbols":if(RDe(t))return M.createElement(bT,r);break;default:return null}}function MDe(e){return p.isValidElement(e)?e.props:e}function IDe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?$De:n,a=e.activeClassName,i=a===void 0?"recharts-active-shape":a,l=e.isActive,c=CDe(e,NDe),u;if(p.isValidElement(t))u=p.cloneElement(t,Mb(Mb({},c),MDe(t)));else if(Vt(t))u=t(c);else if(uDe(t)&&!gDe(t)){var d=s(t,c);u=M.createElement(AD,{shapeType:r,elementProps:d})}else{var f=c;u=M.createElement(AD,{shapeType:r,elementProps:f})}return l?M.createElement(An,{className:i},u):u}function J1(e,t){return t!=null&&"trapezoids"in e.props}function X1(e,t){return t!=null&&"sectors"in e.props}function Yg(e,t){return t!=null&&"points"in e.props}function LDe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&a}function DDe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function FDe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function BDe(e,t){var r;return J1(e,t)?r=LDe:X1(e,t)?r=DDe:Yg(e,t)&&(r=FDe),r}function UDe(e,t){var r;return J1(e,t)?r="trapezoids":X1(e,t)?r="sectors":Yg(e,t)&&(r="points"),r}function zDe(e,t){if(J1(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(X1(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Yg(e,t)?t.payload:{}}function qDe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=UDe(r,t),a=zDe(r,t),i=n.filter(function(c,u){var d=QT(a,c),f=r.props[s].filter(function(g){var m=BDe(r,t);return m(g,t)}),h=r.props[s].indexOf(f[f.length-1]),y=u===h;return d&&y}),l=n.indexOf(i[i.length-1]);return l}var WDe=Math.ceil,VDe=Math.max;function HDe(e,t,r,n){for(var s=-1,a=VDe(WDe((t-e)/(r||1)),0),i=Array(a);a--;)i[n?a:++s]=e,e+=r;return i}var KDe=HDe,GDe=WH,TD=1/0,YDe=17976931348623157e292;function JDe(e){if(!e)return e===0?e:0;if(e=GDe(e),e===TD||e===-TD){var t=e<0?-1:1;return t*YDe}return e===e?e:0}var hG=JDe,XDe=KDe,QDe=D1,Sj=hG;function ZDe(e){return function(t,r,n){return n&&typeof n!="number"&&QDe(t,r,n)&&(r=n=void 0),t=Sj(t),r===void 0?(r=t,t=0):r=Sj(r),n=n===void 0?t<r?1:-1:Sj(n),XDe(t,r,n,e)}}var eFe=ZDe,tFe=eFe,rFe=tFe(),nFe=rFe;const Ib=vr(nFe);function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function OD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(r),!0).forEach(function(n){pG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pG(e,t,r){return t=sFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sFe(e){var t=aFe(e,"string");return Jg(t)=="symbol"?t:t+""}function aFe(e,t){if(Jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iFe=["Webkit","Moz","O","ms"],oFe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=iFe.reduce(function(a,i){return $D($D({},a),{},pG({},i+n,r))},{});return s[t]=r,s};function eh(e){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(e)}function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lb.apply(this,arguments)}function RD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RD(Object(r),!0).forEach(function(n){Vs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gG(n.key),n)}}function cFe(e,t,r){return t&&MD(e.prototype,t),r&&MD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uFe(e,t,r){return t=Db(t),dFe(e,mG()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function dFe(e,t){if(t&&(eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fFe(e)}function fFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mG=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function hFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$C(e,t)}function $C(e,t){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$C(e,t)}function Vs(e,t,r){return t=gG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gG(e){var t=pFe(e,"string");return eh(t)=="symbol"?t:t+""}function pFe(e,t){if(eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mFe=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,a=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Pm().domain(Ib(0,c)).range([a,a+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},ID=function(t){return t.changedTouches&&!!t.changedTouches.length},th=function(e){function t(r){var n;return lFe(this,t),n=uFe(this,t,[r]),Vs(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Vs(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Vs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,a=s.endIndex,i=s.onDragEnd,l=s.startIndex;i==null||i({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Vs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Vs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Vs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Vs(n,"handleSlideDragStart",function(s){var a=ID(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return hFe(t,e),cFe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,a=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,a),h=Math.max(s,a),y=t.getIndexInRange(i,f),g=t.getIndexInRange(i,h);return{startIndex:y-y%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,a=s.data,i=s.tickFormatter,l=s.dataKey,c=Xi(a[n],l,n);return Vt(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,a=s.slideMoveStartX,i=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,y=c.endIndex,g=c.onChange,m=n.pageX-a;m>0?m=Math.min(m,u+d-f-l,u+d-f-i):m<0&&(m=Math.max(m,u-i,u-l));var v=this.getIndex({startX:i+m,endX:l+m});(v.startIndex!==h||v.endIndex!==y)&&g&&g(v),this.setState({startX:i+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var a=ID(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,a=s.brushMoveStartX,i=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[i],d=this.props,f=d.x,h=d.width,y=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,f+h-y-u):b<0&&(b=Math.max(b,f-u)),x[i]=u+b;var w=this.getIndex(x),_=w.startIndex,S=w.endIndex,k=function(){var j=v.length-1;return i==="startX"&&(l>c?_%m===0:S%m===0)||l<c&&S===j||i==="endX"&&(l>c?S%m===0:_%m===0)||l>c&&S===j};this.setState(Vs(Vs({},i,u+b),"brushMoveStartX",n.pageX),function(){g&&k()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var a=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var y=l[h];s==="startX"&&y>=u||s==="endX"&&y<=c||this.setState(Vs({},s,y),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,a=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return M.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,a=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=p.Children.only(u);return f?M.cloneElement(f,{x:s,y:a,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var a,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,y=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),b=jj(jj({},nr(this.props,!1)),{},{x,y:u,width:d,height:f}),w=y||"Min value: ".concat((a=g[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((i=g[v])===null||i===void 0?void 0:i.name);return M.createElement(An,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,s){var a=this.props,i=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,a=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,y=5,g={pointerEvents:"none",fill:u};return M.createElement(An,{className:"recharts-brush-texts"},M.createElement(hb,Lb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-y,y:i+l/2},g),this.getTextOfTick(s)),M.createElement(hb,Lb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+y,y:i+l/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,s=n.data,a=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,y=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!s||!s.length||!He(l)||!He(c)||!He(u)||!He(d)||u<=0||d<=0)return null;var w=Qt("recharts-brush",a),_=M.Children.count(i)===1,S=oFe("userSelect","none");return M.createElement(An,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(y,g),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,a=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:s,y:a,width:i,height:l,fill:c,stroke:"none"}),M.createElement("line",{x1:s+1,y1:u,x2:s+i-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:s+1,y1:u+2,x2:s+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var a;return M.isValidElement(n)?a=M.cloneElement(n,s):Vt(n)?a=n(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(n,s){var a=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return jj({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},a&&a.length?mFe({data:a,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(i!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+i-c]);var h=s.scale.domain().map(function(y){return s.scale(y)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var a=n.length,i=0,l=a-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>s?l=c:i=c}return s>=n[l]?l:i}}])}(p.PureComponent);Vs(th,"displayName","Brush");Vs(th,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var gFe=NT;function yFe(e,t){var r;return gFe(e,function(n,s,a){return r=t(n,s,a),!r}),!!r}var vFe=yFe,xFe=yH,bFe=yc,wFe=vFe,_Fe=qs,SFe=D1;function jFe(e,t,r){var n=_Fe(e)?xFe:wFe;return r&&SFe(e,t,r)&&(t=void 0),n(e,bFe(t))}var kFe=jFe;const EFe=vr(kFe);var Vi=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},LD=FH;function NFe(e,t,r){t=="__proto__"&&LD?LD(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var CFe=NFe,PFe=CFe,AFe=LH,TFe=yc;function OFe(e,t){var r={};return t=TFe(t),AFe(e,function(n,s,a){PFe(r,s,t(n,s,a))}),r}var $Fe=OFe;const RFe=vr($Fe);function MFe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var IFe=MFe,LFe=NT;function DFe(e,t){var r=!0;return LFe(e,function(n,s,a){return r=!!t(n,s,a),r}),r}var FFe=DFe,BFe=IFe,UFe=FFe,zFe=yc,qFe=qs,WFe=D1;function VFe(e,t,r){var n=qFe(e)?BFe:UFe;return r&&WFe(e,t,r)&&(t=void 0),n(e,zFe(t))}var HFe=VFe;const yG=vr(HFe);var KFe=["x","y"];function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function RC(){return RC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RC.apply(this,arguments)}function DD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ip(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(r),!0).forEach(function(n){GFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GFe(e,t,r){return t=YFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YFe(e){var t=JFe(e,"string");return Xg(t)=="symbol"?t:t+""}function JFe(e,t){if(Xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XFe(e,t){if(e==null)return{};var r=QFe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZFe(e,t){var r=e.x,n=e.y,s=XFe(e,KFe),a="".concat(r),i=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Ip(Ip(Ip(Ip(Ip({},t),s),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function FD(e){return M.createElement(IDe,RC({shapeType:"rectangle",propTransformer:ZFe,activeClassName:"recharts-active-bar"},e))}var e6e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var a=typeof n=="number";return a?t(n,s):(a||$u(),r)}},t6e=["value","background"],vG;function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function r6e(e,t){if(e==null)return{};var r=n6e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fb.apply(this,arguments)}function BD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(r),!0).forEach(function(n){Dl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bG(n.key),n)}}function a6e(e,t,r){return t&&UD(e.prototype,t),r&&UD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i6e(e,t,r){return t=Bb(t),o6e(e,xG()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function o6e(e,t){if(t&&(rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l6e(e)}function l6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xG=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function c6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MC(e,t)}function MC(e,t){return MC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},MC(e,t)}function Dl(e,t,r){return t=bG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=u6e(e,"string");return rh(t)=="symbol"?t:t+""}function u6e(e,t){if(rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xo=function(e){function t(){var r;s6e(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=i6e(this,t,[].concat(s)),Dl(r,"state",{isAnimationFinished:!1}),Dl(r,"id",T1("recharts-bar-")),Dl(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Dl(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return c6e(t,e),a6e(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,a=this.props,i=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=nr(this.props,!1);return n&&n.map(function(f,h){var y=h===c,g=y?u:i,m=ln(ln(ln({},d),f),{},{isActive:y,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return M.createElement(An,Fb({className:"recharts-bar-rectangle"},Zx(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),M.createElement(FD,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,a=s.data,i=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return M.createElement(cc,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t,m=a.map(function(v,x){var b=h&&h[x];if(b){var w=id(b.x,v.x),_=id(b.y,v.y),S=id(b.width,v.width),k=id(b.height,v.height);return ln(ln({},v),{},{x:w(g),y:_(g),width:S(g),height:k(g)})}if(i==="horizontal"){var E=id(0,v.height),j=E(g);return ln(ln({},v),{},{y:v.y+v.height-j,height:j})}var N=id(0,v.width),C=N(g);return ln(ln({},v),{},{width:C})});return M.createElement(An,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,a=n.isAnimationActive,i=this.state.prevData;return a&&s&&s.length&&(!i||!QT(i,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,a=s.data,i=s.dataKey,l=s.activeIndex,c=nr(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=r6e(u,t6e);if(!f)return null;var y=ln(ln(ln(ln(ln({},h),{},{fill:"#eee"},f),c),Zx(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(FD,Fb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},y))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=ni(d,Y1);if(!f)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,y=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Xi(v,x)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return M.createElement(An,g,f.map(function(m){return M.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,a=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,y=n.isAnimationActive,g=n.background,m=n.id;if(s||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=Qt("recharts-bar",i),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=b||w,S=ir(m)?this.id:m;return M.createElement(An,{className:x},b||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,M.createElement(An,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!y||v)&&si.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(p.PureComponent);vG=Xo;Dl(Xo,"displayName","Bar");Dl(Xo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Dl(Xo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,a=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,y=BIe(n,r);if(!y)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?ln(ln({},m),r.props):r.props,x=v.dataKey,b=v.children,w=v.minPointSize,_=g==="horizontal"?i:a,S=u?_.scale.domain():null,k=GIe({numericAxis:_}),E=ni(b,Wy),j=f.map(function(N,C){var P,R,B,z,D,O;u?P=UIe(u[d+C],S):(P=Xi(N,x),Array.isArray(P)||(P=[k,P]));var U=e6e(w,vG.defaultProps.minPointSize)(P[1],C);if(g==="horizontal"){var A,I=[i.scale(P[0]),i.scale(P[1])],te=I[0],$=I[1];R=F5({axis:a,ticks:l,bandSize:s,offset:y.offset,entry:N,index:C}),B=(A=$??te)!==null&&A!==void 0?A:void 0,z=y.size;var V=te-$;if(D=Number.isNaN(V)?0:V,O={x:R,y:i.y,width:z,height:i.height},Math.abs(U)>0&&Math.abs(D)<Math.abs(U)){var W=Za(D||U)*(Math.abs(U)-Math.abs(D));B-=W,D+=W}}else{var ee=[a.scale(P[0]),a.scale(P[1])],ie=ee[0],G=ee[1];if(R=ie,B=F5({axis:i,ticks:c,bandSize:s,offset:y.offset,entry:N,index:C}),z=G-ie,D=y.size,O={x:a.x,y:B,width:a.width,height:D},Math.abs(U)>0&&Math.abs(z)<Math.abs(U)){var q=Za(z||U)*(Math.abs(U)-Math.abs(z));z+=q}}return ln(ln(ln({},N),{},{x:R,y:B,width:z,height:D,value:u?P:P[1],payload:N,background:O},E&&E[C]&&E[C].props),{},{tooltipPayload:[XK(r,N)],tooltipPosition:{x:R+z/2,y:B+D/2}})});return ln({data:j,layout:g},h)});function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function d6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wG(n.key),n)}}function f6e(e,t,r){return t&&zD(e.prototype,t),r&&zD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(r),!0).forEach(function(n){Q1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q1(e,t,r){return t=wG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wG(e){var t=h6e(e,"string");return Qg(t)=="symbol"?t:t+""}function h6e(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p6e=function(t,r,n,s,a){var i=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ys(u,Xo);return d.reduce(function(y,g){var m=r[g],v=m.orientation,x=m.domain,b=m.padding,w=b===void 0?{}:b,_=m.mirror,S=m.reversed,k="".concat(v).concat(_?"Mirror":""),E,j,N,C,P;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var R=x[1]-x[0],B=1/0,z=m.categoricalDomain.sort();if(z.forEach(function(ee,ie){ie>0&&(B=Math.min((ee||0)-(z[ie-1]||0),B))}),Number.isFinite(B)){var D=B/R,O=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(E=D*O/2),m.padding==="no-gap"){var U=Tu(t.barCategoryGap,D*O),A=D*O/2;E=A-U-(A-U)/O*U}}}s==="xAxis"?j=[n.left+(w.left||0)+(E||0),n.left+n.width-(w.right||0)-(E||0)]:s==="yAxis"?j=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(E||0),n.top+n.height-(w.bottom||0)-(E||0)]:j=m.range,S&&(j=[j[1],j[0]]);var I=DIe(m,a,h),te=I.scale,$=I.realScaleType;te.domain(x).range(j),FIe(te);var V=KIe(te,Ga(Ga({},m),{},{realScaleType:$}));s==="xAxis"?(P=v==="top"&&!_||v==="bottom"&&_,N=n.left,C=f[k]-P*m.height):s==="yAxis"&&(P=v==="left"&&!_||v==="right"&&_,N=f[k]-P*m.width,C=n.top);var W=Ga(Ga(Ga({},m),V),{},{realScaleType:$,x:N,y:C,scale:te,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return W.bandSize=Nb(W,V),!m.hide&&s==="xAxis"?f[k]+=(P?-1:1)*W.height:m.hide||(f[k]+=(P?-1:1)*W.width),Ga(Ga({},y),{},Q1({},g,W))},{})},_G=function(t,r){var n=t.x,s=t.y,a=r.x,i=r.y;return{x:Math.min(n,a),y:Math.min(s,i),width:Math.abs(a-n),height:Math.abs(i-s)}},m6e=function(t){var r=t.x1,n=t.y1,s=t.x2,a=t.y2;return _G({x:r,y:n},{x:s,y:a})},SG=function(){function e(t){d6e(this,e),this.scale=t}return f6e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?r>=s&&r<=a:r>=a&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Q1(SG,"EPS",1e-4);var nO=function(t){var r=Object.keys(t).reduce(function(n,s){return Ga(Ga({},n),{},Q1({},s,SG.create(t[s])))},{});return Ga(Ga({},r),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.bandAware,l=a.position;return RFe(s,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(s){return yG(s,function(a,i){return r[i].isInRange(a)})}})};function g6e(e){return(e%180+180)%180}var y6e=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=g6e(s),i=a*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},v6e=yc,x6e=qy,b6e=I1;function w6e(e){return function(t,r,n){var s=Object(t);if(!x6e(t)){var a=v6e(r);t=b6e(t),r=function(l){return a(s[l],l,s)}}var i=e(t,r,n);return i>-1?s[a?t[i]:i]:void 0}}var _6e=w6e,S6e=hG;function j6e(e){var t=S6e(e),r=t%1;return t===t?r?t-r:t:0}var k6e=j6e,E6e=TH,N6e=yc,C6e=k6e,P6e=Math.max;function A6e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:C6e(r);return s<0&&(s=P6e(n+s,0)),E6e(e,N6e(t),s)}var T6e=A6e,O6e=_6e,$6e=T6e,R6e=O6e($6e),M6e=R6e;const I6e=vr(M6e);var L6e=j_e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),sO=p.createContext(void 0),aO=p.createContext(void 0),jG=p.createContext(void 0),kG=p.createContext({}),EG=p.createContext(void 0),NG=p.createContext(0),CG=p.createContext(0),WD=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,a=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,d=L6e(a);return M.createElement(sO.Provider,{value:n},M.createElement(aO.Provider,{value:s},M.createElement(kG.Provider,{value:a},M.createElement(jG.Provider,{value:d},M.createElement(EG.Provider,{value:i},M.createElement(NG.Provider,{value:u},M.createElement(CG.Provider,{value:c},l)))))))},D6e=function(){return p.useContext(EG)},PG=function(t){var r=p.useContext(sO);r==null&&$u();var n=r[t];return n==null&&$u(),n},F6e=function(){var t=p.useContext(sO);return wl(t)},B6e=function(){var t=p.useContext(aO),r=I6e(t,function(n){return yG(n.domain,Number.isFinite)});return r||wl(t)},AG=function(t){var r=p.useContext(aO);r==null&&$u();var n=r[t];return n==null&&$u(),n},U6e=function(){var t=p.useContext(jG);return t},z6e=function(){return p.useContext(kG)},iO=function(){return p.useContext(CG)},oO=function(){return p.useContext(NG)};function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function q6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OG(n.key),n)}}function V6e(e,t,r){return t&&W6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H6e(e,t,r){return t=Ub(t),K6e(e,TG()?Reflect.construct(t,r||[],Ub(e).constructor):t.apply(e,r))}function K6e(e,t){if(t&&(nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G6e(e)}function G6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TG=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(e)}function Y6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IC(e,t)}function IC(e,t){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},IC(e,t)}function VD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(r),!0).forEach(function(n){lO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lO(e,t,r){return t=OG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OG(e){var t=J6e(e,"string");return nh(t)=="symbol"?t:t+""}function J6e(e,t){if(nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X6e(e,t){return t8e(e)||e8e(e,t)||Z6e(e,t)||Q6e()}function Q6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z6e(e,t){if(e){if(typeof e=="string")return KD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KD(e,t)}}function KD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function t8e(e){if(Array.isArray(e))return e}function LC(){return LC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LC.apply(this,arguments)}var r8e=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):Vt(t)?n=t(r):n=M.createElement("line",LC({},r,{className:"recharts-reference-line-line"})),n},n8e=function(t,r,n,s,a,i,l,c,u){var d=a.x,f=a.y,h=a.width,y=a.height;if(n){var g=u.y,m=t.y.apply(g,{position:i});if(Vi(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var x=u.x,b=t.x.apply(x,{position:i});if(Vi(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+y},{x:b,y:f}];return l==="top"?w.reverse():w}if(s){var _=u.segment,S=_.map(function(k){return t.apply(k,{position:i})});return Vi(u,"discard")&&EFe(S,function(k){return!t.isInRange(k)})?null:S}return null};function s8e(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,a=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=D6e(),d=PG(s),f=AG(a),h=U6e();if(!u||!h)return null;Po(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=nO({x:d.scale,y:f.scale}),g=Sn(t),m=Sn(r),v=n&&n.length===2,x=n8e(y,g,m,v,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var b=X6e(x,2),w=b[0],_=w.x,S=w.y,k=b[1],E=k.x,j=k.y,N=Vi(e,"hidden")?"url(#".concat(u,")"):void 0,C=HD(HD({clipPath:N},nr(e,!0)),{},{x1:_,y1:S,x2:E,y2:j});return M.createElement(An,{className:Qt("recharts-reference-line",l)},r8e(i,C),Xn.renderCallByParent(e,m6e({x1:_,y1:S,x2:E,y2:j})))}var cO=function(e){function t(){return q6e(this,t),H6e(this,t,arguments)}return Y6e(t,e),V6e(t,[{key:"render",value:function(){return M.createElement(s8e,this.props)}}])}(M.Component);lO(cO,"displayName","ReferenceLine");lO(cO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function DC(){return DC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DC.apply(this,arguments)}function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function GD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function YD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(r),!0).forEach(function(n){Z1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RG(n.key),n)}}function o8e(e,t,r){return t&&i8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l8e(e,t,r){return t=zb(t),c8e(e,$G()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function c8e(e,t){if(t&&(sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u8e(e)}function u8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($G=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function d8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FC(e,t)}function FC(e,t){return FC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},FC(e,t)}function Z1(e,t,r){return t=RG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=f8e(e,"string");return sh(t)=="symbol"?t:t+""}function f8e(e,t){if(sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h8e=function(t){var r=t.x,n=t.y,s=t.xAxis,a=t.yAxis,i=nO({x:s.scale,y:a.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Vi(t,"discard")&&!i.isInRange(l)?null:l},e_=function(e){function t(){return a8e(this,t),l8e(this,t,arguments)}return d8e(t,e),o8e(t,[{key:"render",value:function(){var n=this.props,s=n.x,a=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=Sn(s),d=Sn(a);if(Po(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=h8e(this.props);if(!f)return null;var h=f.x,y=f.y,g=this.props,m=g.shape,v=g.className,x=Vi(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=YD(YD({clipPath:x},nr(this.props,!0)),{},{cx:h,cy:y});return M.createElement(An,{className:Qt("recharts-reference-dot",v)},t.renderDot(m,b),Xn.renderCallByParent(this.props,{x:h-i,y:y-i,width:2*i,height:2*i}))}}])}(M.Component);Z1(e_,"displayName","ReferenceDot");Z1(e_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Z1(e_,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Vt(e)?r=e(t):r=M.createElement(dG,DC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function BC(){return BC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BC.apply(this,arguments)}function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}function JD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function XD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(r),!0).forEach(function(n){t_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IG(n.key),n)}}function g8e(e,t,r){return t&&m8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y8e(e,t,r){return t=qb(t),v8e(e,MG()?Reflect.construct(t,r||[],qb(e).constructor):t.apply(e,r))}function v8e(e,t){if(t&&(ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x8e(e)}function x8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MG=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}function b8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UC(e,t)}function UC(e,t){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},UC(e,t)}function t_(e,t,r){return t=IG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IG(e){var t=w8e(e,"string");return ah(t)=="symbol"?t:t+""}function w8e(e,t){if(ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _8e=function(t,r,n,s,a){var i=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=nO({x:d.scale,y:f.scale}),y={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Vi(a,"discard")&&(!h.isInRange(y)||!h.isInRange(g))?null:_G(y,g)},r_=function(e){function t(){return p8e(this,t),y8e(this,t,arguments)}return b8e(t,e),g8e(t,[{key:"render",value:function(){var n=this.props,s=n.x1,a=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Po(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Sn(s),h=Sn(a),y=Sn(i),g=Sn(l),m=this.props.shape;if(!f&&!h&&!y&&!g&&!m)return null;var v=_8e(f,h,y,g,this.props);if(!v&&!m)return null;var x=Vi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(An,{className:Qt("recharts-reference-area",c)},t.renderRect(m,XD(XD({clipPath:x},nr(this.props,!0)),v)),Xn.renderCallByParent(this.props,v))}}])}(M.Component);t_(r_,"displayName","ReferenceArea");t_(r_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});t_(r_,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Vt(e)?r=e(t):r=M.createElement(rO,BC({},t,{className:"recharts-reference-area-rect"})),r});function LG(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function S8e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return y6e(n,r)}function j8e(e,t,r){var n=r==="width",s=e.x,a=e.y,i=e.width,l=e.height;return t===1?{start:n?s:a,end:n?s+i:a+l}:{start:n?s+i:a+l,end:n?s:a}}function Wb(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-s)<=0}function k8e(e,t){return LG(e,t+1)}function E8e(e,t,r,n,s){for(var a=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,d=i,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:LG(n,u)};var m=c,v,x=function(){return v===void 0&&(v=r(g,m)),v},b=g.coordinate,w=c===0||Wb(e,b,x,d,l);w||(c=0,d=i,u+=1),w&&(d=b+e*(x()/2+s),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){N8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N8e(e,t,r){return t=C8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C8e(e){var t=P8e(e,"string");return Zg(t)=="symbol"?t:t+""}function P8e(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A8e(e,t,r,n,s){for(var a=(n||[]).slice(),i=a.length,l=t.start,c=t.end,u=function(h){var y=a[h],g,m=function(){return g===void 0&&(g=r(y,h)),g};if(h===i-1){var v=e*(y.coordinate+e*m()/2-c);a[h]=y=Yn(Yn({},y),{},{tickCoord:v>0?y.coordinate-v*e:y.coordinate})}else a[h]=y=Yn(Yn({},y),{},{tickCoord:y.coordinate});var x=Wb(e,y.tickCoord,m,l,c);x&&(c=y.tickCoord-e*(m()/2+s),a[h]=Yn(Yn({},y),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return a}function T8e(e,t,r,n,s,a){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(a){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);i[l-1]=d=Yn(Yn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var y=Wb(e,d.tickCoord,function(){return f},c,u);y&&(u=d.tickCoord-e*(f/2+s),i[l-1]=Yn(Yn({},d),{},{isShow:!0}))}for(var g=a?l-1:l,m=function(b){var w=i[b],_,S=function(){return _===void 0&&(_=r(w,b)),_};if(b===0){var k=e*(w.coordinate-e*S()/2-c);i[b]=w=Yn(Yn({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else i[b]=w=Yn(Yn({},w),{},{tickCoord:w.coordinate});var E=Wb(e,w.tickCoord,S,c,u);E&&(c=w.tickCoord+e*(S()/2+s),i[b]=Yn(Yn({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return i}function uO(e,t,r){var n=e.tick,s=e.ticks,a=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(He(c)||Xl.isSsr)return k8e(s,typeof c=="number"&&He(c)?c:0);var h=[],y=l==="top"||l==="bottom"?"width":"height",g=d&&y==="width"?Cm(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,_){var S=Vt(u)?u(w.value,_):w.value;return y==="width"?S8e(Cm(S,{fontSize:t,letterSpacing:r}),g,f):Cm(S,{fontSize:t,letterSpacing:r})[y]},v=s.length>=2?Za(s[1].coordinate-s[0].coordinate):1,x=j8e(a,v,y);return c==="equidistantPreserveStart"?E8e(v,x,m,s,i):(c==="preserveStart"||c==="preserveStartEnd"?h=T8e(v,x,m,s,i,c==="preserveStartEnd"):h=A8e(v,x,m,s,i),h.filter(function(b){return b.isShow}))}var O8e=["viewBox"],$8e=["viewBox"],R8e=["ticks"];function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(e)}function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bd.apply(this,arguments)}function ZD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZD(Object(r),!0).forEach(function(n){dO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kj(e,t){if(e==null)return{};var r=M8e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function M8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function I8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FG(n.key),n)}}function L8e(e,t,r){return t&&eF(e.prototype,t),r&&eF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function D8e(e,t,r){return t=Vb(t),F8e(e,DG()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function F8e(e,t){if(t&&(ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B8e(e)}function B8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DG=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function U8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zC(e,t)}function zC(e,t){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zC(e,t)}function dO(e,t,r){return t=FG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=z8e(e,"string");return ih(t)=="symbol"?t:t+""}function z8e(e,t){if(ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jh=function(e){function t(r){var n;return I8e(this,t),n=D8e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return U8e(t,e),L8e(t,[{key:"shouldComponentUpdate",value:function(n,s){var a=n.viewBox,i=kj(n,O8e),l=this.props,c=l.viewBox,u=kj(l,$8e);return!sf(a,c)||!sf(i,u)||!sf(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.x,i=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,y,g,m,v,x,b,w=f?-1:1,_=n.tickSize||d,S=He(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":y=g=n.coordinate,v=i+ +!f*c,m=v-w*_,b=m-w*h,x=S;break;case"left":m=v=n.coordinate,g=a+ +!f*l,y=g-w*_,x=y-w*h,b=S;break;case"right":m=v=n.coordinate,g=a+ +f*l,y=g+w*_,x=y+w*h,b=S;break;default:y=g=n.coordinate,v=i+ +f*c,m=v+w*_,b=m+w*h,x=S;break}return{line:{x1:y,y1:m,x2:g,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,i;switch(s){case"left":i=a?"start":"end";break;case"right":i=a?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,i="end";switch(s){case"left":case"right":i="middle";break;case"top":i=a?"start":"end";break;default:i=a?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,a=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=as(as(as({},nr(this.props,!1)),nr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=as(as({},f),{},{x1:s,y1:a+h*l,x2:s+i,y2:a+h*l})}else{var y=+(c==="left"&&!u||c==="right"&&u);f=as(as({},f),{},{x1:s+y*i,y1:a,x2:s+y*i,y2:a+l})}return M.createElement("line",Bd({},f,{className:Qt("recharts-cartesian-axis-line",Ca(d,"className"))}))}},{key:"renderTicks",value:function(n,s,a){var i=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,y=uO(as(as({},this.props),{},{ticks:n}),s,a),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=nr(this.props,!1),x=nr(d,!1),b=as(as({},v),{},{fill:"none"},nr(c,!1)),w=y.map(function(_,S){var k=i.getTickLineCoord(_),E=k.line,j=k.tick,N=as(as(as(as({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},x),j),{},{index:S,payload:_,visibleTicksCount:y.length,tickFormatter:f});return M.createElement(An,Bd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Zx(i.props,_,S)),c&&M.createElement("line",Bd({},b,E,{className:Qt("recharts-cartesian-axis-tick-line",Ca(c,"className"))})),d&&t.renderTickItem(d,N,"".concat(Vt(f)?f(_.value,S):_.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,a=s.axisLine,i=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,y=kj(f,R8e),g=h;return Vt(c)&&(g=h&&h.length>0?c(this.props):c(y)),i<=0||l<=0||!g||!g.length?null:M.createElement(An,{className:Qt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Xn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,a){var i;return M.isValidElement(n)?i=M.cloneElement(n,s):Vt(n)?i=n(s):i=M.createElement(hb,Bd({},s,{className:"recharts-cartesian-axis-tick-value"}),a),i}}])}(p.Component);dO(Jh,"displayName","CartesianAxis");dO(Jh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var q8e=["x1","y1","x2","y2","key"],W8e=["offset"];function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function tF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tF(Object(r),!0).forEach(function(n){V8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V8e(e,t,r){return t=H8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H8e(e){var t=K8e(e,"string");return Ru(t)=="symbol"?t:t+""}function K8e(e,t){if(Ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xc.apply(this,arguments)}function rF(e,t){if(e==null)return{};var r=G8e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Y8e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,a=t.y,i=t.width,l=t.height,c=t.ry;return M.createElement("rect",{x:s,y:a,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BG(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(Vt(e))r=e(t);else{var n=t.x1,s=t.y1,a=t.x2,i=t.y2,l=t.key,c=rF(t,q8e),u=nr(c,!1);u.offset;var d=rF(u,W8e);r=M.createElement("line",Xc({},d,{x1:n,y1:s,x2:a,y2:i,fill:"none",key:l}))}return r}function J8e(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var i=a.map(function(l,c){var u=Qn(Qn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return BG(s,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function X8e(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,a=e.verticalPoints;if(!s||!a||!a.length)return null;var i=a.map(function(l,c){var u=Qn(Qn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return BG(s,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function Q8e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,a=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,y){return h-y});s!==d[0]&&d.unshift(0);var f=d.map(function(h,y){var g=!d[y+1],m=g?s+i-h:d[y+1]-h;if(m<=0)return null;var v=y%t.length;return M.createElement("rect",{key:"react-".concat(y),y:h,x:n,height:m,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Z8e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,a=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,y){return h-y});a!==d[0]&&d.unshift(0);var f=d.map(function(h,y){var g=!d[y+1],m=g?a+l-h:d[y+1]-h;if(m<=0)return null;var v=y%n.length;return M.createElement("rect",{key:"react-".concat(y),x:h,y:i,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var eBe=function(t,r){var n=t.xAxis,s=t.width,a=t.height,i=t.offset;return YK(uO(Qn(Qn(Qn({},Jh.defaultProps),n),{},{ticks:_o(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),i.left,i.left+i.width,r)},tBe=function(t,r){var n=t.yAxis,s=t.width,a=t.height,i=t.offset;return YK(uO(Qn(Qn(Qn({},Jh.defaultProps),n),{},{ticks:_o(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),i.top,i.top+i.height,r)},cd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function UG(e){var t,r,n,s,a,i,l=iO(),c=oO(),u=z6e(),d=Qn(Qn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:cd.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:cd.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:cd.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:cd.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:cd.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:cd.verticalFill,x:He(e.x)?e.x:u.left,y:He(e.y)?e.y:u.top,width:He(e.width)?e.width:u.width,height:He(e.height)?e.height:u.height}),f=d.x,h=d.y,y=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,b=F6e(),w=B6e();if(!He(y)||y<=0||!He(g)||g<=0||!He(f)||f!==+f||!He(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||eBe,S=d.horizontalCoordinatesGenerator||tBe,k=d.horizontalPoints,E=d.verticalPoints;if((!k||!k.length)&&Vt(S)){var j=v&&v.length,N=S({yAxis:w?Qn(Qn({},w),{},{ticks:j?v:w.ticks}):void 0,width:l,height:c,offset:u},j?!0:m);Po(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ru(N),"]")),Array.isArray(N)&&(k=N)}if((!E||!E.length)&&Vt(_)){var C=x&&x.length,P=_({xAxis:b?Qn(Qn({},b),{},{ticks:C?x:b.ticks}):void 0,width:l,height:c,offset:u},C?!0:m);Po(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ru(P),"]")),Array.isArray(P)&&(E=P)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(Y8e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(J8e,Xc({},d,{offset:u,horizontalPoints:k,xAxis:b,yAxis:w})),M.createElement(X8e,Xc({},d,{offset:u,verticalPoints:E,xAxis:b,yAxis:w})),M.createElement(Q8e,Xc({},d,{horizontalPoints:k})),M.createElement(Z8e,Xc({},d,{verticalPoints:E})))}UG.displayName="CartesianGrid";function oh(e){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(e)}function rBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WG(n.key),n)}}function sBe(e,t,r){return t&&nBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aBe(e,t,r){return t=Hb(t),iBe(e,zG()?Reflect.construct(t,r||[],Hb(e).constructor):t.apply(e,r))}function iBe(e,t){if(t&&(oh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oBe(e)}function oBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zG=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(e)}function lBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qC(e,t)}function qC(e,t){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qC(e,t)}function qG(e,t,r){return t=WG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=cBe(e,"string");return oh(t)=="symbol"?t:t+""}function cBe(e,t){if(oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WC(){return WC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WC.apply(this,arguments)}function uBe(e){var t=e.xAxisId,r=iO(),n=oO(),s=PG(t);return s==null?null:M.createElement(Jh,WC({},s,{className:Qt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return _o(i,!0)}}))}var Xh=function(e){function t(){return rBe(this,t),aBe(this,t,arguments)}return lBe(t,e),sBe(t,[{key:"render",value:function(){return M.createElement(uBe,this.props)}}])}(M.Component);qG(Xh,"displayName","XAxis");qG(Xh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function lh(e){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(e)}function dBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KG(n.key),n)}}function hBe(e,t,r){return t&&fBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pBe(e,t,r){return t=Kb(t),mBe(e,VG()?Reflect.construct(t,r||[],Kb(e).constructor):t.apply(e,r))}function mBe(e,t){if(t&&(lh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gBe(e)}function gBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VG=function(){return!!e})()}function Kb(e){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kb(e)}function yBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VC(e,t)}function VC(e,t){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},VC(e,t)}function HG(e,t,r){return t=KG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=vBe(e,"string");return lh(t)=="symbol"?t:t+""}function vBe(e,t){if(lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HC(){return HC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HC.apply(this,arguments)}var xBe=function(t){var r=t.yAxisId,n=iO(),s=oO(),a=AG(r);return a==null?null:M.createElement(Jh,HC({},a,{className:Qt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return _o(l,!0)}}))},Qh=function(e){function t(){return dBe(this,t),pBe(this,t,arguments)}return yBe(t,e),hBe(t,[{key:"render",value:function(){return M.createElement(xBe,this.props)}}])}(M.Component);HG(Qh,"displayName","YAxis");HG(Qh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nF(e){return SBe(e)||_Be(e)||wBe(e)||bBe()}function bBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wBe(e,t){if(e){if(typeof e=="string")return KC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KC(e,t)}}function _Be(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SBe(e){if(Array.isArray(e))return KC(e)}function KC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var GC=function(t,r,n,s,a){var i=ni(t,cO),l=ni(t,e_),c=[].concat(nF(i),nF(l)),u=ni(t,r_),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[d]===n&&Vi(v.props,"extendDomain")&&He(v.props[f])){var x=v.props[f];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},h)),u.length){var y="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&Vi(v.props,"extendDomain")&&He(v.props[y])&&He(v.props[g])){var x=v.props[y],b=v.props[g];return[Math.min(m[0],x,b),Math.max(m[1],x,b)]}return m},h)}return a&&a.length&&(h=a.reduce(function(m,v){return He(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},GG={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],y]:c._events[g].push(y):(c._events[g]=y,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,y=f.length,g=new Array(y);h<y;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,y,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,y),!0;case 6:return v.fn.call(v.context,d,f,h,y,g),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var _=v.length,S;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var y=r?r+u:u;if(!this._events[y])return this;if(!d)return i(this,y),this;var g=this._events[y];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&i(this,y);else{for(var m=0,v=[],x=g.length;m<x;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[y]=v.length===1?v[0]:v:i(this,y)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(GG);var jBe=GG.exports;const kBe=vr(jBe);var Ej=new kBe,Nj="recharts.syncMouseEvents";function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function EBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YG(n.key),n)}}function CBe(e,t,r){return t&&NBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cj(e,t,r){return t=YG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YG(e){var t=PBe(e,"string");return ey(t)=="symbol"?t:t+""}function PBe(e,t){if(ey(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ABe=function(){function e(){EBe(this,e),Cj(this,"activeIndex",0),Cj(this,"coordinateList",[]),Cj(this,"layout","horizontal")}return CBe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,a=s===void 0?null:s,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,y=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,i=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function TBe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&He(n)&&He(s))return!0}return!1}function OBe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function JG(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,a=e.endAngle,i=Un(t,r,n,s),l=Un(t,r,n,a);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:a}}function $Be(e,t,r){var n,s,a,i;if(e==="horizontal")n=t.x,a=n,s=r.top,i=r.top+r.height;else if(e==="vertical")s=t.y,i=s,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Un(l,c,u,f),y=Un(l,c,d,f);n=h.x,s=h.y,a=y.x,i=y.y}else return JG(t);return[{x:n,y:s},{x:a,y:i}]}function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}function sF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function a0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(r),!0).forEach(function(n){RBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RBe(e,t,r){return t=MBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MBe(e){var t=IBe(e,"string");return ty(t)=="symbol"?t:t+""}function IBe(e,t){if(ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LBe(e){var t,r,n=e.element,s=e.tooltipEventType,a=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,y=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!a||!i||h!=="ScatterChart"&&s!=="axis")return null;var g,m=tD;if(h==="ScatterChart")g=i,m=J5e;else if(h==="BarChart")g=OBe(f,i,c,d),m=rO;else if(f==="radial"){var v=JG(i),x=v.cx,b=v.cy,w=v.radius,_=v.startAngle,S=v.endAngle;g={cx:x,cy:b,startAngle:_,endAngle:S,innerRadius:w,outerRadius:w},m=eG}else g={points:$Be(f,i,c)},m=tD;var k=a0(a0(a0(a0({stroke:"#ccc",pointerEvents:"none"},c),g),nr(y,!1)),{},{payload:l,payloadIndex:u,className:Qt("recharts-tooltip-cursor",y.className)});return p.isValidElement(y)?p.cloneElement(y,k):p.createElement(m,k)}var DBe=["item"],FBe=["children","className","width","height","style","compact","title","desc"];function ch(e){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(e)}function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Om.apply(this,arguments)}function aF(e,t){return zBe(e)||UBe(e,t)||QG(e,t)||BBe()}function BBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function zBe(e){if(Array.isArray(e))return e}function iF(e,t){if(e==null)return{};var r=qBe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZG(n.key),n)}}function HBe(e,t,r){return t&&VBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KBe(e,t,r){return t=Gb(t),GBe(e,XG()?Reflect.construct(t,r||[],Gb(e).constructor):t.apply(e,r))}function GBe(e,t){if(t&&(ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YBe(e)}function YBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XG=function(){return!!e})()}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(e)}function JBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YC(e,t)}function YC(e,t){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},YC(e,t)}function uh(e){return ZBe(e)||QBe(e)||QG(e)||XBe()}function XBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QG(e,t){if(e){if(typeof e=="string")return JC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JC(e,t)}}function QBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZBe(e){if(Array.isArray(e))return JC(e)}function JC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oF(Object(r),!0).forEach(function(n){Et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Et(e,t,r){return t=ZG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=eUe(e,"string");return ch(t)=="symbol"?t:t+""}function eUe(e,t){if(ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tUe={xAxis:["bottom","top"],yAxis:["left","right"]},rUe={width:"100%",height:"100%"},eY={x:0,y:0};function i0(e){return e}var nUe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},sUe=function(t,r,n,s){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var i=a.coordinate,l=s.radius;return be(be(be({},s),Un(s.cx,s.cy,l,i)),{},{angle:i,radius:l})}var c=a.coordinate,u=s.angle;return be(be(be({},s),Un(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return eY},n_=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,a=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(uh(l),uh(u)):l},[]);return i.length>0?i:t&&t.length&&He(s)&&He(a)?t.slice(s,a+1):[]};function tY(e){return e==="number"?[0,"auto"]:void 0}var XC=function(t,r,n,s){var a=t.graphicalItems,i=t.tooltipAxis,l=n_(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var y=f===void 0?l:f;h=AN(y,i.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(uh(c),[XK(u,h)]):c},[])},lF=function(t,r,n,s){var a=s||{x:t.chartX,y:t.chartY},i=nUe(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=OIe(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=XC(t,r,d,f),y=sUe(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:y}}return null},aUe=function(t,r){var n=r.axes,s=r.graphicalItems,a=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,y=GK(d,a);return n.reduce(function(g,m){var v,x=m.type.defaultProps!==void 0?be(be({},m.type.defaultProps),m.props):m.props,b=x.type,w=x.dataKey,_=x.allowDataOverflow,S=x.allowDuplicatedCategory,k=x.scale,E=x.ticks,j=x.includeHidden,N=x[i];if(g[N])return g;var C=n_(t.data,{graphicalItems:s.filter(function(V){var W,ee=i in V.props?V.props[i]:(W=V.type.defaultProps)===null||W===void 0?void 0:W[i];return ee===N}),dataStartIndex:c,dataEndIndex:u}),P=C.length,R,B,z;TBe(x.domain,_,b)&&(R=yC(x.domain,null,_),y&&(b==="number"||k!=="auto")&&(z=Am(C,w,"category")));var D=tY(b);if(!R||R.length===0){var O,U=(O=x.domain)!==null&&O!==void 0?O:D;if(w){if(R=Am(C,w,b),b==="category"&&y){var A=bSe(R);S&&A?(B=R,R=Ib(0,P)):S||(R=z5(U,R,m).reduce(function(V,W){return V.indexOf(W)>=0?V:[].concat(uh(V),[W])},[]))}else if(b==="category")S?R=R.filter(function(V){return V!==""&&!ir(V)}):R=z5(U,R,m).reduce(function(V,W){return V.indexOf(W)>=0||W===""||ir(W)?V:[].concat(uh(V),[W])},[]);else if(b==="number"){var I=LIe(C,s.filter(function(V){var W,ee,ie=i in V.props?V.props[i]:(W=V.type.defaultProps)===null||W===void 0?void 0:W[i],G="hide"in V.props?V.props.hide:(ee=V.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ie===N&&(j||!G)}),w,a,d);I&&(R=I)}y&&(b==="number"||k!=="auto")&&(z=Am(C,w,"category"))}else y?R=Ib(0,P):l&&l[N]&&l[N].hasStack&&b==="number"?R=h==="expand"?[0,1]:JK(l[N].stackGroups,c,u):R=KK(C,s.filter(function(V){var W=i in V.props?V.props[i]:V.type.defaultProps[i],ee="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return W===N&&(j||!ee)}),b,d,!0);if(b==="number")R=GC(f,R,N,a,E),U&&(R=yC(U,R,_));else if(b==="category"&&U){var te=U,$=R.every(function(V){return te.indexOf(V)>=0});$&&(R=te)}}return be(be({},g),{},Et({},N,be(be({},x),{},{axisType:a,domain:R,categoricalDomain:z,duplicateDomain:B,originalDomain:(v=x.domain)!==null&&v!==void 0?v:D,isCategorical:y,layout:d})))},{})},iUe=function(t,r){var n=r.graphicalItems,s=r.Axis,a=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=n_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),y=h.length,g=GK(d,a),m=-1;return n.reduce(function(v,x){var b=x.type.defaultProps!==void 0?be(be({},x.type.defaultProps),x.props):x.props,w=b[i],_=tY("number");if(!v[w]){m++;var S;return g?S=Ib(0,y):l&&l[w]&&l[w].hasStack?(S=JK(l[w].stackGroups,c,u),S=GC(f,S,w,a)):(S=yC(_,KK(h,n.filter(function(k){var E,j,N=i in k.props?k.props[i]:(E=k.type.defaultProps)===null||E===void 0?void 0:E[i],C="hide"in k.props?k.props.hide:(j=k.type.defaultProps)===null||j===void 0?void 0:j.hide;return N===w&&!C}),"number",d),s.defaultProps.allowDataOverflow),S=GC(f,S,w,a)),be(be({},v),{},Et({},w,be(be({axisType:a},s.defaultProps),{},{hide:!0,orientation:Ca(tUe,"".concat(a,".").concat(m%2),null),domain:S,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},oUe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,a=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=ni(d,a),y={};return h&&h.length?y=aUe(t,{axes:h,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(y=iUe(t,{Axis:a,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),y},lUe=function(t){var r=wl(t),n=_o(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:CT(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Nb(r,n)}},cF=function(t){var r=t.children,n=t.defaultShowTooltip,s=Ys(r,th),a=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(i=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},cUe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Co(r&&r.type);return n&&n.indexOf("Bar")>=0})},uF=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},uUe=function(t,r){var n=t.props,s=t.graphicalItems,a=t.xAxisMap,i=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},y=Ys(f,th),g=Ys(f,af),m=Object.keys(c).reduce(function(S,k){var E=c[k],j=E.orientation;return!E.mirror&&!E.hide?be(be({},S),{},Et({},j,S[j]+E.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(i).reduce(function(S,k){var E=i[k],j=E.orientation;return!E.mirror&&!E.hide?be(be({},S),{},Et({},j,Ca(S,"".concat(j))+E.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=be(be({},v),m),b=x.bottom;y&&(x.bottom+=y.props.height||th.defaultProps.height),g&&r&&(x=MIe(x,s,n,r));var w=u-x.left-x.right,_=d-x.top-x.bottom;return be(be({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(_,0)})},dUe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},fUe=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,a=s===void 0?"axis":s,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,x){var b=x.graphicalItems,w=x.stackGroups,_=x.offset,S=x.updateId,k=x.dataStartIndex,E=x.dataEndIndex,j=v.barSize,N=v.layout,C=v.barGap,P=v.barCategoryGap,R=v.maxBarSize,B=uF(N),z=B.numericAxisName,D=B.cateAxisName,O=cUe(b),U=[];return b.forEach(function(A,I){var te=n_(v.data,{graphicalItems:[A],dataStartIndex:k,dataEndIndex:E}),$=A.type.defaultProps!==void 0?be(be({},A.type.defaultProps),A.props):A.props,V=$.dataKey,W=$.maxBarSize,ee=$["".concat(z,"Id")],ie=$["".concat(D,"Id")],G={},q=c.reduce(function(bt,F){var X=x["".concat(F.axisType,"Map")],ye=$["".concat(F.axisType,"Id")];X&&X[ye]||F.axisType==="zAxis"||$u();var Ce=X[ye];return be(be({},bt),{},Et(Et({},F.axisType,Ce),"".concat(F.axisType,"Ticks"),_o(Ce)))},G),Z=q[D],Y=q["".concat(D,"Ticks")],J=w&&w[ee]&&w[ee].hasStack&&YIe(A,w[ee].stackGroups),se=Co(A.type).indexOf("Bar")>=0,Q=Nb(Z,Y),ue=[],ce=O&&$Ie({barSize:j,stackGroups:w,totalSize:dUe(q,D)});if(se){var ve,we,Te=ir(W)?R:W,pt=(ve=(we=Nb(Z,Y,!0))!==null&&we!==void 0?we:Te)!==null&&ve!==void 0?ve:0;ue=RIe({barGap:C,barCategoryGap:P,bandSize:pt!==Q?pt:Q,sizeList:ce[ie],maxBarSize:Te}),pt!==Q&&(ue=ue.map(function(bt){return be(be({},bt),{},{position:be(be({},bt.position),{},{offset:bt.position.offset-pt/2})})}))}var st=A&&A.type&&A.type.getComposedData;st&&U.push({props:be(be({},st(be(be({},q),{},{displayedData:te,props:v,dataKey:V,item:A,bandSize:Q,barPosition:ue,offset:_,stackedData:J,layout:N,dataStartIndex:k,dataEndIndex:E}))),{},Et(Et(Et({key:A.key||"item-".concat(I)},z,q[z]),D,q[D]),"animationId",S)),childIndex:TSe(A,v.children),item:A})}),U},y=function(v,x){var b=v.props,w=v.dataStartIndex,_=v.dataEndIndex,S=v.updateId;if(!I3({props:b}))return null;var k=b.children,E=b.layout,j=b.stackOffset,N=b.data,C=b.reverseStackOrder,P=uF(E),R=P.numericAxisName,B=P.cateAxisName,z=ni(k,n),D=HIe(N,z,"".concat(R,"Id"),"".concat(B,"Id"),j,C),O=c.reduce(function($,V){var W="".concat(V.axisType,"Map");return be(be({},$),{},Et({},W,oUe(b,be(be({},V),{},{graphicalItems:z,stackGroups:V.axisType===R&&D,dataStartIndex:w,dataEndIndex:_}))))},{}),U=uUe(be(be({},O),{},{props:b,graphicalItems:z}),x==null?void 0:x.legendBBox);Object.keys(O).forEach(function($){O[$]=d(b,O[$],U,$.replace("Map",""),r)});var A=O["".concat(B,"Map")],I=lUe(A),te=h(b,be(be({},O),{},{dataStartIndex:w,dataEndIndex:_,updateId:S,graphicalItems:z,stackGroups:D,offset:U}));return be(be({formattedGraphicalItems:te,graphicalItems:z,offset:U,stackGroups:D},I),O)},g=function(m){function v(x){var b,w,_;return WBe(this,v),_=KBe(this,v,[x]),Et(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Et(_,"accessibilityManager",new ABe),Et(_,"handleLegendBBoxUpdate",function(S){if(S){var k=_.state,E=k.dataStartIndex,j=k.dataEndIndex,N=k.updateId;_.setState(be({legendBBox:S},y({props:_.props,dataStartIndex:E,dataEndIndex:j,updateId:N},be(be({},_.state),{},{legendBBox:S}))))}}),Et(_,"handleReceiveSyncEvent",function(S,k,E){if(_.props.syncId===S){if(E===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(k)}}),Et(_,"handleBrushChange",function(S){var k=S.startIndex,E=S.endIndex;if(k!==_.state.dataStartIndex||E!==_.state.dataEndIndex){var j=_.state.updateId;_.setState(function(){return be({dataStartIndex:k,dataEndIndex:E},y({props:_.props,dataStartIndex:k,dataEndIndex:E,updateId:j},_.state))}),_.triggerSyncEvent({dataStartIndex:k,dataEndIndex:E})}}),Et(_,"handleMouseEnter",function(S){var k=_.getMouseInfo(S);if(k){var E=be(be({},k),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var j=_.props.onMouseEnter;Vt(j)&&j(E,S)}}),Et(_,"triggeredAfterMouseMove",function(S){var k=_.getMouseInfo(S),E=k?be(be({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var j=_.props.onMouseMove;Vt(j)&&j(E,S)}),Et(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Et(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Et(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),Et(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};_.setState(k),_.triggerSyncEvent(k);var E=_.props.onMouseLeave;Vt(E)&&E(k,S)}),Et(_,"handleOuterEvent",function(S){var k=ASe(S),E=Ca(_.props,"".concat(k));if(k&&Vt(E)){var j,N;/.*touch.*/i.test(k)?N=_.getMouseInfo(S.changedTouches[0]):N=_.getMouseInfo(S),E((j=N)!==null&&j!==void 0?j:{},S)}}),Et(_,"handleClick",function(S){var k=_.getMouseInfo(S);if(k){var E=be(be({},k),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var j=_.props.onClick;Vt(j)&&j(E,S)}}),Et(_,"handleMouseDown",function(S){var k=_.props.onMouseDown;if(Vt(k)){var E=_.getMouseInfo(S);k(E,S)}}),Et(_,"handleMouseUp",function(S){var k=_.props.onMouseUp;if(Vt(k)){var E=_.getMouseInfo(S);k(E,S)}}),Et(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Et(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),Et(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),Et(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&Ej.emit(Nj,_.props.syncId,S,_.eventEmitterSymbol)}),Et(_,"applySyncEvent",function(S){var k=_.props,E=k.layout,j=k.syncMethod,N=_.state.updateId,C=S.dataStartIndex,P=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(be({dataStartIndex:C,dataEndIndex:P},y({props:_.props,dataStartIndex:C,dataEndIndex:P,updateId:N},_.state)));else if(S.activeTooltipIndex!==void 0){var R=S.chartX,B=S.chartY,z=S.activeTooltipIndex,D=_.state,O=D.offset,U=D.tooltipTicks;if(!O)return;if(typeof j=="function")z=j(U,S);else if(j==="value"){z=-1;for(var A=0;A<U.length;A++)if(U[A].value===S.activeLabel){z=A;break}}var I=be(be({},O),{},{x:O.left,y:O.top}),te=Math.min(R,I.x+I.width),$=Math.min(B,I.y+I.height),V=U[z]&&U[z].value,W=XC(_.state,_.props.data,z),ee=U[z]?{x:E==="horizontal"?U[z].coordinate:te,y:E==="horizontal"?$:U[z].coordinate}:eY;_.setState(be(be({},S),{},{activeLabel:V,activeCoordinate:ee,activePayload:W,activeTooltipIndex:z}))}else _.setState(S)}),Et(_,"renderCursor",function(S){var k,E=_.state,j=E.isTooltipActive,N=E.activeCoordinate,C=E.activePayload,P=E.offset,R=E.activeTooltipIndex,B=E.tooltipAxisBandSize,z=_.getTooltipEventType(),D=(k=S.props.active)!==null&&k!==void 0?k:j,O=_.props.layout,U=S.key||"_recharts-cursor";return M.createElement(LBe,{key:U,activeCoordinate:N,activePayload:C,activeTooltipIndex:R,chartName:r,element:S,isActive:D,layout:O,offset:P,tooltipAxisBandSize:B,tooltipEventType:z})}),Et(_,"renderPolarAxis",function(S,k,E){var j=Ca(S,"type.axisType"),N=Ca(_.state,"".concat(j,"Map")),C=S.type.defaultProps,P=C!==void 0?be(be({},C),S.props):S.props,R=N&&N[P["".concat(j,"Id")]];return p.cloneElement(S,be(be({},R),{},{className:Qt(j,R.className),key:S.key||"".concat(k,"-").concat(E),ticks:_o(R,!0)}))}),Et(_,"renderPolarGrid",function(S){var k=S.props,E=k.radialLines,j=k.polarAngles,N=k.polarRadius,C=_.state,P=C.radiusAxisMap,R=C.angleAxisMap,B=wl(P),z=wl(R),D=z.cx,O=z.cy,U=z.innerRadius,A=z.outerRadius;return p.cloneElement(S,{polarAngles:Array.isArray(j)?j:_o(z,!0).map(function(I){return I.coordinate}),polarRadius:Array.isArray(N)?N:_o(B,!0).map(function(I){return I.coordinate}),cx:D,cy:O,innerRadius:U,outerRadius:A,key:S.key||"polar-grid",radialLines:E})}),Et(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,k=_.props,E=k.children,j=k.width,N=k.height,C=_.props.margin||{},P=j-(C.left||0)-(C.right||0),R=VK({children:E,formattedGraphicalItems:S,legendWidth:P,legendContent:u});if(!R)return null;var B=R.item,z=iF(R,DBe);return p.cloneElement(B,be(be({},z),{},{chartWidth:j,chartHeight:N,margin:C,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Et(_,"renderTooltip",function(){var S,k=_.props,E=k.children,j=k.accessibilityLayer,N=Ys(E,wi);if(!N)return null;var C=_.state,P=C.isTooltipActive,R=C.activeCoordinate,B=C.activePayload,z=C.activeLabel,D=C.offset,O=(S=N.props.active)!==null&&S!==void 0?S:P;return p.cloneElement(N,{viewBox:be(be({},D),{},{x:D.left,y:D.top}),active:O,label:z,payload:O?B:[],coordinate:R,accessibilityLayer:j})}),Et(_,"renderBrush",function(S){var k=_.props,E=k.margin,j=k.data,N=_.state,C=N.offset,P=N.dataStartIndex,R=N.dataEndIndex,B=N.updateId;return p.cloneElement(S,{key:S.key||"_recharts-brush",onChange:t0(_.handleBrushChange,S.props.onChange),data:j,x:He(S.props.x)?S.props.x:C.left,y:He(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(E.bottom||0),width:He(S.props.width)?S.props.width:C.width,startIndex:P,endIndex:R,updateId:"brush-".concat(B)})}),Et(_,"renderReferenceElement",function(S,k,E){if(!S)return null;var j=_,N=j.clipPathId,C=_.state,P=C.xAxisMap,R=C.yAxisMap,B=C.offset,z=S.type.defaultProps||{},D=S.props,O=D.xAxisId,U=O===void 0?z.xAxisId:O,A=D.yAxisId,I=A===void 0?z.yAxisId:A;return p.cloneElement(S,{key:S.key||"".concat(k,"-").concat(E),xAxis:P[U],yAxis:R[I],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:N})}),Et(_,"renderActivePoints",function(S){var k=S.item,E=S.activePoint,j=S.basePoint,N=S.childIndex,C=S.isRange,P=[],R=k.props.key,B=k.item.type.defaultProps!==void 0?be(be({},k.item.type.defaultProps),k.item.props):k.item.props,z=B.activeDot,D=B.dataKey,O=be(be({index:N,dataKey:D,cx:E.x,cy:E.y,r:4,fill:tO(k.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},nr(z,!1)),Qx(z));return P.push(v.renderActiveDot(z,O,"".concat(R,"-activePoint-").concat(N))),j?P.push(v.renderActiveDot(z,be(be({},O),{},{cx:j.x,cy:j.y}),"".concat(R,"-basePoint-").concat(N))):C&&P.push(null),P}),Et(_,"renderGraphicChild",function(S,k,E){var j=_.filterFormatItem(S,k,E);if(!j)return null;var N=_.getTooltipEventType(),C=_.state,P=C.isTooltipActive,R=C.tooltipAxis,B=C.activeTooltipIndex,z=C.activeLabel,D=_.props.children,O=Ys(D,wi),U=j.props,A=U.points,I=U.isRange,te=U.baseLine,$=j.item.type.defaultProps!==void 0?be(be({},j.item.type.defaultProps),j.item.props):j.item.props,V=$.activeDot,W=$.hide,ee=$.activeBar,ie=$.activeShape,G=!!(!W&&P&&O&&(V||ee||ie)),q={};N!=="axis"&&O&&O.props.trigger==="click"?q={onClick:t0(_.handleItemMouseEnter,S.props.onClick)}:N!=="axis"&&(q={onMouseLeave:t0(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:t0(_.handleItemMouseEnter,S.props.onMouseEnter)});var Z=p.cloneElement(S,be(be({},j.props),q));function Y(F){return typeof R.dataKey=="function"?R.dataKey(F.payload):null}if(G)if(B>=0){var J,se;if(R.dataKey&&!R.allowDuplicatedCategory){var Q=typeof R.dataKey=="function"?Y:"payload.".concat(R.dataKey.toString());J=AN(A,Q,z),se=I&&te&&AN(te,Q,z)}else J=A==null?void 0:A[B],se=I&&te&&te[B];if(ie||ee){var ue=S.props.activeIndex!==void 0?S.props.activeIndex:B;return[p.cloneElement(S,be(be(be({},j.props),q),{},{activeIndex:ue})),null,null]}if(!ir(J))return[Z].concat(uh(_.renderActivePoints({item:j,activePoint:J,basePoint:se,childIndex:B,isRange:I})))}else{var ce,ve=(ce=_.getItemByXY(_.state.activeCoordinate))!==null&&ce!==void 0?ce:{graphicalItem:Z},we=ve.graphicalItem,Te=we.item,pt=Te===void 0?S:Te,st=we.childIndex,bt=be(be(be({},j.props),q),{},{activeIndex:st});return[p.cloneElement(pt,bt),null,null]}return I?[Z,null,null]:[Z,null]}),Et(_,"renderCustomized",function(S,k,E){return p.cloneElement(S,be(be({key:"recharts-customized-".concat(E)},_.props),_.state))}),Et(_,"renderMap",{CartesianGrid:{handler:i0,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:i0},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:i0},YAxis:{handler:i0},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:T1("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=VH(_.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),_.state={},_}return JBe(v,m),HBe(v,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,_=b.data,S=b.height,k=b.layout,E=Ys(w,wi);if(E){var j=E.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,C=XC(this.state,_,j,N),P=this.state.tooltipTicks[j].coordinate,R=(this.state.offset.top+S)/2,B=k==="horizontal",z=B?{x:P,y:R}:{y:P,x:R},D=this.state.formattedGraphicalItems.find(function(U){var A=U.item;return A.type.name==="Scatter"});D&&(z=be(be({},z),D.props.points[j].tooltipPosition),C=D.props.points[j].tooltipPayload);var O={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:N,activePayload:C,activeCoordinate:z};this.setState(O),this.renderCursor(E),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){ON([Ys(b.children,wi)],[Ys(this.props.children,wi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Ys(this.props.children,wi);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return l.indexOf(w)>=0?w:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,_=w.getBoundingClientRect(),S=s$e(_),k={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},E=_.width/w.offsetWidth||1,j=this.inRange(k.chartX,k.chartY,E);if(!j)return null;var N=this.state,C=N.xAxisMap,P=N.yAxisMap,R=this.getTooltipEventType();if(R!=="axis"&&C&&P){var B=wl(C).scale,z=wl(P).scale,D=B&&B.invert?B.invert(k.chartX):null,O=z&&z.invert?z.invert(k.chartY):null;return be(be({},k),{},{xValue:D,yValue:O})}var U=lF(this.state,this.props.data,this.props.layout,j);return U?be(be({},k),U):null}},{key:"inRange",value:function(b,w){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,k=b/_,E=w/_;if(S==="horizontal"||S==="vertical"){var j=this.state.offset,N=k>=j.left&&k<=j.left+j.width&&E>=j.top&&E<=j.top+j.height;return N?{x:k,y:E}:null}var C=this.state,P=C.angleAxisMap,R=C.radiusAxisMap;if(P&&R){var B=wl(P);return V5({x:k,y:E},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),_=Ys(b,wi),S={};_&&w==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var k=Qx(this.props,this.handleOuterEvent);return be(be({},k),S)}},{key:"addListener",value:function(){Ej.on(Nj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ej.removeListener(Nj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,_){for(var S=this.state.formattedGraphicalItems,k=0,E=S.length;k<E;k++){var j=S[k];if(j.item===b||j.props.key===b.key||w===Co(j.item.type)&&_===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,_=w.left,S=w.top,k=w.height,E=w.width;return M.createElement("defs",null,M.createElement("clipPath",{id:b},M.createElement("rect",{x:_,y:S,height:k,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,_){var S=aF(_,2),k=S[0],E=S[1];return be(be({},w),{},Et({},k,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,_){var S=aF(_,2),k=S[0],E=S[1];return be(be({},w),{},Et({},k,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,_=w.formattedGraphicalItems,S=w.activeItem;if(_&&_.length)for(var k=0,E=_.length;k<E;k++){var j=_[k],N=j.props,C=j.item,P=C.type.defaultProps!==void 0?be(be({},C.type.defaultProps),C.props):C.props,R=Co(C.type);if(R==="Bar"){var B=(N.data||[]).find(function(U){return B5e(b,U)});if(B)return{graphicalItem:j,payload:B}}else if(R==="RadialBar"){var z=(N.data||[]).find(function(U){return V5(b,U)});if(z)return{graphicalItem:j,payload:z}}else if(J1(j,S)||X1(j,S)||Yg(j,S)){var D=qDe({graphicalItem:j,activeTooltipItem:S,itemData:P.data}),O=P.activeIndex===void 0?D:P.activeIndex;return{graphicalItem:be(be({},j),{},{childIndex:O}),payload:Yg(j,S)?P.data[D]:j.props.data[D]}}}return null}},{key:"render",value:function(){var b=this;if(!I3(this))return null;var w=this.props,_=w.children,S=w.className,k=w.width,E=w.height,j=w.style,N=w.compact,C=w.title,P=w.desc,R=iF(w,FBe),B=nr(R,!1);if(N)return M.createElement(WD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(RN,Om({},B,{width:k,height:E,title:C,desc:P}),this.renderClipPath(),D3(_,this.renderMap)));if(this.props.accessibilityLayer){var z,D;B.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,B.role=(D=this.props.role)!==null&&D!==void 0?D:"application",B.onKeyDown=function(U){b.accessibilityManager.keyboardEvent(U)},B.onFocus=function(){b.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return M.createElement(WD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Om({className:Qt("recharts-wrapper",S),style:be({position:"relative",cursor:"default",width:k,height:E},j)},O,{ref:function(A){b.container=A}}),M.createElement(RN,Om({},B,{width:k,height:E,title:C,desc:P,style:rUe}),this.renderClipPath(),D3(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(p.Component);return Et(g,"displayName",r),Et(g,"defaultProps",be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Et(g,"getDerivedStateFromProps",function(m,v){var x=m.dataKey,b=m.data,w=m.children,_=m.width,S=m.height,k=m.layout,E=m.stackOffset,j=m.margin,N=v.dataStartIndex,C=v.dataEndIndex;if(v.updateId===void 0){var P=cF(m);return be(be(be({},P),{},{updateId:0},y(be(be({props:m},P),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:b,prevWidth:_,prevHeight:S,prevLayout:k,prevStackOffset:E,prevMargin:j,prevChildren:w})}if(x!==v.prevDataKey||b!==v.prevData||_!==v.prevWidth||S!==v.prevHeight||k!==v.prevLayout||E!==v.prevStackOffset||!sf(j,v.prevMargin)){var R=cF(m),B={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},z=be(be({},lF(v,b,k)),{},{updateId:v.updateId+1}),D=be(be(be({},R),B),z);return be(be(be({},D),y(be({props:m},D),v)),{},{prevDataKey:x,prevData:b,prevWidth:_,prevHeight:S,prevLayout:k,prevStackOffset:E,prevMargin:j,prevChildren:w})}if(!ON(w,v.prevChildren)){var O,U,A,I,te=Ys(w,th),$=te&&(O=(U=te.props)===null||U===void 0?void 0:U.startIndex)!==null&&O!==void 0?O:N,V=te&&(A=(I=te.props)===null||I===void 0?void 0:I.endIndex)!==null&&A!==void 0?A:C,W=$!==N||V!==C,ee=!ir(b),ie=ee&&!W?v.updateId:v.updateId+1;return be(be({updateId:ie},y(be(be({props:m},v),{},{updateId:ie,dataStartIndex:$,dataEndIndex:V}),v)),{},{prevChildren:w,dataStartIndex:$,dataEndIndex:V})}return null}),Et(g,"renderActiveDot",function(m,v,x){var b;return p.isValidElement(m)?b=p.cloneElement(m,v):Vt(m)?b=m(v):b=M.createElement(dG,v),M.createElement(An,{className:"recharts-active-dot",key:x},b)}),function(v){return M.createElement(g,v)}},fO=fUe({chartName:"BarChart",GraphicalChild:Xo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Xh},{axisType:"yAxis",AxisComp:Qh}],formatAxisMap:p6e});const hUe={light:"",dark:".dark"},rY=p.createContext(null);function nY(){const e=p.useContext(rY);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const s_=p.forwardRef(({id:e,className:t,children:r,config:n,...s},a)=>{const i=p.useId(),l=`chart-${e||i.replace(/:/g,"")}`;return o.jsx(rY.Provider,{value:{config:n},children:o.jsxs("div",{"data-chart":l,ref:a,className:le("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...s,children:[o.jsx(pUe,{id:l,config:n}),o.jsx(XOe,{children:r})]})})});s_.displayName="Chart";const pUe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,s])=>s.theme||s.color);return r.length?o.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(hUe).map(([n,s])=>`
${s} [data-chart=${e}] {
${r.map(([a,i])=>{var c;const l=((c=i.theme)==null?void 0:c[n])||i.color;return l?`  --color-${a}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},hO=wi,mUe=p.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:s=!1,hideIndicator:a=!1,label:i,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},y)=>{const{config:g}=nY(),m=p.useMemo(()=>{var S;if(s||!(t!=null&&t.length))return null;const[x]=t,b=`${h||x.dataKey||x.name||"value"}`,w=QC(g,x,b),_=!h&&typeof i=="string"?((S=g[i])==null?void 0:S.label)||i:w==null?void 0:w.label;return l?o.jsx("div",{className:le("font-medium",c),children:l(_,t)}):_?o.jsx("div",{className:le("font-medium",c),children:_}):null},[i,l,t,s,c,g,h]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return o.jsxs("div",{ref:y,className:le("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:m,o.jsx("div",{className:"grid gap-1.5",children:t.map((x,b)=>{const w=`${f||x.name||x.dataKey||"value"}`,_=QC(g,x,w),S=d||x.payload.fill||x.color;return o.jsx("div",{className:le("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(x==null?void 0:x.value)!==void 0&&x.name?u(x.value,x.name,x,b,x.payload):o.jsxs(o.Fragment,{children:[_!=null&&_.icon?o.jsx(_.icon,{}):!a&&o.jsx("div",{className:le("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),o.jsxs("div",{className:le("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[o.jsxs("div",{className:"grid gap-1.5",children:[v?m:null,o.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||x.name})]}),x.value&&o.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});mUe.displayName="ChartTooltip";const gUe=p.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:s},a)=>{const{config:i}=nY();return r!=null&&r.length?o.jsx("div",{ref:a,className:le("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${s||l.dataKey||"value"}`,u=QC(i,l,c);return o.jsxs("div",{className:le("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?o.jsx(u.icon,{}):o.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});gUe.displayName="ChartLegend";function QC(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let s=r;return r in t&&typeof t[r]=="string"?s=t[r]:n&&r in n&&typeof n[r]=="string"&&(s=n[r]),s in e?e[s]:e[r]}const dh=fA,yUe=hA,vUe=p.forwardRef(({className:e,...t},r)=>o.jsx(Ph,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));vUe.displayName=Ph.displayName;const xUe=ky("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-150 data-[state=open]:duration-200",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",rightProfile:"inset-y-0 right-0 h-full w-full md:w-[30%] border-l md:rounded-l-[24px] data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 md:data-[state=closed]:slide-out-to-right md:data-[state=open]:slide-in-from-right"}},defaultVariants:{side:"right"}}),Mu=p.forwardRef(({side:e="right",className:t,children:r,overlayClassName:n,...s},a)=>o.jsxs(yUe,{children:[o.jsx(Ph,{className:le("fixed inset-0 z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n??"bg-black/80")}),o.jsx(Py,{ref:a,className:le(xUe({side:e}),t),...s,children:r})]}));Mu.displayName=Py.displayName;const Iu=({className:e,...t})=>o.jsx("div",{className:le("flex flex-row items-center justify-between gap-3 min-h-[2.5rem] text-left shrink-0 border-b border-gray-200 dark:border-gray-700",e),...t});Iu.displayName="SheetHeader";const Lu=p.forwardRef(({className:e,...t},r)=>o.jsx(Ay,{ref:r,className:le("text-lg font-semibold text-foreground",e),...t}));Lu.displayName=Ay.displayName;const bUe=p.forwardRef(({className:e,...t},r)=>o.jsx(Ty,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));bUe.displayName=Ty.displayName;const ry=p.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 hover:ring-0 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ry.displayName="Textarea";const wUe=async({phoneNumber:e,code:t,sender:r="Breneo"})=>{throw new Error("SMS API key is not configured.")},_Ue="breneo:phoneVerified",Lp=typeof window<"u",SUe=e=>e?e.toLowerCase():"user",jUe=(e,t,r)=>{const n=SUe(r);return`${_Ue}:${n}:${t??e??"unknown"}`},sY=e=>{const{phoneNumber:t,ownerId:r,role:n,initiallyVerified:s,sender:a="Breneo",resendDelaySeconds:i=60}=e,l=p.useMemo(()=>jUe(t??void 0,r,n),[r,t,n]),[c,u]=p.useState(()=>s?!0:Lp?localStorage.getItem(l)==="true":!1),[d,f]=p.useState(null),[h,y]=p.useState(!1),[g,m]=p.useState(""),[v,x]=p.useState(!1),[b,w]=p.useState(!1),[_,S]=p.useState(0);p.useEffect(()=>{typeof s=="boolean"&&s&&(u(!0),Lp&&localStorage.setItem(l,"true"))},[s,l]),p.useEffect(()=>{if(!t){u(!1),f(null),y(!1),m("");return}if(!s&&Lp){const C=localStorage.getItem(l);u(C==="true")}},[s,t,l]),p.useEffect(()=>{if(_<=0)return;const C=window.setInterval(()=>{S(P=>{const R=P-1;return R>=0?R:0})},1e3);return()=>window.clearInterval(C)},[_]);const k=()=>Math.floor(1e5+Math.random()*9e5).toString(),E=p.useCallback(async()=>{if(!t)throw new Error("Phone number is missing. Please add it before verifying.");if(_>0)throw new Error(`Please wait ${_} second${_===1?"":"s"} before requesting a new code.`);x(!0);try{const C=k();await wUe({phoneNumber:t,code:C,sender:a}),f(C),y(!0),S(i)}finally{x(!1)}},[t,_,i,a]),j=p.useCallback(async()=>{if(!h||!d)throw new Error("No verification code has been sent yet.");const C=g.replace(/\D/g,"");if(C.length!==6)throw new Error("Please enter the 6-digit verification code.");w(!0);try{if(C!==d)throw new Error("The verification code you entered is incorrect.");return u(!0),y(!1),f(null),m(""),Lp&&localStorage.setItem(l,"true"),!0}finally{w(!1)}},[g,h,d,l]),N=p.useCallback(()=>{u(!1),f(null),y(!1),m(""),S(0),Lp&&localStorage.removeItem(l)},[l]);return{isPhoneVerified:c,isSendingCode:v,isVerifyingCode:b,codeSent:h,codeInput:g,resendCooldown:_,sendCode:E,verifyCode:j,setCodeInput:m,resetVerification:N}},kUe=Je.AUTH.PROFILE,EUe=Je.AUTH.PROFILE,ls={async getProfile(){const{data:e}=await Se.get(kUe);return e},async updateProfile(e){const{data:t}=await Se.patch(EUe,e);return t},async getEducations(){const{data:e}=await Se.get(Je.EDUCATIONS);return Array.isArray(e)?e:(e==null?void 0:e.results)??(e==null?void 0:e.items)??[]},async createEducation(e){const{data:t}=await Se.post(Je.EDUCATIONS,e);return t},async getEducation(e){const{data:t}=await Se.get(`${Je.EDUCATIONS}${e}/`);return t},async updateEducation(e,t){const{data:r}=await Se.patch(`${Je.EDUCATIONS}${e}/`,t);return r},async deleteEducation(e){await Se.delete(`${Je.EDUCATIONS}${e}/`)},async getWorkExperiences(){const{data:e}=await Se.get(Je.WORK_EXPERIENCES);return Array.isArray(e)?e:(e==null?void 0:e.results)??(e==null?void 0:e.items)??[]},async createWorkExperience(e){const{data:t}=await Se.post(Je.WORK_EXPERIENCES,e);return t},async getWorkExperience(e){const{data:t}=await Se.get(`${Je.WORK_EXPERIENCES}${e}/`);return t},async updateWorkExperience(e,t){const{data:r}=await Se.patch(`${Je.WORK_EXPERIENCES}${e}/`,t);return r},async deleteWorkExperience(e){await Se.delete(`${Je.WORK_EXPERIENCES}${e}/`)},async getMySkills(){const{data:e}=await Se.get(Je.ME.SKILLS);return Array.isArray(e)?e:(e==null?void 0:e.results)??(e==null?void 0:e.items)??[]},async addSkill(e){const{data:t}=await Se.post(Je.ME.SKILLS,{name:e});return t},async removeSkill(e){await Se.delete(`${Je.ME.SKILLS}${e}/`)},async searchSkills(e){if(!e.trim())return[];const{data:t}=await Se.get(Je.SKILLS_SEARCH,{params:{query:e.trim()}});return Array.isArray(t)?t:(t==null?void 0:t.results)??(t==null?void 0:t.items)??[]}};function NUe({open:e,onOpenChange:t,initial:r,onSave:n}){var O,U,A,I,te;const[s,a]=p.useState(r.first_name??""),[i,l]=p.useState(r.last_name??""),[c,u]=p.useState(r.email??""),[d,f]=p.useState(r.phone_number??""),[h,y]=p.useState(r.country_region??""),[g,m]=p.useState(r.city??""),[v,x]=p.useState(((O=r.social_links)==null?void 0:O.github)??""),[b,w]=p.useState(((U=r.social_links)==null?void 0:U.linkedin)??""),[_,S]=p.useState(((A=r.social_links)==null?void 0:A.facebook)??""),[k,E]=p.useState(((I=r.social_links)==null?void 0:I.instagram)??""),[j,N]=p.useState(((te=r.social_links)==null?void 0:te.dribbble)??""),[C,P]=p.useState(!1),[R,B]=p.useState(null),z=$=>$.trim().startsWith("http")?$.trim():`https://${$.trim()}`;p.useEffect(()=>{var $,V,W,ee,ie;e&&(a(r.first_name??""),l(r.last_name??""),u(r.email??""),f(r.phone_number??""),y(r.country_region??""),m(r.city??""),x((($=r.social_links)==null?void 0:$.github)??""),w(((V=r.social_links)==null?void 0:V.linkedin)??""),S(((W=r.social_links)==null?void 0:W.facebook)??""),E(((ee=r.social_links)==null?void 0:ee.instagram)??""),N(((ie=r.social_links)==null?void 0:ie.dribbble)??""),B(null))},[e,r]);const D=async $=>{$.preventDefault(),B(null),P(!0);try{const V={};v.trim()&&(V.github=z(v)),b.trim()&&(V.linkedin=z(b)),_.trim()&&(V.facebook=z(_)),k.trim()&&(V.instagram=z(k)),j.trim()&&(V.dribbble=z(j)),await n({first_name:s.trim()||void 0,last_name:i.trim()||void 0,email:c.trim()||void 0,phone_number:d.trim()||void 0,country_region:h.trim()||void 0,city:g.trim()||void 0,social_links:Object.keys(V).length?V:void 0}),t(!1)}catch(V){const W=V&&typeof V=="object"&&"message"in V?String(V.message):"Could not save";B(W)}finally{P(!1)}};return o.jsx(dh,{open:e,onOpenChange:t,children:o.jsxs(Mu,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(Iu,{className:"bg-white dark:bg-[#181818] pb-3",children:[o.jsx(Lu,{className:"flex-1 min-w-0",children:"Edit personal information"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[o.jsx(ne,{type:"submit",form:"edit-personal-info-form",size:"sm",disabled:C,children:C?o.jsxs(o.Fragment,{children:[o.jsx(aa,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):"Save"}),o.jsx(ne,{type:"button",variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>t(!1),disabled:C,"aria-label":"Cancel",children:o.jsx(Er,{className:"h-4 w-4"})})]})]}),o.jsx("form",{id:"edit-personal-info-form",onSubmit:D,className:"flex flex-col flex-1 min-h-0",children:o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:[R&&o.jsx("p",{className:"text-sm text-destructive font-medium",children:R}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"first_name",children:"First name"}),o.jsx(Qe,{id:"first_name",value:s,onChange:$=>a($.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"last_name",children:"Last name"}),o.jsx(Qe,{id:"last_name",value:i,onChange:$=>l($.target.value)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"email",children:"Email"}),o.jsx(Qe,{id:"email",type:"email",value:c,onChange:$=>u($.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"phone_number",children:"Phone number"}),o.jsx(Qe,{id:"phone_number",value:d,onChange:$=>f($.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"country_region",children:"Country / Region"}),o.jsx(Qe,{id:"country_region",value:h,onChange:$=>y($.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"city",children:"City"}),o.jsx(Qe,{id:"city",value:g,onChange:$=>m($.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"Social links (optional)"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(Pe,{htmlFor:"github",children:"GitHub"}),o.jsx(Qe,{id:"github",type:"url",placeholder:"https://github.com/username",value:v,onChange:$=>x($.target.value)})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(Pe,{htmlFor:"linkedin",children:"LinkedIn"}),o.jsx(Qe,{id:"linkedin",type:"url",placeholder:"https://linkedin.com/in/username",value:b,onChange:$=>w($.target.value)})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(Pe,{htmlFor:"facebook",children:"Facebook"}),o.jsx(Qe,{id:"facebook",type:"url",placeholder:"https://facebook.com/username",value:_,onChange:$=>S($.target.value)})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(Pe,{htmlFor:"instagram",children:"Instagram"}),o.jsx(Qe,{id:"instagram",type:"url",placeholder:"https://instagram.com/username",value:k,onChange:$=>E($.target.value)})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(Pe,{htmlFor:"dribbble",children:"Dribbble"}),o.jsx(Qe,{id:"dribbble",type:"url",placeholder:"https://dribbble.com/username",value:j,onChange:$=>N($.target.value)})]})]})]})]})})]})})}function a_(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var pO="Checkbox",[CUe,lGe]=la(pO),[PUe,AUe]=CUe(pO),aY=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,y]=p.useState(null),g=xt(t,_=>y(_)),m=p.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,b]=li({prop:s,defaultProp:a,onChange:u}),w=p.useRef(x);return p.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const S=()=>b(w.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[h,b]),o.jsxs(PUe,{scope:r,state:x,disabled:l,children:[o.jsx(ot.button,{type:"button",role:"checkbox","aria-checked":Zl(x)?"mixed":x,"aria-required":i,"data-state":lY(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onKeyDown:Be(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Be(e.onClick,_=>{b(S=>Zl(S)?!0:!S),v&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})}),v&&o.jsx(TUe,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Zl(a)?!1:a})]})});aY.displayName=pO;var iY="CheckboxIndicator",oY=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=AUe(iY,r);return o.jsx(xs,{present:n||Zl(a.state)||a.state===!0,children:o.jsx(ot.span,{"data-state":lY(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});oY.displayName=iY;var TUe=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...a}=e,i=p.useRef(null),l=a_(r),c=Pw(t);p.useEffect(()=>{const d=i.current,f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&y){const g=new Event("click",{bubbles:n});d.indeterminate=Zl(r),y.call(d,Zl(r)?!1:r),d.dispatchEvent(g)}},[l,r,n]);const u=p.useRef(Zl(r)?!1:r);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Zl(e){return e==="indeterminate"}function lY(e){return Zl(e)?"indeterminate":e?"checked":"unchecked"}var cY=aY,OUe=oY;const Fn=p.forwardRef(({className:e,...t},r)=>o.jsx(cY,{ref:r,className:le("peer h-4 w-4 shrink-0 rounded-[2px] border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:border-primary dark:data-[state=checked]:bg-primary dark:data-[state=checked]:border-primary",e),...t,children:o.jsx(OUe,{className:le("flex items-center justify-center text-white"),children:o.jsx(Fw,{className:"h-4 w-4 text-white"})})}));Fn.displayName=cY.displayName;const dF=[{value:"High School",label:"High School"},{value:"Diploma / Certificate",label:"Diploma / Certificate"},{value:"Associate",label:"Associate"},{value:"Bachelor's",label:"Bachelor's"},{value:"Master's",label:"Master's"},{value:"MBA",label:"MBA"},{value:"Doctorate (PhD)",label:"Doctorate (PhD)"},{value:"Bootcamp / Short Program",label:"Bootcamp / Short Program"},{value:"Other",label:"Other"}];function $Ue({value:e,onChange:t}){var i;const[r,n]=p.useState(!1),s=p.useRef(null);p.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&n(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const a=(i=dF.find(l=>l.value===e))==null?void 0:i.label;return o.jsxs("div",{ref:s,className:"relative",children:[o.jsxs("button",{type:"button",onClick:()=>n(!r),className:le("flex h-[3.2rem] w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-base md:text-sm","focus:outline-none focus:ring-0 disabled:cursor-not-allowed disabled:opacity-50",r&&"bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600",!a&&"text-muted-foreground"),children:[o.jsx("span",{className:"truncate",children:a||"Select degree type"}),o.jsx(Do,{className:"h-4 w-4 shrink-0 opacity-50"})]}),r&&o.jsx("ul",{className:"absolute z-50 mt-1 w-full space-y-1 rounded-lg border border-gray-200 bg-white p-2 shadow-lg max-h-48 overflow-y-auto dark:border-gray-700 dark:bg-[#242424]",role:"listbox",children:dF.map(l=>o.jsx("li",{role:"option","aria-selected":e===l.value,className:le("cursor-pointer select-none rounded-md px-3 py-2.5 text-base md:text-sm","hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-gray-100",e===l.value&&"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-gray-100"),onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),t(l.value),n(!1)},children:l.label},l.value))})]})}function RUe(e){return{id:e.id,school_name:e.school_name??"",major:e.major??"",degree_type:e.degree_type??"",gpa:e.gpa??"",start_date:e.start_date??"",end_date:e.is_current?"":e.end_date??"",is_current:e.is_current??!1}}function MUe({open:e,onOpenChange:t,entries:r,onSave:n}){const[s,a]=p.useState([]),[i,l]=p.useState(!1),[c,u]=p.useState(null);p.useEffect(()=>{e&&(a(r.length?r.map(RUe):[]),u(null))},[e,r]);const d=()=>{s.length>=10||a(m=>[...m,{id:null,school_name:"",major:"",degree_type:"",gpa:"",start_date:"",end_date:"",is_current:!1}])},f=(m,v,x)=>{a(b=>{const w=[...b];return w[m][v]=x,v==="is_current"&&x===!0&&(w[m].end_date=""),w})},h=m=>{a(v=>v.filter((x,b)=>b!==m))},y=()=>{for(let m=0;m<s.length;m++){const v=s[m];if(!v.school_name.trim())return"School name is required for all entries.";if(!v.start_date.trim())return"Start date is required for all entries.";if(!v.is_current&&v.end_date&&v.start_date>v.end_date)return"Start date must be before or equal to end date."}return null},g=async m=>{m.preventDefault();const v=y();if(v){u(v);return}u(null),l(!0);try{const x=[],b=[],w=[];for(const S of s){const k={school_name:S.school_name.trim(),major:S.major.trim()||void 0,degree_type:S.degree_type.trim()||void 0,gpa:S.gpa.trim()||void 0,start_date:S.start_date,end_date:S.is_current?void 0:S.end_date.trim()||void 0,is_current:S.is_current};S.id==null?x.push(k):b.push({id:S.id,payload:k})}const _=new Set(r.map(S=>S.id));for(const S of r)s.some(k=>k.id===S.id)||w.push(S.id);await n(x,b,w),t(!1)}catch(x){const b=x&&typeof x=="object"&&"message"in x?String(x.message):"Could not save";u(b)}finally{l(!1)}};return o.jsx(dh,{open:e,onOpenChange:t,children:o.jsxs(Mu,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(Iu,{className:"bg-white dark:bg-[#181818] pb-3",children:[o.jsx(Lu,{className:"flex-1 min-w-0",children:"Edit education"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[o.jsx(ne,{type:"submit",form:"edit-education-form",size:"sm",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(aa,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):"Save"}),o.jsx(ne,{type:"button",variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>t(!1),disabled:i,"aria-label":"Cancel",children:o.jsx(Er,{className:"h-4 w-4"})})]})]}),o.jsx("form",{id:"edit-education-form",onSubmit:g,className:"flex flex-col flex-1 min-h-0",children:o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:[c&&o.jsx("p",{className:"text-sm text-destructive font-medium",children:c}),o.jsx("div",{className:"space-y-4",children:s.map((m,v)=>o.jsxs("div",{className:"p-4 rounded-lg space-y-3 bg-gray-100 dark:bg-[#242424]",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm font-medium",children:["Education ",v+1]}),o.jsx(ne,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>h(v),"aria-label":`Remove education ${v+1}`,children:o.jsx(du,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"School name"}),o.jsx(Qe,{value:m.school_name,onChange:x=>f(v,"school_name",x.target.value),placeholder:"University or school name"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"Major"}),o.jsx(Qe,{value:m.major,onChange:x=>f(v,"major",x.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"Degree type"}),o.jsx($Ue,{value:m.degree_type,onChange:x=>f(v,"degree_type",x)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"GPA (optional)"}),o.jsx(Qe,{value:m.gpa,onChange:x=>f(v,"gpa",x.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"Start date"}),o.jsx(Qe,{type:"date",value:m.start_date,onChange:x=>f(v,"start_date",x.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"End date"}),o.jsx(Qe,{type:"date",value:m.end_date,onChange:x=>f(v,"end_date",x.target.value),disabled:m.is_current})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fn,{id:`current-${v}`,checked:m.is_current,onCheckedChange:x=>f(v,"is_current",x===!0)}),o.jsx(Pe,{htmlFor:`current-${v}`,className:"cursor-pointer",children:"Currently studying here"})]})]},m.id??`new-${v}`))}),s.length<10&&o.jsxs(ne,{type:"button",variant:"outline",onClick:d,className:"w-full",children:[o.jsx(Uw,{className:"h-4 w-4 mr-2"}),"Add education"]})]})})]})})}const fF=[{value:"Full time",label:"Full time"},{value:"Part time",label:"Part time"},{value:"Contract",label:"Contract"},{value:"Internship",label:"Internship"}];function IUe({value:e,onChange:t}){var i;const[r,n]=p.useState(!1),s=p.useRef(null);p.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&n(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const a=(i=fF.find(l=>l.value===e))==null?void 0:i.label;return o.jsxs("div",{ref:s,className:"relative",children:[o.jsxs("button",{type:"button",onClick:()=>n(!r),className:le("flex h-[3.2rem] w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-base md:text-sm","focus:outline-none focus:ring-0 disabled:cursor-not-allowed disabled:opacity-50",r&&"bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600",!a&&"text-muted-foreground"),children:[o.jsx("span",{className:"truncate",children:a||"Select job type"}),o.jsx(Do,{className:"h-4 w-4 shrink-0 opacity-50"})]}),r&&o.jsx("ul",{className:"absolute z-50 mt-1 w-full space-y-1 rounded-lg border border-gray-200 bg-white p-2 shadow-lg max-h-48 overflow-y-auto dark:border-gray-700 dark:bg-[#242424]",role:"listbox",children:fF.map(l=>o.jsx("li",{role:"option","aria-selected":e===l.value,className:le("cursor-pointer select-none rounded-md px-3 py-2.5 text-base md:text-sm","hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-gray-100",e===l.value&&"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-gray-100"),onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),t(l.value),n(!1)},children:l.label},l.value))})]})}const LUe="https://nominatim.openstreetmap.org/search",DUe=400,Pj=3;function FUe(e){const t=e.address;if(!t)return e.display_name||"";const r=t.city||t.town||t.village||t.state||"",n=t.country||"";return r&&n?`${r}, ${n}`:n||e.display_name||""}function BUe({value:e,onChange:t,placeholder:r}){const[n,s]=p.useState([]),[a,i]=p.useState(!1),[l,c]=p.useState(!1),u=p.useRef(null),d=p.useRef(null),f=p.useCallback(async h=>{if(h.length<Pj){s([]);return}i(!0);try{const y=new URLSearchParams({q:h,format:"json",addressdetails:"1",limit:"8"}),v=(await(await fetch(`${LUe}?${y}`,{headers:{Accept:"application/json","User-Agent":"BreneoApp/1.0 (Work Experience Location)"}})).json()).map(x=>FUe(x));s(v),c(!0)}catch{s([])}finally{i(!1)}},[]);return p.useEffect(()=>{u.current&&clearTimeout(u.current);const h=e.trim();if(h.length<Pj){s([]),c(!1);return}return u.current=setTimeout(()=>f(h),DUe),()=>{u.current&&clearTimeout(u.current)}},[e,f]),p.useEffect(()=>{const h=y=>{const g=y.target;d.current&&!d.current.contains(g)&&c(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]),o.jsxs("div",{ref:d,className:"relative",children:[o.jsxs("div",{className:le("flex h-[3.2rem] w-full items-center rounded-md border border-input bg-background px-3 py-2","focus-within:outline-none focus-within:ring-0",l&&"bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600"),children:[o.jsx("input",{value:e,onChange:h=>t(h.target.value),onFocus:()=>e.trim().length>=Pj&&c(!0),placeholder:r,className:"flex-1 min-w-0 bg-transparent text-base md:text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-0"}),o.jsx(Do,{className:"h-4 w-4 shrink-0 opacity-50 text-muted-foreground"})]}),l&&(n.length>0||a)&&o.jsxs("ul",{className:"absolute z-50 mt-1 w-full space-y-1 rounded-lg border border-gray-200 bg-white p-2 shadow-lg max-h-48 overflow-auto dark:border-gray-700 dark:bg-[#242424]",role:"listbox",children:[a&&o.jsxs("li",{className:"flex items-center gap-2 rounded-md px-3 py-2.5 text-base md:text-sm text-muted-foreground",children:[o.jsx(aa,{className:"h-4 w-4 animate-spin"}),"Searching..."]}),!a&&n.map((h,y)=>o.jsx("li",{role:"option",className:"cursor-pointer select-none rounded-md px-3 py-2.5 text-base md:text-sm hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-gray-100",onMouseDown:g=>{g.preventDefault(),g.stopPropagation(),t(h),c(!1)},children:h},`${h}-${y}`))]})]})}function UUe(e){return{id:e.id,job_title:e.job_title??"",company:e.company??"",job_type:e.job_type??"",location:e.location??"",start_date:e.start_date??"",end_date:e.is_current?"":e.end_date??"",is_current:e.is_current??!1}}function zUe({open:e,onOpenChange:t,entries:r,onSave:n}){const[s,a]=p.useState([]),[i,l]=p.useState(!1),[c,u]=p.useState(null);p.useEffect(()=>{e&&(a(r.length?r.map(UUe):[]),u(null))},[e,r]);const d=()=>{s.length>=10||a(m=>[...m,{id:null,job_title:"",company:"",job_type:"",location:"",start_date:"",end_date:"",is_current:!1}])},f=(m,v,x)=>{a(b=>{const w=[...b];return w[m][v]=x,v==="is_current"&&x===!0&&(w[m].end_date=""),w})},h=m=>{a(v=>v.filter((x,b)=>b!==m))},y=()=>{for(const m of s){if(!m.job_title.trim())return"Job title is required for all entries.";if(!m.company.trim())return"Company is required for all entries.";if(!m.job_type.trim())return"Job type is required for all entries.";if(!m.location.trim())return"Location is required for all entries.";if(!m.start_date.trim())return"Start date is required for all entries.";if(!m.is_current&&m.end_date&&m.start_date>m.end_date)return"Start date must be before or equal to end date."}return null},g=async m=>{m.preventDefault();const v=y();if(v){u(v);return}u(null),l(!0);try{const x=[],b=[],w=[];for(const _ of s){const S={job_title:_.job_title.trim(),company:_.company.trim(),job_type:_.job_type.trim()||null,location:_.location.trim()||null,start_date:_.start_date,end_date:_.is_current?void 0:_.end_date.trim()||void 0,is_current:_.is_current};_.id==null?x.push(S):b.push({id:_.id,payload:S})}for(const _ of r)s.some(S=>S.id===_.id)||w.push(_.id);await n(x,b,w),t(!1)}catch(x){const b=x&&typeof x=="object"&&"message"in x?String(x.message):"Could not save";u(b)}finally{l(!1)}};return o.jsx(dh,{open:e,onOpenChange:t,children:o.jsxs(Mu,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(Iu,{className:"bg-white dark:bg-[#181818] pb-3",children:[o.jsx(Lu,{className:"flex-1 min-w-0",children:"Edit work experience"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[o.jsx(ne,{type:"submit",form:"edit-work-experience-form",size:"sm",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(aa,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):"Save"}),o.jsx(ne,{type:"button",variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>t(!1),disabled:i,"aria-label":"Cancel",children:o.jsx(Er,{className:"h-4 w-4"})})]})]}),o.jsx("form",{id:"edit-work-experience-form",onSubmit:g,className:"flex flex-col flex-1 min-h-0",children:o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:[c&&o.jsx("p",{className:"text-sm text-destructive font-medium",children:c}),o.jsx("div",{className:"space-y-4",children:s.map((m,v)=>o.jsxs("div",{className:"p-4 rounded-lg space-y-3 bg-gray-100 dark:bg-[#242424]",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm font-medium",children:["Work experience ",v+1]}),o.jsx(ne,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>h(v),"aria-label":`Remove work experience ${v+1}`,children:o.jsx(du,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"Job title"}),o.jsx(Qe,{value:m.job_title,onChange:x=>f(v,"job_title",x.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"Company"}),o.jsx(Qe,{value:m.company,onChange:x=>f(v,"company",x.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"Job type"}),o.jsx(IUe,{value:m.job_type,onChange:x=>f(v,"job_type",x)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"Location"}),o.jsx(BUe,{value:m.location,onChange:x=>f(v,"location",x),placeholder:"e.g. Tbilisi, Georgia"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"Start date"}),o.jsx(Qe,{type:"date",value:m.start_date,onChange:x=>f(v,"start_date",x.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"End date"}),o.jsx(Qe,{type:"date",value:m.end_date,onChange:x=>f(v,"end_date",x.target.value),disabled:m.is_current})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fn,{id:`current-we-${v}`,checked:m.is_current,onCheckedChange:x=>f(v,"is_current",x===!0)}),o.jsx(Pe,{htmlFor:`current-we-${v}`,className:"cursor-pointer",children:"I currently work here"})]})]},m.id??`new-${v}`))}),s.length<10&&o.jsxs(ne,{type:"button",variant:"outline",onClick:d,className:"w-full",children:[o.jsx(Uw,{className:"h-4 w-4 mr-2"}),"Add work experience"]})]})})]})})}const hF=3,qUe=250;function WUe({open:e,onOpenChange:t,skills:r,onAddSkill:n,onRemoveSkill:s,onRefresh:a}){const[i,l]=p.useState(""),[c,u]=p.useState(!1),[d,f]=p.useState(null),[h,y]=p.useState(null),[g,m]=p.useState([]),[v,x]=p.useState(!1),b=p.useRef(null),w=new Set(r.map(N=>N.skill_name.toLowerCase())),_=p.useCallback(async N=>{const C=(N??i.trim()).trim();if(C){y(null),u(!0),m([]);try{await n(C),l(""),a()}catch{y("Could not add skill")}finally{u(!1)}}},[i,n,a]),S=N=>{N.key==="Enter"&&(N.preventDefault(),_())},k=p.useCallback(async N=>{await _(N.name)},[_]),E=p.useCallback(async N=>{y(null),f(N);try{await s(N),a()}catch{y("Could not remove skill")}finally{f(null)}},[s,a]);p.useEffect(()=>{const N=i.trim();if(N.length<hF){m([]),b.current&&(clearTimeout(b.current),b.current=null);return}return b.current&&clearTimeout(b.current),b.current=setTimeout(async()=>{b.current=null,x(!0);try{const C=await ls.searchSkills(N);m(C)}catch{m([])}finally{x(!1)}},qUe),()=>{b.current&&clearTimeout(b.current)}},[i]);const j=g.filter(N=>!w.has(N.name.toLowerCase()));return o.jsx(dh,{open:e,onOpenChange:t,children:o.jsxs(Mu,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(Iu,{className:"bg-white dark:bg-[#181818] pb-3 border-b border-gray-200 dark:border-gray-700",children:[o.jsx(Lu,{className:"flex-1 min-w-0",children:"Edit skills"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[o.jsx(ne,{type:"button",size:"sm",onClick:()=>t(!1),children:"Done"}),o.jsx(ne,{type:"button",variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>t(!1),"aria-label":"Close",children:o.jsx(Er,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"flex flex-col flex-1 min-h-0",children:o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:[h&&o.jsx("p",{className:"text-sm text-destructive font-medium",children:h}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qe,{placeholder:"Search or type a skill (e.g. React, Figma)",value:i,onChange:N=>l(N.target.value),onKeyDown:S,disabled:c}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Press Enter to add a skill."}),i.trim().length>=hF&&o.jsx("div",{className:"relative",children:v?o.jsxs("div",{className:"flex items-center gap-2 py-2 text-sm text-muted-foreground",children:[o.jsx(aa,{className:"h-4 w-4 animate-spin"}),"Loading suggestions"]}):j.length>0?o.jsx("ul",{className:"absolute z-10 mt-1 w-full max-h-48 overflow-y-auto rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-lg py-1",children:j.map(N=>o.jsx("li",{children:o.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-800 focus:bg-gray-100 dark:focus:bg-gray-800 outline-none",onClick:()=>k(N),children:N.name})},N.id))}):null})]}),o.jsx("div",{className:"flex flex-wrap gap-2 min-h-[2rem]",children:r.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills yet. Type above and press Enter to add one."}):r.map(N=>o.jsxs(Rt,{variant:"outline",className:"inline-flex items-center gap-1 capitalize px-3 py-1.5 text-xs rounded-[10px] bg-gray-100 text-gray-600 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700",children:[N.skill_name,o.jsx("button",{type:"button",className:"ml-1 rounded-full p-0.5 hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",onClick:()=>E(N.skill_id),disabled:d===N.skill_id,"aria-label":`Remove ${N.skill_name}`,children:d===N.skill_id?o.jsx(aa,{className:"h-3 w-3 animate-spin"}):o.jsx(Er,{className:"h-3 w-3"})})]},N.id))})]})})]})})}const VUe={paypal:["payments","fintech"],stripe:["payments","fintech"],amazon:["e-commerce","retail","cloud"],"amazon web services":["cloud","technology"],aws:["cloud","technology"],sap:["enterprise software","saas"],salesforce:["saas","enterprise software"],google:["technology","cloud"],microsoft:["technology","cloud","saas"],apple:["technology"],meta:["technology"],facebook:["technology"],spotify:["technology","marketplace"],netflix:["technology"],uber:["technology","marketplace"],airbnb:["marketplace","e-commerce"],shopify:["e-commerce","saas"],alibaba:["e-commerce","retail"],ebay:["e-commerce","marketplace"],adobe:["technology","saas"],oracle:["enterprise software","cloud"],ibm:["technology","cloud","enterprise software"],jpmorgan:["banking","fintech"],"jp morgan":["banking","fintech"],goldman:["banking","fintech"],"goldman sachs":["banking","fintech"],"morgan stanley":["banking","fintech"],visa:["payments","fintech"],mastercard:["payments","fintech"],square:["payments","fintech"],revolut:["fintech","banking","payments"],n26:["fintech","banking"],klarna:["fintech","payments","e-commerce"],plaid:["fintech","payments"],brex:["fintech"],merck:["pharma","healthcare"],pfizer:["pharma","healthcare"],johnson:["pharma","healthcare"],"johnson & johnson":["pharma","healthcare"],siemens:["technology","enterprise software"],bcg:["consulting"],"boston consulting":["consulting"],mckinsey:["consulting"],bain:["consulting"]};function HUe(e){return e==null||typeof e!="string"?"":e.trim().toLowerCase().replace(/[^\p{L}\p{N}\s]/gu," ").replace(/\s+/g," ").trim()}function KUe(e){const t=HUe(e);return t?VUe[t]??[]:[]}const GUe=10;function pF(e){if(e==null||typeof e!="string"||!e.trim())return null;const t=Date.parse(e.trim());return Number.isNaN(t)?null:t}function YUe(e,t,r){const n=pF(e);if(n==null)return 0;let s;if(t!=null&&String(t).trim()?s=pF(t)??Date.now():s=Date.now(),s<n)return 0;const a=(s-n)/(365.25*24*60*60*1e3);return Math.min(GUe,Math.max(0,a))}function JUe(e,t){const r={};for(const n of t){const s=n.company??n.companyName??"",a=KUe(s);if(a.length===0)continue;const i=YUe(n.startDate,n.endDate,n.is_current);if(!(i<=0))for(const l of a)r[l]=(r[l]??0)+i}return{userId:e,industryYearsJson:r,updatedAt:new Date().toISOString()}}function XUe(e){return{company:e.company,startDate:e.start_date,endDate:e.end_date,is_current:e.is_current}}async function QUe(e,t){const r=t.map(XUe),n=JUe("",r);await Se.put(Je.ME.INDUSTRY_PROFILE,{industry_years_json:n.industryYearsJson,updated_at:n.updatedAt})}const mF=e=>e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:`/${e}`:"/lovable-uploads/no_photo.png",ZUe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),e7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),t7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})}),r7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})}),n7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),s7e=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.921h-6.466v-14.921h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.015zm-3.466-8.921h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"})}),a7e=(e,t)=>{const r={className:t};switch(e){case"github":return o.jsx(ZUe,{...r});case"linkedin":return o.jsx(e7e,{...r});case"facebook":return o.jsx(t7e,{...r});case"instagram":return o.jsx(r7e,{...r});case"dribbble":return o.jsx(n7e,{...r});case"behance":return o.jsx(s7e,{...r});default:return o.jsx(iA,{className:t})}},i7e=e=>{const t=[],r=[e.job_title||e.title||"",e.description||e.job_description||"",e.job_required_experience||e.required_experience||""].join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]};return Object.keys(n).forEach(s=>{n[s].some(i=>r.includes(i))&&t.push(s)}),[...new Set(t)]},o7e=()=>{var Fe,Ct;const{user:e,loading:t,logout:r}=fr();ca();const n=lr(),s=zs(),a=Us();hi();const[i,l]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState(null),[h,y]=p.useState(!1),[g,m]=p.useState(null),[v,x]=p.useState(null),[b,w]=p.useState("profile"),[_,S]=p.useState("courses"),[k,E]=p.useState(!1),[j,N]=p.useState(Date.now());p.useEffect(()=>{const ae=s.hash;ae==="#saved"||ae==="#savedjobs"||ae==="#savedcourses"?(w("saved"),S(ae==="#savedjobs"?"jobs":"courses")):w("profile")},[s.hash]),p.useEffect(()=>{e!=null&&e.profile_image&&x(e.profile_image)},[e==null?void 0:e.profile_image]);const[C,P]=p.useState(!1),[R,B]=p.useState(""),[z,D]=p.useState(!1),[O,U]=p.useState(!1),[A,I]=p.useState({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}),[te,$]=p.useState([]),[V,W]=p.useState([]),[ee,ie]=p.useState([]),[G,q]=p.useState(!1),[Z,Y]=p.useState(!1),[J,se]=p.useState(!1),[Q,ue]=p.useState(!1),[ce,ve]=p.useState(!1),[we,Te]=p.useState(!1),[pt,st]=p.useState(!1),bt=p.useRef(!1),F=p.useRef(null),X=p.useRef(null),{data:ye=[]}=Jt({queryKey:["savedCourseIds",e==null?void 0:e.id],queryFn:async()=>{var ae;if(!(e!=null&&e.id))return[];try{return(((ae=(await Se.get(Je.AUTH.PROFILE)).data)==null?void 0:ae.saved_courses)||[]).map($e=>String($e))}catch(ke){return console.error("Error fetching saved course IDs:",ke),[]}},enabled:!!(e!=null&&e.id)}),{data:Ce=[],isLoading:Ge}=Jt({queryKey:["savedCourses",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];try{const ae=await Se.get(Je.AUTH.PROFILE);let ke=[];if(ae.data&&typeof ae.data=="object"){const de=ae.data;if(Array.isArray(de.saved_courses))ke=de.saved_courses.map(ze=>String(ze));else if(de.profile&&typeof de.profile=="object"){const ze=de.profile;Array.isArray(ze.saved_courses)&&(ke=ze.saved_courses.map(ht=>String(ht)))}else if(de.user&&typeof de.user=="object"){const ze=de.user;Array.isArray(ze.saved_courses)&&(ke=ze.saved_courses.map(ht=>String(ht)))}}if(!ke||ke.length===0)return[];const _e=ke,{data:$e,error:Ze}=await Kt.from("courses").select("id, title, provider, category, level, duration, image, description, academy_id").in("id",_e);if(Ze)return console.error("Error fetching course details from Supabase:",Ze),[];const Re=[...new Set(($e==null?void 0:$e.map(de=>de.academy_id).filter(de=>!!de))||[])],Ie=new Map;return Re.length>0&&await Promise.all(Re.map(async de=>{try{const ze=await Se.get(`${Je.ACADEMY.DETAIL}${de}/`);if(ze.data){const ht=ze.data,Tt=ht.profile_data||ht,kt=(Ut,_r=Tt)=>{const Mr=_r[Ut];return typeof Mr=="string"?Mr:void 0},xr=kt("logo_url",Tt)||kt("logoUrl",Tt)||kt("logo",Tt)||kt("logo_url",ht)||kt("logoUrl",ht)||null;Ie.set(de,xr)}}catch{console.debug(`Could not fetch academy profile for ${de}`),Ie.set(de,null)}})),($e||[]).map(de=>{const ze=de.academy_id&&Ie.has(de.academy_id)&&Ie.get(de.academy_id)||null;return{id:de.id,title:de.title||"",provider:de.provider||"",category:de.category||"",level:de.level||"",duration:de.duration||"",image:mF(de.image),description:de.description||"",academy_id:de.academy_id||null,academy_logo:ze?mF(ze):null}})}catch(ae){return console.error("Error fetching saved courses from API profile:",ae),[]}},enabled:!!(e!=null&&e.id)}),lt=sa({mutationFn:async ae=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Se.post(`/api/save-course/${ae}/`)},onMutate:async ae=>{await a.cancelQueries({queryKey:["savedCourses",e==null?void 0:e.id]});const ke=a.getQueryData(["savedCourses",e==null?void 0:e.id]);return a.setQueryData(["savedCourses",e==null?void 0:e.id],_e=>{if(!_e)return _e;const $e=String(ae);return _e.includes($e)?_e.filter(Ze=>Ze!==$e):[..._e,$e]}),{previousSavedCourses:ke}},onError:(ae,ke,_e)=>{_e!=null&&_e.previousSavedCourses&&(e!=null&&e.id)&&a.setQueryData(["savedCourses",e==null?void 0:e.id],_e.previousSavedCourses),console.error("Error updating saved courses:",ae),fe.error("Failed to update saved courses. Please try again.")},onSuccess:(ae,ke)=>{a.invalidateQueries({queryKey:["savedCourses",e==null?void 0:e.id]}),a.invalidateQueries({queryKey:["profile"]});const _e=a.getQueryData(["savedCourses",e==null?void 0:e.id]),$e=_e==null?void 0:_e.includes(String(ke));fe.success($e?"Removed from saved courses.":"Course saved to your profile.")}}),{data:Ve=[]}=Jt({queryKey:["savedJobIds",e==null?void 0:e.id],queryFn:async()=>{var ae;if(!(e!=null&&e.id))return[];try{const _e=((ae=(await Se.get(Je.AUTH.PROFILE)).data)==null?void 0:ae.saved_jobs)||[];return Array.isArray(_e)?_e.map($e=>{if(typeof $e=="string"||typeof $e=="number")return String($e);if($e&&typeof $e=="object"){const Ze=$e;if(Ze.id)return String(Ze.id);if(Ze.job_id)return String(Ze.job_id)}return null}).filter($e=>$e!==null):[]}catch(ke){return console.error("Error fetching saved job IDs:",ke),[]}},enabled:!!(e!=null&&e.id)}),{data:We=[],isLoading:tt}=Jt({queryKey:["savedJobs",e==null?void 0:e.id,i],queryFn:async()=>{var ae;if(!(e!=null&&e.id))return[];try{const _e=((ae=(await Se.get(Je.AUTH.PROFILE)).data)==null?void 0:ae.saved_jobs)||[];if(!Array.isArray(_e)||_e.length===0)return[];const Ze=_e.map(Ie=>{if(typeof Ie=="string"||typeof Ie=="number")return String(Ie);if(Ie&&typeof Ie=="object"){const de=Ie;if(de.id)return String(de.id);if(de.job_id)return String(de.job_id)}return null}).filter(Ie=>Ie!==null).map(async Ie=>{try{const de=await u1(Ie);if(!de)return null;const ze=de.title||de.job_title||de.position||"Untitled Position",ht=de.company_name||de.employer_name||(typeof de.company=="string"?de.company:null)||"Unknown Company",Tt=de.job_city||de.city||"",kt=de.job_state||de.state||"",xr=de.job_country||de.country||"",Ut=de.job_location||de.location||[Tt,kt,xr].filter(Boolean).join(", ")||"Location not specified",_r=de.employer_logo||de.company_logo||de.companyLogo||de.logo_url||(typeof de.company=="object"&&de.company?de.company.logo||de.company.company_logo:void 0);let Mr="By agreement";const Gr=de.job_min_salary||de.min_salary,$n=de.job_max_salary||de.max_salary,Ir=de.job_salary_currency||de.salary_currency||"$",Bt=de.job_salary_period||de.salary_period||"yearly";if(Gr&&$n&&typeof Gr=="number"&&typeof $n=="number"){const cr=Bt==="monthly"?"Monthly":"",Yr=Gr.toLocaleString(),ns=$n.toLocaleString();["$","","","","",""].some(Ia=>Ir.includes(Ia))?Mr=`${Ir}${Yr} - ${Ir}${ns}${cr?`/${cr}`:""}`:Mr=`${Yr} - ${ns} ${Ir}${cr?`/${cr}`:""}`}else if(Gr&&typeof Gr=="number"){const cr=Gr.toLocaleString();Mr=["$","","","","",""].some(Dt=>Ir.includes(Dt))?`${Ir}${cr}+`:`${cr}+ ${Ir}`}else de.salary&&typeof de.salary=="string"&&(Mr=de.salary);const vt=de.job_employment_type||de.employment_type||de.type||"FULLTIME",Xe={FULLTIME:"Full time",PARTTIME:"Part time",CONTRACTOR:"Contract",INTERN:"Internship"}[vt]||vt||"Full time";let wt="On-site";de.job_is_remote||de.is_remote||de.remote===!0?wt="Remote":ze!=null&&ze.toLowerCase().includes("hybrid")&&(wt="Hybrid");let er=0;if(i!=null&&i.skills_json){const cr=i.skills_json.tech||{},Yr=i.skills_json.soft||{},ns=[...Object.keys(cr),...Object.keys(Yr)],Dt=i7e(de);er=pu(ns,Dt,ze)}return{id:Ie,title:ze,company:ht,location:typeof Ut=="string"?Ut:"Location not specified",url:de.url||"",company_logo:_r,salary:Mr,employment_type:Xe,work_arrangement:wt,matchPercentage:er}}catch(de){return console.error(`Error fetching job detail for ID ${Ie}:`,de),null}});return(await Promise.all(Ze)).filter(Ie=>Ie!==null&&Ie.title!==`Job ${Ie.id}`)}catch(ke){return console.error("Error fetching saved jobs:",ke),[]}},enabled:!!(e!=null&&e.id)}),K=sa({mutationFn:async ae=>{if(!(e!=null&&e.id))throw new Error("Please log in to save jobs.");await Se.post(`${Je.JOBS.SAVE_JOB}${ae}/`)},onMutate:async ae=>{await a.cancelQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),await a.cancelQueries({queryKey:["savedJobs",e==null?void 0:e.id]});const ke=a.getQueryData(["savedJobIds",e==null?void 0:e.id]);return a.setQueryData(["savedJobIds",e==null?void 0:e.id],_e=>{if(!_e)return _e;const $e=String(ae);return _e.includes($e)?_e.filter(Ze=>Ze!==$e):[..._e,$e]}),{previousSavedJobIds:ke}},onError:(ae,ke,_e)=>{_e!=null&&_e.previousSavedJobIds&&(e!=null&&e.id)&&a.setQueryData(["savedJobIds",e==null?void 0:e.id],_e.previousSavedJobIds),console.error("Error updating saved jobs:",ae),fe.error("Failed to update saved jobs. Please try again.")},onSuccess:(ae,ke)=>{a.invalidateQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),a.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),a.invalidateQueries({queryKey:["profile"]});const _e=a.getQueryData(["savedJobIds",e==null?void 0:e.id]),$e=_e==null?void 0:_e.includes(String(ke));fe.success($e?"Removed from saved jobs.":"Job saved to your profile.")}}),H=M.useMemo(()=>{const ae=($e,Ze)=>{if($e&&typeof $e=="object")return $e[Ze]},ke=d;return[ae(ke,"phone_verified"),ae(ke,"is_phone_verified"),ae(ae(ke,"profile"),"phone_verified"),ae(ae(ke,"profile"),"is_phone_verified"),ae(ae(ke,"user"),"phone_verified"),ae(ae(ke,"user"),"is_phone_verified"),ae(e,"phone_verified"),ae(e,"is_phone_verified")].some($e=>$e===!0||$e==="true")},[d,e]);p.useEffect(()=>{(async()=>{if(e){u(!0);try{const ke=await Se.get(`/api/skilltest/results/?user=${e.id}`);Array.isArray(ke.data)&&ke.data.length>0?l(ke.data[0]):ke.data&&typeof ke.data=="object"&&l(ke.data)}catch{l(null)}finally{u(!1)}}})()},[e]),p.useEffect(()=>{},[i]),p.useEffect(()=>{(async()=>{var _e,$e,Ze,Re,Ie,de,ze,ht,Tt,kt,xr,Ut,_r,Mr,Gr,$n,Ir,Bt,vt,Mt,Xe;if(!e)return;y(!0);const ke=localStorage.getItem("authToken");try{const wt=ke?{Authorization:`Bearer ${ke}`}:{},_t=await Se.get(Je.AUTH.PROFILE,{headers:wt});if(!_t.data){console.warn(" No data in response"),f(null),m(null),x(null);return}f(_t.data),(_e=_t.data)!=null&&_e.profile,($e=_t.data)!=null&&$e.user;const er=((Ze=_t.data)==null?void 0:Ze.about_me)||((Ie=(Re=_t.data)==null?void 0:Re.profile)==null?void 0:Ie.about_me)||((ze=(de=_t.data)==null?void 0:de.user)==null?void 0:ze.about_me)||null;m(er),B(er||"");const cr=((ht=_t.data)==null?void 0:ht.profile_image)||((kt=(Tt=_t.data)==null?void 0:Tt.profile)==null?void 0:kt.profile_image)||((Ut=(xr=_t.data)==null?void 0:xr.user)==null?void 0:Ut.profile_image)||null;x(cr);const Yr=((_r=_t.data)==null?void 0:_r.social_links)||((Gr=(Mr=_t.data)==null?void 0:Mr.profile)==null?void 0:Gr.social_links)||((Ir=($n=_t.data)==null?void 0:$n.user)==null?void 0:Ir.social_links)||((Bt=_t.data)==null?void 0:Bt.social_networks)||((Mt=(vt=_t.data)==null?void 0:vt.profile)==null?void 0:Mt.social_networks)||null;Yr&&typeof Yr=="object"&&I({github:Yr.github||"",linkedin:Yr.linkedin||"",facebook:Yr.facebook||"",instagram:Yr.instagram||"",dribbble:Yr.dribbble||"",behance:Yr.behance||""}),Object.entries(_t.data||{}).forEach(([ns,Dt])=>{ns!=="profile"&&ns!=="user"&&console.log(`  - ${ns}:`,Dt)})}catch(wt){(wt&&typeof wt=="object"&&"response"in wt?(Xe=wt.response)==null?void 0:Xe.status:void 0)===401?console.warn("Profile request unauthorized (401). Session may have expired."):console.error("Error fetching profile data:",wt),f(null),m(null),x(null)}finally{y(!1)}})()},[e]);const oe=async()=>{if(e!=null&&e.id){q(!0);try{const ae=await ls.getEducations();$(Array.isArray(ae)?ae:[])}catch{$([])}finally{q(!1)}}},xe=async()=>{if(e!=null&&e.id){Y(!0);try{const ae=await ls.getWorkExperiences();W(Array.isArray(ae)?ae:[])}catch{W([])}finally{Y(!1)}}},qe=async()=>{if(e!=null&&e.id){se(!0);try{const ae=await ls.getMySkills();ie(Array.isArray(ae)?ae:[])}catch{ie([])}finally{se(!1)}}};p.useEffect(()=>{e!=null&&e.id&&(oe(),xe(),qe())},[e==null?void 0:e.id]),p.useEffect(()=>{var ke,_e,$e;if(!e||bt.current)return;const ae=d?JSON.stringify({social_links:d.social_links,profile_social_links:d.profile&&typeof d.profile=="object"&&"social_links"in d.profile?d.profile.social_links:void 0,user_social_links:d.user&&typeof d.user=="object"&&"social_links"in d.user?d.user.social_links:void 0}):null;if(X.current!==ae){X.current=ae;try{if(d){const Ze=(d==null?void 0:d.social_links)||((ke=d.profile)==null?void 0:ke.social_links)||((_e=d.user)==null?void 0:_e.social_links)||(d==null?void 0:d.social_networks)||(($e=d.profile)==null?void 0:$e.social_networks)||null;if(Ze&&typeof Ze=="object"){const Re={github:Ze.github||"",linkedin:Ze.linkedin||"",facebook:Ze.facebook||"",instagram:Ze.instagram||"",dribbble:Ze.dribbble||"",behance:Ze.behance||""};console.log(" Setting social links to:",Re),I(Ie=>Object.keys(Re).some(ze=>Ie[ze]!==Re[ze])?Re:Ie)}else console.log(" No social links found in profile data"),I(Re=>Object.values(Re).some(de=>de&&de.trim()!=="")?(console.log(" Keeping existing social links:",Re),Re):{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}else console.log(" Profile data not loaded yet"),I(Ze=>Object.values(Ze).some(Ie=>Ie&&Ie.trim()!=="")?Ze:{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}catch(Ze){console.error(" Error extracting social links from profile:",Ze),I(Re=>Object.values(Re).some(de=>de&&de.trim()!=="")?Re:{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}}},[e==null?void 0:e.id,d]),p.useEffect(()=>{const ae=F;return()=>{ae.current&&clearTimeout(ae.current)}},[]);const{first_name:Ae,last_name:at,email:Ye,phone_number:he}=e||{};if(sY({phoneNumber:he||"",ownerId:e==null?void 0:e.id,role:e==null?void 0:e.user_type,initiallyVerified:H}),t)return o.jsx(At,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Loading profile..."})})});if(!e)return o.jsx(At,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Could not load user data. Please try logging in again."})})});const Ne=async ae=>{var _e,$e,Ze,Re,Ie,de;const ke=(_e=ae.target.files)==null?void 0:_e[0];if(ke){if(!ke.type.startsWith("image/")){alert("Please select an image file");return}if(ke.size>5*1024*1024){alert("Image size should be less than 5MB");return}E(!0),x(null);try{const ze=new FormData;ze.append("profile_image",ke);const ht=localStorage.getItem("authToken"),Tt=await Se.patch("/api/profile/",ze,{headers:{Authorization:ht?`Bearer ${ht}`:void 0,"Content-Type":"multipart/form-data"}});console.log(" Image upload response:",Tt.data);const kt=(($e=Tt.data)==null?void 0:$e.profile_image)||((Re=(Ze=Tt.data)==null?void 0:Ze.profile)==null?void 0:Re.profile_image)||((de=(Ie=Tt.data)==null?void 0:Ie.user)==null?void 0:de.profile_image)||null;x(kt),N(Date.now()),fe.success("Profile image has been updated successfully."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image uploaded successfully")}catch(ze){console.error(" Error uploading profile image:",ze),alert("Failed to upload profile image. Please try again.")}finally{E(!1)}}},Ue=()=>{U(!0)},De=()=>{var ae;(ae=document.getElementById("profile-image-input"))==null||ae.click(),U(!1)},Me=async()=>{if(e){if(!confirm("Are you sure you want to remove your profile image?")){U(!1);return}E(!0),U(!1);try{const ae=localStorage.getItem("authToken"),ke=await Se.patch("/api/profile/",{profile_image:null},{headers:{Authorization:ae?`Bearer ${ae}`:void 0}});console.log(" Image removal response:",ke.data),x(null),N(Date.now());const _e=await Se.get("/api/profile/",{headers:{Authorization:ae?`Bearer ${ae}`:void 0}});f(_e.data),fe.success("Profile image has been removed."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image removed successfully")}catch(ae){console.error(" Error removing profile image:",ae),fe.error("Failed to remove profile image. Please try again.")}finally{E(!1)}}},Ft=()=>{B(g||""),P(!0)},Oe=async ae=>{await ls.updateProfile(ae);const _e=(await Se.get(Je.AUTH.PROFILE)).data,$e=_e==null?void 0:_e.profile,Ze=_e==null?void 0:_e.user;if(f(_e),m((_e==null?void 0:_e.about_me)??($e==null?void 0:$e.about_me)??(Ze==null?void 0:Ze.about_me)),x((_e==null?void 0:_e.profile_image)??($e==null?void 0:$e.profile_image)??(Ze==null?void 0:Ze.profile_image)),_e!=null&&_e.social_links&&typeof _e.social_links=="object"){const Re=_e.social_links;I({github:Re.github??"",linkedin:Re.linkedin??"",facebook:Re.facebook??"",instagram:Re.instagram??"",dribbble:Re.dribbble??"",behance:Re.behance??""})}fe.success("Profile updated.")},yt=async(ae,ke,_e)=>{for(const $e of ae)await ls.createEducation($e);for(const{id:$e,payload:Ze}of ke)await ls.updateEducation($e,Ze);for(const $e of _e)await ls.deleteEducation($e);await oe(),fe.success("Education updated.")},mt=async(ae,ke,_e)=>{for(const Ze of ae)await ls.createWorkExperience(Ze);for(const{id:Ze,payload:Re}of ke)await ls.updateWorkExperience(Ze,Re);for(const Ze of _e)await ls.deleteWorkExperience(Ze);const $e=await ls.getWorkExperiences().catch(()=>[]);if(W(Array.isArray($e)?$e:[]),e!=null&&e.id)try{await QUe(String(e.id),Array.isArray($e)?$e:[])}catch{}fe.success("Work experience updated.")},Pt=async()=>{if(e){D(!0);try{const ae=localStorage.getItem("authToken"),ke=await Se.patch("/api/profile/",{about_me:R},{headers:{Authorization:ae?`Bearer ${ae}`:void 0}});console.log(" About Me updated:",ke.data),m(R);const _e=await Se.get("/api/profile/",{headers:{Authorization:ae?`Bearer ${ae}`:void 0}});f(_e.data),P(!1),fe.success("About Me has been updated successfully.")}catch(ae){console.error(" Error updating about me:",ae),fe.error("Failed to update About Me. Please try again.")}finally{D(!1)}}},T=v||(e==null?void 0:e.profile_image),L=()=>{var Ze,Re;if(!(i!=null&&i.skills_json))return console.log(" No skills_json in results"),[];const ae=((Ze=i==null?void 0:i.skills_json)==null?void 0:Ze.tech)||{},ke=((Re=i==null?void 0:i.skills_json)==null?void 0:Re.soft)||{};return[...Object.entries(ae).map(([Ie,de])=>({name:Ie,percentage:parseFloat(String(de).replace("%","")),type:"tech"})),...Object.entries(ke).map(([Ie,de])=>({name:Ie,percentage:parseFloat(String(de).replace("%","")),type:"soft"}))].filter(Ie=>Ie.percentage>0).sort((Ie,de)=>de.percentage-Ie.percentage).slice(0,5)},pe=(ae,ke)=>{if(!ae||typeof ae!="object"||Array.isArray(ae))return null;const _e="#19B5FE",$e=Object.entries(ae).filter(([de,ze])=>parseFloat(String(ze).replace("%",""))>0).map(([de,ze],ht)=>{const Tt=parseFloat(String(ze).replace("%",""));let kt;Tt>=40?kt=1:kt=.3+Tt/40*.7;const xr=String(de).replace(/\s+/g,"-").slice(0,30),Ut=`skill-${ht}-${xr}`,_r=`gradient-primary-${Ut}`;return{id:Ut,skill:de,percentage:Tt,displayPct:ze,fill:_e,opacity:kt,gradientId:_r}}).sort((de,ze)=>ze.percentage-de.percentage);if($e.length===0)return o.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No skills data available"});const Ze={percentage:{label:"Percentage"}},Re=de=>{const{x:ze,y:ht,width:Tt,height:kt,payload:xr,value:Ut}=de;let _r="";typeof Ut=="string"?_r=Ut:Ut&&typeof Ut=="object"&&"name"in Ut?_r=String(Ut.name||""):xr!=null&&xr.skill&&(_r=xr.skill);const Mr=typeof ze=="number"?ze:typeof ze=="string"?parseFloat(ze):0,Gr=typeof ht=="number"?ht:typeof ht=="string"?parseFloat(ht):0,$n=typeof Tt=="number"?Tt:typeof Tt=="string"?parseFloat(Tt):0,Ir=typeof kt=="number"?kt:typeof kt=="string"?parseFloat(kt):0;if(!Mr||!Gr||!$n||!Ir||!_r)return null;const Bt=Mr+$n/2,Xe=250-80+25,wt=Math.max(8,Math.floor($n/6)),_t=_r.split(" "),er=[];let cr="";for(const Lr of _t)if(Lr.length>wt){cr&&(er.push(cr),cr="");for(let Ia=0;Ia<Lr.length;Ia+=wt)er.push(Lr.slice(Ia,Ia+wt))}else(cr+" "+Lr).length<=wt?cr=cr?cr+" "+Lr:Lr:(cr&&er.push(cr),cr=Lr);if(cr&&er.push(cr),er.length===0||er.length===1&&er[0].length>wt*1.5){er.length=0;for(let Lr=0;Lr<_r.length;Lr+=wt)er.push(_r.slice(Lr,Lr+wt))}const Yr=er.slice(0,2),ns=14,Dt=Xe-(Yr.length-1)*(ns/2);return o.jsx("text",{x:Bt,y:Dt,fill:"#374151",textAnchor:"middle",fontSize:12,fontWeight:600,className:"dark:fill-gray-200",children:Yr.map((Lr,Ia)=>o.jsx("tspan",{x:Bt,dy:Ia===0?0:ns,children:Lr},Ia))})},Ie=de=>{const{x:ze,y:ht,width:Tt,height:kt,value:xr,payload:Ut}=de;let _r=0;typeof xr=="number"?_r=xr:xr&&typeof xr=="object"&&"name"in xr&&(_r=0);const Mr=(Ut==null?void 0:Ut.skill)||"",Gr=typeof ze=="number"?ze:typeof ze=="string"&&parseFloat(ze)||0,$n=typeof ht=="number"?ht:typeof ht=="string"&&parseFloat(ht)||0,Ir=typeof Tt=="number"?Tt:typeof Tt=="string"&&parseFloat(Tt)||0,Bt=typeof kt=="number"?kt:typeof kt=="string"&&parseFloat(kt)||0;if(!Gr||!$n||!Ir||!Bt)return null;const vt=Gr+Ir/2,Mt=250,Xe=80,wt=Math.max(8,Math.floor(Ir/6)),_t=Mr.length>wt*1.2,er=Mt-Xe+(_t?70:60);return o.jsx("text",{x:vt,y:er,fill:"#374151",textAnchor:"middle",fontSize:13,fontWeight:700,className:"dark:fill-gray-200",children:`${_r.toFixed(0)}%`})};return o.jsx("div",{className:"w-full -mb-4",children:o.jsx(s_,{config:Ze,className:"h-[250px] w-full",children:o.jsxs(fO,{data:$e,margin:{top:20,right:10,left:10,bottom:80},barCategoryGap:"25%",children:[o.jsx("defs",{children:$e.map(de=>o.jsxs("linearGradient",{id:de.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:de.fill,stopOpacity:de.opacity}),o.jsx("stop",{offset:"100%",stopColor:"#0EA5E9",stopOpacity:de.opacity})]},de.gradientId))}),o.jsx(Xh,{dataKey:"skill",hide:!0}),o.jsx(Qh,{type:"number",domain:[0,100],hide:!0}),o.jsx(hO,{content:({active:de,payload:ze})=>{if(de&&ze&&ze.length){const ht=ze[0].payload;return o.jsx("div",{className:"rounded-3xl border-0 bg-white dark:bg-gray-800 p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:ht.skill}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:_e,opacity:ht.opacity}}),o.jsxs("span",{className:"font-bold text-lg",style:{color:_e,opacity:ht.opacity},children:[ht.percentage.toFixed(1),"%"]})]})]})})}return null}}),o.jsxs(Xo,{dataKey:"percentage",radius:[8,8,8,8],animationDuration:1e3,animationEasing:"ease-out",children:[$e.map(de=>o.jsx(Wy,{fill:`url(#${de.gradientId})`,style:{transition:"all 0.3s ease"}},de.id)),o.jsx(si,{content:Re,dataKey:"skill"}),o.jsx(si,{content:Ie,dataKey:"percentage"})]},`bar-${$e.map(de=>de.id).join("-")}`)]})})})};return o.jsxs(At,{children:[o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:static md:translate-x-0 md:left-auto md:flex md:justify-center md:mb-6 md:w-auto",children:o.jsxs(Ln.div,{layout:!0,transition:{type:"spring",stiffness:500,damping:40,mass:1},className:"relative inline-flex items-center bg-gray-100/80 dark:bg-[#242424]/80 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-3xl p-1 shadow-sm",children:[o.jsxs(Ln.button,{layout:!0,onClick:()=>n("#"),className:`relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${b==="profile"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[b==="profile"&&o.jsx(Ln.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Profile"})]}),o.jsx(Mxe,{mode:"popLayout",initial:!1,children:b==="profile"?o.jsx(Ln.button,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n("#savedcourses"),className:"relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200 whitespace-nowrap outline-none",children:o.jsx("span",{className:"relative z-10",children:"Saved"})},"saved-summary"):o.jsxs(Ln.div,{layout:!0,className:"flex items-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[o.jsxs(Ln.button,{layout:!0,onClick:()=>n("#savedcourses"),className:`relative px-4 py-2.5 md:px-6 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${_==="courses"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[_==="courses"&&o.jsx(Ln.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Saved Courses"})]},"saved-courses"),o.jsxs(Ln.button,{layout:!0,onClick:()=>n("#savedjobs"),className:`relative px-4 py-2.5 md:px-6 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${_==="jobs"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[_==="jobs"&&o.jsx(Ln.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Saved Jobs"})]},"saved-jobs")]},"saved-tabs")})]})}),b==="profile"?o.jsxs("div",{className:"max-w-7xl mx-auto pt-2 pb-32 md:pb-6 px-2 sm:px-6 lg:px-8 space-y-4 md:space-y-6",children:[o.jsxs(je,{className:"border-0 rounded-3xl",children:[o.jsxs(gt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Personal information"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ne,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:()=>n("/settings"),"aria-label":"Settings",children:o.jsx(zw,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),o.jsx(ne,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:()=>ue(!0),"aria-label":"Edit personal information",children:o.jsx(yo,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]})]}),o.jsxs(Ee,{className:"px-6 pb-6",children:[o.jsxs("div",{className:"flex flex-row items-center gap-4 mb-4",children:[o.jsxs("div",{className:"flex-shrink-0",children:[o.jsxs("div",{className:"relative group cursor-pointer rounded-full overflow-hidden w-12 h-12 sm:w-14 sm:h-14",onClick:Ue,children:[o.jsx(ig,{src:T||void 0,alt:"Profile photo",fallback:Ae?Ae.charAt(0).toUpperCase():"U",size:"lg",loading:"eager",className:"h-12 w-12 sm:h-14 sm:w-14 rounded-full"},`avatar-${j}`),k?o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full z-10",children:o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})}):o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10",children:o.jsx(Q9,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})})]}),o.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:Ne,className:"hidden",disabled:k})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:[Ae," ",at]}),(e==null?void 0:e.job_title)&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:e.job_title})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[d!=null&&d.country_region||d!=null&&d.city?o.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-gray-100 dark:bg-gray-800 px-3 py-1.5 text-sm text-gray-900 dark:text-gray-100",children:[o.jsx(Ff,{className:"h-4 w-4 text-gray-500"}),[d==null?void 0:d.country_region,d==null?void 0:d.city].filter(Boolean).join(", ")||"Location not set"]}):null,Ye&&o.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-gray-100 dark:bg-gray-800 px-3 py-1.5 text-sm text-gray-900 dark:text-gray-100",children:[o.jsx(Pu,{className:"h-4 w-4 text-gray-500"}),Ye]}),he&&o.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-gray-100 dark:bg-gray-800 px-3 py-1.5 text-sm text-gray-900 dark:text-gray-100",children:[o.jsx(dg,{className:"h-4 w-4 text-gray-500"}),he]}),Object.entries(A).filter(([ae,ke])=>ke==null?void 0:ke.trim()).map(([ae,ke])=>o.jsxs("a",{href:ke,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-gray-100 dark:bg-gray-800 px-3 py-1.5 text-sm text-gray-900 dark:text-gray-100 hover:underline",children:[a7e(ae,"h-4 w-4 text-gray-500"),ke.length>35?`${ke.slice(0,32)}...`:ke.replace(/^https?:\/\/(www\.)?/,"")]},ae))]})]})]}),o.jsxs(je,{className:"border-0 rounded-3xl",children:[o.jsxs(gt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"About Me"}),o.jsx(ne,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:Ft,"aria-label":"Edit about me",children:o.jsx(yo,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]}),o.jsx(Ee,{className:"px-6 py-4",children:h?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading..."}):g?o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap leading-relaxed",children:g.length>200?`${g.substring(0,200)}...`:g}),g.length>200&&o.jsx(ne,{variant:"link",className:"text-breneo-blue p-0 h-auto mt-2 font-normal text-sm hover:underline",onClick:Ft,children:"View More"})]}):o.jsx("p",{className:"text-sm text-gray-500 italic",children:"No information available. Add some details about yourself!"})})]}),o.jsxs(je,{className:"border-0 rounded-3xl",children:[o.jsxs(gt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Education"}),o.jsx(ne,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:()=>ve(!0),"aria-label":"Edit education",children:o.jsx(yo,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]}),o.jsx(Ee,{className:"px-6 pb-6",children:G?o.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."}):te.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No education added yet."}):o.jsx("div",{className:"relative",children:te.map((ae,ke)=>o.jsxs("div",{className:"flex gap-4 pb-6 last:pb-0",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-[#36B0E3] shrink-0"}),ke<te.length-1&&o.jsx("div",{className:"w-px flex-1 min-h-[2rem] bg-[#36B0E3]/30 mt-1"})]}),o.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:[ae.start_date,ae.is_current?"  Present":ae.end_date?`  ${ae.end_date}`:""]}),o.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-100",children:ae.school_name}),(ae.degree_type||ae.major)&&o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[ae.degree_type,ae.major].filter(Boolean).join(" in ")})]})]},ae.id))})})]}),o.jsxs(je,{className:"border-0 rounded-3xl",children:[o.jsxs(gt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Work experience"}),o.jsx(ne,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:()=>Te(!0),"aria-label":"Edit work experience",children:o.jsx(yo,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]}),o.jsx(Ee,{className:"px-6 pb-6",children:Z?o.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."}):V.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No work experience added yet."}):o.jsx("div",{className:"relative",children:V.map((ae,ke)=>o.jsxs("div",{className:"flex gap-4 pb-6 last:pb-0",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-[#36B0E3] shrink-0"}),ke<V.length-1&&o.jsx("div",{className:"w-px flex-1 min-h-[2rem] bg-[#36B0E3]/30 mt-1"})]}),o.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:[ae.start_date,ae.is_current?"  Present":ae.end_date?`  ${ae.end_date}`:""]}),o.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-100",children:ae.company}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:ae.job_title})]})]},ae.id))})})]}),o.jsxs(je,{className:"border-0 rounded-3xl",children:[o.jsxs(gt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Skills"}),o.jsx(ne,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:()=>st(!0),"aria-label":"Edit skills",children:o.jsx(yo,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]}),o.jsx(Ee,{className:"px-6 pb-6",children:J?o.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."}):ee.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No skills added yet."}):o.jsx("div",{className:"flex flex-wrap gap-2",children:ee.map(ae=>o.jsx(Rt,{variant:"outline",className:"capitalize px-3 py-1.5 text-xs rounded-[10px] bg-gray-100 text-gray-600 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700",children:ae.skill_name},ae.id))})})]}),o.jsxs(je,{className:"border-0 rounded-3xl",children:[o.jsx(gt,{className:"p-4 pb-3 border-b-0",children:o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Personal Skills"})}),o.jsx(Ee,{className:"px-6 py-4",children:c?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading skill results..."}):i&&(i!=null&&i.final_role||L().length>0)?o.jsxs("div",{className:"space-y-4",children:[(i==null?void 0:i.final_role)&&o.jsxs("div",{className:"bg-gradient-to-r from-breneo-blue/10 to-breneo-blue/5 dark:from-breneo-blue/20 dark:to-breneo-blue/10 p-4 rounded-3xl border-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(cu,{className:"h-5 w-5 text-breneo-blue"})}),o.jsx("span",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100",children:"Recommended Role"})]}),o.jsx(Rt,{className:"text-sm px-3 py-1.5 bg-breneo-blue hover:bg-breneo-blue/90 text-white border-0",children:i==null?void 0:i.final_role})]}),(i==null?void 0:i.skills_json)&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-base text-gray-900 dark:text-gray-100 mb-4",children:"Top Skills"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[((Fe=i==null?void 0:i.skills_json)==null?void 0:Fe.tech)&&Object.keys(i.skills_json.tech).length>0&&o.jsxs(je,{className:"border-0 rounded-3xl",children:[o.jsx(gt,{className:"pb-2",children:o.jsx(Nt,{className:"flex items-center gap-2 text-sm",children:"Technical Skills"})}),o.jsx(Ee,{className:"p-2 pt-0 pb-4",children:pe(i.skills_json.tech)})]}),((Ct=i==null?void 0:i.skills_json)==null?void 0:Ct.soft)&&Object.keys(i.skills_json.soft).length>0&&o.jsxs(je,{className:"border-0 rounded-3xl",children:[o.jsx(gt,{className:"pb-2",children:o.jsx(Nt,{className:"flex items-center gap-2 text-sm",children:"Soft Skills"})}),o.jsx(Ee,{className:"p-2 pt-0 pb-4",children:pe(i.skills_json.soft)})]})]})]}),L().length===0&&!c&&o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No skill test results available. Take a skill test to see your results here."})]}):o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No skill test results available. Take a skill test to see your results here."})})]})]}):o.jsxs("div",{className:"max-w-7xl mx-auto pb-32 md:pb-6",children:[_==="courses"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Saved Courses"}),Ge?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((ae,ke)=>o.jsx(je,{className:"border-0 rounded-3xl",children:o.jsxs(Ee,{className:"p-0",children:[o.jsx(rr,{className:"h-40 w-full rounded-t-3xl"}),o.jsxs("div",{className:"p-4",children:[o.jsx(rr,{className:"h-5 w-3/4 mb-2"}),o.jsx(rr,{className:"h-4 w-1/2 mb-3"}),o.jsx(rr,{className:"h-3 w-full"})]})]})},ke))}):Ce.length===0?o.jsx(je,{className:"rounded-3xl border-0 shadow-sm bg-card/50",children:o.jsxs(Ee,{className:"p-12 text-center",children:[o.jsx(Ch,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved courses"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving courses to view them here!"}),o.jsx(ne,{onClick:()=>n("/courses"),variant:"default",children:"Browse Courses"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:Ce.map(ae=>{const ke=ye.includes(String(ae.id));return o.jsx(Fr,{to:`/course/${ae.id}`,className:"block",children:o.jsx(je,{className:"relative transition-all duration-200 cursor-pointer group border-0 rounded-3xl w-full flex flex-col h-full bg-card hover:shadow-soft",children:o.jsxs(Ee,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:ae.image||"/placeholder.svg",alt:ae.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",onError:_e=>{_e.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:ae.title}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:ae.provider}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[ae.duration&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:ae.duration}),ae.level&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:ae.level})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:_e=>{_e.preventDefault(),_e.stopPropagation(),lt.mutate(String(ae.id))},disabled:lt.isPending,"aria-label":"Unsave course",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",ke?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:lt.isPending?o.jsx(aa,{className:"h-4 w-4 animate-spin"}):o.jsx(qn,{className:le("h-4 w-4 transition-colors",ke?"text-red-500 fill-red-500":"text-black dark:text-white")})})]})]})]})})},ae.id)})})]}),_==="jobs"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Saved Jobs"}),tt?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((ae,ke)=>o.jsx(je,{className:"border-0 rounded-3xl",children:o.jsxs(Ee,{className:"p-4",children:[o.jsx(rr,{className:"h-4 w-20 mb-2"}),o.jsx(rr,{className:"h-6 w-3/4 mb-4"}),o.jsx(rr,{className:"h-4 w-1/2"})]})},ke))}):We.length===0?o.jsx(je,{className:"rounded-3xl border-0 shadow-sm bg-card/50",children:o.jsxs(Ee,{className:"p-12 text-center",children:[o.jsx(rn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved jobs"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving jobs to view them here!"}),o.jsx(ne,{onClick:()=>n("/jobs"),variant:"default",children:"Browse Jobs"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:We.map(ae=>{const ke=Ve.includes(String(ae.id));return o.jsx(je,{className:"group flex flex-col transition-all duration-200 border-0 overflow-hidden rounded-3xl cursor-pointer bg-card hover:shadow-soft",onClick:()=>{ae.url?window.open(ae.url,"_blank"):n(`/jobs/${encodeURIComponent(ae.id)}`)},children:o.jsxs(Ee,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[ae.company_logo?o.jsx("img",{src:ae.company_logo,alt:`${ae.company} logo`,className:"w-10 h-10 rounded-md object-cover flex-shrink-0 border border-gray-200 dark:border-gray-700 relative z-10",onError:_e=>{const $e=_e.target;$e.style.display="none";const Ze=$e.nextElementSibling;Ze&&(Ze.classList.remove("hidden"),Ze.classList.add("flex"))}}):null,o.jsx("div",{className:`w-10 h-10 rounded-md bg-breneo-blue/10 flex items-center justify-center ${ae.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(rn,{className:"h-5 w-5 text-breneo-blue"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate text-gray-600 dark:text-gray-400",children:ae.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:ae.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem] group-hover:text-breneo-blue transition-colors",children:ae.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[ae.employment_type&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 border-0",children:ae.employment_type}),ae.work_arrangement&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 border-0",children:ae.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(wa,{value:ae.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100",children:Sm(ae.matchPercentage)})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:_e=>{_e.stopPropagation(),K.mutate(ae.id)},disabled:K.isPending,"aria-label":"Unsave job",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 border-0",ke?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:K.isPending?o.jsx(aa,{className:"h-4 w-4 animate-spin"}):o.jsx(qn,{className:le("h-4 w-4 transition-colors",ke?"text-red-500 fill-red-500":"text-black dark:text-white")})})]})]})},ae.id)})})]})]}),o.jsx(NUe,{open:Q,onOpenChange:ue,initial:{first_name:Ae??(e==null?void 0:e.first_name),last_name:at??(e==null?void 0:e.last_name),email:Ye??"",phone_number:he??"",country_region:d==null?void 0:d.country_region,city:d==null?void 0:d.city,about_me:g,social_links:{...A}},onSave:Oe}),o.jsx(MUe,{open:ce,onOpenChange:ve,entries:te,onSave:yt}),o.jsx(zUe,{open:we,onOpenChange:Te,entries:V,onSave:mt}),o.jsx(WUe,{open:pt,onOpenChange:st,skills:ee,onAddSkill:async ae=>{await ls.addSkill(ae)},onRemoveSkill:ae=>ls.removeSkill(ae),onRefresh:qe}),o.jsx(dh,{open:C,onOpenChange:P,children:o.jsxs(Mu,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(Iu,{className:"bg-white dark:bg-[#181818] pb-3",children:[o.jsx(Lu,{className:"flex-1 min-w-0",children:"Edit About Me"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[o.jsx(ne,{size:"sm",onClick:Pt,disabled:z,children:z?"Saving...":"Save Changes"}),o.jsx(ne,{variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>P(!1),disabled:z,"aria-label":"Cancel",children:o.jsx(Er,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"about-me",children:"Tell us about yourself"}),o.jsx(ry,{id:"about-me",placeholder:"Share something about yourself...",value:R,onChange:ae=>B(ae.target.value),className:"mt-2 min-h-[200px]",disabled:z})]})})]})}),o.jsx(dh,{open:O,onOpenChange:U,children:o.jsxs(Mu,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(Iu,{className:"bg-white dark:bg-[#181818] pb-3",children:[o.jsx(Lu,{className:"flex-1 min-w-0",children:"Profile Photo"}),o.jsx("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:o.jsx(ne,{variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>U(!1),"aria-label":"Cancel",children:o.jsx(Er,{className:"h-4 w-4"})})})]}),o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-2",children:[o.jsxs(ne,{onClick:De,className:"w-full justify-start gap-3",variant:"ghost",disabled:k,children:[o.jsx(WE,{className:"h-5 w-5"}),T?"Update Photo":"Upload Photo"]}),T&&o.jsxs(ne,{onClick:Me,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:k,children:[o.jsx(du,{className:"h-5 w-5"}),"Remove Photo"]})]})]})})]})},gF=e=>e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:`/${e}`:"/lovable-uploads/no_photo.png",l7e=()=>{const{user:e}=fr(),t=lr(),r=Us(),[n,s]=p.useState("courses"),{data:a=[]}=Jt({queryKey:["savedCourseIds",e==null?void 0:e.id],queryFn:async()=>{var y;if(!(e!=null&&e.id))return[];try{return(((y=(await Se.get(Je.AUTH.PROFILE)).data)==null?void 0:y.saved_courses)||[]).map(v=>String(v))}catch(g){return console.error("Error fetching saved course IDs:",g),[]}},enabled:!!(e!=null&&e.id)}),{data:i=[],isLoading:l}=Jt({queryKey:["savedCoursesDetails",e==null?void 0:e.id,a],queryFn:async()=>{if(!(e!=null&&e.id)||!a||a.length===0)return[];try{const{data:y,error:g}=await Kt.from("courses").select("id, title, provider, category, level, duration, image, description, academy_id").in("id",a);if(g)return console.error("Error fetching saved course details:",g),[];const m=[...new Set((y==null?void 0:y.map(x=>x.academy_id).filter(x=>!!x))||[])],v=new Map;return m.length>0&&await Promise.all(m.map(async x=>{try{const b=await Se.get(`${Je.ACADEMY.DETAIL}${x}/`);if(b.data){const w=b.data,_=w.profile_data||w,S=(E,j=_)=>{const N=j[E];return typeof N=="string"?N:void 0},k=S("logo_url",_)||S("logoUrl",_)||S("logo",_)||S("logo_url",w)||S("logoUrl",w)||null;v.set(x,k)}}catch{console.debug(`Could not fetch academy profile for ${x}`),v.set(x,null)}})),(y||[]).map(x=>{const b=x.academy_id&&v.has(x.academy_id)&&v.get(x.academy_id)||null;return{id:x.id,title:x.title||"",provider:x.provider||"",category:x.category||"",level:x.level||"",duration:x.duration||"",image:gF(x.image),description:x.description||"",academy_id:x.academy_id||null,academy_logo:b?gF(b):null}})}catch(y){return console.error("Error fetching saved courses:",y),[]}},enabled:!!e&&a.length>0}),{data:c=[]}=Jt({queryKey:["savedJobIds",e==null?void 0:e.id],queryFn:async()=>{var y;if(!(e!=null&&e.id))return[];try{const m=((y=(await Se.get(Je.AUTH.PROFILE)).data)==null?void 0:y.saved_jobs)||[];return Array.isArray(m)?m.map(v=>{if(typeof v=="string"||typeof v=="number")return String(v);if(v&&typeof v=="object"){const x=v;if(x.id)return String(x.id);if(x.job_id)return String(x.job_id);if(x.jobId)return String(x.jobId)}return null}).filter(v=>v!==null):[]}catch(g){return console.error("Error fetching saved job IDs:",g),[]}},enabled:!!(e!=null&&e.id)}),{data:u=[],isLoading:d}=Jt({queryKey:["savedJobsDetails",e==null?void 0:e.id,c],queryFn:async()=>{if(!(e!=null&&e.id)||!c||c.length===0)return[];try{const y=c.map(async m=>{try{const v=await u1(m);if(!v)return null;const x=v.title||v.job_title||v.position||"Untitled Position",b=v.company_name||v.employer_name||(typeof v.company=="string"?v.company:null)||"Unknown Company",w=v.job_city||v.city||"",_=v.job_state||v.state||"",S=v.job_country||v.country||"",k=v.job_location||v.location||[w,_,S].filter(Boolean).join(", ")||"Location not specified",E=v.employer_logo||v.company_logo||v.logo_url||(typeof v.company=="object"&&v.company?v.company.logo||v.company.company_logo:void 0);let j="By agreement";const N=v.job_min_salary||v.min_salary,C=v.job_max_salary||v.max_salary,P=v.job_salary_currency||v.salary_currency||"$",R=v.job_salary_period||v.salary_period||"yearly";if(N&&C&&typeof N=="number"&&typeof C=="number"){const A=R==="monthly"?"Monthly":"",I=N.toLocaleString(),te=C.toLocaleString();["$","","","","",""].some(W=>P.includes(W))?j=`${P}${I} - ${P}${te}${A?`/${A}`:""}`:j=`${I} - ${te} ${P}${A?`/${A}`:""}`}else if(N&&typeof N=="number"){const A=N.toLocaleString();j=["$","","","","",""].some($=>P.includes($))?`${P}${A}+`:`${A}+ ${P}`}else v.salary&&typeof v.salary=="string"&&(j=v.salary);const B=v.job_employment_type||v.employment_type||v.type||"FULLTIME",D={FULLTIME:"Full time",PARTTIME:"Part time",CONTRACTOR:"Contract",INTERN:"Internship"}[B]||B||"Full time";let O="On-site";return v.job_is_remote||v.is_remote||v.remote===!0?O="Remote":x!=null&&x.toLowerCase().includes("hybrid")&&(O="Hybrid"),{id:m,title:x,company:b,location:typeof k=="string"?k:"Location not specified",url:v.url||"",company_logo:E,salary:j,employment_type:D,work_arrangement:O}}catch(v){return console.error(`Error fetching job ${m}:`,v),null}});return(await Promise.all(y)).filter(m=>m!==null)}catch(y){return console.error("Error fetching saved jobs:",y),[]}},enabled:!!e&&c.length>0}),f=sa({mutationFn:async y=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Se.post(`/api/save-course/${y}/`)},onSuccess:()=>{r.invalidateQueries({queryKey:["savedCourseIds",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["savedCoursesDetails",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile"]}),fe.success("Course removed from saved")},onError:y=>{console.error("Error updating saved courses:",y),fe.error("Failed to update saved courses. Please try again.")}}),h=sa({mutationFn:async y=>{if(!(e!=null&&e.id))throw new Error("Please log in to save jobs.");await Se.post(`${Je.JOBS.SAVE_JOB}${y}/`)},onSuccess:()=>{r.invalidateQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["savedJobsDetails",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile"]}),fe.success("Job removed from saved")},onError:y=>{console.error("Error updating saved jobs:",y),fe.error("Failed to update saved jobs. Please try again.")}});return e?o.jsxs(At,{children:[o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:static md:translate-x-0 md:left-auto md:flex md:justify-center md:mb-6 md:w-auto",children:o.jsxs("div",{className:"relative inline-flex items-center bg-gray-100/80 dark:bg-[#242424]/80 backdrop-blur-xl rounded-full p-1 shadow-[0_8px_32px_rgba(0,0,0,0.06)] dark:shadow-[0_8px_32px_rgba(0,0,0,0.2)]",children:[o.jsx("button",{onClick:()=>t("/profile"),className:"relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200",children:"Profile"}),o.jsx("button",{onClick:()=>s("courses"),className:`relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 ${n==="courses"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-bold shadow-sm":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Courses"}),o.jsx("button",{onClick:()=>s("jobs"),className:`relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 ${n==="jobs"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-bold shadow-sm":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Jobs"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:[n==="courses"&&o.jsx("div",{className:"space-y-6",children:l?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((y,g)=>o.jsx(je,{children:o.jsxs(Ee,{className:"p-0",children:[o.jsx(rr,{className:"h-40 w-full rounded-t-3xl"}),o.jsxs("div",{className:"p-4",children:[o.jsx(rr,{className:"h-5 w-3/4 mb-2"}),o.jsx(rr,{className:"h-4 w-1/2 mb-3"}),o.jsx(rr,{className:"h-3 w-full"})]})]})},g))}):i.length===0?o.jsx(je,{children:o.jsxs(Ee,{className:"p-12 text-center",children:[o.jsx(Ch,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved courses"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving courses to view them here!"}),o.jsx(ne,{onClick:()=>t("/courses"),variant:"default",children:"Browse Courses"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:i.map(y=>{const g=a.includes(String(y.id));return o.jsx(Fr,{to:`/course/${y.id}`,className:"block",children:o.jsx(je,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl w-full flex flex-col h-full hover:shadow-soft",children:o.jsxs(Ee,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:y.image||"/placeholder.svg",alt:y.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",onError:m=>{m.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:y.title}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:y.provider}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[y.duration&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:y.duration}),y.level&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:y.level})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:m=>{m.preventDefault(),m.stopPropagation(),f.mutate(String(y.id))},disabled:f.isPending,"aria-label":"Unsave course",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",g?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:f.isPending?o.jsx(aa,{className:"h-4 w-4 animate-spin"}):o.jsx(qn,{className:le("h-4 w-4 transition-colors",g?"text-red-500 fill-red-500":"text-black dark:text-white")})})]})]})]})})},y.id)})})}),n==="jobs"&&o.jsx("div",{className:"space-y-6",children:d?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((y,g)=>o.jsx(je,{children:o.jsxs(Ee,{className:"p-4",children:[o.jsx(rr,{className:"h-4 w-20 mb-2"}),o.jsx(rr,{className:"h-6 w-3/4 mb-4"}),o.jsx(rr,{className:"h-4 w-1/2"})]})},g))}):u.length===0?o.jsx(je,{children:o.jsxs(Ee,{className:"p-12 text-center",children:[o.jsx(rn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved jobs"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving jobs to view them here!"}),o.jsx(ne,{onClick:()=>t("/jobs"),variant:"default",children:"Browse Jobs"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:u.map(y=>{const g=c.includes(String(y.id));return o.jsx(je,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl hover:shadow-soft",children:o.jsxs(Ee,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[y.company_logo?o.jsx("img",{src:y.company_logo,alt:`${y.company} logo`,className:"w-12 h-12 rounded-3xl object-cover flex-shrink-0",onError:m=>{m.target.style.display="none"}}):o.jsx("div",{className:"w-12 h-12 rounded-3xl bg-breneo-blue/10 flex items-center justify-center flex-shrink-0",children:o.jsx(rn,{className:"h-6 w-6 text-breneo-blue"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm text-gray-600 dark:text-gray-400 mb-1 line-clamp-1",children:y.company}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:y.title})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[y.location&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[o.jsx(Ff,{className:"h-3 w-3 flex-shrink-0"}),o.jsx("span",{className:"line-clamp-1",children:y.location})]}),y.salary&&o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:y.salary}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[y.employment_type&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:y.employment_type}),y.work_arrangement&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:y.work_arrangement})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[o.jsxs(ne,{variant:"secondary",size:"sm",className:"flex-1",onClick:m=>{m.stopPropagation(),y.url?window.open(y.url,"_blank"):t(`/jobs/${encodeURIComponent(y.id)}`)},children:["View Job",o.jsx(cg,{className:"h-3 w-3 ml-2"})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:m=>{m.stopPropagation(),h.mutate(y.id)},disabled:h.isPending,"aria-label":"Unsave job",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-9 w-9",g?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:h.isPending?o.jsx(aa,{className:"h-4 w-4 animate-spin"}):o.jsx(qn,{className:le("h-4 w-4 transition-colors",g?"text-red-500 fill-red-500":"text-black dark:text-white")})})]})]})},y.id)})})})]})]}):o.jsx(At,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Please log in to view saved items."})})})};var c7e="Separator",yF="horizontal",u7e=["horizontal","vertical"],uY=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=yF,...s}=e,a=d7e(n)?n:yF,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(ot.div,{"data-orientation":a,...l,...s,ref:t})});uY.displayName=c7e;function d7e(e){return u7e.includes(e)}var dY=uY;const cf=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>o.jsx(dY,{ref:s,decorative:r,orientation:t,className:le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));cf.displayName=dY.displayName;var mO="Switch",[f7e,cGe]=la(mO),[h7e,p7e]=f7e(mO),fY=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,y]=p.useState(null),g=xt(t,w=>y(w)),m=p.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,b]=li({prop:s,defaultProp:a,onChange:u});return o.jsxs(h7e,{scope:r,checked:x,disabled:l,children:[o.jsx(ot.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":mY(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Be(e.onClick,w=>{b(_=>!_),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&o.jsx(m7e,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});fY.displayName=mO;var hY="SwitchThumb",pY=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=p7e(hY,r);return o.jsx(ot.span,{"data-state":mY(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});pY.displayName=hY;var m7e=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=p.useRef(null),i=a_(r),l=Pw(t);return p.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[i,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mY(e){return e?"checked":"unchecked"}var gY=fY,g7e=pY;const ds=p.forwardRef(({className:e,...t},r)=>o.jsx(gY,{className:le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(g7e,{className:le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ds.displayName=gY.displayName;function y7e(e,t=[]){let r=[];function n(a,i){const l=p.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:y,...g}=f,m=(h==null?void 0:h[e][c])||l,v=p.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:y})}function d(f,h){const y=(h==null?void 0:h[e][c])||l,g=p.useContext(y);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,v7e(s,...t)]}function v7e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Yy(e){const t=e+"CollectionProvider",[r,n]=y7e(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:g,children:m}=y,v=M.useRef(null),x=M.useRef(new Map).current;return o.jsx(s,{scope:g,itemMap:x,collectionRef:v,children:m})};i.displayName=t;const l=e+"CollectionSlot",c=M.forwardRef((y,g)=>{const{scope:m,children:v}=y,x=a(l,m),b=xt(g,x.collectionRef);return o.jsx(rc,{ref:b,children:v})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=M.forwardRef((y,g)=>{const{scope:m,children:v,...x}=y,b=M.useRef(null),w=xt(g,b),_=a(u,m);return M.useEffect(()=>(_.itemMap.set(b,{ref:b,...x}),()=>void _.itemMap.delete(b))),o.jsx(rc,{[d]:"",ref:w,children:v})});f.displayName=u;function h(y){const g=a(e+"CollectionConsumer",y);return M.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((_,S)=>x.indexOf(_.ref.current)-x.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},h,n]}function x7e(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var b7e="DismissableLayer",ZC="dismissableLayer.update",w7e="dismissableLayer.pointerDownOutside",_7e="dismissableLayer.focusOutside",vF,yY=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vY=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(yY),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),g=xt(t,E=>f(E)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),b=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=k7e(E=>{const j=E.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(E),i==null||i(E),E.defaultPrevented||l==null||l())},h),k=E7e(E=>{const j=E.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(E),i==null||i(E),E.defaultPrevented||l==null||l())},h);return x7e(E=>{b===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(vF=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),xF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=vF)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),xF())},[d,u]),p.useEffect(()=>{const E=()=>y({});return document.addEventListener(ZC,E),()=>document.removeEventListener(ZC,E)},[]),o.jsx(ot.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Be(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Be(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Be(e.onPointerDownCapture,S.onPointerDownCapture)})});vY.displayName=b7e;var S7e="DismissableLayerBranch",j7e=p.forwardRef((e,t)=>{const r=p.useContext(yY),n=p.useRef(null),s=xt(t,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(ot.div,{...e,ref:s})});j7e.displayName=S7e;function k7e(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){xY(w7e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function E7e(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!n.current&&xY(_7e,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function xF(){const e=new CustomEvent(ZC);document.dispatchEvent(e)}function xY(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?xy(s,a):s.dispatchEvent(a)}var Aj=0;function gO(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bF()),document.body.insertAdjacentElement("beforeend",e[1]??bF()),Aj++,()=>{Aj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Aj--}},[])}function bF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Tj="focusScope.autoFocusOnMount",Oj="focusScope.autoFocusOnUnmount",wF={bubbles:!1,cancelable:!0},N7e="FocusScope",bY=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=p.useState(null),u=Yt(s),d=Yt(a),f=p.useRef(null),h=xt(t,m=>c(m)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(w){if(y.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:dl(f.current,{select:!0})},v=function(w){if(y.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||dl(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&dl(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,y.paused]),p.useEffect(()=>{if(l){SF.add(y);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(Tj,wF);l.addEventListener(Tj,u),l.dispatchEvent(x),x.defaultPrevented||(C7e($7e(wY(l)),{select:!0}),document.activeElement===m&&dl(l))}return()=>{l.removeEventListener(Tj,u),setTimeout(()=>{const x=new CustomEvent(Oj,wF);l.addEventListener(Oj,d),l.dispatchEvent(x),x.defaultPrevented||dl(m??document.body,{select:!0}),l.removeEventListener(Oj,d),SF.remove(y)},0)}}},[l,u,d,y]);const g=p.useCallback(m=>{if(!r&&!n||y.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const b=m.currentTarget,[w,_]=P7e(b);w&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&dl(w,{select:!0})):m.shiftKey&&x===w&&(m.preventDefault(),r&&dl(_,{select:!0})):x===b&&m.preventDefault()}},[r,n,y.paused]);return o.jsx(ot.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});bY.displayName=N7e;function C7e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(dl(n,{select:t}),document.activeElement!==r)return}function P7e(e){const t=wY(e),r=_F(t,e),n=_F(t.reverse(),e);return[r,n]}function wY(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function _F(e,t){for(const r of e)if(!A7e(r,{upTo:t}))return r}function A7e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function T7e(e){return e instanceof HTMLInputElement&&"select"in e}function dl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&T7e(e)&&t&&e.select()}}var SF=O7e();function O7e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=jF(e,t),e.unshift(t)},remove(t){var r;e=jF(e,t),(r=e[0])==null||r.resume()}}}function jF(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function $7e(e){return e.filter(t=>t.tagName!=="A")}var R7e="Portal",_Y=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=p.useState(!1);an(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?my.createPortal(o.jsx(ot.div,{...n,ref:t}),i):null});_Y.displayName=R7e;var SY=Kw(),$j=function(){},i_=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:$j,onWheelCapture:$j,onTouchMoveCapture:$j}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,y=e.noIsolation,g=e.inert,m=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,b=e.gapMode,w=Ny(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=Hw([r,t]),k=yr(yr({},w),s);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:SY,removeScrollBar:u,shards:f,noIsolation:y,inert:g,setCallbacks:a,allowPinchZoom:!!m,lockRef:r,gapMode:b}),i?p.cloneElement(p.Children.only(l),yr(yr({},k),{ref:S})):p.createElement(x,yr({},k,{className:c,ref:S}),l))});i_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};i_.classNames={fullWidth:hu,zeroRight:fu};var e2=!1;if(typeof window<"u")try{var o0=Object.defineProperty({},"passive",{get:function(){return e2=!0,!0}});window.addEventListener("test",o0,o0),window.removeEventListener("test",o0,o0)}catch{e2=!1}var ud=e2?{passive:!1}:!1,M7e=function(e){return e.tagName==="TEXTAREA"},jY=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!M7e(e)&&r[t]==="visible")},I7e=function(e){return jY(e,"overflowY")},L7e=function(e){return jY(e,"overflowX")},kF=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=kY(e,n);if(s){var a=EY(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},D7e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},F7e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},kY=function(e,t){return e==="v"?I7e(t):L7e(t)},EY=function(e,t){return e==="v"?D7e(t):F7e(t)},B7e=function(e,t){return e==="h"&&t==="rtl"?-1:1},U7e=function(e,t,r,n,s){var a=B7e(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var y=EY(e,l),g=y[0],m=y[1],v=y[2],x=m-v-a*g;(g||x)&&kY(e,l)&&(f+=x,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},l0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},EF=function(e){return[e.deltaX,e.deltaY]},NF=function(e){return e&&"current"in e?e.current:e},z7e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},q7e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},W7e=0,dd=[];function V7e(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(W7e++)[0],a=p.useState(Cy)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Vw([e.lockRef.current],(e.shards||[]).map(NF),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var x=l0(m),b=r.current,w="deltaX"in m?m.deltaX:b[0]-x[0],_="deltaY"in m?m.deltaY:b[1]-x[1],S,k=m.target,E=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&E==="h"&&k.type==="range")return!1;var j=kF(E,k);if(!j)return!0;if(j?S=E:(S=E==="v"?"h":"v",j=kF(E,k)),!j)return!1;if(!n.current&&"changedTouches"in m&&(w||_)&&(n.current=S),!S)return!0;var N=n.current||S;return U7e(N,v,m,N==="h"?w:_,!0)},[]),c=p.useCallback(function(m){var v=m;if(!(!dd.length||dd[dd.length-1]!==a)){var x="deltaY"in v?EF(v):l0(v),b=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&z7e(S.delta,x)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(NF).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=w.length>0?l(v,w[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=p.useCallback(function(m,v,x,b){var w={name:m,delta:v,target:x,should:b,shadowParent:H7e(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=p.useCallback(function(m){r.current=l0(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,EF(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,l0(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return dd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ud),document.addEventListener("touchmove",c,ud),document.addEventListener("touchstart",d,ud),function(){dd=dd.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,ud),document.removeEventListener("touchmove",c,ud),document.removeEventListener("touchstart",d,ud)}},[]);var y=e.removeScrollBar,g=e.inert;return p.createElement(p.Fragment,null,g?p.createElement(a,{styles:q7e(s)}):null,y?p.createElement(Jw,{gapMode:e.gapMode}):null)}function H7e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const K7e=Gw(SY,V7e);var NY=p.forwardRef(function(e,t){return p.createElement(i_,yr({},e,{ref:t,sideCar:K7e}))});NY.classNames=i_.classNames;var G7e=[" ","Enter","ArrowUp","ArrowDown"],Y7e=[" ","Enter"],Jy="Select",[o_,l_,J7e]=Yy(Jy),[Zh,uGe]=la(Jy,[J7e,bh]),c_=bh(),[X7e,wc]=Zh(Jy),[Q7e,Z7e]=Zh(Jy),CY=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:y,form:g}=e,m=c_(t),[v,x]=p.useState(null),[b,w]=p.useState(null),[_,S]=p.useState(!1),k=Th(u),[E=!1,j]=li({prop:n,defaultProp:s,onChange:a}),[N,C]=li({prop:i,defaultProp:l,onChange:c}),P=p.useRef(null),R=v?g||!!v.closest("form"):!0,[B,z]=p.useState(new Set),D=Array.from(B).map(O=>O.props.value).join(";");return o.jsx(E7,{...m,children:o.jsxs(X7e,{required:y,scope:t,trigger:v,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:ri(),value:N,onValueChange:C,open:E,onOpenChange:j,dir:k,triggerPointerDownPosRef:P,disabled:h,children:[o.jsx(o_.Provider,{scope:t,children:o.jsx(Q7e,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(O=>{z(U=>new Set(U).add(O))},[]),onNativeOptionRemove:p.useCallback(O=>{z(U=>{const A=new Set(U);return A.delete(O),A})},[]),children:r})}),R?o.jsxs(ZY,{"aria-hidden":!0,required:y,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:O=>C(O.target.value),disabled:h,form:g,children:[N===void 0?o.jsx("option",{value:""}):null,Array.from(B)]},D):null]})})};CY.displayName=Jy;var PY="SelectTrigger",AY=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=c_(r),i=wc(PY,r),l=i.disabled||n,c=xt(t,i.onTriggerChange),u=l_(r),d=p.useRef("touch"),[f,h,y]=eJ(m=>{const v=u().filter(w=>!w.disabled),x=v.find(w=>w.value===i.value),b=tJ(v,m,x);b!==void 0&&i.onValueChange(b.value)}),g=m=>{l||(i.onOpenChange(!0),y()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(FP,{asChild:!0,...a,children:o.jsx(ot.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":QY(i.value)?"":void 0,...s,ref:c,onClick:Be(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:Be(s.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:Be(s.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&G7e.includes(m.key)&&(g(),m.preventDefault())})})})});AY.displayName=PY;var TY="SelectValue",OY=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...l}=e,c=wc(TY,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=xt(t,c.onValueNodeChange);return an(()=>{u(d)},[u,d]),o.jsx(ot.span,{...l,ref:f,style:{pointerEvents:"none"},children:QY(c.value)?o.jsx(o.Fragment,{children:i}):a})});OY.displayName=TY;var e9e="SelectIcon",$Y=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(ot.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});$Y.displayName=e9e;var t9e="SelectPortal",RY=e=>o.jsx(_Y,{asChild:!0,...e});RY.displayName=t9e;var Du="SelectContent",MY=p.forwardRef((e,t)=>{const r=wc(Du,e.__scopeSelect),[n,s]=p.useState();if(an(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?zu.createPortal(o.jsx(IY,{scope:e.__scopeSelect,children:o.jsx(o_.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(LY,{...e,ref:t})});MY.displayName=Du;var qa=10,[IY,_c]=Zh(Du),r9e="SelectContentImpl",LY=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:y,sticky:g,hideWhenDetached:m,avoidCollisions:v,...x}=e,b=wc(Du,r),[w,_]=p.useState(null),[S,k]=p.useState(null),E=xt(t,q=>_(q)),[j,N]=p.useState(null),[C,P]=p.useState(null),R=l_(r),[B,z]=p.useState(!1),D=p.useRef(!1);p.useEffect(()=>{if(w)return Xw(w)},[w]),gO();const O=p.useCallback(q=>{const[Z,...Y]=R().map(Q=>Q.ref.current),[J]=Y.slice(-1),se=document.activeElement;for(const Q of q)if(Q===se||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===Z&&S&&(S.scrollTop=0),Q===J&&S&&(S.scrollTop=S.scrollHeight),Q==null||Q.focus(),document.activeElement!==se))return},[R,S]),U=p.useCallback(()=>O([j,w]),[O,j,w]);p.useEffect(()=>{B&&U()},[B,U]);const{onOpenChange:A,triggerPointerDownPosRef:I}=b;p.useEffect(()=>{if(w){let q={x:0,y:0};const Z=J=>{var se,Q;q={x:Math.abs(Math.round(J.pageX)-(((se=I.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(J.pageY)-(((Q=I.current)==null?void 0:Q.y)??0))}},Y=J=>{q.x<=10&&q.y<=10?J.preventDefault():w.contains(J.target)||A(!1),document.removeEventListener("pointermove",Z),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",Y,{capture:!0})}}},[w,A,I]),p.useEffect(()=>{const q=()=>A(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[A]);const[te,$]=eJ(q=>{const Z=R().filter(se=>!se.disabled),Y=Z.find(se=>se.ref.current===document.activeElement),J=tJ(Z,q,Y);J&&setTimeout(()=>J.ref.current.focus())}),V=p.useCallback((q,Z,Y)=>{const J=!D.current&&!Y;(b.value!==void 0&&b.value===Z||J)&&(N(q),J&&(D.current=!0))},[b.value]),W=p.useCallback(()=>w==null?void 0:w.focus(),[w]),ee=p.useCallback((q,Z,Y)=>{const J=!D.current&&!Y;(b.value!==void 0&&b.value===Z||J)&&P(q)},[b.value]),ie=n==="popper"?t2:DY,G=ie===t2?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:y,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return o.jsx(IY,{scope:r,content:w,viewport:S,onViewportChange:k,itemRefCallback:V,selectedItem:j,onItemLeave:W,itemTextRefCallback:ee,focusSelectedItem:U,selectedItemText:C,position:n,isPositioned:B,searchRef:te,children:o.jsx(NY,{as:rc,allowPinchZoom:!0,children:o.jsx(bY,{asChild:!0,trapped:b.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:Be(s,q=>{var Z;(Z=b.trigger)==null||Z.focus({preventScroll:!0}),q.preventDefault()}),children:o.jsx(vY,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:o.jsx(ie,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:q=>q.preventDefault(),...x,...G,onPlaced:()=>z(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Be(x.onKeyDown,q=>{const Z=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!Z&&q.key.length===1&&$(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let J=R().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(q.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const se=q.target,Q=J.indexOf(se);J=J.slice(Q+1)}setTimeout(()=>O(J)),q.preventDefault()}})})})})})})});LY.displayName=r9e;var n9e="SelectItemAlignedPosition",DY=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=wc(Du,r),i=_c(Du,r),[l,c]=p.useState(null),[u,d]=p.useState(null),f=xt(t,E=>d(E)),h=l_(r),y=p.useRef(!1),g=p.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:b}=i,w=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&m&&v&&x){const E=a.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),N=a.valueNode.getBoundingClientRect(),C=x.getBoundingClientRect();if(a.dir!=="rtl"){const se=C.left-j.left,Q=N.left-se,ue=E.left-Q,ce=E.width+ue,ve=Math.max(ce,j.width),we=window.innerWidth-qa,Te=hg(Q,[qa,Math.max(qa,we-ve)]);l.style.minWidth=ce+"px",l.style.left=Te+"px"}else{const se=j.right-C.right,Q=window.innerWidth-N.right-se,ue=window.innerWidth-E.right-Q,ce=E.width+ue,ve=Math.max(ce,j.width),we=window.innerWidth-qa,Te=hg(Q,[qa,Math.max(qa,we-ve)]);l.style.minWidth=ce+"px",l.style.right=Te+"px"}const P=h(),R=window.innerHeight-qa*2,B=m.scrollHeight,z=window.getComputedStyle(u),D=parseInt(z.borderTopWidth,10),O=parseInt(z.paddingTop,10),U=parseInt(z.borderBottomWidth,10),A=parseInt(z.paddingBottom,10),I=D+O+B+A+U,te=Math.min(v.offsetHeight*5,I),$=window.getComputedStyle(m),V=parseInt($.paddingTop,10),W=parseInt($.paddingBottom,10),ee=E.top+E.height/2-qa,ie=R-ee,G=v.offsetHeight/2,q=v.offsetTop+G,Z=D+O+q,Y=I-Z;if(Z<=ee){const se=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const Q=u.clientHeight-m.offsetTop-m.offsetHeight,ue=Math.max(ie,G+(se?W:0)+Q+U),ce=Z+ue;l.style.height=ce+"px"}else{const se=P.length>0&&v===P[0].ref.current;l.style.top="0px";const ue=Math.max(ee,D+m.offsetTop+(se?V:0)+G)+Y;l.style.height=ue+"px",m.scrollTop=Z-ee+m.offsetTop}l.style.margin=`${qa}px 0`,l.style.minHeight=te+"px",l.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[h,a.trigger,a.valueNode,l,u,m,v,x,a.dir,n]);an(()=>w(),[w]);const[_,S]=p.useState();an(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=p.useCallback(E=>{E&&g.current===!0&&(w(),b==null||b(),g.current=!1)},[w,b]);return o.jsx(a9e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:k,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(ot.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});DY.displayName=n9e;var s9e="SelectPopperPosition",t2=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=qa,...a}=e,i=c_(r);return o.jsx(BP,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});t2.displayName=s9e;var[a9e,yO]=Zh(Du,{}),r2="SelectViewport",FY=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=_c(r2,r),i=yO(r2,r),l=xt(t,a.onViewportChange),c=p.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(o_.Slot,{scope:r,children:o.jsx(ot.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Be(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const y=Math.abs(c.current-d.scrollTop);if(y>0){const g=window.innerHeight-qa*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(m,v);if(x<g){const b=x+y,w=Math.min(g,b),_=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});FY.displayName=r2;var BY="SelectGroup",[i9e,o9e]=Zh(BY),l9e=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ri();return o.jsx(i9e,{scope:r,id:s,children:o.jsx(ot.div,{role:"group","aria-labelledby":s,...n,ref:t})})});l9e.displayName=BY;var UY="SelectLabel",zY=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=o9e(UY,r);return o.jsx(ot.div,{id:s.id,...n,ref:t})});zY.displayName=UY;var Yb="SelectItem",[c9e,qY]=Zh(Yb),WY=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,l=wc(Yb,r),c=_c(Yb,r),u=l.value===n,[d,f]=p.useState(a??""),[h,y]=p.useState(!1),g=xt(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,s)}),m=ri(),v=p.useRef("touch"),x=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(c9e,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:p.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:o.jsx(o_.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(ot.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:g,onFocus:Be(i.onFocus,()=>y(!0)),onBlur:Be(i.onBlur,()=>y(!1)),onClick:Be(i.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:Be(i.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:Be(i.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:Be(i.onPointerMove,b=>{var w;v.current=b.pointerType,s?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Be(i.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Be(i.onKeyDown,b=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(Y7e.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});WY.displayName=Yb;var rm="SelectItemText",VY=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=wc(rm,r),l=_c(rm,r),c=qY(rm,r),u=Z7e(rm,r),[d,f]=p.useState(null),h=xt(t,x=>f(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),y=d==null?void 0:d.textContent,g=p.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return an(()=>(m(g),()=>v(g)),[m,v,g]),o.jsxs(o.Fragment,{children:[o.jsx(ot.span,{id:c.textId,...a,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?zu.createPortal(a.children,i.valueNode):null]})});VY.displayName=rm;var HY="SelectItemIndicator",KY=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return qY(HY,r).isSelected?o.jsx(ot.span,{"aria-hidden":!0,...n,ref:t}):null});KY.displayName=HY;var n2="SelectScrollUpButton",GY=p.forwardRef((e,t)=>{const r=_c(n2,e.__scopeSelect),n=yO(n2,e.__scopeSelect),[s,a]=p.useState(!1),i=xt(t,n.onScrollButtonChange);return an(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(JY,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});GY.displayName=n2;var s2="SelectScrollDownButton",YY=p.forwardRef((e,t)=>{const r=_c(s2,e.__scopeSelect),n=yO(s2,e.__scopeSelect),[s,a]=p.useState(!1),i=xt(t,n.onScrollButtonChange);return an(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(JY,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});YY.displayName=s2;var JY=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=_c("SelectScrollButton",r),i=p.useRef(null),l=l_(r),c=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),an(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ot.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Be(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Be(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Be(s.onPointerLeave,()=>{c()})})}),u9e="SelectSeparator",XY=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(ot.div,{"aria-hidden":!0,...n,ref:t})});XY.displayName=u9e;var a2="SelectArrow",d9e=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=c_(r),a=wc(a2,r),i=_c(a2,r);return a.open&&i.position==="popper"?o.jsx(UP,{...s,...n,ref:t}):null});d9e.displayName=a2;function QY(e){return e===""||e===void 0}var ZY=p.forwardRef((e,t)=>{const{value:r,...n}=e,s=p.useRef(null),a=xt(t,s),i=a_(r);return p.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[i,r]),o.jsx(zP,{asChild:!0,children:o.jsx("select",{...n,ref:a,defaultValue:r})})});ZY.displayName="BubbleSelect";function eJ(e){const t=Yt(e),r=p.useRef(""),n=p.useRef(0),s=p.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function tJ(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=f9e(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function f9e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var h9e=CY,rJ=AY,p9e=OY,m9e=$Y,g9e=RY,nJ=MY,y9e=FY,sJ=zY,aJ=WY,v9e=VY,x9e=KY,iJ=GY,oJ=YY,lJ=XY;const So=h9e,jo=p9e,Oi=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(rJ,{ref:n,className:le("flex h-[3.2rem] w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-0 hover:ring-0 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(m9e,{asChild:!0,children:o.jsx(Do,{className:"h-4 w-4 opacity-50"})})]}));Oi.displayName=rJ.displayName;const cJ=p.forwardRef(({className:e,...t},r)=>o.jsx(iJ,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(fde,{className:"h-4 w-4"})}));cJ.displayName=iJ.displayName;const uJ=p.forwardRef(({className:e,...t},r)=>o.jsx(oJ,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Do,{className:"h-4 w-4"})}));uJ.displayName=oJ.displayName;const $i=p.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(g9e,{children:o.jsxs(nJ,{ref:s,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(cJ,{}),o.jsx(y9e,{className:le("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(uJ,{})]})}));$i.displayName=nJ.displayName;const b9e=p.forwardRef(({className:e,...t},r)=>o.jsx(sJ,{ref:r,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));b9e.displayName=sJ.displayName;const br=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(aJ,{ref:n,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(x9e,{children:o.jsx(Fw,{className:"h-4 w-4"})})}),o.jsx(v9e,{children:t})]}));br.displayName=aJ.displayName;const w9e=p.forwardRef(({className:e,...t},r)=>o.jsx(lJ,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));w9e.displayName=lJ.displayName;const _9e=ky("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vO=p.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:le(_9e({variant:t}),e),...r}));vO.displayName="Alert";const xO=p.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:le("mb-1 font-medium leading-none tracking-tight",e),...t}));xO.displayName="AlertTitle";const bO=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:le("text-sm [&_p]:leading-relaxed",e),...t}));bO.displayName="AlertDescription";const i2=({compact:e=!1})=>{Ho();const[t,r]=p.useState(!1),[n,s]=p.useState(null),[a,i]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(!1);p.useEffect(()=>{r(!0)},[]),p.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}if(window.navigator.standalone===!0){i(!0);return}const y=localStorage.getItem("pwa-install-card-dismissed");if(y){const x=parseInt(y,10);if((Date.now()-x)/(1e3*60*60*24)<30){c(!0);return}}const g=x=>{x.preventDefault(),s(x)};window.addEventListener("beforeinstallprompt",g);const m=async()=>{try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.ready}}catch(x){console.log("Service worker check:",x)}},v=setTimeout(()=>{m()},1e3);return()=>{window.removeEventListener("beforeinstallprompt",g),clearTimeout(v)}},[]);const f=async()=>{if(d(!0),n){try{await n.prompt();const{outcome:x}=await n.userChoice;x==="accepted"?(i(!0),s(null),fe.success("App installation started!")):fe.info("Installation cancelled. You can try again later.")}catch(x){console.error("Error installing PWA:",x),fe.error("Failed to trigger installation. Please try using your browser menu.")}finally{d(!1)}return}let y=!1;const m=await new Promise(x=>{const b=w=>{w.preventDefault(),y=!0;const _=w;s(_),x(_)};window.addEventListener("beforeinstallprompt",b,{once:!0}),setTimeout(()=>{y||(window.removeEventListener("beforeinstallprompt",b),x(null))},2e3)});if(m){try{await m.prompt();const{outcome:x}=await m.userChoice;x==="accepted"?(i(!0),s(null),fe.success("App installation started!")):fe.info("Installation cancelled. You can try again later.")}catch(x){console.error("Error installing PWA:",x),fe.error("Failed to trigger installation. Please try using your browser menu.")}finally{d(!1)}return}if(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1){fe.info("Tap the Share button (square with arrow), then select 'Add to Home Screen'",{duration:4e3}),d(!1);return}try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.ready;fe.info("Install prompt not available. Please check your browser's menu for 'Install' or 'Add to Home Screen' option.",{duration:4e3})}}catch(x){console.error("Service worker check failed:",x)}d(!1)};if(a||l||!t)return null;const h=()=>o.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Install App Illustration",className:le("w-full h-auto object-contain",e?"max-h-24":"max-h-40"),onError:y=>{console.error("Image failed to load:",y)}});return o.jsxs(je,{className:le(e&&"p-0"),children:[o.jsxs(gt,{className:le(e&&"pb-3 px-4 pt-4"),children:[o.jsx(Nt,{className:"text-lg",children:"Install App"}),o.jsx(Zr,{children:"Download our app for a better experience"})]}),o.jsxs(Ee,{className:le("space-y-4",e&&"space-y-3 px-4 pb-4"),children:[o.jsx(h,{}),o.jsxs("div",{className:le("space-y-2",e&&"space-y-1.5"),children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(No,{className:le("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),o.jsx("span",{children:"Works offline"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(No,{className:le("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),o.jsx("span",{children:"Faster loading"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(No,{className:le("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),o.jsx("span",{children:"Home screen access"})]})]}),o.jsxs(ne,{onClick:f,disabled:u,className:le("w-full",e&&"h-9"),children:[o.jsx(tz,{className:le("mr-2 h-4 w-4",e&&"h-3.5 w-3.5")}),u?"Preparing...":n?"Download & Install Now":"Download App"]})]})]})},S9e=async()=>{var e,t;try{const n=(await Se.post(Je.PAYMENTS.BOG_AUTH)).data;if(!n.access_token||n.token_type!=="Bearer")throw new Error("Invalid response received from Bank of Georgia auth API.");return n}catch(r){if(r&&typeof r=="object"&&"response"in r&&r.response){const n=r;if(n.response.status===404)throw new Error("Payment authentication endpoint not found. Please ensure the backend payment endpoint is implemented. See BACKEND_PAYMENT_SETUP.md for details.");const s=((e=n.response.data)==null?void 0:e.error)||((t=n.response.data)==null?void 0:t.message)||`Bank of Georgia auth failed (${n.response.status})`;throw new Error(s)}else{if(r&&typeof r=="object"&&"request"in r)throw new Error("Unable to reach payment service. Please check your connection.");{const n=r instanceof Error?r.message:"An error occurred while requesting payment authorization.";throw new Error(n)}}}},Rj=[{id:"account",label:"Account Settings"},{id:"notifications",label:"Notifications"},{id:"privacy",label:"Privacy & Security"},{id:"subscription",label:"Subscription & Billing"},{id:"learning",label:"Learning Preferences"},{id:"accessibility",label:"Theme & Accessibility"}];function j9e(){const{user:e,logout:t,refreshUser:r}=fr(),{theme:n,setTheme:s}=Ho(),{fontSize:a,setFontSize:i}=Zue(),{language:l,setLanguage:c}=fi(),u=ca(),[d,f]=$w();lr(),Us();const[h,y]=p.useState(!1),g=p.useRef(null),m=p.useRef(null),v=()=>{const Oe=["account","notifications","privacy","subscription","learning","accessibility"];try{const yt=d.get("section");if(yt&&Oe.includes(yt))return yt}catch(yt){console.error("Error getting initial section:",yt)}return"account"},[x,b]=p.useState(()=>v()),[w,_]=p.useState(!1);p.useEffect(()=>{const Oe=d.get("payment");Oe==="success"?(fe.success("Payment successful! Your subscription has been activated."),f(yt=>(yt.delete("payment"),yt))):Oe==="failed"&&(fe.error("Payment failed. Please try again."),f(yt=>(yt.delete("payment"),yt)))},[d,f]),p.useEffect(()=>{if(!u||!g.current)return;const Oe=setTimeout(()=>{const yt=g.current;if(!yt)return;const mt=yt.querySelector(`[data-section="${x}"]`);if(!mt)return;const Pt=yt.getBoundingClientRect(),T=mt.getBoundingClientRect(),L=yt.scrollLeft,pe=T.left-Pt.left+L,Fe=T.width,Ct=Pt.width,ae=pe-Ct/2+Fe/2;yt.scrollTo({left:Math.max(0,ae),behavior:"smooth"})},50);return()=>clearTimeout(Oe)},[x,u]);const[S,k]=p.useState(""),[E,j]=p.useState("");p.useState(!1);const N=p.useRef(!1),[C,P]=p.useState(1),[R,B]=p.useState(""),[z,D]=p.useState(""),[O,U]=p.useState(""),[A,I]=p.useState(!1),[te,$]=p.useState(!0),[V,W]=p.useState(!0),[ee,ie]=p.useState(!0),[G,q]=p.useState(!0),[Z,Y]=p.useState(!0),[J,se]=p.useState(!1),[Q,ue]=p.useState(!1),[ce,ve]=p.useState(!1),[we,Te]=p.useState(null),[pt,st]=p.useState(null),[bt,F]=p.useState(null),[X,ye]=p.useState(!0),[Ce,Ge]=p.useState(!0),[lt,Ve]=p.useState(!0),[We,tt]=p.useState("weekly"),[K,H]=p.useState(a),[oe,xe]=p.useState(l),qe=Oe=>{b(Oe)};p.useEffect(()=>{e&&!N.current&&(k(e.first_name||""),j(e.last_name||""))},[e==null?void 0:e.id,e==null?void 0:e.first_name,e==null?void 0:e.last_name]),p.useEffect(()=>{H(a)},[a]),p.useEffect(()=>{xe(l)},[l]),p.useEffect(()=>{y(!0);const Oe=(T,L)=>{try{const pe=localStorage.getItem(T);if(pe!==null)return JSON.parse(pe)}catch(pe){console.error(`Error loading preference ${T}:`,pe),localStorage.removeItem(T)}return L};$(Oe("notif_email_job_matches",!0)),W(Oe("notif_email_new_courses",!0)),ie(Oe("notif_email_skill_updates",!0)),q(Oe("notif_in_app_messages",!0)),Y(Oe("notif_in_app_progress",!0)),se(Oe("notif_newsletter",!1)),ue(Oe("notif_push",!1)),ye(Oe("privacy_show_skills",!0)),Ge(Oe("privacy_show_test_results",!0)),Ve(Oe("privacy_show_completed_courses",!0)),tt(Oe("ai_recommendation_frequency","weekly"));const yt=Oe("breneo-font-size",a),mt=yt==="large"?"big":yt;["small","medium","big"].includes(mt)&&(H(mt),i(mt));const Pt=Oe("accessibility_language","en");xe(Pt==="en"||Pt==="ka"?Pt:"en")},[]),p.useEffect(()=>{h&&f({section:x},{replace:!1})},[x,h,f]),p.useEffect(()=>{h&&localStorage.setItem("notif_email_job_matches",JSON.stringify(te))},[te,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_email_new_courses",JSON.stringify(V))},[V,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_email_skill_updates",JSON.stringify(ee))},[ee,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_in_app_messages",JSON.stringify(G))},[G,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_in_app_progress",JSON.stringify(Z))},[Z,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_newsletter",JSON.stringify(J))},[J,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_push",JSON.stringify(Q))},[Q,h]),p.useEffect(()=>{h&&localStorage.setItem("privacy_show_skills",JSON.stringify(X))},[X,h]),p.useEffect(()=>{h&&localStorage.setItem("privacy_show_test_results",JSON.stringify(Ce))},[Ce,h]),p.useEffect(()=>{h&&localStorage.setItem("privacy_show_completed_courses",JSON.stringify(lt))},[lt,h]),p.useEffect(()=>{h&&localStorage.setItem("ai_recommendation_frequency",JSON.stringify(We))},[We,h]);const Ae=Oe=>{H(Oe),i(Oe)},at=Oe=>{xe(Oe),c(Oe),localStorage.setItem("accessibility_language",JSON.stringify(Oe))},Ye=Oe=>{s(Oe),localStorage.setItem("theme",Oe)};p.useEffect(()=>{h&&localStorage.setItem("accessibility_language",JSON.stringify(oe))},[oe,h]);const he=async Oe=>{var yt,mt;if(Oe.preventDefault(),I(!0),!(e!=null&&e.email)){fe.error("Email not found. Please log in again."),I(!1);return}try{const Pt=await Se.post(Je.AUTH.PASSWORD_RESET,{email:e.email});fe.success(Pt.data.message||"Code sent to your email!"),P(2)}catch(Pt){Xt.isAxiosError(Pt)?fe.error(((mt=(yt=Pt.response)==null?void 0:yt.data)==null?void 0:mt.error)||"Error sending code"):fe.error("Error sending code")}finally{I(!1)}},Ne=async Oe=>{var yt,mt;Oe.preventDefault(),I(!0);try{const Pt=await Se.post(Je.AUTH.PASSWORD_RESET_VERIFY,{email:e==null?void 0:e.email,code:R});fe.success(Pt.data.message||"Code verified!"),P(3)}catch(Pt){Xt.isAxiosError(Pt)?fe.error(((mt=(yt=Pt.response)==null?void 0:yt.data)==null?void 0:mt.error)||"Invalid code"):fe.error("Invalid code")}finally{I(!1)}},Ue=async Oe=>{var yt,mt;if(Oe.preventDefault(),z!==O){fe.error("Passwords do not match");return}if(z.length<6){fe.error("Password must be at least 6 characters long");return}I(!0);try{const Pt=await Se.post(Je.AUTH.PASSWORD_RESET_CONFIRM,{email:e==null?void 0:e.email,code:R,new_password:z,confirm_password:O});fe.success(Pt.data.message||"Password updated successfully!"),P(1),B(""),D(""),U("")}catch(Pt){Xt.isAxiosError(Pt)?fe.error(((mt=(yt=Pt.response)==null?void 0:yt.data)==null?void 0:mt.error)||"Error setting new password"):fe.error("Error setting new password")}finally{I(!1)}},De=async()=>{fe.info("Preparing your data export..."),setTimeout(()=>{fe.success("Data export ready! Check your email for the download link.")},2e3)},Me=n==="dark"?"ON":n==="system"?"AUTO":"OFF",Ft=()=>{switch(x){case"account":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Account Settings"}),o.jsxs(je,{children:[o.jsxs(gt,{children:[o.jsx(Nt,{children:"Email & Password"}),o.jsx(Zr,{children:"Manage your login credentials and security"})]}),o.jsxs(Ee,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"Email Address"}),o.jsx(Qe,{value:(e==null?void 0:e.email)||"",disabled:!0,className:"h-[3.2rem] bg-muted/50"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be edited. Contact support if you need to update it."})]}),o.jsx(cf,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Pe,{children:"Change Password"}),C===1&&o.jsx("form",{onSubmit:he,className:"space-y-4",children:o.jsx(ne,{type:"submit",disabled:A,children:A?"Sending...":"Send Verification Code"})}),C===2&&o.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[o.jsx(Qe,{placeholder:"Enter 6-digit code",value:R,onChange:Oe=>B(Oe.target.value),className:"h-[3.2rem]"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{type:"submit",disabled:A,children:A?"Verifying...":"Verify Code"}),o.jsx(ne,{type:"button",variant:"outline",onClick:()=>P(1),children:"Back"})]})]}),C===3&&o.jsxs("form",{onSubmit:Ue,className:"space-y-4",children:[o.jsx(Qe,{type:"password",placeholder:"New password",value:z,onChange:Oe=>D(Oe.target.value),className:"h-[3.2rem]"}),o.jsx(Qe,{type:"password",placeholder:"Confirm new password",value:O,onChange:Oe=>U(Oe.target.value),className:"h-[3.2rem]"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{type:"submit",disabled:A,children:A?"Updating...":"Update Password"}),o.jsx(ne,{type:"button",variant:"outline",onClick:()=>P(2),children:"Back"})]})]})]})]})]}),o.jsxs(je,{children:[o.jsxs(gt,{children:[o.jsx(Nt,{children:"Log out"}),o.jsx(Zr,{children:"Sign out of your account on this device"})]}),o.jsx(Ee,{children:o.jsxs(ne,{variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50 hover:border-red-300 dark:border-red-900/50 dark:hover:bg-red-900/20",onClick:()=>_(!0),children:[o.jsx(rz,{className:"h-4 w-4 mr-2"}),"Log out"]})})]})]});case"notifications":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Notifications"}),o.jsxs(je,{children:[o.jsxs(gt,{children:[o.jsx(Nt,{children:"Email Notifications"}),o.jsx(Zr,{children:"Control how and when you receive email updates"})]}),o.jsxs(Ee,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:"Job Matches"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when new jobs match your profile"})]}),o.jsx(ds,{checked:te,onCheckedChange:$})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:"New Courses"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates about new courses in your interests"})]}),o.jsx(ds,{checked:V,onCheckedChange:W})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:"Skill Updates"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about skill recommendations and updates"})]}),o.jsx(ds,{checked:ee,onCheckedChange:ie})]}),o.jsx(cf,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:"Newsletter"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Subscribe to our weekly newsletter"})]}),o.jsx(ds,{checked:J,onCheckedChange:se})]})]})]}),o.jsxs(je,{children:[o.jsxs(gt,{children:[o.jsx(Nt,{children:"In-App Notifications"}),o.jsx(Zr,{children:"Manage notifications within the application"})]}),o.jsxs(Ee,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:"Messages"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify me about new messages"})]}),o.jsx(ds,{checked:G,onCheckedChange:q})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:"Progress Reminders"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get reminders about your learning progress"})]}),o.jsx(ds,{checked:Z,onCheckedChange:Y})]})]})]}),o.jsxs(je,{children:[o.jsxs(gt,{children:[o.jsx(Nt,{children:"Push Notifications"}),o.jsx(Zr,{children:"Receive notifications even when you're not on the site"})]}),o.jsx(Ee,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:"Enable Push Notifications"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow Breneo to send you push notifications"})]}),o.jsx(ds,{checked:Q,onCheckedChange:ue})]})})]})]});case"privacy":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Privacy & Security"}),o.jsxs(je,{children:[o.jsxs(gt,{children:[o.jsx(Nt,{children:"Data Visibility"}),o.jsx(Zr,{children:"Manage what information is visible on your profile"})]}),o.jsxs(Ee,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:"Show Skills"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your skills on your profile"})]}),o.jsx(ds,{checked:X,onCheckedChange:ye})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:"Show Test Results"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your skill test results"})]}),o.jsx(ds,{checked:Ce,onCheckedChange:Ge})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:"Show Completed Courses"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Display courses you've completed"})]}),o.jsx(ds,{checked:lt,onCheckedChange:Ve})]})]})]}),o.jsxs(je,{children:[o.jsxs(gt,{children:[o.jsx(Nt,{children:"Data Management"}),o.jsx(Zr,{children:"Download or export your data (GDPR compliance)"})]}),o.jsxs(Ee,{className:"space-y-4",children:[o.jsxs(ne,{onClick:De,variant:"outline",children:[o.jsx(tz,{className:"h-4 w-4 mr-2"}),"Download My Data"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Request a copy of all your data. You'll receive an email with a download link."})]})]})]});case"subscription":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Subscription & Billing"}),o.jsxs(je,{children:[o.jsxs(gt,{children:[o.jsx(Nt,{children:"Current Plan"}),o.jsx(Zr,{children:"Your current subscription plan"})]}),o.jsx(Ee,{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"Free Plan"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Access to basic features"})]}),o.jsx(Fr,{to:"/subscription",children:o.jsx(ne,{children:"Upgrade to Pro"})})]})})]}),o.jsxs(je,{children:[o.jsxs(gt,{children:[o.jsx(Nt,{children:"Payment Methods"}),o.jsx(Zr,{children:"Manage your payment methods"})]}),o.jsx(Ee,{children:o.jsxs("div",{className:"space-y-3",children:[!pt&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"Authenticate with Bank of Georgia to add a payment method."}),pt&&o.jsxs("div",{className:"rounded-3xl border border-primary/40 bg-primary/5 p-4 text-sm",children:[o.jsx("p",{className:"font-medium text-primary",children:"Bank of Georgia authorization ready"}),o.jsxs("p",{className:"text-muted-foreground",children:["Token type: ",pt.token_type]}),o.jsxs("p",{className:"text-muted-foreground",children:["Expires in: ",pt.expires_in," seconds"]}),o.jsxs("p",{className:"text-muted-foreground break-all",children:["Access token: ",pt.access_token]})]}),we&&o.jsxs(vO,{variant:we.includes("not found")||we.includes("endpoint")?"default":"destructive",children:[we.includes("not found")||we.includes("endpoint")?o.jsx(xde,{className:"h-4 w-4"}):o.jsx(Lf,{className:"h-4 w-4"}),o.jsx(xO,{children:we.includes("not found")||we.includes("endpoint")?"Backend Setup Required":"Payment Error"}),o.jsx(bO,{className:"text-sm",children:we.includes("not found")||we.includes("endpoint")?o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{children:"The payment backend endpoint is not yet implemented. To enable payments:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[o.jsxs("li",{children:["Implement"," ",o.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"POST /api/payments/bog/orders/"})," ","on your backend server"]}),o.jsxs("li",{children:["See"," ",o.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"BACKEND_PAYMENT_SETUP.md"})," ","for implementation details"]})]})]}):we})]}),o.jsx(ne,{variant:"outline",onClick:async()=>{F(null),Te(null);try{ve(!0);const Oe=await S9e();st(Oe),fe.success("Bank of Georgia authentication successful.")}catch(Oe){const yt=Oe instanceof Error?Oe.message:"Authentication failed with Bank of Georgia.";Te(yt),fe.error("Unable to authenticate with Bank of Georgia.")}finally{ve(!1)}},disabled:ce,children:ce&&!bt?"Authorizing...":"Refresh Authorization"})]})})]}),o.jsxs(je,{children:[o.jsxs(gt,{children:[o.jsx(Nt,{children:"Billing History"}),o.jsx(Zr,{children:"View and download your invoices"})]}),o.jsx(Ee,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"No billing history available"})})]})]});case"learning":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Learning Preferences"}),o.jsxs(je,{children:[o.jsxs(gt,{children:[o.jsx(Nt,{children:"AI Recommendations"}),o.jsx(Zr,{children:"How often would you like AI recommendations?"})]}),o.jsx(Ee,{children:o.jsxs(So,{value:We,onValueChange:Oe=>tt(Oe),children:[o.jsx(Oi,{children:o.jsx(jo,{})}),o.jsxs($i,{children:[o.jsx(br,{value:"daily",children:"Daily"}),o.jsx(br,{value:"weekly",children:"Weekly"}),o.jsx(br,{value:"monthly",children:"Monthly"})]})]})})]}),o.jsxs(je,{children:[o.jsxs(gt,{children:[o.jsx(Nt,{children:"Interests & Career Paths"}),o.jsx(Zr,{children:"Manage your interests and preferred career paths"})]}),o.jsx(Ee,{children:o.jsx(Fr,{to:"/interests",children:o.jsx(ne,{variant:"outline",children:"Manage Interests"})})})]})]});case"accessibility":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Theme & Accessibility"}),o.jsxs(je,{children:[o.jsxs(gt,{children:[o.jsx(Nt,{children:"Appearance"}),o.jsx(Zr,{children:"Customize the look and feel of the application"})]}),o.jsx(Ee,{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{children:"Theme"}),o.jsxs(So,{value:n||"light",onValueChange:Oe=>Ye(Oe),children:[o.jsx(Oi,{className:"w-32",children:o.jsx(jo,{children:Me})}),o.jsxs($i,{children:[o.jsx(br,{value:"light",children:"Light"}),o.jsx(br,{value:"dark",children:"Dark"}),o.jsx(br,{value:"system",children:"Auto"})]})]})]})})]}),o.jsxs(je,{children:[o.jsxs(gt,{children:[o.jsx(Nt,{children:"Accessibility"}),o.jsx(Zr,{children:"Adjust settings for better accessibility"})]}),o.jsxs(Ee,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"Font Size"}),o.jsxs(So,{value:K,onValueChange:Ae,children:[o.jsx(Oi,{children:o.jsx(jo,{})}),o.jsxs($i,{children:[o.jsx(br,{value:"small",children:"Small"}),o.jsx(br,{value:"medium",children:"Medium"}),o.jsx(br,{value:"big",children:"Big"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:"Language"}),o.jsxs(So,{value:oe,onValueChange:at,children:[o.jsx(Oi,{children:o.jsx(jo,{})}),o.jsxs($i,{children:[o.jsx(br,{value:"en",children:"English"}),o.jsx(br,{value:"ka",children:"Georgian ()"})]})]})]})]})]})]});default:return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),o.jsx("p",{className:"text-muted-foreground",children:"Section not found"})]})}};return o.jsxs(At,{children:[u&&o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:hidden",style:{width:"380px"},children:o.jsxs("div",{className:"relative rounded-full overflow-hidden",children:[o.jsx("div",{ref:g,className:"overflow-x-auto scrollbar-hide touch-pan-x",style:{WebkitOverflowScrolling:"touch"},children:o.jsx(Ln.div,{layout:!0,transition:{type:"spring",stiffness:500,damping:40,mass:1},className:"relative inline-flex items-center bg-gray-100/90 dark:bg-[#242424]/90 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-full p-1 shadow-sm min-w-max",children:Rj.map((Oe,yt)=>{const mt=yt===0,Pt=yt===Rj.length-1,T=x===Oe.id;return o.jsxs(Ln.button,{layout:!0,type:"button","data-section":Oe.id,ref:x===Oe.id?m:null,onClick:L=>{L.preventDefault(),L.stopPropagation(),qe(Oe.id)},onTouchStart:L=>{L.stopPropagation()},className:`relative px-6 py-2.5 text-sm transition-colors duration-200 whitespace-nowrap outline-none touch-manipulation ${mt?"rounded-l-full":""} ${Pt?"rounded-r-full":""} ${!mt&&!Pt?"rounded-none":""} ${T?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[T&&o.jsx(Ln.div,{layoutId:"active-settings-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-full",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:Oe.label})]},Oe.id)})})}),o.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-12 pointer-events-none bg-gradient-to-l from-gray-100/90 dark:from-[#242424]/90 to-transparent rounded-r-full"})]})}),o.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:o.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_400px]",children:[o.jsxs("div",{className:le(u&&"min-h-screen pb-32"),children:[Ft(),u&&o.jsx("div",{className:"mt-8",children:o.jsx(i2,{compact:!0})})]}),!u&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs(je,{children:[o.jsx(gt,{children:o.jsx(Nt,{className:"text-lg",children:"Settings"})}),o.jsx(Ee,{className:"space-y-2",children:Rj.map(Oe=>o.jsx("button",{type:"button",onClick:yt=>{yt.preventDefault(),yt.stopPropagation(),qe(Oe.id)},className:le("w-full text-left text-sm transition-colors",x===Oe.id?"text-primary font-medium":"text-foreground hover:text-primary"),children:Oe.label},Oe.id))})]}),o.jsx(i2,{})]})]})}),o.jsx(Xs,{open:w,onOpenChange:_,children:o.jsxs(Ps,{children:[o.jsxs(As,{children:[o.jsx(Ts,{children:"Log out"}),o.jsx(tf,{children:"Are you sure you want to log out?"})]}),o.jsxs(Xa,{children:[o.jsx(ne,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),o.jsx(ne,{className:"bg-red-500 text-white hover:bg-red-600",onClick:()=>{_(!1),t()},children:"Log out"})]})]})})]})}var dJ=["PageUp","PageDown"],fJ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],hJ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ep="Slider",[o2,k9e,E9e]=Yy(ep),[pJ,dGe]=la(ep,[E9e]),[N9e,u_]=pJ(ep),mJ=p.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:y=!1,form:g,...m}=e,v=p.useRef(new Set),x=p.useRef(0),w=i==="horizontal"?C9e:P9e,[_=[],S]=li({prop:d,defaultProp:u,onChange:P=>{var B;(B=[...v.current][x.current])==null||B.focus(),f(P)}}),k=p.useRef(_);function E(P){const R=R9e(_,P);C(P,R)}function j(P){C(P,x.current)}function N(){const P=k.current[x.current];_[x.current]!==P&&h(_)}function C(P,R,{commit:B}={commit:!1}){const z=D9e(a),D=F9e(Math.round((P-n)/a)*a+n,z),O=hg(D,[n,s]);S((U=[])=>{const A=O9e(U,O,R);if(L9e(A,c*a)){x.current=A.indexOf(O);const I=String(A)!==String(U);return I&&B&&h(A),I?A:U}else return U})}return o.jsx(N9e,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:x,thumbs:v.current,values:_,orientation:i,form:g,children:o.jsx(o2.Provider,{scope:e.__scopeSlider,children:o.jsx(o2.Slot,{scope:e.__scopeSlider,children:o.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...m,ref:t,onPointerDown:Be(m.onPointerDown,()=>{l||(k.current=_)}),min:n,max:s,inverted:y,onSlideStart:l?void 0:E,onSlideMove:l?void 0:j,onSlideEnd:l?void 0:N,onHomeKeyDown:()=>!l&&C(n,0,{commit:!0}),onEndKeyDown:()=>!l&&C(s,_.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:R})=>{if(!l){const D=dJ.includes(P.key)||P.shiftKey&&fJ.includes(P.key)?10:1,O=x.current,U=_[O],A=a*D*R;C(U+A,O,{commit:!0})}}})})})})});mJ.displayName=ep;var[gJ,yJ]=pJ(ep,{startEdge:"left",endEdge:"right",size:"width",direction:1}),C9e=p.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=p.useState(null),y=xt(t,w=>h(w)),g=p.useRef(),m=Th(s),v=m==="ltr",x=v&&!a||!v&&a;function b(w){const _=g.current||f.getBoundingClientRect(),S=[0,_.width],E=wO(S,x?[r,n]:[n,r]);return g.current=_,E(w-_.left)}return o.jsx(gJ,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:o.jsx(vJ,{dir:m,"data-orientation":"horizontal",...d,ref:y,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const _=b(w.clientX);i==null||i(_)},onSlideMove:w=>{const _=b(w.clientX);l==null||l(_)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:w=>{const S=hJ[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:S?-1:1})}})})}),P9e=p.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=p.useRef(null),f=xt(t,d),h=p.useRef(),y=!s;function g(m){const v=h.current||d.current.getBoundingClientRect(),x=[0,v.height],w=wO(x,y?[n,r]:[r,n]);return h.current=v,w(m-v.top)}return o.jsx(gJ,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:o.jsx(vJ,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const v=g(m.clientY);a==null||a(v)},onSlideMove:m=>{const v=g(m.clientY);i==null||i(v)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:m=>{const x=hJ[y?"from-bottom":"from-top"].includes(m.key);c==null||c({event:m,direction:x?-1:1})}})})}),vJ=p.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=u_(ep,r);return o.jsx(ot.span,{...u,ref:t,onKeyDown:Be(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):dJ.concat(fJ).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Be(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:Be(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:Be(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),a(f))})})}),xJ="SliderTrack",bJ=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=u_(xJ,r);return o.jsx(ot.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});bJ.displayName=xJ;var l2="SliderRange",wJ=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=u_(l2,r),a=yJ(l2,r),i=p.useRef(null),l=xt(t,i),c=s.values.length,u=s.values.map(h=>SJ(h,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(ot.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});wJ.displayName=l2;var c2="SliderThumb",_J=p.forwardRef((e,t)=>{const r=k9e(e.__scopeSlider),[n,s]=p.useState(null),a=xt(t,l=>s(l)),i=p.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(A9e,{...e,ref:a,index:i})}),A9e=p.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...a}=e,i=u_(c2,r),l=yJ(c2,r),[c,u]=p.useState(null),d=xt(t,b=>u(b)),f=c?i.form||!!c.closest("form"):!0,h=Pw(c),y=i.values[n],g=y===void 0?0:SJ(y,i.min,i.max),m=$9e(n,i.values.length),v=h==null?void 0:h[l.size],x=v?M9e(v,g,l.direction):0;return p.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${x}px)`},children:[o.jsx(o2.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(ot.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":i.min,"aria-valuenow":y,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:d,style:y===void 0?{display:"none"}:e.style,onFocus:Be(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),f&&o.jsx(T9e,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:y},n)]})});_J.displayName=c2;var T9e=e=>{const{value:t,...r}=e,n=p.useRef(null),s=a_(t);return p.useEffect(()=>{const a=n.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==t&&c){const u=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(u)}},[s,t]),o.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function O9e(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,a)=>s-a)}function SJ(e,t,r){const a=100/(r-t)*(e-t);return hg(a,[0,100])}function $9e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function R9e(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function M9e(e,t,r){const n=e/2,a=wO([0,50],[0,n]);return(n-a(t)*r)*r}function I9e(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function L9e(e,t){if(t>0){const r=I9e(e);return Math.min(...r)>=t}return!0}function wO(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function D9e(e){return(String(e).split(".")[1]||"").length}function F9e(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var jJ=mJ,B9e=bJ,U9e=wJ,z9e=_J;const kJ=p.forwardRef(({className:e,...t},r)=>{const n=t.value||t.defaultValue||[0],s=Array.isArray(n)?n.length:1;return o.jsxs(jJ,{ref:r,className:le("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(B9e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",children:o.jsx(U9e,{className:"absolute h-full bg-breneo-blue dark:bg-breneo-blue"})}),Array.from({length:s}).map((a,i)=>o.jsx(z9e,{className:"block h-5 w-5 rounded-full border-2 border-breneo-blue dark:border-breneo-blue bg-white dark:bg-gray-800 ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-breneo-blue focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},i))]})});kJ.displayName=jJ.displayName;const q9e=(e,t,r=20)=>{const n=[];for(let s=0;s<r;s++){const a=Math.exp(-s*.15)*100;n.push(Math.max(5,Math.min(100,a)))}return n},CF=({minSalary:e,maxSalary:t,salaryMin:r=e,salaryMax:n=t,salaryByAgreement:s=!1,onSalaryChange:a})=>{const{t:i}=fi(),[l,c]=p.useState(r??e),[u,d]=p.useState(n??t),[f,h]=p.useState(s),y=q9e(e,t,20),g=Math.max(...y);p.useEffect(()=>{c(r??e),d(n??t),h(s??!1)},[r,n,s,e,t]);const m=w=>{const[_,S]=w;c(_),d(S),a(_===e?void 0:_,S===t?void 0:S,f)},v=w=>{const _=parseInt(w.target.value)||e,S=Math.max(e,Math.min(_,u));c(S),a(S===e?void 0:S,u===t?void 0:u,f)},x=w=>{const _=parseInt(w.target.value)||t,S=Math.min(t,Math.max(_,l));d(S),a(l===e?void 0:l,S===t?void 0:S,f)},b=w=>{h(w),a(l===e?void 0:l,u===t?void 0:u,w)};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-base font-medium text-left text-gray-900 dark:text-gray-100",children:i.jobs.salaryRange}),o.jsx("div",{className:"relative h-16 flex items-end justify-between gap-0.5 px-1",children:y.map((w,_)=>{const S=w/g*100,k=e+_*(t-e)/y.length,E=e+(_+1)*(t-e)/y.length,j=k>=l&&E<=u;return o.jsx("div",{className:"flex-1 bg-gray-900 dark:bg-gray-200 transition-opacity rounded-md",style:{height:`${S}%`,minHeight:"4px",opacity:j?1:.3}},_)})}),o.jsx("div",{className:"px-2",children:o.jsx(kJ,{value:[l,u],onValueChange:m,min:e,max:t,step:100,className:"w-full"})}),o.jsxs("div",{className:"flex items-end gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Pe,{htmlFor:"salary-min",className:"text-xs text-gray-600 dark:text-gray-300 mb-1 block",children:i.jobs.minimum}),o.jsx(Qe,{id:"salary-min",type:"number",value:l,onChange:v,min:e,max:u,className:"h-10"})]}),o.jsx("div",{className:"pb-2.5",children:o.jsx("span",{className:"text-gray-400 dark:text-gray-400",children:"-"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Pe,{htmlFor:"salary-max",className:"text-xs text-gray-600 dark:text-gray-300 mb-1 block",children:i.jobs.maximum}),o.jsx(Qe,{id:"salary-max",type:"number",value:u,onChange:x,min:l,max:t,className:"h-10"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[o.jsx(Fn,{id:"salary-by-agreement",checked:f,onCheckedChange:b}),o.jsx(Pe,{htmlFor:"salary-by-agreement",className:"text-sm font-normal cursor-pointer text-gray-900 dark:text-gray-100",children:i.jobs.byAgreement})]})]})};function W9e(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function V9e(e,t=[]){let r=[];function n(a,i){const l=p.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:y,...g}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=p.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:y})};u.displayName=a+"Provider";function d(f,h){var m;const y=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=p.useContext(y);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,H9e(s,...t)]}function H9e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var ny=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},K9e=hh[" useInsertionEffect ".trim().toString()]||ny;function G9e({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=Y9e({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const h=J9e(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else a(d)},[l,e,a,i]);return[c,u]}function Y9e({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),s=p.useRef(r),a=p.useRef(t);return K9e(()=>{a.current=t},[t]),p.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function J9e(e){return typeof e=="function"}function PF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function EJ(...e){return t=>{let r=!1;const n=e.map(s=>{const a=PF(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():PF(e[s],null)}}}}function NJ(...e){return p.useCallback(EJ(...e),e)}function X9e(e){const t=Q9e(e),r=p.forwardRef((n,s)=>{const{children:a,...i}=n,l=p.Children.toArray(a),c=l.find(eze);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function Q9e(e){const t=p.forwardRef((r,n)=>{const{children:s,...a}=r;if(p.isValidElement(s)){const i=rze(s),l=tze(a,s.props);return s.type!==p.Fragment&&(l.ref=n?EJ(n,i):i),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Z9e=Symbol("radix.slottable");function eze(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Z9e}function tze(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function rze(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var nze=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_O=nze.reduce((e,t)=>{const r=X9e(`Primitive.${t}`),n=p.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function sze(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var CJ=e=>{const{present:t,children:r}=e,n=aze(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),a=NJ(n.ref,ize(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:a}):null};CJ.displayName="Presence";function aze(e){const[t,r]=p.useState(),n=p.useRef(null),s=p.useRef(e),a=p.useRef("none"),i=e?"mounted":"unmounted",[l,c]=sze(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=c0(n.current);a.current=l==="mounted"?u:"none"},[l]),ny(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,y=c0(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ny(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=y=>{const m=c0(n.current).includes(CSS.escape(y.animationName));if(y.target===t&&m&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=y=>{y.target===t&&(a.current=c0(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function c0(e){return(e==null?void 0:e.animationName)||"none"}function ize(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var oze=hh[" useId ".trim().toString()]||(()=>{}),lze=0;function cze(e){const[t,r]=p.useState(oze());return ny(()=>{e||r(n=>n??String(lze++))},[e]),e||(t?`radix-${t}`:"")}var d_="Collapsible",[uze,fGe]=V9e(d_),[dze,SO]=uze(d_),PJ=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:i,...l}=e,[c,u]=G9e({prop:n,defaultProp:s??!1,onChange:i,caller:d_});return o.jsx(dze,{scope:r,disabled:a,contentId:cze(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:o.jsx(_O.div,{"data-state":kO(c),"data-disabled":a?"":void 0,...l,ref:t})})});PJ.displayName=d_;var AJ="CollapsibleTrigger",TJ=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=SO(AJ,r);return o.jsx(_O.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":kO(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:W9e(e.onClick,s.onOpenToggle)})});TJ.displayName=AJ;var jO="CollapsibleContent",OJ=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=SO(jO,e.__scopeCollapsible);return o.jsx(CJ,{present:r||s.open,children:({present:a})=>o.jsx(fze,{...n,ref:t,present:a})})});OJ.displayName=jO;var fze=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,i=SO(jO,r),[l,c]=p.useState(n),u=p.useRef(null),d=NJ(t,u),f=p.useRef(0),h=f.current,y=p.useRef(0),g=y.current,m=i.open||l,v=p.useRef(m),x=p.useRef(void 0);return p.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),ny(()=>{const b=u.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();f.current=w.height,y.current=w.width,v.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),c(n)}},[i.open,n]),o.jsx(_O.div,{"data-state":kO(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!m,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:m&&s})});function kO(e){return e?"open":"closed"}var hze=PJ;const u2=hze,d2=TJ,f2=OJ,AF=["FULLTIME","PARTTIME","CONTRACTOR","INTERN"],pze="",TF={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern"},OF=({filters:e,onFiltersChange:t,isMobile:r=!1,userTopSkills:n=[],mobileView:s="main",onMobileViewChange:a,countrySearchQuery:i="",onCountrySearchChange:l})=>{const{t:c}=fi(),[u,d]=p.useState(!1),[f,h]=p.useState(!1),[y,g]=p.useState(""),m=l&&i!==void 0?i:y,v=N=>{l?l(N):g(N)},x=M.useMemo(()=>{if(!m.trim())return nn;const N=m.toLowerCase();return nn.filter(C=>C.name.toLowerCase().includes(N)||C.code.toLowerCase().includes(N))},[m]);p.useEffect(()=>{r&&s!=="country"&&(l?l(""):g("")),!r&&!f&&(l?l(""):g(""))},[s,f,r,l]);const b=N=>{const C=e.jobTypes.includes(N)?e.jobTypes.filter(P=>P!==N):[...e.jobTypes,N];t({...e,jobTypes:C,countries:e.countries||[],datePosted:e.datePosted,skills:e.skills||[]})},w=N=>{const C=e.countries.includes(N)?e.countries.filter(P=>P!==N):[...e.countries,N];t({...e,countries:C,datePosted:e.datePosted,skills:e.skills||[],salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},_=N=>{t({...e,isRemote:N,countries:e.countries||[],datePosted:e.datePosted,skills:e.skills||[],salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},S=N=>{const C=e.skills.includes(N)?e.skills.filter(P=>P!==N):[...e.skills,N];t({...e,skills:C,countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},k=()=>{if(n.length===0)return;const N=n.every(C=>e.skills.includes(C));t(N?{...e,skills:[],countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement}:{...e,skills:n,countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},E=n.length>0&&n.every(N=>e.skills.includes(N)),j=(N,C,P)=>{t({...e,salaryMin:N,salaryMax:C,salaryByAgreement:P})};return r?s==="workType"?o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:o.jsxs("div",{className:"space-y-3",children:[AF.map(N=>{const C=e.jobTypes.includes(N);return o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-3",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0",children:TF[N]||N}),o.jsx(Fn,{checked:C,onCheckedChange:()=>b(N),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},N)}),o.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 my-2"}),o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-3",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0",children:"Remote Jobs Only"}),o.jsx(Fn,{checked:e.isRemote||!1,onCheckedChange:N=>_(!!N),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]})]})})}):s==="country"?o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden -mx-6 px-6",children:o.jsx("div",{className:"space-y-2",children:x.length===0?o.jsx("div",{className:"py-8 text-center text-sm text-gray-500",children:"No countries found"}):x.map(N=>{const C=e.countries.includes(N.code);return o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-2",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 truncate",children:N.name}),o.jsx(Fn,{checked:C,onCheckedChange:()=>w(N.code),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},N.code)})})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:o.jsx(CF,{minSalary:0,maxSalary:2e4,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement,onSalaryChange:j})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{type:"button",onClick:()=>a==null?void 0:a("workType"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.workType}),o.jsx(xa,{className:"h-4 w-4 text-gray-400"})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{type:"button",onClick:()=>a==null?void 0:a("country"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.country}),o.jsx(xa,{className:"h-4 w-4 text-gray-400"})]})}),n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:c.jobs.interests}),o.jsx("button",{type:"button",onClick:k,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:E?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(N=>{const C=e.skills.includes(N);return o.jsx("button",{type:"button",onClick:()=>S(N),className:`
                      px-4 py-2 rounded-full text-sm font-medium transition-colors border
                      ${C?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                    `,children:N},N)})})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"space-y-3",children:o.jsx(CF,{minSalary:0,maxSalary:2e4,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement,onSalaryChange:j})}),n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{className:"text-base font-medium dark:text-gray-100",children:c.jobs.interests}),o.jsx("button",{type:"button",onClick:k,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:E?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(N=>{const C=e.skills.includes(N);return o.jsx("button",{type:"button",onClick:()=>S(N),className:`
                    px-4 py-2 rounded-full text-sm font-medium transition-colors border
                    ${C?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                  `,children:N},N)})})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs(u2,{open:u,onOpenChange:d,children:[o.jsxs(d2,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${u?"rounded-t-lg":"rounded-lg"}`,children:[o.jsx(Pe,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.workType}),o.jsx(Do,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${u?"transform rotate-180":""}`})]}),o.jsx(f2,{className:"mt-0",children:o.jsx("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"grid grid-cols-2 gap-3",children:AF.map(N=>{const C=e.jobTypes.includes(N);return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(Fn,{checked:C,onCheckedChange:()=>b(N),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:TF[N]||N})]},N)})}),o.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 my-2"}),o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(Fn,{checked:e.isRemote||!1,onCheckedChange:N=>_(!!N),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:"Remote Jobs Only"})]})]})})})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs(u2,{open:f,onOpenChange:N=>{h(N),N||v("")},children:[o.jsxs(d2,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${f?"rounded-t-lg":"rounded-lg"}`,children:[o.jsx(Pe,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.country}),o.jsx(Do,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${f?"transform rotate-180":""}`})]}),o.jsx(f2,{className:"mt-0",children:o.jsxs("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:[o.jsx("div",{className:"sticky top-0 z-10 bg-gray-100 dark:bg-[rgb(55,57,60)] p-3 border-b border-gray-300 dark:border-gray-600",children:o.jsxs("div",{className:"relative",children:[o.jsx(Fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(Qe,{type:"text",placeholder:"Search countries...",value:m,onChange:N=>v(N.target.value),className:"pl-9 pr-3 h-9 text-sm bg-white dark:bg-gray-700"})]})}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-2 gap-2",children:x.length===0?o.jsx("div",{className:"col-span-2 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):x.map(N=>{const C=e.countries.includes(N.code);return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(Fn,{checked:C,onCheckedChange:()=>w(N.code),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:N.name})]},N.code)})})})]})})]})})]})},$J=({isOpen:e,onClose:t,filters:r,onFiltersChange:n,onApply:s,onClear:a,userTopSkills:i=[]})=>{const{t:l}=fi(),c=ca(),[u,d]=p.useState("main"),[f,h]=p.useState(!1),[y,g]=p.useState(!1),[m,v]=p.useState(""),[x,b]=p.useState("");return M.useMemo(()=>{if(!m.trim())return nn;const w=m.toLowerCase();return nn.filter(_=>_.name.toLowerCase().includes(w)||_.code.toLowerCase().includes(w))},[m]),p.useEffect(()=>{e||(h(!1),g(!1),d("main"),b(""))},[e]),c?o.jsx(Di,{open:e,onOpenChange:t,children:o.jsxs(Fi,{className:"max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(Bi,{className:"flex-shrink-0 border-b border-gray-200",children:o.jsx(Ui,{className:"text-xl font-bold",children:u==="workType"?l.jobs.workType:u==="country"?l.jobs.country:pze})}),u==="country"&&o.jsx("div",{className:"flex-shrink-0 px-6 py-3 border-b border-gray-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(Fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(Qe,{type:"text",placeholder:"Search countries...",value:x,onChange:w=>b(w.target.value),className:"pl-9 pr-3 h-9 text-sm"})]})}),o.jsx("div",{className:"px-6 py-6 flex-1 overflow-y-auto min-h-0",children:o.jsx(OF,{filters:r,onFiltersChange:n,isMobile:!0,userTopSkills:i,mobileView:u,onMobileViewChange:d,countrySearchQuery:x,onCountrySearchChange:b})}),u==="main"&&o.jsx(Bo,{className:"border-t border-gray-200",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(ne,{onClick:()=>{a(),d("main")},variant:"ghost",className:"h-12 px-6 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0 rounded-[18px]",children:l.common.clear}),o.jsx(ne,{onClick:()=>{s(),d("main")},className:"h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:l.common.apply})]})}),(u==="workType"||u==="country")&&o.jsx(Bo,{className:"border-t border-gray-200",children:o.jsx(ne,{onClick:()=>{b(""),d("main")},className:"w-full h-12 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:"Done"})})]})}):o.jsx(Xs,{open:e,onOpenChange:t,children:o.jsxs(Ps,{className:"max-w-3xl max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(As,{className:"flex-shrink-0",children:o.jsx(Ts,{children:"Filter Jobs"})}),o.jsx("div",{className:"py-4 overflow-y-auto flex-1 min-h-0",children:o.jsx(OF,{filters:r,onFiltersChange:n,isMobile:!1,userTopSkills:i})}),o.jsx(Xa,{className:"flex-shrink-0",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(ne,{onClick:()=>{a()},variant:"ghost",className:"w-auto h-10 px-4 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0",children:l.common.clear}),o.jsx(ne,{onClick:s,className:"w-auto h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90",children:l.common.apply})]})})]})})},al=[{id:"FULLTIME",label:"Full Time"},{id:"PARTTIME",label:"Part Time"},{id:"CONTRACTOR",label:"Contractor"},{id:"INTERN",label:"Intern"}],RJ=({selectedWorkTypes:e,onWorkTypesChange:t,placeholder:r="Work types",isRemote:n=!1,onRemoteChange:s})=>{var _;const[a,i]=p.useState(!1),[l,c]=p.useState(e),[u,d]=p.useState(n),f=p.useRef(null);p.useEffect(()=>{a&&(c(e),d(n))},[a,e,n]),p.useEffect(()=>{const S=E=>{f.current&&!f.current.contains(E.target)&&(i(!1),c(e),d(n))},k=E=>{E.key==="Escape"&&(i(!1),c(e),d(n))};return a&&(document.addEventListener("mousedown",S),document.addEventListener("keydown",k)),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("keydown",k)}},[a,e,n]);const h=S=>{l.includes(S)?c(l.filter(k=>k!==S)):c([...l,S])},y=()=>{l.length===al.length?c([]):c(al.map(S=>S.id))},g=()=>{t(l),s&&s(u),i(!1)},m=l.length===al.length,v=e.length===0?r:e.length===1?((_=al.find(S=>S.id===e[0]))==null?void 0:_.label)||r:e.length===al.length?"All work types":e.map(S=>{var k;return((k=al.find(E=>E.id===S))==null?void 0:k.label)||S}).join(", "),x=e.length===0,b=(S,k)=>{S.stopPropagation();const E=e.filter(j=>j!==k);t(E)},w=S=>{S.stopPropagation(),t([])};return o.jsxs("div",{className:"relative w-full max-w-full",ref:f,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full min-w-0",children:[o.jsxs("button",{type:"button",onClick:()=>i(!a),className:le("flex items-center flex-1 min-w-0 h-auto py-0 px-0 text-sm text-left bg-transparent border-0 focus:outline-none focus:ring-0","transition-colors cursor-pointer hover:opacity-80 overflow-hidden",x?"text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-gray-100"),children:[o.jsx(wde,{className:"h-4 w-4 md:h-5 md:w-5 text-breneo-accent flex-shrink-0 mr-2"}),e.length===0?o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:r}):o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:v})]}),e.length>0&&o.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),e.length===1?b(S,e[0]):w(S)},className:"flex-shrink-0 p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded ml-1 transition-all duration-200 animate-in fade-in-0 zoom-in-95","aria-label":e.length===1?"Remove work type":"Remove all work types",children:o.jsx(Er,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 hover:scale-110"})})]}),a&&o.jsxs("div",{className:le("absolute top-full left-0 mt-2 w-[calc(100vw-2rem)] md:w-[320px] rounded-lg shadow-lg border z-[9999] max-h-[400px] flex flex-col overflow-hidden","bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","min-w-[280px]"),children:[o.jsxs("div",{className:le("flex items-center justify-between px-4 py-3 border-b","border-gray-200 dark:border-gray-700"),children:[o.jsx("h3",{className:le("font-bold text-base","text-gray-900 dark:text-gray-100"),children:"Work Types"}),o.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),i(!1)},className:le("p-1 rounded transition-colors","hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Close",children:o.jsx(Er,{className:le("h-5 w-5","text-gray-900 dark:text-gray-100")})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[o.jsxs("div",{className:le("flex items-center px-4 py-3 cursor-pointer transition-colors border-b","hover:bg-gray-50 dark:hover:bg-gray-700/50","border-gray-100 dark:border-gray-700"),onClick:S=>{S.stopPropagation(),y()},children:[o.jsx(Fn,{checked:m,onCheckedChange:S=>{c(S?al.map(k=>k.id):[])},className:"mr-3"}),o.jsx("span",{className:le("text-sm","text-gray-900 dark:text-gray-100"),children:"Select All"})]}),al.map(S=>{const k=l.includes(S.id);return o.jsxs("div",{className:le("flex items-center px-4 py-3 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:E=>{E.stopPropagation(),h(S.id)},children:[o.jsx(Fn,{checked:k,onCheckedChange:E=>{c(E?[...l,S.id]:l.filter(j=>j!==S.id))},className:"mr-3"}),o.jsx("span",{className:le("text-sm","text-gray-900 dark:text-gray-100"),children:S.label})]},S.id)}),s&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:le("border-t","border-gray-100 dark:border-gray-700")}),o.jsxs("div",{className:le("flex items-center px-4 py-3 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:S=>{S.stopPropagation(),d(!u)},children:[o.jsx(Fn,{checked:u,onCheckedChange:S=>{d(!!S)},className:"mr-3"}),o.jsx("span",{className:le("text-sm","text-gray-900 dark:text-gray-100"),children:"Remote Jobs Only"})]})]})]}),o.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-white dark:bg-gray-800 sticky bottom-0 z-10",children:o.jsx(ne,{onClick:S=>{S.stopPropagation(),g()},className:"w-full",children:"Save"})})]})]})},ao={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern",INTERNSHIP:"Internship"},mze=async(e=1)=>{try{console.log(` fetchInternshipJobs called - fetching internship jobs page ${e}`);const t=await ci.fetchActiveJobs({query:"intern intern internship",filters:{country:void 0,countries:[],jobTypes:["INTERN"],isRemote:void 0,datePosted:"week",skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:e,pageSize:50});if(!t||!Array.isArray(t.jobs))return console.warn("Invalid response format from job service:",t),{jobs:[],hasMore:!1,total:0};const r=t.jobs.filter(n=>{const s=String(n.id||"");return s&&s.trim()!==""});return{jobs:r,hasMore:t.hasMore??!1,total:t.total||r.length}}catch(t){return console.error("Error fetching internship jobs:",t),{jobs:[],hasMore:!1,total:0}}},gze=async(e=1,t=[])=>{var r,n;try{console.log(` fetchRemoteJobs called - fetching remote jobs page ${e} with skills:`,t);const s=await ci.fetchActiveJobs({query:"remote",filters:{country:void 0,countries:[],jobTypes:[],isRemote:!0,datePosted:"week",skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:e,pageSize:50});if(console.log(" fetchRemoteJobs response:",{totalJobs:((r=s.jobs)==null?void 0:r.length)||0,hasMore:s.hasMore,sampleJob:((n=s.jobs)==null?void 0:n[0])||null}),!s||!Array.isArray(s.jobs))return console.warn("Invalid response format from job service:",s),{jobs:[],hasMore:!1,total:0};const a=s.jobs.filter(i=>{const l=String(i.id||"");return l&&l.trim()!==""});return console.log(` fetchRemoteJobs: ${a.length} valid remote jobs found`),{jobs:a,hasMore:s.hasMore??!1,total:s.total||a.length}}catch(s){return console.error(" Error fetching remote jobs:",s),{jobs:[],hasMore:!1,total:0}}},$F="jobsFilters",MJ="jobsPage_latestJobs",IJ=30*60*1e3,yze=()=>{try{const e=sessionStorage.getItem(MJ);if(!e)return null;const t=JSON.parse(e);return!t||!Array.isArray(t.jobs)||Date.now()-t.timestamp>IJ?null:{jobs:t.jobs,hasMore:t.hasMore??!1,total:t.total??t.jobs.length}}catch{return null}},vze=e=>{try{sessionStorage.setItem(MJ,JSON.stringify({...e,timestamp:Date.now()}))}catch{}},xze=(e,t,r)=>{try{sessionStorage.setItem(e,JSON.stringify({filters:t,search:r}))}catch(n){console.error("Error saving filters to session storage:",n)}},bze=e=>{try{const t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading filters from session storage:",t)}return null},wze=()=>{const{user:e}=fr(),t=Us(),r=ca(),n=lr(),[s,a]=$w(),[i,l]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState(!0),h=M.useRef(!1),[y,g]=p.useState(1),[m,v]=p.useState([]),[x,b]=p.useState(!1),[w,_]=p.useState(!1),[S,k]=p.useState(1),[E,j]=p.useState([]),[N,C]=p.useState(!1),[P,R]=p.useState(!1),[B,z]=p.useState(1),[D,O]=p.useState([]),[U,A]=p.useState(!1),[I,te]=p.useState(!1);p.useCallback((T,L,pe)=>{const Fe=new URLSearchParams;L&&Fe.set("search",L),T.countries.length>0&&Fe.set("countries",T.countries.join(",")),T.skills.length>0&&Fe.set("skills",T.skills.join(",")),T.jobTypes.length>0&&Fe.set("jobTypes",T.jobTypes.join(",")),T.isRemote&&Fe.set("isRemote","true"),T.datePosted&&T.datePosted!=="all"&&Fe.set("datePosted",T.datePosted),pe>1&&Fe.set("page",String(pe)),a(Fe,{replace:!0}),xze($F,T,L)},[a]);const[$,V]=p.useState(()=>({country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1})),[W,ee]=p.useState(()=>{const T=s.get("search");if(T)return T;const L=bze($F);return L&&L.search?L.search:""}),[ie,G]=p.useState($),q=T=>{let L=0;return T.countries.length>0&&(L+=T.countries.length),T.jobTypes.length>0&&(L+=T.jobTypes.length),T.isRemote&&(L+=1),T.datePosted&&(L+=1),T.skills.length>0&&(L+=T.skills.length),(T.salaryMin!==void 0||T.salaryMax!==void 0)&&(L+=1),T.salaryByAgreement&&(L+=1),L};p.useEffect(()=>{i&&G($)},[i,$]),p.useEffect(()=>{if(s.get("search")||s.get("countries")||s.get("country")||s.get("skills")||s.get("jobTypes")||s.get("isRemote")||s.get("datePosted")||s.get("page")||s.get("salaryMin")||s.get("salaryMax")||s.get("salaryByAgreement")){const L=new URLSearchParams(s);!L.get("page")&&L.toString()&&L.set("page","1"),n(`/jobs/search?${L.toString()}`,{replace:!0})}},[]),p.useEffect(()=>{(async()=>{if(!e){f(!1);return}try{f(!0);try{const pe=await Se.get(`/api/skilltest/results/?user=${e.id}`);if(pe.data&&Array.isArray(pe.data)&&pe.data.length>0){const Ct=pe.data[0].skills_json,ae=Object.keys(Ct.tech||{});u(ae),f(!1);return}}catch{console.log("API endpoint not available, trying Supabase...")}const L=await Rh(String(e.id));if(L&&L.length>0){const pe=Mh(L),Ct=l1(pe,20).map(ke=>ke.skill),ae=mg(Ct);u(ae)}}catch(L){console.error("Error fetching user skills:",L),u([])}finally{f(!1)}})()},[e]),p.useEffect(()=>{h.current=!1},[e==null?void 0:e.id]),p.useEffect(()=>{!d&&c.length>0&&!h.current&&(V(T=>({...T,skills:[...c]})),G(T=>({...T,skills:[...c]})),h.current=!0)},[d,c,e==null?void 0:e.id]);const{data:Z=[]}=Jt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var T;if(!e)return[];try{return(((T=(await Se.get(Je.AUTH.PROFILE)).data)==null?void 0:T.saved_jobs)||[]).map(Fe=>String(Fe))}catch(L){return console.error("Error fetching saved jobs from profile API:",L),[]}},enabled:!!e});p.useMemo(()=>mg($.skills||[]),[$.skills]),p.useMemo(()=>JSON.stringify({countries:$.countries.sort(),skills:$.skills.sort(),jobTypes:$.jobTypes.sort(),isRemote:$.isRemote,datePosted:$.datePosted,salaryMin:$.salaryMin,salaryMax:$.salaryMax,salaryByAgreement:$.salaryByAgreement}),[$]);const{data:Y={jobs:[],hasMore:!1,total:0},isLoading:J,error:se}=Jt({queryKey:["latestJobs"],queryFn:async()=>{try{const T=yze();if(T&&T.jobs.length>0)return T;const L=await ci.fetchActiveJobs({query:"",filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:1,pageSize:100});if(!L||!Array.isArray(L.jobs))return{jobs:[],hasMore:!1,total:0};const pe=L.jobs.filter(Ct=>{const ae=String(Ct.id||Ct.job_id||"");return ae&&ae.trim()!==""}),Fe={jobs:pe,hasMore:L.hasMore??!1,total:pe.length};return vze(Fe),Fe}catch(T){throw console.error(" Error fetching jobs:",T),T}},refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:IJ,gcTime:60*60*1e3,retry:2,retryDelay:1e3,enabled:!0}),{data:Q={jobs:[],hasMore:!1,total:0},isLoading:ue,error:ce}=Jt({queryKey:["internshipJobs",S],queryFn:()=>mze(S),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!0}),{data:ve={jobs:[],hasMore:!1,total:0},isLoading:we,error:Te}=Jt({queryKey:["remoteJobs",B],queryFn:()=>gze(B,[]),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!0});p.useEffect(()=>{Y.jobs&&Y.jobs.length>0?(v(Y.jobs),b(Y.hasMore),_(!1)):(v([]),b(!1))},[Y]),p.useEffect(()=>{Q.jobs&&Q.jobs.length>0?(j(S===1?Q.jobs:T=>{const L=new Set(T.map(Fe=>Fe.id||Fe.job_id)),pe=Q.jobs.filter(Fe=>!L.has(Fe.id||Fe.job_id));return[...T,...pe]}),C(Q.hasMore),R(!1)):S===1&&(j([]),C(!1))},[Q,S]),p.useEffect(()=>{ve.jobs&&ve.jobs.length>0?(O(B===1?ve.jobs:T=>{const L=new Set(T.map(Fe=>Fe.id||Fe.job_id)),pe=ve.jobs.filter(Fe=>!L.has(Fe.id||Fe.job_id));return[...T,...pe]}),A(ve.hasMore),te(!1)):B===1&&(O([]),A(!1))},[ve,B]);const pt=m,st=E;p.useCallback(()=>{_(!0),g(T=>T+1)},[]),p.useCallback(()=>{R(!0),k(T=>T+1)},[]),p.useCallback(()=>{te(!0),z(T=>T+1)},[]);const bt=p.useCallback(()=>{const T=new URLSearchParams;W.trim()&&T.set("search",W.trim()),$.countries.length>0&&T.set("countries",$.countries.join(",")),$.skills.length>0&&T.set("skills",$.skills.join(",")),$.jobTypes.length>0&&T.set("jobTypes",$.jobTypes.join(",")),$.isRemote&&T.set("isRemote","true"),$.datePosted&&T.set("datePosted",$.datePosted),$.salaryMin!==void 0&&T.set("salaryMin",String($.salaryMin)),$.salaryMax!==void 0&&T.set("salaryMax",String($.salaryMax)),$.salaryByAgreement&&T.set("salaryByAgreement","true"),n(`/jobs/search?${T.toString()}`)},[W,$,n]),F=T=>{ee(T)},X=T=>{T.key==="Enter"&&bt()},ye=sa({mutationFn:async T=>{if(!e)throw new Error("User not logged in");if(!T.id)throw new Error("Job ID is required");const L=String(T.id);T.is_saved;try{const pe=`${Je.JOBS.SAVE_JOB}${L}/`;await Se.post(pe)}catch(pe){const Fe=pe instanceof Error?pe.message:"Failed to save job. Please try again.";throw new Error(Fe)}},onSuccess:(T,L)=>{t.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),t.invalidateQueries({queryKey:["profile"]}),fe.success(L.is_saved?"Job Unsaved":"Job Saved")},onError:T=>{console.error("Error saving job:",T);const L=T instanceof Error?T.message:"Failed to save job";fe.error(L)}}),Ce=M.useCallback(T=>{if(!T||T.length===0)return[];try{return(T||[]).map(L=>{const pe=L.company&&typeof L.company=="object"?L.company:null,Fe=String(L.id||L.job_id||"");if(!Fe||Fe.trim()==="")return console.warn("Skipping job without valid ID:",L),null;const Ct=String(L.title||L.job_title||L.position||"Untitled Position"),ae=String(L.company_name||(pe!=null&&pe.company_name&&typeof pe.company_name=="string"?pe.company_name:null)||(pe!=null&&pe.name&&typeof pe.name=="string"?pe.name:null)||(L.companyName&&typeof L.companyName=="string"?L.companyName:null)||(L.employer_name&&typeof L.employer_name=="string"?L.employer_name:null)||(typeof L.company=="string"?L.company:null)||"Unknown Company"),ke=L.job_city||L.city||(pe==null?void 0:pe.city)||"",_e=L.job_state||L.state||(pe==null?void 0:pe.state)||"",$e=L.job_country||L.country||(pe==null?void 0:pe.country)||"",Re=String(((Xe,wt)=>{if(Xe!=null&&Xe.job_is_remote||Xe!=null&&Xe.is_remote||(Xe==null?void 0:Xe.remote)===!0)return"Remote";const _t=Dt=>Dt&&typeof Dt=="string"&&Dt.trim()?Dt.trim():null,er=Dt=>{if(!Dt||typeof Dt!="object")return null;if(_t(Dt.display_name))return Dt.display_name;if(_t(Dt.name))return Dt.name;if(_t(Dt.location))return Dt.location;if(_t(Dt.address))return Dt.address;const Lr=[Dt.city||Dt.town||Dt.region||Dt.state,Dt.country].filter(Boolean).map(Ia=>String(Ia));return Lr.length?Lr.join(", "):null};if(Array.isArray(Xe.locations)&&Xe.locations.length>0)for(const Dt of Xe.locations){const Lr=_t(Dt)||er(Dt);if(Lr)return Lr}const cr=[Xe.jobLocation,Xe.location,Xe.location_name,Xe.job_location,Xe.work_location,Xe.address];for(const Dt of cr){const Lr=_t(Dt);if(Lr)return Lr}const Yr=er(Xe.location)||er(Xe.locationData)||er(Xe.job_location)||null;if(Yr)return Yr;if(wt){const Dt=_t(wt.location)||_t(wt.address)||er(wt.location)||null;if(Dt)return Dt}const ns=[ke,_e,$e].filter(Boolean).map(Dt=>String(Dt)).join(", ");return ns||"Location not specified"})(L,pe)),Ie=L.apply_url||L.job_apply_link||L.apply_link||L.url||L.applyUrl||L.jobUrl||L.company_url||(pe==null?void 0:pe.url)||"";let de;!de&&typeof L.company_logo=="string"&&L.company_logo.trim()&&(de=L.company_logo.trim());const ze=Xe=>{if(!Xe)return!1;if(Array.isArray(Xe)){for(const _t of Xe)if(ze(_t))return!0;return!1}if(typeof Xe=="object"){const _t=Xe,er=[_t.url,_t.src,_t.href,_t.logo,_t.image,_t.path,_t.file,_t.thumbnail];for(const cr of er)if(ze(cr))return!0;return!1}const wt=String(Xe).trim();return wt?wt.startsWith("data:")||wt.startsWith("blob:")?(de=wt,!0):wt.startsWith("//")?(de=`https:${wt}`,!0):wt.startsWith("http://")||wt.startsWith("https://")||wt.startsWith("/")||wt.startsWith("./")||wt.startsWith("../")?(de=wt,!0):!1:!1},ht=L;if(!de&&ht.company_logo&&ze(ht.company_logo),!de&&L.company_logo&&ze(L.company_logo),!de&&ht.companyLogo&&ze(ht.companyLogo),!de&&L.companyLogo&&ze(L.companyLogo),!de&&ht.employer_logo&&ze(ht.employer_logo),!de&&L.employer_logo&&ze(L.employer_logo),!de&&ht.logo&&ze(ht.logo),!de&&L.logo&&ze(L.logo),!de&&ht.logo_url&&ze(ht.logo_url),!de&&L.logo_url&&ze(L.logo_url),!de&&ht.employerLogo&&ze(ht.employerLogo),!de&&ht.companyLogoUrl&&ze(ht.companyLogoUrl),!de&&ht.logoUrl&&ze(ht.logoUrl),!de&&pe&&(pe.logo&&ze(pe.logo),!de&&pe.logo_url&&ze(pe.logo_url),!de&&pe.company_logo&&ze(pe.company_logo),!de&&pe.employer_logo&&ze(pe.employer_logo)),!de&&L.employer&&typeof L.employer=="object"){const Xe=L.employer;Xe.logo&&ze(Xe.logo),!de&&Xe.logo_url&&ze(Xe.logo_url),!de&&Xe.company_logo&&ze(Xe.company_logo),!de&&Xe.employer_logo&&ze(Xe.employer_logo)}let Tt="By agreement";const kt=L.job_min_salary||L.min_salary,xr=L.job_max_salary||L.max_salary,Ut=L.job_salary_currency||L.salary_currency||"$",_r=L.job_salary_period||L.salary_period||"yearly";if(kt&&xr&&typeof kt=="number"&&typeof xr=="number"){const Xe=_r==="monthly"?"Monthly":"",wt=kt.toLocaleString(),_t=xr.toLocaleString();["$","","","","",""].some(Yr=>Ut.includes(Yr))?Tt=`${Ut}${wt} - ${Ut}${_t}${Xe?`/${Xe}`:""}`:Tt=`${wt} - ${_t} ${Ut}${Xe?`/${Xe}`:""}`}else if(kt&&typeof kt=="number"){const Xe=kt.toLocaleString();Tt=["$","","","","",""].some(er=>Ut.includes(er))?`${Ut}${Xe}+`:`${Xe}+ ${Ut}`}else L.salary&&typeof L.salary=="string"&&(Tt=L.salary);const Mr=L.job_employment_type||L.employment_type||L.type||"FULLTIME",Gr=Mr.toUpperCase(),$n=ao[Gr]||ao[Mr]||Mr||"Full time";let Ir="On-site";L.job_is_remote||L.is_remote||L.remote===!0?Ir="Remote":Ct!=null&&Ct.toLowerCase().includes("hybrid")&&(Ir="Hybrid");const vt=Il(L),Mt=pu(c,vt,Ct);return{id:Fe,title:Ct,company:ae,company_name:L.company_name||L.employer_name||(typeof L.company=="string"?L.company:void 0),location:Re,url:Ie,company_logo:de,is_saved:Z==null?void 0:Z.includes(String(Fe)),salary:Tt,employment_type:$n,work_arrangement:Ir,matchPercentage:Mt}}).filter(L=>L!==null)}catch(L){return console.error("Error transforming jobs:",L),[]}},[Z,c]),Ge=M.useMemo(()=>Ce(pt||[]),[pt,Ce]),lt=p.useCallback((T,L,pe)=>{if(L||(L=m.find(Fe=>(Fe.id||Fe.job_id)===T.id)),pe.skills.length>0){const Fe=Il(L||T),Ct=(T.title||"").toLowerCase();if(pe.skills.some(ke=>{const _e=ke.toLowerCase();return Ct.includes(_e)?!0:Fe.some($e=>$e.toLowerCase().includes(_e)||_e.includes($e.toLowerCase()))}))return!0}if(pe.countries.length>0){const Fe=(T.location||"").toLowerCase(),Ct=((L==null?void 0:L.job_country)||(L==null?void 0:L.country)||"").toString().toLowerCase(),ae=((L==null?void 0:L.job_city)||(L==null?void 0:L.city)||"").toString().toLowerCase();if(pe.countries.some(_e=>{const $e=nn.find(Re=>Re.code===_e),Ze=(($e==null?void 0:$e.name)||_e).toLowerCase();return Fe.includes(Ze)||Ct.includes(Ze)||Fe.includes(_e.toLowerCase())||ae.includes(Ze)}))return!0}if(pe.jobTypes.length>0){const Fe=(T.employment_type||"").toUpperCase().replace(/[-\s]/g,"");if(pe.jobTypes.some(ae=>{const _e=(ao[ae]||ae).toUpperCase().replace(/[-\s]/g,"");return Fe.includes(_e)||_e.includes(Fe)}))return!0}if(pe.isRemote&&(T.work_arrangement==="Remote"||L!=null&&L.job_is_remote||L!=null&&L.is_remote||L!=null&&L.remote))return!0;if(pe.datePosted&&pe.datePosted!=="all"){const Fe=(L==null?void 0:L.posted_at)||(L==null?void 0:L.date_posted)||(L==null?void 0:L.fetched_at)||"";if(Fe){const Ct=new Date(Fe).getTime(),ae=Date.now(),ke=7*24*60*60*1e3,_e=30*24*60*60*1e3;if(pe.datePosted==="week"&&ae-Ct<=ke||pe.datePosted==="month"&&ae-Ct<=_e)return!0}}if(pe.salaryMin!==void 0||pe.salaryMax!==void 0||pe.salaryByAgreement){const Fe=(L==null?void 0:L.job_min_salary)??(L==null?void 0:L.min_salary),Ct=(L==null?void 0:L.job_max_salary)??(L==null?void 0:L.max_salary);if(pe.salaryByAgreement&&Fe==null&&Ct==null)return!0;if(Fe!=null||Ct!=null)return!(pe.salaryMin!==void 0&&Ct!=null&&Ct<pe.salaryMin||pe.salaryMax!==void 0&&Fe!=null&&Fe>pe.salaryMax)}return!1},[m]),Ve=p.useMemo(()=>{const T=$.skills.length>0||$.countries.length>0||$.jobTypes.length>0||$.isRemote||$.datePosted&&$.datePosted!=="all"||$.salaryMin!==void 0||$.salaryMax!==void 0||$.salaryByAgreement,L=Ct=>[...Ct].sort((ae,ke)=>{const _e=m.find(Ie=>(Ie.id||Ie.job_id)===ae.id),$e=m.find(Ie=>(Ie.id||Ie.job_id)===ke.id),Ze=(_e==null?void 0:_e.posted_at)||(_e==null?void 0:_e.fetched_at)||(_e==null?void 0:_e.date_posted)||"",Re=($e==null?void 0:$e.posted_at)||($e==null?void 0:$e.fetched_at)||($e==null?void 0:$e.date_posted)||"";if(Ze&&Re)try{return new Date(Re).getTime()-new Date(Ze).getTime()}catch{return 0}return!Ze&&Re?1:Ze&&!Re?-1:0});if(!T)return L(Ge).slice(0,9);const pe=new Set;Ge.forEach(Ct=>{lt(Ct,void 0,$)&&pe.add(Ct.id)});const Fe=Ge.filter(Ct=>pe.has(Ct.id));return L(Fe)},[Ge,m,$,lt]),We=p.useMemo(()=>[...Ge].sort((L,pe)=>(pe.matchPercentage??0)-(L.matchPercentage??0)).slice(0,9),[Ge]),tt=M.useMemo(()=>{if(!st||st.length===0)return[];try{return(st||[]).map(T=>{const L=T.company&&typeof T.company=="object"?T.company:null,pe=String(T.id||"");if(!pe||pe.trim()==="")return console.warn("Skipping internship job without valid ID:",T),null;const Fe=T.title||T.job_title||T.position||"Untitled Position",Ct=T.company_name||(L==null?void 0:L.company_name)||(L==null?void 0:L.name)||T.companyName||T.employer_name||(typeof T.company=="string"?T.company:null)||"Unknown Company",ae=T.job_city||T.city||(L==null?void 0:L.city)||"",ke=T.job_state||T.state||(L==null?void 0:L.state)||"",_e=T.job_country||T.country||(L==null?void 0:L.country)||"",$e=String((T.jobLocation&&typeof T.jobLocation=="string"?T.jobLocation:null)||(T.location&&typeof T.location=="string"?T.location:null)||(L!=null&&L.location&&typeof L.location=="string"?L.location:null)||[ae,ke,_e].filter(Boolean).map(vt=>String(vt)).join(", ")||"Location not specified"),Ze=T.applyUrl||T.jobUrl||T.job_apply_link||T.apply_link||T.url||T.apply_url||T.company_url||(L==null?void 0:L.url)||"";let Re;!Re&&typeof T.company_logo=="string"&&T.company_logo.trim()&&(Re=T.company_logo.trim()),!Re&&typeof T.company_logo=="string"&&T.company_logo.trim()&&(Re=T.company_logo.trim());const Ie=vt=>{if(!vt)return!1;if(Array.isArray(vt)){for(const Xe of vt)if(Ie(Xe))return!0;return!1}if(typeof vt=="object"){const Xe=vt,wt=[Xe.url,Xe.src,Xe.href,Xe.logo,Xe.image,Xe.path,Xe.file,Xe.thumbnail];for(const _t of wt)if(Ie(_t))return!0;return!1}const Mt=String(vt).trim();return Mt?Mt.startsWith("data:")||Mt.startsWith("blob:")?(Re=Mt,!0):Mt.startsWith("//")?(Re=`https:${Mt}`,!0):Mt.startsWith("http://")||Mt.startsWith("https://")||Mt.startsWith("/")||Mt.startsWith("./")||Mt.startsWith("../")?(Re=Mt,!0):!1:!1};!Re&&T.companyLogo&&Ie(T.companyLogo),!Re&&T.employer_logo&&Ie(T.employer_logo),!Re&&T.company_logo&&Ie(T.company_logo),!Re&&T.logo&&Ie(T.logo),!Re&&T.logo_url&&Ie(T.logo_url);const de=T;if(!Re&&de.companyLogo&&Ie(de.companyLogo),!Re&&de.employerLogo&&Ie(de.employerLogo),!Re&&de.companyLogoUrl&&Ie(de.companyLogoUrl),!Re&&de.logoUrl&&Ie(de.logoUrl),!Re&&L&&(L.logo&&Ie(L.logo),!Re&&L.logo_url&&Ie(L.logo_url),!Re&&L.company_logo&&Ie(L.company_logo),!Re&&L.employer_logo&&Ie(L.employer_logo)),!Re&&T.employer&&typeof T.employer=="object"){const vt=T.employer;vt.logo&&Ie(vt.logo),!Re&&vt.logo_url&&Ie(vt.logo_url),!Re&&vt.company_logo&&Ie(vt.company_logo),!Re&&vt.employer_logo&&Ie(vt.employer_logo)}let ze="By agreement";const ht=T.job_min_salary||T.min_salary,Tt=T.job_max_salary||T.max_salary,kt=T.job_salary_currency||T.salary_currency||"$",xr=T.job_salary_period||T.salary_period||"yearly";if(ht&&Tt&&typeof ht=="number"&&typeof Tt=="number"){const vt=xr==="monthly"?"Monthly":"",Mt=ht.toLocaleString(),Xe=Tt.toLocaleString();["$","","","","",""].some(er=>kt.includes(er))?ze=`${kt}${Mt} - ${kt}${Xe}${vt?`/${vt}`:""}`:ze=`${Mt} - ${Xe} ${kt}${vt?`/${vt}`:""}`}else if(ht&&typeof ht=="number"){const vt=ht.toLocaleString();ze=["$","","","","",""].some(wt=>kt.includes(wt))?`${kt}${vt}+`:`${vt}+ ${kt}`}else T.salary&&typeof T.salary=="string"&&(ze=T.salary);const Ut=T.job_employment_type||T.employment_type||T.type||"INTERN",_r=Ut.toUpperCase(),Mr=ao[_r]||ao[Ut]||Ut||"Intern";let Gr="On-site";T.job_is_remote||T.is_remote||T.remote===!0?Gr="Remote":Fe!=null&&Fe.toLowerCase().includes("hybrid")&&(Gr="Hybrid");const Ir=Il(T),Bt=pu(c,Ir,Fe);return{id:pe,title:Fe,company:Ct,company_name:T.company_name||T.employer_name||(typeof T.company=="string"?T.company:void 0),location:$e,url:Ze,company_logo:Re,is_saved:Z==null?void 0:Z.includes(String(pe)),salary:ze,employment_type:Mr,work_arrangement:Gr,matchPercentage:Bt}}).filter(T=>T!==null)}catch(T){return console.error("Error transforming internship jobs:",T),[]}},[st,Z,c]),K=p.useMemo(()=>tt,[tt]),H=M.useMemo(()=>{if(!D||D.length===0)return[];try{return(D||[]).map(T=>{const L=T.company&&typeof T.company=="object"?T.company:null,pe=String(T.id||"");if(!pe||pe.trim()==="")return console.warn("Skipping remote job without valid ID:",T),null;const Fe=T.title||T.job_title||T.position||"Untitled Position",Ct=T.company_name||(L==null?void 0:L.company_name)||(L==null?void 0:L.name)||T.companyName||T.employer_name||(typeof T.company=="string"?T.company:null)||"Unknown Company",ae=T.job_city||T.city||(L==null?void 0:L.city)||"",ke=T.job_state||T.state||(L==null?void 0:L.state)||"",_e=T.job_country||T.country||(L==null?void 0:L.country)||"",$e=String((T.jobLocation&&typeof T.jobLocation=="string"?T.jobLocation:null)||(T.location&&typeof T.location=="string"?T.location:null)||(L!=null&&L.location&&typeof L.location=="string"?L.location:null)||[ae,ke,_e].filter(Boolean).map(Bt=>String(Bt)).join(", ")||"Remote"),Ze=T.applyUrl||T.jobUrl||T.job_apply_link||T.apply_link||T.url||T.apply_url||T.company_url||(L==null?void 0:L.url)||"";let Re;const Ie=Bt=>{if(!Bt)return!1;if(Array.isArray(Bt)){for(const Mt of Bt)if(Ie(Mt))return!0;return!1}if(typeof Bt=="object"){const Mt=Bt,Xe=[Mt.url,Mt.src,Mt.href,Mt.logo,Mt.image,Mt.path,Mt.file,Mt.thumbnail];for(const wt of Xe)if(Ie(wt))return!0;return!1}const vt=String(Bt).trim();return vt?vt.startsWith("data:")||vt.startsWith("blob:")?(Re=vt,!0):vt.startsWith("//")?(Re=`https:${vt}`,!0):vt.startsWith("http://")||vt.startsWith("https://")||vt.startsWith("/")||vt.startsWith("./")||vt.startsWith("../")?(Re=vt,!0):!1:!1};!Re&&T.companyLogo&&Ie(T.companyLogo),!Re&&T.employer_logo&&Ie(T.employer_logo),!Re&&T.company_logo&&Ie(T.company_logo),!Re&&T.logo&&Ie(T.logo),!Re&&T.logo_url&&Ie(T.logo_url);const de=T;if(!Re&&de.companyLogo&&Ie(de.companyLogo),!Re&&de.employerLogo&&Ie(de.employerLogo),!Re&&de.companyLogoUrl&&Ie(de.companyLogoUrl),!Re&&de.logoUrl&&Ie(de.logoUrl),!Re&&L&&(L.logo&&Ie(L.logo),!Re&&L.logo_url&&Ie(L.logo_url),!Re&&L.company_logo&&Ie(L.company_logo),!Re&&L.employer_logo&&Ie(L.employer_logo)),!Re&&T.employer&&typeof T.employer=="object"){const Bt=T.employer;Bt.logo&&Ie(Bt.logo),!Re&&Bt.logo_url&&Ie(Bt.logo_url),!Re&&Bt.company_logo&&Ie(Bt.company_logo),!Re&&Bt.employer_logo&&Ie(Bt.employer_logo)}let ze="By agreement";const ht=T.job_min_salary||T.min_salary,Tt=T.job_max_salary||T.max_salary,kt=T.job_salary_currency||T.salary_currency||"$",xr=T.job_salary_period||T.salary_period||"yearly";if(ht&&Tt&&typeof ht=="number"&&typeof Tt=="number"){const Bt=xr==="monthly"?"Monthly":"",vt=ht.toLocaleString(),Mt=Tt.toLocaleString();["$","","","","",""].some(_t=>kt.includes(_t))?ze=`${kt}${vt} - ${kt}${Mt}${Bt?`/${Bt}`:""}`:ze=`${vt} - ${Mt} ${kt}${Bt?`/${Bt}`:""}`}else if(ht&&typeof ht=="number"){const Bt=ht.toLocaleString();ze=["$","","","","",""].some(Xe=>kt.includes(Xe))?`${kt}${Bt}+`:`${Bt}+ ${kt}`}else T.salary&&typeof T.salary=="string"&&(ze=T.salary);const Ut=T.job_employment_type||T.employment_type||T.type||"FULLTIME",_r=Ut.toUpperCase(),Mr=ao[_r]||ao[Ut]||Ut||"Full time",Gr="Remote",$n=Il(T),Ir=pu(c,$n,Fe);return{id:pe,title:Fe,company:Ct,company_name:T.company_name||T.employer_name||(typeof T.company=="string"?T.company:void 0),location:$e,url:Ze,company_logo:Re,is_saved:Z==null?void 0:Z.includes(String(pe)),salary:ze,employment_type:Mr,work_arrangement:Gr,matchPercentage:Ir}}).filter(T=>T!==null)}catch(T){return console.error("Error transforming remote jobs:",T),[]}},[D,Z,c]),oe=p.useMemo(()=>H,[H]),[xe,qe]=p.useState({});p.useEffect(()=>{(async()=>{const pe=[...Ge,...We,...tt,...H].filter(ke=>!ke.company_logo&&ke.company_name);if(pe.length===0)return;const Fe=pe.map(async ke=>{const _e=await NA(ke.company_name||"",void 0);return{jobId:ke.id,logo:_e}}),Ct=await Promise.all(Fe),ae={};Ct.forEach(({jobId:ke,logo:_e})=>{_e&&(ae[ke]=_e)}),Object.keys(ae).length>0&&qe(ke=>({...ke,...ae}))})()},[Ge,We,tt,H]);const Ae=Ve.map(T=>({...T,company_logo:T.company_logo||xe[T.id]||void 0})),at=We.map(T=>({...T,company_logo:T.company_logo||xe[T.id]||void 0}));K.map(T=>({...T,company_logo:T.company_logo||xe[T.id]||void 0}));const Ye=oe.map(T=>({...T,company_logo:T.company_logo||xe[T.id]||void 0}));p.useEffect(()=>{console.log(" Job API Endpoint: https://breneo-job-aggregator-k7ti.onrender.com/api/search"),console.log(" JobsPage State:",{isLoading:J,isLoadingInternships:ue,isLoadingRemote:we,error:se==null?void 0:se.message,internshipError:ce==null?void 0:ce.message,remoteError:Te==null?void 0:Te.message,jobsCount:pt.length,internshipJobsRawCount:st.length,transformedJobsCount:Ge.length,transformedInternshipJobsCount:tt.length,transformedRemoteJobsCount:H.length,regularJobsCount:Ve.length,internJobsCount:K.length,remoteJobsCount:oe.length,regularJobsPage:y,internshipJobsPage:S,remoteJobsPage:B,hasMoreRegularJobs:x,hasMoreInternshipJobs:N,hasMoreRemoteJobs:U,isLoadingMoreRegular:w,isLoadingMoreInternship:P,isLoadingMoreRemote:I})},[J,ue,we,se,ce,Te,pt.length,st.length,Ge.length,tt.length,H.length,Ve.length,K.length,oe.length,y,S,B,x,N,U,w,P,I]);const he=p.useCallback((T,L)=>{const pe=new URLSearchParams;L&&pe.set("search",L),T.countries.length>0&&pe.set("countries",T.countries.join(",")),T.skills.length>0&&pe.set("skills",T.skills.join(",")),T.jobTypes.length>0&&pe.set("jobTypes",T.jobTypes.join(",")),T.isRemote&&pe.set("isRemote","true"),T.datePosted&&pe.set("datePosted",T.datePosted),n(`/jobs/search?${pe.toString()}`)},[n]),Ne=T=>{const L={...$,jobTypes:T};V(L),G(L)},Ue=T=>{const L={...$,isRemote:T};V(L),G(L)},De=T=>{const L={...$,skills:$.skills.filter(pe=>pe!==T)};V(L),G(L),he(L,W)},Me=T=>{const L={...$,countries:$.countries.filter(pe=>pe!==T)};V(L),G(L),he(L,W)},Ft=T=>{const L=$.jobTypes.filter(Fe=>Fe!==T),pe={...$,jobTypes:L};V(pe),G(pe),he(pe,W)},Oe=()=>{const T={...$,isRemote:!1};V(T),G(T),he(T,W)},yt=()=>{console.log(" Applying filters:",ie),V(ie),l(!1),he(ie,W)},mt=()=>{const T={country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1};G(T),V(T),l(!1)},Pt=async T=>{try{return(await ci.fetchActiveJobs({query:T,filters:{country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:"week",skills:[T]},page:1,pageSize:50})).jobs.length}catch(L){return console.error(`Error fetching job count for skill ${T}:`,L),0}};return Jt({queryKey:["skillJobCounts",c.join(",")],queryFn:async()=>{const T={};return await Promise.all(c.map(async L=>{T[L]=await Pt(L)})),T},enabled:c.length>0&&!d,staleTime:5*60*1e3,refetchOnWindowFocus:!1}),o.jsxs(At,{children:[o.jsx(EA,{}),o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:o.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] rounded-3xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-2.5 md:py-3 overflow-visible min-h-[3rem]",children:[o.jsx(rn,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),o.jsx(Qe,{placeholder:"",value:W,onChange:T=>F(T.target.value),onKeyDown:X,className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(RJ,{selectedWorkTypes:$.jobTypes,onWorkTypesChange:Ne,isRemote:$.isRemote,onRemoteChange:Ue,placeholder:" "})})]}),(()=>{const T=q($);return o.jsxs(ne,{variant:"outline",size:"icon",onClick:()=>l(!0),className:"h-10 w-10 flex-shrink-0 bg-gray-100 dark:bg-gray-700 border-0 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md ml-2 relative","aria-label":"Filter jobs",children:[o.jsx(lA,{className:"h-4 w-4",strokeWidth:2}),T>0&&o.jsx(Rt,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:T})]})})(),o.jsx(ne,{variant:"default",size:"icon",onClick:bt,className:"h-10 w-10 flex-shrink-0 bg-breneo-blue hover:bg-breneo-blue/90 rounded-md ml-2","aria-label":"Search",children:o.jsx(Fo,{className:"h-5 w-5 text-white"})})]})}),$.skills.length>0||$.countries.length>0||$.jobTypes.length>0||$.isRemote||$.datePosted||$.salaryMin!==void 0||$.salaryMax!==void 0||$.salaryByAgreement?o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Active Filters"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[$.skills.map(L=>o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:String(L)}),o.jsx("button",{onClick:()=>De(L),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${L} filter`,children:o.jsx(Er,{className:"h-4 w-4"})})]},`skill-${L}`)),$.countries.map(L=>{const pe=nn.find(Ct=>Ct.code===L),Fe=pe!=null&&pe.name?String(pe.name):String(L);return o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:Fe}),o.jsx("button",{onClick:()=>Me(L),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${Fe} filter`,children:o.jsx(Er,{className:"h-4 w-4"})})]},`country-${L}`)}),$.jobTypes.map(L=>{const pe=ao[L]?String(ao[L]):String(L);return o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:pe}),o.jsx("button",{onClick:()=>Ft(L),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${pe} filter`,children:o.jsx(Er,{className:"h-4 w-4"})})]},`jobType-${L}`)}),$.isRemote&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Remote"}),o.jsx("button",{onClick:Oe,className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Remote filter",children:o.jsx(Er,{className:"h-4 w-4"})})]}),$.datePosted&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:$.datePosted==="today"?"Posted Today":$.datePosted==="week"?"Posted This Week":$.datePosted==="month"?"Posted This Month":`Posted: ${$.datePosted}`}),o.jsx("button",{onClick:()=>{const L={...$,datePosted:void 0};V(L),G(L),he(L,W)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Date Posted filter",children:o.jsx(Er,{className:"h-4 w-4"})})]}),($.salaryMin!==void 0||$.salaryMax!==void 0)&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:$.salaryMin!==void 0&&$.salaryMax!==void 0?`$${$.salaryMin} - $${$.salaryMax}`:$.salaryMin!==void 0?`Min: $${$.salaryMin}`:`Max: $${$.salaryMax}`}),o.jsx("button",{onClick:()=>{const L={...$,salaryMin:void 0,salaryMax:void 0};V(L),G(L),he(L,W)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Salary filter",children:o.jsx(Er,{className:"h-4 w-4"})})]}),$.salaryByAgreement&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Salary By Agreement"}),o.jsx("button",{onClick:()=>{const L={...$,salaryByAgreement:!1};V(L),G(L),he(L,W)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Salary By Agreement filter",children:o.jsx(Er,{className:"h-4 w-4"})})]})]})]}):null,(ce||Te||se)&&o.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-md flex items-center gap-3 mb-6",children:[o.jsx(Lf,{className:"h-5 w-5"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Error:"})," ",(se==null?void 0:se.message)||(ce==null?void 0:ce.message)||(Te==null?void 0:Te.message)]})]}),!J&&We.length>0&&o.jsxs("section",{className:"mb-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(nz,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Top Matched Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:at.map(T=>o.jsx(je,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl cursor-pointer hover:shadow-soft",onClick:()=>{if(!T.id||String(T.id).trim()==="")return;const L=encodeURIComponent(String(T.id));n(`/jobs/${L}`)},children:o.jsxs(Ee,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[T.company_logo?o.jsx("img",{src:T.company_logo,alt:`${T.company_name||T.company} logo`,className:"w-10 h-10 rounded-md object-cover flex-shrink-0",loading:"lazy",referrerPolicy:"no-referrer",onError:L=>{const pe=L.target;pe.style.display="none";const Fe=pe.nextElementSibling;Fe&&(Fe.style.display="flex")}}):null,o.jsx("div",{className:`w-10 h-10 rounded-md bg-breneo-accent flex items-center justify-center ${T.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(rn,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:T.company_name||T.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:T.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:T.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[T.employment_type&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:T.employment_type}),T.work_arrangement&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:T.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(wa,{value:T.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100",children:Sm(T.matchPercentage)})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:L=>{L.stopPropagation(),ye.mutate(T)},"aria-label":T.is_saved?"Unsave job":"Save job",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",T.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(qn,{className:le("h-4 w-4 transition-colors",T.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},T.id))})]}),!J&&Ve.length>0&&o.jsxs("section",{className:"mb-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(lg,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Latest Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ae.map(T=>o.jsx(je,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl cursor-pointer hover:shadow-soft",onClick:()=>{if(!T.id||String(T.id).trim()==="")return;const L=encodeURIComponent(String(T.id));n(`/jobs/${L}`)},children:o.jsxs(Ee,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[T.company_logo?o.jsx("img",{src:T.company_logo,alt:`${T.company_name||T.company} logo`,className:"w-10 h-10 rounded-md object-cover flex-shrink-0",loading:"lazy",referrerPolicy:"no-referrer",onError:L=>{const pe=L.target;console.warn(" Logo failed to load:",T.company_logo,pe.src),pe.style.display="none";const Fe=pe.nextElementSibling;Fe&&(Fe.style.display="flex")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-10 h-10 rounded-md bg-breneo-accent flex items-center justify-center ${T.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(rn,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:T.company_name||T.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:T.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:T.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[T.employment_type&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:T.employment_type}),T.work_arrangement&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:T.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(wa,{value:T.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100",children:Sm(T.matchPercentage)})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:L=>{L.stopPropagation(),ye.mutate(T)},"aria-label":T.is_saved?"Unsave job":"Save job",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",T.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(qn,{className:le("h-4 w-4 transition-colors",T.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},T.id))})]}),J&&o.jsxs("section",{className:"mb-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(lg,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Latest Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(9)].map((T,L)=>o.jsx(je,{children:o.jsx(Ee,{className:"p-4",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})})},L))})]}),!we&&oe.length>0&&o.jsxs("section",{className:"mt-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(ic,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Remote Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ye.map(T=>o.jsx(je,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl cursor-pointer hover:shadow-soft",onClick:()=>{if(!T.id||String(T.id).trim()==="")return;const L=encodeURIComponent(String(T.id));n(`/jobs/${L}`)},children:o.jsxs(Ee,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[T.company_logo?o.jsx("img",{src:T.company_logo,alt:`${T.company_name||T.company} logo`,className:"w-10 h-10 rounded-full object-cover",loading:"lazy",referrerPolicy:"no-referrer",onError:L=>{const pe=L.target;console.warn(" Logo failed to load:",T.company_logo,pe.src),pe.style.display="none";const Fe=pe.nextElementSibling;Fe&&(Fe.style.display="flex")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center ${T.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(rn,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:T.company_name||T.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:T.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:T.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[T.employment_type&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:T.employment_type}),T.work_arrangement&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:T.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(wa,{value:T.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700",children:Sm(T.matchPercentage)})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:L=>{L.stopPropagation(),ye.mutate(T)},"aria-label":T.is_saved?"Unsave job":"Save job",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",T.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(qn,{className:le("h-4 w-4 transition-colors",T.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},T.id))})]})]}),o.jsx($J,{isOpen:i,onClose:()=>l(!1),filters:ie,onFiltersChange:G,onApply:yt,onClear:mt,userTopSkills:c})]})},LJ=({selectedLocations:e,onLocationsChange:t,placeholder:r="Location"})=>{const[n,s]=p.useState(!1),[a,i]=p.useState(""),[l,c]=p.useState(e),u=p.useRef(null);p.useEffect(()=>{n&&c(e)},[n,e]),p.useEffect(()=>{const w=S=>{u.current&&!u.current.contains(S.target)&&(s(!1),c(e))},_=S=>{S.key==="Escape"&&(s(!1),c(e))};return n&&(document.addEventListener("mousedown",w),document.addEventListener("keydown",_)),()=>{document.removeEventListener("mousedown",w),document.removeEventListener("keydown",_)}},[n,e]);const d=p.useMemo(()=>{if(!a.trim())return nn;const w=a.toLowerCase();return nn.filter(_=>_.name.toLowerCase().includes(w)||_.code.toLowerCase().includes(w))},[a]),f=w=>{l.includes(w)?c(l.filter(_=>_!==w)):c([...l,w])},h=()=>{l.length===d.length?c([]):c(d.map(w=>w.code))},y=()=>{t(l),s(!1)},g=d.length>0&&d.every(w=>l.includes(w.code)),m=p.useMemo(()=>{var _;return e.length===0?r:e.length===1?((_=nn.find(S=>S.code===e[0]))==null?void 0:_.name)||r:e.length>3?`${e.length} countries selected`:e.slice(0,3).map(S=>{var k;return((k=nn.find(E=>E.code===S))==null?void 0:k.name)||S}).join(", ")},[e,r]),v=e.length===0,x=(w,_)=>{w.stopPropagation(),t(e.filter(S=>S!==_))},b=w=>{w.stopPropagation(),t([])};return o.jsxs("div",{className:"relative w-full max-w-full",ref:u,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full min-w-0",children:[o.jsxs("button",{type:"button",onClick:()=>s(!n),className:le("flex items-center flex-1 min-w-0 h-auto py-0 px-0 text-sm text-left bg-transparent border-0 focus:outline-none focus:ring-0","transition-colors cursor-pointer hover:opacity-80 overflow-hidden",v?"text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-gray-100"),children:[o.jsx(Ff,{className:"h-4 w-4 md:h-5 md:w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2"}),e.length===0?o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:r}):o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:m})]}),e.length>0&&o.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),e.length===1?x(w,e[0]):b(w)},className:"flex-shrink-0 p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded ml-1 transition-all duration-200 animate-in fade-in-0 zoom-in-95","aria-label":e.length===1?"Remove location":"Remove all locations",children:o.jsx(Er,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 hover:scale-110"})})]}),n&&o.jsxs("div",{className:le("absolute top-full mt-2 w-[calc(100vw-2rem)] md:w-[400px] rounded-lg shadow-lg border z-[9999] max-h-[500px] flex flex-col overflow-hidden","bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","min-w-[320px]","left-0 md:right-0 md:left-auto"),children:[o.jsxs("div",{className:le("flex items-center justify-between px-4 py-3 border-b","border-gray-200 dark:border-gray-700"),children:[o.jsx("h3",{className:le("font-bold text-base","text-gray-900 dark:text-gray-100"),children:"Countries"}),o.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),s(!1),i("")},className:le("p-1 rounded transition-colors","hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Close",children:o.jsx(Er,{className:le("h-5 w-5","text-gray-900 dark:text-gray-100")})})]}),o.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"relative",children:[o.jsx(Fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(Qe,{type:"text",placeholder:"Search countries...",value:a,onChange:w=>i(w.target.value),onClick:w=>w.stopPropagation(),className:le("pl-9 pr-3 h-9 text-sm","bg-white dark:bg-gray-800","border-gray-200 dark:border-gray-700","focus-visible:outline-none focus-visible:ring-0")})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[d.length>0&&o.jsxs("div",{className:le("flex items-center px-4 py-3 cursor-pointer transition-colors border-b","hover:bg-gray-50 dark:hover:bg-gray-700/50","border-gray-100 dark:border-gray-700"),onClick:w=>{w.stopPropagation(),h()},children:[o.jsx(Fn,{checked:g,onCheckedChange:w=>{if(w)c(d.map(_=>_.code));else{const _=d.map(S=>S.code);c(l.filter(S=>!_.includes(S)))}},className:"mr-3"}),o.jsx("span",{className:le("text-sm","text-gray-900 dark:text-gray-100"),children:"Select All"})]}),d.length===0?o.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):d.map(w=>{const _=l.includes(w.code);return o.jsxs("div",{className:le("flex items-center px-4 py-2.5 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:S=>{S.stopPropagation(),f(w.code)},children:[o.jsx(Fn,{checked:_,onCheckedChange:S=>{c(S?[...l,w.code]:l.filter(k=>k!==w.code))},className:"mr-3"}),o.jsx("span",{className:le("text-sm flex-1","text-gray-900 dark:text-gray-100"),children:w.name})]},w.code)})]}),o.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-white dark:bg-gray-800 sticky bottom-0 z-10",children:o.jsx(ne,{onClick:w=>{w.stopPropagation(),y()},className:"w-full",children:"Save"})})]})]})},Mj={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern"},RF=20,_ze=e=>{if(!e)return new Date().toLocaleDateString("ka-GE");try{const t=new Date(e);return isNaN(t.getTime())?new Date().toLocaleDateString("ka-GE"):t.toLocaleDateString("ka-GE")}catch(t){return console.warn("Error parsing date:",e,t),new Date().toLocaleDateString("ka-GE")}},Sze=()=>{const{user:e}=fr(),t=lr(),r=Us(),[n,s]=$w(),a=ca(),[i,l]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState("desc"),h=hi(),y=n.get("search")||"",g=parseInt(n.get("page")||"1",10),[m,v]=p.useState(()=>{const F=n.get("countries"),X=n.get("skills"),ye=n.get("jobTypes"),Ce=n.get("isRemote"),Ge=n.get("datePosted"),lt=n.get("salaryMin"),Ve=n.get("salaryMax"),We=n.get("salaryByAgreement");return{country:"Georgia",countries:F?F.split(",").filter(Boolean):[],jobTypes:ye?ye.split(",").filter(Boolean):[],isRemote:Ce==="true",datePosted:Ge||void 0,skills:X?X.split(",").filter(Boolean):[],salaryMin:lt?parseInt(lt,10):void 0,salaryMax:Ve?parseInt(Ve,10):void 0,salaryByAgreement:We==="true"}});p.useEffect(()=>{console.log(" JobSearchResultsPage loaded:",{searchTerm:y,page:g,searchParams:n.toString(),activeFilters:m,userTopSkills:c}),console.log(" Job API Endpoint: https://breneo-job-aggregator-k7ti.onrender.com/api/")},[y,g,n,m,c]),p.useEffect(()=>{const F=n.get("countries"),X=n.get("skills"),ye=n.get("jobTypes"),Ce=n.get("isRemote"),Ge=n.get("datePosted"),lt=n.get("salaryMin"),Ve=n.get("salaryMax"),We=n.get("salaryByAgreement");v({country:"Georgia",countries:F?F.split(",").filter(Boolean):[],jobTypes:ye?ye.split(",").filter(Boolean):[],isRemote:Ce==="true",datePosted:Ge||void 0,skills:X?X.split(",").filter(Boolean):[],salaryMin:lt?parseInt(lt,10):void 0,salaryMax:Ve?parseInt(Ve,10):void 0,salaryByAgreement:We==="true"})},[n]);const[x,b]=p.useState(m),w=F=>{let X=0;return F.countries.length>0&&(X+=F.countries.length),F.jobTypes.length>0&&(X+=F.jobTypes.length),F.isRemote&&(X+=1),F.datePosted&&(X+=1),F.skills.length>0&&(X+=F.skills.length),(F.salaryMin!==void 0||F.salaryMax!==void 0)&&(X+=1),F.salaryByAgreement&&(X+=1),X},{data:_=[]}=Jt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var F;if(!e)return[];try{return(((F=(await Se.get(Je.AUTH.PROFILE)).data)==null?void 0:F.saved_jobs)||[]).map(Ce=>String(Ce))}catch(X){return console.error("Error fetching saved jobs:",X),[]}},enabled:!!e});p.useEffect(()=>{(async()=>{if(e)try{try{const ye=await Se.get(`/api/skilltest/results/?user=${e.id}`);if(ye.data&&Array.isArray(ye.data)&&ye.data.length>0){const Ge=ye.data[0].skills_json,lt=Object.keys(Ge.tech||{});u(lt);return}}catch{console.log("API endpoint not available, trying Supabase...")}const X=await Rh(String(e.id));if(X&&X.length>0){const ye=Mh(X),Ge=l1(ye,20).map(Ve=>Ve.skill),lt=mg(Ge);u(lt)}}catch(X){console.error("Error fetching user skills:",X)}})()},[e]);const S=async(F,X,ye,Ce)=>{try{const Ge=Ce.length>0&&X.skills.length>0&&Ce.every(K=>X.skills.includes(K))&&X.skills.length===Ce.length,lt={...X,skills:Ge?[]:X.skills},We=await ci.fetchActiveJobs({query:F||"",filters:lt,page:ye,pageSize:20});if(!We||!Array.isArray(We.jobs))return{jobs:[],hasMore:!1,total:0};let tt=We.jobs.filter(K=>{const H=String(K.id||"");return H&&H.trim()!==""});return(X.salaryMin!==void 0||X.salaryMax!==void 0||X.salaryByAgreement)&&(tt=tt.filter(K=>{const H=K.job_min_salary||K.min_salary,oe=K.job_max_salary||K.max_salary;return X.salaryByAgreement&&!H&&!oe?!0:!H&&!oe&&!X.salaryByAgreement?!(X.salaryMin!==void 0||X.salaryMax!==void 0):!(X.salaryMin!==void 0&&oe&&oe<X.salaryMin||X.salaryMax!==void 0&&H&&H>X.salaryMax)})),{jobs:tt,hasMore:We.hasMore??!1,total:We.total??tt.length}}catch(Ge){throw console.error("Error fetching jobs:",Ge),Ge}},k=p.useMemo(()=>JSON.stringify({countries:m.countries.sort(),skills:m.skills.sort(),jobTypes:m.jobTypes.sort(),isRemote:m.isRemote,datePosted:m.datePosted,salaryMin:m.salaryMin,salaryMax:m.salaryMax,salaryByAgreement:m.salaryByAgreement}),[m]),{data:E={jobs:[],hasMore:!1,total:0},isLoading:j,error:N}=Jt({queryKey:["job-search",y,k,g,c.join(",")],queryFn:()=>S(y,m,g,c),enabled:!!e,staleTime:5*60*1e3,retry:1}),C=p.useMemo(()=>E.jobs||[],[E.jobs]),P=E.hasMore||!1,R=E.total||C.length,B=p.useMemo(()=>!C||C.length===0?[]:C.map(F=>{const X=String(F.id||"");if(!X||X.trim()==="")return null;const ye=F.title||F.job_title||F.position||"Untitled Position",Ce=F.company_name||F.employer_name||(typeof F.company=="string"?F.company:null)||"Unknown Company",Ge=F.job_city||F.city||"",lt=F.job_state||F.state||"",Ve=F.job_country||F.country||"",We=F.job_location||F.location||[Ge,lt,Ve].filter(Boolean).join(", ")||"Location not specified",tt=F.apply_url||F.job_apply_link||F.apply_link||F.url||"";let K;const H=mt=>{if(!mt)return!1;const Pt=String(mt).trim();if(!Pt)return!1;try{if(new URL(Pt).protocol.startsWith("http"))return K=Pt,!0}catch{}return!1},oe=F;if(!K&&oe.company_logo&&H(oe.company_logo),!K&&F.company_logo&&H(F.company_logo),!K&&oe.companyLogo&&H(oe.companyLogo),!K&&F.companyLogo&&H(F.companyLogo),!K&&oe.employer_logo&&H(oe.employer_logo),!K&&F.employer_logo&&H(F.employer_logo),!K&&oe.logo&&H(oe.logo),!K&&F.logo&&H(F.logo),!K&&oe.logo_url&&H(oe.logo_url),!K&&F.logo_url&&H(F.logo_url),!K&&oe.employerLogo&&H(oe.employerLogo),!K&&oe.companyLogoUrl&&H(oe.companyLogoUrl),!K&&oe.logoUrl&&H(oe.logoUrl),!K&&F.company&&typeof F.company=="object"){const mt=F.company;mt.logo&&H(mt.logo),!K&&mt.logo_url&&H(mt.logo_url),!K&&mt.company_logo&&H(mt.company_logo),!K&&mt.employer_logo&&H(mt.employer_logo)}if(!K&&F.employer&&typeof F.employer=="object"){const mt=F.employer;mt.logo&&H(mt.logo),!K&&mt.logo_url&&H(mt.logo_url),!K&&mt.company_logo&&H(mt.company_logo),!K&&mt.employer_logo&&H(mt.employer_logo)}let xe="By agreement";const qe=F.job_min_salary||F.min_salary,Ae=F.job_max_salary||F.max_salary,at=F.job_salary_currency||F.salary_currency||"$",Ye=F.job_salary_period||F.salary_period||"yearly";if(qe&&Ae&&typeof qe=="number"&&typeof Ae=="number"){const mt=Ye==="monthly"?"Monthly":"",Pt=qe.toLocaleString(),T=Ae.toLocaleString();["$","","","","",""].some(Fe=>at.includes(Fe))?xe=`${at}${Pt} - ${at}${T}${mt?`/${mt}`:""}`:xe=`${Pt} - ${T} ${at}${mt?`/${mt}`:""}`}else if(qe&&typeof qe=="number"){const mt=qe.toLocaleString();xe=["$","","","","",""].some(L=>at.includes(L))?`${at}${mt}+`:`${mt}+ ${at}`}else F.salary&&typeof F.salary=="string"&&(xe=F.salary);const he=F.job_employment_type||F.employment_type||F.type||"FULLTIME",Ne=Mj[he]||he||"Full time";let Ue="On-site";F.job_is_remote||F.is_remote||F.remote===!0?Ue="Remote":ye!=null&&ye.toLowerCase().includes("hybrid")&&(Ue="Hybrid");const Me=Il(F),Ft=pu(c,Me,ye),Oe=F,yt=F.posted_at||F.fetched_at||F.date_posted||F.posted_date||F.job_posted_at_datetime_utc||F.postedAt||F.job_posted_at||Oe.job_publish_timestamp||Oe.publish_time||F.created_at||F.published_at||void 0;return{id:X,title:ye,company:Ce,company_name:F.company_name||F.employer_name||(typeof F.company=="string"?F.company:void 0),location:String(We),url:tt,company_logo:K,is_saved:_==null?void 0:_.includes(String(X)),salary:xe,employment_type:Ne,work_arrangement:Ue,matchPercentage:Ft,datePosted:yt,jobSkills:Me}}).filter(F=>F!==null),[C,_,c]),z=p.useMemo(()=>[...B].sort((X,ye)=>{if(!X.datePosted&&!ye.datePosted)return 0;if(!X.datePosted)return 1;if(!ye.datePosted)return-1;const Ce=new Date(X.datePosted).getTime(),Ge=new Date(ye.datePosted).getTime();return d==="desc"?Ge-Ce:Ce-Ge}),[B,d]),[D,O]=p.useState({});p.useEffect(()=>{(async()=>{const X=z.filter(lt=>!lt.company_logo&&lt.company_name);if(X.length===0)return;const ye=X.map(async lt=>{const Ve=await NA(lt.company_name||"",void 0);return{jobId:lt.id,logo:Ve}}),Ce=await Promise.all(ye),Ge={};Ce.forEach(({jobId:lt,logo:Ve})=>{Ve&&(Ge[lt]=Ve)}),Object.keys(Ge).length>0&&O(lt=>({...lt,...Ge}))})()},[z]);const U=z.map(F=>({...F,company_logo:F.company_logo||D[F.id]||void 0})),A=sa({mutationFn:async F=>{if(!e)throw new Error("User not logged in");if(!F.id)throw new Error("Job ID is required");const X=String(F.id);F.is_saved;try{const ye=`${Je.JOBS.SAVE_JOB}${X}/`;await Se.post(ye)}catch(ye){const Ce=ye instanceof Error?ye.message:"Failed to save job. Please try again.";throw new Error(Ce)}},onSuccess:(F,X)=>{r.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile"]}),fe.success(X.is_saved?"Job Unsaved":"Job Saved")},onError:F=>{console.error("Error saving job:",F);const X=F instanceof Error?F.message:"Failed to save job";fe.error(X)}}),I=p.useCallback((F,X,ye)=>{const Ce=new URLSearchParams;X&&Ce.set("search",X),Ce.set("page",String(ye)),F.countries.length>0&&Ce.set("countries",F.countries.join(",")),F.skills.length>0&&Ce.set("skills",F.skills.join(",")),F.jobTypes.length>0&&Ce.set("jobTypes",F.jobTypes.join(",")),F.isRemote&&Ce.set("isRemote","true"),F.datePosted&&Ce.set("datePosted",F.datePosted),F.salaryMin!==void 0&&Ce.set("salaryMin",String(F.salaryMin)),F.salaryMax!==void 0&&Ce.set("salaryMax",String(F.salaryMax)),F.salaryByAgreement&&Ce.set("salaryByAgreement","true"),s(Ce,{replace:!0})},[s]),te=F=>{I(m,F,1)},$=()=>{v(x),I(x,y,1),l(!1)},V=()=>{const F={country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},X=1;b(F),v(F),I(F,y,X),l(!1)},W=p.useCallback(F=>{const X={...m,skills:m.skills.filter(ye=>ye!==F)};v(X),b(X),I(X,y,1)},[m,y,I]),ee=p.useCallback(F=>{const X={...m,countries:m.countries.filter(ye=>ye!==F)};v(X),b(X),I(X,y,1)},[m,y,I]),ie=p.useCallback(F=>{const X=m.jobTypes.filter(Ce=>Ce!==F),ye={...m,jobTypes:X};v(ye),b(ye),I(ye,y,1)},[m,y,I]),G=p.useCallback(()=>{const F={...m,isRemote:!1};v(F),b(F),I(F,y,1)},[m,y,I]),q=()=>{const F=g+1;I(m,y,F),window.scrollTo({top:0,behavior:"smooth"})},Z=()=>{const F=Math.max(1,g-1);I(m,y,F),window.scrollTo({top:0,behavior:"smooth"})},Y=P&&B.length>0,J=g>1,se=p.useMemo(()=>{const F=[];if(m.skills.forEach(X=>{F.push({id:`skill-${X}`,label:X,onRemove:()=>W(X),ariaLabel:`Remove ${X} filter`})}),m.countries.forEach(X=>{const ye=nn.find(Ge=>Ge.code===X),Ce=(ye==null?void 0:ye.name)||X;F.push({id:`country-${X}`,label:Ce,onRemove:()=>ee(X),ariaLabel:`Remove ${Ce} filter`})}),m.jobTypes.forEach(X=>{F.push({id:`jobType-${X}`,label:Mj[X]||X,onRemove:()=>ie(X),ariaLabel:`Remove ${Mj[X]||X} filter`})}),m.isRemote&&F.push({id:"remote",label:"Remote",onRemove:G,ariaLabel:"Remove Remote filter"}),m.datePosted){const X=m.datePosted==="today"?"Posted Today":m.datePosted==="week"?"Posted This Week":m.datePosted==="month"?"Posted This Month":`Posted: ${m.datePosted}`;F.push({id:"datePosted",label:X,onRemove:()=>{const ye={...m,datePosted:void 0};v(ye),b(ye),I(ye,y,1)},ariaLabel:"Remove Date Posted filter"})}if(m.salaryMin!==void 0||m.salaryMax!==void 0){const X=m.salaryMin!==void 0&&m.salaryMax!==void 0?`$${m.salaryMin} - $${m.salaryMax}`:m.salaryMin!==void 0?`Min: $${m.salaryMin}`:`Max: $${m.salaryMax}`;F.push({id:"salaryRange",label:X,onRemove:()=>{const ye={...m,salaryMin:void 0,salaryMax:void 0};v(ye),b(ye),I(ye,y,1)},ariaLabel:"Remove Salary filter"})}return m.salaryByAgreement&&F.push({id:"salaryByAgreement",label:"Salary By Agreement",onRemove:()=>{const X={...m,salaryByAgreement:!1};v(X),b(X),I(X,y,1)},ariaLabel:"Remove Salary By Agreement filter"}),F},[m,y,W,ee,ie,G,I]),Q=p.useRef(null),[ue,ce]=p.useState(se.length),[ve,we]=p.useState(!1);p.useEffect(()=>{if(se.length===0){ce(0),we(!1);return}ce(se.length);const F=()=>{if(!Q.current)return;const ye=Q.current,Ce=ye.scrollHeight,Ge=100;if(Ce>Ge){let lt=1,Ve=se.length,We=se.length;const tt=document.createElement("div");for(tt.className="flex flex-wrap gap-2",tt.style.position="absolute",tt.style.visibility="hidden",tt.style.width=ye.offsetWidth+"px",tt.style.top="-9999px",document.body.appendChild(tt);lt<=Ve;){const K=Math.floor((lt+Ve)/2);tt.innerHTML=se.slice(0,K).map(H=>`<div class="flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700"><span class="text-sm font-medium whitespace-nowrap">${H.label}</span><button><svg class="h-4 w-4"></svg></button></div>`).join(""),tt.scrollHeight<=Ge?(We=K,lt=K+1):Ve=K-1}document.body.removeChild(tt),We<se.length?(ce(We),we(!0)):(ce(se.length),we(!1))}else ce(se.length),we(!1)},X=requestAnimationFrame(()=>{setTimeout(F,0)});return window.addEventListener("resize",F),()=>{cancelAnimationFrame(X),window.removeEventListener("resize",F)}},[se]);const Te=(g-1)*RF,pt=R>0?Math.min(Te+1,R):1,st=R>0?Math.min(Te+B.length,R):B.length;let bt=null;return R>0?bt=Math.ceil(R/RF):P?bt=g+1:B.length>0&&(bt=g),o.jsx(At,{children:o.jsxs("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] rounded-xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-3 md:py-4 overflow-visible min-h-[3.5rem] flex-1",children:[o.jsx(rn,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),o.jsx(Qe,{type:"text",placeholder:h.jobs.searchPlaceholder,value:y,onChange:F=>te(F.target.value),className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(RJ,{selectedWorkTypes:m.jobTypes,onWorkTypesChange:F=>{const X={...m,jobTypes:F};v(X),b(X),I(X,y,1)},isRemote:m.isRemote,onRemoteChange:F=>{const X={...m,isRemote:F};v(X),b(X),I(X,y,1)}})}),o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(LJ,{selectedLocations:m.countries,onLocationsChange:F=>{const X={...m,countries:F};v(X),b(X),I(X,y,1)}})})]})]}),(()=>{const F=w(m);return o.jsxs(ne,{variant:"outline",onClick:()=>l(!0),className:"group flex items-center gap-2 bg-breneo-blue/10 hover:bg-breneo-blue rounded-xl px-4 py-3 md:py-4 hover:bg-breneo-blue hover:text-white text-gray-900 dark:text-gray-100 whitespace-nowrap h-auto relative min-h-[3.5rem] transition-colors","aria-label":"Filter jobs",children:[o.jsx(lA,{className:"h-4 w-4 group-hover:text-white",strokeWidth:2}),o.jsx("span",{className:"hidden md:inline text-sm font-medium",children:h.jobs.filters}),F>0&&o.jsx(Rt,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:F})]})})()]})}),se.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Active Filters"}),o.jsx("div",{ref:Q,className:"flex flex-wrap gap-2",children:se.slice(0,ue).map(F=>o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:F.label}),o.jsx("button",{onClick:F.onRemove,className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":F.ariaLabel,children:o.jsx(Er,{className:"h-4 w-4"})})]},F.id))}),ve&&se.length>ue&&o.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[se.length-ue,"+ filters"]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:R>0?`${R} ${h.jobs.vacancies}`:`${B.length} ${h.jobs.vacancies}`})}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(ne,{variant:"outline",size:"sm",className:"h-9 px-2 md:px-3",onClick:()=>{f(F=>F==="desc"?"asc":"desc")},children:[o.jsx("span",{className:"text-xs md:text-sm whitespace-nowrap",children:a?d==="desc"?h.jobs.dateDescending:h.jobs.dateAscending:d==="desc"?h.jobs.dateDescendingFull:h.jobs.dateAscendingFull}),d==="desc"?o.jsx(cde,{className:"h-4 w-4 ml-1 md:ml-2"}):o.jsx(ude,{className:"h-4 w-4 ml-1 md:ml-2"})]})})]}),j?o.jsx("div",{className:"space-y-4",children:[...Array(6)].map((F,X)=>o.jsx(je,{children:o.jsx(Ee,{className:"p-4",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})})},X))}):N?o.jsx(je,{className:"bg-red-50 dark:bg-red-950/20",children:o.jsx(Ee,{className:"p-6 text-center",children:o.jsx("p",{className:"text-red-600",children:h.jobs.errorLoading})})}):B.length===0?o.jsxs("div",{className:"text-center p-10 rounded-3xl text-muted-foreground bg-muted/30",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-travel-front-color.png",alt:"No data found",className:"mx-auto h-48 w-48 mb-4 object-contain"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:h.jobs.noJobs}),o.jsx("p",{className:"text-sm",children:h.jobs.tryAdjustingFilters})]}):o.jsx("div",{className:"space-y-4",children:U.map(F=>o.jsx("div",{className:"group cursor-pointer hover:shadow-soft transition-shadow",onClick:()=>t(`/jobs/${encodeURIComponent(F.id)}`),children:o.jsx(je,{className:"hover:shadow-soft transition-shadow overflow-hidden rounded-lg",children:o.jsx(Ee,{className:a?"px-5 pt-5 pb-4 flex flex-col flex-grow":"p-0",children:a?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[F.company_logo?o.jsx("img",{src:F.company_logo,alt:`${F.company_name||F.company} logo`,className:"w-10 h-10 rounded-full object-cover",loading:"lazy",referrerPolicy:"no-referrer",onError:X=>{const ye=X.target;console.warn(" Logo failed to load:",F.company_logo,ye.src),ye.style.display="none";const Ce=ye.nextElementSibling;Ce&&(Ce.style.display="flex")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center ${F.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(rn,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:F.company_name||F.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:F.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:F.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[F.employment_type&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:F.employment_type}),F.work_arrangement&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:F.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(wa,{value:F.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100",children:Sm(F.matchPercentage)})]}),o.jsx(ne,{variant:"secondary",size:"icon",onClick:X=>{X.stopPropagation(),A.mutate(F)},"aria-label":F.is_saved?"Unsave job":"Save job",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",F.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(qn,{className:le("h-4 w-4 transition-colors",F.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]}):o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-1 p-4 pr-2 rounded-l-lg",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[F.company_logo?o.jsx("img",{src:F.company_logo,alt:F.company_name||F.company,className:"w-12 h-12 rounded-md object-cover absolute inset-0 z-10",loading:"lazy",referrerPolicy:"no-referrer",onError:X=>{var Ge;const ye=X.target;console.warn(" Logo failed to load:",F.company_logo,ye.src),ye.style.display="none";const Ce=(Ge=ye.parentElement)==null?void 0:Ge.querySelector(".logo-fallback");Ce&&(Ce.style.display="flex",Ce.style.zIndex="10")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-12 h-12 rounded-md bg-breneo-blue/10 flex items-center justify-center logo-fallback absolute inset-0 ${F.company_logo?"z-0":"z-10"}`,style:{display:F.company_logo?"none":"flex"},children:o.jsx(rn,{className:"h-6 w-6 text-breneo-blue"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"mb-1 md:mb-2",children:[o.jsx("h3",{className:"font-normal text-sm text-gray-600 mb-1 line-clamp-1",children:F.company_name||F.company}),o.jsx("h4",{className:"font-bold text-base md:text-lg mb-1 md:mb-2 line-clamp-2 md:line-clamp-3",children:F.title})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Ff,{className:"h-4 w-4"}),o.jsx("span",{children:F.location})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(lg,{className:"h-4 w-4"}),o.jsx("span",{children:F.employment_type})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(rn,{className:"h-4 w-4"}),o.jsx("span",{children:F.work_arrangement})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-gray-500",children:_ze(F.datePosted)}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ne,{variant:"secondary",size:"icon",onClick:X=>{X.stopPropagation(),A.mutate(F)},"aria-label":F.is_saved?"Unsave job":"Save job",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",F.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(qn,{className:le("h-4 w-4 transition-colors",F.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})}),o.jsx(ne,{variant:"default",size:"sm",onClick:X=>{X.stopPropagation(),F.url?window.open(F.url,"_blank"):t(`/jobs/${encodeURIComponent(F.id)}`)},children:"Apply Now"})]})]})]})]})]})}),F.matchPercentage!==void 0&&F.matchPercentage>0&&o.jsxs("div",{className:"w-56 flex-shrink-0 p-4 flex flex-col items-center justify-center relative rounded-2xl bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("button",{onClick:X=>{X.stopPropagation()},className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:o.jsx("span",{className:"text-lg",children:""})})}),o.jsx("div",{className:"mb-3",children:o.jsx(wa,{value:F.matchPercentage,size:60,strokeWidth:3,showLabel:!1,percentageTextSize:"lg",className:"justify-center text-green-600"})}),o.jsx("div",{children:o.jsx("p",{className:"text-base font-bold text-center text-gray-800 dark:text-gray-200",children:F.matchPercentage>=70?"GOOD MATCH":F.matchPercentage>=40?"FAIR MATCH":"POOR MATCH"})})]})]})})})},F.id))}),!j&&B.length>0&&o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8 pt-6 ",children:[o.jsx("div",{className:"text-sm text-gray-600",children:R>0?o.jsxs(o.Fragment,{children:[h.jobs.showing," ",pt,"-",Math.min(st,R)," ",h.jobs.of," ",R," ",h.jobs.vacancies]}):o.jsxs(o.Fragment,{children:[h.jobs.showing," ",B.length," ",h.jobs.vacancies]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ne,{variant:"outline",size:"sm",className:"h-9 px-4",onClick:Z,disabled:!J||j,children:[o.jsx(zE,{className:"h-4 w-4 mr-1"}),h.jobs.previous]}),o.jsxs("div",{className:"flex items-center gap-1 px-2",children:[o.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[h.jobs.page," ",g]}),bt&&o.jsxs("span",{className:"text-sm text-gray-400",children:["/ ",bt]})]}),o.jsxs(ne,{variant:"outline",size:"sm",className:"h-9 px-4",onClick:q,disabled:!Y||j,children:[h.jobs.next,o.jsx(xa,{className:"h-4 w-4 ml-1"})]})]})]}),o.jsx($J,{isOpen:i,onClose:()=>l(!1),filters:x,onFiltersChange:b,onApply:$,onClear:V,userTopSkills:c})]})})};function jze(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var kze="DismissableLayer",h2="dismissableLayer.update",Eze="dismissableLayer.pointerDownOutside",Nze="dismissableLayer.focusOutside",MF,DJ=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),FJ=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(DJ),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),g=xt(t,E=>f(E)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),b=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=Aze(E=>{const j=E.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(E),i==null||i(E),E.defaultPrevented||l==null||l())},h),k=Tze(E=>{const j=E.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(E),i==null||i(E),E.defaultPrevented||l==null||l())},h);return jze(E=>{b===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(MF=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),IF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=MF)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),IF())},[d,u]),p.useEffect(()=>{const E=()=>y({});return document.addEventListener(h2,E),()=>document.removeEventListener(h2,E)},[]),o.jsx(ot.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Be(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Be(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Be(e.onPointerDownCapture,S.onPointerDownCapture)})});FJ.displayName=kze;var Cze="DismissableLayerBranch",Pze=p.forwardRef((e,t)=>{const r=p.useContext(DJ),n=p.useRef(null),s=xt(t,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(ot.div,{...e,ref:s})});Pze.displayName=Cze;function Aze(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){BJ(Eze,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Tze(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!n.current&&BJ(Nze,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function IF(){const e=new CustomEvent(h2);document.dispatchEvent(e)}function BJ(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?xy(s,a):s.dispatchEvent(a)}var Ij="focusScope.autoFocusOnMount",Lj="focusScope.autoFocusOnUnmount",LF={bubbles:!1,cancelable:!0},Oze="FocusScope",UJ=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=p.useState(null),u=Yt(s),d=Yt(a),f=p.useRef(null),h=xt(t,m=>c(m)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(w){if(y.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:fl(f.current,{select:!0})},v=function(w){if(y.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||fl(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&fl(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,y.paused]),p.useEffect(()=>{if(l){FF.add(y);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(Ij,LF);l.addEventListener(Ij,u),l.dispatchEvent(x),x.defaultPrevented||($ze(Dze(zJ(l)),{select:!0}),document.activeElement===m&&fl(l))}return()=>{l.removeEventListener(Ij,u),setTimeout(()=>{const x=new CustomEvent(Lj,LF);l.addEventListener(Lj,d),l.dispatchEvent(x),x.defaultPrevented||fl(m??document.body,{select:!0}),l.removeEventListener(Lj,d),FF.remove(y)},0)}}},[l,u,d,y]);const g=p.useCallback(m=>{if(!r&&!n||y.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const b=m.currentTarget,[w,_]=Rze(b);w&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&fl(w,{select:!0})):m.shiftKey&&x===w&&(m.preventDefault(),r&&fl(_,{select:!0})):x===b&&m.preventDefault()}},[r,n,y.paused]);return o.jsx(ot.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});UJ.displayName=Oze;function $ze(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(fl(n,{select:t}),document.activeElement!==r)return}function Rze(e){const t=zJ(e),r=DF(t,e),n=DF(t.reverse(),e);return[r,n]}function zJ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function DF(e,t){for(const r of e)if(!Mze(r,{upTo:t}))return r}function Mze(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ize(e){return e instanceof HTMLInputElement&&"select"in e}function fl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ize(e)&&t&&e.select()}}var FF=Lze();function Lze(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=BF(e,t),e.unshift(t)},remove(t){var r;e=BF(e,t),(r=e[0])==null||r.resume()}}}function BF(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Dze(e){return e.filter(t=>t.tagName!=="A")}var Fze="Portal",qJ=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=p.useState(!1);an(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?my.createPortal(o.jsx(ot.div,{...n,ref:t}),i):null});qJ.displayName=Fze;function Bze(e,t=[]){let r=[];function n(a,i){const l=p.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:y,...g}=f,m=(h==null?void 0:h[e][c])||l,v=p.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:y})}function d(f,h){const y=(h==null?void 0:h[e][c])||l,g=p.useContext(y);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Uze(s,...t)]}function Uze(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Dj="rovingFocusGroup.onEntryFocus",zze={bubbles:!1,cancelable:!0},f_="RovingFocusGroup",[p2,WJ,qze]=Yy(f_),[Wze,VJ]=Bze(f_,[qze]),[Vze,Hze]=Wze(f_),HJ=p.forwardRef((e,t)=>o.jsx(p2.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(p2.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Kze,{...e,ref:t})})}));HJ.displayName=f_;var Kze=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),y=xt(t,h),g=Th(a),[m=null,v]=li({prop:i,defaultProp:l,onChange:c}),[x,b]=p.useState(!1),w=Yt(u),_=WJ(r),S=p.useRef(!1),[k,E]=p.useState(0);return p.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(Dj,w),()=>j.removeEventListener(Dj,w)},[w]),o.jsx(Vze,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:m,onItemFocus:p.useCallback(j=>v(j),[v]),onItemShiftTab:p.useCallback(()=>b(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(j=>j+1),[]),onFocusableItemRemove:p.useCallback(()=>E(j=>j-1),[]),children:o.jsx(ot.div,{tabIndex:x||k===0?-1:0,"data-orientation":n,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:Be(e.onMouseDown,()=>{S.current=!0}),onFocus:Be(e.onFocus,j=>{const N=!S.current;if(j.target===j.currentTarget&&N&&!x){const C=new CustomEvent(Dj,zze);if(j.currentTarget.dispatchEvent(C),!C.defaultPrevented){const P=_().filter(O=>O.focusable),R=P.find(O=>O.active),B=P.find(O=>O.id===m),D=[R,B,...P].filter(Boolean).map(O=>O.ref.current);YJ(D,d)}}S.current=!1}),onBlur:Be(e.onBlur,()=>b(!1))})})}),KJ="RovingFocusGroupItem",GJ=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...i}=e,l=ri(),c=a||l,u=Hze(KJ,r),d=u.currentTabStopId===c,f=WJ(r),{onFocusableItemAdd:h,onFocusableItemRemove:y}=u;return p.useEffect(()=>{if(n)return h(),()=>y()},[n,h,y]),o.jsx(p2.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:o.jsx(ot.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:Be(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:Be(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Be(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=Jze(g,u.orientation,u.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=f().filter(b=>b.focusable).map(b=>b.ref.current);if(m==="last")x.reverse();else if(m==="prev"||m==="next"){m==="prev"&&x.reverse();const b=x.indexOf(g.currentTarget);x=u.loop?Xze(x,b+1):x.slice(b+1)}setTimeout(()=>YJ(x))}})})})});GJ.displayName=KJ;var Gze={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Yze(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Jze(e,t,r){const n=Yze(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Gze[n]}function YJ(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Xze(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Qze=HJ,Zze=GJ,JJ=Kw(),Fj=function(){},h_=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Fj,onWheelCapture:Fj,onTouchMoveCapture:Fj}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,y=e.noIsolation,g=e.inert,m=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,b=e.gapMode,w=Ny(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=Hw([r,t]),k=yr(yr({},w),s);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:JJ,removeScrollBar:u,shards:f,noIsolation:y,inert:g,setCallbacks:a,allowPinchZoom:!!m,lockRef:r,gapMode:b}),i?p.cloneElement(p.Children.only(l),yr(yr({},k),{ref:S})):p.createElement(x,yr({},k,{className:c,ref:S}),l))});h_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};h_.classNames={fullWidth:hu,zeroRight:fu};var m2=!1;if(typeof window<"u")try{var u0=Object.defineProperty({},"passive",{get:function(){return m2=!0,!0}});window.addEventListener("test",u0,u0),window.removeEventListener("test",u0,u0)}catch{m2=!1}var fd=m2?{passive:!1}:!1,eqe=function(e){return e.tagName==="TEXTAREA"},XJ=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!eqe(e)&&r[t]==="visible")},tqe=function(e){return XJ(e,"overflowY")},rqe=function(e){return XJ(e,"overflowX")},UF=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=QJ(e,n);if(s){var a=ZJ(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},nqe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},sqe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},QJ=function(e,t){return e==="v"?tqe(t):rqe(t)},ZJ=function(e,t){return e==="v"?nqe(t):sqe(t)},aqe=function(e,t){return e==="h"&&t==="rtl"?-1:1},iqe=function(e,t,r,n,s){var a=aqe(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var y=ZJ(e,l),g=y[0],m=y[1],v=y[2],x=m-v-a*g;(g||x)&&QJ(e,l)&&(f+=x,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},d0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},zF=function(e){return[e.deltaX,e.deltaY]},qF=function(e){return e&&"current"in e?e.current:e},oqe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},lqe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cqe=0,hd=[];function uqe(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(cqe++)[0],a=p.useState(Cy)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Vw([e.lockRef.current],(e.shards||[]).map(qF),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var x=d0(m),b=r.current,w="deltaX"in m?m.deltaX:b[0]-x[0],_="deltaY"in m?m.deltaY:b[1]-x[1],S,k=m.target,E=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&E==="h"&&k.type==="range")return!1;var j=UF(E,k);if(!j)return!0;if(j?S=E:(S=E==="v"?"h":"v",j=UF(E,k)),!j)return!1;if(!n.current&&"changedTouches"in m&&(w||_)&&(n.current=S),!S)return!0;var N=n.current||S;return iqe(N,v,m,N==="h"?w:_,!0)},[]),c=p.useCallback(function(m){var v=m;if(!(!hd.length||hd[hd.length-1]!==a)){var x="deltaY"in v?zF(v):d0(v),b=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&oqe(S.delta,x)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(qF).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=w.length>0?l(v,w[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=p.useCallback(function(m,v,x,b){var w={name:m,delta:v,target:x,should:b,shadowParent:dqe(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=p.useCallback(function(m){r.current=d0(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,zF(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,d0(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return hd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,fd),document.addEventListener("touchmove",c,fd),document.addEventListener("touchstart",d,fd),function(){hd=hd.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,fd),document.removeEventListener("touchmove",c,fd),document.removeEventListener("touchstart",d,fd)}},[]);var y=e.removeScrollBar,g=e.inert;return p.createElement(p.Fragment,null,g?p.createElement(a,{styles:lqe(s)}):null,y?p.createElement(Jw,{gapMode:e.gapMode}):null)}function dqe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fqe=Gw(JJ,uqe);var eX=p.forwardRef(function(e,t){return p.createElement(h_,yr({},e,{ref:t,sideCar:fqe}))});eX.classNames=h_.classNames;var g2=["Enter"," "],hqe=["ArrowDown","PageUp","Home"],tX=["ArrowUp","PageDown","End"],pqe=[...hqe,...tX],mqe={ltr:[...g2,"ArrowRight"],rtl:[...g2,"ArrowLeft"]},gqe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Xy="Menu",[sy,yqe,vqe]=Yy(Xy),[Gu,rX]=la(Xy,[vqe,bh,VJ]),p_=bh(),nX=VJ(),[xqe,Yu]=Gu(Xy),[bqe,Qy]=Gu(Xy),sX=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:i=!0}=e,l=p_(t),[c,u]=p.useState(null),d=p.useRef(!1),f=Yt(a),h=Th(s);return p.useEffect(()=>{const y=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(E7,{...l,children:o.jsx(xqe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(bqe,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};sX.displayName=Xy;var wqe="MenuAnchor",EO=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=p_(r);return o.jsx(FP,{...s,...n,ref:t})});EO.displayName=wqe;var NO="MenuPortal",[_qe,aX]=Gu(NO,{forceMount:void 0}),iX=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=Yu(NO,t);return o.jsx(_qe,{scope:t,forceMount:r,children:o.jsx(xs,{present:r||a.open,children:o.jsx(qJ,{asChild:!0,container:s,children:n})})})};iX.displayName=NO;var Pa="MenuContent",[Sqe,CO]=Gu(Pa),oX=p.forwardRef((e,t)=>{const r=aX(Pa,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Yu(Pa,e.__scopeMenu),i=Qy(Pa,e.__scopeMenu);return o.jsx(sy.Provider,{scope:e.__scopeMenu,children:o.jsx(xs,{present:n||a.open,children:o.jsx(sy.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(jqe,{...s,ref:t}):o.jsx(kqe,{...s,ref:t})})})})}),jqe=p.forwardRef((e,t)=>{const r=Yu(Pa,e.__scopeMenu),n=p.useRef(null),s=xt(t,n);return p.useEffect(()=>{const a=n.current;if(a)return Xw(a)},[]),o.jsx(PO,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Be(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),kqe=p.forwardRef((e,t)=>{const r=Yu(Pa,e.__scopeMenu);return o.jsx(PO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),PO=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:y,disableOutsideScroll:g,...m}=e,v=Yu(Pa,r),x=Qy(Pa,r),b=p_(r),w=nX(r),_=yqe(r),[S,k]=p.useState(null),E=p.useRef(null),j=xt(t,E,v.onContentChange),N=p.useRef(0),C=p.useRef(""),P=p.useRef(0),R=p.useRef(null),B=p.useRef("right"),z=p.useRef(0),D=g?eX:p.Fragment,O=g?{as:rc,allowPinchZoom:!0}:void 0,U=I=>{var q,Z;const te=C.current+I,$=_().filter(Y=>!Y.disabled),V=document.activeElement,W=(q=$.find(Y=>Y.ref.current===V))==null?void 0:q.textValue,ee=$.map(Y=>Y.textValue),ie=Lqe(ee,te,W),G=(Z=$.find(Y=>Y.textValue===ie))==null?void 0:Z.ref.current;(function Y(J){C.current=J,window.clearTimeout(N.current),J!==""&&(N.current=window.setTimeout(()=>Y(""),1e3))})(te),G&&setTimeout(()=>G.focus())};p.useEffect(()=>()=>window.clearTimeout(N.current),[]),gO();const A=p.useCallback(I=>{var $,V;return B.current===(($=R.current)==null?void 0:$.side)&&Fqe(I,(V=R.current)==null?void 0:V.area)},[]);return o.jsx(Sqe,{scope:r,searchRef:C,onItemEnter:p.useCallback(I=>{A(I)&&I.preventDefault()},[A]),onItemLeave:p.useCallback(I=>{var te;A(I)||((te=E.current)==null||te.focus(),k(null))},[A]),onTriggerLeave:p.useCallback(I=>{A(I)&&I.preventDefault()},[A]),pointerGraceTimerRef:P,onPointerGraceIntentChange:p.useCallback(I=>{R.current=I},[]),children:o.jsx(D,{...O,children:o.jsx(UJ,{asChild:!0,trapped:s,onMountAutoFocus:Be(a,I=>{var te;I.preventDefault(),(te=E.current)==null||te.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(FJ,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:y,children:o.jsx(Qze,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:Be(c,I=>{x.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(BP,{role:"menu","aria-orientation":"vertical","data-state":SX(v.open),"data-radix-menu-content":"",dir:x.dir,...b,...m,ref:j,style:{outline:"none",...m.style},onKeyDown:Be(m.onKeyDown,I=>{const $=I.target.closest("[data-radix-menu-content]")===I.currentTarget,V=I.ctrlKey||I.altKey||I.metaKey,W=I.key.length===1;$&&(I.key==="Tab"&&I.preventDefault(),!V&&W&&U(I.key));const ee=E.current;if(I.target!==ee||!pqe.includes(I.key))return;I.preventDefault();const G=_().filter(q=>!q.disabled).map(q=>q.ref.current);tX.includes(I.key)&&G.reverse(),Mqe(G)}),onBlur:Be(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(N.current),C.current="")}),onPointerMove:Be(e.onPointerMove,ay(I=>{const te=I.target,$=z.current!==I.clientX;if(I.currentTarget.contains(te)&&$){const V=I.clientX>z.current?"right":"left";B.current=V,z.current=I.clientX}}))})})})})})})});oX.displayName=Pa;var Eqe="MenuGroup",AO=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ot.div,{role:"group",...n,ref:t})});AO.displayName=Eqe;var Nqe="MenuLabel",lX=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ot.div,{...n,ref:t})});lX.displayName=Nqe;var Jb="MenuItem",WF="menu.itemSelect",m_=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=p.useRef(null),i=Qy(Jb,e.__scopeMenu),l=CO(Jb,e.__scopeMenu),c=xt(t,a),u=p.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(WF,{bubbles:!0,cancelable:!0});f.addEventListener(WF,y=>n==null?void 0:n(y),{once:!0}),xy(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(cX,{...s,ref:c,disabled:r,onClick:Be(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Be(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Be(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||g2.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});m_.displayName=Jb;var cX=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,i=CO(Jb,r),l=nX(r),c=p.useRef(null),u=xt(t,c),[d,f]=p.useState(!1),[h,y]=p.useState("");return p.useEffect(()=>{const g=c.current;g&&y((g.textContent??"").trim())},[a.children]),o.jsx(sy.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:o.jsx(Zze,{asChild:!0,...l,focusable:!n,children:o.jsx(ot.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Be(e.onPointerMove,ay(g=>{n?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Be(e.onPointerLeave,ay(g=>i.onItemLeave(g))),onFocus:Be(e.onFocus,()=>f(!0)),onBlur:Be(e.onBlur,()=>f(!1))})})})}),Cqe="MenuCheckboxItem",uX=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(mX,{scope:e.__scopeMenu,checked:r,children:o.jsx(m_,{role:"menuitemcheckbox","aria-checked":Xb(r)?"mixed":r,...s,ref:t,"data-state":OO(r),onSelect:Be(s.onSelect,()=>n==null?void 0:n(Xb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});uX.displayName=Cqe;var dX="MenuRadioGroup",[Pqe,Aqe]=Gu(dX,{value:void 0,onValueChange:()=>{}}),fX=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=Yt(n);return o.jsx(Pqe,{scope:e.__scopeMenu,value:r,onValueChange:a,children:o.jsx(AO,{...s,ref:t})})});fX.displayName=dX;var hX="MenuRadioItem",pX=p.forwardRef((e,t)=>{const{value:r,...n}=e,s=Aqe(hX,e.__scopeMenu),a=r===s.value;return o.jsx(mX,{scope:e.__scopeMenu,checked:a,children:o.jsx(m_,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":OO(a),onSelect:Be(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});pX.displayName=hX;var TO="MenuItemIndicator",[mX,Tqe]=Gu(TO,{checked:!1}),gX=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=Tqe(TO,r);return o.jsx(xs,{present:n||Xb(a.checked)||a.checked===!0,children:o.jsx(ot.span,{...s,ref:t,"data-state":OO(a.checked)})})});gX.displayName=TO;var Oqe="MenuSeparator",yX=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ot.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});yX.displayName=Oqe;var $qe="MenuArrow",vX=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=p_(r);return o.jsx(UP,{...s,...n,ref:t})});vX.displayName=$qe;var Rqe="MenuSub",[hGe,xX]=Gu(Rqe),nm="MenuSubTrigger",bX=p.forwardRef((e,t)=>{const r=Yu(nm,e.__scopeMenu),n=Qy(nm,e.__scopeMenu),s=xX(nm,e.__scopeMenu),a=CO(nm,e.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(EO,{asChild:!0,...u,children:o.jsx(cX,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":SX(r.open),...e,ref:jw(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Be(e.onPointerMove,ay(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Be(e.onPointerLeave,ay(f=>{var y,g;d();const h=(y=r.content)==null?void 0:y.getBoundingClientRect();if(h){const m=(g=r.content)==null?void 0:g.dataset.side,v=m==="right",x=v?-5:5,b=h[v?"left":"right"],w=h[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:b,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:b,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Be(e.onKeyDown,f=>{var y;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||mqe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),f.preventDefault())})})})});bX.displayName=nm;var wX="MenuSubContent",_X=p.forwardRef((e,t)=>{const r=aX(Pa,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Yu(Pa,e.__scopeMenu),i=Qy(Pa,e.__scopeMenu),l=xX(wX,e.__scopeMenu),c=p.useRef(null),u=xt(t,c);return o.jsx(sy.Provider,{scope:e.__scopeMenu,children:o.jsx(xs,{present:n||a.open,children:o.jsx(sy.Slot,{scope:e.__scopeMenu,children:o.jsx(PO,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Be(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Be(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Be(e.onKeyDown,d=>{var y;const f=d.currentTarget.contains(d.target),h=gqe[i.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(y=l.trigger)==null||y.focus(),d.preventDefault())})})})})})});_X.displayName=wX;function SX(e){return e?"open":"closed"}function Xb(e){return e==="indeterminate"}function OO(e){return Xb(e)?"indeterminate":e?"checked":"unchecked"}function Mqe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Iqe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Lqe(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=Iqe(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Dqe(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function Fqe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Dqe(r,t)}function ay(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Bqe=sX,Uqe=EO,zqe=iX,qqe=oX,Wqe=AO,Vqe=lX,Hqe=m_,Kqe=uX,Gqe=fX,Yqe=pX,Jqe=gX,Xqe=yX,Qqe=vX,Zqe=bX,eWe=_X,$O="DropdownMenu",[tWe,pGe]=la($O,[rX]),bs=rX(),[rWe,jX]=tWe($O),kX=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=bs(t),u=p.useRef(null),[d=!1,f]=li({prop:s,defaultProp:a,onChange:i});return o.jsx(rWe,{scope:t,triggerId:ri(),triggerRef:u,contentId:ri(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(Bqe,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};kX.displayName=$O;var EX="DropdownMenuTrigger",NX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=jX(EX,r),i=bs(r);return o.jsx(Uqe,{asChild:!0,...i,children:o.jsx(ot.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:jw(t,a.triggerRef),onPointerDown:Be(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Be(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});NX.displayName=EX;var nWe="DropdownMenuPortal",CX=e=>{const{__scopeDropdownMenu:t,...r}=e,n=bs(t);return o.jsx(zqe,{...n,...r})};CX.displayName=nWe;var PX="DropdownMenuContent",AX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=jX(PX,r),a=bs(r),i=p.useRef(!1);return o.jsx(qqe,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:Be(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Be(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AX.displayName=PX;var sWe="DropdownMenuGroup",aWe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=bs(r);return o.jsx(Wqe,{...s,...n,ref:t})});aWe.displayName=sWe;var iWe="DropdownMenuLabel",TX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=bs(r);return o.jsx(Vqe,{...s,...n,ref:t})});TX.displayName=iWe;var oWe="DropdownMenuItem",OX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=bs(r);return o.jsx(Hqe,{...s,...n,ref:t})});OX.displayName=oWe;var lWe="DropdownMenuCheckboxItem",$X=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=bs(r);return o.jsx(Kqe,{...s,...n,ref:t})});$X.displayName=lWe;var cWe="DropdownMenuRadioGroup",uWe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=bs(r);return o.jsx(Gqe,{...s,...n,ref:t})});uWe.displayName=cWe;var dWe="DropdownMenuRadioItem",RX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=bs(r);return o.jsx(Yqe,{...s,...n,ref:t})});RX.displayName=dWe;var fWe="DropdownMenuItemIndicator",MX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=bs(r);return o.jsx(Jqe,{...s,...n,ref:t})});MX.displayName=fWe;var hWe="DropdownMenuSeparator",IX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=bs(r);return o.jsx(Xqe,{...s,...n,ref:t})});IX.displayName=hWe;var pWe="DropdownMenuArrow",mWe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=bs(r);return o.jsx(Qqe,{...s,...n,ref:t})});mWe.displayName=pWe;var gWe="DropdownMenuSubTrigger",LX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=bs(r);return o.jsx(Zqe,{...s,...n,ref:t})});LX.displayName=gWe;var yWe="DropdownMenuSubContent",DX=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=bs(r);return o.jsx(eWe,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DX.displayName=yWe;var vWe=kX,xWe=NX,bWe=CX,FX=AX,BX=TX,UX=OX,zX=$X,qX=RX,WX=MX,VX=IX,HX=LX,KX=DX;const VF=vWe,HF=xWe,wWe=p.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(HX,{ref:s,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(xa,{className:"ml-auto h-4 w-4"})]}));wWe.displayName=HX.displayName;const _We=p.forwardRef(({className:e,...t},r)=>o.jsx(KX,{ref:r,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));_We.displayName=KX.displayName;const y2=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(bWe,{children:o.jsx(FX,{ref:n,sideOffset:t,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));y2.displayName=FX.displayName;const Dc=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(UX,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Dc.displayName=UX.displayName;const SWe=p.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(zX,{ref:s,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(WX,{children:o.jsx(Fw,{className:"h-4 w-4"})})}),t]}));SWe.displayName=zX.displayName;const jWe=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(qX,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(WX,{children:o.jsx(mde,{className:"h-2 w-2 fill-current"})})}),t]}));jWe.displayName=qX.displayName;const kWe=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(BX,{ref:n,className:le("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));kWe.displayName=BX.displayName;const EWe=p.forwardRef(({className:e,...t},r)=>o.jsx(VX,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));EWe.displayName=VX.displayName;const NWe={"financial services":"fintech",finance:"fintech",fs:"fintech",banking:"banking",payments:"payments","e commerce":"e-commerce",ecommerce:"e-commerce",retail:"retail",insurance:"insurance","enterprise software":"enterprise software",saas:"saas","software as a service":"saas",medtech:"medtech","medical technology":"medtech",pharma:"pharma",pharmaceutical:"pharma",healthcare:"healthcare","health care":"healthcare",marketplace:"marketplace","market place":"marketplace",technology:"technology",tech:"technology",software:"technology",cloud:"cloud","cloud computing":"cloud"},CWe={fintech:["banking","insurance","payments"],banking:["fintech","payments"],payments:["fintech","banking"],"e-commerce":["retail","marketplace"],retail:["e-commerce","marketplace"],marketplace:["e-commerce","retail"],healthcare:["medtech","pharma"],medtech:["healthcare","pharma"],pharma:["healthcare","medtech"],technology:["saas","cloud"],saas:["technology","enterprise software"],"enterprise software":["saas","technology"],cloud:["technology"]};function PWe(e){if(e==null||typeof e!="string")return[];const t=e.trim();if(!t)return[];const n=t.split(",").map(s=>s.trim().toLowerCase().replace(/\s+/g," ")).filter(Boolean).map(s=>NWe[s]??s).filter(Boolean);return[...new Set(n)]}function f0(e){return e&&e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function KF(e,t,r){return Math.min(r,Math.max(t,e))}function AWe(e,t){const r=e.filter(Boolean),n=t;if(r.length===0)return{percent:null,reasons:["Job industry not provided"],matchedExact:[],matchedRelated:[],missing:[],isNa:!0};const s=[],a=[],i=[],l=[];let c=0;for(const d of r){const f=d.trim().toLowerCase();let h,y;if(n[f]!=null&&n[f]>0)h=1,y=n[f],s.push({tag:f,years:y});else{const x=(CWe[f]??[]).find(b=>n[b]!=null&&n[b]>0);x?(h=.5,y=n[x],a.push({jobTag:f,matchedVia:x,years:y})):(h=0,y=0,i.push(f))}const g=KF(y/5,0,1)*.2,m=KF(h+g,0,1);c+=m}const u=Math.round(c/r.length*100);return s.length&&s.forEach(({tag:d,years:f})=>{l.push(`Exact match: ${f0(d)} (${f.toFixed(1)} yrs)`)}),a.length&&a.forEach(({jobTag:d,matchedVia:f,years:h})=>{l.push(`Related match: ${f0(d)} via ${f0(f)} (${h.toFixed(1)} yrs)`)}),i.length&&i.forEach(d=>{l.push(`No match: ${f0(d)}`)}),{percent:u,reasons:l,matchedExact:s,matchedRelated:a,missing:i,isNa:!1}}const GX={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]},Qb={};for(const e of Object.keys(GX)){const t=e.toLowerCase().trim();Qb[t]=e}for(const[e,t]of Object.entries(GX))for(const r of t){const n=r.toLowerCase().trim();n in Qb||(Qb[n]=e)}function Os(e){const t=e.toLowerCase().trim().replace(/\s+/g," ");return Qb[t]??t}const Zb={intern:0,junior:1,mid:2,senior:3,lead:4,unknown:null};function GF(e){if(!e||typeof e!="string")return null;const t=e.toLowerCase().trim();return t in Zb&&Zb[t]!==null?t:/\bintern\b/.test(t)?"intern":/\bjunior\b|\bentry\b/.test(t)?"junior":/\bmid\b|\bmiddle\b|\bintermediate\b/.test(t)?"mid":/\bsenior\b/.test(t)?"senior":/\blead\b|\bprincipal\b|\bstaff\b/.test(t)?"lead":null}function TWe(e){if(!e||typeof e!="string")return null;const t=e.trim(),r=t.match(/(\d+)\s*[-]\s*\d+/);if(r)return parseInt(r[1],10);const n=t.match(/(\d+)\s*\+/);if(n)return parseInt(n[1],10);const s=t.match(/\b(\d+)\s*(?:year|yr|y\.?)?s?\b/i);return s?parseInt(s[1],10):null}const OWe={engineering:["Technology","Software"],software:["Technology","Software"],"data science":["Technology","Data & Analytics"],"product management":["Product","Technology"],design:["Design","Creative"],marketing:["Marketing","Advertising"],sales:["Sales","Business Development"],finance:["Finance","FinTech"],healthcare:["Healthcare"],"customer support":["Customer Service"],operations:["Operations"]};function $We(e,t,r){const n=[],s=(t||"").trim();s&&s.split(/[,;|/]/).forEach(l=>{const c=l.trim();c&&n.push(c)});const a=(e||"").toLowerCase();for(const[l,c]of Object.entries(OWe))a.includes(l)&&c.forEach(u=>{n.includes(u)||n.push(u)});const i=(r||"").toLowerCase();return(i.includes("fintech")||i.includes("finance"))&&(n.includes("FinTech")||n.push("FinTech")),(i.includes("e-commerce")||i.includes("ecommerce"))&&(n.includes("E-commerce")||n.push("E-commerce")),[...new Set(n)]}function v2(e){const t=e,r=t.required_skills??t.skills??t.job_skills??[],n=Array.isArray(r)?r.filter(_=>typeof _=="string"):typeof r=="string"?r.split(/[,;]/).map(_=>_.trim()).filter(Boolean):[],s=Il(e),a=[...new Set([...n.map(Os),...s.map(Os)])],i=t.skills_preferred??t.skillsPreferred,l=Array.isArray(i)?i.filter(_=>typeof _=="string"):[],c=[...new Set(l.map(Os))],u=t.tech_stack??t.techStack,d=Array.isArray(u)?u.filter(_=>typeof _=="string"):[],f=d.length>0?[...new Set(d.map(Os))]:[...new Set(s.map(Os))],h=t.seniority??e.job_required_experience??e.required_experience;let y=GF(h);!y&&(e.title||e.job_title)&&(y=GF(e.title||e.job_title));const g=t.role_category??t.roleCategory??e.job_category??e.category??e.industry??e.job_industry??"",m=typeof t.min_years_experience=="number"?t.min_years_experience:typeof t.minYearsExperience=="number"?t.minYearsExperience:TWe(e.job_required_experience??e.required_experience),v=t.languages_required??t.languagesRequired,x=Array.isArray(v)?v.filter(_=>typeof _=="string"):typeof v=="string"?v.split(/[,;]/).map(_=>_.trim()).filter(Boolean):[],b=e.industry??e.job_industry,w=$We(g,b,e.title??e.job_title);return{skillsRequired:a,skillsPreferred:c,seniority:y??null,roleCategory:g,minYearsExperience:m,languagesRequired:x,techStack:f,industryTags:w}}const Bj={required:.7,preferred:.2,stack:.1},pd=6;function RWe(e,t){const r=new Set([...t.userSkills.map(Os),...(t.techStackExperience||[]).map(Os)]),n=[...new Set(e.skillsRequired.map(Os))],s=[...new Set(e.skillsPreferred.map(Os))],a=[...new Set(e.techStack.map(Os))];let i=null,l=null,c=null,u=0;const d=[],f=[];if(n.length>0){for(const w of n)r.has(w)?(u++,d.push(w)):f.push(w);i=u/n.length}let h=0;const y=[];if(s.length>0){for(const w of s)r.has(w)&&(h++,y.push(w));l=h/s.length}a.length>0&&(c=a.filter(_=>r.has(_)).length/a.length);const g=[];i!==null&&g.push({w:Bj.required,v:i}),l!==null&&g.push({w:Bj.preferred,v:l}),c!==null&&g.push({w:Bj.stack,v:c});let m=null;if(g.length>0){const w=g.reduce((S,k)=>S+k.w,0),_=g.reduce((S,k)=>S+k.w*k.v,0);m=Math.round(_/w*100)}const v=[];d.length&&v.push(`Matched required: ${d.slice(0,pd).join(", ")}`),f.length&&v.push(`Missing required: ${f.slice(0,pd).join(", ")}`),y.length&&v.push(`Matched preferred: ${y.slice(0,pd).join(", ")}`),v.length===0&&m!==null&&v.push("Skills compared with job requirements.");const x=f.map(w=>`Missing required skill: ${w}`),b={requiredMatched:u,requiredTotal:n.length,preferredMatched:h,preferredTotal:s.length,matchedRequired:d.slice(0,pd),missingRequired:f.slice(0,pd),matchedPreferred:y.slice(0,pd)};return{bucket:{percent:m,reasons:v,details:b},missingCritical:x}}function MWe(e,t){let r=null;const n=e.seniority!==null?Zb[e.seniority]:null,s=t.seniority!=="unknown"?Zb[t.seniority]:null;if(n!=null)if(s==null)r=.5;else{const u=s-n;u===0?r=1:u===1?r=.85:u>=2?r=.75:u===-1?r=.55:r=.25}let a=null;e.minYearsExperience!=null&&t.yearsExperienceTotal!=null&&(t.yearsExperienceTotal>=e.minYearsExperience?a=1:a=Math.min(1,Math.max(0,t.yearsExperienceTotal/e.minYearsExperience)));const i=[];r!==null&&i.push({w:.6,v:r}),a!==null&&i.push({w:.4,v:a});let l=null;if(i.length>0){const u=i.reduce((d,f)=>d+f.w,0);l=Math.round(i.reduce((d,f)=>d+f.w*f.v,0)/u*100)}const c=[];return e.seniority&&c.push(`Job expects: ${e.seniority}`),e.minYearsExperience!=null&&c.push(`Job min years: ${e.minYearsExperience}`),t.seniority!=="unknown"&&c.push(`You have: ${t.seniority}`),t.yearsExperienceTotal!=null&&c.push(`Your years: ${t.yearsExperienceTotal}`),c.length===0&&c.push("Experience level not specified for this job."),{percent:l,reasons:c,details:{seniorityComponent:r,yearsComponent:a,jobSeniority:e.seniority,jobMinYears:e.minYearsExperience,userSeniority:t.seniority,userYears:t.yearsExperienceTotal}}}function IWe(e,t){const r=e.industryTags.length>0?PWe(e.industryTags.join(",")):[];if(r.length===0)return{percent:null,reasons:["Industry not specified for this job."],details:{}};const n=t.yearsExperienceByIndustry||{},s={};for(const[i,l]of Object.entries(n))if(l!=null&&l>0){const c=i.trim().toLowerCase();s[c]=(s[c]??0)+l}const a=AWe(r,s);return{percent:a.percent,reasons:a.reasons,details:{matchedExact:a.matchedExact,matchedRelated:a.matchedRelated,missing:a.missing,isNa:a.isNa}}}const ew=["a1","a2","b1","b2","c1","c2","native"];function YF(e){const t=e.trim(),r=t.match(/^(.+?)\s+(a1|a2|b1|b2|c1|c2|native)$/i);return r?{lang:r[1].trim().toLowerCase(),level:r[2].toLowerCase()}:{lang:t.toLowerCase(),level:"native"}}function LWe(e,t){const r=ew.indexOf(e.toLowerCase()),n=ew.indexOf(t.toLowerCase());return n===-1?!0:r===-1?!1:r>=n}function DWe(e,t){const r=[];if(e.languagesRequired.length===0)return r;const n=new Map;for(const s of t.languages||[]){const{lang:a,level:i}=YF(s),l=n.get(a);(!l||ew.indexOf(i)>ew.indexOf(l))&&n.set(a,i)}for(const s of e.languagesRequired){const{lang:a,level:i}=YF(s),l=n.get(a);(!l||!LWe(l,i))&&r.push(`Missing language: ${s}`)}return r}function FWe(e,t,r){const n=[];if(e!==null&&n.push({w:.5,v:e/100}),t!==null&&n.push({w:.3,v:t/100}),r!==null&&n.push({w:.2,v:r/100}),n.length===0)return 0;const s=n.reduce((a,i)=>a+i.w,0);return n.reduce((a,i)=>a+i.w*i.v,0)/s*100}function BWe(e,t,r,n,s){var c;const a=[],i=r.percent??0;e.skillsRequired.length>0&&i>=80&&a.push("Meets required skills"),e.skillsPreferred.length>0&&r.details.preferredMatched>0&&a.push("Has preferred skills"),s.length===0&&e.languagesRequired.length>0&&a.push("Language fit"),t.seniority!=="unknown"&&e.seniority&&t.seniority===e.seniority&&a.push("Seniority match");const l=n.details;return e.industryTags.length>0&&((c=l.matchingTags)!=null&&c.length)&&a.push("Industry experience"),a}function YX(e,t){const{bucket:r,missingCritical:n}=RWe(e,t),s=MWe(e,t),a=IWe(e,t),i=DWe(e,t),l=[...n,...i];let c=FWe(r.percent??0,s.percent??0,a.percent??0);i.length>0&&(c=c*.75),c=Math.round(Math.min(100,Math.max(0,c)));const u=BWe(e,t,r,a,i);return{expLevel:s,skills:r,industry:a,overallPercent:c,badges:u,missingCritical:l}}function UWe(e={}){return{userSkills:e.userSkills??[],yearsExperienceTotal:e.yearsExperienceTotal??null,yearsExperienceByIndustry:e.yearsExperienceByIndustry??{},industryTags:e.industryTags??[],seniority:e.seniority??"unknown",languages:e.languages??[],roleInterests:e.roleInterests??[],techStackExperience:e.techStackExperience??[]}}function JF(e,t={}){const r=[...new Set(e.map(Os))];return UWe({userSkills:r,techStackExperience:r,...t})}function zWe(e,t){const r=v2(e);return YX(r,t)}const qWe=()=>{const{jobId:e}=kh(),t=hi(),r=e?decodeURIComponent(e):void 0,{user:n}=fr(),s=Us();lr();const a=ca(),[i,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(new Set),h=M.useRef(null),y=M.useRef(null),{data:g,isLoading:m,error:v}=Jt({queryKey:["jobDetail",r],queryFn:async()=>{var K,H;if(!r)throw new Error("Job ID is required");console.log(" Fetching job details for ID:",r);try{const oe=await ci.fetchJobDetail(r);return console.log(" Job details fetched successfully"),console.log(" Job Title:",oe.title||oe.job_title),console.log(" Company:",oe.company_name||oe.employer_name),console.log(" Location:",oe.location||oe.job_location),console.log(" Description length:",((K=oe.description)==null?void 0:K.length)||((H=oe.job_description)==null?void 0:H.length)||0),oe}catch(oe){throw console.error(" Error fetching job details:",oe),oe}},enabled:!!r,retry:1,retryDelay:1e3}),{data:x=[]}=Jt({queryKey:["savedJobs",n==null?void 0:n.id],queryFn:async()=>{var K;if(!n)return[];try{return(((K=(await Se.get(Je.AUTH.PROFILE)).data)==null?void 0:K.saved_jobs)||[]).map(xe=>String(xe))}catch(H){return console.error("Error fetching saved jobs from profile API:",H),[]}},enabled:!!n}),{data:b=[],isLoading:w}=Jt({queryKey:["profileSkills",n==null?void 0:n.id],queryFn:()=>ls.getMySkills(),enabled:!!n}),{data:_=[],isLoading:S}=Jt({queryKey:["userSkills",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];try{const K=await Se.get(`/api/skilltest/results/?user=${n.id}`);let H=null;if(Array.isArray(K.data)&&K.data.length>0?H=K.data[0]:K.data&&typeof K.data=="object"&&(H=K.data),H&&H.skills_json){const oe=H.skills_json||{},xe=Object.keys(oe.tech||{}),qe=Object.keys(oe.soft||{});return[...xe,...qe]}return[]}catch(K){return console.error("Error fetching user skills for matching:",K),[]}},enabled:!!n}),k=p.useMemo(()=>{const K=(b||[]).map(oe=>Os(oe.skill_name)),H=(_||[]).map(oe=>Os(oe));return[...new Set([...K,...H])]},[b,_]),E=w||S,j=(g==null?void 0:g.id)||(g==null?void 0:g.job_id)||r||"",N=x==null?void 0:x.includes(String(j));p.useEffect(()=>{if(!g){l(!1);return}let K=null,H=null;const oe=()=>{const at=['main[class*="overflow-y-auto"]','main[class*="overflow"]',"main"];for(const Ye of at){const he=document.querySelector(Ye);if(he)return he}return null},xe=()=>{if(K){const Ye=K.scrollTop>100;if(l(Ye),a){const Ue=Array.from(document.querySelectorAll(".fixed.bottom-0")).find(De=>{const Me=De;return Me.classList.contains("md:hidden")&&Me.classList.contains("z-50")&&Me.querySelector("nav.flex.justify-around")!==null});Ue&&(Ye?(Ue.style.transform="translateY(100%)",Ue.style.opacity="0"):(Ue.style.transform="translateY(0)",Ue.style.opacity="1"),Ue.style.transition="transform 0.3s ease-in-out, opacity 0.3s ease-in-out")}const he=K.closest("main");if(he){const Ne=window.getComputedStyle(he),Ue=parseInt(Ne.marginLeft)||0;u(Ue<=100)}}else{const Ye=(window.scrollY||document.documentElement.scrollTop)>100;l(Ye)}},qe=()=>{K=oe(),K?(K.addEventListener("scroll",xe,{passive:!0}),xe(),H=()=>{K==null||K.removeEventListener("scroll",xe)}):(window.addEventListener("scroll",xe,{passive:!0}),xe(),H=()=>{window.removeEventListener("scroll",xe)})};qe();const Ae=setTimeout(()=>{K||qe()},300);return()=>{if(clearTimeout(Ae),H&&H(),a){const Ye=Array.from(document.querySelectorAll(".fixed.bottom-0")).find(he=>{const Ne=he;return Ne.classList.contains("md:hidden")&&Ne.classList.contains("z-50")&&Ne.querySelector("nav.flex.justify-around")!==null});Ye&&(Ye.style.transform="",Ye.style.opacity="",Ye.style.transition="")}}},[g,a]);const C=sa({mutationFn:async()=>{if(!n)throw new Error("User not logged in");if(!g)throw new Error("Job details not available");try{const K=String(j),H=`${Je.JOBS.SAVE_JOB}${K}/`;await Se.post(H)}catch(K){const H=K instanceof Error?K.message:"Failed to save job. Please try again.";throw new Error(H)}},onSuccess:()=>{s.invalidateQueries({queryKey:["savedJobs",n==null?void 0:n.id]}),s.invalidateQueries({queryKey:["profile"]}),fe.success(N?"Job Unsaved":"Job Saved")},onError:K=>{console.error("Error saving job:",K);const H=K instanceof Error?K.message:"Failed to save job";fe.error(H)}}),P=()=>{if(!g)return"By agreement";if(g.salary&&typeof g.salary=="string")return g.salary;const K=g.min_salary,H=g.max_salary,oe=g.salary_currency||"$",xe=g.salary_period||"yearly";if(K&&H&&typeof K=="number"&&typeof H=="number"){const qe=xe==="monthly"?"Monthly":"",Ae=K.toLocaleString(),at=H.toLocaleString();return["$","","","","",""].some(Ne=>oe.includes(Ne))?`${oe}${Ae} - ${oe}${at}${qe?`/${qe}`:""}`:`${Ae} - ${at} ${oe}${qe?`/${qe}`:""}`}else if(K&&typeof K=="number"){const qe=K.toLocaleString();return["$","","","","",""].some(Ye=>oe.includes(Ye))?`${oe}${qe}+`:`${qe}+ ${oe}`}return"By agreement"},R=()=>{if(!g)return"";const K=g;if(g.apply_url&&typeof g.apply_url=="string")return g.apply_url;const H=g.apply_url||g.job_apply_link||g.url||(K.job_apply_link&&typeof K.job_apply_link=="string"?K.job_apply_link:null)||g.applyUrl||g.applyLink||g.application_url||g.application_link||g.link||"";if(!H&&g.company_info){const oe=g.company_info;if(oe.apply_url&&typeof oe.apply_url=="string")return oe.apply_url;if(oe.url&&typeof oe.url=="string")return oe.url}if(!H&&g.company&&typeof g.company=="object"){const oe=g.company;if(oe.apply_url&&typeof oe.apply_url=="string")return oe.apply_url;if(oe.url&&typeof oe.url=="string")return oe.url}if(!H&&g.employer&&typeof g.employer=="object"){const oe=g.employer;if(oe.apply_url&&typeof oe.apply_url=="string")return oe.apply_url;if(oe.url&&typeof oe.url=="string")return oe.url}return H},B=()=>{if(!g)return"";const K=g;if(g.company_name&&typeof g.company_name=="string"&&g.company_name.trim())return String(g.company_name).trim();if(typeof g.company=="string"&&g.company.trim())return String(g.company).trim();if(g.employer_name&&typeof g.employer_name=="string"&&g.employer_name.trim())return String(g.employer_name).trim();if(K.employer_name&&typeof K.employer_name=="string")return String(K.employer_name).trim();if(g.company_info){const H=g.company_info;if(H.name&&typeof H.name=="string"&&H.name.trim())return String(H.name).trim();if(H.company_name&&typeof H.company_name=="string"&&H.company_name.trim())return String(H.company_name).trim();if(H.employer_name&&typeof H.employer_name=="string"&&H.employer_name.trim())return String(H.employer_name).trim()}if(g.company_name&&typeof g.company_name=="string"&&g.company_name.trim())return String(g.company_name).trim();if(g.employer_name&&typeof g.employer_name=="string"&&g.employer_name.trim())return String(g.employer_name).trim();if(g.company&&typeof g.company=="object"){const H=g.company;if(H.name&&typeof H.name=="string"&&H.name.trim())return String(H.name).trim();if(H.company_name&&typeof H.company_name=="string"&&H.company_name.trim())return String(H.company_name).trim();if(H.employer_name&&typeof H.employer_name=="string"&&H.employer_name.trim())return String(H.employer_name).trim()}if(g.employer&&typeof g.employer=="object"){const H=g.employer;if(H.name&&typeof H.name=="string"&&H.name.trim())return String(H.name).trim();if(H.company_name&&typeof H.company_name=="string"&&H.company_name.trim())return String(H.company_name).trim();if(H.employer_name&&typeof H.employer_name=="string"&&H.employer_name.trim())return String(H.employer_name).trim()}return""},z=()=>{if(!g)return"Untitled Position";const K=g;return g.title||g.job_title||K.title||K.job_title||"Untitled Position"},D=()=>{if(!g)return"Location not specified";const K=g,H=De=>{if(!De&&De!==0)return"";if(typeof De=="string")return De;if(typeof De=="number")return String(De);if(Array.isArray(De))return De.map(Me=>String(Me)).join(", ");if(typeof De=="object"){const Me=De;return Me.city||Me.name||Me.label||Object.values(Me).filter(Boolean).slice(0,3).map(Ft=>String(Ft)).join(", ")||""}return String(De)},oe=g.location??g.job_location;if(oe){const De=H(oe);if(De)return De}const xe=[],qe=K.job_city??g.city??K.city,Ae=K.job_state??g.state??K.state,at=K.job_country??g.country??K.country,Ye=H(qe),he=H(Ae),Ne=H(at);return Ye&&xe.push(Ye),he&&xe.push(he),Ne&&xe.push(Ne),xe.length>0?xe.join(", "):[g.city,g.state,g.country].map(De=>H(De)).filter(Boolean).join(" ").trim()||"Location not specified"},[O,U]=p.useState(null),[A,I]=p.useState(!1),[te,$]=p.useState(void 0);p.useEffect(()=>{(async()=>{if(!g){U(null),$(void 0);return}const H=B();if(!H||!H.trim()){U(null),$(void 0);return}I(!0);try{const xe=`https://breneo-job-aggregator-k7ti.onrender.com/api/companies/${encodeURIComponent(H.trim())}`;console.log(" Fetching company details from:",xe);const qe=await fetch(xe,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(qe.ok){const Ae=await qe.json();console.log(" Company details fetched:",Ae);const at={name:Ae.name||Ae.company_name||H,company_name:Ae.company_name||Ae.name||H,logo:Ae.logo||Ae.company_logo||Ae.logo_url,company_logo:Ae.company_logo||Ae.logo||Ae.logo_url,logo_url:Ae.logo_url||Ae.logo||Ae.company_logo,website:Ae.website||Ae.company_url||Ae.website_url,company_url:Ae.company_url||Ae.website||Ae.website_url,description:Ae.description||Ae.company_description,company_description:Ae.company_description||Ae.description,size:Ae.size||Ae.company_size,company_size:Ae.company_size||Ae.size,industry:Ae.industry||Ae.company_industry,company_industry:Ae.company_industry||Ae.industry,founded:Ae.founded||Ae.company_founded,company_founded:Ae.company_founded||Ae.founded,headquarters:Ae.headquarters||Ae.company_headquarters,company_headquarters:Ae.company_headquarters||Ae.headquarters,...Ae};U(at);const Ye=at.logo||at.company_logo||at.logo_url;if(Ye&&typeof Ye=="string")try{new URL(Ye).protocol.startsWith("http")&&$(Ye)}catch{}}else console.log(" Company details not found or API error:",qe.status),U(null),$(void 0)}catch(oe){console.error(" Error fetching company details:",oe),U(null),$(void 0)}finally{I(!1)}})()},[g]);const V=()=>{if(te)return te;if(!g)return;const K=g;if(K.employer_logo&&typeof K.employer_logo=="string"){const H=String(K.employer_logo);try{if(new URL(H).protocol.startsWith("http"))return H}catch{}}if(g.company_logo&&typeof g.company_logo=="string"){const H=String(g.company_logo);try{if(new URL(H).protocol.startsWith("http"))return H}catch{}}if(g.employer_logo&&typeof g.employer_logo=="string"){const H=String(g.employer_logo);try{if(new URL(H).protocol.startsWith("http"))return H}catch{}}if(g.logo_url&&typeof g.logo_url=="string"){const H=String(g.logo_url);try{if(new URL(H).protocol.startsWith("http"))return H}catch{}}if(g.company_info){const H=g.company_info,oe=[H.logo,H.company_logo,H.employer_logo,H.logo_url];for(const xe of oe)if(xe&&typeof xe=="string"){const qe=String(xe);try{if(new URL(qe).protocol.startsWith("http"))return qe}catch{}}}if(g.company&&typeof g.company=="object"){const H=g.company,oe=[H.logo,H.company_logo,H.employer_logo,H.logo_url];for(const xe of oe)if(xe&&typeof xe=="string"){const qe=String(xe);try{if(new URL(qe).protocol.startsWith("http"))return qe}catch{}}}if(g.employer&&typeof g.employer=="object"){const H=g.employer,oe=[H.logo,H.company_logo,H.employer_logo,H.logo_url];for(const xe of oe)if(xe&&typeof xe=="string"){const qe=String(xe);try{if(new URL(qe).protocol.startsWith("http"))return qe}catch{}}}},W=()=>{var H,oe,xe;if(O!=null&&O.website||O!=null&&O.company_url||O!=null&&O.website_url)return O.website||O.company_url||O.website_url;if(!g)return;const K=((H=g.company_info)==null?void 0:H.website)||((oe=g.company_info)==null?void 0:oe.company_url)||((xe=g.company_info)==null?void 0:xe.website_url)||g.company_url;return typeof K=="string"?K:void 0},ee=()=>{var K,H;if(O!=null&&O.description||O!=null&&O.company_description)return O.description||O.company_description;if(g)return((K=g.company_info)==null?void 0:K.description)||((H=g.company_info)==null?void 0:H.company_description)||void 0},ie=()=>{var K,H;if(O!=null&&O.size||O!=null&&O.company_size)return O.size||O.company_size;if(g)return((K=g.company_info)==null?void 0:K.size)||((H=g.company_info)==null?void 0:H.company_size)||void 0},G=()=>{var K,H;if(O!=null&&O.founded||O!=null&&O.company_founded)return O.founded||O.company_founded;if(g)return((K=g.company_info)==null?void 0:K.founded)||((H=g.company_info)==null?void 0:H.company_founded)||void 0},q=()=>{var K,H;if(O!=null&&O.headquarters||O!=null&&O.company_headquarters)return O.headquarters||O.company_headquarters;if(g)return((K=g.company_info)==null?void 0:K.headquarters)||((H=g.company_info)==null?void 0:H.company_headquarters)||void 0},Z=()=>{if(!g)return"Full Time";const K=g;return g.employment_type||g.job_employment_type||K.job_employment_type||"Full Time"},Y=()=>{if(!g)return"On-site";const K=g;return g.is_remote||g.remote===!0||K.job_is_remote===!0||K.remote===!0?"Remote":z().toLowerCase().includes("hybrid")?"Hybrid":"On-site"},J=()=>{if(g)return g.required_experience||g.job_required_experience||g.experience||void 0},se=()=>{if(!g)return[];const K=g.required_skills||g.skills||g.job_skills||void 0;return typeof K=="string"?K.split(/[,\n]/).map(H=>H.trim()).filter(Boolean):Array.isArray(K)?K.filter(Boolean):[]},Q=p.useMemo(()=>{if(!g)return[];const K=v2(g);if(K.skillsRequired.length>0)return[...new Set(K.skillsRequired)];const H=g.required_skills??g.skills??g.job_skills,oe=Array.isArray(H)?H.filter(Boolean):typeof H=="string"?H.split(/[,\n]/).map(xe=>xe.trim()).filter(Boolean):[];return[...new Set(oe.map(xe=>Os(xe)).filter(Boolean))]},[g]),ue=g?String(g.id??g.job_id??""):"";p.useEffect(()=>{ue&&(y.current=null)},[ue]),p.useEffect(()=>{if(!g||Q.length===0||E)return;const K=String(g.id??g.job_id??"");if(y.current===K)return;y.current=K;const H=new Set(k);f(new Set(Q.filter(oe=>H.has(oe))))},[g,Q,k,E]);const ce=()=>{if(g)return g.education||g.education_required||g.required_education||void 0},ve=()=>{if(g)return g.application_deadline||g.deadline||g.expires_at||g.expiration_date||void 0},we=K=>{if(K)try{const H=new Date(K);return isNaN(H.getTime())?K:H.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return K}},Te=()=>{if(g)return g.job_category||g.category||g.industry||g.job_industry||void 0},pt=()=>window.location.href,st=()=>{if(!g)return"Check out this job!";const K=z(),H=B();return`Check out this ${K} position at ${H}!`},bt=async()=>{if(!navigator.share)return!1;try{return await navigator.share({title:z(),text:st(),url:pt()}),fe.success("Shared successfully!"),!0}catch(K){return K.name!=="AbortError"&&console.error("Error sharing:",K),!1}},F=async()=>{try{await navigator.clipboard.writeText(pt()),fe.success("Link copied to clipboard!")}catch(K){console.error("Error copying link:",K),fe.error("Failed to copy link")}},X=()=>{const H=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(pt())}`;window.open(H,"_blank","width=600,height=400")},ye=()=>{const K=encodeURIComponent(pt()),H=encodeURIComponent(z()),oe=encodeURIComponent(st()),xe=`https://www.linkedin.com/sharing/share-offsite/?url=${K}&title=${H}&summary=${oe}`;window.open(xe,"_blank","width=600,height=400")},Ce=async()=>{navigator.share&&await bt()},Ge=n&&g?zWe(g,JF(k)):null,Ve=p.useMemo(()=>{if(!n||!g)return null;const K=v2(g),oe={...JF(k),userSkills:Array.from(d),techStackExperience:Array.from(d)};return YX(K,oe)},[g,n,k,d])??Ge,We=Ve?Ve.overallPercent>=95?"excellentMatch":Ve.overallPercent>=85?"bestMatch":Ve.overallPercent>=70?"goodMatch":Ve.overallPercent>=50?"fairMatch":"badMatch":null,tt=We?t.jobMatch[We]:"";return o.jsxs(At,{children:[o.jsxs("div",{ref:h,className:"max-w-5xl mx-auto pt-0 sm:pt-4 pb-40 sm:pb-32 md:pb-24 sm:px-4 md:px-6",children:[v&&o.jsx(je,{className:"mb-6 border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-900",children:o.jsx(Ee,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3 text-red-700 dark:text-red-400",children:[o.jsx(Lf,{className:"h-5 w-5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"Error loading job details"}),o.jsx("p",{className:"text-sm",children:v.message})]})]})})}),m&&o.jsx("div",{className:"space-y-6",children:o.jsx(je,{children:o.jsxs(Ee,{className:"p-6",children:[o.jsx(rr,{className:"h-8 w-3/4 mb-4"}),o.jsx(rr,{className:"h-4 w-1/2 mb-6"}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx(rr,{className:"h-16 w-16 rounded-full"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(rr,{className:"h-5 w-1/3 mb-2"}),o.jsx(rr,{className:"h-4 w-1/4"})]})]}),o.jsx(rr,{className:"h-32 w-full"})]})})}),!m&&g&&o.jsx(je,{className:"bg-transparent border-0 shadow-none h-full",children:o.jsxs(Ee,{className:"p-1 sm:p-6 space-y-2",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-6 bg-white rounded-3xl p-6 shadow-none border-0",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[V()?o.jsx("img",{src:V(),alt:B()||"Company logo",className:"h-12 w-12 rounded-md object-cover flex-shrink-0"}):o.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-500 flex-shrink-0",children:o.jsx(uu,{className:"h-6 w-6"})}),o.jsxs("div",{className:"flex flex-col min-w-0",children:[B()&&o.jsx("p",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 truncate",children:B()}),o.jsx("h1",{className:"text-lg md:text-2xl font-semibold text-gray-900 dark:text-white truncate",children:z()})]})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[o.jsx(Ff,{className:"h-4 w-4"}),o.jsx("span",{children:D()})]})}),o.jsxs("div",{className:"flex flex-col md:flex-row md:flex-wrap gap-2 md:gap-4 mb-6 text-sm md:text-base font-medium text-gray-700 dark:text-gray-200 ",children:[o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[o.jsx(_de,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),o.jsx("span",{children:P()})]}),o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[o.jsx(lg,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),o.jsx("span",{children:Z()})]}),o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[o.jsx(rn,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),o.jsx("span",{children:Y()})]}),g.posted_at||g.fetched_at||g.date_posted||g.posted_date?o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap text-sm md:text-base font-medium text-gray-700 dark:text-gray-200",children:[o.jsx(xS,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0 text-gray-700 dark:text-gray-200"}),o.jsx("span",{children:we(String(g.posted_at||g.fetched_at||g.date_posted||g.posted_date||""))||String(g.posted_at||g.fetched_at||g.date_posted||g.posted_date||"")})]}):null]})]}),o.jsxs("div",{className:"flex flex-row items-start gap-2 md:pt-0",children:[R()?o.jsx(ne,{variant:"default",size:"sm",onClick:()=>window.open(R(),"_blank"),children:"Apply Now"}):o.jsx(ne,{disabled:!0,variant:"outline",size:"sm",className:"flex items-center gap-2",children:"Apply Link Not Available"}),o.jsxs("div",{className:"flex flex-row items-start gap-2 ml-auto",children:[n&&o.jsx(ne,{variant:"secondary",size:"icon",onClick:()=>C.mutate(),disabled:C.isPending,"aria-label":N?"Unsave job":"Save job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:o.jsx(qn,{className:`h-4 w-4 ${N?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),a&&navigator.share?o.jsx(ne,{variant:"secondary",size:"icon",onClick:Ce,"aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:o.jsx(Av,{className:"h-4 w-4"})}):o.jsxs(VF,{children:[o.jsx(HF,{asChild:!0,children:o.jsx(ne,{variant:"secondary",size:"icon","aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:o.jsx(Av,{className:"h-4 w-4"})})}),o.jsxs(y2,{align:"end",children:[o.jsxs(Dc,{onClick:F,children:[o.jsx(l4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Copy Link"})]}),o.jsxs(Dc,{onClick:X,children:[o.jsx(c4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on Facebook"})]}),o.jsxs(Dc,{onClick:ye,children:[o.jsx(f4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on LinkedIn"})]})]})]})]})]})]})}),n&&g&&Ve&&o.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-none border-0 mt-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap items-stretch gap-4",children:[o.jsxs("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 p-4 flex flex-row items-center justify-center gap-3 w-full sm:min-w-[280px] flex-1 min-h-[120px] sm:min-h-0",children:[o.jsx(wa,{value:Ve.overallPercent,size:52,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",className:"flex-shrink-0"}),o.jsxs("div",{className:"flex flex-col items-start text-left min-w-0",children:[o.jsx("span",{className:"text-sm font-bold text-black dark:text-white capitalize",children:tt||t.jobMatch.overall}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 leading-snug",children:t.jobMatch.scoreDescription})]})]}),o.jsxs("div",{className:"rounded-xl p-2 flex flex-wrap items-end justify-center sm:justify-end gap-0.5 sm:gap-x-4 flex-1 min-w-0  sm:min-h-0 w-full",children:[o.jsxs("div",{className:"flex flex-col items-center flex-shrink-0  w-[90px] min-w-[80px]",children:[o.jsx(wa,{value:Ve.expLevel.percent??0,size:52,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",centerLabel:Ve.expLevel.percent!=null?void 0:"N/A",className:"flex-shrink-0"}),o.jsx("span",{className:"text-[10px] font-bold text-black dark:text-white uppercase tracking-widest mt-2",children:t.jobMatch.expLevel})]}),o.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 w-[90px] min-w-[80px]",children:[o.jsx(wa,{value:Ve.skills.percent??0,size:52,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",centerLabel:Ve.skills.percent!=null?void 0:"N/A",className:"flex-shrink-0"}),o.jsx("span",{className:"text-[10px] font-bold text-black dark:text-white uppercase tracking-widest mt-2",children:t.jobMatch.skill})]}),o.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 w-[90px] min-w-[80px]",children:[o.jsx(wa,{value:Ve.industry.percent??0,size:52,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",centerLabel:Ve.industry.percent!=null?void 0:"N/A",className:"flex-shrink-0"}),o.jsx("span",{className:"text-[10px] font-bold text-black dark:text-white uppercase tracking-widest mt-2",children:t.jobMatch.industryExp})]})]})]})}),(g.responsibilities||g.qualifications||g.team_description||g.benefits)&&o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-none border-0 mt-6 space-y-[4.5rem]",children:[g.responsibilities&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(nz,{className:"h-5 w-5"}),"Responsibilities"]}),o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:g.responsibilities})})]}),(g.qualifications||Q.length>0)&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(cu,{className:"h-5 w-5"}),"Qualifications"]}),Q.length>0&&o.jsxs("div",{className:"mb-7",children:[o.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:"Skills required  tap to mark as known"}),o.jsx("div",{className:"flex flex-wrap gap-3",children:Q.map(K=>{const H=d.has(K);return o.jsxs(Rt,{variant:"outline",className:le("cursor-pointer transition-colors capitalize px-4 py-2 text-sm min-h-[2.25rem] rounded-lg select-none",H?"bg-sky-100 text-sky-800 border-sky-200 hover:bg-sky-200 dark:bg-sky-900/40 dark:text-sky-200 dark:border-sky-700 dark:hover:bg-sky-800/50":"bg-gray-100 text-gray-600 border-gray-200 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700 dark:hover:bg-gray-700"),onClick:()=>{n&&f(oe=>{const xe=new Set(oe);return xe.has(K)?xe.delete(K):xe.add(K),xe})},children:[K,H&&o.jsx(No,{className:"ml-2 h-4 w-4 inline-block"})]},K)})})]}),g.qualifications&&o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:g.qualifications})})]}),g.team_description&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(Dx,{className:"h-5 w-5"}),"About the Team"]}),o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:g.team_description})})]}),g.benefits&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(jde,{className:"h-5 w-5"}),"Benefits"]}),o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:g.benefits})})]})]}),(J()||ce()||se().length>0||Te()||ve())&&o.jsxs("div",{className:"rounded-3xl p-6 shadow-none border-0 mt-6",children:[o.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold mb-4",children:[o.jsx(No,{className:"h-5 w-5"}),"Job Details"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[J()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(rn,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Required Experience"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:J()})]})]}),ce()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ch,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Education Required"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:ce()})]})]}),Te()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(vde,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Category/Industry"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:Te()})]})]}),ve()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(xS,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Application Deadline"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:we(ve())||ve()})]})]})]}),se().length>0&&o.jsxs("div",{className:"mt-6 pt-6",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Required Skills"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:se().map((K,H)=>o.jsxs(Rt,{variant:"secondary",className:"flex items-center gap-1",children:[o.jsx(cu,{className:"h-3 w-3"}),K]},H))})]})]}),o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-none border-0 mt-6",children:[o.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(uu,{className:"h-5 w-5"}),"Company Details"]})}),A?o.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[o.jsx(aa,{className:"h-5 w-5 animate-spin text-breneo-accent"}),o.jsx("p",{className:"text-sm",children:"Loading company information..."})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex-shrink-0",children:[V()?o.jsx("img",{src:V(),alt:B()||"Company logo",className:"h-14 w-14 md:h-14 md:w-14 rounded-2xl object-cover bg-white shadow-sm",onError:K=>{K.target.style.display="none",K.target.nextElementSibling.style.display="flex"}}):null,o.jsx("div",{className:`h-16 w-16 md:h-20 md:w-20 rounded-2xl bg-gradient-to-br from-breneo-accent to-breneo-blue flex items-center justify-center text-white shadow-sm ${V()?"hidden":"flex"}`,children:o.jsx(uu,{className:"h-8 w-8"})})]}),o.jsx("h3",{className:"text-xl md:text-xl font-bold text-gray-900 dark:text-white break-words",children:B()||"Company Name"})]}),ee()&&o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:ee()})}),o.jsxs("div",{className:"space-y-4 pt-2",children:[G()&&o.jsxs("div",{className:"flex items-center gap-3 text-gray-700 dark:text-gray-200",children:[o.jsx(xS,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-base font-medium",children:["Founded in ",G()]})]}),q()&&o.jsxs("div",{className:"flex items-center gap-3 text-gray-700 dark:text-gray-200",children:[o.jsx(Ff,{className:"h-5 w-5"}),o.jsx("span",{className:"text-base font-medium",children:q()})]}),ie()&&o.jsxs("div",{className:"flex items-center gap-3 text-gray-700 dark:text-gray-200",children:[o.jsx(Dx,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-base font-medium",children:[ie()," employees"]})]}),W()&&o.jsx("div",{className:"flex gap-2",children:o.jsxs("a",{href:W(),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 h-10 rounded-full bg-primary text-white dark:text-black hover:opacity-80 transition-opacity font-medium text-sm",title:"Visit Website",children:[o.jsx(ic,{className:"h-4 w-4"}),"Visit Website"]})})]})]})]})]})}),!m&&!g&&!v&&o.jsx(je,{children:o.jsx(Ee,{className:"p-6",children:o.jsxs("div",{className:"text-center text-gray-500",children:[o.jsx(Lf,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),o.jsx("p",{className:"font-semibold mb-2",children:"No job details found"}),o.jsxs("p",{className:"text-sm",children:["Job ID: ",r||"Not provided"]}),o.jsx("p",{className:"text-sm mt-2",children:"The API may not have returned data for this job."}),o.jsx(ne,{onClick:()=>{s.invalidateQueries({queryKey:["jobDetail",r]})},variant:"outline",className:"mt-4",children:"Retry"})]})})})]}),g&&o.jsx("div",{className:le("fixed bottom-0 right-0 z-[60]","bg-[#F8F9FA] dark:bg-[#181818]","border-t border-black/[0.03] dark:border-white/[0.03]","shadow-lg transition-all duration-300 ease-in-out",c?"md:left-24":"md:left-[17rem]","left-0",i?"opacity-100 translate-y-0":"opacity-0 translate-y-full pointer-events-none"),children:o.jsx("div",{className:"px-5 sm:px-9 md:px-12 lg:px-14 py-4",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:z()}),B()&&o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:B()})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[n&&o.jsx(ne,{variant:"secondary",size:"icon",onClick:()=>C.mutate(),disabled:C.isPending,"aria-label":N?"Unsave job":"Save job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:o.jsx(qn,{className:`h-4 w-4 ${N?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),a&&navigator.share?o.jsx(ne,{variant:"secondary",size:"icon",onClick:Ce,"aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:o.jsx(Av,{className:"h-4 w-4"})}):o.jsxs(VF,{children:[o.jsx(HF,{asChild:!0,children:o.jsx(ne,{variant:"secondary",size:"icon","aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:o.jsx(Av,{className:"h-4 w-4"})})}),o.jsxs(y2,{align:"end",children:[o.jsxs(Dc,{onClick:F,children:[o.jsx(l4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Copy Link"})]}),o.jsxs(Dc,{onClick:X,children:[o.jsx(c4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on Facebook"})]}),o.jsxs(Dc,{onClick:ye,children:[o.jsx(f4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on LinkedIn"})]})]})]}),R()?o.jsx(ne,{variant:"default",size:"sm",onClick:()=>window.open(R(),"_blank"),className:"whitespace-nowrap",children:"Apply Now"}):o.jsx(ne,{disabled:!0,variant:"outline",size:"sm",className:"whitespace-nowrap",children:"Apply Unavailable"})]})]})})})]})},XF=["javascript","typescript","python","java","c++","c#","go","rust","php","ruby","swift","kotlin","scala","r","dart","perl","react","angular","vue","node.js","nodejs","express","django","flask","spring","laravel","rails","next.js","nuxt","svelte","html","css","sass","scss","tailwind","bootstrap","webpack","vite","sql","mysql","postgresql","mongodb","redis","cassandra","elasticsearch","database","dba","aws","azure","gcp","google cloud","docker","kubernetes","k8s","terraform","ansible","jenkins","ci/cd","devops","sre","cloud","software engineer","software developer","programmer","developer","programming","coding","coder","full stack","fullstack","frontend","front-end","backend","back-end","web developer","mobile developer","ios developer","android developer","react native","flutter","data scientist","data engineer","data analyst","machine learning","ml engineer","ai engineer","artificial intelligence","deep learning","neural network","computer vision","nlp","natural language processing","cybersecurity","security engineer","penetration testing","ethical hacker","information security","qa engineer","test engineer","automation engineer","sdet","quality assurance","testing","test automation","system administrator","sysadmin","network engineer","infrastructure engineer","site reliability","product manager","technical product manager","ux designer","ui designer","product designer","interaction designer","api","rest api","graphql","microservices","agile","scrum","git","github","gitlab","bitbucket","jira","confluence","code review","version control","tech","technology","software","saas","platform","startup","fintech","edtech","healthtech"],WWe=["sales","marketing","accountant","accounting","finance","banking","insurance","real estate","retail","cashier","waiter","waitress","chef","cook","nurse","doctor","physician","teacher","instructor","tutor","lawyer","attorney","legal","driver","delivery","warehouse","factory","manufacturing","construction","plumber","electrician","mechanic","barber","hairdresser","beauty","fitness","trainer","coach","therapist","counselor","social worker","customer service","call center","receptionist","administrative","secretary","reception","cleaning","janitor","maintenance","security guard","guard","officer"],VWe=e=>{const t=[e.job_title||e.title||"",e.description||"",e.job_description||"",e.job_required_experience||e.required_experience||"",e.employer_name||e.company_name||"",typeof e.company=="string"?e.company:""].join(" ").toLowerCase();return WWe.some(s=>t.includes(s.toLowerCase()))?!!XF.some(a=>{const i=a.toLowerCase(),l=(e.job_title||e.title||"").length,c=typeof e.description=="string"?e.description.length:0,u=typeof e.job_description=="string"?e.job_description.length:0;return t.includes(i)&&t.indexOf(i)<l+c+u}):XF.some(s=>t.includes(s.toLowerCase()))},HWe=e=>e.filter(VWe),QF=["ashby","bamboohr","breezy","breezyhr","careerplug","comeet","cornerstoneondemand","csod","dayforce","eightfold","freshteam","gohire","greenhouse","hirehive","hiringthing","icims","jazzhr","jobvite","join.com","lever","lever.co","oraclecloud","oracle","paycom","paylocity","personio","phenompeople","phenom","pinpoint","polymer","recooty","recruitee","rippling","smartrecruiters","successfactors","taleo","teamtailor","trakstar","workable","workday","ziprecruiter","zohorecruit","zoho"],KWe=e=>{const t=[];return[e.job_apply_link,e.apply_link,e.url,e.apply_url,e.applyUrl,e.applyLink,e.application_url,e.application_link,e.link,e.company_url,e.website_url,e.jobUrl].forEach(n=>{n&&typeof n=="string"&&n.trim()&&t.push(n.trim().toLowerCase())}),t},GWe=e=>{if(!e||typeof e!="string")return!1;try{let t="";if(e.startsWith("http://")||e.startsWith("https://"))t=new URL(e).hostname.toLowerCase();else{const a=e.match(/(?:https?:\/\/)?(?:www\.)?([^/\s]+)/);a?t=a[1].toLowerCase():t=e.toLowerCase()}return t=t.replace(/^www\./,""),QF.some(a=>t.includes(a.toLowerCase()))?!0:[/\/careers?/i,/\/jobs?/i,/careers?\./i,/jobs?\./i,/\/apply/i,/\/openings/i,/\/positions/i].some(a=>e.match(a))}catch{const r=e.toLowerCase();return QF.some(n=>r.includes(n.toLowerCase()))}},YWe=e=>{const t=KWe(e);return t.length===0?!1:t.some(r=>GWe(r))},g_=e=>e.filter(YWe),ZF={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern",INTERNSHIP:"Internship"},JWe=async(e,t=1)=>{var r;try{console.log(` fetchCompanyJobs called - fetching jobs for company: ${e}, page ${t}`);const n=await ci.fetchActiveJobs({query:e,filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:t,pageSize:50});if(console.log(" fetchCompanyJobs response:",{totalJobs:((r=n.jobs)==null?void 0:r.length)||0,hasMore:n.hasMore,searchCompany:e}),!n||!Array.isArray(n.jobs))return console.warn("Invalid response format from job service:",n),{jobs:[],hasMore:!1,total:0};const s=n.jobs.filter(i=>{const l=i.company&&typeof i.company=="object"?i.company:null,c=(l==null?void 0:l.name)||(l==null?void 0:l.company_name)||i.companyName||i.employer_name||i.company_name||(typeof i.company=="string"?i.company:null)||"";if(!c||c.trim()==="")return!1;const u=c.trim().toLowerCase(),d=e.trim().toLowerCase();return u===d||u.includes(d)||d.includes(u)||u.replace(/\s+/g,"")===d.replace(/\s+/g,"")});console.log(" Filtered company jobs:",{beforeFilter:n.jobs.length,afterCompanyFilter:s.length,searchCompany:e,sampleCompanies:s.slice(0,3).map(i=>{const l=i.company&&typeof i.company=="object"?i.company:null;return(l==null?void 0:l.name)||i.employer_name||i.company_name||(typeof i.company=="string"?i.company:null)||"Unknown"})});const a=s.filter(i=>{const l=i.job_id||i.id;return l&&l.trim()!==""});if(console.log(` Final valid jobs for ${e}:`,a.length),a.length===0&&t===1){console.log(" No jobs found with company name search, trying broader search...");try{const i=await ci.fetchActiveJobs({query:"",filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:1,pageSize:100});if(i&&Array.isArray(i.jobs)){const c=i.jobs.filter(u=>{const d=u.company&&typeof u.company=="object"?u.company:null,f=(d==null?void 0:d.name)||(d==null?void 0:d.company_name)||u.companyName||u.employer_name||u.company_name||(typeof u.company=="string"?u.company:null)||"";if(!f||f.trim()==="")return!1;const h=f.trim().toLowerCase(),y=e.trim().toLowerCase();return h===y||h.includes(y)||y.includes(h)||h.replace(/\s+/g,"")===y.replace(/\s+/g,"")}).filter(u=>{const d=u.job_id||u.id;return d&&d.trim()!==""});return console.log(` Broader search found ${c.length} jobs for ${e}`),{jobs:c,hasMore:!1,total:c.length}}}catch(i){console.error("Error in broader search:",i)}}return{jobs:a,hasMore:n.hasMore??!1,total:a.length}}catch(n){return console.error("Error fetching company jobs:",n),{jobs:[],hasMore:!1,total:0}}},XWe=()=>{var k,E;const{companyName:e}=kh(),{user:t}=fr(),r=Us(),n=lr(),[s,a]=p.useState(1),[i,l]=p.useState([]),[c,u]=p.useState(!1),[d,f]=p.useState(!1),h=e?decodeURIComponent(e):"",{data:y=[]}=Jt({queryKey:["savedJobs",t==null?void 0:t.id],queryFn:async()=>{var j;if(!t)return[];try{return(((j=(await Se.get(Je.AUTH.PROFILE)).data)==null?void 0:j.saved_jobs)||[]).map(P=>String(P))}catch(N){return console.error("Error fetching saved jobs:",N),[]}},enabled:!!t}),{data:g={jobs:[],hasMore:!1,total:0},isLoading:m,error:v}=Jt({queryKey:["companyJobs",h,s],queryFn:()=>JWe(h,s),enabled:!!h,refetchOnWindowFocus:!1,staleTime:5*60*1e3});p.useEffect(()=>{if(g.jobs&&g.jobs.length>0){const j=g_(g.jobs),N=HWe(j);l(s===1?N:C=>{const P=new Set(C.map(B=>B.job_id||B.id)),R=N.filter(B=>!P.has(B.job_id||B.id));return[...C,...R]}),u(g.hasMore),f(!1)}else s===1&&(l([]),u(!1))},[g,s]);const x=sa({mutationFn:async j=>{if(!t)throw new Error("User not logged in");if(!j.id)throw new Error("Job ID is required");const N=String(j.id),C=`${Je.JOBS.SAVE_JOB}${N}/`;await Se.post(C)},onSuccess:(j,N)=>{r.invalidateQueries({queryKey:["savedJobs",t==null?void 0:t.id]}),r.invalidateQueries({queryKey:["profile"]}),fe.success(N.is_saved?"Job Unsaved":"Job Saved")},onError:j=>{console.error("Error saving job:",j),fe.error("Failed to save job")}}),b=p.useMemo(()=>!i||i.length===0?[]:i.map(j=>{const N=j.company&&typeof j.company=="object"?j.company:null,C=j.job_id||j.id||"";if(!C||C.trim()==="")return null;const P=j.job_title||j.title||j.position||"Untitled Position",R=(N==null?void 0:N.name)||(N==null?void 0:N.company_name)||j.companyName||j.employer_name||j.company_name||(typeof j.company=="string"?j.company:null)||"Unknown Company",B=j.job_city||j.city||(N==null?void 0:N.city)||"",z=j.job_state||j.state||(N==null?void 0:N.state)||"",D=j.job_country||j.country||(N==null?void 0:N.country)||"",O=j.jobLocation||j.location||(N==null?void 0:N.location)||[B,z,D].filter(Boolean).join(", ")||"Location not specified",U=j.applyUrl||j.jobUrl||j.job_apply_link||j.apply_link||j.url||j.apply_url||j.company_url||(N==null?void 0:N.url)||"";let A;if(j.companyLogo&&(A=j.companyLogo),!A&&j.employer_logo&&(A=j.employer_logo),!A&&j.company_logo&&(A=j.company_logo),!A&&j.logo&&(A=j.logo),!A&&j.logo_url&&(A=j.logo_url),!A&&N&&(N.logo&&(A=N.logo),!A&&N.logo_url&&(A=N.logo_url),!A&&N.company_logo&&(A=N.company_logo)),A)try{new URL(A).protocol.startsWith("http")||(A=void 0)}catch{A=void 0}let I="By agreement";const te=j.job_min_salary||j.min_salary,$=j.job_max_salary||j.max_salary,V=j.job_salary_currency||j.salary_currency||"$",W=j.job_salary_period||j.salary_period||"yearly";if(te&&$&&typeof te=="number"&&typeof $=="number"){const Y=W==="monthly"?"Monthly":"",J=te.toLocaleString(),se=$.toLocaleString();["$","","","","",""].some(ce=>V.includes(ce))?I=`${V}${J} - ${V}${se}${Y?`/${Y}`:""}`:I=`${J} - ${se} ${V}${Y?`/${Y}`:""}`}else if(te&&typeof te=="number"){const Y=te.toLocaleString();I=["$","","","","",""].some(Q=>V.includes(Q))?`${V}${Y}+`:`${Y}+ ${V}`}else j.salary&&typeof j.salary=="string"&&(I=j.salary);const ee=j.job_employment_type||j.employment_type||j.type||"FULLTIME",ie=ee.toUpperCase(),G=ZF[ie]||ZF[ee]||ee||"Full time";let q="On-site";return j.job_is_remote||j.is_remote||j.remote===!0?q="Remote":P!=null&&P.toLowerCase().includes("hybrid")&&(q="Hybrid"),{id:C,title:P,company:R,location:O,url:U,company_logo:A,is_saved:y==null?void 0:y.includes(String(C)),salary:I,employment_type:G,work_arrangement:q}}).filter(j=>j!==null),[i,y]),w=()=>{f(!0),a(j=>j+1)},_=(k=b[0])==null?void 0:k.company_logo,S=((E=b[0])==null?void 0:E.company)||h;return o.jsx(At,{children:o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(ne,{variant:"ghost",onClick:()=>n("/jobs"),className:"mb-4",children:[o.jsx(ym,{className:"h-4 w-4 mr-2"}),"Back to Jobs"]}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[_?o.jsx("img",{src:_,alt:`${S} logo`,className:"w-16 h-16 rounded-full object-cover",onError:j=>{const N=j.target;N.style.display="none"}}):o.jsx("div",{className:"w-16 h-16 rounded-full bg-breneo-accent flex items-center justify-center",children:o.jsx(uu,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:S}),o.jsxs("p",{className:"text-gray-500",children:[b.length," Job",b.length!==1?"s":""," Available"]})]})]})]}),v&&o.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-md flex items-center gap-3 mb-6",children:[o.jsx(Lf,{className:"h-5 w-5"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Error:"})," ",v==null?void 0:v.message]})]}),m&&s===1&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((j,N)=>o.jsx(je,{children:o.jsx(Ee,{className:"p-5",children:o.jsx(rr,{className:"h-32 w-full"})})},N))}),!m&&b.length===0&&o.jsxs("div",{className:"text-center p-10 rounded-3xl text-muted-foreground bg-muted/30",children:[o.jsx(uu,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No Jobs Found"}),o.jsxs("p",{className:"text-sm",children:["No job openings found for ",S," at this time."]})]}),b.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-8",children:b.map(j=>o.jsx(je,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl hover:shadow-soft cursor-pointer",children:o.jsxs(Ee,{className:"p-5 flex flex-col flex-grow relative",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[j.company_logo?o.jsx("img",{src:j.company_logo,alt:`${j.company_name||j.company} logo`,className:"w-12 h-12 rounded-full object-cover absolute inset-0 z-10",loading:"lazy",onError:N=>{var R;const C=N.target;C.onerror=null,C.style.display="none";const P=(R=C.parentElement)==null?void 0:R.querySelector(".logo-fallback");P&&(P.style.display="flex",P.style.zIndex="10")}}):null,j.company&&!j.company_logo?o.jsx("img",{src:`https://logo.clearbit.com/${encodeURIComponent(j.company)}`,alt:`${j.company_name||j.company} logo`,className:"w-12 h-12 rounded-full object-cover absolute inset-0 clearbit-logo",style:{zIndex:10},loading:"lazy",onError:N=>{var R;const C=N.target;C.onerror=null,C.style.display="none";const P=(R=C.parentElement)==null?void 0:R.querySelector(".logo-fallback");P&&(P.style.display="flex",P.style.zIndex="10")}}):null,o.jsx("div",{className:`w-12 h-12 rounded-full bg-breneo-accent flex items-center justify-center logo-fallback absolute inset-0 ${j.company_logo||j.company&&!j.company_logo?"hidden":"flex"}`,style:{zIndex:j.company_logo||j.company&&!j.company_logo?0:10},children:o.jsx(rn,{className:"h-6 w-6 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base truncate",children:j.company_name||j.company}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:j.location})]})]}),o.jsx("h4",{className:"font-bold text-lg mb-4 line-clamp-2",children:j.title}),o.jsxs("div",{className:"space-y-2 mb-4 md:mb-4 flex-grow pb-20 md:pb-0",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Bw,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:j.salary})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(lg,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:j.employment_type})]}),j.work_arrangement&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(rn,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:j.work_arrangement})]})]}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 bg-card flex items-center gap-2 transform translate-y-0 md:translate-y-full md:group-hover:translate-y-0 transition-transform duration-200 ease-in-out shadow-lg",children:[o.jsx(ne,{variant:"default",onClick:()=>{if(!j.id||j.id.trim()===""){fe.error("Cannot open job: Invalid job ID");return}const N=encodeURIComponent(j.id);n(`/jobs/${N}`)},className:"flex-1",disabled:!j.id||j.id.trim()==="",children:"View"}),o.jsx(ne,{variant:"default",size:"icon",onClick:()=>x.mutate(j),"aria-label":j.is_saved?"Unsave job":"Save job",className:j.is_saved?"bg-primary/90":"",children:o.jsx(qn,{className:`h-5 w-5 transition-colors ${j.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-white"}`})})]})]})},j.id))}),c&&o.jsx("div",{className:"flex justify-center mt-6 mb-8",children:o.jsx(ne,{onClick:w,disabled:d,variant:"outline",className:"min-w-[200px]",children:d?o.jsxs(o.Fragment,{children:[o.jsx(aa,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Load More Jobs"})})]})]})})},sm=e=>e.toLowerCase().trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").replace(/_+/g,"_").replace(/^_|_$/g,""),QWe=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),ZWe="",e6="",t6="",eVe="",tVe="Interests / Skills",r6=({filters:e,onFiltersChange:t,isMobile:r=!1,userTopSkills:n=[],mobileView:s="main",onMobileViewChange:a,countrySearchQuery:i="",onCountrySearchChange:l})=>{const{t:c}=fi(),[u,d]=p.useState(!1),[f,h]=p.useState(""),y=l&&i!==void 0?i:f,g=_=>{l?l(_):h(_)},m=M.useMemo(()=>{if(!y.trim())return nn;const _=y.toLowerCase();return nn.filter(S=>S.name.toLowerCase().includes(_)||S.code.toLowerCase().includes(_))},[y]);p.useEffect(()=>{r&&s!=="country"&&(l?l(""):h("")),!r&&!u&&(l?l(""):h(""))},[s,u,r,l]);const v=_=>{const S=e.countries.includes(_)?e.countries.filter(k=>k!==_):[...e.countries,_];t({...e,countries:S,skills:e.skills||[]})},x=_=>{const S=e.skills.includes(_)?e.skills.filter(k=>k!==_):[...e.skills,_];t({...e,skills:S,countries:e.countries||[]})},b=()=>{if(n.length===0)return;const _=n.every(S=>e.skills.includes(S));t(_?{...e,skills:[],countries:e.countries||[]}:{...e,skills:n,countries:e.countries||[]})},w=n.length>0&&n.every(_=>e.skills.includes(_));return r?s==="country"?o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden -mx-6 px-6",children:o.jsx("div",{className:"space-y-2",children:m.length===0?o.jsx("div",{className:"py-8 text-center text-sm text-gray-500",children:"No countries found"}):m.map(_=>{const S=e.countries.includes(_.code);return o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-2",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 truncate",children:_.name}),o.jsx(Fn,{checked:S,onCheckedChange:()=>v(_.code),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},_.code)})})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{type:"button",onClick:()=>a==null?void 0:a("country"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.country}),o.jsx(xa,{className:"h-4 w-4 text-gray-400"})]})}),n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:eVe}),o.jsx("button",{type:"button",onClick:b,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:w?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(_=>{const S=e.skills.includes(_);return o.jsx("button",{type:"button",onClick:()=>x(_),className:`
                      px-4 py-2 rounded-full text-sm font-medium transition-colors border
                      ${S?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                    `,children:_},_)})})]})]}):o.jsxs("div",{className:"space-y-6",children:[n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{className:"text-base font-medium dark:text-gray-100",children:tVe}),o.jsx("button",{type:"button",onClick:b,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:w?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(_=>{const S=e.skills.includes(_);return o.jsx("button",{type:"button",onClick:()=>x(_),className:`
                    px-4 py-2 rounded-full text-sm font-medium transition-colors border
                    ${S?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                  `,children:_},_)})})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs(u2,{open:u,onOpenChange:_=>{d(_),_||g("")},children:[o.jsxs(d2,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${u?"rounded-t-lg":"rounded-lg"}`,children:[o.jsx(Pe,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.country}),o.jsx(Do,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${u?"transform rotate-180":""}`})]}),o.jsx(f2,{className:"mt-0",children:o.jsxs("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:[o.jsx("div",{className:"sticky top-0 z-10 bg-gray-100 dark:bg-[rgb(55,57,60)] p-3 border-b border-gray-300 dark:border-gray-600",children:o.jsxs("div",{className:"relative",children:[o.jsx(Fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(Qe,{type:"text",placeholder:"Search countries...",value:y,onChange:_=>g(_.target.value),className:"pl-9 pr-3 h-9 text-sm bg-white dark:bg-gray-700"})]})}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-2 gap-2",children:m.length===0?o.jsx("div",{className:"col-span-2 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):m.map(_=>{const S=e.countries.includes(_.code);return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(Fn,{checked:S,onCheckedChange:()=>v(_.code),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:_.name})]},_.code)})})})]})})]})})]})},rVe=({isOpen:e,onClose:t,filters:r,onFiltersChange:n,onApply:s,onClear:a,userTopSkills:i=[]})=>{const{t:l}=fi(),c=ca(),[u,d]=p.useState("main"),[f,h]=p.useState("");return p.useEffect(()=>{e||(d("main"),h(""))},[e]),c?o.jsx(Di,{open:e,onOpenChange:t,children:o.jsxs(Fi,{className:"max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(Bi,{className:"flex-shrink-0 border-b border-gray-200",children:o.jsx(Ui,{className:"text-xl font-bold",children:u==="country"?l.jobs.country:ZWe})}),u==="country"&&o.jsx("div",{className:"flex-shrink-0 px-6 py-3 border-b border-gray-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(Fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(Qe,{type:"text",placeholder:"Search countries...",value:f,onChange:y=>h(y.target.value),className:"pl-9 pr-3 h-9 text-sm"})]})}),o.jsx("div",{className:"px-6 py-6 flex-1 overflow-y-auto min-h-0",children:o.jsx(r6,{filters:r,onFiltersChange:n,isMobile:!0,userTopSkills:i,mobileView:u,onMobileViewChange:d,countrySearchQuery:f,onCountrySearchChange:h})}),u==="main"&&o.jsx(Bo,{className:"border-t border-gray-200",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(ne,{onClick:()=>{a(),d("main")},variant:"ghost",className:"h-12 px-6 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0 rounded-[18px]",children:t6}),o.jsx(ne,{onClick:()=>{s(),d("main")},className:"h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:e6})]})}),u==="country"&&o.jsx(Bo,{className:"border-t border-gray-200",children:o.jsx(ne,{onClick:()=>{h(""),d("main")},className:"w-full h-12 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:"Done"})})]})}):o.jsx(Xs,{open:e,onOpenChange:t,children:o.jsxs(Ps,{className:"max-w-3xl max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(As,{className:"flex-shrink-0",children:o.jsx(Ts,{children:"Filter Courses"})}),o.jsx("div",{className:"py-4 overflow-y-auto flex-1 min-h-0",children:o.jsx(r6,{filters:r,onFiltersChange:n,isMobile:!1,userTopSkills:i,countrySearchQuery:f,onCountrySearchChange:h})}),o.jsx(Xa,{className:"flex-shrink-0",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(ne,{onClick:()=>{a()},variant:"ghost",className:"w-auto h-10 px-4 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0",children:t6}),o.jsx(ne,{onClick:s,className:"w-auto h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90",children:e6})]})})]})})},md="coursesFilters",JX="coursesFilteredResults",h0=(e,t,r)=>{try{sessionStorage.setItem(e,JSON.stringify({filters:t,search:r}))}catch(n){console.error("Error saving filters to session storage:",n)}},n6=e=>{try{const t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading filters from session storage:",t)}return null},nVe=e=>{try{sessionStorage.setItem(JX,JSON.stringify(e))}catch(t){console.error("Error saving filtered courses to session storage:",t)}},sVe=()=>{try{const e=sessionStorage.getItem(JX);if(e)return JSON.parse(e)}catch(e){console.error("Error loading filtered courses from session storage:",e)}return[]},aVe=()=>{const{user:e}=fr(),t=Us(),r=ca();lr();const[n,s]=$w(),[a,i]=p.useState(!1),[l,c]=p.useState([]),[u,d]=p.useState(!0),[f,h]=p.useState(()=>sVe()),y=p.useCallback((q,Z)=>{if(j.current)return;const Y=new URLSearchParams;Z&&Y.set("search",Z),q.countries.length>0&&Y.set("countries",q.countries.join(",")),q.skills.length>0&&Y.set("skills",q.skills.join(",")),s(Y,{replace:!0}),h0(md,q,Z)},[s]),[g,m]=p.useState(()=>{const q=n.get("countries"),Z=n.get("skills"),Y=n.get("country");if(q||Z||Y)return{country:Y||"Georgia",countries:q?q.split(",").filter(Boolean):[],skills:Z?Z.split(",").filter(Boolean):[]};const J=n6(md);return J&&J.filters?J.filters:{country:"Georgia",countries:[],skills:[]}}),[v,x]=p.useState(()=>{const q=n.get("search");if(q)return q;const Z=n6(md);return Z&&Z.search?Z.search:""}),[b,w]=p.useState(v),[_,S]=p.useState(g),k=q=>{let Z=0;return q.countries.length>0&&(Z+=q.countries.length),q.skills.length>0&&(Z+=q.skills.length),Z};p.useEffect(()=>{a&&S(g)},[a,g]);const E=M.useMemo(()=>JSON.stringify({countries:g.countries.sort(),skills:g.skills.sort()}),[g]),j=M.useRef(!1);p.useEffect(()=>{const q=n.get("countries"),Z=n.get("skills"),Y=n.get("country"),J=n.get("search")||"",se={country:Y||"Georgia",countries:q?q.split(",").filter(Boolean):[],skills:Z?Z.split(",").filter(Boolean):[]},Q=JSON.stringify(se)!==JSON.stringify(g),ue=J!==v;(Q||ue)&&(j.current=!0,m(se),S(se),ue&&x(J),setTimeout(()=>{j.current=!1},0))},[n]),p.useEffect(()=>{const q=n.get("country"),Z=n.get("countries");if(q&&!Z){const Y=new URLSearchParams(n);Y.delete("country"),s(Y,{replace:!0})}},[]),p.useEffect(()=>{(async()=>{if(!e){d(!1);return}const Z=n.get("skills")!==null;try{d(!0);try{const J=await Se.get("/api/skilltest/results/");if(J.data&&Array.isArray(J.data)&&J.data.length>0){const Q=J.data[0].skills_json,ue=[];Q!=null&&Q.tech&&ue.push(...Object.keys(Q.tech));const ve=mg(ue).slice(0,5);c(ve),Z||(m(we=>{const Te={...we,skills:we.skills.length===0?ve:we.skills};return h0(md,Te,v),Te}),S(we=>({...we,skills:we.skills.length===0?ve:we.skills}))),d(!1);return}}catch{console.log("API endpoint not available, trying Supabase...")}const Y=await Rh(String(e.id));if(Y&&Y.length>0){const J=Mh(Y),Q=l1(J,10).map(ve=>ve.skill),ce=mg(Q).slice(0,5);c(ce),Z||(m(ve=>{const we={...ve,skills:ve.skills.length===0?ce:ve.skills};return h0(md,we,v),we}),S(ve=>({...ve,skills:ve.skills.length===0?ce:ve.skills})))}}catch(Y){console.error("Error fetching user skills:",Y)}finally{d(!1)}})()},[e]),p.useEffect(()=>{const q=sessionStorage.getItem("locationToastShown");n.get("countries")||navigator.geolocation.getCurrentPosition(async Z=>{try{const{latitude:Y,longitude:J}=Z.coords,Q=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${Y}&longitude=${J}&localityLanguage=en`)).json();if(Q.countryName){const ue=nn.find(ce=>ce.name===Q.countryName);m(ce=>{const ve={...ce,country:Q.countryName,countries:ue?[ue.code]:ce.countries};return setTimeout(()=>{if(!j.current){const we=new URLSearchParams(n);ve.countries.length>0?we.set("countries",ve.countries.join(",")):we.delete("countries"),ve.country&&ve.country!=="Georgia"?we.set("country",ve.country):we.delete("country"),s(we,{replace:!0})}},0),ve}),S(ce=>({...ce,country:Q.countryName,countries:ue?[ue.code]:ce.countries})),q||(fe.info(`Showing courses in ${Q.countryName}.`),sessionStorage.setItem("locationToastShown","true"))}}catch{q||(fe.error("Could not determine your location."),sessionStorage.setItem("locationToastShown","true"))}},()=>{q||(fe.info("Location permission denied. Defaulting to Georgia."),sessionStorage.setItem("locationToastShown","true"))})},[]),M.useCallback(q=>typeof q!="string"?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(q),[]);const N=e!=null&&e.id?String(e.id):null,C=M.useMemo(()=>!!N&&N.length>0,[N]),{data:P=[]}=Jt({queryKey:["savedCourses",N],queryFn:async()=>{var q;if(!N||!C)return[];try{return(((q=(await Se.get(Je.AUTH.PROFILE,{timeout:3e4})).data)==null?void 0:q.saved_courses)||[]).map(J=>String(J))}catch(Z){return console.error("Error fetching saved courses from profile API:",Z),[]}},enabled:C}),{data:R,isLoading:B}=Jt({queryKey:["courses",P,b,E],queryFn:async()=>{let q=Kt.from("courses").select("*");b&&(q=q.or(`title.ilike.%${b}%,provider.ilike.%${b}%,category.ilike.%${b}%,description.ilike.%${b}%`));const{data:Z,error:Y}=await q.order("created_at",{ascending:!1});if(Y)return console.error("Error fetching courses:",Y),[];const J=(Z==null?void 0:Z.map(ue=>{let ce=ue.image||"/lovable-uploads/no_photo.png";return ce&&!ce.startsWith("/")&&!ce.startsWith("http")&&(ce=`/${ce}`),{...ue,image:ce,match:0,topics:ue.topics||[],required_skills:ue.required_skills||[],is_saved:P==null?void 0:P.includes(String(ue.id))}}))||[],se=[...new Set(J.map(ue=>ue.academy_id).filter(ue=>ue?String(ue).length>0:!1).map(ue=>String(ue)))],Q=new Map;return se.length>0&&await Promise.all(se.map(async ue=>{try{const ce=await Se.get(`${Je.ACADEMY.DETAIL}${ue}/`);if(ce.data){const ve=ce.data,we=ve.profile_data||ve,Te=Ve=>{for(const We of Ve){const tt=we[We]||ve[We];if(typeof tt=="string")return tt}},pt=Te(["academy_id","id"])||ue,st=Te(["academy_name","name","first_name","firstName"]),bt=Te(["description"]),F=Te(["website_url","websiteUrl"]),X=Te(["contact_email","contactEmail","email"]),ye=Te(["profile_photo_url","profilePhotoUrl","profile_photo","profilePhoto"]),Ce=Te(["logo_url","logoUrl","logo","image_url","imageUrl"]),Ge=ye||Ce,lt=Te(["slug"]);Q.set(ue,{id:pt||ue,academy_name:st||"",description:bt||"",website_url:F,contact_email:X,logo_url:Ce,profile_photo_url:ye,profile_image_url:Ge,slug:lt||sm(st||"")})}}catch{console.debug(`Could not fetch academy profile for ${ue} from Django API`)}})),J.map(ue=>{const ce=ue.academy_id?Q.get(ue.academy_id):null;let ve=null;return ce?ve=ce:ve=null,{...ue,academy_profile_data:ve}})},enabled:!!P,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:3*60*1e3,gcTime:10*60*1e3}),z=M.useMemo(()=>{if(!R)return[];let q=R;return g.skills.length>0&&(q=R.filter(Z=>Z.required_skills.some(Y=>g.skills.some(J=>Y.toLowerCase().includes(J.toLowerCase())||J.toLowerCase().includes(Y.toLowerCase()))))),!l||l.length===0?q.map(Z=>({...Z,match:50})):q.map(Z=>{const Y=Z.required_skills.filter(se=>l.some(Q=>Q.toLowerCase().includes(se.toLowerCase())||se.toLowerCase().includes(Q.toLowerCase()))),J=Z.required_skills.length>0?Math.round(Y.length/Z.required_skills.length*100):50;return{...Z,match:Math.max(J,25)}}).sort((Z,Y)=>Y.match-Z.match)},[l,R,g.skills]),D=M.useMemo(()=>{let q=z;if(g.countries.length>0){const Z=g.countries.map(Y=>{var J;return(J=nn.find(se=>se.code===Y))==null?void 0:J.name}).filter(Boolean);q=q.filter(Y=>{var se;const J=((se=Y.academy_profile_data)==null?void 0:se.academy_name)||Y.provider||"";return Z.some(Q=>J.toLowerCase().includes(Q.toLowerCase()))})}return q},[z,g.countries]);p.useEffect(()=>{B||(nVe(D),h(D))},[D,B]);const O=({course:q})=>{const Z=Us(),Y=sa({mutationFn:async se=>{if(!N)throw new Error("Please log in to save courses.");await Se.post(`/api/save-course/${se}/`)},onMutate:async se=>{await Z.cancelQueries({queryKey:["savedCourses",N]});const Q=Z.getQueryData(["savedCourses",N]);let ue=!1;return Z.setQueryData(["savedCourses",N],ce=>{if(!ce)return ce;const ve=String(se);return ue=ce.includes(ve),ue?ce.filter(we=>we!==ve):[...ce,ve]}),{previousSavedCourses:Q,wasSaved:ue}},onError:(se,Q,ue)=>{ue!=null&&ue.previousSavedCourses&&N&&Z.setQueryData(["savedCourses",N],ue.previousSavedCourses),console.error("Error updating saved courses:",se),fe.error("Failed to update saved courses. Please try again.")},onSuccess:(se,Q,ue)=>{Z.invalidateQueries({queryKey:["savedCourses",N]}),Z.invalidateQueries({queryKey:["courses"]}),Z.invalidateQueries({queryKey:["profile"]});const ce=(ue==null?void 0:ue.wasSaved)??!1;fe.success(ce?"Removed from saved courses.":"Course saved to your profile.")}}),J=P==null?void 0:P.includes(String(q.id));return o.jsx(ne,{variant:"secondary",size:"icon",onClick:se=>{se.preventDefault(),se.stopPropagation(),Y.mutate(String(q.id))},disabled:Y.isPending,"aria-label":J?"Unsave course":"Save course",className:le("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",J?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(qn,{className:le("h-4 w-4 transition-colors",J?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})},U=q=>{const Z={...g,countries:q};m(Z),S(Z),y(Z,v),t.invalidateQueries({queryKey:["courses"]})},A=p.useCallback(()=>{w(v),y(g,v),t.invalidateQueries({queryKey:["courses"]})},[v,g,y,t]),I=q=>{q.key==="Enter"&&A()},te=q=>{x(q)};p.useEffect(()=>{if(v===b)return;const q=setTimeout(()=>{w(v),y(g,v),t.invalidateQueries({queryKey:["courses"]})},300);return()=>{clearTimeout(q)}},[v,g,y,t,b]);const $=()=>{m(_),y(_,v),i(!1),t.invalidateQueries({queryKey:["courses"]})},V=()=>{const q={country:"Georgia",countries:[],skills:[]};S(q),m(q);const Z=new URLSearchParams;v&&Z.set("search",v),s(Z,{replace:!0}),h0(md,q,v),i(!1),t.invalidateQueries({queryKey:["courses"]})},W=q=>o.jsx(Fr,{to:`/course/${q.id}`,className:"block",children:o.jsx(je,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl w-full flex flex-col hover:shadow-soft",children:o.jsxs(Ee,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:q.image&&!q.image.startsWith("http")&&!q.image.startsWith("/")?`/${q.image}`:q.image||"/placeholder.svg",alt:q.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200 origin-center",style:{transformOrigin:"center center"},onError:Z=>{Z.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:q.title}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:q.duration&&o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:q.duration})}),o.jsx("div",{onClick:Z=>Z.preventDefault(),children:o.jsx(O,{course:q})})]})]})]})})}),ee=B&&f.length>0,ie=ee?f:D,G=ee?f.length:D.length;return o.jsxs(At,{children:[o.jsx(EA,{}),o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] rounded-xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-3 md:py-4 overflow-visible min-h-[3.5rem] flex-1",children:[o.jsx(rn,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),o.jsx(Qe,{placeholder:"",value:v,onChange:q=>te(q.target.value),onKeyDown:I,className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(LJ,{selectedLocations:g.countries,onLocationsChange:U,placeholder:"Location"})})]})]}),(()=>{const q=k(g);return o.jsxs(ne,{variant:"outline",onClick:()=>i(!0),className:"group flex items-center gap-2 bg-breneo-blue/10 hover:bg-breneo-blue rounded-xl px-4 py-3 md:py-4 hover:bg-breneo-blue hover:text-white text-gray-900 dark:text-gray-100 whitespace-nowrap h-auto relative min-h-[3.5rem] transition-colors","aria-label":"Filter courses",children:[o.jsx(lA,{className:"h-4 w-4 group-hover:text-white",strokeWidth:2}),o.jsx("span",{className:"hidden md:inline text-sm font-medium",children:""}),q>0&&o.jsx(Rt,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:q})]})})()]})}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ch,{className:"h-6 w-6 text-breneo-accent"}),o.jsx("h2",{className:"text-lg font-bold",children:"Latest Courses"})]}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("span",{className:"text-sm text-gray-600",children:[G," course",G!==1?"s":""]})})]}),B&&!ee&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((q,Z)=>o.jsx(je,{className:"w-full",children:o.jsxs(Ee,{className:"p-5",children:[o.jsx(rr,{className:"h-48 w-full mb-4"}),o.jsx(rr,{className:"h-6 w-full mb-2"}),o.jsx(rr,{className:"h-4 w-2/3"})]})},Z))}),!B&&D.length===0&&o.jsxs("div",{className:"text-center p-10 rounded-3xl text-muted-foreground bg-muted/30",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-puzzle-dynamic-color.png",alt:"No data found",className:"mx-auto h-48 w-48 mb-4 object-contain"}),o.jsx("h4",{className:"text-lg font-semibold",children:"No Courses Found"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search terms or filters."})]}),(ee||!B&&ie.length>0)&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:ie.map(q=>o.jsx("div",{className:"w-full",children:W(q)},q.id))})]}),o.jsx(rVe,{isOpen:a,onClose:()=>i(!1),filters:_,onFiltersChange:S,onApply:$,onClear:V,userTopSkills:l})]})},iVe=()=>{var b,w,_,S;const{courseId:e}=kh(),{user:t}=fr(),r=Us(),[n,s]=p.useState(!1),a=hi(),{data:i,isLoading:l}=Jt({queryKey:["course",e],queryFn:async()=>{const{data:k,error:E}=await Kt.from("courses").select("*").eq("id",e).single();return E?(console.error("Error fetching course details:",E),null):k},enabled:!!e}),{data:c=[]}=Jt({queryKey:["savedCourses",t==null?void 0:t.id],queryFn:async()=>{var k;if(!(t!=null&&t.id))return[];try{return(((k=(await Se.get(Je.AUTH.PROFILE)).data)==null?void 0:k.saved_courses)||[]).map(N=>String(N))}catch(E){return console.error("Error fetching saved courses:",E),[]}},enabled:!!(t!=null&&t.id)}),u=c==null?void 0:c.includes(String((i==null?void 0:i.id)||"")),{data:d}=Jt({queryKey:["academy-profile",i==null?void 0:i.academy_id],queryFn:async()=>{if(!(i!=null&&i.academy_id))return null;try{const k=await Se.get(`/api/academy/${i.academy_id}/`);if(k.data){const j=k.data.profile_data||k.data,N=D=>{for(const O of D){const U=j[O];if(U!=null&&typeof U=="string")return U}},C=N(["academy_name","name","first_name","firstName"])||i.provider||"",P=N(["profile_photo_url","profilePhotoUrl","profile_image_url","profileImageUrl","profile_photo","profilePhoto"]),R=N(["logo_url","logoUrl","logo","image"]),B=N(["description","desc","about"]),z={id:i.academy_id,academy_name:C,slug:N(["slug"])||(C?sm(C):void 0),profile_photo_url:P&&P.trim()!==""?P:null,logo_url:R&&R.trim()!==""?R:null,description:B&&B.trim()!==""?B:null};return console.log(" Academy profile fetched from API:",{academyId:i.academy_id,rawData:j,profileData:z,logoUrl:R}),z}}catch(k){console.debug("Could not fetch academy profile from API, trying Supabase",k)}try{const{data:k,error:E}=await Kt.from("academy_profiles").select("id, academy_name, logo_url, description").eq("id",i.academy_id).single();if(!E&&k){const j={id:k.id,academy_name:k.academy_name||i.provider||"",slug:k.academy_name?sm(k.academy_name):void 0,profile_photo_url:null,logo_url:k.logo_url&&k.logo_url.trim()!==""?k.logo_url:null,description:k.description&&k.description.trim()!==""?k.description:null};return console.log(" Academy profile fetched from Supabase:",{academyId:i.academy_id,supabaseData:k,profile:j}),j}}catch(k){console.debug("Could not fetch academy profile from Supabase",k)}return{id:i.academy_id,academy_name:i.provider||"",slug:i.provider?sm(i.provider):void 0,profile_photo_url:null,logo_url:null,description:null}},enabled:!!(i!=null&&i.academy_id)}),f=sa({mutationFn:async k=>{if(!(t!=null&&t.id))throw new Error("User not logged in");s(!0);try{await Se.post(`/api/save-course/${k}/`)}catch(E){console.error("Error saving course:",E);let j="Failed to save course. Please try again.";if(E&&typeof E=="object"&&"response"in E&&E.response&&typeof E.response=="object"&&"data"in E.response){const N=E.response.data;j=N.detail||N.message||N.error||j}else E instanceof Error&&(j=E.message);throw new Error(j)}finally{s(!1)}},onMutate:async k=>{await r.cancelQueries({queryKey:["savedCourses",t==null?void 0:t.id]});const E=r.getQueryData(["savedCourses",t==null?void 0:t.id]);return r.setQueryData(["savedCourses",t==null?void 0:t.id],j=>{if(!j)return j;const N=String(k);return j.includes(N)?j.filter(C=>C!==N):[...j,N]}),{previousSavedCourses:E}},onError:(k,E,j)=>{j!=null&&j.previousSavedCourses&&r.setQueryData(["savedCourses",t==null?void 0:t.id],j.previousSavedCourses);let N="Failed to save course. Please try again.";if(k&&typeof k=="object"&&"response"in k&&k.response&&typeof k.response=="object"&&"data"in k.response){const C=k.response.data;N=C.detail||C.message||C.error||N}else k instanceof Error&&(N=k.message);fe.error(N)},onSuccess:(k,E,j)=>{var P;r.invalidateQueries({queryKey:["savedCourses",t==null?void 0:t.id]}),r.invalidateQueries({queryKey:["courses"]}),r.invalidateQueries({queryKey:["profile"]});const N=String(E),C=((P=j==null?void 0:j.previousSavedCourses)==null?void 0:P.includes(N))||!1;fe.success(`"${i==null?void 0:i.title}" has been ${C?"unsaved":"saved"} successfully.`)}}),h=()=>{if(!t||!i){fe.error("Please log in to save courses.");return}const k=String(i.id);f.mutate(k)};if(l)return o.jsx(At,{children:o.jsx("div",{className:"p-8",children:"Loading..."})});if(!i)return o.jsx(At,{children:o.jsx("div",{className:"p-8",children:"Course not found."})});const g=i.academy_id?`/academy/${i.academy_id}`:`/academy/${(d==null?void 0:d.slug)||sm(i.provider)}`,m=(d==null?void 0:d.academy_name)||i.provider,v=(d==null?void 0:d.profile_photo_url)||(d==null?void 0:d.logo_url)||null;console.log(" CoursePage Debug:",{courseId:e,courseAcademyId:i==null?void 0:i.academy_id,academyProfile:d,profilePhotoUrl:d==null?void 0:d.profile_photo_url,logoUrl:d==null?void 0:d.logo_url,academyImageUrl:v,academyName:m});const x=((b=i.topics)==null?void 0:b.slice(0,3))||((w=i.required_skills)==null?void 0:w.slice(0,3))||[];return o.jsx(At,{children:o.jsx("div",{className:"px-4 py-4 sm:px-6 sm:py-6 pb-40 sm:pb-44 mb-16 sm:mb-20 ",children:o.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[o.jsx("div",{className:"w-full h-40 sm:h-80 overflow-hidden rounded-3xl mb-6",children:o.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"})}),o.jsx(je,{className:"rounded-3xl border-0 shadow-none bg-white dark:bg-white",children:o.jsxs(Ee,{className:"p-6 sm:p-6 space-y-0 ",children:[o.jsxs("div",{className:"flex items-center gap-3 pb-2 ",children:[o.jsx(ig,{src:v||void 0,alt:m,fallback:m?m.charAt(0).toUpperCase():"A",size:"sm",className:"flex-shrink-0 !h-10 !w-10 !rounded-full"}),o.jsx("span",{className:"text-gray-600 text-base font-medium",children:m})]}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-black dark:text-white pb-6",children:i.title}),o.jsx("div",{className:"py-0 px-0 sm:py-5 sm:px-0 bg-white dark:bg-white rounded-3xl",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6 sm:gap-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-12 flex-1 w-full sm:w-auto  rounded-2xl sm:rounded-none p-0 sm:p-0",children:[o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(Bw,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:"Free"}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Free"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Course"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Course"})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(Sde,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:i.duration||"2 "}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:i.duration||"2 "}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Duration"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Duration"})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(az,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:((_=i.topics)==null?void 0:_.length)||16}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:((S=i.topics)==null?void 0:S.length)||16}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Lectures"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Lectures"})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(Dx,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:i.level||"All Levels"}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:i.level||"All Levels"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Level"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Level"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto pb-0 sm:pb-0",children:[o.jsx(ne,{onClick:h,disabled:n||!t,variant:"secondary",size:"icon",className:le("aspect-square bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A]",u?"text-white-500 bg-[#E6E7EB] dark:bg-[#474747] ":"text-black dark:text-white "),children:n?o.jsx(aa,{className:"h-4 w-4 animate-spin"}):u?o.jsx(qn,{className:"h-4 w-4 fill-red-500 text-red-500"}):o.jsx(qn,{className:"h-4 w-4"})}),i.registration_link?o.jsx("a",{href:i.registration_link,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto",children:o.jsx(ne,{size:"default",className:"w-full sm:w-auto px-6 text-sm bg-breneo-blue hover:bg-breneo-blue/90 text-white rounded-xl",children:a.courses.enroll})}):o.jsx(ne,{size:"default",className:"w-full sm:w-auto px-6 text-sm bg-breneo-blue hover:bg-breneo-blue/90 text-white rounded-xl",children:a.courses.enroll})]})]})}),o.jsxs("div",{className:"py-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-notebook-dynamic-color.png",alt:"Notebook",className:"h-12 w-12 object-contain flex-shrink-0"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"What will You learn"})]}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:i.description||"No description available."})]}),d&&o.jsxs("div",{className:"py-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"About Academy"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(ig,{src:v||void 0,alt:m,fallback:m?m.charAt(0).toUpperCase():"A",size:"lg",className:"!h-16 !w-16 !rounded-full"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:m}),d.description?o.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed mb-4",children:d.description}):o.jsx("p",{className:"text-gray-500 dark:text-gray-500 italic mb-4",children:"No description available."}),o.jsx(Fr,{to:g,children:o.jsxs(ne,{variant:"outline",className:"flex items-center gap-2",children:[o.jsx(Df,{className:"h-4 w-4"}),"View Academy"]})})]})]})]}),o.jsx("div",{className:"flex flex-wrap gap-2 py-6",children:x.slice(0,3).map((k,E)=>o.jsx(Rt,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:k},E))})]})})]})})})};function oVe(e,t=[]){let r=[];function n(a,i){const l=p.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:y,...g}=f,m=(h==null?void 0:h[e][c])||l,v=p.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:y})}function d(f,h){const y=(h==null?void 0:h[e][c])||l,g=p.useContext(y);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,lVe(s,...t)]}function lVe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var RO="Progress",MO=100,[cVe,mGe]=oVe(RO),[uVe,dVe]=cVe(RO),XX=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=fVe,...i}=e;(s||s===0)&&!s6(s)&&console.error(hVe(`${s}`,"Progress"));const l=s6(s)?s:MO;n!==null&&!a6(n,l)&&console.error(pVe(`${n}`,"Progress"));const c=a6(n,l)?n:null,u=tw(c)?a(c,l):void 0;return o.jsx(uVe,{scope:r,value:c,max:l,children:o.jsx(ot.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":tw(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":eQ(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});XX.displayName=RO;var QX="ProgressIndicator",ZX=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=dVe(QX,r);return o.jsx(ot.div,{"data-state":eQ(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});ZX.displayName=QX;function fVe(e,t){return`${Math.round(e/t*100)}%`}function eQ(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function tw(e){return typeof e=="number"}function s6(e){return tw(e)&&!isNaN(e)&&e>0}function a6(e,t){return tw(e)&&!isNaN(e)&&e<=t&&e>=0}function hVe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${MO}\`.`}function pVe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${MO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var tQ=XX,mVe=ZX;const rQ=p.forwardRef(({className:e,value:t,...r},n)=>o.jsx(tQ,{ref:n,className:le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(mVe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));rQ.displayName=tQ.displayName;function gVe({onPhaseChange:e,onTechQChange:t,onSoftQChange:r}={}){const{user:n}=fr(),s=lr(),[a,i]=p.useState("career"),[l,c]=p.useState([]),[u,d]=p.useState(0),[f,h]=p.useState([]),[y,g]=p.useState(null),[m,v]=p.useState(null),[x,b]=p.useState(null),[w,_]=p.useState(null),[S,k]=p.useState(null),[E,j]=p.useState(null),[N,C]=p.useState(!1),[P,R]=p.useState(!1),[B,z]=p.useState(null),[D,O]=p.useState(!1),[U,A]=p.useState(0),[I,te]=p.useState(null),[$,V]=p.useState(null),[W,ee]=p.useState(0),[ie,G]=p.useState(!1),[q,Z]=p.useState(!1),Y=5,J=["   ...","  ...","  ...","   ...","  ..."];p.useEffect(()=>{if(D){const F=setInterval(()=>{A(X=>(X+1)%5)},1e3);return()=>clearInterval(F)}},[D]),p.useEffect(()=>{e&&e(a)},[a,e]),p.useEffect(()=>{t&&t(S)},[S,t]),p.useEffect(()=>{r&&r(E)},[E,r]),p.useEffect(()=>{a==="career"&&Se.get(`/api/career-questions-random/?limit=${Y}`).then(F=>c(F.data)).catch(F=>console.error(F))},[a]);const se=async F=>{if(!n){console.warn("No user found, cannot save test results");return}try{const X=Number(F.total_score),ye=Number(F.total_questions);isNaN(X)||isNaN(ye);const Ce={tech:F.tech_score_per_skill||{},soft:F.soft_score_per_skill||{}},Ge={user:n.id,total_score:X,total_questions:ye,final_role:F.final_role||"N/A",skills_json:Ce,career_answers:F.career_answers||[]},lt=await Se.post("/api/skilltest/save/",Ge);s("/skill-path")}catch(X){console.error(" Error saving test results:"),console.error("Full error object:",X),X.response?(console.error(" Response status:",X.response.status),console.error(" Response data:",JSON.stringify(X.response.data,null,2)),console.error(" Response headers:",X.response.headers)):X.request?console.error(" No response received:",X.request):console.error(" Error setting up request:",X.message)}},Q=F=>{v(F.text),y||g(F.RoleMapping)},ue=()=>{if(!m)return;const F=l[u];h(X=>[...X,{questionId:F.id,answer:m}]),v(null),u+1<l.length?(d(u+1),ee(X=>X+1)):(G(!0),ee(X=>X+1))},ce=()=>{G(!1),i("assessment"),ve(),ee(F=>F+1)},ve=async()=>{try{const F=await Se.post("/api/start-assessment/",{num_questions:Y,RoleMapping:y});b(F.data),k(F.data.questions[0]),ee(Ge=>Ge+1);const X=await Se.post("/api/soft/start/",{num_questions:Y});_(X.data);let ye=null;X.data.first_question?ye=X.data.first_question:X.data.questions&&X.data.questions[0]?ye=X.data.questions[0]:X.data.question?ye=X.data.question:ye=X.data;const Ce={...X.data,first_question:ye};_(Ce)}catch{}},we=async()=>{if(!(!x||!S||!I))try{const F=await Se.post("/api/submit-answer/",{session_id:x.session_id,question_text:S.text,answer:I});te(null),F.data.next_question?(k(F.data.next_question),ee(X=>X+1)):(C(!0),k(null),Z(!0),ee(X=>X+1))}catch(F){console.error(F)}},Te=async()=>{if(!(!w||!E||!$))try{const F=E.questiontext||E.text||E.question||"",X={session_id:w.session_id,question_text:F,answer:$},ye=await Se.post("/api/soft/submit/",X);V(null),ye.data.next_question?(j(ye.data.next_question),ee(Ce=>Ce+1)):(R(!0),j(null),bt())}catch(F){F instanceof Error&&console.error("Error details:",F.message)}},pt=async()=>{if(Z(!1),await st(),w)try{let F=null;if(w.first_question)F=w.first_question;else if(w.questions&&w.questions[0])F=w.questions[0];else if(w.question)F=w.question;else{const X=await Se.post("/api/soft/next/",{session_id:w.session_id});X.data.next_question?F=X.data.next_question:X.data.question?F=X.data.question:X.data.first_question?F=X.data.first_question:F=X.data}F?(j(F),ee(X=>X+1)):console.error(" No soft question found")}catch(F){console.error(" Error getting first soft question:",F)}},st=async()=>{if(x)try{const F=await Se.post("/api/finish-assessment/",{session_id:x.session_id});z(X=>({...X,tech:F.data}))}catch(F){console.error(" Error finishing tech assessment:",F)}},bt=async()=>{if(w)try{console.log(" Finishing soft assessment with session:",w.session_id);const F=await Se.post("/api/soft/finish/",{session_id:w.session_id});z(X=>({...X,soft:F.data}))}catch(F){console.error(" Error finishing soft assessment:",F)}};if(p.useEffect(()=>{var F,X,ye,Ce,Ge,lt,Ve,We,tt,K;if(N&&P&&B&&n){O(!0),A(0);let H=(F=B.tech)==null?void 0:F.total_score,oe=(X=B.soft)==null?void 0:X.total_score,xe=(ye=B.tech)==null?void 0:ye.total_questions,qe=(Ce=B.soft)==null?void 0:Ce.total_questions;if(!H&&((Ge=B.tech)!=null&&Ge.score_per_skill)){const Ne=Object.values(B.tech.score_per_skill).map(De=>parseFloat(De.replace("%",""))),Ue=Ne.reduce((De,Me)=>De+Me,0)/Ne.length;H=Math.round(Ue*Y/100),xe=Y}if(!oe&&((lt=B.soft)!=null&&lt.score_per_skill)){const Ne=Object.values(B.soft.score_per_skill).map(De=>parseFloat(De.replace("%",""))),Ue=Ne.reduce((De,Me)=>De+Me,0)/Ne.length;oe=Math.round(Ue*Y/100),qe=Y}H=H||0,oe=oe||0,xe=xe||0,qe=qe||0;const Ae=H+oe,at=xe+qe;if(isNaN(Ae)||isNaN(at)||at===0){console.error(" Trying to save with numQuestions:",Y*2);const Ne=Y*2;console.log(" Using fallback values:",{fallbackScore:Ae||0,fallbackQuestions:Ne})}const Ye=((Ve=B.soft)==null?void 0:Ve.final_role)||((We=B.tech)==null?void 0:We.final_role)||"N/A",he={total_score:Ae||0,total_questions:at||Y*2,final_role:Ye,tech_score_per_skill:((tt=B.tech)==null?void 0:tt.score_per_skill)||{},soft_score_per_skill:((K=B.soft)==null?void 0:K.score_per_skill)||{},career_answers:f};setTimeout(()=>{console.log(" 10 seconds passed, saving results now"),O(!1),i("finished"),se(he)},1e4)}},[N,P,B,n]),ie)return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-8 flex items-center justify-center",children:o.jsx(cu,{className:"w-32 h-32 md:w-40 md:h-40 text-[#01bfff] dark:text-[#5AC9F8]"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Great Job! "}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed mb-2",children:"You've completed the interest assessment. Now let's evaluate your technical skills."}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Take your time and answer honestly - this helps us find the perfect role for you."})]}),o.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:o.jsxs(ne,{onClick:ce,className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",children:["Continue",o.jsx(xa,{className:"h-4 w-4 ml-2"})]})})]},W);if(q)return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-8 flex items-center justify-center",children:o.jsx(No,{className:"w-32 h-32 md:w-40 md:h-40 text-green-500 dark:text-green-400"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Excellent Progress! "}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed mb-2",children:"You've finished the technical skills assessment. Well done!"}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Just one more section - let's explore your soft skills and communication abilities."})]}),o.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:o.jsxs(ne,{onClick:pt,className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",children:["Continue",o.jsx(xa,{className:"h-4 w-4 ml-2"})]})})]},W);if(a==="career"&&l.length>0){const F=l[u];return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"mt-2 mb-4 text-xl font-semibold text-gray-800 dark:text-foreground",children:F.text}),o.jsx("div",{className:"space-y-3",children:F.options.map((X,ye)=>{const Ce=String.fromCharCode(65+ye),Ge=m===X.text;return o.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${Ge?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-[rgba(26,38,51,0.3)] border-blue-200 dark:border-gray-700 hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>Q(X),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${Ge?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:o.jsx("span",{className:`text-xs font-medium ${Ge?"text-white":"text-gray-600 dark:text-gray-300"}`,children:Ce})}),o.jsx("span",{className:`flex-1 text-left ${Ge?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:X.text})]})},X.id)})})]}),o.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:o.jsxs(ne,{onClick:ue,disabled:!m,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",o.jsx(xa,{className:"h-4 w-4"})]})})]},W)}if(!x||!w)return console.log(" Waiting for sessions...",{hasTechSession:!!x,hasSoftSession:!!w,techSession:x,softSession:w}),o.jsx("div",{className:"p-8 max-w-xl mx-auto mb-8 bg-white dark:bg-card rounded-md  text-center dark:text-foreground",children:"Loading assessments..."});if(console.log(" Render State:",{hasCurrentTechQ:!!S,hasCurrentSoftQ:!!E,techDone:N,softDone:P,currentTechQData:S,currentSoftQData:E}),S)return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-foreground mb-4",children:S.text}),o.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(F=>{const X=S[`option${F}`];if(X){const ye=String.fromCharCode(64+F),Ce=I===X;return o.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${Ce?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-muted border-blue-200 dark:border-border hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>te(X),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${Ce?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:o.jsx("span",{className:`text-xs font-medium ${Ce?"text-white":"text-gray-600 dark:text-gray-300"}`,children:ye})}),o.jsx("span",{className:`flex-1 text-left ${Ce?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:X})]})},F)}return null})})]}),o.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:o.jsxs(ne,{onClick:we,disabled:!I,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",o.jsx(xa,{className:"h-4 w-4"})]})})]},W);if(E){console.log(" RENDERING SOFT QUESTION - Raw Data:",E),console.log(" RENDERING SOFT QUESTION - Has Keys:",Object.keys(E)),console.log(" RENDERING SOFT QUESTION - Values:",{questiontext:E.questiontext,text:E.text,question:E.question,option1:E.option1,option2:E.option2,option3:E.option3,option4:E.option4,hasQuestiontext:!!E.questiontext,hasText:!!E.text,hasQuestion:!!E.question,hasOptions:!!(E.option1||E.option2||E.option3||E.option4)});const F=E.questiontext||E.text||E.question||"Question text unavailable";return E.option1||E.option2||E.option3||E.option4?o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-foreground mb-4",children:F}),o.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(ye=>{const Ce=E[`option${ye}`];if(Ce){const Ge=String.fromCharCode(64+ye),lt=$===Ce;return o.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${lt?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-muted border-blue-200 dark:border-border hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>V(Ce),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${lt?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:o.jsx("span",{className:`text-xs font-medium ${lt?"text-white":"text-gray-600 dark:text-gray-300"}`,children:Ge})}),o.jsx("span",{className:`flex-1 text-left ${lt?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:Ce})]})},ye)}return null})})]}),o.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:o.jsxs(ne,{onClick:Te,disabled:!$,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",o.jsx(xa,{className:"h-4 w-4"})]})})]},W):o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-xl font-bold mb-2 dark:text-foreground",children:" Error Loading Question"}),o.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:"The question data structure is incomplete."}),o.jsx("pre",{className:"text-xs bg-gray-100 dark:bg-muted text-gray-800 dark:text-foreground p-4 overflow-auto",children:JSON.stringify(E,null,2)})]})}return D?o.jsx("div",{className:"w-full flex items-center justify-center min-h-[60vh]",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsxs("div",{className:"relative mb-8",children:[o.jsx("div",{className:"h-32 w-32 rounded-full bg-gradient-to-r from-blue-500 to-[#01bfff] animate-spin"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:o.jsx(cu,{className:"h-12 w-12 text-white"})})]}),o.jsx("h2",{className:"text-3xl font-bold text-[#00afea] mb-4 text-center",children:J[U]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center max-w-md",children:"      "}),o.jsx("div",{className:"mt-8 w-full max-w-md",children:o.jsx(rQ,{value:(U+1)/J.length*100,className:"h-2"})})]})}):a==="finished"?o.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-32 h-32 mx-auto mb-8 flex items-center justify-center",children:o.jsx(cu,{className:"w-32 h-32 text-green-500 dark:text-green-400 animate-pulse"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Test Completed! "}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground",children:"Redirecting to your skill path..."})]})}):o.jsx("div",{className:"p-8 max-w-xl mx-auto mb-8 bg-white dark:bg-card rounded-md border border-gray-200 dark:border-border text-center dark:text-foreground",children:"Loading..."})}const yVe=({phase:e,currentTechQ:t,currentSoftQ:r})=>{const n=e==="career"?1:e==="assessment"&&t?2:3,s=[{index:1,name:"Interests"},{index:2,name:"Tech Skills"},{index:3,name:"Soft Skills"}],a=i=>{const l=n>=i.index,c=n>i.index;return o.jsxs("div",{className:"flex-1 flex flex-col items-center min-w-[70px] md:min-w-[120px]",children:[o.jsx("div",{className:`h-2 md:h-3 w-full rounded-full transition-all duration-500 flex items-center justify-center ${c?"bg-green-500 dark:bg-green-600":l?"bg-[#01bfff]":"bg-gray-200 dark:bg-gray-700"}`}),o.jsx("span",{className:`mt-2 text-xs md:text-sm font-semibold transition-colors duration-500 ${c?"text-green-600 dark:text-green-400":l?"text-[#01bfff] dark:text-[#5AC9F8]":"text-gray-500 dark:text-gray-400"}`,children:i.name})]})};return o.jsx("div",{className:"w-full max-w-[200px] md:max-w-[600px]",children:o.jsx("div",{className:"flex items-center justify-center gap-1.5 md:gap-2",children:s.map(i=>a(i))})})},vVe=({onStart:e})=>o.jsxs("div",{className:"flex flex-col h-full md:h-auto w-full",children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-40 h-40 md:w-56 md:h-56 mx-auto mb-8 flex items-center justify-center transition-all duration-500",children:o.jsx("img",{src:"/lovable-uploads/3dicons-target-dynamic-color.png",alt:"Target",className:"w-40 h-40 md:w-56 md:h-56 object-contain transition-transform duration-500 hover:scale-105"})}),o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4 transition-opacity duration-500",children:"Skill Assessment Test"}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed transition-opacity duration-500",children:"Discover your strengths and unlock personalized career opportunities. Our comprehensive assessment evaluates your technical skills, soft skills, and career interests to provide tailored recommendations."})]}),o.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:o.jsx(ne,{className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",onClick:e,children:"Start the Test"})})]}),xVe=()=>{const e=lr(),t=hi(),[r,n]=p.useState(!1),[s,a]=p.useState("career"),[i,l]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,y]=p.useState(!1),[g,m]=p.useState(!1),v=ca(),x=()=>{m(!0)},b=()=>{m(!1),e(-1)},w=()=>{m(!1)},_={showSidebar:!1,showHeader:!1,background:"white"};return r?o.jsxs(At,{..._,children:[o.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F8F9FA] dark:bg-[#181818] animate-in fade-in duration-500",children:[o.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto_1fr] md:grid-cols-3 items-center px-6 py-6 md:px-8 md:py-6 transition-all duration-300",children:[o.jsxs("div",{className:"flex justify-start items-center",children:[!d&&!h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-400 hidden md:inline",children:"Loading..."})}),o.jsx(_n,{className:`h-7 w-7 md:hidden object-contain transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{y(!0),f(!0)}}),o.jsx(_n,{className:`hidden md:block h-6 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{y(!0),f(!0)}}),h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 hidden md:inline",children:"Breneo"})})]}),o.jsx("div",{className:"flex justify-center items-center",children:o.jsx(yVe,{phase:s,currentTechQ:i,currentSoftQ:c})}),o.jsx("div",{className:"flex justify-end items-center",children:o.jsxs(ne,{variant:"ghost",onClick:x,className:"h-10 w-10 md:h-10 md:w-auto md:px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium flex items-center justify-center gap-2 transition-colors p-0",children:[o.jsx(Er,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden md:inline",children:t.common.cancel})]})})]}),o.jsx("div",{className:"flex-1 w-full overflow-y-auto px-[15px] pb-[15px] pt-2",children:o.jsx("div",{className:"h-full w-full rounded-lg bg-white dark:bg-[#242424] p-8 md:py-8 md:px-[15rem] flex flex-col justify-center md:justify-center transition-opacity duration-500",children:o.jsx("div",{className:"max-w-xl mx-auto w-full h-full md:h-auto flex flex-col transition-all duration-500",children:o.jsx(gVe,{onPhaseChange:a,onTechQChange:l,onSoftQChange:u})})})})]}),v?o.jsx(Di,{open:g,onOpenChange:m,children:o.jsxs(Fi,{children:[o.jsx(Bi,{children:o.jsx(Ui,{children:"Are you sure?"})}),o.jsx("div",{className:"px-6 pb-4",children:o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."})}),o.jsxs(Bo,{className:"flex flex-col gap-2",children:[o.jsx(ne,{onClick:w,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(ne,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})}):o.jsx(Xs,{open:g,onOpenChange:m,children:o.jsxs(Ps,{children:[o.jsx(As,{children:o.jsx(Ts,{className:"text-center",children:"Are you sure?"})}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 text-center",children:"Your progress will be lost if you exit the test."}),o.jsxs(Xa,{className:"flex flex-col gap-2",children:[o.jsx(ne,{onClick:w,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(ne,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})})]}):o.jsxs(At,{..._,children:[o.jsxs("div",{className:"flex flex-col h-full w-full bg-[#efefef] dark:bg-[#181818] animate-in fade-in duration-500",children:[o.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto_1fr] md:grid-cols-3 items-center px-6 py-6 md:px-8 md:py-6 transition-all duration-300",children:[o.jsxs("div",{className:"flex justify-start items-center",children:[!d&&!h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-400 hidden md:inline",children:"Loading..."})}),o.jsx(_n,{className:`h-7 w-7 md:hidden object-contain transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{y(!0),f(!0)}}),o.jsx(_n,{className:`hidden md:block h-6 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{y(!0),f(!0)}}),h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 hidden md:inline",children:"Breneo"})})]}),o.jsx("div",{className:"flex justify-center items-center"}),o.jsx("div",{className:"flex justify-end items-center",children:o.jsxs(ne,{variant:"ghost",onClick:x,className:"h-10 w-10 md:h-10 md:w-auto md:px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium flex items-center justify-center gap-2 transition-colors p-0",children:[o.jsx(Er,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden md:inline",children:t.common.cancel})]})})]}),o.jsx("div",{className:"flex-1 w-full overflow-y-auto px-[15px] pb-[15px] pt-2",children:o.jsx("div",{className:"h-full w-full rounded-lg bg-white dark:bg-[#242424] p-8 md:py-8 md:px-[15rem] flex flex-col justify-center md:justify-center transition-opacity duration-500",children:o.jsx("div",{className:"max-w-xl mx-auto w-full h-full md:h-auto flex flex-col",children:o.jsx(vVe,{onStart:()=>n(!0)})})})})]}),v?o.jsx(Di,{open:g,onOpenChange:m,children:o.jsxs(Fi,{children:[o.jsx(Bi,{children:o.jsx(Ui,{children:"Are you sure?"})}),o.jsx("div",{className:"px-6 pb-4",children:o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."})}),o.jsxs(Bo,{className:"flex flex-col gap-2",children:[o.jsx(ne,{onClick:w,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(ne,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})}):o.jsx(Xs,{open:g,onOpenChange:m,children:o.jsxs(Ps,{children:[o.jsx(As,{children:o.jsx(Ts,{children:"Are you sure?"})}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."}),o.jsxs(Xa,{className:"flex flex-col gap-2",children:[o.jsx(ne,{onClick:w,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(ne,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})})]})};async function i6(e,t,r){var l,c,u;const n=t&&t.length>0?`The user has strong skills in: ${t.slice(0,5).join(", ")}. `:"",s=r?`The user's skills match this role at about ${Math.round(r)}%. `:"",a=3;let i=null;for(let d=1;d<=a;d++)try{const f=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are a friendly career advisor. Write a personalized, engaging EXPANDED summary about the **${e}** role in a conversational, encouraging tone similar to "Your Recommended Career Path" explanations.

CRITICAL: You MUST write a very detailed, expanded summary with 6-8 sentences. Do NOT write a short summary.

Style guidelines:
- Use simple, human-friendly language (like talking to a friend)
- Be encouraging and positive
- Use **bold** for the role name when first mentioned
- Write 6-8 detailed, comprehensive sentences (minimum 6 sentences)
- Make it feel personalized and relevant
- Be very specific about what the role involves
- Provide extensive detail about responsibilities, opportunities, and career growth

Include:
1. What makes **${e}** a great career path
2. What the role involves and why it's exciting
3. How it allows people to use their skills and grow
4. The opportunities and stability this career offers
5. Why it's a rewarding path

${n}${s}Write in a warm, friendly tone that makes the reader excited about this career path. Make sure your response is at least 4 sentences long.`},{role:"user",content:`Write a friendly, personalized VERY EXPANDED summary (6-8 sentences, minimum 6) about the **${e}** role that matches the style of "Your Recommended Career Path" explanations. Make it engaging, encouraging, and very detailed with extensive information.`}],max_tokens:800,temperature:.8})});if(f.ok){const g=(((u=(c=(l=(await f.json()).choices)==null?void 0:l[0])==null?void 0:c.message)==null?void 0:u.content)||"").trim();if(g&&g.length>200&&(g.match(/[.!?]/g)||[]).length>=4)return g;if(d<a){console.warn(`Summary too short for ${e}, attempt ${d}/${a}, retrying...`),await new Promise(m=>setTimeout(m,1e3*d));continue}if(g)return g}else{const h=await f.text().catch(()=>"Unknown error");if(i=new Error(`API error: ${f.status} - ${h}`),d<a){console.warn(`API error for ${e}, attempt ${d}/${a}, retrying...`),await new Promise(y=>setTimeout(y,1e3*d));continue}}}catch(f){if(i=f instanceof Error?f:new Error(String(f)),console.error(`Error generating role summary (attempt ${d}):`,f),d<a){await new Promise(h=>setTimeout(h,1e3*d));continue}}return console.warn(`Failed to generate summary for ${e} after ${a} attempts, using expanded fallback`),`**${e}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${e.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities. Whether you're working on innovative projects, building user experiences, or solving complex problems, this career path offers both stability and the excitement of working at the forefront of your industry.`}async function o6(e){var r,n,s;try{const a=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are an expert job market analyst and career advisor. Generate a comprehensive list of the most important required skills for a ${e} position.

Requirements:
1. Include 15-20 comprehensive skills that are truly required for this role
2. Mix of technical/hard skills (60-70%) and soft/interpersonal skills (30-40%)
3. Use standard, professional skill names (e.g., "JavaScript" not "JS", "React" not "React.js")
4. Include both foundational skills and advanced/specialized skills relevant to ${e}
5. Make skills specific to this role - different roles should have different skill sets
6. Include industry-standard tools, technologies, and methodologies
7. Consider both entry-level and mid-level requirements
8. Include ALL important skills - be comprehensive and thorough

Return ONLY a JSON array of skill names, nothing else. No explanations, no markdown, just the array.

Example output format: ["JavaScript", "React", "Node.js", "TypeScript", "REST APIs", "Git", "Problem Solving", "Team Collaboration", "Agile Methodologies", "Code Review"]`},{role:"user",content:`Generate a comprehensive list of required skills for a ${e} role. Include both technical and soft skills that are essential for success in this position. Return only a JSON array.`}],max_tokens:800,temperature:.4})});if(a.ok){const l=((s=(n=(r=(await a.json()).choices)==null?void 0:r[0])==null?void 0:n.message)==null?void 0:s.content)||"";try{const c=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),u=JSON.parse(c);if(Array.isArray(u))return u.filter(d=>typeof d=="string"&&d.trim().length>0)}catch{const u=l.split(`
`).map(f=>f.trim()).filter(Boolean),d=[];for(const f of u){const h=f.replace(/^[-*]\s*/,"").replace(/^\d+\.\s*/,"").trim();h&&h.length<50&&d.push(h)}if(d.length>0)return d}}}catch(a){console.error("Error generating required skills:",a)}const t=e.toLowerCase();return t.includes("developer")||t.includes("engineer")?["Programming","Problem Solving","Version Control","Testing"]:t.includes("designer")||t.includes("design")?["Design Thinking","Prototyping","User Research","Visual Design"]:t.includes("analyst")||t.includes("data")?["Data Analysis","SQL","Statistics","Data Visualization"]:t.includes("manager")||t.includes("product")?["Project Management","Strategic Thinking","Communication","Agile"]:[]}const Ws={"software engineer":{min:7e4,max:15e4},"software developer":{min:65e3,max:14e4},"full stack developer":{min:75e3,max:16e4},"frontend developer":{min:6e4,max:13e4},"backend developer":{min:7e4,max:15e4},javascript:{min:65e3,max:14e4},"javascript developer":{min:65e3,max:14e4},python:{min:7e4,max:15e4},"python developer":{min:7e4,max:15e4},react:{min:7e4,max:15e4},"react developer":{min:7e4,max:15e4},"node.js":{min:75e3,max:16e4},typescript:{min:75e3,max:16e4},java:{min:8e4,max:17e4},"java developer":{min:8e4,max:17e4},"data analyst":{min:55e3,max:1e5},"data scientist":{min:9e4,max:18e4},"data engineer":{min:85e3,max:16e4},"data analysis":{min:55e3,max:1e5},"data analytics":{min:6e4,max:11e4},"business analyst":{min:6e4,max:11e4},"ux designer":{min:6e4,max:12e4},"ui designer":{min:55e3,max:11e4},"ui/ux designer":{min:6e4,max:12e4},"ui/ux design":{min:6e4,max:12e4},"product designer":{min:8e4,max:15e4},"graphic designer":{min:4e4,max:8e4},"product manager":{min:9e4,max:18e4},"product management":{min:9e4,max:18e4},"project manager":{min:7e4,max:13e4},"scrum master":{min:75e3,max:14e4},"devops engineer":{min:9e4,max:16e4},devops:{min:9e4,max:16e4},"cloud engineer":{min:95e3,max:17e4},aws:{min:1e5,max:18e4},kubernetes:{min:11e4,max:19e4},docker:{min:9e4,max:16e4},"mobile developer":{min:7e4,max:14e4},"ios developer":{min:8e4,max:15e4},"android developer":{min:75e3,max:14e4},"react native":{min:75e3,max:145e3},flutter:{min:7e4,max:135e3},cybersecurity:{min:85e3,max:16e4},"cybersecurity specialist":{min:85e3,max:16e4},"security engineer":{min:9e4,max:17e4},"penetration tester":{min:8e4,max:15e4},"qa engineer":{min:6e4,max:11e4},"quality assurance":{min:6e4,max:11e4},"test engineer":{min:65e3,max:12e4},"automation engineer":{min:7e4,max:13e4},"machine learning":{min:1e5,max:2e5},"ml engineer":{min:1e5,max:2e5},"ai engineer":{min:11e4,max:21e4},blockchain:{min:9e4,max:18e4},web3:{min:9e4,max:18e4},"vue.js":{min:7e4,max:15e4},vue:{min:7e4,max:15e4},angular:{min:75e3,max:16e4},"c#":{min:8e4,max:17e4},"c++":{min:85e3,max:18e4},go:{min:9e4,max:18e4},golang:{min:9e4,max:18e4},rust:{min:95e3,max:19e4},php:{min:6e4,max:13e4},ruby:{min:75e3,max:15e4},swift:{min:85e3,max:17e4},kotlin:{min:8e4,max:16e4},sql:{min:65e3,max:13e4},mongodb:{min:75e3,max:15e4},postgresql:{min:75e3,max:15e4},mysql:{min:7e4,max:14e4},redis:{min:8e4,max:16e4},elasticsearch:{min:9e4,max:18e4},git:{min:7e4,max:14e4},linux:{min:8e4,max:16e4},"3d modeling":{min:5e4,max:1e5},"3d modeler":{min:5e4,max:1e5},blender:{min:55e3,max:11e4},unity:{min:7e4,max:14e4},"unreal engine":{min:8e4,max:16e4}},Uj={"ai engineer":1.15,"machine learning":1.15,"ml engineer":1.15,"data scientist":1.1,cybersecurity:1.12,"security engineer":1.12,"cloud engineer":1.1,aws:1.1,kubernetes:1.12,"devops engineer":1.08,devops:1.08,rust:1.1,go:1.08,golang:1.08,javascript:1.05,"javascript developer":1.05,python:1.05,"python developer":1.05,react:1.05,"react developer":1.05,java:1.03,"java developer":1.03,php:.98,ruby:.95},l6={"United States":1,USA:1,US:1,Canada:.85,"United Kingdom":.75,UK:.75,Germany:.7,France:.65,Netherlands:.75,Switzerland:1.1,Australia:.8,Singapore:.85,Japan:.7,Georgia:.25,Poland:.4,Romania:.35,Ukraine:.3,India:.2,Brazil:.25,Mexico:.3,Argentina:.25},nQ=e=>e.toLowerCase().trim().replace(/[^\w\s]/g,""),bVe=e=>{const t=nQ(e);if(Uj[t])return Uj[t];for(const[r,n]of Object.entries(Uj))if(t.includes(r)||r.includes(t))return n;return 1.02},wVe=e=>{const t=nQ(e);if(Ws[t])return Ws[t];const r=t.split(/\s+/);for(const a of r)if(Ws[a])return Ws[a];let n=null,s=0;for(const[a,i]of Object.entries(Ws))(t.includes(a)||a.includes(t))&&a.length>s&&(n=i,s=a.length);return n||(t.includes("full stack")||t.includes("fullstack")?Ws["full stack developer"]:t.includes("frontend")||t.includes("front end")?Ws["frontend developer"]:t.includes("backend")||t.includes("back end")?Ws["backend developer"]:t.includes("developer")||t.includes("programmer")?Ws["software developer"]:t.includes("engineer")?Ws["software engineer"]:t.includes("designer")||t.includes("design")?Ws["ui/ux designer"]:t.includes("analyst")||t.includes("analysis")?Ws["data analyst"]:t.includes("manager")||t.includes("management")?Ws["product manager"]:{min:6e4,max:12e4})},_Ve=e=>{const t=e.trim();return l6[t]||l6[t.toLowerCase()]||.3},Ei=(e,t="Georgia",r="ALL")=>{try{if(!e||e.trim()==="")return console.warn("Empty job title provided, using default"),Dp({min:6e4,max:12e4},"software developer",t,r);const n=wVe(e);if(!n||typeof n.min!="number"||typeof n.max!="number"||n.min<=0||n.max<=0)return console.warn(`Invalid base range for "${e}", using default`),Dp({min:6e4,max:12e4},e,t,r);const s=Dp(n,e,t,r);return!s.min_salary||!s.max_salary||s.min_salary<=0||s.max_salary<=0?(console.warn(`Invalid salary result for "${e}" in ${t}, using default`),Dp({min:6e4,max:12e4},"software developer",t,r)):s}catch(n){return console.error("Error calculating AI salary:",n,{jobTitle:e,country:t}),Dp({min:6e4,max:12e4},"software developer",t,r)}},Dp=(e,t,r,n)=>{const s=bVe(t),a=Math.round(e.min*s),i=Math.round(e.max*s),l=_Ve(r);let c=Math.round(a*l),u=Math.round(i*l);if(n!=="ALL"){const h=parseInt(n);h<=2?(c=Math.round(c*.8),u=Math.round(u*.85)):h>=6&&(c=Math.round(c*1.3),u=Math.round(u*1.35))}c=Math.max(5e3,c),u=Math.max(c+5e3,u);const d=Math.round((c+u)/2);let f="USD";return r.toLowerCase().includes("georgia")?(f="GEL",c=Math.round(c*2.7),u=Math.round(u*2.7)):r.toLowerCase().includes("uk")||r.toLowerCase().includes("united kingdom")?(f="GBP",c=Math.round(c*.8),u=Math.round(u*.8)):(r.toLowerCase().includes("euro")||["germany","france","netherlands","poland","romania"].some(h=>r.toLowerCase().includes(h)))&&(f="EUR",c=Math.round(c*.9),u=Math.round(u*.9)),(!c||!u||c<=0||u<=0)&&(console.warn(`Invalid salary calculation for "${t}" in ${r}, using defaults`),c=5e4,u=1e5,f=r.toLowerCase().includes("georgia")?"GEL":"USD",f==="GEL"&&(c=Math.round(c*2.7),u=Math.round(u*2.7))),{min_salary:c,max_salary:u,median_salary:d,salary_period:"YEARLY",currency:f}},Ud=e=>{if(!e)return"Salary data not available";const{min_salary:t,max_salary:r,currency:n,salary_period:s}=e;if(!t&&!r)return"Salary data not available";const a=n==="USD"?"$":n==="EUR"?"":n==="GBP"?"":n==="GEL"?"":n||"$",i=s==="YEARLY"?"year":s==="MONTHLY"?"month":"";if(t&&r){const l=Math.round(t).toLocaleString(),c=Math.round(r).toLocaleString();return`${a}${l} - ${a}${c}${i?`/${i}`:""}`}else if(t){const l=Math.round(t).toLocaleString();return`${a}${l}+${i?`/${i}`:""}`}else if(r){const l=Math.round(r).toLocaleString();return`Up to ${a}${l}${i?`/${i}`:""}`}return"Salary data not available"},c6=(e,t,r,n,s)=>{const a=Object.entries(t).sort((u,d)=>{const f=parseFloat(String(u[1]).replace("%",""))||0;return(parseFloat(String(d[1]).replace("%",""))||0)-f}).slice(0,3).map(([u])=>u),i=Object.entries(r).sort((u,d)=>{const f=parseFloat(String(u[1]).replace("%",""))||0;return(parseFloat(String(d[1]).replace("%",""))||0)-f}).slice(0,2).map(([u])=>u),l=s.length>0?s.reduce((u,d)=>u+d.matchPercentage,0)/s.length:75;let c=`We think **${e}** is the perfect career path for you. `;return c+="You're really good at ",a.length>0?(c+=a.join(", "),i.length>0&&(c+=`, and you also have great ${i.join(" and ")} skills`)):i.length>0?c+=i.join(" and "):c+="many important skills",c+=`. Your skills match really well with what ${e} jobs need - about ${Math.round(l)}% match! `,c+="This role is great for you because it lets you use your best skills every day. ",c+="You'll get to learn new things and grow in your career. ",c+="Your mix of technical skills and people skills means you'll do really well in this job. ",c+=`There are lots of opportunities for ${e.toLowerCase()}s, so you'll have a stable and exciting career path ahead.`,c},u6=e=>{const t=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"],r=e.filter(a=>{const i=a.skill.toLowerCase().trim();return!t.some(l=>i.includes(l)||l.includes(i))});return r.length===0?(console.warn("No hard/tech skills found for job path generation"),[]):r.sort((a,i)=>i.score-a.score).slice(0,5).map(a=>{const i=a.skill,c=Math.min(95,Math.max(60,Math.round(a.score/5*100))),u=`Build your career using your ${i} skills. This path is tailored to your expertise in ${i}.`,d=[i],f=[`Advanced ${i}`,`${i} Best Practices`,`${i} Professional Development`],h=[`${i} Professional Certificate`,`${i} Specialist`];return{title:i,description:u,matchPercentage:c,requiredSkills:d,suggestedCourses:f,certifications:h,salaryRange:"",timeToReady:"3-6 months"}})},SVe=()=>{const{user:e}=fr(),t=lr(),[r,n]=p.useState(!0),[s,a]=p.useState(!1),[i,l]=p.useState({}),[c,u]=p.useState([]),[d,f]=p.useState({}),[h,y]=p.useState({}),[g,m]=p.useState([]),[v,x]=p.useState([]),[b,w]=p.useState([]),[_,S]=p.useState(null),[k,E]=p.useState("Georgia"),[j,N]=p.useState(""),[C,P]=p.useState("skills"),[R,B]=p.useState(new Set),z=p.useCallback(async()=>{try{const V=(await Se.get(Je.AUTH.PROFILE)).data,W=(V==null?void 0:V.country)||(e==null?void 0:e.country)||"Georgia";return E(W),W}catch($){return console.error("Error fetching user country:",$),E("Georgia"),"Georgia"}},[e]),D=p.useCallback(($,V)=>{const W={"Software Engineer":"software engineer","UX/UI Designer":"ux designer","Data Analyst":"data analyst","Product Manager":"product manager"};return $.map(ee=>{try{const ie=ee.title.toLowerCase().trim();let G=W[ee.title]||ie,q=Ei(G,V);if(!q.min_salary&&!q.max_salary&&!G.includes("developer")){const J=`${G} developer`;q=Ei(J,V),(q.min_salary||q.max_salary)&&(G=J)}if(!q.min_salary&&!q.max_salary&&!G.includes("engineer")){const J=`${G} engineer`;q=Ei(J,V),(q.min_salary||q.max_salary)&&(G=J)}if(q&&(q.min_salary||q.max_salary)&&(q.min_salary>0||q.max_salary>0)){const J=Ud(q);if(J&&J!=="Salary data not available")return{...ee,salaryRange:J}}const Z=ie.includes("design")?"ui/ux designer":ie.includes("data")||ie.includes("analyst")?"data analyst":ie.includes("manager")?"product manager":"software developer",Y=Ei(Z,V);if(Y.min_salary&&Y.max_salary){const J=Ud(Y);return{...ee,salaryRange:J}}return console.warn(`Could not calculate salary for "${ee.title}" (${G})`),{...ee,salaryRange:"Salary data not available"}}catch(ie){return console.error(`Error calculating salary for ${ee.title}:`,ie),{...ee,salaryRange:"Salary data not available"}}})},[]),O=p.useCallback(async($,V,W)=>await Promise.all($.map(async ie=>{try{const G=V.length>0?V.join(" "):ie.title.toLowerCase(),q={country:W,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:V,salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},Z=await ci.fetchActiveJobs({query:G,filters:q,page:1,pageSize:5}),Y=g_(Z.jobs);return{...ie,jobs:Y.slice(0,5)}}catch(G){return console.error(`Error fetching jobs for ${ie.title}:`,G),{...ie,jobs:[]}}})),[]),U=p.useCallback(async()=>{try{n(!0);try{const ce=await Se.get(`/api/skilltest/results/?user=${e.id}`);let ve=null;if(Array.isArray(ce.data)&&ce.data.length>0?ve=ce.data[0]:ce.data&&typeof ce.data=="object"&&(ve=ce.data),ve&&(ve.final_role||ve.skills_json)){a(!0),ve.final_role&&S(ve.final_role);const we=ve.skills_json||{};f(we.tech||{}),y(we.soft||{});const Te=Object.entries(we.tech||{}).map(([We,tt])=>({skill:We,score:parseFloat(String(tt).replace("%",""))||0})),pt=Object.entries(we.soft||{}).map(([We,tt])=>({skill:We,score:parseFloat(String(tt).replace("%",""))||0})),st=Te.sort((We,tt)=>tt.score-We.score),bt=pt.sort((We,tt)=>tt.score-We.score),X=[...st,...bt].slice(0,5);u(X);const ye=u6(st),Ce=Object.keys(we.tech||{}),Ge=await z(),lt=D(ye,Ge),Ve=[...Te,...pt].map(We=>We.skill.toLowerCase());if(B(new Set(Ve)),m(lt),ve.final_role){const We=c6(ve.final_role,we.tech||{},we.soft||{},X,lt);N(We)}n(!1),Promise.all(lt.map(async We=>{try{const tt=X.map(xe=>xe.skill),[K,H]=await Promise.all([i6(We.title,tt,We.matchPercentage),o6(We.title)]),oe=K&&K.length>100?K:`**${We.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${We.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`;return{...We,summary:oe,aiGeneratedSkills:H.length>0?H:We.requiredSkills}}catch(tt){return console.error(`Error generating data for ${We.title}:`,tt),{...We,summary:`**${We.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${We.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`,aiGeneratedSkills:We.requiredSkills}}})).then(We=>{m(tt=>{const K=new Map(We.map(H=>[H.title,H]));return tt.map(H=>K.get(H.title)||H)})}),Promise.all([(async()=>{const We=await O(lt,Ce,Ge);m(We);const tt=await I(Object.keys(we.tech||{}),Object.keys(we.soft||{}),We);w(tt)})(),(async()=>{const We=await A(Ce);x(We)})()]).catch(We=>{console.error("Error in background operations:",We)});return}}catch{}const $=await Rh(e.id);if(!$||$.length===0){a(!1),n(!1);return}a(!0);const V=Mh($);l(V);const W=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"],ee=[],ie=[];Object.entries(V).forEach(([ce,ve])=>{const we=ce.toLowerCase().trim();W.some(pt=>we.includes(pt)||pt.includes(we))?ie.push({skill:ce,score:ve}):ee.push({skill:ce,score:ve})});const G=ee.sort((ce,ve)=>ve.score-ce.score),q=ie.sort((ce,ve)=>ve.score-ce.score),Z=[...G,...q].slice(0,5);u(Z);const Y=u6(G),J=G.map(ce=>ce.skill),se=await z(),Q=D(Y,se),ue=[...G,...q].map(ce=>ce.skill.toLowerCase());if(B(new Set(ue)),m(Q),Q.length>0){const ce=Q[0].title,ve={},we={};G.forEach(pt=>{ve[pt.skill]=`${pt.score}%`}),q.forEach(pt=>{we[pt.skill]=`${pt.score}%`});const Te=c6(ce,ve,we,Z,Q);N(Te),S(ce)}n(!1),Promise.all(Q.map(async ce=>{try{const ve=Z.map(st=>st.skill),[we,Te]=await Promise.all([i6(ce.title,ve,ce.matchPercentage),o6(ce.title)]),pt=we&&we.length>100?we:`**${ce.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${ce.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`;return{...ce,summary:pt,aiGeneratedSkills:Te.length>0?Te:ce.requiredSkills}}catch(ve){return console.error(`Error generating data for ${ce.title}:`,ve),{...ce,summary:`**${ce.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${ce.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`,aiGeneratedSkills:ce.requiredSkills}}})).then(ce=>{m(ve=>{const we=new Map(ce.map(Te=>[Te.title,Te]));return ve.map(Te=>we.get(Te.title)||Te)})}),Promise.all([(async()=>{const ce=await O(Q,J,se);m(ce);const ve=await I(J,[],ce);w(ve)})(),(async()=>{const ce=await A(J);x(ce)})()]).catch(ce=>{console.error("Error in background operations:",ce)})}catch($){console.error(" Error loading skill data:",$),console.error("Error details:",$ instanceof Error?$.message:String($)),a(!1)}finally{console.log(" loadSkillData finished - setting loading to false"),n(!1)}},[e,z,D,O]);p.useEffect(()=>{if(!e){t("/auth/login");return}U(),z()},[e,t,U,z]);const A=async $=>{try{if($.length===0)return[];const{data:V,error:W}=await Kt.from("courses").select("*").or($.map(ee=>`required_skills.cs.{${ee}}`).join(",")).limit(6);if(W)throw W;return(V==null?void 0:V.map(ee=>({id:ee.id,title:ee.title,provider:ee.provider,level:ee.level,duration:ee.duration,description:ee.description,relevantSkills:ee.required_skills||[]})))||[]}catch(V){return console.error("Error fetching course recommendations:",V),[]}},I=async($,V,W)=>{const ee=[...$,...V].map(J=>J.toLowerCase().trim()),ie=new Map;if(W.forEach(J=>{J.requiredSkills.forEach(se=>{const Q=se.toLowerCase().trim();if(!ee.includes(Q)){ie.has(Q)||ie.set(Q,{jobs:[],count:0});const ue=ie.get(Q);ue.jobs.push(J.title),ue.count++}})}),ie.size===0)return[];const{data:G,error:q}=await Kt.from("courses").select("*").limit(100),Z=new Map;return!q&&G&&G.forEach(J=>{(J.required_skills||[]).map(Q=>Q.toLowerCase().trim()).forEach(Q=>{ie.has(Q)&&(Z.has(Q)||Z.set(Q,[]),Z.get(Q).push({id:J.id,title:J.title,provider:J.provider||"Unknown",level:J.level||"Beginner",duration:J.duration||"N/A",description:J.description||"",relevantSkills:J.required_skills||[]}))})}),Array.from(ie.entries()).map(([J,se])=>{const ue=["programming","code","sql","testing","version control","data","api","framework","database","algorithm","software","technical"].some(ve=>J.includes(ve));let ce="medium";return se.count>=3?ce="high":se.count===1&&(ce="low"),{skill:J.charAt(0).toUpperCase()+J.slice(1),category:ue?"tech":"soft",importance:ce,requiredByJobs:[...new Set(se.jobs)],recommendedCourses:Z.get(J)||[],frequency:se.count}}).sort((J,se)=>{const Q={high:3,medium:2,low:1};return Q[se.importance]!==Q[J.importance]?Q[se.importance]-Q[J.importance]:se.frequency-J.frequency})},te=($,V)=>{const W="#19B5FE",ee=Object.entries($).filter(([Z,Y])=>parseFloat(String(Y).replace("%",""))>0).map(([Z,Y])=>{const J=parseFloat(String(Y).replace("%",""));let se;J>=40?se=1:se=.3+J/40*.7;const Q=`gradient-primary-${Math.round(se*100)}`;return{skill:Z,percentage:J,displayPct:Y,fill:W,opacity:se,gradientId:Q}}).sort((Z,Y)=>Y.percentage-Z.percentage);if(ee.length===0)return o.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No skills data available"});const ie={percentage:{label:"Percentage"}},G=Z=>{const{x:Y,y:J,width:se,height:Q,payload:ue,value:ce}=Z,ve=(ue==null?void 0:ue.skill)||ce||"";if(!Y||!J||!se||!Q||!ve)return null;const we=Y+se/2,st=250-80+25,bt=Math.max(8,Math.floor(se/6)),F=ve.split(" "),X=[];let ye="";for(const Ve of F)if(Ve.length>bt){ye&&(X.push(ye),ye="");for(let We=0;We<Ve.length;We+=bt)X.push(Ve.slice(We,We+bt))}else(ye+" "+Ve).length<=bt?ye=ye?ye+" "+Ve:Ve:(ye&&X.push(ye),ye=Ve);if(ye&&X.push(ye),X.length===0||X.length===1&&X[0].length>bt*1.5){X.length=0;for(let Ve=0;Ve<ve.length;Ve+=bt)X.push(ve.slice(Ve,Ve+bt))}const Ce=X.slice(0,2),Ge=14,lt=st-(Ce.length-1)*(Ge/2);return o.jsx("text",{x:we,y:lt,fill:"#374151",textAnchor:"middle",fontSize:12,fontWeight:600,className:"dark:fill-gray-200",children:Ce.map((Ve,We)=>o.jsx("tspan",{x:we,dy:We===0?0:Ge,children:Ve},We))})},q=Z=>{const{x:Y,y:J,width:se,height:Q,value:ue,payload:ce}=Z,ve=ue||0,we=(ce==null?void 0:ce.skill)||"";if(!Y||!J||!se||!Q)return null;const Te=Y+se/2,pt=250,st=80,bt=Math.max(8,Math.floor(se/6)),F=we.length>bt*1.2,X=pt-st+(F?70:60);return o.jsx("text",{x:Te,y:X,fill:"#374151",textAnchor:"middle",fontSize:13,fontWeight:700,className:"dark:fill-gray-200",children:`${ve.toFixed(0)}%`})};return o.jsx("div",{className:"w-full -mb-4",children:o.jsx(s_,{config:ie,className:"h-[250px] w-full",children:o.jsxs(fO,{data:ee,margin:{top:20,right:10,left:10,bottom:80},barCategoryGap:"25%",children:[o.jsx("defs",{children:ee.map(Z=>o.jsxs("linearGradient",{id:Z.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:Z.fill,stopOpacity:Z.opacity}),o.jsx("stop",{offset:"100%",stopColor:"#0EA5E9",stopOpacity:Z.opacity})]},Z.gradientId))}),o.jsx(Xh,{dataKey:"skill",hide:!0}),o.jsx(Qh,{type:"number",domain:[0,100],hide:!0}),o.jsx(hO,{content:({active:Z,payload:Y})=>{if(Z&&Y&&Y.length){const J=Y[0].payload;return o.jsx("div",{className:"rounded-3xl bg-white dark:bg-gray-800 p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:J.skill}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:W,opacity:J.opacity}}),o.jsxs("span",{className:"font-bold text-lg",style:{color:W,opacity:J.opacity},children:[J.percentage.toFixed(1),"%"]})]})]})})}return null}}),o.jsxs(Xo,{dataKey:"percentage",radius:[8,8,8,8],animationDuration:1e3,animationEasing:"ease-out",children:[ee.map((Z,Y)=>o.jsx(Wy,{fill:`url(#${Z.gradientId})`,style:{transition:"all 0.3s ease"}},`cell-${Y}`)),o.jsx(si,{content:G,dataKey:"skill"}),o.jsx(si,{content:q,dataKey:"percentage"})]})]})})})};return console.log(" SkillPathPage Render - Loading:",r,"HasTestAnswers:",s,"User:",e==null?void 0:e.id),r?(console.log(" Rendering loading state"),o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{children:"Analyzing your skills..."}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Loading skill data..."})]})})})):s?(console.log(" Rendering main SkillPathPage content"),console.log(" Data summary:",{topSkills:c.length,jobPaths:g.length,courseRecommendations:v.length,missingSkills:b.length,techSkills:Object.keys(d).length,softSkills:Object.keys(h).length,finalRole:_}),o.jsxs(At,{children:[o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:static md:translate-x-0 md:left-auto md:flex md:justify-center md:mb-6 md:w-auto",children:o.jsxs(Ln.div,{layout:!0,transition:{type:"spring",stiffness:500,damping:40,mass:1},className:"relative inline-flex items-center bg-gray-100/80 dark:bg-[#242424]/80 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-3xl p-1 shadow-sm",children:[o.jsxs(Ln.button,{layout:!0,onClick:()=>P("skills"),className:`relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${C==="skills"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[C==="skills"&&o.jsx(Ln.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Your Skills"})]}),o.jsxs(Ln.button,{layout:!0,onClick:()=>P("matchedRoles"),className:`relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${C==="matchedRoles"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[C==="matchedRoles"&&o.jsx(Ln.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Matched Roles"})]})]})}),o.jsxs("div",{className:"space-y-4 md:space-y-6 pb-32 md:pb-6",children:[C==="skills"&&o.jsxs(o.Fragment,{children:[_&&j&&o.jsxs(je,{className:"bg-gradient-to-br from-primary/5 to-primary/10",children:[o.jsx(gt,{children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-trophy-iso-color.png",alt:"Trophy",className:"h-12 w-12 flex-shrink-0"}),o.jsxs(Nt,{className:"text-xl",children:["You Are ",_]})]})}),o.jsx(Ee,{children:o.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:o.jsx("p",{className:"text-base leading-relaxed text-gray-700 dark:text-gray-300 whitespace-pre-line",children:j.split("**").map(($,V)=>V%2===1?o.jsx("strong",{className:"text-primary font-semibold",children:$},V):$)})})})]}),(Object.keys(d).length>0||Object.keys(h).length>0)&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.keys(d).length>0&&o.jsxs(je,{children:[o.jsx(gt,{children:o.jsx(Nt,{className:"flex items-center gap-2",children:"Technical Skills"})}),o.jsx(Ee,{className:"p-6",children:te(d)})]}),Object.keys(h).length>0&&o.jsxs(je,{children:[o.jsx(gt,{children:o.jsx(Nt,{className:"flex items-center gap-2",children:"Soft Skills"})}),o.jsx(Ee,{className:"p-6",children:te(h)})]})]})]}),C==="matchedRoles"&&o.jsx("div",{className:"space-y-4",children:g.length>0?g.map(($,V)=>o.jsx(je,{className:V===0?"bg-primary/5":"",children:o.jsx(Ee,{className:"p-6",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsx(Nt,{className:"text-xl flex-1",children:$.title}),o.jsxs(ne,{size:"sm",onClick:()=>{t(`/skill-path/${encodeURIComponent($.title)}`,{state:{jobPath:$}})},children:["View Details",o.jsx(Ix,{className:"h-4 w-4 ml-2"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(je,{className:"bg-gray-50 dark:bg-gray-800/50",children:[o.jsx(gt,{className:"pb-3",children:o.jsxs(Nt,{className:"text-base flex items-center gap-2",children:[o.jsx(Bw,{className:"h-4 w-4 text-primary"}),"Salary Information"]})}),o.jsx(Ee,{className:"pt-0",children:o.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-4 rounded-lg",children:[o.jsx("div",{className:"text-lg font-bold text-primary mb-2",children:$.salaryRange||"Salary data not available"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Average salary range based on current market data"})]})})]}),o.jsxs(je,{className:"bg-gray-50 dark:bg-gray-800/50",children:[o.jsx(gt,{className:"pb-3",children:o.jsx(Nt,{className:"text-base flex items-center gap-2",children:"Role Brief"})}),o.jsx(Ee,{className:"pt-0",children:o.jsx("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-4 rounded-lg",children:o.jsx("div",{className:"text-base text-gray-700 dark:text-gray-300 leading-relaxed",children:$.summary?$.summary.split("**").map((W,ee)=>ee%2===1?o.jsx("strong",{className:"text-primary font-semibold",children:W},ee):W):o.jsx("span",{className:"text-muted-foreground italic",children:"Generating role brief..."})})})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Required Skills"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:($.aiGeneratedSkills||$.requiredSkills).map((W,ee)=>{const ie=R.has(W.toLowerCase());return o.jsxs("div",{className:`flex items-center gap-2 px-4 py-2.5 rounded-[14px] transition-colors ${ie?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[o.jsx("div",{className:"flex-shrink-0",children:ie?o.jsx(qE,{className:"h-4 w-4 text-white"}):o.jsx(ez,{className:"h-4 w-4"})}),o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:W})]},ee)})})]})]})})},$.title)):o.jsx(je,{children:o.jsxs(Ee,{className:"text-center py-8",children:[o.jsx("p",{className:"text-muted-foreground",children:"Complete a skill assessment to see personalized job recommendations."}),o.jsx(ne,{onClick:()=>t("/skill-test"),className:"mt-4",children:"Take Skill Assessment"})]})})})]})]})):(console.log(" Rendering 'no test answers' state"),o.jsx(At,{children:o.jsx("div",{className:"p-6",children:o.jsx(je,{children:o.jsxs(Ee,{className:"text-center py-12",children:[o.jsx(dde,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),o.jsx("h2",{className:"text-lg font-bold mb-2",children:"Complete Your Skill Assessment"}),o.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Take our skill assessment to get personalized job recommendations and a custom learning path tailored to your strengths."}),o.jsxs(ne,{onClick:()=>t("/skill-test"),size:"lg",children:["Take Skill Assessment",o.jsx(Ix,{className:"h-4 w-4 ml-2"})]})]})})})}))},jVe="https://breneo-job-aggregator-k7ti.onrender.com/api/",kVe=async(e,t="Georgia")=>{try{const r=await fetch(jVe,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)return console.error(`Market Stats API error: ${r.status}`),null;const n=await r.json();if(!Array.isArray(n))return console.error("Invalid API response format"),null;const s=e.toLowerCase(),a=n.filter(y=>[y.title,y.description,y.company].join(" ").toLowerCase().includes(s)&&y.is_active),i=t&&t!=="Georgia"&&t!=="Worldwide"?a.filter(y=>y.location.toLowerCase().includes(t.toLowerCase())):a,l=i.length,c=new Date;c.setDate(c.getDate()-30);const u=i.filter(y=>{if(!y.posted_at)return!1;try{return new Date(y.posted_at)>=c}catch{return!1}}).length,d=l>0?u/l*100:0;let f="medium";l>100&&d>30?f="high":(l<20||d<10)&&(f="low");const h=Math.max(0,Math.min(100,d*2));return{totalJobs:l,recentJobs:u,growthPercentage:Math.round(h),demandLevel:f,trending:d>25}}catch(r){return console.error("Error fetching job market stats:",r),null}},EVe=async(e,t)=>{try{const r=new Date().getFullYear();let n="",s="",a="";if(t){const{totalJobs:u,recentJobs:d,growthPercentage:f,demandLevel:h,trending:y}=t,g=d,m=g>0?g/(u-d+1)*100:0;h==="high"?(n=`${e} is experiencing exceptional demand in today's job market. Our analysis shows ${u} active job listings, with ${d} new positions posted in the last 30 days alone. The field demonstrates strong momentum with an estimated ${f}% growth rate, making it one of the most sought-after skills in the current market.`,y?s=`The demand for ${e} professionals is at an all-time high. Companies across technology, finance, healthcare, and e-commerce sectors are actively recruiting talent. With ${d} new postings in just the past month, this skill is currently trending and presents excellent opportunities for both entry-level and experienced professionals. The market shows no signs of slowing down, making it an ideal time to invest in this career path.`:s=`The demand for ${e} professionals remains exceptionally strong. Organizations are prioritizing this skill set, with consistent hiring activity throughout the year. The high number of active listings (${u}) indicates sustained market demand. This field offers competitive salaries and strong career growth prospects for qualified candidates.`):h==="medium"?(n=`${e} maintains healthy demand in the job market with ${u} active listings. We've tracked ${d} new positions in the past 30 days, indicating steady hiring activity. The field shows stable growth with moderate competition, creating balanced opportunities for skilled professionals.`,s=`The market for ${e} professionals is well-established with consistent demand. While competition exists, there are ample opportunities for candidates with the right skill set and experience. The field benefits from steady industry adoption, making it a reliable career choice with good long-term prospects.`):(n=`${e} represents a specialized field with ${u} current listings. While the absolute number may be lower, this indicates a niche market where specialized skills are highly valued. The field offers unique opportunities for professionals who can distinguish themselves.`,s=`While ${e} has a smaller market presence, it offers distinct advantages for specialized professionals. Companies actively seeking this skill often offer competitive compensation and value deep expertise. Success in this field typically requires strong foundational skills, continuous learning, and building a network within the specialized community.`),f>60?a="experiencing explosive growth":f>40?a="rapidly growing":f>20?a="growing steadily":f>5?a="stable with positive growth":a="stable"}else n=`${e} professionals continue to be in demand across various industries. The field has demonstrated consistent growth, with expanding opportunities in technology, business, and creative sectors. Job postings have maintained an upward trajectory, reflecting strong market confidence in this skill set.`,s=`The demand for ${e} skills remains robust as businesses adapt to evolving market needs. This field offers diverse career paths and opportunities for professional development. As organizations invest in digital transformation and innovation, professionals with ${e} expertise are well-positioned for long-term career success.`,a="growing steadily";const i=t?Math.max(35,Math.min(95,Math.round(t.totalJobs/15+t.growthPercentage/2))):60,l=[],c=(t==null?void 0:t.growthPercentage)||15;for(let u=0;u<5;u++){const d=r-4+u,f=4-u,h=c/10*f,y=Math.max(25,Math.min(100,Math.round(i-h)));l.push({year:String(d),popularity:y})}return{popularityText:n,demandText:s,growthTrend:a,chartData:l}}catch(r){return console.error("Error generating AI market insights:",r),null}},NVe=async(e,t="Georgia")=>{try{const r=await kVe(e,t),n=await EVe(e,r);return{stats:r,insights:n}}catch(r){return console.error("Error getting complete market data:",r),{stats:null,insights:null}}},CVe=()=>{var z;const{skillName:e}=kh(),t=lr(),r=zs(),{user:n}=fr(),[s,a]=p.useState(!0),[i,l]=p.useState(""),[c,u]=p.useState(""),[d,f]=p.useState(""),[h,y]=p.useState([]),[g,m]=p.useState([]),[v,x]=p.useState([]),[b,w]=p.useState([]),[_,S]=p.useState("Georgia"),k=e?decodeURIComponent(e):"";(z=r.state)==null||z.jobPath,p.useEffect(()=>{if(!n){t("/auth/login");return}if(!k){t("/skill-path");return}(async()=>{try{a(!0),j(),R();const O=`${k} professionals are in high demand. Loading real-time market data...`;f(O);const U=new Date().getFullYear(),I=[50,55,60,65,70].map(($,V)=>({year:String(U-4+V),popularity:$}));y(I),N("Georgia"),a(!1);const te=await E();te!=="Georgia"&&N(te),Promise.all([C(te),P(),B(te)]).catch($=>{console.error("Error in background operations:",$)})}catch(O){console.error("Error loading skill path details:",O),a(!1)}})()},[k,n]);const E=async()=>{try{const O=(await Se.get(Je.AUTH.PROFILE)).data,U=(O==null?void 0:O.country)||(n==null?void 0:n.country)||"Georgia";return S(U),U}catch(D){return console.error("Error fetching user country:",D),"Georgia"}},j=()=>{const D={JavaScript:"JavaScript developers are responsible for building interactive web applications and dynamic user interfaces. They work with modern frameworks like React, Vue, and Angular to create responsive and engaging web experiences.",Python:"Python developers specialize in backend development, data science, and automation. They build scalable server applications, analyze data, and create machine learning models using Python's extensive library ecosystem.",React:"React developers focus on building user interfaces using the React library. They create reusable components, manage application state, and implement modern UI patterns for web and mobile applications.","UI/UX Design":"UI/UX designers create intuitive and visually appealing user interfaces. They conduct user research, design wireframes and prototypes, and ensure optimal user experiences across different platforms.","Data Analysis":"Data analysts transform raw data into actionable insights. They use statistical methods, visualization tools, and programming languages to help organizations make data-driven decisions."},O=`${k} professionals are in high demand across various industries. This role involves working with ${k} technologies to solve complex problems and deliver innovative solutions.`,U=D[k]||O;l(U)},N=D=>{try{const O={javascript:"javascript developer",python:"python developer",react:"react developer","ui/ux design":"ux designer","ui/ux":"ux designer","data analysis":"data analyst","data analytics":"data analyst","software development":"software developer","web development":"web developer","mobile development":"mobile developer",devops:"devops engineer",cybersecurity:"cybersecurity specialist","quality assurance":"qa engineer","product management":"product manager","3d modeler":"3d artist"},U=k.toLowerCase();let A=O[U]||U,I=Ei(A,D);if(!I.min_salary&&!I.max_salary&&!A.includes("developer")){const V=`${A} developer`;I=Ei(V,D),(I.min_salary||I.max_salary)&&(A=V)}if(!I.min_salary&&!I.max_salary&&!A.includes("engineer")){const V=`${A} engineer`;I=Ei(V,D),(I.min_salary||I.max_salary)&&(A=V)}if(I&&(I.min_salary||I.max_salary)&&(I.min_salary>0||I.max_salary>0)){const V=Ud(I);if(V&&V!=="Salary data not available"){u(V);return}}const te=U.includes("design")||U.includes("ui")||U.includes("ux")?"ui/ux designer":U.includes("data")||U.includes("analyst")||U.includes("analytics")?"data analyst":U.includes("manager")||U.includes("product")?"product manager":U.includes("security")||U.includes("cyber")?"cybersecurity specialist":U.includes("devops")||U.includes("cloud")?"devops engineer":"software developer",$=Ei(te,D);if($.min_salary&&$.max_salary){const V=Ud($);u(V)}else{const V=Ei("software developer",D);u(Ud(V))}}catch(O){console.error("Error calculating salary:",O);try{const U=Ei("software developer",D);u(Ud(U))}catch{u("Salary data not available")}}},C=async D=>{try{const O=NVe(k,D),U=new Promise(I=>{setTimeout(()=>I(null),3e3)}),A=await Promise.race([O,U]);if(A&&A.insights){const I=`${A.insights.popularityText}

${A.insights.demandText}`;f(I),y(A.insights.chartData)}}catch(O){console.error("Error loading popularity data:",O)}},P=async()=>{try{const D=k.toLowerCase().trim(),{data:O,error:U}=await Kt.from("courses").select("id, title, provider, level, duration, description, required_skills, image").or(`title.ilike.%${k}%,description.ilike.%${k}%,title.ilike.%${D}%,description.ilike.%${D}%`).limit(6);if(U){console.error("Supabase query error:",U),m([]);return}let A=[];O&&O.length>0&&(A=O.filter(I=>{const te=(I.title||"").toLowerCase(),$=(I.description||"").toLowerCase(),V=I.required_skills||[],W=te.includes(D)||$.includes(D)||te.includes(k.toLowerCase())||$.includes(k.toLowerCase()),ee=Array.isArray(V)&&V.some(ie=>ie.toLowerCase().includes(D)||D.includes(ie.toLowerCase()));return W||ee})),A.length>0?m(A.map(I=>({id:I.id,title:I.title,provider:I.provider||"Unknown",level:I.level||"Beginner",duration:I.duration||"N/A",description:I.description||"",required_skills:I.required_skills||[],image:I.image||void 0}))):m([])}catch(D){console.error("Error loading courses:",D),m([])}},R=()=>{const D={JavaScript:["Build a real-time chat application using WebSockets","Create a task management app with drag-and-drop functionality","Develop a weather dashboard with API integration","Build an e-commerce product catalog with filtering","Create an interactive data visualization dashboard"],Python:["Build a web scraper to analyze market trends","Create a machine learning model for predictions","Develop a REST API with Flask or Django","Build a data analysis tool for business insights","Create an automation script for repetitive tasks"],React:["Build a portfolio website with animations","Create a social media dashboard with real-time updates","Develop a todo app with state management","Build an e-commerce checkout flow","Create an interactive data table with sorting and filtering"],"UI/UX Design":["Design a mobile app interface for a fitness tracker","Create a website redesign for a local business","Design a complete design system and component library","Create wireframes and prototypes for a SaaS product","Design an accessible checkout flow for e-commerce"],"Data Analysis":["Analyze sales data to identify trends and patterns","Create visualizations for a business dashboard","Perform statistical analysis on survey data","Build a predictive model for customer behavior","Analyze social media engagement metrics"]},O=[`Create a ${k} portfolio project`,`Build a real-world application using ${k}`,`Develop a ${k} tool or utility`,`Contribute to an open-source ${k} project`,`Create a ${k} tutorial or course`],U=D[k]||O;x(U)},B=async D=>{try{const O={country:D,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[k],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},U=ci.fetchActiveJobs({query:k,filters:O,page:1,pageSize:5}),A=new Promise($=>{setTimeout(()=>$({jobs:[]}),5e3)}),I=await Promise.race([U,A]),te=g_(I.jobs);w(te.slice(0,5))}catch(O){console.error("Error loading jobs:",O),w([])}};return s?o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{children:"Loading skill path details..."})]})})}):o.jsx(At,{children:o.jsxs("div",{className:"space-y-6 pb-20 md:pb-6",children:[o.jsxs(je,{children:[o.jsx(gt,{children:o.jsx(Nt,{className:"text-3xl font-bold",children:k})}),o.jsx(Ee,{children:o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(je,{children:[o.jsx(gt,{children:o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(Bw,{className:"h-5 w-5"}),"Salary Information"]})}),o.jsxs(Ee,{children:[o.jsx("div",{className:"text-2xl font-bold text-primary mb-2",children:c}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Average salary range based on current market data"})]})]}),o.jsxs(je,{children:[o.jsx(gt,{children:o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(sz,{className:"h-5 w-5"}),"Market Popularity"]})}),o.jsxs(Ee,{children:[o.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4",children:d}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h4",{className:"text-sm font-medium mb-4",children:"Last 5 Year Popularity"}),o.jsx(s_,{config:{popularity:{label:"Popularity",color:"#19B5FE"}},className:"h-[300px] w-full",children:o.jsxs(fO,{data:h,margin:{top:5,right:10,left:0,bottom:0},children:[o.jsx(UG,{strokeDasharray:"3 3",className:"stroke-muted"}),o.jsx(Xh,{dataKey:"year",tickLine:!1,axisLine:!1,tickMargin:8,className:"text-xs"}),o.jsx(Qh,{tickLine:!1,axisLine:!1,tickMargin:8,className:"text-xs",domain:[0,100],label:{value:"Popularity %",angle:-90,position:"insideLeft"}}),o.jsx(hO,{content:({active:D,payload:O})=>D&&O&&O.length?o.jsx("div",{className:"rounded-lg bg-background p-2 shadow-sm",children:o.jsx("div",{className:"grid gap-2",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("span",{className:"text-sm font-medium",children:O[0].payload.year}),o.jsxs("span",{className:"text-sm font-bold",style:{color:"#19B5FE"},children:[O[0].value,"%"]})]})})}):null}),o.jsx(Xo,{dataKey:"popularity",radius:[8,8,0,0],fill:"#19B5FE",children:h.map((D,O)=>o.jsx(Wy,{fill:"#19B5FE"},`cell-${O}`))})]})})]})]})]})]}),o.jsxs(je,{children:[o.jsx(gt,{children:o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(Ml,{className:"h-5 w-5"}),"Relevant Courses"]})}),o.jsxs(Ee,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(D=>o.jsx(je,{className:"hover:bg-primary/5 hover:shadow-soft transition-all cursor-pointer",onClick:()=>t(`/course/${D.id}`),children:o.jsxs(Ee,{className:"p-4",children:[o.jsx("h5",{className:"font-semibold text-sm mb-2",children:D.title}),o.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:D.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rt,{variant:"secondary",className:"text-xs",children:D.level}),o.jsx("span",{className:"text-xs text-muted-foreground",children:D.duration})]}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["by ",D.provider]})]})]})},D.id))}),g.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ml,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),o.jsx("p",{className:"text-muted-foreground font-medium mb-2",children:"No relevant courses available"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["We couldn't find any courses specifically for"," ",k," at the moment. Check back later or explore our general course catalog."]})]})]})]}),o.jsxs(je,{children:[o.jsx(gt,{children:o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(yde,{className:"h-5 w-5"}),"Project Ideas"]})}),o.jsxs(Ee,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Build these projects after completing courses to strengthen your skills:"}),o.jsx("div",{className:"space-y-3",children:v.map((D,O)=>o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-muted rounded-lg",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-medium flex-shrink-0",children:O+1}),o.jsx("p",{className:"text-sm",children:D})]},O))})]})]}),o.jsxs(je,{children:[o.jsx(gt,{children:o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"h-5 w-5"}),"Relevant Jobs"]})}),o.jsxs(Ee,{children:[b.length>0?o.jsx("div",{className:"space-y-3",children:b.map(D=>{const O=D.job_id||D.id||`job-${Math.random()}`,U=D.job_title||D.title||"Untitled Position",A=D.employer_name||D.company_name||(typeof D.company=="string"?D.company:"Unknown Company"),I=D.job_city&&D.job_state?`${D.job_city}, ${D.job_state}`:D.job_city||D.job_state||D.location||"Location not specified",te=D.job_apply_link||D.apply_link||D.url||"#",$=D.employer_logo||D.company_logo||D.logo_url||"";let V="By agreement";const W=D.job_min_salary||D.min_salary,ee=D.job_max_salary||D.max_salary,ie=D.job_salary_currency||D.salary_currency||"$";return W&&ee&&typeof W=="number"&&typeof ee=="number"?V=`${ie}${W.toLocaleString()} - ${ie}${ee.toLocaleString()}`:W&&typeof W=="number"&&(V=`${ie}${W.toLocaleString()}+`),o.jsx(je,{className:"hover:bg-primary/5 hover:shadow-soft transition-all cursor-pointer",onClick:()=>t(`/jobs/${O}`),children:o.jsx(Ee,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[$&&o.jsx("img",{src:$,alt:A,className:"w-12 h-12 rounded-lg object-contain flex-shrink-0",onError:G=>{G.target.style.display="none"}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h5",{className:"font-semibold text-sm mb-1 line-clamp-1",children:U}),o.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[A,"  ",I]}),V&&o.jsx(Rt,{variant:"secondary",className:"text-xs",children:V})]}),o.jsx(ne,{variant:"outline",size:"sm",onClick:G=>{G.stopPropagation(),window.open(te,"_blank")},children:"Apply"})]})})},O)})}):o.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No jobs found for this skill. Check back later!"}),b.length>0&&o.jsxs(ne,{variant:"outline",className:"w-full mt-4",onClick:()=>{t(`/jobs?search=${encodeURIComponent(k)}`)},children:["View More Jobs",o.jsx(Ix,{className:"h-4 w-4 ml-2"})]})]})]})]})})},d6=[{id:1,name:"Marketing",icon:""},{id:2,name:"Tech",icon:""},{id:3,name:"Design",icon:""},{id:4,name:"Business",icon:""},{id:5,name:"Education",icon:""},{id:6,name:"Science",icon:""},{id:7,name:"Healthcare",icon:""},{id:8,name:"Finance",icon:""},{id:9,name:"Arts",icon:""}];function PVe(){const[e,t]=p.useState([]),[r,n]=p.useState(!1),s=lr(),{user:a}=fr(),i=c=>{e.includes(c)?t(e.filter(u=>u!==c)):t([...e,c])},l=async()=>{if(e.length===0){fe.error("Please select at least one area of interest");return}if(!a){fe.error("Please sign in to save your interests.");return}n(!0);try{const c=e.map(d=>{var f;return(f=d6.find(h=>h.id===d))==null?void 0:f.name}).filter(Boolean),{error:u}=await Kt.from("profiles").update({interests:c,onboarding_completed:!0}).eq("id",a.id);if(u)throw u;fe.success("Interests saved! Your personalized experience is ready."),s("/home")}catch(c){fe.error(`Failed to save interests: ${c.message}`)}finally{n(!1)}};return o.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-breneo-navy mb-2",children:"What are you interested in?"}),o.jsx("p",{className:"text-gray-600",children:"Select areas you'd like to explore. This helps us personalize your experience."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:d6.map(c=>o.jsx(je,{className:`p-4 cursor-pointer transition-all border-2 hover:shadow-soft ${e.includes(c.id)?"border-breneo-blue bg-breneo-blue/5":"border-transparent hover:border-gray-200"}`,onClick:()=>i(c.id),children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"text-2xl",children:c.icon}),o.jsx("div",{className:"font-medium",children:c.name})]})},c.id))}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsx(ne,{onClick:l,className:"bg-breneo-blue hover:bg-breneo-blue/90",disabled:r,children:r?"Saving...":"Continue"})})]})}const AVe=()=>o.jsxs("div",{className:"min-h-screen bg-breneo-lightgray flex flex-col",children:[o.jsx("header",{className:"bg-white py-4 px-6 shadow-sm",children:o.jsx("div",{className:"container mx-auto",children:o.jsx("a",{href:"/",className:"flex items-center space-x-2",children:o.jsx(_n,{className:"h-9 md:h-8"})})})}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx(PVe,{})}),o.jsx("footer",{className:"bg-white py-4 px-6",children:o.jsx("div",{className:"container mx-auto",children:o.jsxs("p",{className:"text-sm text-gray-500 text-center",children:[" ",new Date().getFullYear()," Breneo. All rights reserved."]})})})]}),TVe=async e=>{try{const t=await Rh(e);if(!t||t.length===0)return[];const r=Mh(t);return Object.entries(r).sort(([,s],[,a])=>a-s).slice(0,5).map(([s])=>s)}catch(t){return console.error("Error fetching user skills:",t),[]}},OVe=e=>{const t=[],r=[e.job_title||e.title||"",e.description||e.job_description||"",e.job_required_experience||e.required_experience||"",...Array.isArray(e.required_skills)?e.required_skills:[],...Array.isArray(e.skills)?e.skills:[],...Array.isArray(e.job_skills)?e.job_skills:[],...typeof e.required_skills=="string"?e.required_skills.split(",").map(s=>s.trim()):[],...typeof e.skills=="string"?e.skills.split(",").map(s=>s.trim()):[],...typeof e.job_skills=="string"?e.job_skills.split(",").map(s=>s.trim()):[]].filter(Boolean).join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"],developer:["developer","development","programming","coding","software engineer","software developer"],designer:["designer","design","ui","ux","graphic designer","visual designer"],marketer:["marketer","marketing","digital marketing","social media","content marketing"],analyst:["analyst","analysis","data analyst","business analyst","data analytics"],teacher:["teacher","teaching","education","instructor","trainer"],"project manager":["project manager","pm","project management","scrum master","product manager"]};return Object.keys(n).forEach(s=>{n[s].some(i=>r.includes(i))&&t.push(s)}),[...new Set(t)]},$Ve=(e,t)=>{if(t.length===0)return!1;const r=OVe(e);if(r.length===0){const l=[e.job_title||e.title||"",e.description||e.job_description||"",e.employer_name||e.company_name||e.company||"",e.job_required_experience||e.required_experience||e.experience||""].filter(Boolean).join(" ").toLowerCase(),c=u=>{const d=u.toLowerCase().trim(),f=[d];return d.includes("developer")&&f.push("development","programming","coding","software"),d.includes("designer")&&f.push("design","ui","ux","graphic"),d.includes("marketer")&&f.push("marketing","digital marketing","social media"),d.includes("analyst")&&f.push("analysis","data","analytics"),d.includes("manager")&&f.push("management","lead","coordinate"),f};return t.some(u=>c(u).some(f=>new RegExp(`\\b${f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"i").test(l)))}const n=l=>l.toLowerCase().trim().replace(/\s+/g," "),s=t.map(n),a=r.map(n);return s.filter(l=>a.some(c=>!!(l===c||l.includes(c)||c.includes(l)))).length>0},RVe=async e=>{try{const{data:t,error:r}=await Kt.from("job_notifications").select("job_id").eq("user_id",e);return r?(console.error("Error fetching notified jobs:",r),new Set):new Set((t||[]).map(n=>n.job_id))}catch(t){return console.error("Error fetching notified jobs:",t),new Set}},MVe=async(e,t)=>{try{const{error:r}=await Kt.from("job_notifications").insert({user_id:e,job_id:t,notified_at:new Date().toISOString()});r&&console.error("Error marking job as notified:",r)}catch(r){console.error("Error marking job as notified:",r)}},IVe=async(e,t)=>{try{const r=t.job_title||t.title||"New Job",n=t.employer_name||t.company_name||t.company||"Company",{error:s}=await Kt.from("notifications").insert({title:"New Job Match! ",message:`${r} at ${n} matches your skills`,type:"info",recipient_id:e,is_read:!1});s&&console.error("Error creating notification:",s)}catch(r){console.error("Error creating notification:",r)}},LVe=async e=>{try{const t=await TVe(e);if(t.length===0)return console.log("No user skills found, skipping job check"),[];console.log("Checking for jobs matching skills:",t);const n=(await My({query:"",filters:{country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:"week",skills:t},page:1,pageSize:50})).jobs||[];console.log(`Found ${n.length} jobs to check`);const s=g_(n);console.log(`Filtered to ${s.length} jobs from allowed ATS platforms`);const a=String(e),i=await RVe(gm(a)),l=[];for(const c of s){const u=c.job_id||c.id||"";u&&(i.has(u)||$Ve(c,t)&&l.push(c))}console.log(`Found ${l.length} new matching jobs`);for(const c of l){const u=c.job_id||c.id||"";u&&(await IVe(gm(a),c),await MVe(gm(a),u))}return l}catch(t){return console.error("Error checking for new job matches:",t),[]}},DVe=(e={})=>{const{user:t}=fr(),{enabled:r=!0,checkInterval:n=30*60*1e3}=e,[s,a]=p.useState("default"),[i,l]=p.useState(!1),c=p.useRef(null),u=p.useRef(!1),d=async()=>{if(!("Notification"in window))return console.log("This browser does not support notifications"),!1;if(Notification.permission==="granted")return a("granted"),!0;if(Notification.permission==="denied")return a("denied"),!1;const y=await Notification.requestPermission();return a(y),y==="granted"},f=p.useCallback(y=>{if(s!=="granted"){console.log("Notification permission not granted");return}const g=y.job_title||y.title||"New Job",m=y.employer_name||y.company_name||y.company||"Company",v=y.job_id||y.id||"",x=new Notification("New Job Match! ",{body:`${g} at ${m} matches your skills`,icon:y.employer_logo||y.company_logo||y.logo_url||"/lovable-uploads/Breneo-logo.png",badge:"/lovable-uploads/Breneo-logo.png",tag:`job-${v}`,requireInteraction:!1});x.onclick=()=>{window.focus(),x.close(),window.location.href="/jobs"},setTimeout(()=>{x.close()},5e3)},[s]),h=p.useCallback(async()=>{if(!(!(t!=null&&t.id)||u.current)){u.current=!0,l(!0);try{const y=await LVe(t.id);for(const g of y)f(g);y.length>0&&console.log(`Sent ${y.length} job notifications`)}catch(y){console.error("Error checking for new jobs:",y)}finally{l(!1),u.current=!1}}},[t==null?void 0:t.id,f]);return p.useEffect(()=>{"Notification"in window&&a(Notification.permission)},[]),p.useEffect(()=>{!r||!(t!=null&&t.id)||(Notification.permission==="default"?console.log("Notification permission not yet requested"):Notification.permission==="granted"&&h())},[r,t==null?void 0:t.id,h]),p.useEffect(()=>{if(!r||!(t!=null&&t.id)||s!=="granted")return;c.current&&clearInterval(c.current),c.current=setInterval(()=>{h()},n);const y=()=>{document.visibilityState==="visible"&&h()};return document.addEventListener("visibilitychange",y),()=>{c.current&&clearInterval(c.current),document.removeEventListener("visibilitychange",y)}},[r,t==null?void 0:t.id,s,n,h]),{permission:s,requestPermission:d,isChecking:i,checkForNewJobs:h}},FVe=()=>{const{user:e}=fr(),t=hi(),r=Us(),n=["user-notifications",e==null?void 0:e.id],s=(e==null?void 0:e.user_type)!=="academy";DVe({enabled:s&&!!(e!=null&&e.id),checkInterval:30*60*1e3}),p.useState(!1);const{data:a=[],isLoading:i}=Jt({queryKey:n,queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:u,error:d}=await Kt.from("notifications").select("*").or(`recipient_id.is.null,recipient_id.eq.${e.id}`).order("created_at",{ascending:!1});if(d)throw console.error("Error fetching notifications:",d),new Error("Could not fetch notifications.");return u||[]},enabled:!!(e!=null&&e.id)}),l=sa({mutationFn:async u=>{if(!(e!=null&&e.id))throw new Error("User not authenticated.");const{error:d}=await Kt.from("notifications").update({is_read:!0,updated_at:new Date().toISOString()}).eq("id",u).eq("recipient_id",e.id);if(d)throw d},onMutate:async u=>{await r.cancelQueries({queryKey:n});const d=r.getQueryData(n)||[];return r.setQueryData(n,f=>(f||[]).map(h=>h.id===u?{...h,is_read:!0}:h)),{previousNotifications:d}},onError:(u,d,f)=>{f!=null&&f.previousNotifications&&r.setQueryData(n,f.previousNotifications),fe.error("Could not mark notification as read.")},onSettled:()=>{r.invalidateQueries({queryKey:n})}});p.useEffect(()=>{if(!(e!=null&&e.id))return;const u=h=>{if(r.invalidateQueries({queryKey:n}),h.new){const y=h.new,g=`${y.title}: ${y.message}`;switch(y.type){case"success":fe.success(g);break;case"error":fe.error(g);break;case"warning":fe.warning(g);break;default:fe.info(g)}}},d=Kt.channel("personal-user-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`recipient_id=eq.${e.id}`},u).subscribe(),f=Kt.channel("broadcast-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"recipient_id=is.null"},u).subscribe();return()=>{Kt.removeChannel(d),Kt.removeChannel(f)}},[r,e==null?void 0:e.id,n]);const c=u=>{switch(u){case"success":return o.jsx("div",{className:"bg-green-100 rounded-full p-2",children:o.jsx(qE,{className:"h-5 w-5 text-green-600"})});case"warning":return o.jsx("div",{className:"bg-yellow-100 rounded-full p-2",children:o.jsx(kde,{className:"h-5 w-5 text-yellow-600"})});case"error":return o.jsx("div",{className:"bg-red-100 rounded-full p-2",children:o.jsx(ez,{className:"h-5 w-5 text-red-600"})});default:return o.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:o.jsx(aA,{className:"h-5 w-5 text-blue-600"})})}};return a.filter(u=>!u.is_read&&u.recipient_id===(e==null?void 0:e.id)).length,o.jsx(At,{children:o.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:o.jsx(je,{children:o.jsx(Ee,{className:"p-0",children:o.jsx("div",{className:"divide-y divide-gray-200",children:i?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t.common.loading}):a.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-bell-dynamic-color.png",alt:"No notifications",className:"mx-auto h-48 w-48 mb-4 object-contain"}),o.jsx("p",{children:t.notifications.noNotifications})]}):a.map(u=>o.jsxs("div",{className:`flex items-start gap-4 p-4 transition-colors ${!u.is_read&&u.recipient_id===(e==null?void 0:e.id)?"bg-blue-50":"hover:bg-gray-50"}`,children:[c(u.type),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:u.title}),o.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.created_at).toLocaleDateString()})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:u.message}),!u.is_read&&u.recipient_id===(e==null?void 0:e.id)&&o.jsxs("button",{onClick:()=>l.mutate(u.id),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800 mt-2 disabled:opacity-50",disabled:l.isPending,children:[o.jsx(qE,{className:"h-4 w-4"}),t.notifications.markAsRead]})]})]},u.id))})})})})})},f6=()=>{const e=lr(),{user:t}=fr(),[r,n]=p.useState(null),[s,a]=p.useState([]),[i,l]=p.useState(!0),c=p.useCallback(async()=>{var y;if(t)try{const g=await Se.get(Je.ACADEMY.PROFILE);if(g.data){const m=g.data,v=ac(m,(t==null?void 0:t.id)!=null?String(t.id):void 0),x={...v,first_name:v.first_name||(t==null?void 0:t.first_name)||v.academy_name||"",is_verified:m.is_verified??!1};n(x)}}catch(g){console.error("Failed to load academy profile:",g),((y=g.response)==null?void 0:y.status)===404?(fe.error("Please set up your academy profile first"),e("/academy/profile")):fe.error("Failed to load academy profile")}finally{l(!1)}},[t,e]),u=p.useCallback(async()=>{if(r)try{const{data:y,error:g}=await Kt.from("courses").select("id, title, category, level, created_at").eq("academy_id",r.id).order("created_at",{ascending:!1}).limit(5);if(g)throw g;a(y||[])}catch(y){console.error("Error fetching courses:",y)}},[r]);if(p.useEffect(()=>{c()},[c]),p.useEffect(()=>{r&&r.id&&u()},[r,u]),i)return o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-lg",children:"Loading..."})})});if(!r)return o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})});const d=s.length,f=new Set(s.map(y=>y.category)).size,h=s.filter(y=>new Date(y.created_at).getTime()>Date.now()-30*24*60*60*1e3).length;return o.jsx(At,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-4 gap-2 md:gap-6",children:[o.jsxs(je,{className:"min-w-0",children:[o.jsxs(gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Nt,{className:"text-xs md:text-sm font-medium truncate",children:"Total Courses"}),o.jsx(Ml,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(Ee,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:d}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Active courses in your academy"})]})]}),o.jsxs(je,{className:"min-w-0",children:[o.jsxs(gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Nt,{className:"text-xs md:text-sm font-medium truncate",children:"Categories"}),o.jsx(cu,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(Ee,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:f}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Different course categories"})]})]}),o.jsxs(je,{className:"min-w-0",children:[o.jsxs(gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Nt,{className:"text-xs md:text-sm font-medium truncate",children:"Recent Courses"}),o.jsx(sz,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(Ee,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:h}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Added in the last 30 days"})]})]}),o.jsxs(je,{className:"min-w-0",children:[o.jsxs(gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Nt,{className:"text-xs md:text-sm font-medium truncate",children:"Status"}),o.jsx(No,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(Ee,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:r.is_verified?o.jsx(Rt,{className:"bg-green-500 text-[10px] md:text-xs",children:"Verified"}):o.jsx(Rt,{variant:"outline",className:"text-[10px] md:text-xs",children:"Pending"})}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Academy verification status"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(je,{children:[o.jsx(gt,{children:o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(uu,{className:"h-5 w-5"}),"Academy Information"]})}),o.jsxs(Ee,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Academy Name"}),o.jsx("p",{className:"font-semibold",children:r.academy_name})]}),r.description&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),o.jsx("p",{className:"text-sm",children:r.description})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.website_url&&o.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>window.open(r.website_url,"_blank"),children:[o.jsx(ic,{className:"h-4 w-4 mr-2"}),"Website",o.jsx(cg,{className:"h-3 w-3 ml-2"})]}),r.contact_email&&o.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>window.location.href=`mailto:${r.contact_email}`,children:[o.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Contact"]})]})]})]}),o.jsxs(je,{children:[o.jsxs(gt,{className:"flex flex-row items-center justify-between",children:[o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(Ml,{className:"h-5 w-5"}),"Recent Courses"]}),o.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/academy/courses"),children:"View All"})]}),o.jsx(Ee,{children:s.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ml,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"No courses yet"}),o.jsx(ne,{onClick:()=>e("/academy/courses/add"),size:"sm",children:"Create Your First Course"})]}):o.jsx("div",{className:"space-y-3",children:s.map(y=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent transition-colors",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-sm",children:y.title}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Rt,{variant:"outline",className:"text-xs",children:y.category}),o.jsx(Rt,{variant:"secondary",className:"text-xs",children:y.level})]})]}),o.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(`/academy/courses/edit/${y.id}`),children:"Edit"})]},y.id))})})]})]}),o.jsxs(je,{children:[o.jsx(gt,{children:o.jsxs(Nt,{className:"flex items-center gap-2",children:[o.jsx(Ch,{className:"h-5 w-5"}),"Quick Actions"]})}),o.jsx(Ee,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(ne,{onClick:()=>e("/academy/courses/add"),className:"h-auto flex-col items-start p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Ml,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"Add New Course"})]}),o.jsx("span",{className:"text-sm text-left opacity-80",children:"Create and publish a new course"})]}),o.jsxs(ne,{variant:"outline",onClick:()=>e("/academy/courses"),className:"h-auto flex-col items-start p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Dx,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"Manage Courses"})]}),o.jsx("span",{className:"text-sm text-left opacity-80",children:"View and edit all your courses"})]}),o.jsxs(ne,{variant:"outline",onClick:()=>e("/academy/profile"),className:"h-auto flex-col items-start p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(uu,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"Edit Profile"})]}),o.jsx("span",{className:"text-sm text-left opacity-80",children:"Update your academy information"})]})]})})]})]})})},sQ=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:le("w-full caption-bottom text-sm",e),...t})}));sQ.displayName="Table";const aQ=p.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:le("[&_tr]:border-b",e),...t}));aQ.displayName="TableHeader";const iQ=p.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:le("[&_tr:last-child]:border-0",e),...t}));iQ.displayName="TableBody";const BVe=p.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));BVe.displayName="TableFooter";const x2=p.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));x2.displayName="TableRow";const Fc=p.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Fc.displayName="TableHead";const Bc=p.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:le("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Bc.displayName="TableCell";const UVe=p.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:le("mt-4 text-sm text-muted-foreground",e),...t}));UVe.displayName="TableCaption";const zVe=()=>{const e=lr(),{user:t}=fr(),[r,n]=p.useState([]),[s,a]=p.useState(null),[i,l]=p.useState(!0),c=f=>{e(`/academy/courses/edit/${f.id}`)},u=p.useCallback(async()=>{var f;if(t)try{const h=await Se.get(Je.ACADEMY.PROFILE);if(h.data){const y=h.data,g=ac(y,(t==null?void 0:t.id)!=null?String(t.id):void 0),m={...g,first_name:g.first_name||(t==null?void 0:t.first_name)||g.academy_name||"",is_verified:y.is_verified??!1};a(m),console.log(" Academy profile loaded from API:",m)}}catch(h){console.error("Failed to load academy profile:",h),h&&typeof h=="object"&&"response"in h&&((f=h.response)==null?void 0:f.status)===404?fe.error("Please set up your academy profile first"):fe.error("Failed to load academy profile")}finally{l(!1)}},[t]),d=p.useCallback(async()=>{if(s)try{const{data:f,error:h}=await Kt.from("courses").select("*").eq("academy_id",s.id).order("created_at",{ascending:!1});if(h)throw h;const y=(f||[]).map(g=>({...g,required_skills:g.required_skills||[],topics:g.topics||[],enrolled:g.enrolled||!1,popular:g.popular||!1,is_academy_course:g.is_academy_course||!1}));n(y)}catch(f){console.error("Error fetching courses:",f);const h=f instanceof Error?f.message:"Failed to load courses";fe.error(h)}},[s]);return p.useEffect(()=>{u()},[u]),p.useEffect(()=>{s&&s.id&&d()},[s,d]),i?o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-lg",children:"Loading..."})})}):s?o.jsx(At,{children:o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("span",{className:"text-md font-semibold",children:["You have ",r.length," Courses"]}),o.jsxs(ne,{onClick:()=>e("/academy/courses/add"),children:[o.jsx(Uw,{className:"w-4 h-4 mr-2"}),"Add Course"]})]}),o.jsx("div",{children:r.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ml,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No courses yet"}),o.jsx("p",{className:"text-muted-foreground",children:"Add your first course to get started"})]}):o.jsxs(sQ,{children:[o.jsx(aQ,{children:o.jsxs(x2,{children:[o.jsx(Fc,{children:"Image"}),o.jsx(Fc,{children:"Title"}),o.jsx(Fc,{children:"Category"}),o.jsx(Fc,{children:"Level"}),o.jsx(Fc,{children:"Duration"}),o.jsx(Fc,{})]})}),o.jsx(iQ,{children:r.map(f=>o.jsxs(x2,{children:[o.jsx(Bc,{children:o.jsx("img",{src:f.image,alt:f.title,className:"h-16 w-auto rounded-md object-contain"})}),o.jsx(Bc,{className:"font-medium",children:f.title}),o.jsx(Bc,{children:o.jsx(Rt,{variant:"outline",children:f.category})}),o.jsx(Bc,{children:o.jsx(Rt,{variant:"secondary",children:f.level})}),o.jsx(Bc,{children:f.duration}),o.jsx(Bc,{className:"text-right",children:o.jsx(ne,{variant:"outline",size:"sm",onClick:()=>c(f),children:o.jsx(yo,{className:"h-4 w-4"})})})]},f.id))})]})})]})})}):o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})})},qVe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),WVe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),VVe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),HVe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),KVe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M12 24C5.385 24 0 18.615 0 12S5.385 0 12 0s12 5.385 12 12-5.385 12-12 12zm10.12-10.358c-.35-.11-3.17-.953-6.384-.438 1.34 3.684 1.887 6.684 1.992 7.308 2.3-1.555 3.936-4.02 4.395-6.87zm-6.115 7.808c-.153-.9-.75-4.032-2.19-7.77l-.066.02c-5.79 2.015-7.86 6.025-8.04 6.4 1.73 1.358 3.92 2.137 6.29 2.137 1.42 0 2.77-.29 4-.816zm-11.62-2.58c.232-.4 3.045-5.055 8.332-6.765.135-.045.27-.084.405-.12-.26-.585-.54-1.167-.832-1.72C7.17 11.775 2.206 11.71 1.756 11.7l-.004.312c0 2.633.998 5.037 2.634 6.855zm-2.42-8.955c.46.008 4.683.026 9.477-1.248-1.698-3.018-3.53-5.558-3.8-5.928-2.868 1.35-5.01 3.99-5.676 7.17zM9.6 2.052c.282.38 2.145 2.914 3.822 6 3.645-1.365 5.19-3.44 5.373-3.702-1.81-1.61-4.19-2.586-6.795-2.586-.825 0-1.63.1-2.4.285zm10.335 3.483c-.218.29-1.935 2.493-5.724 4.04.24.49.47.985.68 1.486.08.18.15.36.22.53 3.41-.43 6.8.26 7.14.33-.02-2.42-.88-4.64-2.31-6.38z"})}),GVe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.921h-6.466v-14.921h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.015zm-3.466-8.921h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"})}),zj=(e,t)=>{const r={className:t||"h-5 w-5"};switch(e){case"github":return o.jsx(qVe,{...r});case"linkedin":return o.jsx(WVe,{...r});case"facebook":return o.jsx(VVe,{...r});case"instagram":return o.jsx(HVe,{...r});case"dribbble":return o.jsx(KVe,{...r});case"behance":return o.jsx(GVe,{...r});default:return o.jsx(iA,{className:t||"h-5 w-5"})}},Fp={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram",dribbble:"Dribbble",behance:"Behance"},YVe=()=>{const{user:e,logout:t,loading:r}=fr(),n=lr(),s=ca(),[a,i]=p.useState(null),[l,c]=p.useState(null),[u,d]=p.useState(!0),[f,h]=p.useState(!1),[y,g]=p.useState(!1),[m,v]=p.useState(!1),[x,b]=p.useState({contact_email:""}),[w,_]=p.useState({academy_name:"",description:"",website_url:"",contact_email:""}),[S,k]=p.useState({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}),[E,j]=p.useState(!1),N=p.useRef(!1),[C,P]=p.useState(!1),[R,B]=p.useState(null),[z,D]=p.useState({platform:"",url:""}),[O,U]=p.useState(!1),[A,I]=p.useState(!1),[te,$]=p.useState(!1),[V,W]=p.useState(null),ee=p.useMemo(()=>{const K=(oe,xe)=>{if(oe&&typeof oe=="object")return oe[xe]};return[K(e,"phone_verified"),K(e,"is_phone_verified"),K(l,"phone_verified"),K(l,"is_phone_verified")].some(oe=>oe===!0||oe==="true")},[e,l]),{isPhoneVerified:ie,isSendingCode:G,isVerifyingCode:q,codeSent:Z,codeInput:Y,resendCooldown:J,sendCode:se,verifyCode:Q,setCodeInput:ue}=sY({phoneNumber:e==null?void 0:e.phone_number,ownerId:e==null?void 0:e.id,role:(e==null?void 0:e.user_type)??"academy",initiallyVerified:ee}),ce=async()=>{try{await se(),fe.info(e!=null&&e.phone_number?`We've sent a 6-digit code to ${e.phone_number}.`:"We've sent a 6-digit code to your phone.")}catch(K){const H=K instanceof Error?K.message:"Failed to send verification code. Please try again.";fe.error(H)}},ve=async()=>{try{await Q()&&fe.success("Your phone number has been verified successfully.")}catch(K){const H=K instanceof Error?K.message:"Verification failed. Please check the code and try again.";fe.error(H)}};p.useEffect(()=>{e!=null&&e.profile_image&&W(e.profile_image)},[e==null?void 0:e.profile_image]),p.useEffect(()=>{(async()=>{var oe,xe,qe,Ae;if(r)return;if(!e){d(!1);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){console.error(" No token available, cannot fetch academy profile"),d(!1),fe.error("Please log in again to access your academy profile.");return}d(!0);try{try{const at=await Se.get(Je.ACADEMY.PROFILE);if(at.data){const Ye=at.data,he=ac(Ye,(e==null?void 0:e.id)!=null?String(e.id):void 0);i(he),_({academy_name:he.academy_name,description:he.description,website_url:he.website_url,contact_email:he.contact_email}),b({contact_email:he.contact_email}),Ye.social_links&&typeof Ye.social_links=="object"&&(k(zue(Ye.social_links)),N.current=!0)}}catch(at){const Ye=at,he=(oe=Ye.response)==null?void 0:oe.status,Ne=(xe=Ye.response)==null?void 0:xe.data;if(console.log(" Academy profile API response:",{status:he,url:(qe=Ye.config)==null?void 0:qe.url,hasToken:!!localStorage.getItem("authToken"),errorData:Ne}),he===404)console.log(" Academy profile not found (404) - user may need to create one"),i(null);else if(he===403)console.error("Access forbidden to academy profile"),fe.error("You don't have permission to access academy profile.");else if(he===401){const Ue=(Ne==null?void 0:Ne.detail)||(Ne==null?void 0:Ne.message)||"";console.warn(" Academy profile returned 401",{errorDetail:Ue,url:(Ae=Ye.config)==null?void 0:Ae.url});const De=String(Ue).toLowerCase();if(De.includes("not found")||De.includes("does not exist")||De.includes("no profile")||De.includes("user not found")){console.log(" Profile not found based on error message - treating as 404, allowing user to create profile"),i(null);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){if(console.error(" Token was cleared - checking if it's a server error or real expiration"),De.includes("academy")||De.includes("profile")){console.log(" Error mentions academy/profile - might be missing profile, allowing creation"),i(null);return}fe({title:"Authentication Error",description:"Your session has expired. Please log in again.",variant:"destructive"});return}console.log(" Token exists but got 401 - treating as missing profile, allowing user to create profile"),i(null)}else console.error("Error fetching academy profile:",Ye),fe.error("Could not load academy profile data. Please try again.")}}catch(at){const Ye=at instanceof Error?at.message:"Unknown error";console.error("Unexpected error in fetchProfileData:",Ye),fe({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}})()},[e,fe,r]),p.useEffect(()=>{a&&(async()=>{var H,oe;if(!(!e||!a)&&(H=e==null?void 0:e.email)!=null&&H.trim()&&!N.current){j(!0);try{const xe=localStorage.getItem("authToken"),qe="academy",Ae=a.id,at=e.email.trim(),Ye=await Se.get("/api/social-links/",{headers:xe?{Authorization:`Bearer ${xe}`}:{},params:{role:qe,academy:Ae,user_email:at}});Ye.data&&typeof Ye.data=="object"&&!Array.isArray(Ye.data)?k({github:Ye.data.github||"",linkedin:Ye.data.linkedin||"",facebook:Ye.data.facebook||"",instagram:Ye.data.instagram||"",dribbble:Ye.data.dribbble||"",behance:Ye.data.behance||""}):k({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}catch(xe){((oe=xe==null?void 0:xe.response)==null?void 0:oe.status)===404&&(N.current=!0),k({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}finally{j(!1)}}})()},[e,a]);const we=async()=>{var K;if(!e){fe({title:"Error",description:"You must be logged in to update your profile.",variant:"destructive"});return}if(!w.academy_name.trim()){fe({title:"Validation Error",description:"Academy name is required.",variant:"destructive"});return}v(!0);try{const oe=await Se[a?"patch":"post"](Je.ACADEMY.PROFILE,{academy_name:w.academy_name.trim(),description:w.description.trim()||null,website_url:w.website_url.trim()||null,contact_email:w.contact_email.trim()||null});if(oe.data){const xe={id:(a==null?void 0:a.id)||oe.data.id||"",academy_name:w.academy_name.trim(),description:w.description.trim()||"",website_url:w.website_url.trim()||"",contact_email:w.contact_email.trim()||"",logo_url:(a==null?void 0:a.logo_url)||oe.data.logo_url||null};i(xe),_({academy_name:xe.academy_name,description:xe.description,website_url:xe.website_url,contact_email:xe.contact_email}),fe.success(a?"Your academy profile has been updated.":"Your academy profile has been created."),h(!1)}}catch(H){const oe=H;let xe="Failed to update profile. Please try again.";if((K=oe.response)!=null&&K.data){const qe=oe.response.data;xe=qe.detail||qe.message||xe}else H instanceof Error&&(xe=H.message);console.error("Error updating academy profile:",xe),fe.error(xe)}finally{v(!1)}},Te=K=>{const{id:H,value:oe}=K.target;_(xe=>({...xe,[H]:oe}))},pt=()=>{t(),n("/")},st=()=>{a&&b({contact_email:a.contact_email||""}),g(!0)},bt=async()=>{var K;if(a){v(!0);try{const H=await Se.patch(Je.ACADEMY.PROFILE,{academy_name:a.academy_name,description:a.description,website_url:a.website_url||null,contact_email:x.contact_email.trim()||null});if(H&&H.data){const oe={...a,contact_email:x.contact_email.trim()||""};i(oe),_(xe=>({...xe,contact_email:oe.contact_email})),fe.success("Contact information has been updated."),g(!1)}else throw new Error("No response data received")}catch(H){const oe=H;let xe="Failed to update contact information. Please try again.";if((K=oe.response)!=null&&K.data){const qe=oe.response.data;xe=qe.detail||qe.message||xe}else H instanceof Error&&(xe=H.message);console.error("Error updating contact information:",H),fe.error(xe)}finally{v(!1)}}},F=()=>{B(null),D({platform:"",url:""}),P(!0)},X=K=>{B(K),D({platform:K,url:S[K]||""}),P(!0)},ye=K=>{try{const H=new URL(K);return H.protocol==="http:"||H.protocol==="https:"}catch{try{const H=new URL(`https://${K}`);return!0}catch{return!1}}},Ce=async()=>{var H,oe,xe;if(!e||!a||!z.platform||!z.url.trim()){fe.error("Please select a platform and provide a URL.");return}const K=z.url.trim();if(!ye(K)){fe.error("Please enter a valid URL (e.g., https://example.com).");return}U(!0);try{if(z.platform==="website"){let Me=K;!Me.startsWith("http://")&&!Me.startsWith("https://")&&(Me=`https://${Me}`);const Ft=await Se.patch(Je.ACADEMY.PROFILE,{academy_name:a.academy_name,description:a.description,website_url:Me||null,contact_email:a.contact_email});if(Ft&&Ft.data){const Oe={...a,website_url:Me||""};i(Oe),_(yt=>({...yt,website_url:Oe.website_url})),fe.success(R==="website"?"Website updated successfully.":"Website added successfully."),P(!1),D({platform:"",url:""}),B(null)}else throw new Error("No response data received");return}const qe=localStorage.getItem("authToken");if(!qe)throw new Error("Authentication token is missing");const Ae=z.platform,at="academy",Ye=a.id,he=e==null?void 0:e.email;if(!Ye||!he)throw new Error("Missing required information: academy ID or user email");let Ne=K;!Ne.startsWith("http://")&&!Ne.startsWith("https://")&&(Ne=`https://${Ne}`);const Ue={[Ae]:Ne,role:at,academy:Ye,user_email:he};console.log(" Saving social link:",{platform:Ae,url:Ne,role:at,academy:Ye,user_email:he});let De;try{De=await Se.patch("/api/social-links/",Ue,{headers:{Authorization:`Bearer ${qe}`,"Content-Type":"application/json"}}),console.log(" Social link saved via PATCH:",De.data)}catch(Me){const Ft=Me;if(((H=Ft.response)==null?void 0:H.status)===404||((oe=Ft.response)==null?void 0:oe.status)===400){console.log(" PATCH failed, trying POST to create new record...");try{De=await Se.post("/api/social-links/",Ue,{headers:{Authorization:`Bearer ${qe}`,"Content-Type":"application/json"}}),console.log(" Social link created via POST:",De.data)}catch(Oe){throw console.error(" Both PATCH and POST failed:",Oe),Me}}else throw Me}if(!De||!De.data)throw new Error("No response data received from server");k(Me=>({...Me,[Ae]:Ne}));try{const Me=await Se.get("/api/social-links/",{headers:{Authorization:`Bearer ${qe}`},params:{role:at,academy:Ye,user_email:he}});if(Me.data&&typeof Me.data=="object"&&!Array.isArray(Me.data)){const Ft={github:Me.data.github||"",linkedin:Me.data.linkedin||"",facebook:Me.data.facebook||"",instagram:Me.data.instagram||"",dribbble:Me.data.dribbble||"",behance:Me.data.behance||""};k(Ft),console.log(" Social links refreshed from server:",Ft)}}catch(Me){console.warn(" Could not refresh social links from server:",Me)}fe.success(R?"Social link updated successfully.":"Social link added successfully."),P(!1),D({platform:"",url:""}),B(null)}catch(qe){const Ae=qe;let at="Failed to save. Please try again.";if((xe=Ae.response)!=null&&xe.data){const Ye=Ae.response.data;at=Ye.detail||Ye.message||at}else qe instanceof Error&&(at=qe.message);console.error("Error saving social link/website:",qe),fe.error(at)}finally{U(!1)}},Ge=async K=>{var oe,xe,qe,Ae,at,Ye,he;const H=(oe=K.target.files)==null?void 0:oe[0];if(H){if(!H.type.startsWith("image/")){fe.error("Please select an image file.");return}if(H.size>5*1024*1024){fe.error("Image size should be less than 5MB.");return}I(!0),W(null);try{const Ne=new FormData;Ne.append("profile_image",H);const Ue=localStorage.getItem("authToken"),De=await Se.patch(Je.ACADEMY.PROFILE,Ne,{headers:{Authorization:Ue?`Bearer ${Ue}`:void 0,"Content-Type":"multipart/form-data"}});console.log(" Image upload response:",De.data);const Me=((xe=De.data)==null?void 0:xe.profile_image)||((Ae=(qe=De.data)==null?void 0:qe.profile)==null?void 0:Ae.profile_image)||((Ye=(at=De.data)==null?void 0:at.user)==null?void 0:Ye.profile_image)||null;W(Me),fe.success("Profile image has been updated successfully."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image uploaded successfully")}catch(Ne){console.error(" Error uploading profile image:",Ne);const Ue=Ne;let De="Failed to upload profile image. Please try again.";if((he=Ue.response)!=null&&he.data){const Me=Ue.response.data;De=Me.detail||Me.message||De}fe.error(De)}finally{I(!1)}}},lt=()=>{$(!0)},Ve=()=>{var K;(K=document.getElementById("profile-image-input"))==null||K.click(),$(!1)},We=async()=>{if(e){if(!confirm("Are you sure you want to remove your profile image?")){$(!1);return}I(!0),$(!1);try{const K=localStorage.getItem("authToken"),H=await Se.patch(Je.ACADEMY.PROFILE,{profile_image:null},{headers:{Authorization:K?`Bearer ${K}`:void 0}});console.log(" Image removal response:",H.data),W(null);const oe=await Se.get(Je.ACADEMY.PROFILE,{headers:{Authorization:K?`Bearer ${K}`:void 0}});oe.data&&i(xe=>xe?{...xe,...oe.data}:null),fe.success("Profile image has been removed."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image removed successfully")}catch(K){console.error(" Error removing profile image:",K),fe.error("Failed to remove profile image. Please try again.")}finally{I(!1)}}},tt=async K=>{var H;if(!(!e||!a||!confirm("Are you sure you want to remove this social link?")))try{const oe=localStorage.getItem("authToken");if(!oe)throw new Error("Authentication token is missing");const xe="academy",qe=a.id,Ae=e==null?void 0:e.email;if(!qe||!Ae)throw new Error("Missing required information: academy ID or user email");console.log(" Deleting social link:",{platform:K,role:xe,academy:qe,user_email:Ae});const at={[K]:"",role:xe,academy:qe,user_email:Ae},Ye=await Se.patch("/api/social-links/",at,{headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json"}});if(!Ye||!Ye.data)throw new Error("No response data received from server");console.log(" Social link deleted:",Ye.data),k(he=>({...he,[K]:""}));try{const he=await Se.get("/api/social-links/",{headers:{Authorization:`Bearer ${oe}`},params:{role:xe,academy:qe,user_email:Ae}});if(he.data&&typeof he.data=="object"&&!Array.isArray(he.data)){const Ne={github:he.data.github||"",linkedin:he.data.linkedin||"",facebook:he.data.facebook||"",instagram:he.data.instagram||"",dribbble:he.data.dribbble||"",behance:he.data.behance||""};k(Ne),console.log(" Social links refreshed from server after deletion:",Ne)}}catch(he){console.warn(" Could not refresh social links from server:",he)}fe.success("Social link removed successfully.")}catch(oe){const xe=oe;let qe="Failed to remove social link. Please try again.";if((H=xe.response)!=null&&H.data){const Ae=xe.response.data;qe=Ae.detail||Ae.message||qe}else oe instanceof Error&&(qe=oe.message);console.error(" Error deleting social link:",oe),fe.error(qe)}};return r||u?o.jsx(At,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto mb-2"}),o.jsx("p",{children:"Loading profile..."})]})})}):!a&&!u?o.jsxs(At,{children:[o.jsxs("div",{className:"flex flex-col justify-center items-center h-64 space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your academy profile hasn't been set up yet."}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(ne,{onClick:()=>h(!0),children:"Create Profile"}),o.jsx(ne,{variant:"outline",onClick:()=>n("/academy/settings"),children:"Go to Settings"})]})]}),o.jsx(Xs,{open:f,onOpenChange:h,children:o.jsxs(Ps,{children:[o.jsxs(As,{children:[o.jsx(Ts,{children:"Create Academy Profile"}),o.jsx(tf,{children:"Enter your academy's information to create your profile. Click save when you're done."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"academy_name",className:"text-right",children:"Academy Name *"}),o.jsx(Qe,{id:"academy_name",value:w.academy_name,onChange:Te,className:"col-span-3",placeholder:"Enter academy name"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"description",className:"text-right",children:"Description"}),o.jsx(ry,{id:"description",value:w.description,onChange:Te,className:"col-span-3",placeholder:"Describe your academy"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"website_url",className:"text-right",children:"Website URL"}),o.jsx(Qe,{id:"website_url",value:w.website_url,onChange:Te,className:"col-span-3",placeholder:"https://example.com"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"contact_email",className:"text-right",children:"Contact Email"}),o.jsx(Qe,{id:"contact_email",type:"email",value:w.contact_email,onChange:Te,className:"col-span-3",placeholder:"contact@academy.com"})]})]}),o.jsxs(Xa,{children:[o.jsx(ne,{variant:"outline",onClick:()=>h(!1),disabled:m,children:"Cancel"}),o.jsx(ne,{onClick:we,disabled:m,children:m?"Creating...":"Create Profile"})]})]})})]}):o.jsx(At,{children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(je,{children:o.jsxs(Ee,{className:"flex flex-col items-center pb-6 pt-6",children:[o.jsxs("div",{className:"relative group cursor-pointer",onClick:lt,children:[o.jsx(ig,{src:V||(e==null?void 0:e.profile_image)||(l==null?void 0:l.profile_image)||void 0,alt:(a==null?void 0:a.academy_name)||"Academy",fallback:a!=null&&a.academy_name?a.academy_name.charAt(0).toUpperCase():e!=null&&e.first_name?e.first_name.charAt(0).toUpperCase():e!=null&&e.email?e.email.charAt(0).toUpperCase():"A",size:"xl",loading:"lazy",className:"h-32 w-32"}),A?o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-3xl z-10",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity z-10 pointer-events-none",children:o.jsx(Q9,{className:"h-8 w-8 text-white"})})]}),o.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:Ge,disabled:A,className:"hidden"}),((e==null?void 0:e.first_name)||(e==null?void 0:e.last_name))&&o.jsx("h1",{className:"text-2xl font-bold mt-4 text-center",children:`${e.first_name||""} ${e.last_name||""}`.trim()}),(a==null?void 0:a.academy_name)&&o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2 text-center",children:a.academy_name}),o.jsxs("div",{className:"mt-4 flex items-center gap-2 w-full",children:[o.jsxs(ne,{variant:"outline",className:"flex-[4] flex items-center justify-center gap-2",onClick:()=>n("/academy/settings"),children:[o.jsx(zw,{size:16}),"Settings"]}),o.jsx(ne,{variant:"outline",onClick:pt,className:"flex-[1] flex items-center justify-center border-breneo-danger text-breneo-danger hover:bg-breneo-danger/10",children:o.jsx(rz,{size:16})})]})]})}),o.jsxs(je,{children:[o.jsxs(gt,{className:"flex flex-row items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Contact Information"}),a&&o.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:st,children:o.jsx(yo,{size:16,className:"text-breneo-blue"})})]}),o.jsxs(Ee,{className:"space-y-4",children:[(e==null?void 0:e.phone_number)&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(dg,{size:18,className:"text-breneo-blue"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[o.jsx("span",{className:"text-sm",children:e.phone_number}),o.jsx(Rt,{variant:ie?"secondary":"outline",className:ie?"mt-1 sm:mt-0 bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300":"mt-1 sm:mt-0 border-orange-300 text-orange-600",children:ie?"Verified":"Unverified"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(Pu,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:(e==null?void 0:e.email)||"Not provided"})]}),(a==null?void 0:a.contact_email)&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(Pu,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:a.contact_email})]}),!ie&&o.jsx(vO,{className:"border-orange-300 bg-orange-50 dark:border-orange-900/60 dark:bg-orange-950/30",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Lf,{className:"h-5 w-5 text-orange-600 mt-1"}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{children:[o.jsx(xO,{children:"Verify your phone number"}),o.jsx(bO,{children:"Confirm your phone number to ensure students and partners can trust your academy."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[o.jsx(ne,{onClick:ce,disabled:!(e!=null&&e.phone_number)||G||Z&&J>0,children:G?"Sending...":Z?"Resend code":"Send verification code"}),J>0&&o.jsxs("span",{className:"text-xs text-orange-700 dark:text-orange-300",children:["You can request a new code in ",J,"s"]})]}),Z&&o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[o.jsx(Qe,{inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"Enter 6-digit code",value:Y,onChange:K=>ue(K.target.value.replace(/\D/g,"").slice(0,6)),className:"sm:max-w-[200px]"}),o.jsx(ne,{onClick:ve,disabled:Y.length!==6||q,children:q?"Verifying...":"Verify"})]}),!(e!=null&&e.phone_number)&&o.jsx("div",{className:"pt-2",children:o.jsx(ne,{variant:"outline",size:"sm",onClick:()=>n("/academy/settings"),children:"Add phone number in settings"})})]})]})]})})]})]}),o.jsxs(je,{children:[o.jsxs(gt,{className:"flex flex-row items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Social Networks"}),a&&o.jsxs(ne,{variant:"link",className:"text-breneo-blue p-0 h-auto flex items-center gap-1",onClick:F,children:[o.jsx(Uw,{size:16}),"Add"]})]}),o.jsx(Ee,{children:E?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading..."}):o.jsx("div",{className:"space-y-3",children:Object.entries(S).some(([K,H])=>H&&H.trim()!=="")?Object.entries(S).filter(([K,H])=>H&&H.trim()!=="").map(([K,H])=>o.jsxs("div",{className:"flex items-center justify-between group",children:[o.jsxs("a",{href:H,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 hover:text-breneo-blue transition-colors",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:zj(K,"h-[18px] w-[18px] text-breneo-blue")}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:Fp[K]})}),o.jsx(cg,{size:14,className:"text-gray-400 group-hover:text-breneo-blue"})]}),o.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[o.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>X(K),children:o.jsx(yo,{size:14})}),o.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",onClick:()=>tt(K),children:o.jsx(du,{size:14})})]})]},K)):o.jsx("div",{className:"text-center py-4 text-gray-500",children:'No social links added yet. Click "Add" to add your social media profiles or website.'})})})]})]}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs(je,{children:[o.jsxs(gt,{className:"flex flex-row items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Academy Information"}),a&&o.jsxs(ne,{variant:"link",className:"text-breneo-blue p-0 h-auto",onClick:()=>h(!0),children:[o.jsx(yo,{size:16,className:"mr-1"}),"Edit"]})]}),o.jsxs(Ee,{className:"space-y-4",children:[(a==null?void 0:a.academy_name)&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:"font-semibold",children:"Academy Name"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:a.academy_name})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:"font-semibold",children:"Description"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:(a==null?void 0:a.description)||"No description provided."})]})]})]})}),o.jsx(Xs,{open:f,onOpenChange:h,children:o.jsxs(Ps,{children:[o.jsxs(As,{children:[o.jsx(Ts,{children:"Edit Academy Profile"}),o.jsx(tf,{children:"Make changes to your academy's information here. Click save when you're done."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"academy_name",className:"text-right",children:"Academy Name"}),o.jsx(Qe,{id:"academy_name",value:w.academy_name,onChange:Te,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"description",className:"text-right",children:"Description"}),o.jsx(ry,{id:"description",value:w.description,onChange:Te,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"website_url",className:"text-right",children:"Website URL"}),o.jsx(Qe,{id:"website_url",value:w.website_url,onChange:Te,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"contact_email",className:"text-right",children:"Contact Email"}),o.jsx(Qe,{id:"contact_email",type:"email",value:w.contact_email,onChange:Te,className:"col-span-3"})]})]}),o.jsxs(Xa,{children:[o.jsx(ne,{variant:"outline",onClick:()=>h(!1),disabled:m,children:"Cancel"}),o.jsx(ne,{onClick:we,disabled:m,children:m?"Saving...":"Save Changes"})]})]})}),s?o.jsx(Di,{open:y,onOpenChange:g,children:o.jsxs(Fi,{children:[o.jsx(Bi,{children:o.jsx(Ui,{children:"Edit Contact Information"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"contact_email_mobile",children:"Contact Email"}),o.jsx(Qe,{id:"contact_email_mobile",type:"email",value:x.contact_email,disabled:!0,className:"bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"contact@academy.com"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed or deleted"})]})})}),o.jsxs(Bo,{className:"pt-4",children:[o.jsx(ne,{onClick:bt,disabled:m,children:m?"Saving...":"Save Changes"}),o.jsx(fg,{asChild:!0,children:o.jsx(ne,{variant:"outline",disabled:m,children:"Cancel"})})]})]})}):o.jsx(Xs,{open:y,onOpenChange:g,children:o.jsxs(Ps,{children:[o.jsxs(As,{children:[o.jsx(Ts,{children:"Edit Contact Information"}),o.jsx(tf,{children:"Update your contact information. Email cannot be changed."})]}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"contact_email",children:"Contact Email"}),o.jsx(Qe,{id:"contact_email",type:"email",value:x.contact_email,disabled:!0,className:"bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"contact@academy.com"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed or deleted"})]})})}),o.jsxs(Xa,{children:[o.jsx(ne,{variant:"outline",onClick:()=>g(!1),disabled:m,children:"Cancel"}),o.jsx(ne,{onClick:bt,disabled:m,children:m?"Saving...":"Save Changes"})]})]})}),s?o.jsx(Di,{open:C,onOpenChange:P,children:o.jsxs(Fi,{children:[o.jsx(Bi,{children:o.jsx(Ui,{children:R==="website"?"Edit Website":R?"Edit Social Link":"Add Link"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"social-platform-mobile",children:"Platform *"}),o.jsxs(So,{value:z.platform,onValueChange:K=>D({...z,platform:K}),disabled:O||!!R,children:[o.jsx(Oi,{className:"mt-2",children:o.jsx(jo,{placeholder:"Select a platform"})}),o.jsxs($i,{children:[o.jsx(br,{value:"website",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ic,{className:"h-4 w-4"}),o.jsx("span",{children:"Website"})]})}),Object.keys(Fp).map(K=>o.jsx(br,{value:K,children:o.jsxs("div",{className:"flex items-center gap-2",children:[zj(K,"h-4 w-4"),o.jsx("span",{children:Fp[K]})]})},K))]})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"social-url-mobile",children:"URL *"}),o.jsx(Qe,{id:"social-url-mobile",type:"url",placeholder:"https://...",value:z.url,onChange:K=>D({...z,url:K.target.value}),className:"mt-2",disabled:O,required:!0})]})]})}),o.jsxs(Bo,{children:[o.jsx(ne,{onClick:Ce,disabled:O,children:O?"Saving...":R?"Update":"Add"}),o.jsx(fg,{asChild:!0,children:o.jsx(ne,{variant:"outline",disabled:O,children:"Cancel"})})]})]})}):o.jsx(Xs,{open:C,onOpenChange:P,children:o.jsxs(Ps,{children:[o.jsx(As,{children:o.jsx(Ts,{children:R==="website"?"Edit Website":R?"Edit Social Link":"Add Link"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"social-platform-desktop",children:"Platform *"}),o.jsxs(So,{value:z.platform,onValueChange:K=>D({...z,platform:K}),disabled:O||!!R,children:[o.jsx(Oi,{className:"mt-2",children:o.jsx(jo,{placeholder:"Select a platform"})}),o.jsxs($i,{children:[o.jsx(br,{value:"website",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ic,{className:"h-4 w-4"}),o.jsx("span",{children:"Website"})]})}),Object.keys(Fp).map(K=>o.jsx(br,{value:K,children:o.jsxs("div",{className:"flex items-center gap-2",children:[zj(K,"h-4 w-4"),o.jsx("span",{children:Fp[K]})]})},K))]})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"social-url-desktop",children:"URL *"}),o.jsx(Qe,{id:"social-url-desktop",type:"url",placeholder:"https://...",value:z.url,onChange:K=>D({...z,url:K.target.value}),className:"mt-2",disabled:O,required:!0})]})]})}),o.jsxs(Xa,{children:[o.jsx(ne,{variant:"outline",onClick:()=>{P(!1),D({platform:"",url:""}),B(null)},disabled:O,children:"Cancel"}),o.jsx(ne,{onClick:Ce,disabled:O,children:O?"Saving...":R?"Update":"Add"})]})]})}),s?o.jsx(Di,{open:te,onOpenChange:$,children:o.jsxs(Fi,{children:[o.jsx(Bi,{children:o.jsx(Ui,{children:"Profile Photo"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ne,{onClick:Ve,className:"w-full justify-start gap-3",variant:"ghost",disabled:A,children:[o.jsx(WE,{className:"h-5 w-5"}),V||e!=null&&e.profile_image?"Update Photo":"Upload Photo"]}),V||e!=null&&e.profile_image?o.jsxs(ne,{onClick:We,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:A,children:[o.jsx(du,{className:"h-5 w-5"}),"Remove Photo"]}):null]})})]})}):o.jsx(Xs,{open:te,onOpenChange:$,children:o.jsxs(Ps,{children:[o.jsx(As,{children:o.jsx(Ts,{children:"Profile Photo"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ne,{onClick:Ve,className:"w-full justify-start gap-3",variant:"ghost",disabled:A,children:[o.jsx(WE,{className:"h-5 w-5"}),V||e!=null&&e.profile_image?"Update Photo":"Upload Photo"]}),V||e!=null&&e.profile_image?o.jsxs(ne,{onClick:We,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:A,children:[o.jsx(du,{className:"h-5 w-5"}),"Remove Photo"]}):null]})}),o.jsx(Xa,{children:o.jsx(ne,{variant:"outline",onClick:()=>$(!1),children:"Cancel"})})]})})]})})};function JVe(){const{user:e,loading:t,logout:r}=fr(),{theme:n,setTheme:s}=Ho();V9();const a=zs(),[i,l]=p.useState(!1),[c,u]=p.useState(!0),[d,f]=p.useState(!0),[h,y]=p.useState(!0),[g,m]=p.useState(!0),[v,x]=p.useState(!1),[b,w]=p.useState(!1);p.useState(!1);const[_,S]=p.useState(null),[k,E]=p.useState(!0),[j,N]=p.useState(""),[C,P]=p.useState(""),[R,B]=p.useState(""),[z,D]=p.useState(""),[O,U]=p.useState(""),[A,I]=p.useState(null);p.useState(1),p.useState(""),p.useState(""),p.useState(""),p.useState(!1),p.useEffect(()=>{l(!0);const ee=localStorage.getItem("pref_sound_effects"),ie=localStorage.getItem("pref_animations"),G=localStorage.getItem("pref_motivational_messages"),q=localStorage.getItem("pref_listening_exercises");ee!==null&&u(ee==="true"),ie!==null&&f(ie==="true"),G!==null&&y(G==="true"),q!==null&&m(q==="true")},[]),p.useEffect(()=>{i&&localStorage.setItem("pref_sound_effects",String(c))},[c,i]),p.useEffect(()=>{i&&localStorage.setItem("pref_animations",String(d))},[d,i]),p.useEffect(()=>{i&&localStorage.setItem("pref_motivational_messages",String(h))},[h,i]),p.useEffect(()=>{i&&localStorage.setItem("pref_listening_exercises",String(g))},[g,i]),p.useEffect(()=>{(async()=>{var G,q;if(t)return;if(!e){E(!1);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){console.error(" No token available, cannot fetch academy profile"),E(!1),fe.error("Authentication Error: Please log in again to access academy settings.");return}try{P(e.phone_number||"");try{const Z=await Se.get(Je.ACADEMY.PROFILE);if(Z.data){const Y=Z.data;console.log(" Academy profile data:",Y);const J=ac(Y,(e==null?void 0:e.id)!=null?String(e.id):void 0);I(J),N(J.academy_name),B(J.website_url),D(J.contact_email)}}catch(Z){const Y=Z,J=(G=Y.response)==null?void 0:G.status,se=(q=Y.response)==null?void 0:q.data;if(J===404)console.log(" Academy profile not found (404) - user may need to create one"),I(null);else if(J===401){const Q=(se==null?void 0:se.detail)||(se==null?void 0:se.message)||"",ue=String(Q).toLowerCase();ue.includes("not found")||ue.includes("does not exist")||ue.includes("user not found")?(console.log(" Profile not found based on error message - treating as 404"),I(null)):(console.warn(" Academy profile returned 401:",Q),I(null))}else J===403?(console.error("Access forbidden to academy profile"),fe.error("Access Denied: You don't have permission to access academy settings.")):(console.error("Error fetching academy profile:",Y),fe.error("Error fetching profile: Could not load academy profile data. Please try again."))}}catch(Z){console.error("Unexpected error fetching academy data:",Z),fe.error("Failed to load academy data")}finally{E(!1)}})()},[e,t]),p.useEffect(()=>()=>{_&&URL.revokeObjectURL(_)},[_]),p.useEffect(()=>{v||U("")},[v]);const te=ee=>{if(!ee)return!0;const ie=/^\+?[\d\s\-().]{7,15}$/,G=ee.replace(/\D/g,"");return ie.test(ee)?G.length<7?(U("Phone number must contain at least 7 digits"),!1):G.length>15?(U("Phone number must not exceed 15 digits"),!1):(U(""),!0):(U("Phone number can only contain digits, spaces, hyphens, parentheses, and dots, optionally starting with +"),!1)},$=async ee=>{var G;if(ee.preventDefault(),!(j!==((A==null?void 0:A.academy_name)||"")||C!==((e==null?void 0:e.phone_number)||"")||R!==((A==null?void 0:A.website_url)||"")||z!==((A==null?void 0:A.contact_email)||""))){fe.info("No changes to save.");return}if(!j.trim()){fe.error("Academy name is required.");return}if(te(C)){if(w(!0),!e||!e.id){fe.error("User ID not found. Please log in again."),w(!1);return}try{C!==((e==null?void 0:e.phone_number)||"")&&(await Se.patch(Je.AUTH.PROFILE,{phone_number:C}),console.log("Phone number updated successfully"));try{const q=A?"patch":"post",Z={academy_name:j.trim(),description:(A==null?void 0:A.description)||"",website_url:R.trim()||null,contact_email:z.trim()||null},Y=await Se[q](Je.ACADEMY.PROFILE,Z);if(Y.data){const J=ac(Y.data,(e==null?void 0:e.id)!=null?String(e.id):void 0),se={...J,academy_name:j.trim(),description:J.description||(A==null?void 0:A.description)||"",website_url:R.trim()||J.website_url,contact_email:z.trim()||J.contact_email};I(se),console.log(" Academy profile updated successfully:",se)}}catch(q){console.error("Error updating academy profile:",q);const Z=q;let Y="Failed to update academy profile. Please try again.";if((G=Z.response)!=null&&G.data){const J=Z.response.data;Y=J.detail||J.message||Y}else q instanceof Error&&(Y=q.message);throw new Error(Y)}fe.success("Profile updated successfully!"),x(!1),setTimeout(()=>{window.location.reload()},500)}catch(q){console.error("Error updating profile:",q);let Z="Failed to update profile.";Xt.isAxiosError(q)&&q.response?Z=q.response.data.detail||q.response.data.message||"An error occurred.":q instanceof Error&&(Z=q.message),fe.error(Z)}finally{w(!1)}}},V=()=>{r()};if(k||t)return o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("p",{className:"text-muted-foreground",children:"Loading academy settings..."})})});const W=n==="dark"?"ON":"OFF";return o.jsx(At,{children:o.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:o.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_400px]",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Preferences"}),o.jsxs(je,{children:[o.jsxs(gt,{children:[o.jsx(Nt,{children:"Profile Information"}),o.jsx(Zr,{children:"Update your academy name and phone number"})]}),o.jsx(Ee,{className:"space-y-4",children:o.jsxs("form",{onSubmit:ee=>{ee.preventDefault(),$(ee)},className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"academyName",children:"Academy Name"}),o.jsx(Qe,{id:"academyName",value:j,onChange:ee=>{x(!0),N(ee.target.value)},placeholder:"Enter your academy name",disabled:b,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"phoneNumber",children:"Phone Number"}),o.jsx(Qe,{id:"phoneNumber",value:C,onChange:ee=>{x(!0);const ie=ee.target.value;P(ie),ie?te(ie):U("")},placeholder:"Enter your phone number",disabled:b}),O&&o.jsx("p",{className:"text-sm text-destructive",children:O})]}),o.jsx(cf,{}),o.jsx(ne,{type:"submit",disabled:b,children:b?"Saving...":"Save Changes"})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Lesson experience"}),o.jsx(cf,{})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{htmlFor:"sound-effects",className:"text-base font-normal",children:"Sound effects"}),o.jsx(ds,{id:"sound-effects",checked:c,onCheckedChange:u})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{htmlFor:"animations",className:"text-base font-normal",children:"Animations"}),o.jsx(ds,{id:"animations",checked:d,onCheckedChange:f})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{htmlFor:"motivational-messages",className:"text-base font-normal",children:"Motivational messages"}),o.jsx(ds,{id:"motivational-messages",checked:h,onCheckedChange:y})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{htmlFor:"listening-exercises",className:"text-base font-normal",children:"Listening exercises"}),o.jsx(ds,{id:"listening-exercises",checked:g,onCheckedChange:m})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Appearance"}),o.jsx(cf,{})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{htmlFor:"dark-mode",className:"text-base font-normal",children:"Dark mode"}),o.jsxs(So,{value:n||"light",onValueChange:ee=>s(ee),children:[o.jsx(Oi,{id:"dark-mode",className:"w-32",children:o.jsx(jo,{children:W})}),o.jsxs($i,{children:[o.jsx(br,{value:"light",children:"OFF"}),o.jsx(br,{value:"dark",children:"ON"})]})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(i2,{}),o.jsxs(je,{children:[o.jsx(gt,{children:o.jsx(Nt,{className:"text-lg",children:"Account"})}),o.jsxs(Ee,{className:"space-y-2",children:[o.jsx(Fr,{to:"/academy/settings",className:`block text-sm transition-colors ${a.pathname==="/academy/settings"?"text-primary font-medium":"text-foreground hover:text-primary"}`,children:"Preferences"}),o.jsx(Fr,{to:"/academy/profile",className:`block text-sm transition-colors ${a.pathname==="/academy/profile"?"text-primary font-medium":"text-foreground hover:text-primary"}`,children:"Profile"}),o.jsx(Fr,{to:"/academy/profile",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Privacy settings"})]})]}),o.jsxs(je,{children:[o.jsx(gt,{children:o.jsx(Nt,{className:"text-lg",children:"Subscription"})}),o.jsx(Ee,{children:o.jsx(Fr,{to:"/subscription",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Choose a plan"})})]}),o.jsxs(je,{children:[o.jsx(gt,{children:o.jsx(Nt,{className:"text-lg",children:"Support"})}),o.jsx(Ee,{children:o.jsx(Fr,{to:"/help",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Help Center"})})]}),o.jsx(ne,{variant:"link",onClick:V,className:"w-full text-primary hover:text-primary/80 justify-center",children:"LOG OUT"})]})]})})})}const XVe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),QVe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),ZVe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),eHe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),tHe=(e,t)=>{const r={className:t};switch(e){case"github":return o.jsx(XVe,{...r});case"linkedin":return o.jsx(QVe,{...r});case"facebook":return o.jsx(ZVe,{...r});case"instagram":return o.jsx(eHe,{...r});default:return o.jsx(iA,{className:t})}},rHe={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram"},nHe=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),sHe=()=>{const{academySlug:e}=kh();fr();const t=lr(),r=e?/^\d+$/.test(e):!1,n=e?nHe(e)||r:!1,s=n?e:null,a=n?null:e,i=g=>{if(!g)return{id:""};const m=x=>{for(const b of x){const w=g[b];if(w!=null){if(typeof w=="string"&&w.trim())return w;if(typeof w=="number")return String(w)}}};return{id:g.id!==null&&g.id!==void 0?String(g.id):g.academy_id!==null&&g.academy_id!==void 0?String(g.academy_id):"",user_id:g.user_id,academy_name:m(["academy_name","name","academyName","first_name","firstName"])||void 0,description:m(["description","desc"])||void 0,website_url:m(["website_url","website","websiteUrl","url"])||void 0,contact_email:m(["contact_email","email","contactEmail","contact_mail"])||void 0,phone_number:m(["phone_number","phone","phoneNumber"])||void 0,is_verified:g.is_verified||g.isVerified||g.verified||!1,logo_url:m(["logo_url","logoUrl","logo","profile_image_url","profileImageUrl","profile_photo_url","profilePhotoUrl","image"])||void 0,profile_photo_url:m(["profile_image_url","profileImageUrl","profile_photo_url","profilePhotoUrl","profile_photo","profilePhoto","image","logo_url","logoUrl","logo"])||void 0,social_links:g.social_links||void 0}},{data:l,isLoading:c,error:u}=Jt({queryKey:["academy-profile",s||a],queryFn:async()=>{var w,_,S,k,E,j;if(!e)return null;let g=null,m=null;try{let N;if(n&&s)m=s,N=await Se.get(`/api/academy/${s}/`),console.log(" Academy profile fetched by ID:",{academyId:s,rawData:N.data,hasProfileData:!!((w=N.data)!=null&&w.profile_data)}),(_=N.data)!=null&&_.profile_data?(g=N.data.profile_data,console.log(" Using profile_data from response:",g)):g=N.data;else if(a)N=await Se.get(`/api/academy/${a}/`),console.log(" Academy profile fetched by slug:",{academySlug:a,rawData:N.data,hasProfileData:!!((S=N.data)!=null&&S.profile_data)}),(k=N.data)!=null&&k.profile_data?(g=N.data.profile_data,console.log(" Using profile_data from response:",g)):g=N.data,(g==null?void 0:g.id)!==null&&(g==null?void 0:g.id)!==void 0?m=String(g.id):g!=null&&g.academy_id&&(m=String(g.academy_id));else return null}catch(N){if(a)try{const C=await Se.get(`/api/academies/${a}/`);console.log(" Academy profile fetched (plural endpoint):",{academySlug:a,rawData:C.data,hasProfileData:!!((E=C.data)!=null&&E.profile_data)}),(j=C.data)!=null&&j.profile_data?g=C.data.profile_data:g=C.data,(g==null?void 0:g.id)!==null&&(g==null?void 0:g.id)!==void 0?m=String(g.id):g!=null&&g.academy_id&&(m=String(g.academy_id))}catch(C){console.error(" Error fetching academy profile:",{singularError:N,pluralError:C,academySlug:a,endpointsTried:[`/api/academy/${a}/`,`/api/academies/${a}/`]})}else console.error(" Error fetching academy profile by ID:",{error:N,academyId:s,endpoint:`/api/academy/${s}/`})}const v=g?i(g):null;let x=null;if(m||v!=null&&v.id){const N=m||(v==null?void 0:v.id);try{const{data:C,error:P}=await Kt.from("academy_profiles").select("id, academy_name, description, website_url, contact_email, logo_url, is_verified, user_id").eq("id",N).single();P?console.warn(" Error fetching academy profile from Supabase:",P):C&&(x=C,console.log(" Academy profile fetched from Supabase:",x))}catch(C){console.warn(" Error fetching from Supabase:",C)}}if(!v&&!x&&g===null&&!m)throw new Error("Academy not found");const b={id:(v==null?void 0:v.id)||(x==null?void 0:x.id)||m||"",user_id:(v==null?void 0:v.user_id)||(x==null?void 0:x.user_id),academy_name:(v==null?void 0:v.academy_name)||(x==null?void 0:x.academy_name)||void 0,description:(v==null?void 0:v.description)||(x==null?void 0:x.description)||void 0,website_url:(v==null?void 0:v.website_url)||(x==null?void 0:x.website_url)||void 0,contact_email:(v==null?void 0:v.contact_email)||(x==null?void 0:x.contact_email)||void 0,phone_number:(v==null?void 0:v.phone_number)||void 0,is_verified:(v==null?void 0:v.is_verified)??(x==null?void 0:x.is_verified)??!1,logo_url:(v==null?void 0:v.logo_url)||(v==null?void 0:v.profile_photo_url)||(x==null?void 0:x.logo_url)||void 0,profile_photo_url:(v==null?void 0:v.profile_photo_url)||(v==null?void 0:v.logo_url)||(x==null?void 0:x.logo_url)||void 0,social_links:(v==null?void 0:v.social_links)||void 0};if(!b.academy_name&&!b.id)throw new Error("Academy not found");return console.log(" Merged academy profile:",b),b},enabled:!!e,retry:1}),{data:d,isLoading:f,error:h}=Jt({queryKey:["academy-courses",l==null?void 0:l.id,s||a],queryFn:async()=>{const g=(l==null?void 0:l.id)||s;if(!g)return console.warn(" No academy ID available to fetch courses"),[];try{const{data:m,error:v}=await Kt.from("courses").select("*").eq("academy_id",g).order("created_at",{ascending:!1});if(v)throw console.error(" Error fetching courses from Supabase:",v),v;return console.log(" Academy courses fetched from Supabase:",{academyId:g,courseCount:(m==null?void 0:m.length)||0}),Array.isArray(m)?m.map(x=>({...x,topics:x.topics||[],required_skills:x.required_skills||[]})):[]}catch(m){return console.error(" Error fetching courses from Supabase:",m),[]}},enabled:!!(l!=null&&l.id||s),retry:1});if(!e)return o.jsx(At,{children:o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("p",{className:"text-red-500",children:"Academy ID or slug is required"}),o.jsx(Fr,{to:"/courses",children:o.jsxs(ne,{variant:"outline",className:"mt-4",children:[o.jsx(ym,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})]})});const y=(l==null?void 0:l.academy_name)||(a?QWe(a):"Loading Academy...");return o.jsx(At,{children:o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{className:"animate-pulse space-y-6",children:[o.jsx("div",{className:"h-10 w-64 bg-gray-200 rounded"}),o.jsxs(je,{children:[o.jsx(gt,{children:o.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded"})}),o.jsx(Ee,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 w-3/4 bg-gray-200 rounded"})]})})]})]})}),o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(je,{children:o.jsx(Ee,{className:"p-6",children:o.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[o.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-3xl mb-6"}),o.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded mb-2"}),o.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded mb-4"}),o.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded"})]})})}),o.jsx(je,{children:o.jsx(Ee,{className:"p-4",children:o.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded mx-auto"})})})]})]}):l?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(je,{children:o.jsxs(Ee,{className:"flex flex-col items-center pb-6 pt-6",children:[o.jsx("div",{className:"relative",children:o.jsx(ig,{src:l.profile_photo_url||l.logo_url||void 0,alt:l.academy_name||"Academy",fallback:l.academy_name?l.academy_name.charAt(0).toUpperCase():"A",size:"xl",loading:"lazy",className:"h-32 w-32"})}),l.academy_name&&o.jsx("h1",{className:"text-2xl font-bold mt-4 text-center",children:l.academy_name}),l.is_verified&&o.jsx(Rt,{className:"bg-green-100 text-green-800 hover:bg-green-100 mt-2",children:"Verified"}),o.jsxs("div",{className:"mt-4 text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:(d==null?void 0:d.length)||0}),o.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total courses"})]})]})}),o.jsx(je,{children:o.jsx(Ee,{className:"p-4 text-center",children:o.jsx(Rt,{variant:"outline",className:"text-xs uppercase tracking-wider",children:"ACADEMY"})})}),o.jsxs(je,{children:[o.jsx(gt,{children:o.jsx("h3",{className:"text-lg font-bold",children:"Contact Information"})}),o.jsxs(Ee,{className:"space-y-4",children:[l.phone_number&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(dg,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:l.phone_number})]}),l.contact_email&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(Pu,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:l.contact_email})]}),l.website_url&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(ic,{size:18,className:"text-breneo-blue"})}),o.jsxs("a",{href:l.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-breneo-blue hover:underline flex items-center gap-1",children:[l.website_url,o.jsx(cg,{size:14})]})]})]})]}),l.social_links&&(l.social_links.github||l.social_links.linkedin||l.social_links.facebook||l.social_links.instagram)&&o.jsxs(je,{children:[o.jsx(gt,{children:o.jsx("h3",{className:"text-lg font-bold",children:"Social Networks"})}),o.jsx(Ee,{children:o.jsx("div",{className:"space-y-3",children:Object.entries(l.social_links).filter(([g,m])=>m&&m.trim()!=="").map(([g,m])=>o.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 hover:text-breneo-blue transition-colors",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:tHe(g,"h-[18px] w-[18px] text-breneo-blue")}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:rHe[g]})}),o.jsx(cg,{size:14,className:"text-gray-400"})]},g))})})]})]}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx("div",{className:"mb-4",children:o.jsx(Fr,{to:"/courses",children:o.jsxs(ne,{variant:"ghost",className:"text-breneo-blue hover:text-breneo-blue/80 mb-4",children:[o.jsx(ym,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})}),o.jsxs(je,{children:[o.jsx(gt,{children:o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"About me"})}),o.jsx(Ee,{children:o.jsx("div",{className:"text-gray-700 leading-relaxed space-y-3",children:l.description?o.jsx("p",{children:l.description}):o.jsx("p",{className:"text-gray-400 italic",children:"No description available"})})})]}),o.jsxs(je,{children:[o.jsx(gt,{children:o.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["My courses (",(d==null?void 0:d.length)||0,")"]})}),o.jsx(Ee,{children:f?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-gray-500",children:"Loading courses..."})}):d&&d.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:d.map(g=>o.jsxs(je,{className:"overflow-hidden",children:[o.jsx("div",{className:"h-40 overflow-hidden",children:o.jsx("img",{src:g.image?g.image:"/lovable-uploads/no_photo.png",alt:g.title,className:"w-full h-full object-cover",onError:m=>{const v=m.target;v.src.includes("/lovable-uploads/no_photo.png")||(v.onerror=null,v.src="/lovable-uploads/no_photo.png")}})}),o.jsxs(Ee,{className:"p-5",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"font-medium text-lg",children:g.title}),g.popular&&o.jsx(Rt,{variant:"outline",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:"Popular"})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-500",children:[o.jsx("span",{children:g.level}),o.jsx("span",{children:""}),o.jsx("span",{children:g.duration}),o.jsx("span",{children:""}),o.jsx("span",{children:g.category})]}),o.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-2",children:g.description}),o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.topics.slice(0,3).map((m,v)=>o.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:m},v)),g.topics.length>3&&o.jsxs("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:["+",g.topics.length-3," more"]})]})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.required_skills.slice(0,2).map((m,v)=>o.jsx("span",{className:"bg-breneo-blue/10 text-breneo-blue text-xs px-2 py-1 rounded",children:m},v)),g.required_skills.length>2&&o.jsxs("span",{className:"bg-breneo-blue/10 text-breneo-blue text-xs px-2 py-1 rounded",children:["+",g.required_skills.length-2]})]}),o.jsx(ne,{size:"sm",variant:g.enrolled?"outline":"default",className:g.enrolled?"":"bg-breneo-blue hover:bg-breneo-blue/90",onClick:()=>{g.enrolled||t(`/course/${g.id}`)},children:g.enrolled?"Continue":"Enroll"})]})]})]},g.id))}):o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-3xl border",children:[o.jsxs("p",{className:"text-gray-500 mb-4",children:["No courses found for ",y]}),o.jsx(Fr,{to:"/courses",children:o.jsx(ne,{variant:"outline",children:"Browse All Courses"})})]})})]})]})]}):u||!l?o.jsx("div",{className:"lg:col-span-3",children:o.jsx(je,{className:"border-red-200",children:o.jsx(Ee,{className:"p-6 text-center",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-breneo-navy mb-4",children:"Academy Not Found"}),o.jsx("p",{className:"text-red-600 mb-4 text-lg",children:"Cannot find an academy"}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:u instanceof Error?u.message==="Academy not found"||u.message.includes("not found")||u.message.includes("404")?"The academy you're looking for doesn't exist or has been removed.":`Error: ${u.message}`:"The academy you're looking for doesn't exist or has been removed."}),e&&o.jsx("p",{className:"text-gray-500 text-xs mb-6",children:n?`Academy ID: ${s}`:`Academy Slug: ${a}`}),o.jsx(Fr,{to:"/courses",children:o.jsxs(ne,{variant:"default",children:[o.jsx(ym,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})]})})})}):null})})},aHe=()=>{const e=lr();Ho();const[t,r]=p.useState(!1),[n,s]=p.useState(1),[a,i]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(""),[y,g]=p.useState(""),[m,v]=p.useState(""),[x,b]=p.useState(!1),[w,_]=p.useState(!1),[S,k]=p.useState(nn.find(O=>O.code==="GE")),[E,j]=p.useState(!1),[N,C]=p.useState(!1),[P,R]=p.useState(!1);p.useEffect(()=>{r(!0)},[]);const B=p.useCallback(O=>new Promise((U,A)=>{const I=new Image;I.onload=()=>U(),I.onerror=()=>A(new Error(`Failed to load image: ${O}`)),I.src=O}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([B("/lovable-uploads/Breneo-logo.png"),B("/lovable-uploads/Breneo-logo-dark.png"),B("/lovable-uploads/academy.png")])}catch(U){console.warn("Some images failed to preload:",U),R(!0)}})()},[B]);const z=()=>{if(!a||!l||!u||!f){fe.error("Please fill out all fields to continue.");return}s(2)},D=async O=>{if(O.preventDefault(),n!==2||!y||!m){fe.error("Please complete all fields to register.");return}_(!0);const U=`${S==null?void 0:S.dial_code}${f}`;try{const A=await fetch(`${Zd}/api/academy/register/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:l,password:u,phone_number:U,description:y,website:m})}),I=A.headers.get("content-type");if(I&&I.indexOf("application/json")!==-1){const te=await A.json();if(A.ok)fe.success("Registration successful! Please verify your email."),sessionStorage.setItem("tempAcademyEmail",l),e("/email-verification",{state:{email:l,isAcademy:!0}});else{const $=Object.values(te).flat();fe.error($.join(" ")||"Registration failed.")}}else{const te=await A.text();console.error("Server returned non-JSON response:",te),fe.error("A server error occurred. Please try again later.")}}catch(A){console.error("Registration error:",A),fe.error("An unexpected error occurred. Please try again.")}finally{_(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!E&&!P&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(fn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-6 lg:h-5 transition-opacity duration-300 ${E?"opacity-100":"opacity-0"}`,onLoad:()=>j(!0),onError:()=>{R(!0),j(!0)}})]}),o.jsx(Gi,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-4 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!E&&!P&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(fn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-8 transition-opacity duration-300 ${E?"opacity-100":"opacity-0"}`,onLoad:()=>j(!0),onError:()=>{R(!0),j(!0)}})]}),o.jsx(Gi,{})]}),o.jsx("div",{className:"w-full bg-gray-200 dark:bg-secondary rounded-full h-2 mb-8",children:o.jsx("div",{className:"bg-[#00BFFF] h-2 rounded-full transition-all duration-500 ease-in-out",style:{width:n===1?"50%":"100%"}})}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Register Academy"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:n===1?"Start by creating your account credentials.":"Tell us more about your academy."}),o.jsxs("form",{onSubmit:D,className:"space-y-6",children:[n===1&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"name",children:"Academy Name"}),o.jsx(Qe,{id:"name",placeholder:"Your academy's name",className:"mt-1 h-[3.2rem]",value:a,onChange:O=>i(O.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"email",children:"Email Address"}),o.jsx(Qe,{id:"email",type:"email",placeholder:"Enter contact email",className:"mt-1 h-[3.2rem]",value:l,onChange:O=>c(O.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"phone-input-container mt-1 flex items-center rounded-md border border-input transition-colors focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[o.jsx(xq,{value:S,onChange:k,className:"max-w-fit px-3 h-[3.2rem] border-0 bg-transparent hover:bg-transparent rounded-r-none"}),o.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-border"}),o.jsx(Qe,{id:"phone",type:"tel",placeholder:"Phone number",className:"flex-1 h-[3.2rem] border-0 focus-visible:ring-0 focus-visible:ring-offset-0",value:f,onChange:O=>h(O.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Qe,{id:"password",type:x?"text":"password",placeholder:"Create a password",className:"pr-10 h-[3.2rem]",value:u,onChange:O=>d(O.target.value),required:!0}),o.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!x),children:x?o.jsx(ug,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):o.jsx(Df,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]})]})]}),n===2&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"description",children:"Description"}),o.jsx("textarea",{id:"description",placeholder:"Describe your academy",className:"mt-1 w-full h-24 px-3 py-2 text-base border border-input bg-background text-foreground placeholder:text-muted-foreground rounded-md resize-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:y,onChange:O=>g(O.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"website",children:"Website"}),o.jsx(Qe,{id:"website",type:"url",placeholder:"https://your-academy.com",className:"mt-1 h-[3.2rem]",value:m,onChange:O=>v(O.target.value),required:!0})]})]}),o.jsxs("div",{className:"pt-2",children:[n===1&&o.jsx(ne,{type:"button",onClick:z,className:"w-full h-14",children:"Next"}),n===2&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(ne,{type:"button",variant:"outline",className:"w-full h-14",onClick:()=>s(1),children:"Back"}),o.jsx(ne,{type:"submit",className:"w-full h-14",disabled:w,children:w?"Registering...":"Register"})]})]})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Already have an account?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!N&&!P&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(fn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${N?"opacity-100":"opacity-0"}`,style:{backgroundImage:N?"url('/lovable-uploads/academy.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/academy.png",alt:"",className:"hidden",onLoad:()=>C(!0),onError:()=>{R(!0),C(!0)}}),P&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/academy.png",alt:"Academy",className:"w-full h-full object-cover"})})]})})]})]})};function iHe(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var oHe="DismissableLayer",b2="dismissableLayer.update",lHe="dismissableLayer.pointerDownOutside",cHe="dismissableLayer.focusOutside",h6,oQ=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lQ=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(oQ),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),g=xt(t,E=>f(E)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),b=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=fHe(E=>{const j=E.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(E),i==null||i(E),E.defaultPrevented||l==null||l())},h),k=hHe(E=>{const j=E.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(E),i==null||i(E),E.defaultPrevented||l==null||l())},h);return iHe(E=>{b===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(h6=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),p6(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=h6)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),p6())},[d,u]),p.useEffect(()=>{const E=()=>y({});return document.addEventListener(b2,E),()=>document.removeEventListener(b2,E)},[]),o.jsx(ot.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Be(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Be(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Be(e.onPointerDownCapture,S.onPointerDownCapture)})});lQ.displayName=oHe;var uHe="DismissableLayerBranch",dHe=p.forwardRef((e,t)=>{const r=p.useContext(oQ),n=p.useRef(null),s=xt(t,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(ot.div,{...e,ref:s})});dHe.displayName=uHe;function fHe(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){cQ(lHe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function hHe(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!n.current&&cQ(cHe,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function p6(){const e=new CustomEvent(b2);document.dispatchEvent(e)}function cQ(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?xy(s,a):s.dispatchEvent(a)}var qj="focusScope.autoFocusOnMount",Wj="focusScope.autoFocusOnUnmount",m6={bubbles:!1,cancelable:!0},pHe="FocusScope",uQ=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=p.useState(null),u=Yt(s),d=Yt(a),f=p.useRef(null),h=xt(t,m=>c(m)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(w){if(y.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:hl(f.current,{select:!0})},v=function(w){if(y.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||hl(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&hl(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,y.paused]),p.useEffect(()=>{if(l){y6.add(y);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(qj,m6);l.addEventListener(qj,u),l.dispatchEvent(x),x.defaultPrevented||(mHe(bHe(dQ(l)),{select:!0}),document.activeElement===m&&hl(l))}return()=>{l.removeEventListener(qj,u),setTimeout(()=>{const x=new CustomEvent(Wj,m6);l.addEventListener(Wj,d),l.dispatchEvent(x),x.defaultPrevented||hl(m??document.body,{select:!0}),l.removeEventListener(Wj,d),y6.remove(y)},0)}}},[l,u,d,y]);const g=p.useCallback(m=>{if(!r&&!n||y.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const b=m.currentTarget,[w,_]=gHe(b);w&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&hl(w,{select:!0})):m.shiftKey&&x===w&&(m.preventDefault(),r&&hl(_,{select:!0})):x===b&&m.preventDefault()}},[r,n,y.paused]);return o.jsx(ot.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});uQ.displayName=pHe;function mHe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(hl(n,{select:t}),document.activeElement!==r)return}function gHe(e){const t=dQ(e),r=g6(t,e),n=g6(t.reverse(),e);return[r,n]}function dQ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function g6(e,t){for(const r of e)if(!yHe(r,{upTo:t}))return r}function yHe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function vHe(e){return e instanceof HTMLInputElement&&"select"in e}function hl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&vHe(e)&&t&&e.select()}}var y6=xHe();function xHe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=v6(e,t),e.unshift(t)},remove(t){var r;e=v6(e,t),(r=e[0])==null||r.resume()}}}function v6(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function bHe(e){return e.filter(t=>t.tagName!=="A")}var wHe="Portal",fQ=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=p.useState(!1);an(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?my.createPortal(o.jsx(ot.div,{...n,ref:t}),i):null});fQ.displayName=wHe;var hQ=Kw(),Vj=function(){},y_=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Vj,onWheelCapture:Vj,onTouchMoveCapture:Vj}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,y=e.noIsolation,g=e.inert,m=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,b=e.gapMode,w=Ny(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=Hw([r,t]),k=yr(yr({},w),s);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:hQ,removeScrollBar:u,shards:f,noIsolation:y,inert:g,setCallbacks:a,allowPinchZoom:!!m,lockRef:r,gapMode:b}),i?p.cloneElement(p.Children.only(l),yr(yr({},k),{ref:S})):p.createElement(x,yr({},k,{className:c,ref:S}),l))});y_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};y_.classNames={fullWidth:hu,zeroRight:fu};var w2=!1;if(typeof window<"u")try{var p0=Object.defineProperty({},"passive",{get:function(){return w2=!0,!0}});window.addEventListener("test",p0,p0),window.removeEventListener("test",p0,p0)}catch{w2=!1}var gd=w2?{passive:!1}:!1,_He=function(e){return e.tagName==="TEXTAREA"},pQ=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!_He(e)&&r[t]==="visible")},SHe=function(e){return pQ(e,"overflowY")},jHe=function(e){return pQ(e,"overflowX")},x6=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=mQ(e,n);if(s){var a=gQ(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},kHe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},EHe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},mQ=function(e,t){return e==="v"?SHe(t):jHe(t)},gQ=function(e,t){return e==="v"?kHe(t):EHe(t)},NHe=function(e,t){return e==="h"&&t==="rtl"?-1:1},CHe=function(e,t,r,n,s){var a=NHe(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var y=gQ(e,l),g=y[0],m=y[1],v=y[2],x=m-v-a*g;(g||x)&&mQ(e,l)&&(f+=x,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},m0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},b6=function(e){return[e.deltaX,e.deltaY]},w6=function(e){return e&&"current"in e?e.current:e},PHe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},AHe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},THe=0,yd=[];function OHe(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(THe++)[0],a=p.useState(Cy)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Vw([e.lockRef.current],(e.shards||[]).map(w6),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var x=m0(m),b=r.current,w="deltaX"in m?m.deltaX:b[0]-x[0],_="deltaY"in m?m.deltaY:b[1]-x[1],S,k=m.target,E=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&E==="h"&&k.type==="range")return!1;var j=x6(E,k);if(!j)return!0;if(j?S=E:(S=E==="v"?"h":"v",j=x6(E,k)),!j)return!1;if(!n.current&&"changedTouches"in m&&(w||_)&&(n.current=S),!S)return!0;var N=n.current||S;return CHe(N,v,m,N==="h"?w:_,!0)},[]),c=p.useCallback(function(m){var v=m;if(!(!yd.length||yd[yd.length-1]!==a)){var x="deltaY"in v?b6(v):m0(v),b=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&PHe(S.delta,x)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(w6).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=w.length>0?l(v,w[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=p.useCallback(function(m,v,x,b){var w={name:m,delta:v,target:x,should:b,shadowParent:$He(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=p.useCallback(function(m){r.current=m0(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,b6(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,m0(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return yd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,gd),document.addEventListener("touchmove",c,gd),document.addEventListener("touchstart",d,gd),function(){yd=yd.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,gd),document.removeEventListener("touchmove",c,gd),document.removeEventListener("touchstart",d,gd)}},[]);var y=e.removeScrollBar,g=e.inert;return p.createElement(p.Fragment,null,g?p.createElement(a,{styles:AHe(s)}):null,y?p.createElement(Jw,{gapMode:e.gapMode}):null)}function $He(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const RHe=Gw(hQ,OHe);var yQ=p.forwardRef(function(e,t){return p.createElement(y_,yr({},e,{ref:t,sideCar:RHe}))});yQ.classNames=y_.classNames;var IO="Dialog",[vQ,xQ]=la(IO),[MHe,gi]=vQ(IO),bQ=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=p.useRef(null),c=p.useRef(null),[u=!1,d]=li({prop:n,defaultProp:s,onChange:a});return o.jsx(MHe,{scope:t,triggerRef:l,contentRef:c,contentId:ri(),titleId:ri(),descriptionId:ri(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};bQ.displayName=IO;var wQ="DialogTrigger",_Q=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gi(wQ,r),a=xt(t,s.triggerRef);return o.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":FO(s.open),...n,ref:a,onClick:Be(e.onClick,s.onOpenToggle)})});_Q.displayName=wQ;var LO="DialogPortal",[IHe,SQ]=vQ(LO,{forceMount:void 0}),jQ=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=gi(LO,t);return o.jsx(IHe,{scope:t,forceMount:r,children:p.Children.map(n,i=>o.jsx(xs,{present:r||a.open,children:o.jsx(fQ,{asChild:!0,container:s,children:i})}))})};jQ.displayName=LO;var rw="DialogOverlay",kQ=p.forwardRef((e,t)=>{const r=SQ(rw,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=gi(rw,e.__scopeDialog);return a.modal?o.jsx(xs,{present:n||a.open,children:o.jsx(LHe,{...s,ref:t})}):null});kQ.displayName=rw;var LHe=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gi(rw,r);return o.jsx(yQ,{as:rc,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ot.div,{"data-state":FO(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Fu="DialogContent",EQ=p.forwardRef((e,t)=>{const r=SQ(Fu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=gi(Fu,e.__scopeDialog);return o.jsx(xs,{present:n||a.open,children:a.modal?o.jsx(DHe,{...s,ref:t}):o.jsx(FHe,{...s,ref:t})})});EQ.displayName=Fu;var DHe=p.forwardRef((e,t)=>{const r=gi(Fu,e.__scopeDialog),n=p.useRef(null),s=xt(t,r.contentRef,n);return p.useEffect(()=>{const a=n.current;if(a)return Xw(a)},[]),o.jsx(NQ,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Be(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Be(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:Be(e.onFocusOutside,a=>a.preventDefault())})}),FHe=p.forwardRef((e,t)=>{const r=gi(Fu,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return o.jsx(NQ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),NQ=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=gi(Fu,r),c=p.useRef(null),u=xt(t,c);return gO(),o.jsxs(o.Fragment,{children:[o.jsx(uQ,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(lQ,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":FO(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(UHe,{titleId:l.titleId}),o.jsx(qHe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),DO="DialogTitle",CQ=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gi(DO,r);return o.jsx(ot.h2,{id:s.titleId,...n,ref:t})});CQ.displayName=DO;var PQ="DialogDescription",AQ=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gi(PQ,r);return o.jsx(ot.p,{id:s.descriptionId,...n,ref:t})});AQ.displayName=PQ;var TQ="DialogClose",OQ=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gi(TQ,r);return o.jsx(ot.button,{type:"button",...n,ref:t,onClick:Be(e.onClick,()=>s.onOpenChange(!1))})});OQ.displayName=TQ;function FO(e){return e?"open":"closed"}var $Q="DialogTitleWarning",[BHe,RQ]=eae($Q,{contentName:Fu,titleName:DO,docsSlug:"dialog"}),UHe=({titleId:e})=>{const t=RQ($Q),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},zHe="DialogDescriptionWarning",qHe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RQ(zHe).contentName}}.`;return p.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},WHe=bQ,VHe=_Q,HHe=jQ,KHe=kQ,GHe=EQ,YHe=CQ,JHe=AQ,MQ=OQ,IQ="AlertDialog",[XHe,gGe]=la(IQ,[xQ]),Qo=xQ(),LQ=e=>{const{__scopeAlertDialog:t,...r}=e,n=Qo(t);return o.jsx(WHe,{...n,...r,modal:!0})};LQ.displayName=IQ;var QHe="AlertDialogTrigger",DQ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Qo(r);return o.jsx(VHe,{...s,...n,ref:t})});DQ.displayName=QHe;var ZHe="AlertDialogPortal",FQ=e=>{const{__scopeAlertDialog:t,...r}=e,n=Qo(t);return o.jsx(HHe,{...n,...r})};FQ.displayName=ZHe;var eKe="AlertDialogOverlay",BQ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Qo(r);return o.jsx(KHe,{...s,...n,ref:t})});BQ.displayName=eKe;var uf="AlertDialogContent",[tKe,rKe]=XHe(uf),UQ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=Qo(r),i=p.useRef(null),l=xt(t,i),c=p.useRef(null);return o.jsx(BHe,{contentName:uf,titleName:zQ,docsSlug:"alert-dialog",children:o.jsx(tKe,{scope:r,cancelRef:c,children:o.jsxs(GHe,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:Be(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(AP,{children:n}),o.jsx(sKe,{contentRef:i})]})})})});UQ.displayName=uf;var zQ="AlertDialogTitle",qQ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Qo(r);return o.jsx(YHe,{...s,...n,ref:t})});qQ.displayName=zQ;var WQ="AlertDialogDescription",VQ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Qo(r);return o.jsx(JHe,{...s,...n,ref:t})});VQ.displayName=WQ;var nKe="AlertDialogAction",HQ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Qo(r);return o.jsx(MQ,{...s,...n,ref:t})});HQ.displayName=nKe;var KQ="AlertDialogCancel",GQ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=rKe(KQ,r),a=Qo(r),i=xt(t,s);return o.jsx(MQ,{...a,...n,ref:i})});GQ.displayName=KQ;var sKe=({contentRef:e})=>{const t=`\`${uf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${uf}\` by passing a \`${WQ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${uf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},aKe=LQ,iKe=DQ,oKe=FQ,YQ=BQ,JQ=UQ,XQ=HQ,QQ=GQ,ZQ=qQ,eZ=VQ;const lKe=aKe,cKe=iKe,uKe=oKe,tZ=p.forwardRef(({className:e,...t},r)=>o.jsx(YQ,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));tZ.displayName=YQ.displayName;const rZ=p.forwardRef(({className:e,...t},r)=>o.jsxs(uKe,{children:[o.jsx(tZ,{}),o.jsx(JQ,{ref:r,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));rZ.displayName=JQ.displayName;const nZ=({className:e,...t})=>o.jsx("div",{className:le("flex flex-col space-y-2 text-center sm:text-left",e),...t});nZ.displayName="AlertDialogHeader";const sZ=({className:e,...t})=>o.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sZ.displayName="AlertDialogFooter";const aZ=p.forwardRef(({className:e,...t},r)=>o.jsx(ZQ,{ref:r,className:le("text-lg font-semibold",e),...t}));aZ.displayName=ZQ.displayName;const iZ=p.forwardRef(({className:e,...t},r)=>o.jsx(eZ,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));iZ.displayName=eZ.displayName;const oZ=p.forwardRef(({className:e,...t},r)=>o.jsx(XQ,{ref:r,className:le(sA(),e),...t}));oZ.displayName=XQ.displayName;const lZ=p.forwardRef(({className:e,...t},r)=>o.jsx(QQ,{ref:r,className:le(sA({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));lZ.displayName=QQ.displayName;const _6=()=>{const{courseId:e}=kh(),t=lr(),{user:r}=fr(),[n,s]=p.useState(null),[a,i]=p.useState(!0),[l,c]=p.useState(!1),[u,d]=p.useState({title:"",description:"",category:"",level:"",duration:"",required_skills:"",topics:"",registration_link:""}),[f,h]=p.useState(null),[y,g]=p.useState(null),m=p.useRef(null),v=!!e,x=async()=>{var j;if(r)try{const N=await Se.get(Je.ACADEMY.PROFILE);if(N.data){const C=N.data,P=ac(C,(r==null?void 0:r.id)!=null?String(r.id):void 0),R={...P,first_name:P.first_name||(r==null?void 0:r.first_name)||P.academy_name||"",is_verified:C.is_verified??!1,logo_url:P.logo_url};s(R)}}catch(N){console.error("Failed to load academy profile:",N),((j=N.response)==null?void 0:j.status)===404?(fe.error("Please set up your academy profile first"),t("/academy/profile")):fe.error("Failed to load academy profile")}finally{i(!1)}},b=async j=>{try{const{data:N,error:C}=await Kt.from("courses").select("*").eq("id",j).single();if(C)throw C;N&&(d({title:N.title||"",description:N.description||"",category:N.category||"",level:N.level||"",duration:N.duration||"",required_skills:(N.required_skills||[]).join(", "),topics:(N.topics||[]).join(", "),registration_link:N.registration_link||""}),g(N.image||null))}catch(N){console.error("Error fetching course:",N),fe.error(N.message||"Failed to load course"),t("/academy/dashboard")}};p.useEffect(()=>{x()},[r]),p.useEffect(()=>{e&&n&&b(e)},[e,n]);const w=j=>{if(j&&j[0]){const N=j[0],C=10*1024*1024;if(N.size>C){fe.error("Image size must be less than 10MB"),m.current&&(m.current.value="");return}if(!N.type.startsWith("image/")){fe.error("Please select a valid image file"),m.current&&(m.current.value="");return}h(N),g(URL.createObjectURL(N))}else h(null),g(null),m.current&&(m.current.value="")},_=async()=>{v&&e?await k():await S()},S=async()=>{var j,N,C,P;if(!n||!n.id){fe.error("Academy profile ID is missing");return}c(!0);try{const R=u.required_skills.split(",").map(A=>A.trim()).filter(A=>A),B=u.topics.split(",").map(A=>A.trim()).filter(A=>A);let z="/lovable-uploads/no_photo.png";if(f)try{const A=f.name.split(".").pop(),I=`${n.id}/${Date.now()}.${A}`,{data:te,error:$}=await Kt.storage.from("course-images").upload(I,f,{cacheControl:"3600",upsert:!1});if($)throw console.error(" Image upload error:",$),(j=$.message)!=null&&j.includes("Bucket not found")||(N=$.message)!=null&&N.includes("does not exist")?(fe.error("Storage bucket 'course-images' not found. Please contact support to set it up."),new Error("Storage bucket not configured")):(C=$.message)!=null&&C.includes("permission")||(P=$.message)!=null&&P.includes("policy")||$.statusCode===403?(fe.error("Permission denied. Please check storage bucket policies."),new Error("Storage permission denied")):(fe.error(`Failed to upload image: ${$.message||"Unknown error"}`),$);const{data:V}=Kt.storage.from("course-images").getPublicUrl(I);z=V.publicUrl}catch(A){throw console.error(" Image upload failed:",A),A}const D=n.academy_name||"",{data:O,error:U}=await Kt.from("courses").insert({title:u.title,description:u.description,category:u.category,level:u.level,duration:u.duration,provider:D,required_skills:R,topics:B,image:z,registration_link:u.registration_link,enrolled:!1,popular:!1,academy_id:n.id,is_academy_course:!0}).select().single();if(U)throw U;fe.success("Course added successfully"),t("/academy/dashboard")}catch(R){console.error("Error adding course:",R),fe.error(R.message||"Failed to add course")}finally{c(!1)}},k=async()=>{var j,N,C,P;if(!(!e||!n||!n.id)){c(!0);try{const R=u.required_skills.split(",").map(U=>U.trim()).filter(U=>U),B=u.topics.split(",").map(U=>U.trim()).filter(U=>U);let z=y||"/lovable-uploads/no_photo.png";if(f)try{const U=f.name.split(".").pop(),A=`${n.id}/${Date.now()}.${U}`,{data:I,error:te}=await Kt.storage.from("course-images").upload(A,f,{cacheControl:"3600",upsert:!1});if(te)throw console.error(" Image upload error:",te),(j=te.message)!=null&&j.includes("Bucket not found")||(N=te.message)!=null&&N.includes("does not exist")?(fe.error("Storage bucket 'course-images' not found. Please contact support to set it up."),new Error("Storage bucket not configured")):(C=te.message)!=null&&C.includes("permission")||(P=te.message)!=null&&P.includes("policy")||te.statusCode===403?(fe.error("Permission denied. Please check storage bucket policies."),new Error("Storage permission denied")):(fe.error(`Failed to upload image: ${te.message||"Unknown error"}`),te);const{data:$}=Kt.storage.from("course-images").getPublicUrl(A);z=$.publicUrl}catch(U){throw console.error(" Image upload failed:",U),U}const D=n.academy_name||"",{error:O}=await Kt.from("courses").update({title:u.title,description:u.description,category:u.category,level:u.level,duration:u.duration,required_skills:R,topics:B,image:z,provider:D,registration_link:u.registration_link}).eq("id",e);if(O)throw O;fe.success("Course updated successfully"),t("/academy/dashboard")}catch(R){console.error("Error updating course:",R),fe.error(R.message||"Failed to update course")}finally{c(!1)}}},E=async()=>{if(e)try{const{error:j}=await Kt.from("courses").delete().eq("id",e);if(j)throw j;fe.success("Course deleted successfully"),t("/academy/dashboard")}catch(j){console.error("Error deleting course:",j),fe.error(j.message||"Failed to delete course")}};return a?o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-lg",children:"Loading..."})})}):n?o.jsx(At,{children:o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:"Cover Image"}),o.jsx("div",{className:"mt-1 w-full",children:y?o.jsxs("div",{className:"relative w-full",children:[o.jsx("img",{src:y,alt:"Preview",className:"w-full h-auto max-h-96 object-contain rounded-md"}),o.jsx("button",{onClick:()=>w(null),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:o.jsx(Er,{className:"h-4 w-4"})})]}):o.jsx("div",{className:"flex justify-center px-6 pt-5 pb-6 rounded-md bg-muted/50",children:o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx(gde,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsxs("div",{className:"flex text-sm text-gray-600",children:[o.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-breneo-blue hover:text-breneo-blue/80 focus-within:outline-none",children:[o.jsx("span",{children:"Upload a file"}),o.jsx("input",{ref:m,id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:j=>w(j.target.files),accept:"image/*"})]}),o.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"title",children:"Title"}),o.jsx(Qe,{id:"title",value:u.title,onChange:j=>d({...u,title:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"description",children:"Description"}),o.jsx(ry,{id:"description",value:u.description,onChange:j=>d({...u,description:j.target.value}),className:"mt-1",rows:4})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"category",children:"Category"}),o.jsxs(So,{value:u.category,onValueChange:j=>d({...u,category:j}),children:[o.jsx(Oi,{className:"mt-1",children:o.jsx(jo,{placeholder:"Select category"})}),o.jsxs($i,{children:[o.jsx(br,{value:"programming",children:"Programming"}),o.jsx(br,{value:"design",children:"Design"}),o.jsx(br,{value:"marketing",children:"Marketing"}),o.jsx(br,{value:"business",children:"Business"}),o.jsx(br,{value:"data-science",children:"Data Science"}),o.jsx(br,{value:"cybersecurity",children:"Cybersecurity"})]})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"level",children:"Level"}),o.jsxs(So,{value:u.level,onValueChange:j=>d({...u,level:j}),children:[o.jsx(Oi,{className:"mt-1",children:o.jsx(jo,{placeholder:"Select level"})}),o.jsxs($i,{children:[o.jsx(br,{value:"beginner",children:"Beginner"}),o.jsx(br,{value:"intermediate",children:"Intermediate"}),o.jsx(br,{value:"advanced",children:"Advanced"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"skills",children:"Required Skills"}),o.jsx(Qe,{id:"skills",placeholder:"Comma separated skills",value:u.required_skills,onChange:j=>d({...u,required_skills:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"topics",children:"Topics"}),o.jsx(Qe,{id:"topics",placeholder:"Comma separated topics",value:u.topics,onChange:j=>d({...u,topics:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"duration",children:"Duration"}),o.jsx(Qe,{id:"duration",placeholder:"e.g., 8 weeks",value:u.duration,onChange:j=>d({...u,duration:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"registration_link",children:"Registration Link"}),o.jsx(Qe,{id:"registration_link",type:"url",placeholder:"https://example.com/register",value:u.registration_link,onChange:j=>d({...u,registration_link:j.target.value}),className:"mt-1"})]})]}),o.jsxs("div",{className:"flex justify-between items-center mt-6 pt-6",children:[v?o.jsxs(lKe,{children:[o.jsx(cKe,{asChild:!0,children:o.jsxs(ne,{variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(du,{className:"w-4 h-4 mr-2"}),"Delete Course"]})}),o.jsxs(rZ,{children:[o.jsxs(nZ,{children:[o.jsx(aZ,{children:"Are you sure?"}),o.jsx(iZ,{children:"This action cannot be undone. This will permanently delete the course."})]}),o.jsxs(sZ,{children:[o.jsx(lZ,{children:"Cancel"}),o.jsx(oZ,{onClick:E,children:"Continue"})]})]})]}):o.jsx("div",{}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(ne,{variant:"outline",onClick:()=>t("/academy/dashboard"),children:"Cancel"}),o.jsx(ne,{onClick:_,disabled:l||!u.title||!u.description,className:"bg-breneo-blue hover:bg-breneo-blue/90",children:l?"Saving...":v?"Save Changes":"Add Course"})]})]})]})})}):o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})})},dKe=()=>{const[e,t]=p.useState(!1),r=()=>{t(n=>!n)};return o.jsxs("div",{className:"h-screen bg-breneo-lightgray overflow-hidden",children:[o.jsx(xA,{collapsed:e,toggleSidebar:r}),o.jsx("main",{className:`h-full overflow-y-auto transition-all duration-300 ${e?"md:ml-24":"md:ml-[17rem]"} pt-24 pb-32 md:pt-24 md:pb-0 px-3 md:px-6`,children:o.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[o.jsx("h1",{className:"text-2xl font-bold mb-8 text-left",children:" "}),o.jsxs("div",{className:"prose prose-lg max-w-none space-y-6 text-gray-700 leading-relaxed",children:[o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"1.  "}),o.jsx("p",{children:"Breneo    ,         .  :"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"     ,"}),o.jsx("li",{children:"  ,"}),o.jsx("li",{children:"    ,"}),o.jsx("li",{children:"   ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"2.    "}),o.jsx("p",{children:"         ."}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"              ."}),o.jsx("li",{children:"Breneo-        ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"3.   "}),o.jsx("p",{children:"Breneo         . AI-              ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"4.   "}),o.jsx("p",{children:"   Breneo     . :"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"      ,"}),o.jsx("li",{children:"     ,"}),o.jsx("li",{children:"        ,"}),o.jsx("li",{children:"  ,    Breneo-  ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"5.  "}),o.jsx("p",{children:"Breneo-       , , ,  ,      Breneo-    .     Breneo-  ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"6.    "}),o.jsx("p",{children:"Breneo         GDPR-  .         ,   ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"7.   "}),o.jsx("p",{children:"             .         ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"8.  "}),o.jsx("p",{children:'Breneo    " ("as is") .'}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"     ,        ."}),o.jsx("li",{children:"Breneo   ,         ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"9.   "}),o.jsx("p",{children:"     .          . ,     ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"10.    "}),o.jsx("p",{children:"Breneo     ,           ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"11.  "}),o.jsx("p",{children:"    .      Breneo-  ,        ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"12.  "}),o.jsx("p",{children:"  ,   ,  :"}),o.jsxs("div",{className:"space-y-2 text-lg",children:[o.jsx("p",{children:" support@breneo.app"}),o.jsx("p",{children:" www.breneo.app"})]})]})]}),o.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200 text-center text-gray-500",children:o.jsxs("p",{children:[" : ",new Date().toLocaleDateString("ka-GE")]})})]})})]})};var BO="Collapsible",[fKe,cZ]=la(BO),[hKe,UO]=fKe(BO),uZ=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:i,...l}=e,[c=!1,u]=li({prop:n,defaultProp:s,onChange:i});return o.jsx(hKe,{scope:r,disabled:a,contentId:ri(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:o.jsx(ot.div,{"data-state":qO(c),"data-disabled":a?"":void 0,...l,ref:t})})});uZ.displayName=BO;var dZ="CollapsibleTrigger",fZ=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=UO(dZ,r);return o.jsx(ot.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":qO(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Be(e.onClick,s.onOpenToggle)})});fZ.displayName=dZ;var zO="CollapsibleContent",hZ=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=UO(zO,e.__scopeCollapsible);return o.jsx(xs,{present:r||s.open,children:({present:a})=>o.jsx(pKe,{...n,ref:t,present:a})})});hZ.displayName=zO;var pKe=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,i=UO(zO,r),[l,c]=p.useState(n),u=p.useRef(null),d=xt(t,u),f=p.useRef(0),h=f.current,y=p.useRef(0),g=y.current,m=i.open||l,v=p.useRef(m),x=p.useRef();return p.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),an(()=>{const b=u.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();f.current=w.height,y.current=w.width,v.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),c(n)}},[i.open,n]),o.jsx(ot.div,{"data-state":qO(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!m,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:m&&s})});function qO(e){return e?"open":"closed"}var mKe=uZ,gKe=fZ,yKe=hZ,Zo="Accordion",vKe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[WO,xKe,bKe]=Yy(Zo),[v_,yGe]=la(Zo,[bKe,cZ]),VO=cZ(),pZ=M.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,a=n;return o.jsx(WO.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?o.jsx(jKe,{...a,ref:t}):o.jsx(SKe,{...s,ref:t})})});pZ.displayName=Zo;var[mZ,wKe]=v_(Zo),[gZ,_Ke]=v_(Zo,{collapsible:!1}),SKe=M.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...i}=e,[l,c]=li({prop:r,defaultProp:n,onChange:s});return o.jsx(mZ,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:M.useCallback(()=>a&&c(""),[a,c]),children:o.jsx(gZ,{scope:e.__scopeAccordion,collapsible:a,children:o.jsx(yZ,{...i,ref:t})})})}),jKe=M.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[i=[],l]=li({prop:r,defaultProp:n,onChange:s}),c=M.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=M.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return o.jsx(mZ,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:o.jsx(gZ,{scope:e.__scopeAccordion,collapsible:!0,children:o.jsx(yZ,{...a,ref:t})})})}),[kKe,x_]=v_(Zo),yZ=M.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:a="vertical",...i}=e,l=M.useRef(null),c=xt(l,t),u=xKe(r),f=Th(s)==="ltr",h=Be(e.onKeyDown,y=>{var j;if(!vKe.includes(y.key))return;const g=y.target,m=u().filter(N=>{var C;return!((C=N.ref.current)!=null&&C.disabled)}),v=m.findIndex(N=>N.ref.current===g),x=m.length;if(v===-1)return;y.preventDefault();let b=v;const w=0,_=x-1,S=()=>{b=v+1,b>_&&(b=w)},k=()=>{b=v-1,b<w&&(b=_)};switch(y.key){case"Home":b=w;break;case"End":b=_;break;case"ArrowRight":a==="horizontal"&&(f?S():k());break;case"ArrowDown":a==="vertical"&&S();break;case"ArrowLeft":a==="horizontal"&&(f?k():S());break;case"ArrowUp":a==="vertical"&&k();break}const E=b%x;(j=m[E].ref.current)==null||j.focus()});return o.jsx(kKe,{scope:r,disabled:n,direction:s,orientation:a,children:o.jsx(WO.Slot,{scope:r,children:o.jsx(ot.div,{...i,"data-orientation":a,ref:c,onKeyDown:n?void 0:h})})})}),nw="AccordionItem",[EKe,HO]=v_(nw),vZ=M.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,a=x_(nw,r),i=wKe(nw,r),l=VO(r),c=ri(),u=n&&i.value.includes(n)||!1,d=a.disabled||e.disabled;return o.jsx(EKe,{scope:r,open:u,disabled:d,triggerId:c,children:o.jsx(mKe,{"data-orientation":a.orientation,"data-state":jZ(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});vZ.displayName=nw;var xZ="AccordionHeader",bZ=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=x_(Zo,r),a=HO(xZ,r);return o.jsx(ot.h3,{"data-orientation":s.orientation,"data-state":jZ(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});bZ.displayName=xZ;var _2="AccordionTrigger",wZ=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=x_(Zo,r),a=HO(_2,r),i=_Ke(_2,r),l=VO(r);return o.jsx(WO.ItemSlot,{scope:r,children:o.jsx(gKe,{"aria-disabled":a.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...n,ref:t})})});wZ.displayName=_2;var _Z="AccordionContent",SZ=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=x_(Zo,r),a=HO(_Z,r),i=VO(r);return o.jsx(yKe,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});SZ.displayName=_Z;function jZ(e){return e?"open":"closed"}var NKe=pZ,CKe=vZ,PKe=bZ,kZ=wZ,EZ=SZ;const AKe=NKe,NZ=p.forwardRef(({className:e,...t},r)=>o.jsx(CKe,{ref:r,className:le("border-b",e),...t}));NZ.displayName="AccordionItem";const CZ=p.forwardRef(({className:e,children:t,...r},n)=>o.jsx(PKe,{className:"flex",children:o.jsxs(kZ,{ref:n,className:le("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,o.jsx(Do,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));CZ.displayName=kZ.displayName;const PZ=p.forwardRef(({className:e,children:t,...r},n)=>o.jsx(EZ,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:o.jsx("div",{className:le("pb-4 pt-0",e),children:t})}));PZ.displayName=EZ.displayName;const TKe=()=>{const[e,t]=p.useState(!1),[r,n]=p.useState(""),s=()=>{t(l=>!l)},i=[{title:"Getting Started",icon:Ml,questions:[{q:"  Breneo- ?",a:'  ,    .  ""     .  ,   ,      .'},{q:"  ?",a:' ,     -  ,   "Profile".      ,      .'},{q:"   ?",a:"  -    ,        .   ,       ."}]},{title:"Account & Profile",icon:Z9,questions:[{q:"  ?",a:'   Settings  ( Settings   ).   "Change Email" .     .'},{q:"  ?",a:'  ,    "Forgot Password" .        .'},{q:"  ?",a:'   Settings    "Account Settings" .   "Delete Account" . , ,    .'}]},{title:"Jobs & Career",icon:rn,questions:[{q:"  ?",a:'   "Jobs" .      , ,     .      ,     .'},{q:"   ?",a:' ,     .      "Apply Now" .      .'},{q:"   ?",a:' ,      "Save" .       "Saved Jobs" .'}]},{title:"Settings & Customization",icon:zw,questions:[{q:"   ?",a:"    Settings .    ,  (/),    ."},{q:"  ?",a:'   Settings    "Notifications" .      .'},{q:"   ?",a:"  ,         .      ."}]}].map(l=>({...l,questions:l.questions.filter(c=>c.q.toLowerCase().includes(r.toLowerCase())||c.a.toLowerCase().includes(r.toLowerCase()))}));return o.jsxs("div",{className:"h-screen bg-breneo-lightgray overflow-hidden",children:[o.jsx(xA,{collapsed:e,toggleSidebar:s}),o.jsx("main",{className:`h-full overflow-y-auto transition-all duration-300 ${e?"md:ml-24":"md:ml-[17rem]"} pt-24 pb-32 md:pt-24 md:pb-0 px-3 md:px-6`,children:o.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Help Center"}),o.jsx("p",{className:"text-gray-600",children:"     "})]}),o.jsxs("div",{className:"relative mb-8",children:[o.jsx(Fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),o.jsx(Qe,{type:"text",placeholder:"  ...",value:r,onChange:l=>n(l.target.value),className:"pl-10 pr-4 py-6 text-lg"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[o.jsx(je,{className:"hover:shadow-soft transition-shadow cursor-pointer",children:o.jsxs(gt,{className:"pb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:o.jsx(Pu,{className:"text-breneo-blue",size:24})}),o.jsx(Nt,{className:"text-base",children:"Email Support"}),o.jsx(Zr,{children:"support@breneo.app"})]})}),o.jsx(je,{className:"hover:shadow-soft transition-shadow cursor-pointer",children:o.jsxs(gt,{className:"pb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:o.jsx(dg,{className:"text-breneo-blue",size:24})}),o.jsx(Nt,{className:"text-base",children:"Phone Support"}),o.jsx(Zr,{children:"Available 24/7"})]})}),o.jsx(je,{className:"hover:shadow-soft transition-shadow cursor-pointer",children:o.jsxs(gt,{className:"pb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:o.jsx(bde,{className:"text-breneo-blue",size:24})}),o.jsx(Nt,{className:"text-base",children:"Live Chat"}),o.jsx(Zr,{children:"Get instant help"})]})})]}),o.jsx("div",{className:"space-y-6",children:i.map((l,c)=>l.questions.length>0&&o.jsxs(je,{className:"bg-white",children:[o.jsx(gt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-breneo-blue/10 rounded-3xl flex items-center justify-center",children:o.jsx(l.icon,{className:"text-breneo-blue",size:20})}),o.jsx(Nt,{children:l.title})]})}),o.jsx(Ee,{children:o.jsx(AKe,{type:"multiple",className:"w-full",children:l.questions.map((u,d)=>o.jsxs(NZ,{value:`${c}-${d}`,className:"border-gray-200",children:[o.jsx(CZ,{className:"text-left font-semibold hover:no-underline",children:u.q}),o.jsx(PZ,{className:"text-gray-600 leading-relaxed",children:u.a})]},d))})})]},c))}),o.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:o.jsx(je,{className:"bg-gradient-to-r from-breneo-blue/5 to-breneo-blue/10",children:o.jsxs(Ee,{className:"py-8 text-center",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"   ?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"     "}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("a",{href:"mailto:support@breneo.app",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-breneo-blue text-white rounded-3xl hover:bg-breneo-blue/90 transition-colors",children:[o.jsx(Pu,{size:18}),"Email Support"]}),o.jsxs("a",{href:"tel:+995500992990",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white border border-breneo-blue text-breneo-blue rounded-3xl hover:bg-breneo-blue/5 transition-colors",children:[o.jsx(dg,{size:18}),"Call Us"]})]})]})})})]})})]})};function OKe(){const e=[{name:"Free",price:"$0",period:"forever",features:["Access to basic courses","Limited skill tests","Basic profile features","Community support"],popular:!1},{name:"Pro",price:"$9.99",period:"per month",features:["All free features","Unlimited courses","Unlimited skill tests","Advanced profile features","Priority support","Certificates"],popular:!0},{name:"Enterprise",price:"Custom",period:"contact us",features:["All Pro features","Custom integrations","Dedicated support","Team management","Analytics dashboard","Custom branding"],popular:!1}];return o.jsx(At,{children:o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Choose Your Plan"}),o.jsx("p",{className:"text-muted-foreground text-lg",children:"Select the plan that best fits your learning journey"})]}),o.jsx("div",{className:"grid gap-6 md:grid-cols-3 mt-12",children:e.map(t=>o.jsxs(je,{className:`relative ${t.popular?"border-primary shadow-lg scale-105":"border-border"}`,children:[t.popular&&o.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:o.jsx("span",{className:"bg-primary text-primary-foreground px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"})}),o.jsxs(gt,{children:[o.jsx(Nt,{className:"text-2xl",children:t.name}),o.jsxs("div",{className:"mt-4",children:[o.jsx("span",{className:"text-4xl font-bold",children:t.price}),t.period!=="forever"&&t.period!=="contact us"&&o.jsxs("span",{className:"text-muted-foreground",children:["/",t.period]}),t.period==="contact us"&&o.jsx("span",{className:"text-muted-foreground block text-sm mt-1",children:t.period})]}),o.jsxs(Zr,{className:"mt-4",children:[t.name==="Free"&&"Perfect for getting started",t.name==="Pro"&&"Best for serious learners",t.name==="Enterprise"&&"For teams and organizations"]})]}),o.jsxs(Ee,{children:[o.jsx("ul",{className:"space-y-3 mb-6",children:t.features.map((r,n)=>o.jsxs("li",{className:"flex items-start",children:[o.jsx(Fw,{className:"h-5 w-5 text-primary mr-2 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:r})]},n))}),o.jsx(ne,{className:"w-full",variant:t.popular?"default":"outline",children:t.name==="Enterprise"?"Contact Sales":"Get Started"})]})]},t.name))})]})})}const $Ke=()=>{const e=zs(),{user:t,loading:r}=fr(),n=hi(),[s,a]=p.useState(!1),[i,l]=p.useState(!1),[c,u]=p.useState(!1),d=p.useCallback(f=>new Promise((h,y)=>{const g=new Image;g.onload=()=>h(),g.onerror=()=>y(new Error(`Failed to load image: ${f}`)),g.src=f}),[]);return p.useEffect(()=>{(async()=>{try{await Promise.all([d("/lovable-uploads/Breneo-logo.png"),d("/lovable-uploads/Breneo-logo-dark.png"),d("/lovable-uploads/full-shot-student-library.jpg")])}catch(h){console.warn("Some images failed to preload:",h),u(!0)}})()},[d]),p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 relative",children:[!i&&!c&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse z-0"}),o.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:i?"url('/lovable-uploads/full-shot-student-library.jpg')":"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:i?1:0,transition:"opacity 0.5s ease-in-out"}}),o.jsx("img",{src:"/lovable-uploads/full-shot-student-library.jpg",alt:"",className:"hidden",onLoad:()=>l(!0),onError:()=>{u(!0),l(!0)}}),c&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] z-0"}),o.jsx("div",{className:"z-10 relative",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg p-8 text-center max-w-md mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[!s&&!c&&o.jsx("div",{className:"h-10 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center mx-auto",children:o.jsx(fn,{className:"h-6 w-6 text-gray-400 dark:text-gray-600"})}),o.jsx(_n,{className:`h-12 md:h-10 mx-auto block transition-opacity duration-300 ${s?"opacity-100":"opacity-0"}`,onLoad:()=>a(!0),onError:()=>{u(!0),a(!0)}}),c&&o.jsx("div",{className:"h-10 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center mx-auto",children:o.jsx("span",{className:"text-sm text-muted-foreground font-semibold",children:"Breneo"})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"}),o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n.errors.pageNotFound}),o.jsx("p",{className:"text-muted-foreground mb-6",children:n.errors.pageNotFoundDescription})]}),o.jsxs("div",{className:"space-y-4",children:[!r&&t?o.jsxs(Fr,{to:t.user_type==="academy"||localStorage.getItem("userRole")==="academy"?"/academy/dashboard":"/dashboard",className:"inline-block bg-primary text-primary-foreground px-6 py-3 rounded-3xl font-medium hover:bg-primary/90 transition-colors",children:[n.common.view," ",n.nav.home]}):o.jsx(Fr,{to:"/auth/login",className:"inline-block bg-primary text-primary-foreground px-6 py-3 rounded-3xl font-medium hover:bg-primary/90 transition-colors",children:n.auth.login}),!r&&!t&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Fr,{to:"/auth/login",className:"hover:text-primary transition-colors",children:n.auth.login}),o.jsx("span",{className:"mx-2",children:""}),o.jsx(Fr,{to:"/auth/signup",className:"hover:text-primary transition-colors",children:n.auth.signup})]})]})]})})]})},RKe=()=>{const e=hi();return o.jsx(At,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-12rem)]",children:o.jsxs("div",{className:"text-center px-4",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-calender-front-color.png",alt:"Notebook",className:"h-40 w-40 mx-auto mb-6"}),o.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:e.webinars.comingsoon}),o.jsx("p",{className:"text-m text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:e.webinars.comingsoondescription})]})})})},mr=(e,t)=>e.startsWith("/auth")||e==="/"?o.jsx(ks,{path:e,element:t},e):o.jsxs(M.Fragment,{children:[o.jsx(ks,{path:`/en${e}`,element:t}),o.jsx(ks,{path:`/ka${e}`,element:t}),o.jsx(ks,{path:e,element:t})]},e),MKe=()=>o.jsxs(nce,{children:[o.jsx(ks,{path:"/",element:o.jsx(h4,{})}),o.jsx(ks,{path:"/auth/login",element:o.jsx(h4,{})}),o.jsx(ks,{path:"/auth/signup",element:o.jsx(ype,{})}),o.jsx(ks,{path:"/auth/reset-password",element:o.jsx(vpe,{})}),o.jsx(ks,{path:"/email-verification",element:o.jsx(xpe,{})}),o.jsx(ks,{path:"/email-confirmed",element:o.jsx(wpe,{})}),o.jsx(ks,{path:"/auth",element:o.jsx($0,{to:"/auth/login",replace:!0})}),mr("/home",o.jsx(pr,{requiredRole:"user",children:o.jsx(aI,{})})),mr("/dashboard",o.jsx(pr,{requiredRole:"user",children:o.jsx(aI,{})})),mr("/profile",o.jsx(pr,{requiredRole:"user",children:o.jsx(o7e,{})})),mr("/saved",o.jsx(pr,{requiredRole:"user",children:o.jsx(l7e,{})})),mr("/settings",o.jsx(pr,{requiredRole:"user",children:o.jsx(j9e,{})})),mr("/notifications",o.jsx(pr,{requiredRole:"user",children:o.jsx(FVe,{})})),mr("/interests",o.jsx(pr,{requiredRole:"user",children:o.jsx(AVe,{})})),mr("/skill-test",o.jsx(pr,{requiredRole:"user",children:o.jsx(xVe,{})})),mr("/skill-path/:skillName",o.jsx(pr,{requiredRole:"user",children:o.jsx(CVe,{})})),mr("/skill-path",o.jsx(pr,{requiredRole:"user",children:o.jsx(SVe,{})})),mr("/jobs",o.jsx(pr,{requiredRole:"user",children:o.jsx(wze,{})})),mr("/jobs/search",o.jsx(pr,{requiredRole:"user",children:o.jsx(Sze,{})})),mr("/jobs/:jobId",o.jsx(pr,{requiredRole:"user",children:o.jsx(qWe,{})})),mr("/jobs/company/:companyName",o.jsx(pr,{requiredRole:"user",children:o.jsx(XWe,{})})),mr("/courses",o.jsx(pr,{requiredRole:"user",children:o.jsx(aVe,{})})),mr("/course/:courseId",o.jsx(pr,{requiredRole:"user",children:o.jsx(iVe,{})})),mr("/webinars",o.jsx(pr,{requiredRole:"user",children:o.jsx(RKe,{})})),o.jsx(ks,{path:"/academy/register",element:o.jsx(aHe,{})}),mr("/academy/home",o.jsx(pr,{requiredRole:"academy",children:o.jsx(f6,{})})),mr("/academy/dashboard",o.jsx(pr,{requiredRole:"academy",children:o.jsx(f6,{})})),mr("/academy/courses",o.jsx(pr,{requiredRole:"academy",children:o.jsx(zVe,{})})),mr("/academy/profile",o.jsx(pr,{requiredRole:"academy",children:o.jsx(YVe,{})})),mr("/academy/settings",o.jsx(pr,{requiredRole:"academy",children:o.jsx(JVe,{})})),mr("/academy/courses/add",o.jsx(pr,{requiredRole:"academy",children:o.jsx(_6,{})})),mr("/academy/courses/edit/:courseId",o.jsx(pr,{requiredRole:"academy",children:o.jsx(_6,{})})),mr("/academy/:academySlug",o.jsx(pr,{children:o.jsx(sHe,{})})),mr("/terms-of-use",o.jsx(pr,{children:o.jsx(dKe,{})})),mr("/help",o.jsx(pr,{children:o.jsx(TKe,{})})),mr("/subscription",o.jsx(pr,{children:o.jsx(OKe,{})})),o.jsx(ks,{path:"*",element:o.jsx($Ke,{})})]}),IKe=new Qoe,LKe=()=>o.jsx(nle,{client:IKe,children:o.jsxs(Ioe,{children:[o.jsx(Qse,{position:"top-right",richColors:!0,closeButton:!0}),o.jsx(dce,{children:o.jsx(Que,{children:o.jsx(Xue,{children:o.jsx(Kue,{children:o.jsx(MKe,{})})})})})]})});Hj.createRoot(document.getElementById("root")).render(o.jsx(M.StrictMode,{children:o.jsx(jse,{apiKey:"phc_heJ8MRT32luP8nFytb5ZIhQrsWepHqsCZBUjUegWais",options:{api_host:"https://eu.i.posthog.com",defaults:"2025-05-24",capture_exceptions:!0,debug:!1},children:o.jsx(are,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:o.jsx("div",{suppressHydrationWarning:!0,children:o.jsx(LKe,{})})})})}));
